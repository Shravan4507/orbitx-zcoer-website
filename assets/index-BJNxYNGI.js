function UD(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();var Bg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function M2(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Mv={exports:{}},T1={};var A4;function VD(){if(A4)return T1;A4=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,i,s){var o=null;if(s!==void 0&&(o=""+s),i.key!==void 0&&(o=""+i.key),"key"in i){s={};for(var u in i)u!=="key"&&(s[u]=i[u])}else s=i;return i=s.ref,{$$typeof:n,type:r,key:o,ref:i!==void 0?i:null,props:s}}return T1.Fragment=e,T1.jsx=t,T1.jsxs=t,T1}var S4;function zD(){return S4||(S4=1,Mv.exports=VD()),Mv.exports}var m=zD(),Lv={exports:{}},wr={};var T4;function HD(){if(T4)return wr;T4=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),o=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),A=Symbol.iterator;function E(xe){return xe===null||typeof xe!="object"?null:(xe=A&&xe[A]||xe["@@iterator"],typeof xe=="function"?xe:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,M={};function j(xe,H,J){this.props=xe,this.context=H,this.refs=M,this.updater=J||I}j.prototype.isReactComponent={},j.prototype.setState=function(xe,H){if(typeof xe!="object"&&typeof xe!="function"&&xe!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,xe,H,"setState")},j.prototype.forceUpdate=function(xe){this.updater.enqueueForceUpdate(this,xe,"forceUpdate")};function W(){}W.prototype=j.prototype;function k(xe,H,J){this.props=xe,this.context=H,this.refs=M,this.updater=J||I}var G=k.prototype=new W;G.constructor=k,C(G,j.prototype),G.isPureReactComponent=!0;var ce=Array.isArray;function re(){}var F={H:null,A:null,T:null,S:null},B=Object.prototype.hasOwnProperty;function L(xe,H,J){var Z=J.ref;return{$$typeof:n,type:xe,key:H,ref:Z!==void 0?Z:null,props:J}}function Q(xe,H){return L(xe.type,H,xe.props)}function U(xe){return typeof xe=="object"&&xe!==null&&xe.$$typeof===n}function q(xe){var H={"=":"=0",":":"=2"};return"$"+xe.replace(/[=:]/g,function(J){return H[J]})}var Y=/\/+/g;function ne(xe,H){return typeof xe=="object"&&xe!==null&&xe.key!=null?q(""+xe.key):H.toString(36)}function pe(xe){switch(xe.status){case"fulfilled":return xe.value;case"rejected":throw xe.reason;default:switch(typeof xe.status=="string"?xe.then(re,re):(xe.status="pending",xe.then(function(H){xe.status==="pending"&&(xe.status="fulfilled",xe.value=H)},function(H){xe.status==="pending"&&(xe.status="rejected",xe.reason=H)})),xe.status){case"fulfilled":return xe.value;case"rejected":throw xe.reason}}throw xe}function Ae(xe,H,J,Z,oe){var de=typeof xe;(de==="undefined"||de==="boolean")&&(xe=null);var Me=!1;if(xe===null)Me=!0;else switch(de){case"bigint":case"string":case"number":Me=!0;break;case"object":switch(xe.$$typeof){case n:case e:Me=!0;break;case x:return Me=xe._init,Ae(Me(xe._payload),H,J,Z,oe)}}if(Me)return oe=oe(xe),Me=Z===""?"."+ne(xe,0):Z,ce(oe)?(J="",Me!=null&&(J=Me.replace(Y,"$&/")+"/"),Ae(oe,H,J,"",function(Ie){return Ie})):oe!=null&&(U(oe)&&(oe=Q(oe,J+(oe.key==null||xe&&xe.key===oe.key?"":(""+oe.key).replace(Y,"$&/")+"/")+Me)),H.push(oe)),1;Me=0;var Ue=Z===""?".":Z+":";if(ce(xe))for(var Ve=0;Ve<xe.length;Ve++)Z=xe[Ve],de=Ue+ne(Z,Ve),Me+=Ae(Z,H,J,de,oe);else if(Ve=E(xe),typeof Ve=="function")for(xe=Ve.call(xe),Ve=0;!(Z=xe.next()).done;)Z=Z.value,de=Ue+ne(Z,Ve++),Me+=Ae(Z,H,J,de,oe);else if(de==="object"){if(typeof xe.then=="function")return Ae(pe(xe),H,J,Z,oe);throw H=String(xe),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(xe).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return Me}function ve(xe,H,J){if(xe==null)return xe;var Z=[],oe=0;return Ae(xe,Z,"","",function(de){return H.call(J,de,oe++)}),Z}function Re(xe){if(xe._status===-1){var H=xe._result;H=H(),H.then(function(J){(xe._status===0||xe._status===-1)&&(xe._status=1,xe._result=J)},function(J){(xe._status===0||xe._status===-1)&&(xe._status=2,xe._result=J)}),xe._status===-1&&(xe._status=0,xe._result=H)}if(xe._status===1)return xe._result.default;throw xe._result}var He=typeof reportError=="function"?reportError:function(xe){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof xe=="object"&&xe!==null&&typeof xe.message=="string"?String(xe.message):String(xe),error:xe});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",xe);return}console.error(xe)},ze={map:ve,forEach:function(xe,H,J){ve(xe,function(){H.apply(this,arguments)},J)},count:function(xe){var H=0;return ve(xe,function(){H++}),H},toArray:function(xe){return ve(xe,function(H){return H})||[]},only:function(xe){if(!U(xe))throw Error("React.Children.only expected to receive a single React element child.");return xe}};return wr.Activity=w,wr.Children=ze,wr.Component=j,wr.Fragment=t,wr.Profiler=i,wr.PureComponent=k,wr.StrictMode=r,wr.Suspense=f,wr.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F,wr.__COMPILER_RUNTIME={__proto__:null,c:function(xe){return F.H.useMemoCache(xe)}},wr.cache=function(xe){return function(){return xe.apply(null,arguments)}},wr.cacheSignal=function(){return null},wr.cloneElement=function(xe,H,J){if(xe==null)throw Error("The argument must be a React element, but you passed "+xe+".");var Z=C({},xe.props),oe=xe.key;if(H!=null)for(de in H.key!==void 0&&(oe=""+H.key),H)!B.call(H,de)||de==="key"||de==="__self"||de==="__source"||de==="ref"&&H.ref===void 0||(Z[de]=H[de]);var de=arguments.length-2;if(de===1)Z.children=J;else if(1<de){for(var Me=Array(de),Ue=0;Ue<de;Ue++)Me[Ue]=arguments[Ue+2];Z.children=Me}return L(xe.type,oe,Z)},wr.createContext=function(xe){return xe={$$typeof:o,_currentValue:xe,_currentValue2:xe,_threadCount:0,Provider:null,Consumer:null},xe.Provider=xe,xe.Consumer={$$typeof:s,_context:xe},xe},wr.createElement=function(xe,H,J){var Z,oe={},de=null;if(H!=null)for(Z in H.key!==void 0&&(de=""+H.key),H)B.call(H,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(oe[Z]=H[Z]);var Me=arguments.length-2;if(Me===1)oe.children=J;else if(1<Me){for(var Ue=Array(Me),Ve=0;Ve<Me;Ve++)Ue[Ve]=arguments[Ve+2];oe.children=Ue}if(xe&&xe.defaultProps)for(Z in Me=xe.defaultProps,Me)oe[Z]===void 0&&(oe[Z]=Me[Z]);return L(xe,de,oe)},wr.createRef=function(){return{current:null}},wr.forwardRef=function(xe){return{$$typeof:u,render:xe}},wr.isValidElement=U,wr.lazy=function(xe){return{$$typeof:x,_payload:{_status:-1,_result:xe},_init:Re}},wr.memo=function(xe,H){return{$$typeof:d,type:xe,compare:H===void 0?null:H}},wr.startTransition=function(xe){var H=F.T,J={};F.T=J;try{var Z=xe(),oe=F.S;oe!==null&&oe(J,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(re,He)}catch(de){He(de)}finally{H!==null&&J.types!==null&&(H.types=J.types),F.T=H}},wr.unstable_useCacheRefresh=function(){return F.H.useCacheRefresh()},wr.use=function(xe){return F.H.use(xe)},wr.useActionState=function(xe,H,J){return F.H.useActionState(xe,H,J)},wr.useCallback=function(xe,H){return F.H.useCallback(xe,H)},wr.useContext=function(xe){return F.H.useContext(xe)},wr.useDebugValue=function(){},wr.useDeferredValue=function(xe,H){return F.H.useDeferredValue(xe,H)},wr.useEffect=function(xe,H){return F.H.useEffect(xe,H)},wr.useEffectEvent=function(xe){return F.H.useEffectEvent(xe)},wr.useId=function(){return F.H.useId()},wr.useImperativeHandle=function(xe,H,J){return F.H.useImperativeHandle(xe,H,J)},wr.useInsertionEffect=function(xe,H){return F.H.useInsertionEffect(xe,H)},wr.useLayoutEffect=function(xe,H){return F.H.useLayoutEffect(xe,H)},wr.useMemo=function(xe,H){return F.H.useMemo(xe,H)},wr.useOptimistic=function(xe,H){return F.H.useOptimistic(xe,H)},wr.useReducer=function(xe,H,J){return F.H.useReducer(xe,H,J)},wr.useRef=function(xe){return F.H.useRef(xe)},wr.useState=function(xe){return F.H.useState(xe)},wr.useSyncExternalStore=function(xe,H,J){return F.H.useSyncExternalStore(xe,H,J)},wr.useTransition=function(){return F.H.useTransition()},wr.version="19.2.3",wr}var N4;function pw(){return N4||(N4=1,Lv.exports=HD()),Lv.exports}var ae=pw();const yp=M2(ae);var kv={exports:{}},N1={},Pv={exports:{}},jv={};var C4;function qD(){return C4||(C4=1,(function(n){function e(Ae,ve){var Re=Ae.length;Ae.push(ve);e:for(;0<Re;){var He=Re-1>>>1,ze=Ae[He];if(0<i(ze,ve))Ae[He]=ve,Ae[Re]=ze,Re=He;else break e}}function t(Ae){return Ae.length===0?null:Ae[0]}function r(Ae){if(Ae.length===0)return null;var ve=Ae[0],Re=Ae.pop();if(Re!==ve){Ae[0]=Re;e:for(var He=0,ze=Ae.length,xe=ze>>>1;He<xe;){var H=2*(He+1)-1,J=Ae[H],Z=H+1,oe=Ae[Z];if(0>i(J,Re))Z<ze&&0>i(oe,J)?(Ae[He]=oe,Ae[Z]=Re,He=Z):(Ae[He]=J,Ae[H]=Re,He=H);else if(Z<ze&&0>i(oe,Re))Ae[He]=oe,Ae[Z]=Re,He=Z;else break e}}return ve}function i(Ae,ve){var Re=Ae.sortIndex-ve.sortIndex;return Re!==0?Re:Ae.id-ve.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,u=o.now();n.unstable_now=function(){return o.now()-u}}var f=[],d=[],x=1,w=null,A=3,E=!1,I=!1,C=!1,M=!1,j=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function G(Ae){for(var ve=t(d);ve!==null;){if(ve.callback===null)r(d);else if(ve.startTime<=Ae)r(d),ve.sortIndex=ve.expirationTime,e(f,ve);else break;ve=t(d)}}function ce(Ae){if(C=!1,G(Ae),!I)if(t(f)!==null)I=!0,re||(re=!0,q());else{var ve=t(d);ve!==null&&pe(ce,ve.startTime-Ae)}}var re=!1,F=-1,B=5,L=-1;function Q(){return M?!0:!(n.unstable_now()-L<B)}function U(){if(M=!1,re){var Ae=n.unstable_now();L=Ae;var ve=!0;try{e:{I=!1,C&&(C=!1,W(F),F=-1),E=!0;var Re=A;try{t:{for(G(Ae),w=t(f);w!==null&&!(w.expirationTime>Ae&&Q());){var He=w.callback;if(typeof He=="function"){w.callback=null,A=w.priorityLevel;var ze=He(w.expirationTime<=Ae);if(Ae=n.unstable_now(),typeof ze=="function"){w.callback=ze,G(Ae),ve=!0;break t}w===t(f)&&r(f),G(Ae)}else r(f);w=t(f)}if(w!==null)ve=!0;else{var xe=t(d);xe!==null&&pe(ce,xe.startTime-Ae),ve=!1}}break e}finally{w=null,A=Re,E=!1}ve=void 0}}finally{ve?q():re=!1}}}var q;if(typeof k=="function")q=function(){k(U)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,ne=Y.port2;Y.port1.onmessage=U,q=function(){ne.postMessage(null)}}else q=function(){j(U,0)};function pe(Ae,ve){F=j(function(){Ae(n.unstable_now())},ve)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Ae){Ae.callback=null},n.unstable_forceFrameRate=function(Ae){0>Ae||125<Ae?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<Ae?Math.floor(1e3/Ae):5},n.unstable_getCurrentPriorityLevel=function(){return A},n.unstable_next=function(Ae){switch(A){case 1:case 2:case 3:var ve=3;break;default:ve=A}var Re=A;A=ve;try{return Ae()}finally{A=Re}},n.unstable_requestPaint=function(){M=!0},n.unstable_runWithPriority=function(Ae,ve){switch(Ae){case 1:case 2:case 3:case 4:case 5:break;default:Ae=3}var Re=A;A=Ae;try{return ve()}finally{A=Re}},n.unstable_scheduleCallback=function(Ae,ve,Re){var He=n.unstable_now();switch(typeof Re=="object"&&Re!==null?(Re=Re.delay,Re=typeof Re=="number"&&0<Re?He+Re:He):Re=He,Ae){case 1:var ze=-1;break;case 2:ze=250;break;case 5:ze=1073741823;break;case 4:ze=1e4;break;default:ze=5e3}return ze=Re+ze,Ae={id:x++,callback:ve,priorityLevel:Ae,startTime:Re,expirationTime:ze,sortIndex:-1},Re>He?(Ae.sortIndex=Re,e(d,Ae),t(f)===null&&Ae===t(d)&&(C?(W(F),F=-1):C=!0,pe(ce,Re-He))):(Ae.sortIndex=ze,e(f,Ae),I||E||(I=!0,re||(re=!0,q()))),Ae},n.unstable_shouldYield=Q,n.unstable_wrapCallback=function(Ae){var ve=A;return function(){var Re=A;A=ve;try{return Ae.apply(this,arguments)}finally{A=Re}}}})(jv)),jv}var I4;function GD(){return I4||(I4=1,Pv.exports=qD()),Pv.exports}var Fv={exports:{}},Ao={};var R4;function WD(){if(R4)return Ao;R4=1;var n=pw();function e(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)d+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(f,d,x){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:w==null?null:""+w,children:f,containerInfo:d,implementation:x}}var o=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Ao.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ao.createPortal=function(f,d){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return s(f,d,null,x)},Ao.flushSync=function(f){var d=o.T,x=r.p;try{if(o.T=null,r.p=2,f)return f()}finally{o.T=d,r.p=x,r.d.f()}},Ao.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(f,d))},Ao.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},Ao.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var x=d.as,w=u(x,d.crossOrigin),A=typeof d.integrity=="string"?d.integrity:void 0,E=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;x==="style"?r.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:w,integrity:A,fetchPriority:E}):x==="script"&&r.d.X(f,{crossOrigin:w,integrity:A,fetchPriority:E,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Ao.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var x=u(d.as,d.crossOrigin);r.d.M(f,{crossOrigin:x,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(f)},Ao.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var x=d.as,w=u(x,d.crossOrigin);r.d.L(f,x,{crossOrigin:w,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Ao.preloadModule=function(f,d){if(typeof f=="string")if(d){var x=u(d.as,d.crossOrigin);r.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:x,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(f)},Ao.requestFormReset=function(f){r.d.r(f)},Ao.unstable_batchedUpdates=function(f,d){return f(d)},Ao.useFormState=function(f,d,x){return o.H.useFormState(f,d,x)},Ao.useFormStatus=function(){return o.H.useHostTransitionStatus()},Ao.version="19.2.3",Ao}var O4;function YD(){if(O4)return Fv.exports;O4=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Fv.exports=WD(),Fv.exports}var D4;function XD(){if(D4)return N1;D4=1;var n=GD(),e=pw(),t=YD();function r(a){var c="https://react.dev/errors/"+a;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)c+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+a+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function s(a){var c=a,p=a;if(a.alternate)for(;c.return;)c=c.return;else{a=c;do c=a,(c.flags&4098)!==0&&(p=c.return),a=c.return;while(a)}return c.tag===3?p:null}function o(a){if(a.tag===13){var c=a.memoizedState;if(c===null&&(a=a.alternate,a!==null&&(c=a.memoizedState)),c!==null)return c.dehydrated}return null}function u(a){if(a.tag===31){var c=a.memoizedState;if(c===null&&(a=a.alternate,a!==null&&(c=a.memoizedState)),c!==null)return c.dehydrated}return null}function f(a){if(s(a)!==a)throw Error(r(188))}function d(a){var c=a.alternate;if(!c){if(c=s(a),c===null)throw Error(r(188));return c!==a?null:a}for(var p=a,y=c;;){var R=p.return;if(R===null)break;var P=R.alternate;if(P===null){if(y=R.return,y!==null){p=y;continue}break}if(R.child===P.child){for(P=R.child;P;){if(P===p)return f(R),a;if(P===y)return f(R),c;P=P.sibling}throw Error(r(188))}if(p.return!==y.return)p=R,y=P;else{for(var se=!1,Ee=R.child;Ee;){if(Ee===p){se=!0,p=R,y=P;break}if(Ee===y){se=!0,y=R,p=P;break}Ee=Ee.sibling}if(!se){for(Ee=P.child;Ee;){if(Ee===p){se=!0,p=P,y=R;break}if(Ee===y){se=!0,y=P,p=R;break}Ee=Ee.sibling}if(!se)throw Error(r(189))}}if(p.alternate!==y)throw Error(r(190))}if(p.tag!==3)throw Error(r(188));return p.stateNode.current===p?a:c}function x(a){var c=a.tag;if(c===5||c===26||c===27||c===6)return a;for(a=a.child;a!==null;){if(c=x(a),c!==null)return c;a=a.sibling}return null}var w=Object.assign,A=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),I=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),W=Symbol.for("react.consumer"),k=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),ce=Symbol.for("react.suspense"),re=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),B=Symbol.for("react.lazy"),L=Symbol.for("react.activity"),Q=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function q(a){return a===null||typeof a!="object"?null:(a=U&&a[U]||a["@@iterator"],typeof a=="function"?a:null)}var Y=Symbol.for("react.client.reference");function ne(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===Y?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case C:return"Fragment";case j:return"Profiler";case M:return"StrictMode";case ce:return"Suspense";case re:return"SuspenseList";case L:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case I:return"Portal";case k:return a.displayName||"Context";case W:return(a._context.displayName||"Context")+".Consumer";case G:var c=a.render;return a=a.displayName,a||(a=c.displayName||c.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case F:return c=a.displayName||null,c!==null?c:ne(a.type)||"Memo";case B:c=a._payload,a=a._init;try{return ne(a(c))}catch{}}return null}var pe=Array.isArray,Ae=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ve=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Re={pending:!1,data:null,method:null,action:null},He=[],ze=-1;function xe(a){return{current:a}}function H(a){0>ze||(a.current=He[ze],He[ze]=null,ze--)}function J(a,c){ze++,He[ze]=a.current,a.current=c}var Z=xe(null),oe=xe(null),de=xe(null),Me=xe(null);function Ue(a,c){switch(J(de,c),J(oe,a),J(Z,null),c.nodeType){case 9:case 11:a=(a=c.documentElement)&&(a=a.namespaceURI)?Y3(a):0;break;default:if(a=c.tagName,c=c.namespaceURI)c=Y3(c),a=X3(c,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}H(Z),J(Z,a)}function Ve(){H(Z),H(oe),H(de)}function Ie(a){a.memoizedState!==null&&J(Me,a);var c=Z.current,p=X3(c,a.type);c!==p&&(J(oe,a),J(Z,p))}function nt(a){oe.current===a&&(H(Z),H(oe)),Me.current===a&&(H(Me),b1._currentValue=Re)}var Tt,St;function Rt(a){if(Tt===void 0)try{throw Error()}catch(p){var c=p.stack.trim().match(/\n( *(at )?)/);Tt=c&&c[1]||"",St=-1<p.stack.indexOf(`
    at`)?" (<anonymous>)":-1<p.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Tt+a+St}var le=!1;function ot(a,c){if(!a||le)return"";le=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var y={DetermineComponentFrameRoot:function(){try{if(c){var Yt=function(){throw Error()};if(Object.defineProperty(Yt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Yt,[])}catch(Ct){var bt=Ct}Reflect.construct(a,[],Yt)}else{try{Yt.call()}catch(Ct){bt=Ct}a.call(Yt.prototype)}}else{try{throw Error()}catch(Ct){bt=Ct}(Yt=a())&&typeof Yt.catch=="function"&&Yt.catch(function(){})}}catch(Ct){if(Ct&&bt&&typeof Ct.stack=="string")return[Ct.stack,bt.stack]}return[null,null]}};y.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var R=Object.getOwnPropertyDescriptor(y.DetermineComponentFrameRoot,"name");R&&R.configurable&&Object.defineProperty(y.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var P=y.DetermineComponentFrameRoot(),se=P[0],Ee=P[1];if(se&&Ee){var We=se.split(`
`),xt=Ee.split(`
`);for(R=y=0;y<We.length&&!We[y].includes("DetermineComponentFrameRoot");)y++;for(;R<xt.length&&!xt[R].includes("DetermineComponentFrameRoot");)R++;if(y===We.length||R===xt.length)for(y=We.length-1,R=xt.length-1;1<=y&&0<=R&&We[y]!==xt[R];)R--;for(;1<=y&&0<=R;y--,R--)if(We[y]!==xt[R]){if(y!==1||R!==1)do if(y--,R--,0>R||We[y]!==xt[R]){var Vt=`
`+We[y].replace(" at new "," at ");return a.displayName&&Vt.includes("<anonymous>")&&(Vt=Vt.replace("<anonymous>",a.displayName)),Vt}while(1<=y&&0<=R);break}}}finally{le=!1,Error.prepareStackTrace=p}return(p=a?a.displayName||a.name:"")?Rt(p):""}function Ge(a,c){switch(a.tag){case 26:case 27:case 5:return Rt(a.type);case 16:return Rt("Lazy");case 13:return a.child!==c&&c!==null?Rt("Suspense Fallback"):Rt("Suspense");case 19:return Rt("SuspenseList");case 0:case 15:return ot(a.type,!1);case 11:return ot(a.type.render,!1);case 1:return ot(a.type,!0);case 31:return Rt("Activity");default:return""}}function At(a){try{var c="",p=null;do c+=Ge(a,p),p=a,a=a.return;while(a);return c}catch(y){return`
Error generating stack: `+y.message+`
`+y.stack}}var Je=Object.prototype.hasOwnProperty,Zt=n.unstable_scheduleCallback,Xe=n.unstable_cancelCallback,Ft=n.unstable_shouldYield,fn=n.unstable_requestPaint,tn=n.unstable_now,yn=n.unstable_getCurrentPriorityLevel,cn=n.unstable_ImmediatePriority,wn=n.unstable_UserBlockingPriority,gn=n.unstable_NormalPriority,sn=n.unstable_LowPriority,bn=n.unstable_IdlePriority,un=n.log,nr=n.unstable_setDisableYieldValue,rn=null,dt=null;function Gt(a){if(typeof un=="function"&&nr(a),dt&&typeof dt.setStrictMode=="function")try{dt.setStrictMode(rn,a)}catch{}}var It=Math.clz32?Math.clz32:mt,ln=Math.log,Xn=Math.LN2;function mt(a){return a>>>=0,a===0?32:31-(ln(a)/Xn|0)|0}var Xt=256,on=262144,hn=4194304;function dn(a){var c=a&42;if(c!==0)return c;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function Zn(a,c,p){var y=a.pendingLanes;if(y===0)return 0;var R=0,P=a.suspendedLanes,se=a.pingedLanes;a=a.warmLanes;var Ee=y&134217727;return Ee!==0?(y=Ee&~P,y!==0?R=dn(y):(se&=Ee,se!==0?R=dn(se):p||(p=Ee&~a,p!==0&&(R=dn(p))))):(Ee=y&~P,Ee!==0?R=dn(Ee):se!==0?R=dn(se):p||(p=y&~a,p!==0&&(R=dn(p)))),R===0?0:c!==0&&c!==R&&(c&P)===0&&(P=R&-R,p=c&-c,P>=p||P===32&&(p&4194048)!==0)?c:R}function Dr(a,c){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&c)===0}function li(a,c){switch(a){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Lr(){var a=hn;return hn<<=1,(hn&62914560)===0&&(hn=4194304),a}function Kr(a){for(var c=[],p=0;31>p;p++)c.push(a);return c}function On(a,c){a.pendingLanes|=c,c!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function Ci(a,c,p,y,R,P){var se=a.pendingLanes;a.pendingLanes=p,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=p,a.entangledLanes&=p,a.errorRecoveryDisabledLanes&=p,a.shellSuspendCounter=0;var Ee=a.entanglements,We=a.expirationTimes,xt=a.hiddenUpdates;for(p=se&~p;0<p;){var Vt=31-It(p),Yt=1<<Vt;Ee[Vt]=0,We[Vt]=-1;var bt=xt[Vt];if(bt!==null)for(xt[Vt]=null,Vt=0;Vt<bt.length;Vt++){var Ct=bt[Vt];Ct!==null&&(Ct.lane&=-536870913)}p&=~Yt}y!==0&&Qi(a,y,0),P!==0&&R===0&&a.tag!==0&&(a.suspendedLanes|=P&~(se&~c))}function Qi(a,c,p){a.pendingLanes|=c,a.suspendedLanes&=~c;var y=31-It(c);a.entangledLanes|=c,a.entanglements[y]=a.entanglements[y]|1073741824|p&261930}function Qr(a,c){var p=a.entangledLanes|=c;for(a=a.entanglements;p;){var y=31-It(p),R=1<<y;R&c|a[y]&c&&(a[y]|=c),p&=~R}}function Hi(a,c){var p=c&-c;return p=(p&42)!==0?1:lr(p),(p&(a.suspendedLanes|c))!==0?0:p}function lr(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function Rr(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function ge(){var a=ve.p;return a!==0?a:(a=window.event,a===void 0?32:x4(a.type))}function be(a,c){var p=ve.p;try{return ve.p=a,c()}finally{ve.p=p}}var Te=Math.random().toString(36).slice(2),Ce="__reactFiber$"+Te,Oe="__reactProps$"+Te,ke="__reactContainer$"+Te,it="__reactEvents$"+Te,Et="__reactListeners$"+Te,et="__reactHandles$"+Te,lt="__reactResources$"+Te,ht="__reactMarker$"+Te;function Ht(a){delete a[Ce],delete a[Oe],delete a[it],delete a[Et],delete a[et]}function Ot(a){var c=a[Ce];if(c)return c;for(var p=a.parentNode;p;){if(c=p[ke]||p[Ce]){if(p=c.alternate,c.child!==null||p!==null&&p.child!==null)for(a=t4(a);a!==null;){if(p=a[Ce])return p;a=t4(a)}return c}a=p,p=a.parentNode}return null}function Lt(a){if(a=a[Ce]||a[ke]){var c=a.tag;if(c===5||c===6||c===13||c===31||c===26||c===27||c===3)return a}return null}function yt(a){var c=a.tag;if(c===5||c===26||c===27||c===6)return a.stateNode;throw Error(r(33))}function en(a){var c=a[lt];return c||(c=a[lt]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function Tn(a){a[ht]=!0}var Nt=new Set,vr={};function Kn(a,c){Ii(a,c),Ii(a+"Capture",c)}function Ii(a,c){for(vr[a]=c,a=0;a<c.length;a++)Nt.add(c[a])}var xa=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),fr={},or={};function cr(a){return Je.call(or,a)?!0:Je.call(fr,a)?!1:xa.test(a)?or[a]=!0:(fr[a]=!0,!1)}function ci(a,c,p){if(cr(c))if(p===null)a.removeAttribute(c);else{switch(typeof p){case"undefined":case"function":case"symbol":a.removeAttribute(c);return;case"boolean":var y=c.toLowerCase().slice(0,5);if(y!=="data-"&&y!=="aria-"){a.removeAttribute(c);return}}a.setAttribute(c,""+p)}}function os(a,c,p){if(p===null)a.removeAttribute(c);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(c);return}a.setAttribute(c,""+p)}}function Ri(a,c,p,y){if(y===null)a.removeAttribute(p);else{switch(typeof y){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(p);return}a.setAttributeNS(c,p,""+y)}}function Hn(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function As(a){var c=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function Ma(a,c,p){var y=Object.getOwnPropertyDescriptor(a.constructor.prototype,c);if(!a.hasOwnProperty(c)&&typeof y<"u"&&typeof y.get=="function"&&typeof y.set=="function"){var R=y.get,P=y.set;return Object.defineProperty(a,c,{configurable:!0,get:function(){return R.call(this)},set:function(se){p=""+se,P.call(this,se)}}),Object.defineProperty(a,c,{enumerable:y.enumerable}),{getValue:function(){return p},setValue:function(se){p=""+se},stopTracking:function(){a._valueTracker=null,delete a[c]}}}}function Gn(a){if(!a._valueTracker){var c=As(a)?"checked":"value";a._valueTracker=Ma(a,c,""+a[c])}}function Vs(a){if(!a)return!1;var c=a._valueTracker;if(!c)return!0;var p=c.getValue(),y="";return a&&(y=As(a)?a.checked?"true":"false":a.value),a=y,a!==p?(c.setValue(a),!0):!1}function $i(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var $r=/[\n"\\]/g;function sr(a){return a.replace($r,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function Oi(a,c,p,y,R,P,se,Ee){a.name="",se!=null&&typeof se!="function"&&typeof se!="symbol"&&typeof se!="boolean"?a.type=se:a.removeAttribute("type"),c!=null?se==="number"?(c===0&&a.value===""||a.value!=c)&&(a.value=""+Hn(c)):a.value!==""+Hn(c)&&(a.value=""+Hn(c)):se!=="submit"&&se!=="reset"||a.removeAttribute("value"),c!=null?Le(a,se,Hn(c)):p!=null?Le(a,se,Hn(p)):y!=null&&a.removeAttribute("value"),R==null&&P!=null&&(a.defaultChecked=!!P),R!=null&&(a.checked=R&&typeof R!="function"&&typeof R!="symbol"),Ee!=null&&typeof Ee!="function"&&typeof Ee!="symbol"&&typeof Ee!="boolean"?a.name=""+Hn(Ee):a.removeAttribute("name")}function ut(a,c,p,y,R,P,se,Ee){if(P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"&&(a.type=P),c!=null||p!=null){if(!(P!=="submit"&&P!=="reset"||c!=null)){Gn(a);return}p=p!=null?""+Hn(p):"",c=c!=null?""+Hn(c):p,Ee||c===a.value||(a.value=c),a.defaultValue=c}y=y??R,y=typeof y!="function"&&typeof y!="symbol"&&!!y,a.checked=Ee?a.checked:!!y,a.defaultChecked=!!y,se!=null&&typeof se!="function"&&typeof se!="symbol"&&typeof se!="boolean"&&(a.name=se),Gn(a)}function Le(a,c,p){c==="number"&&$i(a.ownerDocument)===a||a.defaultValue===""+p||(a.defaultValue=""+p)}function En(a,c,p,y){if(a=a.options,c){c={};for(var R=0;R<p.length;R++)c["$"+p[R]]=!0;for(p=0;p<a.length;p++)R=c.hasOwnProperty("$"+a[p].value),a[p].selected!==R&&(a[p].selected=R),R&&y&&(a[p].defaultSelected=!0)}else{for(p=""+Hn(p),c=null,R=0;R<a.length;R++){if(a[R].value===p){a[R].selected=!0,y&&(a[R].defaultSelected=!0);return}c!==null||a[R].disabled||(c=a[R])}c!==null&&(c.selected=!0)}}function Di(a,c,p){if(c!=null&&(c=""+Hn(c),c!==a.value&&(a.value=c),p==null)){a.defaultValue!==c&&(a.defaultValue=c);return}a.defaultValue=p!=null?""+Hn(p):""}function qi(a,c,p,y){if(c==null){if(y!=null){if(p!=null)throw Error(r(92));if(pe(y)){if(1<y.length)throw Error(r(93));y=y[0]}p=y}p==null&&(p=""),c=p}p=Hn(c),a.defaultValue=p,y=a.textContent,y===p&&y!==""&&y!==null&&(a.value=y),Gn(a)}function ms(a,c){if(c){var p=a.firstChild;if(p&&p===a.lastChild&&p.nodeType===3){p.nodeValue=c;return}}a.textContent=c}var vo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ss(a,c,p){var y=c.indexOf("--")===0;p==null||typeof p=="boolean"||p===""?y?a.setProperty(c,""):c==="float"?a.cssFloat="":a[c]="":y?a.setProperty(c,p):typeof p!="number"||p===0||vo.has(c)?c==="float"?a.cssFloat=p:a[c]=(""+p).trim():a[c]=p+"px"}function jn(a,c,p){if(c!=null&&typeof c!="object")throw Error(r(62));if(a=a.style,p!=null){for(var y in p)!p.hasOwnProperty(y)||c!=null&&c.hasOwnProperty(y)||(y.indexOf("--")===0?a.setProperty(y,""):y==="float"?a.cssFloat="":a[y]="");for(var R in c)y=c[R],c.hasOwnProperty(R)&&p[R]!==y&&Ss(a,R,y)}else for(var P in c)c.hasOwnProperty(P)&&Ss(a,P,c[P])}function Zr(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vl=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Po=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ts(a){return Po.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function ea(){}var eo=null;function ta(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var ui=null,Fn=null;function na(a){var c=Lt(a);if(c&&(a=c.stateNode)){var p=a[Oe]||null;e:switch(a=c.stateNode,c.type){case"input":if(Oi(a,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name),c=p.name,p.type==="radio"&&c!=null){for(p=a;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll('input[name="'+sr(""+c)+'"][type="radio"]'),c=0;c<p.length;c++){var y=p[c];if(y!==a&&y.form===a.form){var R=y[Oe]||null;if(!R)throw Error(r(90));Oi(y,R.value,R.defaultValue,R.defaultValue,R.checked,R.defaultChecked,R.type,R.name)}}for(c=0;c<p.length;c++)y=p[c],y.form===a.form&&Vs(y)}break e;case"textarea":Di(a,p.value,p.defaultValue);break e;case"select":c=p.value,c!=null&&En(a,!!p.multiple,c,!1)}}}var Vn=!1;function Qo(a,c,p){if(Vn)return a(c,p);Vn=!0;try{var y=a(c);return y}finally{if(Vn=!1,(ui!==null||Fn!==null)&&(xg(),ui&&(c=ui,a=Fn,Fn=ui=null,na(c),a)))for(c=0;c<a.length;c++)na(a[c])}}function Bn(a,c){var p=a.stateNode;if(p===null)return null;var y=p[Oe]||null;if(y===null)return null;p=y[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(y=!y.disabled)||(a=a.type,y=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!y;break e;default:a=!1}if(a)return null;if(p&&typeof p!="function")throw Error(r(231,c,typeof p));return p}var Nr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_l=!1;if(Nr)try{var Fr={};Object.defineProperty(Fr,"passive",{get:function(){_l=!0}}),window.addEventListener("test",Fr,Fr),window.removeEventListener("test",Fr,Fr)}catch{_l=!1}var ra=null,va=null,to=null;function jo(){if(to)return to;var a,c=va,p=c.length,y,R="value"in ra?ra.value:ra.textContent,P=R.length;for(a=0;a<p&&c[a]===R[a];a++);var se=p-a;for(y=1;y<=se&&c[p-y]===R[P-y];y++);return to=R.slice(a,1<y?1-y:void 0)}function gs(a){var c=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&c===13&&(a=13)):a=c,a===10&&(a=13),32<=a||a===13?a:0}function _a(){return!0}function ia(){return!1}function xi(a){function c(p,y,R,P,se){this._reactName=p,this._targetInst=R,this.type=y,this.nativeEvent=P,this.target=se,this.currentTarget=null;for(var Ee in a)a.hasOwnProperty(Ee)&&(p=a[Ee],this[Ee]=p?p(P):P[Ee]);return this.isDefaultPrevented=(P.defaultPrevented!=null?P.defaultPrevented:P.returnValue===!1)?_a:ia,this.isPropagationStopped=ia,this}return w(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=_a)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=_a)},persist:function(){},isPersistent:_a}),c}var sa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wr=xi(sa),no=w({},sa,{view:0,detail:0}),Fo=xi(no),ro,_o,La,yl=w({},no,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qn,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==La&&(La&&a.type==="mousemove"?(ro=a.screenX-La.screenX,_o=a.screenY-La.screenY):_o=ro=0,La=a),ro)},movementY:function(a){return"movementY"in a?a.movementY:_o}}),Or=xi(yl),aa=w({},yl,{dataTransfer:0}),ya=xi(aa),ka=w({},no,{relatedTarget:0}),io=xi(ka),wt=w({},sa,{animationName:0,elapsedTime:0,pseudoElement:0}),V=xi(wt),ue=w({},sa,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),je=xi(ue),Ye=w({},sa,{data:0}),tt=xi(Ye),kt={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Kt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pn(a){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(a):(a=Nn[a])?!!c[a]:!1}function qn(){return pn}var _n=w({},no,{key:function(a){if(a.key){var c=kt[a.key]||a.key;if(c!=="Unidentified")return c}return a.type==="keypress"?(a=gs(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Kt[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qn,charCode:function(a){return a.type==="keypress"?gs(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?gs(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Ar=xi(_n),Br=w({},yl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wn=xi(Br),S=w({},no,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qn}),K=xi(S),ie=w({},sa,{propertyName:0,elapsedTime:0,pseudoElement:0}),Se=xi(ie),st=w({},yl,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),vt=xi(st),nn=w({},sa,{newState:0,oldState:0}),rr=xi(nn),hi=[9,13,27,32],_r=Nr&&"CompositionEvent"in window,Yr=null;Nr&&"documentMode"in document&&(Yr=document.documentMode);var ps=Nr&&"TextEvent"in window&&!Yr,zs=Nr&&(!_r||Yr&&8<Yr&&11>=Yr),Ur=" ",xs=!1;function so(a,c){switch(a){case"keyup":return hi.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pa(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var $o=!1;function Gi(a,c){switch(a){case"compositionend":return Pa(c);case"keypress":return c.which!==32?null:(xs=!0,Ur);case"textInput":return a=c.data,a===Ur&&xs?null:a;default:return null}}function yo(a,c){if($o)return a==="compositionend"||!_r&&so(a,c)?(a=jo(),to=va=ra=null,$o=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return zs&&c.locale!=="ko"?null:c.data;default:return null}}var Hs={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rc(a){var c=a&&a.nodeName&&a.nodeName.toLowerCase();return c==="input"?!!Hs[a.type]:c==="textarea"}function Wi(a,c,p,y){ui?Fn?Fn.push(y):Fn=[y]:ui=y,c=Ag(c,"onChange"),0<c.length&&(p=new Wr("onChange","change",null,p,y),a.push({event:p,listeners:c}))}var Bo=null,Uo=null;function pu(a){V3(a,0)}function wo(a){var c=yt(a);if(Vs(c))return a}function qs(a,c){if(a==="change")return c}var ja=!1;if(Nr){var Gs;if(Nr){var Fa="oninput"in document;if(!Fa){var pr=document.createElement("div");pr.setAttribute("oninput","return;"),Fa=typeof pr.oninput=="function"}Gs=Fa}else Gs=!1;ja=Gs&&(!document.documentMode||9<document.documentMode)}function bo(){Bo&&(Bo.detachEvent("onpropertychange",he),Uo=Bo=null)}function he(a){if(a.propertyName==="value"&&wo(Uo)){var c=[];Wi(c,Uo,a,ta(a)),Qo(pu,c)}}function l(a,c,p){a==="focusin"?(bo(),Bo=c,Uo=p,Bo.attachEvent("onpropertychange",he)):a==="focusout"&&bo()}function h(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return wo(Uo)}function g(a,c){if(a==="click")return wo(c)}function v(a,c){if(a==="input"||a==="change")return wo(c)}function _(a,c){return a===c&&(a!==0||1/a===1/c)||a!==a&&c!==c}var b=typeof Object.is=="function"?Object.is:_;function N(a,c){if(b(a,c))return!0;if(typeof a!="object"||a===null||typeof c!="object"||c===null)return!1;var p=Object.keys(a),y=Object.keys(c);if(p.length!==y.length)return!1;for(y=0;y<p.length;y++){var R=p[y];if(!Je.call(c,R)||!b(a[R],c[R]))return!1}return!0}function D(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function z(a,c){var p=D(a);a=0;for(var y;p;){if(p.nodeType===3){if(y=a+p.textContent.length,a<=c&&y>=c)return{node:p,offset:c-a};a=y}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=D(p)}}function ee(a,c){return a&&c?a===c?!0:a&&a.nodeType===3?!1:c&&c.nodeType===3?ee(a,c.parentNode):"contains"in a?a.contains(c):a.compareDocumentPosition?!!(a.compareDocumentPosition(c)&16):!1:!1}function fe(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var c=$i(a.document);c instanceof a.HTMLIFrameElement;){try{var p=typeof c.contentWindow.location.href=="string"}catch{p=!1}if(p)a=c.contentWindow;else break;c=$i(a.document)}return c}function _e(a){var c=a&&a.nodeName&&a.nodeName.toLowerCase();return c&&(c==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||c==="textarea"||a.contentEditable==="true")}var Pe=Nr&&"documentMode"in document&&11>=document.documentMode,qe=null,Ke=null,rt=null,_t=!1;function Bt(a,c,p){var y=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;_t||qe==null||qe!==$i(y)||(y=qe,"selectionStart"in y&&_e(y)?y={start:y.selectionStart,end:y.selectionEnd}:(y=(y.ownerDocument&&y.ownerDocument.defaultView||window).getSelection(),y={anchorNode:y.anchorNode,anchorOffset:y.anchorOffset,focusNode:y.focusNode,focusOffset:y.focusOffset}),rt&&N(rt,y)||(rt=y,y=Ag(Ke,"onSelect"),0<y.length&&(c=new Wr("onSelect","select",null,c,p),a.push({event:c,listeners:y}),c.target=qe)))}function Ut(a,c){var p={};return p[a.toLowerCase()]=c.toLowerCase(),p["Webkit"+a]="webkit"+c,p["Moz"+a]="moz"+c,p}var Pt={animationend:Ut("Animation","AnimationEnd"),animationiteration:Ut("Animation","AnimationIteration"),animationstart:Ut("Animation","AnimationStart"),transitionrun:Ut("Transition","TransitionRun"),transitionstart:Ut("Transition","TransitionStart"),transitioncancel:Ut("Transition","TransitionCancel"),transitionend:Ut("Transition","TransitionEnd")},zn={},Jn={};Nr&&(Jn=document.createElement("div").style,"AnimationEvent"in window||(delete Pt.animationend.animation,delete Pt.animationiteration.animation,delete Pt.animationstart.animation),"TransitionEvent"in window||delete Pt.transitionend.transition);function Mi(a){if(zn[a])return zn[a];if(!Pt[a])return a;var c=Pt[a],p;for(p in c)if(c.hasOwnProperty(p)&&p in Jn)return zn[a]=c[p];return a}var Ws=Mi("animationend"),Ns=Mi("animationiteration"),ri=Mi("animationstart"),Cs=Mi("transitionrun"),Ba=Mi("transitionstart"),ic=Mi("transitioncancel"),zl=Mi("transitionend"),cf=new Map,sc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");sc.push("scrollEnd");function Zo(a,c){cf.set(a,c),Kn(c,[a])}var uf=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},Vo=[],xu=0,hd=0;function hf(){for(var a=xu,c=hd=xu=0;c<a;){var p=Vo[c];Vo[c++]=null;var y=Vo[c];Vo[c++]=null;var R=Vo[c];Vo[c++]=null;var P=Vo[c];if(Vo[c++]=null,y!==null&&R!==null){var se=y.pending;se===null?R.next=R:(R.next=se.next,se.next=R),y.pending=R}P!==0&&df(p,R,P)}}function ff(a,c,p,y){Vo[xu++]=a,Vo[xu++]=c,Vo[xu++]=p,Vo[xu++]=y,hd|=y,a.lanes|=y,a=a.alternate,a!==null&&(a.lanes|=y)}function fd(a,c,p,y){return ff(a,c,p,y),Ua(a)}function ac(a,c){return ff(a,null,null,c),Ua(a)}function df(a,c,p){a.lanes|=p;var y=a.alternate;y!==null&&(y.lanes|=p);for(var R=!1,P=a.return;P!==null;)P.childLanes|=p,y=P.alternate,y!==null&&(y.childLanes|=p),P.tag===22&&(a=P.stateNode,a===null||a._visibility&1||(R=!0)),a=P,P=P.return;return a.tag===3?(P=a.stateNode,R&&c!==null&&(R=31-It(p),a=P.hiddenUpdates,y=a[R],y===null?a[R]=[c]:y.push(c),c.lane=p|536870912),P):null}function Ua(a){if(50<g1)throw g1=0,rv=null,Error(r(185));for(var c=a.return;c!==null;)a=c,c=a.return;return a.tag===3?a.stateNode:null}var wa={};function dd(a,c,p,y){this.tag=a,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Va(a,c,p,y){return new dd(a,c,p,y)}function md(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Jo(a,c){var p=a.alternate;return p===null?(p=Va(a.tag,c,a.key,a.mode),p.elementType=a.elementType,p.type=a.type,p.stateNode=a.stateNode,p.alternate=a,a.alternate=p):(p.pendingProps=c,p.type=a.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=a.flags&65011712,p.childLanes=a.childLanes,p.lanes=a.lanes,p.child=a.child,p.memoizedProps=a.memoizedProps,p.memoizedState=a.memoizedState,p.updateQueue=a.updateQueue,c=a.dependencies,p.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},p.sibling=a.sibling,p.index=a.index,p.ref=a.ref,p.refCleanup=a.refCleanup,p}function mf(a,c){a.flags&=65011714;var p=a.alternate;return p===null?(a.childLanes=0,a.lanes=c,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=p.childLanes,a.lanes=p.lanes,a.child=p.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=p.memoizedProps,a.memoizedState=p.memoizedState,a.updateQueue=p.updateQueue,a.type=p.type,c=p.dependencies,a.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),a}function rh(a,c,p,y,R,P){var se=0;if(y=a,typeof a=="function")md(a)&&(se=1);else if(typeof a=="string")se=CD(a,p,Z.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case L:return a=Va(31,p,c,R),a.elementType=L,a.lanes=P,a;case C:return Oc(p.children,R,P,c);case M:se=8,R|=24;break;case j:return a=Va(12,p,c,R|2),a.elementType=j,a.lanes=P,a;case ce:return a=Va(13,p,c,R),a.elementType=ce,a.lanes=P,a;case re:return a=Va(19,p,c,R),a.elementType=re,a.lanes=P,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case k:se=10;break e;case W:se=9;break e;case G:se=11;break e;case F:se=14;break e;case B:se=16,y=null;break e}se=29,p=Error(r(130,a===null?"null":typeof a,"")),y=null}return c=Va(se,p,c,R),c.elementType=a,c.type=y,c.lanes=P,c}function Oc(a,c,p,y){return a=Va(7,a,y,c),a.lanes=p,a}function gf(a,c,p){return a=Va(6,a,null,c),a.lanes=p,a}function gd(a){var c=Va(18,null,null,0);return c.stateNode=a,c}function ih(a,c,p){return c=Va(4,a.children!==null?a.children:[],a.key,c),c.lanes=p,c.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},c}var pd=new WeakMap;function el(a,c){if(typeof a=="object"&&a!==null){var p=pd.get(a);return p!==void 0?p:(c={value:a,source:c,stack:At(c)},pd.set(a,c),c)}return{value:a,source:c,stack:At(c)}}var sh=[],vu=0,xd=null,pf=0,tl=[],nl=0,Dc=null,rl=1,il="";function zo(a,c){sh[vu++]=pf,sh[vu++]=xd,xd=a,pf=c}function Qm(a,c,p){tl[nl++]=rl,tl[nl++]=il,tl[nl++]=Dc,Dc=a;var y=rl;a=il;var R=32-It(y)-1;y&=~(1<<R),p+=1;var P=32-It(c)+R;if(30<P){var se=R-R%5;P=(y&(1<<se)-1).toString(32),y>>=se,R-=se,rl=1<<32-It(c)+R|p<<R|y,il=P+a}else rl=1<<P|p<<R|y,il=a}function X0(a){a.return!==null&&(zo(a,1),Qm(a,1,0))}function vd(a){for(;a===xd;)xd=sh[--vu],sh[vu]=null,pf=sh[--vu],sh[vu]=null;for(;a===Dc;)Dc=tl[--nl],tl[nl]=null,il=tl[--nl],tl[nl]=null,rl=tl[--nl],tl[nl]=null}function $m(a,c){tl[nl++]=rl,tl[nl++]=il,tl[nl++]=Dc,rl=c.id,il=c.overflow,Dc=a}var ba=null,Bi=null,kr=!1,ao=null,ls=!1,wl=Error(r(519));function Mc(a){var c=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ah(el(c,a)),wl}function K0(a){var c=a.stateNode,p=a.type,y=a.memoizedProps;switch(c[Ce]=a,c[Oe]=y,p){case"dialog":jr("cancel",c),jr("close",c);break;case"iframe":case"object":case"embed":jr("load",c);break;case"video":case"audio":for(p=0;p<x1.length;p++)jr(x1[p],c);break;case"source":jr("error",c);break;case"img":case"image":case"link":jr("error",c),jr("load",c);break;case"details":jr("toggle",c);break;case"input":jr("invalid",c),ut(c,y.value,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name,!0);break;case"select":jr("invalid",c);break;case"textarea":jr("invalid",c),qi(c,y.value,y.defaultValue,y.children)}p=y.children,typeof p!="string"&&typeof p!="number"&&typeof p!="bigint"||c.textContent===""+p||y.suppressHydrationWarning===!0||G3(c.textContent,p)?(y.popover!=null&&(jr("beforetoggle",c),jr("toggle",c)),y.onScroll!=null&&jr("scroll",c),y.onScrollEnd!=null&&jr("scrollend",c),y.onClick!=null&&(c.onclick=ea),c=!0):c=!1,c||Mc(a,!0)}function oc(a){for(ba=a.return;ba;)switch(ba.tag){case 5:case 31:case 13:ls=!1;return;case 27:case 3:ls=!0;return;default:ba=ba.return}}function Ea(a){if(a!==ba)return!1;if(!kr)return oc(a),kr=!0,!1;var c=a.tag,p;if((p=c!==3&&c!==27)&&((p=c===5)&&(p=a.type,p=!(p!=="form"&&p!=="button")||vv(a.type,a.memoizedProps)),p=!p),p&&Bi&&Mc(a),oc(a),c===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));Bi=e4(a)}else if(c===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));Bi=e4(a)}else c===27?(c=Bi,yh(a.type)?(a=Ev,Ev=null,Bi=a):Bi=c):Bi=ba?Wl(a.stateNode.nextSibling):null;return!0}function _u(){Bi=ba=null,kr=!1}function Q0(){var a=ao;return a!==null&&(ul===null?ul=a:ul.push.apply(ul,a),ao=null),a}function ah(a){ao===null?ao=[a]:ao.push(a)}var _d=xe(null),Lc=null,Hl=null;function kc(a,c,p){J(_d,c._currentValue),c._currentValue=p}function sl(a){a._currentValue=_d.current,H(_d)}function oh(a,c,p){for(;a!==null;){var y=a.alternate;if((a.childLanes&c)!==c?(a.childLanes|=c,y!==null&&(y.childLanes|=c)):y!==null&&(y.childLanes&c)!==c&&(y.childLanes|=c),a===p)break;a=a.return}}function yu(a,c,p,y){var R=a.child;for(R!==null&&(R.return=a);R!==null;){var P=R.dependencies;if(P!==null){var se=R.child;P=P.firstContext;e:for(;P!==null;){var Ee=P;P=R;for(var We=0;We<c.length;We++)if(Ee.context===c[We]){P.lanes|=p,Ee=P.alternate,Ee!==null&&(Ee.lanes|=p),oh(P.return,p,a),y||(se=null);break e}P=Ee.next}}else if(R.tag===18){if(se=R.return,se===null)throw Error(r(341));se.lanes|=p,P=se.alternate,P!==null&&(P.lanes|=p),oh(se,p,a),se=null}else se=R.child;if(se!==null)se.return=R;else for(se=R;se!==null;){if(se===a){se=null;break}if(R=se.sibling,R!==null){R.return=se.return,se=R;break}se=se.return}R=se}}function Pc(a,c,p,y){a=null;for(var R=c,P=!1;R!==null;){if(!P){if((R.flags&524288)!==0)P=!0;else if((R.flags&262144)!==0)break}if(R.tag===10){var se=R.alternate;if(se===null)throw Error(r(387));if(se=se.memoizedProps,se!==null){var Ee=R.type;b(R.pendingProps.value,se.value)||(a!==null?a.push(Ee):a=[Ee])}}else if(R===Me.current){if(se=R.alternate,se===null)throw Error(r(387));se.memoizedState.memoizedState!==R.memoizedState.memoizedState&&(a!==null?a.push(b1):a=[b1])}R=R.return}a!==null&&yu(c,a,p,y),c.flags|=262144}function yd(a){for(a=a.firstContext;a!==null;){if(!b(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function jc(a){Lc=a,Hl=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function Aa(a){return Zm(Lc,a)}function wd(a,c){return Lc===null&&jc(a),Zm(a,c)}function Zm(a,c){var p=c._currentValue;if(c={context:c,memoizedValue:p,next:null},Hl===null){if(a===null)throw Error(r(308));Hl=c,a.dependencies={lanes:0,firstContext:c},a.flags|=524288}else Hl=Hl.next=c;return p}var bx=typeof AbortController<"u"?AbortController:function(){var a=[],c=this.signal={aborted:!1,addEventListener:function(p,y){a.push(y)}};this.abort=function(){c.aborted=!0,a.forEach(function(p){return p()})}},Ex=n.unstable_scheduleCallback,Ax=n.unstable_NormalPriority,vs={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function lh(){return{controller:new bx,data:new Map,refCount:0}}function xf(a){a.refCount--,a.refCount===0&&Ex(Ax,function(){a.controller.abort()})}var vf=null,bd=0,T=0,O=null;function X(a,c){if(vf===null){var p=vf=[];bd=0,T=cv(),O={status:"pending",value:void 0,then:function(y){p.push(y)}}}return bd++,c.then(te,te),c}function te(){if(--bd===0&&vf!==null){O!==null&&(O.status="fulfilled");var a=vf;vf=null,T=0,O=null;for(var c=0;c<a.length;c++)(0,a[c])()}}function me(a,c){var p=[],y={status:"pending",value:null,reason:null,then:function(R){p.push(R)}};return a.then(function(){y.status="fulfilled",y.value=c;for(var R=0;R<p.length;R++)(0,p[R])(c)},function(R){for(y.status="rejected",y.reason=R,R=0;R<p.length;R++)(0,p[R])(void 0)}),y}var ye=Ae.S;Ae.S=function(a,c){g3=tn(),typeof c=="object"&&c!==null&&typeof c.then=="function"&&X(a,c),ye!==null&&ye(a,c)};var we=xe(null);function Ne(){var a=we.current;return a!==null?a:Vi.pooledCache}function De(a,c){c===null?J(we,we.current):J(we,c.pool)}function Be(){var a=Ne();return a===null?null:{parent:vs._currentValue,pool:a}}var Qe=Error(r(460)),gt=Error(r(474)),Fe=Error(r(542)),Ze={then:function(){}};function ct(a){return a=a.status,a==="fulfilled"||a==="rejected"}function Mt(a,c,p){switch(p=a[p],p===void 0?a.push(c):p!==c&&(c.then(ea,ea),c=p),c.status){case"fulfilled":return c.value;case"rejected":throw a=c.reason,an(a),a;default:if(typeof c.status=="string")c.then(ea,ea);else{if(a=Vi,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=c,a.status="pending",a.then(function(y){if(c.status==="pending"){var R=c;R.status="fulfilled",R.value=y}},function(y){if(c.status==="pending"){var R=c;R.status="rejected",R.reason=y}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw a=c.reason,an(a),a}throw Dt=c,Qe}}function ft(a){try{var c=a._init;return c(a._payload)}catch(p){throw p!==null&&typeof p=="object"&&typeof p.then=="function"?(Dt=p,Qe):p}}var Dt=null;function zt(){if(Dt===null)throw Error(r(459));var a=Dt;return Dt=null,a}function an(a){if(a===Qe||a===Fe)throw Error(r(483))}var Qt=null,kn=0;function Cn(a){var c=kn;return kn+=1,Qt===null&&(Qt=[]),Mt(Qt,a,c)}function dr(a,c){c=c.props.ref,a.ref=c!==void 0?c:null}function Mn(a,c){throw c.$$typeof===A?Error(r(525)):(a=Object.prototype.toString.call(c),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":a)))}function Mr(a){function c(at,$e){if(a){var pt=at.deletions;pt===null?(at.deletions=[$e],at.flags|=16):pt.push($e)}}function p(at,$e){if(!a)return null;for(;$e!==null;)c(at,$e),$e=$e.sibling;return null}function y(at){for(var $e=new Map;at!==null;)at.key!==null?$e.set(at.key,at):$e.set(at.index,at),at=at.sibling;return $e}function R(at,$e){return at=Jo(at,$e),at.index=0,at.sibling=null,at}function P(at,$e,pt){return at.index=pt,a?(pt=at.alternate,pt!==null?(pt=pt.index,pt<$e?(at.flags|=67108866,$e):pt):(at.flags|=67108866,$e)):(at.flags|=1048576,$e)}function se(at){return a&&at.alternate===null&&(at.flags|=67108866),at}function Ee(at,$e,pt,qt){return $e===null||$e.tag!==6?($e=gf(pt,at.mode,qt),$e.return=at,$e):($e=R($e,pt),$e.return=at,$e)}function We(at,$e,pt,qt){var tr=pt.type;return tr===C?Vt(at,$e,pt.props.children,qt,pt.key):$e!==null&&($e.elementType===tr||typeof tr=="object"&&tr!==null&&tr.$$typeof===B&&ft(tr)===$e.type)?($e=R($e,pt.props),dr($e,pt),$e.return=at,$e):($e=rh(pt.type,pt.key,pt.props,null,at.mode,qt),dr($e,pt),$e.return=at,$e)}function xt(at,$e,pt,qt){return $e===null||$e.tag!==4||$e.stateNode.containerInfo!==pt.containerInfo||$e.stateNode.implementation!==pt.implementation?($e=ih(pt,at.mode,qt),$e.return=at,$e):($e=R($e,pt.children||[]),$e.return=at,$e)}function Vt(at,$e,pt,qt,tr){return $e===null||$e.tag!==7?($e=Oc(pt,at.mode,qt,tr),$e.return=at,$e):($e=R($e,pt),$e.return=at,$e)}function Yt(at,$e,pt){if(typeof $e=="string"&&$e!==""||typeof $e=="number"||typeof $e=="bigint")return $e=gf(""+$e,at.mode,pt),$e.return=at,$e;if(typeof $e=="object"&&$e!==null){switch($e.$$typeof){case E:return pt=rh($e.type,$e.key,$e.props,null,at.mode,pt),dr(pt,$e),pt.return=at,pt;case I:return $e=ih($e,at.mode,pt),$e.return=at,$e;case B:return $e=ft($e),Yt(at,$e,pt)}if(pe($e)||q($e))return $e=Oc($e,at.mode,pt,null),$e.return=at,$e;if(typeof $e.then=="function")return Yt(at,Cn($e),pt);if($e.$$typeof===k)return Yt(at,wd(at,$e),pt);Mn(at,$e)}return null}function bt(at,$e,pt,qt){var tr=$e!==null?$e.key:null;if(typeof pt=="string"&&pt!==""||typeof pt=="number"||typeof pt=="bigint")return tr!==null?null:Ee(at,$e,""+pt,qt);if(typeof pt=="object"&&pt!==null){switch(pt.$$typeof){case E:return pt.key===tr?We(at,$e,pt,qt):null;case I:return pt.key===tr?xt(at,$e,pt,qt):null;case B:return pt=ft(pt),bt(at,$e,pt,qt)}if(pe(pt)||q(pt))return tr!==null?null:Vt(at,$e,pt,qt,null);if(typeof pt.then=="function")return bt(at,$e,Cn(pt),qt);if(pt.$$typeof===k)return bt(at,$e,wd(at,pt),qt);Mn(at,pt)}return null}function Ct(at,$e,pt,qt,tr){if(typeof qt=="string"&&qt!==""||typeof qt=="number"||typeof qt=="bigint")return at=at.get(pt)||null,Ee($e,at,""+qt,tr);if(typeof qt=="object"&&qt!==null){switch(qt.$$typeof){case E:return at=at.get(qt.key===null?pt:qt.key)||null,We($e,at,qt,tr);case I:return at=at.get(qt.key===null?pt:qt.key)||null,xt($e,at,qt,tr);case B:return qt=ft(qt),Ct(at,$e,pt,qt,tr)}if(pe(qt)||q(qt))return at=at.get(pt)||null,Vt($e,at,qt,tr,null);if(typeof qt.then=="function")return Ct(at,$e,pt,Cn(qt),tr);if(qt.$$typeof===k)return Ct(at,$e,pt,wd($e,qt),tr);Mn($e,qt)}return null}function Ln(at,$e,pt,qt){for(var tr=null,si=null,Un=$e,Tr=$e=0,zr=null;Un!==null&&Tr<pt.length;Tr++){Un.index>Tr?(zr=Un,Un=null):zr=Un.sibling;var ai=bt(at,Un,pt[Tr],qt);if(ai===null){Un===null&&(Un=zr);break}a&&Un&&ai.alternate===null&&c(at,Un),$e=P(ai,$e,Tr),si===null?tr=ai:si.sibling=ai,si=ai,Un=zr}if(Tr===pt.length)return p(at,Un),kr&&zo(at,Tr),tr;if(Un===null){for(;Tr<pt.length;Tr++)Un=Yt(at,pt[Tr],qt),Un!==null&&($e=P(Un,$e,Tr),si===null?tr=Un:si.sibling=Un,si=Un);return kr&&zo(at,Tr),tr}for(Un=y(Un);Tr<pt.length;Tr++)zr=Ct(Un,at,Tr,pt[Tr],qt),zr!==null&&(a&&zr.alternate!==null&&Un.delete(zr.key===null?Tr:zr.key),$e=P(zr,$e,Tr),si===null?tr=zr:si.sibling=zr,si=zr);return a&&Un.forEach(function(Sh){return c(at,Sh)}),kr&&zo(at,Tr),tr}function ar(at,$e,pt,qt){if(pt==null)throw Error(r(151));for(var tr=null,si=null,Un=$e,Tr=$e=0,zr=null,ai=pt.next();Un!==null&&!ai.done;Tr++,ai=pt.next()){Un.index>Tr?(zr=Un,Un=null):zr=Un.sibling;var Sh=bt(at,Un,ai.value,qt);if(Sh===null){Un===null&&(Un=zr);break}a&&Un&&Sh.alternate===null&&c(at,Un),$e=P(Sh,$e,Tr),si===null?tr=Sh:si.sibling=Sh,si=Sh,Un=zr}if(ai.done)return p(at,Un),kr&&zo(at,Tr),tr;if(Un===null){for(;!ai.done;Tr++,ai=pt.next())ai=Yt(at,ai.value,qt),ai!==null&&($e=P(ai,$e,Tr),si===null?tr=ai:si.sibling=ai,si=ai);return kr&&zo(at,Tr),tr}for(Un=y(Un);!ai.done;Tr++,ai=pt.next())ai=Ct(Un,at,Tr,ai.value,qt),ai!==null&&(a&&ai.alternate!==null&&Un.delete(ai.key===null?Tr:ai.key),$e=P(ai,$e,Tr),si===null?tr=ai:si.sibling=ai,si=ai);return a&&Un.forEach(function(BD){return c(at,BD)}),kr&&zo(at,Tr),tr}function ji(at,$e,pt,qt){if(typeof pt=="object"&&pt!==null&&pt.type===C&&pt.key===null&&(pt=pt.props.children),typeof pt=="object"&&pt!==null){switch(pt.$$typeof){case E:e:{for(var tr=pt.key;$e!==null;){if($e.key===tr){if(tr=pt.type,tr===C){if($e.tag===7){p(at,$e.sibling),qt=R($e,pt.props.children),qt.return=at,at=qt;break e}}else if($e.elementType===tr||typeof tr=="object"&&tr!==null&&tr.$$typeof===B&&ft(tr)===$e.type){p(at,$e.sibling),qt=R($e,pt.props),dr(qt,pt),qt.return=at,at=qt;break e}p(at,$e);break}else c(at,$e);$e=$e.sibling}pt.type===C?(qt=Oc(pt.props.children,at.mode,qt,pt.key),qt.return=at,at=qt):(qt=rh(pt.type,pt.key,pt.props,null,at.mode,qt),dr(qt,pt),qt.return=at,at=qt)}return se(at);case I:e:{for(tr=pt.key;$e!==null;){if($e.key===tr)if($e.tag===4&&$e.stateNode.containerInfo===pt.containerInfo&&$e.stateNode.implementation===pt.implementation){p(at,$e.sibling),qt=R($e,pt.children||[]),qt.return=at,at=qt;break e}else{p(at,$e);break}else c(at,$e);$e=$e.sibling}qt=ih(pt,at.mode,qt),qt.return=at,at=qt}return se(at);case B:return pt=ft(pt),ji(at,$e,pt,qt)}if(pe(pt))return Ln(at,$e,pt,qt);if(q(pt)){if(tr=q(pt),typeof tr!="function")throw Error(r(150));return pt=tr.call(pt),ar(at,$e,pt,qt)}if(typeof pt.then=="function")return ji(at,$e,Cn(pt),qt);if(pt.$$typeof===k)return ji(at,$e,wd(at,pt),qt);Mn(at,pt)}return typeof pt=="string"&&pt!==""||typeof pt=="number"||typeof pt=="bigint"?(pt=""+pt,$e!==null&&$e.tag===6?(p(at,$e.sibling),qt=R($e,pt),qt.return=at,at=qt):(p(at,$e),qt=gf(pt,at.mode,qt),qt.return=at,at=qt),se(at)):p(at,$e)}return function(at,$e,pt,qt){try{kn=0;var tr=ji(at,$e,pt,qt);return Qt=null,tr}catch(Un){if(Un===Qe||Un===Fe)throw Un;var si=Va(29,Un,null,at.mode);return si.lanes=qt,si.return=at,si}finally{}}}var Ui=Mr(!0),yr=Mr(!1),In=!1;function vn(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Zi(a,c){a=a.updateQueue,c.updateQueue===a&&(c.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function ir(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function Sr(a,c,p){var y=a.updateQueue;if(y===null)return null;if(y=y.shared,(mi&2)!==0){var R=y.pending;return R===null?c.next=c:(c.next=R.next,R.next=c),y.pending=c,c=Ua(a),df(a,null,p),c}return ff(a,y,c,p),Ua(a)}function fi(a,c,p){if(c=c.updateQueue,c!==null&&(c=c.shared,(p&4194048)!==0)){var y=c.lanes;y&=a.pendingLanes,p|=y,c.lanes=p,Qr(a,p)}}function Ys(a,c){var p=a.updateQueue,y=a.alternate;if(y!==null&&(y=y.updateQueue,p===y)){var R=null,P=null;if(p=p.firstBaseUpdate,p!==null){do{var se={lane:p.lane,tag:p.tag,payload:p.payload,callback:null,next:null};P===null?R=P=se:P=P.next=se,p=p.next}while(p!==null);P===null?R=P=c:P=P.next=c}else R=P=c;p={baseState:y.baseState,firstBaseUpdate:R,lastBaseUpdate:P,shared:y.shared,callbacks:y.callbacks},a.updateQueue=p;return}a=p.lastBaseUpdate,a===null?p.firstBaseUpdate=c:a.next=c,p.lastBaseUpdate=c}var Sa=!1;function Li(){if(Sa){var a=O;if(a!==null)throw a}}function Is(a,c,p,y){Sa=!1;var R=a.updateQueue;In=!1;var P=R.firstBaseUpdate,se=R.lastBaseUpdate,Ee=R.shared.pending;if(Ee!==null){R.shared.pending=null;var We=Ee,xt=We.next;We.next=null,se===null?P=xt:se.next=xt,se=We;var Vt=a.alternate;Vt!==null&&(Vt=Vt.updateQueue,Ee=Vt.lastBaseUpdate,Ee!==se&&(Ee===null?Vt.firstBaseUpdate=xt:Ee.next=xt,Vt.lastBaseUpdate=We))}if(P!==null){var Yt=R.baseState;se=0,Vt=xt=We=null,Ee=P;do{var bt=Ee.lane&-536870913,Ct=bt!==Ee.lane;if(Ct?(Vr&bt)===bt:(y&bt)===bt){bt!==0&&bt===T&&(Sa=!0),Vt!==null&&(Vt=Vt.next={lane:0,tag:Ee.tag,payload:Ee.payload,callback:null,next:null});e:{var Ln=a,ar=Ee;bt=c;var ji=p;switch(ar.tag){case 1:if(Ln=ar.payload,typeof Ln=="function"){Yt=Ln.call(ji,Yt,bt);break e}Yt=Ln;break e;case 3:Ln.flags=Ln.flags&-65537|128;case 0:if(Ln=ar.payload,bt=typeof Ln=="function"?Ln.call(ji,Yt,bt):Ln,bt==null)break e;Yt=w({},Yt,bt);break e;case 2:In=!0}}bt=Ee.callback,bt!==null&&(a.flags|=64,Ct&&(a.flags|=8192),Ct=R.callbacks,Ct===null?R.callbacks=[bt]:Ct.push(bt))}else Ct={lane:bt,tag:Ee.tag,payload:Ee.payload,callback:Ee.callback,next:null},Vt===null?(xt=Vt=Ct,We=Yt):Vt=Vt.next=Ct,se|=bt;if(Ee=Ee.next,Ee===null){if(Ee=R.shared.pending,Ee===null)break;Ct=Ee,Ee=Ct.next,Ct.next=null,R.lastBaseUpdate=Ct,R.shared.pending=null}}while(!0);Vt===null&&(We=Yt),R.baseState=We,R.firstBaseUpdate=xt,R.lastBaseUpdate=Vt,P===null&&(R.shared.lanes=0),gh|=se,a.lanes=se,a.memoizedState=Yt}}function za(a,c){if(typeof a!="function")throw Error(r(191,a));a.call(c)}function Rs(a,c){var p=a.callbacks;if(p!==null)for(a.callbacks=null,a=0;a<p.length;a++)za(p[a],c)}var Cr=xe(null),Jr=xe(0);function Ji(a,c){a=Ru,J(Jr,a),J(Cr,c),Ru=a|c.baseLanes}function ii(){J(Jr,Ru),J(Cr,Cr.current)}function Xs(){Ru=Jr.current,H(Cr),H(Jr)}var es=xe(null),ei=null;function _s(a){var c=a.alternate;J(Xr,Xr.current&1),J(es,a),ei===null&&(c===null||Cr.current!==null||c.memoizedState!==null)&&(ei=a)}function di(a){J(Xr,Xr.current),J(es,a),ei===null&&(ei=a)}function Os(a){a.tag===22?(J(Xr,Xr.current),J(es,a),ei===null&&(ei=a)):Ds()}function Ds(){J(Xr,Xr.current),J(es,es.current)}function vi(a){H(es),ei===a&&(ei=null),H(Xr)}var Xr=xe(0);function Ha(a){for(var c=a;c!==null;){if(c.tag===13){var p=c.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||wv(p)||bv(p)))return c}else if(c.tag===19&&(c.memoizedProps.revealOrder==="forwards"||c.memoizedProps.revealOrder==="backwards"||c.memoizedProps.revealOrder==="unstable_legacy-backwards"||c.memoizedProps.revealOrder==="together")){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var cs=0,Qn=null,er=null,ti=null,Eo=!1,al=!1,oo=!1,Ms=0,Fc=0,Bc=null,Ed=0;function ki(){throw Error(r(321))}function $0(a,c){if(c===null)return!1;for(var p=0;p<c.length&&p<a.length;p++)if(!b(a[p],c[p]))return!1;return!0}function Z0(a,c,p,y,R,P){return cs=P,Qn=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,Ae.H=a===null||a.memoizedState===null?Tb:Dx,oo=!1,P=p(y,R),oo=!1,al&&(P=lc(c,p,y,R)),Ad(a),P}function Ad(a){Ae.H=a1;var c=er!==null&&er.next!==null;if(cs=0,ti=er=Qn=null,Eo=!1,Fc=0,Bc=null,c)throw Error(r(300));a===null||la||(a=a.dependencies,a!==null&&yd(a)&&(la=!0))}function lc(a,c,p,y){Qn=a;var R=0;do{if(al&&(Bc=null),Fc=0,al=!1,25<=R)throw Error(r(301));if(R+=1,ti=er=null,a.updateQueue!=null){var P=a.updateQueue;P.lastEffect=null,P.events=null,P.stores=null,P.memoCache!=null&&(P.memoCache.index=0)}Ae.H=Nb,P=c(p,y)}while(al);return P}function Sx(){var a=Ae.H,c=a.useState()[0];return c=typeof c.then=="function"?Uc(c):c,a=a.useState()[0],(er!==null?er.memoizedState:null)!==a&&(Qn.flags|=1024),c}function J0(){var a=Ms!==0;return Ms=0,a}function e1(a,c,p){c.updateQueue=a.updateQueue,c.flags&=-2053,a.lanes&=~p}function Sd(a){if(Eo){for(a=a.memoizedState;a!==null;){var c=a.queue;c!==null&&(c.pending=null),a=a.next}Eo=!1}cs=0,ti=er=Qn=null,al=!1,Fc=Ms=0,Bc=null}function oa(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ti===null?Qn.memoizedState=ti=a:ti=ti.next=a,ti}function us(){if(er===null){var a=Qn.alternate;a=a!==null?a.memoizedState:null}else a=er.next;var c=ti===null?Qn.memoizedState:ti.next;if(c!==null)ti=c,er=a;else{if(a===null)throw Qn.alternate===null?Error(r(467)):Error(r(310));er=a,a={memoizedState:er.memoizedState,baseState:er.baseState,baseQueue:er.baseQueue,queue:er.queue,next:null},ti===null?Qn.memoizedState=ti=a:ti=ti.next=a}return ti}function _f(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Uc(a){var c=Fc;return Fc+=1,Bc===null&&(Bc=[]),a=Mt(Bc,a,c),c=Qn,(ti===null?c.memoizedState:ti.next)===null&&(c=c.alternate,Ae.H=c===null||c.memoizedState===null?Tb:Dx),a}function ch(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Uc(a);if(a.$$typeof===k)return Aa(a)}throw Error(r(438,String(a)))}function wu(a){var c=null,p=Qn.updateQueue;if(p!==null&&(c=p.memoCache),c==null){var y=Qn.alternate;y!==null&&(y=y.updateQueue,y!==null&&(y=y.memoCache,y!=null&&(c={data:y.data.map(function(R){return R.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),p===null&&(p=_f(),Qn.updateQueue=p),p.memoCache=c,p=c.data[c.index],p===void 0)for(p=c.data[c.index]=Array(a),y=0;y<a;y++)p[y]=Q;return c.index++,p}function ql(a,c){return typeof c=="function"?c(a):c}function Td(a){var c=us();return uh(c,er,a)}function uh(a,c,p){var y=a.queue;if(y===null)throw Error(r(311));y.lastRenderedReducer=p;var R=a.baseQueue,P=y.pending;if(P!==null){if(R!==null){var se=R.next;R.next=P.next,P.next=se}c.baseQueue=R=P,y.pending=null}if(P=a.baseState,R===null)a.memoizedState=P;else{c=R.next;var Ee=se=null,We=null,xt=c,Vt=!1;do{var Yt=xt.lane&-536870913;if(Yt!==xt.lane?(Vr&Yt)===Yt:(cs&Yt)===Yt){var bt=xt.revertLane;if(bt===0)We!==null&&(We=We.next={lane:0,revertLane:0,gesture:null,action:xt.action,hasEagerState:xt.hasEagerState,eagerState:xt.eagerState,next:null}),Yt===T&&(Vt=!0);else if((cs&bt)===bt){xt=xt.next,bt===T&&(Vt=!0);continue}else Yt={lane:0,revertLane:xt.revertLane,gesture:null,action:xt.action,hasEagerState:xt.hasEagerState,eagerState:xt.eagerState,next:null},We===null?(Ee=We=Yt,se=P):We=We.next=Yt,Qn.lanes|=bt,gh|=bt;Yt=xt.action,oo&&p(P,Yt),P=xt.hasEagerState?xt.eagerState:p(P,Yt)}else bt={lane:Yt,revertLane:xt.revertLane,gesture:xt.gesture,action:xt.action,hasEagerState:xt.hasEagerState,eagerState:xt.eagerState,next:null},We===null?(Ee=We=bt,se=P):We=We.next=bt,Qn.lanes|=Yt,gh|=Yt;xt=xt.next}while(xt!==null&&xt!==c);if(We===null?se=P:We.next=Ee,!b(P,a.memoizedState)&&(la=!0,Vt&&(p=O,p!==null)))throw p;a.memoizedState=P,a.baseState=se,a.baseQueue=We,y.lastRenderedState=P}return R===null&&(y.lanes=0),[a.memoizedState,y.dispatch]}function Nd(a){var c=us(),p=c.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=a;var y=p.dispatch,R=p.pending,P=c.memoizedState;if(R!==null){p.pending=null;var se=R=R.next;do P=a(P,se.action),se=se.next;while(se!==R);b(P,c.memoizedState)||(la=!0),c.memoizedState=P,c.baseQueue===null&&(c.baseState=P),p.lastRenderedState=P}return[P,y]}function Cd(a,c,p){var y=Qn,R=us(),P=kr;if(P){if(p===void 0)throw Error(r(407));p=p()}else p=c();var se=!b((er||R).memoizedState,p);if(se&&(R.memoizedState=p,la=!0),R=R.queue,Tx(n1.bind(null,y,R,a),[a]),R.getSnapshot!==c||se||ti!==null&&ti.memoizedState.tag&1){if(y.flags|=2048,Eu(9,{destroy:void 0},t1.bind(null,y,R,p,c),null),Vi===null)throw Error(r(349));P||(cs&127)!==0||cc(y,c,p)}return p}function cc(a,c,p){a.flags|=16384,a={getSnapshot:c,value:p},c=Qn.updateQueue,c===null?(c=_f(),Qn.updateQueue=c,c.stores=[a]):(p=c.stores,p===null?c.stores=[a]:p.push(a))}function t1(a,c,p,y){c.value=p,c.getSnapshot=y,Jm(c)&&r1(a)}function n1(a,c,p){return p(function(){Jm(c)&&r1(a)})}function Jm(a){var c=a.getSnapshot;a=a.value;try{var p=c();return!b(a,p)}catch{return!0}}function r1(a){var c=ac(a,2);c!==null&&hl(c,a,2)}function Vc(a){var c=oa();if(typeof a=="function"){var p=a;if(a=p(),oo){Gt(!0);try{p()}finally{Gt(!1)}}}return c.memoizedState=c.baseState=a,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ql,lastRenderedState:a},c}function eg(a,c,p,y){return a.baseState=p,uh(a,er,typeof y=="function"?y:ql)}function tg(a,c,p,y,R){if(sg(a))throw Error(r(485));if(a=c.action,a!==null){var P={payload:R,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(se){P.listeners.push(se)}};Ae.T!==null?p(!0):P.isTransition=!1,y(P),p=c.pending,p===null?(P.next=c.pending=P,ng(c,P)):(P.next=p.next,c.pending=p.next=P)}}function ng(a,c){var p=c.action,y=c.payload,R=a.state;if(c.isTransition){var P=Ae.T,se={};Ae.T=se;try{var Ee=p(R,y),We=Ae.S;We!==null&&We(se,Ee),i1(a,c,Ee)}catch(xt){bu(a,c,xt)}finally{P!==null&&se.types!==null&&(P.types=se.types),Ae.T=P}}else try{P=p(R,y),i1(a,c,P)}catch(xt){bu(a,c,xt)}}function i1(a,c,p){p!==null&&typeof p=="object"&&typeof p.then=="function"?p.then(function(y){rg(a,c,y)},function(y){return bu(a,c,y)}):rg(a,c,p)}function rg(a,c,p){c.status="fulfilled",c.value=p,Id(c),a.state=p,c=a.pending,c!==null&&(p=c.next,p===c?a.pending=null:(p=p.next,c.next=p,ng(a,p)))}function bu(a,c,p){var y=a.pending;if(a.pending=null,y!==null){y=y.next;do c.status="rejected",c.reason=p,Id(c),c=c.next;while(c!==y)}a.action=null}function Id(a){a=a.listeners;for(var c=0;c<a.length;c++)(0,a[c])()}function yf(a,c){return c}function Gl(a,c){if(kr){var p=Vi.formState;if(p!==null){e:{var y=Qn;if(kr){if(Bi){t:{for(var R=Bi,P=ls;R.nodeType!==8;){if(!P){R=null;break t}if(R=Wl(R.nextSibling),R===null){R=null;break t}}P=R.data,R=P==="F!"||P==="F"?R:null}if(R){Bi=Wl(R.nextSibling),y=R.data==="F!";break e}}Mc(y)}y=!1}y&&(c=p[0])}}return p=oa(),p.memoizedState=p.baseState=c,y={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yf,lastRenderedState:c},p.queue=y,p=Eb.bind(null,Qn,y),y.dispatch=p,y=Vc(!1),P=Ox.bind(null,Qn,!1,y.queue),y=oa(),R={state:c,dispatch:null,action:a,pending:null},y.queue=R,p=tg.bind(null,Qn,R,P,p),R.dispatch=p,y.memoizedState=a,[c,p,!1]}function uc(a){var c=us();return hc(c,er,a)}function hc(a,c,p){if(c=uh(a,c,yf)[0],a=Td(ql)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var y=Uc(c)}catch(se){throw se===Qe?Fe:se}else y=c;c=us();var R=c.queue,P=R.dispatch;return p!==c.memoizedState&&(Qn.flags|=2048,Eu(9,{destroy:void 0},Rd.bind(null,R,p),null)),[y,P,a]}function Rd(a,c){a.action=c}function Od(a){var c=us(),p=er;if(p!==null)return hc(c,p,a);us(),c=c.memoizedState,p=us();var y=p.queue.dispatch;return p.memoizedState=a,[c,y,!1]}function Eu(a,c,p,y){return a={tag:a,create:p,deps:y,inst:c,next:null},c=Qn.updateQueue,c===null&&(c=_f(),Qn.updateQueue=c),p=c.lastEffect,p===null?c.lastEffect=a.next=a:(y=p.next,p.next=a,a.next=y,c.lastEffect=a),a}function ig(){return us().memoizedState}function hh(a,c,p,y){var R=oa();Qn.flags|=a,R.memoizedState=Eu(1|c,{destroy:void 0},p,y===void 0?null:y)}function fh(a,c,p,y){var R=us();y=y===void 0?null:y;var P=R.memoizedState.inst;er!==null&&y!==null&&$0(y,er.memoizedState.deps)?R.memoizedState=Eu(c,P,p,y):(Qn.flags|=a,R.memoizedState=Eu(1|c,P,p,y))}function cb(a,c){hh(8390656,8,a,c)}function Tx(a,c){fh(2048,8,a,c)}function M7(a){Qn.flags|=4;var c=Qn.updateQueue;if(c===null)c=_f(),Qn.updateQueue=c,c.events=[a];else{var p=c.events;p===null?c.events=[a]:p.push(a)}}function ub(a){var c=us().memoizedState;return M7({ref:c,nextImpl:a}),function(){if((mi&2)!==0)throw Error(r(440));return c.impl.apply(void 0,arguments)}}function hb(a,c){return fh(4,2,a,c)}function fb(a,c){return fh(4,4,a,c)}function db(a,c){if(typeof c=="function"){a=a();var p=c(a);return function(){typeof p=="function"?p():c(null)}}if(c!=null)return a=a(),c.current=a,function(){c.current=null}}function mb(a,c,p){p=p!=null?p.concat([a]):null,fh(4,4,db.bind(null,c,a),p)}function Nx(){}function gb(a,c){var p=us();c=c===void 0?null:c;var y=p.memoizedState;return c!==null&&$0(c,y[1])?y[0]:(p.memoizedState=[a,c],a)}function pb(a,c){var p=us();c=c===void 0?null:c;var y=p.memoizedState;if(c!==null&&$0(c,y[1]))return y[0];if(y=a(),oo){Gt(!0);try{a()}finally{Gt(!1)}}return p.memoizedState=[y,c],y}function Cx(a,c,p){return p===void 0||(cs&1073741824)!==0&&(Vr&261930)===0?a.memoizedState=c:(a.memoizedState=p,a=x3(),Qn.lanes|=a,gh|=a,p)}function xb(a,c,p,y){return b(p,c)?p:Cr.current!==null?(a=Cx(a,p,y),b(a,c)||(la=!0),a):(cs&42)===0||(cs&1073741824)!==0&&(Vr&261930)===0?(la=!0,a.memoizedState=p):(a=x3(),Qn.lanes|=a,gh|=a,c)}function vb(a,c,p,y,R){var P=ve.p;ve.p=P!==0&&8>P?P:8;var se=Ae.T,Ee={};Ae.T=Ee,Ox(a,!1,c,p);try{var We=R(),xt=Ae.S;if(xt!==null&&xt(Ee,We),We!==null&&typeof We=="object"&&typeof We.then=="function"){var Vt=me(We,y);s1(a,c,Vt,Al(a))}else s1(a,c,y,Al(a))}catch(Yt){s1(a,c,{then:function(){},status:"rejected",reason:Yt},Al())}finally{ve.p=P,se!==null&&Ee.types!==null&&(se.types=Ee.types),Ae.T=se}}function L7(){}function Ix(a,c,p,y){if(a.tag!==5)throw Error(r(476));var R=_b(a).queue;vb(a,R,c,Re,p===null?L7:function(){return yb(a),p(y)})}function _b(a){var c=a.memoizedState;if(c!==null)return c;c={memoizedState:Re,baseState:Re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ql,lastRenderedState:Re},next:null};var p={};return c.next={memoizedState:p,baseState:p,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ql,lastRenderedState:p},next:null},a.memoizedState=c,a=a.alternate,a!==null&&(a.memoizedState=c),c}function yb(a){var c=_b(a);c.next===null&&(c=a.alternate.memoizedState),s1(a,c.next.queue,{},Al())}function Rx(){return Aa(b1)}function wb(){return us().memoizedState}function bb(){return us().memoizedState}function k7(a){for(var c=a.return;c!==null;){switch(c.tag){case 24:case 3:var p=Al();a=ir(p);var y=Sr(c,a,p);y!==null&&(hl(y,c,p),fi(y,c,p)),c={cache:lh()},a.payload=c;return}c=c.return}}function P7(a,c,p){var y=Al();p={lane:y,revertLane:0,gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},sg(a)?Ab(c,p):(p=fd(a,c,p,y),p!==null&&(hl(p,a,y),Sb(p,c,y)))}function Eb(a,c,p){var y=Al();s1(a,c,p,y)}function s1(a,c,p,y){var R={lane:y,revertLane:0,gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null};if(sg(a))Ab(c,R);else{var P=a.alternate;if(a.lanes===0&&(P===null||P.lanes===0)&&(P=c.lastRenderedReducer,P!==null))try{var se=c.lastRenderedState,Ee=P(se,p);if(R.hasEagerState=!0,R.eagerState=Ee,b(Ee,se))return ff(a,c,R,0),Vi===null&&hf(),!1}catch{}finally{}if(p=fd(a,c,R,y),p!==null)return hl(p,a,y),Sb(p,c,y),!0}return!1}function Ox(a,c,p,y){if(y={lane:2,revertLane:cv(),gesture:null,action:y,hasEagerState:!1,eagerState:null,next:null},sg(a)){if(c)throw Error(r(479))}else c=fd(a,p,y,2),c!==null&&hl(c,a,2)}function sg(a){var c=a.alternate;return a===Qn||c!==null&&c===Qn}function Ab(a,c){al=Eo=!0;var p=a.pending;p===null?c.next=c:(c.next=p.next,p.next=c),a.pending=c}function Sb(a,c,p){if((p&4194048)!==0){var y=c.lanes;y&=a.pendingLanes,p|=y,c.lanes=p,Qr(a,p)}}var a1={readContext:Aa,use:ch,useCallback:ki,useContext:ki,useEffect:ki,useImperativeHandle:ki,useLayoutEffect:ki,useInsertionEffect:ki,useMemo:ki,useReducer:ki,useRef:ki,useState:ki,useDebugValue:ki,useDeferredValue:ki,useTransition:ki,useSyncExternalStore:ki,useId:ki,useHostTransitionStatus:ki,useFormState:ki,useActionState:ki,useOptimistic:ki,useMemoCache:ki,useCacheRefresh:ki};a1.useEffectEvent=ki;var Tb={readContext:Aa,use:ch,useCallback:function(a,c){return oa().memoizedState=[a,c===void 0?null:c],a},useContext:Aa,useEffect:cb,useImperativeHandle:function(a,c,p){p=p!=null?p.concat([a]):null,hh(4194308,4,db.bind(null,c,a),p)},useLayoutEffect:function(a,c){return hh(4194308,4,a,c)},useInsertionEffect:function(a,c){hh(4,2,a,c)},useMemo:function(a,c){var p=oa();c=c===void 0?null:c;var y=a();if(oo){Gt(!0);try{a()}finally{Gt(!1)}}return p.memoizedState=[y,c],y},useReducer:function(a,c,p){var y=oa();if(p!==void 0){var R=p(c);if(oo){Gt(!0);try{p(c)}finally{Gt(!1)}}}else R=c;return y.memoizedState=y.baseState=R,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:R},y.queue=a,a=a.dispatch=P7.bind(null,Qn,a),[y.memoizedState,a]},useRef:function(a){var c=oa();return a={current:a},c.memoizedState=a},useState:function(a){a=Vc(a);var c=a.queue,p=Eb.bind(null,Qn,c);return c.dispatch=p,[a.memoizedState,p]},useDebugValue:Nx,useDeferredValue:function(a,c){var p=oa();return Cx(p,a,c)},useTransition:function(){var a=Vc(!1);return a=vb.bind(null,Qn,a.queue,!0,!1),oa().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,c,p){var y=Qn,R=oa();if(kr){if(p===void 0)throw Error(r(407));p=p()}else{if(p=c(),Vi===null)throw Error(r(349));(Vr&127)!==0||cc(y,c,p)}R.memoizedState=p;var P={value:p,getSnapshot:c};return R.queue=P,cb(n1.bind(null,y,P,a),[a]),y.flags|=2048,Eu(9,{destroy:void 0},t1.bind(null,y,P,p,c),null),p},useId:function(){var a=oa(),c=Vi.identifierPrefix;if(kr){var p=il,y=rl;p=(y&~(1<<32-It(y)-1)).toString(32)+p,c="_"+c+"R_"+p,p=Ms++,0<p&&(c+="H"+p.toString(32)),c+="_"}else p=Ed++,c="_"+c+"r_"+p.toString(32)+"_";return a.memoizedState=c},useHostTransitionStatus:Rx,useFormState:Gl,useActionState:Gl,useOptimistic:function(a){var c=oa();c.memoizedState=c.baseState=a;var p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=p,c=Ox.bind(null,Qn,!0,p),p.dispatch=c,[a,c]},useMemoCache:wu,useCacheRefresh:function(){return oa().memoizedState=k7.bind(null,Qn)},useEffectEvent:function(a){var c=oa(),p={impl:a};return c.memoizedState=p,function(){if((mi&2)!==0)throw Error(r(440));return p.impl.apply(void 0,arguments)}}},Dx={readContext:Aa,use:ch,useCallback:gb,useContext:Aa,useEffect:Tx,useImperativeHandle:mb,useInsertionEffect:hb,useLayoutEffect:fb,useMemo:pb,useReducer:Td,useRef:ig,useState:function(){return Td(ql)},useDebugValue:Nx,useDeferredValue:function(a,c){var p=us();return xb(p,er.memoizedState,a,c)},useTransition:function(){var a=Td(ql)[0],c=us().memoizedState;return[typeof a=="boolean"?a:Uc(a),c]},useSyncExternalStore:Cd,useId:wb,useHostTransitionStatus:Rx,useFormState:uc,useActionState:uc,useOptimistic:function(a,c){var p=us();return eg(p,er,a,c)},useMemoCache:wu,useCacheRefresh:bb};Dx.useEffectEvent=ub;var Nb={readContext:Aa,use:ch,useCallback:gb,useContext:Aa,useEffect:Tx,useImperativeHandle:mb,useInsertionEffect:hb,useLayoutEffect:fb,useMemo:pb,useReducer:Nd,useRef:ig,useState:function(){return Nd(ql)},useDebugValue:Nx,useDeferredValue:function(a,c){var p=us();return er===null?Cx(p,a,c):xb(p,er.memoizedState,a,c)},useTransition:function(){var a=Nd(ql)[0],c=us().memoizedState;return[typeof a=="boolean"?a:Uc(a),c]},useSyncExternalStore:Cd,useId:wb,useHostTransitionStatus:Rx,useFormState:Od,useActionState:Od,useOptimistic:function(a,c){var p=us();return er!==null?eg(p,er,a,c):(p.baseState=a,[a,p.queue.dispatch])},useMemoCache:wu,useCacheRefresh:bb};Nb.useEffectEvent=ub;function Mx(a,c,p,y){c=a.memoizedState,p=p(y,c),p=p==null?c:w({},c,p),a.memoizedState=p,a.lanes===0&&(a.updateQueue.baseState=p)}var Lx={enqueueSetState:function(a,c,p){a=a._reactInternals;var y=Al(),R=ir(y);R.payload=c,p!=null&&(R.callback=p),c=Sr(a,R,y),c!==null&&(hl(c,a,y),fi(c,a,y))},enqueueReplaceState:function(a,c,p){a=a._reactInternals;var y=Al(),R=ir(y);R.tag=1,R.payload=c,p!=null&&(R.callback=p),c=Sr(a,R,y),c!==null&&(hl(c,a,y),fi(c,a,y))},enqueueForceUpdate:function(a,c){a=a._reactInternals;var p=Al(),y=ir(p);y.tag=2,c!=null&&(y.callback=c),c=Sr(a,y,p),c!==null&&(hl(c,a,p),fi(c,a,p))}};function Cb(a,c,p,y,R,P,se){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(y,P,se):c.prototype&&c.prototype.isPureReactComponent?!N(p,y)||!N(R,P):!0}function Ib(a,c,p,y){a=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(p,y),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(p,y),c.state!==a&&Lx.enqueueReplaceState(c,c.state,null)}function wf(a,c){var p=c;if("ref"in c){p={};for(var y in c)y!=="ref"&&(p[y]=c[y])}if(a=a.defaultProps){p===c&&(p=w({},p));for(var R in a)p[R]===void 0&&(p[R]=a[R])}return p}function Rb(a){uf(a)}function Ob(a){console.error(a)}function Db(a){uf(a)}function ag(a,c){try{var p=a.onUncaughtError;p(c.value,{componentStack:c.stack})}catch(y){setTimeout(function(){throw y})}}function Mb(a,c,p){try{var y=a.onCaughtError;y(p.value,{componentStack:p.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(R){setTimeout(function(){throw R})}}function kx(a,c,p){return p=ir(p),p.tag=3,p.payload={element:null},p.callback=function(){ag(a,c)},p}function Lb(a){return a=ir(a),a.tag=3,a}function kb(a,c,p,y){var R=p.type.getDerivedStateFromError;if(typeof R=="function"){var P=y.value;a.payload=function(){return R(P)},a.callback=function(){Mb(c,p,y)}}var se=p.stateNode;se!==null&&typeof se.componentDidCatch=="function"&&(a.callback=function(){Mb(c,p,y),typeof R!="function"&&(ph===null?ph=new Set([this]):ph.add(this));var Ee=y.stack;this.componentDidCatch(y.value,{componentStack:Ee!==null?Ee:""})})}function j7(a,c,p,y,R){if(p.flags|=32768,y!==null&&typeof y=="object"&&typeof y.then=="function"){if(c=p.alternate,c!==null&&Pc(c,p,R,!0),p=es.current,p!==null){switch(p.tag){case 31:case 13:return ei===null?vg():p.alternate===null&&Ls===0&&(Ls=3),p.flags&=-257,p.flags|=65536,p.lanes=R,y===Ze?p.flags|=16384:(c=p.updateQueue,c===null?p.updateQueue=new Set([y]):c.add(y),av(a,y,R)),!1;case 22:return p.flags|=65536,y===Ze?p.flags|=16384:(c=p.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([y])},p.updateQueue=c):(p=c.retryQueue,p===null?c.retryQueue=new Set([y]):p.add(y)),av(a,y,R)),!1}throw Error(r(435,p.tag))}return av(a,y,R),vg(),!1}if(kr)return c=es.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=R,y!==wl&&(a=Error(r(422),{cause:y}),ah(el(a,p)))):(y!==wl&&(c=Error(r(423),{cause:y}),ah(el(c,p))),a=a.current.alternate,a.flags|=65536,R&=-R,a.lanes|=R,y=el(y,p),R=kx(a.stateNode,y,R),Ys(a,R),Ls!==4&&(Ls=2)),!1;var P=Error(r(520),{cause:y});if(P=el(P,p),m1===null?m1=[P]:m1.push(P),Ls!==4&&(Ls=2),c===null)return!0;y=el(y,p),p=c;do{switch(p.tag){case 3:return p.flags|=65536,a=R&-R,p.lanes|=a,a=kx(p.stateNode,y,a),Ys(p,a),!1;case 1:if(c=p.type,P=p.stateNode,(p.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||P!==null&&typeof P.componentDidCatch=="function"&&(ph===null||!ph.has(P))))return p.flags|=65536,R&=-R,p.lanes|=R,R=Lb(R),kb(R,a,p,y),Ys(p,R),!1}p=p.return}while(p!==null);return!1}var Px=Error(r(461)),la=!1;function lo(a,c,p,y){c.child=a===null?yr(c,null,p,y):Ui(c,a.child,p,y)}function Pb(a,c,p,y,R){p=p.render;var P=c.ref;if("ref"in y){var se={};for(var Ee in y)Ee!=="ref"&&(se[Ee]=y[Ee])}else se=y;return jc(c),y=Z0(a,c,p,se,P,R),Ee=J0(),a!==null&&!la?(e1(a,c,R),Au(a,c,R)):(kr&&Ee&&X0(c),c.flags|=1,lo(a,c,y,R),c.child)}function jb(a,c,p,y,R){if(a===null){var P=p.type;return typeof P=="function"&&!md(P)&&P.defaultProps===void 0&&p.compare===null?(c.tag=15,c.type=P,Fb(a,c,P,y,R)):(a=rh(p.type,null,y,c,c.mode,R),a.ref=c.ref,a.return=c,c.child=a)}if(P=a.child,!qx(a,R)){var se=P.memoizedProps;if(p=p.compare,p=p!==null?p:N,p(se,y)&&a.ref===c.ref)return Au(a,c,R)}return c.flags|=1,a=Jo(P,y),a.ref=c.ref,a.return=c,c.child=a}function Fb(a,c,p,y,R){if(a!==null){var P=a.memoizedProps;if(N(P,y)&&a.ref===c.ref)if(la=!1,c.pendingProps=y=P,qx(a,R))(a.flags&131072)!==0&&(la=!0);else return c.lanes=a.lanes,Au(a,c,R)}return jx(a,c,p,y,R)}function Bb(a,c,p,y){var R=y.children,P=a!==null?a.memoizedState:null;if(a===null&&c.stateNode===null&&(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),y.mode==="hidden"){if((c.flags&128)!==0){if(P=P!==null?P.baseLanes|p:p,a!==null){for(y=c.child=a.child,R=0;y!==null;)R=R|y.lanes|y.childLanes,y=y.sibling;y=R&~P}else y=0,c.child=null;return Ub(a,c,P,p,y)}if((p&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},a!==null&&De(c,P!==null?P.cachePool:null),P!==null?Ji(c,P):ii(),Os(c);else return y=c.lanes=536870912,Ub(a,c,P!==null?P.baseLanes|p:p,p,y)}else P!==null?(De(c,P.cachePool),Ji(c,P),Ds(),c.memoizedState=null):(a!==null&&De(c,null),ii(),Ds());return lo(a,c,R,p),c.child}function o1(a,c){return a!==null&&a.tag===22||c.stateNode!==null||(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.sibling}function Ub(a,c,p,y,R){var P=Ne();return P=P===null?null:{parent:vs._currentValue,pool:P},c.memoizedState={baseLanes:p,cachePool:P},a!==null&&De(c,null),ii(),Os(c),a!==null&&Pc(a,c,y,!0),c.childLanes=R,null}function og(a,c){return c=cg({mode:c.mode,children:c.children},a.mode),c.ref=a.ref,a.child=c,c.return=a,c}function Vb(a,c,p){return Ui(c,a.child,null,p),a=og(c,c.pendingProps),a.flags|=2,vi(c),c.memoizedState=null,a}function F7(a,c,p){var y=c.pendingProps,R=(c.flags&128)!==0;if(c.flags&=-129,a===null){if(kr){if(y.mode==="hidden")return a=og(c,y),c.lanes=536870912,o1(null,a);if(di(c),(a=Bi)?(a=J3(a,ls),a=a!==null&&a.data==="&"?a:null,a!==null&&(c.memoizedState={dehydrated:a,treeContext:Dc!==null?{id:rl,overflow:il}:null,retryLane:536870912,hydrationErrors:null},p=gd(a),p.return=c,c.child=p,ba=c,Bi=null)):a=null,a===null)throw Mc(c);return c.lanes=536870912,null}return og(c,y)}var P=a.memoizedState;if(P!==null){var se=P.dehydrated;if(di(c),R)if(c.flags&256)c.flags&=-257,c=Vb(a,c,p);else if(c.memoizedState!==null)c.child=a.child,c.flags|=128,c=null;else throw Error(r(558));else if(la||Pc(a,c,p,!1),R=(p&a.childLanes)!==0,la||R){if(y=Vi,y!==null&&(se=Hi(y,p),se!==0&&se!==P.retryLane))throw P.retryLane=se,ac(a,se),hl(y,a,se),Px;vg(),c=Vb(a,c,p)}else a=P.treeContext,Bi=Wl(se.nextSibling),ba=c,kr=!0,ao=null,ls=!1,a!==null&&$m(c,a),c=og(c,y),c.flags|=4096;return c}return a=Jo(a.child,{mode:y.mode,children:y.children}),a.ref=c.ref,c.child=a,a.return=c,a}function lg(a,c){var p=c.ref;if(p===null)a!==null&&a.ref!==null&&(c.flags|=4194816);else{if(typeof p!="function"&&typeof p!="object")throw Error(r(284));(a===null||a.ref!==p)&&(c.flags|=4194816)}}function jx(a,c,p,y,R){return jc(c),p=Z0(a,c,p,y,void 0,R),y=J0(),a!==null&&!la?(e1(a,c,R),Au(a,c,R)):(kr&&y&&X0(c),c.flags|=1,lo(a,c,p,R),c.child)}function zb(a,c,p,y,R,P){return jc(c),c.updateQueue=null,p=lc(c,y,p,R),Ad(a),y=J0(),a!==null&&!la?(e1(a,c,P),Au(a,c,P)):(kr&&y&&X0(c),c.flags|=1,lo(a,c,p,P),c.child)}function Hb(a,c,p,y,R){if(jc(c),c.stateNode===null){var P=wa,se=p.contextType;typeof se=="object"&&se!==null&&(P=Aa(se)),P=new p(y,P),c.memoizedState=P.state!==null&&P.state!==void 0?P.state:null,P.updater=Lx,c.stateNode=P,P._reactInternals=c,P=c.stateNode,P.props=y,P.state=c.memoizedState,P.refs={},vn(c),se=p.contextType,P.context=typeof se=="object"&&se!==null?Aa(se):wa,P.state=c.memoizedState,se=p.getDerivedStateFromProps,typeof se=="function"&&(Mx(c,p,se,y),P.state=c.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof P.getSnapshotBeforeUpdate=="function"||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(se=P.state,typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount(),se!==P.state&&Lx.enqueueReplaceState(P,P.state,null),Is(c,y,P,R),Li(),P.state=c.memoizedState),typeof P.componentDidMount=="function"&&(c.flags|=4194308),y=!0}else if(a===null){P=c.stateNode;var Ee=c.memoizedProps,We=wf(p,Ee);P.props=We;var xt=P.context,Vt=p.contextType;se=wa,typeof Vt=="object"&&Vt!==null&&(se=Aa(Vt));var Yt=p.getDerivedStateFromProps;Vt=typeof Yt=="function"||typeof P.getSnapshotBeforeUpdate=="function",Ee=c.pendingProps!==Ee,Vt||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(Ee||xt!==se)&&Ib(c,P,y,se),In=!1;var bt=c.memoizedState;P.state=bt,Is(c,y,P,R),Li(),xt=c.memoizedState,Ee||bt!==xt||In?(typeof Yt=="function"&&(Mx(c,p,Yt,y),xt=c.memoizedState),(We=In||Cb(c,p,We,y,bt,xt,se))?(Vt||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount()),typeof P.componentDidMount=="function"&&(c.flags|=4194308)):(typeof P.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=y,c.memoizedState=xt),P.props=y,P.state=xt,P.context=se,y=We):(typeof P.componentDidMount=="function"&&(c.flags|=4194308),y=!1)}else{P=c.stateNode,Zi(a,c),se=c.memoizedProps,Vt=wf(p,se),P.props=Vt,Yt=c.pendingProps,bt=P.context,xt=p.contextType,We=wa,typeof xt=="object"&&xt!==null&&(We=Aa(xt)),Ee=p.getDerivedStateFromProps,(xt=typeof Ee=="function"||typeof P.getSnapshotBeforeUpdate=="function")||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(se!==Yt||bt!==We)&&Ib(c,P,y,We),In=!1,bt=c.memoizedState,P.state=bt,Is(c,y,P,R),Li();var Ct=c.memoizedState;se!==Yt||bt!==Ct||In||a!==null&&a.dependencies!==null&&yd(a.dependencies)?(typeof Ee=="function"&&(Mx(c,p,Ee,y),Ct=c.memoizedState),(Vt=In||Cb(c,p,Vt,y,bt,Ct,We)||a!==null&&a.dependencies!==null&&yd(a.dependencies))?(xt||typeof P.UNSAFE_componentWillUpdate!="function"&&typeof P.componentWillUpdate!="function"||(typeof P.componentWillUpdate=="function"&&P.componentWillUpdate(y,Ct,We),typeof P.UNSAFE_componentWillUpdate=="function"&&P.UNSAFE_componentWillUpdate(y,Ct,We)),typeof P.componentDidUpdate=="function"&&(c.flags|=4),typeof P.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof P.componentDidUpdate!="function"||se===a.memoizedProps&&bt===a.memoizedState||(c.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||se===a.memoizedProps&&bt===a.memoizedState||(c.flags|=1024),c.memoizedProps=y,c.memoizedState=Ct),P.props=y,P.state=Ct,P.context=We,y=Vt):(typeof P.componentDidUpdate!="function"||se===a.memoizedProps&&bt===a.memoizedState||(c.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||se===a.memoizedProps&&bt===a.memoizedState||(c.flags|=1024),y=!1)}return P=y,lg(a,c),y=(c.flags&128)!==0,P||y?(P=c.stateNode,p=y&&typeof p.getDerivedStateFromError!="function"?null:P.render(),c.flags|=1,a!==null&&y?(c.child=Ui(c,a.child,null,R),c.child=Ui(c,null,p,R)):lo(a,c,p,R),c.memoizedState=P.state,a=c.child):a=Au(a,c,R),a}function qb(a,c,p,y){return _u(),c.flags|=256,lo(a,c,p,y),c.child}var Fx={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Bx(a){return{baseLanes:a,cachePool:Be()}}function Ux(a,c,p){return a=a!==null?a.childLanes&~p:0,c&&(a|=El),a}function Gb(a,c,p){var y=c.pendingProps,R=!1,P=(c.flags&128)!==0,se;if((se=P)||(se=a!==null&&a.memoizedState===null?!1:(Xr.current&2)!==0),se&&(R=!0,c.flags&=-129),se=(c.flags&32)!==0,c.flags&=-33,a===null){if(kr){if(R?_s(c):Ds(),(a=Bi)?(a=J3(a,ls),a=a!==null&&a.data!=="&"?a:null,a!==null&&(c.memoizedState={dehydrated:a,treeContext:Dc!==null?{id:rl,overflow:il}:null,retryLane:536870912,hydrationErrors:null},p=gd(a),p.return=c,c.child=p,ba=c,Bi=null)):a=null,a===null)throw Mc(c);return bv(a)?c.lanes=32:c.lanes=536870912,null}var Ee=y.children;return y=y.fallback,R?(Ds(),R=c.mode,Ee=cg({mode:"hidden",children:Ee},R),y=Oc(y,R,p,null),Ee.return=c,y.return=c,Ee.sibling=y,c.child=Ee,y=c.child,y.memoizedState=Bx(p),y.childLanes=Ux(a,se,p),c.memoizedState=Fx,o1(null,y)):(_s(c),Vx(c,Ee))}var We=a.memoizedState;if(We!==null&&(Ee=We.dehydrated,Ee!==null)){if(P)c.flags&256?(_s(c),c.flags&=-257,c=zx(a,c,p)):c.memoizedState!==null?(Ds(),c.child=a.child,c.flags|=128,c=null):(Ds(),Ee=y.fallback,R=c.mode,y=cg({mode:"visible",children:y.children},R),Ee=Oc(Ee,R,p,null),Ee.flags|=2,y.return=c,Ee.return=c,y.sibling=Ee,c.child=y,Ui(c,a.child,null,p),y=c.child,y.memoizedState=Bx(p),y.childLanes=Ux(a,se,p),c.memoizedState=Fx,c=o1(null,y));else if(_s(c),bv(Ee)){if(se=Ee.nextSibling&&Ee.nextSibling.dataset,se)var xt=se.dgst;se=xt,y=Error(r(419)),y.stack="",y.digest=se,ah({value:y,source:null,stack:null}),c=zx(a,c,p)}else if(la||Pc(a,c,p,!1),se=(p&a.childLanes)!==0,la||se){if(se=Vi,se!==null&&(y=Hi(se,p),y!==0&&y!==We.retryLane))throw We.retryLane=y,ac(a,y),hl(se,a,y),Px;wv(Ee)||vg(),c=zx(a,c,p)}else wv(Ee)?(c.flags|=192,c.child=a.child,c=null):(a=We.treeContext,Bi=Wl(Ee.nextSibling),ba=c,kr=!0,ao=null,ls=!1,a!==null&&$m(c,a),c=Vx(c,y.children),c.flags|=4096);return c}return R?(Ds(),Ee=y.fallback,R=c.mode,We=a.child,xt=We.sibling,y=Jo(We,{mode:"hidden",children:y.children}),y.subtreeFlags=We.subtreeFlags&65011712,xt!==null?Ee=Jo(xt,Ee):(Ee=Oc(Ee,R,p,null),Ee.flags|=2),Ee.return=c,y.return=c,y.sibling=Ee,c.child=y,o1(null,y),y=c.child,Ee=a.child.memoizedState,Ee===null?Ee=Bx(p):(R=Ee.cachePool,R!==null?(We=vs._currentValue,R=R.parent!==We?{parent:We,pool:We}:R):R=Be(),Ee={baseLanes:Ee.baseLanes|p,cachePool:R}),y.memoizedState=Ee,y.childLanes=Ux(a,se,p),c.memoizedState=Fx,o1(a.child,y)):(_s(c),p=a.child,a=p.sibling,p=Jo(p,{mode:"visible",children:y.children}),p.return=c,p.sibling=null,a!==null&&(se=c.deletions,se===null?(c.deletions=[a],c.flags|=16):se.push(a)),c.child=p,c.memoizedState=null,p)}function Vx(a,c){return c=cg({mode:"visible",children:c},a.mode),c.return=a,a.child=c}function cg(a,c){return a=Va(22,a,null,c),a.lanes=0,a}function zx(a,c,p){return Ui(c,a.child,null,p),a=Vx(c,c.pendingProps.children),a.flags|=2,c.memoizedState=null,a}function Wb(a,c,p){a.lanes|=c;var y=a.alternate;y!==null&&(y.lanes|=c),oh(a.return,c,p)}function Hx(a,c,p,y,R,P){var se=a.memoizedState;se===null?a.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:y,tail:p,tailMode:R,treeForkCount:P}:(se.isBackwards=c,se.rendering=null,se.renderingStartTime=0,se.last=y,se.tail=p,se.tailMode=R,se.treeForkCount=P)}function Yb(a,c,p){var y=c.pendingProps,R=y.revealOrder,P=y.tail;y=y.children;var se=Xr.current,Ee=(se&2)!==0;if(Ee?(se=se&1|2,c.flags|=128):se&=1,J(Xr,se),lo(a,c,y,p),y=kr?pf:0,!Ee&&a!==null&&(a.flags&128)!==0)e:for(a=c.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&Wb(a,p,c);else if(a.tag===19)Wb(a,p,c);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===c)break e;for(;a.sibling===null;){if(a.return===null||a.return===c)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(R){case"forwards":for(p=c.child,R=null;p!==null;)a=p.alternate,a!==null&&Ha(a)===null&&(R=p),p=p.sibling;p=R,p===null?(R=c.child,c.child=null):(R=p.sibling,p.sibling=null),Hx(c,!1,R,p,P,y);break;case"backwards":case"unstable_legacy-backwards":for(p=null,R=c.child,c.child=null;R!==null;){if(a=R.alternate,a!==null&&Ha(a)===null){c.child=R;break}a=R.sibling,R.sibling=p,p=R,R=a}Hx(c,!0,p,null,P,y);break;case"together":Hx(c,!1,null,null,void 0,y);break;default:c.memoizedState=null}return c.child}function Au(a,c,p){if(a!==null&&(c.dependencies=a.dependencies),gh|=c.lanes,(p&c.childLanes)===0)if(a!==null){if(Pc(a,c,p,!1),(p&c.childLanes)===0)return null}else return null;if(a!==null&&c.child!==a.child)throw Error(r(153));if(c.child!==null){for(a=c.child,p=Jo(a,a.pendingProps),c.child=p,p.return=c;a.sibling!==null;)a=a.sibling,p=p.sibling=Jo(a,a.pendingProps),p.return=c;p.sibling=null}return c.child}function qx(a,c){return(a.lanes&c)!==0?!0:(a=a.dependencies,!!(a!==null&&yd(a)))}function B7(a,c,p){switch(c.tag){case 3:Ue(c,c.stateNode.containerInfo),kc(c,vs,a.memoizedState.cache),_u();break;case 27:case 5:Ie(c);break;case 4:Ue(c,c.stateNode.containerInfo);break;case 10:kc(c,c.type,c.memoizedProps.value);break;case 31:if(c.memoizedState!==null)return c.flags|=128,di(c),null;break;case 13:var y=c.memoizedState;if(y!==null)return y.dehydrated!==null?(_s(c),c.flags|=128,null):(p&c.child.childLanes)!==0?Gb(a,c,p):(_s(c),a=Au(a,c,p),a!==null?a.sibling:null);_s(c);break;case 19:var R=(a.flags&128)!==0;if(y=(p&c.childLanes)!==0,y||(Pc(a,c,p,!1),y=(p&c.childLanes)!==0),R){if(y)return Yb(a,c,p);c.flags|=128}if(R=c.memoizedState,R!==null&&(R.rendering=null,R.tail=null,R.lastEffect=null),J(Xr,Xr.current),y)break;return null;case 22:return c.lanes=0,Bb(a,c,p,c.pendingProps);case 24:kc(c,vs,a.memoizedState.cache)}return Au(a,c,p)}function Xb(a,c,p){if(a!==null)if(a.memoizedProps!==c.pendingProps)la=!0;else{if(!qx(a,p)&&(c.flags&128)===0)return la=!1,B7(a,c,p);la=(a.flags&131072)!==0}else la=!1,kr&&(c.flags&1048576)!==0&&Qm(c,pf,c.index);switch(c.lanes=0,c.tag){case 16:e:{var y=c.pendingProps;if(a=ft(c.elementType),c.type=a,typeof a=="function")md(a)?(y=wf(a,y),c.tag=1,c=Hb(null,c,a,y,p)):(c.tag=0,c=jx(null,c,a,y,p));else{if(a!=null){var R=a.$$typeof;if(R===G){c.tag=11,c=Pb(null,c,a,y,p);break e}else if(R===F){c.tag=14,c=jb(null,c,a,y,p);break e}}throw c=ne(a)||a,Error(r(306,c,""))}}return c;case 0:return jx(a,c,c.type,c.pendingProps,p);case 1:return y=c.type,R=wf(y,c.pendingProps),Hb(a,c,y,R,p);case 3:e:{if(Ue(c,c.stateNode.containerInfo),a===null)throw Error(r(387));y=c.pendingProps;var P=c.memoizedState;R=P.element,Zi(a,c),Is(c,y,null,p);var se=c.memoizedState;if(y=se.cache,kc(c,vs,y),y!==P.cache&&yu(c,[vs],p,!0),Li(),y=se.element,P.isDehydrated)if(P={element:y,isDehydrated:!1,cache:se.cache},c.updateQueue.baseState=P,c.memoizedState=P,c.flags&256){c=qb(a,c,y,p);break e}else if(y!==R){R=el(Error(r(424)),c),ah(R),c=qb(a,c,y,p);break e}else{switch(a=c.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(Bi=Wl(a.firstChild),ba=c,kr=!0,ao=null,ls=!0,p=yr(c,null,y,p),c.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling}else{if(_u(),y===R){c=Au(a,c,p);break e}lo(a,c,y,p)}c=c.child}return c;case 26:return lg(a,c),a===null?(p=s4(c.type,null,c.pendingProps,null))?c.memoizedState=p:kr||(p=c.type,a=c.pendingProps,y=Sg(de.current).createElement(p),y[Ce]=c,y[Oe]=a,co(y,p,a),Tn(y),c.stateNode=y):c.memoizedState=s4(c.type,a.memoizedProps,c.pendingProps,a.memoizedState),null;case 27:return Ie(c),a===null&&kr&&(y=c.stateNode=n4(c.type,c.pendingProps,de.current),ba=c,ls=!0,R=Bi,yh(c.type)?(Ev=R,Bi=Wl(y.firstChild)):Bi=R),lo(a,c,c.pendingProps.children,p),lg(a,c),a===null&&(c.flags|=4194304),c.child;case 5:return a===null&&kr&&((R=y=Bi)&&(y=gD(y,c.type,c.pendingProps,ls),y!==null?(c.stateNode=y,ba=c,Bi=Wl(y.firstChild),ls=!1,R=!0):R=!1),R||Mc(c)),Ie(c),R=c.type,P=c.pendingProps,se=a!==null?a.memoizedProps:null,y=P.children,vv(R,P)?y=null:se!==null&&vv(R,se)&&(c.flags|=32),c.memoizedState!==null&&(R=Z0(a,c,Sx,null,null,p),b1._currentValue=R),lg(a,c),lo(a,c,y,p),c.child;case 6:return a===null&&kr&&((a=p=Bi)&&(p=pD(p,c.pendingProps,ls),p!==null?(c.stateNode=p,ba=c,Bi=null,a=!0):a=!1),a||Mc(c)),null;case 13:return Gb(a,c,p);case 4:return Ue(c,c.stateNode.containerInfo),y=c.pendingProps,a===null?c.child=Ui(c,null,y,p):lo(a,c,y,p),c.child;case 11:return Pb(a,c,c.type,c.pendingProps,p);case 7:return lo(a,c,c.pendingProps,p),c.child;case 8:return lo(a,c,c.pendingProps.children,p),c.child;case 12:return lo(a,c,c.pendingProps.children,p),c.child;case 10:return y=c.pendingProps,kc(c,c.type,y.value),lo(a,c,y.children,p),c.child;case 9:return R=c.type._context,y=c.pendingProps.children,jc(c),R=Aa(R),y=y(R),c.flags|=1,lo(a,c,y,p),c.child;case 14:return jb(a,c,c.type,c.pendingProps,p);case 15:return Fb(a,c,c.type,c.pendingProps,p);case 19:return Yb(a,c,p);case 31:return F7(a,c,p);case 22:return Bb(a,c,p,c.pendingProps);case 24:return jc(c),y=Aa(vs),a===null?(R=Ne(),R===null&&(R=Vi,P=lh(),R.pooledCache=P,P.refCount++,P!==null&&(R.pooledCacheLanes|=p),R=P),c.memoizedState={parent:y,cache:R},vn(c),kc(c,vs,R)):((a.lanes&p)!==0&&(Zi(a,c),Is(c,null,null,p),Li()),R=a.memoizedState,P=c.memoizedState,R.parent!==y?(R={parent:y,cache:y},c.memoizedState=R,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=R),kc(c,vs,y)):(y=P.cache,kc(c,vs,y),y!==R.cache&&yu(c,[vs],p,!0))),lo(a,c,c.pendingProps.children,p),c.child;case 29:throw c.pendingProps}throw Error(r(156,c.tag))}function Su(a){a.flags|=4}function Gx(a,c,p,y,R){if((c=(a.mode&32)!==0)&&(c=!1),c){if(a.flags|=16777216,(R&335544128)===R)if(a.stateNode.complete)a.flags|=8192;else if(w3())a.flags|=8192;else throw Dt=Ze,gt}else a.flags&=-16777217}function Kb(a,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!u4(c))if(w3())a.flags|=8192;else throw Dt=Ze,gt}function ug(a,c){c!==null&&(a.flags|=4),a.flags&16384&&(c=a.tag!==22?Lr():536870912,a.lanes|=c,kd|=c)}function l1(a,c){if(!kr)switch(a.tailMode){case"hidden":c=a.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?a.tail=null:p.sibling=null;break;case"collapsed":p=a.tail;for(var y=null;p!==null;)p.alternate!==null&&(y=p),p=p.sibling;y===null?c||a.tail===null?a.tail=null:a.tail.sibling=null:y.sibling=null}}function ts(a){var c=a.alternate!==null&&a.alternate.child===a.child,p=0,y=0;if(c)for(var R=a.child;R!==null;)p|=R.lanes|R.childLanes,y|=R.subtreeFlags&65011712,y|=R.flags&65011712,R.return=a,R=R.sibling;else for(R=a.child;R!==null;)p|=R.lanes|R.childLanes,y|=R.subtreeFlags,y|=R.flags,R.return=a,R=R.sibling;return a.subtreeFlags|=y,a.childLanes=p,c}function U7(a,c,p){var y=c.pendingProps;switch(vd(c),c.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ts(c),null;case 1:return ts(c),null;case 3:return p=c.stateNode,y=null,a!==null&&(y=a.memoizedState.cache),c.memoizedState.cache!==y&&(c.flags|=2048),sl(vs),Ve(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(a===null||a.child===null)&&(Ea(c)?Su(c):a===null||a.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,Q0())),ts(c),null;case 26:var R=c.type,P=c.memoizedState;return a===null?(Su(c),P!==null?(ts(c),Kb(c,P)):(ts(c),Gx(c,R,null,y,p))):P?P!==a.memoizedState?(Su(c),ts(c),Kb(c,P)):(ts(c),c.flags&=-16777217):(a=a.memoizedProps,a!==y&&Su(c),ts(c),Gx(c,R,a,y,p)),null;case 27:if(nt(c),p=de.current,R=c.type,a!==null&&c.stateNode!=null)a.memoizedProps!==y&&Su(c);else{if(!y){if(c.stateNode===null)throw Error(r(166));return ts(c),null}a=Z.current,Ea(c)?K0(c):(a=n4(R,y,p),c.stateNode=a,Su(c))}return ts(c),null;case 5:if(nt(c),R=c.type,a!==null&&c.stateNode!=null)a.memoizedProps!==y&&Su(c);else{if(!y){if(c.stateNode===null)throw Error(r(166));return ts(c),null}if(P=Z.current,Ea(c))K0(c);else{var se=Sg(de.current);switch(P){case 1:P=se.createElementNS("http://www.w3.org/2000/svg",R);break;case 2:P=se.createElementNS("http://www.w3.org/1998/Math/MathML",R);break;default:switch(R){case"svg":P=se.createElementNS("http://www.w3.org/2000/svg",R);break;case"math":P=se.createElementNS("http://www.w3.org/1998/Math/MathML",R);break;case"script":P=se.createElement("div"),P.innerHTML="<script><\/script>",P=P.removeChild(P.firstChild);break;case"select":P=typeof y.is=="string"?se.createElement("select",{is:y.is}):se.createElement("select"),y.multiple?P.multiple=!0:y.size&&(P.size=y.size);break;default:P=typeof y.is=="string"?se.createElement(R,{is:y.is}):se.createElement(R)}}P[Ce]=c,P[Oe]=y;e:for(se=c.child;se!==null;){if(se.tag===5||se.tag===6)P.appendChild(se.stateNode);else if(se.tag!==4&&se.tag!==27&&se.child!==null){se.child.return=se,se=se.child;continue}if(se===c)break e;for(;se.sibling===null;){if(se.return===null||se.return===c)break e;se=se.return}se.sibling.return=se.return,se=se.sibling}c.stateNode=P;e:switch(co(P,R,y),R){case"button":case"input":case"select":case"textarea":y=!!y.autoFocus;break e;case"img":y=!0;break e;default:y=!1}y&&Su(c)}}return ts(c),Gx(c,c.type,a===null?null:a.memoizedProps,c.pendingProps,p),null;case 6:if(a&&c.stateNode!=null)a.memoizedProps!==y&&Su(c);else{if(typeof y!="string"&&c.stateNode===null)throw Error(r(166));if(a=de.current,Ea(c)){if(a=c.stateNode,p=c.memoizedProps,y=null,R=ba,R!==null)switch(R.tag){case 27:case 5:y=R.memoizedProps}a[Ce]=c,a=!!(a.nodeValue===p||y!==null&&y.suppressHydrationWarning===!0||G3(a.nodeValue,p)),a||Mc(c,!0)}else a=Sg(a).createTextNode(y),a[Ce]=c,c.stateNode=a}return ts(c),null;case 31:if(p=c.memoizedState,a===null||a.memoizedState!==null){if(y=Ea(c),p!==null){if(a===null){if(!y)throw Error(r(318));if(a=c.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(557));a[Ce]=c}else _u(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;ts(c),a=!1}else p=Q0(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=p),a=!0;if(!a)return c.flags&256?(vi(c),c):(vi(c),null);if((c.flags&128)!==0)throw Error(r(558))}return ts(c),null;case 13:if(y=c.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(R=Ea(c),y!==null&&y.dehydrated!==null){if(a===null){if(!R)throw Error(r(318));if(R=c.memoizedState,R=R!==null?R.dehydrated:null,!R)throw Error(r(317));R[Ce]=c}else _u(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;ts(c),R=!1}else R=Q0(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=R),R=!0;if(!R)return c.flags&256?(vi(c),c):(vi(c),null)}return vi(c),(c.flags&128)!==0?(c.lanes=p,c):(p=y!==null,a=a!==null&&a.memoizedState!==null,p&&(y=c.child,R=null,y.alternate!==null&&y.alternate.memoizedState!==null&&y.alternate.memoizedState.cachePool!==null&&(R=y.alternate.memoizedState.cachePool.pool),P=null,y.memoizedState!==null&&y.memoizedState.cachePool!==null&&(P=y.memoizedState.cachePool.pool),P!==R&&(y.flags|=2048)),p!==a&&p&&(c.child.flags|=8192),ug(c,c.updateQueue),ts(c),null);case 4:return Ve(),a===null&&dv(c.stateNode.containerInfo),ts(c),null;case 10:return sl(c.type),ts(c),null;case 19:if(H(Xr),y=c.memoizedState,y===null)return ts(c),null;if(R=(c.flags&128)!==0,P=y.rendering,P===null)if(R)l1(y,!1);else{if(Ls!==0||a!==null&&(a.flags&128)!==0)for(a=c.child;a!==null;){if(P=Ha(a),P!==null){for(c.flags|=128,l1(y,!1),a=P.updateQueue,c.updateQueue=a,ug(c,a),c.subtreeFlags=0,a=p,p=c.child;p!==null;)mf(p,a),p=p.sibling;return J(Xr,Xr.current&1|2),kr&&zo(c,y.treeForkCount),c.child}a=a.sibling}y.tail!==null&&tn()>gg&&(c.flags|=128,R=!0,l1(y,!1),c.lanes=4194304)}else{if(!R)if(a=Ha(P),a!==null){if(c.flags|=128,R=!0,a=a.updateQueue,c.updateQueue=a,ug(c,a),l1(y,!0),y.tail===null&&y.tailMode==="hidden"&&!P.alternate&&!kr)return ts(c),null}else 2*tn()-y.renderingStartTime>gg&&p!==536870912&&(c.flags|=128,R=!0,l1(y,!1),c.lanes=4194304);y.isBackwards?(P.sibling=c.child,c.child=P):(a=y.last,a!==null?a.sibling=P:c.child=P,y.last=P)}return y.tail!==null?(a=y.tail,y.rendering=a,y.tail=a.sibling,y.renderingStartTime=tn(),a.sibling=null,p=Xr.current,J(Xr,R?p&1|2:p&1),kr&&zo(c,y.treeForkCount),a):(ts(c),null);case 22:case 23:return vi(c),Xs(),y=c.memoizedState!==null,a!==null?a.memoizedState!==null!==y&&(c.flags|=8192):y&&(c.flags|=8192),y?(p&536870912)!==0&&(c.flags&128)===0&&(ts(c),c.subtreeFlags&6&&(c.flags|=8192)):ts(c),p=c.updateQueue,p!==null&&ug(c,p.retryQueue),p=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(p=a.memoizedState.cachePool.pool),y=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(y=c.memoizedState.cachePool.pool),y!==p&&(c.flags|=2048),a!==null&&H(we),null;case 24:return p=null,a!==null&&(p=a.memoizedState.cache),c.memoizedState.cache!==p&&(c.flags|=2048),sl(vs),ts(c),null;case 25:return null;case 30:return null}throw Error(r(156,c.tag))}function V7(a,c){switch(vd(c),c.tag){case 1:return a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 3:return sl(vs),Ve(),a=c.flags,(a&65536)!==0&&(a&128)===0?(c.flags=a&-65537|128,c):null;case 26:case 27:case 5:return nt(c),null;case 31:if(c.memoizedState!==null){if(vi(c),c.alternate===null)throw Error(r(340));_u()}return a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 13:if(vi(c),a=c.memoizedState,a!==null&&a.dehydrated!==null){if(c.alternate===null)throw Error(r(340));_u()}return a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 19:return H(Xr),null;case 4:return Ve(),null;case 10:return sl(c.type),null;case 22:case 23:return vi(c),Xs(),a!==null&&H(we),a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 24:return sl(vs),null;case 25:return null;default:return null}}function Qb(a,c){switch(vd(c),c.tag){case 3:sl(vs),Ve();break;case 26:case 27:case 5:nt(c);break;case 4:Ve();break;case 31:c.memoizedState!==null&&vi(c);break;case 13:vi(c);break;case 19:H(Xr);break;case 10:sl(c.type);break;case 22:case 23:vi(c),Xs(),a!==null&&H(we);break;case 24:sl(vs)}}function c1(a,c){try{var p=c.updateQueue,y=p!==null?p.lastEffect:null;if(y!==null){var R=y.next;p=R;do{if((p.tag&a)===a){y=void 0;var P=p.create,se=p.inst;y=P(),se.destroy=y}p=p.next}while(p!==R)}}catch(Ee){yi(c,c.return,Ee)}}function dh(a,c,p){try{var y=c.updateQueue,R=y!==null?y.lastEffect:null;if(R!==null){var P=R.next;y=P;do{if((y.tag&a)===a){var se=y.inst,Ee=se.destroy;if(Ee!==void 0){se.destroy=void 0,R=c;var We=p,xt=Ee;try{xt()}catch(Vt){yi(R,We,Vt)}}}y=y.next}while(y!==P)}}catch(Vt){yi(c,c.return,Vt)}}function $b(a){var c=a.updateQueue;if(c!==null){var p=a.stateNode;try{Rs(c,p)}catch(y){yi(a,a.return,y)}}}function Zb(a,c,p){p.props=wf(a.type,a.memoizedProps),p.state=a.memoizedState;try{p.componentWillUnmount()}catch(y){yi(a,c,y)}}function u1(a,c){try{var p=a.ref;if(p!==null){switch(a.tag){case 26:case 27:case 5:var y=a.stateNode;break;case 30:y=a.stateNode;break;default:y=a.stateNode}typeof p=="function"?a.refCleanup=p(y):p.current=y}}catch(R){yi(a,c,R)}}function zc(a,c){var p=a.ref,y=a.refCleanup;if(p!==null)if(typeof y=="function")try{y()}catch(R){yi(a,c,R)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof p=="function")try{p(null)}catch(R){yi(a,c,R)}else p.current=null}function Jb(a){var c=a.type,p=a.memoizedProps,y=a.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":p.autoFocus&&y.focus();break e;case"img":p.src?y.src=p.src:p.srcSet&&(y.srcset=p.srcSet)}}catch(R){yi(a,a.return,R)}}function Wx(a,c,p){try{var y=a.stateNode;cD(y,a.type,p,c),y[Oe]=c}catch(R){yi(a,a.return,R)}}function e3(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&yh(a.type)||a.tag===4}function Yx(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||e3(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&yh(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Xx(a,c,p){var y=a.tag;if(y===5||y===6)a=a.stateNode,c?(p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p).insertBefore(a,c):(c=p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p,c.appendChild(a),p=p._reactRootContainer,p!=null||c.onclick!==null||(c.onclick=ea));else if(y!==4&&(y===27&&yh(a.type)&&(p=a.stateNode,c=null),a=a.child,a!==null))for(Xx(a,c,p),a=a.sibling;a!==null;)Xx(a,c,p),a=a.sibling}function hg(a,c,p){var y=a.tag;if(y===5||y===6)a=a.stateNode,c?p.insertBefore(a,c):p.appendChild(a);else if(y!==4&&(y===27&&yh(a.type)&&(p=a.stateNode),a=a.child,a!==null))for(hg(a,c,p),a=a.sibling;a!==null;)hg(a,c,p),a=a.sibling}function t3(a){var c=a.stateNode,p=a.memoizedProps;try{for(var y=a.type,R=c.attributes;R.length;)c.removeAttributeNode(R[0]);co(c,y,p),c[Ce]=a,c[Oe]=p}catch(P){yi(a,a.return,P)}}var Tu=!1,ca=!1,Kx=!1,n3=typeof WeakSet=="function"?WeakSet:Set,qa=null;function z7(a,c){if(a=a.containerInfo,pv=Dg,a=fe(a),_e(a)){if("selectionStart"in a)var p={start:a.selectionStart,end:a.selectionEnd};else e:{p=(p=a.ownerDocument)&&p.defaultView||window;var y=p.getSelection&&p.getSelection();if(y&&y.rangeCount!==0){p=y.anchorNode;var R=y.anchorOffset,P=y.focusNode;y=y.focusOffset;try{p.nodeType,P.nodeType}catch{p=null;break e}var se=0,Ee=-1,We=-1,xt=0,Vt=0,Yt=a,bt=null;t:for(;;){for(var Ct;Yt!==p||R!==0&&Yt.nodeType!==3||(Ee=se+R),Yt!==P||y!==0&&Yt.nodeType!==3||(We=se+y),Yt.nodeType===3&&(se+=Yt.nodeValue.length),(Ct=Yt.firstChild)!==null;)bt=Yt,Yt=Ct;for(;;){if(Yt===a)break t;if(bt===p&&++xt===R&&(Ee=se),bt===P&&++Vt===y&&(We=se),(Ct=Yt.nextSibling)!==null)break;Yt=bt,bt=Yt.parentNode}Yt=Ct}p=Ee===-1||We===-1?null:{start:Ee,end:We}}else p=null}p=p||{start:0,end:0}}else p=null;for(xv={focusedElem:a,selectionRange:p},Dg=!1,qa=c;qa!==null;)if(c=qa,a=c.child,(c.subtreeFlags&1028)!==0&&a!==null)a.return=c,qa=a;else for(;qa!==null;){switch(c=qa,P=c.alternate,a=c.flags,c.tag){case 0:if((a&4)!==0&&(a=c.updateQueue,a=a!==null?a.events:null,a!==null))for(p=0;p<a.length;p++)R=a[p],R.ref.impl=R.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&P!==null){a=void 0,p=c,R=P.memoizedProps,P=P.memoizedState,y=p.stateNode;try{var Ln=wf(p.type,R);a=y.getSnapshotBeforeUpdate(Ln,P),y.__reactInternalSnapshotBeforeUpdate=a}catch(ar){yi(p,p.return,ar)}}break;case 3:if((a&1024)!==0){if(a=c.stateNode.containerInfo,p=a.nodeType,p===9)yv(a);else if(p===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":yv(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=c.sibling,a!==null){a.return=c.return,qa=a;break}qa=c.return}}function r3(a,c,p){var y=p.flags;switch(p.tag){case 0:case 11:case 15:Cu(a,p),y&4&&c1(5,p);break;case 1:if(Cu(a,p),y&4)if(a=p.stateNode,c===null)try{a.componentDidMount()}catch(se){yi(p,p.return,se)}else{var R=wf(p.type,c.memoizedProps);c=c.memoizedState;try{a.componentDidUpdate(R,c,a.__reactInternalSnapshotBeforeUpdate)}catch(se){yi(p,p.return,se)}}y&64&&$b(p),y&512&&u1(p,p.return);break;case 3:if(Cu(a,p),y&64&&(a=p.updateQueue,a!==null)){if(c=null,p.child!==null)switch(p.child.tag){case 27:case 5:c=p.child.stateNode;break;case 1:c=p.child.stateNode}try{Rs(a,c)}catch(se){yi(p,p.return,se)}}break;case 27:c===null&&y&4&&t3(p);case 26:case 5:Cu(a,p),c===null&&y&4&&Jb(p),y&512&&u1(p,p.return);break;case 12:Cu(a,p);break;case 31:Cu(a,p),y&4&&a3(a,p);break;case 13:Cu(a,p),y&4&&o3(a,p),y&64&&(a=p.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(p=$7.bind(null,p),xD(a,p))));break;case 22:if(y=p.memoizedState!==null||Tu,!y){c=c!==null&&c.memoizedState!==null||ca,R=Tu;var P=ca;Tu=y,(ca=c)&&!P?Iu(a,p,(p.subtreeFlags&8772)!==0):Cu(a,p),Tu=R,ca=P}break;case 30:break;default:Cu(a,p)}}function i3(a){var c=a.alternate;c!==null&&(a.alternate=null,i3(c)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(c=a.stateNode,c!==null&&Ht(c)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var hs=null,ol=!1;function Nu(a,c,p){for(p=p.child;p!==null;)s3(a,c,p),p=p.sibling}function s3(a,c,p){if(dt&&typeof dt.onCommitFiberUnmount=="function")try{dt.onCommitFiberUnmount(rn,p)}catch{}switch(p.tag){case 26:ca||zc(p,c),Nu(a,c,p),p.memoizedState?p.memoizedState.count--:p.stateNode&&(p=p.stateNode,p.parentNode.removeChild(p));break;case 27:ca||zc(p,c);var y=hs,R=ol;yh(p.type)&&(hs=p.stateNode,ol=!1),Nu(a,c,p),_1(p.stateNode),hs=y,ol=R;break;case 5:ca||zc(p,c);case 6:if(y=hs,R=ol,hs=null,Nu(a,c,p),hs=y,ol=R,hs!==null)if(ol)try{(hs.nodeType===9?hs.body:hs.nodeName==="HTML"?hs.ownerDocument.body:hs).removeChild(p.stateNode)}catch(P){yi(p,c,P)}else try{hs.removeChild(p.stateNode)}catch(P){yi(p,c,P)}break;case 18:hs!==null&&(ol?(a=hs,$3(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,p.stateNode),Hd(a)):$3(hs,p.stateNode));break;case 4:y=hs,R=ol,hs=p.stateNode.containerInfo,ol=!0,Nu(a,c,p),hs=y,ol=R;break;case 0:case 11:case 14:case 15:dh(2,p,c),ca||dh(4,p,c),Nu(a,c,p);break;case 1:ca||(zc(p,c),y=p.stateNode,typeof y.componentWillUnmount=="function"&&Zb(p,c,y)),Nu(a,c,p);break;case 21:Nu(a,c,p);break;case 22:ca=(y=ca)||p.memoizedState!==null,Nu(a,c,p),ca=y;break;default:Nu(a,c,p)}}function a3(a,c){if(c.memoizedState===null&&(a=c.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{Hd(a)}catch(p){yi(c,c.return,p)}}}function o3(a,c){if(c.memoizedState===null&&(a=c.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Hd(a)}catch(p){yi(c,c.return,p)}}function H7(a){switch(a.tag){case 31:case 13:case 19:var c=a.stateNode;return c===null&&(c=a.stateNode=new n3),c;case 22:return a=a.stateNode,c=a._retryCache,c===null&&(c=a._retryCache=new n3),c;default:throw Error(r(435,a.tag))}}function fg(a,c){var p=H7(a);c.forEach(function(y){if(!p.has(y)){p.add(y);var R=Z7.bind(null,a,y);y.then(R,R)}})}function ll(a,c){var p=c.deletions;if(p!==null)for(var y=0;y<p.length;y++){var R=p[y],P=a,se=c,Ee=se;e:for(;Ee!==null;){switch(Ee.tag){case 27:if(yh(Ee.type)){hs=Ee.stateNode,ol=!1;break e}break;case 5:hs=Ee.stateNode,ol=!1;break e;case 3:case 4:hs=Ee.stateNode.containerInfo,ol=!0;break e}Ee=Ee.return}if(hs===null)throw Error(r(160));s3(P,se,R),hs=null,ol=!1,P=R.alternate,P!==null&&(P.return=null),R.return=null}if(c.subtreeFlags&13886)for(c=c.child;c!==null;)l3(c,a),c=c.sibling}var fc=null;function l3(a,c){var p=a.alternate,y=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:ll(c,a),cl(a),y&4&&(dh(3,a,a.return),c1(3,a),dh(5,a,a.return));break;case 1:ll(c,a),cl(a),y&512&&(ca||p===null||zc(p,p.return)),y&64&&Tu&&(a=a.updateQueue,a!==null&&(y=a.callbacks,y!==null&&(p=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=p===null?y:p.concat(y))));break;case 26:var R=fc;if(ll(c,a),cl(a),y&512&&(ca||p===null||zc(p,p.return)),y&4){var P=p!==null?p.memoizedState:null;if(y=a.memoizedState,p===null)if(y===null)if(a.stateNode===null){e:{y=a.type,p=a.memoizedProps,R=R.ownerDocument||R;t:switch(y){case"title":P=R.getElementsByTagName("title")[0],(!P||P[ht]||P[Ce]||P.namespaceURI==="http://www.w3.org/2000/svg"||P.hasAttribute("itemprop"))&&(P=R.createElement(y),R.head.insertBefore(P,R.querySelector("head > title"))),co(P,y,p),P[Ce]=a,Tn(P),y=P;break e;case"link":var se=l4("link","href",R).get(y+(p.href||""));if(se){for(var Ee=0;Ee<se.length;Ee++)if(P=se[Ee],P.getAttribute("href")===(p.href==null||p.href===""?null:p.href)&&P.getAttribute("rel")===(p.rel==null?null:p.rel)&&P.getAttribute("title")===(p.title==null?null:p.title)&&P.getAttribute("crossorigin")===(p.crossOrigin==null?null:p.crossOrigin)){se.splice(Ee,1);break t}}P=R.createElement(y),co(P,y,p),R.head.appendChild(P);break;case"meta":if(se=l4("meta","content",R).get(y+(p.content||""))){for(Ee=0;Ee<se.length;Ee++)if(P=se[Ee],P.getAttribute("content")===(p.content==null?null:""+p.content)&&P.getAttribute("name")===(p.name==null?null:p.name)&&P.getAttribute("property")===(p.property==null?null:p.property)&&P.getAttribute("http-equiv")===(p.httpEquiv==null?null:p.httpEquiv)&&P.getAttribute("charset")===(p.charSet==null?null:p.charSet)){se.splice(Ee,1);break t}}P=R.createElement(y),co(P,y,p),R.head.appendChild(P);break;default:throw Error(r(468,y))}P[Ce]=a,Tn(P),y=P}a.stateNode=y}else c4(R,a.type,a.stateNode);else a.stateNode=o4(R,y,a.memoizedProps);else P!==y?(P===null?p.stateNode!==null&&(p=p.stateNode,p.parentNode.removeChild(p)):P.count--,y===null?c4(R,a.type,a.stateNode):o4(R,y,a.memoizedProps)):y===null&&a.stateNode!==null&&Wx(a,a.memoizedProps,p.memoizedProps)}break;case 27:ll(c,a),cl(a),y&512&&(ca||p===null||zc(p,p.return)),p!==null&&y&4&&Wx(a,a.memoizedProps,p.memoizedProps);break;case 5:if(ll(c,a),cl(a),y&512&&(ca||p===null||zc(p,p.return)),a.flags&32){R=a.stateNode;try{ms(R,"")}catch(Ln){yi(a,a.return,Ln)}}y&4&&a.stateNode!=null&&(R=a.memoizedProps,Wx(a,R,p!==null?p.memoizedProps:R)),y&1024&&(Kx=!0);break;case 6:if(ll(c,a),cl(a),y&4){if(a.stateNode===null)throw Error(r(162));y=a.memoizedProps,p=a.stateNode;try{p.nodeValue=y}catch(Ln){yi(a,a.return,Ln)}}break;case 3:if(Cg=null,R=fc,fc=Tg(c.containerInfo),ll(c,a),fc=R,cl(a),y&4&&p!==null&&p.memoizedState.isDehydrated)try{Hd(c.containerInfo)}catch(Ln){yi(a,a.return,Ln)}Kx&&(Kx=!1,c3(a));break;case 4:y=fc,fc=Tg(a.stateNode.containerInfo),ll(c,a),cl(a),fc=y;break;case 12:ll(c,a),cl(a);break;case 31:ll(c,a),cl(a),y&4&&(y=a.updateQueue,y!==null&&(a.updateQueue=null,fg(a,y)));break;case 13:ll(c,a),cl(a),a.child.flags&8192&&a.memoizedState!==null!=(p!==null&&p.memoizedState!==null)&&(mg=tn()),y&4&&(y=a.updateQueue,y!==null&&(a.updateQueue=null,fg(a,y)));break;case 22:R=a.memoizedState!==null;var We=p!==null&&p.memoizedState!==null,xt=Tu,Vt=ca;if(Tu=xt||R,ca=Vt||We,ll(c,a),ca=Vt,Tu=xt,cl(a),y&8192)e:for(c=a.stateNode,c._visibility=R?c._visibility&-2:c._visibility|1,R&&(p===null||We||Tu||ca||bf(a)),p=null,c=a;;){if(c.tag===5||c.tag===26){if(p===null){We=p=c;try{if(P=We.stateNode,R)se=P.style,typeof se.setProperty=="function"?se.setProperty("display","none","important"):se.display="none";else{Ee=We.stateNode;var Yt=We.memoizedProps.style,bt=Yt!=null&&Yt.hasOwnProperty("display")?Yt.display:null;Ee.style.display=bt==null||typeof bt=="boolean"?"":(""+bt).trim()}}catch(Ln){yi(We,We.return,Ln)}}}else if(c.tag===6){if(p===null){We=c;try{We.stateNode.nodeValue=R?"":We.memoizedProps}catch(Ln){yi(We,We.return,Ln)}}}else if(c.tag===18){if(p===null){We=c;try{var Ct=We.stateNode;R?Z3(Ct,!0):Z3(We.stateNode,!1)}catch(Ln){yi(We,We.return,Ln)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===a)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break e;for(;c.sibling===null;){if(c.return===null||c.return===a)break e;p===c&&(p=null),c=c.return}p===c&&(p=null),c.sibling.return=c.return,c=c.sibling}y&4&&(y=a.updateQueue,y!==null&&(p=y.retryQueue,p!==null&&(y.retryQueue=null,fg(a,p))));break;case 19:ll(c,a),cl(a),y&4&&(y=a.updateQueue,y!==null&&(a.updateQueue=null,fg(a,y)));break;case 30:break;case 21:break;default:ll(c,a),cl(a)}}function cl(a){var c=a.flags;if(c&2){try{for(var p,y=a.return;y!==null;){if(e3(y)){p=y;break}y=y.return}if(p==null)throw Error(r(160));switch(p.tag){case 27:var R=p.stateNode,P=Yx(a);hg(a,P,R);break;case 5:var se=p.stateNode;p.flags&32&&(ms(se,""),p.flags&=-33);var Ee=Yx(a);hg(a,Ee,se);break;case 3:case 4:var We=p.stateNode.containerInfo,xt=Yx(a);Xx(a,xt,We);break;default:throw Error(r(161))}}catch(Vt){yi(a,a.return,Vt)}a.flags&=-3}c&4096&&(a.flags&=-4097)}function c3(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var c=a;c3(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),a=a.sibling}}function Cu(a,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)r3(a,c.alternate,c),c=c.sibling}function bf(a){for(a=a.child;a!==null;){var c=a;switch(c.tag){case 0:case 11:case 14:case 15:dh(4,c,c.return),bf(c);break;case 1:zc(c,c.return);var p=c.stateNode;typeof p.componentWillUnmount=="function"&&Zb(c,c.return,p),bf(c);break;case 27:_1(c.stateNode);case 26:case 5:zc(c,c.return),bf(c);break;case 22:c.memoizedState===null&&bf(c);break;case 30:bf(c);break;default:bf(c)}a=a.sibling}}function Iu(a,c,p){for(p=p&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var y=c.alternate,R=a,P=c,se=P.flags;switch(P.tag){case 0:case 11:case 15:Iu(R,P,p),c1(4,P);break;case 1:if(Iu(R,P,p),y=P,R=y.stateNode,typeof R.componentDidMount=="function")try{R.componentDidMount()}catch(xt){yi(y,y.return,xt)}if(y=P,R=y.updateQueue,R!==null){var Ee=y.stateNode;try{var We=R.shared.hiddenCallbacks;if(We!==null)for(R.shared.hiddenCallbacks=null,R=0;R<We.length;R++)za(We[R],Ee)}catch(xt){yi(y,y.return,xt)}}p&&se&64&&$b(P),u1(P,P.return);break;case 27:t3(P);case 26:case 5:Iu(R,P,p),p&&y===null&&se&4&&Jb(P),u1(P,P.return);break;case 12:Iu(R,P,p);break;case 31:Iu(R,P,p),p&&se&4&&a3(R,P);break;case 13:Iu(R,P,p),p&&se&4&&o3(R,P);break;case 22:P.memoizedState===null&&Iu(R,P,p),u1(P,P.return);break;case 30:break;default:Iu(R,P,p)}c=c.sibling}}function Qx(a,c){var p=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(p=a.memoizedState.cachePool.pool),a=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(a=c.memoizedState.cachePool.pool),a!==p&&(a!=null&&a.refCount++,p!=null&&xf(p))}function $x(a,c){a=null,c.alternate!==null&&(a=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==a&&(c.refCount++,a!=null&&xf(a))}function dc(a,c,p,y){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)u3(a,c,p,y),c=c.sibling}function u3(a,c,p,y){var R=c.flags;switch(c.tag){case 0:case 11:case 15:dc(a,c,p,y),R&2048&&c1(9,c);break;case 1:dc(a,c,p,y);break;case 3:dc(a,c,p,y),R&2048&&(a=null,c.alternate!==null&&(a=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==a&&(c.refCount++,a!=null&&xf(a)));break;case 12:if(R&2048){dc(a,c,p,y),a=c.stateNode;try{var P=c.memoizedProps,se=P.id,Ee=P.onPostCommit;typeof Ee=="function"&&Ee(se,c.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(We){yi(c,c.return,We)}}else dc(a,c,p,y);break;case 31:dc(a,c,p,y);break;case 13:dc(a,c,p,y);break;case 23:break;case 22:P=c.stateNode,se=c.alternate,c.memoizedState!==null?P._visibility&2?dc(a,c,p,y):h1(a,c):P._visibility&2?dc(a,c,p,y):(P._visibility|=2,Dd(a,c,p,y,(c.subtreeFlags&10256)!==0||!1)),R&2048&&Qx(se,c);break;case 24:dc(a,c,p,y),R&2048&&$x(c.alternate,c);break;default:dc(a,c,p,y)}}function Dd(a,c,p,y,R){for(R=R&&((c.subtreeFlags&10256)!==0||!1),c=c.child;c!==null;){var P=a,se=c,Ee=p,We=y,xt=se.flags;switch(se.tag){case 0:case 11:case 15:Dd(P,se,Ee,We,R),c1(8,se);break;case 23:break;case 22:var Vt=se.stateNode;se.memoizedState!==null?Vt._visibility&2?Dd(P,se,Ee,We,R):h1(P,se):(Vt._visibility|=2,Dd(P,se,Ee,We,R)),R&&xt&2048&&Qx(se.alternate,se);break;case 24:Dd(P,se,Ee,We,R),R&&xt&2048&&$x(se.alternate,se);break;default:Dd(P,se,Ee,We,R)}c=c.sibling}}function h1(a,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var p=a,y=c,R=y.flags;switch(y.tag){case 22:h1(p,y),R&2048&&Qx(y.alternate,y);break;case 24:h1(p,y),R&2048&&$x(y.alternate,y);break;default:h1(p,y)}c=c.sibling}}var f1=8192;function Md(a,c,p){if(a.subtreeFlags&f1)for(a=a.child;a!==null;)h3(a,c,p),a=a.sibling}function h3(a,c,p){switch(a.tag){case 26:Md(a,c,p),a.flags&f1&&a.memoizedState!==null&&ID(p,fc,a.memoizedState,a.memoizedProps);break;case 5:Md(a,c,p);break;case 3:case 4:var y=fc;fc=Tg(a.stateNode.containerInfo),Md(a,c,p),fc=y;break;case 22:a.memoizedState===null&&(y=a.alternate,y!==null&&y.memoizedState!==null?(y=f1,f1=16777216,Md(a,c,p),f1=y):Md(a,c,p));break;default:Md(a,c,p)}}function f3(a){var c=a.alternate;if(c!==null&&(a=c.child,a!==null)){c.child=null;do c=a.sibling,a.sibling=null,a=c;while(a!==null)}}function d1(a){var c=a.deletions;if((a.flags&16)!==0){if(c!==null)for(var p=0;p<c.length;p++){var y=c[p];qa=y,m3(y,a)}f3(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)d3(a),a=a.sibling}function d3(a){switch(a.tag){case 0:case 11:case 15:d1(a),a.flags&2048&&dh(9,a,a.return);break;case 3:d1(a);break;case 12:d1(a);break;case 22:var c=a.stateNode;a.memoizedState!==null&&c._visibility&2&&(a.return===null||a.return.tag!==13)?(c._visibility&=-3,dg(a)):d1(a);break;default:d1(a)}}function dg(a){var c=a.deletions;if((a.flags&16)!==0){if(c!==null)for(var p=0;p<c.length;p++){var y=c[p];qa=y,m3(y,a)}f3(a)}for(a=a.child;a!==null;){switch(c=a,c.tag){case 0:case 11:case 15:dh(8,c,c.return),dg(c);break;case 22:p=c.stateNode,p._visibility&2&&(p._visibility&=-3,dg(c));break;default:dg(c)}a=a.sibling}}function m3(a,c){for(;qa!==null;){var p=qa;switch(p.tag){case 0:case 11:case 15:dh(8,p,c);break;case 23:case 22:if(p.memoizedState!==null&&p.memoizedState.cachePool!==null){var y=p.memoizedState.cachePool.pool;y!=null&&y.refCount++}break;case 24:xf(p.memoizedState.cache)}if(y=p.child,y!==null)y.return=p,qa=y;else e:for(p=a;qa!==null;){y=qa;var R=y.sibling,P=y.return;if(i3(y),y===p){qa=null;break e}if(R!==null){R.return=P,qa=R;break e}qa=P}}}var q7={getCacheForType:function(a){var c=Aa(vs),p=c.data.get(a);return p===void 0&&(p=a(),c.data.set(a,p)),p},cacheSignal:function(){return Aa(vs).controller.signal}},G7=typeof WeakMap=="function"?WeakMap:Map,mi=0,Vi=null,Pr=null,Vr=0,_i=0,bl=null,mh=!1,Ld=!1,Zx=!1,Ru=0,Ls=0,gh=0,Ef=0,Jx=0,El=0,kd=0,m1=null,ul=null,ev=!1,mg=0,g3=0,gg=1/0,pg=null,ph=null,Ta=0,xh=null,Pd=null,Ou=0,tv=0,nv=null,p3=null,g1=0,rv=null;function Al(){return(mi&2)!==0&&Vr!==0?Vr&-Vr:Ae.T!==null?cv():ge()}function x3(){if(El===0)if((Vr&536870912)===0||kr){var a=on;on<<=1,(on&3932160)===0&&(on=262144),El=a}else El=536870912;return a=es.current,a!==null&&(a.flags|=32),El}function hl(a,c,p){(a===Vi&&(_i===2||_i===9)||a.cancelPendingCommit!==null)&&(jd(a,0),vh(a,Vr,El,!1)),On(a,p),((mi&2)===0||a!==Vi)&&(a===Vi&&((mi&2)===0&&(Ef|=p),Ls===4&&vh(a,Vr,El,!1)),Hc(a))}function v3(a,c,p){if((mi&6)!==0)throw Error(r(327));var y=!p&&(c&127)===0&&(c&a.expiredLanes)===0||Dr(a,c),R=y?X7(a,c):sv(a,c,!0),P=y;do{if(R===0){Ld&&!y&&vh(a,c,0,!1);break}else{if(p=a.current.alternate,P&&!W7(p)){R=sv(a,c,!1),P=!1;continue}if(R===2){if(P=c,a.errorRecoveryDisabledLanes&P)var se=0;else se=a.pendingLanes&-536870913,se=se!==0?se:se&536870912?536870912:0;if(se!==0){c=se;e:{var Ee=a;R=m1;var We=Ee.current.memoizedState.isDehydrated;if(We&&(jd(Ee,se).flags|=256),se=sv(Ee,se,!1),se!==2){if(Zx&&!We){Ee.errorRecoveryDisabledLanes|=P,Ef|=P,R=4;break e}P=ul,ul=R,P!==null&&(ul===null?ul=P:ul.push.apply(ul,P))}R=se}if(P=!1,R!==2)continue}}if(R===1){jd(a,0),vh(a,c,0,!0);break}e:{switch(y=a,P=R,P){case 0:case 1:throw Error(r(345));case 4:if((c&4194048)!==c)break;case 6:vh(y,c,El,!mh);break e;case 2:ul=null;break;case 3:case 5:break;default:throw Error(r(329))}if((c&62914560)===c&&(R=mg+300-tn(),10<R)){if(vh(y,c,El,!mh),Zn(y,0,!0)!==0)break e;Ou=c,y.timeoutHandle=K3(_3.bind(null,y,p,ul,pg,ev,c,El,Ef,kd,mh,P,"Throttled",-0,0),R);break e}_3(y,p,ul,pg,ev,c,El,Ef,kd,mh,P,null,-0,0)}}break}while(!0);Hc(a)}function _3(a,c,p,y,R,P,se,Ee,We,xt,Vt,Yt,bt,Ct){if(a.timeoutHandle=-1,Yt=c.subtreeFlags,Yt&8192||(Yt&16785408)===16785408){Yt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ea},h3(c,P,Yt);var Ln=(P&62914560)===P?mg-tn():(P&4194048)===P?g3-tn():0;if(Ln=RD(Yt,Ln),Ln!==null){Ou=P,a.cancelPendingCommit=Ln(N3.bind(null,a,c,P,p,y,R,se,Ee,We,Vt,Yt,null,bt,Ct)),vh(a,P,se,!xt);return}}N3(a,c,P,p,y,R,se,Ee,We)}function W7(a){for(var c=a;;){var p=c.tag;if((p===0||p===11||p===15)&&c.flags&16384&&(p=c.updateQueue,p!==null&&(p=p.stores,p!==null)))for(var y=0;y<p.length;y++){var R=p[y],P=R.getSnapshot;R=R.value;try{if(!b(P(),R))return!1}catch{return!1}}if(p=c.child,c.subtreeFlags&16384&&p!==null)p.return=c,c=p;else{if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function vh(a,c,p,y){c&=~Jx,c&=~Ef,a.suspendedLanes|=c,a.pingedLanes&=~c,y&&(a.warmLanes|=c),y=a.expirationTimes;for(var R=c;0<R;){var P=31-It(R),se=1<<P;y[P]=-1,R&=~se}p!==0&&Qi(a,p,c)}function xg(){return(mi&6)===0?(p1(0),!1):!0}function iv(){if(Pr!==null){if(_i===0)var a=Pr.return;else a=Pr,Hl=Lc=null,Sd(a),Qt=null,kn=0,a=Pr;for(;a!==null;)Qb(a.alternate,a),a=a.return;Pr=null}}function jd(a,c){var p=a.timeoutHandle;p!==-1&&(a.timeoutHandle=-1,fD(p)),p=a.cancelPendingCommit,p!==null&&(a.cancelPendingCommit=null,p()),Ou=0,iv(),Vi=a,Pr=p=Jo(a.current,null),Vr=c,_i=0,bl=null,mh=!1,Ld=Dr(a,c),Zx=!1,kd=El=Jx=Ef=gh=Ls=0,ul=m1=null,ev=!1,(c&8)!==0&&(c|=c&32);var y=a.entangledLanes;if(y!==0)for(a=a.entanglements,y&=c;0<y;){var R=31-It(y),P=1<<R;c|=a[R],y&=~P}return Ru=c,hf(),p}function y3(a,c){Qn=null,Ae.H=a1,c===Qe||c===Fe?(c=zt(),_i=3):c===gt?(c=zt(),_i=4):_i=c===Px?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,bl=c,Pr===null&&(Ls=1,ag(a,el(c,a.current)))}function w3(){var a=es.current;return a===null?!0:(Vr&4194048)===Vr?ei===null:(Vr&62914560)===Vr||(Vr&536870912)!==0?a===ei:!1}function b3(){var a=Ae.H;return Ae.H=a1,a===null?a1:a}function E3(){var a=Ae.A;return Ae.A=q7,a}function vg(){Ls=4,mh||(Vr&4194048)!==Vr&&es.current!==null||(Ld=!0),(gh&134217727)===0&&(Ef&134217727)===0||Vi===null||vh(Vi,Vr,El,!1)}function sv(a,c,p){var y=mi;mi|=2;var R=b3(),P=E3();(Vi!==a||Vr!==c)&&(pg=null,jd(a,c)),c=!1;var se=Ls;e:do try{if(_i!==0&&Pr!==null){var Ee=Pr,We=bl;switch(_i){case 8:iv(),se=6;break e;case 3:case 2:case 9:case 6:es.current===null&&(c=!0);var xt=_i;if(_i=0,bl=null,Fd(a,Ee,We,xt),p&&Ld){se=0;break e}break;default:xt=_i,_i=0,bl=null,Fd(a,Ee,We,xt)}}Y7(),se=Ls;break}catch(Vt){y3(a,Vt)}while(!0);return c&&a.shellSuspendCounter++,Hl=Lc=null,mi=y,Ae.H=R,Ae.A=P,Pr===null&&(Vi=null,Vr=0,hf()),se}function Y7(){for(;Pr!==null;)A3(Pr)}function X7(a,c){var p=mi;mi|=2;var y=b3(),R=E3();Vi!==a||Vr!==c?(pg=null,gg=tn()+500,jd(a,c)):Ld=Dr(a,c);e:do try{if(_i!==0&&Pr!==null){c=Pr;var P=bl;t:switch(_i){case 1:_i=0,bl=null,Fd(a,c,P,1);break;case 2:case 9:if(ct(P)){_i=0,bl=null,S3(c);break}c=function(){_i!==2&&_i!==9||Vi!==a||(_i=7),Hc(a)},P.then(c,c);break e;case 3:_i=7;break e;case 4:_i=5;break e;case 7:ct(P)?(_i=0,bl=null,S3(c)):(_i=0,bl=null,Fd(a,c,P,7));break;case 5:var se=null;switch(Pr.tag){case 26:se=Pr.memoizedState;case 5:case 27:var Ee=Pr;if(se?u4(se):Ee.stateNode.complete){_i=0,bl=null;var We=Ee.sibling;if(We!==null)Pr=We;else{var xt=Ee.return;xt!==null?(Pr=xt,_g(xt)):Pr=null}break t}}_i=0,bl=null,Fd(a,c,P,5);break;case 6:_i=0,bl=null,Fd(a,c,P,6);break;case 8:iv(),Ls=6;break e;default:throw Error(r(462))}}K7();break}catch(Vt){y3(a,Vt)}while(!0);return Hl=Lc=null,Ae.H=y,Ae.A=R,mi=p,Pr!==null?0:(Vi=null,Vr=0,hf(),Ls)}function K7(){for(;Pr!==null&&!Ft();)A3(Pr)}function A3(a){var c=Xb(a.alternate,a,Ru);a.memoizedProps=a.pendingProps,c===null?_g(a):Pr=c}function S3(a){var c=a,p=c.alternate;switch(c.tag){case 15:case 0:c=zb(p,c,c.pendingProps,c.type,void 0,Vr);break;case 11:c=zb(p,c,c.pendingProps,c.type.render,c.ref,Vr);break;case 5:Sd(c);default:Qb(p,c),c=Pr=mf(c,Ru),c=Xb(p,c,Ru)}a.memoizedProps=a.pendingProps,c===null?_g(a):Pr=c}function Fd(a,c,p,y){Hl=Lc=null,Sd(c),Qt=null,kn=0;var R=c.return;try{if(j7(a,R,c,p,Vr)){Ls=1,ag(a,el(p,a.current)),Pr=null;return}}catch(P){if(R!==null)throw Pr=R,P;Ls=1,ag(a,el(p,a.current)),Pr=null;return}c.flags&32768?(kr||y===1?a=!0:Ld||(Vr&536870912)!==0?a=!1:(mh=a=!0,(y===2||y===9||y===3||y===6)&&(y=es.current,y!==null&&y.tag===13&&(y.flags|=16384))),T3(c,a)):_g(c)}function _g(a){var c=a;do{if((c.flags&32768)!==0){T3(c,mh);return}a=c.return;var p=U7(c.alternate,c,Ru);if(p!==null){Pr=p;return}if(c=c.sibling,c!==null){Pr=c;return}Pr=c=a}while(c!==null);Ls===0&&(Ls=5)}function T3(a,c){do{var p=V7(a.alternate,a);if(p!==null){p.flags&=32767,Pr=p;return}if(p=a.return,p!==null&&(p.flags|=32768,p.subtreeFlags=0,p.deletions=null),!c&&(a=a.sibling,a!==null)){Pr=a;return}Pr=a=p}while(a!==null);Ls=6,Pr=null}function N3(a,c,p,y,R,P,se,Ee,We){a.cancelPendingCommit=null;do yg();while(Ta!==0);if((mi&6)!==0)throw Error(r(327));if(c!==null){if(c===a.current)throw Error(r(177));if(P=c.lanes|c.childLanes,P|=hd,Ci(a,p,P,se,Ee,We),a===Vi&&(Pr=Vi=null,Vr=0),Pd=c,xh=a,Ou=p,tv=P,nv=R,p3=y,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,J7(gn,function(){return D3(),null})):(a.callbackNode=null,a.callbackPriority=0),y=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||y){y=Ae.T,Ae.T=null,R=ve.p,ve.p=2,se=mi,mi|=4;try{z7(a,c,p)}finally{mi=se,ve.p=R,Ae.T=y}}Ta=1,C3(),I3(),R3()}}function C3(){if(Ta===1){Ta=0;var a=xh,c=Pd,p=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||p){p=Ae.T,Ae.T=null;var y=ve.p;ve.p=2;var R=mi;mi|=4;try{l3(c,a);var P=xv,se=fe(a.containerInfo),Ee=P.focusedElem,We=P.selectionRange;if(se!==Ee&&Ee&&Ee.ownerDocument&&ee(Ee.ownerDocument.documentElement,Ee)){if(We!==null&&_e(Ee)){var xt=We.start,Vt=We.end;if(Vt===void 0&&(Vt=xt),"selectionStart"in Ee)Ee.selectionStart=xt,Ee.selectionEnd=Math.min(Vt,Ee.value.length);else{var Yt=Ee.ownerDocument||document,bt=Yt&&Yt.defaultView||window;if(bt.getSelection){var Ct=bt.getSelection(),Ln=Ee.textContent.length,ar=Math.min(We.start,Ln),ji=We.end===void 0?ar:Math.min(We.end,Ln);!Ct.extend&&ar>ji&&(se=ji,ji=ar,ar=se);var at=z(Ee,ar),$e=z(Ee,ji);if(at&&$e&&(Ct.rangeCount!==1||Ct.anchorNode!==at.node||Ct.anchorOffset!==at.offset||Ct.focusNode!==$e.node||Ct.focusOffset!==$e.offset)){var pt=Yt.createRange();pt.setStart(at.node,at.offset),Ct.removeAllRanges(),ar>ji?(Ct.addRange(pt),Ct.extend($e.node,$e.offset)):(pt.setEnd($e.node,$e.offset),Ct.addRange(pt))}}}}for(Yt=[],Ct=Ee;Ct=Ct.parentNode;)Ct.nodeType===1&&Yt.push({element:Ct,left:Ct.scrollLeft,top:Ct.scrollTop});for(typeof Ee.focus=="function"&&Ee.focus(),Ee=0;Ee<Yt.length;Ee++){var qt=Yt[Ee];qt.element.scrollLeft=qt.left,qt.element.scrollTop=qt.top}}Dg=!!pv,xv=pv=null}finally{mi=R,ve.p=y,Ae.T=p}}a.current=c,Ta=2}}function I3(){if(Ta===2){Ta=0;var a=xh,c=Pd,p=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||p){p=Ae.T,Ae.T=null;var y=ve.p;ve.p=2;var R=mi;mi|=4;try{r3(a,c.alternate,c)}finally{mi=R,ve.p=y,Ae.T=p}}Ta=3}}function R3(){if(Ta===4||Ta===3){Ta=0,fn();var a=xh,c=Pd,p=Ou,y=p3;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?Ta=5:(Ta=0,Pd=xh=null,O3(a,a.pendingLanes));var R=a.pendingLanes;if(R===0&&(ph=null),Rr(p),c=c.stateNode,dt&&typeof dt.onCommitFiberRoot=="function")try{dt.onCommitFiberRoot(rn,c,void 0,(c.current.flags&128)===128)}catch{}if(y!==null){c=Ae.T,R=ve.p,ve.p=2,Ae.T=null;try{for(var P=a.onRecoverableError,se=0;se<y.length;se++){var Ee=y[se];P(Ee.value,{componentStack:Ee.stack})}}finally{Ae.T=c,ve.p=R}}(Ou&3)!==0&&yg(),Hc(a),R=a.pendingLanes,(p&261930)!==0&&(R&42)!==0?a===rv?g1++:(g1=0,rv=a):g1=0,p1(0)}}function O3(a,c){(a.pooledCacheLanes&=c)===0&&(c=a.pooledCache,c!=null&&(a.pooledCache=null,xf(c)))}function yg(){return C3(),I3(),R3(),D3()}function D3(){if(Ta!==5)return!1;var a=xh,c=tv;tv=0;var p=Rr(Ou),y=Ae.T,R=ve.p;try{ve.p=32>p?32:p,Ae.T=null,p=nv,nv=null;var P=xh,se=Ou;if(Ta=0,Pd=xh=null,Ou=0,(mi&6)!==0)throw Error(r(331));var Ee=mi;if(mi|=4,d3(P.current),u3(P,P.current,se,p),mi=Ee,p1(0,!1),dt&&typeof dt.onPostCommitFiberRoot=="function")try{dt.onPostCommitFiberRoot(rn,P)}catch{}return!0}finally{ve.p=R,Ae.T=y,O3(a,c)}}function M3(a,c,p){c=el(p,c),c=kx(a.stateNode,c,2),a=Sr(a,c,2),a!==null&&(On(a,2),Hc(a))}function yi(a,c,p){if(a.tag===3)M3(a,a,p);else for(;c!==null;){if(c.tag===3){M3(c,a,p);break}else if(c.tag===1){var y=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(ph===null||!ph.has(y))){a=el(p,a),p=Lb(2),y=Sr(c,p,2),y!==null&&(kb(p,y,c,a),On(y,2),Hc(y));break}}c=c.return}}function av(a,c,p){var y=a.pingCache;if(y===null){y=a.pingCache=new G7;var R=new Set;y.set(c,R)}else R=y.get(c),R===void 0&&(R=new Set,y.set(c,R));R.has(p)||(Zx=!0,R.add(p),a=Q7.bind(null,a,c,p),c.then(a,a))}function Q7(a,c,p){var y=a.pingCache;y!==null&&y.delete(c),a.pingedLanes|=a.suspendedLanes&p,a.warmLanes&=~p,Vi===a&&(Vr&p)===p&&(Ls===4||Ls===3&&(Vr&62914560)===Vr&&300>tn()-mg?(mi&2)===0&&jd(a,0):Jx|=p,kd===Vr&&(kd=0)),Hc(a)}function L3(a,c){c===0&&(c=Lr()),a=ac(a,c),a!==null&&(On(a,c),Hc(a))}function $7(a){var c=a.memoizedState,p=0;c!==null&&(p=c.retryLane),L3(a,p)}function Z7(a,c){var p=0;switch(a.tag){case 31:case 13:var y=a.stateNode,R=a.memoizedState;R!==null&&(p=R.retryLane);break;case 19:y=a.stateNode;break;case 22:y=a.stateNode._retryCache;break;default:throw Error(r(314))}y!==null&&y.delete(c),L3(a,p)}function J7(a,c){return Zt(a,c)}var wg=null,Bd=null,ov=!1,bg=!1,lv=!1,_h=0;function Hc(a){a!==Bd&&a.next===null&&(Bd===null?wg=Bd=a:Bd=Bd.next=a),bg=!0,ov||(ov=!0,tD())}function p1(a,c){if(!lv&&bg){lv=!0;do for(var p=!1,y=wg;y!==null;){if(a!==0){var R=y.pendingLanes;if(R===0)var P=0;else{var se=y.suspendedLanes,Ee=y.pingedLanes;P=(1<<31-It(42|a)+1)-1,P&=R&~(se&~Ee),P=P&201326741?P&201326741|1:P?P|2:0}P!==0&&(p=!0,F3(y,P))}else P=Vr,P=Zn(y,y===Vi?P:0,y.cancelPendingCommit!==null||y.timeoutHandle!==-1),(P&3)===0||Dr(y,P)||(p=!0,F3(y,P));y=y.next}while(p);lv=!1}}function eD(){k3()}function k3(){bg=ov=!1;var a=0;_h!==0&&hD()&&(a=_h);for(var c=tn(),p=null,y=wg;y!==null;){var R=y.next,P=P3(y,c);P===0?(y.next=null,p===null?wg=R:p.next=R,R===null&&(Bd=p)):(p=y,(a!==0||(P&3)!==0)&&(bg=!0)),y=R}Ta!==0&&Ta!==5||p1(a),_h!==0&&(_h=0)}function P3(a,c){for(var p=a.suspendedLanes,y=a.pingedLanes,R=a.expirationTimes,P=a.pendingLanes&-62914561;0<P;){var se=31-It(P),Ee=1<<se,We=R[se];We===-1?((Ee&p)===0||(Ee&y)!==0)&&(R[se]=li(Ee,c)):We<=c&&(a.expiredLanes|=Ee),P&=~Ee}if(c=Vi,p=Vr,p=Zn(a,a===c?p:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),y=a.callbackNode,p===0||a===c&&(_i===2||_i===9)||a.cancelPendingCommit!==null)return y!==null&&y!==null&&Xe(y),a.callbackNode=null,a.callbackPriority=0;if((p&3)===0||Dr(a,p)){if(c=p&-p,c===a.callbackPriority)return c;switch(y!==null&&Xe(y),Rr(p)){case 2:case 8:p=wn;break;case 32:p=gn;break;case 268435456:p=bn;break;default:p=gn}return y=j3.bind(null,a),p=Zt(p,y),a.callbackPriority=c,a.callbackNode=p,c}return y!==null&&y!==null&&Xe(y),a.callbackPriority=2,a.callbackNode=null,2}function j3(a,c){if(Ta!==0&&Ta!==5)return a.callbackNode=null,a.callbackPriority=0,null;var p=a.callbackNode;if(yg()&&a.callbackNode!==p)return null;var y=Vr;return y=Zn(a,a===Vi?y:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),y===0?null:(v3(a,y,c),P3(a,tn()),a.callbackNode!=null&&a.callbackNode===p?j3.bind(null,a):null)}function F3(a,c){if(yg())return null;v3(a,c,!0)}function tD(){dD(function(){(mi&6)!==0?Zt(cn,eD):k3()})}function cv(){if(_h===0){var a=T;a===0&&(a=Xt,Xt<<=1,(Xt&261888)===0&&(Xt=256)),_h=a}return _h}function B3(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:Ts(""+a)}function U3(a,c){var p=c.ownerDocument.createElement("input");return p.name=c.name,p.value=c.value,a.id&&p.setAttribute("form",a.id),c.parentNode.insertBefore(p,c),a=new FormData(a),p.parentNode.removeChild(p),a}function nD(a,c,p,y,R){if(c==="submit"&&p&&p.stateNode===R){var P=B3((R[Oe]||null).action),se=y.submitter;se&&(c=(c=se[Oe]||null)?B3(c.formAction):se.getAttribute("formAction"),c!==null&&(P=c,se=null));var Ee=new Wr("action","action",null,y,R);a.push({event:Ee,listeners:[{instance:null,listener:function(){if(y.defaultPrevented){if(_h!==0){var We=se?U3(R,se):new FormData(R);Ix(p,{pending:!0,data:We,method:R.method,action:P},null,We)}}else typeof P=="function"&&(Ee.preventDefault(),We=se?U3(R,se):new FormData(R),Ix(p,{pending:!0,data:We,method:R.method,action:P},P,We))},currentTarget:R}]})}}for(var uv=0;uv<sc.length;uv++){var hv=sc[uv],rD=hv.toLowerCase(),iD=hv[0].toUpperCase()+hv.slice(1);Zo(rD,"on"+iD)}Zo(Ws,"onAnimationEnd"),Zo(Ns,"onAnimationIteration"),Zo(ri,"onAnimationStart"),Zo("dblclick","onDoubleClick"),Zo("focusin","onFocus"),Zo("focusout","onBlur"),Zo(Cs,"onTransitionRun"),Zo(Ba,"onTransitionStart"),Zo(ic,"onTransitionCancel"),Zo(zl,"onTransitionEnd"),Ii("onMouseEnter",["mouseout","mouseover"]),Ii("onMouseLeave",["mouseout","mouseover"]),Ii("onPointerEnter",["pointerout","pointerover"]),Ii("onPointerLeave",["pointerout","pointerover"]),Kn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Kn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Kn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Kn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Kn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Kn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var x1="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sD=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(x1));function V3(a,c){c=(c&4)!==0;for(var p=0;p<a.length;p++){var y=a[p],R=y.event;y=y.listeners;e:{var P=void 0;if(c)for(var se=y.length-1;0<=se;se--){var Ee=y[se],We=Ee.instance,xt=Ee.currentTarget;if(Ee=Ee.listener,We!==P&&R.isPropagationStopped())break e;P=Ee,R.currentTarget=xt;try{P(R)}catch(Vt){uf(Vt)}R.currentTarget=null,P=We}else for(se=0;se<y.length;se++){if(Ee=y[se],We=Ee.instance,xt=Ee.currentTarget,Ee=Ee.listener,We!==P&&R.isPropagationStopped())break e;P=Ee,R.currentTarget=xt;try{P(R)}catch(Vt){uf(Vt)}R.currentTarget=null,P=We}}}}function jr(a,c){var p=c[it];p===void 0&&(p=c[it]=new Set);var y=a+"__bubble";p.has(y)||(z3(c,a,2,!1),p.add(y))}function fv(a,c,p){var y=0;c&&(y|=4),z3(p,a,y,c)}var Eg="_reactListening"+Math.random().toString(36).slice(2);function dv(a){if(!a[Eg]){a[Eg]=!0,Nt.forEach(function(p){p!=="selectionchange"&&(sD.has(p)||fv(p,!1,a),fv(p,!0,a))});var c=a.nodeType===9?a:a.ownerDocument;c===null||c[Eg]||(c[Eg]=!0,fv("selectionchange",!1,c))}}function z3(a,c,p,y){switch(x4(c)){case 2:var R=MD;break;case 8:R=LD;break;default:R=Cv}p=R.bind(null,c,p,a),R=void 0,!_l||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(R=!0),y?R!==void 0?a.addEventListener(c,p,{capture:!0,passive:R}):a.addEventListener(c,p,!0):R!==void 0?a.addEventListener(c,p,{passive:R}):a.addEventListener(c,p,!1)}function mv(a,c,p,y,R){var P=y;if((c&1)===0&&(c&2)===0&&y!==null)e:for(;;){if(y===null)return;var se=y.tag;if(se===3||se===4){var Ee=y.stateNode.containerInfo;if(Ee===R)break;if(se===4)for(se=y.return;se!==null;){var We=se.tag;if((We===3||We===4)&&se.stateNode.containerInfo===R)return;se=se.return}for(;Ee!==null;){if(se=Ot(Ee),se===null)return;if(We=se.tag,We===5||We===6||We===26||We===27){y=P=se;continue e}Ee=Ee.parentNode}}y=y.return}Qo(function(){var xt=P,Vt=ta(p),Yt=[];e:{var bt=cf.get(a);if(bt!==void 0){var Ct=Wr,Ln=a;switch(a){case"keypress":if(gs(p)===0)break e;case"keydown":case"keyup":Ct=Ar;break;case"focusin":Ln="focus",Ct=io;break;case"focusout":Ln="blur",Ct=io;break;case"beforeblur":case"afterblur":Ct=io;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ct=Or;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ct=ya;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ct=K;break;case Ws:case Ns:case ri:Ct=V;break;case zl:Ct=Se;break;case"scroll":case"scrollend":Ct=Fo;break;case"wheel":Ct=vt;break;case"copy":case"cut":case"paste":Ct=je;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ct=Wn;break;case"toggle":case"beforetoggle":Ct=rr}var ar=(c&4)!==0,ji=!ar&&(a==="scroll"||a==="scrollend"),at=ar?bt!==null?bt+"Capture":null:bt;ar=[];for(var $e=xt,pt;$e!==null;){var qt=$e;if(pt=qt.stateNode,qt=qt.tag,qt!==5&&qt!==26&&qt!==27||pt===null||at===null||(qt=Bn($e,at),qt!=null&&ar.push(v1($e,qt,pt))),ji)break;$e=$e.return}0<ar.length&&(bt=new Ct(bt,Ln,null,p,Vt),Yt.push({event:bt,listeners:ar}))}}if((c&7)===0){e:{if(bt=a==="mouseover"||a==="pointerover",Ct=a==="mouseout"||a==="pointerout",bt&&p!==eo&&(Ln=p.relatedTarget||p.fromElement)&&(Ot(Ln)||Ln[ke]))break e;if((Ct||bt)&&(bt=Vt.window===Vt?Vt:(bt=Vt.ownerDocument)?bt.defaultView||bt.parentWindow:window,Ct?(Ln=p.relatedTarget||p.toElement,Ct=xt,Ln=Ln?Ot(Ln):null,Ln!==null&&(ji=s(Ln),ar=Ln.tag,Ln!==ji||ar!==5&&ar!==27&&ar!==6)&&(Ln=null)):(Ct=null,Ln=xt),Ct!==Ln)){if(ar=Or,qt="onMouseLeave",at="onMouseEnter",$e="mouse",(a==="pointerout"||a==="pointerover")&&(ar=Wn,qt="onPointerLeave",at="onPointerEnter",$e="pointer"),ji=Ct==null?bt:yt(Ct),pt=Ln==null?bt:yt(Ln),bt=new ar(qt,$e+"leave",Ct,p,Vt),bt.target=ji,bt.relatedTarget=pt,qt=null,Ot(Vt)===xt&&(ar=new ar(at,$e+"enter",Ln,p,Vt),ar.target=pt,ar.relatedTarget=ji,qt=ar),ji=qt,Ct&&Ln)t:{for(ar=aD,at=Ct,$e=Ln,pt=0,qt=at;qt;qt=ar(qt))pt++;qt=0;for(var tr=$e;tr;tr=ar(tr))qt++;for(;0<pt-qt;)at=ar(at),pt--;for(;0<qt-pt;)$e=ar($e),qt--;for(;pt--;){if(at===$e||$e!==null&&at===$e.alternate){ar=at;break t}at=ar(at),$e=ar($e)}ar=null}else ar=null;Ct!==null&&H3(Yt,bt,Ct,ar,!1),Ln!==null&&ji!==null&&H3(Yt,ji,Ln,ar,!0)}}e:{if(bt=xt?yt(xt):window,Ct=bt.nodeName&&bt.nodeName.toLowerCase(),Ct==="select"||Ct==="input"&&bt.type==="file")var si=qs;else if(Rc(bt))if(ja)si=v;else{si=h;var Un=l}else Ct=bt.nodeName,!Ct||Ct.toLowerCase()!=="input"||bt.type!=="checkbox"&&bt.type!=="radio"?xt&&Zr(xt.elementType)&&(si=qs):si=g;if(si&&(si=si(a,xt))){Wi(Yt,si,p,Vt);break e}Un&&Un(a,bt,xt),a==="focusout"&&xt&&bt.type==="number"&&xt.memoizedProps.value!=null&&Le(bt,"number",bt.value)}switch(Un=xt?yt(xt):window,a){case"focusin":(Rc(Un)||Un.contentEditable==="true")&&(qe=Un,Ke=xt,rt=null);break;case"focusout":rt=Ke=qe=null;break;case"mousedown":_t=!0;break;case"contextmenu":case"mouseup":case"dragend":_t=!1,Bt(Yt,p,Vt);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Bt(Yt,p,Vt)}var Tr;if(_r)e:{switch(a){case"compositionstart":var zr="onCompositionStart";break e;case"compositionend":zr="onCompositionEnd";break e;case"compositionupdate":zr="onCompositionUpdate";break e}zr=void 0}else $o?so(a,p)&&(zr="onCompositionEnd"):a==="keydown"&&p.keyCode===229&&(zr="onCompositionStart");zr&&(zs&&p.locale!=="ko"&&($o||zr!=="onCompositionStart"?zr==="onCompositionEnd"&&$o&&(Tr=jo()):(ra=Vt,va="value"in ra?ra.value:ra.textContent,$o=!0)),Un=Ag(xt,zr),0<Un.length&&(zr=new tt(zr,a,null,p,Vt),Yt.push({event:zr,listeners:Un}),Tr?zr.data=Tr:(Tr=Pa(p),Tr!==null&&(zr.data=Tr)))),(Tr=ps?Gi(a,p):yo(a,p))&&(zr=Ag(xt,"onBeforeInput"),0<zr.length&&(Un=new tt("onBeforeInput","beforeinput",null,p,Vt),Yt.push({event:Un,listeners:zr}),Un.data=Tr)),nD(Yt,a,xt,p,Vt)}V3(Yt,c)})}function v1(a,c,p){return{instance:a,listener:c,currentTarget:p}}function Ag(a,c){for(var p=c+"Capture",y=[];a!==null;){var R=a,P=R.stateNode;if(R=R.tag,R!==5&&R!==26&&R!==27||P===null||(R=Bn(a,p),R!=null&&y.unshift(v1(a,R,P)),R=Bn(a,c),R!=null&&y.push(v1(a,R,P))),a.tag===3)return y;a=a.return}return[]}function aD(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function H3(a,c,p,y,R){for(var P=c._reactName,se=[];p!==null&&p!==y;){var Ee=p,We=Ee.alternate,xt=Ee.stateNode;if(Ee=Ee.tag,We!==null&&We===y)break;Ee!==5&&Ee!==26&&Ee!==27||xt===null||(We=xt,R?(xt=Bn(p,P),xt!=null&&se.unshift(v1(p,xt,We))):R||(xt=Bn(p,P),xt!=null&&se.push(v1(p,xt,We)))),p=p.return}se.length!==0&&a.push({event:c,listeners:se})}var oD=/\r\n?/g,lD=/\u0000|\uFFFD/g;function q3(a){return(typeof a=="string"?a:""+a).replace(oD,`
`).replace(lD,"")}function G3(a,c){return c=q3(c),q3(a)===c}function Pi(a,c,p,y,R,P){switch(p){case"children":typeof y=="string"?c==="body"||c==="textarea"&&y===""||ms(a,y):(typeof y=="number"||typeof y=="bigint")&&c!=="body"&&ms(a,""+y);break;case"className":os(a,"class",y);break;case"tabIndex":os(a,"tabindex",y);break;case"dir":case"role":case"viewBox":case"width":case"height":os(a,p,y);break;case"style":jn(a,y,P);break;case"data":if(c!=="object"){os(a,"data",y);break}case"src":case"href":if(y===""&&(c!=="a"||p!=="href")){a.removeAttribute(p);break}if(y==null||typeof y=="function"||typeof y=="symbol"||typeof y=="boolean"){a.removeAttribute(p);break}y=Ts(""+y),a.setAttribute(p,y);break;case"action":case"formAction":if(typeof y=="function"){a.setAttribute(p,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof P=="function"&&(p==="formAction"?(c!=="input"&&Pi(a,c,"name",R.name,R,null),Pi(a,c,"formEncType",R.formEncType,R,null),Pi(a,c,"formMethod",R.formMethod,R,null),Pi(a,c,"formTarget",R.formTarget,R,null)):(Pi(a,c,"encType",R.encType,R,null),Pi(a,c,"method",R.method,R,null),Pi(a,c,"target",R.target,R,null)));if(y==null||typeof y=="symbol"||typeof y=="boolean"){a.removeAttribute(p);break}y=Ts(""+y),a.setAttribute(p,y);break;case"onClick":y!=null&&(a.onclick=ea);break;case"onScroll":y!=null&&jr("scroll",a);break;case"onScrollEnd":y!=null&&jr("scrollend",a);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(r(61));if(p=y.__html,p!=null){if(R.children!=null)throw Error(r(60));a.innerHTML=p}}break;case"multiple":a.multiple=y&&typeof y!="function"&&typeof y!="symbol";break;case"muted":a.muted=y&&typeof y!="function"&&typeof y!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(y==null||typeof y=="function"||typeof y=="boolean"||typeof y=="symbol"){a.removeAttribute("xlink:href");break}p=Ts(""+y),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",p);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":y!=null&&typeof y!="function"&&typeof y!="symbol"?a.setAttribute(p,""+y):a.removeAttribute(p);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":y&&typeof y!="function"&&typeof y!="symbol"?a.setAttribute(p,""):a.removeAttribute(p);break;case"capture":case"download":y===!0?a.setAttribute(p,""):y!==!1&&y!=null&&typeof y!="function"&&typeof y!="symbol"?a.setAttribute(p,y):a.removeAttribute(p);break;case"cols":case"rows":case"size":case"span":y!=null&&typeof y!="function"&&typeof y!="symbol"&&!isNaN(y)&&1<=y?a.setAttribute(p,y):a.removeAttribute(p);break;case"rowSpan":case"start":y==null||typeof y=="function"||typeof y=="symbol"||isNaN(y)?a.removeAttribute(p):a.setAttribute(p,y);break;case"popover":jr("beforetoggle",a),jr("toggle",a),ci(a,"popover",y);break;case"xlinkActuate":Ri(a,"http://www.w3.org/1999/xlink","xlink:actuate",y);break;case"xlinkArcrole":Ri(a,"http://www.w3.org/1999/xlink","xlink:arcrole",y);break;case"xlinkRole":Ri(a,"http://www.w3.org/1999/xlink","xlink:role",y);break;case"xlinkShow":Ri(a,"http://www.w3.org/1999/xlink","xlink:show",y);break;case"xlinkTitle":Ri(a,"http://www.w3.org/1999/xlink","xlink:title",y);break;case"xlinkType":Ri(a,"http://www.w3.org/1999/xlink","xlink:type",y);break;case"xmlBase":Ri(a,"http://www.w3.org/XML/1998/namespace","xml:base",y);break;case"xmlLang":Ri(a,"http://www.w3.org/XML/1998/namespace","xml:lang",y);break;case"xmlSpace":Ri(a,"http://www.w3.org/XML/1998/namespace","xml:space",y);break;case"is":ci(a,"is",y);break;case"innerText":case"textContent":break;default:(!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(p=vl.get(p)||p,ci(a,p,y))}}function gv(a,c,p,y,R,P){switch(p){case"style":jn(a,y,P);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(r(61));if(p=y.__html,p!=null){if(R.children!=null)throw Error(r(60));a.innerHTML=p}}break;case"children":typeof y=="string"?ms(a,y):(typeof y=="number"||typeof y=="bigint")&&ms(a,""+y);break;case"onScroll":y!=null&&jr("scroll",a);break;case"onScrollEnd":y!=null&&jr("scrollend",a);break;case"onClick":y!=null&&(a.onclick=ea);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!vr.hasOwnProperty(p))e:{if(p[0]==="o"&&p[1]==="n"&&(R=p.endsWith("Capture"),c=p.slice(2,R?p.length-7:void 0),P=a[Oe]||null,P=P!=null?P[p]:null,typeof P=="function"&&a.removeEventListener(c,P,R),typeof y=="function")){typeof P!="function"&&P!==null&&(p in a?a[p]=null:a.hasAttribute(p)&&a.removeAttribute(p)),a.addEventListener(c,y,R);break e}p in a?a[p]=y:y===!0?a.setAttribute(p,""):ci(a,p,y)}}}function co(a,c,p){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":jr("error",a),jr("load",a);var y=!1,R=!1,P;for(P in p)if(p.hasOwnProperty(P)){var se=p[P];if(se!=null)switch(P){case"src":y=!0;break;case"srcSet":R=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:Pi(a,c,P,se,p,null)}}R&&Pi(a,c,"srcSet",p.srcSet,p,null),y&&Pi(a,c,"src",p.src,p,null);return;case"input":jr("invalid",a);var Ee=P=se=R=null,We=null,xt=null;for(y in p)if(p.hasOwnProperty(y)){var Vt=p[y];if(Vt!=null)switch(y){case"name":R=Vt;break;case"type":se=Vt;break;case"checked":We=Vt;break;case"defaultChecked":xt=Vt;break;case"value":P=Vt;break;case"defaultValue":Ee=Vt;break;case"children":case"dangerouslySetInnerHTML":if(Vt!=null)throw Error(r(137,c));break;default:Pi(a,c,y,Vt,p,null)}}ut(a,P,Ee,We,xt,se,R,!1);return;case"select":jr("invalid",a),y=se=P=null;for(R in p)if(p.hasOwnProperty(R)&&(Ee=p[R],Ee!=null))switch(R){case"value":P=Ee;break;case"defaultValue":se=Ee;break;case"multiple":y=Ee;default:Pi(a,c,R,Ee,p,null)}c=P,p=se,a.multiple=!!y,c!=null?En(a,!!y,c,!1):p!=null&&En(a,!!y,p,!0);return;case"textarea":jr("invalid",a),P=R=y=null;for(se in p)if(p.hasOwnProperty(se)&&(Ee=p[se],Ee!=null))switch(se){case"value":y=Ee;break;case"defaultValue":R=Ee;break;case"children":P=Ee;break;case"dangerouslySetInnerHTML":if(Ee!=null)throw Error(r(91));break;default:Pi(a,c,se,Ee,p,null)}qi(a,y,R,P);return;case"option":for(We in p)if(p.hasOwnProperty(We)&&(y=p[We],y!=null))switch(We){case"selected":a.selected=y&&typeof y!="function"&&typeof y!="symbol";break;default:Pi(a,c,We,y,p,null)}return;case"dialog":jr("beforetoggle",a),jr("toggle",a),jr("cancel",a),jr("close",a);break;case"iframe":case"object":jr("load",a);break;case"video":case"audio":for(y=0;y<x1.length;y++)jr(x1[y],a);break;case"image":jr("error",a),jr("load",a);break;case"details":jr("toggle",a);break;case"embed":case"source":case"link":jr("error",a),jr("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(xt in p)if(p.hasOwnProperty(xt)&&(y=p[xt],y!=null))switch(xt){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:Pi(a,c,xt,y,p,null)}return;default:if(Zr(c)){for(Vt in p)p.hasOwnProperty(Vt)&&(y=p[Vt],y!==void 0&&gv(a,c,Vt,y,p,void 0));return}}for(Ee in p)p.hasOwnProperty(Ee)&&(y=p[Ee],y!=null&&Pi(a,c,Ee,y,p,null))}function cD(a,c,p,y){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var R=null,P=null,se=null,Ee=null,We=null,xt=null,Vt=null;for(Ct in p){var Yt=p[Ct];if(p.hasOwnProperty(Ct)&&Yt!=null)switch(Ct){case"checked":break;case"value":break;case"defaultValue":We=Yt;default:y.hasOwnProperty(Ct)||Pi(a,c,Ct,null,y,Yt)}}for(var bt in y){var Ct=y[bt];if(Yt=p[bt],y.hasOwnProperty(bt)&&(Ct!=null||Yt!=null))switch(bt){case"type":P=Ct;break;case"name":R=Ct;break;case"checked":xt=Ct;break;case"defaultChecked":Vt=Ct;break;case"value":se=Ct;break;case"defaultValue":Ee=Ct;break;case"children":case"dangerouslySetInnerHTML":if(Ct!=null)throw Error(r(137,c));break;default:Ct!==Yt&&Pi(a,c,bt,Ct,y,Yt)}}Oi(a,se,Ee,We,xt,Vt,P,R);return;case"select":Ct=se=Ee=bt=null;for(P in p)if(We=p[P],p.hasOwnProperty(P)&&We!=null)switch(P){case"value":break;case"multiple":Ct=We;default:y.hasOwnProperty(P)||Pi(a,c,P,null,y,We)}for(R in y)if(P=y[R],We=p[R],y.hasOwnProperty(R)&&(P!=null||We!=null))switch(R){case"value":bt=P;break;case"defaultValue":Ee=P;break;case"multiple":se=P;default:P!==We&&Pi(a,c,R,P,y,We)}c=Ee,p=se,y=Ct,bt!=null?En(a,!!p,bt,!1):!!y!=!!p&&(c!=null?En(a,!!p,c,!0):En(a,!!p,p?[]:"",!1));return;case"textarea":Ct=bt=null;for(Ee in p)if(R=p[Ee],p.hasOwnProperty(Ee)&&R!=null&&!y.hasOwnProperty(Ee))switch(Ee){case"value":break;case"children":break;default:Pi(a,c,Ee,null,y,R)}for(se in y)if(R=y[se],P=p[se],y.hasOwnProperty(se)&&(R!=null||P!=null))switch(se){case"value":bt=R;break;case"defaultValue":Ct=R;break;case"children":break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(r(91));break;default:R!==P&&Pi(a,c,se,R,y,P)}Di(a,bt,Ct);return;case"option":for(var Ln in p)if(bt=p[Ln],p.hasOwnProperty(Ln)&&bt!=null&&!y.hasOwnProperty(Ln))switch(Ln){case"selected":a.selected=!1;break;default:Pi(a,c,Ln,null,y,bt)}for(We in y)if(bt=y[We],Ct=p[We],y.hasOwnProperty(We)&&bt!==Ct&&(bt!=null||Ct!=null))switch(We){case"selected":a.selected=bt&&typeof bt!="function"&&typeof bt!="symbol";break;default:Pi(a,c,We,bt,y,Ct)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ar in p)bt=p[ar],p.hasOwnProperty(ar)&&bt!=null&&!y.hasOwnProperty(ar)&&Pi(a,c,ar,null,y,bt);for(xt in y)if(bt=y[xt],Ct=p[xt],y.hasOwnProperty(xt)&&bt!==Ct&&(bt!=null||Ct!=null))switch(xt){case"children":case"dangerouslySetInnerHTML":if(bt!=null)throw Error(r(137,c));break;default:Pi(a,c,xt,bt,y,Ct)}return;default:if(Zr(c)){for(var ji in p)bt=p[ji],p.hasOwnProperty(ji)&&bt!==void 0&&!y.hasOwnProperty(ji)&&gv(a,c,ji,void 0,y,bt);for(Vt in y)bt=y[Vt],Ct=p[Vt],!y.hasOwnProperty(Vt)||bt===Ct||bt===void 0&&Ct===void 0||gv(a,c,Vt,bt,y,Ct);return}}for(var at in p)bt=p[at],p.hasOwnProperty(at)&&bt!=null&&!y.hasOwnProperty(at)&&Pi(a,c,at,null,y,bt);for(Yt in y)bt=y[Yt],Ct=p[Yt],!y.hasOwnProperty(Yt)||bt===Ct||bt==null&&Ct==null||Pi(a,c,Yt,bt,y,Ct)}function W3(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function uD(){if(typeof performance.getEntriesByType=="function"){for(var a=0,c=0,p=performance.getEntriesByType("resource"),y=0;y<p.length;y++){var R=p[y],P=R.transferSize,se=R.initiatorType,Ee=R.duration;if(P&&Ee&&W3(se)){for(se=0,Ee=R.responseEnd,y+=1;y<p.length;y++){var We=p[y],xt=We.startTime;if(xt>Ee)break;var Vt=We.transferSize,Yt=We.initiatorType;Vt&&W3(Yt)&&(We=We.responseEnd,se+=Vt*(We<Ee?1:(Ee-xt)/(We-xt)))}if(--y,c+=8*(P+se)/(R.duration/1e3),a++,10<a)break}}if(0<a)return c/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var pv=null,xv=null;function Sg(a){return a.nodeType===9?a:a.ownerDocument}function Y3(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function X3(a,c){if(a===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&c==="foreignObject"?0:a}function vv(a,c){return a==="textarea"||a==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var _v=null;function hD(){var a=window.event;return a&&a.type==="popstate"?a===_v?!1:(_v=a,!0):(_v=null,!1)}var K3=typeof setTimeout=="function"?setTimeout:void 0,fD=typeof clearTimeout=="function"?clearTimeout:void 0,Q3=typeof Promise=="function"?Promise:void 0,dD=typeof queueMicrotask=="function"?queueMicrotask:typeof Q3<"u"?function(a){return Q3.resolve(null).then(a).catch(mD)}:K3;function mD(a){setTimeout(function(){throw a})}function yh(a){return a==="head"}function $3(a,c){var p=c,y=0;do{var R=p.nextSibling;if(a.removeChild(p),R&&R.nodeType===8)if(p=R.data,p==="/$"||p==="/&"){if(y===0){a.removeChild(R),Hd(c);return}y--}else if(p==="$"||p==="$?"||p==="$~"||p==="$!"||p==="&")y++;else if(p==="html")_1(a.ownerDocument.documentElement);else if(p==="head"){p=a.ownerDocument.head,_1(p);for(var P=p.firstChild;P;){var se=P.nextSibling,Ee=P.nodeName;P[ht]||Ee==="SCRIPT"||Ee==="STYLE"||Ee==="LINK"&&P.rel.toLowerCase()==="stylesheet"||p.removeChild(P),P=se}}else p==="body"&&_1(a.ownerDocument.body);p=R}while(p);Hd(c)}function Z3(a,c){var p=a;a=0;do{var y=p.nextSibling;if(p.nodeType===1?c?(p._stashedDisplay=p.style.display,p.style.display="none"):(p.style.display=p._stashedDisplay||"",p.getAttribute("style")===""&&p.removeAttribute("style")):p.nodeType===3&&(c?(p._stashedText=p.nodeValue,p.nodeValue=""):p.nodeValue=p._stashedText||""),y&&y.nodeType===8)if(p=y.data,p==="/$"){if(a===0)break;a--}else p!=="$"&&p!=="$?"&&p!=="$~"&&p!=="$!"||a++;p=y}while(p)}function yv(a){var c=a.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var p=c;switch(c=c.nextSibling,p.nodeName){case"HTML":case"HEAD":case"BODY":yv(p),Ht(p);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(p.rel.toLowerCase()==="stylesheet")continue}a.removeChild(p)}}function gD(a,c,p,y){for(;a.nodeType===1;){var R=p;if(a.nodeName.toLowerCase()!==c.toLowerCase()){if(!y&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(y){if(!a[ht])switch(c){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(P=a.getAttribute("rel"),P==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(P!==R.rel||a.getAttribute("href")!==(R.href==null||R.href===""?null:R.href)||a.getAttribute("crossorigin")!==(R.crossOrigin==null?null:R.crossOrigin)||a.getAttribute("title")!==(R.title==null?null:R.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(P=a.getAttribute("src"),(P!==(R.src==null?null:R.src)||a.getAttribute("type")!==(R.type==null?null:R.type)||a.getAttribute("crossorigin")!==(R.crossOrigin==null?null:R.crossOrigin))&&P&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(c==="input"&&a.type==="hidden"){var P=R.name==null?null:""+R.name;if(R.type==="hidden"&&a.getAttribute("name")===P)return a}else return a;if(a=Wl(a.nextSibling),a===null)break}return null}function pD(a,c,p){if(c==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!p||(a=Wl(a.nextSibling),a===null))return null;return a}function J3(a,c){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!c||(a=Wl(a.nextSibling),a===null))return null;return a}function wv(a){return a.data==="$?"||a.data==="$~"}function bv(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function xD(a,c){var p=a.ownerDocument;if(a.data==="$~")a._reactRetry=c;else if(a.data!=="$?"||p.readyState!=="loading")c();else{var y=function(){c(),p.removeEventListener("DOMContentLoaded",y)};p.addEventListener("DOMContentLoaded",y),a._reactRetry=y}}function Wl(a){for(;a!=null;a=a.nextSibling){var c=a.nodeType;if(c===1||c===3)break;if(c===8){if(c=a.data,c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"||c==="F!"||c==="F")break;if(c==="/$"||c==="/&")return null}}return a}var Ev=null;function e4(a){a=a.nextSibling;for(var c=0;a;){if(a.nodeType===8){var p=a.data;if(p==="/$"||p==="/&"){if(c===0)return Wl(a.nextSibling);c--}else p!=="$"&&p!=="$!"&&p!=="$?"&&p!=="$~"&&p!=="&"||c++}a=a.nextSibling}return null}function t4(a){a=a.previousSibling;for(var c=0;a;){if(a.nodeType===8){var p=a.data;if(p==="$"||p==="$!"||p==="$?"||p==="$~"||p==="&"){if(c===0)return a;c--}else p!=="/$"&&p!=="/&"||c++}a=a.previousSibling}return null}function n4(a,c,p){switch(c=Sg(p),a){case"html":if(a=c.documentElement,!a)throw Error(r(452));return a;case"head":if(a=c.head,!a)throw Error(r(453));return a;case"body":if(a=c.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function _1(a){for(var c=a.attributes;c.length;)a.removeAttributeNode(c[0]);Ht(a)}var Yl=new Map,r4=new Set;function Tg(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var Du=ve.d;ve.d={f:vD,r:_D,D:yD,C:wD,L:bD,m:ED,X:SD,S:AD,M:TD};function vD(){var a=Du.f(),c=xg();return a||c}function _D(a){var c=Lt(a);c!==null&&c.tag===5&&c.type==="form"?yb(c):Du.r(a)}var Ud=typeof document>"u"?null:document;function i4(a,c,p){var y=Ud;if(y&&typeof c=="string"&&c){var R=sr(c);R='link[rel="'+a+'"][href="'+R+'"]',typeof p=="string"&&(R+='[crossorigin="'+p+'"]'),r4.has(R)||(r4.add(R),a={rel:a,crossOrigin:p,href:c},y.querySelector(R)===null&&(c=y.createElement("link"),co(c,"link",a),Tn(c),y.head.appendChild(c)))}}function yD(a){Du.D(a),i4("dns-prefetch",a,null)}function wD(a,c){Du.C(a,c),i4("preconnect",a,c)}function bD(a,c,p){Du.L(a,c,p);var y=Ud;if(y&&a&&c){var R='link[rel="preload"][as="'+sr(c)+'"]';c==="image"&&p&&p.imageSrcSet?(R+='[imagesrcset="'+sr(p.imageSrcSet)+'"]',typeof p.imageSizes=="string"&&(R+='[imagesizes="'+sr(p.imageSizes)+'"]')):R+='[href="'+sr(a)+'"]';var P=R;switch(c){case"style":P=Vd(a);break;case"script":P=zd(a)}Yl.has(P)||(a=w({rel:"preload",href:c==="image"&&p&&p.imageSrcSet?void 0:a,as:c},p),Yl.set(P,a),y.querySelector(R)!==null||c==="style"&&y.querySelector(y1(P))||c==="script"&&y.querySelector(w1(P))||(c=y.createElement("link"),co(c,"link",a),Tn(c),y.head.appendChild(c)))}}function ED(a,c){Du.m(a,c);var p=Ud;if(p&&a){var y=c&&typeof c.as=="string"?c.as:"script",R='link[rel="modulepreload"][as="'+sr(y)+'"][href="'+sr(a)+'"]',P=R;switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":P=zd(a)}if(!Yl.has(P)&&(a=w({rel:"modulepreload",href:a},c),Yl.set(P,a),p.querySelector(R)===null)){switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(p.querySelector(w1(P)))return}y=p.createElement("link"),co(y,"link",a),Tn(y),p.head.appendChild(y)}}}function AD(a,c,p){Du.S(a,c,p);var y=Ud;if(y&&a){var R=en(y).hoistableStyles,P=Vd(a);c=c||"default";var se=R.get(P);if(!se){var Ee={loading:0,preload:null};if(se=y.querySelector(y1(P)))Ee.loading=5;else{a=w({rel:"stylesheet",href:a,"data-precedence":c},p),(p=Yl.get(P))&&Av(a,p);var We=se=y.createElement("link");Tn(We),co(We,"link",a),We._p=new Promise(function(xt,Vt){We.onload=xt,We.onerror=Vt}),We.addEventListener("load",function(){Ee.loading|=1}),We.addEventListener("error",function(){Ee.loading|=2}),Ee.loading|=4,Ng(se,c,y)}se={type:"stylesheet",instance:se,count:1,state:Ee},R.set(P,se)}}}function SD(a,c){Du.X(a,c);var p=Ud;if(p&&a){var y=en(p).hoistableScripts,R=zd(a),P=y.get(R);P||(P=p.querySelector(w1(R)),P||(a=w({src:a,async:!0},c),(c=Yl.get(R))&&Sv(a,c),P=p.createElement("script"),Tn(P),co(P,"link",a),p.head.appendChild(P)),P={type:"script",instance:P,count:1,state:null},y.set(R,P))}}function TD(a,c){Du.M(a,c);var p=Ud;if(p&&a){var y=en(p).hoistableScripts,R=zd(a),P=y.get(R);P||(P=p.querySelector(w1(R)),P||(a=w({src:a,async:!0,type:"module"},c),(c=Yl.get(R))&&Sv(a,c),P=p.createElement("script"),Tn(P),co(P,"link",a),p.head.appendChild(P)),P={type:"script",instance:P,count:1,state:null},y.set(R,P))}}function s4(a,c,p,y){var R=(R=de.current)?Tg(R):null;if(!R)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof p.precedence=="string"&&typeof p.href=="string"?(c=Vd(p.href),p=en(R).hoistableStyles,y=p.get(c),y||(y={type:"style",instance:null,count:0,state:null},p.set(c,y)),y):{type:"void",instance:null,count:0,state:null};case"link":if(p.rel==="stylesheet"&&typeof p.href=="string"&&typeof p.precedence=="string"){a=Vd(p.href);var P=en(R).hoistableStyles,se=P.get(a);if(se||(R=R.ownerDocument||R,se={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},P.set(a,se),(P=R.querySelector(y1(a)))&&!P._p&&(se.instance=P,se.state.loading=5),Yl.has(a)||(p={rel:"preload",as:"style",href:p.href,crossOrigin:p.crossOrigin,integrity:p.integrity,media:p.media,hrefLang:p.hrefLang,referrerPolicy:p.referrerPolicy},Yl.set(a,p),P||ND(R,a,p,se.state))),c&&y===null)throw Error(r(528,""));return se}if(c&&y!==null)throw Error(r(529,""));return null;case"script":return c=p.async,p=p.src,typeof p=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=zd(p),p=en(R).hoistableScripts,y=p.get(c),y||(y={type:"script",instance:null,count:0,state:null},p.set(c,y)),y):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function Vd(a){return'href="'+sr(a)+'"'}function y1(a){return'link[rel="stylesheet"]['+a+"]"}function a4(a){return w({},a,{"data-precedence":a.precedence,precedence:null})}function ND(a,c,p,y){a.querySelector('link[rel="preload"][as="style"]['+c+"]")?y.loading=1:(c=a.createElement("link"),y.preload=c,c.addEventListener("load",function(){return y.loading|=1}),c.addEventListener("error",function(){return y.loading|=2}),co(c,"link",p),Tn(c),a.head.appendChild(c))}function zd(a){return'[src="'+sr(a)+'"]'}function w1(a){return"script[async]"+a}function o4(a,c,p){if(c.count++,c.instance===null)switch(c.type){case"style":var y=a.querySelector('style[data-href~="'+sr(p.href)+'"]');if(y)return c.instance=y,Tn(y),y;var R=w({},p,{"data-href":p.href,"data-precedence":p.precedence,href:null,precedence:null});return y=(a.ownerDocument||a).createElement("style"),Tn(y),co(y,"style",R),Ng(y,p.precedence,a),c.instance=y;case"stylesheet":R=Vd(p.href);var P=a.querySelector(y1(R));if(P)return c.state.loading|=4,c.instance=P,Tn(P),P;y=a4(p),(R=Yl.get(R))&&Av(y,R),P=(a.ownerDocument||a).createElement("link"),Tn(P);var se=P;return se._p=new Promise(function(Ee,We){se.onload=Ee,se.onerror=We}),co(P,"link",y),c.state.loading|=4,Ng(P,p.precedence,a),c.instance=P;case"script":return P=zd(p.src),(R=a.querySelector(w1(P)))?(c.instance=R,Tn(R),R):(y=p,(R=Yl.get(P))&&(y=w({},p),Sv(y,R)),a=a.ownerDocument||a,R=a.createElement("script"),Tn(R),co(R,"link",y),a.head.appendChild(R),c.instance=R);case"void":return null;default:throw Error(r(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(y=c.instance,c.state.loading|=4,Ng(y,p.precedence,a));return c.instance}function Ng(a,c,p){for(var y=p.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),R=y.length?y[y.length-1]:null,P=R,se=0;se<y.length;se++){var Ee=y[se];if(Ee.dataset.precedence===c)P=Ee;else if(P!==R)break}P?P.parentNode.insertBefore(a,P.nextSibling):(c=p.nodeType===9?p.head:p,c.insertBefore(a,c.firstChild))}function Av(a,c){a.crossOrigin==null&&(a.crossOrigin=c.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=c.referrerPolicy),a.title==null&&(a.title=c.title)}function Sv(a,c){a.crossOrigin==null&&(a.crossOrigin=c.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=c.referrerPolicy),a.integrity==null&&(a.integrity=c.integrity)}var Cg=null;function l4(a,c,p){if(Cg===null){var y=new Map,R=Cg=new Map;R.set(p,y)}else R=Cg,y=R.get(p),y||(y=new Map,R.set(p,y));if(y.has(a))return y;for(y.set(a,null),p=p.getElementsByTagName(a),R=0;R<p.length;R++){var P=p[R];if(!(P[ht]||P[Ce]||a==="link"&&P.getAttribute("rel")==="stylesheet")&&P.namespaceURI!=="http://www.w3.org/2000/svg"){var se=P.getAttribute(c)||"";se=a+se;var Ee=y.get(se);Ee?Ee.push(P):y.set(se,[P])}}return y}function c4(a,c,p){a=a.ownerDocument||a,a.head.insertBefore(p,c==="title"?a.querySelector("head > title"):null)}function CD(a,c,p){if(p===1||c.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return a=c.disabled,typeof c.precedence=="string"&&a==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function u4(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function ID(a,c,p,y){if(p.type==="stylesheet"&&(typeof y.media!="string"||matchMedia(y.media).matches!==!1)&&(p.state.loading&4)===0){if(p.instance===null){var R=Vd(y.href),P=c.querySelector(y1(R));if(P){c=P._p,c!==null&&typeof c=="object"&&typeof c.then=="function"&&(a.count++,a=Ig.bind(a),c.then(a,a)),p.state.loading|=4,p.instance=P,Tn(P);return}P=c.ownerDocument||c,y=a4(y),(R=Yl.get(R))&&Av(y,R),P=P.createElement("link"),Tn(P);var se=P;se._p=new Promise(function(Ee,We){se.onload=Ee,se.onerror=We}),co(P,"link",y),p.instance=P}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(p,c),(c=p.state.preload)&&(p.state.loading&3)===0&&(a.count++,p=Ig.bind(a),c.addEventListener("load",p),c.addEventListener("error",p))}}var Tv=0;function RD(a,c){return a.stylesheets&&a.count===0&&Og(a,a.stylesheets),0<a.count||0<a.imgCount?function(p){var y=setTimeout(function(){if(a.stylesheets&&Og(a,a.stylesheets),a.unsuspend){var P=a.unsuspend;a.unsuspend=null,P()}},6e4+c);0<a.imgBytes&&Tv===0&&(Tv=62500*uD());var R=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&Og(a,a.stylesheets),a.unsuspend)){var P=a.unsuspend;a.unsuspend=null,P()}},(a.imgBytes>Tv?50:800)+c);return a.unsuspend=p,function(){a.unsuspend=null,clearTimeout(y),clearTimeout(R)}}:null}function Ig(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Og(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Rg=null;function Og(a,c){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Rg=new Map,c.forEach(OD,a),Rg=null,Ig.call(a))}function OD(a,c){if(!(c.state.loading&4)){var p=Rg.get(a);if(p)var y=p.get(null);else{p=new Map,Rg.set(a,p);for(var R=a.querySelectorAll("link[data-precedence],style[data-precedence]"),P=0;P<R.length;P++){var se=R[P];(se.nodeName==="LINK"||se.getAttribute("media")!=="not all")&&(p.set(se.dataset.precedence,se),y=se)}y&&p.set(null,y)}R=c.instance,se=R.getAttribute("data-precedence"),P=p.get(se)||y,P===y&&p.set(null,R),p.set(se,R),this.count++,y=Ig.bind(this),R.addEventListener("load",y),R.addEventListener("error",y),P?P.parentNode.insertBefore(R,P.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(R,a.firstChild)),c.state.loading|=4}}var b1={$$typeof:k,Provider:null,Consumer:null,_currentValue:Re,_currentValue2:Re,_threadCount:0};function DD(a,c,p,y,R,P,se,Ee,We){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Kr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Kr(0),this.hiddenUpdates=Kr(null),this.identifierPrefix=y,this.onUncaughtError=R,this.onCaughtError=P,this.onRecoverableError=se,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=We,this.incompleteTransitions=new Map}function h4(a,c,p,y,R,P,se,Ee,We,xt,Vt,Yt){return a=new DD(a,c,p,se,We,xt,Vt,Yt,Ee),c=1,P===!0&&(c|=24),P=Va(3,null,null,c),a.current=P,P.stateNode=a,c=lh(),c.refCount++,a.pooledCache=c,c.refCount++,P.memoizedState={element:y,isDehydrated:p,cache:c},vn(P),a}function f4(a){return a?(a=wa,a):wa}function d4(a,c,p,y,R,P){R=f4(R),y.context===null?y.context=R:y.pendingContext=R,y=ir(c),y.payload={element:p},P=P===void 0?null:P,P!==null&&(y.callback=P),p=Sr(a,y,c),p!==null&&(hl(p,a,c),fi(p,a,c))}function m4(a,c){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var p=a.retryLane;a.retryLane=p!==0&&p<c?p:c}}function Nv(a,c){m4(a,c),(a=a.alternate)&&m4(a,c)}function g4(a){if(a.tag===13||a.tag===31){var c=ac(a,67108864);c!==null&&hl(c,a,67108864),Nv(a,67108864)}}function p4(a){if(a.tag===13||a.tag===31){var c=Al();c=lr(c);var p=ac(a,c);p!==null&&hl(p,a,c),Nv(a,c)}}var Dg=!0;function MD(a,c,p,y){var R=Ae.T;Ae.T=null;var P=ve.p;try{ve.p=2,Cv(a,c,p,y)}finally{ve.p=P,Ae.T=R}}function LD(a,c,p,y){var R=Ae.T;Ae.T=null;var P=ve.p;try{ve.p=8,Cv(a,c,p,y)}finally{ve.p=P,Ae.T=R}}function Cv(a,c,p,y){if(Dg){var R=Iv(y);if(R===null)mv(a,c,y,Mg,p),v4(a,y);else if(PD(R,a,c,p,y))y.stopPropagation();else if(v4(a,y),c&4&&-1<kD.indexOf(a)){for(;R!==null;){var P=Lt(R);if(P!==null)switch(P.tag){case 3:if(P=P.stateNode,P.current.memoizedState.isDehydrated){var se=dn(P.pendingLanes);if(se!==0){var Ee=P;for(Ee.pendingLanes|=2,Ee.entangledLanes|=2;se;){var We=1<<31-It(se);Ee.entanglements[1]|=We,se&=~We}Hc(P),(mi&6)===0&&(gg=tn()+500,p1(0))}}break;case 31:case 13:Ee=ac(P,2),Ee!==null&&hl(Ee,P,2),xg(),Nv(P,2)}if(P=Iv(y),P===null&&mv(a,c,y,Mg,p),P===R)break;R=P}R!==null&&y.stopPropagation()}else mv(a,c,y,null,p)}}function Iv(a){return a=ta(a),Rv(a)}var Mg=null;function Rv(a){if(Mg=null,a=Ot(a),a!==null){var c=s(a);if(c===null)a=null;else{var p=c.tag;if(p===13){if(a=o(c),a!==null)return a;a=null}else if(p===31){if(a=u(c),a!==null)return a;a=null}else if(p===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;a=null}else c!==a&&(a=null)}}return Mg=a,null}function x4(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(yn()){case cn:return 2;case wn:return 8;case gn:case sn:return 32;case bn:return 268435456;default:return 32}default:return 32}}var Ov=!1,wh=null,bh=null,Eh=null,E1=new Map,A1=new Map,Ah=[],kD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function v4(a,c){switch(a){case"focusin":case"focusout":wh=null;break;case"dragenter":case"dragleave":bh=null;break;case"mouseover":case"mouseout":Eh=null;break;case"pointerover":case"pointerout":E1.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":A1.delete(c.pointerId)}}function S1(a,c,p,y,R,P){return a===null||a.nativeEvent!==P?(a={blockedOn:c,domEventName:p,eventSystemFlags:y,nativeEvent:P,targetContainers:[R]},c!==null&&(c=Lt(c),c!==null&&g4(c)),a):(a.eventSystemFlags|=y,c=a.targetContainers,R!==null&&c.indexOf(R)===-1&&c.push(R),a)}function PD(a,c,p,y,R){switch(c){case"focusin":return wh=S1(wh,a,c,p,y,R),!0;case"dragenter":return bh=S1(bh,a,c,p,y,R),!0;case"mouseover":return Eh=S1(Eh,a,c,p,y,R),!0;case"pointerover":var P=R.pointerId;return E1.set(P,S1(E1.get(P)||null,a,c,p,y,R)),!0;case"gotpointercapture":return P=R.pointerId,A1.set(P,S1(A1.get(P)||null,a,c,p,y,R)),!0}return!1}function _4(a){var c=Ot(a.target);if(c!==null){var p=s(c);if(p!==null){if(c=p.tag,c===13){if(c=o(p),c!==null){a.blockedOn=c,be(a.priority,function(){p4(p)});return}}else if(c===31){if(c=u(p),c!==null){a.blockedOn=c,be(a.priority,function(){p4(p)});return}}else if(c===3&&p.stateNode.current.memoizedState.isDehydrated){a.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Lg(a){if(a.blockedOn!==null)return!1;for(var c=a.targetContainers;0<c.length;){var p=Iv(a.nativeEvent);if(p===null){p=a.nativeEvent;var y=new p.constructor(p.type,p);eo=y,p.target.dispatchEvent(y),eo=null}else return c=Lt(p),c!==null&&g4(c),a.blockedOn=p,!1;c.shift()}return!0}function y4(a,c,p){Lg(a)&&p.delete(c)}function jD(){Ov=!1,wh!==null&&Lg(wh)&&(wh=null),bh!==null&&Lg(bh)&&(bh=null),Eh!==null&&Lg(Eh)&&(Eh=null),E1.forEach(y4),A1.forEach(y4)}function kg(a,c){a.blockedOn===c&&(a.blockedOn=null,Ov||(Ov=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,jD)))}var Pg=null;function w4(a){Pg!==a&&(Pg=a,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Pg===a&&(Pg=null);for(var c=0;c<a.length;c+=3){var p=a[c],y=a[c+1],R=a[c+2];if(typeof y!="function"){if(Rv(y||p)===null)continue;break}var P=Lt(p);P!==null&&(a.splice(c,3),c-=3,Ix(P,{pending:!0,data:R,method:p.method,action:y},y,R))}}))}function Hd(a){function c(We){return kg(We,a)}wh!==null&&kg(wh,a),bh!==null&&kg(bh,a),Eh!==null&&kg(Eh,a),E1.forEach(c),A1.forEach(c);for(var p=0;p<Ah.length;p++){var y=Ah[p];y.blockedOn===a&&(y.blockedOn=null)}for(;0<Ah.length&&(p=Ah[0],p.blockedOn===null);)_4(p),p.blockedOn===null&&Ah.shift();if(p=(a.ownerDocument||a).$$reactFormReplay,p!=null)for(y=0;y<p.length;y+=3){var R=p[y],P=p[y+1],se=R[Oe]||null;if(typeof P=="function")se||w4(p);else if(se){var Ee=null;if(P&&P.hasAttribute("formAction")){if(R=P,se=P[Oe]||null)Ee=se.formAction;else if(Rv(R)!==null)continue}else Ee=se.action;typeof Ee=="function"?p[y+1]=Ee:(p.splice(y,3),y-=3),w4(p)}}}function b4(){function a(P){P.canIntercept&&P.info==="react-transition"&&P.intercept({handler:function(){return new Promise(function(se){return R=se})},focusReset:"manual",scroll:"manual"})}function c(){R!==null&&(R(),R=null),y||setTimeout(p,20)}function p(){if(!y&&!navigation.transition){var P=navigation.currentEntry;P&&P.url!=null&&navigation.navigate(P.url,{state:P.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var y=!1,R=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",c),navigation.addEventListener("navigateerror",c),setTimeout(p,100),function(){y=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",c),navigation.removeEventListener("navigateerror",c),R!==null&&(R(),R=null)}}}function Dv(a){this._internalRoot=a}jg.prototype.render=Dv.prototype.render=function(a){var c=this._internalRoot;if(c===null)throw Error(r(409));var p=c.current,y=Al();d4(p,y,a,c,null,null)},jg.prototype.unmount=Dv.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var c=a.containerInfo;d4(a.current,2,null,a,null,null),xg(),c[ke]=null}};function jg(a){this._internalRoot=a}jg.prototype.unstable_scheduleHydration=function(a){if(a){var c=ge();a={blockedOn:null,target:a,priority:c};for(var p=0;p<Ah.length&&c!==0&&c<Ah[p].priority;p++);Ah.splice(p,0,a),p===0&&_4(a)}};var E4=e.version;if(E4!=="19.2.3")throw Error(r(527,E4,"19.2.3"));ve.findDOMNode=function(a){var c=a._reactInternals;if(c===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=d(c),a=a!==null?x(a):null,a=a===null?null:a.stateNode,a};var FD={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Ae,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fg.isDisabled&&Fg.supportsFiber)try{rn=Fg.inject(FD),dt=Fg}catch{}}return N1.createRoot=function(a,c){if(!i(a))throw Error(r(299));var p=!1,y="",R=Rb,P=Ob,se=Db;return c!=null&&(c.unstable_strictMode===!0&&(p=!0),c.identifierPrefix!==void 0&&(y=c.identifierPrefix),c.onUncaughtError!==void 0&&(R=c.onUncaughtError),c.onCaughtError!==void 0&&(P=c.onCaughtError),c.onRecoverableError!==void 0&&(se=c.onRecoverableError)),c=h4(a,1,!1,null,null,p,y,null,R,P,se,b4),a[ke]=c.current,dv(a),new Dv(c)},N1.hydrateRoot=function(a,c,p){if(!i(a))throw Error(r(299));var y=!1,R="",P=Rb,se=Ob,Ee=Db,We=null;return p!=null&&(p.unstable_strictMode===!0&&(y=!0),p.identifierPrefix!==void 0&&(R=p.identifierPrefix),p.onUncaughtError!==void 0&&(P=p.onUncaughtError),p.onCaughtError!==void 0&&(se=p.onCaughtError),p.onRecoverableError!==void 0&&(Ee=p.onRecoverableError),p.formState!==void 0&&(We=p.formState)),c=h4(a,1,!0,c,p??null,y,R,We,P,se,Ee,b4),c.context=f4(null),p=c.current,y=Al(),y=lr(y),R=ir(y),R.callback=null,Sr(p,R,y),p=y,c.current.lanes=p,On(c,p),Hc(c),a[ke]=c.current,dv(a),new jg(c)},N1.version="19.2.3",N1}var M4;function KD(){if(M4)return kv.exports;M4=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),kv.exports=XD(),kv.exports}var QD=KD();var L4="popstate";function $D(n={}){function e(i,s){let{pathname:o="/",search:u="",hash:f=""}=Xf(i.location.hash.substring(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),fy("",{pathname:o,search:u,hash:f},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(i,s){let o=i.document.querySelector("base"),u="";if(o&&o.getAttribute("href")){let f=i.location.href,d=f.indexOf("#");u=d===-1?f:f.slice(0,d)}return u+"#"+(typeof s=="string"?s:am(s))}function r(i,s){Fl(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(s)})`)}return JD(e,t,r,n)}function ds(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Fl(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function ZD(){return Math.random().toString(36).substring(2,10)}function k4(n,e){return{usr:n.state,key:n.key,idx:e}}function fy(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Xf(e):e,state:t,key:e&&e.key||r||ZD()}}function am({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Xf(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function JD(n,e,t,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,u="POP",f=null,d=x();d==null&&(d=0,o.replaceState({...o.state,idx:d},""));function x(){return(o.state||{idx:null}).idx}function w(){u="POP";let M=x(),j=M==null?null:M-d;d=M,f&&f({action:u,location:C.location,delta:j})}function A(M,j){u="PUSH";let W=fy(C.location,M,j);t&&t(W,M),d=x()+1;let k=k4(W,d),G=C.createHref(W);try{o.pushState(k,"",G)}catch(ce){if(ce instanceof DOMException&&ce.name==="DataCloneError")throw ce;i.location.assign(G)}s&&f&&f({action:u,location:C.location,delta:1})}function E(M,j){u="REPLACE";let W=fy(C.location,M,j);t&&t(W,M),d=x();let k=k4(W,d),G=C.createHref(W);o.replaceState(k,"",G),s&&f&&f({action:u,location:C.location,delta:0})}function I(M){return eM(M)}let C={get action(){return u},get location(){return n(i,o)},listen(M){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(L4,w),f=M,()=>{i.removeEventListener(L4,w),f=null}},createHref(M){return e(i,M)},createURL:I,encodeLocation(M){let j=I(M);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:A,replace:E,go(M){return o.go(M)}};return C}function eM(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),ds(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:am(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function rC(n,e,t="/"){return tM(n,e,t,!1)}function tM(n,e,t,r){let i=typeof e=="string"?Xf(e):e,s=Wu(i.pathname||"/",t);if(s==null)return null;let o=iC(n);nM(o);let u=null;for(let f=0;u==null&&f<o.length;++f){let d=dM(s);u=hM(o[f],d,r)}return u}function iC(n,e=[],t=[],r="",i=!1){let s=(o,u,f=i,d)=>{let x={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:u,route:o};if(x.relativePath.startsWith("/")){if(!x.relativePath.startsWith(r)&&f)return;ds(x.relativePath.startsWith(r),`Absolute route path "${x.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),x.relativePath=x.relativePath.slice(r.length)}let w=Uu([r,x.relativePath]),A=t.concat(x);o.children&&o.children.length>0&&(ds(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${w}".`),iC(o.children,e,A,w,f)),!(o.path==null&&!o.index)&&e.push({path:w,score:cM(w,o.index),routesMeta:A})};return n.forEach((o,u)=>{if(o.path===""||!o.path?.includes("?"))s(o,u);else for(let f of sC(o.path))s(o,u,!0,f)}),e}function sC(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),s=t.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=sC(r.join("/")),u=[];return u.push(...o.map(f=>f===""?s:[s,f].join("/"))),i&&u.push(...o),u.map(f=>n.startsWith("/")&&f===""?"/":f)}function nM(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:uM(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var rM=/^:[\w-]+$/,iM=3,sM=2,aM=1,oM=10,lM=-2,P4=n=>n==="*";function cM(n,e){let t=n.split("/"),r=t.length;return t.some(P4)&&(r+=lM),e&&(r+=sM),t.filter(i=>!P4(i)).reduce((i,s)=>i+(rM.test(s)?iM:s===""?aM:oM),r)}function uM(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function hM(n,e,t=!1){let{routesMeta:r}=n,i={},s="/",o=[];for(let u=0;u<r.length;++u){let f=r[u],d=u===r.length-1,x=s==="/"?e:e.slice(s.length)||"/",w=Vp({path:f.relativePath,caseSensitive:f.caseSensitive,end:d},x),A=f.route;if(!w&&d&&t&&!r[r.length-1].route.index&&(w=Vp({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},x)),!w)return null;Object.assign(i,w.params),o.push({params:i,pathname:Uu([s,w.pathname]),pathnameBase:vM(Uu([s,w.pathnameBase])),route:A}),w.pathnameBase!=="/"&&(s=Uu([s,w.pathnameBase]))}return o}function Vp(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=fM(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((d,{paramName:x,isOptional:w},A)=>{if(x==="*"){let I=u[A]||"";o=s.slice(0,s.length-I.length).replace(/(.)\/+$/,"$1")}const E=u[A];return w&&!E?d[x]=void 0:d[x]=(E||"").replace(/%2F/g,"/"),d},{}),pathname:s,pathnameBase:o,pattern:n}}function fM(n,e=!1,t=!0){Fl(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,u,f)=>(r.push({paramName:u,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function dM(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Fl(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Wu(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}var mM=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gM=n=>mM.test(n);function pM(n,e="/"){let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?Xf(n):n,s;if(t)if(gM(t))s=t;else{if(t.includes("//")){let o=t;t=t.replace(/\/\/+/g,"/"),Fl(!1,`Pathnames cannot have embedded double slashes - normalizing ${o} -> ${t}`)}t.startsWith("/")?s=j4(t.substring(1),"/"):s=j4(t,e)}else s=e;return{pathname:s,search:_M(r),hash:yM(i)}}function j4(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function Bv(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function xM(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function xw(n){let e=xM(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function vw(n,e,t,r=!1){let i;typeof n=="string"?i=Xf(n):(i={...n},ds(!i.pathname||!i.pathname.includes("?"),Bv("?","pathname","search",i)),ds(!i.pathname||!i.pathname.includes("#"),Bv("#","pathname","hash",i)),ds(!i.search||!i.search.includes("#"),Bv("#","search","hash",i)));let s=n===""||i.pathname==="",o=s?"/":i.pathname,u;if(o==null)u=t;else{let w=e.length-1;if(!r&&o.startsWith("..")){let A=o.split("/");for(;A[0]==="..";)A.shift(),w-=1;i.pathname=A.join("/")}u=w>=0?e[w]:"/"}let f=pM(i,u),d=o&&o!=="/"&&o.endsWith("/"),x=(s||o===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(d||x)&&(f.pathname+="/"),f}var Uu=n=>n.join("/").replace(/\/\/+/g,"/"),vM=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),_M=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,yM=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function wM(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function bM(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var aC=["POST","PUT","PATCH","DELETE"];new Set(aC);var EM=["GET",...aC];new Set(EM);var k0=ae.createContext(null);k0.displayName="DataRouter";var L2=ae.createContext(null);L2.displayName="DataRouterState";ae.createContext(!1);var oC=ae.createContext({isTransitioning:!1});oC.displayName="ViewTransition";var AM=ae.createContext(new Map);AM.displayName="Fetchers";var SM=ae.createContext(null);SM.displayName="Await";var tc=ae.createContext(null);tc.displayName="Navigation";var Sm=ae.createContext(null);Sm.displayName="Location";var hu=ae.createContext({outlet:null,matches:[],isDataRoute:!1});hu.displayName="Route";var _w=ae.createContext(null);_w.displayName="RouteError";function TM(n,{relative:e}={}){ds(P0(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=ae.useContext(tc),{hash:i,pathname:s,search:o}=Tm(n,{relative:e}),u=s;return t!=="/"&&(u=s==="/"?t:Uu([t,s])),r.createHref({pathname:u,search:o,hash:i})}function P0(){return ae.useContext(Sm)!=null}function Ko(){return ds(P0(),"useLocation() may be used only in the context of a <Router> component."),ae.useContext(Sm).location}var lC="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function cC(n){ae.useContext(tc).static||ae.useLayoutEffect(n)}function Ja(){let{isDataRoute:n}=ae.useContext(hu);return n?BM():NM()}function NM(){ds(P0(),"useNavigate() may be used only in the context of a <Router> component.");let n=ae.useContext(k0),{basename:e,navigator:t}=ae.useContext(tc),{matches:r}=ae.useContext(hu),{pathname:i}=Ko(),s=JSON.stringify(xw(r)),o=ae.useRef(!1);return cC(()=>{o.current=!0}),ae.useCallback((f,d={})=>{if(Fl(o.current,lC),!o.current)return;if(typeof f=="number"){t.go(f);return}let x=vw(f,JSON.parse(s),i,d.relative==="path");n==null&&e!=="/"&&(x.pathname=x.pathname==="/"?e:Uu([e,x.pathname])),(d.replace?t.replace:t.push)(x,d.state,d)},[e,t,s,i,n])}ae.createContext(null);function Tm(n,{relative:e}={}){let{matches:t}=ae.useContext(hu),{pathname:r}=Ko(),i=JSON.stringify(xw(t));return ae.useMemo(()=>vw(n,JSON.parse(i),r,e==="path"),[n,i,r,e])}function CM(n,e){return uC(n,e)}function uC(n,e,t,r,i){ds(P0(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=ae.useContext(tc),{matches:o}=ae.useContext(hu),u=o[o.length-1],f=u?u.params:{},d=u?u.pathname:"/",x=u?u.pathnameBase:"/",w=u&&u.route;{let W=w&&w.path||"";hC(d,!w||W.endsWith("*")||W.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${W}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${W}"> to <Route path="${W==="/"?"*":`${W}/*`}">.`)}let A=Ko(),E;if(e){let W=typeof e=="string"?Xf(e):e;ds(x==="/"||W.pathname?.startsWith(x),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${x}" but pathname "${W.pathname}" was given in the \`location\` prop.`),E=W}else E=A;let I=E.pathname||"/",C=I;if(x!=="/"){let W=x.replace(/^\//,"").split("/");C="/"+I.replace(/^\//,"").split("/").slice(W.length).join("/")}let M=rC(n,{pathname:C});Fl(w||M!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),Fl(M==null||M[M.length-1].route.element!==void 0||M[M.length-1].route.Component!==void 0||M[M.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=MM(M&&M.map(W=>Object.assign({},W,{params:Object.assign({},f,W.params),pathname:Uu([x,s.encodeLocation?s.encodeLocation(W.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:W.pathname]),pathnameBase:W.pathnameBase==="/"?x:Uu([x,s.encodeLocation?s.encodeLocation(W.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:W.pathnameBase])})),o,t,r,i);return e&&j?ae.createElement(Sm.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},j):j}function IM(){let n=FM(),e=wM(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",n),o=ae.createElement(ae.Fragment,null,ae.createElement("p",null," Hey developer "),ae.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",ae.createElement("code",{style:s},"ErrorBoundary")," or"," ",ae.createElement("code",{style:s},"errorElement")," prop on your route.")),ae.createElement(ae.Fragment,null,ae.createElement("h2",null,"Unexpected Application Error!"),ae.createElement("h3",{style:{fontStyle:"italic"}},e),t?ae.createElement("pre",{style:i},t):null,o)}var RM=ae.createElement(IM,null),OM=class extends ae.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?ae.createElement(hu.Provider,{value:this.props.routeContext},ae.createElement(_w.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function DM({routeContext:n,match:e,children:t}){let r=ae.useContext(k0);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),ae.createElement(hu.Provider,{value:n},t)}function MM(n,e=[],t=null,r=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let s=n,o=t?.errors;if(o!=null){let x=s.findIndex(w=>w.route.id&&o?.[w.route.id]!==void 0);ds(x>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,x+1))}let u=!1,f=-1;if(t)for(let x=0;x<s.length;x++){let w=s[x];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(f=x),w.route.id){let{loaderData:A,errors:E}=t,I=w.route.loader&&!A.hasOwnProperty(w.route.id)&&(!E||E[w.route.id]===void 0);if(w.route.lazy||I){u=!0,f>=0?s=s.slice(0,f+1):s=[s[0]];break}}}let d=t&&r?(x,w)=>{r(x,{location:t.location,params:t.matches?.[0]?.params??{},unstable_pattern:bM(t.matches),errorInfo:w})}:void 0;return s.reduceRight((x,w,A)=>{let E,I=!1,C=null,M=null;t&&(E=o&&w.route.id?o[w.route.id]:void 0,C=w.route.errorElement||RM,u&&(f<0&&A===0?(hC("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),I=!0,M=null):f===A&&(I=!0,M=w.route.hydrateFallbackElement||null)));let j=e.concat(s.slice(0,A+1)),W=()=>{let k;return E?k=C:I?k=M:w.route.Component?k=ae.createElement(w.route.Component,null):w.route.element?k=w.route.element:k=x,ae.createElement(DM,{match:w,routeContext:{outlet:x,matches:j,isDataRoute:t!=null},children:k})};return t&&(w.route.ErrorBoundary||w.route.errorElement||A===0)?ae.createElement(OM,{location:t.location,revalidation:t.revalidation,component:C,error:E,children:W(),routeContext:{outlet:null,matches:j,isDataRoute:!0},onError:d}):W()},null)}function yw(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function LM(n){let e=ae.useContext(k0);return ds(e,yw(n)),e}function kM(n){let e=ae.useContext(L2);return ds(e,yw(n)),e}function PM(n){let e=ae.useContext(hu);return ds(e,yw(n)),e}function ww(n){let e=PM(n),t=e.matches[e.matches.length-1];return ds(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function jM(){return ww("useRouteId")}function FM(){let n=ae.useContext(_w),e=kM("useRouteError"),t=ww("useRouteError");return n!==void 0?n:e.errors?.[t]}function BM(){let{router:n}=LM("useNavigate"),e=ww("useNavigate"),t=ae.useRef(!1);return cC(()=>{t.current=!0}),ae.useCallback(async(i,s={})=>{Fl(t.current,lC),t.current&&(typeof i=="number"?await n.navigate(i):await n.navigate(i,{fromRouteId:e,...s}))},[n,e])}var F4={};function hC(n,e,t){!e&&!F4[n]&&(F4[n]=!0,Fl(!1,t))}ae.memo(UM);function UM({routes:n,future:e,state:t,unstable_onError:r}){return uC(n,void 0,t,r,e)}function bw({to:n,replace:e,state:t,relative:r}){ds(P0(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=ae.useContext(tc);Fl(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=ae.useContext(hu),{pathname:o}=Ko(),u=Ja(),f=vw(n,xw(s),o,r==="path"),d=JSON.stringify(f);return ae.useEffect(()=>{u(JSON.parse(d),{replace:e,state:t,relative:r})},[u,d,r,e,t]),null}function Na(n){ds(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function VM({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:i,static:s=!1,unstable_useTransitions:o}){ds(!P0(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),f=ae.useMemo(()=>({basename:u,navigator:i,static:s,unstable_useTransitions:o,future:{}}),[u,i,s,o]);typeof t=="string"&&(t=Xf(t));let{pathname:d="/",search:x="",hash:w="",state:A=null,key:E="default"}=t,I=ae.useMemo(()=>{let C=Wu(d,u);return C==null?null:{location:{pathname:C,search:x,hash:w,state:A,key:E},navigationType:r}},[u,d,x,w,A,E,r]);return Fl(I!=null,`<Router basename="${u}"> is not able to match the URL "${d}${x}${w}" because it does not start with the basename, so the <Router> won't render anything.`),I==null?null:ae.createElement(tc.Provider,{value:f},ae.createElement(Sm.Provider,{children:e,value:I}))}function zM({children:n,location:e}){return CM(dy(n),e)}function dy(n,e=[]){let t=[];return ae.Children.forEach(n,(r,i)=>{if(!ae.isValidElement(r))return;let s=[...e,i];if(r.type===ae.Fragment){t.push.apply(t,dy(r.props.children,s));return}ds(r.type===Na,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ds(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=dy(r.props.children,s)),t.push(o)}),t}var wp="get",bp="application/x-www-form-urlencoded";function k2(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function HM(n){return k2(n)&&n.tagName.toLowerCase()==="button"}function qM(n){return k2(n)&&n.tagName.toLowerCase()==="form"}function GM(n){return k2(n)&&n.tagName.toLowerCase()==="input"}function WM(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function YM(n,e){return n.button===0&&(!e||e==="_self")&&!WM(n)}var Ug=null;function XM(){if(Ug===null)try{new FormData(document.createElement("form"),0),Ug=!1}catch{Ug=!0}return Ug}var KM=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Uv(n){return n!=null&&!KM.has(n)?(Fl(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${bp}"`),null):n}function QM(n,e){let t,r,i,s,o;if(qM(n)){let u=n.getAttribute("action");r=u?Wu(u,e):null,t=n.getAttribute("method")||wp,i=Uv(n.getAttribute("enctype"))||bp,s=new FormData(n)}else if(HM(n)||GM(n)&&(n.type==="submit"||n.type==="image")){let u=n.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||u.getAttribute("action");if(r=f?Wu(f,e):null,t=n.getAttribute("formmethod")||u.getAttribute("method")||wp,i=Uv(n.getAttribute("formenctype"))||Uv(u.getAttribute("enctype"))||bp,s=new FormData(u,n),!XM()){let{name:d,type:x,value:w}=n;if(x==="image"){let A=d?`${d}.`:"";s.append(`${A}x`,"0"),s.append(`${A}y`,"0")}else d&&s.append(d,w)}}else{if(k2(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=wp,r=null,i=bp,o=n}return s&&i==="text/plain"&&(o=s,s=void 0),{action:r,method:t.toLowerCase(),encType:i,formData:s,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ew(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function $M(n,e,t){let r=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return r.pathname==="/"?r.pathname=`_root.${t}`:e&&Wu(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${t}`,r}async function ZM(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function JM(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function eL(n,e,t){let r=await Promise.all(n.map(async i=>{let s=e.routes[i.route.id];if(s){let o=await ZM(s,t);return o.links?o.links():[]}return[]}));return iL(r.flat(1).filter(JM).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function B4(n,e,t,r,i,s){let o=(f,d)=>t[d]?f.route.id!==t[d].route.id:!0,u=(f,d)=>t[d].pathname!==f.pathname||t[d].route.path?.endsWith("*")&&t[d].params["*"]!==f.params["*"];return s==="assets"?e.filter((f,d)=>o(f,d)||u(f,d)):s==="data"?e.filter((f,d)=>{let x=r.routes[f.route.id];if(!x||!x.hasLoader)return!1;if(o(f,d)||u(f,d))return!0;if(f.route.shouldRevalidate){let w=f.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function tL(n,e,{includeHydrateFallback:t}={}){return nL(n.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function nL(n){return[...new Set(n)]}function rL(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function iL(n,e){let t=new Set;return new Set(e),n.reduce((r,i)=>{let s=JSON.stringify(rL(i));return t.has(s)||(t.add(s),r.push({key:s,link:i})),r},[])}function fC(){let n=ae.useContext(k0);return Ew(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function sL(){let n=ae.useContext(L2);return Ew(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Aw=ae.createContext(void 0);Aw.displayName="FrameworkContext";function dC(){let n=ae.useContext(Aw);return Ew(n,"You must render this element inside a <HydratedRouter> element"),n}function aL(n,e){let t=ae.useContext(Aw),[r,i]=ae.useState(!1),[s,o]=ae.useState(!1),{onFocus:u,onBlur:f,onMouseEnter:d,onMouseLeave:x,onTouchStart:w}=e,A=ae.useRef(null);ae.useEffect(()=>{if(n==="render"&&o(!0),n==="viewport"){let C=j=>{j.forEach(W=>{o(W.isIntersecting)})},M=new IntersectionObserver(C,{threshold:.5});return A.current&&M.observe(A.current),()=>{M.disconnect()}}},[n]),ae.useEffect(()=>{if(r){let C=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(C)}}},[r]);let E=()=>{i(!0)},I=()=>{i(!1),o(!1)};return t?n!=="intent"?[s,A,{}]:[s,A,{onFocus:C1(u,E),onBlur:C1(f,I),onMouseEnter:C1(d,E),onMouseLeave:C1(x,I),onTouchStart:C1(w,E)}]:[!1,A,{}]}function C1(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function oL({page:n,...e}){let{router:t}=fC(),r=ae.useMemo(()=>rC(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?ae.createElement(cL,{page:n,matches:r,...e}):null}function lL(n){let{manifest:e,routeModules:t}=dC(),[r,i]=ae.useState([]);return ae.useEffect(()=>{let s=!1;return eL(n,e,t).then(o=>{s||i(o)}),()=>{s=!0}},[n,e,t]),r}function cL({page:n,matches:e,...t}){let r=Ko(),{manifest:i,routeModules:s}=dC(),{basename:o}=fC(),{loaderData:u,matches:f}=sL(),d=ae.useMemo(()=>B4(n,e,f,i,r,"data"),[n,e,f,i,r]),x=ae.useMemo(()=>B4(n,e,f,i,r,"assets"),[n,e,f,i,r]),w=ae.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let I=new Set,C=!1;if(e.forEach(j=>{let W=i.routes[j.route.id];!W||!W.hasLoader||(!d.some(k=>k.route.id===j.route.id)&&j.route.id in u&&s[j.route.id]?.shouldRevalidate||W.hasClientLoader?C=!0:I.add(j.route.id))}),I.size===0)return[];let M=$M(n,o,"data");return C&&I.size>0&&M.searchParams.set("_routes",e.filter(j=>I.has(j.route.id)).map(j=>j.route.id).join(",")),[M.pathname+M.search]},[o,u,r,i,d,e,n,s]),A=ae.useMemo(()=>tL(x,i),[x,i]),E=lL(x);return ae.createElement(ae.Fragment,null,w.map(I=>ae.createElement("link",{key:I,rel:"prefetch",as:"fetch",href:I,...t})),A.map(I=>ae.createElement("link",{key:I,rel:"modulepreload",href:I,...t})),E.map(({key:I,link:C})=>ae.createElement("link",{key:I,nonce:t.nonce,...C})))}function uL(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var mC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{mC&&(window.__reactRouterVersion="7.10.1")}catch{}function hL({basename:n,children:e,unstable_useTransitions:t,window:r}){let i=ae.useRef();i.current==null&&(i.current=$D({window:r,v5Compat:!0}));let s=i.current,[o,u]=ae.useState({action:s.action,location:s.location}),f=ae.useCallback(d=>{t===!1?u(d):ae.startTransition(()=>u(d))},[t]);return ae.useLayoutEffect(()=>s.listen(f),[s,f]),ae.createElement(VM,{basename:n,children:e,location:o.location,navigationType:o.action,navigator:s,unstable_useTransitions:t===!0})}var gC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Yi=ae.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:i,reloadDocument:s,replace:o,state:u,target:f,to:d,preventScrollReset:x,viewTransition:w,...A},E){let{basename:I,unstable_useTransitions:C}=ae.useContext(tc),M=typeof d=="string"&&gC.test(d),j,W=!1;if(typeof d=="string"&&M&&(j=d,mC))try{let Q=new URL(window.location.href),U=d.startsWith("//")?new URL(Q.protocol+d):new URL(d),q=Wu(U.pathname,I);U.origin===Q.origin&&q!=null?d=q+U.search+U.hash:W=!0}catch{Fl(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let k=TM(d,{relative:i}),[G,ce,re]=aL(r,A),F=gL(d,{replace:o,state:u,target:f,preventScrollReset:x,relative:i,viewTransition:w,unstable_useTransitions:C});function B(Q){e&&e(Q),Q.defaultPrevented||F(Q)}let L=ae.createElement("a",{...A,...re,href:j||k,onClick:W||s?e:B,ref:uL(E,ce),target:f,"data-discover":!M&&t==="render"?"true":void 0});return G&&!M?ae.createElement(ae.Fragment,null,L,ae.createElement(oL,{page:k})):L});Yi.displayName="Link";var fL=ae.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:i=!1,style:s,to:o,viewTransition:u,children:f,...d},x){let w=Tm(o,{relative:d.relative}),A=Ko(),E=ae.useContext(L2),{navigator:I,basename:C}=ae.useContext(tc),M=E!=null&&yL(w)&&u===!0,j=I.encodeLocation?I.encodeLocation(w).pathname:w.pathname,W=A.pathname,k=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;t||(W=W.toLowerCase(),k=k?k.toLowerCase():null,j=j.toLowerCase()),k&&C&&(k=Wu(k,C)||k);const G=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let ce=W===j||!i&&W.startsWith(j)&&W.charAt(G)==="/",re=k!=null&&(k===j||!i&&k.startsWith(j)&&k.charAt(j.length)==="/"),F={isActive:ce,isPending:re,isTransitioning:M},B=ce?e:void 0,L;typeof r=="function"?L=r(F):L=[r,ce?"active":null,re?"pending":null,M?"transitioning":null].filter(Boolean).join(" ");let Q=typeof s=="function"?s(F):s;return ae.createElement(Yi,{...d,"aria-current":B,className:L,ref:x,style:Q,to:o,viewTransition:u},typeof f=="function"?f(F):f)});fL.displayName="NavLink";var dL=ae.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:i,state:s,method:o=wp,action:u,onSubmit:f,relative:d,preventScrollReset:x,viewTransition:w,...A},E)=>{let{unstable_useTransitions:I}=ae.useContext(tc),C=vL(),M=_L(u,{relative:d}),j=o.toLowerCase()==="get"?"get":"post",W=typeof u=="string"&&gC.test(u),k=G=>{if(f&&f(G),G.defaultPrevented)return;G.preventDefault();let ce=G.nativeEvent.submitter,re=ce?.getAttribute("formmethod")||o,F=()=>C(ce||G.currentTarget,{fetcherKey:e,method:re,navigate:t,replace:i,state:s,relative:d,preventScrollReset:x,viewTransition:w});I&&t!==!1?ae.startTransition(()=>F()):F()};return ae.createElement("form",{ref:E,method:j,action:M,onSubmit:r?f:k,...A,"data-discover":!W&&n==="render"?"true":void 0})});dL.displayName="Form";function mL(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function pC(n){let e=ae.useContext(k0);return ds(e,mL(n)),e}function gL(n,{target:e,replace:t,state:r,preventScrollReset:i,relative:s,viewTransition:o,unstable_useTransitions:u}={}){let f=Ja(),d=Ko(),x=Tm(n,{relative:s});return ae.useCallback(w=>{if(YM(w,e)){w.preventDefault();let A=t!==void 0?t:am(d)===am(x),E=()=>f(n,{replace:A,state:r,preventScrollReset:i,relative:s,viewTransition:o});u?ae.startTransition(()=>E()):E()}},[d,f,x,t,r,e,n,i,s,o,u])}var pL=0,xL=()=>`__${String(++pL)}__`;function vL(){let{router:n}=pC("useSubmit"),{basename:e}=ae.useContext(tc),t=jM(),r=n.fetch,i=n.navigate;return ae.useCallback(async(s,o={})=>{let{action:u,method:f,encType:d,formData:x,body:w}=QM(s,e);if(o.navigate===!1){let A=o.fetcherKey||xL();await r(A,t,o.action||u,{preventScrollReset:o.preventScrollReset,formData:x,body:w,formMethod:o.method||f,formEncType:o.encType||d,flushSync:o.flushSync})}else await i(o.action||u,{preventScrollReset:o.preventScrollReset,formData:x,body:w,formMethod:o.method||f,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,i,e,t])}function _L(n,{relative:e}={}){let{basename:t}=ae.useContext(tc),r=ae.useContext(hu);ds(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...Tm(n||".",{relative:e})},o=Ko();if(n==null){s.search=o.search;let u=new URLSearchParams(s.search),f=u.getAll("index");if(f.some(x=>x==="")){u.delete("index"),f.filter(w=>w).forEach(w=>u.append("index",w));let x=u.toString();s.search=x?`?${x}`:""}}return(!n||n===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(s.pathname=s.pathname==="/"?t:Uu([t,s.pathname])),am(s)}function yL(n,{relative:e}={}){let t=ae.useContext(oC);ds(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=pC("useViewTransitionState"),i=Tm(n,{relative:e});if(!t.isTransitioning)return!1;let s=Wu(t.currentLocation.pathname,r)||t.currentLocation.pathname,o=Wu(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Vp(i.pathname,o)!=null||Vp(i.pathname,s)!=null}function H1(n){let e=n[0],t=n[1],r=n[2];return Math.sqrt(e*e+t*t+r*r)}function my(n,e){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n}function wL(n,e,t,r){return n[0]=e,n[1]=t,n[2]=r,n}function U4(n,e,t){return n[0]=e[0]+t[0],n[1]=e[1]+t[1],n[2]=e[2]+t[2],n}function V4(n,e,t){return n[0]=e[0]-t[0],n[1]=e[1]-t[1],n[2]=e[2]-t[2],n}function bL(n,e,t){return n[0]=e[0]*t[0],n[1]=e[1]*t[1],n[2]=e[2]*t[2],n}function EL(n,e,t){return n[0]=e[0]/t[0],n[1]=e[1]/t[1],n[2]=e[2]/t[2],n}function Vv(n,e,t){return n[0]=e[0]*t,n[1]=e[1]*t,n[2]=e[2]*t,n}function AL(n,e){let t=e[0]-n[0],r=e[1]-n[1],i=e[2]-n[2];return Math.sqrt(t*t+r*r+i*i)}function SL(n,e){let t=e[0]-n[0],r=e[1]-n[1],i=e[2]-n[2];return t*t+r*r+i*i}function z4(n){let e=n[0],t=n[1],r=n[2];return e*e+t*t+r*r}function TL(n,e){return n[0]=-e[0],n[1]=-e[1],n[2]=-e[2],n}function NL(n,e){return n[0]=1/e[0],n[1]=1/e[1],n[2]=1/e[2],n}function gy(n,e){let t=e[0],r=e[1],i=e[2],s=t*t+r*r+i*i;return s>0&&(s=1/Math.sqrt(s)),n[0]=e[0]*s,n[1]=e[1]*s,n[2]=e[2]*s,n}function xC(n,e){return n[0]*e[0]+n[1]*e[1]+n[2]*e[2]}function H4(n,e,t){let r=e[0],i=e[1],s=e[2],o=t[0],u=t[1],f=t[2];return n[0]=i*f-s*u,n[1]=s*o-r*f,n[2]=r*u-i*o,n}function CL(n,e,t,r){let i=e[0],s=e[1],o=e[2];return n[0]=i+r*(t[0]-i),n[1]=s+r*(t[1]-s),n[2]=o+r*(t[2]-o),n}function IL(n,e,t,r,i){const s=Math.exp(-r*i);let o=e[0],u=e[1],f=e[2];return n[0]=t[0]+(o-t[0])*s,n[1]=t[1]+(u-t[1])*s,n[2]=t[2]+(f-t[2])*s,n}function RL(n,e,t){let r=e[0],i=e[1],s=e[2],o=t[3]*r+t[7]*i+t[11]*s+t[15];return o=o||1,n[0]=(t[0]*r+t[4]*i+t[8]*s+t[12])/o,n[1]=(t[1]*r+t[5]*i+t[9]*s+t[13])/o,n[2]=(t[2]*r+t[6]*i+t[10]*s+t[14])/o,n}function OL(n,e,t){let r=e[0],i=e[1],s=e[2],o=t[3]*r+t[7]*i+t[11]*s+t[15];return o=o||1,n[0]=(t[0]*r+t[4]*i+t[8]*s)/o,n[1]=(t[1]*r+t[5]*i+t[9]*s)/o,n[2]=(t[2]*r+t[6]*i+t[10]*s)/o,n}function DL(n,e,t){let r=e[0],i=e[1],s=e[2];return n[0]=r*t[0]+i*t[3]+s*t[6],n[1]=r*t[1]+i*t[4]+s*t[7],n[2]=r*t[2]+i*t[5]+s*t[8],n}function ML(n,e,t){let r=e[0],i=e[1],s=e[2],o=t[0],u=t[1],f=t[2],d=t[3],x=u*s-f*i,w=f*r-o*s,A=o*i-u*r,E=u*A-f*w,I=f*x-o*A,C=o*w-u*x,M=d*2;return x*=M,w*=M,A*=M,E*=2,I*=2,C*=2,n[0]=r+x+E,n[1]=i+w+I,n[2]=s+A+C,n}const LL=(function(){const n=[0,0,0],e=[0,0,0];return function(t,r){my(n,t),my(e,r),gy(n,n),gy(e,e);let i=xC(n,e);return i>1?0:i<-1?Math.PI:Math.acos(i)}})();function kL(n,e){return n[0]===e[0]&&n[1]===e[1]&&n[2]===e[2]}class _c extends Array{constructor(e=0,t=e,r=e){return super(e,t,r),this}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}set x(e){this[0]=e}set y(e){this[1]=e}set z(e){this[2]=e}set(e,t=e,r=e){return e.length?this.copy(e):(wL(this,e,t,r),this)}copy(e){return my(this,e),this}add(e,t){return t?U4(this,e,t):U4(this,this,e),this}sub(e,t){return t?V4(this,e,t):V4(this,this,e),this}multiply(e){return e.length?bL(this,this,e):Vv(this,this,e),this}divide(e){return e.length?EL(this,this,e):Vv(this,this,1/e),this}inverse(e=this){return NL(this,e),this}len(){return H1(this)}distance(e){return e?AL(this,e):H1(this)}squaredLen(){return z4(this)}squaredDistance(e){return e?SL(this,e):z4(this)}negate(e=this){return TL(this,e),this}cross(e,t){return t?H4(this,e,t):H4(this,this,e),this}scale(e){return Vv(this,this,e),this}normalize(){return gy(this,this),this}dot(e){return xC(this,e)}equals(e){return kL(this,e)}applyMatrix3(e){return DL(this,this,e),this}applyMatrix4(e){return RL(this,this,e),this}scaleRotateMatrix4(e){return OL(this,this,e),this}applyQuaternion(e){return ML(this,this,e),this}angle(e){return LL(this,e)}lerp(e,t){return CL(this,this,e,t),this}smoothLerp(e,t,r){return IL(this,this,e,t,r),this}clone(){return new _c(this[0],this[1],this[2])}fromArray(e,t=0){return this[0]=e[t],this[1]=e[t+1],this[2]=e[t+2],this}toArray(e=[],t=0){return e[t]=this[0],e[t+1]=this[1],e[t+2]=this[2],e}transformDirection(e){const t=this[0],r=this[1],i=this[2];return this[0]=e[0]*t+e[4]*r+e[8]*i,this[1]=e[1]*t+e[5]*r+e[9]*i,this[2]=e[2]*t+e[6]*r+e[10]*i,this.normalize()}}const q4=new _c;let PL=1,jL=1,G4=!1;class FL{constructor(e,t={}){e.canvas||console.error("gl not passed as first argument to Geometry"),this.gl=e,this.attributes=t,this.id=PL++,this.VAOs={},this.drawRange={start:0,count:0},this.instancedCount=0,this.gl.renderer.bindVertexArray(null),this.gl.renderer.currentGeometry=null,this.glState=this.gl.renderer.state;for(let r in t)this.addAttribute(r,t[r])}addAttribute(e,t){if(this.attributes[e]=t,t.id=jL++,t.size=t.size||1,t.type=t.type||(t.data.constructor===Float32Array?this.gl.FLOAT:t.data.constructor===Uint16Array?this.gl.UNSIGNED_SHORT:this.gl.UNSIGNED_INT),t.target=e==="index"?this.gl.ELEMENT_ARRAY_BUFFER:this.gl.ARRAY_BUFFER,t.normalized=t.normalized||!1,t.stride=t.stride||0,t.offset=t.offset||0,t.count=t.count||(t.stride?t.data.byteLength/t.stride:t.data.length/t.size),t.divisor=t.instanced||0,t.needsUpdate=!1,t.usage=t.usage||this.gl.STATIC_DRAW,t.buffer||this.updateAttribute(t),t.divisor){if(this.isInstanced=!0,this.instancedCount&&this.instancedCount!==t.count*t.divisor)return console.warn("geometry has multiple instanced buffers of different length"),this.instancedCount=Math.min(this.instancedCount,t.count*t.divisor);this.instancedCount=t.count*t.divisor}else e==="index"?this.drawRange.count=t.count:this.attributes.index||(this.drawRange.count=Math.max(this.drawRange.count,t.count))}updateAttribute(e){const t=!e.buffer;t&&(e.buffer=this.gl.createBuffer()),this.glState.boundBuffer!==e.buffer&&(this.gl.bindBuffer(e.target,e.buffer),this.glState.boundBuffer=e.buffer),t?this.gl.bufferData(e.target,e.data,e.usage):this.gl.bufferSubData(e.target,0,e.data),e.needsUpdate=!1}setIndex(e){this.addAttribute("index",e)}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}setInstancedCount(e){this.instancedCount=e}createVAO(e){this.VAOs[e.attributeOrder]=this.gl.renderer.createVertexArray(),this.gl.renderer.bindVertexArray(this.VAOs[e.attributeOrder]),this.bindAttributes(e)}bindAttributes(e){e.attributeLocations.forEach((t,{name:r,type:i})=>{if(!this.attributes[r]){console.warn(`active attribute ${r} not being supplied`);return}const s=this.attributes[r];this.gl.bindBuffer(s.target,s.buffer),this.glState.boundBuffer=s.buffer;let o=1;i===35674&&(o=2),i===35675&&(o=3),i===35676&&(o=4);const u=s.size/o,f=o===1?0:o*o*4,d=o===1?0:o*4;for(let x=0;x<o;x++)this.gl.vertexAttribPointer(t+x,u,s.type,s.normalized,s.stride+f,s.offset+x*d),this.gl.enableVertexAttribArray(t+x),this.gl.renderer.vertexAttribDivisor(t+x,s.divisor)}),this.attributes.index&&this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.attributes.index.buffer)}draw({program:e,mode:t=this.gl.TRIANGLES}){this.gl.renderer.currentGeometry!==`${this.id}_${e.attributeOrder}`&&(this.VAOs[e.attributeOrder]||this.createVAO(e),this.gl.renderer.bindVertexArray(this.VAOs[e.attributeOrder]),this.gl.renderer.currentGeometry=`${this.id}_${e.attributeOrder}`),e.attributeLocations.forEach((i,{name:s})=>{const o=this.attributes[s];o.needsUpdate&&this.updateAttribute(o)});let r=2;this.attributes.index?.type===this.gl.UNSIGNED_INT&&(r=4),this.isInstanced?this.attributes.index?this.gl.renderer.drawElementsInstanced(t,this.drawRange.count,this.attributes.index.type,this.attributes.index.offset+this.drawRange.start*r,this.instancedCount):this.gl.renderer.drawArraysInstanced(t,this.drawRange.start,this.drawRange.count,this.instancedCount):this.attributes.index?this.gl.drawElements(t,this.drawRange.count,this.attributes.index.type,this.attributes.index.offset+this.drawRange.start*r):this.gl.drawArrays(t,this.drawRange.start,this.drawRange.count)}getPosition(){const e=this.attributes.position;if(e.data)return e;if(!G4)return console.warn("No position buffer data found to compute bounds"),G4=!0}computeBoundingBox(e){e||(e=this.getPosition());const t=e.data,r=e.size;this.bounds||(this.bounds={min:new _c,max:new _c,center:new _c,scale:new _c,radius:1/0});const i=this.bounds.min,s=this.bounds.max,o=this.bounds.center,u=this.bounds.scale;i.set(1/0),s.set(-1/0);for(let f=0,d=t.length;f<d;f+=r){const x=t[f],w=t[f+1],A=t[f+2];i.x=Math.min(x,i.x),i.y=Math.min(w,i.y),i.z=Math.min(A,i.z),s.x=Math.max(x,s.x),s.y=Math.max(w,s.y),s.z=Math.max(A,s.z)}u.sub(s,i),o.add(i,s).divide(2)}computeBoundingSphere(e){e||(e=this.getPosition());const t=e.data,r=e.size;this.bounds||this.computeBoundingBox(e);let i=0;for(let s=0,o=t.length;s<o;s+=r)q4.fromArray(t,s),i=Math.max(i,this.bounds.center.squaredDistance(q4));this.bounds.radius=Math.sqrt(i)}remove(){for(let e in this.VAOs)this.gl.renderer.deleteVertexArray(this.VAOs[e]),delete this.VAOs[e];for(let e in this.attributes)this.gl.deleteBuffer(this.attributes[e].buffer),delete this.attributes[e]}}let BL=1;const W4={};class UL{constructor(e,{vertex:t,fragment:r,uniforms:i={},transparent:s=!1,cullFace:o=e.BACK,frontFace:u=e.CCW,depthTest:f=!0,depthWrite:d=!0,depthFunc:x=e.LEQUAL}={}){e.canvas||console.error("gl not passed as first argument to Program"),this.gl=e,this.uniforms=i,this.id=BL++,t||console.warn("vertex shader not supplied"),r||console.warn("fragment shader not supplied"),this.transparent=s,this.cullFace=o,this.frontFace=u,this.depthTest=f,this.depthWrite=d,this.depthFunc=x,this.blendFunc={},this.blendEquation={},this.stencilFunc={},this.stencilOp={},this.transparent&&!this.blendFunc.src&&(this.gl.renderer.premultipliedAlpha?this.setBlendFunc(this.gl.ONE,this.gl.ONE_MINUS_SRC_ALPHA):this.setBlendFunc(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA)),this.vertexShader=e.createShader(e.VERTEX_SHADER),this.fragmentShader=e.createShader(e.FRAGMENT_SHADER),this.program=e.createProgram(),e.attachShader(this.program,this.vertexShader),e.attachShader(this.program,this.fragmentShader),this.setShaders({vertex:t,fragment:r})}setShaders({vertex:e,fragment:t}){if(e&&(this.gl.shaderSource(this.vertexShader,e),this.gl.compileShader(this.vertexShader),this.gl.getShaderInfoLog(this.vertexShader)!==""&&console.warn(`${this.gl.getShaderInfoLog(this.vertexShader)}
Vertex Shader
${Y4(e)}`)),t&&(this.gl.shaderSource(this.fragmentShader,t),this.gl.compileShader(this.fragmentShader),this.gl.getShaderInfoLog(this.fragmentShader)!==""&&console.warn(`${this.gl.getShaderInfoLog(this.fragmentShader)}
Fragment Shader
${Y4(t)}`)),this.gl.linkProgram(this.program),!this.gl.getProgramParameter(this.program,this.gl.LINK_STATUS))return console.warn(this.gl.getProgramInfoLog(this.program));this.uniformLocations=new Map;let r=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_UNIFORMS);for(let o=0;o<r;o++){let u=this.gl.getActiveUniform(this.program,o);this.uniformLocations.set(u,this.gl.getUniformLocation(this.program,u.name));const f=u.name.match(/(\w+)/g);u.uniformName=f[0],u.nameComponents=f.slice(1)}this.attributeLocations=new Map;const i=[],s=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES);for(let o=0;o<s;o++){const u=this.gl.getActiveAttrib(this.program,o),f=this.gl.getAttribLocation(this.program,u.name);f!==-1&&(i[f]=u.name,this.attributeLocations.set(u,f))}this.attributeOrder=i.join("")}setBlendFunc(e,t,r,i){this.blendFunc.src=e,this.blendFunc.dst=t,this.blendFunc.srcAlpha=r,this.blendFunc.dstAlpha=i,e&&(this.transparent=!0)}setBlendEquation(e,t){this.blendEquation.modeRGB=e,this.blendEquation.modeAlpha=t}setStencilFunc(e,t,r){this.stencilRef=t,this.stencilFunc.func=e,this.stencilFunc.ref=t,this.stencilFunc.mask=r}setStencilOp(e,t,r){this.stencilOp.stencilFail=e,this.stencilOp.depthFail=t,this.stencilOp.depthPass=r}applyState(){this.depthTest?this.gl.renderer.enable(this.gl.DEPTH_TEST):this.gl.renderer.disable(this.gl.DEPTH_TEST),this.cullFace?this.gl.renderer.enable(this.gl.CULL_FACE):this.gl.renderer.disable(this.gl.CULL_FACE),this.blendFunc.src?this.gl.renderer.enable(this.gl.BLEND):this.gl.renderer.disable(this.gl.BLEND),this.cullFace&&this.gl.renderer.setCullFace(this.cullFace),this.gl.renderer.setFrontFace(this.frontFace),this.gl.renderer.setDepthMask(this.depthWrite),this.gl.renderer.setDepthFunc(this.depthFunc),this.blendFunc.src&&this.gl.renderer.setBlendFunc(this.blendFunc.src,this.blendFunc.dst,this.blendFunc.srcAlpha,this.blendFunc.dstAlpha),this.gl.renderer.setBlendEquation(this.blendEquation.modeRGB,this.blendEquation.modeAlpha),this.stencilFunc.func||this.stencilOp.stencilFail?this.gl.renderer.enable(this.gl.STENCIL_TEST):this.gl.renderer.disable(this.gl.STENCIL_TEST),this.gl.renderer.setStencilFunc(this.stencilFunc.func,this.stencilFunc.ref,this.stencilFunc.mask),this.gl.renderer.setStencilOp(this.stencilOp.stencilFail,this.stencilOp.depthFail,this.stencilOp.depthPass)}use({flipFaces:e=!1}={}){let t=-1;this.gl.renderer.state.currentProgram===this.id||(this.gl.useProgram(this.program),this.gl.renderer.state.currentProgram=this.id),this.uniformLocations.forEach((i,s)=>{let o=this.uniforms[s.uniformName];for(const u of s.nameComponents){if(!o)break;if(u in o)o=o[u];else{if(Array.isArray(o.value))break;o=void 0;break}}if(!o)return X4(`Active uniform ${s.name} has not been supplied`);if(o&&o.value===void 0)return X4(`${s.name} uniform is missing a value parameter`);if(o.value.texture)return t=t+1,o.value.update(t),zv(this.gl,s.type,i,t);if(o.value.length&&o.value[0].texture){const u=[];return o.value.forEach(f=>{t=t+1,f.update(t),u.push(t)}),zv(this.gl,s.type,i,u)}zv(this.gl,s.type,i,o.value)}),this.applyState(),e&&this.gl.renderer.setFrontFace(this.frontFace===this.gl.CCW?this.gl.CW:this.gl.CCW)}remove(){this.gl.deleteProgram(this.program)}}function zv(n,e,t,r){r=r.length?VL(r):r;const i=n.renderer.state.uniformLocations.get(t);if(r.length)if(i===void 0||i.length!==r.length)n.renderer.state.uniformLocations.set(t,r.slice(0));else{if(zL(i,r))return;i.set?i.set(r):HL(i,r),n.renderer.state.uniformLocations.set(t,i)}else{if(i===r)return;n.renderer.state.uniformLocations.set(t,r)}switch(e){case 5126:return r.length?n.uniform1fv(t,r):n.uniform1f(t,r);case 35664:return n.uniform2fv(t,r);case 35665:return n.uniform3fv(t,r);case 35666:return n.uniform4fv(t,r);case 35670:case 5124:case 35678:case 36306:case 35680:case 36289:return r.length?n.uniform1iv(t,r):n.uniform1i(t,r);case 35671:case 35667:return n.uniform2iv(t,r);case 35672:case 35668:return n.uniform3iv(t,r);case 35673:case 35669:return n.uniform4iv(t,r);case 35674:return n.uniformMatrix2fv(t,!1,r);case 35675:return n.uniformMatrix3fv(t,!1,r);case 35676:return n.uniformMatrix4fv(t,!1,r)}}function Y4(n){let e=n.split(`
`);for(let t=0;t<e.length;t++)e[t]=t+1+": "+e[t];return e.join(`
`)}function VL(n){const e=n.length,t=n[0].length;if(t===void 0)return n;const r=e*t;let i=W4[r];i||(W4[r]=i=new Float32Array(r));for(let s=0;s<e;s++)i.set(n[s],s*t);return i}function zL(n,e){if(n.length!==e.length)return!1;for(let t=0,r=n.length;t<r;t++)if(n[t]!==e[t])return!1;return!0}function HL(n,e){for(let t=0,r=n.length;t<r;t++)n[t]=e[t]}let Hv=0;function X4(n){Hv>100||(console.warn(n),Hv++,Hv>100&&console.warn("More than 100 program warnings - stopping logs."))}const qv=new _c;let qL=1;class GL{constructor({canvas:e=document.createElement("canvas"),width:t=300,height:r=150,dpr:i=1,alpha:s=!1,depth:o=!0,stencil:u=!1,antialias:f=!1,premultipliedAlpha:d=!1,preserveDrawingBuffer:x=!1,powerPreference:w="default",autoClear:A=!0,webgl:E=2}={}){const I={alpha:s,depth:o,stencil:u,antialias:f,premultipliedAlpha:d,preserveDrawingBuffer:x,powerPreference:w};this.dpr=i,this.alpha=s,this.color=!0,this.depth=o,this.stencil=u,this.premultipliedAlpha=d,this.autoClear=A,this.id=qL++,E===2&&(this.gl=e.getContext("webgl2",I)),this.isWebgl2=!!this.gl,this.gl||(this.gl=e.getContext("webgl",I)),this.gl||console.error("unable to create webgl context"),this.gl.renderer=this,this.setSize(t,r),this.state={},this.state.blendFunc={src:this.gl.ONE,dst:this.gl.ZERO},this.state.blendEquation={modeRGB:this.gl.FUNC_ADD},this.state.cullFace=!1,this.state.frontFace=this.gl.CCW,this.state.depthMask=!0,this.state.depthFunc=this.gl.LEQUAL,this.state.premultiplyAlpha=!1,this.state.flipY=!1,this.state.unpackAlignment=4,this.state.framebuffer=null,this.state.viewport={x:0,y:0,width:null,height:null},this.state.textureUnits=[],this.state.activeTextureUnit=0,this.state.boundBuffer=null,this.state.uniformLocations=new Map,this.state.currentProgram=null,this.extensions={},this.isWebgl2?(this.getExtension("EXT_color_buffer_float"),this.getExtension("OES_texture_float_linear")):(this.getExtension("OES_texture_float"),this.getExtension("OES_texture_float_linear"),this.getExtension("OES_texture_half_float"),this.getExtension("OES_texture_half_float_linear"),this.getExtension("OES_element_index_uint"),this.getExtension("OES_standard_derivatives"),this.getExtension("EXT_sRGB"),this.getExtension("WEBGL_depth_texture"),this.getExtension("WEBGL_draw_buffers")),this.getExtension("WEBGL_compressed_texture_astc"),this.getExtension("EXT_texture_compression_bptc"),this.getExtension("WEBGL_compressed_texture_s3tc"),this.getExtension("WEBGL_compressed_texture_etc1"),this.getExtension("WEBGL_compressed_texture_pvrtc"),this.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),this.vertexAttribDivisor=this.getExtension("ANGLE_instanced_arrays","vertexAttribDivisor","vertexAttribDivisorANGLE"),this.drawArraysInstanced=this.getExtension("ANGLE_instanced_arrays","drawArraysInstanced","drawArraysInstancedANGLE"),this.drawElementsInstanced=this.getExtension("ANGLE_instanced_arrays","drawElementsInstanced","drawElementsInstancedANGLE"),this.createVertexArray=this.getExtension("OES_vertex_array_object","createVertexArray","createVertexArrayOES"),this.bindVertexArray=this.getExtension("OES_vertex_array_object","bindVertexArray","bindVertexArrayOES"),this.deleteVertexArray=this.getExtension("OES_vertex_array_object","deleteVertexArray","deleteVertexArrayOES"),this.drawBuffers=this.getExtension("WEBGL_draw_buffers","drawBuffers","drawBuffersWEBGL"),this.parameters={},this.parameters.maxTextureUnits=this.gl.getParameter(this.gl.MAX_COMBINED_TEXTURE_IMAGE_UNITS),this.parameters.maxAnisotropy=this.getExtension("EXT_texture_filter_anisotropic")?this.gl.getParameter(this.getExtension("EXT_texture_filter_anisotropic").MAX_TEXTURE_MAX_ANISOTROPY_EXT):0}setSize(e,t){this.width=e,this.height=t,this.gl.canvas.width=e*this.dpr,this.gl.canvas.height=t*this.dpr,this.gl.canvas.style&&Object.assign(this.gl.canvas.style,{width:e+"px",height:t+"px"})}setViewport(e,t,r=0,i=0){this.state.viewport.width===e&&this.state.viewport.height===t||(this.state.viewport.width=e,this.state.viewport.height=t,this.state.viewport.x=r,this.state.viewport.y=i,this.gl.viewport(r,i,e,t))}setScissor(e,t,r=0,i=0){this.gl.scissor(r,i,e,t)}enable(e){this.state[e]!==!0&&(this.gl.enable(e),this.state[e]=!0)}disable(e){this.state[e]!==!1&&(this.gl.disable(e),this.state[e]=!1)}setBlendFunc(e,t,r,i){this.state.blendFunc.src===e&&this.state.blendFunc.dst===t&&this.state.blendFunc.srcAlpha===r&&this.state.blendFunc.dstAlpha===i||(this.state.blendFunc.src=e,this.state.blendFunc.dst=t,this.state.blendFunc.srcAlpha=r,this.state.blendFunc.dstAlpha=i,r!==void 0?this.gl.blendFuncSeparate(e,t,r,i):this.gl.blendFunc(e,t))}setBlendEquation(e,t){e=e||this.gl.FUNC_ADD,!(this.state.blendEquation.modeRGB===e&&this.state.blendEquation.modeAlpha===t)&&(this.state.blendEquation.modeRGB=e,this.state.blendEquation.modeAlpha=t,t!==void 0?this.gl.blendEquationSeparate(e,t):this.gl.blendEquation(e))}setCullFace(e){this.state.cullFace!==e&&(this.state.cullFace=e,this.gl.cullFace(e))}setFrontFace(e){this.state.frontFace!==e&&(this.state.frontFace=e,this.gl.frontFace(e))}setDepthMask(e){this.state.depthMask!==e&&(this.state.depthMask=e,this.gl.depthMask(e))}setDepthFunc(e){this.state.depthFunc!==e&&(this.state.depthFunc=e,this.gl.depthFunc(e))}setStencilMask(e){this.state.stencilMask!==e&&(this.state.stencilMask=e,this.gl.stencilMask(e))}setStencilFunc(e,t,r){this.state.stencilFunc===e&&this.state.stencilRef===t&&this.state.stencilFuncMask===r||(this.state.stencilFunc=e||this.gl.ALWAYS,this.state.stencilRef=t||0,this.state.stencilFuncMask=r||0,this.gl.stencilFunc(e||this.gl.ALWAYS,t||0,r||0))}setStencilOp(e,t,r){this.state.stencilFail===e&&this.state.stencilDepthFail===t&&this.state.stencilDepthPass===r||(this.state.stencilFail=e,this.state.stencilDepthFail=t,this.state.stencilDepthPass=r,this.gl.stencilOp(e,t,r))}activeTexture(e){this.state.activeTextureUnit!==e&&(this.state.activeTextureUnit=e,this.gl.activeTexture(this.gl.TEXTURE0+e))}bindFramebuffer({target:e=this.gl.FRAMEBUFFER,buffer:t=null}={}){this.state.framebuffer!==t&&(this.state.framebuffer=t,this.gl.bindFramebuffer(e,t))}getExtension(e,t,r){return t&&this.gl[t]?this.gl[t].bind(this.gl):(this.extensions[e]||(this.extensions[e]=this.gl.getExtension(e)),t?this.extensions[e]?this.extensions[e][r].bind(this.extensions[e]):null:this.extensions[e])}sortOpaque(e,t){return e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.program.id!==t.program.id?e.program.id-t.program.id:e.zDepth!==t.zDepth?e.zDepth-t.zDepth:t.id-e.id}sortTransparent(e,t){return e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.zDepth!==t.zDepth?t.zDepth-e.zDepth:t.id-e.id}sortUI(e,t){return e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.program.id!==t.program.id?e.program.id-t.program.id:t.id-e.id}getRenderList({scene:e,camera:t,frustumCull:r,sort:i}){let s=[];if(t&&r&&t.updateFrustum(),e.traverse(o=>{if(!o.visible)return!0;o.draw&&(r&&o.frustumCulled&&t&&!t.frustumIntersectsMesh(o)||s.push(o))}),i){const o=[],u=[],f=[];s.forEach(d=>{d.program.transparent?d.program.depthTest?u.push(d):f.push(d):o.push(d),d.zDepth=0,!(d.renderOrder!==0||!d.program.depthTest||!t)&&(d.worldMatrix.getTranslation(qv),qv.applyMatrix4(t.projectionViewMatrix),d.zDepth=qv.z)}),o.sort(this.sortOpaque),u.sort(this.sortTransparent),f.sort(this.sortUI),s=o.concat(u,f)}return s}render({scene:e,camera:t,target:r=null,update:i=!0,sort:s=!0,frustumCull:o=!0,clear:u}){r===null?(this.bindFramebuffer(),this.setViewport(this.width*this.dpr,this.height*this.dpr)):(this.bindFramebuffer(r),this.setViewport(r.width,r.height)),(u||this.autoClear&&u!==!1)&&(this.depth&&(!r||r.depth)&&(this.enable(this.gl.DEPTH_TEST),this.setDepthMask(!0)),(this.stencil||!r||r.stencil)&&(this.enable(this.gl.STENCIL_TEST),this.setStencilMask(255)),this.gl.clear((this.color?this.gl.COLOR_BUFFER_BIT:0)|(this.depth?this.gl.DEPTH_BUFFER_BIT:0)|(this.stencil?this.gl.STENCIL_BUFFER_BIT:0))),i&&e.updateMatrixWorld(),t&&t.updateMatrixWorld(),this.getRenderList({scene:e,camera:t,frustumCull:o,sort:s}).forEach(d=>{d.draw({camera:t})})}}function WL(n,e){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n}function YL(n,e,t,r,i){return n[0]=e,n[1]=t,n[2]=r,n[3]=i,n}function XL(n,e){let t=e[0],r=e[1],i=e[2],s=e[3],o=t*t+r*r+i*i+s*s;return o>0&&(o=1/Math.sqrt(o)),n[0]=t*o,n[1]=r*o,n[2]=i*o,n[3]=s*o,n}function KL(n,e){return n[0]*e[0]+n[1]*e[1]+n[2]*e[2]+n[3]*e[3]}function QL(n){return n[0]=0,n[1]=0,n[2]=0,n[3]=1,n}function $L(n,e,t){t=t*.5;let r=Math.sin(t);return n[0]=r*e[0],n[1]=r*e[1],n[2]=r*e[2],n[3]=Math.cos(t),n}function K4(n,e,t){let r=e[0],i=e[1],s=e[2],o=e[3],u=t[0],f=t[1],d=t[2],x=t[3];return n[0]=r*x+o*u+i*d-s*f,n[1]=i*x+o*f+s*u-r*d,n[2]=s*x+o*d+r*f-i*u,n[3]=o*x-r*u-i*f-s*d,n}function ZL(n,e,t){t*=.5;let r=e[0],i=e[1],s=e[2],o=e[3],u=Math.sin(t),f=Math.cos(t);return n[0]=r*f+o*u,n[1]=i*f+s*u,n[2]=s*f-i*u,n[3]=o*f-r*u,n}function JL(n,e,t){t*=.5;let r=e[0],i=e[1],s=e[2],o=e[3],u=Math.sin(t),f=Math.cos(t);return n[0]=r*f-s*u,n[1]=i*f+o*u,n[2]=s*f+r*u,n[3]=o*f-i*u,n}function ek(n,e,t){t*=.5;let r=e[0],i=e[1],s=e[2],o=e[3],u=Math.sin(t),f=Math.cos(t);return n[0]=r*f+i*u,n[1]=i*f-r*u,n[2]=s*f+o*u,n[3]=o*f-s*u,n}function tk(n,e,t,r){let i=e[0],s=e[1],o=e[2],u=e[3],f=t[0],d=t[1],x=t[2],w=t[3],A,E,I,C,M;return E=i*f+s*d+o*x+u*w,E<0&&(E=-E,f=-f,d=-d,x=-x,w=-w),1-E>1e-6?(A=Math.acos(E),I=Math.sin(A),C=Math.sin((1-r)*A)/I,M=Math.sin(r*A)/I):(C=1-r,M=r),n[0]=C*i+M*f,n[1]=C*s+M*d,n[2]=C*o+M*x,n[3]=C*u+M*w,n}function nk(n,e){let t=e[0],r=e[1],i=e[2],s=e[3],o=t*t+r*r+i*i+s*s,u=o?1/o:0;return n[0]=-t*u,n[1]=-r*u,n[2]=-i*u,n[3]=s*u,n}function rk(n,e){return n[0]=-e[0],n[1]=-e[1],n[2]=-e[2],n[3]=e[3],n}function ik(n,e){let t=e[0]+e[4]+e[8],r;if(t>0)r=Math.sqrt(t+1),n[3]=.5*r,r=.5/r,n[0]=(e[5]-e[7])*r,n[1]=(e[6]-e[2])*r,n[2]=(e[1]-e[3])*r;else{let i=0;e[4]>e[0]&&(i=1),e[8]>e[i*3+i]&&(i=2);let s=(i+1)%3,o=(i+2)%3;r=Math.sqrt(e[i*3+i]-e[s*3+s]-e[o*3+o]+1),n[i]=.5*r,r=.5/r,n[3]=(e[s*3+o]-e[o*3+s])*r,n[s]=(e[s*3+i]+e[i*3+s])*r,n[o]=(e[o*3+i]+e[i*3+o])*r}return n}function sk(n,e,t="YXZ"){let r=Math.sin(e[0]*.5),i=Math.cos(e[0]*.5),s=Math.sin(e[1]*.5),o=Math.cos(e[1]*.5),u=Math.sin(e[2]*.5),f=Math.cos(e[2]*.5);return t==="XYZ"?(n[0]=r*o*f+i*s*u,n[1]=i*s*f-r*o*u,n[2]=i*o*u+r*s*f,n[3]=i*o*f-r*s*u):t==="YXZ"?(n[0]=r*o*f+i*s*u,n[1]=i*s*f-r*o*u,n[2]=i*o*u-r*s*f,n[3]=i*o*f+r*s*u):t==="ZXY"?(n[0]=r*o*f-i*s*u,n[1]=i*s*f+r*o*u,n[2]=i*o*u+r*s*f,n[3]=i*o*f-r*s*u):t==="ZYX"?(n[0]=r*o*f-i*s*u,n[1]=i*s*f+r*o*u,n[2]=i*o*u-r*s*f,n[3]=i*o*f+r*s*u):t==="YZX"?(n[0]=r*o*f+i*s*u,n[1]=i*s*f+r*o*u,n[2]=i*o*u-r*s*f,n[3]=i*o*f-r*s*u):t==="XZY"&&(n[0]=r*o*f-i*s*u,n[1]=i*s*f-r*o*u,n[2]=i*o*u+r*s*f,n[3]=i*o*f+r*s*u),n}const ak=WL,ok=YL,lk=KL,ck=XL;class uk extends Array{constructor(e=0,t=0,r=0,i=1){super(e,t,r,i),this.onChange=()=>{},this._target=this;const s=["0","1","2","3"];return new Proxy(this,{set(o,u){const f=Reflect.set(...arguments);return f&&s.includes(u)&&o.onChange(),f}})}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}get w(){return this[3]}set x(e){this._target[0]=e,this.onChange()}set y(e){this._target[1]=e,this.onChange()}set z(e){this._target[2]=e,this.onChange()}set w(e){this._target[3]=e,this.onChange()}identity(){return QL(this._target),this.onChange(),this}set(e,t,r,i){return e.length?this.copy(e):(ok(this._target,e,t,r,i),this.onChange(),this)}rotateX(e){return ZL(this._target,this._target,e),this.onChange(),this}rotateY(e){return JL(this._target,this._target,e),this.onChange(),this}rotateZ(e){return ek(this._target,this._target,e),this.onChange(),this}inverse(e=this._target){return nk(this._target,e),this.onChange(),this}conjugate(e=this._target){return rk(this._target,e),this.onChange(),this}copy(e){return ak(this._target,e),this.onChange(),this}normalize(e=this._target){return ck(this._target,e),this.onChange(),this}multiply(e,t){return t?K4(this._target,e,t):K4(this._target,this._target,e),this.onChange(),this}dot(e){return lk(this._target,e)}fromMatrix3(e){return ik(this._target,e),this.onChange(),this}fromEuler(e,t){return sk(this._target,e,e.order),t||this.onChange(),this}fromAxisAngle(e,t){return $L(this._target,e,t),this.onChange(),this}slerp(e,t){return tk(this._target,this._target,e,t),this.onChange(),this}fromArray(e,t=0){return this._target[0]=e[t],this._target[1]=e[t+1],this._target[2]=e[t+2],this._target[3]=e[t+3],this.onChange(),this}toArray(e=[],t=0){return e[t]=this[0],e[t+1]=this[1],e[t+2]=this[2],e[t+3]=this[3],e}}const hk=1e-6;function fk(n,e){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4],n[5]=e[5],n[6]=e[6],n[7]=e[7],n[8]=e[8],n[9]=e[9],n[10]=e[10],n[11]=e[11],n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15],n}function dk(n,e,t,r,i,s,o,u,f,d,x,w,A,E,I,C,M){return n[0]=e,n[1]=t,n[2]=r,n[3]=i,n[4]=s,n[5]=o,n[6]=u,n[7]=f,n[8]=d,n[9]=x,n[10]=w,n[11]=A,n[12]=E,n[13]=I,n[14]=C,n[15]=M,n}function mk(n){return n[0]=1,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=1,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=1,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,n}function gk(n,e){let t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],u=e[5],f=e[6],d=e[7],x=e[8],w=e[9],A=e[10],E=e[11],I=e[12],C=e[13],M=e[14],j=e[15],W=t*u-r*o,k=t*f-i*o,G=t*d-s*o,ce=r*f-i*u,re=r*d-s*u,F=i*d-s*f,B=x*C-w*I,L=x*M-A*I,Q=x*j-E*I,U=w*M-A*C,q=w*j-E*C,Y=A*j-E*M,ne=W*Y-k*q+G*U+ce*Q-re*L+F*B;return ne?(ne=1/ne,n[0]=(u*Y-f*q+d*U)*ne,n[1]=(i*q-r*Y-s*U)*ne,n[2]=(C*F-M*re+j*ce)*ne,n[3]=(A*re-w*F-E*ce)*ne,n[4]=(f*Q-o*Y-d*L)*ne,n[5]=(t*Y-i*Q+s*L)*ne,n[6]=(M*G-I*F-j*k)*ne,n[7]=(x*F-A*G+E*k)*ne,n[8]=(o*q-u*Q+d*B)*ne,n[9]=(r*Q-t*q-s*B)*ne,n[10]=(I*re-C*G+j*W)*ne,n[11]=(w*G-x*re-E*W)*ne,n[12]=(u*L-o*U-f*B)*ne,n[13]=(t*U-r*L+i*B)*ne,n[14]=(C*k-I*ce-M*W)*ne,n[15]=(x*ce-w*k+A*W)*ne,n):null}function vC(n){let e=n[0],t=n[1],r=n[2],i=n[3],s=n[4],o=n[5],u=n[6],f=n[7],d=n[8],x=n[9],w=n[10],A=n[11],E=n[12],I=n[13],C=n[14],M=n[15],j=e*o-t*s,W=e*u-r*s,k=e*f-i*s,G=t*u-r*o,ce=t*f-i*o,re=r*f-i*u,F=d*I-x*E,B=d*C-w*E,L=d*M-A*E,Q=x*C-w*I,U=x*M-A*I,q=w*M-A*C;return j*q-W*U+k*Q+G*L-ce*B+re*F}function Q4(n,e,t){let r=e[0],i=e[1],s=e[2],o=e[3],u=e[4],f=e[5],d=e[6],x=e[7],w=e[8],A=e[9],E=e[10],I=e[11],C=e[12],M=e[13],j=e[14],W=e[15],k=t[0],G=t[1],ce=t[2],re=t[3];return n[0]=k*r+G*u+ce*w+re*C,n[1]=k*i+G*f+ce*A+re*M,n[2]=k*s+G*d+ce*E+re*j,n[3]=k*o+G*x+ce*I+re*W,k=t[4],G=t[5],ce=t[6],re=t[7],n[4]=k*r+G*u+ce*w+re*C,n[5]=k*i+G*f+ce*A+re*M,n[6]=k*s+G*d+ce*E+re*j,n[7]=k*o+G*x+ce*I+re*W,k=t[8],G=t[9],ce=t[10],re=t[11],n[8]=k*r+G*u+ce*w+re*C,n[9]=k*i+G*f+ce*A+re*M,n[10]=k*s+G*d+ce*E+re*j,n[11]=k*o+G*x+ce*I+re*W,k=t[12],G=t[13],ce=t[14],re=t[15],n[12]=k*r+G*u+ce*w+re*C,n[13]=k*i+G*f+ce*A+re*M,n[14]=k*s+G*d+ce*E+re*j,n[15]=k*o+G*x+ce*I+re*W,n}function pk(n,e,t){let r=t[0],i=t[1],s=t[2],o,u,f,d,x,w,A,E,I,C,M,j;return e===n?(n[12]=e[0]*r+e[4]*i+e[8]*s+e[12],n[13]=e[1]*r+e[5]*i+e[9]*s+e[13],n[14]=e[2]*r+e[6]*i+e[10]*s+e[14],n[15]=e[3]*r+e[7]*i+e[11]*s+e[15]):(o=e[0],u=e[1],f=e[2],d=e[3],x=e[4],w=e[5],A=e[6],E=e[7],I=e[8],C=e[9],M=e[10],j=e[11],n[0]=o,n[1]=u,n[2]=f,n[3]=d,n[4]=x,n[5]=w,n[6]=A,n[7]=E,n[8]=I,n[9]=C,n[10]=M,n[11]=j,n[12]=o*r+x*i+I*s+e[12],n[13]=u*r+w*i+C*s+e[13],n[14]=f*r+A*i+M*s+e[14],n[15]=d*r+E*i+j*s+e[15]),n}function xk(n,e,t){let r=t[0],i=t[1],s=t[2];return n[0]=e[0]*r,n[1]=e[1]*r,n[2]=e[2]*r,n[3]=e[3]*r,n[4]=e[4]*i,n[5]=e[5]*i,n[6]=e[6]*i,n[7]=e[7]*i,n[8]=e[8]*s,n[9]=e[9]*s,n[10]=e[10]*s,n[11]=e[11]*s,n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15],n}function vk(n,e,t,r){let i=r[0],s=r[1],o=r[2],u=Math.hypot(i,s,o),f,d,x,w,A,E,I,C,M,j,W,k,G,ce,re,F,B,L,Q,U,q,Y,ne,pe;return Math.abs(u)<hk?null:(u=1/u,i*=u,s*=u,o*=u,f=Math.sin(t),d=Math.cos(t),x=1-d,w=e[0],A=e[1],E=e[2],I=e[3],C=e[4],M=e[5],j=e[6],W=e[7],k=e[8],G=e[9],ce=e[10],re=e[11],F=i*i*x+d,B=s*i*x+o*f,L=o*i*x-s*f,Q=i*s*x-o*f,U=s*s*x+d,q=o*s*x+i*f,Y=i*o*x+s*f,ne=s*o*x-i*f,pe=o*o*x+d,n[0]=w*F+C*B+k*L,n[1]=A*F+M*B+G*L,n[2]=E*F+j*B+ce*L,n[3]=I*F+W*B+re*L,n[4]=w*Q+C*U+k*q,n[5]=A*Q+M*U+G*q,n[6]=E*Q+j*U+ce*q,n[7]=I*Q+W*U+re*q,n[8]=w*Y+C*ne+k*pe,n[9]=A*Y+M*ne+G*pe,n[10]=E*Y+j*ne+ce*pe,n[11]=I*Y+W*ne+re*pe,e!==n&&(n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15]),n)}function _k(n,e){return n[0]=e[12],n[1]=e[13],n[2]=e[14],n}function _C(n,e){let t=e[0],r=e[1],i=e[2],s=e[4],o=e[5],u=e[6],f=e[8],d=e[9],x=e[10];return n[0]=Math.hypot(t,r,i),n[1]=Math.hypot(s,o,u),n[2]=Math.hypot(f,d,x),n}function yk(n){let e=n[0],t=n[1],r=n[2],i=n[4],s=n[5],o=n[6],u=n[8],f=n[9],d=n[10];const x=e*e+t*t+r*r,w=i*i+s*s+o*o,A=u*u+f*f+d*d;return Math.sqrt(Math.max(x,w,A))}const yC=(function(){const n=[1,1,1];return function(e,t){let r=n;_C(r,t);let i=1/r[0],s=1/r[1],o=1/r[2],u=t[0]*i,f=t[1]*s,d=t[2]*o,x=t[4]*i,w=t[5]*s,A=t[6]*o,E=t[8]*i,I=t[9]*s,C=t[10]*o,M=u+w+C,j=0;return M>0?(j=Math.sqrt(M+1)*2,e[3]=.25*j,e[0]=(A-I)/j,e[1]=(E-d)/j,e[2]=(f-x)/j):u>w&&u>C?(j=Math.sqrt(1+u-w-C)*2,e[3]=(A-I)/j,e[0]=.25*j,e[1]=(f+x)/j,e[2]=(E+d)/j):w>C?(j=Math.sqrt(1+w-u-C)*2,e[3]=(E-d)/j,e[0]=(f+x)/j,e[1]=.25*j,e[2]=(A+I)/j):(j=Math.sqrt(1+C-u-w)*2,e[3]=(f-x)/j,e[0]=(E+d)/j,e[1]=(A+I)/j,e[2]=.25*j),e}})();function wk(n,e,t,r){let i=H1([n[0],n[1],n[2]]);const s=H1([n[4],n[5],n[6]]),o=H1([n[8],n[9],n[10]]);vC(n)<0&&(i=-i),t[0]=n[12],t[1]=n[13],t[2]=n[14];const f=n.slice(),d=1/i,x=1/s,w=1/o;f[0]*=d,f[1]*=d,f[2]*=d,f[4]*=x,f[5]*=x,f[6]*=x,f[8]*=w,f[9]*=w,f[10]*=w,yC(e,f),r[0]=i,r[1]=s,r[2]=o}function bk(n,e,t,r){const i=n,s=e[0],o=e[1],u=e[2],f=e[3],d=s+s,x=o+o,w=u+u,A=s*d,E=s*x,I=s*w,C=o*x,M=o*w,j=u*w,W=f*d,k=f*x,G=f*w,ce=r[0],re=r[1],F=r[2];return i[0]=(1-(C+j))*ce,i[1]=(E+G)*ce,i[2]=(I-k)*ce,i[3]=0,i[4]=(E-G)*re,i[5]=(1-(A+j))*re,i[6]=(M+W)*re,i[7]=0,i[8]=(I+k)*F,i[9]=(M-W)*F,i[10]=(1-(A+C))*F,i[11]=0,i[12]=t[0],i[13]=t[1],i[14]=t[2],i[15]=1,i}function Ek(n,e){let t=e[0],r=e[1],i=e[2],s=e[3],o=t+t,u=r+r,f=i+i,d=t*o,x=r*o,w=r*u,A=i*o,E=i*u,I=i*f,C=s*o,M=s*u,j=s*f;return n[0]=1-w-I,n[1]=x+j,n[2]=A-M,n[3]=0,n[4]=x-j,n[5]=1-d-I,n[6]=E+C,n[7]=0,n[8]=A+M,n[9]=E-C,n[10]=1-d-w,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,n}function Ak(n,e,t,r,i){let s=1/Math.tan(e/2),o=1/(r-i);return n[0]=s/t,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=s,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=(i+r)*o,n[11]=-1,n[12]=0,n[13]=0,n[14]=2*i*r*o,n[15]=0,n}function Sk(n,e,t,r,i,s,o){let u=1/(e-t),f=1/(r-i),d=1/(s-o);return n[0]=-2*u,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=-2*f,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=2*d,n[11]=0,n[12]=(e+t)*u,n[13]=(i+r)*f,n[14]=(o+s)*d,n[15]=1,n}function Tk(n,e,t,r){let i=e[0],s=e[1],o=e[2],u=r[0],f=r[1],d=r[2],x=i-t[0],w=s-t[1],A=o-t[2],E=x*x+w*w+A*A;E===0?A=1:(E=1/Math.sqrt(E),x*=E,w*=E,A*=E);let I=f*A-d*w,C=d*x-u*A,M=u*w-f*x;return E=I*I+C*C+M*M,E===0&&(d?u+=1e-6:f?d+=1e-6:f+=1e-6,I=f*A-d*w,C=d*x-u*A,M=u*w-f*x,E=I*I+C*C+M*M),E=1/Math.sqrt(E),I*=E,C*=E,M*=E,n[0]=I,n[1]=C,n[2]=M,n[3]=0,n[4]=w*M-A*C,n[5]=A*I-x*M,n[6]=x*C-w*I,n[7]=0,n[8]=x,n[9]=w,n[10]=A,n[11]=0,n[12]=i,n[13]=s,n[14]=o,n[15]=1,n}function $4(n,e,t){return n[0]=e[0]+t[0],n[1]=e[1]+t[1],n[2]=e[2]+t[2],n[3]=e[3]+t[3],n[4]=e[4]+t[4],n[5]=e[5]+t[5],n[6]=e[6]+t[6],n[7]=e[7]+t[7],n[8]=e[8]+t[8],n[9]=e[9]+t[9],n[10]=e[10]+t[10],n[11]=e[11]+t[11],n[12]=e[12]+t[12],n[13]=e[13]+t[13],n[14]=e[14]+t[14],n[15]=e[15]+t[15],n}function Z4(n,e,t){return n[0]=e[0]-t[0],n[1]=e[1]-t[1],n[2]=e[2]-t[2],n[3]=e[3]-t[3],n[4]=e[4]-t[4],n[5]=e[5]-t[5],n[6]=e[6]-t[6],n[7]=e[7]-t[7],n[8]=e[8]-t[8],n[9]=e[9]-t[9],n[10]=e[10]-t[10],n[11]=e[11]-t[11],n[12]=e[12]-t[12],n[13]=e[13]-t[13],n[14]=e[14]-t[14],n[15]=e[15]-t[15],n}function Nk(n,e,t){return n[0]=e[0]*t,n[1]=e[1]*t,n[2]=e[2]*t,n[3]=e[3]*t,n[4]=e[4]*t,n[5]=e[5]*t,n[6]=e[6]*t,n[7]=e[7]*t,n[8]=e[8]*t,n[9]=e[9]*t,n[10]=e[10]*t,n[11]=e[11]*t,n[12]=e[12]*t,n[13]=e[13]*t,n[14]=e[14]*t,n[15]=e[15]*t,n}class zp extends Array{constructor(e=1,t=0,r=0,i=0,s=0,o=1,u=0,f=0,d=0,x=0,w=1,A=0,E=0,I=0,C=0,M=1){return super(e,t,r,i,s,o,u,f,d,x,w,A,E,I,C,M),this}get x(){return this[12]}get y(){return this[13]}get z(){return this[14]}get w(){return this[15]}set x(e){this[12]=e}set y(e){this[13]=e}set z(e){this[14]=e}set w(e){this[15]=e}set(e,t,r,i,s,o,u,f,d,x,w,A,E,I,C,M){return e.length?this.copy(e):(dk(this,e,t,r,i,s,o,u,f,d,x,w,A,E,I,C,M),this)}translate(e,t=this){return pk(this,t,e),this}rotate(e,t,r=this){return vk(this,r,e,t),this}scale(e,t=this){return xk(this,t,typeof e=="number"?[e,e,e]:e),this}add(e,t){return t?$4(this,e,t):$4(this,this,e),this}sub(e,t){return t?Z4(this,e,t):Z4(this,this,e),this}multiply(e,t){return e.length?t?Q4(this,e,t):Q4(this,this,e):Nk(this,this,e),this}identity(){return mk(this),this}copy(e){return fk(this,e),this}fromPerspective({fov:e,aspect:t,near:r,far:i}={}){return Ak(this,e,t,r,i),this}fromOrthogonal({left:e,right:t,bottom:r,top:i,near:s,far:o}){return Sk(this,e,t,r,i,s,o),this}fromQuaternion(e){return Ek(this,e),this}setPosition(e){return this.x=e[0],this.y=e[1],this.z=e[2],this}inverse(e=this){return gk(this,e),this}compose(e,t,r){return bk(this,e,t,r),this}decompose(e,t,r){return wk(this,e,t,r),this}getRotation(e){return yC(e,this),this}getTranslation(e){return _k(e,this),this}getScaling(e){return _C(e,this),this}getMaxScaleOnAxis(){return yk(this)}lookAt(e,t,r){return Tk(this,e,t,r),this}determinant(){return vC(this)}fromArray(e,t=0){return this[0]=e[t],this[1]=e[t+1],this[2]=e[t+2],this[3]=e[t+3],this[4]=e[t+4],this[5]=e[t+5],this[6]=e[t+6],this[7]=e[t+7],this[8]=e[t+8],this[9]=e[t+9],this[10]=e[t+10],this[11]=e[t+11],this[12]=e[t+12],this[13]=e[t+13],this[14]=e[t+14],this[15]=e[t+15],this}toArray(e=[],t=0){return e[t]=this[0],e[t+1]=this[1],e[t+2]=this[2],e[t+3]=this[3],e[t+4]=this[4],e[t+5]=this[5],e[t+6]=this[6],e[t+7]=this[7],e[t+8]=this[8],e[t+9]=this[9],e[t+10]=this[10],e[t+11]=this[11],e[t+12]=this[12],e[t+13]=this[13],e[t+14]=this[14],e[t+15]=this[15],e}}function Ck(n,e,t="YXZ"){return t==="XYZ"?(n[1]=Math.asin(Math.min(Math.max(e[8],-1),1)),Math.abs(e[8])<.99999?(n[0]=Math.atan2(-e[9],e[10]),n[2]=Math.atan2(-e[4],e[0])):(n[0]=Math.atan2(e[6],e[5]),n[2]=0)):t==="YXZ"?(n[0]=Math.asin(-Math.min(Math.max(e[9],-1),1)),Math.abs(e[9])<.99999?(n[1]=Math.atan2(e[8],e[10]),n[2]=Math.atan2(e[1],e[5])):(n[1]=Math.atan2(-e[2],e[0]),n[2]=0)):t==="ZXY"?(n[0]=Math.asin(Math.min(Math.max(e[6],-1),1)),Math.abs(e[6])<.99999?(n[1]=Math.atan2(-e[2],e[10]),n[2]=Math.atan2(-e[4],e[5])):(n[1]=0,n[2]=Math.atan2(e[1],e[0]))):t==="ZYX"?(n[1]=Math.asin(-Math.min(Math.max(e[2],-1),1)),Math.abs(e[2])<.99999?(n[0]=Math.atan2(e[6],e[10]),n[2]=Math.atan2(e[1],e[0])):(n[0]=0,n[2]=Math.atan2(-e[4],e[5]))):t==="YZX"?(n[2]=Math.asin(Math.min(Math.max(e[1],-1),1)),Math.abs(e[1])<.99999?(n[0]=Math.atan2(-e[9],e[5]),n[1]=Math.atan2(-e[2],e[0])):(n[0]=0,n[1]=Math.atan2(e[8],e[10]))):t==="XZY"&&(n[2]=Math.asin(-Math.min(Math.max(e[4],-1),1)),Math.abs(e[4])<.99999?(n[0]=Math.atan2(e[6],e[5]),n[1]=Math.atan2(e[8],e[0])):(n[0]=Math.atan2(-e[9],e[10]),n[1]=0)),n}const J4=new zp;class Ik extends Array{constructor(e=0,t=e,r=e,i="YXZ"){super(e,t,r),this.order=i,this.onChange=()=>{},this._target=this;const s=["0","1","2"];return new Proxy(this,{set(o,u){const f=Reflect.set(...arguments);return f&&s.includes(u)&&o.onChange(),f}})}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}set x(e){this._target[0]=e,this.onChange()}set y(e){this._target[1]=e,this.onChange()}set z(e){this._target[2]=e,this.onChange()}set(e,t=e,r=e){return e.length?this.copy(e):(this._target[0]=e,this._target[1]=t,this._target[2]=r,this.onChange(),this)}copy(e){return this._target[0]=e[0],this._target[1]=e[1],this._target[2]=e[2],this.onChange(),this}reorder(e){return this._target.order=e,this.onChange(),this}fromRotationMatrix(e,t=this.order){return Ck(this._target,e,t),this.onChange(),this}fromQuaternion(e,t=this.order,r){return J4.fromQuaternion(e),this._target.fromRotationMatrix(J4,t),r||this.onChange(),this}fromArray(e,t=0){return this._target[0]=e[t],this._target[1]=e[t+1],this._target[2]=e[t+2],this}toArray(e=[],t=0){return e[t]=this[0],e[t+1]=this[1],e[t+2]=this[2],e}}class Rk{constructor(){this.parent=null,this.children=[],this.visible=!0,this.matrix=new zp,this.worldMatrix=new zp,this.matrixAutoUpdate=!0,this.worldMatrixNeedsUpdate=!1,this.position=new _c,this.quaternion=new uk,this.scale=new _c(1),this.rotation=new Ik,this.up=new _c(0,1,0),this.rotation._target.onChange=()=>this.quaternion.fromEuler(this.rotation,!0),this.quaternion._target.onChange=()=>this.rotation.fromQuaternion(this.quaternion,void 0,!0)}setParent(e,t=!0){this.parent&&e!==this.parent&&this.parent.removeChild(this,!1),this.parent=e,t&&e&&e.addChild(this,!1)}addChild(e,t=!0){~this.children.indexOf(e)||this.children.push(e),t&&e.setParent(this,!1)}removeChild(e,t=!0){~this.children.indexOf(e)&&this.children.splice(this.children.indexOf(e),1),t&&e.setParent(null,!1)}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.worldMatrixNeedsUpdate||e)&&(this.parent===null?this.worldMatrix.copy(this.matrix):this.worldMatrix.multiply(this.parent.worldMatrix,this.matrix),this.worldMatrixNeedsUpdate=!1,e=!0);for(let t=0,r=this.children.length;t<r;t++)this.children[t].updateMatrixWorld(e)}updateMatrix(){this.matrix.compose(this.quaternion,this.position,this.scale),this.worldMatrixNeedsUpdate=!0}traverse(e){if(!e(this))for(let t=0,r=this.children.length;t<r;t++)this.children[t].traverse(e)}decompose(){this.matrix.decompose(this.quaternion._target,this.position,this.scale),this.rotation.fromQuaternion(this.quaternion)}lookAt(e,t=!1){t?this.matrix.lookAt(this.position,e,this.up):this.matrix.lookAt(e,this.position,this.up),this.matrix.getRotation(this.quaternion._target),this.rotation.fromQuaternion(this.quaternion)}}function Ok(n,e){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[4],n[4]=e[5],n[5]=e[6],n[6]=e[8],n[7]=e[9],n[8]=e[10],n}function Dk(n,e){let t=e[0],r=e[1],i=e[2],s=e[3],o=t+t,u=r+r,f=i+i,d=t*o,x=r*o,w=r*u,A=i*o,E=i*u,I=i*f,C=s*o,M=s*u,j=s*f;return n[0]=1-w-I,n[3]=x-j,n[6]=A+M,n[1]=x+j,n[4]=1-d-I,n[7]=E-C,n[2]=A-M,n[5]=E+C,n[8]=1-d-w,n}function Mk(n,e){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4],n[5]=e[5],n[6]=e[6],n[7]=e[7],n[8]=e[8],n}function Lk(n,e,t,r,i,s,o,u,f,d){return n[0]=e,n[1]=t,n[2]=r,n[3]=i,n[4]=s,n[5]=o,n[6]=u,n[7]=f,n[8]=d,n}function kk(n){return n[0]=1,n[1]=0,n[2]=0,n[3]=0,n[4]=1,n[5]=0,n[6]=0,n[7]=0,n[8]=1,n}function Pk(n,e){let t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],u=e[5],f=e[6],d=e[7],x=e[8],w=x*o-u*d,A=-x*s+u*f,E=d*s-o*f,I=t*w+r*A+i*E;return I?(I=1/I,n[0]=w*I,n[1]=(-x*r+i*d)*I,n[2]=(u*r-i*o)*I,n[3]=A*I,n[4]=(x*t-i*f)*I,n[5]=(-u*t+i*s)*I,n[6]=E*I,n[7]=(-d*t+r*f)*I,n[8]=(o*t-r*s)*I,n):null}function eE(n,e,t){let r=e[0],i=e[1],s=e[2],o=e[3],u=e[4],f=e[5],d=e[6],x=e[7],w=e[8],A=t[0],E=t[1],I=t[2],C=t[3],M=t[4],j=t[5],W=t[6],k=t[7],G=t[8];return n[0]=A*r+E*o+I*d,n[1]=A*i+E*u+I*x,n[2]=A*s+E*f+I*w,n[3]=C*r+M*o+j*d,n[4]=C*i+M*u+j*x,n[5]=C*s+M*f+j*w,n[6]=W*r+k*o+G*d,n[7]=W*i+k*u+G*x,n[8]=W*s+k*f+G*w,n}function jk(n,e,t){let r=e[0],i=e[1],s=e[2],o=e[3],u=e[4],f=e[5],d=e[6],x=e[7],w=e[8],A=t[0],E=t[1];return n[0]=r,n[1]=i,n[2]=s,n[3]=o,n[4]=u,n[5]=f,n[6]=A*r+E*o+d,n[7]=A*i+E*u+x,n[8]=A*s+E*f+w,n}function Fk(n,e,t){let r=e[0],i=e[1],s=e[2],o=e[3],u=e[4],f=e[5],d=e[6],x=e[7],w=e[8],A=Math.sin(t),E=Math.cos(t);return n[0]=E*r+A*o,n[1]=E*i+A*u,n[2]=E*s+A*f,n[3]=E*o-A*r,n[4]=E*u-A*i,n[5]=E*f-A*s,n[6]=d,n[7]=x,n[8]=w,n}function Bk(n,e,t){let r=t[0],i=t[1];return n[0]=r*e[0],n[1]=r*e[1],n[2]=r*e[2],n[3]=i*e[3],n[4]=i*e[4],n[5]=i*e[5],n[6]=e[6],n[7]=e[7],n[8]=e[8],n}function Uk(n,e){let t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],u=e[5],f=e[6],d=e[7],x=e[8],w=e[9],A=e[10],E=e[11],I=e[12],C=e[13],M=e[14],j=e[15],W=t*u-r*o,k=t*f-i*o,G=t*d-s*o,ce=r*f-i*u,re=r*d-s*u,F=i*d-s*f,B=x*C-w*I,L=x*M-A*I,Q=x*j-E*I,U=w*M-A*C,q=w*j-E*C,Y=A*j-E*M,ne=W*Y-k*q+G*U+ce*Q-re*L+F*B;return ne?(ne=1/ne,n[0]=(u*Y-f*q+d*U)*ne,n[1]=(f*Q-o*Y-d*L)*ne,n[2]=(o*q-u*Q+d*B)*ne,n[3]=(i*q-r*Y-s*U)*ne,n[4]=(t*Y-i*Q+s*L)*ne,n[5]=(r*Q-t*q-s*B)*ne,n[6]=(C*F-M*re+j*ce)*ne,n[7]=(M*G-I*F-j*k)*ne,n[8]=(I*re-C*G+j*W)*ne,n):null}class Vk extends Array{constructor(e=1,t=0,r=0,i=0,s=1,o=0,u=0,f=0,d=1){return super(e,t,r,i,s,o,u,f,d),this}set(e,t,r,i,s,o,u,f,d){return e.length?this.copy(e):(Lk(this,e,t,r,i,s,o,u,f,d),this)}translate(e,t=this){return jk(this,t,e),this}rotate(e,t=this){return Fk(this,t,e),this}scale(e,t=this){return Bk(this,t,e),this}multiply(e,t){return t?eE(this,e,t):eE(this,this,e),this}identity(){return kk(this),this}copy(e){return Mk(this,e),this}fromMatrix4(e){return Ok(this,e),this}fromQuaternion(e){return Dk(this,e),this}fromBasis(e,t,r){return this.set(e[0],e[1],e[2],t[0],t[1],t[2],r[0],r[1],r[2]),this}inverse(e=this){return Pk(this,e),this}getNormalMatrix(e){return Uk(this,e),this}}let zk=0;class Hk extends Rk{constructor(e,{geometry:t,program:r,mode:i=e.TRIANGLES,frustumCulled:s=!0,renderOrder:o=0}={}){super(),e.canvas||console.error("gl not passed as first argument to Mesh"),this.gl=e,this.id=zk++,this.geometry=t,this.program=r,this.mode=i,this.frustumCulled=s,this.renderOrder=o,this.modelViewMatrix=new zp,this.normalMatrix=new Vk,this.beforeRenderCallbacks=[],this.afterRenderCallbacks=[]}onBeforeRender(e){return this.beforeRenderCallbacks.push(e),this}onAfterRender(e){return this.afterRenderCallbacks.push(e),this}draw({camera:e}={}){e&&(this.program.uniforms.modelMatrix||Object.assign(this.program.uniforms,{modelMatrix:{value:null},viewMatrix:{value:null},modelViewMatrix:{value:null},normalMatrix:{value:null},projectionMatrix:{value:null},cameraPosition:{value:null}}),this.program.uniforms.projectionMatrix.value=e.projectionMatrix,this.program.uniforms.cameraPosition.value=e.worldPosition,this.program.uniforms.viewMatrix.value=e.viewMatrix,this.modelViewMatrix.multiply(e.viewMatrix,this.worldMatrix),this.normalMatrix.getNormalMatrix(this.modelViewMatrix),this.program.uniforms.modelMatrix.value=this.worldMatrix,this.program.uniforms.modelViewMatrix.value=this.modelViewMatrix,this.program.uniforms.normalMatrix.value=this.normalMatrix),this.beforeRenderCallbacks.forEach(r=>r&&r({mesh:this,camera:e}));let t=this.program.cullFace&&this.worldMatrix.determinant()<0;this.program.use({flipFaces:t}),this.geometry.draw({mode:this.mode,program:this.program}),this.afterRenderCallbacks.forEach(r=>r&&r({mesh:this,camera:e}))}}const tE={black:"#000000",white:"#ffffff",red:"#ff0000",green:"#00ff00",blue:"#0000ff",fuchsia:"#ff00ff",cyan:"#00ffff",yellow:"#ffff00",orange:"#ff8000"};function nE(n){n.length===4&&(n=n[0]+n[1]+n[1]+n[2]+n[2]+n[3]+n[3]);const e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(n);return e||console.warn(`Unable to convert hex string ${n} to rgb values`),[parseInt(e[1],16)/255,parseInt(e[2],16)/255,parseInt(e[3],16)/255]}function qk(n){return n=parseInt(n),[(n>>16&255)/255,(n>>8&255)/255,(n&255)/255]}function rE(n){return n===void 0?[0,0,0]:arguments.length===3?arguments:isNaN(n)?n[0]==="#"?nE(n):tE[n.toLowerCase()]?nE(tE[n.toLowerCase()]):(console.warn("Color format not recognised"),[0,0,0]):qk(n)}class iE extends Array{constructor(e){return Array.isArray(e)?super(...e):super(...rE(...arguments))}get r(){return this[0]}get g(){return this[1]}get b(){return this[2]}set r(e){this[0]=e}set g(e){this[1]=e}set b(e){this[2]=e}set(e){return Array.isArray(e)?this.copy(e):this.copy(rE(...arguments))}copy(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this}}class Gk extends FL{constructor(e,{attributes:t={}}={}){Object.assign(t,{position:{size:2,data:new Float32Array([-1,-1,3,-1,-1,3])},uv:{size:2,data:new Float32Array([0,0,2,0,0,2])}}),super(e,t)}}const Wk=`
attribute vec2 uv;
attribute vec2 position;

varying vec2 vUv;

void main() {
  vUv = uv;
  gl_Position = vec4(position, 0, 1);
}
`,Yk=`
precision highp float;

uniform float uTime;
uniform vec3 uResolution;
uniform vec2 uFocal;
uniform vec2 uRotation;
uniform float uStarSpeed;
uniform float uDensity;
uniform float uHueShift;
uniform float uSpeed;
uniform vec2 uMouse;
uniform float uGlowIntensity;
uniform float uSaturation;
uniform bool uMouseRepulsion;
uniform float uTwinkleIntensity;
uniform float uRotationSpeed;
uniform float uRepulsionStrength;
uniform float uMouseActiveFactor;
uniform float uAutoCenterRepulsion;
uniform bool uTransparent;

varying vec2 vUv;

#define NUM_LAYER 4.0
#define STAR_COLOR_CUTOFF 0.2
#define MAT45 mat2(0.7071, -0.7071, 0.7071, 0.7071)
#define PERIOD 3.0

float Hash21(vec2 p) {
  p = fract(p * vec2(123.34, 456.21));
  p += dot(p, p + 45.32);
  return fract(p.x * p.y);
}

float tri(float x) {
  return abs(fract(x) * 2.0 - 1.0);
}

float tris(float x) {
  float t = fract(x);
  return 1.0 - smoothstep(0.0, 1.0, abs(2.0 * t - 1.0));
}

float trisn(float x) {
  float t = fract(x);
  return 2.0 * (1.0 - smoothstep(0.0, 1.0, abs(2.0 * t - 1.0))) - 1.0;
}

vec3 hsv2rgb(vec3 c) {
  vec4 K = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);
  vec3 p = abs(fract(c.xxx + K.xyz) * 6.0 - K.www);
  return c.z * mix(K.xxx, clamp(p - K.xxx, 0.0, 1.0), c.y);
}

float Star(vec2 uv, float flare) {
  float d = length(uv);
  float m = (0.05 * uGlowIntensity) / d;
  float rays = smoothstep(0.0, 1.0, 1.0 - abs(uv.x * uv.y * 1000.0));
  m += rays * flare * uGlowIntensity;
  uv *= MAT45;
  rays = smoothstep(0.0, 1.0, 1.0 - abs(uv.x * uv.y * 1000.0));
  m += rays * 0.3 * flare * uGlowIntensity;
  m *= smoothstep(1.0, 0.2, d);
  return m;
}

vec3 StarLayer(vec2 uv) {
  vec3 col = vec3(0.0);

  vec2 gv = fract(uv) - 0.5; 
  vec2 id = floor(uv);

  for (int y = -1; y <= 1; y++) {
    for (int x = -1; x <= 1; x++) {
      vec2 offset = vec2(float(x), float(y));
      vec2 si = id + vec2(float(x), float(y));
      float seed = Hash21(si);
      float size = fract(seed * 345.32);
      float glossLocal = tri(uStarSpeed / (PERIOD * seed + 1.0));
      float flareSize = smoothstep(0.9, 1.0, size) * glossLocal;

      float red = smoothstep(STAR_COLOR_CUTOFF, 1.0, Hash21(si + 1.0)) + STAR_COLOR_CUTOFF;
      float blu = smoothstep(STAR_COLOR_CUTOFF, 1.0, Hash21(si + 3.0)) + STAR_COLOR_CUTOFF;
      float grn = min(red, blu) * seed;
      vec3 base = vec3(red, grn, blu);
      
      float hue = atan(base.g - base.r, base.b - base.r) / (2.0 * 3.14159) + 0.5;
      hue = fract(hue + uHueShift / 360.0);
      float sat = length(base - vec3(dot(base, vec3(0.299, 0.587, 0.114)))) * uSaturation;
      float val = max(max(base.r, base.g), base.b);
      base = hsv2rgb(vec3(hue, sat, val));

      vec2 pad = vec2(tris(seed * 34.0 + uTime * uSpeed / 10.0), tris(seed * 38.0 + uTime * uSpeed / 30.0)) - 0.5;

      float star = Star(gv - offset - pad, flareSize);
      vec3 color = base;

      float twinkle = trisn(uTime * uSpeed + seed * 6.2831) * 0.5 + 1.0;
      twinkle = mix(1.0, twinkle, uTwinkleIntensity);
      star *= twinkle;
      
      col += star * size * color;
    }
  }

  return col;
}

void main() {
  vec2 focalPx = uFocal * uResolution.xy;
  vec2 uv = (vUv * uResolution.xy - focalPx) / uResolution.y;

  vec2 mouseNorm = uMouse - vec2(0.5);
  
  if (uAutoCenterRepulsion > 0.0) {
    vec2 centerUV = vec2(0.0, 0.0);
    float centerDist = length(uv - centerUV);
    vec2 repulsion = normalize(uv - centerUV) * (uAutoCenterRepulsion / (centerDist + 0.1));
    uv += repulsion * 0.05;
  } else if (uMouseRepulsion) {
    vec2 mousePosUV = (uMouse * uResolution.xy - focalPx) / uResolution.y;
    float mouseDist = length(uv - mousePosUV);
    vec2 repulsion = normalize(uv - mousePosUV) * (uRepulsionStrength / (mouseDist + 0.1));
    uv += repulsion * 0.05 * uMouseActiveFactor;
  } else {
    vec2 mouseOffset = mouseNorm * 0.1 * uMouseActiveFactor;
    uv += mouseOffset;
  }

  float autoRotAngle = uTime * uRotationSpeed;
  mat2 autoRot = mat2(cos(autoRotAngle), -sin(autoRotAngle), sin(autoRotAngle), cos(autoRotAngle));
  uv = autoRot * uv;

  uv = mat2(uRotation.x, -uRotation.y, uRotation.y, uRotation.x) * uv;

  vec3 col = vec3(0.0);

  for (float i = 0.0; i < 1.0; i += 1.0 / NUM_LAYER) {
    float depth = fract(i + uStarSpeed * uSpeed);
    float scale = mix(20.0 * uDensity, 0.5 * uDensity, depth);
    float fade = depth * smoothstep(1.0, 0.9, depth);
    col += StarLayer(uv * scale + i * 453.32) * fade;
  }

  if (uTransparent) {
    float alpha = length(col);
    alpha = smoothstep(0.0, 0.3, alpha);
    alpha = min(alpha, 1.0);
    gl_FragColor = vec4(col, alpha);
  } else {
    gl_FragColor = vec4(col, 1.0);
  }
}
`;function Xk({focal:n=[.2,.2],rotation:e=[1,0],starSpeed:t=.4,density:r=.6,hueShift:i=140,disableAnimation:s=!1,speed:o=.8,mouseInteraction:u=!0,glowIntensity:f=.2,saturation:d=.5,mouseRepulsion:x=!0,repulsionStrength:w=2,twinkleIntensity:A=.5,rotationSpeed:E=.1,autoCenterRepulsion:I=0,transparent:C=!0,...M}){const j=ae.useRef(null),W=ae.useRef({x:.5,y:.5}),k=ae.useRef({x:.5,y:.5}),G=ae.useRef(0),ce=ae.useRef(0);return ae.useEffect(()=>{if(!j.current)return;const re=j.current,F=new GL({alpha:C,premultipliedAlpha:!1}),B=F.gl;C?(B.enable(B.BLEND),B.blendFunc(B.SRC_ALPHA,B.ONE_MINUS_SRC_ALPHA),B.clearColor(0,0,0,0)):B.clearColor(0,0,0,1);let L;function Q(){F.setSize(re.offsetWidth*1,re.offsetHeight*1),L&&(L.uniforms.uResolution.value=new iE(B.canvas.width,B.canvas.height,B.canvas.width/B.canvas.height))}window.addEventListener("resize",Q,!1),Q();const U=new Gk(B);L=new UL(B,{vertex:Wk,fragment:Yk,uniforms:{uTime:{value:0},uResolution:{value:new iE(B.canvas.width,B.canvas.height,B.canvas.width/B.canvas.height)},uFocal:{value:new Float32Array(n)},uRotation:{value:new Float32Array(e)},uStarSpeed:{value:t},uDensity:{value:r},uHueShift:{value:i},uSpeed:{value:o},uMouse:{value:new Float32Array([k.current.x,k.current.y])},uGlowIntensity:{value:f},uSaturation:{value:d},uMouseRepulsion:{value:x},uTwinkleIntensity:{value:A},uRotationSpeed:{value:E},uRepulsionStrength:{value:w},uMouseActiveFactor:{value:0},uAutoCenterRepulsion:{value:I},uTransparent:{value:C}}});const q=new Hk(B,{geometry:U,program:L});let Y;function ne(ve){Y=requestAnimationFrame(ne),s||(L.uniforms.uTime.value=ve*.001,L.uniforms.uStarSpeed.value=ve*.001*t/10);const Re=.05;k.current.x+=(W.current.x-k.current.x)*Re,k.current.y+=(W.current.y-k.current.y)*Re,ce.current+=(G.current-ce.current)*Re,L.uniforms.uMouse.value[0]=k.current.x,L.uniforms.uMouse.value[1]=k.current.y,L.uniforms.uMouseActiveFactor.value=ce.current,F.render({scene:q})}Y=requestAnimationFrame(ne),re.appendChild(B.canvas);function pe(ve){const Re=re.getBoundingClientRect(),He=(ve.clientX-Re.left)/Re.width,ze=1-(ve.clientY-Re.top)/Re.height;W.current={x:He,y:ze},G.current=1}function Ae(){G.current=0}return u&&(re.addEventListener("mousemove",pe),re.addEventListener("mouseleave",Ae)),()=>{cancelAnimationFrame(Y),window.removeEventListener("resize",Q),u&&(re.removeEventListener("mousemove",pe),re.removeEventListener("mouseleave",Ae)),re.removeChild(B.canvas),B.getExtension("WEBGL_lose_context")?.loseContext()}},[n,e,t,r,i,s,o,u,f,d,x,A,E,w,I,C]),m.jsx("div",{ref:j,className:"galaxy-container",...M})}let Vg=null;function Kk(){try{const n=document.createElement("canvas"),e=n.getContext("webgl")||n.getContext("experimental-webgl");if(!e)return!0;const t=e.getExtension("WEBGL_debug_renderer_info");if(!t)return!1;const r=e.getParameter(t.UNMASKED_RENDERER_WEBGL).toLowerCase();return["intel hd graphics","intel uhd graphics","intel(r) hd graphics","intel(r) uhd graphics","mali-4","mali-t","adreno 3","adreno 4","adreno 5","powervr","videocore","swiftshader","llvmpipe","mesa","microsoft basic render"].some(s=>r.includes(s))}catch{return!1}}function Qk(){const n=navigator.userAgent.toLowerCase(),t=["android","webos","iphone","ipad","ipod","blackberry","windows phone"].some(s=>n.includes(s)),r="ontouchstart"in window||navigator.maxTouchPoints>0,i=window.innerWidth<=768;return t||r&&i}function $k(){return navigator.deviceMemory||null}function Zk(){return navigator.hardwareConcurrency||4}function Jk(n,e,t,r){let i=0;return n>=8?i+=3:n>=4?i+=2:n>=2&&(i+=1),e!==null?e>=8?i+=3:e>=4?i+=2:e>=2&&(i+=1):i+=2,r&&(i-=2),t&&(i-=1),i>=5?"high":i>=3?"medium":"low"}function e9(){if(Vg)return Vg;const n=Zk(),e=$k(),t=Qk(),r=Kk();return Vg={tier:Jk(n,e,t,r),cpuCores:n,deviceMemory:e,isMobile:t,isLowEndGPU:r},Vg}const Gv={high:{density:.6,glowIntensity:.1,twinkleIntensity:.1,rotationSpeed:.1,speed:.8,mouseInteraction:!1,mouseRepulsion:!1,disabled:!1},medium:{density:.35,glowIntensity:.08,twinkleIntensity:.05,rotationSpeed:.05,speed:.5,mouseInteraction:!1,mouseRepulsion:!1,disabled:!1},low:{density:.15,glowIntensity:.05,twinkleIntensity:0,rotationSpeed:.02,speed:.3,mouseInteraction:!1,mouseRepulsion:!1,disabled:!1}};function t9({forceHighQuality:n=!1,forceLowQuality:e=!1}){const t=ae.useMemo(()=>{if(n)return Gv.high;if(e)return Gv.low;const{tier:r}=e9();return Gv[r]},[n,e]);return t.disabled?m.jsx("div",{className:"galaxy-container galaxy-container--static"}):m.jsx(Xk,{density:t.density,glowIntensity:t.glowIntensity,twinkleIntensity:t.twinkleIntensity,rotationSpeed:t.rotationSpeed,speed:t.speed,mouseInteraction:t.mouseInteraction,mouseRepulsion:t.mouseRepulsion,saturation:.2,hueShift:360,repulsionStrength:2,autoCenterRepulsion:0,starSpeed:.4,transparent:!1})}const Sw="/orbitx-zcoer-website/assets/Logo_without_background-BzyQFdVO.png";var Wv,sE;function n9(){if(sE)return Wv;sE=1;var n=typeof Element<"u",e=typeof Map=="function",t=typeof Set=="function",r=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function i(s,o){if(s===o)return!0;if(s&&o&&typeof s=="object"&&typeof o=="object"){if(s.constructor!==o.constructor)return!1;var u,f,d;if(Array.isArray(s)){if(u=s.length,u!=o.length)return!1;for(f=u;f--!==0;)if(!i(s[f],o[f]))return!1;return!0}var x;if(e&&s instanceof Map&&o instanceof Map){if(s.size!==o.size)return!1;for(x=s.entries();!(f=x.next()).done;)if(!o.has(f.value[0]))return!1;for(x=s.entries();!(f=x.next()).done;)if(!i(f.value[1],o.get(f.value[0])))return!1;return!0}if(t&&s instanceof Set&&o instanceof Set){if(s.size!==o.size)return!1;for(x=s.entries();!(f=x.next()).done;)if(!o.has(f.value[0]))return!1;return!0}if(r&&ArrayBuffer.isView(s)&&ArrayBuffer.isView(o)){if(u=s.length,u!=o.length)return!1;for(f=u;f--!==0;)if(s[f]!==o[f])return!1;return!0}if(s.constructor===RegExp)return s.source===o.source&&s.flags===o.flags;if(s.valueOf!==Object.prototype.valueOf&&typeof s.valueOf=="function"&&typeof o.valueOf=="function")return s.valueOf()===o.valueOf();if(s.toString!==Object.prototype.toString&&typeof s.toString=="function"&&typeof o.toString=="function")return s.toString()===o.toString();if(d=Object.keys(s),u=d.length,u!==Object.keys(o).length)return!1;for(f=u;f--!==0;)if(!Object.prototype.hasOwnProperty.call(o,d[f]))return!1;if(n&&s instanceof Element)return!1;for(f=u;f--!==0;)if(!((d[f]==="_owner"||d[f]==="__v"||d[f]==="__o")&&s.$$typeof)&&!i(s[d[f]],o[d[f]]))return!1;return!0}return s!==s&&o!==o}return Wv=function(o,u){try{return i(o,u)}catch(f){if((f.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw f}},Wv}var r9=n9();const Ep=M2(r9);function ns(n,e){return!Number.isInteger(n)||!Number.isInteger(e)?Math.random()*(e-n)+n:Math.floor(Math.random()*(e-n+1)+n)}function I1(n,e,t){return(1-t)*n+t*e}function i9(n){const e=Math.floor(Math.random()*n.length);return n[e]}function aE(n){return n?{height:n.offsetHeight,width:n.offsetWidth}:{height:0,width:0}}const oE=Math.PI*2,Kc={color:"#dee4fd",radius:[.5,3],speed:[1,3],wind:[-.5,2],changeFrequency:200,rotationSpeed:[-1,1],opacity:[1,1],enable3DRotation:!1};class Of{static createSnowflakes(e,t,r){if(!e)return[];const i=[];for(let s=0;s<t;s++)i.push(new Of(e,r));return i}constructor(e,t={}){this.updateConfig(t);const{radius:r,wind:i,speed:s,rotationSpeed:o,opacity:u,enable3DRotation:f}=this.config;this.params={x:ns(0,e.offsetWidth),y:ns(-e.offsetHeight,0),rotation:ns(0,360),radius:ns(...r),speed:ns(...s),wind:ns(...i),rotationSpeed:ns(...o),nextSpeed:ns(...s),nextWind:ns(...i),nextRotationSpeed:ns(...o),opacity:ns(...u),hasNextOpacity:!1,rotationX:f?ns(0,360):0,rotationY:f?ns(0,360):0,rotationSpeedX:f?ns(-2,2):0,rotationSpeedY:f?ns(-2,2):0,nextRotationSpeedX:f?ns(-2,2):0,nextRotationSpeedY:f?ns(-2,2):0},this.framesSinceLastUpdate=0}selectImage(){this.config.images&&this.config.images.length>0?this.image=i9(this.config.images):this.image=void 0}updateConfig(e){const t=this.config;this.config={...Kc,...e},this.config.changeFrequency=ns(this.config.changeFrequency,this.config.changeFrequency*1.5),this.params&&!Ep(this.config.radius,t?.radius)&&(this.params.radius=ns(...this.config.radius)),Ep(this.config.images,t?.images)||this.selectImage(),t?.opacity&&!Ep(this.config.opacity,t?.opacity)&&(this.params.hasNextOpacity=!0)}updateTargetParams(){this.params.nextSpeed=ns(...this.config.speed),this.params.nextWind=ns(...this.config.wind),this.image&&(this.params.nextRotationSpeed=ns(...this.config.rotationSpeed)),this.config.enable3DRotation&&(this.params.nextRotationSpeedX=ns(-2,2),this.params.nextRotationSpeedY=ns(-2,2))}update(e,t,r=1){const{x:i,y:s,rotation:o,rotationSpeed:u,nextRotationSpeed:f,wind:d,speed:x,nextWind:w,nextSpeed:A,radius:E}=this.params;this.params.x=(i+d*r)%(e+E*2),this.params.x>e+E&&(this.params.x=-E),this.params.y=(s+x*r)%(t+E*2),this.params.y>t+E&&(this.params.hasNextOpacity&&(this.params.opacity=ns(...this.config.opacity),this.params.hasNextOpacity=!1),this.params.y=-E),(this.image||this.config.enable3DRotation)&&(this.params.rotation=(o+u)%360),this.config.enable3DRotation&&(this.params.rotationX=(this.params.rotationX+this.params.rotationSpeedX*r)%360,this.params.rotationY=(this.params.rotationY+this.params.rotationSpeedY*r)%360),this.params.speed=I1(x,A,.01),this.params.wind=I1(d,w,.01),this.params.rotationSpeed=I1(u,f,.01),this.config.enable3DRotation&&(this.params.rotationSpeedX=I1(this.params.rotationSpeedX,this.params.nextRotationSpeedX,.01),this.params.rotationSpeedY=I1(this.params.rotationSpeedY,this.params.nextRotationSpeedY,.01)),this.framesSinceLastUpdate++>this.config.changeFrequency&&(this.updateTargetParams(),this.framesSinceLastUpdate=0)}getImageOffscreenCanvas(e,t){var r,i;if(e instanceof HTMLImageElement&&e.loading)return e;let s=Of.offscreenCanvases.get(e);if(s||(s={},Of.offscreenCanvases.set(e,s)),!(t in s)){const o=document.createElement("canvas");o.width=t,o.height=t,(r=o.getContext("2d"))===null||r===void 0||r.drawImage(e,0,0,t,t),s[t]=o}return(i=s[t])!==null&&i!==void 0?i:e}apply3DTransform(e,t,r){if(this.config.enable3DRotation){const{rotationX:i,rotationY:s}=this.params,o=this.params.rotation||0,u=i*Math.PI/180,f=s*Math.PI/180,d=o*Math.PI/180,x=Math.cos(u),w=Math.sin(u),A=Math.cos(f),E=Math.sin(f),I=Math.cos(d),C=Math.sin(d),M=I*A,j=I*E*w-C*x,W=I*E*x+C*w,k=C*A;e.setTransform(M,j,W,k,t,r)}else{const s=(this.params.rotation||0)*Math.PI/180,o=Math.cos(s),u=Math.sin(s);e.setTransform(o,u,-u,o,t,r)}}drawCircle(e){e.moveTo(this.params.x,this.params.y),e.arc(this.params.x,this.params.y,this.params.radius,0,oE)}drawCircle3D(e,t){const{x:r,y:i,radius:s}=this.params;e.save(),this.config.enable3DRotation?this.apply3DTransform(e,r,i):e.translate(r,i),e.beginPath(),e.arc(0,0,s,0,oE),e.fillStyle=t,e.fill(),e.restore()}drawImage(e){const{x:t,y:r,radius:i}=this.params;e.save(),this.params.opacity!==1&&(e.globalAlpha=this.params.opacity),this.apply3DTransform(e,t,r);const s=this.getImageOffscreenCanvas(this.image,i);e.drawImage(s,-(i/2),-(i/2),i,i),e.restore()}}Of.offscreenCanvases=new WeakMap;const s9={pointerEvents:"none",backgroundColor:"transparent",position:"absolute",top:0,left:0,width:"100%",height:"100%"},a9=1e3/60;var lE=function(n,e,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(n):r?r.value:e.get(n)},zg=function(n,e,t,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?n!==e||!i:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(n,t):i?i.value=t:e.set(n,t),t},P1,j1;class o9{get ctx(){return lE(this,P1,"f")}get canvas(){return lE(this,j1,"f")}set canvas(e){zg(this,j1,e,"f"),zg(this,P1,e.getContext("2d"),"f")}constructor(e,t){this.lastUpdate=Date.now(),this.snowflakes=[],P1.set(this,void 0),j1.set(this,void 0),zg(this,j1,e,"f"),zg(this,P1,e.getContext("2d"),"f"),this.config={snowflakeCount:150,...Kc,...t},this.snowflakes=[],this.snowflakes=Of.createSnowflakes(e,t.snowflakeCount||150,t),this.play()}updateConfig(e){this.config={...this.config,...e};const t=this.config.snowflakeCount-this.snowflakes.length;t>0&&(this.snowflakes=[...this.snowflakes,...Of.createSnowflakes(this.canvas,t,e)]),t<0&&(this.snowflakes=this.snowflakes.slice(0,this.config.snowflakeCount));for(const r of this.snowflakes)r.updateConfig(this.config)}render(e=1){const{ctx:t,canvas:r,snowflakes:i}=this;if(!t||!r)return;const{offsetWidth:s,offsetHeight:o}=r;for(const u of i)u.update(s,o,e);if(t.setTransform(1,0,0,1,0,0),t.clearRect(0,0,s,o),this.config.images&&this.config.images.length>0){for(const u of i)u.drawImage(t);return}if(this.config.enable3DRotation)for(const u of i)u.drawCircle3D(t,this.config.color);else{t.beginPath();for(const u of i)u.drawCircle(t);t.fillStyle=this.config.color,t.fill()}}loop(){const e=Date.now(),t=Date.now()-this.lastUpdate;this.lastUpdate=e;const r=t/a9;this.render(r),this.animationFrame=requestAnimationFrame(()=>this.loop())}play(){this.loop()}pause(){this.animationFrame&&(cancelAnimationFrame(this.animationFrame),this.animationFrame=void 0)}}P1=new WeakMap,j1=new WeakMap;const l9=n=>{const[e,t]=ae.useState(aE(n.current)),r=ae.useCallback(()=>{n.current&&t(aE(n.current))},[n]);return ae.useEffect(()=>{const{ResizeObserver:i}=window;if(n.current)if(r(),typeof i=="function"){const s=new i(r);return s.observe(n.current),()=>s.disconnect()}else return window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)},[n,r]),e},c9=n=>ae.useMemo(()=>({...s9,...n||{}}),[n]);function u9(n,e){const t=ae.useRef(e);return Ep(e,t.current)||(t.current=e),ae.useEffect(n,t.current)}function h9(n){const[e,t]=ae.useState(n);return u9(()=>t(n),[n]),e}const f9=({color:n=Kc.color,changeFrequency:e=Kc.changeFrequency,radius:t=Kc.radius,speed:r=Kc.speed,wind:i=Kc.wind,rotationSpeed:s=Kc.rotationSpeed,opacity:o=Kc.opacity,snowflakeCount:u=150,images:f,enable3DRotation:d=Kc.enable3DRotation,style:x}={})=>{const w=c9(x),A=ae.useRef(null),E=l9(A),I=h9({color:n,changeFrequency:e,radius:t,speed:r,wind:i,rotationSpeed:s,images:f,snowflakeCount:u,opacity:o,enable3DRotation:d}),C=ae.useRef(I),M=ae.useRef();return ae.useEffect(()=>(!M.current&&A.current&&(M.current=new o9(A.current,C.current)),()=>{var j;(j=M.current)===null||j===void 0||j.pause(),M.current=void 0}),[]),ae.useEffect(()=>{M.current&&M.current.updateConfig(I)},[I]),yp.createElement("canvas",{ref:A,height:E.height,width:E.width,style:w,"data-testid":"SnowfallCanvas"})},cE="orbitx-snow-holiday-shown";function d9(){const n=new Date,e=n.getMonth(),t=n.getDate();return e===11&&t>=20||e===0&&t<=5}const wC=ae.createContext(null);function m9(){const n=ae.useContext(wC);if(!n)throw new Error("useSnowfall must be used within a SnowfallProvider");return n}function g9({children:n}){const[e,t]=ae.useState(!1);ae.useEffect(()=>{d9()&&(sessionStorage.getItem(cE)||(t(!0),sessionStorage.setItem(cE,"true"),setTimeout(()=>{t(!1)},1e4)))},[]),ae.useEffect(()=>{let s=0,o=0,u=0,f=15,d=0,x=0;const w=A=>{const E=A.accelerationIncludingGravity;if(!E)return;const I=E.x||0,C=E.y||0,M=E.z||0,j=Math.abs(I-s),W=Math.abs(C-o),k=Math.abs(M-u),G=Date.now();(j>f||W>f||k>f)&&G-x>100&&(d++,x=G,d>=3&&(t(!0),d=0)),G-x>2e3&&(d=0),s=I,o=C,u=M};return typeof DeviceMotionEvent<"u"&&window.addEventListener("devicemotion",w),()=>{window.removeEventListener("devicemotion",w)}},[]);const r=ae.useCallback(()=>{t(s=>!s)},[]),i=ae.useCallback(()=>{t(!0)},[]);return m.jsxs(wC.Provider,{value:{isSnowing:e,toggleSnow:r,triggerSnow:i},children:[n,e&&m.jsx(f9,{snowflakeCount:150,style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",zIndex:9999,pointerEvents:"none"}})]})}const p9=()=>{};var uE={};const bC=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},x9=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[t++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=n[t++],o=n[t++],u=n[t++],f=((i&7)<<18|(s&63)<<12|(o&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const s=n[t++],o=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},EC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],o=i+1<n.length,u=o?n[i+1]:0,f=i+2<n.length,d=f?n[i+2]:0,x=s>>2,w=(s&3)<<4|u>>4;let A=(u&15)<<2|d>>6,E=d&63;f||(E=64,o||(A=64)),r.push(t[x],t[w],t[A],t[E])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(bC(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):x9(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=t[n.charAt(i++)],u=i<n.length?t[n.charAt(i)]:0;++i;const d=i<n.length?t[n.charAt(i)]:64;++i;const w=i<n.length?t[n.charAt(i)]:64;if(++i,s==null||u==null||d==null||w==null)throw new v9;const A=s<<2|u>>4;if(r.push(A),d!==64){const E=u<<4&240|d>>2;if(r.push(E),w!==64){const I=d<<6&192|w;r.push(I)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class v9 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const _9=function(n){const e=bC(n);return EC.encodeByteArray(e,!0)},Hp=function(n){return _9(n).replace(/\./g,"")},AC=function(n){try{return EC.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function y9(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const w9=()=>y9().__FIREBASE_DEFAULTS__,b9=()=>{if(typeof process>"u"||typeof uE>"u")return;const n=uE.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},E9=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&AC(n[1]);return e&&JSON.parse(e)},P2=()=>{try{return p9()||w9()||b9()||E9()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},SC=n=>P2()?.emulatorHosts?.[n],TC=n=>{const e=SC(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},NC=()=>P2()?.config,CC=n=>P2()?.[`_${n}`];class A9{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}function rf(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Tw(n){return(await fetch(n,{credentials:"include"})).ok}function IC(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Hp(JSON.stringify(t)),Hp(JSON.stringify(o)),""].join(".")}const q1={};function S9(){const n={prod:[],emulator:[]};for(const e of Object.keys(q1))q1[e]?n.emulator.push(e):n.prod.push(e);return n}function T9(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let hE=!1;function Nw(n,e){if(typeof window>"u"||typeof document>"u"||!rf(window.location.host)||q1[n]===e||q1[n]||hE)return;q1[n]=e;function t(A){return`__firebase__banner__${A}`}const r="__firebase__banner",s=S9().prod.length>0;function o(){const A=document.getElementById(r);A&&A.remove()}function u(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function f(A,E){A.setAttribute("width","24"),A.setAttribute("id",E),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function d(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{hE=!0,o()},A}function x(A,E){A.setAttribute("id",E),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function w(){const A=T9(r),E=t("text"),I=document.getElementById(E)||document.createElement("span"),C=t("learnmore"),M=document.getElementById(C)||document.createElement("a"),j=t("preprendIcon"),W=document.getElementById(j)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const k=A.element;u(k),x(M,C);const G=d();f(W,j),k.append(W,I,M,G),document.body.appendChild(k)}s?(I.innerText="Preview backend disconnected.",W.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(W.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,I.innerText="Preview backend running in this workspace."),I.setAttribute("id",E)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}function Lo(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function N9(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Lo())}function C9(){const n=P2()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function I9(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function R9(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function O9(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function D9(){const n=Lo();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function M9(){return!C9()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function L9(){try{return typeof indexedDB=="object"}catch{return!1}}function k9(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(t){e(t)}})}const P9="FirebaseError";class fu extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=P9,Object.setPrototypeOf(this,fu.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Nm.prototype.create)}}class Nm{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?j9(s,r):"Error",u=`${this.serviceName}: ${o} (${i}).`;return new fu(i,u,r)}}function j9(n,e){return n.replace(F9,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const F9=/\{\$([^}]+)}/g;function B9(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Yu(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const s=n[i],o=e[i];if(fE(s)&&fE(o)){if(!Yu(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function fE(n){return n!==null&&typeof n=="object"}function Cm(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function U9(n,e){const t=new V9(n,e);return t.subscribe.bind(t)}class V9{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");z9(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=Yv),i.error===void 0&&(i.error=Yv),i.complete===void 0&&(i.complete=Yv);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function z9(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Yv(){}function bs(n){return n&&n._delegate?n._delegate:n}class Wh{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Sf="[DEFAULT]";class H9{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new A9;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(G9(e))try{this.getOrInitializeService({instanceIdentifier:Sf})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Sf){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Sf){return this.instances.has(e)}getOptions(e=Sf){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[s,o]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(s);r===u&&o.resolve(i)}return i}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:q9(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Sf){return this.component?this.component.multipleInstances?e:Sf:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function q9(n){return n===Sf?void 0:n}function G9(n){return n.instantiationMode==="EAGER"}class W9{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new H9(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var Hr;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Hr||(Hr={}));const Y9={debug:Hr.DEBUG,verbose:Hr.VERBOSE,info:Hr.INFO,warn:Hr.WARN,error:Hr.ERROR,silent:Hr.SILENT},X9=Hr.INFO,K9={[Hr.DEBUG]:"log",[Hr.VERBOSE]:"log",[Hr.INFO]:"info",[Hr.WARN]:"warn",[Hr.ERROR]:"error"},Q9=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=K9[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Cw{constructor(e){this.name=e,this._logLevel=X9,this._logHandler=Q9,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Hr))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Y9[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Hr.DEBUG,...e),this._logHandler(this,Hr.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Hr.VERBOSE,...e),this._logHandler(this,Hr.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Hr.INFO,...e),this._logHandler(this,Hr.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Hr.WARN,...e),this._logHandler(this,Hr.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Hr.ERROR,...e),this._logHandler(this,Hr.ERROR,...e)}}const $9=(n,e)=>e.some(t=>n instanceof t);let dE,mE;function Z9(){return dE||(dE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function J9(){return mE||(mE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const RC=new WeakMap,py=new WeakMap,OC=new WeakMap,Xv=new WeakMap,Iw=new WeakMap;function eP(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(Vh(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&RC.set(t,n)}).catch(()=>{}),Iw.set(e,n),e}function tP(n){if(py.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});py.set(n,e)}let xy={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return py.get(n);if(e==="objectStoreNames")return n.objectStoreNames||OC.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Vh(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function nP(n){xy=n(xy)}function rP(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Kv(this),e,...t);return OC.set(r,e.sort?e.sort():[e]),Vh(r)}:J9().includes(n)?function(...e){return n.apply(Kv(this),e),Vh(RC.get(this))}:function(...e){return Vh(n.apply(Kv(this),e))}}function iP(n){return typeof n=="function"?rP(n):(n instanceof IDBTransaction&&tP(n),$9(n,Z9())?new Proxy(n,xy):n)}function Vh(n){if(n instanceof IDBRequest)return eP(n);if(Xv.has(n))return Xv.get(n);const e=iP(n);return e!==n&&(Xv.set(n,e),Iw.set(e,n)),e}const Kv=n=>Iw.get(n);function sP(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(n,e),u=Vh(o);return r&&o.addEventListener("upgradeneeded",f=>{r(Vh(o.result),f.oldVersion,f.newVersion,Vh(o.transaction),f)}),t&&o.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),u.then(f=>{s&&f.addEventListener("close",()=>s()),i&&f.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),u}const aP=["get","getKey","getAll","getAllKeys","count"],oP=["put","add","delete","clear"],Qv=new Map;function gE(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Qv.get(e))return Qv.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=oP.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||aP.includes(t)))return;const s=async function(o,...u){const f=this.transaction(o,i?"readwrite":"readonly");let d=f.store;return r&&(d=d.index(u.shift())),(await Promise.all([d[t](...u),i&&f.done]))[0]};return Qv.set(e,s),s}nP(n=>({...n,get:(e,t,r)=>gE(e,t)||n.get(e,t,r),has:(e,t)=>!!gE(e,t)||n.has(e,t)}));class lP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(cP(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function cP(n){return n.getComponent()?.type==="VERSION"}const vy="@firebase/app",pE="0.14.6";const Xu=new Cw("@firebase/app"),uP="@firebase/app-compat",hP="@firebase/analytics-compat",fP="@firebase/analytics",dP="@firebase/app-check-compat",mP="@firebase/app-check",gP="@firebase/auth",pP="@firebase/auth-compat",xP="@firebase/database",vP="@firebase/data-connect",_P="@firebase/database-compat",yP="@firebase/functions",wP="@firebase/functions-compat",bP="@firebase/installations",EP="@firebase/installations-compat",AP="@firebase/messaging",SP="@firebase/messaging-compat",TP="@firebase/performance",NP="@firebase/performance-compat",CP="@firebase/remote-config",IP="@firebase/remote-config-compat",RP="@firebase/storage",OP="@firebase/storage-compat",DP="@firebase/firestore",MP="@firebase/ai",LP="@firebase/firestore-compat",kP="firebase",PP="12.6.0";const _y="[DEFAULT]",jP={[vy]:"fire-core",[uP]:"fire-core-compat",[fP]:"fire-analytics",[hP]:"fire-analytics-compat",[mP]:"fire-app-check",[dP]:"fire-app-check-compat",[gP]:"fire-auth",[pP]:"fire-auth-compat",[xP]:"fire-rtdb",[vP]:"fire-data-connect",[_P]:"fire-rtdb-compat",[yP]:"fire-fn",[wP]:"fire-fn-compat",[bP]:"fire-iid",[EP]:"fire-iid-compat",[AP]:"fire-fcm",[SP]:"fire-fcm-compat",[TP]:"fire-perf",[NP]:"fire-perf-compat",[CP]:"fire-rc",[IP]:"fire-rc-compat",[RP]:"fire-gcs",[OP]:"fire-gcs-compat",[DP]:"fire-fst",[LP]:"fire-fst-compat",[MP]:"fire-vertex","fire-js":"fire-js",[kP]:"fire-js-all"};const om=new Map,FP=new Map,yy=new Map;function xE(n,e){try{n.container.addComponent(e)}catch(t){Xu.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function jf(n){const e=n.name;if(yy.has(e))return Xu.debug(`There were multiple attempts to register component ${e}.`),!1;yy.set(e,n);for(const t of om.values())xE(t,n);for(const t of FP.values())xE(t,n);return!0}function j2(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Zl(n){return n==null?!1:n.settings!==void 0}const BP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},zh=new Nm("app","Firebase",BP);class UP{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Wh("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw zh.create("app-deleted",{appName:this._name})}}const Kf=PP;function DC(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:_y,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw zh.create("bad-app-name",{appName:String(i)});if(t||(t=NC()),!t)throw zh.create("no-options");const s=om.get(i);if(s){if(Yu(t,s.options)&&Yu(r,s.config))return s;throw zh.create("duplicate-app",{appName:i})}const o=new W9(i);for(const f of yy.values())o.addComponent(f);const u=new UP(t,r,o);return om.set(i,u),u}function F2(n=_y){const e=om.get(n);if(!e&&n===_y&&NC())return DC();if(!e)throw zh.create("no-app",{appName:n});return e}function VP(){return Array.from(om.values())}function eu(n,e,t){let r=jP[n]??n;t&&(r+=`-${t}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const o=[`Unable to register library "${r}" with version "${e}":`];i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&o.push("and"),s&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Xu.warn(o.join(" "));return}jf(new Wh(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const zP="firebase-heartbeat-database",HP=1,lm="firebase-heartbeat-store";let $v=null;function MC(){return $v||($v=sP(zP,HP,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(lm)}catch(t){console.warn(t)}}}}).catch(n=>{throw zh.create("idb-open",{originalErrorMessage:n.message})})),$v}async function qP(n){try{const t=(await MC()).transaction(lm),r=await t.objectStore(lm).get(LC(n));return await t.done,r}catch(e){if(e instanceof fu)Xu.warn(e.message);else{const t=zh.create("idb-get",{originalErrorMessage:e?.message});Xu.warn(t.message)}}}async function vE(n,e){try{const r=(await MC()).transaction(lm,"readwrite");await r.objectStore(lm).put(e,LC(n)),await r.done}catch(t){if(t instanceof fu)Xu.warn(t.message);else{const r=zh.create("idb-set",{originalErrorMessage:t?.message});Xu.warn(r.message)}}}function LC(n){return`${n.name}!${n.options.appId}`}const GP=1024,WP=30;class YP{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new KP(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=_E();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>WP){const i=QP(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Xu.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=_E(),{heartbeatsToSend:t,unsentEntries:r}=XP(this._heartbeatsCache.heartbeats),i=Hp(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return Xu.warn(e),""}}}function _E(){return new Date().toISOString().substring(0,10)}function XP(n,e=GP){const t=[];let r=n.slice();for(const i of n){const s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),yE(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),yE(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class KP{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return L9()?k9().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await qP(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return vE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return vE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function yE(n){return Hp(JSON.stringify({version:2,heartbeats:n})).length}function QP(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function $P(n){jf(new Wh("platform-logger",e=>new lP(e),"PRIVATE")),jf(new Wh("heartbeat",e=>new YP(e),"PRIVATE")),eu(vy,pE,n),eu(vy,pE,"esm2020"),eu("fire-js","")}$P("");var wE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Hh,kC;(function(){var n;function e(F,B){function L(){}L.prototype=B.prototype,F.F=B.prototype,F.prototype=new L,F.prototype.constructor=F,F.D=function(Q,U,q){for(var Y=Array(arguments.length-2),ne=2;ne<arguments.length;ne++)Y[ne-2]=arguments[ne];return B.prototype[U].apply(Q,Y)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(F,B,L){L||(L=0);const Q=Array(16);if(typeof B=="string")for(var U=0;U<16;++U)Q[U]=B.charCodeAt(L++)|B.charCodeAt(L++)<<8|B.charCodeAt(L++)<<16|B.charCodeAt(L++)<<24;else for(U=0;U<16;++U)Q[U]=B[L++]|B[L++]<<8|B[L++]<<16|B[L++]<<24;B=F.g[0],L=F.g[1],U=F.g[2];let q=F.g[3],Y;Y=B+(q^L&(U^q))+Q[0]+3614090360&4294967295,B=L+(Y<<7&4294967295|Y>>>25),Y=q+(U^B&(L^U))+Q[1]+3905402710&4294967295,q=B+(Y<<12&4294967295|Y>>>20),Y=U+(L^q&(B^L))+Q[2]+606105819&4294967295,U=q+(Y<<17&4294967295|Y>>>15),Y=L+(B^U&(q^B))+Q[3]+3250441966&4294967295,L=U+(Y<<22&4294967295|Y>>>10),Y=B+(q^L&(U^q))+Q[4]+4118548399&4294967295,B=L+(Y<<7&4294967295|Y>>>25),Y=q+(U^B&(L^U))+Q[5]+1200080426&4294967295,q=B+(Y<<12&4294967295|Y>>>20),Y=U+(L^q&(B^L))+Q[6]+2821735955&4294967295,U=q+(Y<<17&4294967295|Y>>>15),Y=L+(B^U&(q^B))+Q[7]+4249261313&4294967295,L=U+(Y<<22&4294967295|Y>>>10),Y=B+(q^L&(U^q))+Q[8]+1770035416&4294967295,B=L+(Y<<7&4294967295|Y>>>25),Y=q+(U^B&(L^U))+Q[9]+2336552879&4294967295,q=B+(Y<<12&4294967295|Y>>>20),Y=U+(L^q&(B^L))+Q[10]+4294925233&4294967295,U=q+(Y<<17&4294967295|Y>>>15),Y=L+(B^U&(q^B))+Q[11]+2304563134&4294967295,L=U+(Y<<22&4294967295|Y>>>10),Y=B+(q^L&(U^q))+Q[12]+1804603682&4294967295,B=L+(Y<<7&4294967295|Y>>>25),Y=q+(U^B&(L^U))+Q[13]+4254626195&4294967295,q=B+(Y<<12&4294967295|Y>>>20),Y=U+(L^q&(B^L))+Q[14]+2792965006&4294967295,U=q+(Y<<17&4294967295|Y>>>15),Y=L+(B^U&(q^B))+Q[15]+1236535329&4294967295,L=U+(Y<<22&4294967295|Y>>>10),Y=B+(U^q&(L^U))+Q[1]+4129170786&4294967295,B=L+(Y<<5&4294967295|Y>>>27),Y=q+(L^U&(B^L))+Q[6]+3225465664&4294967295,q=B+(Y<<9&4294967295|Y>>>23),Y=U+(B^L&(q^B))+Q[11]+643717713&4294967295,U=q+(Y<<14&4294967295|Y>>>18),Y=L+(q^B&(U^q))+Q[0]+3921069994&4294967295,L=U+(Y<<20&4294967295|Y>>>12),Y=B+(U^q&(L^U))+Q[5]+3593408605&4294967295,B=L+(Y<<5&4294967295|Y>>>27),Y=q+(L^U&(B^L))+Q[10]+38016083&4294967295,q=B+(Y<<9&4294967295|Y>>>23),Y=U+(B^L&(q^B))+Q[15]+3634488961&4294967295,U=q+(Y<<14&4294967295|Y>>>18),Y=L+(q^B&(U^q))+Q[4]+3889429448&4294967295,L=U+(Y<<20&4294967295|Y>>>12),Y=B+(U^q&(L^U))+Q[9]+568446438&4294967295,B=L+(Y<<5&4294967295|Y>>>27),Y=q+(L^U&(B^L))+Q[14]+3275163606&4294967295,q=B+(Y<<9&4294967295|Y>>>23),Y=U+(B^L&(q^B))+Q[3]+4107603335&4294967295,U=q+(Y<<14&4294967295|Y>>>18),Y=L+(q^B&(U^q))+Q[8]+1163531501&4294967295,L=U+(Y<<20&4294967295|Y>>>12),Y=B+(U^q&(L^U))+Q[13]+2850285829&4294967295,B=L+(Y<<5&4294967295|Y>>>27),Y=q+(L^U&(B^L))+Q[2]+4243563512&4294967295,q=B+(Y<<9&4294967295|Y>>>23),Y=U+(B^L&(q^B))+Q[7]+1735328473&4294967295,U=q+(Y<<14&4294967295|Y>>>18),Y=L+(q^B&(U^q))+Q[12]+2368359562&4294967295,L=U+(Y<<20&4294967295|Y>>>12),Y=B+(L^U^q)+Q[5]+4294588738&4294967295,B=L+(Y<<4&4294967295|Y>>>28),Y=q+(B^L^U)+Q[8]+2272392833&4294967295,q=B+(Y<<11&4294967295|Y>>>21),Y=U+(q^B^L)+Q[11]+1839030562&4294967295,U=q+(Y<<16&4294967295|Y>>>16),Y=L+(U^q^B)+Q[14]+4259657740&4294967295,L=U+(Y<<23&4294967295|Y>>>9),Y=B+(L^U^q)+Q[1]+2763975236&4294967295,B=L+(Y<<4&4294967295|Y>>>28),Y=q+(B^L^U)+Q[4]+1272893353&4294967295,q=B+(Y<<11&4294967295|Y>>>21),Y=U+(q^B^L)+Q[7]+4139469664&4294967295,U=q+(Y<<16&4294967295|Y>>>16),Y=L+(U^q^B)+Q[10]+3200236656&4294967295,L=U+(Y<<23&4294967295|Y>>>9),Y=B+(L^U^q)+Q[13]+681279174&4294967295,B=L+(Y<<4&4294967295|Y>>>28),Y=q+(B^L^U)+Q[0]+3936430074&4294967295,q=B+(Y<<11&4294967295|Y>>>21),Y=U+(q^B^L)+Q[3]+3572445317&4294967295,U=q+(Y<<16&4294967295|Y>>>16),Y=L+(U^q^B)+Q[6]+76029189&4294967295,L=U+(Y<<23&4294967295|Y>>>9),Y=B+(L^U^q)+Q[9]+3654602809&4294967295,B=L+(Y<<4&4294967295|Y>>>28),Y=q+(B^L^U)+Q[12]+3873151461&4294967295,q=B+(Y<<11&4294967295|Y>>>21),Y=U+(q^B^L)+Q[15]+530742520&4294967295,U=q+(Y<<16&4294967295|Y>>>16),Y=L+(U^q^B)+Q[2]+3299628645&4294967295,L=U+(Y<<23&4294967295|Y>>>9),Y=B+(U^(L|~q))+Q[0]+4096336452&4294967295,B=L+(Y<<6&4294967295|Y>>>26),Y=q+(L^(B|~U))+Q[7]+1126891415&4294967295,q=B+(Y<<10&4294967295|Y>>>22),Y=U+(B^(q|~L))+Q[14]+2878612391&4294967295,U=q+(Y<<15&4294967295|Y>>>17),Y=L+(q^(U|~B))+Q[5]+4237533241&4294967295,L=U+(Y<<21&4294967295|Y>>>11),Y=B+(U^(L|~q))+Q[12]+1700485571&4294967295,B=L+(Y<<6&4294967295|Y>>>26),Y=q+(L^(B|~U))+Q[3]+2399980690&4294967295,q=B+(Y<<10&4294967295|Y>>>22),Y=U+(B^(q|~L))+Q[10]+4293915773&4294967295,U=q+(Y<<15&4294967295|Y>>>17),Y=L+(q^(U|~B))+Q[1]+2240044497&4294967295,L=U+(Y<<21&4294967295|Y>>>11),Y=B+(U^(L|~q))+Q[8]+1873313359&4294967295,B=L+(Y<<6&4294967295|Y>>>26),Y=q+(L^(B|~U))+Q[15]+4264355552&4294967295,q=B+(Y<<10&4294967295|Y>>>22),Y=U+(B^(q|~L))+Q[6]+2734768916&4294967295,U=q+(Y<<15&4294967295|Y>>>17),Y=L+(q^(U|~B))+Q[13]+1309151649&4294967295,L=U+(Y<<21&4294967295|Y>>>11),Y=B+(U^(L|~q))+Q[4]+4149444226&4294967295,B=L+(Y<<6&4294967295|Y>>>26),Y=q+(L^(B|~U))+Q[11]+3174756917&4294967295,q=B+(Y<<10&4294967295|Y>>>22),Y=U+(B^(q|~L))+Q[2]+718787259&4294967295,U=q+(Y<<15&4294967295|Y>>>17),Y=L+(q^(U|~B))+Q[9]+3951481745&4294967295,F.g[0]=F.g[0]+B&4294967295,F.g[1]=F.g[1]+(U+(Y<<21&4294967295|Y>>>11))&4294967295,F.g[2]=F.g[2]+U&4294967295,F.g[3]=F.g[3]+q&4294967295}r.prototype.v=function(F,B){B===void 0&&(B=F.length);const L=B-this.blockSize,Q=this.C;let U=this.h,q=0;for(;q<B;){if(U==0)for(;q<=L;)i(this,F,q),q+=this.blockSize;if(typeof F=="string"){for(;q<B;)if(Q[U++]=F.charCodeAt(q++),U==this.blockSize){i(this,Q),U=0;break}}else for(;q<B;)if(Q[U++]=F[q++],U==this.blockSize){i(this,Q),U=0;break}}this.h=U,this.o+=B},r.prototype.A=function(){var F=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);F[0]=128;for(var B=1;B<F.length-8;++B)F[B]=0;B=this.o*8;for(var L=F.length-8;L<F.length;++L)F[L]=B&255,B/=256;for(this.v(F),F=Array(16),B=0,L=0;L<4;++L)for(let Q=0;Q<32;Q+=8)F[B++]=this.g[L]>>>Q&255;return F};function s(F,B){var L=u;return Object.prototype.hasOwnProperty.call(L,F)?L[F]:L[F]=B(F)}function o(F,B){this.h=B;const L=[];let Q=!0;for(let U=F.length-1;U>=0;U--){const q=F[U]|0;Q&&q==B||(L[U]=q,Q=!1)}this.g=L}var u={};function f(F){return-128<=F&&F<128?s(F,function(B){return new o([B|0],B<0?-1:0)}):new o([F|0],F<0?-1:0)}function d(F){if(isNaN(F)||!isFinite(F))return w;if(F<0)return M(d(-F));const B=[];let L=1;for(let Q=0;F>=L;Q++)B[Q]=F/L|0,L*=4294967296;return new o(B,0)}function x(F,B){if(F.length==0)throw Error("number format error: empty string");if(B=B||10,B<2||36<B)throw Error("radix out of range: "+B);if(F.charAt(0)=="-")return M(x(F.substring(1),B));if(F.indexOf("-")>=0)throw Error('number format error: interior "-" character');const L=d(Math.pow(B,8));let Q=w;for(let q=0;q<F.length;q+=8){var U=Math.min(8,F.length-q);const Y=parseInt(F.substring(q,q+U),B);U<8?(U=d(Math.pow(B,U)),Q=Q.j(U).add(d(Y))):(Q=Q.j(L),Q=Q.add(d(Y)))}return Q}var w=f(0),A=f(1),E=f(16777216);n=o.prototype,n.m=function(){if(C(this))return-M(this).m();let F=0,B=1;for(let L=0;L<this.g.length;L++){const Q=this.i(L);F+=(Q>=0?Q:4294967296+Q)*B,B*=4294967296}return F},n.toString=function(F){if(F=F||10,F<2||36<F)throw Error("radix out of range: "+F);if(I(this))return"0";if(C(this))return"-"+M(this).toString(F);const B=d(Math.pow(F,6));var L=this;let Q="";for(;;){const U=G(L,B).g;L=j(L,U.j(B));let q=((L.g.length>0?L.g[0]:L.h)>>>0).toString(F);if(L=U,I(L))return q+Q;for(;q.length<6;)q="0"+q;Q=q+Q}},n.i=function(F){return F<0?0:F<this.g.length?this.g[F]:this.h};function I(F){if(F.h!=0)return!1;for(let B=0;B<F.g.length;B++)if(F.g[B]!=0)return!1;return!0}function C(F){return F.h==-1}n.l=function(F){return F=j(this,F),C(F)?-1:I(F)?0:1};function M(F){const B=F.g.length,L=[];for(let Q=0;Q<B;Q++)L[Q]=~F.g[Q];return new o(L,~F.h).add(A)}n.abs=function(){return C(this)?M(this):this},n.add=function(F){const B=Math.max(this.g.length,F.g.length),L=[];let Q=0;for(let U=0;U<=B;U++){let q=Q+(this.i(U)&65535)+(F.i(U)&65535),Y=(q>>>16)+(this.i(U)>>>16)+(F.i(U)>>>16);Q=Y>>>16,q&=65535,Y&=65535,L[U]=Y<<16|q}return new o(L,L[L.length-1]&-2147483648?-1:0)};function j(F,B){return F.add(M(B))}n.j=function(F){if(I(this)||I(F))return w;if(C(this))return C(F)?M(this).j(M(F)):M(M(this).j(F));if(C(F))return M(this.j(M(F)));if(this.l(E)<0&&F.l(E)<0)return d(this.m()*F.m());const B=this.g.length+F.g.length,L=[];for(var Q=0;Q<2*B;Q++)L[Q]=0;for(Q=0;Q<this.g.length;Q++)for(let U=0;U<F.g.length;U++){const q=this.i(Q)>>>16,Y=this.i(Q)&65535,ne=F.i(U)>>>16,pe=F.i(U)&65535;L[2*Q+2*U]+=Y*pe,W(L,2*Q+2*U),L[2*Q+2*U+1]+=q*pe,W(L,2*Q+2*U+1),L[2*Q+2*U+1]+=Y*ne,W(L,2*Q+2*U+1),L[2*Q+2*U+2]+=q*ne,W(L,2*Q+2*U+2)}for(F=0;F<B;F++)L[F]=L[2*F+1]<<16|L[2*F];for(F=B;F<2*B;F++)L[F]=0;return new o(L,0)};function W(F,B){for(;(F[B]&65535)!=F[B];)F[B+1]+=F[B]>>>16,F[B]&=65535,B++}function k(F,B){this.g=F,this.h=B}function G(F,B){if(I(B))throw Error("division by zero");if(I(F))return new k(w,w);if(C(F))return B=G(M(F),B),new k(M(B.g),M(B.h));if(C(B))return B=G(F,M(B)),new k(M(B.g),B.h);if(F.g.length>30){if(C(F)||C(B))throw Error("slowDivide_ only works with positive integers.");for(var L=A,Q=B;Q.l(F)<=0;)L=ce(L),Q=ce(Q);var U=re(L,1),q=re(Q,1);for(Q=re(Q,2),L=re(L,2);!I(Q);){var Y=q.add(Q);Y.l(F)<=0&&(U=U.add(L),q=Y),Q=re(Q,1),L=re(L,1)}return B=j(F,U.j(B)),new k(U,B)}for(U=w;F.l(B)>=0;){for(L=Math.max(1,Math.floor(F.m()/B.m())),Q=Math.ceil(Math.log(L)/Math.LN2),Q=Q<=48?1:Math.pow(2,Q-48),q=d(L),Y=q.j(B);C(Y)||Y.l(F)>0;)L-=Q,q=d(L),Y=q.j(B);I(q)&&(q=A),U=U.add(q),F=j(F,Y)}return new k(U,F)}n.B=function(F){return G(this,F).h},n.and=function(F){const B=Math.max(this.g.length,F.g.length),L=[];for(let Q=0;Q<B;Q++)L[Q]=this.i(Q)&F.i(Q);return new o(L,this.h&F.h)},n.or=function(F){const B=Math.max(this.g.length,F.g.length),L=[];for(let Q=0;Q<B;Q++)L[Q]=this.i(Q)|F.i(Q);return new o(L,this.h|F.h)},n.xor=function(F){const B=Math.max(this.g.length,F.g.length),L=[];for(let Q=0;Q<B;Q++)L[Q]=this.i(Q)^F.i(Q);return new o(L,this.h^F.h)};function ce(F){const B=F.g.length+1,L=[];for(let Q=0;Q<B;Q++)L[Q]=F.i(Q)<<1|F.i(Q-1)>>>31;return new o(L,F.h)}function re(F,B){const L=B>>5;B%=32;const Q=F.g.length-L,U=[];for(let q=0;q<Q;q++)U[q]=B>0?F.i(q+L)>>>B|F.i(q+L+1)<<32-B:F.i(q+L);return new o(U,F.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,kC=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=x,Hh=o}).apply(typeof wE<"u"?wE:typeof self<"u"?self:typeof window<"u"?window:{});var Hg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var PC,F1,jC,Ap,wy,FC,BC,UC;(function(){var n,e=Object.defineProperty;function t(S){S=[typeof globalThis=="object"&&globalThis,S,typeof window=="object"&&window,typeof self=="object"&&self,typeof Hg=="object"&&Hg];for(var K=0;K<S.length;++K){var ie=S[K];if(ie&&ie.Math==Math)return ie}throw Error("Cannot find global object")}var r=t(this);function i(S,K){if(K)e:{var ie=r;S=S.split(".");for(var Se=0;Se<S.length-1;Se++){var st=S[Se];if(!(st in ie))break e;ie=ie[st]}S=S[S.length-1],Se=ie[S],K=K(Se),K!=Se&&K!=null&&e(ie,S,{configurable:!0,writable:!0,value:K})}}i("Symbol.dispose",function(S){return S||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(S){return S||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(S){return S||function(K){var ie=[],Se;for(Se in K)Object.prototype.hasOwnProperty.call(K,Se)&&ie.push([Se,K[Se]]);return ie}});var s=s||{},o=this||self;function u(S){var K=typeof S;return K=="object"&&S!=null||K=="function"}function f(S,K,ie){return S.call.apply(S.bind,arguments)}function d(S,K,ie){return d=f,d.apply(null,arguments)}function x(S,K){var ie=Array.prototype.slice.call(arguments,1);return function(){var Se=ie.slice();return Se.push.apply(Se,arguments),S.apply(this,Se)}}function w(S,K){function ie(){}ie.prototype=K.prototype,S.Z=K.prototype,S.prototype=new ie,S.prototype.constructor=S,S.Ob=function(Se,st,vt){for(var nn=Array(arguments.length-2),rr=2;rr<arguments.length;rr++)nn[rr-2]=arguments[rr];return K.prototype[st].apply(Se,nn)}}var A=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?S=>S&&AsyncContext.Snapshot.wrap(S):S=>S;function E(S){const K=S.length;if(K>0){const ie=Array(K);for(let Se=0;Se<K;Se++)ie[Se]=S[Se];return ie}return[]}function I(S,K){for(let Se=1;Se<arguments.length;Se++){const st=arguments[Se];var ie=typeof st;if(ie=ie!="object"?ie:st?Array.isArray(st)?"array":ie:"null",ie=="array"||ie=="object"&&typeof st.length=="number"){ie=S.length||0;const vt=st.length||0;S.length=ie+vt;for(let nn=0;nn<vt;nn++)S[ie+nn]=st[nn]}else S.push(st)}}class C{constructor(K,ie){this.i=K,this.j=ie,this.h=0,this.g=null}get(){let K;return this.h>0?(this.h--,K=this.g,this.g=K.next,K.next=null):K=this.i(),K}}function M(S){o.setTimeout(()=>{throw S},0)}function j(){var S=F;let K=null;return S.g&&(K=S.g,S.g=S.g.next,S.g||(S.h=null),K.next=null),K}class W{constructor(){this.h=this.g=null}add(K,ie){const Se=k.get();Se.set(K,ie),this.h?this.h.next=Se:this.g=Se,this.h=Se}}var k=new C(()=>new G,S=>S.reset());class G{constructor(){this.next=this.g=this.h=null}set(K,ie){this.h=K,this.g=ie,this.next=null}reset(){this.next=this.g=this.h=null}}let ce,re=!1,F=new W,B=()=>{const S=Promise.resolve(void 0);ce=()=>{S.then(L)}};function L(){for(var S;S=j();){try{S.h.call(S.g)}catch(ie){M(ie)}var K=k;K.j(S),K.h<100&&(K.h++,S.next=K.g,K.g=S)}re=!1}function Q(){this.u=this.u,this.C=this.C}Q.prototype.u=!1,Q.prototype.dispose=function(){this.u||(this.u=!0,this.N())},Q.prototype[Symbol.dispose]=function(){this.dispose()},Q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function U(S,K){this.type=S,this.g=this.target=K,this.defaultPrevented=!1}U.prototype.h=function(){this.defaultPrevented=!0};var q=(function(){if(!o.addEventListener||!Object.defineProperty)return!1;var S=!1,K=Object.defineProperty({},"passive",{get:function(){S=!0}});try{const ie=()=>{};o.addEventListener("test",ie,K),o.removeEventListener("test",ie,K)}catch{}return S})();function Y(S){return/^[\s\xa0]*$/.test(S)}function ne(S,K){U.call(this,S?S.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,S&&this.init(S,K)}w(ne,U),ne.prototype.init=function(S,K){const ie=this.type=S.type,Se=S.changedTouches&&S.changedTouches.length?S.changedTouches[0]:null;this.target=S.target||S.srcElement,this.g=K,K=S.relatedTarget,K||(ie=="mouseover"?K=S.fromElement:ie=="mouseout"&&(K=S.toElement)),this.relatedTarget=K,Se?(this.clientX=Se.clientX!==void 0?Se.clientX:Se.pageX,this.clientY=Se.clientY!==void 0?Se.clientY:Se.pageY,this.screenX=Se.screenX||0,this.screenY=Se.screenY||0):(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0),this.button=S.button,this.key=S.key||"",this.ctrlKey=S.ctrlKey,this.altKey=S.altKey,this.shiftKey=S.shiftKey,this.metaKey=S.metaKey,this.pointerId=S.pointerId||0,this.pointerType=S.pointerType,this.state=S.state,this.i=S,S.defaultPrevented&&ne.Z.h.call(this)},ne.prototype.h=function(){ne.Z.h.call(this);const S=this.i;S.preventDefault?S.preventDefault():S.returnValue=!1};var pe="closure_listenable_"+(Math.random()*1e6|0),Ae=0;function ve(S,K,ie,Se,st){this.listener=S,this.proxy=null,this.src=K,this.type=ie,this.capture=!!Se,this.ha=st,this.key=++Ae,this.da=this.fa=!1}function Re(S){S.da=!0,S.listener=null,S.proxy=null,S.src=null,S.ha=null}function He(S,K,ie){for(const Se in S)K.call(ie,S[Se],Se,S)}function ze(S,K){for(const ie in S)K.call(void 0,S[ie],ie,S)}function xe(S){const K={};for(const ie in S)K[ie]=S[ie];return K}const H="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function J(S,K){let ie,Se;for(let st=1;st<arguments.length;st++){Se=arguments[st];for(ie in Se)S[ie]=Se[ie];for(let vt=0;vt<H.length;vt++)ie=H[vt],Object.prototype.hasOwnProperty.call(Se,ie)&&(S[ie]=Se[ie])}}function Z(S){this.src=S,this.g={},this.h=0}Z.prototype.add=function(S,K,ie,Se,st){const vt=S.toString();S=this.g[vt],S||(S=this.g[vt]=[],this.h++);const nn=de(S,K,Se,st);return nn>-1?(K=S[nn],ie||(K.fa=!1)):(K=new ve(K,this.src,vt,!!Se,st),K.fa=ie,S.push(K)),K};function oe(S,K){const ie=K.type;if(ie in S.g){var Se=S.g[ie],st=Array.prototype.indexOf.call(Se,K,void 0),vt;(vt=st>=0)&&Array.prototype.splice.call(Se,st,1),vt&&(Re(K),S.g[ie].length==0&&(delete S.g[ie],S.h--))}}function de(S,K,ie,Se){for(let st=0;st<S.length;++st){const vt=S[st];if(!vt.da&&vt.listener==K&&vt.capture==!!ie&&vt.ha==Se)return st}return-1}var Me="closure_lm_"+(Math.random()*1e6|0),Ue={};function Ve(S,K,ie,Se,st){if(Array.isArray(K)){for(let vt=0;vt<K.length;vt++)Ve(S,K[vt],ie,Se,st);return null}return ie=At(ie),S&&S[pe]?S.J(K,ie,u(Se)?!!Se.capture:!1,st):Ie(S,K,ie,!1,Se,st)}function Ie(S,K,ie,Se,st,vt){if(!K)throw Error("Invalid event type");const nn=u(st)?!!st.capture:!!st;let rr=ot(S);if(rr||(S[Me]=rr=new Z(S)),ie=rr.add(K,ie,Se,nn,vt),ie.proxy)return ie;if(Se=nt(),ie.proxy=Se,Se.src=S,Se.listener=ie,S.addEventListener)q||(st=nn),st===void 0&&(st=!1),S.addEventListener(K.toString(),Se,st);else if(S.attachEvent)S.attachEvent(Rt(K.toString()),Se);else if(S.addListener&&S.removeListener)S.addListener(Se);else throw Error("addEventListener and attachEvent are unavailable.");return ie}function nt(){function S(ie){return K.call(S.src,S.listener,ie)}const K=le;return S}function Tt(S,K,ie,Se,st){if(Array.isArray(K))for(var vt=0;vt<K.length;vt++)Tt(S,K[vt],ie,Se,st);else Se=u(Se)?!!Se.capture:!!Se,ie=At(ie),S&&S[pe]?(S=S.i,vt=String(K).toString(),vt in S.g&&(K=S.g[vt],ie=de(K,ie,Se,st),ie>-1&&(Re(K[ie]),Array.prototype.splice.call(K,ie,1),K.length==0&&(delete S.g[vt],S.h--)))):S&&(S=ot(S))&&(K=S.g[K.toString()],S=-1,K&&(S=de(K,ie,Se,st)),(ie=S>-1?K[S]:null)&&St(ie))}function St(S){if(typeof S!="number"&&S&&!S.da){var K=S.src;if(K&&K[pe])oe(K.i,S);else{var ie=S.type,Se=S.proxy;K.removeEventListener?K.removeEventListener(ie,Se,S.capture):K.detachEvent?K.detachEvent(Rt(ie),Se):K.addListener&&K.removeListener&&K.removeListener(Se),(ie=ot(K))?(oe(ie,S),ie.h==0&&(ie.src=null,K[Me]=null)):Re(S)}}}function Rt(S){return S in Ue?Ue[S]:Ue[S]="on"+S}function le(S,K){if(S.da)S=!0;else{K=new ne(K,this);const ie=S.listener,Se=S.ha||S.src;S.fa&&St(S),S=ie.call(Se,K)}return S}function ot(S){return S=S[Me],S instanceof Z?S:null}var Ge="__closure_events_fn_"+(Math.random()*1e9>>>0);function At(S){return typeof S=="function"?S:(S[Ge]||(S[Ge]=function(K){return S.handleEvent(K)}),S[Ge])}function Je(){Q.call(this),this.i=new Z(this),this.M=this,this.G=null}w(Je,Q),Je.prototype[pe]=!0,Je.prototype.removeEventListener=function(S,K,ie,Se){Tt(this,S,K,ie,Se)};function Zt(S,K){var ie,Se=S.G;if(Se)for(ie=[];Se;Se=Se.G)ie.push(Se);if(S=S.M,Se=K.type||K,typeof K=="string")K=new U(K,S);else if(K instanceof U)K.target=K.target||S;else{var st=K;K=new U(Se,S),J(K,st)}st=!0;let vt,nn;if(ie)for(nn=ie.length-1;nn>=0;nn--)vt=K.g=ie[nn],st=Xe(vt,Se,!0,K)&&st;if(vt=K.g=S,st=Xe(vt,Se,!0,K)&&st,st=Xe(vt,Se,!1,K)&&st,ie)for(nn=0;nn<ie.length;nn++)vt=K.g=ie[nn],st=Xe(vt,Se,!1,K)&&st}Je.prototype.N=function(){if(Je.Z.N.call(this),this.i){var S=this.i;for(const K in S.g){const ie=S.g[K];for(let Se=0;Se<ie.length;Se++)Re(ie[Se]);delete S.g[K],S.h--}}this.G=null},Je.prototype.J=function(S,K,ie,Se){return this.i.add(String(S),K,!1,ie,Se)},Je.prototype.K=function(S,K,ie,Se){return this.i.add(String(S),K,!0,ie,Se)};function Xe(S,K,ie,Se){if(K=S.i.g[String(K)],!K)return!0;K=K.concat();let st=!0;for(let vt=0;vt<K.length;++vt){const nn=K[vt];if(nn&&!nn.da&&nn.capture==ie){const rr=nn.listener,hi=nn.ha||nn.src;nn.fa&&oe(S.i,nn),st=rr.call(hi,Se)!==!1&&st}}return st&&!Se.defaultPrevented}function Ft(S,K){if(typeof S!="function")if(S&&typeof S.handleEvent=="function")S=d(S.handleEvent,S);else throw Error("Invalid listener argument");return Number(K)>2147483647?-1:o.setTimeout(S,K||0)}function fn(S){S.g=Ft(()=>{S.g=null,S.i&&(S.i=!1,fn(S))},S.l);const K=S.h;S.h=null,S.m.apply(null,K)}class tn extends Q{constructor(K,ie){super(),this.m=K,this.l=ie,this.h=null,this.i=!1,this.g=null}j(K){this.h=arguments,this.g?this.i=!0:fn(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function yn(S){Q.call(this),this.h=S,this.g={}}w(yn,Q);var cn=[];function wn(S){He(S.g,function(K,ie){this.g.hasOwnProperty(ie)&&St(K)},S),S.g={}}yn.prototype.N=function(){yn.Z.N.call(this),wn(this)},yn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var gn=o.JSON.stringify,sn=o.JSON.parse,bn=class{stringify(S){return o.JSON.stringify(S,void 0)}parse(S){return o.JSON.parse(S,void 0)}};function un(){}function nr(){}var rn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function dt(){U.call(this,"d")}w(dt,U);function Gt(){U.call(this,"c")}w(Gt,U);var It={},ln=null;function Xn(){return ln=ln||new Je}It.Ia="serverreachability";function mt(S){U.call(this,It.Ia,S)}w(mt,U);function Xt(S){const K=Xn();Zt(K,new mt(K))}It.STAT_EVENT="statevent";function on(S,K){U.call(this,It.STAT_EVENT,S),this.stat=K}w(on,U);function hn(S){const K=Xn();Zt(K,new on(K,S))}It.Ja="timingevent";function dn(S,K){U.call(this,It.Ja,S),this.size=K}w(dn,U);function Zn(S,K){if(typeof S!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){S()},K)}function Dr(){this.g=!0}Dr.prototype.ua=function(){this.g=!1};function li(S,K,ie,Se,st,vt){S.info(function(){if(S.g)if(vt){var nn="",rr=vt.split("&");for(let _r=0;_r<rr.length;_r++){var hi=rr[_r].split("=");if(hi.length>1){const Yr=hi[0];hi=hi[1];const ps=Yr.split("_");nn=ps.length>=2&&ps[1]=="type"?nn+(Yr+"="+hi+"&"):nn+(Yr+"=redacted&")}}}else nn=null;else nn=vt;return"XMLHTTP REQ ("+Se+") [attempt "+st+"]: "+K+`
`+ie+`
`+nn})}function Lr(S,K,ie,Se,st,vt,nn){S.info(function(){return"XMLHTTP RESP ("+Se+") [ attempt "+st+"]: "+K+`
`+ie+`
`+vt+" "+nn})}function Kr(S,K,ie,Se){S.info(function(){return"XMLHTTP TEXT ("+K+"): "+Ci(S,ie)+(Se?" "+Se:"")})}function On(S,K){S.info(function(){return"TIMEOUT: "+K})}Dr.prototype.info=function(){};function Ci(S,K){if(!S.g)return K;if(!K)return null;try{const vt=JSON.parse(K);if(vt){for(S=0;S<vt.length;S++)if(Array.isArray(vt[S])){var ie=vt[S];if(!(ie.length<2)){var Se=ie[1];if(Array.isArray(Se)&&!(Se.length<1)){var st=Se[0];if(st!="noop"&&st!="stop"&&st!="close")for(let nn=1;nn<Se.length;nn++)Se[nn]=""}}}}return gn(vt)}catch{return K}}var Qi={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Qr={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Hi;function lr(){}w(lr,un),lr.prototype.g=function(){return new XMLHttpRequest},Hi=new lr;function Rr(S){return encodeURIComponent(String(S))}function ge(S){var K=1;S=S.split(":");const ie=[];for(;K>0&&S.length;)ie.push(S.shift()),K--;return S.length&&ie.push(S.join(":")),ie}function be(S,K,ie,Se){this.j=S,this.i=K,this.l=ie,this.S=Se||1,this.V=new yn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Te}function Te(){this.i=null,this.g="",this.h=!1}var Ce={},Oe={};function ke(S,K,ie){S.M=1,S.A=Vs(Ri(K)),S.u=ie,S.R=!0,it(S,null)}function it(S,K){S.F=Date.now(),ht(S),S.B=Ri(S.A);var ie=S.B,Se=S.S;Array.isArray(Se)||(Se=[String(Se)]),Zr(ie.i,"t",Se),S.C=0,ie=S.j.L,S.h=new Te,S.g=Nn(S.j,ie?K:null,!S.u),S.P>0&&(S.O=new tn(d(S.Y,S,S.g),S.P)),K=S.V,ie=S.g,Se=S.ba;var st="readystatechange";Array.isArray(st)||(st&&(cn[0]=st.toString()),st=cn);for(let vt=0;vt<st.length;vt++){const nn=Ve(ie,st[vt],Se||K.handleEvent,!1,K.h||K);if(!nn)break;K.g[nn.key]=nn}K=S.J?xe(S.J):{},S.u?(S.v||(S.v="POST"),K["Content-Type"]="application/x-www-form-urlencoded",S.g.ea(S.B,S.v,S.u,K)):(S.v="GET",S.g.ea(S.B,S.v,null,K)),Xt(),li(S.i,S.v,S.B,S.l,S.S,S.u)}be.prototype.ba=function(S){S=S.target;const K=this.O;K&&ia(S)==3?K.j():this.Y(S)},be.prototype.Y=function(S){try{if(S==this.g)e:{const rr=ia(this.g),hi=this.g.ya(),_r=this.g.ca();if(!(rr<3)&&(rr!=3||this.g&&(this.h.h||this.g.la()||xi(this.g)))){this.K||rr!=4||hi==7||(hi==8||_r<=0?Xt(3):Xt(2)),Ot(this);var K=this.g.ca();this.X=K;var ie=Et(this);if(this.o=K==200,Lr(this.i,this.v,this.B,this.l,this.S,rr,K),this.o){if(this.U&&!this.L){t:{if(this.g){var Se,st=this.g;if((Se=st.g?st.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Y(Se)){var vt=Se;break t}}vt=null}if(S=vt)Kr(this.i,this.l,S,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,en(this,S);else{this.o=!1,this.m=3,hn(12),yt(this),Lt(this);break e}}if(this.R){S=!0;let Yr;for(;!this.K&&this.C<ie.length;)if(Yr=lt(this,ie),Yr==Oe){rr==4&&(this.m=4,hn(14),S=!1),Kr(this.i,this.l,null,"[Incomplete Response]");break}else if(Yr==Ce){this.m=4,hn(15),Kr(this.i,this.l,ie,"[Invalid Chunk]"),S=!1;break}else Kr(this.i,this.l,Yr,null),en(this,Yr);if(et(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),rr!=4||ie.length!=0||this.h.h||(this.m=1,hn(16),S=!1),this.o=this.o&&S,!S)Kr(this.i,this.l,ie,"[Invalid Chunked Response]"),yt(this),Lt(this);else if(ie.length>0&&!this.W){this.W=!0;var nn=this.j;nn.g==this&&nn.aa&&!nn.P&&(nn.j.info("Great, no buffering proxy detected. Bytes received: "+ie.length),wt(nn),nn.P=!0,hn(11))}}else Kr(this.i,this.l,ie,null),en(this,ie);rr==4&&yt(this),this.o&&!this.K&&(rr==4?je(this.j,this):(this.o=!1,ht(this)))}else sa(this.g),K==400&&ie.indexOf("Unknown SID")>0?(this.m=3,hn(12)):(this.m=0,hn(13)),yt(this),Lt(this)}}}catch{}finally{}};function Et(S){if(!et(S))return S.g.la();const K=xi(S.g);if(K==="")return"";let ie="";const Se=K.length,st=ia(S.g)==4;if(!S.h.i){if(typeof TextDecoder>"u")return yt(S),Lt(S),"";S.h.i=new o.TextDecoder}for(let vt=0;vt<Se;vt++)S.h.h=!0,ie+=S.h.i.decode(K[vt],{stream:!(st&&vt==Se-1)});return K.length=0,S.h.g+=ie,S.C=0,S.h.g}function et(S){return S.g?S.v=="GET"&&S.M!=2&&S.j.Aa:!1}function lt(S,K){var ie=S.C,Se=K.indexOf(`
`,ie);return Se==-1?Oe:(ie=Number(K.substring(ie,Se)),isNaN(ie)?Ce:(Se+=1,Se+ie>K.length?Oe:(K=K.slice(Se,Se+ie),S.C=Se+ie,K)))}be.prototype.cancel=function(){this.K=!0,yt(this)};function ht(S){S.T=Date.now()+S.H,Ht(S,S.H)}function Ht(S,K){if(S.D!=null)throw Error("WatchDog timer not null");S.D=Zn(d(S.aa,S),K)}function Ot(S){S.D&&(o.clearTimeout(S.D),S.D=null)}be.prototype.aa=function(){this.D=null;const S=Date.now();S-this.T>=0?(On(this.i,this.B),this.M!=2&&(Xt(),hn(17)),yt(this),this.m=2,Lt(this)):Ht(this,this.T-S)};function Lt(S){S.j.I==0||S.K||je(S.j,S)}function yt(S){Ot(S);var K=S.O;K&&typeof K.dispose=="function"&&K.dispose(),S.O=null,wn(S.V),S.g&&(K=S.g,S.g=null,K.abort(),K.dispose())}function en(S,K){try{var ie=S.j;if(ie.I!=0&&(ie.g==S||Ii(ie.h,S))){if(!S.L&&Ii(ie.h,S)&&ie.I==3){try{var Se=ie.Ba.g.parse(K)}catch{Se=null}if(Array.isArray(Se)&&Se.length==3){var st=Se;if(st[0]==0){e:if(!ie.v){if(ie.g)if(ie.g.F+3e3<S.F)ue(ie),ro(ie);else break e;io(ie),hn(18)}}else ie.xa=st[1],0<ie.xa-ie.K&&st[2]<37500&&ie.F&&ie.A==0&&!ie.C&&(ie.C=Zn(d(ie.Va,ie),6e3));Kn(ie.h)<=1&&ie.ta&&(ie.ta=void 0)}else tt(ie,11)}else if((S.L||ie.g==S)&&ue(ie),!Y(K))for(st=ie.Ba.g.parse(K),K=0;K<st.length;K++){let _r=st[K];const Yr=_r[0];if(!(Yr<=ie.K))if(ie.K=Yr,_r=_r[1],ie.I==2)if(_r[0]=="c"){ie.M=_r[1],ie.ba=_r[2];const ps=_r[3];ps!=null&&(ie.ka=ps,ie.j.info("VER="+ie.ka));const zs=_r[4];zs!=null&&(ie.za=zs,ie.j.info("SVER="+ie.za));const Ur=_r[5];Ur!=null&&typeof Ur=="number"&&Ur>0&&(Se=1.5*Ur,ie.O=Se,ie.j.info("backChannelRequestTimeoutMs_="+Se)),Se=ie;const xs=S.g;if(xs){const so=xs.g?xs.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(so){var vt=Se.h;vt.g||so.indexOf("spdy")==-1&&so.indexOf("quic")==-1&&so.indexOf("h2")==-1||(vt.j=vt.l,vt.g=new Set,vt.h&&(xa(vt,vt.h),vt.h=null))}if(Se.G){const Pa=xs.g?xs.g.getResponseHeader("X-HTTP-Session-Id"):null;Pa&&(Se.wa=Pa,Gn(Se.J,Se.G,Pa))}}ie.I=3,ie.l&&ie.l.ra(),ie.aa&&(ie.T=Date.now()-S.F,ie.j.info("Handshake RTT: "+ie.T+"ms")),Se=ie;var nn=S;if(Se.na=Kt(Se,Se.L?Se.ba:null,Se.W),nn.L){fr(Se.h,nn);var rr=nn,hi=Se.O;hi&&(rr.H=hi),rr.D&&(Ot(rr),ht(rr)),Se.g=nn}else ka(Se);ie.i.length>0&&La(ie)}else _r[0]!="stop"&&_r[0]!="close"||tt(ie,7);else ie.I==3&&(_r[0]=="stop"||_r[0]=="close"?_r[0]=="stop"?tt(ie,7):Fo(ie):_r[0]!="noop"&&ie.l&&ie.l.qa(_r),ie.A=0)}}Xt(4)}catch{}}var Tn=class{constructor(S,K){this.g=S,this.map=K}};function Nt(S){this.l=S||10,o.PerformanceNavigationTiming?(S=o.performance.getEntriesByType("navigation"),S=S.length>0&&(S[0].nextHopProtocol=="hq"||S[0].nextHopProtocol=="h2")):S=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=S?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function vr(S){return S.h?!0:S.g?S.g.size>=S.j:!1}function Kn(S){return S.h?1:S.g?S.g.size:0}function Ii(S,K){return S.h?S.h==K:S.g?S.g.has(K):!1}function xa(S,K){S.g?S.g.add(K):S.h=K}function fr(S,K){S.h&&S.h==K?S.h=null:S.g&&S.g.has(K)&&S.g.delete(K)}Nt.prototype.cancel=function(){if(this.i=or(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const S of this.g.values())S.cancel();this.g.clear()}};function or(S){if(S.h!=null)return S.i.concat(S.h.G);if(S.g!=null&&S.g.size!==0){let K=S.i;for(const ie of S.g.values())K=K.concat(ie.G);return K}return E(S.i)}var cr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ci(S,K){if(S){S=S.split("&");for(let ie=0;ie<S.length;ie++){const Se=S[ie].indexOf("=");let st,vt=null;Se>=0?(st=S[ie].substring(0,Se),vt=S[ie].substring(Se+1)):st=S[ie],K(st,vt?decodeURIComponent(vt.replace(/\+/g," ")):"")}}}function os(S){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let K;S instanceof os?(this.l=S.l,Hn(this,S.j),this.o=S.o,this.g=S.g,As(this,S.u),this.h=S.h,Ma(this,vl(S.i)),this.m=S.m):S&&(K=String(S).match(cr))?(this.l=!1,Hn(this,K[1]||"",!0),this.o=$i(K[2]||""),this.g=$i(K[3]||"",!0),As(this,K[4]),this.h=$i(K[5]||"",!0),Ma(this,K[6]||"",!0),this.m=$i(K[7]||"")):(this.l=!1,this.i=new qi(null,this.l))}os.prototype.toString=function(){const S=[];var K=this.j;K&&S.push($r(K,Oi,!0),":");var ie=this.g;return(ie||K=="file")&&(S.push("//"),(K=this.o)&&S.push($r(K,Oi,!0),"@"),S.push(Rr(ie).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),ie=this.u,ie!=null&&S.push(":",String(ie))),(ie=this.h)&&(this.g&&ie.charAt(0)!="/"&&S.push("/"),S.push($r(ie,ie.charAt(0)=="/"?Le:ut,!0))),(ie=this.i.toString())&&S.push("?",ie),(ie=this.m)&&S.push("#",$r(ie,Di)),S.join("")},os.prototype.resolve=function(S){const K=Ri(this);let ie=!!S.j;ie?Hn(K,S.j):ie=!!S.o,ie?K.o=S.o:ie=!!S.g,ie?K.g=S.g:ie=S.u!=null;var Se=S.h;if(ie)As(K,S.u);else if(ie=!!S.h){if(Se.charAt(0)!="/")if(this.g&&!this.h)Se="/"+Se;else{var st=K.h.lastIndexOf("/");st!=-1&&(Se=K.h.slice(0,st+1)+Se)}if(st=Se,st==".."||st==".")Se="";else if(st.indexOf("./")!=-1||st.indexOf("/.")!=-1){Se=st.lastIndexOf("/",0)==0,st=st.split("/");const vt=[];for(let nn=0;nn<st.length;){const rr=st[nn++];rr=="."?Se&&nn==st.length&&vt.push(""):rr==".."?((vt.length>1||vt.length==1&&vt[0]!="")&&vt.pop(),Se&&nn==st.length&&vt.push("")):(vt.push(rr),Se=!0)}Se=vt.join("/")}else Se=st}return ie?K.h=Se:ie=S.i.toString()!=="",ie?Ma(K,vl(S.i)):ie=!!S.m,ie&&(K.m=S.m),K};function Ri(S){return new os(S)}function Hn(S,K,ie){S.j=ie?$i(K,!0):K,S.j&&(S.j=S.j.replace(/:$/,""))}function As(S,K){if(K){if(K=Number(K),isNaN(K)||K<0)throw Error("Bad port number "+K);S.u=K}else S.u=null}function Ma(S,K,ie){K instanceof qi?(S.i=K,Ts(S.i,S.l)):(ie||(K=$r(K,En)),S.i=new qi(K,S.l))}function Gn(S,K,ie){S.i.set(K,ie)}function Vs(S){return Gn(S,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),S}function $i(S,K){return S?K?decodeURI(S.replace(/%25/g,"%2525")):decodeURIComponent(S):""}function $r(S,K,ie){return typeof S=="string"?(S=encodeURI(S).replace(K,sr),ie&&(S=S.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S):null}function sr(S){return S=S.charCodeAt(0),"%"+(S>>4&15).toString(16)+(S&15).toString(16)}var Oi=/[#\/\?@]/g,ut=/[#\?:]/g,Le=/[#\?]/g,En=/[#\?@]/g,Di=/#/g;function qi(S,K){this.h=this.g=null,this.i=S||null,this.j=!!K}function ms(S){S.g||(S.g=new Map,S.h=0,S.i&&ci(S.i,function(K,ie){S.add(decodeURIComponent(K.replace(/\+/g," ")),ie)}))}n=qi.prototype,n.add=function(S,K){ms(this),this.i=null,S=Po(this,S);let ie=this.g.get(S);return ie||this.g.set(S,ie=[]),ie.push(K),this.h+=1,this};function vo(S,K){ms(S),K=Po(S,K),S.g.has(K)&&(S.i=null,S.h-=S.g.get(K).length,S.g.delete(K))}function Ss(S,K){return ms(S),K=Po(S,K),S.g.has(K)}n.forEach=function(S,K){ms(this),this.g.forEach(function(ie,Se){ie.forEach(function(st){S.call(K,st,Se,this)},this)},this)};function jn(S,K){ms(S);let ie=[];if(typeof K=="string")Ss(S,K)&&(ie=ie.concat(S.g.get(Po(S,K))));else for(S=Array.from(S.g.values()),K=0;K<S.length;K++)ie=ie.concat(S[K]);return ie}n.set=function(S,K){return ms(this),this.i=null,S=Po(this,S),Ss(this,S)&&(this.h-=this.g.get(S).length),this.g.set(S,[K]),this.h+=1,this},n.get=function(S,K){return S?(S=jn(this,S),S.length>0?String(S[0]):K):K};function Zr(S,K,ie){vo(S,K),ie.length>0&&(S.i=null,S.g.set(Po(S,K),E(ie)),S.h+=ie.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const S=[],K=Array.from(this.g.keys());for(let Se=0;Se<K.length;Se++){var ie=K[Se];const st=Rr(ie);ie=jn(this,ie);for(let vt=0;vt<ie.length;vt++){let nn=st;ie[vt]!==""&&(nn+="="+Rr(ie[vt])),S.push(nn)}}return this.i=S.join("&")};function vl(S){const K=new qi;return K.i=S.i,S.g&&(K.g=new Map(S.g),K.h=S.h),K}function Po(S,K){return K=String(K),S.j&&(K=K.toLowerCase()),K}function Ts(S,K){K&&!S.j&&(ms(S),S.i=null,S.g.forEach(function(ie,Se){const st=Se.toLowerCase();Se!=st&&(vo(this,Se),Zr(this,st,ie))},S)),S.j=K}function ea(S,K){const ie=new Dr;if(o.Image){const Se=new Image;Se.onload=x(ta,ie,"TestLoadImage: loaded",!0,K,Se),Se.onerror=x(ta,ie,"TestLoadImage: error",!1,K,Se),Se.onabort=x(ta,ie,"TestLoadImage: abort",!1,K,Se),Se.ontimeout=x(ta,ie,"TestLoadImage: timeout",!1,K,Se),o.setTimeout(function(){Se.ontimeout&&Se.ontimeout()},1e4),Se.src=S}else K(!1)}function eo(S,K){const ie=new Dr,Se=new AbortController,st=setTimeout(()=>{Se.abort(),ta(ie,"TestPingServer: timeout",!1,K)},1e4);fetch(S,{signal:Se.signal}).then(vt=>{clearTimeout(st),vt.ok?ta(ie,"TestPingServer: ok",!0,K):ta(ie,"TestPingServer: server error",!1,K)}).catch(()=>{clearTimeout(st),ta(ie,"TestPingServer: error",!1,K)})}function ta(S,K,ie,Se,st){try{st&&(st.onload=null,st.onerror=null,st.onabort=null,st.ontimeout=null),Se(ie)}catch{}}function ui(){this.g=new bn}function Fn(S){this.i=S.Sb||null,this.h=S.ab||!1}w(Fn,un),Fn.prototype.g=function(){return new na(this.i,this.h)};function na(S,K){Je.call(this),this.H=S,this.o=K,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(na,Je),n=na.prototype,n.open=function(S,K){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=S,this.D=K,this.readyState=1,Bn(this)},n.send=function(S){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const K={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};S&&(K.body=S),(this.H||o).fetch(new Request(this.D,K)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Qo(this)),this.readyState=0},n.Pa=function(S){if(this.g&&(this.l=S,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=S.headers,this.readyState=2,Bn(this)),this.g&&(this.readyState=3,Bn(this),this.g)))if(this.responseType==="arraybuffer")S.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in S){if(this.j=S.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Vn(this)}else S.text().then(this.Oa.bind(this),this.ga.bind(this))};function Vn(S){S.j.read().then(S.Ma.bind(S)).catch(S.ga.bind(S))}n.Ma=function(S){if(this.g){if(this.o&&S.value)this.response.push(S.value);else if(!this.o){var K=S.value?S.value:new Uint8Array(0);(K=this.B.decode(K,{stream:!S.done}))&&(this.response=this.responseText+=K)}S.done?Qo(this):Bn(this),this.readyState==3&&Vn(this)}},n.Oa=function(S){this.g&&(this.response=this.responseText=S,Qo(this))},n.Na=function(S){this.g&&(this.response=S,Qo(this))},n.ga=function(){this.g&&Qo(this)};function Qo(S){S.readyState=4,S.l=null,S.j=null,S.B=null,Bn(S)}n.setRequestHeader=function(S,K){this.A.append(S,K)},n.getResponseHeader=function(S){return this.h&&this.h.get(S.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const S=[],K=this.h.entries();for(var ie=K.next();!ie.done;)ie=ie.value,S.push(ie[0]+": "+ie[1]),ie=K.next();return S.join(`\r
`)};function Bn(S){S.onreadystatechange&&S.onreadystatechange.call(S)}Object.defineProperty(na.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(S){this.m=S?"include":"same-origin"}});function Nr(S){let K="";return He(S,function(ie,Se){K+=Se,K+=":",K+=ie,K+=`\r
`}),K}function _l(S,K,ie){e:{for(Se in ie){var Se=!1;break e}Se=!0}Se||(ie=Nr(ie),typeof S=="string"?ie!=null&&Rr(ie):Gn(S,K,ie))}function Fr(S){Je.call(this),this.headers=new Map,this.L=S||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(Fr,Je);var ra=/^https?$/i,va=["POST","PUT"];n=Fr.prototype,n.Fa=function(S){this.H=S},n.ea=function(S,K,ie,Se){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+S);K=K?K.toUpperCase():"GET",this.D=S,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Hi.g(),this.g.onreadystatechange=A(d(this.Ca,this));try{this.B=!0,this.g.open(K,String(S),!0),this.B=!1}catch(vt){to(this,vt);return}if(S=ie||"",ie=new Map(this.headers),Se)if(Object.getPrototypeOf(Se)===Object.prototype)for(var st in Se)ie.set(st,Se[st]);else if(typeof Se.keys=="function"&&typeof Se.get=="function")for(const vt of Se.keys())ie.set(vt,Se.get(vt));else throw Error("Unknown input type for opt_headers: "+String(Se));Se=Array.from(ie.keys()).find(vt=>vt.toLowerCase()=="content-type"),st=o.FormData&&S instanceof o.FormData,!(Array.prototype.indexOf.call(va,K,void 0)>=0)||Se||st||ie.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[vt,nn]of ie)this.g.setRequestHeader(vt,nn);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(S),this.v=!1}catch(vt){to(this,vt)}};function to(S,K){S.h=!1,S.g&&(S.j=!0,S.g.abort(),S.j=!1),S.l=K,S.o=5,jo(S),_a(S)}function jo(S){S.A||(S.A=!0,Zt(S,"complete"),Zt(S,"error"))}n.abort=function(S){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=S||7,Zt(this,"complete"),Zt(this,"abort"),_a(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),_a(this,!0)),Fr.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?gs(this):this.Xa())},n.Xa=function(){gs(this)};function gs(S){if(S.h&&typeof s<"u"){if(S.v&&ia(S)==4)setTimeout(S.Ca.bind(S),0);else if(Zt(S,"readystatechange"),ia(S)==4){S.h=!1;try{const vt=S.ca();e:switch(vt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var K=!0;break e;default:K=!1}var ie;if(!(ie=K)){var Se;if(Se=vt===0){let nn=String(S.D).match(cr)[1]||null;!nn&&o.self&&o.self.location&&(nn=o.self.location.protocol.slice(0,-1)),Se=!ra.test(nn?nn.toLowerCase():"")}ie=Se}if(ie)Zt(S,"complete"),Zt(S,"success");else{S.o=6;try{var st=ia(S)>2?S.g.statusText:""}catch{st=""}S.l=st+" ["+S.ca()+"]",jo(S)}}finally{_a(S)}}}}function _a(S,K){if(S.g){S.m&&(clearTimeout(S.m),S.m=null);const ie=S.g;S.g=null,K||Zt(S,"ready");try{ie.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function ia(S){return S.g?S.g.readyState:0}n.ca=function(){try{return ia(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(S){if(this.g){var K=this.g.responseText;return S&&K.indexOf(S)==0&&(K=K.substring(S.length)),sn(K)}};function xi(S){try{if(!S.g)return null;if("response"in S.g)return S.g.response;switch(S.F){case"":case"text":return S.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in S.g)return S.g.mozResponseArrayBuffer}return null}catch{return null}}function sa(S){const K={};S=(S.g&&ia(S)>=2&&S.g.getAllResponseHeaders()||"").split(`\r
`);for(let Se=0;Se<S.length;Se++){if(Y(S[Se]))continue;var ie=ge(S[Se]);const st=ie[0];if(ie=ie[1],typeof ie!="string")continue;ie=ie.trim();const vt=K[st]||[];K[st]=vt,vt.push(ie)}ze(K,function(Se){return Se.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Wr(S,K,ie){return ie&&ie.internalChannelParams&&ie.internalChannelParams[S]||K}function no(S){this.za=0,this.i=[],this.j=new Dr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Wr("failFast",!1,S),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Wr("baseRetryDelayMs",5e3,S),this.Za=Wr("retryDelaySeedMs",1e4,S),this.Ta=Wr("forwardChannelMaxRetries",2,S),this.va=Wr("forwardChannelRequestTimeoutMs",2e4,S),this.ma=S&&S.xmlHttpFactory||void 0,this.Ua=S&&S.Rb||void 0,this.Aa=S&&S.useFetchStreams||!1,this.O=void 0,this.L=S&&S.supportsCrossDomainXhr||!1,this.M="",this.h=new Nt(S&&S.concurrentRequestLimit),this.Ba=new ui,this.S=S&&S.fastHandshake||!1,this.R=S&&S.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=S&&S.Pb||!1,S&&S.ua&&this.j.ua(),S&&S.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&S&&S.detectBufferingProxy||!1,this.ia=void 0,S&&S.longPollingTimeout&&S.longPollingTimeout>0&&(this.ia=S.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=no.prototype,n.ka=8,n.I=1,n.connect=function(S,K,ie,Se){hn(0),this.W=S,this.H=K||{},ie&&Se!==void 0&&(this.H.OSID=ie,this.H.OAID=Se),this.F=this.X,this.J=Kt(this,null,this.W),La(this)};function Fo(S){if(_o(S),S.I==3){var K=S.V++,ie=Ri(S.J);if(Gn(ie,"SID",S.M),Gn(ie,"RID",K),Gn(ie,"TYPE","terminate"),aa(S,ie),K=new be(S,S.j,K),K.M=2,K.A=Vs(Ri(ie)),ie=!1,o.navigator&&o.navigator.sendBeacon)try{ie=o.navigator.sendBeacon(K.A.toString(),"")}catch{}!ie&&o.Image&&(new Image().src=K.A,ie=!0),ie||(K.g=Nn(K.j,null),K.g.ea(K.A)),K.F=Date.now(),ht(K)}kt(S)}function ro(S){S.g&&(wt(S),S.g.cancel(),S.g=null)}function _o(S){ro(S),S.v&&(o.clearTimeout(S.v),S.v=null),ue(S),S.h.cancel(),S.m&&(typeof S.m=="number"&&o.clearTimeout(S.m),S.m=null)}function La(S){if(!vr(S.h)&&!S.m){S.m=!0;var K=S.Ea;ce||B(),re||(ce(),re=!0),F.add(K,S),S.D=0}}function yl(S,K){return Kn(S.h)>=S.h.j-(S.m?1:0)?!1:S.m?(S.i=K.G.concat(S.i),!0):S.I==1||S.I==2||S.D>=(S.Sa?0:S.Ta)?!1:(S.m=Zn(d(S.Ea,S,K),Ye(S,S.D)),S.D++,!0)}n.Ea=function(S){if(this.m)if(this.m=null,this.I==1){if(!S){this.V=Math.floor(Math.random()*1e5),S=this.V++;const st=new be(this,this.j,S);let vt=this.o;if(this.U&&(vt?(vt=xe(vt),J(vt,this.U)):vt=this.U),this.u!==null||this.R||(st.J=vt,vt=null),this.S)e:{for(var K=0,ie=0;ie<this.i.length;ie++){t:{var Se=this.i[ie];if("__data__"in Se.map&&(Se=Se.map.__data__,typeof Se=="string")){Se=Se.length;break t}Se=void 0}if(Se===void 0)break;if(K+=Se,K>4096){K=ie;break e}if(K===4096||ie===this.i.length-1){K=ie+1;break e}}K=1e3}else K=1e3;K=ya(this,st,K),ie=Ri(this.J),Gn(ie,"RID",S),Gn(ie,"CVER",22),this.G&&Gn(ie,"X-HTTP-Session-Id",this.G),aa(this,ie),vt&&(this.R?K="headers="+Rr(Nr(vt))+"&"+K:this.u&&_l(ie,this.u,vt)),xa(this.h,st),this.Ra&&Gn(ie,"TYPE","init"),this.S?(Gn(ie,"$req",K),Gn(ie,"SID","null"),st.U=!0,ke(st,ie,null)):ke(st,ie,K),this.I=2}}else this.I==3&&(S?Or(this,S):this.i.length==0||vr(this.h)||Or(this))};function Or(S,K){var ie;K?ie=K.l:ie=S.V++;const Se=Ri(S.J);Gn(Se,"SID",S.M),Gn(Se,"RID",ie),Gn(Se,"AID",S.K),aa(S,Se),S.u&&S.o&&_l(Se,S.u,S.o),ie=new be(S,S.j,ie,S.D+1),S.u===null&&(ie.J=S.o),K&&(S.i=K.G.concat(S.i)),K=ya(S,ie,1e3),ie.H=Math.round(S.va*.5)+Math.round(S.va*.5*Math.random()),xa(S.h,ie),ke(ie,Se,K)}function aa(S,K){S.H&&He(S.H,function(ie,Se){Gn(K,Se,ie)}),S.l&&He({},function(ie,Se){Gn(K,Se,ie)})}function ya(S,K,ie){ie=Math.min(S.i.length,ie);const Se=S.l?d(S.l.Ka,S.l,S):null;e:{var st=S.i;let rr=-1;for(;;){const hi=["count="+ie];rr==-1?ie>0?(rr=st[0].g,hi.push("ofs="+rr)):rr=0:hi.push("ofs="+rr);let _r=!0;for(let Yr=0;Yr<ie;Yr++){var vt=st[Yr].g;const ps=st[Yr].map;if(vt-=rr,vt<0)rr=Math.max(0,st[Yr].g-100),_r=!1;else try{vt="req"+vt+"_"||"";try{var nn=ps instanceof Map?ps:Object.entries(ps);for(const[zs,Ur]of nn){let xs=Ur;u(Ur)&&(xs=gn(Ur)),hi.push(vt+zs+"="+encodeURIComponent(xs))}}catch(zs){throw hi.push(vt+"type="+encodeURIComponent("_badmap")),zs}}catch{Se&&Se(ps)}}if(_r){nn=hi.join("&");break e}}nn=void 0}return S=S.i.splice(0,ie),K.G=S,nn}function ka(S){if(!S.g&&!S.v){S.Y=1;var K=S.Da;ce||B(),re||(ce(),re=!0),F.add(K,S),S.A=0}}function io(S){return S.g||S.v||S.A>=3?!1:(S.Y++,S.v=Zn(d(S.Da,S),Ye(S,S.A)),S.A++,!0)}n.Da=function(){if(this.v=null,V(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var S=4*this.T;this.j.info("BP detection timer enabled: "+S),this.B=Zn(d(this.Wa,this),S)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,hn(10),ro(this),V(this))};function wt(S){S.B!=null&&(o.clearTimeout(S.B),S.B=null)}function V(S){S.g=new be(S,S.j,"rpc",S.Y),S.u===null&&(S.g.J=S.o),S.g.P=0;var K=Ri(S.na);Gn(K,"RID","rpc"),Gn(K,"SID",S.M),Gn(K,"AID",S.K),Gn(K,"CI",S.F?"0":"1"),!S.F&&S.ia&&Gn(K,"TO",S.ia),Gn(K,"TYPE","xmlhttp"),aa(S,K),S.u&&S.o&&_l(K,S.u,S.o),S.O&&(S.g.H=S.O);var ie=S.g;S=S.ba,ie.M=1,ie.A=Vs(Ri(K)),ie.u=null,ie.R=!0,it(ie,S)}n.Va=function(){this.C!=null&&(this.C=null,ro(this),io(this),hn(19))};function ue(S){S.C!=null&&(o.clearTimeout(S.C),S.C=null)}function je(S,K){var ie=null;if(S.g==K){ue(S),wt(S),S.g=null;var Se=2}else if(Ii(S.h,K))ie=K.G,fr(S.h,K),Se=1;else return;if(S.I!=0){if(K.o)if(Se==1){ie=K.u?K.u.length:0,K=Date.now()-K.F;var st=S.D;Se=Xn(),Zt(Se,new dn(Se,ie)),La(S)}else ka(S);else if(st=K.m,st==3||st==0&&K.X>0||!(Se==1&&yl(S,K)||Se==2&&io(S)))switch(ie&&ie.length>0&&(K=S.h,K.i=K.i.concat(ie)),st){case 1:tt(S,5);break;case 4:tt(S,10);break;case 3:tt(S,6);break;default:tt(S,2)}}}function Ye(S,K){let ie=S.Qa+Math.floor(Math.random()*S.Za);return S.isActive()||(ie*=2),ie*K}function tt(S,K){if(S.j.info("Error code "+K),K==2){var ie=d(S.bb,S),Se=S.Ua;const st=!Se;Se=new os(Se||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Hn(Se,"https"),Vs(Se),st?ea(Se.toString(),ie):eo(Se.toString(),ie)}else hn(2);S.I=0,S.l&&S.l.pa(K),kt(S),_o(S)}n.bb=function(S){S?(this.j.info("Successfully pinged google.com"),hn(2)):(this.j.info("Failed to ping google.com"),hn(1))};function kt(S){if(S.I=0,S.ja=[],S.l){const K=or(S.h);(K.length!=0||S.i.length!=0)&&(I(S.ja,K),I(S.ja,S.i),S.h.i.length=0,E(S.i),S.i.length=0),S.l.oa()}}function Kt(S,K,ie){var Se=ie instanceof os?Ri(ie):new os(ie);if(Se.g!="")K&&(Se.g=K+"."+Se.g),As(Se,Se.u);else{var st=o.location;Se=st.protocol,K=K?K+"."+st.hostname:st.hostname,st=+st.port;const vt=new os(null);Se&&Hn(vt,Se),K&&(vt.g=K),st&&As(vt,st),ie&&(vt.h=ie),Se=vt}return ie=S.G,K=S.wa,ie&&K&&Gn(Se,ie,K),Gn(Se,"VER",S.ka),aa(S,Se),Se}function Nn(S,K,ie){if(K&&!S.L)throw Error("Can't create secondary domain capable XhrIo object.");return K=S.Aa&&!S.ma?new Fr(new Fn({ab:ie})):new Fr(S.ma),K.Fa(S.L),K}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function pn(){}n=pn.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function qn(){}qn.prototype.g=function(S,K){return new _n(S,K)};function _n(S,K){Je.call(this),this.g=new no(K),this.l=S,this.h=K&&K.messageUrlParams||null,S=K&&K.messageHeaders||null,K&&K.clientProtocolHeaderRequired&&(S?S["X-Client-Protocol"]="webchannel":S={"X-Client-Protocol":"webchannel"}),this.g.o=S,S=K&&K.initMessageHeaders||null,K&&K.messageContentType&&(S?S["X-WebChannel-Content-Type"]=K.messageContentType:S={"X-WebChannel-Content-Type":K.messageContentType}),K&&K.sa&&(S?S["X-WebChannel-Client-Profile"]=K.sa:S={"X-WebChannel-Client-Profile":K.sa}),this.g.U=S,(S=K&&K.Qb)&&!Y(S)&&(this.g.u=S),this.A=K&&K.supportsCrossDomainXhr||!1,this.v=K&&K.sendRawJson||!1,(K=K&&K.httpSessionIdParam)&&!Y(K)&&(this.g.G=K,S=this.h,S!==null&&K in S&&(S=this.h,K in S&&delete S[K])),this.j=new Wn(this)}w(_n,Je),_n.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},_n.prototype.close=function(){Fo(this.g)},_n.prototype.o=function(S){var K=this.g;if(typeof S=="string"){var ie={};ie.__data__=S,S=ie}else this.v&&(ie={},ie.__data__=gn(S),S=ie);K.i.push(new Tn(K.Ya++,S)),K.I==3&&La(K)},_n.prototype.N=function(){this.g.l=null,delete this.j,Fo(this.g),delete this.g,_n.Z.N.call(this)};function Ar(S){dt.call(this),S.__headers__&&(this.headers=S.__headers__,this.statusCode=S.__status__,delete S.__headers__,delete S.__status__);var K=S.__sm__;if(K){e:{for(const ie in K){S=ie;break e}S=void 0}(this.i=S)&&(S=this.i,K=K!==null&&S in K?K[S]:void 0),this.data=K}else this.data=S}w(Ar,dt);function Br(){Gt.call(this),this.status=1}w(Br,Gt);function Wn(S){this.g=S}w(Wn,pn),Wn.prototype.ra=function(){Zt(this.g,"a")},Wn.prototype.qa=function(S){Zt(this.g,new Ar(S))},Wn.prototype.pa=function(S){Zt(this.g,new Br)},Wn.prototype.oa=function(){Zt(this.g,"b")},qn.prototype.createWebChannel=qn.prototype.g,_n.prototype.send=_n.prototype.o,_n.prototype.open=_n.prototype.m,_n.prototype.close=_n.prototype.close,UC=function(){return new qn},BC=function(){return Xn()},FC=It,wy={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Qi.NO_ERROR=0,Qi.TIMEOUT=8,Qi.HTTP_ERROR=6,Ap=Qi,Qr.COMPLETE="complete",jC=Qr,nr.EventType=rn,rn.OPEN="a",rn.CLOSE="b",rn.ERROR="c",rn.MESSAGE="d",Je.prototype.listen=Je.prototype.J,F1=nr,Fr.prototype.listenOnce=Fr.prototype.K,Fr.prototype.getLastError=Fr.prototype.Ha,Fr.prototype.getLastErrorCode=Fr.prototype.ya,Fr.prototype.getStatus=Fr.prototype.ca,Fr.prototype.getResponseJson=Fr.prototype.La,Fr.prototype.getResponseText=Fr.prototype.la,Fr.prototype.send=Fr.prototype.ea,Fr.prototype.setWithCredentials=Fr.prototype.Fa,PC=Fr}).apply(typeof Hg<"u"?Hg:typeof self<"u"?self:typeof window<"u"?window:{});const bE="@firebase/firestore",EE="4.9.3";class Ro{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ro.UNAUTHENTICATED=new Ro(null),Ro.GOOGLE_CREDENTIALS=new Ro("google-credentials-uid"),Ro.FIRST_PARTY=new Ro("first-party-uid"),Ro.MOCK_USER=new Ro("mock-user");let j0="12.7.0";const Ff=new Cw("@firebase/firestore");function Jd(){return Ff.logLevel}function Rn(n,...e){if(Ff.logLevel<=Hr.DEBUG){const t=e.map(Rw);Ff.debug(`Firestore (${j0}): ${n}`,...t)}}function Ku(n,...e){if(Ff.logLevel<=Hr.ERROR){const t=e.map(Rw);Ff.error(`Firestore (${j0}): ${n}`,...t)}}function Bf(n,...e){if(Ff.logLevel<=Hr.WARN){const t=e.map(Rw);Ff.warn(`Firestore (${j0}): ${n}`,...t)}}function Rw(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function ur(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,VC(n,r,t)}function VC(n,e,t){let r=`FIRESTORE (${j0}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Ku(r),new Error(r)}function pi(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||VC(e,i,r)}function Er(n,e){return n}const Wt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Sn extends fu{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Vu{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class zC{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class HC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Ro.UNAUTHENTICATED)))}shutdown(){}}class ZP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class JP{constructor(e){this.t=e,this.currentUser=Ro.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){pi(this.o===void 0,42304);let r=this.i;const i=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let s=new Vu;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Vu,e.enqueueRetryable((()=>i(this.currentUser)))};const o=()=>{const f=s;e.enqueueRetryable((async()=>{await f.promise,await i(this.currentUser)}))},u=f=>{Rn("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((f=>u(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?u(f):(Rn("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Vu)}}),0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(Rn("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(pi(typeof r.accessToken=="string",31837,{l:r}),new zC(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return pi(e===null||typeof e=="string",2055,{h:e}),new Ro(e)}}class ej{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Ro.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class tj{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new ej(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Ro.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class AE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class nj{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Zl(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){pi(this.o===void 0,3512);const r=s=>{s.error!=null&&Rn("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,Rn("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable((()=>r(s)))};const i=s=>{Rn("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((s=>i(s))),setTimeout((()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):Rn("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new AE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(pi(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new AE(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function rj(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class B2{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=rj(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%62))}return r}}function qr(n,e){return n<e?-1:n>e?1:0}function by(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const i=n.charAt(r),s=e.charAt(r);if(i!==s)return Zv(i)===Zv(s)?qr(i,s):Zv(i)?1:-1}return qr(n.length,e.length)}const ij=55296,sj=57343;function Zv(n){const e=n.charCodeAt(0);return e>=ij&&e<=sj}function A0(n,e,t){return n.length===e.length&&n.every(((r,i)=>t(r,e[i])))}const SE="__name__";class $c{constructor(e,t,r){t===void 0?t=0:t>e.length&&ur(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&ur(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return $c.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof $c?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=$c.compareSegments(e.get(i),t.get(i));if(s!==0)return s}return qr(e.length,t.length)}static compareSegments(e,t){const r=$c.isNumericId(e),i=$c.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?$c.extractNumericId(e).compare($c.extractNumericId(t)):by(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Hh.fromString(e.substring(4,e.length-2))}}class Xi extends $c{construct(e,t,r){return new Xi(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Sn(Wt.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((i=>i.length>0)))}return new Xi(t)}static emptyPath(){return new Xi([])}}const aj=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xa extends $c{construct(e,t,r){return new Xa(e,t,r)}static isValidIdentifier(e){return aj.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xa.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===SE}static keyField(){return new Xa([SE])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Sn(Wt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let o=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new Sn(Wt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[i+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new Sn(Wt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,i+=2}else u==="`"?(o=!o,i++):u!=="."||o?(r+=u,i++):(s(),i++)}if(s(),o)throw new Sn(Wt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xa(t)}static emptyPath(){return new Xa([])}}class $n{constructor(e){this.path=e}static fromPath(e){return new $n(Xi.fromString(e))}static fromName(e){return new $n(Xi.fromString(e).popFirst(5))}static empty(){return new $n(Xi.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Xi.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Xi.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new $n(new Xi(e.slice()))}}function qC(n,e,t){if(!t)throw new Sn(Wt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function GC(n,e,t,r){if(e===!0&&r===!0)throw new Sn(Wt.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function TE(n){if(!$n.isDocumentKey(n))throw new Sn(Wt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function NE(n){if($n.isDocumentKey(n))throw new Sn(Wt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function WC(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function U2(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":ur(12329,{type:typeof n})}function Yo(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Sn(Wt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=U2(n);throw new Sn(Wt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function ma(n,e){const t={typeString:n};return e&&(t.value=e),t}function Im(n,e){if(!WC(n))throw new Sn(Wt.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const o=n[r];if(i&&typeof o!==i){t=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&o!==s.value){t=`Expected '${r}' field to equal '${s.value}'`;break}}if(t)throw new Sn(Wt.INVALID_ARGUMENT,t);return!0}const CE=-62135596800,IE=1e6;class Ki{static now(){return Ki.fromMillis(Date.now())}static fromDate(e){return Ki.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*IE);return new Ki(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Sn(Wt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Sn(Wt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<CE)throw new Sn(Wt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Sn(Wt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/IE}_compareTo(e){return this.seconds===e.seconds?qr(this.nanoseconds,e.nanoseconds):qr(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ki._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Im(e,Ki._jsonSchema))return new Ki(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-CE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ki._jsonSchemaVersion="firestore/timestamp/1.0",Ki._jsonSchema={type:ma("string",Ki._jsonSchemaVersion),seconds:ma("number"),nanoseconds:ma("number")};class xr{static fromTimestamp(e){return new xr(e)}static min(){return new xr(new Ki(0,0))}static max(){return new xr(new Ki(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const cm=-1;function oj(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=xr.fromTimestamp(r===1e9?new Ki(t+1,0):new Ki(t,r));return new Yh(i,$n.empty(),e)}function lj(n){return new Yh(n.readTime,n.key,cm)}class Yh{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Yh(xr.min(),$n.empty(),cm)}static max(){return new Yh(xr.max(),$n.empty(),cm)}}function cj(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=$n.comparator(n.documentKey,e.documentKey),t!==0?t:qr(n.largestBatchId,e.largestBatchId))}const uj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class hj{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function F0(n){if(n.code!==Wt.FAILED_PRECONDITION||n.message!==uj)throw n;Rn("LocalStore","Unexpectedly lost primary lease")}class $t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ur(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new $t(((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof $t?t:$t.resolve(t)}catch(t){return $t.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):$t.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):$t.reject(t)}static resolve(e){return new $t(((t,r)=>{t(e)}))}static reject(e){return new $t(((t,r)=>{r(e)}))}static waitFor(e){return new $t(((t,r)=>{let i=0,s=0,o=!1;e.forEach((u=>{++i,u.next((()=>{++s,o&&s===i&&t()}),(f=>r(f)))})),o=!0,s===i&&t()}))}static or(e){let t=$t.resolve(!1);for(const r of e)t=t.next((i=>i?$t.resolve(i):r()));return t}static forEach(e,t){const r=[];return e.forEach(((i,s)=>{r.push(t.call(this,i,s))})),this.waitFor(r)}static mapArray(e,t){return new $t(((r,i)=>{const s=e.length,o=new Array(s);let u=0;for(let f=0;f<s;f++){const d=f;t(e[d]).next((x=>{o[d]=x,++u,u===s&&r(o)}),(x=>i(x)))}}))}static doWhile(e,t){return new $t(((r,i)=>{const s=()=>{e()===!0?t().next((()=>{s()}),i):r()};s()}))}}function fj(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function B0(n){return n.name==="IndexedDbTransactionError"}class V2{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}V2.ce=-1;const Ow=-1;function z2(n){return n==null}function qp(n){return n===0&&1/n==-1/0}function dj(n){return typeof n=="number"&&Number.isInteger(n)&&!qp(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const YC="";function mj(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=RE(e)),e=gj(n.get(t),e);return RE(e)}function gj(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const s=n.charAt(i);switch(s){case"\0":t+="";break;case YC:t+="";break;default:t+=s}}return t}function RE(n){return n+YC+""}function OE(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function sf(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function XC(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Es{constructor(e,t){this.comparator=e,this.root=t||fo.EMPTY}insert(e,t){return new Es(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,fo.BLACK,null,null))}remove(e){return new Es(this.comparator,this.root.remove(e,this.comparator).copy(null,null,fo.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new qg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new qg(this.root,e,this.comparator,!1)}getReverseIterator(){return new qg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new qg(this.root,e,this.comparator,!0)}}class qg{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class fo{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??fo.RED,this.left=i??fo.EMPTY,this.right=s??fo.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new fo(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):s===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return fo.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return fo.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,fo.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,fo.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ur(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ur(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ur(27949);return e+(this.isRed()?0:1)}}fo.EMPTY=null,fo.RED=!0,fo.BLACK=!1;fo.EMPTY=new class{constructor(){this.size=0}get key(){throw ur(57766)}get value(){throw ur(16141)}get color(){throw ur(16727)}get left(){throw ur(29726)}get right(){throw ur(36894)}copy(e,t,r,i,s){return this}insert(e,t,r){return new fo(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ra{constructor(e){this.comparator=e,this.data=new Es(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new DE(this.data.getIterator())}getIteratorFrom(e){return new DE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof Ra)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Ra(this.comparator);return t.data=e,t}}class DE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ll{constructor(e){this.fields=e,e.sort(Xa.comparator)}static empty(){return new Ll([])}unionWith(e){let t=new Ra(Xa.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Ll(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return A0(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}class KC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Za{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new KC("Invalid base64 string: "+s):s}})(e);return new Za(t)}static fromUint8Array(e){const t=(function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s})(e);return new Za(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qr(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Za.EMPTY_BYTE_STRING=new Za("");const pj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xh(n){if(pi(!!n,39018),typeof n=="string"){let e=0;const t=pj.exec(n);if(pi(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ks(n.seconds),nanos:Ks(n.nanos)}}function Ks(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Kh(n){return typeof n=="string"?Za.fromBase64String(n):Za.fromUint8Array(n)}const QC="server_timestamp",$C="__type__",ZC="__previous_value__",JC="__local_write_time__";function Dw(n){return(n?.mapValue?.fields||{})[$C]?.stringValue===QC}function H2(n){const e=n.mapValue.fields[ZC];return Dw(e)?H2(e):e}function um(n){const e=Xh(n.mapValue.fields[JC].timestampValue);return new Ki(e.seconds,e.nanos)}class xj{constructor(e,t,r,i,s,o,u,f,d,x){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.longPollingOptions=f,this.useFetchStreams=d,this.isUsingEmulator=x}}const Gp="(default)";class S0{constructor(e,t){this.projectId=e,this.database=t||Gp}static empty(){return new S0("","")}get isDefaultDatabase(){return this.database===Gp}isEqual(e){return e instanceof S0&&e.projectId===this.projectId&&e.database===this.database}}const e6="__type__",vj="__max__",Gg={mapValue:{}},t6="__vector__",Wp="value";function Qh(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Dw(n)?4:yj(n)?9007199254740991:_j(n)?10:11:ur(28295,{value:n})}function iu(n,e){if(n===e)return!0;const t=Qh(n);if(t!==Qh(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return um(n).isEqual(um(e));case 3:return(function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Xh(i.timestampValue),u=Xh(s.timestampValue);return o.seconds===u.seconds&&o.nanos===u.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(i,s){return Kh(i.bytesValue).isEqual(Kh(s.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(i,s){return Ks(i.geoPointValue.latitude)===Ks(s.geoPointValue.latitude)&&Ks(i.geoPointValue.longitude)===Ks(s.geoPointValue.longitude)})(n,e);case 2:return(function(i,s){if("integerValue"in i&&"integerValue"in s)return Ks(i.integerValue)===Ks(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Ks(i.doubleValue),u=Ks(s.doubleValue);return o===u?qp(o)===qp(u):isNaN(o)&&isNaN(u)}return!1})(n,e);case 9:return A0(n.arrayValue.values||[],e.arrayValue.values||[],iu);case 10:case 11:return(function(i,s){const o=i.mapValue.fields||{},u=s.mapValue.fields||{};if(OE(o)!==OE(u))return!1;for(const f in o)if(o.hasOwnProperty(f)&&(u[f]===void 0||!iu(o[f],u[f])))return!1;return!0})(n,e);default:return ur(52216,{left:n})}}function hm(n,e){return(n.values||[]).find((t=>iu(t,e)))!==void 0}function T0(n,e){if(n===e)return 0;const t=Qh(n),r=Qh(e);if(t!==r)return qr(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return qr(n.booleanValue,e.booleanValue);case 2:return(function(s,o){const u=Ks(s.integerValue||s.doubleValue),f=Ks(o.integerValue||o.doubleValue);return u<f?-1:u>f?1:u===f?0:isNaN(u)?isNaN(f)?0:-1:1})(n,e);case 3:return ME(n.timestampValue,e.timestampValue);case 4:return ME(um(n),um(e));case 5:return by(n.stringValue,e.stringValue);case 6:return(function(s,o){const u=Kh(s),f=Kh(o);return u.compareTo(f)})(n.bytesValue,e.bytesValue);case 7:return(function(s,o){const u=s.split("/"),f=o.split("/");for(let d=0;d<u.length&&d<f.length;d++){const x=qr(u[d],f[d]);if(x!==0)return x}return qr(u.length,f.length)})(n.referenceValue,e.referenceValue);case 8:return(function(s,o){const u=qr(Ks(s.latitude),Ks(o.latitude));return u!==0?u:qr(Ks(s.longitude),Ks(o.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return LE(n.arrayValue,e.arrayValue);case 10:return(function(s,o){const u=s.fields||{},f=o.fields||{},d=u[Wp]?.arrayValue,x=f[Wp]?.arrayValue,w=qr(d?.values?.length||0,x?.values?.length||0);return w!==0?w:LE(d,x)})(n.mapValue,e.mapValue);case 11:return(function(s,o){if(s===Gg.mapValue&&o===Gg.mapValue)return 0;if(s===Gg.mapValue)return 1;if(o===Gg.mapValue)return-1;const u=s.fields||{},f=Object.keys(u),d=o.fields||{},x=Object.keys(d);f.sort(),x.sort();for(let w=0;w<f.length&&w<x.length;++w){const A=by(f[w],x[w]);if(A!==0)return A;const E=T0(u[f[w]],d[x[w]]);if(E!==0)return E}return qr(f.length,x.length)})(n.mapValue,e.mapValue);default:throw ur(23264,{he:t})}}function ME(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return qr(n,e);const t=Xh(n),r=Xh(e),i=qr(t.seconds,r.seconds);return i!==0?i:qr(t.nanos,r.nanos)}function LE(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const s=T0(t[i],r[i]);if(s)return s}return qr(t.length,r.length)}function N0(n){return Ey(n)}function Ey(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=Xh(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Kh(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return $n.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",i=!0;for(const s of t.values||[])i?i=!1:r+=",",r+=Ey(s);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Ey(t.fields[o])}`;return i+"}"})(n.mapValue):ur(61005,{value:n})}function Sp(n){switch(Qh(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=H2(n);return e?16+Sp(e):16;case 5:return 2*n.stringValue.length;case 6:return Kh(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,s)=>i+Sp(s)),0)})(n.arrayValue);case 10:case 11:return(function(r){let i=0;return sf(r.fields,((s,o)=>{i+=s.length+Sp(o)})),i})(n.mapValue);default:throw ur(13486,{value:n})}}function kE(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Ay(n){return!!n&&"integerValue"in n}function Mw(n){return!!n&&"arrayValue"in n}function PE(n){return!!n&&"nullValue"in n}function jE(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Tp(n){return!!n&&"mapValue"in n}function _j(n){return(n?.mapValue?.fields||{})[e6]?.stringValue===t6}function G1(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return sf(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=G1(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=G1(n.arrayValue.values[t]);return e}return{...n}}function yj(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===vj}class dl{constructor(e){this.value=e}static empty(){return new dl({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Tp(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=G1(t)}setAll(e){let t=Xa.emptyPath(),r={},i=[];e.forEach(((o,u)=>{if(!t.isImmediateParentOf(u)){const f=this.getFieldsMap(t);this.applyChanges(f,r,i),r={},i=[],t=u.popLast()}o?r[u.lastSegment()]=G1(o):i.push(u.lastSegment())}));const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());Tp(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return iu(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Tp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){sf(t,((i,s)=>e[i]=s));for(const i of r)delete e[i]}clone(){return new dl(G1(this.value))}}function n6(n){const e=[];return sf(n.fields,((t,r)=>{const i=new Xa([t]);if(Tp(r)){const s=n6(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)})),new Ll(e)}class Oo{constructor(e,t,r,i,s,o,u){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=u}static newInvalidDocument(e){return new Oo(e,0,xr.min(),xr.min(),xr.min(),dl.empty(),0)}static newFoundDocument(e,t,r,i){return new Oo(e,1,t,xr.min(),r,i,0)}static newNoDocument(e,t){return new Oo(e,2,t,xr.min(),xr.min(),dl.empty(),0)}static newUnknownDocument(e,t){return new Oo(e,3,t,xr.min(),xr.min(),dl.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(xr.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=dl.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=dl.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xr.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Oo&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Oo(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Yp{constructor(e,t){this.position=e,this.inclusive=t}}function FE(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],o=n.position[i];if(s.field.isKeyField()?r=$n.comparator($n.fromName(o.referenceValue),t.key):r=T0(o,t.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function BE(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!iu(n.position[t],e.position[t]))return!1;return!0}class fm{constructor(e,t="asc"){this.field=e,this.dir=t}}function wj(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class r6{}class da extends r6{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new Ej(e,t,r):t==="array-contains"?new Tj(e,r):t==="in"?new Nj(e,r):t==="not-in"?new Cj(e,r):t==="array-contains-any"?new Ij(e,r):new da(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new Aj(e,r):new Sj(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(T0(t,this.value)):t!==null&&Qh(this.value)===Qh(t)&&this.matchesComparison(T0(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ur(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Tc extends r6{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Tc(e,t)}matches(e){return i6(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function i6(n){return n.op==="and"}function s6(n){return bj(n)&&i6(n)}function bj(n){for(const e of n.filters)if(e instanceof Tc)return!1;return!0}function Sy(n){if(n instanceof da)return n.field.canonicalString()+n.op.toString()+N0(n.value);if(s6(n))return n.filters.map((e=>Sy(e))).join(",");{const e=n.filters.map((t=>Sy(t))).join(",");return`${n.op}(${e})`}}function a6(n,e){return n instanceof da?(function(r,i){return i instanceof da&&r.op===i.op&&r.field.isEqual(i.field)&&iu(r.value,i.value)})(n,e):n instanceof Tc?(function(r,i){return i instanceof Tc&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((s,o,u)=>s&&a6(o,i.filters[u])),!0):!1})(n,e):void ur(19439)}function o6(n){return n instanceof da?(function(t){return`${t.field.canonicalString()} ${t.op} ${N0(t.value)}`})(n):n instanceof Tc?(function(t){return t.op.toString()+" {"+t.getFilters().map(o6).join(" ,")+"}"})(n):"Filter"}class Ej extends da{constructor(e,t,r){super(e,t,r),this.key=$n.fromName(r.referenceValue)}matches(e){const t=$n.comparator(e.key,this.key);return this.matchesComparison(t)}}class Aj extends da{constructor(e,t){super(e,"in",t),this.keys=l6("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class Sj extends da{constructor(e,t){super(e,"not-in",t),this.keys=l6("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function l6(n,e){return(e.arrayValue?.values||[]).map((t=>$n.fromName(t.referenceValue)))}class Tj extends da{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Mw(t)&&hm(t.arrayValue,this.value)}}class Nj extends da{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&hm(this.value.arrayValue,t)}}class Cj extends da{constructor(e,t){super(e,"not-in",t)}matches(e){if(hm(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!hm(this.value.arrayValue,t)}}class Ij extends da{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Mw(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>hm(this.value.arrayValue,r)))}}class Rj{constructor(e,t=null,r=[],i=[],s=null,o=null,u=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=u,this.Te=null}}function UE(n,e=null,t=[],r=[],i=null,s=null,o=null){return new Rj(n,e,t,r,i,s,o)}function Lw(n){const e=Er(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>Sy(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(s){return s.field.canonicalString()+s.dir})(r))).join(","),z2(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>N0(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>N0(r))).join(",")),e.Te=t}return e.Te}function kw(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!wj(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!a6(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!BE(n.startAt,e.startAt)&&BE(n.endAt,e.endAt)}function Ty(n){return $n.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class U0{constructor(e,t=null,r=[],i=[],s=null,o="F",u=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=u,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Oj(n,e,t,r,i,s,o,u){return new U0(n,e,t,r,i,s,o,u)}function q2(n){return new U0(n)}function VE(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function c6(n){return n.collectionGroup!==null}function W1(n){const e=Er(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),t.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let u=new Ra(Xa.comparator);return o.filters.forEach((f=>{f.getFlattenedFilters().forEach((d=>{d.isInequality()&&(u=u.add(d.field))}))})),u})(e).forEach((s=>{t.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new fm(s,r))})),t.has(Xa.keyField().canonicalString())||e.Ie.push(new fm(Xa.keyField(),r))}return e.Ie}function tu(n){const e=Er(n);return e.Ee||(e.Ee=Dj(e,W1(n))),e.Ee}function Dj(n,e){if(n.limitType==="F")return UE(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((i=>{const s=i.dir==="desc"?"asc":"desc";return new fm(i.field,s)}));const t=n.endAt?new Yp(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Yp(n.startAt.position,n.startAt.inclusive):null;return UE(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Ny(n,e){const t=n.filters.concat([e]);return new U0(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Cy(n,e,t){return new U0(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function G2(n,e){return kw(tu(n),tu(e))&&n.limitType===e.limitType}function u6(n){return`${Lw(tu(n))}|lt:${n.limitType}`}function e0(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((i=>o6(i))).join(", ")}]`),z2(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((i=>(function(o){return`${o.field.canonicalString()} (${o.dir})`})(i))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((i=>N0(i))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((i=>N0(i))).join(",")),`Target(${r})`})(tu(n))}; limitType=${n.limitType})`}function W2(n,e){return e.isFoundDocument()&&(function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):$n.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)})(n,e)&&(function(r,i){for(const s of W1(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0})(n,e)&&(function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0})(n,e)&&(function(r,i){return!(r.startAt&&!(function(o,u,f){const d=FE(o,u,f);return o.inclusive?d<=0:d<0})(r.startAt,W1(r),i)||r.endAt&&!(function(o,u,f){const d=FE(o,u,f);return o.inclusive?d>=0:d>0})(r.endAt,W1(r),i))})(n,e)}function Mj(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function h6(n){return(e,t)=>{let r=!1;for(const i of W1(n)){const s=Lj(i,e,t);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function Lj(n,e,t){const r=n.field.isKeyField()?$n.comparator(e.key,t.key):(function(s,o,u){const f=o.data.field(s),d=u.data.field(s);return f!==null&&d!==null?T0(f,d):ur(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ur(19790,{direction:n.dir})}}class Qf{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){sf(this.inner,((t,r)=>{for(const[i,s]of r)e(i,s)}))}isEmpty(){return XC(this.inner)}size(){return this.innerSize}}const kj=new Es($n.comparator);function Qu(){return kj}const f6=new Es($n.comparator);function B1(...n){let e=f6;for(const t of n)e=e.insert(t.key,t);return e}function d6(n){let e=f6;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function If(){return Y1()}function m6(){return Y1()}function Y1(){return new Qf((n=>n.toString()),((n,e)=>n.isEqual(e)))}const Pj=new Es($n.comparator),jj=new Ra($n.comparator);function Gr(...n){let e=jj;for(const t of n)e=e.add(t);return e}const Fj=new Ra(qr);function Bj(){return Fj}function Pw(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qp(e)?"-0":e}}function g6(n){return{integerValue:""+n}}function Uj(n,e){return dj(e)?g6(e):Pw(n,e)}class Y2{constructor(){this._=void 0}}function Vj(n,e,t){return n instanceof dm?(function(i,s){const o={fields:{[$C]:{stringValue:QC},[JC]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Dw(s)&&(s=H2(s)),s&&(o.fields[ZC]=s),{mapValue:o}})(t,e):n instanceof C0?x6(n,e):n instanceof I0?v6(n,e):(function(i,s){const o=p6(i,s),u=zE(o)+zE(i.Ae);return Ay(o)&&Ay(i.Ae)?g6(u):Pw(i.serializer,u)})(n,e)}function zj(n,e,t){return n instanceof C0?x6(n,e):n instanceof I0?v6(n,e):t}function p6(n,e){return n instanceof Xp?(function(r){return Ay(r)||(function(s){return!!s&&"doubleValue"in s})(r)})(e)?e:{integerValue:0}:null}class dm extends Y2{}class C0 extends Y2{constructor(e){super(),this.elements=e}}function x6(n,e){const t=_6(e);for(const r of n.elements)t.some((i=>iu(i,r)))||t.push(r);return{arrayValue:{values:t}}}class I0 extends Y2{constructor(e){super(),this.elements=e}}function v6(n,e){let t=_6(e);for(const r of n.elements)t=t.filter((i=>!iu(i,r)));return{arrayValue:{values:t}}}class Xp extends Y2{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function zE(n){return Ks(n.integerValue||n.doubleValue)}function _6(n){return Mw(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class jw{constructor(e,t){this.field=e,this.transform=t}}function Hj(n,e){return n.field.isEqual(e.field)&&(function(r,i){return r instanceof C0&&i instanceof C0||r instanceof I0&&i instanceof I0?A0(r.elements,i.elements,iu):r instanceof Xp&&i instanceof Xp?iu(r.Ae,i.Ae):r instanceof dm&&i instanceof dm})(n.transform,e.transform)}class qj{constructor(e,t){this.version=e,this.transformResults=t}}class Jl{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Jl}static exists(e){return new Jl(void 0,e)}static updateTime(e){return new Jl(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Np(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class X2{}function y6(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Fw(n.key,Jl.none()):new Rm(n.key,n.data,Jl.none());{const t=n.data,r=dl.empty();let i=new Ra(Xa.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);o===null&&s.length>1&&(s=s.popLast(),o=t.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new af(n.key,r,new Ll(i.toArray()),Jl.none())}}function Gj(n,e,t){n instanceof Rm?(function(i,s,o){const u=i.value.clone(),f=qE(i.fieldTransforms,s,o.transformResults);u.setAll(f),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()})(n,e,t):n instanceof af?(function(i,s,o){if(!Np(i.precondition,s))return void s.convertToUnknownDocument(o.version);const u=qE(i.fieldTransforms,s,o.transformResults),f=s.data;f.setAll(w6(i)),f.setAll(u),s.convertToFoundDocument(o.version,f).setHasCommittedMutations()})(n,e,t):(function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()})(0,e,t)}function X1(n,e,t,r){return n instanceof Rm?(function(s,o,u,f){if(!Np(s.precondition,o))return u;const d=s.value.clone(),x=GE(s.fieldTransforms,f,o);return d.setAll(x),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null})(n,e,t,r):n instanceof af?(function(s,o,u,f){if(!Np(s.precondition,o))return u;const d=GE(s.fieldTransforms,f,o),x=o.data;return x.setAll(w6(s)),x.setAll(d),o.convertToFoundDocument(o.version,x).setHasLocalMutations(),u===null?null:u.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((w=>w.field)))})(n,e,t,r):(function(s,o,u){return Np(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):u})(n,e,t)}function Wj(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=p6(r.transform,i||null);s!=null&&(t===null&&(t=dl.empty()),t.set(r.field,s))}return t||null}function HE(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&A0(r,i,((s,o)=>Hj(s,o)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Rm extends X2{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class af extends X2{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function w6(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function qE(n,e,t){const r=new Map;pi(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let i=0;i<t.length;i++){const s=n[i],o=s.transform,u=e.data.field(s.field);r.set(s.field,zj(o,u,t[i]))}return r}function GE(n,e,t){const r=new Map;for(const i of n){const s=i.transform,o=t.data.field(i.field);r.set(i.field,Vj(s,o,e))}return r}class Fw extends X2{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Yj extends X2{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Xj{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Gj(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=X1(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=X1(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=m6();return this.mutations.forEach((i=>{const s=e.get(i.key),o=s.overlayedDocument;let u=this.applyToLocalView(o,s.mutatedFields);u=t.has(i.key)?null:u;const f=y6(o,u);f!==null&&r.set(i.key,f),o.isValidDocument()||o.convertToNoDocument(xr.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Gr())}isEqual(e){return this.batchId===e.batchId&&A0(this.mutations,e.mutations,((t,r)=>HE(t,r)))&&A0(this.baseMutations,e.baseMutations,((t,r)=>HE(t,r)))}}class Bw{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){pi(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return Pj})();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Bw(e,t,r,i)}}class Kj{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Qj{constructor(e,t){this.count=e,this.unchangedNames=t}}var ha,ni;function $j(n){switch(n){case Wt.OK:return ur(64938);case Wt.CANCELLED:case Wt.UNKNOWN:case Wt.DEADLINE_EXCEEDED:case Wt.RESOURCE_EXHAUSTED:case Wt.INTERNAL:case Wt.UNAVAILABLE:case Wt.UNAUTHENTICATED:return!1;case Wt.INVALID_ARGUMENT:case Wt.NOT_FOUND:case Wt.ALREADY_EXISTS:case Wt.PERMISSION_DENIED:case Wt.FAILED_PRECONDITION:case Wt.ABORTED:case Wt.OUT_OF_RANGE:case Wt.UNIMPLEMENTED:case Wt.DATA_LOSS:return!0;default:return ur(15467,{code:n})}}function b6(n){if(n===void 0)return Ku("GRPC error has no .code"),Wt.UNKNOWN;switch(n){case ha.OK:return Wt.OK;case ha.CANCELLED:return Wt.CANCELLED;case ha.UNKNOWN:return Wt.UNKNOWN;case ha.DEADLINE_EXCEEDED:return Wt.DEADLINE_EXCEEDED;case ha.RESOURCE_EXHAUSTED:return Wt.RESOURCE_EXHAUSTED;case ha.INTERNAL:return Wt.INTERNAL;case ha.UNAVAILABLE:return Wt.UNAVAILABLE;case ha.UNAUTHENTICATED:return Wt.UNAUTHENTICATED;case ha.INVALID_ARGUMENT:return Wt.INVALID_ARGUMENT;case ha.NOT_FOUND:return Wt.NOT_FOUND;case ha.ALREADY_EXISTS:return Wt.ALREADY_EXISTS;case ha.PERMISSION_DENIED:return Wt.PERMISSION_DENIED;case ha.FAILED_PRECONDITION:return Wt.FAILED_PRECONDITION;case ha.ABORTED:return Wt.ABORTED;case ha.OUT_OF_RANGE:return Wt.OUT_OF_RANGE;case ha.UNIMPLEMENTED:return Wt.UNIMPLEMENTED;case ha.DATA_LOSS:return Wt.DATA_LOSS;default:return ur(39323,{code:n})}}(ni=ha||(ha={}))[ni.OK=0]="OK",ni[ni.CANCELLED=1]="CANCELLED",ni[ni.UNKNOWN=2]="UNKNOWN",ni[ni.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ni[ni.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ni[ni.NOT_FOUND=5]="NOT_FOUND",ni[ni.ALREADY_EXISTS=6]="ALREADY_EXISTS",ni[ni.PERMISSION_DENIED=7]="PERMISSION_DENIED",ni[ni.UNAUTHENTICATED=16]="UNAUTHENTICATED",ni[ni.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ni[ni.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ni[ni.ABORTED=10]="ABORTED",ni[ni.OUT_OF_RANGE=11]="OUT_OF_RANGE",ni[ni.UNIMPLEMENTED=12]="UNIMPLEMENTED",ni[ni.INTERNAL=13]="INTERNAL",ni[ni.UNAVAILABLE=14]="UNAVAILABLE",ni[ni.DATA_LOSS=15]="DATA_LOSS";function Zj(){return new TextEncoder}const Jj=new Hh([4294967295,4294967295],0);function WE(n){const e=Zj().encode(n),t=new kC;return t.update(e),new Uint8Array(t.digest())}function YE(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Hh([t,r],0),new Hh([i,s],0)]}class Uw{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new U1(`Invalid padding: ${t}`);if(r<0)throw new U1(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new U1(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new U1(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Hh.fromNumber(this.ge)}ye(e,t,r){let i=e.add(t.multiply(Hh.fromNumber(r)));return i.compare(Jj)===1&&(i=new Hh([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=WE(e),[r,i]=YE(t);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);if(!this.we(o))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Uw(s,i,t);return r.forEach((u=>o.insert(u))),o}insert(e){if(this.ge===0)return;const t=WE(e),[r,i]=YE(t);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);this.Se(o)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class U1 extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class K2{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,Om.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new K2(xr.min(),i,new Es(qr),Qu(),Gr())}}class Om{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Om(r,t,Gr(),Gr(),Gr())}}class Cp{constructor(e,t,r,i){this.be=e,this.removedTargetIds=t,this.key=r,this.De=i}}class E6{constructor(e,t){this.targetId=e,this.Ce=t}}class A6{constructor(e,t,r=Za.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class XE{constructor(){this.ve=0,this.Fe=KE(),this.Me=Za.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Gr(),t=Gr(),r=Gr();return this.Fe.forEach(((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:ur(38017,{changeType:s})}})),new Om(this.Me,this.xe,e,t,r)}qe(){this.Oe=!1,this.Fe=KE()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,pi(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class eF{constructor(e){this.Ge=e,this.ze=new Map,this.je=Qu(),this.Je=Wg(),this.He=Wg(),this.Ye=new Es(qr)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:ur(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,i)=>{this.rt(i)&&t(i)}))}st(e){const t=e.targetId,r=e.Ce.count,i=this.ot(t);if(i){const s=i.target;if(Ty(s))if(r===0){const o=new $n(s.path);this.et(t,o,Oo.newNoDocument(o,xr.min()))}else pi(r===1,20013,{expectedCount:r});else{const o=this._t(t);if(o!==r){const u=this.ut(e),f=u?this.ct(u,e,o):1;if(f!==0){this.it(t);const d=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,d)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=t;let o,u;try{o=Kh(r).toUint8Array()}catch(f){if(f instanceof KC)return Bf("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{u=new Uw(o,i,s)}catch(f){return Bf(f instanceof U1?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return u.ge===0?null:u}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let i=0;return r.forEach((s=>{const o=this.Ge.ht(),u=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(u)||(this.et(t,s,null),i++)})),i}Tt(e){const t=new Map;this.ze.forEach(((s,o)=>{const u=this.ot(o);if(u){if(s.current&&Ty(u.target)){const f=new $n(u.target.path);this.It(f).has(o)||this.Et(o,f)||this.et(o,f,Oo.newNoDocument(f,e))}s.Be&&(t.set(o,s.ke()),s.qe())}}));let r=Gr();this.He.forEach(((s,o)=>{let u=!0;o.forEachWhile((f=>{const d=this.ot(f);return!d||d.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(r=r.add(s))})),this.je.forEach(((s,o)=>o.setReadTime(e)));const i=new K2(e,t,this.Ye,this.je,r);return this.je=Qu(),this.Je=Wg(),this.He=Wg(),this.Ye=new Es(qr),i}Xe(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,r),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,t)?i.Qe(t,1):i.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new XE,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Ra(qr),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Ra(qr),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||Rn("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new XE),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Wg(){return new Es($n.comparator)}function KE(){return new Es($n.comparator)}const tF={asc:"ASCENDING",desc:"DESCENDING"},nF={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},rF={and:"AND",or:"OR"};class iF{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Iy(n,e){return n.useProto3Json||z2(e)?e:{value:e}}function Kp(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function S6(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function sF(n,e){return Kp(n,e.toTimestamp())}function nu(n){return pi(!!n,49232),xr.fromTimestamp((function(t){const r=Xh(t);return new Ki(r.seconds,r.nanos)})(n))}function Vw(n,e){return Ry(n,e).canonicalString()}function Ry(n,e){const t=(function(i){return new Xi(["projects",i.projectId,"databases",i.database])})(n).child("documents");return e===void 0?t:t.child(e)}function T6(n){const e=Xi.fromString(n);return pi(O6(e),10190,{key:e.toString()}),e}function Oy(n,e){return Vw(n.databaseId,e.path)}function Jv(n,e){const t=T6(e);if(t.get(1)!==n.databaseId.projectId)throw new Sn(Wt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Sn(Wt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new $n(C6(t))}function N6(n,e){return Vw(n.databaseId,e)}function aF(n){const e=T6(n);return e.length===4?Xi.emptyPath():C6(e)}function Dy(n){return new Xi(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function C6(n){return pi(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function QE(n,e,t){return{name:Oy(n,e),fields:t.value.mapValue.fields}}function oF(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:ur(39313,{state:d})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=(function(d,x){return d.useProto3Json?(pi(x===void 0||typeof x=="string",58123),Za.fromBase64String(x||"")):(pi(x===void 0||x instanceof Buffer||x instanceof Uint8Array,16193),Za.fromUint8Array(x||new Uint8Array))})(n,e.targetChange.resumeToken),o=e.targetChange.cause,u=o&&(function(d){const x=d.code===void 0?Wt.UNKNOWN:b6(d.code);return new Sn(x,d.message||"")})(o);t=new A6(r,i,s,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Jv(n,r.document.name),s=nu(r.document.updateTime),o=r.document.createTime?nu(r.document.createTime):xr.min(),u=new dl({mapValue:{fields:r.document.fields}}),f=Oo.newFoundDocument(i,s,o,u),d=r.targetIds||[],x=r.removedTargetIds||[];t=new Cp(d,x,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Jv(n,r.document),s=r.readTime?nu(r.readTime):xr.min(),o=Oo.newNoDocument(i,s),u=r.removedTargetIds||[];t=new Cp([],u,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Jv(n,r.document),s=r.removedTargetIds||[];t=new Cp([],s,i,null)}else{if(!("filter"in e))return ur(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new Qj(i,s),u=r.targetId;t=new E6(u,o)}}return t}function lF(n,e){let t;if(e instanceof Rm)t={update:QE(n,e.key,e.value)};else if(e instanceof Fw)t={delete:Oy(n,e.key)};else if(e instanceof af)t={update:QE(n,e.key,e.data),updateMask:xF(e.fieldMask)};else{if(!(e instanceof Yj))return ur(16599,{Vt:e.type});t={verify:Oy(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(s,o){const u=o.transform;if(u instanceof dm)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof C0)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof I0)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Xp)return{fieldPath:o.field.canonicalString(),increment:u.Ae};throw ur(20930,{transform:o.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(i,s){return s.updateTime!==void 0?{updateTime:sF(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ur(27497)})(n,e.precondition)),t}function cF(n,e){return n&&n.length>0?(pi(e!==void 0,14353),n.map((t=>(function(i,s){let o=i.updateTime?nu(i.updateTime):nu(s);return o.isEqual(xr.min())&&(o=nu(s)),new qj(o,i.transformResults||[])})(t,e)))):[]}function uF(n,e){return{documents:[N6(n,e.path)]}}function hF(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=N6(n,i);const s=(function(d){if(d.length!==0)return R6(Tc.create(d,"and"))})(e.filters);s&&(t.structuredQuery.where=s);const o=(function(d){if(d.length!==0)return d.map((x=>(function(A){return{field:t0(A.field),direction:mF(A.dir)}})(x)))})(e.orderBy);o&&(t.structuredQuery.orderBy=o);const u=Iy(n,e.limit);return u!==null&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(e.endAt)),{ft:t,parent:i}}function fF(n){let e=aF(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){pi(r===1,65062);const x=t.from[0];x.allDescendants?i=x.collectionId:e=e.child(x.collectionId)}let s=[];t.where&&(s=(function(w){const A=I6(w);return A instanceof Tc&&s6(A)?A.getFilters():[A]})(t.where));let o=[];t.orderBy&&(o=(function(w){return w.map((A=>(function(I){return new fm(n0(I.field),(function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(I.direction))})(A)))})(t.orderBy));let u=null;t.limit&&(u=(function(w){let A;return A=typeof w=="object"?w.value:w,z2(A)?null:A})(t.limit));let f=null;t.startAt&&(f=(function(w){const A=!!w.before,E=w.values||[];return new Yp(E,A)})(t.startAt));let d=null;return t.endAt&&(d=(function(w){const A=!w.before,E=w.values||[];return new Yp(E,A)})(t.endAt)),Oj(e,i,o,s,u,"F",f,d)}function dF(n,e){const t=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ur(28987,{purpose:i})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function I6(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=n0(t.unaryFilter.field);return da.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=n0(t.unaryFilter.field);return da.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=n0(t.unaryFilter.field);return da.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=n0(t.unaryFilter.field);return da.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ur(61313);default:return ur(60726)}})(n):n.fieldFilter!==void 0?(function(t){return da.create(n0(t.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ur(58110);default:return ur(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return Tc.create(t.compositeFilter.filters.map((r=>I6(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ur(1026)}})(t.compositeFilter.op))})(n):ur(30097,{filter:n})}function mF(n){return tF[n]}function gF(n){return nF[n]}function pF(n){return rF[n]}function t0(n){return{fieldPath:n.canonicalString()}}function n0(n){return Xa.fromServerFormat(n.fieldPath)}function R6(n){return n instanceof da?(function(t){if(t.op==="=="){if(jE(t.value))return{unaryFilter:{field:t0(t.field),op:"IS_NAN"}};if(PE(t.value))return{unaryFilter:{field:t0(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(jE(t.value))return{unaryFilter:{field:t0(t.field),op:"IS_NOT_NAN"}};if(PE(t.value))return{unaryFilter:{field:t0(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:t0(t.field),op:gF(t.op),value:t.value}}})(n):n instanceof Tc?(function(t){const r=t.getFilters().map((i=>R6(i)));return r.length===1?r[0]:{compositeFilter:{op:pF(t.op),filters:r}}})(n):ur(54877,{filter:n})}function xF(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function O6(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}class jh{constructor(e,t,r,i,s=xr.min(),o=xr.min(),u=Za.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u,this.expectedCount=f}withSequenceNumber(e){return new jh(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new jh(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new jh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new jh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class vF{constructor(e){this.yt=e}}function _F(n){const e=fF({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Cy(e,e.limit,"L"):e}class yF{constructor(){this.Cn=new wF}addToCollectionParentIndex(e,t){return this.Cn.add(t),$t.resolve()}getCollectionParents(e,t){return $t.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return $t.resolve()}deleteFieldIndex(e,t){return $t.resolve()}deleteAllFieldIndexes(e){return $t.resolve()}createTargetIndexes(e,t){return $t.resolve()}getDocumentsMatchingTarget(e,t){return $t.resolve(null)}getIndexType(e,t){return $t.resolve(0)}getFieldIndexes(e,t){return $t.resolve([])}getNextCollectionGroupToUpdate(e){return $t.resolve(null)}getMinOffset(e,t){return $t.resolve(Yh.min())}getMinOffsetFromCollectionGroup(e,t){return $t.resolve(Yh.min())}updateCollectionGroup(e,t,r){return $t.resolve()}updateIndexEntries(e,t){return $t.resolve()}}class wF{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Ra(Xi.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ra(Xi.comparator)).toArray()}}const $E={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},D6=41943040;class fl{static withCacheSize(e){return new fl(e,fl.DEFAULT_COLLECTION_PERCENTILE,fl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}fl.DEFAULT_COLLECTION_PERCENTILE=10,fl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fl.DEFAULT=new fl(D6,fl.DEFAULT_COLLECTION_PERCENTILE,fl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fl.DISABLED=new fl(-1,0,0);class R0{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new R0(0)}static cr(){return new R0(-1)}}const ZE="LruGarbageCollector",bF=1048576;function JE([n,e],[t,r]){const i=qr(n,t);return i===0?qr(e,r):i}class EF{constructor(e){this.Ir=e,this.buffer=new Ra(JE),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();JE(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class AF{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Rn(ZE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){B0(t)?Rn(ZE,"Ignoring IndexedDB error during garbage collection: ",t):await F0(t)}await this.Vr(3e5)}))}}class SF{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return $t.resolve(V2.ce);const r=new EF(t);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.mr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Rn("LruGarbageCollector","Garbage collection skipped; disabled"),$t.resolve($E)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Rn("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),$E):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let r,i,s,o,u,f,d;const x=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(Rn("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),i=this.params.maximumSequenceNumbersToCollect):i=w,o=Date.now(),this.nthSequenceNumber(e,i)))).next((w=>(r=w,u=Date.now(),this.removeTargets(e,r,t)))).next((w=>(s=w,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((w=>(d=Date.now(),Jd()<=Hr.DEBUG&&Rn("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-x}ms
	Determined least recently used ${i} in `+(u-o)+`ms
	Removed ${s} targets in `+(f-u)+`ms
	Removed ${w} documents in `+(d-f)+`ms
Total Duration: ${d-x}ms`),$t.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:w}))))}}function TF(n,e){return new SF(n,e)}class NF{constructor(){this.changes=new Qf((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Oo.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?$t.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class CF{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class IF{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,t)))).next((i=>(r!==null&&X1(r.mutation,i,Ll.empty(),Ki.now()),i)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,Gr()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=Gr()){const i=If();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,r).next((s=>{let o=B1();return s.forEach(((u,f)=>{o=o.insert(u,f.overlayedDocument)})),o}))))}getOverlayedDocuments(e,t){const r=If();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,Gr())))}populateOverlays(e,t,r){const i=[];return r.forEach((s=>{t.has(s)||i.push(s)})),this.documentOverlayCache.getOverlays(e,i).next((s=>{s.forEach(((o,u)=>{t.set(o,u)}))}))}computeViews(e,t,r,i){let s=Qu();const o=Y1(),u=(function(){return Y1()})();return t.forEach(((f,d)=>{const x=r.get(d.key);i.has(d.key)&&(x===void 0||x.mutation instanceof af)?s=s.insert(d.key,d):x!==void 0?(o.set(d.key,x.mutation.getFieldMask()),X1(x.mutation,d,x.mutation.getFieldMask(),Ki.now())):o.set(d.key,Ll.empty())})),this.recalculateAndSaveOverlays(e,s).next((f=>(f.forEach(((d,x)=>o.set(d,x))),t.forEach(((d,x)=>u.set(d,new CF(x,o.get(d)??null)))),u)))}recalculateAndSaveOverlays(e,t){const r=Y1();let i=new Es(((o,u)=>o-u)),s=Gr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((o=>{for(const u of o)u.keys().forEach((f=>{const d=t.get(f);if(d===null)return;let x=r.get(f)||Ll.empty();x=u.applyToLocalView(d,x),r.set(f,x);const w=(i.get(u.batchId)||Gr()).add(f);i=i.insert(u.batchId,w)}))})).next((()=>{const o=[],u=i.getReverseIterator();for(;u.hasNext();){const f=u.getNext(),d=f.key,x=f.value,w=m6();x.forEach((A=>{if(!s.has(A)){const E=y6(t.get(A),r.get(A));E!==null&&w.set(A,E),s=s.add(A)}})),o.push(this.documentOverlayCache.saveOverlays(e,d,w))}return $t.waitFor(o)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,i){return(function(o){return $n.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):c6(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next((s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):$t.resolve(If());let u=cm,f=s;return o.next((d=>$t.forEach(d,((x,w)=>(u<w.largestBatchId&&(u=w.largestBatchId),s.get(x)?$t.resolve():this.remoteDocumentCache.getEntry(e,x).next((A=>{f=f.insert(x,A)}))))).next((()=>this.populateOverlays(e,d,s))).next((()=>this.computeViews(e,f,d,Gr()))).next((x=>({batchId:u,changes:d6(x)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new $n(t)).next((r=>{let i=B1();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const s=t.collectionGroup;let o=B1();return this.indexManager.getCollectionParents(e,s).next((u=>$t.forEach(u,(f=>{const d=(function(w,A){return new U0(A,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(t,f.child(s));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next((x=>{x.forEach(((w,A)=>{o=o.insert(w,A)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,t,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s,i)))).next((o=>{s.forEach(((f,d)=>{const x=d.getKey();o.get(x)===null&&(o=o.insert(x,Oo.newInvalidDocument(x)))}));let u=B1();return o.forEach(((f,d)=>{const x=s.get(f);x!==void 0&&X1(x.mutation,d,Ll.empty(),Ki.now()),W2(t,d)&&(u=u.insert(f,d))})),u}))}}class RF{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return $t.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(i){return{id:i.id,version:i.version,createTime:nu(i.createTime)}})(t)),$t.resolve()}getNamedQuery(e,t){return $t.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(i){return{name:i.name,query:_F(i.bundledQuery),readTime:nu(i.readTime)}})(t)),$t.resolve()}}class OF{constructor(){this.overlays=new Es($n.comparator),this.qr=new Map}getOverlay(e,t){return $t.resolve(this.overlays.get(t))}getOverlays(e,t){const r=If();return $t.forEach(t,(i=>this.getOverlay(e,i).next((s=>{s!==null&&r.set(i,s)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((i,s)=>{this.St(e,t,s)})),$t.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((s=>this.overlays=this.overlays.remove(s))),this.qr.delete(r)),$t.resolve()}getOverlaysForCollection(e,t,r){const i=If(),s=t.length+1,o=new $n(t.child("")),u=this.overlays.getIteratorFrom(o);for(;u.hasNext();){const f=u.getNext().value,d=f.getKey();if(!t.isPrefixOf(d.path))break;d.path.length===s&&f.largestBatchId>r&&i.set(f.getKey(),f)}return $t.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new Es(((d,x)=>d-x));const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===t&&d.largestBatchId>r){let x=s.get(d.largestBatchId);x===null&&(x=If(),s=s.insert(d.largestBatchId,x)),x.set(d.getKey(),d)}}const u=If(),f=s.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((d,x)=>u.set(d,x))),!(u.size()>=i)););return $t.resolve(u)}St(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Kj(t,r));let s=this.qr.get(t);s===void 0&&(s=Gr(),this.qr.set(t,s)),this.qr.set(t,s.add(r.key))}}class DF{constructor(){this.sessionToken=Za.EMPTY_BYTE_STRING}getSessionToken(e){return $t.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,$t.resolve()}}class zw{constructor(){this.Qr=new Ra(Ga.$r),this.Ur=new Ra(Ga.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const r=new Ga(e,t);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Gr(new Ga(e,t))}zr(e,t){e.forEach((r=>this.removeReference(r,t)))}jr(e){const t=new $n(new Xi([])),r=new Ga(t,e),i=new Ga(t,e+1),s=[];return this.Ur.forEachInRange([r,i],(o=>{this.Gr(o),s.push(o.key)})),s}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new $n(new Xi([])),r=new Ga(t,e),i=new Ga(t,e+1);let s=Gr();return this.Ur.forEachInRange([r,i],(o=>{s=s.add(o.key)})),s}containsKey(e){const t=new Ga(e,0),r=this.Qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Ga{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return $n.comparator(e.key,t.key)||qr(e.Yr,t.Yr)}static Kr(e,t){return qr(e.Yr,t.Yr)||$n.comparator(e.key,t.key)}}class MF{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Ra(Ga.$r)}checkEmpty(e){return $t.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Xj(s,t,r,i);this.mutationQueue.push(o);for(const u of i)this.Zr=this.Zr.add(new Ga(u.key,s)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return $t.resolve(o)}lookupMutationBatch(e,t){return $t.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.ei(r),s=i<0?0:i;return $t.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return $t.resolve(this.mutationQueue.length===0?Ow:this.tr-1)}getAllMutationBatches(e){return $t.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Ga(t,0),i=new Ga(t,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,i],(o=>{const u=this.Xr(o.Yr);s.push(u)})),$t.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Ra(qr);return t.forEach((i=>{const s=new Ga(i,0),o=new Ga(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,o],(u=>{r=r.add(u.Yr)}))})),$t.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;$n.isDocumentKey(s)||(s=s.child(""));const o=new Ga(new $n(s),0);let u=new Ra(qr);return this.Zr.forEachWhile((f=>{const d=f.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(u=u.add(f.Yr)),!0)}),o),$t.resolve(this.ti(u))}ti(e){const t=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&t.push(i)})),t}removeMutationBatch(e,t){pi(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return $t.forEach(t.mutations,(i=>{const s=new Ga(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,t){const r=new Ga(t,0),i=this.Zr.firstAfterOrEqual(r);return $t.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,$t.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class LF{constructor(e){this.ri=e,this.docs=(function(){return new Es($n.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.ri(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return $t.resolve(r?r.document.mutableCopy():Oo.newInvalidDocument(t))}getEntries(e,t){let r=Qu();return t.forEach((i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Oo.newInvalidDocument(i))})),$t.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=Qu();const o=t.path,u=new $n(o.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(u);for(;f.hasNext();){const{key:d,value:{document:x}}=f.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||cj(lj(x),r)<=0||(i.has(x.key)||W2(t,x))&&(s=s.insert(x.key,x.mutableCopy()))}return $t.resolve(s)}getAllFromCollectionGroup(e,t,r,i){ur(9500)}ii(e,t){return $t.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new kF(this)}getSize(e){return $t.resolve(this.size)}}class kF extends NF{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?t.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),$t.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class PF{constructor(e){this.persistence=e,this.si=new Qf((t=>Lw(t)),kw),this.lastRemoteSnapshotVersion=xr.min(),this.highestTargetId=0,this.oi=0,this._i=new zw,this.targetCount=0,this.ai=R0.ur()}forEachTarget(e,t){return this.si.forEach(((r,i)=>t(i))),$t.resolve()}getLastRemoteSnapshotVersion(e){return $t.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $t.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),$t.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.oi&&(this.oi=t),$t.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new R0(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,$t.resolve()}updateTargetData(e,t){return this.Pr(t),$t.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,$t.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.si.forEach(((o,u)=>{u.sequenceNumber<=t&&r.get(u.targetId)===null&&(this.si.delete(o),s.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),$t.waitFor(s).next((()=>i))}getTargetCount(e){return $t.resolve(this.targetCount)}getTargetData(e,t){const r=this.si.get(t)||null;return $t.resolve(r)}addMatchingKeys(e,t,r){return this._i.Wr(t,r),$t.resolve()}removeMatchingKeys(e,t,r){this._i.zr(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach((o=>{s.push(i.markPotentiallyOrphaned(e,o))})),$t.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),$t.resolve()}getMatchingKeysForTargetId(e,t){const r=this._i.Hr(t);return $t.resolve(r)}containsKey(e,t){return $t.resolve(this._i.containsKey(t))}}class M6{constructor(e,t){this.ui={},this.overlays={},this.ci=new V2(0),this.li=!1,this.li=!0,this.hi=new DF,this.referenceDelegate=e(this),this.Pi=new PF(this),this.indexManager=new yF,this.remoteDocumentCache=(function(i){return new LF(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new vF(t),this.Ii=new RF(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new OF,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ui[e.toKey()];return r||(r=new MF(t,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,r){Rn("MemoryPersistence","Starting transaction:",e);const i=new jF(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((s=>this.referenceDelegate.di(i).next((()=>s)))).toPromise().then((s=>(i.raiseOnCommittedEvent(),s)))}Ai(e,t){return $t.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,t))))}}class jF extends hj{constructor(e){super(),this.currentSequenceNumber=e}}class Hw{constructor(e){this.persistence=e,this.Ri=new zw,this.Vi=null}static mi(e){return new Hw(e)}get fi(){if(this.Vi)return this.Vi;throw ur(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.fi.delete(r.toString()),$t.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.fi.add(r.toString()),$t.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),$t.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((i=>{i.forEach((s=>this.fi.add(s.toString())))})).next((()=>r.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $t.forEach(this.fi,(r=>{const i=$n.fromPath(r);return this.gi(e,i).next((s=>{s||t.removeEntry(i,xr.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((r=>{r?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return $t.or([()=>$t.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Qp{constructor(e,t){this.persistence=e,this.pi=new Qf((r=>mj(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=TF(this,t)}static mi(e,t){return new Qp(e,t)}Ei(){}di(e){return $t.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((i=>r+i))))}wr(e){let t=0;return this.pr(e,(r=>{t++})).next((()=>t))}pr(e,t){return $t.forEach(this.pi,((r,i)=>this.br(e,r,i).next((s=>s?$t.resolve():t(i)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,(o=>this.br(e,o,t).next((u=>{u||(r++,s.removeEntry(o,xr.min()))})))).next((()=>s.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),$t.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),$t.resolve()}removeReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),$t.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),$t.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Sp(e.data.value)),t}br(e,t,r){return $t.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.pi.get(t);return $t.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class qw{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Es=r,this.ds=i}static As(e,t){let r=Gr(),i=Gr();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new qw(e,t.fromCache,r,i)}}class FF{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class BF{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return M9()?8:fj(Lo())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,i){const s={result:null};return this.ys(e,t).next((o=>{s.result=o})).next((()=>{if(!s.result)return this.ws(e,t,i,r).next((o=>{s.result=o}))})).next((()=>{if(s.result)return;const o=new FF;return this.Ss(e,t,o).next((u=>{if(s.result=u,this.Vs)return this.bs(e,t,o,u.size)}))})).next((()=>s.result))}bs(e,t,r,i){return r.documentReadCount<this.fs?(Jd()<=Hr.DEBUG&&Rn("QueryEngine","SDK will not create cache indexes for query:",e0(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$t.resolve()):(Jd()<=Hr.DEBUG&&Rn("QueryEngine","Query:",e0(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Jd()<=Hr.DEBUG&&Rn("QueryEngine","The SDK decides to create cache indexes for query:",e0(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,tu(t))):$t.resolve())}ys(e,t){if(VE(t))return $t.resolve(null);let r=tu(t);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(t.limit!==null&&i===1&&(t=Cy(t,null,"F"),r=tu(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((s=>{const o=Gr(...s);return this.ps.getDocuments(e,o).next((u=>this.indexManager.getMinOffset(e,r).next((f=>{const d=this.Ds(t,u);return this.Cs(t,d,o,f.readTime)?this.ys(e,Cy(t,null,"F")):this.vs(e,d,t,f)}))))})))))}ws(e,t,r,i){return VE(t)||i.isEqual(xr.min())?$t.resolve(null):this.ps.getDocuments(e,r).next((s=>{const o=this.Ds(t,s);return this.Cs(t,o,r,i)?$t.resolve(null):(Jd()<=Hr.DEBUG&&Rn("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),e0(t)),this.vs(e,o,t,oj(i,cm)).next((u=>u)))}))}Ds(e,t){let r=new Ra(h6(e));return t.forEach(((i,s)=>{W2(e,s)&&(r=r.add(s))})),r}Cs(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,t,r){return Jd()<=Hr.DEBUG&&Rn("QueryEngine","Using full collection scan to execute query:",e0(t)),this.ps.getDocumentsMatchingQuery(e,t,Yh.min(),r)}vs(e,t,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((s=>(t.forEach((o=>{s=s.insert(o.key,o)})),s)))}}const Gw="LocalStore",UF=3e8;class VF{constructor(e,t,r,i){this.persistence=e,this.Fs=t,this.serializer=i,this.Ms=new Es(qr),this.xs=new Qf((s=>Lw(s)),kw),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new IF(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function zF(n,e,t,r){return new VF(n,e,t,r)}async function L6(n,e){const t=Er(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next((s=>(i=s,t.Bs(e),t.mutationQueue.getAllMutationBatches(r)))).next((s=>{const o=[],u=[];let f=Gr();for(const d of i){o.push(d.batchId);for(const x of d.mutations)f=f.add(x.key)}for(const d of s){u.push(d.batchId);for(const x of d.mutations)f=f.add(x.key)}return t.localDocuments.getDocuments(r,f).next((d=>({Ls:d,removedBatchIds:o,addedBatchIds:u})))}))}))}function HF(n,e){const t=Er(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),s=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(u,f,d,x){const w=d.batch,A=w.keys();let E=$t.resolve();return A.forEach((I=>{E=E.next((()=>x.getEntry(f,I))).next((C=>{const M=d.docVersions.get(I);pi(M!==null,48541),C.version.compareTo(M)<0&&(w.applyToRemoteDocument(C,d),C.isValidDocument()&&(C.setReadTime(d.commitVersion),x.addEntry(C)))}))})),E.next((()=>u.mutationQueue.removeMutationBatch(f,w)))})(t,r,e,s).next((()=>s.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(u){let f=Gr();for(let d=0;d<u.mutationResults.length;++d)u.mutationResults[d].transformResults.length>0&&(f=f.add(u.batch.mutations[d].key));return f})(e)))).next((()=>t.localDocuments.getDocuments(r,i)))}))}function k6(n){const e=Er(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function qF(n,e){const t=Er(n),r=e.snapshotVersion;let i=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(s=>{const o=t.Ns.newChangeBuffer({trackRemovals:!0});i=t.Ms;const u=[];e.targetChanges.forEach(((x,w)=>{const A=i.get(w);if(!A)return;u.push(t.Pi.removeMatchingKeys(s,x.removedDocuments,w).next((()=>t.Pi.addMatchingKeys(s,x.addedDocuments,w))));let E=A.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(w)!==null?E=E.withResumeToken(Za.EMPTY_BYTE_STRING,xr.min()).withLastLimboFreeSnapshotVersion(xr.min()):x.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(x.resumeToken,r)),i=i.insert(w,E),(function(C,M,j){return C.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=UF?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0})(A,E,x)&&u.push(t.Pi.updateTargetData(s,E))}));let f=Qu(),d=Gr();if(e.documentUpdates.forEach((x=>{e.resolvedLimboDocuments.has(x)&&u.push(t.persistence.referenceDelegate.updateLimboDocument(s,x))})),u.push(GF(s,o,e.documentUpdates).next((x=>{f=x.ks,d=x.qs}))),!r.isEqual(xr.min())){const x=t.Pi.getLastRemoteSnapshotVersion(s).next((w=>t.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r)));u.push(x)}return $t.waitFor(u).next((()=>o.apply(s))).next((()=>t.localDocuments.getLocalViewOfDocuments(s,f,d))).next((()=>f))})).then((s=>(t.Ms=i,s)))}function GF(n,e,t){let r=Gr(),i=Gr();return t.forEach((s=>r=r.add(s))),e.getEntries(n,r).next((s=>{let o=Qu();return t.forEach(((u,f)=>{const d=s.get(u);f.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(u)),f.isNoDocument()&&f.version.isEqual(xr.min())?(e.removeEntry(u,f.readTime),o=o.insert(u,f)):!d.isValidDocument()||f.version.compareTo(d.version)>0||f.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(f),o=o.insert(u,f)):Rn(Gw,"Ignoring outdated watch update for ",u,". Current version:",d.version," Watch version:",f.version)})),{ks:o,qs:i}}))}function WF(n,e){const t=Er(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Ow),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function YF(n,e){const t=Er(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return t.Pi.getTargetData(r,e).next((s=>s?(i=s,$t.resolve(i)):t.Pi.allocateTargetId(r).next((o=>(i=new jh(e,o,"TargetPurposeListen",r.currentSequenceNumber),t.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=t.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.xs.set(e,r.targetId)),r}))}async function My(n,e,t){const r=Er(n),i=r.Ms.get(e),s=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",s,(o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!B0(o))throw o;Rn(Gw,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function eA(n,e,t){const r=Er(n);let i=xr.min(),s=Gr();return r.persistence.runTransaction("Execute query","readwrite",(o=>(function(f,d,x){const w=Er(f),A=w.xs.get(x);return A!==void 0?$t.resolve(w.Ms.get(A)):w.Pi.getTargetData(d,x)})(r,o,tu(e)).next((u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,u.targetId).next((f=>{s=f}))})).next((()=>r.Fs.getDocumentsMatchingQuery(o,e,t?i:xr.min(),t?s:Gr()))).next((u=>(XF(r,Mj(e),u),{documents:u,Qs:s})))))}function XF(n,e,t){let r=n.Os.get(e)||xr.min();t.forEach(((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)})),n.Os.set(e,r)}class tA{constructor(){this.activeTargetIds=Bj()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class KF{constructor(){this.Mo=new tA,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,r){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new tA,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class QF{Oo(e){}shutdown(){}}const nA="ConnectivityMonitor";class rA{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Rn(nA,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Rn(nA,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Yg=null;function Ly(){return Yg===null?Yg=(function(){return 268435456+Math.round(2147483648*Math.random())})():Yg++,"0x"+Yg.toString(16)}const e_="RestConnection",$F={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ZF{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===Gp?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,t,r,i,s){const o=Ly(),u=this.zo(e,t.toUriEncodedString());Rn(e_,`Sending RPC '${e}' ${o}:`,u,r);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,i,s);const{host:d}=new URL(u),x=rf(d);return this.Jo(e,u,f,r,x).then((w=>(Rn(e_,`Received RPC '${e}' ${o}: `,w),w)),(w=>{throw Bf(e_,`RPC '${e}' ${o} failed with error: `,w,"url: ",u,"request:",r),w}))}Ho(e,t,r,i,s,o){return this.Go(e,t,r,i,s)}jo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+j0})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((i,s)=>e[s]=i)),r&&r.headers.forEach(((i,s)=>e[s]=i))}zo(e,t){const r=$F[e];return`${this.Uo}/v1/${t}:${r}`}terminate(){}}class JF{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const So="WebChannelConnection";class eB extends ZF{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,i,s){const o=Ly();return new Promise(((u,f)=>{const d=new PC;d.setWithCredentials(!0),d.listenOnce(jC.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case Ap.NO_ERROR:const w=d.getResponseJson();Rn(So,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(w)),u(w);break;case Ap.TIMEOUT:Rn(So,`RPC '${e}' ${o} timed out`),f(new Sn(Wt.DEADLINE_EXCEEDED,"Request time out"));break;case Ap.HTTP_ERROR:const A=d.getStatus();if(Rn(So,`RPC '${e}' ${o} failed with status:`,A,"response text:",d.getResponseText()),A>0){let E=d.getResponseJson();Array.isArray(E)&&(E=E[0]);const I=E?.error;if(I&&I.status&&I.message){const C=(function(j){const W=j.toLowerCase().replace(/_/g,"-");return Object.values(Wt).indexOf(W)>=0?W:Wt.UNKNOWN})(I.status);f(new Sn(C,I.message))}else f(new Sn(Wt.UNKNOWN,"Server responded with status "+d.getStatus()))}else f(new Sn(Wt.UNAVAILABLE,"Connection failed."));break;default:ur(9055,{l_:e,streamId:o,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{Rn(So,`RPC '${e}' ${o} completed.`)}}));const x=JSON.stringify(i);Rn(So,`RPC '${e}' ${o} sending request:`,i),d.send(t,"POST",x,r,15)}))}T_(e,t,r){const i=Ly(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=UC(),u=BC(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(f.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const x=s.join("");Rn(So,`Creating RPC '${e}' stream ${i}: ${x}`,f);const w=o.createWebChannel(x,f);this.I_(w);let A=!1,E=!1;const I=new JF({Yo:M=>{E?Rn(So,`Not sending because RPC '${e}' stream ${i} is closed:`,M):(A||(Rn(So,`Opening RPC '${e}' stream ${i} transport.`),w.open(),A=!0),Rn(So,`RPC '${e}' stream ${i} sending:`,M),w.send(M))},Zo:()=>w.close()}),C=(M,j,W)=>{M.listen(j,(k=>{try{W(k)}catch(G){setTimeout((()=>{throw G}),0)}}))};return C(w,F1.EventType.OPEN,(()=>{E||(Rn(So,`RPC '${e}' stream ${i} transport opened.`),I.o_())})),C(w,F1.EventType.CLOSE,(()=>{E||(E=!0,Rn(So,`RPC '${e}' stream ${i} transport closed`),I.a_(),this.E_(w))})),C(w,F1.EventType.ERROR,(M=>{E||(E=!0,Bf(So,`RPC '${e}' stream ${i} transport errored. Name:`,M.name,"Message:",M.message),I.a_(new Sn(Wt.UNAVAILABLE,"The operation could not be completed")))})),C(w,F1.EventType.MESSAGE,(M=>{if(!E){const j=M.data[0];pi(!!j,16349);const W=j,k=W?.error||W[0]?.error;if(k){Rn(So,`RPC '${e}' stream ${i} received error:`,k);const G=k.status;let ce=(function(B){const L=ha[B];if(L!==void 0)return b6(L)})(G),re=k.message;ce===void 0&&(ce=Wt.INTERNAL,re="Unknown error status: "+G+" with message "+k.message),E=!0,I.a_(new Sn(ce,re)),w.close()}else Rn(So,`RPC '${e}' stream ${i} received:`,j),I.u_(j)}})),C(u,FC.STAT_EVENT,(M=>{M.stat===wy.PROXY?Rn(So,`RPC '${e}' stream ${i} detected buffering proxy`):M.stat===wy.NOPROXY&&Rn(So,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{I.__()}),0),I}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function t_(){return typeof document<"u"?document:null}function Q2(n){return new iF(n,!0)}class P6{constructor(e,t,r=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=t,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,t-r);i>0&&Rn("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const iA="PersistentStream";class j6{constructor(e,t,r,i,s,o,u,f){this.Mi=e,this.S_=r,this.b_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new P6(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===Wt.RESOURCE_EXHAUSTED?(Ku(t.toString()),Ku("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===Wt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===t&&this.G_(r,i)}),(r=>{e((()=>{const i=new Sn(Wt.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,t){const r=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Rn(iA,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(Rn(iA,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class tB extends j6{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=oF(this.serializer,e),r=(function(s){if(!("targetChange"in s))return xr.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?xr.min():o.readTime?nu(o.readTime):xr.min()})(e);return this.listener.H_(t,r)}Y_(e){const t={};t.database=Dy(this.serializer),t.addTarget=(function(s,o){let u;const f=o.target;if(u=Ty(f)?{documents:uF(s,f)}:{query:hF(s,f).ft},u.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){u.resumeToken=S6(s,o.resumeToken);const d=Iy(s,o.expectedCount);d!==null&&(u.expectedCount=d)}else if(o.snapshotVersion.compareTo(xr.min())>0){u.readTime=Kp(s,o.snapshotVersion.toTimestamp());const d=Iy(s,o.expectedCount);d!==null&&(u.expectedCount=d)}return u})(this.serializer,e);const r=dF(this.serializer,e);r&&(t.labels=r),this.q_(t)}Z_(e){const t={};t.database=Dy(this.serializer),t.removeTarget=e,this.q_(t)}}class nB extends j6{constructor(e,t,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return pi(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,pi(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){pi(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=cF(e.writeResults,e.commitTime),r=nu(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=Dy(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>lF(this.serializer,r)))};this.q_(t)}}class rB{}class iB extends rB{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Sn(Wt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,o])=>this.connection.Go(e,Ry(t,r),i,s,o))).catch((s=>{throw s.name==="FirebaseError"?(s.code===Wt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Sn(Wt.UNKNOWN,s.toString())}))}Ho(e,t,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,u])=>this.connection.Ho(e,Ry(t,r),i,o,u,s))).catch((o=>{throw o.name==="FirebaseError"?(o.code===Wt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Sn(Wt.UNKNOWN,o.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class sB{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ku(t),this.aa=!1):Rn("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Uf="RemoteStore";class aB{constructor(e,t,r,i,s){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo((o=>{r.enqueueAndForget((async()=>{$f(this)&&(Rn(Uf,"Restarting streams for network reachability change."),await(async function(f){const d=Er(f);d.Ea.add(4),await Dm(d),d.Ra.set("Unknown"),d.Ea.delete(4),await $2(d)})(this))}))})),this.Ra=new sB(r,i)}}async function $2(n){if($f(n))for(const e of n.da)await e(!0)}async function Dm(n){for(const e of n.da)await e(!1)}function F6(n,e){const t=Er(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Kw(t)?Xw(t):V0(t).O_()&&Yw(t,e))}function Ww(n,e){const t=Er(n),r=V0(t);t.Ia.delete(e),r.O_()&&B6(t,e),t.Ia.size===0&&(r.O_()?r.L_():$f(t)&&t.Ra.set("Unknown"))}function Yw(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(xr.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}V0(n).Y_(e)}function B6(n,e){n.Va.Ue(e),V0(n).Z_(e)}function Xw(n){n.Va=new eF({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),V0(n).start(),n.Ra.ua()}function Kw(n){return $f(n)&&!V0(n).x_()&&n.Ia.size>0}function $f(n){return Er(n).Ea.size===0}function U6(n){n.Va=void 0}async function oB(n){n.Ra.set("Online")}async function lB(n){n.Ia.forEach(((e,t)=>{Yw(n,e)}))}async function cB(n,e){U6(n),Kw(n)?(n.Ra.ha(e),Xw(n)):n.Ra.set("Unknown")}async function uB(n,e,t){if(n.Ra.set("Online"),e instanceof A6&&e.state===2&&e.cause)try{await(async function(i,s){const o=s.cause;for(const u of s.targetIds)i.Ia.has(u)&&(await i.remoteSyncer.rejectListen(u,o),i.Ia.delete(u),i.Va.removeTarget(u))})(n,e)}catch(r){Rn(Uf,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await $p(n,r)}else if(e instanceof Cp?n.Va.Ze(e):e instanceof E6?n.Va.st(e):n.Va.tt(e),!t.isEqual(xr.min()))try{const r=await k6(n.localStore);t.compareTo(r)>=0&&await(function(s,o){const u=s.Va.Tt(o);return u.targetChanges.forEach(((f,d)=>{if(f.resumeToken.approximateByteSize()>0){const x=s.Ia.get(d);x&&s.Ia.set(d,x.withResumeToken(f.resumeToken,o))}})),u.targetMismatches.forEach(((f,d)=>{const x=s.Ia.get(f);if(!x)return;s.Ia.set(f,x.withResumeToken(Za.EMPTY_BYTE_STRING,x.snapshotVersion)),B6(s,f);const w=new jh(x.target,f,d,x.sequenceNumber);Yw(s,w)})),s.remoteSyncer.applyRemoteEvent(u)})(n,t)}catch(r){Rn(Uf,"Failed to raise snapshot:",r),await $p(n,r)}}async function $p(n,e,t){if(!B0(e))throw e;n.Ea.add(1),await Dm(n),n.Ra.set("Offline"),t||(t=()=>k6(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{Rn(Uf,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await $2(n)}))}function V6(n,e){return e().catch((t=>$p(n,t,e)))}async function Z2(n){const e=Er(n),t=$h(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Ow;for(;hB(e);)try{const i=await WF(e.localStore,r);if(i===null){e.Ta.length===0&&t.L_();break}r=i.batchId,fB(e,i)}catch(i){await $p(e,i)}z6(e)&&H6(e)}function hB(n){return $f(n)&&n.Ta.length<10}function fB(n,e){n.Ta.push(e);const t=$h(n);t.O_()&&t.X_&&t.ea(e.mutations)}function z6(n){return $f(n)&&!$h(n).x_()&&n.Ta.length>0}function H6(n){$h(n).start()}async function dB(n){$h(n).ra()}async function mB(n){const e=$h(n);for(const t of n.Ta)e.ea(t.mutations)}async function gB(n,e,t){const r=n.Ta.shift(),i=Bw.from(r,e,t);await V6(n,(()=>n.remoteSyncer.applySuccessfulWrite(i))),await Z2(n)}async function pB(n,e){e&&$h(n).X_&&await(async function(r,i){if((function(o){return $j(o)&&o!==Wt.ABORTED})(i.code)){const s=r.Ta.shift();$h(r).B_(),await V6(r,(()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i))),await Z2(r)}})(n,e),z6(n)&&H6(n)}async function sA(n,e){const t=Er(n);t.asyncQueue.verifyOperationInProgress(),Rn(Uf,"RemoteStore received new credentials");const r=$f(t);t.Ea.add(3),await Dm(t),r&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await $2(t)}async function xB(n,e){const t=Er(n);e?(t.Ea.delete(2),await $2(t)):e||(t.Ea.add(2),await Dm(t),t.Ra.set("Unknown"))}function V0(n){return n.ma||(n.ma=(function(t,r,i){const s=Er(t);return s.sa(),new tB(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(n.datastore,n.asyncQueue,{Xo:oB.bind(null,n),t_:lB.bind(null,n),r_:cB.bind(null,n),H_:uB.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),Kw(n)?Xw(n):n.Ra.set("Unknown")):(await n.ma.stop(),U6(n))}))),n.ma}function $h(n){return n.fa||(n.fa=(function(t,r,i){const s=Er(t);return s.sa(),new nB(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:dB.bind(null,n),r_:pB.bind(null,n),ta:mB.bind(null,n),na:gB.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await Z2(n)):(await n.fa.stop(),n.Ta.length>0&&(Rn(Uf,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class Qw{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Vu,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((o=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){const o=Date.now()+r,u=new Qw(e,t,o,i,s);return u.start(r),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Sn(Wt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $w(n,e){if(Ku("AsyncQueue",`${e}: ${n}`),B0(n))return new Sn(Wt.UNAVAILABLE,`${e}: ${n}`);throw n}class u0{static emptySet(e){return new u0(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||$n.comparator(t.key,r.key):(t,r)=>$n.comparator(t.key,r.key),this.keyedMap=B1(),this.sortedSet=new Es(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof u0)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new u0;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class aA{constructor(){this.ga=new Es($n.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):ur(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class O0{constructor(e,t,r,i,s,o,u,f,d){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=f,this.hasCachedResults=d}static fromInitialDocuments(e,t,r,i,s){const o=[];return t.forEach((u=>{o.push({type:0,doc:u})})),new O0(e,t,u0.emptySet(t),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&G2(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class vB{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class _B{constructor(){this.queries=oA(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const i=Er(t),s=i.queries;i.queries=oA(),s.forEach(((o,u)=>{for(const f of u.Sa)f.onError(r)}))})(this,new Sn(Wt.ABORTED,"Firestore shutting down"))}}function oA(){return new Qf((n=>u6(n)),G2)}async function Zw(n,e){const t=Er(n);let r=3;const i=e.query;let s=t.queries.get(i);s?!s.ba()&&e.Da()&&(r=2):(s=new vB,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await t.onListen(i,!0);break;case 1:s.wa=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(o){const u=$w(o,`Initialization of query '${e0(e.query)}' failed`);return void e.onError(u)}t.queries.set(i,s),s.Sa.push(e),e.va(t.onlineState),s.wa&&e.Fa(s.wa)&&e5(t)}async function Jw(n,e){const t=Er(n),r=e.query;let i=3;const s=t.queries.get(r);if(s){const o=s.Sa.indexOf(e);o>=0&&(s.Sa.splice(o,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function yB(n,e){const t=Er(n);let r=!1;for(const i of e){const s=i.query,o=t.queries.get(s);if(o){for(const u of o.Sa)u.Fa(i)&&(r=!0);o.wa=i}}r&&e5(t)}function wB(n,e,t){const r=Er(n),i=r.queries.get(e);if(i)for(const s of i.Sa)s.onError(t);r.queries.delete(e)}function e5(n){n.Ca.forEach((e=>{e.next()}))}var ky,lA;(lA=ky||(ky={})).Ma="default",lA.Cache="cache";class t5{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new O0(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=O0.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==ky.Cache}}class q6{constructor(e){this.key=e}}class G6{constructor(e){this.key=e}}class bB{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Gr(),this.mutatedKeys=Gr(),this.eu=h6(e),this.tu=new u0(this.eu)}get nu(){return this.Ya}ru(e,t){const r=t?t.iu:new aA,i=t?t.tu:this.tu;let s=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1;const f=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((x,w)=>{const A=i.get(x),E=W2(this.query,w)?w:null,I=!!A&&this.mutatedKeys.has(A.key),C=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let M=!1;A&&E?A.data.isEqual(E.data)?I!==C&&(r.track({type:3,doc:E}),M=!0):this.su(A,E)||(r.track({type:2,doc:E}),M=!0,(f&&this.eu(E,f)>0||d&&this.eu(E,d)<0)&&(u=!0)):!A&&E?(r.track({type:0,doc:E}),M=!0):A&&!E&&(r.track({type:1,doc:A}),M=!0,(f||d)&&(u=!0)),M&&(E?(o=o.add(E),s=C?s.add(x):s.delete(x)):(o=o.delete(x),s=s.delete(x)))})),this.query.limit!==null)for(;o.size>this.query.limit;){const x=this.query.limitType==="F"?o.last():o.first();o=o.delete(x.key),s=s.delete(x.key),r.track({type:1,doc:x})}return{tu:o,iu:r,Cs:u,mutatedKeys:s}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort(((x,w)=>(function(E,I){const C=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ur(20277,{Rt:M})}};return C(E)-C(I)})(x.type,w.type)||this.eu(x.doc,w.doc))),this.ou(r),i=i??!1;const u=t&&!i?this._u():[],f=this.Xa.size===0&&this.current&&!i?1:0,d=f!==this.Za;return this.Za=f,o.length!==0||d?{snapshot:new O0(this.query,e.tu,s,o,e.mutatedKeys,f===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new aA,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Gr(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const t=[];return e.forEach((r=>{this.Xa.has(r)||t.push(new G6(r))})),this.Xa.forEach((r=>{e.has(r)||t.push(new q6(r))})),t}cu(e){this.Ya=e.Qs,this.Xa=Gr();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return O0.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const n5="SyncEngine";class EB{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class AB{constructor(e){this.key=e,this.hu=!1}}class SB{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Qf((u=>u6(u)),G2),this.Iu=new Map,this.Eu=new Set,this.du=new Es($n.comparator),this.Au=new Map,this.Ru=new zw,this.Vu={},this.mu=new Map,this.fu=R0.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function TB(n,e,t=!0){const r=$6(n);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await W6(r,e,t,!0),i}async function NB(n,e){const t=$6(n);await W6(t,e,!0,!1)}async function W6(n,e,t,r){const i=await YF(n.localStore,tu(e)),s=i.targetId,o=n.sharedClientState.addLocalQueryTarget(s,t);let u;return r&&(u=await CB(n,e,s,o==="current",i.resumeToken)),n.isPrimaryClient&&t&&F6(n.remoteStore,i),u}async function CB(n,e,t,r,i){n.pu=(w,A,E)=>(async function(C,M,j,W){let k=M.view.ru(j);k.Cs&&(k=await eA(C.localStore,M.query,!1).then((({documents:F})=>M.view.ru(F,k))));const G=W&&W.targetChanges.get(M.targetId),ce=W&&W.targetMismatches.get(M.targetId)!=null,re=M.view.applyChanges(k,C.isPrimaryClient,G,ce);return uA(C,M.targetId,re.au),re.snapshot})(n,w,A,E);const s=await eA(n.localStore,e,!0),o=new bB(e,s.Qs),u=o.ru(s.documents),f=Om.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),d=o.applyChanges(u,n.isPrimaryClient,f);uA(n,t,d.au);const x=new EB(e,t,o);return n.Tu.set(e,x),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),d.snapshot}async function IB(n,e,t){const r=Er(n),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter((o=>!G2(o,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await My(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),t&&Ww(r.remoteStore,i.targetId),Py(r,i.targetId)})).catch(F0)):(Py(r,i.targetId),await My(r.localStore,i.targetId,!0))}async function RB(n,e){const t=Er(n),r=t.Tu.get(e),i=t.Iu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Ww(t.remoteStore,r.targetId))}async function OB(n,e,t){const r=FB(n);try{const i=await(function(o,u){const f=Er(o),d=Ki.now(),x=u.reduce(((E,I)=>E.add(I.key)),Gr());let w,A;return f.persistence.runTransaction("Locally write mutations","readwrite",(E=>{let I=Qu(),C=Gr();return f.Ns.getEntries(E,x).next((M=>{I=M,I.forEach(((j,W)=>{W.isValidDocument()||(C=C.add(j))}))})).next((()=>f.localDocuments.getOverlayedDocuments(E,I))).next((M=>{w=M;const j=[];for(const W of u){const k=Wj(W,w.get(W.key).overlayedDocument);k!=null&&j.push(new af(W.key,k,n6(k.value.mapValue),Jl.exists(!0)))}return f.mutationQueue.addMutationBatch(E,d,j,u)})).next((M=>{A=M;const j=M.applyToLocalDocumentSet(w,C);return f.documentOverlayCache.saveOverlays(E,M.batchId,j)}))})).then((()=>({batchId:A.batchId,changes:d6(w)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(o,u,f){let d=o.Vu[o.currentUser.toKey()];d||(d=new Es(qr)),d=d.insert(u,f),o.Vu[o.currentUser.toKey()]=d})(r,i.batchId,t),await Mm(r,i.changes),await Z2(r.remoteStore)}catch(i){const s=$w(i,"Failed to persist write");t.reject(s)}}async function Y6(n,e){const t=Er(n);try{const r=await qF(t.localStore,e);e.targetChanges.forEach(((i,s)=>{const o=t.Au.get(s);o&&(pi(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?pi(o.hu,14607):i.removedDocuments.size>0&&(pi(o.hu,42227),o.hu=!1))})),await Mm(t,r,e)}catch(r){await F0(r)}}function cA(n,e,t){const r=Er(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.Tu.forEach(((s,o)=>{const u=o.view.va(e);u.snapshot&&i.push(u.snapshot)})),(function(o,u){const f=Er(o);f.onlineState=u;let d=!1;f.queries.forEach(((x,w)=>{for(const A of w.Sa)A.va(u)&&(d=!0)})),d&&e5(f)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function DB(n,e,t){const r=Er(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Au.get(e),s=i&&i.key;if(s){let o=new Es($n.comparator);o=o.insert(s,Oo.newNoDocument(s,xr.min()));const u=Gr().add(s),f=new K2(xr.min(),new Map,new Es(qr),o,u);await Y6(r,f),r.du=r.du.remove(s),r.Au.delete(e),r5(r)}else await My(r.localStore,e,!1).then((()=>Py(r,e,t))).catch(F0)}async function MB(n,e){const t=Er(n),r=e.batch.batchId;try{const i=await HF(t.localStore,e);K6(t,r,null),X6(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Mm(t,i)}catch(i){await F0(i)}}async function LB(n,e,t){const r=Er(n);try{const i=await(function(o,u){const f=Er(o);return f.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let x;return f.mutationQueue.lookupMutationBatch(d,u).next((w=>(pi(w!==null,37113),x=w.keys(),f.mutationQueue.removeMutationBatch(d,w)))).next((()=>f.mutationQueue.performConsistencyCheck(d))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(d,x,u))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,x))).next((()=>f.localDocuments.getDocuments(d,x)))}))})(r.localStore,e);K6(r,e,t),X6(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Mm(r,i)}catch(i){await F0(i)}}function X6(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function K6(n,e,t){const r=Er(n);let i=r.Vu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function Py(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((r=>{n.Ru.containsKey(r)||Q6(n,r)}))}function Q6(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(Ww(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),r5(n))}function uA(n,e,t){for(const r of t)r instanceof q6?(n.Ru.addReference(r.key,e),kB(n,r)):r instanceof G6?(Rn(n5,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,e),n.Ru.containsKey(r.key)||Q6(n,r.key)):ur(19791,{wu:r})}function kB(n,e){const t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Eu.has(r)||(Rn(n5,"New document in limbo: "+t),n.Eu.add(r),r5(n))}function r5(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new $n(Xi.fromString(e)),r=n.fu.next();n.Au.set(r,new AB(t)),n.du=n.du.insert(t,r),F6(n.remoteStore,new jh(tu(q2(t.path)),r,"TargetPurposeLimboResolution",V2.ce))}}async function Mm(n,e,t){const r=Er(n),i=[],s=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach(((u,f)=>{o.push(r.pu(f,e,t).then((d=>{if((d||t)&&r.isPrimaryClient){const x=d?!d.fromCache:t?.targetChanges.get(f.targetId)?.current;r.sharedClientState.updateQueryState(f.targetId,x?"current":"not-current")}if(d){i.push(d);const x=qw.As(f.targetId,d);s.push(x)}})))})),await Promise.all(o),r.Pu.H_(i),await(async function(f,d){const x=Er(f);try{await x.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>$t.forEach(d,(A=>$t.forEach(A.Es,(E=>x.persistence.referenceDelegate.addReference(w,A.targetId,E))).next((()=>$t.forEach(A.ds,(E=>x.persistence.referenceDelegate.removeReference(w,A.targetId,E)))))))))}catch(w){if(!B0(w))throw w;Rn(Gw,"Failed to update sequence numbers: "+w)}for(const w of d){const A=w.targetId;if(!w.fromCache){const E=x.Ms.get(A),I=E.snapshotVersion,C=E.withLastLimboFreeSnapshotVersion(I);x.Ms=x.Ms.insert(A,C)}}})(r.localStore,s))}async function PB(n,e){const t=Er(n);if(!t.currentUser.isEqual(e)){Rn(n5,"User change. New user:",e.toKey());const r=await L6(t.localStore,e);t.currentUser=e,(function(s,o){s.mu.forEach((u=>{u.forEach((f=>{f.reject(new Sn(Wt.CANCELLED,o))}))})),s.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Mm(t,r.Ls)}}function jB(n,e){const t=Er(n),r=t.Au.get(e);if(r&&r.hu)return Gr().add(r.key);{let i=Gr();const s=t.Iu.get(e);if(!s)return i;for(const o of s){const u=t.Tu.get(o);i=i.unionWith(u.view.nu)}return i}}function $6(n){const e=Er(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Y6.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=jB.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=DB.bind(null,e),e.Pu.H_=yB.bind(null,e.eventManager),e.Pu.yu=wB.bind(null,e.eventManager),e}function FB(n){const e=Er(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=MB.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=LB.bind(null,e),e}class Zp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Q2(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return zF(this.persistence,new BF,e.initialUser,this.serializer)}Cu(e){return new M6(Hw.mi,this.serializer)}Du(e){return new KF}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Zp.provider={build:()=>new Zp};class BB extends Zp{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){pi(this.persistence.referenceDelegate instanceof Qp,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new AF(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?fl.withCacheSize(this.cacheSizeBytes):fl.DEFAULT;return new M6((r=>Qp.mi(r,t)),this.serializer)}}class jy{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>cA(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=PB.bind(null,this.syncEngine),await xB(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new _B})()}createDatastore(e){const t=Q2(e.databaseInfo.databaseId),r=(function(s){return new eB(s)})(e.databaseInfo);return(function(s,o,u,f){return new iB(s,o,u,f)})(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,i,s,o,u){return new aB(r,i,s,o,u)})(this.localStore,this.datastore,e.asyncQueue,(t=>cA(this.syncEngine,t,0)),(function(){return rA.v()?new rA:new QF})())}createSyncEngine(e,t){return(function(i,s,o,u,f,d,x){const w=new SB(i,s,o,u,f,d);return x&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const r=Er(t);Rn(Uf,"RemoteStore shutting down."),r.Ea.add(5),await Dm(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}jy.provider={build:()=>new jy};class i5{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ku("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const Zh="FirestoreClient";class UB{constructor(e,t,r,i,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Ro.UNAUTHENTICATED,this.clientId=B2.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,(async o=>{Rn(Zh,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,(o=>(Rn(Zh,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Vu;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=$w(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function n_(n,e){n.asyncQueue.verifyOperationInProgress(),Rn(Zh,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async i=>{r.isEqual(i)||(await L6(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function hA(n,e){n.asyncQueue.verifyOperationInProgress();const t=await VB(n);Rn(Zh,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>sA(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,i)=>sA(e.remoteStore,i))),n._onlineComponents=e}async function VB(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Rn(Zh,"Using user provided OfflineComponentProvider");try{await n_(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(i){return i.name==="FirebaseError"?i.code===Wt.FAILED_PRECONDITION||i.code===Wt.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(t))throw t;Bf("Error using user provided cache. Falling back to memory cache: "+t),await n_(n,new Zp)}}else Rn(Zh,"Using default OfflineComponentProvider"),await n_(n,new BB(void 0));return n._offlineComponents}async function Z6(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Rn(Zh,"Using user provided OnlineComponentProvider"),await hA(n,n._uninitializedComponentsProvider._online)):(Rn(Zh,"Using default OnlineComponentProvider"),await hA(n,new jy))),n._onlineComponents}function zB(n){return Z6(n).then((e=>e.syncEngine))}async function Jp(n){const e=await Z6(n),t=e.eventManager;return t.onListen=TB.bind(null,e.syncEngine),t.onUnlisten=IB.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=NB.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=RB.bind(null,e.syncEngine),t}function HB(n,e,t={}){const r=new Vu;return n.asyncQueue.enqueueAndForget((async()=>(function(s,o,u,f,d){const x=new i5({next:A=>{x.Nu(),o.enqueueAndForget((()=>Jw(s,w)));const E=A.docs.has(u);!E&&A.fromCache?d.reject(new Sn(Wt.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&A.fromCache&&f&&f.source==="server"?d.reject(new Sn(Wt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(A)},error:A=>d.reject(A)}),w=new t5(q2(u.path),x,{includeMetadataChanges:!0,qa:!0});return Zw(s,w)})(await Jp(n),n.asyncQueue,e,t,r))),r.promise}function qB(n,e,t={}){const r=new Vu;return n.asyncQueue.enqueueAndForget((async()=>(function(s,o,u,f,d){const x=new i5({next:A=>{x.Nu(),o.enqueueAndForget((()=>Jw(s,w))),A.fromCache&&f.source==="server"?d.reject(new Sn(Wt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(A)},error:A=>d.reject(A)}),w=new t5(u,x,{includeMetadataChanges:!0,qa:!0});return Zw(s,w)})(await Jp(n),n.asyncQueue,e,t,r))),r.promise}function J6(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}const fA=new Map;const e8="firestore.googleapis.com",dA=!0;class mA{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Sn(Wt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=e8,this.ssl=dA}else this.host=e.host,this.ssl=e.ssl??dA;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=D6;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<bF)throw new Sn(Wt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}GC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=J6(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Sn(Wt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Sn(Wt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Sn(Wt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class J2{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mA({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Sn(Wt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Sn(Wt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mA(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new HC;switch(r.type){case"firstParty":return new tj(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Sn(Wt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=fA.get(t);r&&(Rn("ComponentProvider","Removing Datastore"),fA.delete(t),r.terminate())})(this),Promise.resolve()}}function t8(n,e,t,r={}){n=Yo(n,J2);const i=rf(e),s=n._getSettings(),o={...s,emulatorOptions:n._getEmulatorOptions()},u=`${e}:${t}`;i&&(Tw(`https://${u}`),Nw("Firestore",!0)),s.host!==e8&&s.host!==u&&Bf("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...s,host:u,ssl:i,emulatorOptions:r};if(!Yu(f,o)&&(n._setSettings(f),r.mockUserToken)){let d,x;if(typeof r.mockUserToken=="string")d=r.mockUserToken,x=Ro.MOCK_USER;else{d=IC(r.mockUserToken,n._app?.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new Sn(Wt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new Ro(w)}n._authCredentials=new ZP(new zC(d,x))}}class eh{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new eh(this.firestore,e,this._query)}}class ys{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new zu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ys(this.firestore,e,this._key)}toJSON(){return{type:ys._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Im(t,ys._jsonSchema))return new ys(e,r||null,new $n(Xi.fromString(t.referencePath)))}}ys._jsonSchemaVersion="firestore/documentReference/1.0",ys._jsonSchema={type:ma("string",ys._jsonSchemaVersion),referencePath:ma("string")};class zu extends eh{constructor(e,t,r){super(e,t,q2(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ys(this.firestore,null,new $n(e))}withConverter(e){return new zu(this.firestore,e,this._path)}}function Ti(n,e,...t){if(n=bs(n),qC("collection","path",e),n instanceof J2){const r=Xi.fromString(e,...t);return NE(r),new zu(n,null,r)}{if(!(n instanceof ys||n instanceof zu))throw new Sn(Wt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Xi.fromString(e,...t));return NE(r),new zu(n.firestore,null,r)}}function hr(n,e,...t){if(n=bs(n),arguments.length===1&&(e=B2.newId()),qC("doc","path",e),n instanceof J2){const r=Xi.fromString(e,...t);return TE(r),new ys(n,null,new $n(r))}{if(!(n instanceof ys||n instanceof zu))throw new Sn(Wt.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Xi.fromString(e,...t));return TE(r),new ys(n.firestore,n instanceof zu?n.converter:null,new $n(r))}}const gA="AsyncQueue";class pA{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new P6(this,"async_queue_retry"),this._c=()=>{const r=t_();r&&Rn(gA,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=t_();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=t_();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Vu;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!B0(e))throw e;Rn(gA,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Ku("INTERNAL UNHANDLED ERROR: ",xA(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const i=Qw.createAndSchedule(this,e,t,r,(s=>this.hc(s)));return this.tc.push(i),i}uc(){this.nc&&ur(47125,{Pc:xA(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function xA(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}function vA(n){return(function(t,r){if(typeof t!="object"||t===null)return!1;const i=t;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1})(n,["next","error","complete"])}class su extends J2{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new pA,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new pA(e),this._firestoreClient=void 0,await e}}}function n8(n,e){const t=typeof n=="object"?n:F2(),r=typeof n=="string"?n:Gp,i=j2(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=TC("firestore");s&&t8(i,...s)}return i}function Lm(n){if(n._terminated)throw new Sn(Wt.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||GB(n),n._firestoreClient}function GB(n){const e=n._freezeSettings(),t=(function(i,s,o,u){return new xj(i,s,o,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,J6(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new UB(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(i){const s=i?._online.build();return{_offline:i?._offline.build(s),_online:s}})(n._componentsProvider))}class Dl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Dl(Za.fromBase64String(e))}catch(t){throw new Sn(Wt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Dl(Za.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Dl._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Im(e,Dl._jsonSchema))return Dl.fromBase64String(e.bytes)}}Dl._jsonSchemaVersion="firestore/bytes/1.0",Dl._jsonSchema={type:ma("string",Dl._jsonSchemaVersion),bytes:ma("string")};class km{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Sn(Wt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xa(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Zf{constructor(e){this._methodName=e}}class bc{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Sn(Wt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Sn(Wt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return qr(this._lat,e._lat)||qr(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:bc._jsonSchemaVersion}}static fromJSON(e){if(Im(e,bc._jsonSchema))return new bc(e.latitude,e.longitude)}}bc._jsonSchemaVersion="firestore/geoPoint/1.0",bc._jsonSchema={type:ma("string",bc._jsonSchemaVersion),latitude:ma("number"),longitude:ma("number")};class Ec{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ec._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Im(e,Ec._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Ec(e.vectorValues);throw new Sn(Wt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ec._jsonSchemaVersion="firestore/vectorValue/1.0",Ec._jsonSchema={type:ma("string",Ec._jsonSchemaVersion),vectorValues:ma("object")};const WB=/^__.*__$/;class YB{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new af(e,this.data,this.fieldMask,t,this.fieldTransforms):new Rm(e,this.data,t,this.fieldTransforms)}}class r8{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new af(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function i8(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ur(40011,{Ac:n})}}class ex{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new ex({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.gc(e),r}yc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return e2(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(i8(this.Ac)&&WB.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class XB{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Q2(e)}Cc(e,t,r,i=!1){return new ex({Ac:e,methodName:t,Dc:r,path:Xa.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function tx(n){const e=n._freezeSettings(),t=Q2(n._databaseId);return new XB(n._databaseId,!!e.ignoreUndefinedProperties,t)}function s8(n,e,t,r,i,s={}){const o=n.Cc(s.merge||s.mergeFields?2:0,e,t,i);l5("Data must be an object, but it was:",o,r);const u=o8(r,o);let f,d;if(s.merge)f=new Ll(o.fieldMask),d=o.fieldTransforms;else if(s.mergeFields){const x=[];for(const w of s.mergeFields){const A=Fy(e,w,t);if(!o.contains(A))throw new Sn(Wt.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);c8(x,A)||x.push(A)}f=new Ll(x),d=o.fieldTransforms.filter((w=>f.covers(w.field)))}else f=null,d=o.fieldTransforms;return new YB(new dl(u),f,d)}class nx extends Zf{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof nx}}function a8(n,e,t){return new ex({Ac:3,Dc:e.settings.Dc,methodName:n._methodName,fc:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class s5 extends Zf{_toFieldTransform(e){return new jw(e.path,new dm)}isEqual(e){return e instanceof s5}}class a5 extends Zf{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=a8(this,e,!0),r=this.vc.map((s=>Jf(s,t))),i=new C0(r);return new jw(e.path,i)}isEqual(e){return e instanceof a5&&Yu(this.vc,e.vc)}}class o5 extends Zf{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=a8(this,e,!0),r=this.vc.map((s=>Jf(s,t))),i=new I0(r);return new jw(e.path,i)}isEqual(e){return e instanceof o5&&Yu(this.vc,e.vc)}}function KB(n,e,t,r){const i=n.Cc(1,e,t);l5("Data must be an object, but it was:",i,r);const s=[],o=dl.empty();sf(r,((f,d)=>{const x=c5(e,f,t);d=bs(d);const w=i.yc(x);if(d instanceof nx)s.push(x);else{const A=Jf(d,w);A!=null&&(s.push(x),o.set(x,A))}}));const u=new Ll(s);return new r8(o,u,i.fieldTransforms)}function QB(n,e,t,r,i,s){const o=n.Cc(1,e,t),u=[Fy(e,r,t)],f=[i];if(s.length%2!=0)throw new Sn(Wt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<s.length;A+=2)u.push(Fy(e,s[A])),f.push(s[A+1]);const d=[],x=dl.empty();for(let A=u.length-1;A>=0;--A)if(!c8(d,u[A])){const E=u[A];let I=f[A];I=bs(I);const C=o.yc(E);if(I instanceof nx)d.push(E);else{const M=Jf(I,C);M!=null&&(d.push(E),x.set(E,M))}}const w=new Ll(d);return new r8(x,w,o.fieldTransforms)}function $B(n,e,t,r=!1){return Jf(t,n.Cc(r?4:3,e))}function Jf(n,e){if(l8(n=bs(n)))return l5("Unsupported field value:",e,n),o8(n,e);if(n instanceof Zf)return(function(r,i){if(!i8(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const s=[];let o=0;for(const u of r){let f=Jf(u,i.wc(o));f==null&&(f={nullValue:"NULL_VALUE"}),s.push(f),o++}return{arrayValue:{values:s}}})(n,e)}return(function(r,i){if((r=bs(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Uj(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Ki.fromDate(r);return{timestampValue:Kp(i.serializer,s)}}if(r instanceof Ki){const s=new Ki(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Kp(i.serializer,s)}}if(r instanceof bc)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Dl)return{bytesValue:S6(i.serializer,r._byteString)};if(r instanceof ys){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Vw(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Ec)return(function(o,u){return{mapValue:{fields:{[e6]:{stringValue:t6},[Wp]:{arrayValue:{values:o.toArray().map((d=>{if(typeof d!="number")throw u.Sc("VectorValues must only contain numeric values.");return Pw(u.serializer,d)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${U2(r)}`)})(n,e)}function o8(n,e){const t={};return XC(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):sf(n,((r,i)=>{const s=Jf(i,e.mc(r));s!=null&&(t[r]=s)})),{mapValue:{fields:t}}}function l8(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Ki||n instanceof bc||n instanceof Dl||n instanceof ys||n instanceof Zf||n instanceof Ec)}function l5(n,e,t){if(!l8(t)||!WC(t)){const r=U2(t);throw r==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+r)}}function Fy(n,e,t){if((e=bs(e))instanceof km)return e._internalPath;if(typeof e=="string")return c5(n,e);throw e2("Field path arguments must be of type string or ",n,!1,void 0,t)}const ZB=new RegExp("[~\\*/\\[\\]]");function c5(n,e,t){if(e.search(ZB)>=0)throw e2(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new km(...e.split("."))._internalPath}catch{throw e2(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function e2(n,e,t,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let u=`Function ${e}() called with invalid data`;t&&(u+=" (via `toFirestore()`)"),u+=". ";let f="";return(s||o)&&(f+=" (found",s&&(f+=` in field ${r}`),o&&(f+=` in document ${i}`),f+=")"),new Sn(Wt.INVALID_ARGUMENT,u+n+f)}function c8(n,e){return n.some((t=>t.isEqual(e)))}class u8{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ys(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new JB(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(rx("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class JB extends u8{data(){return super.data()}}function rx(n,e){return typeof e=="string"?c5(n,e):e instanceof km?e._internalPath:e._delegate._internalPath}function h8(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Sn(Wt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class u5{}class h5 extends u5{}function Oa(n,e,...t){let r=[];e instanceof u5&&r.push(e),r=r.concat(t),(function(s){const o=s.filter((f=>f instanceof ix)).length,u=s.filter((f=>f instanceof Pm)).length;if(o>1||o>0&&u>0)throw new Sn(Wt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)n=i._apply(n);return n}class Pm extends h5{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Pm(e,t,r)}_apply(e){const t=this._parse(e);return f8(e._query,t),new eh(e.firestore,e.converter,Ny(e._query,t))}_parse(e){const t=tx(e.firestore);return(function(s,o,u,f,d,x,w){let A;if(d.isKeyField()){if(x==="array-contains"||x==="array-contains-any")throw new Sn(Wt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${x}' queries on documentId().`);if(x==="in"||x==="not-in"){yA(w,x);const I=[];for(const C of w)I.push(_A(f,s,C));A={arrayValue:{values:I}}}else A=_A(f,s,w)}else x!=="in"&&x!=="not-in"&&x!=="array-contains-any"||yA(w,x),A=$B(u,o,w,x==="in"||x==="not-in");return da.create(d,x,A)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function jl(n,e,t){const r=e,i=rx("where",n);return Pm._create(i,r,t)}class ix extends u5{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new ix(e,t)}_parse(e){const t=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return t.length===1?t[0]:Tc.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(i,s){let o=i;const u=s.getFlattenedFilters();for(const f of u)f8(o,f),o=Ny(o,f)})(e._query,t),new eh(e.firestore,e.converter,Ny(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class sx extends h5{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new sx(e,t)}_apply(e){const t=(function(i,s,o){if(i.startAt!==null)throw new Sn(Wt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Sn(Wt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new fm(s,o)})(e._query,this._field,this._direction);return new eh(e.firestore,e.converter,(function(i,s){const o=i.explicitOrderBy.concat([s]);return new U0(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,t))}}function du(n,e="asc"){const t=e,r=rx("orderBy",n);return sx._create(r,t)}function _A(n,e,t){if(typeof(t=bs(t))=="string"){if(t==="")throw new Sn(Wt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!c6(e)&&t.indexOf("/")!==-1)throw new Sn(Wt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Xi.fromString(t));if(!$n.isDocumentKey(r))throw new Sn(Wt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return kE(n,new $n(r))}if(t instanceof ys)return kE(n,t._key);throw new Sn(Wt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${U2(t)}.`)}function yA(n,e){if(!Array.isArray(n)||n.length===0)throw new Sn(Wt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function f8(n,e){const t=(function(i,s){for(const o of i)for(const u of o.getFlattenedFilters())if(s.indexOf(u.op)>=0)return u.op;return null})(n.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new Sn(Wt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Sn(Wt.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class d8{convertValue(e,t="none"){switch(Qh(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ks(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Kh(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ur(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return sf(e,((i,s)=>{r[i]=this.convertValue(s,t)})),r}convertVectorValue(e){const t=e.fields?.[Wp].arrayValue?.values?.map((r=>Ks(r.doubleValue)));return new Ec(t)}convertGeoPoint(e){return new bc(Ks(e.latitude),Ks(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=H2(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(um(e));default:return null}}convertTimestamp(e){const t=Xh(e);return new Ki(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Xi.fromString(e);pi(O6(r),9688,{name:e});const i=new S0(r.get(1),r.get(3)),s=new $n(r.popFirst(5));return i.isEqual(t)||Ku(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}function m8(n,e,t){let r;return r=n?n.toFirestore(e):e,r}class a0{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class qh extends u8{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new K1(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(rx("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Sn(Wt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=qh._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}qh._jsonSchemaVersion="firestore/documentSnapshot/1.0",qh._jsonSchema={type:ma("string",qh._jsonSchemaVersion),bundleSource:ma("string","DocumentSnapshot"),bundleName:ma("string"),bundle:ma("string")};class K1 extends qh{data(e={}){return super.data(e)}}class Gh{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new a0(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new K1(this._firestore,this._userDataWriter,r.key,r,new a0(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Sn(Wt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map((u=>{const f=new K1(i._firestore,i._userDataWriter,u.doc.key,u.doc,new a0(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:f,oldIndex:-1,newIndex:o++}}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((u=>s||u.type!==3)).map((u=>{const f=new K1(i._firestore,i._userDataWriter,u.doc.key,u.doc,new a0(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let d=-1,x=-1;return u.type!==0&&(d=o.indexOf(u.doc.key),o=o.delete(u.doc.key)),u.type!==1&&(o=o.add(u.doc),x=o.indexOf(u.doc.key)),{type:eU(u.type),doc:f,oldIndex:d,newIndex:x}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Sn(Wt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Gh._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=B2.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],i=[];return this.docs.forEach((s=>{s._document!==null&&(t.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function eU(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ur(61501,{type:n})}}function Js(n){n=Yo(n,ys);const e=Yo(n.firestore,su);return HB(Lm(e),n._key).then((t=>g8(e,n,t)))}Gh._jsonSchemaVersion="firestore/querySnapshot/1.0",Gh._jsonSchema={type:ma("string",Gh._jsonSchemaVersion),bundleSource:ma("string","QuerySnapshot"),bundleName:ma("string"),bundle:ma("string")};class f5 extends d8{constructor(e){super(),this.firestore=e}convertBytes(e){return new Dl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ys(this.firestore,null,t)}}function au(n){n=Yo(n,eh);const e=Yo(n.firestore,su),t=Lm(e),r=new f5(e);return h8(n._query),qB(t,n._query).then((i=>new Gh(e,r,n,i)))}function ou(n,e,t){n=Yo(n,ys);const r=Yo(n.firestore,su),i=m8(n.converter,e);return jm(r,[s8(tx(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,Jl.none())])}function Wo(n,e,t,...r){n=Yo(n,ys);const i=Yo(n.firestore,su),s=tx(i);let o;return o=typeof(e=bs(e))=="string"||e instanceof km?QB(s,"updateDoc",n._key,e,t,r):KB(s,"updateDoc",n._key,e),jm(i,[o.toMutation(n._key,Jl.exists(!0))])}function mu(n){return jm(Yo(n.firestore,su),[new Fw(n._key,Jl.none())])}function of(n,e){const t=Yo(n.firestore,su),r=hr(n),i=m8(n.converter,e);return jm(t,[s8(tx(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,Jl.exists(!1))]).then((()=>r))}function nc(n,...e){n=bs(n);let t={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||vA(e[r])||(t=e[r++]);const i={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(vA(e[r])){const f=e[r];e[r]=f.next?.bind(f),e[r+1]=f.error?.bind(f),e[r+2]=f.complete?.bind(f)}let s,o,u;if(n instanceof ys)o=Yo(n.firestore,su),u=q2(n._key.path),s={next:f=>{e[r]&&e[r](g8(o,n,f))},error:e[r+1],complete:e[r+2]};else{const f=Yo(n,eh);o=Yo(f.firestore,su),u=f._query;const d=new f5(o);s={next:x=>{e[r]&&e[r](new Gh(o,d,f,x))},error:e[r+1],complete:e[r+2]},h8(n._query)}return(function(d,x,w,A){const E=new i5(A),I=new t5(x,E,w);return d.asyncQueue.enqueueAndForget((async()=>Zw(await Jp(d),I))),()=>{E.Nu(),d.asyncQueue.enqueueAndForget((async()=>Jw(await Jp(d),I)))}})(Lm(o),u,i,s)}function jm(n,e){return(function(r,i){const s=new Vu;return r.asyncQueue.enqueueAndForget((async()=>OB(await zB(r),i,s))),s.promise})(Lm(n),e)}function g8(n,e,t){const r=t.docs.get(e._key),i=new f5(n);return new qh(n,i,e._key,r,new a0(t.hasPendingWrites,t.fromCache),e.converter)}function mm(){return new s5("serverTimestamp")}function p8(...n){return new a5("arrayUnion",n)}function x8(...n){return new o5("arrayRemove",n)}(function(e,t=!0){(function(i){j0=i})(Kf),jf(new Wh("firestore",((r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),u=new su(new JP(r.getProvider("auth-internal")),new nj(o,r.getProvider("app-check-internal")),(function(d,x){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new Sn(Wt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new S0(d.options.projectId,x)})(o,i),o);return s={useFetchStreams:t,...s},u._setSettings(s),u}),"PUBLIC").setMultipleInstances(!0)),eu(bE,EE,e),eu(bE,EE,"esm2020")})();const v8=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:d8,Bytes:Dl,CollectionReference:zu,DocumentReference:ys,DocumentSnapshot:qh,FieldPath:km,FieldValue:Zf,Firestore:su,FirestoreError:Sn,GeoPoint:bc,Query:eh,QueryCompositeFilterConstraint:ix,QueryConstraint:h5,QueryDocumentSnapshot:K1,QueryFieldFilterConstraint:Pm,QueryOrderByConstraint:sx,QuerySnapshot:Gh,SnapshotMetadata:a0,Timestamp:Ki,VectorValue:Ec,_AutoId:B2,_ByteString:Za,_DatabaseId:S0,_DocumentKey:$n,_EmptyAuthCredentialsProvider:HC,_FieldPath:Xa,_cast:Yo,_logWarn:Bf,_validateIsNotUsedTogether:GC,addDoc:of,arrayRemove:x8,arrayUnion:p8,collection:Ti,connectFirestoreEmulator:t8,deleteDoc:mu,doc:hr,ensureFirestoreConfigured:Lm,executeWrite:jm,getDoc:Js,getDocs:au,getFirestore:n8,onSnapshot:nc,orderBy:du,query:Oa,serverTimestamp:mm,setDoc:ou,updateDoc:Wo,where:jl},Symbol.toStringTag,{value:"Module"}));var tU="firebase",nU="12.7.0";eu(tU,nU,"app");function _8(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const rU=_8,y8=new Nm("auth","Firebase",_8());const t2=new Cw("@firebase/auth");function iU(n,...e){t2.logLevel<=Hr.WARN&&t2.warn(`Auth (${Kf}): ${n}`,...e)}function Ip(n,...e){t2.logLevel<=Hr.ERROR&&t2.error(`Auth (${Kf}): ${n}`,...e)}function lu(n,...e){throw m5(n,...e)}function Ac(n,...e){return m5(n,...e)}function d5(n,e,t){const r={...rU(),[e]:t};return new Nm("auth","Firebase",r).create(e,{appName:n.name})}function Df(n){return d5(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function sU(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&lu(n,"argument-error"),d5(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function m5(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return y8.create(n,...e)}function gr(n,e,...t){if(!n)throw m5(e,...t)}function ju(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Ip(e),new Error(e)}function $u(n,e){n||ju(e)}function By(){return typeof self<"u"&&self.location?.href||""}function aU(){return wA()==="http:"||wA()==="https:"}function wA(){return typeof self<"u"&&self.location?.protocol||null}function oU(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(aU()||R9()||"connection"in navigator)?navigator.onLine:!0}function lU(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class Fm{constructor(e,t){this.shortDelay=e,this.longDelay=t,$u(t>e,"Short delay should be less than long delay!"),this.isMobile=N9()||O9()}get(){return oU()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function g5(n,e){$u(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class w8{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ju("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ju("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ju("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const cU={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const uU=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],hU=new Fm(3e4,6e4);function p5(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function z0(n,e,t,r,i={}){return b8(n,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const u=Cm({key:n.config.apiKey,...o}).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const d={method:e,headers:f,...s};return I9()||(d.referrerPolicy="no-referrer"),n.emulatorConfig&&rf(n.emulatorConfig.host)&&(d.credentials="include"),w8.fetch()(await E8(n,n.config.apiHost,t,u),d)})}async function b8(n,e,t){n._canInitEmulator=!1;const r={...cU,...e};try{const i=new dU(n),s=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Xg(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const u=s.ok?o.errorMessage:o.error.message,[f,d]=u.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Xg(n,"credential-already-in-use",o);if(f==="EMAIL_EXISTS")throw Xg(n,"email-already-in-use",o);if(f==="USER_DISABLED")throw Xg(n,"user-disabled",o);const x=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw d5(n,x,d);lu(n,x)}}catch(i){if(i instanceof fu)throw i;lu(n,"network-request-failed",{message:String(i)})}}async function fU(n,e,t,r,i={}){const s=await z0(n,e,t,r,i);return"mfaPendingCredential"in s&&lu(n,"multi-factor-auth-required",{_serverResponse:s}),s}async function E8(n,e,t,r){const i=`${e}${t}?${r}`,s=n,o=s.config.emulator?g5(n.config,i):`${n.config.apiScheme}://${i}`;return uU.includes(t)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}class dU{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Ac(this.auth,"network-request-failed")),hU.get())})}}function Xg(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=Ac(n,e,r);return i.customData._tokenResponse=t,i}async function mU(n,e){return z0(n,"POST","/v1/accounts:delete",e)}async function n2(n,e){return z0(n,"POST","/v1/accounts:lookup",e)}function Q1(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function gU(n,e=!1){const t=bs(n),r=await t.getIdToken(e),i=x5(r);gr(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Q1(r_(i.auth_time)),issuedAtTime:Q1(r_(i.iat)),expirationTime:Q1(r_(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}}function r_(n){return Number(n)*1e3}function x5(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Ip("JWT malformed, contained fewer than 3 sections"),null;try{const i=AC(t);return i?JSON.parse(i):(Ip("Failed to decode base64 JWT payload"),null)}catch(i){return Ip("Caught error parsing JWT payload as JSON",i?.toString()),null}}function bA(n){const e=x5(n);return gr(e,"internal-error"),gr(typeof e.exp<"u","internal-error"),gr(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function gm(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof fu&&pU(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function pU({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class xU{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Uy{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Q1(this.lastLoginAt),this.creationTime=Q1(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function r2(n){const e=n.auth,t=await n.getIdToken(),r=await gm(n,n2(e,{idToken:t}));gr(r?.users.length,e,"internal-error");const i=r.users[0];n._notifyReloadListener(i);const s=i.providerUserInfo?.length?A8(i.providerUserInfo):[],o=_U(n.providerData,s),u=n.isAnonymous,f=!(n.email&&i.passwordHash)&&!o?.length,d=u?f:!1,x={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Uy(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(n,x)}async function vU(n){const e=bs(n);await r2(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function _U(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function A8(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function yU(n,e){const t=await b8(n,{},async()=>{const r=Cm({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=await E8(n,i,"/v1/token",`key=${s}`),u=await n._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:u,body:r};return n.emulatorConfig&&rf(n.emulatorConfig.host)&&(f.credentials="include"),w8.fetch()(o,f)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function wU(n,e){return z0(n,"POST","/v2/accounts:revokeToken",p5(n,e))}class h0{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){gr(e.idToken,"internal-error"),gr(typeof e.idToken<"u","internal-error"),gr(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):bA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){gr(e.length!==0,"internal-error");const t=bA(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(gr(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:s}=await yU(e,t);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new h0;return r&&(gr(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(gr(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(gr(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new h0,this.toJSON())}_performRefresh(){return ju("not implemented")}}function Th(n,e){gr(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class yc{constructor({uid:e,auth:t,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new xU(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Uy(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await gm(this,this.stsTokenManager.getToken(this.auth,e));return gr(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return gU(this,e)}reload(){return vU(this)}_assign(e){this!==e&&(gr(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new yc({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){gr(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await r2(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Zl(this.auth.app))return Promise.reject(Df(this.auth));const e=await this.getIdToken();return await gm(this,mU(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,i=t.email??void 0,s=t.phoneNumber??void 0,o=t.photoURL??void 0,u=t.tenantId??void 0,f=t._redirectEventId??void 0,d=t.createdAt??void 0,x=t.lastLoginAt??void 0,{uid:w,emailVerified:A,isAnonymous:E,providerData:I,stsTokenManager:C}=t;gr(w&&C,e,"internal-error");const M=h0.fromJSON(this.name,C);gr(typeof w=="string",e,"internal-error"),Th(r,e.name),Th(i,e.name),gr(typeof A=="boolean",e,"internal-error"),gr(typeof E=="boolean",e,"internal-error"),Th(s,e.name),Th(o,e.name),Th(u,e.name),Th(f,e.name),Th(d,e.name),Th(x,e.name);const j=new yc({uid:w,auth:e,email:i,emailVerified:A,displayName:r,isAnonymous:E,photoURL:o,phoneNumber:s,tenantId:u,stsTokenManager:M,createdAt:d,lastLoginAt:x});return I&&Array.isArray(I)&&(j.providerData=I.map(W=>({...W}))),f&&(j._redirectEventId=f),j}static async _fromIdTokenResponse(e,t,r=!1){const i=new h0;i.updateFromServerResponse(t);const s=new yc({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await r2(s),s}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];gr(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?A8(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,u=new h0;u.updateFromIdToken(r);const f=new yc({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:o}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Uy(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(f,d),f}}const EA=new Map;function Fu(n){$u(n instanceof Function,"Expected a class definition");let e=EA.get(n);return e?($u(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,EA.set(n,e),e)}class S8{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}S8.type="NONE";const AA=S8;function Rp(n,e,t){return`firebase:${n}:${e}:${t}`}class f0{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Rp(this.userKey,i.apiKey,s),this.fullPersistenceKey=Rp("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await n2(this.auth,{idToken:e}).catch(()=>{});return t?yc._fromGetAccountInfoResponse(this.auth,t,e):null}return yc._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new f0(Fu(AA),e,r);const i=(await Promise.all(t.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let s=i[0]||Fu(AA);const o=Rp(r,e.config.apiKey,e.name);let u=null;for(const d of t)try{const x=await d._get(o);if(x){let w;if(typeof x=="string"){const A=await n2(e,{idToken:x}).catch(()=>{});if(!A)break;w=await yc._fromGetAccountInfoResponse(e,A,x)}else w=yc._fromJSON(e,x);d!==s&&(u=w),s=d;break}}catch{}const f=i.filter(d=>d._shouldAllowMigration);return!s._shouldAllowMigration||!f.length?new f0(s,e,r):(s=f[0],u&&await s._set(o,u.toJSON()),await Promise.all(t.map(async d=>{if(d!==s)try{await d._remove(o)}catch{}})),new f0(s,e,r))}}function SA(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(I8(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(T8(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(O8(e))return"Blackberry";if(D8(e))return"Webos";if(N8(e))return"Safari";if((e.includes("chrome/")||C8(e))&&!e.includes("edge/"))return"Chrome";if(R8(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function T8(n=Lo()){return/firefox\//i.test(n)}function N8(n=Lo()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function C8(n=Lo()){return/crios\//i.test(n)}function I8(n=Lo()){return/iemobile/i.test(n)}function R8(n=Lo()){return/android/i.test(n)}function O8(n=Lo()){return/blackberry/i.test(n)}function D8(n=Lo()){return/webos/i.test(n)}function v5(n=Lo()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function bU(n=Lo()){return v5(n)&&!!window.navigator?.standalone}function EU(){return D9()&&document.documentMode===10}function M8(n=Lo()){return v5(n)||R8(n)||D8(n)||O8(n)||/windows phone/i.test(n)||I8(n)}function L8(n,e=[]){let t;switch(n){case"Browser":t=SA(Lo());break;case"Worker":t=`${SA(Lo())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Kf}/${r}`}class AU{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=s=>new Promise((o,u)=>{try{const f=e(s);o(f)}catch(f){u(f)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function SU(n,e={}){return z0(n,"GET","/v2/passwordPolicy",p5(n,e))}const TU=6;class NU{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??TU,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}class CU{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new TA(this),this.idTokenSubscription=new TA(this),this.beforeStateQueue=new AU(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=y8,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Fu(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await f0.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await n2(this,{idToken:e}),r=await yc._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Zl(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(o,o))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=this.redirectUser?._redirectEventId,o=r?._redirectEventId,u=await this.tryRedirectSignIn(e);(!s||s===o)&&u?.user&&(r=u.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return gr(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await r2(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=lU()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Zl(this.app))return Promise.reject(Df(this));const t=e?bs(e):null;return t&&gr(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&gr(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Zl(this.app)?Promise.reject(Df(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Zl(this.app)?Promise.reject(Df(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Fu(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await SU(this),t=new NU(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Nm("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await wU(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Fu(e)||this._popupRedirectResolver;gr(t,this,"argument-error"),this.redirectPersistenceManager=await f0.create(this,[Fu(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const s=typeof t=="function"?t:t.next.bind(t);let o=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(gr(u,this,"internal-error"),u.then(()=>{o||s(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,r,i);return()=>{o=!0,f()}}else{const f=e.addObserver(t);return()=>{o=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return gr(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=L8(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Zl(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&iU(`Error while retrieving App Check token: ${e.error}`),e?.token}}function ax(n){return bs(n)}class TA{constructor(e){this.auth=e,this.observer=null,this.addObserver=U9(t=>this.observer=t)}get next(){return gr(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let _5={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function IU(n){_5=n}function RU(n){return _5.loadJS(n)}function OU(){return _5.gapiScript}function DU(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function MU(n,e){const t=j2(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),s=t.getOptions();if(Yu(s,e??{}))return i;lu(i,"already-initialized")}return t.initialize({options:e})}function LU(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Fu);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function kU(n,e,t){const r=ax(n);gr(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=k8(e),{host:o,port:u}=PU(e),f=u===null?"":`:${u}`,d={url:`${s}//${o}${f}/`},x=Object.freeze({host:o,port:u,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){gr(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),gr(Yu(d,r.config.emulator)&&Yu(x,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=x,r.settings.appVerificationDisabledForTesting=!0,rf(o)?(Tw(`${s}//${o}${f}`),Nw("Auth",!0)):jU()}function k8(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function PU(n){const e=k8(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:NA(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:NA(o)}}}function NA(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function jU(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class P8{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ju("not implemented")}_getIdTokenResponse(e){return ju("not implemented")}_linkToIdToken(e,t){return ju("not implemented")}_getReauthenticationResolver(e){return ju("not implemented")}}async function d0(n,e){return fU(n,"POST","/v1/accounts:signInWithIdp",p5(n,e))}const FU="http://localhost";class Vf extends P8{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Vf(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):lu("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...s}=t;if(!r||!i)return null;const o=new Vf(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const t=this.buildRequest();return d0(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,d0(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,d0(e,t)}buildRequest(){const e={requestUri:FU,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Cm(t)}return e}}class y5{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Bm extends y5{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Mh extends Bm{constructor(){super("facebook.com")}static credential(e){return Vf._fromParams({providerId:Mh.PROVIDER_ID,signInMethod:Mh.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Mh.credentialFromTaggedObject(e)}static credentialFromError(e){return Mh.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Mh.credential(e.oauthAccessToken)}catch{return null}}}Mh.FACEBOOK_SIGN_IN_METHOD="facebook.com";Mh.PROVIDER_ID="facebook.com";class Pu extends Bm{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Vf._fromParams({providerId:Pu.PROVIDER_ID,signInMethod:Pu.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Pu.credentialFromTaggedObject(e)}static credentialFromError(e){return Pu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Pu.credential(t,r)}catch{return null}}}Pu.GOOGLE_SIGN_IN_METHOD="google.com";Pu.PROVIDER_ID="google.com";class Lh extends Bm{constructor(){super("github.com")}static credential(e){return Vf._fromParams({providerId:Lh.PROVIDER_ID,signInMethod:Lh.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Lh.credentialFromTaggedObject(e)}static credentialFromError(e){return Lh.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Lh.credential(e.oauthAccessToken)}catch{return null}}}Lh.GITHUB_SIGN_IN_METHOD="github.com";Lh.PROVIDER_ID="github.com";class kh extends Bm{constructor(){super("twitter.com")}static credential(e,t){return Vf._fromParams({providerId:kh.PROVIDER_ID,signInMethod:kh.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return kh.credentialFromTaggedObject(e)}static credentialFromError(e){return kh.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return kh.credential(t,r)}catch{return null}}}kh.TWITTER_SIGN_IN_METHOD="twitter.com";kh.PROVIDER_ID="twitter.com";class D0{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const s=await yc._fromIdTokenResponse(e,r,i),o=CA(r);return new D0({user:s,providerId:o,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=CA(r);return new D0({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function CA(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class i2 extends fu{constructor(e,t,r,i){super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,i2.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new i2(e,t,r,i)}}function j8(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?i2._fromErrorAndOperation(n,s,e,r):s})}async function BU(n,e,t=!1){const r=await gm(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return D0._forOperation(n,"link",r)}async function UU(n,e,t=!1){const{auth:r}=n;if(Zl(r.app))return Promise.reject(Df(r));const i="reauthenticate";try{const s=await gm(n,j8(r,i,e,n),t);gr(s.idToken,r,"internal-error");const o=x5(s.idToken);gr(o,r,"internal-error");const{sub:u}=o;return gr(n.uid===u,r,"user-mismatch"),D0._forOperation(n,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&lu(r,"user-mismatch"),s}}async function VU(n,e,t=!1){if(Zl(n.app))return Promise.reject(Df(n));const r="signIn",i=await j8(n,r,e),s=await D0._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(s.user),s}function zU(n,e,t,r){return bs(n).onIdTokenChanged(e,t,r)}function HU(n,e,t){return bs(n).beforeAuthStateChanged(e,t)}function qU(n,e,t,r){return bs(n).onAuthStateChanged(e,t,r)}function GU(n){return bs(n).signOut()}async function WU(n){return bs(n).delete()}const s2="__sak";class F8{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(s2,"1"),this.storage.removeItem(s2),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const YU=1e3,XU=10;class B8 extends F8{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=M8(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((o,u,f)=>{this.notifyListeners(o,f)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!t&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);EU()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,XU):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},YU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}B8.type="LOCAL";const KU=B8;class U8 extends F8{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}U8.type="SESSION";const V8=U8;function QU(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class ox{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new ox(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:s}=t.data,o=this.handlersMap[i];if(!o?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(o).map(async d=>d(t.origin,s)),f=await QU(u);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ox.receivers=[];function w5(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}class $U{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((u,f)=>{const d=w5("",20);i.port1.start();const x=setTimeout(()=>{f(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(w){const A=w;if(A.data.eventId===d)switch(A.data.status){case"ack":clearTimeout(x),s=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),u(A.data.response);break;default:clearTimeout(x),clearTimeout(s),f(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:t},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}function ru(){return window}function ZU(n){ru().location.href=n}function z8(){return typeof ru().WorkerGlobalScope<"u"&&typeof ru().importScripts=="function"}async function JU(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function eV(){return navigator?.serviceWorker?.controller||null}function tV(){return z8()?self:null}const H8="firebaseLocalStorageDb",nV=1,a2="firebaseLocalStorage",q8="fbase_key";class Um{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function lx(n,e){return n.transaction([a2],e?"readwrite":"readonly").objectStore(a2)}function rV(){const n=indexedDB.deleteDatabase(H8);return new Um(n).toPromise()}function Vy(){const n=indexedDB.open(H8,nV);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(a2,{keyPath:q8})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(a2)?e(r):(r.close(),await rV(),e(await Vy()))})})}async function IA(n,e,t){const r=lx(n,!0).put({[q8]:e,value:t});return new Um(r).toPromise()}async function iV(n,e){const t=lx(n,!1).get(e),r=await new Um(t).toPromise();return r===void 0?null:r.value}function RA(n,e){const t=lx(n,!0).delete(e);return new Um(t).toPromise()}const sV=800,aV=3;class G8{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Vy(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>aV)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return z8()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ox._getInstance(tV()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await JU(),!this.activeServiceWorker)return;this.sender=new $U(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||eV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Vy();return await IA(e,s2,"1"),await RA(e,s2),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>IA(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>iV(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>RA(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=lx(i,!1).getAll();return new Um(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),sV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}G8.type="LOCAL";const oV=G8;new Fm(3e4,6e4);function W8(n,e){return e?Fu(e):(gr(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class b5 extends P8{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return d0(e,this._buildIdpRequest())}_linkToIdToken(e,t){return d0(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return d0(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function lV(n){return VU(n.auth,new b5(n),n.bypassAuthState)}function cV(n){const{auth:e,user:t}=n;return gr(t,e,"internal-error"),UU(t,new b5(n),n.bypassAuthState)}async function uV(n){const{auth:e,user:t}=n;return gr(t,e,"internal-error"),BU(t,new b5(n),n.bypassAuthState)}class Y8{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:s,error:o,type:u}=e;if(o){this.reject(o);return}const f={auth:this.auth,requestUri:t,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(f))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return lV;case"linkViaPopup":case"linkViaRedirect":return uV;case"reauthViaPopup":case"reauthViaRedirect":return cV;default:lu(this.auth,"internal-error")}}resolve(e){$u(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){$u(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const hV=new Fm(2e3,1e4);async function fV(n,e,t){if(Zl(n.app))return Promise.reject(Ac(n,"operation-not-supported-in-this-environment"));const r=ax(n);sU(n,e,y5);const i=W8(r,t);return new Rf(r,"signInViaPopup",e,i).executeNotNull()}class Rf extends Y8{constructor(e,t,r,i,s){super(e,t,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Rf.currentPopupAction&&Rf.currentPopupAction.cancel(),Rf.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return gr(e,this.auth,"internal-error"),e}async onExecution(){$u(this.filter.length===1,"Popup operations only handle one event");const e=w5();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Ac(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ac(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Rf.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ac(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,hV.get())};e()}}Rf.currentPopupAction=null;const dV="pendingRedirect",Op=new Map;class mV extends Y8{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Op.get(this.auth._key());if(!e){try{const r=await gV(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Op.set(this.auth._key(),e)}return this.bypassAuthState||Op.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function gV(n,e){const t=vV(e),r=xV(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}function pV(n,e){Op.set(n._key(),e)}function xV(n){return Fu(n._redirectPersistence)}function vV(n){return Rp(dV,n.config.apiKey,n.name)}async function _V(n,e,t=!1){if(Zl(n.app))return Promise.reject(Df(n));const r=ax(n),i=W8(r,e),o=await new mV(r,i,t).execute();return o&&!t&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}const yV=600*1e3;class wV{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!bV(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!X8(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Ac(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=yV&&this.cachedEventUids.clear(),this.cachedEventUids.has(OA(e))}saveEventToCache(e){this.cachedEventUids.add(OA(e)),this.lastProcessedEventTime=Date.now()}}function OA(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function X8({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function bV(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return X8(n);default:return!1}}async function EV(n,e={}){return z0(n,"GET","/v1/projects",e)}const AV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,SV=/^https?/;async function TV(n){if(n.config.emulator)return;const{authorizedDomains:e}=await EV(n);for(const t of e)try{if(NV(t))return}catch{}lu(n,"unauthorized-domain")}function NV(n){const e=By(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const o=new URL(n);return o.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&o.hostname===r}if(!SV.test(t))return!1;if(AV.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const CV=new Fm(3e4,6e4);function DA(){const n=ru().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function IV(n){return new Promise((e,t)=>{function r(){DA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{DA(),t(Ac(n,"network-request-failed"))},timeout:CV.get()})}if(ru().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ru().gapi?.load)r();else{const i=DU("iframefcb");return ru()[i]=()=>{gapi.load?r():t(Ac(n,"network-request-failed"))},RU(`${OU()}?onload=${i}`).catch(s=>t(s))}}).catch(e=>{throw Dp=null,e})}let Dp=null;function RV(n){return Dp=Dp||IV(n),Dp}const OV=new Fm(5e3,15e3),DV="__/auth/iframe",MV="emulator/auth/iframe",LV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},kV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function PV(n){const e=n.config;gr(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?g5(e,MV):`https://${n.config.authDomain}/${DV}`,r={apiKey:e.apiKey,appName:n.name,v:Kf},i=kV.get(n.config.apiHost);i&&(r.eid=i);const s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${Cm(r).slice(1)}`}async function jV(n){const e=await RV(n),t=ru().gapi;return gr(t,n,"internal-error"),e.open({where:document.body,url:PV(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:LV,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Ac(n,"network-request-failed"),u=ru().setTimeout(()=>{s(o)},OV.get());function f(){ru().clearTimeout(u),i(r)}r.ping(f).then(f,()=>{s(o)})}))}const FV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},BV=500,UV=600,VV="_blank",zV="http://localhost";class MA{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function HV(n,e,t,r=BV,i=UV){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const f={...FV,width:r.toString(),height:i.toString(),top:s,left:o},d=Lo().toLowerCase();t&&(u=C8(d)?VV:t),T8(d)&&(e=e||zV,f.scrollbars="yes");const x=Object.entries(f).reduce((A,[E,I])=>`${A}${E}=${I},`,"");if(bU(d)&&u!=="_self")return qV(e||"",u),new MA(null);const w=window.open(e||"",u,x);gr(w,n,"popup-blocked");try{w.focus()}catch{}return new MA(w)}function qV(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}const GV="__/auth/handler",WV="emulator/auth/handler",YV=encodeURIComponent("fac");async function LA(n,e,t,r,i,s){gr(n.config.authDomain,n,"auth-domain-config-required"),gr(n.config.apiKey,n,"invalid-api-key");const o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Kf,eventId:i};if(e instanceof y5){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",B9(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[x,w]of Object.entries({}))o[x]=w}if(e instanceof Bm){const x=e.getScopes().filter(w=>w!=="");x.length>0&&(o.scopes=x.join(","))}n.tenantId&&(o.tid=n.tenantId);const u=o;for(const x of Object.keys(u))u[x]===void 0&&delete u[x];const f=await n._getAppCheckToken(),d=f?`#${YV}=${encodeURIComponent(f)}`:"";return`${XV(n)}?${Cm(u).slice(1)}${d}`}function XV({config:n}){return n.emulator?g5(n,WV):`https://${n.authDomain}/${GV}`}const i_="webStorageSupport";class KV{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=V8,this._completeRedirectFn=_V,this._overrideRedirectResult=pV}async _openPopup(e,t,r,i){$u(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const s=await LA(e,t,r,By(),i);return HV(e,s,w5())}async _openRedirect(e,t,r,i){await this._originValidation(e);const s=await LA(e,t,r,By(),i);return ZU(s),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):($u(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await jV(e),r=new wV(e);return t.register("authEvent",i=>(gr(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(i_,{type:i_},i=>{const s=i?.[0]?.[i_];s!==void 0&&t(!!s),lu(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=TV(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return M8()||N8()||v5()}}const QV=KV;var kA="@firebase/auth",PA="1.12.0";class $V{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){gr(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function ZV(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function JV(n){jf(new Wh("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:u}=r.options;gr(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:o,authDomain:u,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:L8(n)},d=new CU(r,i,s,f);return LU(d,t),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),jf(new Wh("auth-internal",e=>{const t=ax(e.getProvider("auth").getImmediate());return(r=>new $V(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),eu(kA,PA,ZV(n)),eu(kA,PA,"esm2020")}const ez=300,tz=CC("authIdTokenMaxAge")||ez;let jA=null;const nz=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>tz)return;const i=t?.token;jA!==i&&(jA=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function rz(n=F2()){const e=j2(n,"auth");if(e.isInitialized())return e.getImmediate();const t=MU(n,{popupRedirectResolver:QV,persistence:[oV,KU,V8]}),r=CC("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=nz(s.toString());HU(t,o,()=>o(t.currentUser)),zU(t,u=>o(u))}}const i=SC("auth");return i&&kU(t,`http://${i}`),t}function iz(){return document.getElementsByTagName("head")?.[0]??document}IU({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const s=Ac("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",iz().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});JV("Browser");const K8="firebasestorage.googleapis.com",Q8="storageBucket",sz=120*1e3,az=600*1e3;class Us extends fu{constructor(e,t,r=0){super(s_(e),`Firebase Storage: ${t} (${s_(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Us.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return s_(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Bs;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Bs||(Bs={}));function s_(n){return"storage/"+n}function E5(){const n="An unknown error occurred, please check the error payload for server response.";return new Us(Bs.UNKNOWN,n)}function oz(n){return new Us(Bs.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function lz(n){return new Us(Bs.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function cz(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Us(Bs.UNAUTHENTICATED,n)}function uz(){return new Us(Bs.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function hz(n){return new Us(Bs.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function fz(){return new Us(Bs.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function dz(){return new Us(Bs.CANCELED,"User canceled the upload/download.")}function mz(n){return new Us(Bs.INVALID_URL,"Invalid URL '"+n+"'.")}function gz(n){return new Us(Bs.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function pz(){return new Us(Bs.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Q8+"' property when initializing the app?")}function xz(){return new Us(Bs.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function vz(){return new Us(Bs.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function _z(n){return new Us(Bs.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function zy(n){return new Us(Bs.INVALID_ARGUMENT,n)}function $8(){return new Us(Bs.APP_DELETED,"The Firebase app was deleted.")}function yz(n){return new Us(Bs.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function $1(n,e){return new Us(Bs.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function R1(n){throw new Us(Bs.INTERNAL_ERROR,"Internal error: "+n)}class kl{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=kl.makeFromUrl(e,t)}catch{return new kl(e,"")}if(r.path==="")return r;throw gz(e)}static makeFromUrl(e,t){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(G){G.path.charAt(G.path.length-1)==="/"&&(G.path_=G.path_.slice(0,-1))}const o="(/(.*))?$",u=new RegExp("^gs://"+i+o,"i"),f={bucket:1,path:3};function d(G){G.path_=decodeURIComponent(G.path)}const x="v[A-Za-z0-9_]+",w=t.replace(/[.]/g,"\\."),A="(/([^?#]*).*)?$",E=new RegExp(`^https?://${w}/${x}/b/${i}/o${A}`,"i"),I={bucket:1,path:3},C=t===K8?"(?:storage.googleapis.com|storage.cloud.google.com)":t,M="([^?#]*)",j=new RegExp(`^https?://${C}/${i}/${M}`,"i"),k=[{regex:u,indices:f,postModify:s},{regex:E,indices:I,postModify:d},{regex:j,indices:{bucket:1,path:2},postModify:d}];for(let G=0;G<k.length;G++){const ce=k[G],re=ce.regex.exec(e);if(re){const F=re[ce.indices.bucket];let B=re[ce.indices.path];B||(B=""),r=new kl(F,B),ce.postModify(r);break}}if(r==null)throw mz(e);return r}}class wz{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function bz(n,e,t){let r=1,i=null,s=null,o=!1,u=0;function f(){return u===2}let d=!1;function x(...M){d||(d=!0,e.apply(null,M))}function w(M){i=setTimeout(()=>{i=null,n(E,f())},M)}function A(){s&&clearTimeout(s)}function E(M,...j){if(d){A();return}if(M){A(),x.call(null,M,...j);return}if(f()||o){A(),x.call(null,M,...j);return}r<64&&(r*=2);let k;u===1?(u=2,k=0):k=(r+Math.random())*1e3,w(k)}let I=!1;function C(M){I||(I=!0,A(),!d&&(i!==null?(M||(u=2),clearTimeout(i),w(0)):M||(u=1)))}return w(0),s=setTimeout(()=>{o=!0,C(!0)},t),C}function Ez(n){n(!1)}function Az(n){return n!==void 0}function Sz(n){return typeof n=="object"&&!Array.isArray(n)}function A5(n){return typeof n=="string"||n instanceof String}function FA(n){return S5()&&n instanceof Blob}function S5(){return typeof Blob<"u"}function BA(n,e,t,r){if(r<e)throw zy(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw zy(`Invalid value for '${n}'. Expected ${t} or less.`)}function T5(n,e,t){let r=e;return t==null&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function Z8(n){const e=encodeURIComponent;let t="?";for(const r in n)if(n.hasOwnProperty(r)){const i=e(r)+"="+e(n[r]);t=t+i+"&"}return t=t.slice(0,-1),t}var Mf;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Mf||(Mf={}));function Tz(n,e){const t=n>=500&&n<600,i=[408,429].indexOf(n)!==-1,s=e.indexOf(n)!==-1;return t||i||s}class Nz{constructor(e,t,r,i,s,o,u,f,d,x,w,A=!0,E=!1){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=u,this.errorCallback_=f,this.timeout_=d,this.progressCallback_=x,this.connectionFactory_=w,this.retry=A,this.isUsingEmulator=E,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((I,C)=>{this.resolve_=I,this.reject_=C,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Kg(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=u=>{const f=u.loaded,d=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,d)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const u=s.getErrorCode()===Mf.NO_ERROR,f=s.getStatus();if(!u||Tz(f,this.additionalRetryCodes_)&&this.retry){const x=s.getErrorCode()===Mf.ABORT;r(!1,new Kg(!1,null,x));return}const d=this.successCodes_.indexOf(f)!==-1;r(!0,new Kg(d,s))})},t=(r,i)=>{const s=this.resolve_,o=this.reject_,u=i.connection;if(i.wasSuccessCode)try{const f=this.callback_(u,u.getResponse());Az(f)?s(f):s()}catch(f){o(f)}else if(u!==null){const f=E5();f.serverResponse=u.getErrorText(),this.errorCallback_?o(this.errorCallback_(u,f)):o(f)}else if(i.canceled){const f=this.appDelete_?$8():dz();o(f)}else{const f=fz();o(f)}};this.canceled_?t(!1,new Kg(!1,null,!0)):this.backoffId_=bz(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Ez(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Kg{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function Cz(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function Iz(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Rz(n,e){e&&(n["X-Firebase-GMPID"]=e)}function Oz(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function Dz(n,e,t,r,i,s,o=!0,u=!1){const f=Z8(n.urlParams),d=n.url+f,x=Object.assign({},n.headers);return Rz(x,e),Cz(x,t),Iz(x,s),Oz(x,r),new Nz(d,n.method,x,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,o,u)}function Mz(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Lz(...n){const e=Mz();if(e!==void 0){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}else{if(S5())return new Blob(n);throw new Us(Bs.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function kz(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}function Pz(n){if(typeof atob>"u")throw _z("base-64");return atob(n)}const Zc={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class a_{constructor(e,t){this.data=e,this.contentType=t||null}}function jz(n,e){switch(n){case Zc.RAW:return new a_(J8(e));case Zc.BASE64:case Zc.BASE64URL:return new a_(eI(n,e));case Zc.DATA_URL:return new a_(Bz(e),Uz(e))}throw E5()}function J8(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=n.charCodeAt(++t);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function Fz(n){let e;try{e=decodeURIComponent(n)}catch{throw $1(Zc.DATA_URL,"Malformed data URL.")}return J8(e)}function eI(n,e){switch(n){case Zc.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw $1(n,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Zc.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw $1(n,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=Pz(e)}catch(i){throw i.message.includes("polyfill")?i:$1(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}class tI{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw $1(Zc.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;r!=null&&(this.base64=Vz(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function Bz(n){const e=new tI(n);return e.base64?eI(Zc.BASE64,e.rest):Fz(e.rest)}function Uz(n){return new tI(n).contentType}function Vz(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}class Ph{constructor(e,t){let r=0,i="";FA(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if(FA(this.data_)){const r=this.data_,i=kz(r,e,t);return i===null?null:new Ph(i)}else{const r=new Uint8Array(this.data_.buffer,e,t-e);return new Ph(r,!0)}}static getBlob(...e){if(S5()){const t=e.map(r=>r instanceof Ph?r.data_:r);return new Ph(Lz.apply(null,t))}else{const t=e.map(o=>A5(o)?jz(Zc.RAW,o).data:o.data_);let r=0;t.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return t.forEach(o=>{for(let u=0;u<o.length;u++)i[s++]=o[u]}),new Ph(i,!0)}}uploadData(){return this.data_}}function nI(n){let e;try{e=JSON.parse(n)}catch{return null}return Sz(e)?e:null}function zz(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function Hz(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return n.length===0?t:n+"/"+t}function rI(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}function qz(n,e){return e}class Ho{constructor(e,t,r,i){this.server=e,this.local=t||e,this.writable=!!r,this.xform=i||qz}}let Qg=null;function Gz(n){return!A5(n)||n.length<2?n:rI(n)}function iI(){if(Qg)return Qg;const n=[];n.push(new Ho("bucket")),n.push(new Ho("generation")),n.push(new Ho("metageneration")),n.push(new Ho("name","fullPath",!0));function e(s,o){return Gz(o)}const t=new Ho("name");t.xform=e,n.push(t);function r(s,o){return o!==void 0?Number(o):o}const i=new Ho("size");return i.xform=r,n.push(i),n.push(new Ho("timeCreated")),n.push(new Ho("updated")),n.push(new Ho("md5Hash",null,!0)),n.push(new Ho("cacheControl",null,!0)),n.push(new Ho("contentDisposition",null,!0)),n.push(new Ho("contentEncoding",null,!0)),n.push(new Ho("contentLanguage",null,!0)),n.push(new Ho("contentType",null,!0)),n.push(new Ho("metadata","customMetadata",!0)),Qg=n,Qg}function Wz(n,e){function t(){const r=n.bucket,i=n.fullPath,s=new kl(r,i);return e._makeStorageReference(s)}Object.defineProperty(n,"ref",{get:t})}function Yz(n,e,t){const r={};r.type="file";const i=t.length;for(let s=0;s<i;s++){const o=t[s];r[o.local]=o.xform(r,e[o.server])}return Wz(r,n),r}function sI(n,e,t){const r=nI(e);return r===null?null:Yz(n,r,t)}function Xz(n,e,t,r){const i=nI(e);if(i===null||!A5(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(d=>{const x=n.bucket,w=n.fullPath,A="/b/"+o(x)+"/o/"+o(w),E=T5(A,t,r),I=Z8({alt:"media",token:d});return E+I})[0]}function Kz(n,e){const t={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(t[s.server]=n[s.local])}return JSON.stringify(t)}class aI{constructor(e,t,r,i){this.url=e,this.method=t,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function oI(n){if(!n)throw E5()}function Qz(n,e){function t(r,i){const s=sI(n,i,e);return oI(s!==null),s}return t}function $z(n,e){function t(r,i){const s=sI(n,i,e);return oI(s!==null),Xz(s,i,n.host,n._protocol)}return t}function lI(n){function e(t,r){let i;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?i=uz():i=cz():t.getStatus()===402?i=lz(n.bucket):t.getStatus()===403?i=hz(n.path):i=r,i.status=t.getStatus(),i.serverResponse=r.serverResponse,i}return e}function Zz(n){const e=lI(n);function t(r,i){let s=e(r,i);return r.getStatus()===404&&(s=oz(n.path)),s.serverResponse=i.serverResponse,s}return t}function Jz(n,e,t){const r=e.fullServerUrl(),i=T5(r,n.host,n._protocol),s="GET",o=n.maxOperationRetryTime,u=new aI(i,s,$z(n,t),o);return u.errorHandler=Zz(e),u}function eH(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function tH(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=eH(null,e)),r}function nH(n,e,t,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function u(){let k="";for(let G=0;G<2;G++)k=k+Math.random().toString().slice(2);return k}const f=u();o["Content-Type"]="multipart/related; boundary="+f;const d=tH(e,r,i),x=Kz(d,t),w="--"+f+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+x+`\r
--`+f+`\r
Content-Type: `+d.contentType+`\r
\r
`,A=`\r
--`+f+"--",E=Ph.getBlob(w,r,A);if(E===null)throw xz();const I={name:d.fullPath},C=T5(s,n.host,n._protocol),M="POST",j=n.maxUploadRetryTime,W=new aI(C,M,Qz(n,t),j);return W.urlParams=I,W.headers=o,W.body=E.uploadData(),W.errorHandler=lI(e),W}class rH{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Mf.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Mf.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Mf.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,i,s){if(this.sent_)throw R1("cannot .send() more than once");if(rf(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),s!==void 0)for(const o in s)s.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,s[o].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw R1("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw R1("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw R1("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw R1("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class iH extends rH{initXhr(){this.xhr_.responseType="text"}}function cI(){return new iH}class zf{constructor(e,t){this._service=e,t instanceof kl?this._location=t:this._location=kl.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new zf(e,t)}get root(){const e=new kl(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return rI(this._location.path)}get storage(){return this._service}get parent(){const e=zz(this._location.path);if(e===null)return null;const t=new kl(this._location.bucket,e);return new zf(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw yz(e)}}function sH(n,e,t){n._throwIfRoot("uploadBytes");const r=nH(n.storage,n._location,iI(),new Ph(e,!0),t);return n.storage.makeRequestWithTokens(r,cI).then(i=>({metadata:i,ref:n}))}function aH(n){n._throwIfRoot("getDownloadURL");const e=Jz(n.storage,n._location,iI());return n.storage.makeRequestWithTokens(e,cI).then(t=>{if(t===null)throw vz();return t})}function oH(n,e){const t=Hz(n._location.path,e),r=new kl(n._location.bucket,t);return new zf(n.storage,r)}function lH(n){return/^[A-Za-z]+:\/\//.test(n)}function cH(n,e){return new zf(n,e)}function uI(n,e){if(n instanceof N5){const t=n;if(t._bucket==null)throw pz();const r=new zf(t,t._bucket);return e!=null?uI(r,e):r}else return e!==void 0?oH(n,e):n}function uH(n,e){if(e&&lH(e)){if(n instanceof N5)return cH(n,e);throw zy("To use ref(service, url), the first argument must be a Storage instance.")}else return uI(n,e)}function UA(n,e){const t=e?.[Q8];return t==null?null:kl.makeFromBucketSpec(t,n)}function hH(n,e,t,r={}){n.host=`${e}:${t}`;const i=rf(e);i&&(Tw(`https://${n.host}/b`),Nw("Storage",!0)),n._isUsingEmulator=!0,n._protocol=i?"https":"http";const{mockUserToken:s}=r;s&&(n._overrideAuthToken=typeof s=="string"?s:IC(s,n.app.options.projectId))}class N5{constructor(e,t,r,i,s,o=!1){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._isUsingEmulator=o,this._bucket=null,this._host=K8,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=sz,this._maxUploadRetryTime=az,this._requests=new Set,i!=null?this._bucket=kl.makeFromBucketSpec(i,this._host):this._bucket=UA(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=kl.makeFromBucketSpec(this._url,e):this._bucket=UA(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){BA("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){BA("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Zl(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new zf(this,e)}_makeRequest(e,t,r,i,s=!0){if(this._deleted)return new wz($8());{const o=Dz(e,this._appId,r,i,t,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,t){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,i).getPromise()}}const VA="@firebase/storage",zA="0.14.0";const hI="storage";function fH(n,e,t){return n=bs(n),sH(n,e,t)}function dH(n){return n=bs(n),aH(n)}function mH(n,e){return n=bs(n),uH(n,e)}function gH(n=F2(),e){n=bs(n);const r=j2(n,hI).getImmediate({identifier:e}),i=TC("storage");return i&&pH(r,...i),r}function pH(n,e,t,r={}){hH(n,e,t,r)}function xH(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new N5(t,r,i,e,Kf)}function vH(){jf(new Wh(hI,xH,"PUBLIC").setMultipleInstances(!0)),eu(VA,zA,""),eu(VA,zA,"esm2020")}vH();const _H={apiKey:"AIzaSyCIrgKsX5jAq83K9xBi5ECztkq-vLb4FaY",authDomain:"orbitx-zcoer.firebaseapp.com",projectId:"orbitx-zcoer",storageBucket:"orbitx-zcoer.firebasestorage.app",messagingSenderId:"155824164336",appId:"1:155824164336:web:5f285699497ececf446135"},C5=VP().length===0?DC(_H):F2(),Bl=rz(C5),An=n8(C5),yH=gH(C5),fI=new Pu;fI.setCustomParameters({prompt:"select_account"});const dI=ae.createContext(void 0);function wH({children:n}){const[e,t]=ae.useState(!1),[r,i]=ae.useState(!0);ae.useEffect(()=>{const o=nc(hr(An,"settings","recruitment"),u=>{u.exists()?t(u.data().isOpen??!1):t(!1),i(!1)},u=>{console.error("Error fetching recruitment status:",u),t(!1),i(!1)});return()=>o()},[]);const s=async()=>{try{await ou(hr(An,"settings","recruitment"),{isOpen:!e,updatedAt:new Date().toISOString()})}catch(o){throw console.error("Error toggling recruitment:",o),o}};return m.jsx(dI.Provider,{value:{isRecruitmentOpen:e,isLoading:r,toggleRecruitment:s},children:n})}function ed(){const n=ae.useContext(dI);if(n===void 0)throw new Error("useRecruitment must be used within a RecruitmentProvider");return n}function bH(){const{toggleSnow:n}=m9(),{isRecruitmentOpen:e}=ed(),t=ae.useRef(0),r=ae.useRef(0),[i,s]=ae.useState(!1),o=f=>{const d=Date.now();d-r.current>1500&&(t.current=0),t.current++,r.current=d,t.current>=3&&(f.preventDefault(),n(),t.current=0)},u=f=>{e||(f.preventDefault(),s(!0),setTimeout(()=>s(!1),5e3))};return m.jsxs("nav",{className:"navbar",children:[m.jsxs("ul",{className:"navbar__links navbar__links--left",children:[m.jsx("li",{className:"navbar__item",children:m.jsx(Yi,{to:"/",className:"navbar__link",children:"Home"})}),m.jsx("li",{className:"navbar__item",children:m.jsx(Yi,{to:"/about",className:"navbar__link",children:"About"})}),m.jsx("li",{className:"navbar__item",children:m.jsx(Yi,{to:"/events",className:"navbar__link",children:"Events"})})]}),m.jsx(Yi,{to:"/",className:"navbar__logo",onClick:o,children:m.jsx("img",{src:Sw,alt:"OrbitX",className:"navbar__logo-img"})}),m.jsxs("ul",{className:"navbar__links navbar__links--right",children:[m.jsx("li",{className:"navbar__item",children:m.jsx(Yi,{to:"/members",className:"navbar__link",children:"Members"})}),m.jsxs("li",{className:"navbar__item navbar__item--join",children:[m.jsx(Yi,{to:e?"/join":"#",className:`navbar__link ${e?"":"navbar__link--disabled"}`,onClick:u,children:"Join"}),i&&m.jsxs("div",{className:"navbar__tooltip",children:[m.jsx("span",{children:"Recruitment is closed"}),m.jsx("span",{className:"navbar__tooltip-sub",children:"Check back later!"})]})]}),m.jsx("li",{className:"navbar__item",children:m.jsx(Yi,{to:"/merch",className:"navbar__link",children:"Merch"})})]})]})}const mI=n=>{let e=n.substring(0,3).toUpperCase();for(;e.length<3;)e+="X";return e.substring(0,3)},EH=n=>{if(n.length===0)return 1;const e=[...n].sort((t,r)=>t-r);for(let t=1;t<=e.length+1;t++)if(!e.includes(t))return t;return e[e.length-1]+1},AH=async()=>{const n=hr(An,"system","orbitIdRegistry"),e=await Js(n);let t=[];if(!e.exists())return await ou(n,{usedIds:[1]}),"0001";t=e.data().usedIds||[];const r=EH(t);return await Wo(n,{usedIds:p8(r)}),String(r).padStart(4,"0")},SH=async n=>{const e=mI(n),t=await AH();return`ORB-${e}-${t}`},TH=async n=>{const e=n.split("-");if(e.length===3){const t=parseInt(e[2],10);if(!isNaN(t)){const r=hr(An,"system","orbitIdRegistry");await Wo(r,{usedIds:x8(t)})}}},NH=async()=>{const n=Bl.currentUser;if(!n)throw new Error("No authenticated user found");try{const e=hr(An,"users",n.uid),t=await Js(e);if(t.exists()){const i=t.data().orbitId;await mu(e),i&&await TH(i)}await WU(n)}catch(e){throw e.code==="auth/requires-recent-login"?new Error("For security, please log out and log back in before deleting your account."):e}},gI=async()=>{const e=(await fV(Bl,fI)).user,t=await Js(hr(An,"users",e.uid));if(t.exists())return{isNewUser:!1,profile:t.data()};const r=await Js(hr(An,"admins",e.uid));return r.exists()?{isNewUser:!1,profile:r.data()}:{isNewUser:!0,email:e.email||void 0,uid:e.uid}},CH=async n=>{const e=Bl.currentUser;if(!e)throw new Error("No authenticated user found. Please sign in with Google again.");if(e.email!==n.email)throw new Error("Email mismatch. Please sign in with Google again.");const t=await SH(n.firstName),r={uid:e.uid,orbitId:t,email:n.email,firstName:n.firstName,lastName:n.lastName,mobile:n.mobile,dateOfBirth:n.dateOfBirth,gender:n.gender,qualificationLevel:n.qualificationLevel,stream:n.stream,collegeName:n.collegeName,courseName:n.courseName,yearOfStudy:n.yearOfStudy,yearOfGraduation:n.yearOfGraduation,role:"user",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),isActive:!0,googleLinked:!0};return await ou(hr(An,"users",e.uid),r),r},Mp=async()=>{await GU(Bl)},HA=async()=>{const n=Bl.currentUser;if(!n)return null;const e=await Js(hr(An,"users",n.uid));if(e.exists())return e.data();const t=await Js(hr(An,"admins",n.uid));return t.exists()?t.data():null},IH=n=>qU(Bl,n),RH=(n,e)=>n==="leadership"?{president:"PR",chairman:"CH",secretary:"SC",treasurer:"TR",co_treasurer:"CT"}[e]||"LD":{technical:"TE",public_outreach:"PO",documentation:"DC",social_media_editing:"SM",design_innovation:"DI",management_operations:"MO"}[n]||"XX",OH={technical:{start:6,end:15},public_outreach:{start:16,end:25},documentation:{start:26,end:35},social_media_editing:{start:36,end:45},design_innovation:{start:46,end:55},management_operations:{start:56,end:65}},DH={president:1,chairman:2,secretary:3,treasurer:4,co_treasurer:5},MH=async(n,e)=>{const t=hr(An,"system","adminOrbitIdRegistry"),r=await Js(t);let i={usedNumbers:[],teamCounters:{}};r.exists()&&(i=r.data());let s;if(n==="leadership"){if(s=DH[e],!s)throw new Error(`Invalid leadership position: ${e}`);if(i.usedNumbers?.includes(s))throw{code:"position-taken",message:`The ${e} position is already filled.`}}else{const f=OH[n];if(!f)throw new Error(`Invalid team: ${n}`);if(e==="team_leader"){if(s=f.start,i.usedNumbers?.includes(s))throw{code:"position-taken",message:"The Team Leader position for this team is already filled."}}else{for(s=(i.teamCounters?.[n]||f.start)+1,s===f.start&&(s=f.start+1);i.usedNumbers?.includes(s)&&s<=f.end;)s++;if(s>f.end)throw{code:"team-full",message:"This team has reached its maximum capacity of 10 members."}}}const o=[...i.usedNumbers||[],s],u={...i.teamCounters||{},[n]:s};return await ou(t,{usedNumbers:o,teamCounters:u}),String(s).padStart(4,"0")},LH=async(n,e,t)=>{const r=mI(n),i=RH(e,t),s=await MH(e,t);return`ORB-${r}-${i}-${s}`},kH=async n=>{const e=Bl.currentUser;if(!e)throw new Error("No authenticated user found. Please sign in with Google first.");if((await Js(hr(An,"users",e.uid))).exists())throw{code:"already-registered-user",message:"This email is already registered as a regular user."};if((await Js(hr(An,"admins",e.uid))).exists())throw{code:"already-registered-admin",message:"This email is already registered as an admin."};if(e.email!==n.email)throw new Error("Email mismatch. Please sign in with Google again.");const i=await LH(n.firstName,n.team,n.position),s={leadership:"LEADERSHIP",design_innovation:"DESIGN_INNOVATION",technical:"TECHNICAL",management_operations:"MANAGEMENT_OPERATIONS",public_outreach:"PUBLIC_OUTREACH",documentation:"DOCUMENTATION",social_media_editing:"SOCIAL_MEDIA"},o={uid:e.uid,orbitId:i,email:n.email,firstName:n.firstName,lastName:n.lastName,mobile:n.mobile,dateOfBirth:n.dateOfBirth,gender:n.gender,team:n.team,position:n.position,adminRole:[s[n.team]||"MEMBER"],permissions:[],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),isActive:!0,googleLinked:!0};return await ou(hr(An,"admins",e.uid),o),o},pI=ae.createContext(null);function PH({children:n}){const[e,t]=ae.useState(null),[r,i]=ae.useState(null),[s,o]=ae.useState(!0);ae.useEffect(()=>{const E=IH(async I=>{if(t(I),I)try{const C=await HA();i(C)}catch(C){console.error("Error fetching user profile:",C),i(null)}else i(null);o(!1)});return()=>E()},[]);const u=async()=>{try{await Mp(),t(null),i(null)}catch(E){throw console.error("Error logging out:",E),E}},f=async()=>{if(e)try{const E=await HA();i(E)}catch(E){console.error("Error refreshing profile:",E)}},d=!!e&&!!r,x=ae.useMemo(()=>!!(r&&"team"in r&&r.team),[r]),w=ae.useCallback(E=>!x||!r?!1:r.permissions?.includes(E)||!1,[x,r]),A={user:e,profile:r,loading:s,isAuthenticated:d,isAdmin:x,logout:u,refreshProfile:f,hasPermission:w};return m.jsx(pI.Provider,{value:A,children:n})}function ko(){const n=ae.useContext(pI);if(!n)throw new Error("useAuth must be used within an AuthProvider");return n}const jH=[{id:"home",label:"Home",path:"/",icon:m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),m.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]})},{id:"about",label:"About",path:"/about",icon:m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("circle",{cx:"12",cy:"12",r:"10"}),m.jsx("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),m.jsx("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]})},{id:"events",label:"Events",path:"/events",icon:m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),m.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),m.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),m.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]})},{id:"members",label:"Members",path:"/members",icon:m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),m.jsx("circle",{cx:"9",cy:"7",r:"4"}),m.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),m.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]})},{id:"join",label:"Join",path:"/join",requiresRecruitment:!0,fallbackPath:"/contact",fallbackLabel:"Contact",icon:m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),m.jsx("circle",{cx:"8.5",cy:"7",r:"4"}),m.jsx("line",{x1:"20",y1:"8",x2:"20",y2:"14"}),m.jsx("line",{x1:"23",y1:"11",x2:"17",y2:"11"})]}),fallbackIcon:m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("path",{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}),m.jsx("polyline",{points:"22,6 12,13 2,6"})]})},{id:"merch",label:"Merch",path:"/merch",icon:m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("circle",{cx:"9",cy:"21",r:"1"}),m.jsx("circle",{cx:"20",cy:"21",r:"1"}),m.jsx("path",{d:"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"})]})},{id:"dashboard",label:"Dashboard",path:"/user-dashboard",requiresAuth:!0,icon:m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("rect",{x:"3",y:"3",width:"7",height:"7"}),m.jsx("rect",{x:"14",y:"3",width:"7",height:"7"}),m.jsx("rect",{x:"14",y:"14",width:"7",height:"7"}),m.jsx("rect",{x:"3",y:"14",width:"7",height:"7"})]})}];function FH(){const n=Ko(),{user:e}=ko(),{isRecruitmentOpen:t}=ed(),[r,i]=ae.useState(null),[s,o]=ae.useState(!1),u=ae.useRef(null);ae.useEffect(()=>{const w=()=>{o(window.innerWidth<=768)};return w(),window.addEventListener("resize",w),()=>window.removeEventListener("resize",w)},[]);const f=w=>{u.current=setTimeout(()=>{i(w)},500)},d=()=>{u.current&&clearTimeout(u.current),setTimeout(()=>i(null),1500)};if(!s)return null;const x=jH.filter(w=>!(w.requiresAuth&&!e));return m.jsx("nav",{className:"mobile-nav",children:m.jsx("div",{className:"mobile-nav__container",children:x.map(w=>{const A=w.requiresRecruitment&&!t&&w.fallbackPath||w.path,E=w.requiresRecruitment&&!t&&w.fallbackLabel||w.label,I=w.requiresRecruitment&&!t&&w.fallbackIcon?w.fallbackIcon:w.icon,C=n.pathname===A||A==="/"&&n.pathname==="/";return m.jsxs(Yi,{to:A,className:`mobile-nav__item ${C?"mobile-nav__item--active":""}`,onTouchStart:()=>f(w.id),onTouchEnd:d,onTouchCancel:d,children:[m.jsx("span",{className:"mobile-nav__icon",children:I}),r===w.id&&m.jsx("span",{className:"mobile-nav__tooltip",children:E})]},w.id)})})})}const BH=[{id:"home",label:"Home",path:"/"},{id:"about",label:"About",path:"/about"},{id:"events",label:"Events",path:"/events"},{id:"members",label:"Members",path:"/members"},{id:"join",label:"Join OrbitX",path:"/join",requiresRecruitment:!0,fallbackPath:"/contact",fallbackLabel:"Contact Us"},{id:"merch",label:"Merchandise",path:"/merch"}];function UH(){const n=Ko(),{isAuthenticated:e,logout:t}=ko(),{isRecruitmentOpen:r}=ed(),[i,s]=ae.useState(!1),[o,u]=ae.useState(!1);ae.useEffect(()=>{const x=()=>{u(window.innerWidth<=768)};return x(),window.addEventListener("resize",x),()=>window.removeEventListener("resize",x)},[]),ae.useEffect(()=>{s(!1)},[n.pathname]),ae.useEffect(()=>(i?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[i]);const f=()=>{s(!i)},d=async()=>{await t(),s(!1)};return o?m.jsxs(m.Fragment,{children:[m.jsxs("button",{className:`mobile-hamburger ${i?"mobile-hamburger--open":""}`,onClick:f,"aria-label":"Toggle menu",children:[m.jsx("span",{}),m.jsx("span",{}),m.jsx("span",{})]}),m.jsx("div",{className:`mobile-menu ${i?"mobile-menu--open":""}`,children:m.jsxs("div",{className:"mobile-menu__content",children:[m.jsx("nav",{className:"mobile-menu__nav",children:BH.map(x=>{const w=x.requiresRecruitment&&!r&&x.fallbackPath||x.path,A=x.requiresRecruitment&&!r&&x.fallbackLabel||x.label,E=n.pathname===w;return m.jsx(Yi,{to:w,className:`mobile-menu__link ${E?"mobile-menu__link--active":""}`,onClick:()=>s(!1),children:A},x.id)})}),m.jsx("div",{className:"mobile-menu__auth",children:e?m.jsxs(m.Fragment,{children:[m.jsx(Yi,{to:"/user-dashboard",className:"mobile-menu__auth-btn mobile-menu__auth-btn--primary",onClick:()=>s(!1),children:"Dashboard"}),m.jsx("button",{className:"mobile-menu__auth-btn mobile-menu__auth-btn--secondary",onClick:d,children:"Logout"})]}):m.jsx(Yi,{to:"/login",className:"mobile-menu__auth-btn mobile-menu__auth-btn--primary",onClick:()=>s(!1),children:"Login / Sign Up"})}),m.jsxs("div",{className:"mobile-menu__social",children:[m.jsx("a",{href:"https://www.instagram.com/orbitx_zcoer/",target:"_blank",rel:"noopener noreferrer",children:m.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:m.jsx("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"})})}),m.jsx("a",{href:"https://www.linkedin.com/company/orbitx-zcoer/",target:"_blank",rel:"noopener noreferrer",children:m.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:m.jsx("path",{d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"})})}),m.jsx("a",{href:"mailto:contact@orbitxzcoer.club",children:m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("path",{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}),m.jsx("polyline",{points:"22,6 12,13 2,6"})]})})]})]})})]}):null}function VH(){const n=Ja(),{isAuthenticated:e,loading:t}=ko();return t?m.jsx("button",{className:"login-button login-button--loading",disabled:!0,children:"..."}):e?m.jsx("button",{className:"login-button",onClick:()=>n("/user-dashboard"),children:"Dashboard"}):m.jsx("button",{className:"login-button",onClick:()=>n("/login"),children:"Login"})}function zH(){return m.jsxs("section",{className:"hero",children:[m.jsxs("div",{className:"hero__container",children:[m.jsx("div",{className:"hero__logo-wrapper",children:m.jsx("img",{src:Sw,alt:"OrbitX",className:"hero__logo"})}),m.jsx("h1",{className:"hero__headline",children:"Where Curiosity Meets The Cosmos"}),m.jsxs("p",{className:"hero__subheading",children:["Join us in pushing the boundaries of space exploration, innovation, and collaborative learning.",m.jsx("br",{}),"Together, we reach for the stars."]})]}),m.jsx("div",{className:"hero__scroll-indicator",children:m.jsx("svg",{className:"hero__arrow",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:m.jsx("path",{d:"M7 10L12 15L17 10",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})})]})}function HH(){return m.jsxs("section",{className:"about-teaser",children:[m.jsx("div",{className:"about-teaser__fade"}),m.jsxs("div",{className:"about-teaser__container",children:[m.jsx("div",{className:"about-teaser__image",children:m.jsx("div",{className:"about-teaser__placeholder"})}),m.jsxs("div",{className:"about-teaser__content",children:[m.jsx("h2",{className:"about-teaser__heading",children:"What is OrbitX?"}),m.jsxs("p",{className:"about-teaser__body",children:["OrbitX is a student-driven space and astronomy club focused on exploration, innovation, and hands-on learning.",m.jsx("br",{}),"We bring together curious minds to experiment, collaborate, and push beyond the classroom."]}),m.jsxs(Yi,{to:"/about",className:"about-teaser__button",children:["Explore More ",m.jsx("span",{className:"about-teaser__arrow",children:""})]})]})]})]})}const qH="modulepreload",GH=function(n){return"/orbitx-zcoer-website/"+n},qA={},m0=function(e,t,r){let i=Promise.resolve();if(t&&t.length>0){let f=function(d){return Promise.all(d.map(x=>Promise.resolve(x).then(w=>({status:"fulfilled",value:w}),w=>({status:"rejected",reason:w}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),u=o?.nonce||o?.getAttribute("nonce");i=f(t.map(d=>{if(d=GH(d),d in qA)return;qA[d]=!0;const x=d.endsWith(".css"),w=x?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${w}`))return;const A=document.createElement("link");if(A.rel=x?"stylesheet":qH,x||(A.as="script"),A.crossOrigin="",A.href=d,u&&A.setAttribute("nonce",u),document.head.appendChild(A),x)return new Promise((E,I)=>{A.addEventListener("load",E),A.addEventListener("error",()=>I(new Error(`Unable to preload CSS for ${d}`)))})}))}function s(o){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=o,window.dispatchEvent(u),!u.defaultPrevented)throw o}return i.then(o=>{for(const u of o||[])u.status==="rejected"&&s(u.reason);return e().catch(s)})},WH=n=>{if(!n)return"";try{const[e,t,r]=n.split("-").map(Number);return new Date(e,t-1,r).toLocaleDateString("en-IN",{day:"numeric",month:"long",year:"numeric"})}catch{return n}},YH=n=>{switch(n){case"Workshop":return"event-modal__badge--workshop";case"Talk":return"event-modal__badge--talk";case"Competition":return"event-modal__badge--competition";case"Outreach":return"event-modal__badge--outreach";default:return""}},XH=n=>n.isPast?"Past":n.type||"Event",KH=n=>!n||n===0?"event-modal__price--free":n<=100?"event-modal__price--low":n<=300?"event-modal__price--medium":n<=500?"event-modal__price--high":"event-modal__price--premium";function I5({event:n,isClosing:e,onClose:t,formatDate:r,onRegisterClick:i,isRegistered:s,onDownloadPass:o}){const[u,f]=ae.useState(0),[d,x]=ae.useState(!1),w=r||WH,A=G=>{G.target===G.currentTarget&&t()},E=G=>{const ce=L=>{const Q=L.trim().match(/(\d{1,2}):(\d{2})\s*(AM|PM)/i);if(!Q)return{hour:0,min:0};let U=parseInt(Q[1],10);const q=parseInt(Q[2],10),Y=Q[3].toUpperCase();return Y==="PM"&&U!==12&&(U+=12),Y==="AM"&&U===12&&(U=0),{hour:U,min:q}},re=G.split(" - "),F=ce(re[0]||""),B=re[1]?ce(re[1]):{hour:F.hour+2,min:F.min};return{startHour:F.hour,startMin:F.min,endHour:B.hour,endMin:B.min}},I=()=>{const G=n.date.replace(/-/g,"");let ce="000000",re="235959";if(n.time){const B=E(n.time);ce=`${String(B.startHour).padStart(2,"0")}${String(B.startMin).padStart(2,"0")}00`,re=`${String(B.endHour).padStart(2,"0")}${String(B.endMin).padStart(2,"0")}00`}const F=new URL("https://calendar.google.com/calendar/render");F.searchParams.set("action","TEMPLATE"),F.searchParams.set("text",n.title),F.searchParams.set("dates",`${G}T${ce}/${G}T${re}`),F.searchParams.set("details",n.description),n.venue&&F.searchParams.set("location",n.venue),window.open(F.toString(),"_blank"),x(!1)},C=()=>{const[G,ce,re]=n.date.split("-").map(Number);let F=0,B=0,L=23,Q=59;if(n.time){const Re=E(n.time);F=Re.startHour,B=Re.startMin,L=Re.endHour,Q=Re.endMin}const U=(Re,He,ze,xe,H)=>`${Re}${String(He).padStart(2,"0")}${String(ze).padStart(2,"0")}T${String(xe).padStart(2,"0")}${String(H).padStart(2,"0")}00`,q=U(G,ce,re,F,B),Y=U(G,ce,re,L,Q),ne=["BEGIN:VCALENDAR","VERSION:2.0","PRODID:-//OrbitX//Event//EN","BEGIN:VEVENT",`DTSTART:${q}`,`DTEND:${Y}`,`SUMMARY:${n.title}`,`DESCRIPTION:${n.description.replace(/\n/g,"\\n")}`,`LOCATION:${n.venue||""}`,`UID:${n.id}@orbitx`,"END:VEVENT","END:VCALENDAR"].join(`\r
`),pe=new Blob([ne],{type:"text/calendar;charset=utf-8"}),Ae=URL.createObjectURL(pe),ve=document.createElement("a");ve.href=Ae,ve.download=`${n.title.replace(/[^a-z0-9]/gi,"_")}.ics`,document.body.appendChild(ve),ve.click(),document.body.removeChild(ve),URL.revokeObjectURL(Ae),x(!1)},M=n.images&&n.images.length>0,j=n.images&&n.images.length>1,W=()=>{n.images&&f(G=>G===n.images.length-1?0:G+1)},k=()=>{n.images&&f(G=>G===0?n.images.length-1:G-1)};return m.jsx("div",{className:`event-modal-overlay ${e?"event-modal-overlay--closing":""}`,onClick:A,children:m.jsxs("div",{className:`event-modal ${e?"event-modal--closing":""}`,children:[m.jsx("button",{className:"event-modal__close",onClick:t,children:""}),m.jsx("div",{className:"event-modal__image",children:M?m.jsxs(m.Fragment,{children:[j&&m.jsx("button",{className:"event-modal__nav event-modal__nav--prev",onClick:k,children:""}),m.jsx("img",{src:n.images[u],alt:n.title}),j&&m.jsx("button",{className:"event-modal__nav event-modal__nav--next",onClick:W,children:""}),j&&m.jsx("div",{className:"event-modal__dots",children:n.images.map((G,ce)=>m.jsx("span",{className:`event-modal__dot ${ce===u?"event-modal__dot--active":""}`,onClick:()=>f(ce)},ce))})]}):null}),m.jsxs("div",{className:"event-modal__content",children:[m.jsxs("div",{className:"event-modal__header-row",children:[m.jsx("span",{className:`event-modal__tag ${n.isPast?"event-modal__tag--past":YH(n.type)}`,children:XH(n)}),m.jsx("span",{className:`event-modal__price ${KH(n.amount)}`,children:n.amount&&n.amount>0?`${n.amount}`:"Free"})]}),m.jsx("h3",{className:"event-modal__title",children:n.title}),m.jsx("p",{className:"event-modal__desc",children:n.description}),m.jsxs("div",{className:"event-modal__details",children:[m.jsxs("div",{className:"event-modal__detail",children:[m.jsx("span",{className:"event-modal__label",children:"Date"}),m.jsx("span",{className:"event-modal__value",children:w(n.date)})]}),n.time&&m.jsxs("div",{className:"event-modal__detail",children:[m.jsx("span",{className:"event-modal__label",children:"Time"}),m.jsx("span",{className:"event-modal__value",children:n.time})]}),m.jsxs("div",{className:"event-modal__detail",children:[m.jsx("span",{className:"event-modal__label",children:"Location"}),n.venueUrl?m.jsxs("a",{href:n.venueUrl,target:"_blank",rel:"noopener noreferrer",className:"event-modal__value event-modal__value--link",children:[n.venue||"TBA",m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"}),m.jsx("polyline",{points:"15 3 21 3 21 9"}),m.jsx("line",{x1:"10",y1:"14",x2:"21",y2:"3"})]})]}):m.jsx("span",{className:"event-modal__value",children:n.venue||"TBA"})]})]}),n.isPast?m.jsx("span",{className:"event-modal__past-label",children:"This event has ended"}):m.jsxs("div",{className:"event-modal__actions",children:[s?m.jsx("button",{className:"event-modal__register-btn event-modal__register-btn--download",onClick:()=>o?.(n),children:"Download Pass"}):m.jsx("button",{className:`event-modal__register-btn ${n.registrationOpen?"":"event-modal__register-btn--disabled"}`,disabled:!n.registrationOpen,onClick:()=>n.registrationOpen&&i?.(n),children:n.registrationOpen?"Register Now ":"Registration Closed"}),m.jsxs("div",{className:"event-modal__calendar-wrapper",children:[m.jsxs("button",{className:"event-modal__calendar-btn",onClick:()=>x(!d),children:[m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),m.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),m.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),m.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),"Add to Calendar",m.jsx("svg",{className:"event-modal__calendar-arrow",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:m.jsx("polyline",{points:"6 9 12 15 18 9"})})]}),d&&m.jsxs("div",{className:"event-modal__calendar-menu",children:[m.jsxs("button",{onClick:I,className:"event-modal__calendar-option",children:[m.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:m.jsx("path",{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"})}),"Google Calendar"]}),m.jsxs("button",{onClick:C,className:"event-modal__calendar-option",children:[m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),m.jsx("polyline",{points:"7 10 12 15 17 10"}),m.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),"Download (.ics)"]})]})]})]})]})]})})}const QH=n=>{switch(n){case"Workshop":return"event-card__badge--workshop";case"Talk":return"event-card__badge--talk";case"Competition":return"event-card__badge--competition";case"Outreach":return"event-card__badge--outreach";default:return""}},$H=n=>n.type||"Event",ZH=n=>!n||n===0?"event-card__price--free":n<=100?"event-card__price--low":n<=300?"event-card__price--medium":n<=500?"event-card__price--high":"event-card__price--premium";function Hy({event:n,onClick:e,variant:t="full",getTypeBadgeClass:r,onRegisterClick:i,isRegistered:s,onDownloadPass:o}){const u=r||QH,f=t==="teaser",d=()=>{e(n)},x=E=>{E.stopPropagation(),n.registrationOpen&&i&&i(n)},w=E=>{E.stopPropagation(),o&&o(n)},A=()=>n.isPast?m.jsx("span",{className:"event-card__status event-card__status--closed",children:"Event Completed"}):s?m.jsxs(m.Fragment,{children:[m.jsx("span",{className:"event-card__status event-card__status--registered",children:"Registered "}),m.jsx("button",{className:"event-card__cta event-card__cta--download",onClick:w,children:"Download Pass"})]}):m.jsxs(m.Fragment,{children:[m.jsx("span",{className:`event-card__status ${n.registrationOpen?"event-card__status--open":"event-card__status--closed"}`,children:n.registrationOpen?"Registration Open":"Closed"}),m.jsx("button",{className:`event-card__cta ${n.registrationOpen?"":"event-card__cta--disabled"}`,onClick:x,disabled:!n.registrationOpen,children:n.registrationOpen?"Register ":"Closed"})]});return m.jsxs("div",{className:"event-card",onClick:d,children:[m.jsx("div",{className:"event-card__image",children:n.images&&n.images.length>0&&m.jsx("img",{src:n.images[0],alt:n.title})}),m.jsxs("div",{className:"event-card__content",children:[m.jsxs("div",{className:"event-card__header",children:[m.jsx("span",{className:`event-card__tag ${u(n.type)}`,children:$H(n)}),m.jsx("span",{className:`event-card__price ${ZH(n.amount)}`,children:n.amount&&n.amount>0?`${n.amount}`:"Free"})]}),m.jsx("h3",{className:"event-card__title",children:n.title}),f?m.jsxs("p",{className:"event-card__desc",children:[n.description.substring(0,100),n.description.length>100?"...":""]}):m.jsxs(m.Fragment,{children:[m.jsx("p",{className:"event-card__desc",children:n.date}),m.jsx("div",{className:"event-card__footer",children:A()})]})]})]})}const JH=n=>/^\d{4}$/.test(n),eq=n=>/^\d{3}[A-Za-z]$/.test(n),tq=n=>JH(n)?"aadhar":eq(n)?"pan":null,nq=n=>{if(!n)return"";try{const[e,t,r]=n.split("-").map(Number);return new Date(e,t-1,r).toLocaleDateString("en-IN",{day:"numeric",month:"long",year:"numeric"})}catch{return n}},o_=(n,e)=>`registration_${n}_${e}`;function rq({event:n,isOpen:e,onClose:t,userProfile:r,onRegisterComplete:i}){const[s,o]=ae.useState(""),[u,f]=ae.useState(null),[d,x]=ae.useState(!1),[w,A]=ae.useState(!1),[E,I]=ae.useState(""),[C,M]=ae.useState(!1),j=n.amount&&n.amount>0;ae.useEffect(()=>{if(e&&r&&n.id){const F=o_(n.id,r.orbitId),B=localStorage.getItem(F);if(B)try{const L=JSON.parse(B);o(L.govIdLast4||""),f(L.detectedIdType||null),x(L.agreedToTerms||!1)}catch{}}},[e,r,n.id]),ae.useEffect(()=>{if(r&&n.id&&(s||d)){const F=o_(n.id,r.orbitId);localStorage.setItem(F,JSON.stringify({govIdLast4:s,detectedIdType:u,agreedToTerms:d}))}},[s,u,d,r,n.id]);const W=F=>{const B=F.slice(0,4).toUpperCase();if(o(B),I(""),B.length===4){const L=tq(B);f(L),L||I("Invalid format. Enter 4 digits for Aadhar or 3 digits + 1 letter for PAN.")}else f(null)},k=()=>{M(!0),setTimeout(()=>{M(!1),t()},200)},G=F=>{F.target===F.currentTarget&&k()},ce=async()=>{if(!r){I("Please log in to register");return}if(s.length!==4){I("Please enter last 4 characters of your Government ID");return}if(!u){I("Invalid Government ID format");return}if(!d){I("Please agree to the terms and conditions");return}A(!0),I("");try{const F={orbitId:r.orbitId,fullName:`${r.firstName} ${r.lastName}`,email:r.email,mobile:r.mobile,collegeName:r.collegeName,eventId:n.id,eventName:n.title,eventDate:n.date,govIdType:u,govIdLast4:s,registeredAt:new Date().toISOString()},B=o_(n.id,r.orbitId);localStorage.removeItem(B),i(F)}catch{I("Registration failed. Please try again.")}finally{A(!1)}},re=()=>{if(!d){I("Please agree to the terms and conditions");return}if(s.length!==4||!u){I("Please enter valid Government ID");return}alert("Payment integration coming soon!")};return e?m.jsx("div",{className:`registration-modal-overlay ${C?"registration-modal-overlay--closing":""}`,onClick:G,children:m.jsxs("div",{className:`registration-modal ${C?"registration-modal--closing":""}`,children:[m.jsxs("div",{className:"registration-modal__header",children:[m.jsx("h2",{className:"registration-modal__title",children:"Event Registration"}),m.jsx("button",{className:"registration-modal__close",onClick:k,children:m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),m.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),m.jsxs("div",{className:"registration-modal__content",children:[m.jsxs("div",{className:"registration-modal__event-info",children:[m.jsx("h3",{className:"registration-modal__event-name",children:n.title}),m.jsx("p",{className:"registration-modal__event-date",children:nq(n.date)}),j&&m.jsxs("span",{className:"registration-modal__event-fee",children:["",n.amount]})]}),m.jsxs("div",{className:"registration-modal__section",children:[m.jsx("h4",{className:"registration-modal__section-title",children:"Your Details"}),m.jsxs("div",{className:"registration-modal__field",children:[m.jsx("label",{className:"registration-modal__label",children:"Orbit ID"}),m.jsx("input",{type:"text",className:"registration-modal__input registration-modal__input--readonly",value:r?.orbitId||"",readOnly:!0})]}),m.jsxs("div",{className:"registration-modal__field",children:[m.jsx("label",{className:"registration-modal__label",children:"Full Name"}),m.jsx("input",{type:"text",className:"registration-modal__input registration-modal__input--readonly",value:r?`${r.firstName} ${r.lastName}`:"",readOnly:!0})]}),m.jsxs("div",{className:"registration-modal__row",children:[m.jsxs("div",{className:"registration-modal__field",children:[m.jsx("label",{className:"registration-modal__label",children:"Email Address"}),m.jsx("input",{type:"email",className:"registration-modal__input registration-modal__input--readonly",value:r?.email||"",readOnly:!0})]}),m.jsxs("div",{className:"registration-modal__field",children:[m.jsx("label",{className:"registration-modal__label",children:"Mobile Number"}),m.jsx("input",{type:"tel",className:"registration-modal__input registration-modal__input--readonly",value:r?.mobile||"",readOnly:!0})]})]}),m.jsxs("div",{className:"registration-modal__field",children:[m.jsx("label",{className:"registration-modal__label",children:"College Name"}),m.jsx("input",{type:"text",className:"registration-modal__input registration-modal__input--readonly",value:r?.collegeName||"",readOnly:!0})]})]}),m.jsxs("div",{className:"registration-modal__section",children:[m.jsx("h4",{className:"registration-modal__section-title",children:"Identity Verification"}),m.jsxs("div",{className:"registration-modal__field",children:[m.jsx("label",{className:"registration-modal__label",children:"Government ID (Last 4 characters) *"}),m.jsx("input",{type:"text",className:"registration-modal__input",value:s,onChange:F=>W(F.target.value),placeholder:"e.g., 1234 for Aadhar or 123A for PAN",maxLength:4}),u&&m.jsxs("span",{className:"registration-modal__id-detected",children:["Detected: ",u==="aadhar"?"Aadhar Card":"PAN Card"]}),m.jsx("p",{className:"registration-modal__hint",children:"Enter last 4 digits of Aadhar (e.g., 1234) or last 4 characters of PAN (e.g., 123A)"})]})]}),m.jsx("div",{className:"registration-modal__terms",children:m.jsxs("label",{className:"registration-modal__checkbox-label",children:[m.jsx("input",{type:"checkbox",checked:d,onChange:F=>{x(F.target.checked),I("")}}),m.jsxs("span",{className:"registration-modal__checkbox-text",children:["I agree to the ",m.jsx("a",{href:"/terms",target:"_blank",children:"Terms and Conditions"})," and confirm that the information provided is accurate."]})]})}),E&&m.jsx("p",{className:"registration-modal__error",children:E}),m.jsx("div",{className:"registration-modal__actions",children:j?m.jsxs("button",{className:"registration-modal__btn registration-modal__btn--pay",onClick:re,disabled:w,children:["Pay ",n.amount]}):m.jsx("button",{className:"registration-modal__btn registration-modal__btn--register",onClick:ce,disabled:w,children:w?"Registering...":"Register"})})]})]})}):null}var qd={},l_,GA;function iq(){return GA||(GA=1,l_=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),l_}var c_={},Nh={},WA;function td(){if(WA)return Nh;WA=1;let n;const e=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return Nh.getSymbolSize=function(r){if(!r)throw new Error('"version" cannot be null or undefined');if(r<1||r>40)throw new Error('"version" should be in range from 1 to 40');return r*4+17},Nh.getSymbolTotalCodewords=function(r){return e[r]},Nh.getBCHDigit=function(t){let r=0;for(;t!==0;)r++,t>>>=1;return r},Nh.setToSJISFunction=function(r){if(typeof r!="function")throw new Error('"toSJISFunc" is not a valid function.');n=r},Nh.isKanjiModeEnabled=function(){return typeof n<"u"},Nh.toSJIS=function(r){return n(r)},Nh}var u_={},YA;function R5(){return YA||(YA=1,(function(n){n.L={bit:1},n.M={bit:0},n.Q={bit:3},n.H={bit:2};function e(t){if(typeof t!="string")throw new Error("Param is not a string");switch(t.toLowerCase()){case"l":case"low":return n.L;case"m":case"medium":return n.M;case"q":case"quartile":return n.Q;case"h":case"high":return n.H;default:throw new Error("Unknown EC Level: "+t)}}n.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},n.from=function(r,i){if(n.isValid(r))return r;try{return e(r)}catch{return i}}})(u_)),u_}var h_,XA;function sq(){if(XA)return h_;XA=1;function n(){this.buffer=[],this.length=0}return n.prototype={get:function(e){const t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)===1},put:function(e,t){for(let r=0;r<t;r++)this.putBit((e>>>t-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},h_=n,h_}var f_,KA;function aq(){if(KA)return f_;KA=1;function n(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}return n.prototype.set=function(e,t,r,i){const s=e*this.size+t;this.data[s]=r,i&&(this.reservedBit[s]=!0)},n.prototype.get=function(e,t){return this.data[e*this.size+t]},n.prototype.xor=function(e,t,r){this.data[e*this.size+t]^=r},n.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]},f_=n,f_}var d_={},QA;function oq(){return QA||(QA=1,(function(n){const e=td().getSymbolSize;n.getRowColCoords=function(r){if(r===1)return[];const i=Math.floor(r/7)+2,s=e(r),o=s===145?26:Math.ceil((s-13)/(2*i-2))*2,u=[s-7];for(let f=1;f<i-1;f++)u[f]=u[f-1]-o;return u.push(6),u.reverse()},n.getPositions=function(r){const i=[],s=n.getRowColCoords(r),o=s.length;for(let u=0;u<o;u++)for(let f=0;f<o;f++)u===0&&f===0||u===0&&f===o-1||u===o-1&&f===0||i.push([s[u],s[f]]);return i}})(d_)),d_}var m_={},$A;function lq(){if($A)return m_;$A=1;const n=td().getSymbolSize,e=7;return m_.getPositions=function(r){const i=n(r);return[[0,0],[i-e,0],[0,i-e]]},m_}var g_={},ZA;function cq(){return ZA||(ZA=1,(function(n){n.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};n.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},n.from=function(i){return n.isValid(i)?parseInt(i,10):void 0},n.getPenaltyN1=function(i){const s=i.size;let o=0,u=0,f=0,d=null,x=null;for(let w=0;w<s;w++){u=f=0,d=x=null;for(let A=0;A<s;A++){let E=i.get(w,A);E===d?u++:(u>=5&&(o+=e.N1+(u-5)),d=E,u=1),E=i.get(A,w),E===x?f++:(f>=5&&(o+=e.N1+(f-5)),x=E,f=1)}u>=5&&(o+=e.N1+(u-5)),f>=5&&(o+=e.N1+(f-5))}return o},n.getPenaltyN2=function(i){const s=i.size;let o=0;for(let u=0;u<s-1;u++)for(let f=0;f<s-1;f++){const d=i.get(u,f)+i.get(u,f+1)+i.get(u+1,f)+i.get(u+1,f+1);(d===4||d===0)&&o++}return o*e.N2},n.getPenaltyN3=function(i){const s=i.size;let o=0,u=0,f=0;for(let d=0;d<s;d++){u=f=0;for(let x=0;x<s;x++)u=u<<1&2047|i.get(d,x),x>=10&&(u===1488||u===93)&&o++,f=f<<1&2047|i.get(x,d),x>=10&&(f===1488||f===93)&&o++}return o*e.N3},n.getPenaltyN4=function(i){let s=0;const o=i.data.length;for(let f=0;f<o;f++)s+=i.data[f];return Math.abs(Math.ceil(s*100/o/5)-10)*e.N4};function t(r,i,s){switch(r){case n.Patterns.PATTERN000:return(i+s)%2===0;case n.Patterns.PATTERN001:return i%2===0;case n.Patterns.PATTERN010:return s%3===0;case n.Patterns.PATTERN011:return(i+s)%3===0;case n.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(s/3))%2===0;case n.Patterns.PATTERN101:return i*s%2+i*s%3===0;case n.Patterns.PATTERN110:return(i*s%2+i*s%3)%2===0;case n.Patterns.PATTERN111:return(i*s%3+(i+s)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}n.applyMask=function(i,s){const o=s.size;for(let u=0;u<o;u++)for(let f=0;f<o;f++)s.isReserved(f,u)||s.xor(f,u,t(i,f,u))},n.getBestMask=function(i,s){const o=Object.keys(n.Patterns).length;let u=0,f=1/0;for(let d=0;d<o;d++){s(d),n.applyMask(d,i);const x=n.getPenaltyN1(i)+n.getPenaltyN2(i)+n.getPenaltyN3(i)+n.getPenaltyN4(i);n.applyMask(d,i),x<f&&(f=x,u=d)}return u}})(g_)),g_}var $g={},JA;function xI(){if(JA)return $g;JA=1;const n=R5(),e=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],t=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return $g.getBlocksCount=function(i,s){switch(s){case n.L:return e[(i-1)*4+0];case n.M:return e[(i-1)*4+1];case n.Q:return e[(i-1)*4+2];case n.H:return e[(i-1)*4+3];default:return}},$g.getTotalCodewordsCount=function(i,s){switch(s){case n.L:return t[(i-1)*4+0];case n.M:return t[(i-1)*4+1];case n.Q:return t[(i-1)*4+2];case n.H:return t[(i-1)*4+3];default:return}},$g}var p_={},O1={},eS;function uq(){if(eS)return O1;eS=1;const n=new Uint8Array(512),e=new Uint8Array(256);return(function(){let r=1;for(let i=0;i<255;i++)n[i]=r,e[r]=i,r<<=1,r&256&&(r^=285);for(let i=255;i<512;i++)n[i]=n[i-255]})(),O1.log=function(r){if(r<1)throw new Error("log("+r+")");return e[r]},O1.exp=function(r){return n[r]},O1.mul=function(r,i){return r===0||i===0?0:n[e[r]+e[i]]},O1}var tS;function hq(){return tS||(tS=1,(function(n){const e=uq();n.mul=function(r,i){const s=new Uint8Array(r.length+i.length-1);for(let o=0;o<r.length;o++)for(let u=0;u<i.length;u++)s[o+u]^=e.mul(r[o],i[u]);return s},n.mod=function(r,i){let s=new Uint8Array(r);for(;s.length-i.length>=0;){const o=s[0];for(let f=0;f<i.length;f++)s[f]^=e.mul(i[f],o);let u=0;for(;u<s.length&&s[u]===0;)u++;s=s.slice(u)}return s},n.generateECPolynomial=function(r){let i=new Uint8Array([1]);for(let s=0;s<r;s++)i=n.mul(i,new Uint8Array([1,e.exp(s)]));return i}})(p_)),p_}var x_,nS;function fq(){if(nS)return x_;nS=1;const n=hq();function e(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}return e.prototype.initialize=function(r){this.degree=r,this.genPoly=n.generateECPolynomial(this.degree)},e.prototype.encode=function(r){if(!this.genPoly)throw new Error("Encoder not initialized");const i=new Uint8Array(r.length+this.degree);i.set(r);const s=n.mod(i,this.genPoly),o=this.degree-s.length;if(o>0){const u=new Uint8Array(this.degree);return u.set(s,o),u}return s},x_=e,x_}var v_={},__={},y_={},rS;function vI(){return rS||(rS=1,y_.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}),y_}var qc={},iS;function _I(){if(iS)return qc;iS=1;const n="[0-9]+",e="[A-Z $%*+\\-./:]+";let t="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";t=t.replace(/u/g,"\\u");const r="(?:(?![A-Z0-9 $%*+\\-./:]|"+t+`)(?:.|[\r
]))+`;qc.KANJI=new RegExp(t,"g"),qc.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),qc.BYTE=new RegExp(r,"g"),qc.NUMERIC=new RegExp(n,"g"),qc.ALPHANUMERIC=new RegExp(e,"g");const i=new RegExp("^"+t+"$"),s=new RegExp("^"+n+"$"),o=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return qc.testKanji=function(f){return i.test(f)},qc.testNumeric=function(f){return s.test(f)},qc.testAlphanumeric=function(f){return o.test(f)},qc}var sS;function nd(){return sS||(sS=1,(function(n){const e=vI(),t=_I();n.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},n.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},n.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},n.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},n.MIXED={bit:-1},n.getCharCountIndicator=function(s,o){if(!s.ccBits)throw new Error("Invalid mode: "+s);if(!e.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?s.ccBits[0]:o<27?s.ccBits[1]:s.ccBits[2]},n.getBestModeForData=function(s){return t.testNumeric(s)?n.NUMERIC:t.testAlphanumeric(s)?n.ALPHANUMERIC:t.testKanji(s)?n.KANJI:n.BYTE},n.toString=function(s){if(s&&s.id)return s.id;throw new Error("Invalid mode")},n.isValid=function(s){return s&&s.bit&&s.ccBits};function r(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return n.NUMERIC;case"alphanumeric":return n.ALPHANUMERIC;case"kanji":return n.KANJI;case"byte":return n.BYTE;default:throw new Error("Unknown mode: "+i)}}n.from=function(s,o){if(n.isValid(s))return s;try{return r(s)}catch{return o}}})(__)),__}var aS;function dq(){return aS||(aS=1,(function(n){const e=td(),t=xI(),r=R5(),i=nd(),s=vI(),o=7973,u=e.getBCHDigit(o);function f(A,E,I){for(let C=1;C<=40;C++)if(E<=n.getCapacity(C,I,A))return C}function d(A,E){return i.getCharCountIndicator(A,E)+4}function x(A,E){let I=0;return A.forEach(function(C){const M=d(C.mode,E);I+=M+C.getBitsLength()}),I}function w(A,E){for(let I=1;I<=40;I++)if(x(A,I)<=n.getCapacity(I,E,i.MIXED))return I}n.from=function(E,I){return s.isValid(E)?parseInt(E,10):I},n.getCapacity=function(E,I,C){if(!s.isValid(E))throw new Error("Invalid QR Code version");typeof C>"u"&&(C=i.BYTE);const M=e.getSymbolTotalCodewords(E),j=t.getTotalCodewordsCount(E,I),W=(M-j)*8;if(C===i.MIXED)return W;const k=W-d(C,E);switch(C){case i.NUMERIC:return Math.floor(k/10*3);case i.ALPHANUMERIC:return Math.floor(k/11*2);case i.KANJI:return Math.floor(k/13);case i.BYTE:default:return Math.floor(k/8)}},n.getBestVersionForData=function(E,I){let C;const M=r.from(I,r.M);if(Array.isArray(E)){if(E.length>1)return w(E,M);if(E.length===0)return 1;C=E[0]}else C=E;return f(C.mode,C.getLength(),M)},n.getEncodedBits=function(E){if(!s.isValid(E)||E<7)throw new Error("Invalid QR Code version");let I=E<<12;for(;e.getBCHDigit(I)-u>=0;)I^=o<<e.getBCHDigit(I)-u;return E<<12|I}})(v_)),v_}var w_={},oS;function mq(){if(oS)return w_;oS=1;const n=td(),e=1335,t=21522,r=n.getBCHDigit(e);return w_.getEncodedBits=function(s,o){const u=s.bit<<3|o;let f=u<<10;for(;n.getBCHDigit(f)-r>=0;)f^=e<<n.getBCHDigit(f)-r;return(u<<10|f)^t},w_}var b_={},E_,lS;function gq(){if(lS)return E_;lS=1;const n=nd();function e(t){this.mode=n.NUMERIC,this.data=t.toString()}return e.getBitsLength=function(r){return 10*Math.floor(r/3)+(r%3?r%3*3+1:0)},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(r){let i,s,o;for(i=0;i+3<=this.data.length;i+=3)s=this.data.substr(i,3),o=parseInt(s,10),r.put(o,10);const u=this.data.length-i;u>0&&(s=this.data.substr(i),o=parseInt(s,10),r.put(o,u*3+1))},E_=e,E_}var A_,cS;function pq(){if(cS)return A_;cS=1;const n=nd(),e=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function t(r){this.mode=n.ALPHANUMERIC,this.data=r}return t.getBitsLength=function(i){return 11*Math.floor(i/2)+6*(i%2)},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(i){let s;for(s=0;s+2<=this.data.length;s+=2){let o=e.indexOf(this.data[s])*45;o+=e.indexOf(this.data[s+1]),i.put(o,11)}this.data.length%2&&i.put(e.indexOf(this.data[s]),6)},A_=t,A_}var S_,uS;function xq(){if(uS)return S_;uS=1;const n=nd();function e(t){this.mode=n.BYTE,typeof t=="string"?this.data=new TextEncoder().encode(t):this.data=new Uint8Array(t)}return e.getBitsLength=function(r){return r*8},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(t){for(let r=0,i=this.data.length;r<i;r++)t.put(this.data[r],8)},S_=e,S_}var T_,hS;function vq(){if(hS)return T_;hS=1;const n=nd(),e=td();function t(r){this.mode=n.KANJI,this.data=r}return t.getBitsLength=function(i){return i*13},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(r){let i;for(i=0;i<this.data.length;i++){let s=e.toSJIS(this.data[i]);if(s>=33088&&s<=40956)s-=33088;else if(s>=57408&&s<=60351)s-=49472;else throw new Error("Invalid SJIS character: "+this.data[i]+`
Make sure your charset is UTF-8`);s=(s>>>8&255)*192+(s&255),r.put(s,13)}},T_=t,T_}var N_={exports:{}},fS;function _q(){return fS||(fS=1,(function(n){var e={single_source_shortest_paths:function(t,r,i){var s={},o={};o[r]=0;var u=e.PriorityQueue.make();u.push(r,0);for(var f,d,x,w,A,E,I,C,M;!u.empty();){f=u.pop(),d=f.value,w=f.cost,A=t[d]||{};for(x in A)A.hasOwnProperty(x)&&(E=A[x],I=w+E,C=o[x],M=typeof o[x]>"u",(M||C>I)&&(o[x]=I,u.push(x,I),s[x]=d))}if(typeof i<"u"&&typeof o[i]>"u"){var j=["Could not find a path from ",r," to ",i,"."].join("");throw new Error(j)}return s},extract_shortest_path_from_predecessor_list:function(t,r){for(var i=[],s=r;s;)i.push(s),t[s],s=t[s];return i.reverse(),i},find_path:function(t,r,i){var s=e.single_source_shortest_paths(t,r,i);return e.extract_shortest_path_from_predecessor_list(s,i)},PriorityQueue:{make:function(t){var r=e.PriorityQueue,i={},s;t=t||{};for(s in r)r.hasOwnProperty(s)&&(i[s]=r[s]);return i.queue=[],i.sorter=t.sorter||r.default_sorter,i},default_sorter:function(t,r){return t.cost-r.cost},push:function(t,r){var i={value:t,cost:r};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};n.exports=e})(N_)),N_.exports}var dS;function yq(){return dS||(dS=1,(function(n){const e=nd(),t=gq(),r=pq(),i=xq(),s=vq(),o=_I(),u=td(),f=_q();function d(j){return unescape(encodeURIComponent(j)).length}function x(j,W,k){const G=[];let ce;for(;(ce=j.exec(k))!==null;)G.push({data:ce[0],index:ce.index,mode:W,length:ce[0].length});return G}function w(j){const W=x(o.NUMERIC,e.NUMERIC,j),k=x(o.ALPHANUMERIC,e.ALPHANUMERIC,j);let G,ce;return u.isKanjiModeEnabled()?(G=x(o.BYTE,e.BYTE,j),ce=x(o.KANJI,e.KANJI,j)):(G=x(o.BYTE_KANJI,e.BYTE,j),ce=[]),W.concat(k,G,ce).sort(function(F,B){return F.index-B.index}).map(function(F){return{data:F.data,mode:F.mode,length:F.length}})}function A(j,W){switch(W){case e.NUMERIC:return t.getBitsLength(j);case e.ALPHANUMERIC:return r.getBitsLength(j);case e.KANJI:return s.getBitsLength(j);case e.BYTE:return i.getBitsLength(j)}}function E(j){return j.reduce(function(W,k){const G=W.length-1>=0?W[W.length-1]:null;return G&&G.mode===k.mode?(W[W.length-1].data+=k.data,W):(W.push(k),W)},[])}function I(j){const W=[];for(let k=0;k<j.length;k++){const G=j[k];switch(G.mode){case e.NUMERIC:W.push([G,{data:G.data,mode:e.ALPHANUMERIC,length:G.length},{data:G.data,mode:e.BYTE,length:G.length}]);break;case e.ALPHANUMERIC:W.push([G,{data:G.data,mode:e.BYTE,length:G.length}]);break;case e.KANJI:W.push([G,{data:G.data,mode:e.BYTE,length:d(G.data)}]);break;case e.BYTE:W.push([{data:G.data,mode:e.BYTE,length:d(G.data)}])}}return W}function C(j,W){const k={},G={start:{}};let ce=["start"];for(let re=0;re<j.length;re++){const F=j[re],B=[];for(let L=0;L<F.length;L++){const Q=F[L],U=""+re+L;B.push(U),k[U]={node:Q,lastCount:0},G[U]={};for(let q=0;q<ce.length;q++){const Y=ce[q];k[Y]&&k[Y].node.mode===Q.mode?(G[Y][U]=A(k[Y].lastCount+Q.length,Q.mode)-A(k[Y].lastCount,Q.mode),k[Y].lastCount+=Q.length):(k[Y]&&(k[Y].lastCount=Q.length),G[Y][U]=A(Q.length,Q.mode)+4+e.getCharCountIndicator(Q.mode,W))}}ce=B}for(let re=0;re<ce.length;re++)G[ce[re]].end=0;return{map:G,table:k}}function M(j,W){let k;const G=e.getBestModeForData(j);if(k=e.from(W,G),k!==e.BYTE&&k.bit<G.bit)throw new Error('"'+j+'" cannot be encoded with mode '+e.toString(k)+`.
 Suggested mode is: `+e.toString(G));switch(k===e.KANJI&&!u.isKanjiModeEnabled()&&(k=e.BYTE),k){case e.NUMERIC:return new t(j);case e.ALPHANUMERIC:return new r(j);case e.KANJI:return new s(j);case e.BYTE:return new i(j)}}n.fromArray=function(W){return W.reduce(function(k,G){return typeof G=="string"?k.push(M(G,null)):G.data&&k.push(M(G.data,G.mode)),k},[])},n.fromString=function(W,k){const G=w(W,u.isKanjiModeEnabled()),ce=I(G),re=C(ce,k),F=f.find_path(re.map,"start","end"),B=[];for(let L=1;L<F.length-1;L++)B.push(re.table[F[L]].node);return n.fromArray(E(B))},n.rawSplit=function(W){return n.fromArray(w(W,u.isKanjiModeEnabled()))}})(b_)),b_}var mS;function wq(){if(mS)return c_;mS=1;const n=td(),e=R5(),t=sq(),r=aq(),i=oq(),s=lq(),o=cq(),u=xI(),f=fq(),d=dq(),x=mq(),w=nd(),A=yq();function E(re,F){const B=re.size,L=s.getPositions(F);for(let Q=0;Q<L.length;Q++){const U=L[Q][0],q=L[Q][1];for(let Y=-1;Y<=7;Y++)if(!(U+Y<=-1||B<=U+Y))for(let ne=-1;ne<=7;ne++)q+ne<=-1||B<=q+ne||(Y>=0&&Y<=6&&(ne===0||ne===6)||ne>=0&&ne<=6&&(Y===0||Y===6)||Y>=2&&Y<=4&&ne>=2&&ne<=4?re.set(U+Y,q+ne,!0,!0):re.set(U+Y,q+ne,!1,!0))}}function I(re){const F=re.size;for(let B=8;B<F-8;B++){const L=B%2===0;re.set(B,6,L,!0),re.set(6,B,L,!0)}}function C(re,F){const B=i.getPositions(F);for(let L=0;L<B.length;L++){const Q=B[L][0],U=B[L][1];for(let q=-2;q<=2;q++)for(let Y=-2;Y<=2;Y++)q===-2||q===2||Y===-2||Y===2||q===0&&Y===0?re.set(Q+q,U+Y,!0,!0):re.set(Q+q,U+Y,!1,!0)}}function M(re,F){const B=re.size,L=d.getEncodedBits(F);let Q,U,q;for(let Y=0;Y<18;Y++)Q=Math.floor(Y/3),U=Y%3+B-8-3,q=(L>>Y&1)===1,re.set(Q,U,q,!0),re.set(U,Q,q,!0)}function j(re,F,B){const L=re.size,Q=x.getEncodedBits(F,B);let U,q;for(U=0;U<15;U++)q=(Q>>U&1)===1,U<6?re.set(U,8,q,!0):U<8?re.set(U+1,8,q,!0):re.set(L-15+U,8,q,!0),U<8?re.set(8,L-U-1,q,!0):U<9?re.set(8,15-U-1+1,q,!0):re.set(8,15-U-1,q,!0);re.set(L-8,8,1,!0)}function W(re,F){const B=re.size;let L=-1,Q=B-1,U=7,q=0;for(let Y=B-1;Y>0;Y-=2)for(Y===6&&Y--;;){for(let ne=0;ne<2;ne++)if(!re.isReserved(Q,Y-ne)){let pe=!1;q<F.length&&(pe=(F[q]>>>U&1)===1),re.set(Q,Y-ne,pe),U--,U===-1&&(q++,U=7)}if(Q+=L,Q<0||B<=Q){Q-=L,L=-L;break}}}function k(re,F,B){const L=new t;B.forEach(function(ne){L.put(ne.mode.bit,4),L.put(ne.getLength(),w.getCharCountIndicator(ne.mode,re)),ne.write(L)});const Q=n.getSymbolTotalCodewords(re),U=u.getTotalCodewordsCount(re,F),q=(Q-U)*8;for(L.getLengthInBits()+4<=q&&L.put(0,4);L.getLengthInBits()%8!==0;)L.putBit(0);const Y=(q-L.getLengthInBits())/8;for(let ne=0;ne<Y;ne++)L.put(ne%2?17:236,8);return G(L,re,F)}function G(re,F,B){const L=n.getSymbolTotalCodewords(F),Q=u.getTotalCodewordsCount(F,B),U=L-Q,q=u.getBlocksCount(F,B),Y=L%q,ne=q-Y,pe=Math.floor(L/q),Ae=Math.floor(U/q),ve=Ae+1,Re=pe-Ae,He=new f(Re);let ze=0;const xe=new Array(q),H=new Array(q);let J=0;const Z=new Uint8Array(re.buffer);for(let Ve=0;Ve<q;Ve++){const Ie=Ve<ne?Ae:ve;xe[Ve]=Z.slice(ze,ze+Ie),H[Ve]=He.encode(xe[Ve]),ze+=Ie,J=Math.max(J,Ie)}const oe=new Uint8Array(L);let de=0,Me,Ue;for(Me=0;Me<J;Me++)for(Ue=0;Ue<q;Ue++)Me<xe[Ue].length&&(oe[de++]=xe[Ue][Me]);for(Me=0;Me<Re;Me++)for(Ue=0;Ue<q;Ue++)oe[de++]=H[Ue][Me];return oe}function ce(re,F,B,L){let Q;if(Array.isArray(re))Q=A.fromArray(re);else if(typeof re=="string"){let pe=F;if(!pe){const Ae=A.rawSplit(re);pe=d.getBestVersionForData(Ae,B)}Q=A.fromString(re,pe||40)}else throw new Error("Invalid data");const U=d.getBestVersionForData(Q,B);if(!U)throw new Error("The amount of data is too big to be stored in a QR Code");if(!F)F=U;else if(F<U)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+U+`.
`);const q=k(F,B,Q),Y=n.getSymbolSize(F),ne=new r(Y);return E(ne,F),I(ne),C(ne,F),j(ne,B,0),F>=7&&M(ne,F),W(ne,q),isNaN(L)&&(L=o.getBestMask(ne,j.bind(null,ne,B))),o.applyMask(L,ne),j(ne,B,L),{modules:ne,version:F,errorCorrectionLevel:B,maskPattern:L,segments:Q}}return c_.create=function(F,B){if(typeof F>"u"||F==="")throw new Error("No input text");let L=e.M,Q,U;return typeof B<"u"&&(L=e.from(B.errorCorrectionLevel,e.M),Q=d.from(B.version),U=o.from(B.maskPattern),B.toSJISFunc&&n.setToSJISFunction(B.toSJISFunc)),ce(F,Q,L,U)},c_}var C_={},I_={},gS;function yI(){return gS||(gS=1,(function(n){function e(t){if(typeof t=="number"&&(t=t.toString()),typeof t!="string")throw new Error("Color should be defined as hex string");let r=t.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+t);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(s){return[s,s]}))),r.length===6&&r.push("F","F");const i=parseInt(r.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+r.slice(0,6).join("")}}n.getOptions=function(r){r||(r={}),r.color||(r.color={});const i=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,s=r.width&&r.width>=21?r.width:void 0,o=r.scale||4;return{width:s,scale:s?4:o,margin:i,color:{dark:e(r.color.dark||"#000000ff"),light:e(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},n.getScale=function(r,i){return i.width&&i.width>=r+i.margin*2?i.width/(r+i.margin*2):i.scale},n.getImageWidth=function(r,i){const s=n.getScale(r,i);return Math.floor((r+i.margin*2)*s)},n.qrToImageData=function(r,i,s){const o=i.modules.size,u=i.modules.data,f=n.getScale(o,s),d=Math.floor((o+s.margin*2)*f),x=s.margin*f,w=[s.color.light,s.color.dark];for(let A=0;A<d;A++)for(let E=0;E<d;E++){let I=(A*d+E)*4,C=s.color.light;if(A>=x&&E>=x&&A<d-x&&E<d-x){const M=Math.floor((A-x)/f),j=Math.floor((E-x)/f);C=w[u[M*o+j]?1:0]}r[I++]=C.r,r[I++]=C.g,r[I++]=C.b,r[I]=C.a}}})(I_)),I_}var pS;function bq(){return pS||(pS=1,(function(n){const e=yI();function t(i,s,o){i.clearRect(0,0,s.width,s.height),s.style||(s.style={}),s.height=o,s.width=o,s.style.height=o+"px",s.style.width=o+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}n.render=function(s,o,u){let f=u,d=o;typeof f>"u"&&(!o||!o.getContext)&&(f=o,o=void 0),o||(d=r()),f=e.getOptions(f);const x=e.getImageWidth(s.modules.size,f),w=d.getContext("2d"),A=w.createImageData(x,x);return e.qrToImageData(A.data,s,f),t(w,d,x),w.putImageData(A,0,0),d},n.renderToDataURL=function(s,o,u){let f=u;typeof f>"u"&&(!o||!o.getContext)&&(f=o,o=void 0),f||(f={});const d=n.render(s,o,f),x=f.type||"image/png",w=f.rendererOpts||{};return d.toDataURL(x,w.quality)}})(C_)),C_}var R_={},xS;function Eq(){if(xS)return R_;xS=1;const n=yI();function e(i,s){const o=i.a/255,u=s+'="'+i.hex+'"';return o<1?u+" "+s+'-opacity="'+o.toFixed(2).slice(1)+'"':u}function t(i,s,o){let u=i+s;return typeof o<"u"&&(u+=" "+o),u}function r(i,s,o){let u="",f=0,d=!1,x=0;for(let w=0;w<i.length;w++){const A=Math.floor(w%s),E=Math.floor(w/s);!A&&!d&&(d=!0),i[w]?(x++,w>0&&A>0&&i[w-1]||(u+=d?t("M",A+o,.5+E+o):t("m",f,0),f=0,d=!1),A+1<s&&i[w+1]||(u+=t("h",x),x=0)):f++}return u}return R_.render=function(s,o,u){const f=n.getOptions(o),d=s.modules.size,x=s.modules.data,w=d+f.margin*2,A=f.color.light.a?"<path "+e(f.color.light,"fill")+' d="M0 0h'+w+"v"+w+'H0z"/>':"",E="<path "+e(f.color.dark,"stroke")+' d="'+r(x,d,f.margin)+'"/>',I='viewBox="0 0 '+w+" "+w+'"',M='<svg xmlns="http://www.w3.org/2000/svg" '+(f.width?'width="'+f.width+'" height="'+f.width+'" ':"")+I+' shape-rendering="crispEdges">'+A+E+`</svg>
`;return typeof u=="function"&&u(null,M),M},R_}var vS;function Aq(){if(vS)return qd;vS=1;const n=iq(),e=wq(),t=bq(),r=Eq();function i(s,o,u,f,d){const x=[].slice.call(arguments,1),w=x.length,A=typeof x[w-1]=="function";if(!A&&!n())throw new Error("Callback required as last argument");if(A){if(w<2)throw new Error("Too few arguments provided");w===2?(d=u,u=o,o=f=void 0):w===3&&(o.getContext&&typeof d>"u"?(d=f,f=void 0):(d=f,f=u,u=o,o=void 0))}else{if(w<1)throw new Error("Too few arguments provided");return w===1?(u=o,o=f=void 0):w===2&&!o.getContext&&(f=u,u=o,o=void 0),new Promise(function(E,I){try{const C=e.create(u,f);E(s(C,o,f))}catch(C){I(C)}})}try{const E=e.create(u,f);d(null,s(E,o,f))}catch(E){d(E)}}return qd.create=e.create,qd.toCanvas=i.bind(null,t.render),qd.toDataURL=i.bind(null,t.renderToDataURL),qd.toString=i.bind(null,function(s,o,u){return r.render(s,u)}),qd}var Sq=Aq();const Tq=M2(Sq);function Ai(n){"@babel/helpers - typeof";return Ai=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ai(n)}var Nc=Uint8Array,Pl=Uint16Array,O5=Int32Array,D5=new Nc([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),M5=new Nc([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),_S=new Nc([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),wI=function(n,e){for(var t=new Pl(31),r=0;r<31;++r)t[r]=e+=1<<n[r-1];for(var i=new O5(t[30]),r=1;r<30;++r)for(var s=t[r];s<t[r+1];++s)i[s]=s-t[r]<<5|r;return{b:t,r:i}},bI=wI(D5,2),Nq=bI.b,qy=bI.r;Nq[28]=258,qy[258]=28;var Cq=wI(M5,0),yS=Cq.r,Gy=new Pl(32768);for(var is=0;is<32768;++is){var Ch=(is&43690)>>1|(is&21845)<<1;Ch=(Ch&52428)>>2|(Ch&13107)<<2,Ch=(Ch&61680)>>4|(Ch&3855)<<4,Gy[is]=((Ch&65280)>>8|(Ch&255)<<8)>>1}var Z1=(function(n,e,t){for(var r=n.length,i=0,s=new Pl(e);i<r;++i)n[i]&&++s[n[i]-1];var o=new Pl(e);for(i=1;i<e;++i)o[i]=o[i-1]+s[i-1]<<1;var u;if(t){u=new Pl(1<<e);var f=15-e;for(i=0;i<r;++i)if(n[i])for(var d=i<<4|n[i],x=e-n[i],w=o[n[i]-1]++<<x,A=w|(1<<x)-1;w<=A;++w)u[Gy[w]>>f]=d}else for(u=new Pl(r),i=0;i<r;++i)n[i]&&(u[i]=Gy[o[n[i]-1]++]>>15-n[i]);return u}),Hf=new Nc(288);for(var is=0;is<144;++is)Hf[is]=8;for(var is=144;is<256;++is)Hf[is]=9;for(var is=256;is<280;++is)Hf[is]=7;for(var is=280;is<288;++is)Hf[is]=8;var o2=new Nc(32);for(var is=0;is<32;++is)o2[is]=5;var Iq=Z1(Hf,9,0),Rq=Z1(o2,5,0),EI=function(n){return(n+7)/8|0},Oq=function(n,e,t){return(t==null||t>n.length)&&(t=n.length),new Nc(n.subarray(e,t))},Mu=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8},D1=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8,n[r+2]|=t>>16},O_=function(n,e){for(var t=[],r=0;r<n.length;++r)n[r]&&t.push({s:r,f:n[r]});var i=t.length,s=t.slice();if(!i)return{t:SI,l:0};if(i==1){var o=new Nc(t[0].s+1);return o[t[0].s]=1,{t:o,l:1}}t.sort(function(ce,re){return ce.f-re.f}),t.push({s:-1,f:25001});var u=t[0],f=t[1],d=0,x=1,w=2;for(t[0]={s:-1,f:u.f+f.f,l:u,r:f};x!=i-1;)u=t[t[d].f<t[w].f?d++:w++],f=t[d!=x&&t[d].f<t[w].f?d++:w++],t[x++]={s:-1,f:u.f+f.f,l:u,r:f};for(var A=s[0].s,r=1;r<i;++r)s[r].s>A&&(A=s[r].s);var E=new Pl(A+1),I=Wy(t[x-1],E,0);if(I>e){var r=0,C=0,M=I-e,j=1<<M;for(s.sort(function(re,F){return E[F.s]-E[re.s]||re.f-F.f});r<i;++r){var W=s[r].s;if(E[W]>e)C+=j-(1<<I-E[W]),E[W]=e;else break}for(C>>=M;C>0;){var k=s[r].s;E[k]<e?C-=1<<e-E[k]++-1:++r}for(;r>=0&&C;--r){var G=s[r].s;E[G]==e&&(--E[G],++C)}I=e}return{t:new Nc(E),l:I}},Wy=function(n,e,t){return n.s==-1?Math.max(Wy(n.l,e,t+1),Wy(n.r,e,t+1)):e[n.s]=t},wS=function(n){for(var e=n.length;e&&!n[--e];);for(var t=new Pl(++e),r=0,i=n[0],s=1,o=function(f){t[r++]=f},u=1;u<=e;++u)if(n[u]==i&&u!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(i),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(i);s=1,i=n[u]}return{c:t.subarray(0,r),n:e}},M1=function(n,e){for(var t=0,r=0;r<e.length;++r)t+=n[r]*e[r];return t},AI=function(n,e,t){var r=t.length,i=EI(e+2);n[i]=r&255,n[i+1]=r>>8,n[i+2]=n[i]^255,n[i+3]=n[i+1]^255;for(var s=0;s<r;++s)n[i+s+4]=t[s];return(i+4+r)*8},bS=function(n,e,t,r,i,s,o,u,f,d,x){Mu(e,x++,t),++i[256];for(var w=O_(i,15),A=w.t,E=w.l,I=O_(s,15),C=I.t,M=I.l,j=wS(A),W=j.c,k=j.n,G=wS(C),ce=G.c,re=G.n,F=new Pl(19),B=0;B<W.length;++B)++F[W[B]&31];for(var B=0;B<ce.length;++B)++F[ce[B]&31];for(var L=O_(F,7),Q=L.t,U=L.l,q=19;q>4&&!Q[_S[q-1]];--q);var Y=d+5<<3,ne=M1(i,Hf)+M1(s,o2)+o,pe=M1(i,A)+M1(s,C)+o+14+3*q+M1(F,Q)+2*F[16]+3*F[17]+7*F[18];if(f>=0&&Y<=ne&&Y<=pe)return AI(e,x,n.subarray(f,f+d));var Ae,ve,Re,He;if(Mu(e,x,1+(pe<ne)),x+=2,pe<ne){Ae=Z1(A,E,0),ve=A,Re=Z1(C,M,0),He=C;var ze=Z1(Q,U,0);Mu(e,x,k-257),Mu(e,x+5,re-1),Mu(e,x+10,q-4),x+=14;for(var B=0;B<q;++B)Mu(e,x+3*B,Q[_S[B]]);x+=3*q;for(var xe=[W,ce],H=0;H<2;++H)for(var J=xe[H],B=0;B<J.length;++B){var Z=J[B]&31;Mu(e,x,ze[Z]),x+=Q[Z],Z>15&&(Mu(e,x,J[B]>>5&127),x+=J[B]>>12)}}else Ae=Iq,ve=Hf,Re=Rq,He=o2;for(var B=0;B<u;++B){var oe=r[B];if(oe>255){var Z=oe>>18&31;D1(e,x,Ae[Z+257]),x+=ve[Z+257],Z>7&&(Mu(e,x,oe>>23&31),x+=D5[Z]);var de=oe&31;D1(e,x,Re[de]),x+=He[de],de>3&&(D1(e,x,oe>>5&8191),x+=M5[de])}else D1(e,x,Ae[oe]),x+=ve[oe]}return D1(e,x,Ae[256]),x+ve[256]},Dq=new O5([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),SI=new Nc(0),Mq=function(n,e,t,r,i,s){var o=s.z||n.length,u=new Nc(r+o+5*(1+Math.ceil(o/7e3))+i),f=u.subarray(r,u.length-i),d=s.l,x=(s.r||0)&7;if(e){x&&(f[0]=s.r>>3);for(var w=Dq[e-1],A=w>>13,E=w&8191,I=(1<<t)-1,C=s.p||new Pl(32768),M=s.h||new Pl(I+1),j=Math.ceil(t/3),W=2*j,k=function(Rt){return(n[Rt]^n[Rt+1]<<j^n[Rt+2]<<W)&I},G=new O5(25e3),ce=new Pl(288),re=new Pl(32),F=0,B=0,L=s.i||0,Q=0,U=s.w||0,q=0;L+2<o;++L){var Y=k(L),ne=L&32767,pe=M[Y];if(C[ne]=pe,M[Y]=ne,U<=L){var Ae=o-L;if((F>7e3||Q>24576)&&(Ae>423||!d)){x=bS(n,f,0,G,ce,re,B,Q,q,L-q,x),Q=F=B=0,q=L;for(var ve=0;ve<286;++ve)ce[ve]=0;for(var ve=0;ve<30;++ve)re[ve]=0}var Re=2,He=0,ze=E,xe=ne-pe&32767;if(Ae>2&&Y==k(L-xe))for(var H=Math.min(A,Ae)-1,J=Math.min(32767,L),Z=Math.min(258,Ae);xe<=J&&--ze&&ne!=pe;){if(n[L+Re]==n[L+Re-xe]){for(var oe=0;oe<Z&&n[L+oe]==n[L+oe-xe];++oe);if(oe>Re){if(Re=oe,He=xe,oe>H)break;for(var de=Math.min(xe,oe-2),Me=0,ve=0;ve<de;++ve){var Ue=L-xe+ve&32767,Ve=C[Ue],Ie=Ue-Ve&32767;Ie>Me&&(Me=Ie,pe=Ue)}}}ne=pe,pe=C[ne],xe+=ne-pe&32767}if(He){G[Q++]=268435456|qy[Re]<<18|yS[He];var nt=qy[Re]&31,Tt=yS[He]&31;B+=D5[nt]+M5[Tt],++ce[257+nt],++re[Tt],U=L+Re,++F}else G[Q++]=n[L],++ce[n[L]]}}for(L=Math.max(L,U);L<o;++L)G[Q++]=n[L],++ce[n[L]];x=bS(n,f,d,G,ce,re,B,Q,q,L-q,x),d||(s.r=x&7|f[x/8|0]<<3,x-=7,s.h=M,s.p=C,s.i=L,s.w=U)}else{for(var L=s.w||0;L<o+d;L+=65535){var St=L+65535;St>=o&&(f[x/8|0]=d,St=o),x=AI(f,x+1,n.subarray(L,St))}s.i=o}return Oq(u,0,r+EI(x)+i)},TI=function(){var n=1,e=0;return{p:function(t){for(var r=n,i=e,s=t.length|0,o=0;o!=s;){for(var u=Math.min(o+2655,s);o<u;++o)i+=r+=t[o];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}n=r,e=i},d:function(){return n%=65521,e%=65521,(n&255)<<24|(n&65280)<<8|(e&255)<<8|e>>8}}},Lq=function(n,e,t,r,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),o=new Nc(s.length+n.length);o.set(s),o.set(n,s.length),n=o,i.w=s.length}return Mq(n,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+e.mem,t,r,i)},NI=function(n,e,t){for(;t;++e)n[e]=t,t>>>=8},kq=function(n,e){var t=e.level,r=t==0?0:t<6?1:t==9?3:2;if(n[0]=120,n[1]=r<<6|(e.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,e.dictionary){var i=TI();i.p(e.dictionary),NI(n,2,i.d())}};function Yy(n,e){e||(e={});var t=TI();t.p(n);var r=Lq(n,e,e.dictionary?6:2,4);return kq(r,e),NI(r,r.length-4,t.d()),r}var Pq=typeof TextDecoder<"u"&&new TextDecoder,jq=0;try{Pq.decode(SI,{stream:!0}),jq=1}catch{}function Fq(n){if(Array.isArray(n))return n}function Bq(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,i,s,o,u=[],f=!0,d=!1;try{if(s=(t=t.call(n)).next,e!==0)for(;!(f=(r=s.call(t)).done)&&(u.push(r.value),u.length!==e);f=!0);}catch(x){d=!0,i=x}finally{try{if(!f&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(d)throw i}}return u}}function ES(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function Uq(n,e){if(n){if(typeof n=="string")return ES(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?ES(n,e):void 0}}function Vq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AS(n,e){return Fq(n)||Bq(n,e)||Uq(n,e)||Vq()}function SS(n,e="utf8"){return new TextDecoder(e).decode(n)}const zq=new TextEncoder;function Hq(n){return zq.encode(n)}const qq=1024*8,Gq=(()=>{const n=new Uint8Array(4),e=new Uint32Array(n.buffer);return!((e[0]=1)&n[0])})(),D_={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class L5{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=qq,t={}){let r=!1;typeof e=="number"?e=new ArrayBuffer(e):(r=!0,this.lastWrittenByte=e.byteLength);const i=t.offset?t.offset>>>0:0,s=e.byteLength-i;let o=i;(ArrayBuffer.isView(e)||e instanceof L5)&&(e.byteLength!==e.buffer.byteLength&&(o=e.byteOffset+i),e=e.buffer),r?this.lastWrittenByte=s:this.lastWrittenByte=0,this.buffer=e,this.length=s,this.byteLength=s,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,s),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const r=(this.offset+e)*2,i=new Uint8Array(r);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,t){const r=D_[t].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,s=this.buffer.slice(i,i+r);if(this.littleEndian===Gq&&t!=="uint8"&&t!=="int8"){const u=new Uint8Array(this.buffer.slice(i,i+r));u.reverse();const f=new D_[t](u.buffer);return this.offset+=r,f.reverse(),f}const o=new D_[t](s);return this.offset+=r,o}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let t="";for(let r=0;r<e;r++)t+=this.readChar();return t}readUtf8(e=1){return SS(this.readBytes(e))}decodeText(e=1,t="utf8"){return SS(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(Hq(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function H0(n){let e=n.length;for(;--e>=0;)n[e]=0}const Wq=3,Yq=258,CI=29,Xq=256,Kq=Xq+1+CI,II=30,Qq=512,$q=new Array((Kq+2)*2);H0($q);const Zq=new Array(II*2);H0(Zq);const Jq=new Array(Qq);H0(Jq);const eG=new Array(Yq-Wq+1);H0(eG);const tG=new Array(CI);H0(tG);const nG=new Array(II);H0(nG);const rG=(n,e,t,r)=>{let i=n&65535|0,s=n>>>16&65535|0,o=0;for(;t!==0;){o=t>2e3?2e3:t,t-=o;do i=i+e[r++]|0,s=s+i|0;while(--o);i%=65521,s%=65521}return i|s<<16|0};var Xy=rG;const iG=()=>{let n,e=[];for(var t=0;t<256;t++){n=t;for(var r=0;r<8;r++)n=n&1?3988292384^n>>>1:n>>>1;e[t]=n}return e},sG=new Uint32Array(iG()),aG=(n,e,t,r)=>{const i=sG,s=r+t;n^=-1;for(let o=r;o<s;o++)n=n>>>8^i[(n^e[o])&255];return n^-1};var Gc=aG,Ky={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},RI={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const oG=(n,e)=>Object.prototype.hasOwnProperty.call(n,e);var lG=function(n){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const t=e.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const r in t)oG(t,r)&&(n[r]=t[r])}}return n},cG=n=>{let e=0;for(let r=0,i=n.length;r<i;r++)e+=n[r].length;const t=new Uint8Array(e);for(let r=0,i=0,s=n.length;r<s;r++){let o=n[r];t.set(o,i),i+=o.length}return t},OI={assign:lG,flattenChunks:cG};let DI=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{DI=!1}const pm=new Uint8Array(256);for(let n=0;n<256;n++)pm[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;pm[254]=pm[254]=1;var uG=n=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(n);let e,t,r,i,s,o=n.length,u=0;for(i=0;i<o;i++)t=n.charCodeAt(i),(t&64512)===55296&&i+1<o&&(r=n.charCodeAt(i+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),i++)),u+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(u),s=0,i=0;s<u;i++)t=n.charCodeAt(i),(t&64512)===55296&&i+1<o&&(r=n.charCodeAt(i+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),i++)),t<128?e[s++]=t:t<2048?(e[s++]=192|t>>>6,e[s++]=128|t&63):t<65536?(e[s++]=224|t>>>12,e[s++]=128|t>>>6&63,e[s++]=128|t&63):(e[s++]=240|t>>>18,e[s++]=128|t>>>12&63,e[s++]=128|t>>>6&63,e[s++]=128|t&63);return e};const hG=(n,e)=>{if(e<65534&&n.subarray&&DI)return String.fromCharCode.apply(null,n.length===e?n:n.subarray(0,e));let t="";for(let r=0;r<e;r++)t+=String.fromCharCode(n[r]);return t};var fG=(n,e)=>{const t=e||n.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(n.subarray(0,e));let r,i;const s=new Array(t*2);for(i=0,r=0;r<t;){let o=n[r++];if(o<128){s[i++]=o;continue}let u=pm[o];if(u>4){s[i++]=65533,r+=u-1;continue}for(o&=u===2?31:u===3?15:7;u>1&&r<t;)o=o<<6|n[r++]&63,u--;if(u>1){s[i++]=65533;continue}o<65536?s[i++]=o:(o-=65536,s[i++]=55296|o>>10&1023,s[i++]=56320|o&1023)}return hG(s,i)},dG=(n,e)=>{e=e||n.length,e>n.length&&(e=n.length);let t=e-1;for(;t>=0&&(n[t]&192)===128;)t--;return t<0||t===0?e:t+pm[n[t]]>e?t:e},Qy={string2buf:uG,buf2string:fG,utf8border:dG};function mG(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var gG=mG;const Zg=16209,pG=16191;var xG=function(e,t){let r,i,s,o,u,f,d,x,w,A,E,I,C,M,j,W,k,G,ce,re,F,B,L,Q;const U=e.state;r=e.next_in,L=e.input,i=r+(e.avail_in-5),s=e.next_out,Q=e.output,o=s-(t-e.avail_out),u=s+(e.avail_out-257),f=U.dmax,d=U.wsize,x=U.whave,w=U.wnext,A=U.window,E=U.hold,I=U.bits,C=U.lencode,M=U.distcode,j=(1<<U.lenbits)-1,W=(1<<U.distbits)-1;e:do{I<15&&(E+=L[r++]<<I,I+=8,E+=L[r++]<<I,I+=8),k=C[E&j];t:for(;;){if(G=k>>>24,E>>>=G,I-=G,G=k>>>16&255,G===0)Q[s++]=k&65535;else if(G&16){ce=k&65535,G&=15,G&&(I<G&&(E+=L[r++]<<I,I+=8),ce+=E&(1<<G)-1,E>>>=G,I-=G),I<15&&(E+=L[r++]<<I,I+=8,E+=L[r++]<<I,I+=8),k=M[E&W];n:for(;;){if(G=k>>>24,E>>>=G,I-=G,G=k>>>16&255,G&16){if(re=k&65535,G&=15,I<G&&(E+=L[r++]<<I,I+=8,I<G&&(E+=L[r++]<<I,I+=8)),re+=E&(1<<G)-1,re>f){e.msg="invalid distance too far back",U.mode=Zg;break e}if(E>>>=G,I-=G,G=s-o,re>G){if(G=re-G,G>x&&U.sane){e.msg="invalid distance too far back",U.mode=Zg;break e}if(F=0,B=A,w===0){if(F+=d-G,G<ce){ce-=G;do Q[s++]=A[F++];while(--G);F=s-re,B=Q}}else if(w<G){if(F+=d+w-G,G-=w,G<ce){ce-=G;do Q[s++]=A[F++];while(--G);if(F=0,w<ce){G=w,ce-=G;do Q[s++]=A[F++];while(--G);F=s-re,B=Q}}}else if(F+=w-G,G<ce){ce-=G;do Q[s++]=A[F++];while(--G);F=s-re,B=Q}for(;ce>2;)Q[s++]=B[F++],Q[s++]=B[F++],Q[s++]=B[F++],ce-=3;ce&&(Q[s++]=B[F++],ce>1&&(Q[s++]=B[F++]))}else{F=s-re;do Q[s++]=Q[F++],Q[s++]=Q[F++],Q[s++]=Q[F++],ce-=3;while(ce>2);ce&&(Q[s++]=Q[F++],ce>1&&(Q[s++]=Q[F++]))}}else if((G&64)===0){k=M[(k&65535)+(E&(1<<G)-1)];continue n}else{e.msg="invalid distance code",U.mode=Zg;break e}break}}else if((G&64)===0){k=C[(k&65535)+(E&(1<<G)-1)];continue t}else if(G&32){U.mode=pG;break e}else{e.msg="invalid literal/length code",U.mode=Zg;break e}break}}while(r<i&&s<u);ce=I>>3,r-=ce,I-=ce<<3,E&=(1<<I)-1,e.next_in=r,e.next_out=s,e.avail_in=r<i?5+(i-r):5-(r-i),e.avail_out=s<u?257+(u-s):257-(s-u),U.hold=E,U.bits=I};const Gd=15,TS=852,NS=592,CS=0,M_=1,IS=2,vG=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),_G=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),yG=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),wG=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),bG=(n,e,t,r,i,s,o,u)=>{const f=u.bits;let d=0,x=0,w=0,A=0,E=0,I=0,C=0,M=0,j=0,W=0,k,G,ce,re,F,B=null,L;const Q=new Uint16Array(Gd+1),U=new Uint16Array(Gd+1);let q=null,Y,ne,pe;for(d=0;d<=Gd;d++)Q[d]=0;for(x=0;x<r;x++)Q[e[t+x]]++;for(E=f,A=Gd;A>=1&&Q[A]===0;A--);if(E>A&&(E=A),A===0)return i[s++]=1<<24|64<<16|0,i[s++]=1<<24|64<<16|0,u.bits=1,0;for(w=1;w<A&&Q[w]===0;w++);for(E<w&&(E=w),M=1,d=1;d<=Gd;d++)if(M<<=1,M-=Q[d],M<0)return-1;if(M>0&&(n===CS||A!==1))return-1;for(U[1]=0,d=1;d<Gd;d++)U[d+1]=U[d]+Q[d];for(x=0;x<r;x++)e[t+x]!==0&&(o[U[e[t+x]]++]=x);if(n===CS?(B=q=o,L=20):n===M_?(B=vG,q=_G,L=257):(B=yG,q=wG,L=0),W=0,x=0,d=w,F=s,I=E,C=0,ce=-1,j=1<<E,re=j-1,n===M_&&j>TS||n===IS&&j>NS)return 1;for(;;){Y=d-C,o[x]+1<L?(ne=0,pe=o[x]):o[x]>=L?(ne=q[o[x]-L],pe=B[o[x]-L]):(ne=96,pe=0),k=1<<d-C,G=1<<I,w=G;do G-=k,i[F+(W>>C)+G]=Y<<24|ne<<16|pe|0;while(G!==0);for(k=1<<d-1;W&k;)k>>=1;if(k!==0?(W&=k-1,W+=k):W=0,x++,--Q[d]===0){if(d===A)break;d=e[t+o[x]]}if(d>E&&(W&re)!==ce){for(C===0&&(C=E),F+=w,I=d-C,M=1<<I;I+C<A&&(M-=Q[I+C],!(M<=0));)I++,M<<=1;if(j+=1<<I,n===M_&&j>TS||n===IS&&j>NS)return 1;ce=W&re,i[ce]=E<<24|I<<16|F-s|0}}return W!==0&&(i[F+W]=d-C<<24|64<<16|0),u.bits=E,0};var J1=bG;const EG=0,MI=1,LI=2,{Z_FINISH:RS,Z_BLOCK:AG,Z_TREES:Jg,Z_OK:qf,Z_STREAM_END:SG,Z_NEED_DICT:TG,Z_STREAM_ERROR:ec,Z_DATA_ERROR:kI,Z_MEM_ERROR:PI,Z_BUF_ERROR:NG,Z_DEFLATED:OS}=RI,cx=16180,DS=16181,MS=16182,LS=16183,kS=16184,PS=16185,jS=16186,FS=16187,BS=16188,US=16189,l2=16190,Lu=16191,L_=16192,VS=16193,k_=16194,zS=16195,HS=16196,qS=16197,GS=16198,ep=16199,tp=16200,WS=16201,YS=16202,XS=16203,KS=16204,QS=16205,P_=16206,$S=16207,ZS=16208,fs=16209,jI=16210,FI=16211,CG=852,IG=592,RG=15,OG=RG,JS=n=>(n>>>24&255)+(n>>>8&65280)+((n&65280)<<8)+((n&255)<<24);function DG(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const rd=n=>{if(!n)return 1;const e=n.state;return!e||e.strm!==n||e.mode<cx||e.mode>FI?1:0},BI=n=>{if(rd(n))return ec;const e=n.state;return n.total_in=n.total_out=e.total=0,n.msg="",e.wrap&&(n.adler=e.wrap&1),e.mode=cx,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(CG),e.distcode=e.distdyn=new Int32Array(IG),e.sane=1,e.back=-1,qf},UI=n=>{if(rd(n))return ec;const e=n.state;return e.wsize=0,e.whave=0,e.wnext=0,BI(n)},VI=(n,e)=>{let t;if(rd(n))return ec;const r=n.state;return e<0?(t=0,e=-e):(t=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?ec:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=t,r.wbits=e,UI(n))},zI=(n,e)=>{if(!n)return ec;const t=new DG;n.state=t,t.strm=n,t.window=null,t.mode=cx;const r=VI(n,e);return r!==qf&&(n.state=null),r},MG=n=>zI(n,OG);let eT=!0,j_,F_;const LG=n=>{if(eT){j_=new Int32Array(512),F_=new Int32Array(32);let e=0;for(;e<144;)n.lens[e++]=8;for(;e<256;)n.lens[e++]=9;for(;e<280;)n.lens[e++]=7;for(;e<288;)n.lens[e++]=8;for(J1(MI,n.lens,0,288,j_,0,n.work,{bits:9}),e=0;e<32;)n.lens[e++]=5;J1(LI,n.lens,0,32,F_,0,n.work,{bits:5}),eT=!1}n.lencode=j_,n.lenbits=9,n.distcode=F_,n.distbits=5},HI=(n,e,t,r)=>{let i;const s=n.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),r>=s.wsize?(s.window.set(e.subarray(t-s.wsize,t),0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>r&&(i=r),s.window.set(e.subarray(t-r,t-r+i),s.wnext),r-=i,r?(s.window.set(e.subarray(t-r,t),0),s.wnext=r,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0},kG=(n,e)=>{let t,r,i,s,o,u,f,d,x,w,A,E,I,C,M=0,j,W,k,G,ce,re,F,B;const L=new Uint8Array(4);let Q,U;const q=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(rd(n)||!n.output||!n.input&&n.avail_in!==0)return ec;t=n.state,t.mode===Lu&&(t.mode=L_),o=n.next_out,i=n.output,f=n.avail_out,s=n.next_in,r=n.input,u=n.avail_in,d=t.hold,x=t.bits,w=u,A=f,B=qf;e:for(;;)switch(t.mode){case cx:if(t.wrap===0){t.mode=L_;break}for(;x<16;){if(u===0)break e;u--,d+=r[s++]<<x,x+=8}if(t.wrap&2&&d===35615){t.wbits===0&&(t.wbits=15),t.check=0,L[0]=d&255,L[1]=d>>>8&255,t.check=Gc(t.check,L,2,0),d=0,x=0,t.mode=DS;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((d&255)<<8)+(d>>8))%31){n.msg="incorrect header check",t.mode=fs;break}if((d&15)!==OS){n.msg="unknown compression method",t.mode=fs;break}if(d>>>=4,x-=4,F=(d&15)+8,t.wbits===0&&(t.wbits=F),F>15||F>t.wbits){n.msg="invalid window size",t.mode=fs;break}t.dmax=1<<t.wbits,t.flags=0,n.adler=t.check=1,t.mode=d&512?US:Lu,d=0,x=0;break;case DS:for(;x<16;){if(u===0)break e;u--,d+=r[s++]<<x,x+=8}if(t.flags=d,(t.flags&255)!==OS){n.msg="unknown compression method",t.mode=fs;break}if(t.flags&57344){n.msg="unknown header flags set",t.mode=fs;break}t.head&&(t.head.text=d>>8&1),t.flags&512&&t.wrap&4&&(L[0]=d&255,L[1]=d>>>8&255,t.check=Gc(t.check,L,2,0)),d=0,x=0,t.mode=MS;case MS:for(;x<32;){if(u===0)break e;u--,d+=r[s++]<<x,x+=8}t.head&&(t.head.time=d),t.flags&512&&t.wrap&4&&(L[0]=d&255,L[1]=d>>>8&255,L[2]=d>>>16&255,L[3]=d>>>24&255,t.check=Gc(t.check,L,4,0)),d=0,x=0,t.mode=LS;case LS:for(;x<16;){if(u===0)break e;u--,d+=r[s++]<<x,x+=8}t.head&&(t.head.xflags=d&255,t.head.os=d>>8),t.flags&512&&t.wrap&4&&(L[0]=d&255,L[1]=d>>>8&255,t.check=Gc(t.check,L,2,0)),d=0,x=0,t.mode=kS;case kS:if(t.flags&1024){for(;x<16;){if(u===0)break e;u--,d+=r[s++]<<x,x+=8}t.length=d,t.head&&(t.head.extra_len=d),t.flags&512&&t.wrap&4&&(L[0]=d&255,L[1]=d>>>8&255,t.check=Gc(t.check,L,2,0)),d=0,x=0}else t.head&&(t.head.extra=null);t.mode=PS;case PS:if(t.flags&1024&&(E=t.length,E>u&&(E=u),E&&(t.head&&(F=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(r.subarray(s,s+E),F)),t.flags&512&&t.wrap&4&&(t.check=Gc(t.check,r,E,s)),u-=E,s+=E,t.length-=E),t.length))break e;t.length=0,t.mode=jS;case jS:if(t.flags&2048){if(u===0)break e;E=0;do F=r[s+E++],t.head&&F&&t.length<65536&&(t.head.name+=String.fromCharCode(F));while(F&&E<u);if(t.flags&512&&t.wrap&4&&(t.check=Gc(t.check,r,E,s)),u-=E,s+=E,F)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=FS;case FS:if(t.flags&4096){if(u===0)break e;E=0;do F=r[s+E++],t.head&&F&&t.length<65536&&(t.head.comment+=String.fromCharCode(F));while(F&&E<u);if(t.flags&512&&t.wrap&4&&(t.check=Gc(t.check,r,E,s)),u-=E,s+=E,F)break e}else t.head&&(t.head.comment=null);t.mode=BS;case BS:if(t.flags&512){for(;x<16;){if(u===0)break e;u--,d+=r[s++]<<x,x+=8}if(t.wrap&4&&d!==(t.check&65535)){n.msg="header crc mismatch",t.mode=fs;break}d=0,x=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),n.adler=t.check=0,t.mode=Lu;break;case US:for(;x<32;){if(u===0)break e;u--,d+=r[s++]<<x,x+=8}n.adler=t.check=JS(d),d=0,x=0,t.mode=l2;case l2:if(t.havedict===0)return n.next_out=o,n.avail_out=f,n.next_in=s,n.avail_in=u,t.hold=d,t.bits=x,TG;n.adler=t.check=1,t.mode=Lu;case Lu:if(e===AG||e===Jg)break e;case L_:if(t.last){d>>>=x&7,x-=x&7,t.mode=P_;break}for(;x<3;){if(u===0)break e;u--,d+=r[s++]<<x,x+=8}switch(t.last=d&1,d>>>=1,x-=1,d&3){case 0:t.mode=VS;break;case 1:if(LG(t),t.mode=ep,e===Jg){d>>>=2,x-=2;break e}break;case 2:t.mode=HS;break;case 3:n.msg="invalid block type",t.mode=fs}d>>>=2,x-=2;break;case VS:for(d>>>=x&7,x-=x&7;x<32;){if(u===0)break e;u--,d+=r[s++]<<x,x+=8}if((d&65535)!==(d>>>16^65535)){n.msg="invalid stored block lengths",t.mode=fs;break}if(t.length=d&65535,d=0,x=0,t.mode=k_,e===Jg)break e;case k_:t.mode=zS;case zS:if(E=t.length,E){if(E>u&&(E=u),E>f&&(E=f),E===0)break e;i.set(r.subarray(s,s+E),o),u-=E,s+=E,f-=E,o+=E,t.length-=E;break}t.mode=Lu;break;case HS:for(;x<14;){if(u===0)break e;u--,d+=r[s++]<<x,x+=8}if(t.nlen=(d&31)+257,d>>>=5,x-=5,t.ndist=(d&31)+1,d>>>=5,x-=5,t.ncode=(d&15)+4,d>>>=4,x-=4,t.nlen>286||t.ndist>30){n.msg="too many length or distance symbols",t.mode=fs;break}t.have=0,t.mode=qS;case qS:for(;t.have<t.ncode;){for(;x<3;){if(u===0)break e;u--,d+=r[s++]<<x,x+=8}t.lens[q[t.have++]]=d&7,d>>>=3,x-=3}for(;t.have<19;)t.lens[q[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,Q={bits:t.lenbits},B=J1(EG,t.lens,0,19,t.lencode,0,t.work,Q),t.lenbits=Q.bits,B){n.msg="invalid code lengths set",t.mode=fs;break}t.have=0,t.mode=GS;case GS:for(;t.have<t.nlen+t.ndist;){for(;M=t.lencode[d&(1<<t.lenbits)-1],j=M>>>24,W=M>>>16&255,k=M&65535,!(j<=x);){if(u===0)break e;u--,d+=r[s++]<<x,x+=8}if(k<16)d>>>=j,x-=j,t.lens[t.have++]=k;else{if(k===16){for(U=j+2;x<U;){if(u===0)break e;u--,d+=r[s++]<<x,x+=8}if(d>>>=j,x-=j,t.have===0){n.msg="invalid bit length repeat",t.mode=fs;break}F=t.lens[t.have-1],E=3+(d&3),d>>>=2,x-=2}else if(k===17){for(U=j+3;x<U;){if(u===0)break e;u--,d+=r[s++]<<x,x+=8}d>>>=j,x-=j,F=0,E=3+(d&7),d>>>=3,x-=3}else{for(U=j+7;x<U;){if(u===0)break e;u--,d+=r[s++]<<x,x+=8}d>>>=j,x-=j,F=0,E=11+(d&127),d>>>=7,x-=7}if(t.have+E>t.nlen+t.ndist){n.msg="invalid bit length repeat",t.mode=fs;break}for(;E--;)t.lens[t.have++]=F}}if(t.mode===fs)break;if(t.lens[256]===0){n.msg="invalid code -- missing end-of-block",t.mode=fs;break}if(t.lenbits=9,Q={bits:t.lenbits},B=J1(MI,t.lens,0,t.nlen,t.lencode,0,t.work,Q),t.lenbits=Q.bits,B){n.msg="invalid literal/lengths set",t.mode=fs;break}if(t.distbits=6,t.distcode=t.distdyn,Q={bits:t.distbits},B=J1(LI,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,Q),t.distbits=Q.bits,B){n.msg="invalid distances set",t.mode=fs;break}if(t.mode=ep,e===Jg)break e;case ep:t.mode=tp;case tp:if(u>=6&&f>=258){n.next_out=o,n.avail_out=f,n.next_in=s,n.avail_in=u,t.hold=d,t.bits=x,xG(n,A),o=n.next_out,i=n.output,f=n.avail_out,s=n.next_in,r=n.input,u=n.avail_in,d=t.hold,x=t.bits,t.mode===Lu&&(t.back=-1);break}for(t.back=0;M=t.lencode[d&(1<<t.lenbits)-1],j=M>>>24,W=M>>>16&255,k=M&65535,!(j<=x);){if(u===0)break e;u--,d+=r[s++]<<x,x+=8}if(W&&(W&240)===0){for(G=j,ce=W,re=k;M=t.lencode[re+((d&(1<<G+ce)-1)>>G)],j=M>>>24,W=M>>>16&255,k=M&65535,!(G+j<=x);){if(u===0)break e;u--,d+=r[s++]<<x,x+=8}d>>>=G,x-=G,t.back+=G}if(d>>>=j,x-=j,t.back+=j,t.length=k,W===0){t.mode=QS;break}if(W&32){t.back=-1,t.mode=Lu;break}if(W&64){n.msg="invalid literal/length code",t.mode=fs;break}t.extra=W&15,t.mode=WS;case WS:if(t.extra){for(U=t.extra;x<U;){if(u===0)break e;u--,d+=r[s++]<<x,x+=8}t.length+=d&(1<<t.extra)-1,d>>>=t.extra,x-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=YS;case YS:for(;M=t.distcode[d&(1<<t.distbits)-1],j=M>>>24,W=M>>>16&255,k=M&65535,!(j<=x);){if(u===0)break e;u--,d+=r[s++]<<x,x+=8}if((W&240)===0){for(G=j,ce=W,re=k;M=t.distcode[re+((d&(1<<G+ce)-1)>>G)],j=M>>>24,W=M>>>16&255,k=M&65535,!(G+j<=x);){if(u===0)break e;u--,d+=r[s++]<<x,x+=8}d>>>=G,x-=G,t.back+=G}if(d>>>=j,x-=j,t.back+=j,W&64){n.msg="invalid distance code",t.mode=fs;break}t.offset=k,t.extra=W&15,t.mode=XS;case XS:if(t.extra){for(U=t.extra;x<U;){if(u===0)break e;u--,d+=r[s++]<<x,x+=8}t.offset+=d&(1<<t.extra)-1,d>>>=t.extra,x-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){n.msg="invalid distance too far back",t.mode=fs;break}t.mode=KS;case KS:if(f===0)break e;if(E=A-f,t.offset>E){if(E=t.offset-E,E>t.whave&&t.sane){n.msg="invalid distance too far back",t.mode=fs;break}E>t.wnext?(E-=t.wnext,I=t.wsize-E):I=t.wnext-E,E>t.length&&(E=t.length),C=t.window}else C=i,I=o-t.offset,E=t.length;E>f&&(E=f),f-=E,t.length-=E;do i[o++]=C[I++];while(--E);t.length===0&&(t.mode=tp);break;case QS:if(f===0)break e;i[o++]=t.length,f--,t.mode=tp;break;case P_:if(t.wrap){for(;x<32;){if(u===0)break e;u--,d|=r[s++]<<x,x+=8}if(A-=f,n.total_out+=A,t.total+=A,t.wrap&4&&A&&(n.adler=t.check=t.flags?Gc(t.check,i,A,o-A):Xy(t.check,i,A,o-A)),A=f,t.wrap&4&&(t.flags?d:JS(d))!==t.check){n.msg="incorrect data check",t.mode=fs;break}d=0,x=0}t.mode=$S;case $S:if(t.wrap&&t.flags){for(;x<32;){if(u===0)break e;u--,d+=r[s++]<<x,x+=8}if(t.wrap&4&&d!==(t.total&4294967295)){n.msg="incorrect length check",t.mode=fs;break}d=0,x=0}t.mode=ZS;case ZS:B=SG;break e;case fs:B=kI;break e;case jI:return PI;case FI:default:return ec}return n.next_out=o,n.avail_out=f,n.next_in=s,n.avail_in=u,t.hold=d,t.bits=x,(t.wsize||A!==n.avail_out&&t.mode<fs&&(t.mode<P_||e!==RS))&&HI(n,n.output,n.next_out,A-n.avail_out),w-=n.avail_in,A-=n.avail_out,n.total_in+=w,n.total_out+=A,t.total+=A,t.wrap&4&&A&&(n.adler=t.check=t.flags?Gc(t.check,i,A,n.next_out-A):Xy(t.check,i,A,n.next_out-A)),n.data_type=t.bits+(t.last?64:0)+(t.mode===Lu?128:0)+(t.mode===ep||t.mode===k_?256:0),(w===0&&A===0||e===RS)&&B===qf&&(B=NG),B},PG=n=>{if(rd(n))return ec;let e=n.state;return e.window&&(e.window=null),n.state=null,qf},jG=(n,e)=>{if(rd(n))return ec;const t=n.state;return(t.wrap&2)===0?ec:(t.head=e,e.done=!1,qf)},FG=(n,e)=>{const t=e.length;let r,i,s;return rd(n)||(r=n.state,r.wrap!==0&&r.mode!==l2)?ec:r.mode===l2&&(i=1,i=Xy(i,e,t,0),i!==r.check)?kI:(s=HI(n,e,t,t),s?(r.mode=jI,PI):(r.havedict=1,qf))};var BG=UI,UG=VI,VG=BI,zG=MG,HG=zI,qG=kG,GG=PG,WG=jG,YG=FG,XG="pako inflate (from Nodeca project)",ku={inflateReset:BG,inflateReset2:UG,inflateResetKeep:VG,inflateInit:zG,inflateInit2:HG,inflate:qG,inflateEnd:GG,inflateGetHeader:WG,inflateSetDictionary:YG,inflateInfo:XG};function KG(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var QG=KG;const qI=Object.prototype.toString,{Z_NO_FLUSH:$G,Z_FINISH:ZG,Z_OK:xm,Z_STREAM_END:B_,Z_NEED_DICT:U_,Z_STREAM_ERROR:JG,Z_DATA_ERROR:tT,Z_MEM_ERROR:eW}=RI;function Vm(n){this.options=OI.assign({chunkSize:1024*64,windowBits:15,to:""},n||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(n&&n.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new gG,this.strm.avail_out=0;let t=ku.inflateInit2(this.strm,e.windowBits);if(t!==xm)throw new Error(Ky[t]);if(this.header=new QG,ku.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=Qy.string2buf(e.dictionary):qI.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=ku.inflateSetDictionary(this.strm,e.dictionary),t!==xm)))throw new Error(Ky[t])}Vm.prototype.push=function(n,e){const t=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let s,o,u;if(this.ended)return!1;for(e===~~e?o=e:o=e===!0?ZG:$G,qI.call(n)==="[object ArrayBuffer]"?t.input=new Uint8Array(n):t.input=n,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(r),t.next_out=0,t.avail_out=r),s=ku.inflate(t,o),s===U_&&i&&(s=ku.inflateSetDictionary(t,i),s===xm?s=ku.inflate(t,o):s===tT&&(s=U_));t.avail_in>0&&s===B_&&t.state.wrap>0&&n[t.next_in]!==0;)ku.inflateReset(t),s=ku.inflate(t,o);switch(s){case JG:case tT:case U_:case eW:return this.onEnd(s),this.ended=!0,!1}if(u=t.avail_out,t.next_out&&(t.avail_out===0||s===B_))if(this.options.to==="string"){let f=Qy.utf8border(t.output,t.next_out),d=t.next_out-f,x=Qy.buf2string(t.output,f);t.next_out=d,t.avail_out=r-d,d&&t.output.set(t.output.subarray(f,f+d),0),this.onData(x)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(s===xm&&u===0)){if(s===B_)return s=ku.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};Vm.prototype.onData=function(n){this.chunks.push(n)};Vm.prototype.onEnd=function(n){n===xm&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=OI.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};function tW(n,e){const t=new Vm(e);if(t.push(n),t.err)throw t.msg||Ky[t.err];return t.result}var nW=Vm,rW=tW,iW={Inflate:nW,inflate:rW};const{Inflate:sW,inflate:aW}=iW;var nT=sW,oW=aW;const GI=[];for(let n=0;n<256;n++){let e=n;for(let t=0;t<8;t++)e&1?e=3988292384^e>>>1:e=e>>>1;GI[n]=e}const rT=4294967295;function lW(n,e,t){let r=n;for(let i=0;i<t;i++)r=GI[(r^e[i])&255]^r>>>8;return r}function cW(n,e){return(lW(rT,n,e)^rT)>>>0}function iT(n,e,t){const r=n.readUint32(),i=cW(new Uint8Array(n.buffer,n.byteOffset+n.offset-e-4,e),e);if(i!==r)throw new Error(`CRC mismatch for chunk ${t}. Expected ${r}, found ${i}`)}function WI(n,e,t){for(let r=0;r<t;r++)e[r]=n[r]}function YI(n,e,t,r){let i=0;for(;i<r;i++)e[i]=n[i];for(;i<t;i++)e[i]=n[i]+e[i-r]&255}function XI(n,e,t,r){let i=0;if(t.length===0)for(;i<r;i++)e[i]=n[i];else for(;i<r;i++)e[i]=n[i]+t[i]&255}function KI(n,e,t,r,i){let s=0;if(t.length===0){for(;s<i;s++)e[s]=n[s];for(;s<r;s++)e[s]=n[s]+(e[s-i]>>1)&255}else{for(;s<i;s++)e[s]=n[s]+(t[s]>>1)&255;for(;s<r;s++)e[s]=n[s]+(e[s-i]+t[s]>>1)&255}}function QI(n,e,t,r,i){let s=0;if(t.length===0){for(;s<i;s++)e[s]=n[s];for(;s<r;s++)e[s]=n[s]+e[s-i]&255}else{for(;s<i;s++)e[s]=n[s]+t[s]&255;for(;s<r;s++)e[s]=n[s]+uW(e[s-i],t[s],t[s-i])&255}}function uW(n,e,t){const r=n+e-t,i=Math.abs(r-n),s=Math.abs(r-e),o=Math.abs(r-t);return i<=s&&i<=o?n:s<=o?e:t}function hW(n,e,t,r,i,s){switch(n){case 0:WI(e,t,i);break;case 1:YI(e,t,i,s);break;case 2:XI(e,t,r,i);break;case 3:KI(e,t,r,i,s);break;case 4:QI(e,t,r,i,s);break;default:throw new Error(`Unsupported filter: ${n}`)}}const fW=new Uint16Array([255]),dW=new Uint8Array(fW.buffer),mW=dW[0]===255;function gW(n){const{data:e,width:t,height:r,channels:i,depth:s}=n,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],u=Math.ceil(s/8)*i,f=new Uint8Array(r*t*u);let d=0;for(let x=0;x<7;x++){const w=o[x],A=Math.ceil((t-w.x)/w.xStep),E=Math.ceil((r-w.y)/w.yStep);if(A<=0||E<=0)continue;const I=A*u,C=new Uint8Array(I);for(let M=0;M<E;M++){const j=e[d++],W=e.subarray(d,d+I);d+=I;const k=new Uint8Array(I);hW(j,W,k,C,I,u),C.set(k);for(let G=0;G<A;G++){const ce=w.x+G*w.xStep,re=w.y+M*w.yStep;if(!(ce>=t||re>=r))for(let F=0;F<u;F++)f[(re*t+ce)*u+F]=k[G*u+F]}}}if(s===16){const x=new Uint16Array(f.buffer);if(mW)for(let w=0;w<x.length;w++)x[w]=pW(x[w]);return x}else return f}function pW(n){return(n&255)<<8|n>>8&255}const xW=new Uint16Array([255]),vW=new Uint8Array(xW.buffer),_W=vW[0]===255,yW=new Uint8Array(0);function sT(n){const{data:e,width:t,height:r,channels:i,depth:s}=n,o=Math.ceil(s/8)*i,u=Math.ceil(s/8*i*t),f=new Uint8Array(r*u);let d=yW,x=0,w,A;for(let E=0;E<r;E++){switch(w=e.subarray(x+1,x+1+u),A=f.subarray(E*u,(E+1)*u),e[x]){case 0:WI(w,A,u);break;case 1:YI(w,A,u,o);break;case 2:XI(w,A,d,u);break;case 3:KI(w,A,d,u,o);break;case 4:QI(w,A,d,u,o);break;default:throw new Error(`Unsupported filter: ${e[x]}`)}d=A,x+=u+1}if(s===16){const E=new Uint16Array(f.buffer);if(_W)for(let I=0;I<E.length;I++)E[I]=wW(E[I]);return E}else return f}function wW(n){return(n&255)<<8|n>>8&255}const Lp=Uint8Array.of(137,80,78,71,13,10,26,10);function aT(n){if(!bW(n.readBytes(Lp.length)))throw new Error("wrong PNG signature")}function bW(n){if(n.length<Lp.length)return!1;for(let e=0;e<Lp.length;e++)if(n[e]!==Lp[e])return!1;return!0}const EW="tEXt",AW=0,$I=new TextDecoder("latin1");function SW(n){if(NW(n),n.length===0||n.length>79)throw new Error("keyword length must be between 1 and 79")}const TW=/^[\u0000-\u00FF]*$/;function NW(n){if(!TW.test(n))throw new Error("invalid latin1 text")}function CW(n,e,t){const r=ZI(e);n[r]=IW(e,t-r.length-1)}function ZI(n){for(n.mark();n.readByte()!==AW;);const e=n.offset;n.reset();const t=$I.decode(n.readBytes(e-n.offset-1));return n.skip(1),SW(t),t}function IW(n,e){return $I.decode(n.readBytes(e))}const Sl={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},V_={UNKNOWN:-1,DEFLATE:0},oT={UNKNOWN:-1,ADAPTIVE:0},z_={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},np={NONE:0,BACKGROUND:1,PREVIOUS:2},H_={SOURCE:0,OVER:1};class RW extends L5{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,t={}){super(e);const{checkCrc:r=!1}=t;this._checkCrc=r,this._inflator=new nT,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=V_.UNKNOWN,this._filterMethod=oT.UNKNOWN,this._interlaceMethod=z_.UNKNOWN,this._colorType=Sl.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(aT(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeChunk(e,t)}return this.decodeImage(),this._png}decodeApng(){for(aT(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeApngChunk(e,t)}return this.decodeApngImage(),this._apng}decodeChunk(e,t){const r=this.offset;switch(t){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case EW:CW(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?iT(this,e+4,t):this.skip(4)}decodeApngChunk(e,t){const r=this.offset;switch(t!=="fdAT"&&t!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),t){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,t),this.offset=r+e;break}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?iT(this,e+4,t):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=OW(this.readUint8());const t=this.readUint8();this._colorType=t;let r;switch(t){case Sl.GREYSCALE:r=1;break;case Sl.TRUECOLOUR:r=3;break;case Sl.INDEXED_COLOUR:r=1;break;case Sl.GREYSCALE_ALPHA:r=2;break;case Sl.TRUECOLOUR_ALPHA:r=4;break;case Sl.UNKNOWN:default:throw new Error(`Unknown color type: ${t}`)}if(this._png.channels=r,this._compressionMethod=this.readUint8(),this._compressionMethod!==V_.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const t=e/3;this._hasPalette=!0;const r=[];this._palette=r;for(let i=0;i<t;i++)r.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const t=e,r=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,r,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let t=e,r=this.offset+this.byteOffset;if(r+=4,t-=4,this._inflator.push(new Uint8Array(this.buffer,r,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case Sl.GREYSCALE:case Sl.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let t=0;t<e/2;t++)this._transparency[t]=this.readUint16();break}case Sl.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let t=0;for(;t<e;t++){const r=this.readByte();this._palette[t].push(r)}for(;t<this._palette.length;t++)this._palette[t].push(255);break}case Sl.UNKNOWN:case Sl.GREYSCALE_ALPHA:case Sl.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const t=ZI(this),r=this.readUint8();if(r!==V_.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${r}`);const i=this.readBytes(e-t.length-2);this._png.iccEmbeddedProfile={name:t,profile:oW(i)}}decodepHYs(){const e=this.readUint32(),t=this.readUint32(),r=this.readByte();this._png.resolution={x:e,y:t,unit:r}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const t={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},r=this._frames.at(e);if(r){if(r.data=sT({data:r.data,width:r.width,height:r.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||r.xOffset===0&&r.yOffset===0&&r.width===this._png.width&&r.height===this._png.height)t.data=r.data;else{const i=this._apng.frames.at(e-1);this.disposeFrame(r,i,t),this.addFrameDataToCanvas(t,r)}this._apng.frames.push(t)}}return this._apng}disposeFrame(e,t,r){switch(e.disposeOp){case np.NONE:break;case np.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let s=0;s<this._png.width;s++){const o=(i*e.width+s)*this._png.channels;for(let u=0;u<this._png.channels;u++)r.data[o+u]=0}break;case np.PREVIOUS:r.data.set(t.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,t){const r=1<<this._png.depth,i=(s,o)=>{const u=((s+t.yOffset)*this._png.width+t.xOffset+o)*this._png.channels,f=(s*t.width+o)*this._png.channels;return{index:u,frameIndex:f}};switch(t.blendOp){case H_.SOURCE:for(let s=0;s<t.height;s++)for(let o=0;o<t.width;o++){const{index:u,frameIndex:f}=i(s,o);for(let d=0;d<this._png.channels;d++)e.data[u+d]=t.data[f+d]}break;case H_.OVER:for(let s=0;s<t.height;s++)for(let o=0;o<t.width;o++){const{index:u,frameIndex:f}=i(s,o);for(let d=0;d<this._png.channels;d++){const x=t.data[f+this._png.channels-1]/r,w=d%(this._png.channels-1)===0?1:t.data[f+d],A=Math.floor(x*w+(1-x)*e.data[u+d]);e.data[u+d]+=A}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==oT.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===z_.NO_INTERLACE)this._png.data=sT({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===z_.ADAM7)this._png.data=gW({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,t=this._frames.at(-1);t?t.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:np.NONE,blendOp:H_.SOURCE,data:e}),this._inflator=new nT,this._writingDataChunks=!1}}function OW(n){if(n!==1&&n!==2&&n!==4&&n!==8&&n!==16)throw new Error(`invalid bit depth: ${n}`);return n}var lT;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.METRE=1]="METRE"})(lT||(lT={}));function DW(n,e){return new RW(n,e).decode()}var mr=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function q_(){mr.console&&typeof mr.console.log=="function"&&mr.console.log.apply(mr.console,arguments)}var zi={log:q_,warn:function(n){mr.console&&(typeof mr.console.warn=="function"?mr.console.warn.apply(mr.console,arguments):q_.call(null,arguments))},error:function(n){mr.console&&(typeof mr.console.error=="function"?mr.console.error.apply(mr.console,arguments):q_(n))}};function G_(n,e,t){var r=new XMLHttpRequest;r.open("GET",n),r.responseType="blob",r.onload=function(){Tf(r.response,e,t)},r.onerror=function(){zi.error("could not download file")},r.send()}function cT(n){var e=new XMLHttpRequest;e.open("HEAD",n,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function rp(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(e)}}var Tf=mr.saveAs||((typeof window>"u"?"undefined":Ai(window))!=="object"||window!==mr?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,e,t){var r=mr.URL||mr.webkitURL,i=document.createElement("a");e=e||n.name||"download",i.download=e,i.rel="noopener",typeof n=="string"?(i.href=n,i.origin!==location.origin?cT(i.href)?G_(n,e,t):rp(i,i.target="_blank"):rp(i)):(i.href=r.createObjectURL(n),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){rp(i)},0))}:"msSaveOrOpenBlob"in navigator?function(n,e,t){if(e=e||n.name||"download",typeof n=="string")if(cT(n))G_(n,e,t);else{var r=document.createElement("a");r.href=n,r.target="_blank",setTimeout(function(){rp(r)})}else navigator.msSaveOrOpenBlob((function(i,s){return s===void 0?s={autoBom:!1}:Ai(s)!=="object"&&(zi.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i})(n,t),e)}:function(n,e,t,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof n=="string")return G_(n,e,t);var i=n.type==="application/octet-stream",s=/constructor/i.test(mr.HTMLElement)||mr.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&s)&&(typeof FileReader>"u"?"undefined":Ai(FileReader))==="object"){var u=new FileReader;u.onloadend=function(){var x=u.result;x=o?x:x.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=x:location=x,r=null},u.readAsDataURL(n)}else{var f=mr.URL||mr.webkitURL,d=f.createObjectURL(n);r?r.location=d:location.href=d,r=null,setTimeout(function(){f.revokeObjectURL(d)},4e4)}});function JI(n){var e;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(u){return[parseInt(u[1]),parseInt(u[2]),parseInt(u[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(u){return[parseInt(u[1],16),parseInt(u[2],16),parseInt(u[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(u){return[parseInt(u[1]+u[1],16),parseInt(u[2]+u[2],16),parseInt(u[3]+u[3],16)]}}],r=0;r<t.length;r++){var i=t[r].re,s=t[r].process,o=i.exec(n);o&&(e=s(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var u=this.r.toString(16),f=this.g.toString(16),d=this.b.toString(16);return u.length==1&&(u="0"+u),f.length==1&&(f="0"+f),d.length==1&&(d="0"+d),"#"+u+f+d}}var kp=mr.atob.bind(mr),uT=mr.btoa.bind(mr);function W_(n,e){var t=n[0],r=n[1],i=n[2],s=n[3];t=To(t,r,i,s,e[0],7,-680876936),s=To(s,t,r,i,e[1],12,-389564586),i=To(i,s,t,r,e[2],17,606105819),r=To(r,i,s,t,e[3],22,-1044525330),t=To(t,r,i,s,e[4],7,-176418897),s=To(s,t,r,i,e[5],12,1200080426),i=To(i,s,t,r,e[6],17,-1473231341),r=To(r,i,s,t,e[7],22,-45705983),t=To(t,r,i,s,e[8],7,1770035416),s=To(s,t,r,i,e[9],12,-1958414417),i=To(i,s,t,r,e[10],17,-42063),r=To(r,i,s,t,e[11],22,-1990404162),t=To(t,r,i,s,e[12],7,1804603682),s=To(s,t,r,i,e[13],12,-40341101),i=To(i,s,t,r,e[14],17,-1502002290),t=No(t,r=To(r,i,s,t,e[15],22,1236535329),i,s,e[1],5,-165796510),s=No(s,t,r,i,e[6],9,-1069501632),i=No(i,s,t,r,e[11],14,643717713),r=No(r,i,s,t,e[0],20,-373897302),t=No(t,r,i,s,e[5],5,-701558691),s=No(s,t,r,i,e[10],9,38016083),i=No(i,s,t,r,e[15],14,-660478335),r=No(r,i,s,t,e[4],20,-405537848),t=No(t,r,i,s,e[9],5,568446438),s=No(s,t,r,i,e[14],9,-1019803690),i=No(i,s,t,r,e[3],14,-187363961),r=No(r,i,s,t,e[8],20,1163531501),t=No(t,r,i,s,e[13],5,-1444681467),s=No(s,t,r,i,e[2],9,-51403784),i=No(i,s,t,r,e[7],14,1735328473),t=Co(t,r=No(r,i,s,t,e[12],20,-1926607734),i,s,e[5],4,-378558),s=Co(s,t,r,i,e[8],11,-2022574463),i=Co(i,s,t,r,e[11],16,1839030562),r=Co(r,i,s,t,e[14],23,-35309556),t=Co(t,r,i,s,e[1],4,-1530992060),s=Co(s,t,r,i,e[4],11,1272893353),i=Co(i,s,t,r,e[7],16,-155497632),r=Co(r,i,s,t,e[10],23,-1094730640),t=Co(t,r,i,s,e[13],4,681279174),s=Co(s,t,r,i,e[0],11,-358537222),i=Co(i,s,t,r,e[3],16,-722521979),r=Co(r,i,s,t,e[6],23,76029189),t=Co(t,r,i,s,e[9],4,-640364487),s=Co(s,t,r,i,e[12],11,-421815835),i=Co(i,s,t,r,e[15],16,530742520),t=Io(t,r=Co(r,i,s,t,e[2],23,-995338651),i,s,e[0],6,-198630844),s=Io(s,t,r,i,e[7],10,1126891415),i=Io(i,s,t,r,e[14],15,-1416354905),r=Io(r,i,s,t,e[5],21,-57434055),t=Io(t,r,i,s,e[12],6,1700485571),s=Io(s,t,r,i,e[3],10,-1894986606),i=Io(i,s,t,r,e[10],15,-1051523),r=Io(r,i,s,t,e[1],21,-2054922799),t=Io(t,r,i,s,e[8],6,1873313359),s=Io(s,t,r,i,e[15],10,-30611744),i=Io(i,s,t,r,e[6],15,-1560198380),r=Io(r,i,s,t,e[13],21,1309151649),t=Io(t,r,i,s,e[4],6,-145523070),s=Io(s,t,r,i,e[11],10,-1120210379),i=Io(i,s,t,r,e[2],15,718787259),r=Io(r,i,s,t,e[9],21,-343485551),n[0]=Fh(t,n[0]),n[1]=Fh(r,n[1]),n[2]=Fh(i,n[2]),n[3]=Fh(s,n[3])}function ux(n,e,t,r,i,s){return e=Fh(Fh(e,n),Fh(r,s)),Fh(e<<i|e>>>32-i,t)}function To(n,e,t,r,i,s,o){return ux(e&t|~e&r,n,e,i,s,o)}function No(n,e,t,r,i,s,o){return ux(e&r|t&~r,n,e,i,s,o)}function Co(n,e,t,r,i,s,o){return ux(e^t^r,n,e,i,s,o)}function Io(n,e,t,r,i,s,o){return ux(t^(e|~r),n,e,i,s,o)}function eR(n){var e,t=n.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=n.length;e+=64)W_(r,MW(n.substring(e-64,e)));n=n.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<n.length;e++)i[e>>2]|=n.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(W_(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*t,W_(r,i),r}function MW(n){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=n.charCodeAt(e)+(n.charCodeAt(e+1)<<8)+(n.charCodeAt(e+2)<<16)+(n.charCodeAt(e+3)<<24);return t}var hT="0123456789abcdef".split("");function LW(n){for(var e="",t=0;t<4;t++)e+=hT[n>>8*t+4&15]+hT[n>>8*t&15];return e}function kW(n){return String.fromCharCode(255&n,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function $y(n){return eR(n).map(kW).join("")}var PW=(function(n){for(var e=0;e<n.length;e++)n[e]=LW(n[e]);return n.join("")})(eR("hello"))!="5d41402abc4b2a76b9719d911017c592";function Fh(n,e){if(PW){var t=(65535&n)+(65535&e);return(n>>16)+(e>>16)+(t>>16)<<16|65535&t}return n+e&4294967295}function Zy(n,e){var t,r,i,s;if(n!==t){for(var o=(i=n,s=1+(256/n.length|0),new Array(s+1).join(i)),u=[],f=0;f<256;f++)u[f]=f;var d=0;for(f=0;f<256;f++){var x=u[f];d=(d+x+o.charCodeAt(f))%256,u[f]=u[d],u[d]=x}t=n,r=u}else u=r;var w=e.length,A=0,E=0,I="";for(f=0;f<w;f++)E=(E+(x=u[A=(A+1)%256]))%256,u[A]=u[E],u[E]=x,o=u[(u[A]+u[E])%256],I+=String.fromCharCode(e.charCodeAt(f)^o);return I}var fT={print:4,modify:8,copy:16,"annot-forms":32};function r0(n,e,t,r){this.v=1,this.r=2;var i=192;n.forEach(function(u){if(fT.perm!==void 0)throw new Error("Invalid permission: "+u);i+=fT[u]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),o=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^i)),this.encryptionKey=$y(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=Zy(this.encryptionKey,this.padding)}function i0(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var e="",t=n.length,r=0;r<t;r++){var i=n.charCodeAt(r);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):n[r]}return e}function dT(n){if(Ai(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,r,i){if(i=i||!1,typeof t!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var s=Math.random().toString(35);return e[t][s]=[r,!!i],s},this.unsubscribe=function(t){for(var r in e)if(e[r][t])return delete e[r][t],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[t]){var o=e[t][s];try{o[0].apply(n,r)}catch(u){mr.console&&zi.error("jsPDF PubSub Error",u.message,u)}o[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function c2(n){if(!(this instanceof c2))return new c2(n);var e="opacity,stroke-opacity".split(",");for(var t in n)n.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=n[t]);this.id="",this.objectNumber=-1}function tR(n,e){this.gState=n,this.matrix=e,this.id="",this.objectNumber=-1}function Nf(n,e,t,r,i){if(!(this instanceof Nf))return new Nf(n,e,t,r,i);this.type=n==="axial"?2:3,this.coords=e,this.colors=t,tR.call(this,r,i)}function o0(n,e,t,r,i){if(!(this instanceof o0))return new o0(n,e,t,r,i);this.boundingBox=n,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,tR.call(this,r,i)}function Yn(n){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],o=[],u=1,f=16,d="S",x=null;Ai(n=n||{})==="object"&&(t=n.orientation,r=n.unit||r,i=n.format||i,s=n.compress||n.compressPdf||s,(x=n.encryption||null)!==null&&(x.userPassword=x.userPassword||"",x.ownerPassword=x.ownerPassword||"",x.userPermissions=x.userPermissions||[]),u=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(e=n.precision),n.floatPrecision!==void 0&&(f=n.floatPrecision),d=n.defaultPathOperation||"S"),o=n.filters||(s===!0?["FlateEncode"]:o),r=r||"mm",t=(""+(t||"P")).toLowerCase();var w=n.putOnlyUsedFonts||!1,A={},E={internal:{},__private__:{}};E.__private__.PubSub=dT;var I="1.3",C=E.__private__.getPdfVersion=function(){return I};E.__private__.setPdfVersion=function(V){I=V};var M={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};E.__private__.getPageFormats=function(){return M};var j=E.__private__.getPageFormat=function(V){return M[V]};i=i||"a4";var W="compat",k="advanced",G=W;function ce(){this.saveGraphicsState(),le(new On(bn,0,0,-bn,0,io()*bn).toString()+" cm"),this.setFontSize(this.getFontSize()/bn),d="n",G=k}function re(){this.restoreGraphicsState(),d="S",G=W}var F=E.__private__.combineFontStyleAndFontWeight=function(V,ue){if(V=="bold"&&ue=="normal"||V=="bold"&&ue==400||V=="normal"&&ue=="italic"||V=="bold"&&ue=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return ue&&(V=ue==400||ue==="normal"?V==="italic"?"italic":"normal":ue!=700&&ue!=="bold"||V!=="normal"?(ue==700?"bold":ue)+""+V:"bold"),V};E.advancedAPI=function(V){var ue=G===W;return ue&&ce.call(this),typeof V!="function"||(V(this),ue&&re.call(this)),this},E.compatAPI=function(V){var ue=G===k;return ue&&re.call(this),typeof V!="function"||(V(this),ue&&ce.call(this)),this},E.isAdvancedAPI=function(){return G===k};var B,L=function(V){if(G!==k)throw new Error(V+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},Q=E.roundToPrecision=E.__private__.roundToPrecision=function(V,ue){var je=e||ue;if(isNaN(V)||isNaN(je))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return V.toFixed(je).replace(/0+$/,"")};B=E.hpf=E.__private__.hpf=typeof f=="number"?function(V){if(isNaN(V))throw new Error("Invalid argument passed to jsPDF.hpf");return Q(V,f)}:f==="smart"?function(V){if(isNaN(V))throw new Error("Invalid argument passed to jsPDF.hpf");return Q(V,V>-1&&V<1?16:5)}:function(V){if(isNaN(V))throw new Error("Invalid argument passed to jsPDF.hpf");return Q(V,16)};var U=E.f2=E.__private__.f2=function(V){if(isNaN(V))throw new Error("Invalid argument passed to jsPDF.f2");return Q(V,2)},q=E.__private__.f3=function(V){if(isNaN(V))throw new Error("Invalid argument passed to jsPDF.f3");return Q(V,3)},Y=E.scale=E.__private__.scale=function(V){if(isNaN(V))throw new Error("Invalid argument passed to jsPDF.scale");return G===W?V*bn:G===k?V:void 0},ne=function(V){return Y((function(ue){return G===W?io()-ue:G===k?ue:void 0})(V))};E.__private__.setPrecision=E.setPrecision=function(V){typeof parseInt(V,10)=="number"&&(e=parseInt(V,10))};var pe,Ae="00000000000000000000000000000000",ve=E.__private__.getFileId=function(){return Ae},Re=E.__private__.setFileId=function(V){return Ae=V!==void 0&&/^[a-fA-F0-9]{32}$/.test(V)?V.toUpperCase():Ae.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),x!==null&&($r=new r0(x.userPermissions,x.userPassword,x.ownerPassword,Ae)),Ae};E.setFileId=function(V){return Re(V),this},E.getFileId=function(){return ve()};var He=E.__private__.convertDateToPDFDate=function(V){var ue=V.getTimezoneOffset(),je=ue<0?"+":"-",Ye=Math.floor(Math.abs(ue/60)),tt=Math.abs(ue%60),kt=[je,Z(Ye),"'",Z(tt),"'"].join("");return["D:",V.getFullYear(),Z(V.getMonth()+1),Z(V.getDate()),Z(V.getHours()),Z(V.getMinutes()),Z(V.getSeconds()),kt].join("")},ze=E.__private__.convertPDFDateToDate=function(V){var ue=parseInt(V.substr(2,4),10),je=parseInt(V.substr(6,2),10)-1,Ye=parseInt(V.substr(8,2),10),tt=parseInt(V.substr(10,2),10),kt=parseInt(V.substr(12,2),10),Kt=parseInt(V.substr(14,2),10);return new Date(ue,je,Ye,tt,kt,Kt,0)},xe=E.__private__.setCreationDate=function(V){var ue;if(V===void 0&&(V=new Date),V instanceof Date)ue=He(V);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(V))throw new Error("Invalid argument passed to jsPDF.setCreationDate");ue=V}return pe=ue},H=E.__private__.getCreationDate=function(V){var ue=pe;return V==="jsDate"&&(ue=ze(pe)),ue};E.setCreationDate=function(V){return xe(V),this},E.getCreationDate=function(V){return H(V)};var J,Z=E.__private__.padd2=function(V){return("0"+parseInt(V)).slice(-2)},oe=E.__private__.padd2Hex=function(V){return("00"+(V=V.toString())).substr(V.length)},de=0,Me=[],Ue=[],Ve=0,Ie=[],nt=[],Tt=!1,St=Ue;E.__private__.setCustomOutputDestination=function(V){Tt=!0,St=V};var Rt=function(V){Tt||(St=V)};E.__private__.resetCustomOutputDestination=function(){Tt=!1,St=Ue};var le=E.__private__.out=function(V){return V=V.toString(),Ve+=V.length+1,St.push(V),St},ot=E.__private__.write=function(V){return le(arguments.length===1?V.toString():Array.prototype.join.call(arguments," "))},Ge=E.__private__.getArrayBuffer=function(V){for(var ue=V.length,je=new ArrayBuffer(ue),Ye=new Uint8Array(je);ue--;)Ye[ue]=V.charCodeAt(ue);return je},At=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];E.__private__.getStandardFonts=function(){return At};var Je=n.fontSize||16;E.__private__.setFontSize=E.setFontSize=function(V){return Je=G===k?V/bn:V,this};var Zt,Xe=E.__private__.getFontSize=E.getFontSize=function(){return G===W?Je:Je*bn},Ft=n.R2L||!1;E.__private__.setR2L=E.setR2L=function(V){return Ft=V,this},E.__private__.getR2L=E.getR2L=function(){return Ft};var fn,tn=E.__private__.setZoomMode=function(V){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(V))Zt=V;else if(isNaN(V)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(V)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+V+'" is not recognized.');Zt=V}else Zt=parseInt(V,10)};E.__private__.getZoomMode=function(){return Zt};var yn,cn=E.__private__.setPageMode=function(V){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(V)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+V+'" is not recognized.');fn=V};E.__private__.getPageMode=function(){return fn};var wn=E.__private__.setLayoutMode=function(V){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(V)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+V+'" is not recognized.');yn=V};E.__private__.getLayoutMode=function(){return yn},E.__private__.setDisplayMode=E.setDisplayMode=function(V,ue,je){return tn(V),wn(ue),cn(je),this};var gn={title:"",subject:"",author:"",keywords:"",creator:""};E.__private__.getDocumentProperty=function(V){if(Object.keys(gn).indexOf(V)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return gn[V]},E.__private__.getDocumentProperties=function(){return gn},E.__private__.setDocumentProperties=E.setProperties=E.setDocumentProperties=function(V){for(var ue in gn)gn.hasOwnProperty(ue)&&V[ue]&&(gn[ue]=V[ue]);return this},E.__private__.setDocumentProperty=function(V,ue){if(Object.keys(gn).indexOf(V)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return gn[V]=ue};var sn,bn,un,nr,rn,dt={},Gt={},It=[],ln={},Xn={},mt={},Xt={},on=null,hn=0,dn=[],Zn=new dT(E),Dr=n.hotfixes||[],li={},Lr={},Kr=[],On=function V(ue,je,Ye,tt,kt,Kt){if(!(this instanceof V))return new V(ue,je,Ye,tt,kt,Kt);isNaN(ue)&&(ue=1),isNaN(je)&&(je=0),isNaN(Ye)&&(Ye=0),isNaN(tt)&&(tt=1),isNaN(kt)&&(kt=0),isNaN(Kt)&&(Kt=0),this._matrix=[ue,je,Ye,tt,kt,Kt]};Object.defineProperty(On.prototype,"sx",{get:function(){return this._matrix[0]},set:function(V){this._matrix[0]=V}}),Object.defineProperty(On.prototype,"shy",{get:function(){return this._matrix[1]},set:function(V){this._matrix[1]=V}}),Object.defineProperty(On.prototype,"shx",{get:function(){return this._matrix[2]},set:function(V){this._matrix[2]=V}}),Object.defineProperty(On.prototype,"sy",{get:function(){return this._matrix[3]},set:function(V){this._matrix[3]=V}}),Object.defineProperty(On.prototype,"tx",{get:function(){return this._matrix[4]},set:function(V){this._matrix[4]=V}}),Object.defineProperty(On.prototype,"ty",{get:function(){return this._matrix[5]},set:function(V){this._matrix[5]=V}}),Object.defineProperty(On.prototype,"a",{get:function(){return this._matrix[0]},set:function(V){this._matrix[0]=V}}),Object.defineProperty(On.prototype,"b",{get:function(){return this._matrix[1]},set:function(V){this._matrix[1]=V}}),Object.defineProperty(On.prototype,"c",{get:function(){return this._matrix[2]},set:function(V){this._matrix[2]=V}}),Object.defineProperty(On.prototype,"d",{get:function(){return this._matrix[3]},set:function(V){this._matrix[3]=V}}),Object.defineProperty(On.prototype,"e",{get:function(){return this._matrix[4]},set:function(V){this._matrix[4]=V}}),Object.defineProperty(On.prototype,"f",{get:function(){return this._matrix[5]},set:function(V){this._matrix[5]=V}}),Object.defineProperty(On.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(On.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(On.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(On.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),On.prototype.join=function(V){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(B).join(V)},On.prototype.multiply=function(V){var ue=V.sx*this.sx+V.shy*this.shx,je=V.sx*this.shy+V.shy*this.sy,Ye=V.shx*this.sx+V.sy*this.shx,tt=V.shx*this.shy+V.sy*this.sy,kt=V.tx*this.sx+V.ty*this.shx+this.tx,Kt=V.tx*this.shy+V.ty*this.sy+this.ty;return new On(ue,je,Ye,tt,kt,Kt)},On.prototype.decompose=function(){var V=this.sx,ue=this.shy,je=this.shx,Ye=this.sy,tt=this.tx,kt=this.ty,Kt=Math.sqrt(V*V+ue*ue),Nn=(V/=Kt)*je+(ue/=Kt)*Ye;je-=V*Nn,Ye-=ue*Nn;var pn=Math.sqrt(je*je+Ye*Ye);return Nn/=pn,V*(Ye/=pn)<ue*(je/=pn)&&(V=-V,ue=-ue,Nn=-Nn,Kt=-Kt),{scale:new On(Kt,0,0,pn,0,0),translate:new On(1,0,0,1,tt,kt),rotate:new On(V,ue,-ue,V,0,0),skew:new On(1,0,Nn,1,0,0)}},On.prototype.toString=function(V){return this.join(" ")},On.prototype.inversed=function(){var V=this.sx,ue=this.shy,je=this.shx,Ye=this.sy,tt=this.tx,kt=this.ty,Kt=1/(V*Ye-ue*je),Nn=Ye*Kt,pn=-ue*Kt,qn=-je*Kt,_n=V*Kt;return new On(Nn,pn,qn,_n,-Nn*tt-qn*kt,-pn*tt-_n*kt)},On.prototype.applyToPoint=function(V){var ue=V.x*this.sx+V.y*this.shx+this.tx,je=V.x*this.shy+V.y*this.sy+this.ty;return new Wr(ue,je)},On.prototype.applyToRectangle=function(V){var ue=this.applyToPoint(V),je=this.applyToPoint(new Wr(V.x+V.w,V.y+V.h));return new no(ue.x,ue.y,je.x-ue.x,je.y-ue.y)},On.prototype.clone=function(){var V=this.sx,ue=this.shy,je=this.shx,Ye=this.sy,tt=this.tx,kt=this.ty;return new On(V,ue,je,Ye,tt,kt)},E.Matrix=On;var Ci=E.matrixMult=function(V,ue){return ue.multiply(V)},Qi=new On(1,0,0,1,0,0);E.unitMatrix=E.identityMatrix=Qi;var Qr=function(V,ue){if(!Xn[V]){var je=(ue instanceof Nf?"Sh":"P")+(Object.keys(ln).length+1).toString(10);ue.id=je,Xn[V]=je,ln[je]=ue,Zn.publish("addPattern",ue)}};E.ShadingPattern=Nf,E.TilingPattern=o0,E.addShadingPattern=function(V,ue){return L("addShadingPattern()"),Qr(V,ue),this},E.beginTilingPattern=function(V){L("beginTilingPattern()"),ro(V.boundingBox[0],V.boundingBox[1],V.boundingBox[2]-V.boundingBox[0],V.boundingBox[3]-V.boundingBox[1],V.matrix)},E.endTilingPattern=function(V,ue){L("endTilingPattern()"),ue.stream=nt[J].join(`
`),Qr(V,ue),Zn.publish("endTilingPattern",ue),Kr.pop().restore()};var Hi,lr=E.__private__.newObject=function(){var V=Rr();return ge(V,!0),V},Rr=E.__private__.newObjectDeferred=function(){return de++,Me[de]=function(){return Ve},de},ge=function(V,ue){return ue=typeof ue=="boolean"&&ue,Me[V]=Ve,ue&&le(V+" 0 obj"),V},be=E.__private__.newAdditionalObject=function(){var V={objId:Rr(),content:""};return Ie.push(V),V},Te=Rr(),Ce=Rr(),Oe=E.__private__.decodeColorString=function(V){var ue=V.split(" ");if(ue.length!==2||ue[1]!=="g"&&ue[1]!=="G")ue.length!==5||ue[4]!=="k"&&ue[4]!=="K"||(ue=[(1-ue[0])*(1-ue[3]),(1-ue[1])*(1-ue[3]),(1-ue[2])*(1-ue[3]),"r"]);else{var je=parseFloat(ue[0]);ue=[je,je,je,"r"]}for(var Ye="#",tt=0;tt<3;tt++)Ye+=("0"+Math.floor(255*parseFloat(ue[tt])).toString(16)).slice(-2);return Ye},ke=E.__private__.encodeColorString=function(V){var ue;typeof V=="string"&&(V={ch1:V});var je=V.ch1,Ye=V.ch2,tt=V.ch3,kt=V.ch4,Kt=V.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof je=="string"&&je.charAt(0)!=="#"){var Nn=new JI(je);if(Nn.ok)je=Nn.toHex();else if(!/^\d*\.?\d*$/.test(je))throw new Error('Invalid color "'+je+'" passed to jsPDF.encodeColorString.')}if(typeof je=="string"&&/^#[0-9A-Fa-f]{3}$/.test(je)&&(je="#"+je[1]+je[1]+je[2]+je[2]+je[3]+je[3]),typeof je=="string"&&/^#[0-9A-Fa-f]{6}$/.test(je)){var pn=parseInt(je.substr(1),16);je=pn>>16&255,Ye=pn>>8&255,tt=255&pn}if(Ye===void 0||kt===void 0&&je===Ye&&Ye===tt)ue=typeof je=="string"?je+" "+Kt[0]:V.precision===2?U(je/255)+" "+Kt[0]:q(je/255)+" "+Kt[0];else if(kt===void 0||Ai(kt)==="object"){if(kt&&!isNaN(kt.a)&&kt.a===0)return["1.","1.","1.",Kt[1]].join(" ");ue=typeof je=="string"?[je,Ye,tt,Kt[1]].join(" "):V.precision===2?[U(je/255),U(Ye/255),U(tt/255),Kt[1]].join(" "):[q(je/255),q(Ye/255),q(tt/255),Kt[1]].join(" ")}else ue=typeof je=="string"?[je,Ye,tt,kt,Kt[2]].join(" "):V.precision===2?[U(je),U(Ye),U(tt),U(kt),Kt[2]].join(" "):[q(je),q(Ye),q(tt),q(kt),Kt[2]].join(" ");return ue},it=E.__private__.getFilters=function(){return o},Et=E.__private__.putStream=function(V){var ue=(V=V||{}).data||"",je=V.filters||it(),Ye=V.alreadyAppliedFilters||[],tt=V.addLength1||!1,kt=ue.length,Kt=V.objectId,Nn=function(K){return K};if(x!==null&&Kt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");x!==null&&(Nn=$r.encryptor(Kt,0));var pn={};je===!0&&(je=["FlateEncode"]);var qn=V.additionalKeyValues||[],_n=(pn=Yn.API.processDataByFilters!==void 0?Yn.API.processDataByFilters(ue,je):{data:ue,reverseChain:[]}).reverseChain+(Array.isArray(Ye)?Ye.join(" "):Ye.toString());if(pn.data.length!==0&&(qn.push({key:"Length",value:pn.data.length}),tt===!0&&qn.push({key:"Length1",value:kt})),_n.length!=0)if(_n.split("/").length-1==1)qn.push({key:"Filter",value:_n});else{qn.push({key:"Filter",value:"["+_n+"]"});for(var Ar=0;Ar<qn.length;Ar+=1)if(qn[Ar].key==="DecodeParms"){for(var Br=[],Wn=0;Wn<pn.reverseChain.split("/").length-1;Wn+=1)Br.push("null");Br.push(qn[Ar].value),qn[Ar].value="["+Br.join(" ")+"]"}}le("<<");for(var S=0;S<qn.length;S++)le("/"+qn[S].key+" "+qn[S].value);le(">>"),pn.data.length!==0&&(le("stream"),le(Nn(pn.data)),le("endstream"))},et=E.__private__.putPage=function(V){var ue=V.number,je=V.data,Ye=V.objId,tt=V.contentsObjId;ge(Ye,!0),le("<</Type /Page"),le("/Parent "+V.rootDictionaryObjId+" 0 R"),le("/Resources "+V.resourceDictionaryObjId+" 0 R"),le("/MediaBox ["+parseFloat(B(V.mediaBox.bottomLeftX))+" "+parseFloat(B(V.mediaBox.bottomLeftY))+" "+B(V.mediaBox.topRightX)+" "+B(V.mediaBox.topRightY)+"]"),V.cropBox!==null&&le("/CropBox ["+B(V.cropBox.bottomLeftX)+" "+B(V.cropBox.bottomLeftY)+" "+B(V.cropBox.topRightX)+" "+B(V.cropBox.topRightY)+"]"),V.bleedBox!==null&&le("/BleedBox ["+B(V.bleedBox.bottomLeftX)+" "+B(V.bleedBox.bottomLeftY)+" "+B(V.bleedBox.topRightX)+" "+B(V.bleedBox.topRightY)+"]"),V.trimBox!==null&&le("/TrimBox ["+B(V.trimBox.bottomLeftX)+" "+B(V.trimBox.bottomLeftY)+" "+B(V.trimBox.topRightX)+" "+B(V.trimBox.topRightY)+"]"),V.artBox!==null&&le("/ArtBox ["+B(V.artBox.bottomLeftX)+" "+B(V.artBox.bottomLeftY)+" "+B(V.artBox.topRightX)+" "+B(V.artBox.topRightY)+"]"),typeof V.userUnit=="number"&&V.userUnit!==1&&le("/UserUnit "+V.userUnit),Zn.publish("putPage",{objId:Ye,pageContext:dn[ue],pageNumber:ue,page:je}),le("/Contents "+tt+" 0 R"),le(">>"),le("endobj");var kt=je.join(`
`);return G===k&&(kt+=`
Q`),ge(tt,!0),Et({data:kt,filters:it(),objectId:tt}),le("endobj"),Ye},lt=E.__private__.putPages=function(){var V,ue,je=[];for(V=1;V<=hn;V++)dn[V].objId=Rr(),dn[V].contentsObjId=Rr();for(V=1;V<=hn;V++)je.push(et({number:V,data:nt[V],objId:dn[V].objId,contentsObjId:dn[V].contentsObjId,mediaBox:dn[V].mediaBox,cropBox:dn[V].cropBox,bleedBox:dn[V].bleedBox,trimBox:dn[V].trimBox,artBox:dn[V].artBox,userUnit:dn[V].userUnit,rootDictionaryObjId:Te,resourceDictionaryObjId:Ce}));ge(Te,!0),le("<</Type /Pages");var Ye="/Kids [";for(ue=0;ue<hn;ue++)Ye+=je[ue]+" 0 R ";le(Ye+"]"),le("/Count "+hn),le(">>"),le("endobj"),Zn.publish("postPutPages")},ht=function(V){Zn.publish("putFont",{font:V,out:le,newObject:lr,putStream:Et}),V.isAlreadyPutted!==!0&&(V.objectNumber=lr(),le("<<"),le("/Type /Font"),le("/BaseFont /"+i0(V.postScriptName)),le("/Subtype /Type1"),typeof V.encoding=="string"&&le("/Encoding /"+V.encoding),le("/FirstChar 32"),le("/LastChar 255"),le(">>"),le("endobj"))},Ht=function(V){V.objectNumber=lr();var ue=[];ue.push({key:"Type",value:"/XObject"}),ue.push({key:"Subtype",value:"/Form"}),ue.push({key:"BBox",value:"["+[B(V.x),B(V.y),B(V.x+V.width),B(V.y+V.height)].join(" ")+"]"}),ue.push({key:"Matrix",value:"["+V.matrix.toString()+"]"});var je=V.pages[1].join(`
`);Et({data:je,additionalKeyValues:ue,objectId:V.objectNumber}),le("endobj")},Ot=function(V,ue){ue||(ue=21);var je=lr(),Ye=(function(Kt,Nn){var pn,qn=[],_n=1/(Nn-1);for(pn=0;pn<1;pn+=_n)qn.push(pn);if(qn.push(1),Kt[0].offset!=0){var Ar={offset:0,color:Kt[0].color};Kt.unshift(Ar)}if(Kt[Kt.length-1].offset!=1){var Br={offset:1,color:Kt[Kt.length-1].color};Kt.push(Br)}for(var Wn="",S=0,K=0;K<qn.length;K++){for(pn=qn[K];pn>Kt[S+1].offset;)S++;var ie=Kt[S].offset,Se=(pn-ie)/(Kt[S+1].offset-ie),st=Kt[S].color,vt=Kt[S+1].color;Wn+=oe(Math.round((1-Se)*st[0]+Se*vt[0]).toString(16))+oe(Math.round((1-Se)*st[1]+Se*vt[1]).toString(16))+oe(Math.round((1-Se)*st[2]+Se*vt[2]).toString(16))}return Wn.trim()})(V.colors,ue),tt=[];tt.push({key:"FunctionType",value:"0"}),tt.push({key:"Domain",value:"[0.0 1.0]"}),tt.push({key:"Size",value:"["+ue+"]"}),tt.push({key:"BitsPerSample",value:"8"}),tt.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),tt.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Et({data:Ye,additionalKeyValues:tt,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:je}),le("endobj"),V.objectNumber=lr(),le("<< /ShadingType "+V.type),le("/ColorSpace /DeviceRGB");var kt="/Coords ["+B(parseFloat(V.coords[0]))+" "+B(parseFloat(V.coords[1]))+" ";V.type===2?kt+=B(parseFloat(V.coords[2]))+" "+B(parseFloat(V.coords[3])):kt+=B(parseFloat(V.coords[2]))+" "+B(parseFloat(V.coords[3]))+" "+B(parseFloat(V.coords[4]))+" "+B(parseFloat(V.coords[5])),le(kt+="]"),V.matrix&&le("/Matrix ["+V.matrix.toString()+"]"),le("/Function "+je+" 0 R"),le("/Extend [true true]"),le(">>"),le("endobj")},Lt=function(V,ue){var je=Rr(),Ye=lr();ue.push({resourcesOid:je,objectOid:Ye}),V.objectNumber=Ye;var tt=[];tt.push({key:"Type",value:"/Pattern"}),tt.push({key:"PatternType",value:"1"}),tt.push({key:"PaintType",value:"1"}),tt.push({key:"TilingType",value:"1"}),tt.push({key:"BBox",value:"["+V.boundingBox.map(B).join(" ")+"]"}),tt.push({key:"XStep",value:B(V.xStep)}),tt.push({key:"YStep",value:B(V.yStep)}),tt.push({key:"Resources",value:je+" 0 R"}),V.matrix&&tt.push({key:"Matrix",value:"["+V.matrix.toString()+"]"}),Et({data:V.stream,additionalKeyValues:tt,objectId:V.objectNumber}),le("endobj")},yt=function(V){for(var ue in V.objectNumber=lr(),le("<<"),V)switch(ue){case"opacity":le("/ca "+U(V[ue]));break;case"stroke-opacity":le("/CA "+U(V[ue]))}le(">>"),le("endobj")},en=function(V){ge(V.resourcesOid,!0),le("<<"),le("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var ue in le("/Font <<"),dt)dt.hasOwnProperty(ue)&&(w===!1||w===!0&&A.hasOwnProperty(ue))&&le("/"+ue+" "+dt[ue].objectNumber+" 0 R");le(">>")})(),(function(){if(Object.keys(ln).length>0){for(var ue in le("/Shading <<"),ln)ln.hasOwnProperty(ue)&&ln[ue]instanceof Nf&&ln[ue].objectNumber>=0&&le("/"+ue+" "+ln[ue].objectNumber+" 0 R");Zn.publish("putShadingPatternDict"),le(">>")}})(),(function(ue){if(Object.keys(ln).length>0){for(var je in le("/Pattern <<"),ln)ln.hasOwnProperty(je)&&ln[je]instanceof E.TilingPattern&&ln[je].objectNumber>=0&&ln[je].objectNumber<ue&&le("/"+je+" "+ln[je].objectNumber+" 0 R");Zn.publish("putTilingPatternDict"),le(">>")}})(V.objectOid),(function(){if(Object.keys(mt).length>0){var ue;for(ue in le("/ExtGState <<"),mt)mt.hasOwnProperty(ue)&&mt[ue].objectNumber>=0&&le("/"+ue+" "+mt[ue].objectNumber+" 0 R");Zn.publish("putGStateDict"),le(">>")}})(),(function(){for(var ue in le("/XObject <<"),li)li.hasOwnProperty(ue)&&li[ue].objectNumber>=0&&le("/"+ue+" "+li[ue].objectNumber+" 0 R");Zn.publish("putXobjectDict"),le(">>")})(),le(">>"),le("endobj")},Tn=function(V){Gt[V.fontName]=Gt[V.fontName]||{},Gt[V.fontName][V.fontStyle]=V.id},Nt=function(V,ue,je,Ye,tt){var kt={id:"F"+(Object.keys(dt).length+1).toString(10),postScriptName:V,fontName:ue,fontStyle:je,encoding:Ye,isStandardFont:tt||!1,metadata:{}};return Zn.publish("addFont",{font:kt,instance:this}),dt[kt.id]=kt,Tn(kt),kt.id},vr=E.__private__.pdfEscape=E.pdfEscape=function(V,ue){return(function(je,Ye){var tt,kt,Kt,Nn,pn,qn,_n,Ar,Br;if(Kt=(Ye=Ye||{}).sourceEncoding||"Unicode",pn=Ye.outputEncoding,(Ye.autoencode||pn)&&dt[sn].metadata&&dt[sn].metadata[Kt]&&dt[sn].metadata[Kt].encoding&&(Nn=dt[sn].metadata[Kt].encoding,!pn&&dt[sn].encoding&&(pn=dt[sn].encoding),!pn&&Nn.codePages&&(pn=Nn.codePages[0]),typeof pn=="string"&&(pn=Nn[pn]),pn)){for(_n=!1,qn=[],tt=0,kt=je.length;tt<kt;tt++)(Ar=pn[je.charCodeAt(tt)])?qn.push(String.fromCharCode(Ar)):qn.push(je[tt]),qn[tt].charCodeAt(0)>>8&&(_n=!0);je=qn.join("")}for(tt=je.length;_n===void 0&&tt!==0;)je.charCodeAt(tt-1)>>8&&(_n=!0),tt--;if(!_n)return je;for(qn=Ye.noBOM?[]:[254,255],tt=0,kt=je.length;tt<kt;tt++){if((Br=(Ar=je.charCodeAt(tt))>>8)>>8)throw new Error("Character at position "+tt+" of string '"+je+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");qn.push(Br),qn.push(Ar-(Br<<8))}return String.fromCharCode.apply(void 0,qn)})(V,ue).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Kn=E.__private__.beginPage=function(V){nt[++hn]=[],dn[hn]={objId:0,contentsObjId:0,userUnit:Number(u),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(V[0]),topRightY:Number(V[1])}},fr(hn),Rt(nt[J])},Ii=function(V,ue){var je,Ye,tt;switch(t=ue||t,typeof V=="string"&&(je=j(V.toLowerCase()),Array.isArray(je)&&(Ye=je[0],tt=je[1])),Array.isArray(V)&&(Ye=V[0]*bn,tt=V[1]*bn),isNaN(Ye)&&(Ye=i[0],tt=i[1]),(Ye>14400||tt>14400)&&(zi.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Ye=Math.min(14400,Ye),tt=Math.min(14400,tt)),i=[Ye,tt],t.substr(0,1)){case"l":tt>Ye&&(i=[tt,Ye]);break;case"p":Ye>tt&&(i=[tt,Ye])}Kn(i),Fn(ta),le(ra),ia!==0&&le(ia+" J"),xi!==0&&le(xi+" j"),Zn.publish("addPage",{pageNumber:hn})},xa=function(V){V>0&&V<=hn&&(nt.splice(V,1),dn.splice(V,1),hn--,J>hn&&(J=hn),this.setPage(J))},fr=function(V){V>0&&V<=hn&&(J=V)},or=E.__private__.getNumberOfPages=E.getNumberOfPages=function(){return nt.length-1},cr=function(V,ue,je){var Ye,tt=void 0;return je=je||{},V=V!==void 0?V:dt[sn].fontName,ue=ue!==void 0?ue:dt[sn].fontStyle,Ye=V.toLowerCase(),Gt[Ye]!==void 0&&Gt[Ye][ue]!==void 0?tt=Gt[Ye][ue]:Gt[V]!==void 0&&Gt[V][ue]!==void 0?tt=Gt[V][ue]:je.disableWarning===!1&&zi.warn("Unable to look up font label for font '"+V+"', '"+ue+"'. Refer to getFontList() for available fonts."),tt||je.noFallback||(tt=Gt.times[ue])==null&&(tt=Gt.times.normal),tt},ci=E.__private__.putInfo=function(){var V=lr(),ue=function(Ye){return Ye};for(var je in x!==null&&(ue=$r.encryptor(V,0)),le("<<"),le("/Producer ("+vr(ue("jsPDF "+Yn.version))+")"),gn)gn.hasOwnProperty(je)&&gn[je]&&le("/"+je.substr(0,1).toUpperCase()+je.substr(1)+" ("+vr(ue(gn[je]))+")");le("/CreationDate ("+vr(ue(pe))+")"),le(">>"),le("endobj")},os=E.__private__.putCatalog=function(V){var ue=(V=V||{}).rootDictionaryObjId||Te;switch(lr(),le("<<"),le("/Type /Catalog"),le("/Pages "+ue+" 0 R"),Zt||(Zt="fullwidth"),Zt){case"fullwidth":le("/OpenAction [3 0 R /FitH null]");break;case"fullheight":le("/OpenAction [3 0 R /FitV null]");break;case"fullpage":le("/OpenAction [3 0 R /Fit]");break;case"original":le("/OpenAction [3 0 R /XYZ null null 1]");break;default:var je=""+Zt;je.substr(je.length-1)==="%"&&(Zt=parseInt(Zt)/100),typeof Zt=="number"&&le("/OpenAction [3 0 R /XYZ null null "+U(Zt)+"]")}switch(yn||(yn="continuous"),yn){case"continuous":le("/PageLayout /OneColumn");break;case"single":le("/PageLayout /SinglePage");break;case"two":case"twoleft":le("/PageLayout /TwoColumnLeft");break;case"tworight":le("/PageLayout /TwoColumnRight")}fn&&le("/PageMode /"+fn),Zn.publish("putCatalog"),le(">>"),le("endobj")},Ri=E.__private__.putTrailer=function(){le("trailer"),le("<<"),le("/Size "+(de+1)),le("/Root "+de+" 0 R"),le("/Info "+(de-1)+" 0 R"),x!==null&&le("/Encrypt "+$r.oid+" 0 R"),le("/ID [ <"+Ae+"> <"+Ae+"> ]"),le(">>")},Hn=E.__private__.putHeader=function(){le("%PDF-"+I),le("%")},As=E.__private__.putXRef=function(){var V="0000000000";le("xref"),le("0 "+(de+1)),le("0000000000 65535 f ");for(var ue=1;ue<=de;ue++)typeof Me[ue]=="function"?le((V+Me[ue]()).slice(-10)+" 00000 n "):Me[ue]!==void 0?le((V+Me[ue]).slice(-10)+" 00000 n "):le("0000000000 00000 n ")},Ma=E.__private__.buildDocument=function(){var V;de=0,Ve=0,Ue=[],Me=[],Ie=[],Te=Rr(),Ce=Rr(),Rt(Ue),Zn.publish("buildDocument"),Hn(),lt(),(function(){Zn.publish("putAdditionalObjects");for(var je=0;je<Ie.length;je++){var Ye=Ie[je];ge(Ye.objId,!0),le(Ye.content),le("endobj")}Zn.publish("postPutAdditionalObjects")})(),V=[],(function(){for(var je in dt)dt.hasOwnProperty(je)&&(w===!1||w===!0&&A.hasOwnProperty(je))&&ht(dt[je])})(),(function(){var je;for(je in mt)mt.hasOwnProperty(je)&&yt(mt[je])})(),(function(){for(var je in li)li.hasOwnProperty(je)&&Ht(li[je])})(),(function(je){var Ye;for(Ye in ln)ln.hasOwnProperty(Ye)&&(ln[Ye]instanceof Nf?Ot(ln[Ye]):ln[Ye]instanceof o0&&Lt(ln[Ye],je))})(V),Zn.publish("putResources"),V.forEach(en),en({resourcesOid:Ce,objectOid:Number.MAX_SAFE_INTEGER}),Zn.publish("postPutResources"),x!==null&&($r.oid=lr(),le("<<"),le("/Filter /Standard"),le("/V "+$r.v),le("/R "+$r.r),le("/U <"+$r.toHexString($r.U)+">"),le("/O <"+$r.toHexString($r.O)+">"),le("/P "+$r.P),le(">>"),le("endobj")),ci(),os();var ue=Ve;return As(),Ri(),le("startxref"),le(""+ue),le("%%EOF"),Rt(nt[J]),Ue.join(`
`)},Gn=E.__private__.getBlob=function(V){return new Blob([Ge(V)],{type:"application/pdf"})},Vs=E.output=E.__private__.output=(Hi=function(V,ue){switch(typeof(ue=ue||{})=="string"?ue={filename:ue}:ue.filename=ue.filename||"generated.pdf",V){case void 0:return Ma();case"save":E.save(ue.filename);break;case"arraybuffer":return Ge(Ma());case"blob":return Gn(Ma());case"bloburi":case"bloburl":if(mr.URL!==void 0&&typeof mr.URL.createObjectURL=="function")return mr.URL&&mr.URL.createObjectURL(Gn(Ma()))||void 0;zi.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var je="",Ye=Ma();try{je=uT(Ye)}catch{je=uT(unescape(encodeURIComponent(Ye)))}return"data:application/pdf;filename="+ue.filename+";base64,"+je;case"pdfobjectnewwindow":if(Object.prototype.toString.call(mr)==="[object Window]"){var tt="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",kt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';ue.pdfObjectUrl&&(tt=ue.pdfObjectUrl,kt="");var Kt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+tt+'"'+kt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(ue)+");<\/script></body></html>",Nn=mr.open();return Nn!==null&&Nn.document.write(Kt),Nn}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(mr)==="[object Window]"){var pn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(ue.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+ue.filename+'" width="500px" height="400px" /></body></html>',qn=mr.open();if(qn!==null){qn.document.write(pn);var _n=this;qn.document.documentElement.querySelector("#pdfViewer").onload=function(){qn.document.title=ue.filename,qn.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(_n.output("bloburl"))}}return qn}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(mr)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Ar='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",ue)+'"></iframe></body></html>',Br=mr.open();if(Br!==null&&(Br.document.write(Ar),Br.document.title=ue.filename),Br||typeof safari>"u")return Br;break;case"datauri":case"dataurl":return mr.document.location.href=this.output("datauristring",ue);default:return null}},Hi.foo=function(){try{return Hi.apply(this,arguments)}catch(je){var V=je.stack||"";~V.indexOf(" at ")&&(V=V.split(" at ")[1]);var ue="Error in function "+V.split(`
`)[0].split("<")[0]+": "+je.message;if(!mr.console)throw new Error(ue);mr.console.error(ue,je),mr.alert&&alert(ue)}},Hi.foo.bar=Hi,Hi.foo),$i=function(V){return Array.isArray(Dr)===!0&&Dr.indexOf(V)>-1};switch(r){case"pt":bn=1;break;case"mm":bn=72/25.4;break;case"cm":bn=72/2.54;break;case"in":bn=72;break;case"px":bn=$i("px_scaling")==1?.75:96/72;break;case"pc":case"em":bn=12;break;case"ex":bn=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);bn=r}var $r=null;xe(),Re();var sr=E.__private__.getPageInfo=E.getPageInfo=function(V){if(isNaN(V)||V%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:dn[V].objId,pageNumber:V,pageContext:dn[V]}},Oi=E.__private__.getPageInfoByObjId=function(V){if(isNaN(V)||V%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var ue in dn)if(dn[ue].objId===V)break;return sr(ue)},ut=E.__private__.getCurrentPageInfo=E.getCurrentPageInfo=function(){return{objId:dn[J].objId,pageNumber:J,pageContext:dn[J]}};E.addPage=function(){return Ii.apply(this,arguments),this},E.setPage=function(){return fr.apply(this,arguments),Rt.call(this,nt[J]),this},E.insertPage=function(V){return this.addPage(),this.movePage(J,V),this},E.movePage=function(V,ue){var je,Ye;if(V>ue){je=nt[V],Ye=dn[V];for(var tt=V;tt>ue;tt--)nt[tt]=nt[tt-1],dn[tt]=dn[tt-1];nt[ue]=je,dn[ue]=Ye,this.setPage(ue)}else if(V<ue){je=nt[V],Ye=dn[V];for(var kt=V;kt<ue;kt++)nt[kt]=nt[kt+1],dn[kt]=dn[kt+1];nt[ue]=je,dn[ue]=Ye,this.setPage(ue)}return this},E.deletePage=function(){return xa.apply(this,arguments),this},E.__private__.text=E.text=function(V,ue,je,Ye,tt){var kt,Kt,Nn,pn,qn,_n,Ar,Br,Wn,S=(Ye=Ye||{}).scope||this;if(typeof V=="number"&&typeof ue=="number"&&(typeof je=="string"||Array.isArray(je))){var K=je;je=ue,ue=V,V=K}if(arguments[3]instanceof On==0?(Nn=arguments[4],pn=arguments[5],Ai(Ar=arguments[3])==="object"&&Ar!==null||(typeof Nn=="string"&&(pn=Nn,Nn=null),typeof Ar=="string"&&(pn=Ar,Ar=null),typeof Ar=="number"&&(Nn=Ar,Ar=null),Ye={flags:Ar,angle:Nn,align:pn})):(L("The transform parameter of text() with a Matrix value"),Wn=tt),isNaN(ue)||isNaN(je)||V==null)throw new Error("Invalid arguments passed to jsPDF.text");if(V.length===0)return S;var ie,Se="",st=typeof Ye.lineHeightFactor=="number"?Ye.lineHeightFactor:eo,vt=S.internal.scaleFactor;function nn(Bt){return Bt=Bt.split("	").join(Array(Ye.TabLen||9).join(" ")),vr(Bt,Ar)}function rr(Bt){for(var Ut,Pt=Bt.concat(),zn=[],Jn=Pt.length;Jn--;)typeof(Ut=Pt.shift())=="string"?zn.push(Ut):Array.isArray(Bt)&&(Ut.length===1||Ut[1]===void 0&&Ut[2]===void 0)?zn.push(Ut[0]):zn.push([Ut[0],Ut[1],Ut[2]]);return zn}function hi(Bt,Ut){var Pt;if(typeof Bt=="string")Pt=Ut(Bt)[0];else if(Array.isArray(Bt)){for(var zn,Jn,Mi=Bt.concat(),Ws=[],Ns=Mi.length;Ns--;)typeof(zn=Mi.shift())=="string"?Ws.push(Ut(zn)[0]):Array.isArray(zn)&&typeof zn[0]=="string"&&(Jn=Ut(zn[0],zn[1],zn[2]),Ws.push([Jn[0],Jn[1],Jn[2]]));Pt=Ws}return Pt}var _r=!1,Yr=!0;if(typeof V=="string")_r=!0;else if(Array.isArray(V)){var ps=V.concat();Kt=[];for(var zs,Ur=ps.length;Ur--;)(typeof(zs=ps.shift())!="string"||Array.isArray(zs)&&typeof zs[0]!="string")&&(Yr=!1);_r=Yr}if(_r===!1)throw new Error('Type of text must be string or Array. "'+V+'" is not recognized.');typeof V=="string"&&(V=V.match(/[\r?\n]/)?V.split(/\r\n|\r|\n/g):[V]);var xs=Je/S.internal.scaleFactor,so=xs*(st-1);switch(Ye.baseline){case"bottom":je-=so;break;case"top":je+=xs-so;break;case"hanging":je+=xs-2*so;break;case"middle":je+=xs/2-so}if((_n=Ye.maxWidth||0)>0&&(typeof V=="string"?V=S.splitTextToSize(V,_n):Object.prototype.toString.call(V)==="[object Array]"&&(V=V.reduce(function(Bt,Ut){return Bt.concat(S.splitTextToSize(Ut,_n))},[]))),kt={text:V,x:ue,y:je,options:Ye,mutex:{pdfEscape:vr,activeFontKey:sn,fonts:dt,activeFontSize:Je}},Zn.publish("preProcessText",kt),V=kt.text,Nn=(Ye=kt.options).angle,Wn instanceof On==0&&Nn&&typeof Nn=="number"){Nn*=Math.PI/180,Ye.rotationDirection===0&&(Nn=-Nn),G===k&&(Nn=-Nn);var Pa=Math.cos(Nn),$o=Math.sin(Nn);Wn=new On(Pa,$o,-$o,Pa,0,0)}else Nn&&Nn instanceof On&&(Wn=Nn);G!==k||Wn||(Wn=Qi),(qn=Ye.charSpace||gs)!==void 0&&(Se+=B(Y(qn))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Br=Ye.horizontalScale)!==void 0&&(Se+=B(100*Br)+` Tz
`),Ye.lang;var Gi=-1,yo=Ye.renderingMode!==void 0?Ye.renderingMode:Ye.stroke,Hs=S.internal.getCurrentPageInfo().pageContext;switch(yo){case 0:case!1:case"fill":Gi=0;break;case 1:case!0:case"stroke":Gi=1;break;case 2:case"fillThenStroke":Gi=2;break;case 3:case"invisible":Gi=3;break;case 4:case"fillAndAddForClipping":Gi=4;break;case 5:case"strokeAndAddPathForClipping":Gi=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Gi=6;break;case 7:case"addToPathForClipping":Gi=7}var Rc=Hs.usedRenderingMode!==void 0?Hs.usedRenderingMode:-1;Gi!==-1?Se+=Gi+` Tr
`:Rc!==-1&&(Se+=`0 Tr
`),Gi!==-1&&(Hs.usedRenderingMode=Gi),pn=Ye.align||"left";var Wi,Bo=Je*st,Uo=S.internal.pageSize.getWidth(),pu=dt[sn];qn=Ye.charSpace||gs,_n=Ye.maxWidth||0,Ar=Object.assign({autoencode:!0,noBOM:!0},Ye.flags);var wo=[],qs=function(Bt){return S.getStringUnitWidth(Bt,{font:pu,charSpace:qn,fontSize:Je,doKerning:!1})*Je/vt};if(Object.prototype.toString.call(V)==="[object Array]"){var ja;Kt=rr(V),pn!=="left"&&(Wi=Kt.map(qs));var Gs,Fa=0;if(pn==="right"){ue-=Wi[0],V=[],Ur=Kt.length;for(var pr=0;pr<Ur;pr++)pr===0?(Gs=Bn(ue),ja=Nr(je)):(Gs=Y(Fa-Wi[pr]),ja=-Bo),V.push([Kt[pr],Gs,ja]),Fa=Wi[pr]}else if(pn==="center"){ue-=Wi[0]/2,V=[],Ur=Kt.length;for(var bo=0;bo<Ur;bo++)bo===0?(Gs=Bn(ue),ja=Nr(je)):(Gs=Y((Fa-Wi[bo])/2),ja=-Bo),V.push([Kt[bo],Gs,ja]),Fa=Wi[bo]}else if(pn==="left"){V=[],Ur=Kt.length;for(var he=0;he<Ur;he++)V.push(Kt[he])}else if(pn==="justify"&&pu.encoding==="Identity-H"){V=[],Ur=Kt.length,_n=_n!==0?_n:Uo;for(var l=0,h=0;h<Ur;h++)if(ja=h===0?Nr(je):-Bo,Gs=h===0?Bn(ue):l,h<Ur-1){var g=Y((_n-Wi[h])/(Kt[h].split(" ").length-1)),v=Kt[h].split(" ");V.push([v[0]+" ",Gs,ja]),l=0;for(var _=1;_<v.length;_++){var b=(qs(v[_-1]+" "+v[_])-qs(v[_]))*vt+g;_==v.length-1?V.push([v[_],b,0]):V.push([v[_]+" ",b,0]),l-=b}}else V.push([Kt[h],Gs,ja]);V.push(["",l,0])}else{if(pn!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(V=[],Ur=Kt.length,_n=_n!==0?_n:Uo,h=0;h<Ur;h++){ja=h===0?Nr(je):-Bo,Gs=h===0?Bn(ue):0;var N=Kt[h].split(" ").length-1,D=N>0?(_n-Wi[h])/N:0;h<Ur-1?wo.push(B(Y(D))):wo.push(0),V.push([Kt[h],Gs,ja])}}}(typeof Ye.R2L=="boolean"?Ye.R2L:Ft)===!0&&(V=hi(V,function(Bt,Ut,Pt){return[Bt.split("").reverse().join(""),Ut,Pt]})),kt={text:V,x:ue,y:je,options:Ye,mutex:{pdfEscape:vr,activeFontKey:sn,fonts:dt,activeFontSize:Je}},Zn.publish("postProcessText",kt),V=kt.text,ie=kt.mutex.isHex||!1;var z=dt[sn].encoding;z!=="WinAnsiEncoding"&&z!=="StandardEncoding"||(V=hi(V,function(Bt,Ut,Pt){return[nn(Bt),Ut,Pt]})),Kt=rr(V),V=[];for(var ee,fe,_e,Pe=Array.isArray(Kt[0])?1:0,qe="",Ke=function(Bt,Ut,Pt){var zn="";return Pt instanceof On?(Pt=typeof Ye.angle=="number"?Ci(Pt,new On(1,0,0,1,Bt,Ut)):Ci(new On(1,0,0,1,Bt,Ut),Pt),G===k&&(Pt=Ci(new On(1,0,0,-1,0,0),Pt)),zn=Pt.join(" ")+` Tm
`):zn=B(Bt)+" "+B(Ut)+` Td
`,zn},rt=0;rt<Kt.length;rt++){switch(qe="",Pe){case 1:_e=(ie?"<":"(")+Kt[rt][0]+(ie?">":")"),ee=parseFloat(Kt[rt][1]),fe=parseFloat(Kt[rt][2]);break;case 0:_e=(ie?"<":"(")+Kt[rt]+(ie?">":")"),ee=Bn(ue),fe=Nr(je)}wo!==void 0&&wo[rt]!==void 0&&(qe=wo[rt]+` Tw
`),rt===0?V.push(qe+Ke(ee,fe,Wn)+_e):Pe===0?V.push(qe+_e):Pe===1&&V.push(qe+Ke(ee,fe,Wn)+_e)}V=Pe===0?V.join(` Tj
T* `):V.join(` Tj
`),V+=` Tj
`;var _t=`BT
/`;return _t+=sn+" "+Je+` Tf
`,_t+=B(Je*st)+` TL
`,_t+=to+`
`,_t+=Se,_t+=V,le(_t+="ET"),A[sn]=!0,S};var Le=E.__private__.clip=E.clip=function(V){return le(V==="evenodd"?"W*":"W"),this};E.clipEvenOdd=function(){return Le("evenodd")},E.__private__.discardPath=E.discardPath=function(){return le("n"),this};var En=E.__private__.isValidStyle=function(V){var ue=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(V)!==-1&&(ue=!0),ue};E.__private__.setDefaultPathOperation=E.setDefaultPathOperation=function(V){return En(V)&&(d=V),this};var Di=E.__private__.getStyle=E.getStyle=function(V){var ue=d;switch(V){case"D":case"S":ue="S";break;case"F":ue="f";break;case"FD":case"DF":ue="B";break;case"f":case"f*":case"B":case"B*":ue=V}return ue},qi=E.close=function(){return le("h"),this};E.stroke=function(){return le("S"),this},E.fill=function(V){return ms("f",V),this},E.fillEvenOdd=function(V){return ms("f*",V),this},E.fillStroke=function(V){return ms("B",V),this},E.fillStrokeEvenOdd=function(V){return ms("B*",V),this};var ms=function(V,ue){Ai(ue)==="object"?jn(ue,V):le(V)},vo=function(V){V===null||G===k&&V===void 0||(V=Di(V),le(V))};function Ss(V,ue,je,Ye,tt){var kt=new o0(ue||this.boundingBox,je||this.xStep,Ye||this.yStep,this.gState,tt||this.matrix);kt.stream=this.stream;var Kt=V+"$$"+this.cloneIndex+++"$$";return Qr(Kt,kt),kt}var jn=function(V,ue){var je=Xn[V.key],Ye=ln[je];if(Ye instanceof Nf)le("q"),le(Zr(ue)),Ye.gState&&E.setGState(Ye.gState),le(V.matrix.toString()+" cm"),le("/"+je+" sh"),le("Q");else if(Ye instanceof o0){var tt=new On(1,0,0,-1,0,io());V.matrix&&(tt=tt.multiply(V.matrix||Qi),je=Ss.call(Ye,V.key,V.boundingBox,V.xStep,V.yStep,tt).id),le("q"),le("/Pattern cs"),le("/"+je+" scn"),Ye.gState&&E.setGState(Ye.gState),le(ue),le("Q")}},Zr=function(V){switch(V){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},vl=E.moveTo=function(V,ue){return le(B(Y(V))+" "+B(ne(ue))+" m"),this},Po=E.lineTo=function(V,ue){return le(B(Y(V))+" "+B(ne(ue))+" l"),this},Ts=E.curveTo=function(V,ue,je,Ye,tt,kt){return le([B(Y(V)),B(ne(ue)),B(Y(je)),B(ne(Ye)),B(Y(tt)),B(ne(kt)),"c"].join(" ")),this};E.__private__.line=E.line=function(V,ue,je,Ye,tt){if(isNaN(V)||isNaN(ue)||isNaN(je)||isNaN(Ye)||!En(tt))throw new Error("Invalid arguments passed to jsPDF.line");return G===W?this.lines([[je-V,Ye-ue]],V,ue,[1,1],tt||"S"):this.lines([[je-V,Ye-ue]],V,ue,[1,1]).stroke()},E.__private__.lines=E.lines=function(V,ue,je,Ye,tt,kt){var Kt,Nn,pn,qn,_n,Ar,Br,Wn,S,K,ie,Se;if(typeof V=="number"&&(Se=je,je=ue,ue=V,V=Se),Ye=Ye||[1,1],kt=kt||!1,isNaN(ue)||isNaN(je)||!Array.isArray(V)||!Array.isArray(Ye)||!En(tt)||typeof kt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(vl(ue,je),Kt=Ye[0],Nn=Ye[1],qn=V.length,K=ue,ie=je,pn=0;pn<qn;pn++)(_n=V[pn]).length===2?(K=_n[0]*Kt+K,ie=_n[1]*Nn+ie,Po(K,ie)):(Ar=_n[0]*Kt+K,Br=_n[1]*Nn+ie,Wn=_n[2]*Kt+K,S=_n[3]*Nn+ie,K=_n[4]*Kt+K,ie=_n[5]*Nn+ie,Ts(Ar,Br,Wn,S,K,ie));return kt&&qi(),vo(tt),this},E.path=function(V){for(var ue=0;ue<V.length;ue++){var je=V[ue],Ye=je.c;switch(je.op){case"m":vl(Ye[0],Ye[1]);break;case"l":Po(Ye[0],Ye[1]);break;case"c":Ts.apply(this,Ye);break;case"h":qi()}}return this},E.__private__.rect=E.rect=function(V,ue,je,Ye,tt){if(isNaN(V)||isNaN(ue)||isNaN(je)||isNaN(Ye)||!En(tt))throw new Error("Invalid arguments passed to jsPDF.rect");return G===W&&(Ye=-Ye),le([B(Y(V)),B(ne(ue)),B(Y(je)),B(Y(Ye)),"re"].join(" ")),vo(tt),this},E.__private__.triangle=E.triangle=function(V,ue,je,Ye,tt,kt,Kt){if(isNaN(V)||isNaN(ue)||isNaN(je)||isNaN(Ye)||isNaN(tt)||isNaN(kt)||!En(Kt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[je-V,Ye-ue],[tt-je,kt-Ye],[V-tt,ue-kt]],V,ue,[1,1],Kt,!0),this},E.__private__.roundedRect=E.roundedRect=function(V,ue,je,Ye,tt,kt,Kt){if(isNaN(V)||isNaN(ue)||isNaN(je)||isNaN(Ye)||isNaN(tt)||isNaN(kt)||!En(Kt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Nn=4/3*(Math.SQRT2-1);return tt=Math.min(tt,.5*je),kt=Math.min(kt,.5*Ye),this.lines([[je-2*tt,0],[tt*Nn,0,tt,kt-kt*Nn,tt,kt],[0,Ye-2*kt],[0,kt*Nn,-tt*Nn,kt,-tt,kt],[2*tt-je,0],[-tt*Nn,0,-tt,-kt*Nn,-tt,-kt],[0,2*kt-Ye],[0,-kt*Nn,tt*Nn,-kt,tt,-kt]],V+tt,ue,[1,1],Kt,!0),this},E.__private__.ellipse=E.ellipse=function(V,ue,je,Ye,tt){if(isNaN(V)||isNaN(ue)||isNaN(je)||isNaN(Ye)||!En(tt))throw new Error("Invalid arguments passed to jsPDF.ellipse");var kt=4/3*(Math.SQRT2-1)*je,Kt=4/3*(Math.SQRT2-1)*Ye;return vl(V+je,ue),Ts(V+je,ue-Kt,V+kt,ue-Ye,V,ue-Ye),Ts(V-kt,ue-Ye,V-je,ue-Kt,V-je,ue),Ts(V-je,ue+Kt,V-kt,ue+Ye,V,ue+Ye),Ts(V+kt,ue+Ye,V+je,ue+Kt,V+je,ue),vo(tt),this},E.__private__.circle=E.circle=function(V,ue,je,Ye){if(isNaN(V)||isNaN(ue)||isNaN(je)||!En(Ye))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(V,ue,je,je,Ye)},E.setFont=function(V,ue,je){return je&&(ue=F(ue,je)),sn=cr(V,ue,{disableWarning:!1}),this};var ea=E.__private__.getFont=E.getFont=function(){return dt[cr.apply(E,arguments)]};E.__private__.getFontList=E.getFontList=function(){var V,ue,je={};for(V in Gt)if(Gt.hasOwnProperty(V))for(ue in je[V]=[],Gt[V])Gt[V].hasOwnProperty(ue)&&je[V].push(ue);return je},E.addFont=function(V,ue,je,Ye,tt){var kt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&kt.indexOf(arguments[3])!==-1?tt=arguments[3]:arguments[3]&&kt.indexOf(arguments[3])==-1&&(je=F(je,Ye)),Nt.call(this,V,ue,je,tt=tt||"Identity-H")};var eo,ta=n.lineWidth||.200025,ui=E.__private__.getLineWidth=E.getLineWidth=function(){return ta},Fn=E.__private__.setLineWidth=E.setLineWidth=function(V){return ta=V,le(B(Y(V))+" w"),this};E.__private__.setLineDash=Yn.API.setLineDash=Yn.API.setLineDashPattern=function(V,ue){if(V=V||[],ue=ue||0,isNaN(ue)||!Array.isArray(V))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return V=V.map(function(je){return B(Y(je))}).join(" "),ue=B(Y(ue)),le("["+V+"] "+ue+" d"),this};var na=E.__private__.getLineHeight=E.getLineHeight=function(){return Je*eo};E.__private__.getLineHeight=E.getLineHeight=function(){return Je*eo};var Vn=E.__private__.setLineHeightFactor=E.setLineHeightFactor=function(V){return typeof(V=V||1.15)=="number"&&(eo=V),this},Qo=E.__private__.getLineHeightFactor=E.getLineHeightFactor=function(){return eo};Vn(n.lineHeight);var Bn=E.__private__.getHorizontalCoordinate=function(V){return Y(V)},Nr=E.__private__.getVerticalCoordinate=function(V){return G===k?V:dn[J].mediaBox.topRightY-dn[J].mediaBox.bottomLeftY-Y(V)},_l=E.__private__.getHorizontalCoordinateString=E.getHorizontalCoordinateString=function(V){return B(Bn(V))},Fr=E.__private__.getVerticalCoordinateString=E.getVerticalCoordinateString=function(V){return B(Nr(V))},ra=n.strokeColor||"0 G";E.__private__.getStrokeColor=E.getDrawColor=function(){return Oe(ra)},E.__private__.setStrokeColor=E.setDrawColor=function(V,ue,je,Ye){return ra=ke({ch1:V,ch2:ue,ch3:je,ch4:Ye,pdfColorType:"draw",precision:2}),le(ra),this};var va=n.fillColor||"0 g";E.__private__.getFillColor=E.getFillColor=function(){return Oe(va)},E.__private__.setFillColor=E.setFillColor=function(V,ue,je,Ye){return va=ke({ch1:V,ch2:ue,ch3:je,ch4:Ye,pdfColorType:"fill",precision:2}),le(va),this};var to=n.textColor||"0 g",jo=E.__private__.getTextColor=E.getTextColor=function(){return Oe(to)};E.__private__.setTextColor=E.setTextColor=function(V,ue,je,Ye){return to=ke({ch1:V,ch2:ue,ch3:je,ch4:Ye,pdfColorType:"text",precision:3}),this};var gs=n.charSpace,_a=E.__private__.getCharSpace=E.getCharSpace=function(){return parseFloat(gs||0)};E.__private__.setCharSpace=E.setCharSpace=function(V){if(isNaN(V))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return gs=V,this};var ia=0;E.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},E.__private__.setLineCap=E.setLineCap=function(V){var ue=E.CapJoinStyles[V];if(ue===void 0)throw new Error("Line cap style of '"+V+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ia=ue,le(ue+" J"),this};var xi=0;E.__private__.setLineJoin=E.setLineJoin=function(V){var ue=E.CapJoinStyles[V];if(ue===void 0)throw new Error("Line join style of '"+V+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return xi=ue,le(ue+" j"),this},E.__private__.setLineMiterLimit=E.__private__.setMiterLimit=E.setLineMiterLimit=E.setMiterLimit=function(V){if(V=V||0,isNaN(V))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return le(B(Y(V))+" M"),this},E.GState=c2,E.setGState=function(V){(V=typeof V=="string"?mt[Xt[V]]:sa(null,V)).equals(on)||(le("/"+V.id+" gs"),on=V)};var sa=function(V,ue){if(!V||!Xt[V]){var je=!1;for(var Ye in mt)if(mt.hasOwnProperty(Ye)&&mt[Ye].equals(ue)){je=!0;break}if(je)ue=mt[Ye];else{var tt="GS"+(Object.keys(mt).length+1).toString(10);mt[tt]=ue,ue.id=tt}return V&&(Xt[V]=ue.id),Zn.publish("addGState",ue),ue}};E.addGState=function(V,ue){return sa(V,ue),this},E.saveGraphicsState=function(){return le("q"),It.push({key:sn,size:Je,color:to}),this},E.restoreGraphicsState=function(){le("Q");var V=It.pop();return sn=V.key,Je=V.size,to=V.color,on=null,this},E.setCurrentTransformationMatrix=function(V){return le(V.toString()+" cm"),this},E.comment=function(V){return le("#"+V),this};var Wr=function(V,ue){var je=V||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return je},set:function(kt){isNaN(kt)||(je=parseFloat(kt))}});var Ye=ue||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Ye},set:function(kt){isNaN(kt)||(Ye=parseFloat(kt))}});var tt="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return tt},set:function(kt){tt=kt.toString()}}),this},no=function(V,ue,je,Ye){Wr.call(this,V,ue),this.type="rect";var tt=je||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return tt},set:function(Kt){isNaN(Kt)||(tt=parseFloat(Kt))}});var kt=Ye||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return kt},set:function(Kt){isNaN(Kt)||(kt=parseFloat(Kt))}}),this},Fo=function(){this.page=hn,this.currentPage=J,this.pages=nt.slice(0),this.pagesContext=dn.slice(0),this.x=un,this.y=nr,this.matrix=rn,this.width=La(J),this.height=Or(J),this.outputDestination=St,this.id="",this.objectNumber=-1};Fo.prototype.restore=function(){hn=this.page,J=this.currentPage,dn=this.pagesContext,nt=this.pages,un=this.x,nr=this.y,rn=this.matrix,yl(J,this.width),aa(J,this.height),St=this.outputDestination};var ro=function(V,ue,je,Ye,tt){Kr.push(new Fo),hn=J=0,nt=[],un=V,nr=ue,rn=tt,Kn([je,Ye])};for(var _o in E.beginFormObject=function(V,ue,je,Ye,tt){return ro(V,ue,je,Ye,tt),this},E.endFormObject=function(V){return(function(ue){if(Lr[ue])Kr.pop().restore();else{var je=new Fo,Ye="Xo"+(Object.keys(li).length+1).toString(10);je.id=Ye,Lr[ue]=Ye,li[Ye]=je,Zn.publish("addFormObject",je),Kr.pop().restore()}})(V),this},E.doFormObject=function(V,ue){var je=li[Lr[V]];return le("q"),le(ue.toString()+" cm"),le("/"+je.id+" Do"),le("Q"),this},E.getFormObject=function(V){var ue=li[Lr[V]];return{x:ue.x,y:ue.y,width:ue.width,height:ue.height,matrix:ue.matrix}},E.save=function(V,ue){return V=V||"generated.pdf",(ue=ue||{}).returnPromise=ue.returnPromise||!1,ue.returnPromise===!1?(Tf(Gn(Ma()),V),typeof Tf.unload=="function"&&mr.setTimeout&&setTimeout(Tf.unload,911),this):new Promise(function(je,Ye){try{var tt=Tf(Gn(Ma()),V);typeof Tf.unload=="function"&&mr.setTimeout&&setTimeout(Tf.unload,911),je(tt)}catch(kt){Ye(kt.message)}})},Yn.API)Yn.API.hasOwnProperty(_o)&&(_o==="events"&&Yn.API.events.length?(function(V,ue){var je,Ye,tt;for(tt=ue.length-1;tt!==-1;tt--)je=ue[tt][0],Ye=ue[tt][1],V.subscribe.apply(V,[je].concat(typeof Ye=="function"?[Ye]:Ye))})(Zn,Yn.API.events):E[_o]=Yn.API[_o]);function La(V){return dn[V].mediaBox.topRightX-dn[V].mediaBox.bottomLeftX}function yl(V,ue){dn[V].mediaBox.topRightX=ue+dn[V].mediaBox.bottomLeftX}function Or(V){return dn[V].mediaBox.topRightY-dn[V].mediaBox.bottomLeftY}function aa(V,ue){dn[V].mediaBox.topRightY=ue+dn[V].mediaBox.bottomLeftY}var ya=E.getPageWidth=function(V){return La(V=V||J)/bn},ka=E.setPageWidth=function(V,ue){yl(V,ue*bn)},io=E.getPageHeight=function(V){return Or(V=V||J)/bn},wt=E.setPageHeight=function(V,ue){aa(V,ue*bn)};return E.internal={pdfEscape:vr,getStyle:Di,getFont:ea,getFontSize:Xe,getCharSpace:_a,getTextColor:jo,getLineHeight:na,getLineHeightFactor:Qo,getLineWidth:ui,write:ot,getHorizontalCoordinate:Bn,getVerticalCoordinate:Nr,getCoordinateString:_l,getVerticalCoordinateString:Fr,collections:{},newObject:lr,newAdditionalObject:be,newObjectDeferred:Rr,newObjectDeferredBegin:ge,getFilters:it,putStream:Et,events:Zn,scaleFactor:bn,pageSize:{getWidth:function(){return ya(J)},setWidth:function(V){ka(J,V)},getHeight:function(){return io(J)},setHeight:function(V){wt(J,V)}},encryptionOptions:x,encryption:$r,getEncryptor:function(V){return x!==null?$r.encryptor(V,0):function(ue){return ue}},output:Vs,getNumberOfPages:or,get pages(){return nt},out:le,f2:U,f3:q,getPageInfo:sr,getPageInfoByObjId:Oi,getCurrentPageInfo:ut,getPDFVersion:C,Point:Wr,Rectangle:no,Matrix:On,hasHotfix:$i},Object.defineProperty(E.internal.pageSize,"width",{get:function(){return ya(J)},set:function(V){ka(J,V)},enumerable:!0,configurable:!0}),Object.defineProperty(E.internal.pageSize,"height",{get:function(){return io(J)},set:function(V){wt(J,V)},enumerable:!0,configurable:!0}),(function(V){for(var ue=0,je=At.length;ue<je;ue++){var Ye=Nt.call(this,V[ue][0],V[ue][1],V[ue][2],At[ue][3],!0);w===!1&&(A[Ye]=!0);var tt=V[ue][0].split("-");Tn({id:Ye,fontName:tt[0],fontStyle:tt[1]||""})}Zn.publish("addFonts",{fonts:dt,dictionary:Gt})}).call(E,At),sn="F1",Ii(i,t),Zn.publish("initialized"),E}r0.prototype.lsbFirstWord=function(n){return String.fromCharCode(255&n,n>>8&255,n>>16&255,n>>24&255)},r0.prototype.toHexString=function(n){return n.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},r0.prototype.hexToBytes=function(n){for(var e=[],t=0;t<n.length;t+=2)e.push(String.fromCharCode(parseInt(n.substr(t,2),16)));return e.join("")},r0.prototype.processOwnerPassword=function(n,e){return Zy($y(e).substr(0,5),n)},r0.prototype.encryptor=function(n,e){var t=$y(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return Zy(t,r)}},c2.prototype.equals=function(n){var e,t="id,objectNumber,equals";if(!n||Ai(n)!==Ai(this))return!1;var r=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!n.hasOwnProperty(e)||this[e]!==n[e])return!1;r++}for(e in n)n.hasOwnProperty(e)&&t.indexOf(e)<0&&r--;return r===0},Yn.API={events:[]},Yn.version="3.0.4";var ks=Yn.API,k5=1,id=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Wd=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},br=function(n){return n.toFixed(2)},Ih=function(n){return n.toFixed(5)};ks.__acroform__={};var xl=function(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n},mT=function(n){return n*k5},Wc=function(n){var e=new rR,t=Pn.internal.getHeight(n)||0,r=Pn.internal.getWidth(n)||0;return e.BBox=[0,0,Number(br(r)),Number(br(t))],e},jW=ks.__acroform__.setBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|1<<e},FW=ks.__acroform__.clearBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&~(1<<e)},BW=ks.__acroform__.getBit=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return n&1<<e?1:0},Qs=ks.__acroform__.getBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return BW(n,e-1)},$s=ks.__acroform__.setBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return jW(n,e-1)},Zs=ks.__acroform__.clearBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return FW(n,e-1)},UW=ks.__acroform__.calculateCoordinates=function(n,e){var t=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=n[0],s=n[1],o=n[2],u=n[3],f={};return f.lowerLeft_X=t(i)||0,f.lowerLeft_Y=r(s+u)||0,f.upperRight_X=t(i+o)||0,f.upperRight_Y=r(s)||0,[Number(br(f.lowerLeft_X)),Number(br(f.lowerLeft_Y)),Number(br(f.upperRight_X)),Number(br(f.upperRight_Y))]},VW=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var e=[],t=n._V||n.DV,r=Jy(n,t),i=n.scope.internal.getFont(n.fontName,n.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(n.scope.__private__.encodeColorString(n.color)),e.push("/"+i+" "+br(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=Wc(n);return s.scope=n.scope,s.stream=e.join(`
`),s}},Jy=function(n,e){var t=n.fontSize===0?n.maxFontSize:n.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=n.multiline?i.map(function(U){return U.split(`
`)}):i.map(function(U){return[U]});var s=t,o=Pn.internal.getHeight(n)||0;o=o<0?-o:o;var u=Pn.internal.getWidth(n)||0;u=u<0?-u:u;var f=function(U,q,Y){if(U+1<i.length){var ne=q+" "+i[U+1][0];return ip(ne,n,Y).width<=u-4}return!1};s++;e:for(;s>0;){e="",s--;var d,x,w=ip("3",n,s).height,A=n.multiline?o-s:(o-w)/2,E=A+=2,I=0,C=0,M=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+ip(e,n,s=12).width+", FieldWidth:"+u+`
`;break}for(var j="",W=0,k=0;k<i.length;k++)if(i.hasOwnProperty(k)){var G=!1;if(i[k].length!==1&&M!==i[k].length-1){if((w+2)*(W+2)+2>o)continue e;j+=i[k][M],G=!0,C=k,k--}else{j=(j+=i[k][M]+" ").substr(j.length-1)==" "?j.substr(0,j.length-1):j;var ce=parseInt(k),re=f(ce,j,s),F=k>=i.length-1;if(re&&!F){j+=" ",M=0;continue}if(re||F){if(F)C=ce;else if(n.multiline&&(w+2)*(W+2)+2>o)continue e}else{if(!n.multiline||(w+2)*(W+2)+2>o)continue e;C=ce}}for(var B="",L=I;L<=C;L++){var Q=i[L];if(n.multiline){if(L===C){B+=Q[M]+" ",M=(M+1)%Q.length;continue}if(L===I){B+=Q[Q.length-1]+" ";continue}}B+=Q[0]+" "}switch(B=B.substr(B.length-1)==" "?B.substr(0,B.length-1):B,x=ip(B,n,s).width,n.textAlign){case"right":d=u-x-2;break;case"center":d=(u-x)/2;break;default:d=2}e+=br(d)+" "+br(E)+` Td
`,e+="("+id(B)+`) Tj
`,e+=-br(d)+` 0 Td
`,E=-(s+2),x=0,I=G?C:C+1,W++,j=""}break}return r.text=e,r.fontSize=s,r},ip=function(n,e,t){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(n,{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:i}},zW={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},HW=function(n,e){var t={type:"reference",object:n};e.internal.getPageInfo(n.page).pageContext.annotations.find(function(r){return r.type===t.type&&r.object===t.object})===void 0&&e.internal.getPageInfo(n.page).pageContext.annotations.push(t)},qW=function(n,e){if(e.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(Cc.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(zW)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");k5=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new iR,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&HW(s,t)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(t){(function(r,i){var s=!r;for(var o in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(o)){var u=r[o],f=[],d=u.Rect;if(u.Rect&&(u.Rect=UW(u.Rect,i)),i.internal.newObjectDeferredBegin(u.objId,!0),u.DA=Pn.createDefaultAppearanceStream(u),Ai(u)==="object"&&typeof u.getKeyValueListForStream=="function"&&(f=u.getKeyValueListForStream()),u.Rect=d,u.hasAppearanceStream&&!u.appearanceStreamContent){var x=VW(u);f.push({key:"AP",value:"<</N "+x+">>"}),i.internal.acroformPlugin.xForms.push(x)}if(u.appearanceStreamContent){var w="";for(var A in u.appearanceStreamContent)if(u.appearanceStreamContent.hasOwnProperty(A)){var E=u.appearanceStreamContent[A];if(w+="/"+A+" ",w+="<<",Object.keys(E).length>=1||Array.isArray(E)){for(var o in E)if(E.hasOwnProperty(o)){var I=E[o];typeof I=="function"&&(I=I.call(i,u)),w+="/"+o+" "+I+" ",i.internal.acroformPlugin.xForms.indexOf(I)>=0||i.internal.acroformPlugin.xForms.push(I)}}else typeof(I=E)=="function"&&(I=I.call(i,u)),w+="/"+o+" "+I,i.internal.acroformPlugin.xForms.indexOf(I)>=0||i.internal.acroformPlugin.xForms.push(I);w+=">>"}f.push({key:"AP",value:`<<
`+w+">>"})}i.internal.putStream({additionalKeyValues:f,objectId:u.objId}),i.internal.out("endobj")}s&&(function(C,M){for(var j in C)if(C.hasOwnProperty(j)){var W=j,k=C[j];M.internal.newObjectDeferredBegin(k.objId,!0),Ai(k)==="object"&&typeof k.putStream=="function"&&k.putStream(),delete C[W]}})(i.internal.acroformPlugin.xForms,i)})(t,n)}),n.internal.acroformPlugin.isInitialized=!0}},nR=ks.__acroform__.arrayToPdfArray=function(n,e,t){var r=function(o){return o};if(Array.isArray(n)){for(var i="[",s=0;s<n.length;s++)switch(s!==0&&(i+=" "),Ai(n[s])){case"boolean":case"number":case"object":i+=n[s].toString();break;case"string":n[s].substr(0,1)!=="/"?(e!==void 0&&t&&(r=t.internal.getEncryptor(e)),i+="("+id(r(n[s].toString()))+")"):i+=n[s].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Y_=function(n,e,t){var r=function(i){return i};return e!==void 0&&t&&(r=t.internal.getEncryptor(e)),(n=n||"").toString(),"("+id(r(n))+")"},Jc=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Jc.prototype.toString=function(){return this.objId+" 0 R"},Jc.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},Jc.prototype.getKeyValueListForStream=function(){var n=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var r=e[t],i=this[r];i&&(Array.isArray(i)?n.push({key:r,value:nR(i,this.objId,this.scope)}):i instanceof Jc?(i.scope=this.scope,n.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&n.push({key:r,value:i}))}return n};var rR=function(){Jc.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){n=t.trim()},get:function(){return n||null}})};xl(rR,Jc);var iR=function(){Jc.call(this);var n,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var t=function(r){return r};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+id(t(n))+")"}},set:function(t){n=t}})};xl(iR,Jc);var Cc=function n(){Jc.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(j){if(isNaN(j))throw new Error('Invalid value "'+j+'" for attribute F supplied.');e=j}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Qs(e,3)},set:function(j){j?this.F=$s(e,3):this.F=Zs(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(j){if(isNaN(j))throw new Error('Invalid value "'+j+'" for attribute Ff supplied.');t=j}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(j){r=j!==void 0?j:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(j){r[0]=j}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(j){r[1]=j}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(j){r[2]=j}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(j){r[3]=j}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(j){switch(j){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=j;break;default:throw new Error('Invalid value "'+j+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof u2)return;s="FieldObject"+n.FieldNum++}var j=function(W){return W};return this.scope&&(j=this.scope.internal.getEncryptor(this.objId)),"("+id(j(s))+")"},set:function(j){s=j.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(j){s=j}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(j){o=j}});var u="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return u},set:function(j){u=j}});var f=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return f},set:function(j){f=j}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/k5:d},set:function(j){d=j}});var x="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return x},set:function(j){x=j}});var w="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!w||this instanceof u2||this instanceof Lf))return Y_(w,this.objId,this.scope)},set:function(j){j=j.toString(),w=j}});var A=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(A)return this instanceof Wa==0?Y_(A,this.objId,this.scope):A},set:function(j){j=j.toString(),A=this instanceof Wa==0?j.substr(0,1)==="("?Wd(j.substr(1,j.length-2)):Wd(j):j}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Wa==1?Wd(A.substr(1,A.length-1)):A},set:function(j){j=j.toString(),A=this instanceof Wa==1?"/"+j:j}});var E=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(E)return E},set:function(j){this.V=j}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(E)return this instanceof Wa==0?Y_(E,this.objId,this.scope):E},set:function(j){j=j.toString(),E=this instanceof Wa==0?j.substr(0,1)==="("?Wd(j.substr(1,j.length-2)):Wd(j):j}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Wa==1?Wd(E.substr(1,E.length-1)):E},set:function(j){j=j.toString(),E=this instanceof Wa==1?"/"+j:j}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var I,C=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return C},set:function(j){j=!!j,C=j}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(I)return I},set:function(j){I=j}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Qs(this.Ff,1)},set:function(j){j?this.Ff=$s(this.Ff,1):this.Ff=Zs(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Qs(this.Ff,2)},set:function(j){j?this.Ff=$s(this.Ff,2):this.Ff=Zs(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Qs(this.Ff,3)},set:function(j){j?this.Ff=$s(this.Ff,3):this.Ff=Zs(this.Ff,3)}});var M=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(M!==null)return M},set:function(j){if([0,1,2].indexOf(j)===-1)throw new Error('Invalid value "'+j+'" for attribute Q supplied.');M=j}}),Object.defineProperty(this,"textAlign",{get:function(){var j;switch(M){case 0:default:j="left";break;case 1:j="center";break;case 2:j="right"}return j},configurable:!0,enumerable:!0,set:function(j){switch(j){case"right":case 2:M=2;break;case"center":case 1:M=1;break;default:M=0}}})};xl(Cc,Jc);var g0=function(){Cc.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){n=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return nR(e,this.objId,this.scope)},set:function(t){var r,i;i=[],typeof(r=t)=="string"&&(i=(function(s,o,u){u||(u=1);for(var f,d=[];f=o.exec(s);)d.push(f[u]);return d})(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,r){for(r=r||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Qs(this.Ff,18)},set:function(t){t?this.Ff=$s(this.Ff,18):this.Ff=Zs(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Qs(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=$s(this.Ff,19):this.Ff=Zs(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Qs(this.Ff,20)},set:function(t){t?(this.Ff=$s(this.Ff,20),e.sort()):this.Ff=Zs(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Qs(this.Ff,22)},set:function(t){t?this.Ff=$s(this.Ff,22):this.Ff=Zs(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Qs(this.Ff,23)},set:function(t){t?this.Ff=$s(this.Ff,23):this.Ff=Zs(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Qs(this.Ff,27)},set:function(t){t?this.Ff=$s(this.Ff,27):this.Ff=Zs(this.Ff,27)}}),this.hasAppearanceStream=!1};xl(g0,Cc);var p0=function(){g0.call(this),this.fontName="helvetica",this.combo=!1};xl(p0,g0);var x0=function(){p0.call(this),this.combo=!0};xl(x0,p0);var Pp=function(){x0.call(this),this.edit=!0};xl(Pp,x0);var Wa=function(){Cc.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Qs(this.Ff,15)},set:function(t){t?this.Ff=$s(this.Ff,15):this.Ff=Zs(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Qs(this.Ff,16)},set:function(t){t?this.Ff=$s(this.Ff,16):this.Ff=Zs(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Qs(this.Ff,17)},set:function(t){t?this.Ff=$s(this.Ff,17):this.Ff=Zs(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Qs(this.Ff,26)},set:function(t){t?this.Ff=$s(this.Ff,26):this.Ff=Zs(this.Ff,26)}});var n,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(s){return s};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+id(t(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(t){Ai(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(t){n="/"+t}})};xl(Wa,Cc);var jp=function(){Wa.call(this),this.pushButton=!0};xl(jp,Wa);var v0=function(){Wa.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e!==void 0?e:[]}})};xl(v0,Wa);var u2=function(){var n,e;Cc.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var t,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(u){return u};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),r)o.push("/"+s+" ("+id(i(r[s]))+")");return o.push(">>"),o.join(`
`)},set:function(i){Ai(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(i){t="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Pn.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};xl(u2,Cc),v0.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=n.createAppearanceStream(t.optionName),t.caption=n.getCA()}},v0.prototype.createOption=function(n){var e=new u2;return e.Parent=this,e.optionName=n,this.Kids.push(e),GW.call(this.scope,e),e};var Fp=function(){Wa.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Pn.CheckBox.createAppearanceStream()};xl(Fp,Wa);var Lf=function(){Cc.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Qs(this.Ff,13)},set:function(e){e?this.Ff=$s(this.Ff,13):this.Ff=Zs(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Qs(this.Ff,21)},set:function(e){e?this.Ff=$s(this.Ff,21):this.Ff=Zs(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Qs(this.Ff,23)},set:function(e){e?this.Ff=$s(this.Ff,23):this.Ff=Zs(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Qs(this.Ff,24)},set:function(e){e?this.Ff=$s(this.Ff,24):this.Ff=Zs(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Qs(this.Ff,25)},set:function(e){e?this.Ff=$s(this.Ff,25):this.Ff=Zs(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Qs(this.Ff,26)},set:function(e){e?this.Ff=$s(this.Ff,26):this.Ff=Zs(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){Number.isInteger(e)&&(n=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};xl(Lf,Cc);var Bp=function(){Lf.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Qs(this.Ff,14)},set:function(n){n?this.Ff=$s(this.Ff,14):this.Ff=Zs(this.Ff,14)}}),this.password=!0};xl(Bp,Lf);var Pn={CheckBox:{createAppearanceStream:function(){return{N:{On:Pn.CheckBox.YesNormal},D:{On:Pn.CheckBox.YesPushDown,Off:Pn.CheckBox.OffPushDown}}},YesPushDown:function(n){var e=Wc(n);e.scope=n.scope;var t=[],r=n.scope.internal.getFont(n.fontName,n.fontStyle).id,i=n.scope.__private__.encodeColorString(n.color),s=Jy(n,n.caption);return t.push("0.749023 g"),t.push("0 0 "+br(Pn.internal.getWidth(n))+" "+br(Pn.internal.getHeight(n))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+r+" "+br(s.fontSize)+" Tf "+i),t.push("BT"),t.push(s.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(n){var e=Wc(n);e.scope=n.scope;var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),i=[],s=Pn.internal.getHeight(n),o=Pn.internal.getWidth(n),u=Jy(n,n.caption);return i.push("1 g"),i.push("0 0 "+br(o)+" "+br(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+br(o-1)+" "+br(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+t+" "+br(u.fontSize)+" Tf "+r),i.push(u.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(n){var e=Wc(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+br(Pn.internal.getWidth(n))+" "+br(Pn.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(n){var e={D:{Off:Pn.RadioButton.Circle.OffPushDown},N:{}};return e.N[n]=Pn.RadioButton.Circle.YesNormal,e.D[n]=Pn.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(n){var e=Wc(n);e.scope=n.scope;var t=[],r=Pn.internal.getWidth(n)<=Pn.internal.getHeight(n)?Pn.internal.getWidth(n)/4:Pn.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Pn.internal.Bezier_C,s=Number((r*i).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+Ih(Pn.internal.getWidth(n)/2)+" "+Ih(Pn.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),t.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),t.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),t.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=Wc(n);e.scope=n.scope;var t=[],r=Pn.internal.getWidth(n)<=Pn.internal.getHeight(n)?Pn.internal.getWidth(n)/4:Pn.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*Pn.internal.Bezier_C).toFixed(5)),o=Number((r*Pn.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Ih(Pn.internal.getWidth(n)/2)+" "+Ih(Pn.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),t.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),t.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),t.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+Ih(Pn.internal.getWidth(n)/2)+" "+Ih(Pn.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),t.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),t.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),t.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(n){var e=Wc(n);e.scope=n.scope;var t=[],r=Pn.internal.getWidth(n)<=Pn.internal.getHeight(n)?Pn.internal.getWidth(n)/4:Pn.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*Pn.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Ih(Pn.internal.getWidth(n)/2)+" "+Ih(Pn.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),t.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),t.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),t.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(n){var e={D:{Off:Pn.RadioButton.Cross.OffPushDown},N:{}};return e.N[n]=Pn.RadioButton.Cross.YesNormal,e.D[n]=Pn.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(n){var e=Wc(n);e.scope=n.scope;var t=[],r=Pn.internal.calculateCross(n);return t.push("q"),t.push("1 1 "+br(Pn.internal.getWidth(n)-2)+" "+br(Pn.internal.getHeight(n)-2)+" re"),t.push("W"),t.push("n"),t.push(br(r.x1.x)+" "+br(r.x1.y)+" m"),t.push(br(r.x2.x)+" "+br(r.x2.y)+" l"),t.push(br(r.x4.x)+" "+br(r.x4.y)+" m"),t.push(br(r.x3.x)+" "+br(r.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=Wc(n);e.scope=n.scope;var t=Pn.internal.calculateCross(n),r=[];return r.push("0.749023 g"),r.push("0 0 "+br(Pn.internal.getWidth(n))+" "+br(Pn.internal.getHeight(n))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+br(Pn.internal.getWidth(n)-2)+" "+br(Pn.internal.getHeight(n)-2)+" re"),r.push("W"),r.push("n"),r.push(br(t.x1.x)+" "+br(t.x1.y)+" m"),r.push(br(t.x2.x)+" "+br(t.x2.y)+" l"),r.push(br(t.x4.x)+" "+br(t.x4.y)+" m"),r.push(br(t.x3.x)+" "+br(t.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(n){var e=Wc(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+br(Pn.internal.getWidth(n))+" "+br(Pn.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(n){var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,t=n.scope.__private__.encodeColorString(n.color);return"/"+e+" "+n.fontSize+" Tf "+t}};Pn.internal={Bezier_C:.551915024494,calculateCross:function(n){var e=Pn.internal.getWidth(n),t=Pn.internal.getHeight(n),r=Math.min(e,t);return{x1:{x:(e-r)/2,y:(t-r)/2+r},x2:{x:(e-r)/2+r,y:(t-r)/2},x3:{x:(e-r)/2,y:(t-r)/2},x4:{x:(e-r)/2+r,y:(t-r)/2+r}}}},Pn.internal.getWidth=function(n){var e=0;return Ai(n)==="object"&&(e=mT(n.Rect[2])),e},Pn.internal.getHeight=function(n){var e=0;return Ai(n)==="object"&&(e=mT(n.Rect[3])),e};var GW=ks.addField=function(n){if(qW(this,n),!(n instanceof Cc))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=n).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};ks.AcroFormChoiceField=g0,ks.AcroFormListBox=p0,ks.AcroFormComboBox=x0,ks.AcroFormEditBox=Pp,ks.AcroFormButton=Wa,ks.AcroFormPushButton=jp,ks.AcroFormRadioButton=v0,ks.AcroFormCheckBox=Fp,ks.AcroFormTextField=Lf,ks.AcroFormPasswordField=Bp,ks.AcroFormAppearance=Pn,ks.AcroForm={ChoiceField:g0,ListBox:p0,ComboBox:x0,EditBox:Pp,Button:Wa,PushButton:jp,RadioButton:v0,CheckBox:Fp,TextField:Lf,PasswordField:Bp,Appearance:Pn},Yn.AcroForm={ChoiceField:g0,ListBox:p0,ComboBox:x0,EditBox:Pp,Button:Wa,PushButton:jp,RadioButton:v0,CheckBox:Fp,TextField:Lf,PasswordField:Bp,Appearance:Pn};Yn.AcroForm;function sR(n){return n.reduce(function(e,t,r){return e[t]=r,e},{})}(function(n){var e="addImage_";n.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=n.__addimage__.getImageFileTypeByImageData=function(U,q){var Y,ne,pe,Ae,ve,Re=t;if((q=q||t)==="RGBA"||U.data!==void 0&&U.data instanceof Uint8ClampedArray&&"height"in U&&"width"in U)return"RGBA";if(re(U))for(ve in r)for(pe=r[ve],Y=0;Y<pe.length;Y+=1){for(Ae=!0,ne=0;ne<pe[Y].length;ne+=1)if(pe[Y][ne]!==void 0&&pe[Y][ne]!==U[ne]){Ae=!1;break}if(Ae===!0){Re=ve;break}}else for(ve in r)for(pe=r[ve],Y=0;Y<pe.length;Y+=1){for(Ae=!0,ne=0;ne<pe[Y].length;ne+=1)if(pe[Y][ne]!==void 0&&pe[Y][ne]!==U.charCodeAt(ne)){Ae=!1;break}if(Ae===!0){Re=ve;break}}return Re===t&&q!==t&&(Re=q),Re},s=function U(q){for(var Y=this.internal.write,ne=this.internal.putStream,pe=(0,this.internal.getFilters)();pe.indexOf("FlateEncode")!==-1;)pe.splice(pe.indexOf("FlateEncode"),1);q.objectId=this.internal.newObject();var Ae=[];if(Ae.push({key:"Type",value:"/XObject"}),Ae.push({key:"Subtype",value:"/Image"}),Ae.push({key:"Width",value:q.width}),Ae.push({key:"Height",value:q.height}),q.colorSpace===j.INDEXED?Ae.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(q.palette.length/3-1)+" "+("sMask"in q&&q.sMask!==void 0?q.objectId+2:q.objectId+1)+" 0 R]"}):(Ae.push({key:"ColorSpace",value:"/"+q.colorSpace}),q.colorSpace===j.DEVICE_CMYK&&Ae.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Ae.push({key:"BitsPerComponent",value:q.bitsPerComponent}),"decodeParameters"in q&&q.decodeParameters!==void 0&&Ae.push({key:"DecodeParms",value:"<<"+q.decodeParameters+">>"}),"transparency"in q&&Array.isArray(q.transparency)&&q.transparency.length>0){for(var ve="",Re=0,He=q.transparency.length;Re<He;Re++)ve+=q.transparency[Re]+" "+q.transparency[Re]+" ";Ae.push({key:"Mask",value:"["+ve+"]"})}q.sMask!==void 0&&Ae.push({key:"SMask",value:q.objectId+1+" 0 R"});var ze=q.filter!==void 0?["/"+q.filter]:void 0;if(ne({data:q.data,additionalKeyValues:Ae,alreadyAppliedFilters:ze,objectId:q.objectId}),Y("endobj"),"sMask"in q&&q.sMask!==void 0){var xe,H=(xe=q.sMaskBitsPerComponent)!==null&&xe!==void 0?xe:q.bitsPerComponent,J={width:q.width,height:q.height,colorSpace:"DeviceGray",bitsPerComponent:H,data:q.sMask};"filter"in q&&(J.decodeParameters="/Predictor ".concat(q.predictor," /Colors 1 /BitsPerComponent ").concat(H," /Columns ").concat(q.width),J.filter=q.filter),U.call(this,J)}if(q.colorSpace===j.INDEXED){var Z=this.internal.newObject();ne({data:B(new Uint8Array(q.palette)),objectId:Z}),Y("endobj")}},o=function(){var U=this.internal.collections[e+"images"];for(var q in U)s.call(this,U[q])},u=function(){var U,q=this.internal.collections[e+"images"],Y=this.internal.write;for(var ne in q)Y("/I"+(U=q[ne]).index,U.objectId,"0","R")},f=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",u))},d=function(){var U=this.internal.collections[e+"images"];return f.call(this),U},x=function(){return Object.keys(this.internal.collections[e+"images"]).length},w=function(U){return typeof n["process"+U.toUpperCase()]=="function"},A=function(U){return Ai(U)==="object"&&U.nodeType===1},E=function(U,q){if(U.nodeName==="IMG"&&U.hasAttribute("src")){var Y=""+U.getAttribute("src");if(Y.indexOf("data:image/")===0)return kp(unescape(Y).split("base64,").pop());var ne=n.loadFile(Y,!0);if(ne!==void 0)return ne}if(U.nodeName==="CANVAS"){if(U.width===0||U.height===0)throw new Error("Given canvas must have data. Canvas width: "+U.width+", height: "+U.height);var pe;switch(q){case"PNG":pe="image/png";break;case"WEBP":pe="image/webp";break;default:pe="image/jpeg"}return kp(U.toDataURL(pe,1).split("base64,").pop())}},I=function(U){var q=this.internal.collections[e+"images"];if(q){for(var Y in q)if(U===q[Y].alias)return q[Y]}},C=function(U,q,Y){return U||q||(U=-96,q=-96),U<0&&(U=-1*Y.width*72/U/this.internal.scaleFactor),q<0&&(q=-1*Y.height*72/q/this.internal.scaleFactor),U===0&&(U=q*Y.width/Y.height),q===0&&(q=U*Y.height/Y.width),[U,q]},M=function(U,q,Y,ne,pe,Ae){var ve=C.call(this,Y,ne,pe),Re=this.internal.getCoordinateString,He=this.internal.getVerticalCoordinateString,ze=d.call(this);if(Y=ve[0],ne=ve[1],ze[pe.index]=pe,Ae){Ae*=Math.PI/180;var xe=Math.cos(Ae),H=Math.sin(Ae),J=function(oe){return oe.toFixed(4)},Z=[J(xe),J(H),J(-1*H),J(xe),0,0,"cm"]}this.internal.write("q"),Ae?(this.internal.write([1,"0","0",1,Re(U),He(q+ne),"cm"].join(" ")),this.internal.write(Z.join(" ")),this.internal.write([Re(Y),"0","0",Re(ne),"0","0","cm"].join(" "))):this.internal.write([Re(Y),"0","0",Re(ne),Re(U),He(q+ne),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+pe.index+" Do"),this.internal.write("Q")},j=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var W=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},k=n.__addimage__.sHashCode=function(U){var q,Y,ne=0;if(typeof U=="string")for(Y=U.length,q=0;q<Y;q++)ne=(ne<<5)-ne+U.charCodeAt(q),ne|=0;else if(re(U))for(Y=U.byteLength/2,q=0;q<Y;q++)ne=(ne<<5)-ne+U[q],ne|=0;return ne},G=n.__addimage__.validateStringAsBase64=function(U){(U=U||"").toString().trim();var q=!0;return U.length===0&&(q=!1),U.length%4!=0&&(q=!1),/^[A-Za-z0-9+/]+$/.test(U.substr(0,U.length-2))===!1&&(q=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(U.substr(-2))===!1&&(q=!1),q},ce=n.__addimage__.extractImageFromDataUrl=function(U){if(U==null||!(U=U.trim()).startsWith("data:"))return null;var q=U.indexOf(",");return q<0?null:U.substring(0,q).trim().endsWith("base64")?U.substring(q+1):null};n.__addimage__.isArrayBuffer=function(U){return U instanceof ArrayBuffer};var re=n.__addimage__.isArrayBufferView=function(U){return U instanceof Int8Array||U instanceof Uint8Array||U instanceof Uint8ClampedArray||U instanceof Int16Array||U instanceof Uint16Array||U instanceof Int32Array||U instanceof Uint32Array||U instanceof Float32Array||U instanceof Float64Array},F=n.__addimage__.binaryStringToUint8Array=function(U){for(var q=U.length,Y=new Uint8Array(q),ne=0;ne<q;ne++)Y[ne]=U.charCodeAt(ne);return Y},B=n.__addimage__.arrayBufferToBinaryString=function(U){for(var q="",Y=re(U)?U:new Uint8Array(U),ne=0;ne<Y.length;ne+=8192)q+=String.fromCharCode.apply(null,Y.subarray(ne,ne+8192));return q};n.addImage=function(){var U,q,Y,ne,pe,Ae,ve,Re,He;if(typeof arguments[1]=="number"?(q=t,Y=arguments[1],ne=arguments[2],pe=arguments[3],Ae=arguments[4],ve=arguments[5],Re=arguments[6],He=arguments[7]):(q=arguments[1],Y=arguments[2],ne=arguments[3],pe=arguments[4],Ae=arguments[5],ve=arguments[6],Re=arguments[7],He=arguments[8]),Ai(U=arguments[0])==="object"&&!A(U)&&"imageData"in U){var ze=U;U=ze.imageData,q=ze.format||q||t,Y=ze.x||Y||0,ne=ze.y||ne||0,pe=ze.w||ze.width||pe,Ae=ze.h||ze.height||Ae,ve=ze.alias||ve,Re=ze.compression||Re,He=ze.rotation||ze.angle||He}var xe=this.internal.getFilters();if(Re===void 0&&xe.indexOf("FlateEncode")!==-1&&(Re="SLOW"),isNaN(Y)||isNaN(ne))throw new Error("Invalid coordinates passed to jsPDF.addImage");f.call(this);var H=L.call(this,U,q,ve,Re);return M.call(this,Y,ne,pe,Ae,H,He),this};var L=function(U,q,Y,ne){var pe,Ae,ve;if(typeof U=="string"&&i(U)===t){U=unescape(U);var Re=Q(U,!1);(Re!==""||(Re=n.loadFile(U,!0))!==void 0)&&(U=Re)}if(A(U)&&(U=E(U,q)),q=i(U,q),!w(q))throw new Error("addImage does not support files of type '"+q+"', please ensure that a plugin for '"+q+"' support is added.");if(((ve=Y)==null||ve.length===0)&&(Y=(function(He){return typeof He=="string"||re(He)?k(He):re(He.data)?k(He.data):null})(U)),(pe=I.call(this,Y))||(U instanceof Uint8Array||q==="RGBA"||(Ae=U,U=F(U)),pe=this["process"+q.toUpperCase()](U,x.call(this),Y,(function(He){return He&&typeof He=="string"&&(He=He.toUpperCase()),He in n.image_compression?He:W.NONE})(ne),Ae)),!pe)throw new Error("An unknown error occurred whilst processing the image.");return pe},Q=n.__addimage__.convertBase64ToBinaryString=function(U,q){q=typeof q!="boolean"||q;var Y,ne="";if(typeof U=="string"){var pe;Y=(pe=ce(U))!==null&&pe!==void 0?pe:U;try{ne=kp(Y)}catch(Ae){if(q)throw G(Y)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Ae.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ne};n.getImageProperties=function(U){var q,Y,ne="";if(A(U)&&(U=E(U)),typeof U=="string"&&i(U)===t&&((ne=Q(U,!1))===""&&(ne=n.loadFile(U)||""),U=ne),Y=i(U),!w(Y))throw new Error("addImage does not support files of type '"+Y+"', please ensure that a plugin for '"+Y+"' support is added.");if(U instanceof Uint8Array||(U=F(U)),!(q=this["process"+Y.toUpperCase()](U)))throw new Error("An unknown error occurred whilst processing the image");return q.fileType=Y,q}})(Yn.API),(function(n){var e=function(t){if(t!==void 0&&t!="")return!0};Yn.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(t){for(var r,i,s,o=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString,f=this.internal.getPageInfoByObjId(t.objId),d=t.pageContext.annotations,x=!1,w=0;w<d.length&&!x;w++)switch((r=d[w]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(x=!0);break;case"reference":case"text":case"freetext":x=!0}if(x!=0){this.internal.write("/Annots [");for(var A=0;A<d.length;A++){r=d[A];var E=this.internal.pdfEscape,I=this.internal.getEncryptor(t.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var C=this.internal.newAdditionalObject(),M=this.internal.newAdditionalObject(),j=this.internal.getEncryptor(C.objId),W=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(r.bounds.x)+" "+u(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w)+" "+u(r.bounds.y)+"] ")+"/Contents ("+E(j(r.contents))+")",s+=" /Popup "+M.objId+" 0 R",s+=" /P "+f.objId+" 0 R",s+=" /T ("+E(j(W))+") >>",C.content=s;var k=C.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(r.bounds.x+30)+" "+u(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w+30)+" "+u(r.bounds.y)+"] ")+" /Parent "+k,r.open&&(s+=" /Open true"),s+=" >>",M.content=s,this.internal.write(C.objId,"0 R",M.objId,"0 R");break;case"freetext":i="/Rect ["+o(r.bounds.x)+" "+u(r.bounds.y)+" "+o(r.bounds.x+r.bounds.w)+" "+u(r.bounds.y+r.bounds.h)+"] ";var G=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+E(I(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+G+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var ce=this.annotations._nameMap[r.options.name];r.options.pageNumber=ce.page,r.options.top=ce.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+E(I(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;default:var re=u(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+re+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),n.createAnnotation=function(t){var r=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":r.pageContext.annotations.push(t)}},n.link=function(t,r,i,s,o){var u=this.internal.getCurrentPageInfo(),f=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;u.pageContext.annotations.push({finalBounds:{x:f(t),y:d(r),w:f(t+i),h:d(r+s)},options:o,type:"link"})},n.textWithLink=function(t,r,i,s){var o,u,f=this.getTextWidth(t),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){u=s.maxWidth;var x=this.splitTextToSize(t,u).length;o=Math.ceil(d*x)}else u=f,o=d;return this.text(t,r,i,s),i+=.2*d,s.align==="center"&&(r-=f/2),s.align==="right"&&(r-=f),this.link(r,i-d,u,o,s),f},n.getTextWidth=function(t){var r=this.internal.getFontSize();return this.getStringUnitWidth(t)*r/this.internal.scaleFactor}})(Yn.API),(function(n){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];n.__arabicParser__={};var s=n.__arabicParser__.isInArabicSubstitutionA=function(C){return e[C.charCodeAt(0)]!==void 0},o=n.__arabicParser__.isArabicLetter=function(C){return typeof C=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(C)},u=n.__arabicParser__.isArabicEndLetter=function(C){return o(C)&&s(C)&&e[C.charCodeAt(0)].length<=2},f=n.__arabicParser__.isArabicAlfLetter=function(C){return o(C)&&i.indexOf(C.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(C){return o(C)&&s(C)&&e[C.charCodeAt(0)].length>=1};var d=n.__arabicParser__.arabicLetterHasFinalForm=function(C){return o(C)&&s(C)&&e[C.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(C){return o(C)&&s(C)&&e[C.charCodeAt(0)].length>=3};var x=n.__arabicParser__.arabicLetterHasMedialForm=function(C){return o(C)&&s(C)&&e[C.charCodeAt(0)].length==4},w=n.__arabicParser__.resolveLigatures=function(C){var M=0,j=t,W="",k=0;for(M=0;M<C.length;M+=1)j[C.charCodeAt(M)]!==void 0?(k++,typeof(j=j[C.charCodeAt(M)])=="number"&&(W+=String.fromCharCode(j),j=t,k=0),M===C.length-1&&(j=t,W+=C.charAt(M-(k-1)),M-=k-1,k=0)):(j=t,W+=C.charAt(M-k),M-=k,k=0);return W};n.__arabicParser__.isArabicDiacritic=function(C){return C!==void 0&&r[C.charCodeAt(0)]!==void 0};var A=n.__arabicParser__.getCorrectForm=function(C,M,j){return o(C)?s(C)===!1?-1:!d(C)||!o(M)&&!o(j)||!o(j)&&u(M)||u(C)&&!o(M)||u(C)&&f(M)||u(C)&&u(M)?0:x(C)&&o(M)&&!u(M)&&o(j)&&d(j)?3:u(C)||!o(j)?1:2:-1},E=function(C){var M=0,j=0,W=0,k="",G="",ce="",re=(C=C||"").split("\\s+"),F=[];for(M=0;M<re.length;M+=1){for(F.push(""),j=0;j<re[M].length;j+=1)k=re[M][j],G=re[M][j-1],ce=re[M][j+1],o(k)?(W=A(k,G,ce),F[M]+=W!==-1?String.fromCharCode(e[k.charCodeAt(0)][W]):k):F[M]+=k;F[M]=w(F[M])}return F.join(" ")},I=n.__arabicParser__.processArabic=n.processArabic=function(){var C,M=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,j=[];if(Array.isArray(M)){var W=0;for(j=[],W=0;W<M.length;W+=1)Array.isArray(M[W])?j.push([E(M[W][0]),M[W][1],M[W][2]]):j.push([E(M[W])]);C=j}else C=E(M);return typeof arguments[0]=="string"?C:(arguments[0].text=C,arguments[0])};n.events.push(["preProcessText",I])})(Yn.API),Yn.API.autoPrint=function(n){var e;return(n=n||{}).variant=n.variant||"non-conform",n.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(n){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(u){t=u}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(u){r=isNaN(u)||Number.isInteger(u)===!1||u<0?150:u,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(u){i=isNaN(u)||Number.isInteger(u)===!1||u<0?300:u,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(u){s=u}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(u){o=u}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,r){var i;if((t=t||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(Yn.API),(function(n){var e={left:0,top:0,bottom:0,right:0},t=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var f=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return f},set:function(C){f=C}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(C){d=C}});var x=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return x},set:function(C){x=C}});var w=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return w},set:function(C){w=C}});var A=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return A},set:function(C){A=C}});var E=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return E},set:function(C){E=C}});var I=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return I},set:function(C){I=C}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(f){return r.call(this),this.internal.__cell__.headerFunction=typeof f=="function"?f:void 0,this},n.getTextDimensions=function(f,d){r.call(this);var x=(d=d||{}).fontSize||this.getFontSize(),w=d.font||this.getFont(),A=d.scaleFactor||this.internal.scaleFactor,E=0,I=0,C=0,M=this;if(!Array.isArray(f)&&typeof f!="string"){if(typeof f!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");f=String(f)}var j=d.maxWidth;j>0?typeof f=="string"?f=this.splitTextToSize(f,j):Object.prototype.toString.call(f)==="[object Array]"&&(f=f.reduce(function(k,G){return k.concat(M.splitTextToSize(G,j))},[])):f=Array.isArray(f)?f:[f];for(var W=0;W<f.length;W++)E<(C=this.getStringUnitWidth(f[W],{font:w})*x)&&(E=C);return E!==0&&(I=f.length),{w:E/=A,h:Math.max((I*x*this.getLineHeightFactor()-x*(this.getLineHeightFactor()-1))/A,0)}},n.cellAddPage=function(){r.call(this),this.addPage();var f=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(f.left,f.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=n.cell=function(){var f;f=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),r.call(this);var d=this.internal.__cell__.lastCell,x=this.internal.__cell__.padding,w=this.internal.__cell__.margins||e,A=this.internal.__cell__.tableHeaderRow,E=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===f.lineNumber?(f.x=(d.x||0)+(d.width||0),f.y=d.y||0):d.y+d.height+f.height+w.bottom>this.getPageHeight()?(this.cellAddPage(),f.y=w.top,E&&A&&(this.printHeaderRow(f.lineNumber,!0),f.y+=A[0].height)):f.y=d.y+d.height||f.y),f.text[0]!==void 0&&(this.rect(f.x,f.y,f.width,f.height,t===!0?"FD":void 0),f.align==="right"?this.text(f.text,f.x+f.width-x,f.y+x,{align:"right",baseline:"top"}):f.align==="center"?this.text(f.text,f.x+f.width/2,f.y+x,{align:"center",baseline:"top",maxWidth:f.width-x-x}):this.text(f.text,f.x+x,f.y+x,{align:"left",baseline:"top",maxWidth:f.width-x-x})),this.internal.__cell__.lastCell=f,this};n.table=function(f,d,x,w,A){if(r.call(this),!x)throw new Error("No data for PDF table.");var E,I,C,M,j=[],W=[],k=[],G={},ce={},re=[],F=[],B=(A=A||{}).autoSize||!1,L=A.printHeaders!==!1,Q=A.css&&A.css["font-size"]!==void 0?16*A.css["font-size"]:A.fontSize||12,U=A.margins||Object.assign({width:this.getPageWidth()},e),q=typeof A.padding=="number"?A.padding:3,Y=A.headerBackgroundColor||"#c8c8c8",ne=A.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=L,this.internal.__cell__.margins=U,this.internal.__cell__.table_font_size=Q,this.internal.__cell__.padding=q,this.internal.__cell__.headerBackgroundColor=Y,this.internal.__cell__.headerTextColor=ne,this.setFontSize(Q),w==null)W=j=Object.keys(x[0]),k=j.map(function(){return"left"});else if(Array.isArray(w)&&Ai(w[0])==="object")for(j=w.map(function(ze){return ze.name}),W=w.map(function(ze){return ze.prompt||ze.name||""}),k=w.map(function(ze){return ze.align||"left"}),E=0;E<w.length;E+=1)ce[w[E].name]=.7499990551181103*w[E].width;else Array.isArray(w)&&typeof w[0]=="string"&&(W=j=w,k=j.map(function(){return"left"}));if(B||Array.isArray(w)&&typeof w[0]=="string")for(E=0;E<j.length;E+=1){for(G[M=j[E]]=x.map(function(ze){return ze[M]}),this.setFont(void 0,"bold"),re.push(this.getTextDimensions(W[E],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),I=G[M],this.setFont(void 0,"normal"),C=0;C<I.length;C+=1)re.push(this.getTextDimensions(I[C],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);ce[M]=Math.max.apply(null,re)+q+q,re=[]}if(L){var pe={};for(E=0;E<j.length;E+=1)pe[j[E]]={},pe[j[E]].text=W[E],pe[j[E]].align=k[E];var Ae=u.call(this,pe,ce);F=j.map(function(ze){return new s(f,d,ce[ze],Ae,pe[ze].text,void 0,pe[ze].align)}),this.setTableHeaderRow(F),this.printHeaderRow(1,!1)}var ve=w.reduce(function(ze,xe){return ze[xe.name]=xe.align,ze},{});for(E=0;E<x.length;E+=1){"rowStart"in A&&A.rowStart instanceof Function&&A.rowStart({row:E,data:x[E]},this);var Re=u.call(this,x[E],ce);for(C=0;C<j.length;C+=1){var He=x[E][j[C]];"cellStart"in A&&A.cellStart instanceof Function&&A.cellStart({row:E,col:C,data:He},this),o.call(this,new s(f,d,ce[j[C]],Re,He,E+2,ve[j[C]]))}}return this.internal.__cell__.table_x=f,this.internal.__cell__.table_y=d,this};var u=function(f,d){var x=this.internal.__cell__.padding,w=this.internal.__cell__.table_font_size,A=this.internal.scaleFactor;return Object.keys(f).map(function(E){var I=f[E];return this.splitTextToSize(I.hasOwnProperty("text")?I.text:I,d[E]-x-x)},this).map(function(E){return this.getLineHeightFactor()*E.length*w/A+x+x},this).reduce(function(E,I){return Math.max(E,I)},0)};n.setTableHeaderRow=function(f){r.call(this),this.internal.__cell__.tableHeaderRow=f},n.printHeaderRow=function(f,d){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var x;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var w=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(w[0],w[1],w[2],w[3],void 0,-1)}this.setFont(void 0,"bold");for(var A=[],E=0;E<this.internal.__cell__.tableHeaderRow.length;E+=1){x=this.internal.__cell__.tableHeaderRow[E].clone(),d&&(x.y=this.internal.__cell__.margins.top||0,A.push(x)),x.lineNumber=f;var I=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,x),this.setTextColor(I)}A.length>0&&this.setTableHeaderRow(A),this.setFont(void 0,"normal"),t=!1}})(Yn.API);var aR={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},oR=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],ew=sR(oR),lR=[100,200,300,400,500,600,700,800,900],WW=sR(lR);function X_(n){var e=n.family.replace(/"|'/g,"").toLowerCase(),t=(function(s){return aR[s=s||"normal"]?s:"normal"})(n.style),r=(function(s){return s?typeof s=="number"?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):s==="bold"?700:400:400})(n.weight),i=(function(s){return typeof ew[s=s||"normal"]=="number"?s:"normal"})(n.stretch);return{family:e,style:t,weight:r,stretch:i,src:n.src||[],ref:n.ref||{name:e,style:[i,t,r].join(" ")}}}function gT(n,e,t,r){var i;for(i=t;i>=0&&i<e.length;i+=r)if(n[e[i]])return n[e[i]];for(i=t;i>=0&&i<e.length;i-=r)if(n[e[i]])return n[e[i]]}var YW={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},pT={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function xT(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function vT(n){return n.trimLeft()}function XW(n,e){for(var t=0;t<n.length;){if(n.charAt(t)===e)return[n.substring(0,t),n.substring(t+1)];t+=1}return null}function KW(n){var e=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],n.substring(e[0].length)]}var sp,_T,yT,Yd,ap,wT,bT,ET,K_=["times"];function AT(n,e,t,r,i){var s=4,o=TT;switch(i){case Yn.API.image_compression.FAST:s=1,o=ST;break;case Yn.API.image_compression.MEDIUM:s=6,o=NT;break;case Yn.API.image_compression.SLOW:s=9,o=CT}n=(function(f,d,x,w){for(var A,E=f.length/d,I=new Uint8Array(f.length+E),C=[QW,ST,TT,NT,CT],M=0;M<E;M+=1){var j=M*d,W=f.subarray(j,j+d);if(w)I.set(w(W,x,A),j+M);else{for(var k=C.length,G=[],ce=0;ce<k;ce+=1)G[ce]=C[ce](W,x,A);var re=ZW(G.concat());I.set(G[re],j+M)}A=W}return I})(n,e,Math.ceil(t*r/8),o);var u=Yy(n,{level:s});return Yn.API.__addimage__.arrayBufferToBinaryString(u)}function QW(n){var e=Array.apply([],n);return e.unshift(0),e}function ST(n,e){var t=n.length,r=[];r[0]=1;for(var i=0;i<t;i+=1){var s=n[i-e]||0;r[i+1]=n[i]-s+256&255}return r}function TT(n,e,t){var r=n.length,i=[];i[0]=2;for(var s=0;s<r;s+=1){var o=t&&t[s]||0;i[s+1]=n[s]-o+256&255}return i}function NT(n,e,t){var r=n.length,i=[];i[0]=3;for(var s=0;s<r;s+=1){var o=n[s-e]||0,u=t&&t[s]||0;i[s+1]=n[s]+256-(o+u>>>1)&255}return i}function CT(n,e,t){var r=n.length,i=[];i[0]=4;for(var s=0;s<r;s+=1){var o=$W(n[s-e]||0,t&&t[s]||0,t&&t[s-e]||0);i[s+1]=n[s]-o+256&255}return i}function $W(n,e,t){if(n===e&&e===t)return n;var r=Math.abs(e-t),i=Math.abs(n-t),s=Math.abs(n+e-t-t);return r<=i&&r<=s?n:i<=s?e:t}function ZW(n){var e=n.map(function(t){return t.reduce(function(r,i){return r+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function Q_(n,e,t){var r=e*t,i=Math.floor(r/8),s=16-(r-8*i+t),o=(1<<t)-1;return cR(n,i)>>s&o}function IT(n,e,t,r){var i=t*r,s=Math.floor(i/8),o=16-(i-8*s+r),u=(1<<r)-1,f=(e&u)<<o;(function(d,x,w){if(x+1<d.byteLength)d.setUint16(x,w,!1);else{var A=w>>8&255;d.setUint8(x,A)}})(n,s,cR(n,s)&~(u<<o)&65535|f)}function cR(n,e){return e+1<n.byteLength?n.getUint16(e,!1):n.getUint8(e)<<8}function JW(n){var e=0;if(n[e++]!==71||n[e++]!==73||n[e++]!==70||n[e++]!==56||(n[e++]+1&253)!=56||n[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=n[e++]|n[e++]<<8,r=n[e++]|n[e++]<<8,i=n[e++],s=i>>7,o=1<<1+(7&i);n[e++],n[e++];var u=null,f=null;s&&(u=e,f=o,e+=3*o);var d=!0,x=[],w=0,A=null,E=0,I=null;for(this.width=t,this.height=r;d&&e<n.length;)switch(n[e++]){case 33:switch(n[e++]){case 255:if(n[e]!==11||n[e+1]==78&&n[e+2]==69&&n[e+3]==84&&n[e+4]==83&&n[e+5]==67&&n[e+6]==65&&n[e+7]==80&&n[e+8]==69&&n[e+9]==50&&n[e+10]==46&&n[e+11]==48&&n[e+12]==3&&n[e+13]==1&&n[e+16]==0)e+=14,I=n[e++]|n[e++]<<8,e++;else for(e+=12;;){if(!((U=n[e++])>=0))throw Error("Invalid block size");if(U===0)break;e+=U}break;case 249:if(n[e++]!==4||n[e+4]!==0)throw new Error("Invalid graphics extension block.");var C=n[e++];w=n[e++]|n[e++]<<8,A=n[e++],1&C||(A=null),E=C>>2&7,e++;break;case 254:for(;;){if(!((U=n[e++])>=0))throw Error("Invalid block size");if(U===0)break;e+=U}break;default:throw new Error("Unknown graphic control label: 0x"+n[e-1].toString(16))}break;case 44:var M=n[e++]|n[e++]<<8,j=n[e++]|n[e++]<<8,W=n[e++]|n[e++]<<8,k=n[e++]|n[e++]<<8,G=n[e++],ce=G>>6&1,re=1<<1+(7&G),F=u,B=f,L=!1;G>>7&&(L=!0,F=e,B=re,e+=3*re);var Q=e;for(e++;;){var U;if(!((U=n[e++])>=0))throw Error("Invalid block size");if(U===0)break;e+=U}x.push({x:M,y:j,width:W,height:k,has_local_palette:L,palette_offset:F,palette_size:B,data_offset:Q,data_length:e-Q,transparent_index:A,interlaced:!!ce,delay:w,disposal:E});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+n[e-1].toString(16))}this.numFrames=function(){return x.length},this.loopCount=function(){return I},this.frameInfo=function(q){if(q<0||q>=x.length)throw new Error("Frame index out of range.");return x[q]},this.decodeAndBlitFrameBGRA=function(q,Y){var ne=this.frameInfo(q),pe=ne.width*ne.height,Ae=new Uint8Array(pe);RT(n,ne.data_offset,Ae,pe);var ve=ne.palette_offset,Re=ne.transparent_index;Re===null&&(Re=256);var He=ne.width,ze=t-He,xe=He,H=4*(ne.y*t+ne.x),J=4*((ne.y+ne.height)*t+ne.x),Z=H,oe=4*ze;ne.interlaced===!0&&(oe+=4*t*7);for(var de=8,Me=0,Ue=Ae.length;Me<Ue;++Me){var Ve=Ae[Me];if(xe===0&&(xe=He,(Z+=oe)>=J&&(oe=4*ze+4*t*(de-1),Z=H+(He+ze)*(de<<1),de>>=1)),Ve===Re)Z+=4;else{var Ie=n[ve+3*Ve],nt=n[ve+3*Ve+1],Tt=n[ve+3*Ve+2];Y[Z++]=Tt,Y[Z++]=nt,Y[Z++]=Ie,Y[Z++]=255}--xe}},this.decodeAndBlitFrameRGBA=function(q,Y){var ne=this.frameInfo(q),pe=ne.width*ne.height,Ae=new Uint8Array(pe);RT(n,ne.data_offset,Ae,pe);var ve=ne.palette_offset,Re=ne.transparent_index;Re===null&&(Re=256);var He=ne.width,ze=t-He,xe=He,H=4*(ne.y*t+ne.x),J=4*((ne.y+ne.height)*t+ne.x),Z=H,oe=4*ze;ne.interlaced===!0&&(oe+=4*t*7);for(var de=8,Me=0,Ue=Ae.length;Me<Ue;++Me){var Ve=Ae[Me];if(xe===0&&(xe=He,(Z+=oe)>=J&&(oe=4*ze+4*t*(de-1),Z=H+(He+ze)*(de<<1),de>>=1)),Ve===Re)Z+=4;else{var Ie=n[ve+3*Ve],nt=n[ve+3*Ve+1],Tt=n[ve+3*Ve+2];Y[Z++]=Ie,Y[Z++]=nt,Y[Z++]=Tt,Y[Z++]=255}--xe}}}function RT(n,e,t,r){for(var i=n[e++],s=1<<i,o=s+1,u=o+1,f=i+1,d=(1<<f)-1,x=0,w=0,A=0,E=n[e++],I=new Int32Array(4096),C=null;;){for(;x<16&&E!==0;)w|=n[e++]<<x,x+=8,E===1?E=n[e++]:--E;if(x<f)break;var M=w&d;if(w>>=f,x-=f,M!==s){if(M===o)break;for(var j=M<u?M:C,W=0,k=j;k>s;)k=I[k]>>8,++W;var G=k;if(A+W+(j!==M?1:0)>r)return void zi.log("Warning, gif stream longer than expected.");t[A++]=G;var ce=A+=W;for(j!==M&&(t[A++]=G),k=j;W--;)k=I[k],t[--ce]=255&k,k>>=8;C!==null&&u<4096&&(I[u++]=C<<8|G,u>=d+1&&f<12&&(++f,d=d<<1|1)),C=M}else u=o+1,d=(1<<(f=i+1))-1,C=null}return A!==r&&zi.log("Warning, gif stream shorter than expected."),t}function $_(n){var e,t,r,i,s,o=Math.floor,u=new Array(64),f=new Array(64),d=new Array(64),x=new Array(64),w=new Array(65535),A=new Array(65535),E=new Array(64),I=new Array(64),C=[],M=0,j=7,W=new Array(64),k=new Array(64),G=new Array(64),ce=new Array(256),re=new Array(2048),F=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],B=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],L=[0,1,2,3,4,5,6,7,8,9,10,11],Q=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],U=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],q=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],Y=[0,1,2,3,4,5,6,7,8,9,10,11],ne=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],pe=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Ae(H,J){for(var Z=0,oe=0,de=new Array,Me=1;Me<=16;Me++){for(var Ue=1;Ue<=H[Me];Ue++)de[J[oe]]=[],de[J[oe]][0]=Z,de[J[oe]][1]=Me,oe++,Z++;Z*=2}return de}function ve(H){for(var J=H[0],Z=H[1]-1;Z>=0;)J&1<<Z&&(M|=1<<j),Z--,--j<0&&(M==255?(Re(255),Re(0)):Re(M),j=7,M=0)}function Re(H){C.push(H)}function He(H){Re(H>>8&255),Re(255&H)}function ze(H,J,Z,oe,de){for(var Me,Ue=de[0],Ve=de[240],Ie=(function(Je,Zt){var Xe,Ft,fn,tn,yn,cn,wn,gn,sn,bn,un=0;for(sn=0;sn<8;++sn){Xe=Je[un],Ft=Je[un+1],fn=Je[un+2],tn=Je[un+3],yn=Je[un+4],cn=Je[un+5],wn=Je[un+6];var nr=Xe+(gn=Je[un+7]),rn=Xe-gn,dt=Ft+wn,Gt=Ft-wn,It=fn+cn,ln=fn-cn,Xn=tn+yn,mt=tn-yn,Xt=nr+Xn,on=nr-Xn,hn=dt+It,dn=dt-It;Je[un]=Xt+hn,Je[un+4]=Xt-hn;var Zn=.707106781*(dn+on);Je[un+2]=on+Zn,Je[un+6]=on-Zn;var Dr=.382683433*((Xt=mt+ln)-(dn=Gt+rn)),li=.5411961*Xt+Dr,Lr=1.306562965*dn+Dr,Kr=.707106781*(hn=ln+Gt),On=rn+Kr,Ci=rn-Kr;Je[un+5]=Ci+li,Je[un+3]=Ci-li,Je[un+1]=On+Lr,Je[un+7]=On-Lr,un+=8}for(un=0,sn=0;sn<8;++sn){Xe=Je[un],Ft=Je[un+8],fn=Je[un+16],tn=Je[un+24],yn=Je[un+32],cn=Je[un+40],wn=Je[un+48];var Qi=Xe+(gn=Je[un+56]),Qr=Xe-gn,Hi=Ft+wn,lr=Ft-wn,Rr=fn+cn,ge=fn-cn,be=tn+yn,Te=tn-yn,Ce=Qi+be,Oe=Qi-be,ke=Hi+Rr,it=Hi-Rr;Je[un]=Ce+ke,Je[un+32]=Ce-ke;var Et=.707106781*(it+Oe);Je[un+16]=Oe+Et,Je[un+48]=Oe-Et;var et=.382683433*((Ce=Te+ge)-(it=lr+Qr)),lt=.5411961*Ce+et,ht=1.306562965*it+et,Ht=.707106781*(ke=ge+lr),Ot=Qr+Ht,Lt=Qr-Ht;Je[un+40]=Lt+lt,Je[un+24]=Lt-lt,Je[un+8]=Ot+ht,Je[un+56]=Ot-ht,un++}for(sn=0;sn<64;++sn)bn=Je[sn]*Zt[sn],E[sn]=bn>0?bn+.5|0:bn-.5|0;return E})(H,J),nt=0;nt<64;++nt)I[F[nt]]=Ie[nt];var Tt=I[0]-Z;Z=I[0],Tt==0?ve(oe[0]):(ve(oe[A[Me=32767+Tt]]),ve(w[Me]));for(var St=63;St>0&&I[St]==0;)St--;if(St==0)return ve(Ue),Z;for(var Rt,le=1;le<=St;){for(var ot=le;I[le]==0&&le<=St;)++le;var Ge=le-ot;if(Ge>=16){Rt=Ge>>4;for(var At=1;At<=Rt;++At)ve(Ve);Ge&=15}Me=32767+I[le],ve(de[(Ge<<4)+A[Me]]),ve(w[Me]),le++}return St!=63&&ve(Ue),Z}function xe(H){H=Math.min(Math.max(H,1),100),s!=H&&((function(J){for(var Z=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],oe=0;oe<64;oe++){var de=o((Z[oe]*J+50)/100);de=Math.min(Math.max(de,1),255),u[F[oe]]=de}for(var Me=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Ue=0;Ue<64;Ue++){var Ve=o((Me[Ue]*J+50)/100);Ve=Math.min(Math.max(Ve,1),255),f[F[Ue]]=Ve}for(var Ie=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],nt=0,Tt=0;Tt<8;Tt++)for(var St=0;St<8;St++)d[nt]=1/(u[F[nt]]*Ie[Tt]*Ie[St]*8),x[nt]=1/(f[F[nt]]*Ie[Tt]*Ie[St]*8),nt++})(H<50?Math.floor(5e3/H):Math.floor(200-2*H)),s=H)}this.encode=function(H,J){J&&xe(J),C=new Array,M=0,j=7,He(65496),He(65504),He(16),Re(74),Re(70),Re(73),Re(70),Re(0),Re(1),Re(1),Re(0),He(1),He(1),Re(0),Re(0),(function(){He(65499),He(132),Re(0);for(var Ft=0;Ft<64;Ft++)Re(u[Ft]);Re(1);for(var fn=0;fn<64;fn++)Re(f[fn])})(),(function(Ft,fn){He(65472),He(17),Re(8),He(fn),He(Ft),Re(3),Re(1),Re(17),Re(0),Re(2),Re(17),Re(1),Re(3),Re(17),Re(1)})(H.width,H.height),(function(){He(65476),He(418),Re(0);for(var Ft=0;Ft<16;Ft++)Re(B[Ft+1]);for(var fn=0;fn<=11;fn++)Re(L[fn]);Re(16);for(var tn=0;tn<16;tn++)Re(Q[tn+1]);for(var yn=0;yn<=161;yn++)Re(U[yn]);Re(1);for(var cn=0;cn<16;cn++)Re(q[cn+1]);for(var wn=0;wn<=11;wn++)Re(Y[wn]);Re(17);for(var gn=0;gn<16;gn++)Re(ne[gn+1]);for(var sn=0;sn<=161;sn++)Re(pe[sn])})(),He(65498),He(12),Re(3),Re(1),Re(0),Re(2),Re(17),Re(3),Re(17),Re(0),Re(63),Re(0);var Z=0,oe=0,de=0;M=0,j=7,this.encode.displayName="_encode_";for(var Me,Ue,Ve,Ie,nt,Tt,St,Rt,le,ot=H.data,Ge=H.width,At=H.height,Je=4*Ge,Zt=0;Zt<At;){for(Me=0;Me<Je;){for(nt=Je*Zt+Me,St=-1,Rt=0,le=0;le<64;le++)Tt=nt+(Rt=le>>3)*Je+(St=4*(7&le)),Zt+Rt>=At&&(Tt-=Je*(Zt+1+Rt-At)),Me+St>=Je&&(Tt-=Me+St-Je+4),Ue=ot[Tt++],Ve=ot[Tt++],Ie=ot[Tt++],W[le]=(re[Ue]+re[Ve+256|0]+re[Ie+512|0]>>16)-128,k[le]=(re[Ue+768|0]+re[Ve+1024|0]+re[Ie+1280|0]>>16)-128,G[le]=(re[Ue+1280|0]+re[Ve+1536|0]+re[Ie+1792|0]>>16)-128;Z=ze(W,d,Z,e,r),oe=ze(k,x,oe,t,i),de=ze(G,x,de,t,i),Me+=32}Zt+=8}if(j>=0){var Xe=[];Xe[1]=j+1,Xe[0]=(1<<j+1)-1,ve(Xe)}return He(65497),new Uint8Array(C)},n=n||50,(function(){for(var H=String.fromCharCode,J=0;J<256;J++)ce[J]=H(J)})(),e=Ae(B,L),t=Ae(q,Y),r=Ae(Q,U),i=Ae(ne,pe),(function(){for(var H=1,J=2,Z=1;Z<=15;Z++){for(var oe=H;oe<J;oe++)A[32767+oe]=Z,w[32767+oe]=[],w[32767+oe][1]=Z,w[32767+oe][0]=oe;for(var de=-(J-1);de<=-H;de++)A[32767+de]=Z,w[32767+de]=[],w[32767+de][1]=Z,w[32767+de][0]=J-1+de;H<<=1,J<<=1}})(),(function(){for(var H=0;H<256;H++)re[H]=19595*H,re[H+256|0]=38470*H,re[H+512|0]=7471*H+32768,re[H+768|0]=-11059*H,re[H+1024|0]=-21709*H,re[H+1280|0]=32768*H+8421375,re[H+1536|0]=-27439*H,re[H+1792|0]=-5329*H})(),xe(n)}function mc(n,e){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function OT(n){function e(L){if(!L)throw Error("assert :P")}function t(L,Q,U){for(var q=0;4>q;q++)if(L[Q+q]!=U.charCodeAt(q))return!0;return!1}function r(L,Q,U,q,Y){for(var ne=0;ne<Y;ne++)L[Q+ne]=U[q+ne]}function i(L,Q,U,q){for(var Y=0;Y<q;Y++)L[Q+Y]=U}function s(L){return new Int32Array(L)}function o(L,Q){for(var U=[],q=0;q<L;q++)U.push(new Q);return U}function u(L,Q){var U=[];return(function q(Y,ne,pe){for(var Ae=pe[ne],ve=0;ve<Ae&&(Y.push(pe.length>ne+1?[]:new Q),!(pe.length<ne+1));ve++)q(Y[ve],ne+1,pe)})(U,0,L),U}var f=function(){var L=this;function Q(T,O){for(var X=1<<O-1>>>0;T&X;)X>>>=1;return X?(T&X-1)+X:T}function U(T,O,X,te,me){e(!(te%X));do T[O+(te-=X)]=me;while(0<te)}function q(T,O,X,te,me){if(e(2328>=me),512>=me)var ye=s(512);else if((ye=s(me))==null)return 0;return(function(we,Ne,De,Be,Qe,gt){var Fe,Ze,ct=Ne,Mt=1<<De,ft=s(16),Dt=s(16);for(e(Qe!=0),e(Be!=null),e(we!=null),e(0<De),Ze=0;Ze<Qe;++Ze){if(15<Be[Ze])return 0;++ft[Be[Ze]]}if(ft[0]==Qe)return 0;for(Dt[1]=0,Fe=1;15>Fe;++Fe){if(ft[Fe]>1<<Fe)return 0;Dt[Fe+1]=Dt[Fe]+ft[Fe]}for(Ze=0;Ze<Qe;++Ze)Fe=Be[Ze],0<Be[Ze]&&(gt[Dt[Fe]++]=Ze);if(Dt[15]==1)return(Be=new Y).g=0,Be.value=gt[0],U(we,ct,1,Mt,Be),Mt;var zt,an=-1,Qt=Mt-1,kn=0,Cn=1,dr=1,Mn=1<<De;for(Ze=0,Fe=1,Qe=2;Fe<=De;++Fe,Qe<<=1){if(Cn+=dr<<=1,0>(dr-=ft[Fe]))return 0;for(;0<ft[Fe];--ft[Fe])(Be=new Y).g=Fe,Be.value=gt[Ze++],U(we,ct+kn,Qe,Mn,Be),kn=Q(kn,Fe)}for(Fe=De+1,Qe=2;15>=Fe;++Fe,Qe<<=1){if(Cn+=dr<<=1,0>(dr-=ft[Fe]))return 0;for(;0<ft[Fe];--ft[Fe]){if(Be=new Y,(kn&Qt)!=an){for(ct+=Mn,zt=1<<(an=Fe)-De;15>an&&!(0>=(zt-=ft[an]));)++an,zt<<=1;Mt+=Mn=1<<(zt=an-De),we[Ne+(an=kn&Qt)].g=zt+De,we[Ne+an].value=ct-Ne-an}Be.g=Fe-De,Be.value=gt[Ze++],U(we,ct+(kn>>De),Qe,Mn,Be),kn=Q(kn,Fe)}}return Cn!=2*Dt[15]-1?0:Mt})(T,O,X,te,me,ye)}function Y(){this.value=this.g=0}function ne(){this.value=this.g=0}function pe(){this.G=o(5,Y),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(qs,ne)}function Ae(T,O,X,te){e(T!=null),e(O!=null),e(2147483648>te),T.Ca=254,T.I=0,T.b=-8,T.Ka=0,T.oa=O,T.pa=X,T.Jd=O,T.Yc=X+te,T.Zc=4<=te?X+te-4+1:X,Ue(T)}function ve(T,O){for(var X=0;0<O--;)X|=Ie(T,128)<<O;return X}function Re(T,O){var X=ve(T,O);return Ve(T)?-X:X}function He(T,O,X,te){var me,ye=0;for(e(T!=null),e(O!=null),e(4294967288>te),T.Sb=te,T.Ra=0,T.u=0,T.h=0,4<te&&(te=4),me=0;me<te;++me)ye+=O[X+me]<<8*me;T.Ra=ye,T.bb=te,T.oa=O,T.pa=X}function ze(T){for(;8<=T.u&&T.bb<T.Sb;)T.Ra>>>=8,T.Ra+=T.oa[T.pa+T.bb]<<Fa-8>>>0,++T.bb,T.u-=8;oe(T)&&(T.h=1,T.u=0)}function xe(T,O){if(e(0<=O),!T.h&&O<=Gs){var X=Z(T)&ja[O];return T.u+=O,ze(T),X}return T.h=1,T.u=0}function H(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function J(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Z(T){return T.Ra>>>(T.u&Fa-1)>>>0}function oe(T){return e(T.bb<=T.Sb),T.h||T.bb==T.Sb&&T.u>Fa}function de(T,O){T.u=O,T.h=oe(T)}function Me(T){T.u>=pr&&(e(T.u>=pr),ze(T))}function Ue(T){e(T!=null&&T.oa!=null),T.pa<T.Zc?(T.I=(T.oa[T.pa++]|T.I<<8)>>>0,T.b+=8):(e(T!=null&&T.oa!=null),T.pa<T.Yc?(T.b+=8,T.I=T.oa[T.pa++]|T.I<<8):T.Ka?T.b=0:(T.I<<=8,T.b+=8,T.Ka=1))}function Ve(T){return ve(T,1)}function Ie(T,O){var X=T.Ca;0>T.b&&Ue(T);var te=T.b,me=X*O>>>8,ye=(T.I>>>te>me)+0;for(ye?(X-=me,T.I-=me+1<<te>>>0):X=me+1,te=X,me=0;256<=te;)me+=8,te>>=8;return te=7^me+bo[te],T.b-=te,T.Ca=(X<<te)-1,ye}function nt(T,O,X){T[O+0]=X>>24&255,T[O+1]=X>>16&255,T[O+2]=X>>8&255,T[O+3]=255&X}function Tt(T,O){return T[O+0]|T[O+1]<<8}function St(T,O){return Tt(T,O)|T[O+2]<<16}function Rt(T,O){return Tt(T,O)|Tt(T,O+2)<<16}function le(T,O){var X=1<<O;return e(T!=null),e(0<O),T.X=s(X),T.X==null?0:(T.Mb=32-O,T.Xa=O,1)}function ot(T,O){e(T!=null),e(O!=null),e(T.Xa==O.Xa),r(O.X,0,T.X,0,1<<O.Xa)}function Ge(){this.X=[],this.Xa=this.Mb=0}function At(T,O,X,te){e(X!=null),e(te!=null);var me=X[0],ye=te[0];return me==0&&(me=(T*ye+O/2)/O),ye==0&&(ye=(O*me+T/2)/T),0>=me||0>=ye?0:(X[0]=me,te[0]=ye,1)}function Je(T,O){return T+(1<<O)-1>>>O}function Zt(T,O){return((4278255360&T)+(4278255360&O)>>>0&4278255360)+((16711935&T)+(16711935&O)>>>0&16711935)>>>0}function Xe(T,O){L[O]=function(X,te,me,ye,we,Ne,De){var Be;for(Be=0;Be<we;++Be){var Qe=L[T](Ne[De+Be-1],me,ye+Be);Ne[De+Be]=Zt(X[te+Be],Qe)}}}function Ft(){this.ud=this.hd=this.jd=0}function fn(T,O){return((4278124286&(T^O))>>>1)+(T&O)>>>0}function tn(T){return 0<=T&&256>T?T:0>T?0:255<T?255:void 0}function yn(T,O){return tn(T+(T-O+.5>>1))}function cn(T,O,X){return Math.abs(O-X)-Math.abs(T-X)}function wn(T,O,X,te,me,ye,we){for(te=ye[we-1],X=0;X<me;++X)ye[we+X]=te=Zt(T[O+X],te)}function gn(T,O,X,te,me){var ye;for(ye=0;ye<X;++ye){var we=T[O+ye],Ne=we>>8&255,De=16711935&(De=(De=16711935&we)+((Ne<<16)+Ne));te[me+ye]=(4278255360&we)+De>>>0}}function sn(T,O){O.jd=255&T,O.hd=T>>8&255,O.ud=T>>16&255}function bn(T,O,X,te,me,ye){var we;for(we=0;we<te;++we){var Ne=O[X+we],De=Ne>>>8,Be=Ne,Qe=255&(Qe=(Qe=Ne>>>16)+((T.jd<<24>>24)*(De<<24>>24)>>>5));Be=255&(Be=(Be+=(T.hd<<24>>24)*(De<<24>>24)>>>5)+((T.ud<<24>>24)*(Qe<<24>>24)>>>5)),me[ye+we]=(4278255360&Ne)+(Qe<<16)+Be}}function un(T,O,X,te,me){L[O]=function(ye,we,Ne,De,Be,Qe,gt,Fe,Ze){for(De=gt;De<Fe;++De)for(gt=0;gt<Ze;++gt)Be[Qe++]=me(Ne[te(ye[we++])])},L[T]=function(ye,we,Ne,De,Be,Qe,gt){var Fe=8>>ye.b,Ze=ye.Ea,ct=ye.K[0],Mt=ye.w;if(8>Fe)for(ye=(1<<ye.b)-1,Mt=(1<<Fe)-1;we<Ne;++we){var ft,Dt=0;for(ft=0;ft<Ze;++ft)ft&ye||(Dt=te(De[Be++])),Qe[gt++]=me(ct[Dt&Mt]),Dt>>=Fe}else L["VP8LMapColor"+X](De,Be,ct,Mt,Qe,gt,we,Ne,Ze)}}function nr(T,O,X,te,me){for(X=O+X;O<X;){var ye=T[O++];te[me++]=ye>>16&255,te[me++]=ye>>8&255,te[me++]=255&ye}}function rn(T,O,X,te,me){for(X=O+X;O<X;){var ye=T[O++];te[me++]=ye>>16&255,te[me++]=ye>>8&255,te[me++]=255&ye,te[me++]=ye>>24&255}}function dt(T,O,X,te,me){for(X=O+X;O<X;){var ye=(we=T[O++])>>16&240|we>>12&15,we=240&we|we>>28&15;te[me++]=ye,te[me++]=we}}function Gt(T,O,X,te,me){for(X=O+X;O<X;){var ye=(we=T[O++])>>16&248|we>>13&7,we=we>>5&224|we>>3&31;te[me++]=ye,te[me++]=we}}function It(T,O,X,te,me){for(X=O+X;O<X;){var ye=T[O++];te[me++]=255&ye,te[me++]=ye>>8&255,te[me++]=ye>>16&255}}function ln(T,O,X,te,me,ye){if(ye==0)for(X=O+X;O<X;)nt(te,((ye=T[O++])[0]>>24|ye[1]>>8&65280|ye[2]<<8&16711680|ye[3]<<24)>>>0),me+=32;else r(te,me,T,O,X)}function Xn(T,O){L[O][0]=L[T+"0"],L[O][1]=L[T+"1"],L[O][2]=L[T+"2"],L[O][3]=L[T+"3"],L[O][4]=L[T+"4"],L[O][5]=L[T+"5"],L[O][6]=L[T+"6"],L[O][7]=L[T+"7"],L[O][8]=L[T+"8"],L[O][9]=L[T+"9"],L[O][10]=L[T+"10"],L[O][11]=L[T+"11"],L[O][12]=L[T+"12"],L[O][13]=L[T+"13"],L[O][14]=L[T+"0"],L[O][15]=L[T+"0"]}function mt(T){return T==gf||T==gd||T==ih||T==pd}function Xt(){this.eb=[],this.size=this.A=this.fb=0}function on(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function hn(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Xt,this.f.kb=new on,this.sd=null}function dn(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Zn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Dr(T){return alert("todo:WebPSamplerProcessPlane"),T.T}function li(T,O){var X=T.T,te=O.ba.f.RGBA,me=te.eb,ye=te.fb+T.ka*te.A,we=Ea[O.ba.S],Ne=T.y,De=T.O,Be=T.f,Qe=T.N,gt=T.ea,Fe=T.W,Ze=O.cc,ct=O.dc,Mt=O.Mc,ft=O.Nc,Dt=T.ka,zt=T.ka+T.T,an=T.U,Qt=an+1>>1;for(Dt==0?we(Ne,De,null,null,Be,Qe,gt,Fe,Be,Qe,gt,Fe,me,ye,null,null,an):(we(O.ec,O.fc,Ne,De,Ze,ct,Mt,ft,Be,Qe,gt,Fe,me,ye-te.A,me,ye,an),++X);Dt+2<zt;Dt+=2)Ze=Be,ct=Qe,Mt=gt,ft=Fe,Qe+=T.Rc,Fe+=T.Rc,ye+=2*te.A,we(Ne,(De+=2*T.fa)-T.fa,Ne,De,Ze,ct,Mt,ft,Be,Qe,gt,Fe,me,ye-te.A,me,ye,an);return De+=T.fa,T.j+zt<T.o?(r(O.ec,O.fc,Ne,De,an),r(O.cc,O.dc,Be,Qe,Qt),r(O.Mc,O.Nc,gt,Fe,Qt),X--):1&zt||we(Ne,De,null,null,Be,Qe,gt,Fe,Be,Qe,gt,Fe,me,ye+te.A,null,null,an),X}function Lr(T,O,X){var te=T.F,me=[T.J];if(te!=null){var ye=T.U,we=O.ba.S,Ne=we==mf||we==ih;O=O.ba.f.RGBA;var De=[0],Be=T.ka;De[0]=T.T,T.Kb&&(Be==0?--De[0]:(--Be,me[0]-=T.width),T.j+T.ka+T.T==T.o&&(De[0]=T.o-T.j-Be));var Qe=O.eb;Be=O.fb+Be*O.A,T=uf(te,me[0],T.width,ye,De,Qe,Be+(Ne?0:3),O.A),e(X==De),T&&mt(we)&&sc(Qe,Be,Ne,ye,De,O.A)}return 0}function Kr(T){var O=T.ma,X=O.ba.S,te=11>X,me=X==Va||X==Jo||X==mf||X==rh||X==12||mt(X);if(O.memory=null,O.Ib=null,O.Jb=null,O.Nd=null,!Uo(O.Oa,T,me?11:12))return 0;if(me&&mt(X)&&rr(),T.da)alert("todo:use_scaling");else{if(te){if(O.Ib=Dr,T.Kb){if(X=T.U+1>>1,O.memory=s(T.U+2*X),O.memory==null)return 0;O.ec=O.memory,O.fc=0,O.cc=O.ec,O.dc=O.fc+T.U,O.Mc=O.cc,O.Nc=O.dc+X,O.Ib=li,rr()}}else alert("todo:EmitYUV");me&&(O.Jb=Lr,te&&vt())}if(te&&!jc){for(T=0;256>T;++T)Aa[T]=89858*(T-128)+oh>>sl,bx[T]=-22014*(T-128)+oh,Zm[T]=-45773*(T-128),wd[T]=113618*(T-128)+oh>>sl;for(T=yu;T<Pc;++T)O=76283*(T-16)+oh>>sl,Ex[T-yu]=ci(O,255),Ax[T-yu]=ci(O+8>>4,15);jc=1}return 1}function On(T){var O=T.ma,X=T.U,te=T.T;return e(!(1&T.ka)),0>=X||0>=te?0:(X=O.Ib(T,O),O.Jb!=null&&O.Jb(T,O,X),O.Dc+=X,1)}function Ci(T){T.ma.memory=null}function Qi(T,O,X,te){return xe(T,8)!=47?0:(O[0]=xe(T,14)+1,X[0]=xe(T,14)+1,te[0]=xe(T,1),xe(T,3)!=0?0:!T.h)}function Qr(T,O){if(4>T)return T+1;var X=T-2>>1;return(2+(1&T)<<X)+xe(O,X)+1}function Hi(T,O){return 120<O?O-120:1<=(X=((X=tl[O-1])>>4)*T+(8-(15&X)))?X:1;var X}function lr(T,O,X){var te=Z(X),me=T[O+=255&te].g-8;return 0<me&&(de(X,X.u+8),te=Z(X),O+=T[O].value,O+=te&(1<<me)-1),de(X,X.u+T[O].g),T[O].value}function Rr(T,O,X){return X.g+=T.g,X.value+=T.value<<O>>>0,e(8>=X.g),T.g}function ge(T,O,X){var te=T.xc;return e((O=te==0?0:T.vc[T.md*(X>>te)+(O>>te)])<T.Wb),T.Ya[O]}function be(T,O,X,te){var me=T.ab,ye=T.c*O,we=T.C;O=we+O;var Ne=X,De=te;for(te=T.Ta,X=T.Ua;0<me--;){var Be=T.gc[me],Qe=we,gt=O,Fe=Ne,Ze=De,ct=(De=te,Ne=X,Be.Ea);switch(e(Qe<gt),e(gt<=Be.nc),Be.hc){case 2:h(Fe,Ze,(gt-Qe)*ct,De,Ne);break;case 0:var Mt=Qe,ft=gt,Dt=De,zt=Ne,an=(Mn=Be).Ea;Mt==0&&(he(Fe,Ze,null,null,1,Dt,zt),wn(Fe,Ze+1,0,0,an-1,Dt,zt+1),Ze+=an,zt+=an,++Mt);for(var Qt=1<<Mn.b,kn=Qt-1,Cn=Je(an,Mn.b),dr=Mn.K,Mn=Mn.w+(Mt>>Mn.b)*Cn;Mt<ft;){var Mr=dr,Ui=Mn,yr=1;for(l(Fe,Ze,Dt,zt-an,1,Dt,zt);yr<an;){var In=(yr&~kn)+Qt;In>an&&(In=an),(0,N[Mr[Ui++]>>8&15])(Fe,Ze+ +yr,Dt,zt+yr-an,In-yr,Dt,zt+yr),yr=In}Ze+=an,zt+=an,++Mt&kn||(Mn+=Cn)}gt!=Be.nc&&r(De,Ne-ct,De,Ne+(gt-Qe-1)*ct,ct);break;case 1:for(ct=Fe,ft=Ze,an=(Fe=Be.Ea)-(zt=Fe&~(Dt=(Ze=1<<Be.b)-1)),Mt=Je(Fe,Be.b),Qt=Be.K,Be=Be.w+(Qe>>Be.b)*Mt;Qe<gt;){for(kn=Qt,Cn=Be,dr=new Ft,Mn=ft+zt,Mr=ft+Fe;ft<Mn;)sn(kn[Cn++],dr),D(dr,ct,ft,Ze,De,Ne),ft+=Ze,Ne+=Ze;ft<Mr&&(sn(kn[Cn++],dr),D(dr,ct,ft,an,De,Ne),ft+=an,Ne+=an),++Qe&Dt||(Be+=Mt)}break;case 3:if(Fe==De&&Ze==Ne&&0<Be.b){for(ft=De,Fe=ct=Ne+(gt-Qe)*ct-(zt=(gt-Qe)*Je(Be.Ea,Be.b)),Ze=De,Dt=Ne,Mt=[],zt=(an=zt)-1;0<=zt;--zt)Mt[zt]=Ze[Dt+zt];for(zt=an-1;0<=zt;--zt)ft[Fe+zt]=Mt[zt];g(Be,Qe,gt,De,ct,De,Ne)}else g(Be,Qe,gt,Fe,Ze,De,Ne)}Ne=te,De=X}De!=X&&r(te,X,Ne,De,ye)}function Te(T,O){var X=T.V,te=T.Ba+T.c*T.C,me=O-T.C;if(e(O<=T.l.o),e(16>=me),0<me){var ye=T.l,we=T.Ta,Ne=T.Ua,De=ye.width;if(be(T,me,X,te),me=Ne=[Ne],e((X=T.C)<(te=O)),e(ye.v<ye.va),te>ye.o&&(te=ye.o),X<ye.j){var Be=ye.j-X;X=ye.j,me[0]+=Be*De}if(X>=te?X=0:(me[0]+=4*ye.v,ye.ka=X-ye.j,ye.U=ye.va-ye.v,ye.T=te-X,X=1),X){if(Ne=Ne[0],11>(X=T.ca).S){var Qe=X.f.RGBA,gt=(te=X.S,me=ye.U,ye=ye.T,Be=Qe.eb,Qe.A),Fe=ye;for(Qe=Qe.fb+T.Ma*Qe.A;0<Fe--;){var Ze=we,ct=Ne,Mt=me,ft=Be,Dt=Qe;switch(te){case dd:z(Ze,ct,Mt,ft,Dt);break;case Va:ee(Ze,ct,Mt,ft,Dt);break;case gf:ee(Ze,ct,Mt,ft,Dt),sc(ft,Dt,0,Mt,1,0);break;case md:Pe(Ze,ct,Mt,ft,Dt);break;case Jo:ln(Ze,ct,Mt,ft,Dt,1);break;case gd:ln(Ze,ct,Mt,ft,Dt,1),sc(ft,Dt,0,Mt,1,0);break;case mf:ln(Ze,ct,Mt,ft,Dt,0);break;case ih:ln(Ze,ct,Mt,ft,Dt,0),sc(ft,Dt,1,Mt,1,0);break;case rh:fe(Ze,ct,Mt,ft,Dt);break;case pd:fe(Ze,ct,Mt,ft,Dt),Zo(ft,Dt,Mt,1,0);break;case Oc:_e(Ze,ct,Mt,ft,Dt);break;default:e(0)}Ne+=De,Qe+=gt}T.Ma+=ye}else alert("todo:EmitRescaledRowsYUVA");e(T.Ma<=X.height)}}T.C=O,e(T.C<=T.i)}function Ce(T){var O;if(0<T.ua)return 0;for(O=0;O<T.Wb;++O){var X=T.Ya[O].G,te=T.Ya[O].H;if(0<X[1][te[1]+0].g||0<X[2][te[2]+0].g||0<X[3][te[3]+0].g)return 0}return 1}function Oe(T,O,X,te,me,ye){if(T.Z!=0){var we=T.qd,Ne=T.rd;for(e(oc[T.Z]!=null);O<X;++O)oc[T.Z](we,Ne,te,me,te,me,ye),we=te,Ne=me,me+=ye;T.qd=we,T.rd=Ne}}function ke(T,O){var X=T.l.ma,te=X.Z==0||X.Z==1?T.l.j:T.C;if(te=T.C<te?te:T.C,e(O<=T.l.o),O>te){var me=T.l.width,ye=X.ca,we=X.tb+me*te,Ne=T.V,De=T.Ba+T.c*te,Be=T.gc;e(T.ab==1),e(Be[0].hc==3),_(Be[0],te,O,Ne,De,ye,we),Oe(X,te,O,ye,we,me)}T.C=T.Ma=O}function it(T,O,X,te,me,ye,we){var Ne=T.$/te,De=T.$%te,Be=T.m,Qe=T.s,gt=X+T.$,Fe=gt;me=X+te*me;var Ze=X+te*ye,ct=280+Qe.ua,Mt=T.Pb?Ne:16777216,ft=0<Qe.ua?Qe.Wa:null,Dt=Qe.wc,zt=gt<Ze?ge(Qe,De,Ne):null;e(T.C<ye),e(Ze<=me);var an=!1;e:for(;;){for(;an||gt<Ze;){var Qt=0;if(Ne>=Mt){var kn=gt-X;e((Mt=T).Pb),Mt.wd=Mt.m,Mt.xd=kn,0<Mt.s.ua&&ot(Mt.s.Wa,Mt.s.vb),Mt=Ne+Dc}if(De&Dt||(zt=ge(Qe,De,Ne)),e(zt!=null),zt.Qb&&(O[gt]=zt.qb,an=!0),!an)if(Me(Be),zt.jc){Qt=Be,kn=O;var Cn=gt,dr=zt.pd[Z(Qt)&qs-1];e(zt.jc),256>dr.g?(de(Qt,Qt.u+dr.g),kn[Cn]=dr.value,Qt=0):(de(Qt,Qt.u+dr.g-256),e(256<=dr.value),Qt=dr.value),Qt==0&&(an=!0)}else Qt=lr(zt.G[0],zt.H[0],Be);if(Be.h)break;if(an||256>Qt){if(!an)if(zt.nd)O[gt]=(zt.qb|Qt<<8)>>>0;else{if(Me(Be),an=lr(zt.G[1],zt.H[1],Be),Me(Be),kn=lr(zt.G[2],zt.H[2],Be),Cn=lr(zt.G[3],zt.H[3],Be),Be.h)break;O[gt]=(Cn<<24|an<<16|Qt<<8|kn)>>>0}if(an=!1,++gt,++De>=te&&(De=0,++Ne,we!=null&&Ne<=ye&&!(Ne%16)&&we(T,Ne),ft!=null))for(;Fe<gt;)Qt=O[Fe++],ft.X[(506832829*Qt&4294967295)>>>ft.Mb]=Qt}else if(280>Qt){if(Qt=Qr(Qt-256,Be),kn=lr(zt.G[4],zt.H[4],Be),Me(Be),kn=Hi(te,kn=Qr(kn,Be)),Be.h)break;if(gt-X<kn||me-gt<Qt)break e;for(Cn=0;Cn<Qt;++Cn)O[gt+Cn]=O[gt+Cn-kn];for(gt+=Qt,De+=Qt;De>=te;)De-=te,++Ne,we!=null&&Ne<=ye&&!(Ne%16)&&we(T,Ne);if(e(gt<=me),De&Dt&&(zt=ge(Qe,De,Ne)),ft!=null)for(;Fe<gt;)Qt=O[Fe++],ft.X[(506832829*Qt&4294967295)>>>ft.Mb]=Qt}else{if(!(Qt<ct))break e;for(an=Qt-280,e(ft!=null);Fe<gt;)Qt=O[Fe++],ft.X[(506832829*Qt&4294967295)>>>ft.Mb]=Qt;Qt=gt,e(!(an>>>(kn=ft).Xa)),O[Qt]=kn.X[an],an=!0}an||e(Be.h==oe(Be))}if(T.Pb&&Be.h&&gt<me)e(T.m.h),T.a=5,T.m=T.wd,T.$=T.xd,0<T.s.ua&&ot(T.s.vb,T.s.Wa);else{if(Be.h)break e;we?.(T,Ne>ye?ye:Ne),T.a=0,T.$=gt-X}return 1}return T.a=3,0}function Et(T){e(T!=null),T.vc=null,T.yc=null,T.Ya=null;var O=T.Wa;O!=null&&(O.X=null),T.vb=null,e(T!=null)}function et(){var T=new qn;return T==null?null:(T.a=0,T.xb=K0,Xn("Predictor","VP8LPredictors"),Xn("Predictor","VP8LPredictors_C"),Xn("PredictorAdd","VP8LPredictorsAdd"),Xn("PredictorAdd","VP8LPredictorsAdd_C"),h=gn,D=bn,z=nr,ee=rn,fe=dt,_e=Gt,Pe=It,L.VP8LMapColor32b=v,L.VP8LMapColor8b=b,T)}function lt(T,O,X,te,me){var ye=1,we=[T],Ne=[O],De=te.m,Be=te.s,Qe=null,gt=0;e:for(;;){if(X)for(;ye&&xe(De,1);){var Fe=we,Ze=Ne,ct=te,Mt=1,ft=ct.m,Dt=ct.gc[ct.ab],zt=xe(ft,2);if(ct.Oc&1<<zt)ye=0;else{switch(ct.Oc|=1<<zt,Dt.hc=zt,Dt.Ea=Fe[0],Dt.nc=Ze[0],Dt.K=[null],++ct.ab,e(4>=ct.ab),zt){case 0:case 1:Dt.b=xe(ft,3)+2,Mt=lt(Je(Dt.Ea,Dt.b),Je(Dt.nc,Dt.b),0,ct,Dt.K),Dt.K=Dt.K[0];break;case 3:var an,Qt=xe(ft,8)+1,kn=16<Qt?0:4<Qt?1:2<Qt?2:3;if(Fe[0]=Je(Dt.Ea,kn),Dt.b=kn,an=Mt=lt(Qt,1,0,ct,Dt.K)){var Cn,dr=Qt,Mn=Dt,Mr=1<<(8>>Mn.b),Ui=s(Mr);if(Ui==null)an=0;else{var yr=Mn.K[0],In=Mn.w;for(Ui[0]=Mn.K[0][0],Cn=1;Cn<1*dr;++Cn)Ui[Cn]=Zt(yr[In+Cn],Ui[Cn-1]);for(;Cn<4*Mr;++Cn)Ui[Cn]=0;Mn.K[0]=null,Mn.K[0]=Ui,an=1}}Mt=an;break;case 2:break;default:e(0)}ye=Mt}}if(we=we[0],Ne=Ne[0],ye&&xe(De,1)&&!(ye=1<=(gt=xe(De,4))&&11>=gt)){te.a=3;break e}var vn;if(vn=ye)t:{var Zi,ir,Sr,fi=te,Ys=we,Sa=Ne,Li=gt,Is=X,za=fi.m,Rs=fi.s,Cr=[null],Jr=1,Ji=0,ii=nl[Li];n:for(;;){if(Is&&xe(za,1)){var Xs=xe(za,3)+2,es=Je(Ys,Xs),ei=Je(Sa,Xs),_s=es*ei;if(!lt(es,ei,0,fi,Cr))break n;for(Cr=Cr[0],Rs.xc=Xs,Zi=0;Zi<_s;++Zi){var di=Cr[Zi]>>8&65535;Cr[Zi]=di,di>=Jr&&(Jr=di+1)}}if(za.h)break n;for(ir=0;5>ir;++ir){var Os=vu[ir];!ir&&0<Li&&(Os+=1<<Li),Ji<Os&&(Ji=Os)}var Ds=o(Jr*ii,Y),vi=Jr,Xr=o(vi,pe);if(Xr==null)var Ha=null;else e(65536>=vi),Ha=Xr;var cs=s(Ji);if(Ha==null||cs==null||Ds==null){fi.a=1;break n}var Qn=Ds;for(Zi=Sr=0;Zi<Jr;++Zi){var er=Ha[Zi],ti=er.G,Eo=er.H,al=0,oo=1,Ms=0;for(ir=0;5>ir;++ir){Os=vu[ir],ti[ir]=Qn,Eo[ir]=Sr,!ir&&0<Li&&(Os+=1<<Li);i:{var Fc,Bc=Os,Ed=fi,ki=cs,$0=Qn,Z0=Sr,Ad=0,lc=Ed.m,Sx=xe(lc,1);if(i(ki,0,0,Bc),Sx){var J0=xe(lc,1)+1,e1=xe(lc,1),Sd=xe(lc,e1==0?1:8);ki[Sd]=1,J0==2&&(ki[Sd=xe(lc,8)]=1);var oa=1}else{var us=s(19),_f=xe(lc,4)+4;if(19<_f){Ed.a=3;var Uc=0;break i}for(Fc=0;Fc<_f;++Fc)us[pf[Fc]]=xe(lc,3);var ch=void 0,wu=void 0,ql=Ed,Td=us,uh=Bc,Nd=ki,Cd=0,cc=ql.m,t1=8,n1=o(128,Y);r:for(;q(n1,0,7,Td,19);){if(xe(cc,1)){var Jm=2+2*xe(cc,3);if((ch=2+xe(cc,Jm))>uh)break r}else ch=uh;for(wu=0;wu<uh&&ch--;){Me(cc);var r1=n1[0+(127&Z(cc))];de(cc,cc.u+r1.g);var Vc=r1.value;if(16>Vc)Nd[wu++]=Vc,Vc!=0&&(t1=Vc);else{var eg=Vc==16,tg=Vc-16,ng=sh[tg],i1=xe(cc,el[tg])+ng;if(wu+i1>uh)break r;for(var rg=eg?t1:0;0<i1--;)Nd[wu++]=rg}}Cd=1;break r}Cd||(ql.a=3),oa=Cd}(oa=oa&&!lc.h)&&(Ad=q($0,Z0,8,ki,Bc)),oa&&Ad!=0?Uc=Ad:(Ed.a=3,Uc=0)}if(Uc==0)break n;if(oo&&xd[ir]==1&&(oo=Qn[Sr].g==0),al+=Qn[Sr].g,Sr+=Uc,3>=ir){var bu,Id=cs[0];for(bu=1;bu<Os;++bu)cs[bu]>Id&&(Id=cs[bu]);Ms+=Id}}if(er.nd=oo,er.Qb=0,oo&&(er.qb=(ti[3][Eo[3]+0].value<<24|ti[1][Eo[1]+0].value<<16|ti[2][Eo[2]+0].value)>>>0,al==0&&256>ti[0][Eo[0]+0].value&&(er.Qb=1,er.qb+=ti[0][Eo[0]+0].value<<8)),er.jc=!er.Qb&&6>Ms,er.jc){var yf,Gl=er;for(yf=0;yf<qs;++yf){var uc=yf,hc=Gl.pd[uc],Rd=Gl.G[0][Gl.H[0]+uc];256<=Rd.value?(hc.g=Rd.g+256,hc.value=Rd.value):(hc.g=0,hc.value=0,uc>>=Rr(Rd,8,hc),uc>>=Rr(Gl.G[1][Gl.H[1]+uc],16,hc),uc>>=Rr(Gl.G[2][Gl.H[2]+uc],0,hc),Rr(Gl.G[3][Gl.H[3]+uc],24,hc))}}}Rs.vc=Cr,Rs.Wb=Jr,Rs.Ya=Ha,Rs.yc=Ds,vn=1;break t}vn=0}if(!(ye=vn)){te.a=3;break e}if(0<gt){if(Be.ua=1<<gt,!le(Be.Wa,gt)){te.a=1,ye=0;break e}}else Be.ua=0;var Od=te,Eu=we,ig=Ne,hh=Od.s,fh=hh.xc;if(Od.c=Eu,Od.i=ig,hh.md=Je(Eu,fh),hh.wc=fh==0?-1:(1<<fh)-1,X){te.xb=Mc;break e}if((Qe=s(we*Ne))==null){te.a=1,ye=0;break e}ye=(ye=it(te,Qe,0,we,Ne,Ne,null))&&!De.h;break e}return ye?(me!=null?me[0]=Qe:(e(Qe==null),e(X)),te.$=0,X||Et(Be)):Et(Be),ye}function ht(T,O){var X=T.c*T.i,te=X+O+16*O;return e(T.c<=O),T.V=s(te),T.V==null?(T.Ta=null,T.Ua=0,T.a=1,0):(T.Ta=T.V,T.Ua=T.Ba+X+O,1)}function Ht(T,O){var X=T.C,te=O-X,me=T.V,ye=T.Ba+T.c*X;for(e(O<=T.l.o);0<te;){var we=16<te?16:te,Ne=T.l.ma,De=T.l.width,Be=De*we,Qe=Ne.ca,gt=Ne.tb+De*X,Fe=T.Ta,Ze=T.Ua;be(T,we,me,ye),Vo(Fe,Ze,Qe,gt,Be),Oe(Ne,X,X+we,Qe,gt,De),te-=we,me+=we*T.c,X+=we}e(X==O),T.C=T.Ma=O}function Ot(){this.ub=this.yd=this.td=this.Rb=0}function Lt(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function yt(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function en(){this.Yb=(function(){var T=[];return(function O(X,te,me){for(var ye=me[te],we=0;we<ye&&(X.push(me.length>te+1?[]:0),!(me.length<te+1));we++)O(X[we],te+1,me)})(T,0,[3,11]),T})()}function Tn(){this.jb=s(3),this.Wc=u([4,8],en),this.Xc=u([4,17],en)}function Nt(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function vr(){this.ld=this.La=this.dd=this.tc=0}function Kn(){this.Na=this.la=0}function Ii(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function xa(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function fr(){this.uc=this.M=this.Nb=0,this.wa=Array(new vr),this.Y=0,this.ya=Array(new xa),this.aa=0,this.l=new os}function or(){this.y=s(16),this.f=s(8),this.ea=s(8)}function cr(){this.cb=this.a=0,this.sc="",this.m=new H,this.Od=new Ot,this.Kc=new Lt,this.ed=new Nt,this.Qa=new yt,this.Ic=this.$c=this.Aa=0,this.D=new fr,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,H),this.ia=0,this.pb=o(4,Ii),this.Pa=new Tn,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new or),this.Hd=0,this.rb=Array(new Kn),this.sb=0,this.wa=Array(new vr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new xa),this.L=this.aa=0,this.gd=u([4,2],vr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function ci(T,O){return 0>T?0:T>O?O:T}function os(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Ri(){var T=new cr;return T!=null&&(T.a=0,T.sc="OK",T.cb=0,T.Xb=0,zo||(zo=Gn)),T}function Hn(T,O,X){return T.a==0&&(T.a=O,T.sc=X,T.cb=0),0}function As(T,O,X){return 3<=X&&T[O+0]==157&&T[O+1]==1&&T[O+2]==42}function Ma(T,O){if(T==null)return 0;if(T.a=0,T.sc="OK",O==null)return Hn(T,2,"null VP8Io passed to VP8GetHeaders()");var X=O.data,te=O.w,me=O.ha;if(4>me)return Hn(T,7,"Truncated header.");var ye=X[te+0]|X[te+1]<<8|X[te+2]<<16,we=T.Od;if(we.Rb=!(1&ye),we.td=ye>>1&7,we.yd=ye>>4&1,we.ub=ye>>5,3<we.td)return Hn(T,3,"Incorrect keyframe parameters.");if(!we.yd)return Hn(T,4,"Frame not displayable.");te+=3,me-=3;var Ne=T.Kc;if(we.Rb){if(7>me)return Hn(T,7,"cannot parse picture header");if(!As(X,te,me))return Hn(T,3,"Bad code word");Ne.c=16383&(X[te+4]<<8|X[te+3]),Ne.Td=X[te+4]>>6,Ne.i=16383&(X[te+6]<<8|X[te+5]),Ne.Ud=X[te+6]>>6,te+=7,me-=7,T.za=Ne.c+15>>4,T.Ub=Ne.i+15>>4,O.width=Ne.c,O.height=Ne.i,O.Da=0,O.j=0,O.v=0,O.va=O.width,O.o=O.height,O.da=0,O.ib=O.width,O.hb=O.height,O.U=O.width,O.T=O.height,i((ye=T.Pa).jb,0,255,ye.jb.length),e((ye=T.Qa)!=null),ye.Cb=0,ye.Bb=0,ye.Fb=1,i(ye.Zb,0,0,ye.Zb.length),i(ye.Lb,0,0,ye.Lb)}if(we.ub>me)return Hn(T,7,"bad partition length");Ae(ye=T.m,X,te,we.ub),te+=we.ub,me-=we.ub,we.Rb&&(Ne.Ld=Ve(ye),Ne.Kd=Ve(ye)),Ne=T.Qa;var De,Be=T.Pa;if(e(ye!=null),e(Ne!=null),Ne.Cb=Ve(ye),Ne.Cb){if(Ne.Bb=Ve(ye),Ve(ye)){for(Ne.Fb=Ve(ye),De=0;4>De;++De)Ne.Zb[De]=Ve(ye)?Re(ye,7):0;for(De=0;4>De;++De)Ne.Lb[De]=Ve(ye)?Re(ye,6):0}if(Ne.Bb)for(De=0;3>De;++De)Be.jb[De]=Ve(ye)?ve(ye,8):255}else Ne.Bb=0;if(ye.Ka)return Hn(T,3,"cannot parse segment header");if((Ne=T.ed).zd=Ve(ye),Ne.Tb=ve(ye,6),Ne.wb=ve(ye,3),Ne.Pc=Ve(ye),Ne.Pc&&Ve(ye)){for(Be=0;4>Be;++Be)Ve(ye)&&(Ne.vd[Be]=Re(ye,6));for(Be=0;4>Be;++Be)Ve(ye)&&(Ne.od[Be]=Re(ye,6))}if(T.L=Ne.Tb==0?0:Ne.zd?1:2,ye.Ka)return Hn(T,3,"cannot parse filter header");var Qe=me;if(me=De=te,te=De+Qe,Ne=Qe,T.Xb=(1<<ve(T.m,2))-1,Qe<3*(Be=T.Xb))X=7;else{for(De+=3*Be,Ne-=3*Be,Qe=0;Qe<Be;++Qe){var gt=X[me+0]|X[me+1]<<8|X[me+2]<<16;gt>Ne&&(gt=Ne),Ae(T.Jc[+Qe],X,De,gt),De+=gt,Ne-=gt,me+=3}Ae(T.Jc[+Be],X,De,Ne),X=De<te?0:5}if(X!=0)return Hn(T,X,"cannot parse partitions");for(X=ve(De=T.m,7),me=Ve(De)?Re(De,4):0,te=Ve(De)?Re(De,4):0,Ne=Ve(De)?Re(De,4):0,Be=Ve(De)?Re(De,4):0,De=Ve(De)?Re(De,4):0,Qe=T.Qa,gt=0;4>gt;++gt){if(Qe.Cb){var Fe=Qe.Zb[gt];Qe.Fb||(Fe+=X)}else{if(0<gt){T.pb[gt]=T.pb[0];continue}Fe=X}var Ze=T.pb[gt];Ze.Sc[0]=rl[ci(Fe+me,127)],Ze.Sc[1]=il[ci(Fe+0,127)],Ze.Eb[0]=2*rl[ci(Fe+te,127)],Ze.Eb[1]=101581*il[ci(Fe+Ne,127)]>>16,8>Ze.Eb[1]&&(Ze.Eb[1]=8),Ze.Qc[0]=rl[ci(Fe+Be,117)],Ze.Qc[1]=il[ci(Fe+De,127)],Ze.lc=Fe+De}if(!we.Rb)return Hn(T,4,"Not a key frame.");for(Ve(ye),we=T.Pa,X=0;4>X;++X){for(me=0;8>me;++me)for(te=0;3>te;++te)for(Ne=0;11>Ne;++Ne)Be=Ie(ye,Bi[X][me][te][Ne])?ve(ye,8):$m[X][me][te][Ne],we.Wc[X][me].Yb[te][Ne]=Be;for(me=0;17>me;++me)we.Xc[X][me]=we.Wc[X][kr[me]]}return T.kc=Ve(ye),T.kc&&(T.Bd=ve(ye,8)),T.cb=1}function Gn(T,O,X,te,me,ye,we){var Ne=O[me].Yb[X];for(X=0;16>me;++me){if(!Ie(T,Ne[X+0]))return me;for(;!Ie(T,Ne[X+1]);)if(Ne=O[++me].Yb[0],X=0,me==16)return 16;var De=O[me+1].Yb;if(Ie(T,Ne[X+2])){var Be=T,Qe=0;if(Ie(Be,(Fe=Ne)[(gt=X)+3]))if(Ie(Be,Fe[gt+6])){for(Ne=0,gt=2*(Qe=Ie(Be,Fe[gt+8]))+(Fe=Ie(Be,Fe[gt+9+Qe])),Qe=0,Fe=Qm[gt];Fe[Ne];++Ne)Qe+=Qe+Ie(Be,Fe[Ne]);Qe+=3+(8<<gt)}else Ie(Be,Fe[gt+7])?(Qe=7+2*Ie(Be,165),Qe+=Ie(Be,145)):Qe=5+Ie(Be,159);else Qe=Ie(Be,Fe[gt+4])?3+Ie(Be,Fe[gt+5]):2;Ne=De[2]}else Qe=1,Ne=De[1];De=we+X0[me],0>(Be=T).b&&Ue(Be);var gt,Fe=Be.b,Ze=(gt=Be.Ca>>1)-(Be.I>>Fe)>>31;--Be.b,Be.Ca+=Ze,Be.Ca|=1,Be.I-=(gt+1&Ze)<<Fe,ye[De]=((Qe^Ze)-Ze)*te[(0<me)+0]}return 16}function Vs(T){var O=T.rb[T.sb-1];O.la=0,O.Na=0,i(T.zc,0,0,T.zc.length),T.ja=0}function $i(T,O,X,te,me){me=T[O+X+32*te]+(me>>3),T[O+X+32*te]=-256&me?0>me?0:255:me}function $r(T,O,X,te,me,ye){$i(T,O,0,X,te+me),$i(T,O,1,X,te+ye),$i(T,O,2,X,te-ye),$i(T,O,3,X,te-me)}function sr(T){return(20091*T>>16)+T}function Oi(T,O,X,te){var me,ye=0,we=s(16);for(me=0;4>me;++me){var Ne=T[O+0]+T[O+8],De=T[O+0]-T[O+8],Be=(35468*T[O+4]>>16)-sr(T[O+12]),Qe=sr(T[O+4])+(35468*T[O+12]>>16);we[ye+0]=Ne+Qe,we[ye+1]=De+Be,we[ye+2]=De-Be,we[ye+3]=Ne-Qe,ye+=4,O++}for(me=ye=0;4>me;++me)Ne=(T=we[ye+0]+4)+we[ye+8],De=T-we[ye+8],Be=(35468*we[ye+4]>>16)-sr(we[ye+12]),$i(X,te,0,0,Ne+(Qe=sr(we[ye+4])+(35468*we[ye+12]>>16))),$i(X,te,1,0,De+Be),$i(X,te,2,0,De-Be),$i(X,te,3,0,Ne-Qe),ye++,te+=32}function ut(T,O,X,te){var me=T[O+0]+4,ye=35468*T[O+4]>>16,we=sr(T[O+4]),Ne=35468*T[O+1]>>16;$r(X,te,0,me+we,T=sr(T[O+1]),Ne),$r(X,te,1,me+ye,T,Ne),$r(X,te,2,me-ye,T,Ne),$r(X,te,3,me-we,T,Ne)}function Le(T,O,X,te,me){Oi(T,O,X,te),me&&Oi(T,O+16,X,te+4)}function En(T,O,X,te){Ke(T,O+0,X,te,1),Ke(T,O+32,X,te+128,1)}function Di(T,O,X,te){var me;for(T=T[O+0]+4,me=0;4>me;++me)for(O=0;4>O;++O)$i(X,te,O,me,T)}function qi(T,O,X,te){T[O+0]&&Bt(T,O+0,X,te),T[O+16]&&Bt(T,O+16,X,te+4),T[O+32]&&Bt(T,O+32,X,te+128),T[O+48]&&Bt(T,O+48,X,te+128+4)}function ms(T,O,X,te){var me,ye=s(16);for(me=0;4>me;++me){var we=T[O+0+me]+T[O+12+me],Ne=T[O+4+me]+T[O+8+me],De=T[O+4+me]-T[O+8+me],Be=T[O+0+me]-T[O+12+me];ye[0+me]=we+Ne,ye[8+me]=we-Ne,ye[4+me]=Be+De,ye[12+me]=Be-De}for(me=0;4>me;++me)we=(T=ye[0+4*me]+3)+ye[3+4*me],Ne=ye[1+4*me]+ye[2+4*me],De=ye[1+4*me]-ye[2+4*me],Be=T-ye[3+4*me],X[te+0]=we+Ne>>3,X[te+16]=Be+De>>3,X[te+32]=we-Ne>>3,X[te+48]=Be-De>>3,te+=64}function vo(T,O,X){var te,me=O-32,ye=Ua,we=255-T[me-1];for(te=0;te<X;++te){var Ne,De=ye,Be=we+T[O-1];for(Ne=0;Ne<X;++Ne)T[O+Ne]=De[Be+T[me+Ne]];O+=32}}function Ss(T,O){vo(T,O,4)}function jn(T,O){vo(T,O,8)}function Zr(T,O){vo(T,O,16)}function vl(T,O){var X;for(X=0;16>X;++X)r(T,O+32*X,T,O-32,16)}function Po(T,O){var X;for(X=16;0<X;--X)i(T,O,T[O-1],16),O+=32}function Ts(T,O,X){var te;for(te=0;16>te;++te)i(O,X+32*te,T,16)}function ea(T,O){var X,te=16;for(X=0;16>X;++X)te+=T[O-1+32*X]+T[O+X-32];Ts(te>>5,T,O)}function eo(T,O){var X,te=8;for(X=0;16>X;++X)te+=T[O-1+32*X];Ts(te>>4,T,O)}function ta(T,O){var X,te=8;for(X=0;16>X;++X)te+=T[O+X-32];Ts(te>>4,T,O)}function ui(T,O){Ts(128,T,O)}function Fn(T,O,X){return T+2*O+X+2>>2}function na(T,O){var X,te=O-32;for(te=new Uint8Array([Fn(T[te-1],T[te+0],T[te+1]),Fn(T[te+0],T[te+1],T[te+2]),Fn(T[te+1],T[te+2],T[te+3]),Fn(T[te+2],T[te+3],T[te+4])]),X=0;4>X;++X)r(T,O+32*X,te,0,te.length)}function Vn(T,O){var X=T[O-1],te=T[O-1+32],me=T[O-1+64],ye=T[O-1+96];nt(T,O+0,16843009*Fn(T[O-1-32],X,te)),nt(T,O+32,16843009*Fn(X,te,me)),nt(T,O+64,16843009*Fn(te,me,ye)),nt(T,O+96,16843009*Fn(me,ye,ye))}function Qo(T,O){var X,te=4;for(X=0;4>X;++X)te+=T[O+X-32]+T[O-1+32*X];for(te>>=3,X=0;4>X;++X)i(T,O+32*X,te,4)}function Bn(T,O){var X=T[O-1+0],te=T[O-1+32],me=T[O-1+64],ye=T[O-1-32],we=T[O+0-32],Ne=T[O+1-32],De=T[O+2-32],Be=T[O+3-32];T[O+0+96]=Fn(te,me,T[O-1+96]),T[O+1+96]=T[O+0+64]=Fn(X,te,me),T[O+2+96]=T[O+1+64]=T[O+0+32]=Fn(ye,X,te),T[O+3+96]=T[O+2+64]=T[O+1+32]=T[O+0+0]=Fn(we,ye,X),T[O+3+64]=T[O+2+32]=T[O+1+0]=Fn(Ne,we,ye),T[O+3+32]=T[O+2+0]=Fn(De,Ne,we),T[O+3+0]=Fn(Be,De,Ne)}function Nr(T,O){var X=T[O+1-32],te=T[O+2-32],me=T[O+3-32],ye=T[O+4-32],we=T[O+5-32],Ne=T[O+6-32],De=T[O+7-32];T[O+0+0]=Fn(T[O+0-32],X,te),T[O+1+0]=T[O+0+32]=Fn(X,te,me),T[O+2+0]=T[O+1+32]=T[O+0+64]=Fn(te,me,ye),T[O+3+0]=T[O+2+32]=T[O+1+64]=T[O+0+96]=Fn(me,ye,we),T[O+3+32]=T[O+2+64]=T[O+1+96]=Fn(ye,we,Ne),T[O+3+64]=T[O+2+96]=Fn(we,Ne,De),T[O+3+96]=Fn(Ne,De,De)}function _l(T,O){var X=T[O-1+0],te=T[O-1+32],me=T[O-1+64],ye=T[O-1-32],we=T[O+0-32],Ne=T[O+1-32],De=T[O+2-32],Be=T[O+3-32];T[O+0+0]=T[O+1+64]=ye+we+1>>1,T[O+1+0]=T[O+2+64]=we+Ne+1>>1,T[O+2+0]=T[O+3+64]=Ne+De+1>>1,T[O+3+0]=De+Be+1>>1,T[O+0+96]=Fn(me,te,X),T[O+0+64]=Fn(te,X,ye),T[O+0+32]=T[O+1+96]=Fn(X,ye,we),T[O+1+32]=T[O+2+96]=Fn(ye,we,Ne),T[O+2+32]=T[O+3+96]=Fn(we,Ne,De),T[O+3+32]=Fn(Ne,De,Be)}function Fr(T,O){var X=T[O+0-32],te=T[O+1-32],me=T[O+2-32],ye=T[O+3-32],we=T[O+4-32],Ne=T[O+5-32],De=T[O+6-32],Be=T[O+7-32];T[O+0+0]=X+te+1>>1,T[O+1+0]=T[O+0+64]=te+me+1>>1,T[O+2+0]=T[O+1+64]=me+ye+1>>1,T[O+3+0]=T[O+2+64]=ye+we+1>>1,T[O+0+32]=Fn(X,te,me),T[O+1+32]=T[O+0+96]=Fn(te,me,ye),T[O+2+32]=T[O+1+96]=Fn(me,ye,we),T[O+3+32]=T[O+2+96]=Fn(ye,we,Ne),T[O+3+64]=Fn(we,Ne,De),T[O+3+96]=Fn(Ne,De,Be)}function ra(T,O){var X=T[O-1+0],te=T[O-1+32],me=T[O-1+64],ye=T[O-1+96];T[O+0+0]=X+te+1>>1,T[O+2+0]=T[O+0+32]=te+me+1>>1,T[O+2+32]=T[O+0+64]=me+ye+1>>1,T[O+1+0]=Fn(X,te,me),T[O+3+0]=T[O+1+32]=Fn(te,me,ye),T[O+3+32]=T[O+1+64]=Fn(me,ye,ye),T[O+3+64]=T[O+2+64]=T[O+0+96]=T[O+1+96]=T[O+2+96]=T[O+3+96]=ye}function va(T,O){var X=T[O-1+0],te=T[O-1+32],me=T[O-1+64],ye=T[O-1+96],we=T[O-1-32],Ne=T[O+0-32],De=T[O+1-32],Be=T[O+2-32];T[O+0+0]=T[O+2+32]=X+we+1>>1,T[O+0+32]=T[O+2+64]=te+X+1>>1,T[O+0+64]=T[O+2+96]=me+te+1>>1,T[O+0+96]=ye+me+1>>1,T[O+3+0]=Fn(Ne,De,Be),T[O+2+0]=Fn(we,Ne,De),T[O+1+0]=T[O+3+32]=Fn(X,we,Ne),T[O+1+32]=T[O+3+64]=Fn(te,X,we),T[O+1+64]=T[O+3+96]=Fn(me,te,X),T[O+1+96]=Fn(ye,me,te)}function to(T,O){var X;for(X=0;8>X;++X)r(T,O+32*X,T,O-32,8)}function jo(T,O){var X;for(X=0;8>X;++X)i(T,O,T[O-1],8),O+=32}function gs(T,O,X){var te;for(te=0;8>te;++te)i(O,X+32*te,T,8)}function _a(T,O){var X,te=8;for(X=0;8>X;++X)te+=T[O+X-32]+T[O-1+32*X];gs(te>>4,T,O)}function ia(T,O){var X,te=4;for(X=0;8>X;++X)te+=T[O+X-32];gs(te>>3,T,O)}function xi(T,O){var X,te=4;for(X=0;8>X;++X)te+=T[O-1+32*X];gs(te>>3,T,O)}function sa(T,O){gs(128,T,O)}function Wr(T,O,X){var te=T[O-X],me=T[O+0],ye=3*(me-te)+ac[1020+T[O-2*X]-T[O+X]],we=df[112+(ye+4>>3)];T[O-X]=Ua[255+te+df[112+(ye+3>>3)]],T[O+0]=Ua[255+me-we]}function no(T,O,X,te){var me=T[O+0],ye=T[O+X];return wa[255+T[O-2*X]-T[O-X]]>te||wa[255+ye-me]>te}function Fo(T,O,X,te){return 4*wa[255+T[O-X]-T[O+0]]+wa[255+T[O-2*X]-T[O+X]]<=te}function ro(T,O,X,te,me){var ye=T[O-3*X],we=T[O-2*X],Ne=T[O-X],De=T[O+0],Be=T[O+X],Qe=T[O+2*X],gt=T[O+3*X];return 4*wa[255+Ne-De]+wa[255+we-Be]>te?0:wa[255+T[O-4*X]-ye]<=me&&wa[255+ye-we]<=me&&wa[255+we-Ne]<=me&&wa[255+gt-Qe]<=me&&wa[255+Qe-Be]<=me&&wa[255+Be-De]<=me}function _o(T,O,X,te){var me=2*te+1;for(te=0;16>te;++te)Fo(T,O+te,X,me)&&Wr(T,O+te,X)}function La(T,O,X,te){var me=2*te+1;for(te=0;16>te;++te)Fo(T,O+te*X,1,me)&&Wr(T,O+te*X,1)}function yl(T,O,X,te){var me;for(me=3;0<me;--me)_o(T,O+=4*X,X,te)}function Or(T,O,X,te){var me;for(me=3;0<me;--me)La(T,O+=4,X,te)}function aa(T,O,X,te,me,ye,we,Ne){for(ye=2*ye+1;0<me--;){if(ro(T,O,X,ye,we))if(no(T,O,X,Ne))Wr(T,O,X);else{var De=T,Be=O,Qe=X,gt=De[Be-2*Qe],Fe=De[Be-Qe],Ze=De[Be+0],ct=De[Be+Qe],Mt=De[Be+2*Qe],ft=27*(zt=ac[1020+3*(Ze-Fe)+ac[1020+gt-ct]])+63>>7,Dt=18*zt+63>>7,zt=9*zt+63>>7;De[Be-3*Qe]=Ua[255+De[Be-3*Qe]+zt],De[Be-2*Qe]=Ua[255+gt+Dt],De[Be-Qe]=Ua[255+Fe+ft],De[Be+0]=Ua[255+Ze-ft],De[Be+Qe]=Ua[255+ct-Dt],De[Be+2*Qe]=Ua[255+Mt-zt]}O+=te}}function ya(T,O,X,te,me,ye,we,Ne){for(ye=2*ye+1;0<me--;){if(ro(T,O,X,ye,we))if(no(T,O,X,Ne))Wr(T,O,X);else{var De=T,Be=O,Qe=X,gt=De[Be-Qe],Fe=De[Be+0],Ze=De[Be+Qe],ct=df[112+(4+(Mt=3*(Fe-gt))>>3)],Mt=df[112+(Mt+3>>3)],ft=ct+1>>1;De[Be-2*Qe]=Ua[255+De[Be-2*Qe]+ft],De[Be-Qe]=Ua[255+gt+Mt],De[Be+0]=Ua[255+Fe-ct],De[Be+Qe]=Ua[255+Ze-ft]}O+=te}}function ka(T,O,X,te,me,ye){aa(T,O,X,1,16,te,me,ye)}function io(T,O,X,te,me,ye){aa(T,O,1,X,16,te,me,ye)}function wt(T,O,X,te,me,ye){var we;for(we=3;0<we;--we)ya(T,O+=4*X,X,1,16,te,me,ye)}function V(T,O,X,te,me,ye){var we;for(we=3;0<we;--we)ya(T,O+=4,1,X,16,te,me,ye)}function ue(T,O,X,te,me,ye,we,Ne){aa(T,O,me,1,8,ye,we,Ne),aa(X,te,me,1,8,ye,we,Ne)}function je(T,O,X,te,me,ye,we,Ne){aa(T,O,1,me,8,ye,we,Ne),aa(X,te,1,me,8,ye,we,Ne)}function Ye(T,O,X,te,me,ye,we,Ne){ya(T,O+4*me,me,1,8,ye,we,Ne),ya(X,te+4*me,me,1,8,ye,we,Ne)}function tt(T,O,X,te,me,ye,we,Ne){ya(T,O+4,1,me,8,ye,we,Ne),ya(X,te+4,1,me,8,ye,we,Ne)}function kt(){this.ba=new hn,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Zn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Kt(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Nn(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function pn(){this.ua=0,this.Wa=new Ge,this.vb=new Ge,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new pe,this.yc=new Y}function qn(){this.xb=this.a=0,this.l=new os,this.ca=new hn,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new J,this.Pb=0,this.wd=new J,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new pn,this.ab=0,this.gc=o(4,Nn),this.Oc=0}function _n(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new os,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Ar(T,O,X,te,me,ye,we){for(T=T==null?0:T[O+0],O=0;O<we;++O)me[ye+O]=T+X[te+O]&255,T=me[ye+O]}function Br(T,O,X,te,me,ye,we){var Ne;if(T==null)Ar(null,null,X,te,me,ye,we);else for(Ne=0;Ne<we;++Ne)me[ye+Ne]=T[O+Ne]+X[te+Ne]&255}function Wn(T,O,X,te,me,ye,we){if(T==null)Ar(null,null,X,te,me,ye,we);else{var Ne,De=T[O+0],Be=De,Qe=De;for(Ne=0;Ne<we;++Ne)Be=Qe+(De=T[O+Ne])-Be,Qe=X[te+Ne]+(-256&Be?0>Be?0:255:Be)&255,Be=De,me[ye+Ne]=Qe}}function S(T,O,X,te){var me=O.width,ye=O.o;if(e(T!=null&&O!=null),0>X||0>=te||X+te>ye)return null;if(!T.Cc){if(T.ga==null){var we;if(T.ga=new _n,(we=T.ga==null)||(we=O.width*O.o,e(T.Gb.length==0),T.Gb=s(we),T.Uc=0,T.Gb==null?we=0:(T.mb=T.Gb,T.nb=T.Uc,T.rc=null,we=1),we=!we),!we){we=T.ga;var Ne=T.Fa,De=T.P,Be=T.qc,Qe=T.mb,gt=T.nb,Fe=De+1,Ze=Be-1,ct=we.l;if(e(Ne!=null&&Qe!=null&&O!=null),oc[0]=null,oc[1]=Ar,oc[2]=Br,oc[3]=Wn,we.ca=Qe,we.tb=gt,we.c=O.width,we.i=O.height,e(0<we.c&&0<we.i),1>=Be)O=0;else if(we.$a=3&Ne[De+0],we.Z=Ne[De+0]>>2&3,we.Lc=Ne[De+0]>>4&3,De=Ne[De+0]>>6&3,0>we.$a||1<we.$a||4<=we.Z||1<we.Lc||De)O=0;else if(ct.put=On,ct.ac=Kr,ct.bc=Ci,ct.ma=we,ct.width=O.width,ct.height=O.height,ct.Da=O.Da,ct.v=O.v,ct.va=O.va,ct.j=O.j,ct.o=O.o,we.$a)e:{e(we.$a==1),O=et();t:for(;;){if(O==null){O=0;break e}if(e(we!=null),we.mc=O,O.c=we.c,O.i=we.i,O.l=we.l,O.l.ma=we,O.l.width=we.c,O.l.height=we.i,O.a=0,He(O.m,Ne,Fe,Ze),!lt(we.c,we.i,1,O,null)||(O.ab==1&&O.gc[0].hc==3&&Ce(O.s)?(we.ic=1,Ne=O.c*O.i,O.Ta=null,O.Ua=0,O.V=s(Ne),O.Ba=0,O.V==null?(O.a=1,O=0):O=1):(we.ic=0,O=ht(O,we.c)),!O))break t;O=1;break e}we.mc=null,O=0}else O=Ze>=we.c*we.i;we=!O}if(we)return null;T.ga.Lc!=1?T.Ga=0:te=ye-X}e(T.ga!=null),e(X+te<=ye);e:{if(O=(Ne=T.ga).c,ye=Ne.l.o,Ne.$a==0){if(Fe=T.rc,Ze=T.Vc,ct=T.Fa,De=T.P+1+X*O,Be=T.mb,Qe=T.nb+X*O,e(De<=T.P+T.qc),Ne.Z!=0)for(e(oc[Ne.Z]!=null),we=0;we<te;++we)oc[Ne.Z](Fe,Ze,ct,De,Be,Qe,O),Fe=Be,Ze=Qe,Qe+=O,De+=O;else for(we=0;we<te;++we)r(Be,Qe,ct,De,O),Fe=Be,Ze=Qe,Qe+=O,De+=O;T.rc=Fe,T.Vc=Ze}else{if(e(Ne.mc!=null),O=X+te,e((we=Ne.mc)!=null),e(O<=we.i),we.C>=O)O=1;else if(Ne.ic||vt(),Ne.ic){Ne=we.V,Fe=we.Ba,Ze=we.c;var Mt=we.i,ft=(ct=1,De=we.$/Ze,Be=we.$%Ze,Qe=we.m,gt=we.s,we.$),Dt=Ze*Mt,zt=Ze*O,an=gt.wc,Qt=ft<zt?ge(gt,Be,De):null;e(ft<=Dt),e(O<=Mt),e(Ce(gt));t:for(;;){for(;!Qe.h&&ft<zt;){if(Be&an||(Qt=ge(gt,Be,De)),e(Qt!=null),Me(Qe),256>(Mt=lr(Qt.G[0],Qt.H[0],Qe)))Ne[Fe+ft]=Mt,++ft,++Be>=Ze&&(Be=0,++De<=O&&!(De%16)&&ke(we,De));else{if(!(280>Mt)){ct=0;break t}Mt=Qr(Mt-256,Qe);var kn,Cn=lr(Qt.G[4],Qt.H[4],Qe);if(Me(Qe),!(ft>=(Cn=Hi(Ze,Cn=Qr(Cn,Qe)))&&Dt-ft>=Mt)){ct=0;break t}for(kn=0;kn<Mt;++kn)Ne[Fe+ft+kn]=Ne[Fe+ft+kn-Cn];for(ft+=Mt,Be+=Mt;Be>=Ze;)Be-=Ze,++De<=O&&!(De%16)&&ke(we,De);ft<zt&&Be&an&&(Qt=ge(gt,Be,De))}e(Qe.h==oe(Qe))}ke(we,De>O?O:De);break t}!ct||Qe.h&&ft<Dt?(ct=0,we.a=Qe.h?5:3):we.$=ft,O=ct}else O=it(we,we.V,we.Ba,we.c,we.i,O,Ht);if(!O){te=0;break e}}X+te>=ye&&(T.Cc=1),te=1}if(!te)return null;if(T.Cc&&((te=T.ga)!=null&&(te.mc=null),T.ga=null,0<T.Ga))return alert("todo:WebPDequantizeLevels"),null}return T.nb+X*me}function K(T,O,X,te,me,ye){for(;0<me--;){var we,Ne=T,De=O+(X?1:0),Be=T,Qe=O+(X?0:3);for(we=0;we<te;++we){var gt=Be[Qe+4*we];gt!=255&&(gt*=32897,Ne[De+4*we+0]=Ne[De+4*we+0]*gt>>23,Ne[De+4*we+1]=Ne[De+4*we+1]*gt>>23,Ne[De+4*we+2]=Ne[De+4*we+2]*gt>>23)}O+=ye}}function ie(T,O,X,te,me){for(;0<te--;){var ye;for(ye=0;ye<X;++ye){var we=T[O+2*ye+0],Ne=15&(Be=T[O+2*ye+1]),De=4369*Ne,Be=(240&Be|Be>>4)*De>>16;T[O+2*ye+0]=(240&we|we>>4)*De>>16&240|(15&we|we<<4)*De>>16>>4&15,T[O+2*ye+1]=240&Be|Ne}O+=me}}function Se(T,O,X,te,me,ye,we,Ne){var De,Be,Qe=255;for(Be=0;Be<me;++Be){for(De=0;De<te;++De){var gt=T[O+De];ye[we+4*De]=gt,Qe&=gt}O+=X,we+=Ne}return Qe!=255}function st(T,O,X,te,me){var ye;for(ye=0;ye<me;++ye)X[te+ye]=T[O+ye]>>8}function vt(){sc=K,Zo=ie,uf=Se,Vo=st}function nn(T,O,X){L[T]=function(te,me,ye,we,Ne,De,Be,Qe,gt,Fe,Ze,ct,Mt,ft,Dt,zt,an){var Qt,kn=an-1>>1,Cn=Ne[De+0]|Be[Qe+0]<<16,dr=gt[Fe+0]|Ze[ct+0]<<16;e(te!=null);var Mn=3*Cn+dr+131074>>2;for(O(te[me+0],255&Mn,Mn>>16,Mt,ft),ye!=null&&(Mn=3*dr+Cn+131074>>2,O(ye[we+0],255&Mn,Mn>>16,Dt,zt)),Qt=1;Qt<=kn;++Qt){var Mr=Ne[De+Qt]|Be[Qe+Qt]<<16,Ui=gt[Fe+Qt]|Ze[ct+Qt]<<16,yr=Cn+Mr+dr+Ui+524296,In=yr+2*(Mr+dr)>>3;Mn=In+Cn>>1,Cn=(yr=yr+2*(Cn+Ui)>>3)+Mr>>1,O(te[me+2*Qt-1],255&Mn,Mn>>16,Mt,ft+(2*Qt-1)*X),O(te[me+2*Qt-0],255&Cn,Cn>>16,Mt,ft+(2*Qt-0)*X),ye!=null&&(Mn=yr+dr>>1,Cn=In+Ui>>1,O(ye[we+2*Qt-1],255&Mn,Mn>>16,Dt,zt+(2*Qt-1)*X),O(ye[we+2*Qt+0],255&Cn,Cn>>16,Dt,zt+(2*Qt+0)*X)),Cn=Mr,dr=Ui}1&an||(Mn=3*Cn+dr+131074>>2,O(te[me+an-1],255&Mn,Mn>>16,Mt,ft+(an-1)*X),ye!=null&&(Mn=3*dr+Cn+131074>>2,O(ye[we+an-1],255&Mn,Mn>>16,Dt,zt+(an-1)*X)))}}function rr(){Ea[dd]=_u,Ea[Va]=ah,Ea[md]=Q0,Ea[Jo]=_d,Ea[mf]=Lc,Ea[rh]=Hl,Ea[Oc]=kc,Ea[gf]=ah,Ea[gd]=_d,Ea[ih]=Lc,Ea[pd]=Hl}function hi(T){return T&-16384?0>T?0:255:T>>yd}function _r(T,O){return hi((19077*T>>8)+(26149*O>>8)-14234)}function Yr(T,O,X){return hi((19077*T>>8)-(6419*O>>8)-(13320*X>>8)+8708)}function ps(T,O){return hi((19077*T>>8)+(33050*O>>8)-17685)}function zs(T,O,X,te,me){te[me+0]=_r(T,X),te[me+1]=Yr(T,O,X),te[me+2]=ps(T,O)}function Ur(T,O,X,te,me){te[me+0]=ps(T,O),te[me+1]=Yr(T,O,X),te[me+2]=_r(T,X)}function xs(T,O,X,te,me){var ye=Yr(T,O,X);O=ye<<3&224|ps(T,O)>>3,te[me+0]=248&_r(T,X)|ye>>5,te[me+1]=O}function so(T,O,X,te,me){var ye=240&ps(T,O)|15;te[me+0]=240&_r(T,X)|Yr(T,O,X)>>4,te[me+1]=ye}function Pa(T,O,X,te,me){te[me+0]=255,zs(T,O,X,te,me+1)}function $o(T,O,X,te,me){Ur(T,O,X,te,me),te[me+3]=255}function Gi(T,O,X,te,me){zs(T,O,X,te,me),te[me+3]=255}function yo(T,O,X){L[T]=function(te,me,ye,we,Ne,De,Be,Qe,gt){for(var Fe=Qe+(-2&gt)*X;Qe!=Fe;)O(te[me+0],ye[we+0],Ne[De+0],Be,Qe),O(te[me+1],ye[we+0],Ne[De+0],Be,Qe+X),me+=2,++we,++De,Qe+=2*X;1&gt&&O(te[me+0],ye[we+0],Ne[De+0],Be,Qe)}}function Hs(T,O,X){return X==0?T==0?O==0?6:5:O==0?4:0:X}function Rc(T,O,X,te,me){switch(T>>>30){case 3:Ke(O,X,te,me,0);break;case 2:rt(O,X,te,me);break;case 1:Bt(O,X,te,me)}}function Wi(T,O){var X,te,me=O.M,ye=O.Nb,we=T.oc,Ne=T.pc+40,De=T.oc,Be=T.pc+584,Qe=T.oc,gt=T.pc+600;for(X=0;16>X;++X)we[Ne+32*X-1]=129;for(X=0;8>X;++X)De[Be+32*X-1]=129,Qe[gt+32*X-1]=129;for(0<me?we[Ne-1-32]=De[Be-1-32]=Qe[gt-1-32]=129:(i(we,Ne-32-1,127,21),i(De,Be-32-1,127,9),i(Qe,gt-32-1,127,9)),te=0;te<T.za;++te){var Fe=O.ya[O.aa+te];if(0<te){for(X=-1;16>X;++X)r(we,Ne+32*X-4,we,Ne+32*X+12,4);for(X=-1;8>X;++X)r(De,Be+32*X-4,De,Be+32*X+4,4),r(Qe,gt+32*X-4,Qe,gt+32*X+4,4)}var Ze=T.Gd,ct=T.Hd+te,Mt=Fe.ad,ft=Fe.Hc;if(0<me&&(r(we,Ne-32,Ze[ct].y,0,16),r(De,Be-32,Ze[ct].f,0,8),r(Qe,gt-32,Ze[ct].ea,0,8)),Fe.Za){var Dt=we,zt=Ne-32+16;for(0<me&&(te>=T.za-1?i(Dt,zt,Ze[ct].y[15],4):r(Dt,zt,Ze[ct+1].y,0,4)),X=0;4>X;X++)Dt[zt+128+X]=Dt[zt+256+X]=Dt[zt+384+X]=Dt[zt+0+X];for(X=0;16>X;++X,ft<<=2)Dt=we,zt=Ne+vs[X],ls[Fe.Ob[X]](Dt,zt),Rc(ft,Mt,16*+X,Dt,zt)}else if(Dt=Hs(te,me,Fe.Ob[0]),ao[Dt](we,Ne),ft!=0)for(X=0;16>X;++X,ft<<=2)Rc(ft,Mt,16*+X,we,Ne+vs[X]);for(X=Fe.Gc,Dt=Hs(te,me,Fe.Dd),wl[Dt](De,Be),wl[Dt](Qe,gt),ft=Mt,Dt=De,zt=Be,255&(Fe=0|X)&&(170&Fe?_t(ft,256,Dt,zt):Ut(ft,256,Dt,zt)),Fe=Qe,ft=gt,255&(X>>=8)&&(170&X?_t(Mt,320,Fe,ft):Ut(Mt,320,Fe,ft)),me<T.Ub-1&&(r(Ze[ct].y,0,we,Ne+480,16),r(Ze[ct].f,0,De,Be+224,8),r(Ze[ct].ea,0,Qe,gt+224,8)),X=8*ye*T.B,Ze=T.sa,ct=T.ta+16*te+16*ye*T.R,Mt=T.qa,Fe=T.ra+8*te+X,ft=T.Ha,Dt=T.Ia+8*te+X,X=0;16>X;++X)r(Ze,ct+X*T.R,we,Ne+32*X,16);for(X=0;8>X;++X)r(Mt,Fe+X*T.B,De,Be+32*X,8),r(ft,Dt+X*T.B,Qe,gt+32*X,8)}}function Bo(T,O,X,te,me,ye,we,Ne,De){var Be=[0],Qe=[0],gt=0,Fe=De!=null?De.kd:0,Ze=De??new Kt;if(T==null||12>X)return 7;Ze.data=T,Ze.w=O,Ze.ha=X,O=[O],X=[X],Ze.gb=[Ze.gb];e:{var ct=O,Mt=X,ft=Ze.gb;if(e(T!=null),e(Mt!=null),e(ft!=null),ft[0]=0,12<=Mt[0]&&!t(T,ct[0],"RIFF")){if(t(T,ct[0]+8,"WEBP")){ft=3;break e}var Dt=Rt(T,ct[0]+4);if(12>Dt||4294967286<Dt){ft=3;break e}if(Fe&&Dt>Mt[0]-8){ft=7;break e}ft[0]=Dt,ct[0]+=12,Mt[0]-=12}ft=0}if(ft!=0)return ft;for(Dt=0<Ze.gb[0],X=X[0];;){e:{var zt=T;Mt=O,ft=X;var an=Be,Qt=Qe,kn=ct=[0];if((Mn=gt=[gt])[0]=0,8>ft[0])ft=7;else{if(!t(zt,Mt[0],"VP8X")){if(Rt(zt,Mt[0]+4)!=10){ft=3;break e}if(18>ft[0]){ft=7;break e}var Cn=Rt(zt,Mt[0]+8),dr=1+St(zt,Mt[0]+12);if(2147483648<=dr*(zt=1+St(zt,Mt[0]+15))){ft=3;break e}kn!=null&&(kn[0]=Cn),an!=null&&(an[0]=dr),Qt!=null&&(Qt[0]=zt),Mt[0]+=18,ft[0]-=18,Mn[0]=1}ft=0}}if(gt=gt[0],ct=ct[0],ft!=0)return ft;if(Mt=!!(2&ct),!Dt&&gt)return 3;if(ye!=null&&(ye[0]=!!(16&ct)),we!=null&&(we[0]=Mt),Ne!=null&&(Ne[0]=0),we=Be[0],ct=Qe[0],gt&&Mt&&De==null){ft=0;break}if(4>X){ft=7;break}if(Dt&&gt||!Dt&&!gt&&!t(T,O[0],"ALPH")){X=[X],Ze.na=[Ze.na],Ze.P=[Ze.P],Ze.Sa=[Ze.Sa];e:{Cn=T,ft=O,Dt=X;var Mn=Ze.gb;an=Ze.na,Qt=Ze.P,kn=Ze.Sa,dr=22,e(Cn!=null),e(Dt!=null),zt=ft[0];var Mr=Dt[0];for(e(an!=null),e(kn!=null),an[0]=null,Qt[0]=null,kn[0]=0;;){if(ft[0]=zt,Dt[0]=Mr,8>Mr){ft=7;break e}var Ui=Rt(Cn,zt+4);if(4294967286<Ui){ft=3;break e}var yr=8+Ui+1&-2;if(dr+=yr,0<Mn&&dr>Mn){ft=3;break e}if(!t(Cn,zt,"VP8 ")||!t(Cn,zt,"VP8L")){ft=0;break e}if(Mr[0]<yr){ft=7;break e}t(Cn,zt,"ALPH")||(an[0]=Cn,Qt[0]=zt+8,kn[0]=Ui),zt+=yr,Mr-=yr}}if(X=X[0],Ze.na=Ze.na[0],Ze.P=Ze.P[0],Ze.Sa=Ze.Sa[0],ft!=0)break}X=[X],Ze.Ja=[Ze.Ja],Ze.xa=[Ze.xa];e:if(Mn=T,ft=O,Dt=X,an=Ze.gb[0],Qt=Ze.Ja,kn=Ze.xa,Cn=ft[0],zt=!t(Mn,Cn,"VP8 "),dr=!t(Mn,Cn,"VP8L"),e(Mn!=null),e(Dt!=null),e(Qt!=null),e(kn!=null),8>Dt[0])ft=7;else{if(zt||dr){if(Mn=Rt(Mn,Cn+4),12<=an&&Mn>an-12){ft=3;break e}if(Fe&&Mn>Dt[0]-8){ft=7;break e}Qt[0]=Mn,ft[0]+=8,Dt[0]-=8,kn[0]=dr}else kn[0]=5<=Dt[0]&&Mn[Cn+0]==47&&!(Mn[Cn+4]>>5),Qt[0]=Dt[0];ft=0}if(X=X[0],Ze.Ja=Ze.Ja[0],Ze.xa=Ze.xa[0],O=O[0],ft!=0)break;if(4294967286<Ze.Ja)return 3;if(Ne==null||Mt||(Ne[0]=Ze.xa?2:1),we=[we],ct=[ct],Ze.xa){if(5>X){ft=7;break}Ne=we,Fe=ct,Mt=ye,T==null||5>X?T=0:5<=X&&T[O+0]==47&&!(T[O+4]>>5)?(Dt=[0],Mn=[0],an=[0],He(Qt=new J,T,O,X),Qi(Qt,Dt,Mn,an)?(Ne!=null&&(Ne[0]=Dt[0]),Fe!=null&&(Fe[0]=Mn[0]),Mt!=null&&(Mt[0]=an[0]),T=1):T=0):T=0}else{if(10>X){ft=7;break}Ne=ct,T==null||10>X||!As(T,O+3,X-3)?T=0:(Fe=T[O+0]|T[O+1]<<8|T[O+2]<<16,Mt=16383&(T[O+7]<<8|T[O+6]),T=16383&(T[O+9]<<8|T[O+8]),1&Fe||3<(Fe>>1&7)||!(Fe>>4&1)||Fe>>5>=Ze.Ja||!Mt||!T?T=0:(we&&(we[0]=Mt),Ne&&(Ne[0]=T),T=1))}if(!T||(we=we[0],ct=ct[0],gt&&(Be[0]!=we||Qe[0]!=ct)))return 3;De!=null&&(De[0]=Ze,De.offset=O-De.w,e(4294967286>O-De.w),e(De.offset==De.ha-X));break}return ft==0||ft==7&&gt&&De==null?(ye!=null&&(ye[0]|=Ze.na!=null&&0<Ze.na.length),te!=null&&(te[0]=we),me!=null&&(me[0]=ct),0):ft}function Uo(T,O,X){var te=O.width,me=O.height,ye=0,we=0,Ne=te,De=me;if(O.Da=T!=null&&0<T.Da,O.Da&&(Ne=T.cd,De=T.bd,ye=T.v,we=T.j,11>X||(ye&=-2,we&=-2),0>ye||0>we||0>=Ne||0>=De||ye+Ne>te||we+De>me))return 0;if(O.v=ye,O.j=we,O.va=ye+Ne,O.o=we+De,O.U=Ne,O.T=De,O.da=T!=null&&0<T.da,O.da){if(!At(Ne,De,X=[T.ib],ye=[T.hb]))return 0;O.ib=X[0],O.hb=ye[0]}return O.ob=T!=null&&T.ob,O.Kb=T==null||!T.Sd,O.da&&(O.ob=O.ib<3*te/4&&O.hb<3*me/4,O.Kb=0),1}function pu(T){if(T==null)return 2;if(11>T.S){var O=T.f.RGBA;O.fb+=(T.height-1)*O.A,O.A=-O.A}else O=T.f.kb,T=T.height,O.O+=(T-1)*O.fa,O.fa=-O.fa,O.N+=(T-1>>1)*O.Ab,O.Ab=-O.Ab,O.W+=(T-1>>1)*O.Db,O.Db=-O.Db,O.F!=null&&(O.J+=(T-1)*O.lb,O.lb=-O.lb);return 0}function wo(T,O,X,te){if(te==null||0>=T||0>=O)return 2;if(X!=null){if(X.Da){var me=X.cd,ye=X.bd,we=-2&X.v,Ne=-2&X.j;if(0>we||0>Ne||0>=me||0>=ye||we+me>T||Ne+ye>O)return 2;T=me,O=ye}if(X.da){if(!At(T,O,me=[X.ib],ye=[X.hb]))return 2;T=me[0],O=ye[0]}}te.width=T,te.height=O;e:{var De=te.width,Be=te.height;if(T=te.S,0>=De||0>=Be||!(T>=dd&&13>T))T=2;else{if(0>=te.Rd&&te.sd==null){we=ye=me=O=0;var Qe=(Ne=De*bd[T])*Be;if(11>T||(ye=(Be+1)/2*(O=(De+1)/2),T==12&&(we=(me=De)*Be)),(Be=s(Qe+2*ye+we))==null){T=1;break e}te.sd=Be,11>T?((De=te.f.RGBA).eb=Be,De.fb=0,De.A=Ne,De.size=Qe):((De=te.f.kb).y=Be,De.O=0,De.fa=Ne,De.Fd=Qe,De.f=Be,De.N=0+Qe,De.Ab=O,De.Cd=ye,De.ea=Be,De.W=0+Qe+ye,De.Db=O,De.Ed=ye,T==12&&(De.F=Be,De.J=0+Qe+2*ye),De.Tc=we,De.lb=me)}if(O=1,me=te.S,ye=te.width,we=te.height,me>=dd&&13>me)if(11>me)T=te.f.RGBA,O&=(Ne=Math.abs(T.A))*(we-1)+ye<=T.size,O&=Ne>=ye*bd[me],O&=T.eb!=null;else{T=te.f.kb,Ne=(ye+1)/2,Qe=(we+1)/2,De=Math.abs(T.fa),Be=Math.abs(T.Ab);var gt=Math.abs(T.Db),Fe=Math.abs(T.lb),Ze=Fe*(we-1)+ye;O&=De*(we-1)+ye<=T.Fd,O&=Be*(Qe-1)+Ne<=T.Cd,O=(O&=gt*(Qe-1)+Ne<=T.Ed)&De>=ye&Be>=Ne&gt>=Ne,O&=T.y!=null,O&=T.f!=null,O&=T.ea!=null,me==12&&(O&=Fe>=ye,O&=Ze<=T.Tc,O&=T.F!=null)}else O=0;T=O?0:2}}return T!=0||X!=null&&X.fd&&(T=pu(te)),T}var qs=64,ja=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Gs=24,Fa=32,pr=8,bo=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Xe("Predictor0","PredictorAdd0"),L.Predictor0=function(){return 4278190080},L.Predictor1=function(T){return T},L.Predictor2=function(T,O,X){return O[X+0]},L.Predictor3=function(T,O,X){return O[X+1]},L.Predictor4=function(T,O,X){return O[X-1]},L.Predictor5=function(T,O,X){return fn(fn(T,O[X+1]),O[X+0])},L.Predictor6=function(T,O,X){return fn(T,O[X-1])},L.Predictor7=function(T,O,X){return fn(T,O[X+0])},L.Predictor8=function(T,O,X){return fn(O[X-1],O[X+0])},L.Predictor9=function(T,O,X){return fn(O[X+0],O[X+1])},L.Predictor10=function(T,O,X){return fn(fn(T,O[X-1]),fn(O[X+0],O[X+1]))},L.Predictor11=function(T,O,X){var te=O[X+0];return 0>=cn(te>>24&255,T>>24&255,(O=O[X-1])>>24&255)+cn(te>>16&255,T>>16&255,O>>16&255)+cn(te>>8&255,T>>8&255,O>>8&255)+cn(255&te,255&T,255&O)?te:T},L.Predictor12=function(T,O,X){var te=O[X+0];return(tn((T>>24&255)+(te>>24&255)-((O=O[X-1])>>24&255))<<24|tn((T>>16&255)+(te>>16&255)-(O>>16&255))<<16|tn((T>>8&255)+(te>>8&255)-(O>>8&255))<<8|tn((255&T)+(255&te)-(255&O)))>>>0},L.Predictor13=function(T,O,X){var te=O[X-1];return(yn((T=fn(T,O[X+0]))>>24&255,te>>24&255)<<24|yn(T>>16&255,te>>16&255)<<16|yn(T>>8&255,te>>8&255)<<8|yn(255&T,255&te))>>>0};var he=L.PredictorAdd0;L.PredictorAdd1=wn,Xe("Predictor2","PredictorAdd2"),Xe("Predictor3","PredictorAdd3"),Xe("Predictor4","PredictorAdd4"),Xe("Predictor5","PredictorAdd5"),Xe("Predictor6","PredictorAdd6"),Xe("Predictor7","PredictorAdd7"),Xe("Predictor8","PredictorAdd8"),Xe("Predictor9","PredictorAdd9"),Xe("Predictor10","PredictorAdd10"),Xe("Predictor11","PredictorAdd11"),Xe("Predictor12","PredictorAdd12"),Xe("Predictor13","PredictorAdd13");var l=L.PredictorAdd2;un("ColorIndexInverseTransform","MapARGB","32b",function(T){return T>>8&255},function(T){return T}),un("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(T){return T},function(T){return T>>8&255});var h,g=L.ColorIndexInverseTransform,v=L.MapARGB,_=L.VP8LColorIndexInverseTransformAlpha,b=L.MapAlpha,N=L.VP8LPredictorsAdd=[];N.length=16,(L.VP8LPredictors=[]).length=16,(L.VP8LPredictorsAdd_C=[]).length=16,(L.VP8LPredictors_C=[]).length=16;var D,z,ee,fe,_e,Pe,qe,Ke,rt,_t,Bt,Ut,Pt,zn,Jn,Mi,Ws,Ns,ri,Cs,Ba,ic,zl,cf,sc,Zo,uf,Vo,xu=s(511),hd=s(2041),hf=s(225),ff=s(767),fd=0,ac=hd,df=hf,Ua=ff,wa=xu,dd=0,Va=1,md=2,Jo=3,mf=4,rh=5,Oc=6,gf=7,gd=8,ih=9,pd=10,el=[2,3,7],sh=[3,3,11],vu=[280,256,256,256,40],xd=[0,1,1,1,0],pf=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],tl=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],nl=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Dc=8,rl=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],il=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],zo=null,Qm=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],X0=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],vd=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],$m=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],ba=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Bi=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],kr=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ao=[],ls=[],wl=[],Mc=1,K0=2,oc=[],Ea=[];nn("UpsampleRgbLinePair",zs,3),nn("UpsampleBgrLinePair",Ur,3),nn("UpsampleRgbaLinePair",Gi,4),nn("UpsampleBgraLinePair",$o,4),nn("UpsampleArgbLinePair",Pa,4),nn("UpsampleRgba4444LinePair",so,2),nn("UpsampleRgb565LinePair",xs,2);var _u=L.UpsampleRgbLinePair,Q0=L.UpsampleBgrLinePair,ah=L.UpsampleRgbaLinePair,_d=L.UpsampleBgraLinePair,Lc=L.UpsampleArgbLinePair,Hl=L.UpsampleRgba4444LinePair,kc=L.UpsampleRgb565LinePair,sl=16,oh=1<<sl-1,yu=-227,Pc=482,yd=6,jc=0,Aa=s(256),wd=s(256),Zm=s(256),bx=s(256),Ex=s(Pc-yu),Ax=s(Pc-yu);yo("YuvToRgbRow",zs,3),yo("YuvToBgrRow",Ur,3),yo("YuvToRgbaRow",Gi,4),yo("YuvToBgraRow",$o,4),yo("YuvToArgbRow",Pa,4),yo("YuvToRgba4444Row",so,2),yo("YuvToRgb565Row",xs,2);var vs=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],lh=[0,2,8],xf=[8,7,6,4,4,2,2,2,1,1,1,1],vf=1;this.WebPDecodeRGBA=function(T,O,X,te,me){var ye=Va,we=new kt,Ne=new hn;we.ba=Ne,Ne.S=ye,Ne.width=[Ne.width],Ne.height=[Ne.height];var De=Ne.width,Be=Ne.height,Qe=new dn;if(Qe==null||T==null)var gt=2;else e(Qe!=null),gt=Bo(T,O,X,Qe.width,Qe.height,Qe.Pd,Qe.Qd,Qe.format,null);if(gt!=0?De=0:(De!=null&&(De[0]=Qe.width[0]),Be!=null&&(Be[0]=Qe.height[0]),De=1),De){Ne.width=Ne.width[0],Ne.height=Ne.height[0],te!=null&&(te[0]=Ne.width),me!=null&&(me[0]=Ne.height);e:{if(te=new os,(me=new Kt).data=T,me.w=O,me.ha=X,me.kd=1,O=[0],e(me!=null),((T=Bo(me.data,me.w,me.ha,null,null,null,O,null,me))==0||T==7)&&O[0]&&(T=4),(O=T)==0){if(e(we!=null),te.data=me.data,te.w=me.w+me.offset,te.ha=me.ha-me.offset,te.put=On,te.ac=Kr,te.bc=Ci,te.ma=we,me.xa){if((T=et())==null){we=1;break e}if((function(Fe,Ze){var ct=[0],Mt=[0],ft=[0];t:for(;;){if(Fe==null)return 0;if(Ze==null)return Fe.a=2,0;if(Fe.l=Ze,Fe.a=0,He(Fe.m,Ze.data,Ze.w,Ze.ha),!Qi(Fe.m,ct,Mt,ft)){Fe.a=3;break t}if(Fe.xb=K0,Ze.width=ct[0],Ze.height=Mt[0],!lt(ct[0],Mt[0],1,Fe,null))break t;return 1}return e(Fe.a!=0),0})(T,te)){if(te=(O=wo(te.width,te.height,we.Oa,we.ba))==0){t:{te=T;n:for(;;){if(te==null){te=0;break t}if(e(te.s.yc!=null),e(te.s.Ya!=null),e(0<te.s.Wb),e((X=te.l)!=null),e((me=X.ma)!=null),te.xb!=0){if(te.ca=me.ba,te.tb=me.tb,e(te.ca!=null),!Uo(me.Oa,X,Jo)){te.a=2;break n}if(!ht(te,X.width)||X.da)break n;if((X.da||mt(te.ca.S))&&vt(),11>te.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),te.ca.f.kb.F!=null&&vt()),te.Pb&&0<te.s.ua&&te.s.vb.X==null&&!le(te.s.vb,te.s.Wa.Xa)){te.a=1;break n}te.xb=0}if(!it(te,te.V,te.Ba,te.c,te.i,X.o,Te))break n;me.Dc=te.Ma,te=1;break t}e(te.a!=0),te=0}te=!te}te&&(O=T.a)}else O=T.a}else{if((T=new Ri)==null){we=1;break e}if(T.Fa=me.na,T.P=me.P,T.qc=me.Sa,Ma(T,te)){if((O=wo(te.width,te.height,we.Oa,we.ba))==0){if(T.Aa=0,X=we.Oa,e((me=T)!=null),X!=null){if(0<(De=0>(De=X.Md)?0:100<De?255:255*De/100)){for(Be=Qe=0;4>Be;++Be)12>(gt=me.pb[Be]).lc&&(gt.ia=De*xf[0>gt.lc?0:gt.lc]>>3),Qe|=gt.ia;Qe&&(alert("todo:VP8InitRandom"),me.ia=1)}me.Ga=X.Id,100<me.Ga?me.Ga=100:0>me.Ga&&(me.Ga=0)}(function(Fe,Ze){if(Fe==null)return 0;if(Ze==null)return Hn(Fe,2,"NULL VP8Io parameter in VP8Decode().");if(!Fe.cb&&!Ma(Fe,Ze))return 0;if(e(Fe.cb),Ze.ac==null||Ze.ac(Ze)){Ze.ob&&(Fe.L=0);var ct=lh[Fe.L];if(Fe.L==2?(Fe.yb=0,Fe.zb=0):(Fe.yb=Ze.v-ct>>4,Fe.zb=Ze.j-ct>>4,0>Fe.yb&&(Fe.yb=0),0>Fe.zb&&(Fe.zb=0)),Fe.Va=Ze.o+15+ct>>4,Fe.Hb=Ze.va+15+ct>>4,Fe.Hb>Fe.za&&(Fe.Hb=Fe.za),Fe.Va>Fe.Ub&&(Fe.Va=Fe.Ub),0<Fe.L){var Mt=Fe.ed;for(ct=0;4>ct;++ct){var ft;if(Fe.Qa.Cb){var Dt=Fe.Qa.Lb[ct];Fe.Qa.Fb||(Dt+=Mt.Tb)}else Dt=Mt.Tb;for(ft=0;1>=ft;++ft){var zt=Fe.gd[ct][ft],an=Dt;if(Mt.Pc&&(an+=Mt.vd[0],ft&&(an+=Mt.od[0])),0<(an=0>an?0:63<an?63:an)){var Qt=an;0<Mt.wb&&(Qt=4<Mt.wb?Qt>>2:Qt>>1)>9-Mt.wb&&(Qt=9-Mt.wb),1>Qt&&(Qt=1),zt.dd=Qt,zt.tc=2*an+Qt,zt.ld=40<=an?2:15<=an?1:0}else zt.tc=0;zt.La=ft}}}ct=0}else Hn(Fe,6,"Frame setup failed"),ct=Fe.a;if(ct=ct==0){if(ct){Fe.$c=0,0<Fe.Aa||(Fe.Ic=vf);t:{ct=Fe.Ic,Mt=4*(Qt=Fe.za);var kn=32*Qt,Cn=Qt+1,dr=0<Fe.L?Qt*(0<Fe.Aa?2:1):0,Mn=(Fe.Aa==2?2:1)*Qt;if((zt=Mt+832+(ft=3*(16*ct+lh[Fe.L])/2*kn)+(Dt=Fe.Fa!=null&&0<Fe.Fa.length?Fe.Kc.c*Fe.Kc.i:0))!=zt)ct=0;else{if(zt>Fe.Vb){if(Fe.Vb=0,Fe.Ec=s(zt),Fe.Fc=0,Fe.Ec==null){ct=Hn(Fe,1,"no memory during frame initialization.");break t}Fe.Vb=zt}zt=Fe.Ec,an=Fe.Fc,Fe.Ac=zt,Fe.Bc=an,an+=Mt,Fe.Gd=o(kn,or),Fe.Hd=0,Fe.rb=o(Cn+1,Kn),Fe.sb=1,Fe.wa=dr?o(dr,vr):null,Fe.Y=0,Fe.D.Nb=0,Fe.D.wa=Fe.wa,Fe.D.Y=Fe.Y,0<Fe.Aa&&(Fe.D.Y+=Qt),e(!0),Fe.oc=zt,Fe.pc=an,an+=832,Fe.ya=o(Mn,xa),Fe.aa=0,Fe.D.ya=Fe.ya,Fe.D.aa=Fe.aa,Fe.Aa==2&&(Fe.D.aa+=Qt),Fe.R=16*Qt,Fe.B=8*Qt,Qt=(kn=lh[Fe.L])*Fe.R,kn=kn/2*Fe.B,Fe.sa=zt,Fe.ta=an+Qt,Fe.qa=Fe.sa,Fe.ra=Fe.ta+16*ct*Fe.R+kn,Fe.Ha=Fe.qa,Fe.Ia=Fe.ra+8*ct*Fe.B+kn,Fe.$c=0,an+=ft,Fe.mb=Dt?zt:null,Fe.nb=Dt?an:null,e(an+Dt<=Fe.Fc+Fe.Vb),Vs(Fe),i(Fe.Ac,Fe.Bc,0,Mt),ct=1}}if(ct){if(Ze.ka=0,Ze.y=Fe.sa,Ze.O=Fe.ta,Ze.f=Fe.qa,Ze.N=Fe.ra,Ze.ea=Fe.Ha,Ze.Vd=Fe.Ia,Ze.fa=Fe.R,Ze.Rc=Fe.B,Ze.F=null,Ze.J=0,!fd){for(ct=-255;255>=ct;++ct)xu[255+ct]=0>ct?-ct:ct;for(ct=-1020;1020>=ct;++ct)hd[1020+ct]=-128>ct?-128:127<ct?127:ct;for(ct=-112;112>=ct;++ct)hf[112+ct]=-16>ct?-16:15<ct?15:ct;for(ct=-255;510>=ct;++ct)ff[255+ct]=0>ct?0:255<ct?255:ct;fd=1}qe=ms,Ke=Le,_t=En,Bt=Di,Ut=qi,rt=ut,Pt=ka,zn=io,Jn=ue,Mi=je,Ws=wt,Ns=V,ri=Ye,Cs=tt,Ba=_o,ic=La,zl=yl,cf=Or,ls[0]=Qo,ls[1]=Ss,ls[2]=na,ls[3]=Vn,ls[4]=Bn,ls[5]=_l,ls[6]=Nr,ls[7]=Fr,ls[8]=va,ls[9]=ra,ao[0]=ea,ao[1]=Zr,ao[2]=vl,ao[3]=Po,ao[4]=eo,ao[5]=ta,ao[6]=ui,wl[0]=_a,wl[1]=jn,wl[2]=to,wl[3]=jo,wl[4]=xi,wl[5]=ia,wl[6]=sa,ct=1}else ct=0}ct&&(ct=(function(Mr,Ui){for(Mr.M=0;Mr.M<Mr.Va;++Mr.M){var yr,In=Mr.Jc[Mr.M&Mr.Xb],vn=Mr.m,Zi=Mr;for(yr=0;yr<Zi.za;++yr){var ir=vn,Sr=Zi,fi=Sr.Ac,Ys=Sr.Bc+4*yr,Sa=Sr.zc,Li=Sr.ya[Sr.aa+yr];if(Sr.Qa.Bb?Li.$b=Ie(ir,Sr.Pa.jb[0])?2+Ie(ir,Sr.Pa.jb[2]):Ie(ir,Sr.Pa.jb[1]):Li.$b=0,Sr.kc&&(Li.Ad=Ie(ir,Sr.Bd)),Li.Za=!Ie(ir,145)+0,Li.Za){var Is=Li.Ob,za=0;for(Sr=0;4>Sr;++Sr){var Rs,Cr=Sa[0+Sr];for(Rs=0;4>Rs;++Rs){Cr=ba[fi[Ys+Rs]][Cr];for(var Jr=vd[Ie(ir,Cr[0])];0<Jr;)Jr=vd[2*Jr+Ie(ir,Cr[Jr])];Cr=-Jr,fi[Ys+Rs]=Cr}r(Is,za,fi,Ys,4),za+=4,Sa[0+Sr]=Cr}}else Cr=Ie(ir,156)?Ie(ir,128)?1:3:Ie(ir,163)?2:0,Li.Ob[0]=Cr,i(fi,Ys,Cr,4),i(Sa,0,Cr,4);Li.Dd=Ie(ir,142)?Ie(ir,114)?Ie(ir,183)?1:3:2:0}if(Zi.m.Ka)return Hn(Mr,7,"Premature end-of-partition0 encountered.");for(;Mr.ja<Mr.za;++Mr.ja){if(Zi=In,ir=(vn=Mr).rb[vn.sb-1],fi=vn.rb[vn.sb+vn.ja],yr=vn.ya[vn.aa+vn.ja],Ys=vn.kc?yr.Ad:0)ir.la=fi.la=0,yr.Za||(ir.Na=fi.Na=0),yr.Hc=0,yr.Gc=0,yr.ia=0;else{var Ji,ii;if(ir=fi,fi=Zi,Ys=vn.Pa.Xc,Sa=vn.ya[vn.aa+vn.ja],Li=vn.pb[Sa.$b],Sr=Sa.ad,Is=0,za=vn.rb[vn.sb-1],Cr=Rs=0,i(Sr,Is,0,384),Sa.Za)var Xs=0,es=Ys[3];else{Jr=s(16);var ei=ir.Na+za.Na;if(ei=zo(fi,Ys[1],ei,Li.Eb,0,Jr,0),ir.Na=za.Na=(0<ei)+0,1<ei)qe(Jr,0,Sr,Is);else{var _s=Jr[0]+3>>3;for(Jr=0;256>Jr;Jr+=16)Sr[Is+Jr]=_s}Xs=1,es=Ys[0]}var di=15&ir.la,Os=15&za.la;for(Jr=0;4>Jr;++Jr){var Ds=1&Os;for(_s=ii=0;4>_s;++_s)di=di>>1|(Ds=(ei=zo(fi,es,ei=Ds+(1&di),Li.Sc,Xs,Sr,Is))>Xs)<<7,ii=ii<<2|(3<ei?3:1<ei?2:Sr[Is+0]!=0),Is+=16;di>>=4,Os=Os>>1|Ds<<7,Rs=(Rs<<8|ii)>>>0}for(es=di,Xs=Os>>4,Ji=0;4>Ji;Ji+=2){for(ii=0,di=ir.la>>4+Ji,Os=za.la>>4+Ji,Jr=0;2>Jr;++Jr){for(Ds=1&Os,_s=0;2>_s;++_s)ei=Ds+(1&di),di=di>>1|(Ds=0<(ei=zo(fi,Ys[2],ei,Li.Qc,0,Sr,Is)))<<3,ii=ii<<2|(3<ei?3:1<ei?2:Sr[Is+0]!=0),Is+=16;di>>=2,Os=Os>>1|Ds<<5}Cr|=ii<<4*Ji,es|=di<<4<<Ji,Xs|=(240&Os)<<Ji}ir.la=es,za.la=Xs,Sa.Hc=Rs,Sa.Gc=Cr,Sa.ia=43690&Cr?0:Li.ia,Ys=!(Rs|Cr)}if(0<vn.L&&(vn.wa[vn.Y+vn.ja]=vn.gd[yr.$b][yr.Za],vn.wa[vn.Y+vn.ja].La|=!Ys),Zi.Ka)return Hn(Mr,7,"Premature end-of-file encountered.")}if(Vs(Mr),vn=Ui,Zi=1,yr=(In=Mr).D,ir=0<In.L&&In.M>=In.zb&&In.M<=In.Va,In.Aa==0)t:{if(yr.M=In.M,yr.uc=ir,Wi(In,yr),Zi=1,yr=(ii=In.D).Nb,ir=(Cr=lh[In.L])*In.R,fi=Cr/2*In.B,Jr=16*yr*In.R,_s=8*yr*In.B,Ys=In.sa,Sa=In.ta-ir+Jr,Li=In.qa,Sr=In.ra-fi+_s,Is=In.Ha,za=In.Ia-fi+_s,Os=(di=ii.M)==0,Rs=di>=In.Va-1,In.Aa==2&&Wi(In,ii),ii.uc)for(Ds=(ei=In).D.M,e(ei.D.uc),ii=ei.yb;ii<ei.Hb;++ii){Xs=ii,es=Ds;var vi=(Xr=(Ms=ei).D).Nb;Ji=Ms.R;var Xr=Xr.wa[Xr.Y+Xs],Ha=Ms.sa,cs=Ms.ta+16*vi*Ji+16*Xs,Qn=Xr.dd,er=Xr.tc;if(er!=0)if(e(3<=er),Ms.L==1)0<Xs&&ic(Ha,cs,Ji,er+4),Xr.La&&cf(Ha,cs,Ji,er),0<es&&Ba(Ha,cs,Ji,er+4),Xr.La&&zl(Ha,cs,Ji,er);else{var ti=Ms.B,Eo=Ms.qa,al=Ms.ra+8*vi*ti+8*Xs,oo=Ms.Ha,Ms=Ms.Ia+8*vi*ti+8*Xs;vi=Xr.ld,0<Xs&&(zn(Ha,cs,Ji,er+4,Qn,vi),Mi(Eo,al,oo,Ms,ti,er+4,Qn,vi)),Xr.La&&(Ns(Ha,cs,Ji,er,Qn,vi),Cs(Eo,al,oo,Ms,ti,er,Qn,vi)),0<es&&(Pt(Ha,cs,Ji,er+4,Qn,vi),Jn(Eo,al,oo,Ms,ti,er+4,Qn,vi)),Xr.La&&(Ws(Ha,cs,Ji,er,Qn,vi),ri(Eo,al,oo,Ms,ti,er,Qn,vi))}}if(In.ia&&alert("todo:DitherRow"),vn.put!=null){if(ii=16*di,di=16*(di+1),Os?(vn.y=In.sa,vn.O=In.ta+Jr,vn.f=In.qa,vn.N=In.ra+_s,vn.ea=In.Ha,vn.W=In.Ia+_s):(ii-=Cr,vn.y=Ys,vn.O=Sa,vn.f=Li,vn.N=Sr,vn.ea=Is,vn.W=za),Rs||(di-=Cr),di>vn.o&&(di=vn.o),vn.F=null,vn.J=null,In.Fa!=null&&0<In.Fa.length&&ii<di&&(vn.J=S(In,vn,ii,di-ii),vn.F=In.mb,vn.F==null&&vn.F.length==0)){Zi=Hn(In,3,"Could not decode alpha data.");break t}ii<vn.j&&(Cr=vn.j-ii,ii=vn.j,e(!(1&Cr)),vn.O+=In.R*Cr,vn.N+=In.B*(Cr>>1),vn.W+=In.B*(Cr>>1),vn.F!=null&&(vn.J+=vn.width*Cr)),ii<di&&(vn.O+=vn.v,vn.N+=vn.v>>1,vn.W+=vn.v>>1,vn.F!=null&&(vn.J+=vn.v),vn.ka=ii-vn.j,vn.U=vn.va-vn.v,vn.T=di-ii,Zi=vn.put(vn))}yr+1!=In.Ic||Rs||(r(In.sa,In.ta-ir,Ys,Sa+16*In.R,ir),r(In.qa,In.ra-fi,Li,Sr+8*In.B,fi),r(In.Ha,In.Ia-fi,Is,za+8*In.B,fi))}if(!Zi)return Hn(Mr,6,"Output aborted.")}return 1})(Fe,Ze)),Ze.bc!=null&&Ze.bc(Ze),ct&=1}return ct?(Fe.cb=0,ct):0})(T,te)||(O=T.a)}}else O=T.a}O==0&&we.Oa!=null&&we.Oa.fd&&(O=pu(we.ba))}we=O}ye=we!=0?null:11>ye?Ne.f.RGBA.eb:Ne.f.kb.y}else ye=null;return ye};var bd=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(L,Q){for(var U="",q=0;q<4;q++)U+=String.fromCharCode(L[Q++]);return U}function x(L,Q){return L[Q+0]|L[Q+1]<<8}function w(L,Q){return(L[Q+0]|L[Q+1]<<8|L[Q+2]<<16)>>>0}function A(L,Q){return(L[Q+0]|L[Q+1]<<8|L[Q+2]<<16|L[Q+3]<<24)>>>0}new f;var E=[0],I=[0],C=[],M=new f,j=n,W=(function(L,Q){var U={},q=0,Y=!1,ne=0,pe=0;if(U.frames=[],!(function(H,J){for(var Z=0;Z<4;Z++)if(H[J+Z]!="RIFF".charCodeAt(Z))return!0;return!1})(L,Q)){for(A(L,Q+=4),Q+=8;Q<L.length;){var Ae=d(L,Q),ve=A(L,Q+=4);Q+=4;var Re=ve+(1&ve);switch(Ae){case"VP8 ":case"VP8L":U.frames[q]===void 0&&(U.frames[q]={}),(xe=U.frames[q]).src_off=Y?pe:Q-8,xe.src_size=ne+ve+8,q++,Y&&(Y=!1,ne=0,pe=0);break;case"VP8X":(xe=U.header={}).feature_flags=L[Q];var He=Q+4;xe.canvas_width=1+w(L,He),He+=3,xe.canvas_height=1+w(L,He),He+=3;break;case"ALPH":Y=!0,ne=Re+8,pe=Q-8;break;case"ANIM":(xe=U.header).bgcolor=A(L,Q),He=Q+4,xe.loop_count=x(L,He),He+=2;break;case"ANMF":var ze,xe;(xe=U.frames[q]={}).offset_x=2*w(L,Q),Q+=3,xe.offset_y=2*w(L,Q),Q+=3,xe.width=1+w(L,Q),Q+=3,xe.height=1+w(L,Q),Q+=3,xe.duration=w(L,Q),Q+=3,ze=L[Q++],xe.dispose=1&ze,xe.blend=ze>>1&1}Ae!="ANMF"&&(Q+=Re)}return U}})(j,0);W.response=j,W.rgbaoutput=!0,W.dataurl=!1;var k=W.header?W.header:null,G=W.frames?W.frames:null;if(k){k.loop_counter=k.loop_count,E=[k.canvas_height],I=[k.canvas_width];for(var ce=0;ce<G.length&&G[ce].blend!=0;ce++);}var re=G[0],F=M.WebPDecodeRGBA(j,re.src_off,re.src_size,I,E);re.rgba=F,re.imgwidth=I[0],re.imgheight=E[0];for(var B=0;B<I[0]*E[0]*4;B++)C[B]=F[B];return this.width=I,this.height=E,this.data=C,this}(function(n){var e,t,r,i,s,o,u,f,d,x=function(H){return H=H||{},this.isStrokeTransparent=H.isStrokeTransparent||!1,this.strokeOpacity=H.strokeOpacity||1,this.strokeStyle=H.strokeStyle||"#000000",this.fillStyle=H.fillStyle||"#000000",this.isFillTransparent=H.isFillTransparent||!1,this.fillOpacity=H.fillOpacity||1,this.font=H.font||"10px sans-serif",this.textBaseline=H.textBaseline||"alphabetic",this.textAlign=H.textAlign||"left",this.lineWidth=H.lineWidth||1,this.lineJoin=H.lineJoin||"miter",this.lineCap=H.lineCap||"butt",this.path=H.path||[],this.transform=H.transform!==void 0?H.transform.clone():new f,this.globalCompositeOperation=H.globalCompositeOperation||"normal",this.globalAlpha=H.globalAlpha||1,this.clip_path=H.clip_path||[],this.currentPoint=H.currentPoint||new o,this.miterLimit=H.miterLimit||10,this.lastPoint=H.lastPoint||new o,this.lineDashOffset=H.lineDashOffset||0,this.lineDash=H.lineDash||[],this.margin=H.margin||[0,0,0,0],this.prevPageLastElemOffset=H.prevPageLastElemOffset||0,this.ignoreClearRect=typeof H.ignoreClearRect!="boolean"||H.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new w(this),e=this.internal.f2,t=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,u=this.internal.Rectangle,f=this.internal.Matrix,d=new x}]);var w=function(H){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var J=H;Object.defineProperty(this,"pdf",{get:function(){return J}});var Z=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Z},set:function(le){Z=!!le}});var oe=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return oe},set:function(le){oe=!!le}});var de=0;Object.defineProperty(this,"posX",{get:function(){return de},set:function(le){isNaN(le)||(de=le)}});var Me=0;Object.defineProperty(this,"posY",{get:function(){return Me},set:function(le){isNaN(le)||(Me=le)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(le){var ot;typeof le=="number"?ot=[le,le,le,le]:((ot=new Array(4))[0]=le[0],ot[1]=le.length>=2?le[1]:ot[0],ot[2]=le.length>=3?le[2]:ot[0],ot[3]=le.length>=4?le[3]:ot[1]),d.margin=ot}});var Ue=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Ue},set:function(le){Ue=le}});var Ve=0;Object.defineProperty(this,"lastBreak",{get:function(){return Ve},set:function(le){Ve=le}});var Ie=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ie},set:function(le){Ie=le}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(le){le instanceof x&&(d=le)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(le){d.path=le}});var nt=[];Object.defineProperty(this,"ctxStack",{get:function(){return nt},set:function(le){nt=le}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(le){var ot;ot=A(le),this.ctx.fillStyle=ot.style,this.ctx.isFillTransparent=ot.a===0,this.ctx.fillOpacity=ot.a,this.pdf.setFillColor(ot.r,ot.g,ot.b,{a:ot.a}),this.pdf.setTextColor(ot.r,ot.g,ot.b,{a:ot.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(le){var ot=A(le);this.ctx.strokeStyle=ot.style,this.ctx.isStrokeTransparent=ot.a===0,this.ctx.strokeOpacity=ot.a,ot.a===0?this.pdf.setDrawColor(255,255,255):(ot.a,this.pdf.setDrawColor(ot.r,ot.g,ot.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(le){["butt","round","square"].indexOf(le)!==-1&&(this.ctx.lineCap=le,this.pdf.setLineCap(le))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(le){isNaN(le)||(this.ctx.lineWidth=le,this.pdf.setLineWidth(le))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(le){["bevel","round","miter"].indexOf(le)!==-1&&(this.ctx.lineJoin=le,this.pdf.setLineJoin(le))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(le){isNaN(le)||(this.ctx.miterLimit=le,this.pdf.setMiterLimit(le))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(le){this.ctx.textBaseline=le}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(le){["right","end","center","left","start"].indexOf(le)!==-1&&(this.ctx.textAlign=le)}});var Tt=null,St=null,Rt=null;Object.defineProperty(this,"fontFaces",{get:function(){return Rt},set:function(le){Tt=null,St=null,Rt=le}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(le){var ot;if(this.ctx.font=le,(ot=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(le))!==null){var Ge=ot[1];ot[2];var At=ot[3],Je=ot[4];ot[5];var Zt=ot[6],Xe=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Je)[2];Je=Math.floor(Xe==="px"?parseFloat(Je)*this.pdf.internal.scaleFactor:Xe==="em"?parseFloat(Je)*this.pdf.getFontSize():parseFloat(Je)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Je);var Ft=(function(un){var nr,rn,dt=[],Gt=un.trim();if(Gt==="")return K_;if(Gt in pT)return[pT[Gt]];for(;Gt!=="";){switch(rn=null,nr=(Gt=vT(Gt)).charAt(0)){case'"':case"'":rn=XW(Gt.substring(1),nr);break;default:rn=KW(Gt)}if(rn===null||(dt.push(rn[0]),(Gt=vT(rn[1]))!==""&&Gt.charAt(0)!==","))return K_;Gt=Gt.replace(/^,/,"")}return dt})(Zt);if(this.fontFaces){var fn=(function(un,nr){var rn=un.getFontList(),dt=JSON.stringify(rn);if(Tt===null||St!==dt){var Gt=(function(It){var ln=[];return Object.keys(It).forEach(function(Xn){It[Xn].forEach(function(mt){var Xt=null;switch(mt){case"bold":Xt={family:Xn,weight:"bold"};break;case"italic":Xt={family:Xn,style:"italic"};break;case"bolditalic":Xt={family:Xn,weight:"bold",style:"italic"};break;case"":case"normal":Xt={family:Xn}}Xt!==null&&(Xt.ref={name:Xn,style:mt},ln.push(Xt))})}),ln})(rn);Tt=(function(It){for(var ln={},Xn=0;Xn<It.length;++Xn){var mt=X_(It[Xn]),Xt=mt.family,on=mt.stretch,hn=mt.style,dn=mt.weight;ln[Xt]=ln[Xt]||{},ln[Xt][on]=ln[Xt][on]||{},ln[Xt][on][hn]=ln[Xt][on][hn]||{},ln[Xt][on][hn][dn]=mt}return ln})(Gt.concat(nr)),St=dt}return Tt})(this.pdf,this.fontFaces),tn=Ft.map(function(un){return{family:un,stretch:"normal",weight:At,style:Ge}}),yn=(function(un,nr,rn){for(var dt=(rn=rn||{}).defaultFontFamily||"times",Gt=Object.assign({},YW,rn.genericFontFamilies||{}),It=null,ln=null,Xn=0;Xn<nr.length;++Xn)if(Gt[(It=X_(nr[Xn])).family]&&(It.family=Gt[It.family]),un.hasOwnProperty(It.family)){ln=un[It.family];break}if(!(ln=ln||un[dt]))throw new Error("Could not find a font-family for the rule '"+xT(It)+"' and default family '"+dt+"'.");if(ln=(function(mt,Xt){if(Xt[mt])return Xt[mt];var on=ew[mt],hn=on<=ew.normal?-1:1,dn=gT(Xt,oR,on,hn);if(!dn)throw new Error("Could not find a matching font-stretch value for "+mt);return dn})(It.stretch,ln),ln=(function(mt,Xt){if(Xt[mt])return Xt[mt];for(var on=aR[mt],hn=0;hn<on.length;++hn)if(Xt[on[hn]])return Xt[on[hn]];throw new Error("Could not find a matching font-style for "+mt)})(It.style,ln),!(ln=(function(mt,Xt){if(Xt[mt])return Xt[mt];if(mt===400&&Xt[500])return Xt[500];if(mt===500&&Xt[400])return Xt[400];var on=WW[mt],hn=gT(Xt,lR,on,mt<400?-1:1);if(!hn)throw new Error("Could not find a matching font-weight for value "+mt);return hn})(It.weight,ln)))throw new Error("Failed to resolve a font for the rule '"+xT(It)+"'.");return ln})(fn,tn);this.pdf.setFont(yn.ref.name,yn.ref.style)}else{var cn="";(At==="bold"||parseInt(At,10)>=700||Ge==="bold")&&(cn="bold"),Ge==="italic"&&(cn+="italic"),cn.length===0&&(cn="normal");for(var wn="",gn={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},sn=0;sn<Ft.length;sn++){if(this.pdf.internal.getFont(Ft[sn],cn,{noFallback:!0,disableWarning:!0})!==void 0){wn=Ft[sn];break}if(cn==="bolditalic"&&this.pdf.internal.getFont(Ft[sn],"bold",{noFallback:!0,disableWarning:!0})!==void 0)wn=Ft[sn],cn="bold";else if(this.pdf.internal.getFont(Ft[sn],"normal",{noFallback:!0,disableWarning:!0})!==void 0){wn=Ft[sn],cn="normal";break}}if(wn===""){for(var bn=0;bn<Ft.length;bn++)if(gn[Ft[bn]]){wn=gn[Ft[bn]];break}}wn=wn===""?"Times":wn,this.pdf.setFont(wn,cn)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(le){this.ctx.globalCompositeOperation=le}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(le){this.ctx.globalAlpha=le}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(le){this.ctx.lineDashOffset=le,xe.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(le){this.ctx.lineDash=le,xe.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(le){this.ctx.ignoreClearRect=!!le}})};w.prototype.setLineDash=function(H){this.lineDash=H},w.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},w.prototype.fill=function(){G.call(this,"fill",!1)},w.prototype.stroke=function(){G.call(this,"stroke",!1)},w.prototype.beginPath=function(){this.path=[{type:"begin"}]},w.prototype.moveTo=function(H,J){if(isNaN(H)||isNaN(J))throw zi.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Z=this.ctx.transform.applyToPoint(new o(H,J));this.path.push({type:"mt",x:Z.x,y:Z.y}),this.ctx.lastPoint=new o(H,J)},w.prototype.closePath=function(){var H=new o(0,0),J=0;for(J=this.path.length-1;J!==-1;J--)if(this.path[J].type==="begin"&&Ai(this.path[J+1])==="object"&&typeof this.path[J+1].x=="number"){H=new o(this.path[J+1].x,this.path[J+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(H.x,H.y)},w.prototype.lineTo=function(H,J){if(isNaN(H)||isNaN(J))throw zi.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Z=this.ctx.transform.applyToPoint(new o(H,J));this.path.push({type:"lt",x:Z.x,y:Z.y}),this.ctx.lastPoint=new o(Z.x,Z.y)},w.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),G.call(this,null,!0)},w.prototype.quadraticCurveTo=function(H,J,Z,oe){if(isNaN(Z)||isNaN(oe)||isNaN(H)||isNaN(J))throw zi.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var de=this.ctx.transform.applyToPoint(new o(Z,oe)),Me=this.ctx.transform.applyToPoint(new o(H,J));this.path.push({type:"qct",x1:Me.x,y1:Me.y,x:de.x,y:de.y}),this.ctx.lastPoint=new o(de.x,de.y)},w.prototype.bezierCurveTo=function(H,J,Z,oe,de,Me){if(isNaN(de)||isNaN(Me)||isNaN(H)||isNaN(J)||isNaN(Z)||isNaN(oe))throw zi.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Ue=this.ctx.transform.applyToPoint(new o(de,Me)),Ve=this.ctx.transform.applyToPoint(new o(H,J)),Ie=this.ctx.transform.applyToPoint(new o(Z,oe));this.path.push({type:"bct",x1:Ve.x,y1:Ve.y,x2:Ie.x,y2:Ie.y,x:Ue.x,y:Ue.y}),this.ctx.lastPoint=new o(Ue.x,Ue.y)},w.prototype.arc=function(H,J,Z,oe,de,Me){if(isNaN(H)||isNaN(J)||isNaN(Z)||isNaN(oe)||isNaN(de))throw zi.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Me=!!Me,!this.ctx.transform.isIdentity){var Ue=this.ctx.transform.applyToPoint(new o(H,J));H=Ue.x,J=Ue.y;var Ve=this.ctx.transform.applyToPoint(new o(0,Z)),Ie=this.ctx.transform.applyToPoint(new o(0,0));Z=Math.sqrt(Math.pow(Ve.x-Ie.x,2)+Math.pow(Ve.y-Ie.y,2))}Math.abs(de-oe)>=2*Math.PI&&(oe=0,de=2*Math.PI),this.path.push({type:"arc",x:H,y:J,radius:Z,startAngle:oe,endAngle:de,counterclockwise:Me})},w.prototype.arcTo=function(H,J,Z,oe,de){throw new Error("arcTo not implemented.")},w.prototype.rect=function(H,J,Z,oe){if(isNaN(H)||isNaN(J)||isNaN(Z)||isNaN(oe))throw zi.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(H,J),this.lineTo(H+Z,J),this.lineTo(H+Z,J+oe),this.lineTo(H,J+oe),this.lineTo(H,J),this.lineTo(H+Z,J),this.lineTo(H,J)},w.prototype.fillRect=function(H,J,Z,oe){if(isNaN(H)||isNaN(J)||isNaN(Z)||isNaN(oe))throw zi.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!E.call(this)){var de={};this.lineCap!=="butt"&&(de.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(de.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(H,J,Z,oe),this.fill(),de.hasOwnProperty("lineCap")&&(this.lineCap=de.lineCap),de.hasOwnProperty("lineJoin")&&(this.lineJoin=de.lineJoin)}},w.prototype.strokeRect=function(H,J,Z,oe){if(isNaN(H)||isNaN(J)||isNaN(Z)||isNaN(oe))throw zi.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");I.call(this)||(this.beginPath(),this.rect(H,J,Z,oe),this.stroke())},w.prototype.clearRect=function(H,J,Z,oe){if(isNaN(H)||isNaN(J)||isNaN(Z)||isNaN(oe))throw zi.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(H,J,Z,oe))},w.prototype.save=function(H){H=typeof H!="boolean"||H;for(var J=this.pdf.internal.getCurrentPageInfo().pageNumber,Z=0;Z<this.pdf.internal.getNumberOfPages();Z++)this.pdf.setPage(Z+1),this.pdf.internal.out("q");if(this.pdf.setPage(J),H){this.ctx.fontSize=this.pdf.internal.getFontSize();var oe=new x(this.ctx);this.ctxStack.push(this.ctx),this.ctx=oe}},w.prototype.restore=function(H){H=typeof H!="boolean"||H;for(var J=this.pdf.internal.getCurrentPageInfo().pageNumber,Z=0;Z<this.pdf.internal.getNumberOfPages();Z++)this.pdf.setPage(Z+1),this.pdf.internal.out("Q");this.pdf.setPage(J),H&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},w.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var A=function(H){var J,Z,oe,de;if(H.isCanvasGradient===!0&&(H=H.getColor()),!H)return{r:0,g:0,b:0,a:0,style:H};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(H))J=0,Z=0,oe=0,de=0;else{var Me=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(H);if(Me!==null)J=parseInt(Me[1]),Z=parseInt(Me[2]),oe=parseInt(Me[3]),de=1;else if((Me=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(H))!==null)J=parseInt(Me[1]),Z=parseInt(Me[2]),oe=parseInt(Me[3]),de=parseFloat(Me[4]);else{if(de=1,typeof H=="string"&&H.charAt(0)!=="#"){var Ue=new JI(H);H=Ue.ok?Ue.toHex():"#000000"}H.length===4?(J=H.substring(1,2),J+=J,Z=H.substring(2,3),Z+=Z,oe=H.substring(3,4),oe+=oe):(J=H.substring(1,3),Z=H.substring(3,5),oe=H.substring(5,7)),J=parseInt(J,16),Z=parseInt(Z,16),oe=parseInt(oe,16)}}return{r:J,g:Z,b:oe,a:de,style:H}},E=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},I=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};w.prototype.fillText=function(H,J,Z,oe){if(isNaN(J)||isNaN(Z)||typeof H!="string")throw zi.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(oe=isNaN(oe)?void 0:oe,!E.call(this)){var de=Re(this.ctx.transform.rotation),Me=this.ctx.transform.scaleX;q.call(this,{text:H,x:J,y:Z,scale:Me,angle:de,align:this.textAlign,maxWidth:oe})}},w.prototype.strokeText=function(H,J,Z,oe){if(isNaN(J)||isNaN(Z)||typeof H!="string")throw zi.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!I.call(this)){oe=isNaN(oe)?void 0:oe;var de=Re(this.ctx.transform.rotation),Me=this.ctx.transform.scaleX;q.call(this,{text:H,x:J,y:Z,scale:Me,renderingMode:"stroke",angle:de,align:this.textAlign,maxWidth:oe})}},w.prototype.measureText=function(H){if(typeof H!="string")throw zi.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var J=this.pdf,Z=this.pdf.internal.scaleFactor,oe=J.internal.getFontSize(),de=J.getStringUnitWidth(H)*oe/J.internal.scaleFactor;return new function(Me){var Ue=(Me=Me||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Ue}}),this}({width:de*=Math.round(96*Z/72*1e4)/1e4})},w.prototype.scale=function(H,J){if(isNaN(H)||isNaN(J))throw zi.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Z=new f(H,0,0,J,0,0);this.ctx.transform=this.ctx.transform.multiply(Z)},w.prototype.rotate=function(H){if(isNaN(H))throw zi.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var J=new f(Math.cos(H),Math.sin(H),-Math.sin(H),Math.cos(H),0,0);this.ctx.transform=this.ctx.transform.multiply(J)},w.prototype.translate=function(H,J){if(isNaN(H)||isNaN(J))throw zi.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Z=new f(1,0,0,1,H,J);this.ctx.transform=this.ctx.transform.multiply(Z)},w.prototype.transform=function(H,J,Z,oe,de,Me){if(isNaN(H)||isNaN(J)||isNaN(Z)||isNaN(oe)||isNaN(de)||isNaN(Me))throw zi.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Ue=new f(H,J,Z,oe,de,Me);this.ctx.transform=this.ctx.transform.multiply(Ue)},w.prototype.setTransform=function(H,J,Z,oe,de,Me){H=isNaN(H)?1:H,J=isNaN(J)?0:J,Z=isNaN(Z)?0:Z,oe=isNaN(oe)?1:oe,de=isNaN(de)?0:de,Me=isNaN(Me)?0:Me,this.ctx.transform=new f(H,J,Z,oe,de,Me)};var C=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};w.prototype.drawImage=function(H,J,Z,oe,de,Me,Ue,Ve,Ie){var nt=this.pdf.getImageProperties(H),Tt=1,St=1,Rt=1,le=1;oe!==void 0&&Ve!==void 0&&(Rt=Ve/oe,le=Ie/de,Tt=nt.width/oe*Ve/oe,St=nt.height/de*Ie/de),Me===void 0&&(Me=J,Ue=Z,J=0,Z=0),oe!==void 0&&Ve===void 0&&(Ve=oe,Ie=de),oe===void 0&&Ve===void 0&&(Ve=nt.width,Ie=nt.height);var ot=this.ctx.transform.decompose(),Ge=Re(ot.rotate.shx),At=new f,Je=(At=(At=(At=At.multiply(ot.translate)).multiply(ot.skew)).multiply(ot.scale)).applyToRectangle(new u(Me-J*Rt,Ue-Z*le,oe*Tt,de*St));if(this.autoPaging){for(var Zt,Xe=M.call(this,Je),Ft=[],fn=0;fn<Xe.length;fn+=1)Ft.indexOf(Xe[fn])===-1&&Ft.push(Xe[fn]);k(Ft);for(var tn=Ft[0],yn=Ft[Ft.length-1],cn=tn;cn<yn+1;cn++){this.pdf.setPage(cn);var wn=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],gn=cn===1?this.posY+this.margin[0]:this.margin[0],sn=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],bn=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],un=cn===1?0:sn+(cn-2)*bn;if(this.ctx.clip_path.length!==0){var nr=this.path;Zt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=W(Zt,this.posX+this.margin[3],-un+gn+this.ctx.prevPageLastElemOffset),ce.call(this,"fill",!0),this.path=nr}var rn=JSON.parse(JSON.stringify(Je));rn=W([rn],this.posX+this.margin[3],-un+gn+this.ctx.prevPageLastElemOffset)[0];var dt=(cn>tn||cn<yn)&&C.call(this);dt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],wn,bn,null).clip().discardPath()),this.pdf.addImage(H,"JPEG",rn.x,rn.y,rn.w,rn.h,null,null,Ge),dt&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(H,"JPEG",Je.x,Je.y,Je.w,Je.h,null,null,Ge)};var M=function(H,J,Z){var oe=[];J=J||this.pdf.internal.pageSize.width,Z=Z||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var de=this.posY+this.ctx.prevPageLastElemOffset;switch(H.type){default:case"mt":case"lt":oe.push(Math.floor((H.y+de)/Z)+1);break;case"arc":oe.push(Math.floor((H.y+de-H.radius)/Z)+1),oe.push(Math.floor((H.y+de+H.radius)/Z)+1);break;case"qct":var Me=He(this.ctx.lastPoint.x,this.ctx.lastPoint.y,H.x1,H.y1,H.x,H.y);oe.push(Math.floor((Me.y+de)/Z)+1),oe.push(Math.floor((Me.y+Me.h+de)/Z)+1);break;case"bct":var Ue=ze(this.ctx.lastPoint.x,this.ctx.lastPoint.y,H.x1,H.y1,H.x2,H.y2,H.x,H.y);oe.push(Math.floor((Ue.y+de)/Z)+1),oe.push(Math.floor((Ue.y+Ue.h+de)/Z)+1);break;case"rect":oe.push(Math.floor((H.y+de)/Z)+1),oe.push(Math.floor((H.y+H.h+de)/Z)+1)}for(var Ve=0;Ve<oe.length;Ve+=1)for(;this.pdf.internal.getNumberOfPages()<oe[Ve];)j.call(this);return oe},j=function(){var H=this.fillStyle,J=this.strokeStyle,Z=this.font,oe=this.lineCap,de=this.lineWidth,Me=this.lineJoin;this.pdf.addPage(),this.fillStyle=H,this.strokeStyle=J,this.font=Z,this.lineCap=oe,this.lineWidth=de,this.lineJoin=Me},W=function(H,J,Z){for(var oe=0;oe<H.length;oe++)switch(H[oe].type){case"bct":H[oe].x2+=J,H[oe].y2+=Z;case"qct":H[oe].x1+=J,H[oe].y1+=Z;default:H[oe].x+=J,H[oe].y+=Z}return H},k=function(H){return H.sort(function(J,Z){return J-Z})},G=function(H,J){var Z=this.fillStyle,oe=this.strokeStyle,de=this.lineCap,Me=this.lineWidth,Ue=Math.abs(Me*this.ctx.transform.scaleX),Ve=this.lineJoin;if(this.autoPaging){for(var Ie,nt,Tt=JSON.parse(JSON.stringify(this.path)),St=JSON.parse(JSON.stringify(this.path)),Rt=[],le=0;le<St.length;le++)if(St[le].x!==void 0)for(var ot=M.call(this,St[le]),Ge=0;Ge<ot.length;Ge+=1)Rt.indexOf(ot[Ge])===-1&&Rt.push(ot[Ge]);for(var At=0;At<Rt.length;At++)for(;this.pdf.internal.getNumberOfPages()<Rt[At];)j.call(this);k(Rt);for(var Je=Rt[0],Zt=Rt[Rt.length-1],Xe=Je;Xe<Zt+1;Xe++){this.pdf.setPage(Xe),this.fillStyle=Z,this.strokeStyle=oe,this.lineCap=de,this.lineWidth=Ue,this.lineJoin=Ve;var Ft=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],fn=Xe===1?this.posY+this.margin[0]:this.margin[0],tn=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],yn=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],cn=Xe===1?0:tn+(Xe-2)*yn;if(this.ctx.clip_path.length!==0){var wn=this.path;Ie=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=W(Ie,this.posX+this.margin[3],-cn+fn+this.ctx.prevPageLastElemOffset),ce.call(this,H,!0),this.path=wn}if(nt=JSON.parse(JSON.stringify(Tt)),this.path=W(nt,this.posX+this.margin[3],-cn+fn+this.ctx.prevPageLastElemOffset),J===!1||Xe===0){var gn=(Xe>Je||Xe<Zt)&&C.call(this);gn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ft,yn,null).clip().discardPath()),ce.call(this,H,J),gn&&this.pdf.restoreGraphicsState()}this.lineWidth=Me}this.path=Tt}else this.lineWidth=Ue,ce.call(this,H,J),this.lineWidth=Me},ce=function(H,J){if((H!=="stroke"||J||!I.call(this))&&(H==="stroke"||J||!E.call(this))){for(var Z,oe,de=[],Me=this.path,Ue=0;Ue<Me.length;Ue++){var Ve=Me[Ue];switch(Ve.type){case"begin":de.push({begin:!0});break;case"close":de.push({close:!0});break;case"mt":de.push({start:Ve,deltas:[],abs:[]});break;case"lt":var Ie=de.length;if(Me[Ue-1]&&!isNaN(Me[Ue-1].x)&&(Z=[Ve.x-Me[Ue-1].x,Ve.y-Me[Ue-1].y],Ie>0)){for(;Ie>=0;Ie--)if(de[Ie-1].close!==!0&&de[Ie-1].begin!==!0){de[Ie-1].deltas.push(Z),de[Ie-1].abs.push(Ve);break}}break;case"bct":Z=[Ve.x1-Me[Ue-1].x,Ve.y1-Me[Ue-1].y,Ve.x2-Me[Ue-1].x,Ve.y2-Me[Ue-1].y,Ve.x-Me[Ue-1].x,Ve.y-Me[Ue-1].y],de[de.length-1].deltas.push(Z);break;case"qct":var nt=Me[Ue-1].x+2/3*(Ve.x1-Me[Ue-1].x),Tt=Me[Ue-1].y+2/3*(Ve.y1-Me[Ue-1].y),St=Ve.x+2/3*(Ve.x1-Ve.x),Rt=Ve.y+2/3*(Ve.y1-Ve.y),le=Ve.x,ot=Ve.y;Z=[nt-Me[Ue-1].x,Tt-Me[Ue-1].y,St-Me[Ue-1].x,Rt-Me[Ue-1].y,le-Me[Ue-1].x,ot-Me[Ue-1].y],de[de.length-1].deltas.push(Z);break;case"arc":de.push({deltas:[],abs:[],arc:!0}),Array.isArray(de[de.length-1].abs)&&de[de.length-1].abs.push(Ve)}}oe=J?null:H==="stroke"?"stroke":"fill";for(var Ge=!1,At=0;At<de.length;At++)if(de[At].arc)for(var Je=de[At].abs,Zt=0;Zt<Je.length;Zt++){var Xe=Je[Zt];Xe.type==="arc"?B.call(this,Xe.x,Xe.y,Xe.radius,Xe.startAngle,Xe.endAngle,Xe.counterclockwise,void 0,J,!Ge):Y.call(this,Xe.x,Xe.y),Ge=!0}else if(de[At].close===!0)this.pdf.internal.out("h"),Ge=!1;else if(de[At].begin!==!0){var Ft=de[At].start.x,fn=de[At].start.y;ne.call(this,de[At].deltas,Ft,fn),Ge=!0}oe&&L.call(this,oe),J&&Q.call(this)}},re=function(H){var J=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Z=J*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return H-Z;case"top":return H+J-Z;case"hanging":return H+J-2*Z;case"middle":return H+J/2-Z;default:return H}},F=function(H){return H+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};w.prototype.createLinearGradient=function(){var H=function(){};return H.colorStops=[],H.addColorStop=function(J,Z){this.colorStops.push([J,Z])},H.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},H.isCanvasGradient=!0,H},w.prototype.createPattern=function(){return this.createLinearGradient()},w.prototype.createRadialGradient=function(){return this.createLinearGradient()};var B=function(H,J,Z,oe,de,Me,Ue,Ve,Ie){for(var nt=Ae.call(this,Z,oe,de,Me),Tt=0;Tt<nt.length;Tt++){var St=nt[Tt];Tt===0&&(Ie?U.call(this,St.x1+H,St.y1+J):Y.call(this,St.x1+H,St.y1+J)),pe.call(this,H,J,St.x2,St.y2,St.x3,St.y3,St.x4,St.y4)}Ve?Q.call(this):L.call(this,Ue)},L=function(H){switch(H){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},Q=function(){this.pdf.clip(),this.pdf.discardPath()},U=function(H,J){this.pdf.internal.out(t(H)+" "+r(J)+" m")},q=function(H){var J;switch(H.align){case"right":case"end":J="right";break;case"center":J="center";break;default:J="left"}var Z,oe,de,Me=this.pdf.getTextDimensions(H.text),Ue=re.call(this,H.y),Ve=F.call(this,Ue)-Me.h,Ie=this.ctx.transform.applyToPoint(new o(H.x,Ue));if(this.autoPaging){var nt=this.ctx.transform.decompose(),Tt=new f;Tt=(Tt=(Tt=Tt.multiply(nt.translate)).multiply(nt.skew)).multiply(nt.scale);for(var St=this.ctx.transform.applyToRectangle(new u(H.x,Ue,Me.w,Me.h)),Rt=Tt.applyToRectangle(new u(H.x,Ve,Me.w,Me.h)),le=M.call(this,Rt),ot=[],Ge=0;Ge<le.length;Ge+=1)ot.indexOf(le[Ge])===-1&&ot.push(le[Ge]);k(ot);for(var At=ot[0],Je=ot[ot.length-1],Zt=At;Zt<Je+1;Zt++){this.pdf.setPage(Zt);var Xe=Zt===1?this.posY+this.margin[0]:this.margin[0],Ft=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],fn=this.pdf.internal.pageSize.height-this.margin[2],tn=fn-this.margin[0],yn=this.pdf.internal.pageSize.width-this.margin[1],cn=yn-this.margin[3],wn=Zt===1?0:Ft+(Zt-2)*tn;if(this.ctx.clip_path.length!==0){var gn=this.path;Z=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=W(Z,this.posX+this.margin[3],-1*wn+Xe),ce.call(this,"fill",!0),this.path=gn}var sn=W([JSON.parse(JSON.stringify(Rt))],this.posX+this.margin[3],-wn+Xe+this.ctx.prevPageLastElemOffset)[0];H.scale>=.01&&(oe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(oe*H.scale),de=this.lineWidth,this.lineWidth=de*H.scale);var bn=this.autoPaging!=="text";if(bn||sn.y+sn.h<=fn){if(bn||sn.y>=Xe&&sn.x<=yn){var un=bn?H.text:this.pdf.splitTextToSize(H.text,H.maxWidth||yn-sn.x)[0],nr=W([JSON.parse(JSON.stringify(St))],this.posX+this.margin[3],-wn+Xe+this.ctx.prevPageLastElemOffset)[0],rn=bn&&(Zt>At||Zt<Je)&&C.call(this);rn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],cn,tn,null).clip().discardPath()),this.pdf.text(un,nr.x,nr.y,{angle:H.angle,align:J,renderingMode:H.renderingMode}),rn&&this.pdf.restoreGraphicsState()}}else sn.y<fn&&(this.ctx.prevPageLastElemOffset+=fn-sn.y);H.scale>=.01&&(this.pdf.setFontSize(oe),this.lineWidth=de)}}else H.scale>=.01&&(oe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(oe*H.scale),de=this.lineWidth,this.lineWidth=de*H.scale),this.pdf.text(H.text,Ie.x+this.posX,Ie.y+this.posY,{angle:H.angle,align:J,renderingMode:H.renderingMode,maxWidth:H.maxWidth}),H.scale>=.01&&(this.pdf.setFontSize(oe),this.lineWidth=de)},Y=function(H,J,Z,oe){Z=Z||0,oe=oe||0,this.pdf.internal.out(t(H+Z)+" "+r(J+oe)+" l")},ne=function(H,J,Z){return this.pdf.lines(H,J,Z,null,null)},pe=function(H,J,Z,oe,de,Me,Ue,Ve){this.pdf.internal.out([e(i(Z+H)),e(s(oe+J)),e(i(de+H)),e(s(Me+J)),e(i(Ue+H)),e(s(Ve+J)),"c"].join(" "))},Ae=function(H,J,Z,oe){for(var de=2*Math.PI,Me=Math.PI/2;J>Z;)J-=de;var Ue=Math.abs(Z-J);Ue<de&&oe&&(Ue=de-Ue);for(var Ve=[],Ie=oe?-1:1,nt=J;Ue>1e-5;){var Tt=nt+Ie*Math.min(Ue,Me);Ve.push(ve.call(this,H,nt,Tt)),Ue-=Math.abs(Tt-nt),nt=Tt}return Ve},ve=function(H,J,Z){var oe=(Z-J)/2,de=H*Math.cos(oe),Me=H*Math.sin(oe),Ue=de,Ve=-Me,Ie=Ue*Ue+Ve*Ve,nt=Ie+Ue*de+Ve*Me,Tt=4/3*(Math.sqrt(2*Ie*nt)-nt)/(Ue*Me-Ve*de),St=Ue-Tt*Ve,Rt=Ve+Tt*Ue,le=St,ot=-Rt,Ge=oe+J,At=Math.cos(Ge),Je=Math.sin(Ge);return{x1:H*Math.cos(J),y1:H*Math.sin(J),x2:St*At-Rt*Je,y2:St*Je+Rt*At,x3:le*At-ot*Je,y3:le*Je+ot*At,x4:H*Math.cos(Z),y4:H*Math.sin(Z)}},Re=function(H){return 180*H/Math.PI},He=function(H,J,Z,oe,de,Me){var Ue=H+.5*(Z-H),Ve=J+.5*(oe-J),Ie=de+.5*(Z-de),nt=Me+.5*(oe-Me),Tt=Math.min(H,de,Ue,Ie),St=Math.max(H,de,Ue,Ie),Rt=Math.min(J,Me,Ve,nt),le=Math.max(J,Me,Ve,nt);return new u(Tt,Rt,St-Tt,le-Rt)},ze=function(H,J,Z,oe,de,Me,Ue,Ve){var Ie,nt,Tt,St,Rt,le,ot,Ge,At,Je,Zt,Xe,Ft,fn,tn=Z-H,yn=oe-J,cn=de-Z,wn=Me-oe,gn=Ue-de,sn=Ve-Me;for(nt=0;nt<41;nt++)At=(ot=(Tt=H+(Ie=nt/40)*tn)+Ie*((Rt=Z+Ie*cn)-Tt))+Ie*(Rt+Ie*(de+Ie*gn-Rt)-ot),Je=(Ge=(St=J+Ie*yn)+Ie*((le=oe+Ie*wn)-St))+Ie*(le+Ie*(Me+Ie*sn-le)-Ge),nt==0?(Zt=At,Xe=Je,Ft=At,fn=Je):(Zt=Math.min(Zt,At),Xe=Math.min(Xe,Je),Ft=Math.max(Ft,At),fn=Math.max(fn,Je));return new u(Math.round(Zt),Math.round(Xe),Math.round(Ft-Zt),Math.round(fn-Xe))},xe=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var H,J,Z=(H=this.ctx.lineDash,J=this.ctx.lineDashOffset,JSON.stringify({lineDash:H,lineDashOffset:J}));this.prevLineDash!==Z&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Z)}}})(Yn.API),(function(n){var e=function(o){var u,f,d,x,w,A,E,I,C,M;for(f=[],d=0,x=(o+=u="\0\0\0\0".slice(o.length%4||4)).length;x>d;d+=4)(w=(o.charCodeAt(d)<<24)+(o.charCodeAt(d+1)<<16)+(o.charCodeAt(d+2)<<8)+o.charCodeAt(d+3))!==0?(A=(w=((w=((w=((w=(w-(M=w%85))/85)-(C=w%85))/85)-(I=w%85))/85)-(E=w%85))/85)%85,f.push(A+33,E+33,I+33,C+33,M+33)):f.push(122);return(function(j,W){for(var k=W;k>0;k--)j.pop()})(f,u.length),String.fromCharCode.apply(String,f)+"~>"},t=function(o){var u,f,d,x,w,A=String,E="length",I=255,C="charCodeAt",M="slice",j="replace";for(o[M](-2),o=o[M](0,-2)[j](/\s/g,"")[j]("z","!!!!!"),d=[],x=0,w=(o+=u="uuuuu"[M](o[E]%5||5))[E];w>x;x+=5)f=52200625*(o[C](x)-33)+614125*(o[C](x+1)-33)+7225*(o[C](x+2)-33)+85*(o[C](x+3)-33)+(o[C](x+4)-33),d.push(I&f>>24,I&f>>16,I&f>>8,I&f);return(function(W,k){for(var G=k;G>0;G--)W.pop()})(d,u[E]),A.fromCharCode.apply(A,d)},r=function(o){return o.split("").map(function(u){return("0"+u.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(o){var u=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),u.test(o)===!1)return"";for(var f="",d=0;d<o.length;d+=2)f+=String.fromCharCode("0x"+(o[d]+o[d+1]));return f},s=function(o){for(var u=new Uint8Array(o.length),f=o.length;f--;)u[f]=o.charCodeAt(f);return(u=Yy(u)).reduce(function(d,x){return d+String.fromCharCode(x)},"")};n.processDataByFilters=function(o,u){var f=0,d=o||"",x=[];for(typeof(u=u||[])=="string"&&(u=[u]),f=0;f<u.length;f+=1)switch(u[f]){case"ASCII85Decode":case"/ASCII85Decode":d=t(d),x.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":d=e(d),x.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":d=i(d),x.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":d=r(d),x.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":d=s(d),x.push("/FlateDecode");break;default:throw new Error('The filter: "'+u[f]+'" is not implemented')}return{data:d,reverseChain:x.reverse().join(" ")}}})(Yn.API),(function(n){n.loadFile=function(e,t,r){return(function(i,s,o){s=s!==!1,o=typeof o=="function"?o:function(){};var u=void 0;try{u=(function(f,d,x){var w=new XMLHttpRequest,A=0,E=function(I){var C=I.length,M=[],j=String.fromCharCode;for(A=0;A<C;A+=1)M.push(j(255&I.charCodeAt(A)));return M.join("")};if(w.open("GET",f,!d),w.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(w.onload=function(){w.status===200?x(E(this.responseText)):x(void 0)}),w.send(null),d&&w.status===200)return E(w.responseText)})(i,s,o)}catch{}return u})(e,t,r)},n.loadImageFile=n.loadFile})(Yn.API),(function(n){function e(){return(mr.html2canvas?Promise.resolve(mr.html2canvas):m0(()=>import("./html2canvas.esm-Ge7aVWlp.js"),[])).catch(function(u){return Promise.reject(new Error("Could not load html2canvas: "+u))}).then(function(u){return u.default?u.default:u})}function t(){return(mr.DOMPurify?Promise.resolve(mr.DOMPurify):m0(()=>import("./purify.es-Bzr520pe.js"),[])).catch(function(u){return Promise.reject(new Error("Could not load dompurify: "+u))}).then(function(u){return u.default?u.default:u})}var r=function(u){var f=Ai(u);return f==="undefined"?"undefined":f==="string"||u instanceof String?"string":f==="number"||u instanceof Number?"number":f==="function"||u instanceof Function?"function":u&&u.constructor===Array?"array":u&&u.nodeType===1?"element":f==="object"?"object":"unknown"},i=function(u,f){var d=document.createElement(u);for(var x in f.className&&(d.className=f.className),f.innerHTML&&f.dompurify&&(d.innerHTML=f.dompurify.sanitize(f.innerHTML)),f.style)d.style[x]=f.style[x];return d},s=function u(f,d){for(var x=f.nodeType===3?document.createTextNode(f.nodeValue):f.cloneNode(!1),w=f.firstChild;w;w=w.nextSibling)d!==!0&&w.nodeType===1&&w.nodeName==="SCRIPT"||x.appendChild(u(w,d));return f.nodeType===1&&(f.nodeName==="CANVAS"?(x.width=f.width,x.height=f.height,x.getContext("2d").drawImage(f,0,0)):f.nodeName!=="TEXTAREA"&&f.nodeName!=="SELECT"||(x.value=f.value),x.addEventListener("load",function(){x.scrollTop=f.scrollTop,x.scrollLeft=f.scrollLeft},!0)),x},o=function u(f){var d=Object.assign(u.convert(Promise.resolve()),JSON.parse(JSON.stringify(u.template))),x=u.convert(Promise.resolve(),d);return(x=x.setProgress(1,u,1,[u])).set(f)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(u,f){return u.__proto__=f||o.prototype,u},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(u,f){return this.then(function(){switch(f=f||(function(d){switch(r(d)){case"string":return"string";case"element":return d.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(u),f){case"string":return this.then(t).then(function(d){return this.set({src:i("div",{innerHTML:u,dompurify:d})})});case"element":return this.set({src:u});case"canvas":return this.set({canvas:u});case"img":return this.set({img:u});default:return this.error("Unknown source type.")}})},o.prototype.to=function(u){switch(u){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var u={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},f=s(this.prop.src,this.opt.html2canvas.javascriptEnabled);f.tagName==="BODY"&&(u.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:u}),this.prop.container.appendChild(f),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var u=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(u).then(e).then(function(f){var d=Object.assign({},this.opt.html2canvas);return delete d.onrendered,f(this.prop.container,d)}).then(function(f){(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var u=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(u).then(e).then(function(f){var d=this.opt.jsPDF,x=this.opt.fontFaces,w=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,A=Object.assign({async:!0,allowTaint:!0,scale:w,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete A.onrendered,d.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,d.context2d.posX=this.opt.x,d.context2d.posY=this.opt.y,d.context2d.margin=this.opt.margin,d.context2d.fontFaces=x,x)for(var E=0;E<x.length;++E){var I=x[E],C=I.src.find(function(M){return M.format==="truetype"});C&&d.addFont(C.url,I.ref.name,I.ref.style)}return A.windowHeight=A.windowHeight||0,A.windowHeight=A.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):A.windowHeight,d.context2d.save(!0),f(this.prop.container,A)}).then(function(f){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var u=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=u})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(u,f,d){return(d=d||"pdf").toLowerCase()==="img"||d.toLowerCase()==="image"?this.outputImg(u,f):this.outputPdf(u,f)},o.prototype.outputPdf=function(u,f){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(u,f)})},o.prototype.outputImg=function(u){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(u){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+u+'" is not supported.'}})},o.prototype.save=function(u){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(u?{filename:u}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(u){if(r(u)!=="object")return this;var f=Object.keys(u||{}).map(function(d){if(d in o.template.prop)return function(){this.prop[d]=u[d]};switch(d){case"margin":return this.setMargin.bind(this,u.margin);case"jsPDF":return function(){return this.opt.jsPDF=u.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,u.pageSize);default:return function(){this.opt[d]=u[d]}}},this);return this.then(function(){return this.thenList(f)})},o.prototype.get=function(u,f){return this.then(function(){var d=u in o.template.prop?this.prop[u]:this.opt[u];return f?f(d):d})},o.prototype.setMargin=function(u){return this.then(function(){switch(r(u)){case"number":u=[u,u,u,u];case"array":if(u.length===2&&(u=[u[0],u[1],u[0],u[1]]),u.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=u}).then(this.setPageSize)},o.prototype.setPageSize=function(u){function f(d,x){return Math.floor(d*x/72*96)}return this.then(function(){(u=u||Yn.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(u.inner={width:u.width-this.opt.margin[1]-this.opt.margin[3],height:u.height-this.opt.margin[0]-this.opt.margin[2]},u.inner.px={width:f(u.inner.width,u.k),height:f(u.inner.height,u.k)},u.inner.ratio=u.inner.height/u.inner.width),this.prop.pageSize=u})},o.prototype.setProgress=function(u,f,d,x){return u!=null&&(this.progress.val=u),f!=null&&(this.progress.state=f),d!=null&&(this.progress.n=d),x!=null&&(this.progress.stack=x),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(u,f,d,x){return this.setProgress(u?this.progress.val+u:null,f||null,d?this.progress.n+d:null,x?this.progress.stack.concat(x):null)},o.prototype.then=function(u,f){var d=this;return this.thenCore(u,f,function(x,w){return d.updateProgress(null,null,1,[x]),Promise.prototype.then.call(this,function(A){return d.updateProgress(null,x),A}).then(x,w).then(function(A){return d.updateProgress(1),A})})},o.prototype.thenCore=function(u,f,d){d=d||Promise.prototype.then;var x=this;u&&(u=u.bind(x)),f&&(f=f.bind(x));var w=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?x:o.convert(Object.assign({},x),Promise.prototype),A=d.call(w,u,f);return o.convert(A,x.__proto__)},o.prototype.thenExternal=function(u,f){return Promise.prototype.then.call(this,u,f)},o.prototype.thenList=function(u){var f=this;return u.forEach(function(d){f=f.thenCore(d)}),f},o.prototype.catch=function(u){u&&(u=u.bind(this));var f=Promise.prototype.catch.call(this,u);return o.convert(f,this)},o.prototype.catchExternal=function(u){return Promise.prototype.catch.call(this,u)},o.prototype.error=function(u){return this.then(function(){throw new Error(u)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,Yn.getPageSize=function(u,f,d){if(Ai(u)==="object"){var x=u;u=x.orientation,f=x.unit||f,d=x.format||d}f=f||"mm",d=d||"a4",u=(""+(u||"P")).toLowerCase();var w,A=(""+d).toLowerCase(),E={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(f){case"pt":w=1;break;case"mm":w=72/25.4;break;case"cm":w=72/2.54;break;case"in":w=72;break;case"px":w=.75;break;case"pc":case"em":w=12;break;case"ex":w=6;break;default:throw"Invalid unit: "+f}var I,C=0,M=0;if(E.hasOwnProperty(A))C=E[A][1]/w,M=E[A][0]/w;else try{C=d[1],M=d[0]}catch{throw new Error("Invalid format: "+d)}if(u==="p"||u==="portrait")u="p",M>C&&(I=M,M=C,C=I);else{if(u!=="l"&&u!=="landscape")throw"Invalid orientation: "+u;u="l",C>M&&(I=M,M=C,C=I)}return{width:M,height:C,unit:f,k:w,orientation:u}},n.html=function(u,f){(f=f||{}).callback=f.callback||function(){},f.html2canvas=f.html2canvas||{},f.html2canvas.canvas=f.html2canvas.canvas||this.canvas,f.jsPDF=f.jsPDF||this,f.fontFaces=f.fontFaces?f.fontFaces.map(X_):null;var d=new o(f);return f.worker?d:d.from(u).doCallback()}})(Yn.API),Yn.API.addJS=function(n){return yT=n,this.internal.events.subscribe("postPutResources",function(){sp=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(sp+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),_T=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+yT+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){sp!==void 0&&_T!==void 0&&this.internal.out("/Names <</JavaScript "+sp+" 0 R>>")}),this},(function(n){var e;n.events.push(["postPutResources",function(){var t=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=t.outline.render().split(/\r\n/),s=0;s<i.length;s++){var o=i[s],u=r.exec(o);if(u!=null){var f=u[1];t.internal.newObjectDeferredBegin(f,!1)}t.internal.write(o)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,x=[];for(s=0;s<d;s++){var w=t.internal.newObject();x.push(w);var A=t.internal.getPageInfo(s+1);t.internal.write("<< /D["+A.objId+" 0 R /XYZ null null null]>> endobj")}var E=t.internal.newObject();for(t.internal.write("<< /Names [ "),s=0;s<x.length;s++)t.internal.write("(page_"+(s+1)+")"+x[s]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+E+" 0 R"),t.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){var t=this;t.outline.root.children.length>0&&(t.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&t.internal.write("/Names "+e+" 0 R"))}]),n.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(r,i,s){var o={title:i,options:s,children:[]};return r==null&&(r=this.root),r.children.push(o),o},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(r){r.id=t.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},t.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},t.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var o=r.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var u=this.count=this.count_r({count:0},o);if(u>0&&this.line("/Count "+u),o.options&&o.options.pageNumber){var f=t.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+f.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var d=0;d<r.children.length;d++)this.renderItems(r.children[d])},t.outline.line=function(r){this.ctx.val+=r+`\r
`},t.outline.makeRef=function(r){return r.id+" 0 R"},t.outline.makeString=function(r){return"("+t.internal.pdfEscape(r)+")"},t.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])})(Yn.API),(function(n){var e=[192,193,194,195,196,197,198,199];n.processJPEG=function(t,r,i,s,o,u){var f,d=this.decode.DCT_DECODE,x=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=o||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,f=(function(w){for(var A,E=256*w.charCodeAt(4)+w.charCodeAt(5),I=w.length,C={width:0,height:0,numcomponents:1},M=4;M<I;M+=2){if(M+=E,e.indexOf(w.charCodeAt(M+1))!==-1){A=256*w.charCodeAt(M+5)+w.charCodeAt(M+6),C={width:256*w.charCodeAt(M+7)+w.charCodeAt(M+8),height:A,numcomponents:w.charCodeAt(M+9)};break}E=256*w.charCodeAt(M+2)+w.charCodeAt(M+3)}return C})(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t),f.numcomponents){case 1:u=this.color_spaces.DEVICE_GRAY;break;case 4:u=this.color_spaces.DEVICE_CMYK;break;case 3:u=this.color_spaces.DEVICE_RGB}x={data:t,width:f.width,height:f.height,colorSpace:u,bitsPerComponent:8,filter:d,index:r,alias:i}}return x}})(Yn.API),Yn.API.processPNG=function(n,e,t,r){if(this.__addimage__.isArrayBuffer(n)&&(n=new Uint8Array(n)),this.__addimage__.isArrayBufferView(n)){var i,s=DW(n,{checkCrc:!0}),o=s.width,u=s.height,f=s.channels,d=s.palette,x=s.depth;i=d&&f===1?(function(B){for(var L=B.width,Q=B.height,U=B.data,q=B.palette,Y=B.depth,ne=!1,pe=[],Ae=[],ve=void 0,Re=!1,He=0,ze=0;ze<q.length;ze++){var xe=AS(q[ze],4),H=xe[0],J=xe[1],Z=xe[2],oe=xe[3];pe.push(H,J,Z),oe!=null&&(oe===0?(He++,Ae.length<1&&Ae.push(ze)):oe<255&&(Re=!0))}if(Re||He>1){ne=!0,Ae=void 0;var de=L*Q;ve=new Uint8Array(de);for(var Me=new DataView(U.buffer),Ue=0;Ue<de;Ue++){var Ve=Q_(Me,Ue,Y),Ie=AS(q[Ve],4)[3];ve[Ue]=Ie}}else He===0&&(Ae=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:ne?8:void 0,colorBytes:U,alphaBytes:ve,needSMask:ne,palette:pe,mask:Ae}})(s):f===2||f===4?(function(B){for(var L=B.data,Q=B.width,U=B.height,q=B.channels,Y=B.depth,ne=q===2?"DeviceGray":"DeviceRGB",pe=q-1,Ae=Q*U,ve=pe,Re=Ae*ve,He=1*Ae,ze=Math.ceil(Re*Y/8),xe=Math.ceil(He*Y/8),H=new Uint8Array(ze),J=new Uint8Array(xe),Z=new DataView(L.buffer),oe=new DataView(H.buffer),de=new DataView(J.buffer),Me=!1,Ue=0;Ue<Ae;Ue++){for(var Ve=Ue*q,Ie=0;Ie<ve;Ie++)IT(oe,Q_(Z,Ve+Ie,Y),Ue*ve+Ie,Y);var nt=Q_(Z,Ve+ve,Y);nt<(1<<Y)-1&&(Me=!0),IT(de,nt,1*Ue,Y)}return{colorSpace:ne,colorsPerPixel:pe,sMaskBitsPerComponent:Me?Y:void 0,colorBytes:H,alphaBytes:J,needSMask:Me}})(s):(function(B){var L=B.data,Q=B.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:Q,colorsPerPixel:Q==="DeviceGray"?1:3,colorBytes:L instanceof Uint16Array?(function(U){for(var q=U.length,Y=new Uint8Array(2*q),ne=new DataView(Y.buffer,Y.byteOffset,Y.byteLength),pe=0;pe<q;pe++)ne.setUint16(2*pe,U[pe],!1);return Y})(L):L,needSMask:!1}})(s);var w,A,E,I=i,C=I.colorSpace,M=I.colorsPerPixel,j=I.sMaskBitsPerComponent,W=I.colorBytes,k=I.alphaBytes,G=I.needSMask,ce=I.palette,re=I.mask,F=null;return r!==Yn.API.image_compression.NONE&&typeof Yy=="function"?(F=(function(B){var L;switch(B){case Yn.API.image_compression.FAST:L=11;break;case Yn.API.image_compression.MEDIUM:L=13;break;case Yn.API.image_compression.SLOW:L=14;break;default:L=12}return L})(r),w=this.decode.FLATE_DECODE,A="/Predictor ".concat(F," /Colors ").concat(M," /BitsPerComponent ").concat(x," /Columns ").concat(o),n=AT(W,Math.ceil(o*M*x/8),M,x,r),G&&(E=AT(k,Math.ceil(o*j/8),1,j,r))):(w=void 0,A=void 0,n=W,G&&(E=k)),(this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n))&&(n=this.__addimage__.arrayBufferToBinaryString(n)),(E&&this.__addimage__.isArrayBuffer(E)||this.__addimage__.isArrayBufferView(E))&&(E=this.__addimage__.arrayBufferToBinaryString(E)),{alias:t,data:n,index:e,filter:w,decodeParameters:A,transparency:re,palette:ce,sMask:E,predictor:F,width:o,height:u,bitsPerComponent:x,sMaskBitsPerComponent:j,colorSpace:C}}},(function(n){n.processGIF89A=function(e,t,r,i){var s=new JW(e),o=s.width,u=s.height,f=[];s.decodeAndBlitFrameRGBA(0,f);var d={data:f,width:o,height:u},x=new $_(100).encode(d,100);return n.processJPEG.call(this,x,t,r,i)},n.processGIF87A=n.processGIF89A})(Yn.API),mc.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var e=0;e<n;e++){var t=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:t,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},mc.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[n]()}catch(t){zi.log("bit decode error:"+t)}},mc.prototype.bit1=function(){var n,e=Math.ceil(this.width/8),t=e%4;for(n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*i*4,u=0;u<8&&8*i+u<this.width;u++){var f=this.palette[s>>7-u&1];this.data[o+4*u]=f.blue,this.data[o+4*u+1]=f.green,this.data[o+4*u+2]=f.red,this.data[o+4*u+3]=255}t!==0&&(this.pos+=4-t)}},mc.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),e=n%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<n;i++){var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*i*4,u=s>>4,f=15&s,d=this.palette[u];if(this.data[o]=d.blue,this.data[o+1]=d.green,this.data[o+2]=d.red,this.data[o+3]=255,2*i+1>=this.width)break;d=this.palette[f],this.data[o+4]=d.blue,this.data[o+4+1]=d.green,this.data[o+4+2]=d.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},mc.prototype.bit8=function(){for(var n=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*r;if(i<this.palette.length){var o=this.palette[i];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}n!==0&&(this.pos+=4-n)}},mc.prototype.bit15=function(){for(var n=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&e)/e*255|0,u=(s>>5&e)/e*255|0,f=(s>>10&e)/e*255|0,d=s>>15?255:0,x=r*this.width*4+4*i;this.data[x]=f,this.data[x+1]=u,this.data[x+2]=o,this.data[x+3]=d}this.pos+=n}},mc.prototype.bit16=function(){for(var n=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var u=(o&e)/e*255|0,f=(o>>5&t)/t*255|0,d=(o>>11)/e*255|0,x=i*this.width*4+4*s;this.data[x]=d,this.data[x+1]=f,this.data[x+2]=u,this.data[x+3]=255}this.pos+=n}},mc.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*t;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},mc.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),u=e*this.width*4+4*t;this.data[u]=s,this.data[u+1]=i,this.data[u+2]=r,this.data[u+3]=o}},mc.prototype.getData=function(){return this.data},(function(n){n.processBMP=function(e,t,r,i){var s=new mc(e,!1),o=s.width,u=s.height,f={data:s.getData(),width:o,height:u},d=new $_(100).encode(f,100);return n.processJPEG.call(this,d,t,r,i)}})(Yn.API),OT.prototype.getData=function(){return this.data},(function(n){n.processWEBP=function(e,t,r,i){var s=new OT(e),o=s.width,u=s.height,f={data:s.getData(),width:o,height:u},d=new $_(100).encode(f,100);return n.processJPEG.call(this,d,t,r,i)}})(Yn.API),Yn.API.processRGBA=function(n,e,t){for(var r=n.data,i=r.length,s=new Uint8Array(i/4*3),o=new Uint8Array(i/4),u=0,f=0,d=0;d<i;d+=4){var x=r[d],w=r[d+1],A=r[d+2],E=r[d+3];s[u++]=x,s[u++]=w,s[u++]=A,o[f++]=E}var I=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:I,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},Yn.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Yd=Yn.API,ap=Yd.getCharWidthsArray=function(n,e){var t,r,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),u=e.widths?e.widths:i.metadata.Unicode.widths,f=u.fof?u.fof:1,d=e.kerning?e.kerning:i.metadata.Unicode.kerning,x=d.fof?d.fof:1,w=e.doKerning!==!1,A=0,E=n.length,I=0,C=u[0]||f,M=[];for(t=0;t<E;t++)r=n.charCodeAt(t),typeof i.metadata.widthOfString=="function"?M.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+o*(1e3/s)||0)/1e3):(A=w&&Ai(d[r])==="object"&&!isNaN(parseInt(d[r][I],10))?d[r][I]/x:0,M.push((u[r]||C)/f+A)),I=r;return M},wT=Yd.getStringUnitWidth=function(n,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return Yd.processArabic&&(n=Yd.processArabic(n)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(n,t,i)/t:ap.apply(this,arguments).reduce(function(s,o){return s+o},0)},bT=function(n,e,t,r){for(var i=[],s=0,o=n.length,u=0;s!==o&&u+e[s]<t;)u+=e[s],s++;i.push(n.slice(0,s));var f=s;for(u=0;s!==o;)u+e[s]>r&&(i.push(n.slice(f,s)),u=0,f=s),u+=e[s],s++;return f!==s&&i.push(n.slice(f,s)),i},ET=function(n,e,t){t||(t={});var r,i,s,o,u,f,d,x=[],w=[x],A=t.textIndent||0,E=0,I=0,C=n.split(" "),M=ap.apply(this,[" ",t])[0];if(f=t.lineIndent===-1?C[0].length+2:t.lineIndent||0){var j=Array(f).join(" "),W=[];C.map(function(G){(G=G.split(/\s*\n/)).length>1?W=W.concat(G.map(function(ce,re){return(re&&ce.length?`
`:"")+ce})):W.push(G[0])}),C=W,f=wT.apply(this,[j,t])}for(s=0,o=C.length;s<o;s++){var k=0;if(r=C[s],f&&r[0]==`
`&&(r=r.substr(1),k=1),A+E+(I=(i=ap.apply(this,[r,t])).reduce(function(G,ce){return G+ce},0))>e||k){if(I>e){for(u=bT.apply(this,[r,i,e-(A+E),e]),x.push(u.shift()),x=[u.pop()];u.length;)w.push([u.shift()]);I=i.slice(r.length-(x[0]?x[0].length:0)).reduce(function(G,ce){return G+ce},0)}else x=[r];w.push(x),A=I+f,E=M}else x.push(r),A+=E+I,E=M}return d=f?function(G,ce){return(ce?j:"")+G.join(" ")}:function(G){return G.join(" ")},w.map(d)},Yd.splitTextToSize=function(n,e,t){var r,i=(t=t||{}).fontSize||this.internal.getFontSize(),s=(function(x){if(x.widths&&x.kerning)return{widths:x.widths,kerning:x.kerning};var w=this.internal.getFont(x.fontName,x.fontStyle),A="Unicode";return w.metadata[A]?{widths:w.metadata[A].widths||{0:1},kerning:w.metadata[A].kerning||{}}:{font:w.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);r=Array.isArray(n)?n:String(n).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/i;s.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=t.lineIndent;var u,f,d=[];for(u=0,f=r.length;u<f;u++)d=d.concat(ET.apply(this,[r[u],o,s]));return d},(function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var e="0123456789abcdef",t="klmnopqrstuvwxyz",r={},i={},s=0;s<16;s++)r[t[s]]=e[s],i[e[s]]=t[s];var o=function(A){return"0x"+parseInt(A,10).toString(16)},u=n.__fontmetrics__.compress=function(A){var E,I,C,M,j=["{"];for(var W in A){if(E=A[W],isNaN(parseInt(W,10))?I="'"+W+"'":(W=parseInt(W,10),I=(I=o(W).slice(2)).slice(0,-1)+i[I.slice(-1)]),typeof E=="number")E<0?(C=o(E).slice(3),M="-"):(C=o(E).slice(2),M=""),C=M+C.slice(0,-1)+i[C.slice(-1)];else{if(Ai(E)!=="object")throw new Error("Don't know what to do with value type "+Ai(E)+".");C=u(E)}j.push(I+C)}return j.push("}"),j.join("")},f=n.__fontmetrics__.uncompress=function(A){if(typeof A!="string")throw new Error("Invalid argument passed to uncompress.");for(var E,I,C,M,j={},W=1,k=j,G=[],ce="",re="",F=A.length-1,B=1;B<F;B+=1)(M=A[B])=="'"?E?(C=E.join(""),E=void 0):E=[]:E?E.push(M):M=="{"?(G.push([k,C]),k={},C=void 0):M=="}"?((I=G.pop())[0][I[1]]=k,C=void 0,k=I[0]):M=="-"?W=-1:C===void 0?r.hasOwnProperty(M)?(ce+=r[M],C=parseInt(ce,16)*W,W=1,ce=""):ce+=M:r.hasOwnProperty(M)?(re+=r[M],k[C]=parseInt(re,16)*W,W=1,C=void 0,re=""):re+=M;return j},d={codePages:["WinAnsiEncoding"],WinAnsiEncoding:f("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},x={Unicode:{Courier:d,"Courier-Bold":d,"Courier-BoldOblique":d,"Courier-Oblique":d,Helvetica:d,"Helvetica-Bold":d,"Helvetica-BoldOblique":d,"Helvetica-Oblique":d,"Times-Roman":d,"Times-Bold":d,"Times-BoldItalic":d,"Times-Italic":d}},w={Unicode:{"Courier-Oblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":f("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":f("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:f("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:f("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":f("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":f("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(A){var E=A.font,I=w.Unicode[E.postScriptName];I&&(E.metadata.Unicode={},E.metadata.Unicode.widths=I.widths,E.metadata.Unicode.kerning=I.kerning);var C=x.Unicode[E.postScriptName];C&&(E.metadata.Unicode.encoding=C,E.encoding=C.codePages[0])}])})(Yn.API),(function(n){var e=function(t){for(var r=t.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=t.charCodeAt(s);return i};n.API.events.push(["addFont",function(t){var r=void 0,i=t.font,s=t.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,u){u=/^\x00\x01\x00\x00/.test(u)?e(u):e(kp(u)),o.metadata=n.API.TTFFont.open(u),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,r)}}])})(Yn),Yn.API.addSvgAsImage=function(n,e,t,r,i,s,o,u){if(isNaN(e)||isNaN(t))throw zi.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(i))throw zi.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var f=document.createElement("canvas");f.width=r,f.height=i;var d=f.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,f.width,f.height);var x={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},w=this;return(mr.canvg?Promise.resolve(mr.canvg):m0(()=>import("./index.es-C5Xn-e_3.js"),[])).catch(function(A){return Promise.reject(new Error("Could not load canvg: "+A))}).then(function(A){return A.default?A.default:A}).then(function(A){return A.fromString(d,n,x)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(A){return A.render(x)}).then(function(){w.addImage(f.toDataURL("image/jpeg",1),e,t,r,i,o,u)})},Yn.API.putTotalPages=function(n){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(n,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,t);return this},Yn.API.viewerPreferences=function(n,e){var t;n=n||{},e=e||!1;var r,i,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},u=Object.keys(o),f=[],d=0,x=0,w=0;function A(I,C){var M,j=!1;for(M=0;M<I.length;M+=1)I[M]===C&&(j=!0);return j}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,n==="reset"||e===!0){var E=u.length;for(w=0;w<E;w+=1)t[u[w]].value=t[u[w]].defaultValue,t[u[w]].explicitSet=!1}if(Ai(n)==="object"){for(i in n)if(s=n[i],A(u,i)&&s!==void 0){if(t[i].type==="boolean"&&typeof s=="boolean")t[i].value=s;else if(t[i].type==="name"&&A(t[i].valueSet,s))t[i].value=s;else if(t[i].type==="integer"&&Number.isInteger(s))t[i].value=s;else if(t[i].type==="array"){for(d=0;d<s.length;d+=1)if(r=!0,s[d].length===1&&typeof s[d][0]=="number")f.push(String(s[d]-1));else if(s[d].length>1){for(x=0;x<s[d].length;x+=1)typeof s[d][x]!="number"&&(r=!1);r===!0&&f.push([s[d][0]-1,s[d][1]-1].join(" "))}t[i].value="["+f.join(" ")+"]"}else t[i].value=t[i].defaultValue;t[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var I,C=[];for(I in t)t[I].explicitSet===!0&&(t[I].type==="name"?C.push("/"+I+" /"+t[I].value):C.push("/"+I+" "+t[I].value));C.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+C.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},(function(n){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),u=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),f=unescape(encodeURIComponent("</x:xmpmeta>")),d=s.length+o.length+u.length+i.length+f.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(i+s+o+u+f),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}})(Yn.API),(function(n){var e=n.API,t=e.pdfEscape16=function(s,o){for(var u,f=o.metadata.Unicode.widths,d=["","0","00","000","0000"],x=[""],w=0,A=s.length;w<A;++w){if(u=o.metadata.characterToGlyph(s.charCodeAt(w)),o.metadata.glyIdsUsed.push(u),o.metadata.toUnicode[u]=s.charCodeAt(w),f.indexOf(u)==-1&&(f.push(u),f.push([parseInt(o.metadata.widthOfGlyph(u),10)])),u=="0")return x.join("");u=u.toString(16),x.push(d[4-u.length],u)}return x.join("")},r=function(s){var o,u,f,d,x,w,A;for(x=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,f=[],w=0,A=(u=Object.keys(s).sort(function(E,I){return E-I})).length;w<A;w++)o=u[w],f.length>=100&&(x+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar`,f=[]),s[o]!==void 0&&s[o]!==null&&typeof s[o].toString=="function"&&(d=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),f.push("<"+o+"><"+d+">"));return f.length&&(x+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar
`),x+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(o){var u=o.font,f=o.out,d=o.newObject,x=o.putStream;if(u.metadata instanceof n.API.TTFFont&&u.encoding==="Identity-H"){for(var w=u.metadata.Unicode.widths,A=u.metadata.subset.encode(u.metadata.glyIdsUsed,1),E="",I=0;I<A.length;I++)E+=String.fromCharCode(A[I]);var C=d();x({data:E,addLength1:!0,objectId:C}),f("endobj");var M=d();x({data:r(u.metadata.toUnicode),addLength1:!0,objectId:M}),f("endobj");var j=d();f("<<"),f("/Type /FontDescriptor"),f("/FontName /"+i0(u.fontName)),f("/FontFile2 "+C+" 0 R"),f("/FontBBox "+n.API.PDFObject.convert(u.metadata.bbox)),f("/Flags "+u.metadata.flags),f("/StemV "+u.metadata.stemV),f("/ItalicAngle "+u.metadata.italicAngle),f("/Ascent "+u.metadata.ascender),f("/Descent "+u.metadata.decender),f("/CapHeight "+u.metadata.capHeight),f(">>"),f("endobj");var W=d();f("<<"),f("/Type /Font"),f("/BaseFont /"+i0(u.fontName)),f("/FontDescriptor "+j+" 0 R"),f("/W "+n.API.PDFObject.convert(w)),f("/CIDToGIDMap /Identity"),f("/DW 1000"),f("/Subtype /CIDFontType2"),f("/CIDSystemInfo"),f("<<"),f("/Supplement 0"),f("/Registry (Adobe)"),f("/Ordering ("+u.encoding+")"),f(">>"),f(">>"),f("endobj"),u.objectNumber=d(),f("<<"),f("/Type /Font"),f("/Subtype /Type0"),f("/ToUnicode "+M+" 0 R"),f("/BaseFont /"+i0(u.fontName)),f("/Encoding /"+u.encoding),f("/DescendantFonts ["+W+" 0 R]"),f(">>"),f("endobj"),u.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(o){var u=o.font,f=o.out,d=o.newObject,x=o.putStream;if(u.metadata instanceof n.API.TTFFont&&u.encoding==="WinAnsiEncoding"){for(var w=u.metadata.rawData,A="",E=0;E<w.length;E++)A+=String.fromCharCode(w[E]);var I=d();x({data:A,addLength1:!0,objectId:I}),f("endobj");var C=d();x({data:r(u.metadata.toUnicode),addLength1:!0,objectId:C}),f("endobj");var M=d();f("<<"),f("/Descent "+u.metadata.decender),f("/CapHeight "+u.metadata.capHeight),f("/StemV "+u.metadata.stemV),f("/Type /FontDescriptor"),f("/FontFile2 "+I+" 0 R"),f("/Flags 96"),f("/FontBBox "+n.API.PDFObject.convert(u.metadata.bbox)),f("/FontName /"+i0(u.fontName)),f("/ItalicAngle "+u.metadata.italicAngle),f("/Ascent "+u.metadata.ascender),f(">>"),f("endobj"),u.objectNumber=d();for(var j=0;j<u.metadata.hmtx.widths.length;j++)u.metadata.hmtx.widths[j]=parseInt(u.metadata.hmtx.widths[j]*(1e3/u.metadata.head.unitsPerEm));f("<</Subtype/TrueType/Type/Font/ToUnicode "+C+" 0 R/BaseFont/"+i0(u.fontName)+"/FontDescriptor "+M+" 0 R/Encoding/"+u.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(u.metadata.hmtx.widths)+">>"),f("endobj"),u.isAlreadyPutted=!0}})(s)}]);var i=function(s){var o,u=s.text||"",f=s.x,d=s.y,x=s.options||{},w=s.mutex||{},A=w.pdfEscape,E=w.activeFontKey,I=w.fonts,C=E,M="",j=0,W="",k=I[C].encoding;if(I[C].encoding!=="Identity-H")return{text:u,x:f,y:d,options:x,mutex:w};for(W=u,C=E,Array.isArray(u)&&(W=u[0]),j=0;j<W.length;j+=1)I[C].metadata.hasOwnProperty("cmap")&&(o=I[C].metadata.cmap.unicode.codeMap[W[j].charCodeAt(0)]),o||W[j].charCodeAt(0)<256&&I[C].metadata.hasOwnProperty("Unicode")?M+=W[j]:M+="";var G="";return parseInt(C.slice(1))<14||k==="WinAnsiEncoding"?G=A(M,C).split("").map(function(ce){return ce.charCodeAt(0).toString(16)}).join(""):k==="Identity-H"&&(G=t(M,I[C])),w.isHex=!0,{text:G,x:f,y:d,options:x,mutex:w}};e.events.push(["postProcessText",function(s){var o=s.text||"",u=[],f={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var d=0;for(d=0;d<o.length;d+=1)Array.isArray(o[d])&&o[d].length===3?u.push([i(Object.assign({},f,{text:o[d][0]})).text,o[d][1],o[d][2]]):u.push(i(Object.assign({},f,{text:o[d]})).text);s.text=u}else s.text=i(Object.assign({},f,{text:o})).text}])})(Yn),(function(n){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},n.addFileToVFS=function(t,r){return e.call(this),this.internal.vFS[t]=r,this},n.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}})(Yn.API),(function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(r){var i,s,o,u,f,d,x,w=e,A=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],E=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],I={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},C={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},M=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],j=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),W=!1,k=0;this.__bidiEngine__={};var G=function(U){var q=U.charCodeAt(),Y=q>>8,ne=C[Y];return ne!==void 0?w[256*ne+(255&q)]:Y===252||Y===253?"AL":j.test(Y)?"L":Y===8?"R":"N"},ce=function(U){for(var q,Y=0;Y<U.length;Y++){if((q=G(U.charAt(Y)))==="L")return!1;if(q==="R")return!0}return!1},re=function(U,q,Y,ne){var pe,Ae,ve,Re,He=q[ne];switch(He){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":W=!1;break;case"N":case"AN":break;case"EN":W&&(He="AN");break;case"AL":W=!0,He="R";break;case"WS":case"BN":He="N";break;case"CS":ne<1||ne+1>=q.length||(pe=Y[ne-1])!=="EN"&&pe!=="AN"||(Ae=q[ne+1])!=="EN"&&Ae!=="AN"?He="N":W&&(Ae="AN"),He=Ae===pe?Ae:"N";break;case"ES":He=(pe=ne>0?Y[ne-1]:"B")==="EN"&&ne+1<q.length&&q[ne+1]==="EN"?"EN":"N";break;case"ET":if(ne>0&&Y[ne-1]==="EN"){He="EN";break}if(W){He="N";break}for(ve=ne+1,Re=q.length;ve<Re&&q[ve]==="ET";)ve++;He=ve<Re&&q[ve]==="EN"?"EN":"N";break;case"NSM":if(o&&!u){for(Re=q.length,ve=ne+1;ve<Re&&q[ve]==="NSM";)ve++;if(ve<Re){var ze=U[ne],xe=ze>=1425&&ze<=2303||ze===64286;if(pe=q[ve],xe&&(pe==="R"||pe==="AL")){He="R";break}}}He=ne<1||(pe=q[ne-1])==="B"?"N":Y[ne-1];break;case"B":W=!1,i=!0,He=k;break;case"S":s=!0,He="N"}return He},F=function(U,q,Y){var ne=U.split("");return Y&&B(ne,Y,{hiLevel:k}),ne.reverse(),q&&q.reverse(),ne.join("")},B=function(U,q,Y){var ne,pe,Ae,ve,Re,He=-1,ze=U.length,xe=0,H=[],J=k?E:A,Z=[];for(W=!1,i=!1,s=!1,pe=0;pe<ze;pe++)Z[pe]=G(U[pe]);for(Ae=0;Ae<ze;Ae++){if(Re=xe,H[Ae]=re(U,Z,H,Ae),ne=240&(xe=J[Re][I[H[Ae]]]),xe&=15,q[Ae]=ve=J[xe][5],ne>0)if(ne===16){for(pe=He;pe<Ae;pe++)q[pe]=1;He=-1}else He=-1;if(J[xe][6])He===-1&&(He=Ae);else if(He>-1){for(pe=He;pe<Ae;pe++)q[pe]=ve;He=-1}Z[Ae]==="B"&&(q[Ae]=0),Y.hiLevel|=ve}s&&(function(oe,de,Me){for(var Ue=0;Ue<Me;Ue++)if(oe[Ue]==="S"){de[Ue]=k;for(var Ve=Ue-1;Ve>=0&&oe[Ve]==="WS";Ve--)de[Ve]=k}})(Z,q,ze)},L=function(U,q,Y,ne,pe){if(!(pe.hiLevel<U)){if(U===1&&k===1&&!i)return q.reverse(),void(Y&&Y.reverse());for(var Ae,ve,Re,He,ze=q.length,xe=0;xe<ze;){if(ne[xe]>=U){for(Re=xe+1;Re<ze&&ne[Re]>=U;)Re++;for(He=xe,ve=Re-1;He<ve;He++,ve--)Ae=q[He],q[He]=q[ve],q[ve]=Ae,Y&&(Ae=Y[He],Y[He]=Y[ve],Y[ve]=Ae);xe=Re}xe++}}},Q=function(U,q,Y){var ne=U.split(""),pe={hiLevel:k};return Y||(Y=[]),B(ne,Y,pe),(function(Ae,ve,Re){if(Re.hiLevel!==0&&x)for(var He,ze=0;ze<Ae.length;ze++)ve[ze]===1&&(He=M.indexOf(Ae[ze]))>=0&&(Ae[ze]=M[He+1])})(ne,Y,pe),L(2,ne,q,Y,pe),L(1,ne,q,Y,pe),ne.join("")};return this.__bidiEngine__.doBidiReorder=function(U,q,Y){if((function(pe,Ae){if(Ae)for(var ve=0;ve<pe.length;ve++)Ae[ve]=ve;u===void 0&&(u=ce(pe)),d===void 0&&(d=ce(pe))})(U,q),o||!f||d)if(o&&f&&u^d)k=u?1:0,U=F(U,q,Y);else if(!o&&f&&d)k=u?1:0,U=Q(U,q,Y),U=F(U,q);else if(!o||u||f||d){if(o&&!f&&u^d)U=F(U,q),u?(k=0,U=Q(U,q,Y)):(k=1,U=Q(U,q,Y),U=F(U,q));else if(o&&u&&!f&&d)k=1,U=Q(U,q,Y),U=F(U,q);else if(!o&&!f&&u^d){var ne=x;u?(k=1,U=Q(U,q,Y),k=0,x=!1,U=Q(U,q,Y),x=ne):(k=0,U=Q(U,q,Y),U=F(U,q),k=1,x=!1,U=Q(U,q,Y),x=ne,U=F(U,q))}}else k=0,U=Q(U,q,Y);else k=u?1:0,U=Q(U,q,Y);return U},this.__bidiEngine__.setOptions=function(U){U&&(o=U.isInputVisual,f=U.isOutputVisual,u=U.isInputRtl,d=U.isOutputRtl,x=U.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var s=r.options||{};r.mutex,s.lang;var o=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,t.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var u=0;for(o=[],u=0;u<i.length;u+=1)Object.prototype.toString.call(i[u])==="[object Array]"?o.push([t.doBidiReorder(i[u][0]),i[u][1],i[u][2]]):o.push([t.doBidiReorder(i[u])]);r.text=o}else r.text=t.doBidiReorder(i);t.setOptions({isInputVisual:!0})}])})(Yn),Yn.API.TTFFont=(function(){function n(e){var t;if(this.rawData=e,t=this.contents=new Jh(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new mY(this),this.registerTTF()}return n.open=function(e){return new n(e)},n.prototype.parse=function(){return this.directory=new eY(this.contents),this.head=new nY(this),this.name=new oY(this),this.cmap=new uR(this),this.toUnicode={},this.hhea=new rY(this),this.maxp=new lY(this),this.hmtx=new cY(this),this.post=new sY(this),this.os2=new iY(this),this.loca=new dY(this),this.glyf=new uY(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var e,t,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,u,f,d;for(d=[],o=0,u=(f=this.bbox).length;o<u;o++)e=f[o],d.push(Math.round(e*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(t=i>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},n.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},n.prototype.widthOfString=function(e,t,r){var i,s,o,u;for(o=0,s=0,u=(e=""+e).length;0<=u?s<u:s>u;s=0<=u?++s:--s)i=e.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/t)||0;return o*(t/1e3)},n.prototype.lineHeight=function(e,t){var r;return t==null&&(t=!1),r=t?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},n})();var Ic,Jh=(function(){function n(e){this.data=e??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(e){return this.data[this.pos++]=e},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},n.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},n.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},n.prototype.readString=function(e){var t,r;for(r=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)r[t]=String.fromCharCode(this.readByte());return r.join("")},n.prototype.writeString=function(e){var t,r,i;for(i=[],t=0,r=e.length;0<=r?t<r:t>r;t=0<=r?++t:--t)i.push(this.writeByte(e.charCodeAt(t)));return i},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(e){return this.writeInt16(e)},n.prototype.readLongLong=function(){var e,t,r,i,s,o,u,f;return e=this.readByte(),t=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),u=this.readByte(),f=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^o)+256*(255^u)+(255^f)+1):72057594037927940*e+281474976710656*t+1099511627776*r+4294967296*i+16777216*s+65536*o+256*u+f},n.prototype.writeLongLong=function(e){var t,r;return t=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(e){return this.writeInt32(e)},n.prototype.read=function(e){var t,r;for(t=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)t.push(this.readByte());return t},n.prototype.write=function(e){var t,r,i,s;for(s=[],r=0,i=e.length;r<i;r++)t=e[r],s.push(this.writeByte(t));return s},n})(),eY=(function(){var n;function e(t){var r,i,s;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(t){var r,i,s,o,u,f,d,x,w,A,E,I,C;for(C in E=Object.keys(t).length,f=Math.log(2),w=16*Math.floor(Math.log(E)/f),o=Math.floor(w/f),x=16*E-w,(i=new Jh).writeInt(this.scalarType),i.writeShort(E),i.writeShort(w),i.writeShort(o),i.writeShort(x),s=16*E,d=i.pos+s,u=null,I=[],t)for(A=t[C],i.writeString(C),i.writeInt(n(A)),i.writeInt(d),i.writeInt(A.length),I=I.concat(A),C==="head"&&(u=d),d+=A.length;d%4;)I.push(0),d++;return i.write(I),r=2981146554-n(i.data),i.pos=u+8,i.writeUInt32(r),i.data},n=function(t){var r,i,s,o;for(t=hR.call(t);t.length%4;)t.push(0);for(s=new Jh(t),i=0,r=0,o=t.length;r<o;r=r+=4)i+=s.readUInt32();return 4294967295&i},e})(),tY={}.hasOwnProperty,gu=function(n,e){for(var t in e)tY.call(e,t)&&(n[t]=e[t]);function r(){this.constructor=n}return r.prototype=e.prototype,n.prototype=new r,n.__super__=e.prototype,n};Ic=(function(){function n(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n})();var nY=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return gu(n,Ic),n.prototype.tag="head",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},n.prototype.encode=function(e){var t;return(t=new Jh).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},n})(),DT=(function(){function n(e,t){var r,i,s,o,u,f,d,x,w,A,E,I,C,M,j,W,k;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),w=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(f=0;f<256;++f)this.codeMap[f]=e.readByte();break;case 4:for(E=e.readUInt16(),A=E/2,e.pos+=6,s=(function(){var G,ce;for(ce=[],f=G=0;0<=A?G<A:G>A;f=0<=A?++G:--G)ce.push(e.readUInt16());return ce})(),e.pos+=2,C=(function(){var G,ce;for(ce=[],f=G=0;0<=A?G<A:G>A;f=0<=A?++G:--G)ce.push(e.readUInt16());return ce})(),d=(function(){var G,ce;for(ce=[],f=G=0;0<=A?G<A:G>A;f=0<=A?++G:--G)ce.push(e.readUInt16());return ce})(),x=(function(){var G,ce;for(ce=[],f=G=0;0<=A?G<A:G>A;f=0<=A?++G:--G)ce.push(e.readUInt16());return ce})(),i=(this.length-e.pos+this.offset)/2,u=(function(){var G,ce;for(ce=[],f=G=0;0<=i?G<i:G>i;f=0<=i?++G:--G)ce.push(e.readUInt16());return ce})(),f=j=0,k=s.length;j<k;f=++j)for(M=s[f],r=W=I=C[f];I<=M?W<=M:W>=M;r=I<=M?++W:--W)x[f]===0?o=r+d[f]:(o=u[x[f]/2+(r-I)-(A-f)]||0)!==0&&(o+=d[f]),this.codeMap[r]=65535&o}e.pos=w}return n.encode=function(e,t){var r,i,s,o,u,f,d,x,w,A,E,I,C,M,j,W,k,G,ce,re,F,B,L,Q,U,q,Y,ne,pe,Ae,ve,Re,He,ze,xe,H,J,Z,oe,de,Me,Ue,Ve,Ie,nt,Tt;switch(ne=new Jh,o=Object.keys(e).sort(function(St,Rt){return St-Rt}),t){case"macroman":for(C=0,M=(function(){var St=[];for(I=0;I<256;++I)St.push(0);return St})(),W={0:0},s={},pe=0,He=o.length;pe<He;pe++)W[Ve=e[i=o[pe]]]==null&&(W[Ve]=++C),s[i]={old:e[i],new:W[e[i]]},M[i]=W[e[i]];return ne.writeUInt16(1),ne.writeUInt16(0),ne.writeUInt32(12),ne.writeUInt16(0),ne.writeUInt16(262),ne.writeUInt16(0),ne.write(M),{charMap:s,subtable:ne.data,maxGlyphID:C+1};case"unicode":for(q=[],w=[],k=0,W={},r={},j=d=null,Ae=0,ze=o.length;Ae<ze;Ae++)W[ce=e[i=o[Ae]]]==null&&(W[ce]=++k),r[i]={old:ce,new:W[ce]},u=W[ce]-i,j!=null&&u===d||(j&&w.push(j),q.push(i),d=u),j=i;for(j&&w.push(j),w.push(65535),q.push(65535),Q=2*(L=q.length),B=2*Math.pow(Math.log(L)/Math.LN2,2),A=Math.log(B/2)/Math.LN2,F=2*L-B,f=[],re=[],E=[],I=ve=0,xe=q.length;ve<xe;I=++ve){if(U=q[I],x=w[I],U===65535){f.push(0),re.push(0);break}if(U-(Y=r[U].new)>=32768)for(f.push(0),re.push(2*(E.length+L-I)),i=Re=U;U<=x?Re<=x:Re>=x;i=U<=x?++Re:--Re)E.push(r[i].new);else f.push(Y-U),re.push(0)}for(ne.writeUInt16(3),ne.writeUInt16(1),ne.writeUInt32(12),ne.writeUInt16(4),ne.writeUInt16(16+8*L+2*E.length),ne.writeUInt16(0),ne.writeUInt16(Q),ne.writeUInt16(B),ne.writeUInt16(A),ne.writeUInt16(F),Me=0,H=w.length;Me<H;Me++)i=w[Me],ne.writeUInt16(i);for(ne.writeUInt16(0),Ue=0,J=q.length;Ue<J;Ue++)i=q[Ue],ne.writeUInt16(i);for(Ie=0,Z=f.length;Ie<Z;Ie++)u=f[Ie],ne.writeUInt16(u);for(nt=0,oe=re.length;nt<oe;nt++)G=re[nt],ne.writeUInt16(G);for(Tt=0,de=E.length;Tt<de;Tt++)C=E[Tt],ne.writeUInt16(C);return{charMap:r,subtable:ne.data,maxGlyphID:k+1}}},n})(),uR=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return gu(n,Ic),n.prototype.tag="cmap",n.prototype.parse=function(e){var t,r,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=i?r<i:r>i;r=0<=i?++r:--r)t=new DT(e,this.offset),this.tables.push(t),t.isUnicode&&this.unicode==null&&(this.unicode=t);return!0},n.encode=function(e,t){var r,i;return t==null&&(t="macroman"),r=DT.encode(e,t),(i=new Jh).writeUInt16(0),i.writeUInt16(1),r.table=i.data.concat(r.subtable),r},n})(),rY=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return gu(n,Ic),n.prototype.tag="hhea",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},n})(),iY=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return gu(n,Ic),n.prototype.tag="OS/2",n.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var t,r;for(r=[],t=0;t<10;++t)r.push(e.readByte());return r})(),this.charRange=(function(){var t,r;for(r=[],t=0;t<4;++t)r.push(e.readInt());return r})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var t,r;for(r=[],t=0;t<2;t=++t)r.push(e.readInt());return r})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},n})(),sY=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return gu(n,Ic),n.prototype.tag="post",n.prototype.parse=function(e){var t,r,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(r=e.readUInt16(),this.glyphNameIndex=[],s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)t=e.readByte(),i.push(this.names.push(e.readString(t)));return i;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=(function(){var o,u,f;for(f=[],s=o=0,u=this.file.maxp.numGlyphs;0<=u?o<u:o>u;s=0<=u?++o:--o)f.push(e.readUInt32());return f}).call(this)}},n})(),aY=function(n,e){this.raw=n,this.length=n.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},oY=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return gu(n,Ic),n.prototype.tag="name",n.prototype.parse=function(e){var t,r,i,s,o,u,f,d,x,w,A;for(e.pos=this.offset,e.readShort(),t=e.readShort(),u=e.readShort(),r=[],s=0;0<=t?s<t:s>t;s=0<=t?++s:--s)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+u+e.readShort()});for(f={},s=x=0,w=r.length;x<w;s=++x)i=r[s],e.pos=i.offset,d=e.readString(i.length),o=new aY(d,i),f[A=i.nameID]==null&&(f[A]=[]),f[i.nameID].push(o);this.strings=f,this.copyright=f[0],this.fontFamily=f[1],this.fontSubfamily=f[2],this.uniqueSubfamily=f[3],this.fontName=f[4],this.version=f[5];try{this.postscriptName=f[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=f[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=f[7],this.manufacturer=f[8],this.designer=f[9],this.description=f[10],this.vendorUrl=f[11],this.designerUrl=f[12],this.license=f[13],this.licenseUrl=f[14],this.preferredFamily=f[15],this.preferredSubfamily=f[17],this.compatibleFull=f[18],this.sampleText=f[19]},n})(),lY=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return gu(n,Ic),n.prototype.tag="maxp",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},n})(),cY=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return gu(n,Ic),n.prototype.tag="hmtx",n.prototype.parse=function(e){var t,r,i,s,o,u,f;for(e.pos=this.offset,this.metrics=[],t=0,u=this.file.hhea.numberOfMetrics;0<=u?t<u:t>u;t=0<=u?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var d,x;for(x=[],t=d=0;0<=i?d<i:d>i;t=0<=i?++d:--d)x.push(e.readInt16());return x})(),this.widths=(function(){var d,x,w,A;for(A=[],d=0,x=(w=this.metrics).length;d<x;d++)s=w[d],A.push(s.advance);return A}).call(this),r=this.widths[this.widths.length-1],f=[],t=o=0;0<=i?o<i:o>i;t=0<=i?++o:--o)f.push(this.widths.push(r));return f},n.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},n})(),hR=[].slice,uY=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return gu(n,Ic),n.prototype.tag="glyf",n.prototype.parse=function(){return this.cache={}},n.prototype.glyphFor=function(e){var t,r,i,s,o,u,f,d,x,w;return e in this.cache?this.cache[e]:(s=this.file.loca,t=this.file.contents,r=s.indexOf(e),(i=s.lengthOf(e))===0?this.cache[e]=null:(t.pos=this.offset+r,o=(u=new Jh(t.read(i))).readShort(),d=u.readShort(),w=u.readShort(),f=u.readShort(),x=u.readShort(),this.cache[e]=o===-1?new fY(u,d,w,f,x):new hY(u,o,d,w,f,x),this.cache[e]))},n.prototype.encode=function(e,t,r){var i,s,o,u,f;for(o=[],s=[],u=0,f=t.length;u<f;u++)i=e[t[u]],s.push(o.length),i&&(o=o.concat(i.encode(r)));return s.push(o.length),{table:o,offsets:s}},n})(),hY=(function(){function n(e,t,r,i,s,o){this.raw=e,this.numberOfContours=t,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=o,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n})(),fY=(function(){function n(e,t,r,i,s){var o,u;for(this.raw=e,this.xMin=t,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;u=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&u;)o.pos+=1&u?4:2,128&u?o.pos+=8:64&u?o.pos+=4:8&u&&(o.pos+=2)}return n.prototype.encode=function(){var e,t,r;for(t=new Jh(hR.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)t.pos=this.glyphOffsets[e];return t.data},n})(),dY=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return gu(n,Ic),n.prototype.tag="loca",n.prototype.parse=function(e){var t,r;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=t===0?(function(){var i,s;for(s=[],r=0,i=this.length;r<i;r+=2)s.push(2*e.readUInt16());return s}).call(this):(function(){var i,s;for(s=[],r=0,i=this.length;r<i;r+=4)s.push(e.readUInt32());return s}).call(this)},n.prototype.indexOf=function(e){return this.offsets[e]},n.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},n.prototype.encode=function(e,t){for(var r=new Uint32Array(this.offsets.length),i=0,s=0,o=0;o<r.length;++o)if(r[o]=i,s<t.length&&t[s]==o){++s,r[o]=i;var u=this.offsets[o],f=this.offsets[o+1]-u;f>0&&(i+=f)}for(var d=new Array(4*r.length),x=0;x<r.length;++x)d[4*x+3]=255&r[x],d[4*x+2]=(65280&r[x])>>8,d[4*x+1]=(16711680&r[x])>>16,d[4*x]=(4278190080&r[x])>>24;return d},n})(),mY=(function(){function n(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var e,t,r,i,s;for(t in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)r=s[t],e[t]=i[r];return e},n.prototype.glyphsFor=function(e){var t,r,i,s,o,u,f;for(i={},o=0,u=e.length;o<u;o++)i[s=e[o]]=this.font.glyf.glyphFor(s);for(s in t=[],i)(r=i[s])!=null&&r.compound&&t.push.apply(t,r.glyphIDs);if(t.length>0)for(s in f=this.glyphsFor(t))r=f[s],i[s]=r;return i},n.prototype.encode=function(e,t){var r,i,s,o,u,f,d,x,w,A,E,I,C,M,j;for(i in r=uR.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),E={0:0},j=r.charMap)E[(f=j[i]).old]=f.new;for(I in A=r.maxGlyphID,o)I in E||(E[I]=A++);return x=(function(W){var k,G;for(k in G={},W)G[W[k]]=k;return G})(E),w=Object.keys(x).sort(function(W,k){return W-k}),C=(function(){var W,k,G;for(G=[],W=0,k=w.length;W<k;W++)u=w[W],G.push(x[u]);return G})(),s=this.font.glyf.encode(o,C,E),d=this.font.loca.encode(s.offsets,C),M={cmap:this.font.cmap.raw(),glyf:s.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(M["OS/2"]=this.font.os2.raw()),this.font.directory.encode(M)},n})();Yn.API.PDFObject=(function(){var n;function e(){}return n=function(t,r){return(Array(r+1).join("0")+t).slice(-r)},e.convert=function(t){var r,i,s,o;if(Array.isArray(t))return"["+(function(){var u,f,d;for(d=[],u=0,f=t.length;u<f;u++)r=t[u],d.push(e.convert(r));return d})().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t?.isString)return"("+t+")";if(t instanceof Date)return"(D:"+n(t.getUTCFullYear(),4)+n(t.getUTCMonth(),2)+n(t.getUTCDate(),2)+n(t.getUTCHours(),2)+n(t.getUTCMinutes(),2)+n(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(i in s=["<<"],t)o=t[i],s.push("/"+i+" "+e.convert(o));return s.push(">>"),s.join(`
`)}return""+t},e})();const fR=(n=16)=>{const e=new Uint8Array(n);return crypto.getRandomValues(e),btoa(String.fromCharCode(...e)).replace(/[+/=]/g,"").slice(0,n)},gY=async(n,e,t,r,i)=>{const s=`${n}|${e}|${t}|${r}|${i}`,u=new TextEncoder().encode(s),f=await crypto.subtle.digest("SHA-256",u);return Array.from(new Uint8Array(f)).map(w=>w.toString(16).padStart(2,"0")).join("")},pY=()=>{const e=new Date().toISOString().slice(0,10).replace(/-/g,""),t=fR(6).toUpperCase();return`REG-${e}-${t}`},xY=async n=>{try{return await Tq.toDataURL(n,{errorCorrectionLevel:"H",margin:2,width:200,color:{dark:"#000000",light:"#FFFFFF"}})}catch(e){throw console.error("Error generating QR code:",e),new Error("Failed to generate QR code")}},vY=n=>{try{const[e,t,r]=n.split("-").map(Number);return new Date(e,t-1,r).toLocaleDateString("en-IN",{day:"numeric",month:"long",year:"numeric"})}catch{return n}},_Y=async(n,e,t)=>{const r=new Yn({orientation:"portrait",unit:"mm",format:[100,150]}),i=100,s=150,o=8;r.setFillColor(15,15,20),r.rect(0,0,i,s,"F"),r.setFillColor(78,255,159),r.rect(0,0,i,20,"F"),r.setTextColor(10,10,15),r.setFontSize(10),r.setFont("helvetica","bold");const u=n.eventName.length>30?n.eventName.slice(0,27)+"...":n.eventName;r.text(u,i/2,10,{align:"center"}),r.setFontSize(7),r.setFont("helvetica","normal"),r.text(vY(n.eventDate),i/2,16,{align:"center"}),r.setTextColor(255,255,255),r.setFontSize(12),r.setFont("helvetica","bold"),r.text("EVENT PASS",i/2,32,{align:"center"});const f=45,d=(i-f)/2,x=38;r.setFillColor(255,255,255),r.roundedRect(d-3,x-3,f+6,f+6,3,3,"F"),r.addImage(e,"PNG",d,x,f,f);let w=x+f+12;const A=[150,150,160],E=[255,255,255],I=(C,M,j)=>{r.setTextColor(A[0],A[1],A[2]),r.setFontSize(6),r.setFont("helvetica","normal"),r.text(C,o,j),r.setTextColor(E[0],E[1],E[2]),r.setFontSize(8),r.setFont("helvetica","bold");const W=M.length>35?M.slice(0,32)+"...":M;return r.text(W,o,j+4),j+11};if(w=I("FULL NAME",`${n.firstName} ${n.lastName}`,w),w=I("ORBIT ID",n.orbitId,w),w=I("EMAIL",n.email,w),w=I("COLLEGE",n.collegeName,w),t){r.setTextColor(A[0],A[1],A[2]),r.setFontSize(6),r.text("VENUE",o,w),r.setTextColor(E[0],E[1],E[2]),r.setFontSize(7),r.setFont("helvetica","normal");const C=t.length>40?t.slice(0,37)+"...":t;r.text(C,o,w+4)}return r.setTextColor(80,80,90),r.setFontSize(5),r.setFont("helvetica","normal"),r.text(`ID: ${n.registrationId}`,i/2,s-5,{align:"center"}),r.output("blob")},dR=async n=>{try{const e=fR(16),t=await gY(n.orbitId,n.govIdLast4,n.firstName,n.eventId,e),r=pY(),i={registrationId:r,orbitId:n.orbitId,eventId:n.eventId,eventName:n.eventName,eventDate:n.eventDate,qrSignature:t,firstName:n.firstName,lastName:n.lastName,email:n.email,collegeName:n.collegeName,gender:n.gender,govIdType:n.govIdType,attendanceStatus:!1,checkInTime:null,createdAt:new Date().toISOString()},s=`${n.eventId}_${r}`,o=hr(An,"event_reg",s);await ou(o,i);const u=hr(An,"qr_lookup",t);return await ou(u,{registrationId:r,eventId:n.eventId,docId:s,createdAt:i.createdAt}),{registrationId:r,registration:i,qrSignature:t}}catch(e){throw console.error("Error registering for event:",e),e}},h2=async(n,e)=>{try{const t=await xY(n.qrSignature);return await _Y(n,t,e)}catch(t){throw console.error("Error generating pass PDF:",t),t}},f2=(n,e,t)=>{const r=URL.createObjectURL(n),i=document.createElement("a");i.href=r,i.download=`EventPass_${e.replace(/[^a-z0-9]/gi,"_")}_${t}.pdf`,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(r)},mR=async(n,e)=>{try{const t=Ti(An,"event_reg"),{getDocs:r,query:i,where:s}=await m0(async()=>{const{getDocs:f,query:d,where:x}=await Promise.resolve().then(()=>v8);return{getDocs:f,query:d,where:x}},void 0),o=i(t,s("orbitId","==",e),s("eventId","==",n)),u=await r(o);return u.empty?null:u.docs[0].data()}catch(t){return console.error("Error checking existing registration:",t),null}},hx=async n=>{try{console.log("Fetching registrations for orbitId:",n);const e=Ti(An,"event_reg"),{getDocs:t,query:r,where:i}=await m0(async()=>{const{getDocs:f,query:d,where:x}=await Promise.resolve().then(()=>v8);return{getDocs:f,query:d,where:x}},void 0),s=r(e,i("orbitId","==",n)),o=await t(s);console.log("Found registrations:",o.size);const u=o.docs.map(f=>(console.log("Registration doc:",f.id,f.data()),f.data()));return u.sort((f,d)=>new Date(d.createdAt).getTime()-new Date(f.createdAt).getTime()),u}catch(e){return console.error("Error fetching user registrations:",e),[]}},yY=Object.freeze(Object.defineProperty({__proto__:null,checkExistingRegistration:mR,downloadPass:f2,generateEventPass:dR,generatePassPdfForRegistration:h2,getUserRegistrations:hx},Symbol.toStringTag,{value:"Module"}));function wY(){const n=Ja(),[e,t]=ae.useState([]),[r,i]=ae.useState(!0),[s,o]=ae.useState(null),[u,f]=ae.useState(!1),[d,x]=ae.useState(new Set);ae.useEffect(()=>{const I=Bl.onAuthStateChanged(async C=>{if(C){let M=await Js(hr(An,"users",C.uid));if(M.exists()||(M=await Js(hr(An,"admins",C.uid))),M.exists()){const j=M.data()?.orbitId;if(j){const W=await hx(j);x(new Set(W.map(k=>k.eventId)))}}}else x(new Set)});return()=>I()},[]),ae.useEffect(()=>{(async()=>{try{const C=Oa(Ti(An,"events"),du("date","desc")),M=await au(C),j=[];M.forEach(ce=>{const re=ce.data();j.push({id:ce.id,type:re.type||"Event",title:re.title||"",description:re.description||"",date:re.date||"",venue:re.venue||"",venueUrl:re.venueUrl,time:re.time||"",registrationOpen:re.registrationOpen??!1,isPast:re.isPast??!1,images:re.images||[],amount:re.amount})});const W=j.filter(ce=>!ce.isPast),k=j.filter(ce=>ce.isPast);W.sort((ce,re)=>ce.date.localeCompare(re.date)),k.sort((ce,re)=>re.date.localeCompare(ce.date));const G=[];for(const ce of W){if(G.length>=3)break;G.push(ce)}for(const ce of k){if(G.length>=3)break;G.push(ce)}t(G)}catch(C){console.error("Error fetching events:",C)}finally{i(!1)}})()},[]);const w=I=>{o(I),f(!1)},A=()=>{f(!0),setTimeout(()=>{o(null),f(!1)},300)},E=()=>{n("/events")};return r?m.jsxs("section",{className:"events-teaser",children:[m.jsxs("div",{className:"events-teaser__header",children:[m.jsx("h2",{className:"events-teaser__heading",children:"Events & Activities"}),m.jsx("p",{className:"events-teaser__subtext",children:"Participate in workshops, stargazing sessions, and hands-on experiments that bring space science to life."})]}),m.jsx("div",{className:"events-teaser__loading",children:"Loading events..."})]}):e.length===0?m.jsxs("section",{className:"events-teaser",children:[m.jsxs("div",{className:"events-teaser__header",children:[m.jsx("h2",{className:"events-teaser__heading",children:"Events & Activities"}),m.jsx("p",{className:"events-teaser__subtext",children:"Participate in workshops, stargazing sessions, and hands-on experiments that bring space science to life."})]}),m.jsxs("div",{className:"events-teaser__empty",children:[m.jsx("p",{children:"No events at the moment."}),m.jsx("span",{children:"Check back soon for exciting activities!"})]})]}):m.jsxs("section",{className:"events-teaser",children:[m.jsxs("div",{className:"events-teaser__header",children:[m.jsx("h2",{className:"events-teaser__heading",children:"Events & Activities"}),m.jsx("p",{className:"events-teaser__subtext",children:"Participate in workshops, stargazing sessions, and hands-on experiments that bring space science to life."})]}),m.jsx("div",{className:"events-teaser__grid",children:e.map(I=>m.jsx(Hy,{event:I,onClick:w,variant:"teaser",isRegistered:d.has(I.id)},I.id))}),m.jsx("button",{onClick:E,className:"events-teaser__cta",children:"View All Events "}),s&&m.jsx(I5,{event:s,isClosing:u,onClose:A,isRegistered:d.has(s.id),onDownloadPass:async I=>{try{const C=Bl.currentUser;if(!C)return;let M=await Js(hr(An,"users",C.uid));M.exists()||(M=await Js(hr(An,"admins",C.uid)));const j=M.data()?.orbitId;if(j){const{checkExistingRegistration:W,generatePassPdfForRegistration:k,downloadPass:G}=await m0(async()=>{const{checkExistingRegistration:re,generatePassPdfForRegistration:F,downloadPass:B}=await Promise.resolve().then(()=>yY);return{checkExistingRegistration:re,generatePassPdfForRegistration:F,downloadPass:B}},void 0),ce=await W(I.id,j);if(ce){const re=await k(ce,I.venue);G(re,I.title,j)}}}catch(C){console.error("Error downloading pass:",C)}},onRegisterClick:()=>n("/events")})]})}function bY(n,e,t){return Math.max(e,Math.min(n,t))}const ss={toVector(n,e){return n===void 0&&(n=e),Array.isArray(n)?n:[n,n]},add(n,e){return[n[0]+e[0],n[1]+e[1]]},sub(n,e){return[n[0]-e[0],n[1]-e[1]]},addTo(n,e){n[0]+=e[0],n[1]+=e[1]},subTo(n,e){n[0]-=e[0],n[1]-=e[1]}};function MT(n,e,t){return e===0||Math.abs(e)===1/0?Math.pow(n,t*5):n*e*t/(e+t*n)}function LT(n,e,t,r=.15){return r===0?bY(n,e,t):n<e?-MT(e-n,t-e,r)+e:n>t?+MT(n-t,t-e,r)+t:n}function EY(n,[e,t],[r,i]){const[[s,o],[u,f]]=n;return[LT(e,s,o,r),LT(t,u,f,i)]}function AY(n,e){if(typeof n!="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function SY(n){var e=AY(n,"string");return typeof e=="symbol"?e:String(e)}function fa(n,e,t){return e=SY(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function kT(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function ws(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?kT(Object(t),!0).forEach(function(r){fa(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):kT(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}const gR={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function PT(n){return n?n[0].toUpperCase()+n.slice(1):""}const TY=["enter","leave"];function NY(n=!1,e){return n&&!TY.includes(e)}function CY(n,e="",t=!1){const r=gR[n],i=r&&r[e]||e;return"on"+PT(n)+PT(i)+(NY(t,i)?"Capture":"")}const IY=["gotpointercapture","lostpointercapture"];function RY(n){let e=n.substring(2).toLowerCase();const t=!!~e.indexOf("passive");t&&(e=e.replace("passive",""));const r=IY.includes(e)?"capturecapture":"capture",i=!!~e.indexOf(r);return i&&(e=e.replace("capture","")),{device:e,capture:i,passive:t}}function OY(n,e=""){const t=gR[n],r=t&&t[e]||e;return n+r}function fx(n){return"touches"in n}function pR(n){return fx(n)?"touch":"pointerType"in n?n.pointerType:"mouse"}function DY(n){return Array.from(n.touches).filter(e=>{var t,r;return e.target===n.currentTarget||((t=n.currentTarget)===null||t===void 0||(r=t.contains)===null||r===void 0?void 0:r.call(t,e.target))})}function MY(n){return n.type==="touchend"||n.type==="touchcancel"?n.changedTouches:n.targetTouches}function xR(n){return fx(n)?MY(n)[0]:n}function tw(n,e){try{const t=e.clientX-n.clientX,r=e.clientY-n.clientY,i=(e.clientX+n.clientX)/2,s=(e.clientY+n.clientY)/2,o=Math.hypot(t,r);return{angle:-(Math.atan2(t,r)*180)/Math.PI,distance:o,origin:[i,s]}}catch{}return null}function LY(n){return DY(n).map(e=>e.identifier)}function jT(n,e){const[t,r]=Array.from(n.touches).filter(i=>e.includes(i.identifier));return tw(t,r)}function Z_(n){const e=xR(n);return fx(n)?e.identifier:e.pointerId}function M0(n){const e=xR(n);return[e.clientX,e.clientY]}const FT=40,BT=800;function vR(n){let{deltaX:e,deltaY:t,deltaMode:r}=n;return r===1?(e*=FT,t*=FT):r===2&&(e*=BT,t*=BT),[e,t]}function kY(n){var e,t;const{scrollX:r,scrollY:i,scrollLeft:s,scrollTop:o}=n.currentTarget;return[(e=r??s)!==null&&e!==void 0?e:0,(t=i??o)!==null&&t!==void 0?t:0]}function PY(n){const e={};if("buttons"in n&&(e.buttons=n.buttons),"shiftKey"in n){const{shiftKey:t,altKey:r,metaKey:i,ctrlKey:s}=n;Object.assign(e,{shiftKey:t,altKey:r,metaKey:i,ctrlKey:s})}return e}function d2(n,...e){return typeof n=="function"?n(...e):n}function jY(){}function FY(...n){return n.length===0?jY:n.length===1?n[0]:function(){let e;for(const t of n)e=t.apply(this,arguments)||e;return e}}function UT(n,e){return Object.assign({},e,n||{})}const BY=32;class _R{constructor(e,t,r){this.ctrl=e,this.args=t,this.key=r,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(e){this.ctrl.state[this.key]=e}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){const{state:e,shared:t,ingKey:r,args:i}=this;t[r]=e._active=e.active=e._blocked=e._force=!1,e._step=[!1,!1],e.intentional=!1,e._movement=[0,0],e._distance=[0,0],e._direction=[0,0],e._delta=[0,0],e._bounds=[[-1/0,1/0],[-1/0,1/0]],e.args=i,e.axis=void 0,e.memo=void 0,e.elapsedTime=e.timeDelta=0,e.direction=[0,0],e.distance=[0,0],e.overflow=[0,0],e._movementBound=[!1,!1],e.velocity=[0,0],e.movement=[0,0],e.delta=[0,0],e.timeStamp=0}start(e){const t=this.state,r=this.config;t._active||(this.reset(),this.computeInitial(),t._active=!0,t.target=e.target,t.currentTarget=e.currentTarget,t.lastOffset=r.from?d2(r.from,t):t.offset,t.offset=t.lastOffset,t.startTime=t.timeStamp=e.timeStamp)}computeValues(e){const t=this.state;t._values=e,t.values=this.config.transform(e)}computeInitial(){const e=this.state;e._initial=e._values,e.initial=e.values}compute(e){const{state:t,config:r,shared:i}=this;t.args=this.args;let s=0;if(e&&(t.event=e,r.preventDefault&&e.cancelable&&t.event.preventDefault(),t.type=e.type,i.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,i.locked=!!document.pointerLockElement,Object.assign(i,PY(e)),i.down=i.pressed=i.buttons%2===1||i.touches>0,s=e.timeStamp-t.timeStamp,t.timeStamp=e.timeStamp,t.elapsedTime=t.timeStamp-t.startTime),t._active){const re=t._delta.map(Math.abs);ss.addTo(t._distance,re)}this.axisIntent&&this.axisIntent(e);const[o,u]=t._movement,[f,d]=r.threshold,{_step:x,values:w}=t;if(r.hasCustomTransform?(x[0]===!1&&(x[0]=Math.abs(o)>=f&&w[0]),x[1]===!1&&(x[1]=Math.abs(u)>=d&&w[1])):(x[0]===!1&&(x[0]=Math.abs(o)>=f&&Math.sign(o)*f),x[1]===!1&&(x[1]=Math.abs(u)>=d&&Math.sign(u)*d)),t.intentional=x[0]!==!1||x[1]!==!1,!t.intentional)return;const A=[0,0];if(r.hasCustomTransform){const[re,F]=w;A[0]=x[0]!==!1?re-x[0]:0,A[1]=x[1]!==!1?F-x[1]:0}else A[0]=x[0]!==!1?o-x[0]:0,A[1]=x[1]!==!1?u-x[1]:0;this.restrictToAxis&&!t._blocked&&this.restrictToAxis(A);const E=t.offset,I=t._active&&!t._blocked||t.active;I&&(t.first=t._active&&!t.active,t.last=!t._active&&t.active,t.active=i[this.ingKey]=t._active,e&&(t.first&&("bounds"in r&&(t._bounds=d2(r.bounds,t)),this.setup&&this.setup()),t.movement=A,this.computeOffset()));const[C,M]=t.offset,[[j,W],[k,G]]=t._bounds;t.overflow=[C<j?-1:C>W?1:0,M<k?-1:M>G?1:0],t._movementBound[0]=t.overflow[0]?t._movementBound[0]===!1?t._movement[0]:t._movementBound[0]:!1,t._movementBound[1]=t.overflow[1]?t._movementBound[1]===!1?t._movement[1]:t._movementBound[1]:!1;const ce=t._active?r.rubberband||[0,0]:[0,0];if(t.offset=EY(t._bounds,t.offset,ce),t.delta=ss.sub(t.offset,E),this.computeMovement(),I&&(!t.last||s>BY)){t.delta=ss.sub(t.offset,E);const re=t.delta.map(Math.abs);ss.addTo(t.distance,re),t.direction=t.delta.map(Math.sign),t._direction=t._delta.map(Math.sign),!t.first&&s>0&&(t.velocity=[re[0]/s,re[1]/s],t.timeDelta=s)}}emit(){const e=this.state,t=this.shared,r=this.config;if(e._active||this.clean(),(e._blocked||!e.intentional)&&!e._force&&!r.triggerAllEvents)return;const i=this.handler(ws(ws(ws({},t),e),{},{[this.aliasKey]:e.values}));i!==void 0&&(e.memo=i)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}}function UY([n,e],t){const r=Math.abs(n),i=Math.abs(e);if(r>i&&r>t)return"x";if(i>r&&i>t)return"y"}class zm extends _R{constructor(...e){super(...e),fa(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=ss.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=ss.sub(this.state.offset,this.state.lastOffset)}axisIntent(e){const t=this.state,r=this.config;if(!t.axis&&e){const i=typeof r.axisThreshold=="object"?r.axisThreshold[pR(e)]:r.axisThreshold;t.axis=UY(t._movement,i)}t._blocked=(r.lockDirection||!!r.axis)&&!t.axis||!!r.axis&&r.axis!==t.axis}restrictToAxis(e){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":e[1]=0;break;case"y":e[0]=0;break}}}const VY=n=>n,VT=.15,yR={enabled(n=!0){return n},eventOptions(n,e,t){return ws(ws({},t.shared.eventOptions),n)},preventDefault(n=!1){return n},triggerAllEvents(n=!1){return n},rubberband(n=0){switch(n){case!0:return[VT,VT];case!1:return[0,0];default:return ss.toVector(n)}},from(n){if(typeof n=="function")return n;if(n!=null)return ss.toVector(n)},transform(n,e,t){const r=n||t.shared.transform;return this.hasCustomTransform=!!r,r||VY},threshold(n){return ss.toVector(n,0)}},zY=0,sd=ws(ws({},yR),{},{axis(n,e,{axis:t}){if(this.lockDirection=t==="lock",!this.lockDirection)return t},axisThreshold(n=zY){return n},bounds(n={}){if(typeof n=="function")return s=>sd.bounds(n(s));if("current"in n)return()=>n.current;if(typeof HTMLElement=="function"&&n instanceof HTMLElement)return n;const{left:e=-1/0,right:t=1/0,top:r=-1/0,bottom:i=1/0}=n;return[[e,t],[r,i]]}}),zT={ArrowRight:(n,e=1)=>[n*e,0],ArrowLeft:(n,e=1)=>[-1*n*e,0],ArrowUp:(n,e=1)=>[0,-1*n*e],ArrowDown:(n,e=1)=>[0,n*e]};class HY extends zm{constructor(...e){super(...e),fa(this,"ingKey","dragging")}reset(){super.reset();const e=this.state;e._pointerId=void 0,e._pointerActive=!1,e._keyboardActive=!1,e._preventScroll=!1,e._delayed=!1,e.swipe=[0,0],e.tap=!1,e.canceled=!1,e.cancel=this.cancel.bind(this)}setup(){const e=this.state;if(e._bounds instanceof HTMLElement){const t=e._bounds.getBoundingClientRect(),r=e.currentTarget.getBoundingClientRect(),i={left:t.left-r.left+e.offset[0],right:t.right-r.right+e.offset[0],top:t.top-r.top+e.offset[1],bottom:t.bottom-r.bottom+e.offset[1]};e._bounds=sd.bounds(i)}}cancel(){const e=this.state;e.canceled||(e.canceled=!0,e._active=!1,setTimeout(()=>{this.compute(),this.emit()},0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,super.clean()}pointerDown(e){const t=this.config,r=this.state;if(e.buttons!=null&&(Array.isArray(t.pointerButtons)?!t.pointerButtons.includes(e.buttons):t.pointerButtons!==-1&&t.pointerButtons!==e.buttons))return;const i=this.ctrl.setEventIds(e);t.pointerCapture&&e.target.setPointerCapture(e.pointerId),!(i&&i.size>1&&r._pointerActive)&&(this.start(e),this.setupPointer(e),r._pointerId=Z_(e),r._pointerActive=!0,this.computeValues(M0(e)),this.computeInitial(),t.preventScrollAxis&&pR(e)!=="mouse"?(r._active=!1,this.setupScrollPrevention(e)):t.delay>0?(this.setupDelayTrigger(e),t.triggerAllEvents&&(this.compute(e),this.emit())):this.startPointerDrag(e))}startPointerDrag(e){const t=this.state;t._active=!0,t._preventScroll=!0,t._delayed=!1,this.compute(e),this.emit()}pointerMove(e){const t=this.state,r=this.config;if(!t._pointerActive)return;const i=Z_(e);if(t._pointerId!==void 0&&i!==t._pointerId)return;const s=M0(e);if(document.pointerLockElement===e.target?t._delta=[e.movementX,e.movementY]:(t._delta=ss.sub(s,t._values),this.computeValues(s)),ss.addTo(t._movement,t._delta),this.compute(e),t._delayed&&t.intentional){this.timeoutStore.remove("dragDelay"),t.active=!1,this.startPointerDrag(e);return}if(r.preventScrollAxis&&!t._preventScroll)if(t.axis)if(t.axis===r.preventScrollAxis||r.preventScrollAxis==="xy"){t._active=!1,this.clean();return}else{this.timeoutStore.remove("startPointerDrag"),this.startPointerDrag(e);return}else return;this.emit()}pointerUp(e){this.ctrl.setEventIds(e);try{this.config.pointerCapture&&e.target.hasPointerCapture(e.pointerId)&&e.target.releasePointerCapture(e.pointerId)}catch{}const t=this.state,r=this.config;if(!t._active||!t._pointerActive)return;const i=Z_(e);if(t._pointerId!==void 0&&i!==t._pointerId)return;this.state._pointerActive=!1,this.setActive(),this.compute(e);const[s,o]=t._distance;if(t.tap=s<=r.tapsThreshold&&o<=r.tapsThreshold,t.tap&&r.filterTaps)t._force=!0;else{const[u,f]=t._delta,[d,x]=t._movement,[w,A]=r.swipe.velocity,[E,I]=r.swipe.distance,C=r.swipe.duration;if(t.elapsedTime<C){const M=Math.abs(u/t.timeDelta),j=Math.abs(f/t.timeDelta);M>w&&Math.abs(d)>E&&(t.swipe[0]=Math.sign(u)),j>A&&Math.abs(x)>I&&(t.swipe[1]=Math.sign(f))}}this.emit()}pointerClick(e){!this.state.tap&&e.detail>0&&(e.preventDefault(),e.stopPropagation())}setupPointer(e){const t=this.config,r=t.device;t.pointerLock&&e.currentTarget.requestPointerLock(),t.pointerCapture||(this.eventStore.add(this.sharedConfig.window,r,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,r,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,r,"cancel",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(e){this.state._preventScroll&&e.cancelable&&e.preventDefault()}setupScrollPrevention(e){this.state._preventScroll=!1,qY(e);const t=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",t),this.eventStore.add(this.sharedConfig.window,"touch","cancel",t),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,e)}setupDelayTrigger(e){this.state._delayed=!0,this.timeoutStore.add("dragDelay",()=>{this.state._step=[0,0],this.startPointerDrag(e)},this.config.delay)}keyDown(e){const t=zT[e.key];if(t){const r=this.state,i=e.shiftKey?10:e.altKey?.1:1;this.start(e),r._delta=t(this.config.keyboardDisplacement,i),r._keyboardActive=!0,ss.addTo(r._movement,r._delta),this.compute(e),this.emit()}}keyUp(e){e.key in zT&&(this.state._keyboardActive=!1,this.setActive(),this.compute(e),this.emit())}bind(e){const t=this.config.device;e(t,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(e(t,"change",this.pointerMove.bind(this)),e(t,"end",this.pointerUp.bind(this)),e(t,"cancel",this.pointerUp.bind(this)),e("lostPointerCapture","",this.pointerUp.bind(this))),this.config.keys&&(e("key","down",this.keyDown.bind(this)),e("key","up",this.keyUp.bind(this))),this.config.filterTaps&&e("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}}function qY(n){"persist"in n&&typeof n.persist=="function"&&n.persist()}const Hm=typeof window<"u"&&window.document&&window.document.createElement;function wR(){return Hm&&"ontouchstart"in window}function GY(){return wR()||Hm&&window.navigator.maxTouchPoints>1}function WY(){return Hm&&"onpointerdown"in window}function YY(){return Hm&&"exitPointerLock"in window.document}function XY(){try{return"constructor"in GestureEvent}catch{return!1}}const $l={isBrowser:Hm,gesture:XY(),touch:wR(),touchscreen:GY(),pointer:WY(),pointerLock:YY()},KY=250,QY=180,$Y=.5,ZY=50,JY=250,eX=10,HT={mouse:0,touch:0,pen:8},tX=ws(ws({},sd),{},{device(n,e,{pointer:{touch:t=!1,lock:r=!1,mouse:i=!1}={}}){return this.pointerLock=r&&$l.pointerLock,$l.touch&&t?"touch":this.pointerLock?"mouse":$l.pointer&&!i?"pointer":$l.touch?"touch":"mouse"},preventScrollAxis(n,e,{preventScroll:t}){if(this.preventScrollDelay=typeof t=="number"?t:t||t===void 0&&n?KY:void 0,!(!$l.touchscreen||t===!1))return n||(t!==void 0?"y":void 0)},pointerCapture(n,e,{pointer:{capture:t=!0,buttons:r=1,keys:i=!0}={}}){return this.pointerButtons=r,this.keys=i,!this.pointerLock&&this.device==="pointer"&&t},threshold(n,e,{filterTaps:t=!1,tapsThreshold:r=3,axis:i=void 0}){const s=ss.toVector(n,t?r:i?1:0);return this.filterTaps=t,this.tapsThreshold=r,s},swipe({velocity:n=$Y,distance:e=ZY,duration:t=JY}={}){return{velocity:this.transform(ss.toVector(n)),distance:this.transform(ss.toVector(e)),duration:t}},delay(n=0){switch(n){case!0:return QY;case!1:return 0;default:return n}},axisThreshold(n){return n?ws(ws({},HT),n):HT},keyboardDisplacement(n=eX){return n}});function bR(n){const[e,t]=n.overflow,[r,i]=n._delta,[s,o]=n._direction;(e<0&&r>0&&s<0||e>0&&r<0&&s>0)&&(n._movement[0]=n._movementBound[0]),(t<0&&i>0&&o<0||t>0&&i<0&&o>0)&&(n._movement[1]=n._movementBound[1])}const nX=30,rX=100;class iX extends _R{constructor(...e){super(...e),fa(this,"ingKey","pinching"),fa(this,"aliasKey","da")}init(){this.state.offset=[1,0],this.state.lastOffset=[1,0],this.state._pointerEvents=new Map}reset(){super.reset();const e=this.state;e._touchIds=[],e.canceled=!1,e.cancel=this.cancel.bind(this),e.turns=0}computeOffset(){const{type:e,movement:t,lastOffset:r}=this.state;e==="wheel"?this.state.offset=ss.add(t,r):this.state.offset=[(1+t[0])*r[0],t[1]+r[1]]}computeMovement(){const{offset:e,lastOffset:t}=this.state;this.state.movement=[e[0]/t[0],e[1]-t[1]]}axisIntent(){const e=this.state,[t,r]=e._movement;if(!e.axis){const i=Math.abs(t)*nX-Math.abs(r);i<0?e.axis="angle":i>0&&(e.axis="scale")}}restrictToAxis(e){this.config.lockDirection&&(this.state.axis==="scale"?e[1]=0:this.state.axis==="angle"&&(e[0]=0))}cancel(){const e=this.state;e.canceled||setTimeout(()=>{e.canceled=!0,e._active=!1,this.compute(),this.emit()},0)}touchStart(e){this.ctrl.setEventIds(e);const t=this.state,r=this.ctrl.touchIds;if(t._active&&t._touchIds.every(s=>r.has(s))||r.size<2)return;this.start(e),t._touchIds=Array.from(r).slice(0,2);const i=jT(e,t._touchIds);i&&this.pinchStart(e,i)}pointerStart(e){if(e.buttons!=null&&e.buttons%2!==1)return;this.ctrl.setEventIds(e),e.target.setPointerCapture(e.pointerId);const t=this.state,r=t._pointerEvents,i=this.ctrl.pointerIds;if(t._active&&Array.from(r.keys()).every(o=>i.has(o))||(r.size<2&&r.set(e.pointerId,e),t._pointerEvents.size<2))return;this.start(e);const s=tw(...Array.from(r.values()));s&&this.pinchStart(e,s)}pinchStart(e,t){const r=this.state;r.origin=t.origin,this.computeValues([t.distance,t.angle]),this.computeInitial(),this.compute(e),this.emit()}touchMove(e){if(!this.state._active)return;const t=jT(e,this.state._touchIds);t&&this.pinchMove(e,t)}pointerMove(e){const t=this.state._pointerEvents;if(t.has(e.pointerId)&&t.set(e.pointerId,e),!this.state._active)return;const r=tw(...Array.from(t.values()));r&&this.pinchMove(e,r)}pinchMove(e,t){const r=this.state,i=r._values[1],s=t.angle-i;let o=0;Math.abs(s)>270&&(o+=Math.sign(s)),this.computeValues([t.distance,t.angle-360*o]),r.origin=t.origin,r.turns=o,r._movement=[r._values[0]/r._initial[0]-1,r._values[1]-r._initial[1]],this.compute(e),this.emit()}touchEnd(e){this.ctrl.setEventIds(e),this.state._active&&this.state._touchIds.some(t=>!this.ctrl.touchIds.has(t))&&(this.state._active=!1,this.compute(e),this.emit())}pointerEnd(e){const t=this.state;this.ctrl.setEventIds(e);try{e.target.releasePointerCapture(e.pointerId)}catch{}t._pointerEvents.has(e.pointerId)&&t._pointerEvents.delete(e.pointerId),t._active&&t._pointerEvents.size<2&&(t._active=!1,this.compute(e),this.emit())}gestureStart(e){e.cancelable&&e.preventDefault();const t=this.state;t._active||(this.start(e),this.computeValues([e.scale,e.rotation]),t.origin=[e.clientX,e.clientY],this.compute(e),this.emit())}gestureMove(e){if(e.cancelable&&e.preventDefault(),!this.state._active)return;const t=this.state;this.computeValues([e.scale,e.rotation]),t.origin=[e.clientX,e.clientY];const r=t._movement;t._movement=[e.scale-1,e.rotation],t._delta=ss.sub(t._movement,r),this.compute(e),this.emit()}gestureEnd(e){this.state._active&&(this.state._active=!1,this.compute(e),this.emit())}wheel(e){const t=this.config.modifierKey;t&&(Array.isArray(t)?!t.find(r=>e[r]):!e[t])||(this.state._active?this.wheelChange(e):this.wheelStart(e),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this)))}wheelStart(e){this.start(e),this.wheelChange(e)}wheelChange(e){"uv"in e||e.cancelable&&e.preventDefault();const r=this.state;r._delta=[-vR(e)[1]/rX*r.offset[0],0],ss.addTo(r._movement,r._delta),bR(r),this.state.origin=[e.clientX,e.clientY],this.compute(e),this.emit()}wheelEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(e){const t=this.config.device;t&&(e(t,"start",this[t+"Start"].bind(this)),e(t,"change",this[t+"Move"].bind(this)),e(t,"end",this[t+"End"].bind(this)),e(t,"cancel",this[t+"End"].bind(this)),e("lostPointerCapture","",this[t+"End"].bind(this))),this.config.pinchOnWheel&&e("wheel","",this.wheel.bind(this),{passive:!1})}}const sX=ws(ws({},yR),{},{device(n,e,{shared:t,pointer:{touch:r=!1}={}}){if(t.target&&!$l.touch&&$l.gesture)return"gesture";if($l.touch&&r)return"touch";if($l.touchscreen){if($l.pointer)return"pointer";if($l.touch)return"touch"}},bounds(n,e,{scaleBounds:t={},angleBounds:r={}}){const i=o=>{const u=UT(d2(t,o),{min:-1/0,max:1/0});return[u.min,u.max]},s=o=>{const u=UT(d2(r,o),{min:-1/0,max:1/0});return[u.min,u.max]};return typeof t!="function"&&typeof r!="function"?[i(),s()]:o=>[i(o),s(o)]},threshold(n,e,t){return this.lockDirection=t.axis==="lock",ss.toVector(n,this.lockDirection?[.1,3]:0)},modifierKey(n){return n===void 0?"ctrlKey":n},pinchOnWheel(n=!0){return n}});class aX extends zm{constructor(...e){super(...e),fa(this,"ingKey","moving")}move(e){this.config.mouseOnly&&e.pointerType!=="mouse"||(this.state._active?this.moveChange(e):this.moveStart(e),this.timeoutStore.add("moveEnd",this.moveEnd.bind(this)))}moveStart(e){this.start(e),this.computeValues(M0(e)),this.compute(e),this.computeInitial(),this.emit()}moveChange(e){if(!this.state._active)return;const t=M0(e),r=this.state;r._delta=ss.sub(t,r._values),ss.addTo(r._movement,r._delta),this.computeValues(t),this.compute(e),this.emit()}moveEnd(e){this.state._active&&(this.state._active=!1,this.compute(e),this.emit())}bind(e){e("pointer","change",this.move.bind(this)),e("pointer","leave",this.moveEnd.bind(this))}}const oX=ws(ws({},sd),{},{mouseOnly:(n=!0)=>n});class lX extends zm{constructor(...e){super(...e),fa(this,"ingKey","scrolling")}scroll(e){this.state._active||this.start(e),this.scrollChange(e),this.timeoutStore.add("scrollEnd",this.scrollEnd.bind(this))}scrollChange(e){e.cancelable&&e.preventDefault();const t=this.state,r=kY(e);t._delta=ss.sub(r,t._values),ss.addTo(t._movement,t._delta),this.computeValues(r),this.compute(e),this.emit()}scrollEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(e){e("scroll","",this.scroll.bind(this))}}const cX=sd;class uX extends zm{constructor(...e){super(...e),fa(this,"ingKey","wheeling")}wheel(e){this.state._active||this.start(e),this.wheelChange(e),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this))}wheelChange(e){const t=this.state;t._delta=vR(e),ss.addTo(t._movement,t._delta),bR(t),this.compute(e),this.emit()}wheelEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(e){e("wheel","",this.wheel.bind(this))}}const hX=sd;class fX extends zm{constructor(...e){super(...e),fa(this,"ingKey","hovering")}enter(e){this.config.mouseOnly&&e.pointerType!=="mouse"||(this.start(e),this.computeValues(M0(e)),this.compute(e),this.emit())}leave(e){if(this.config.mouseOnly&&e.pointerType!=="mouse")return;const t=this.state;if(!t._active)return;t._active=!1;const r=M0(e);t._movement=t._delta=ss.sub(r,t._values),this.computeValues(r),this.compute(e),t.delta=t.movement,this.emit()}bind(e){e("pointer","enter",this.enter.bind(this)),e("pointer","leave",this.leave.bind(this))}}const dX=ws(ws({},sd),{},{mouseOnly:(n=!0)=>n}),P5=new Map,nw=new Map;function mX(n){P5.set(n.key,n.engine),nw.set(n.key,n.resolver)}const gX={key:"drag",engine:HY,resolver:tX},pX={key:"hover",engine:fX,resolver:dX},xX={key:"move",engine:aX,resolver:oX},vX={key:"pinch",engine:iX,resolver:sX},_X={key:"scroll",engine:lX,resolver:cX},yX={key:"wheel",engine:uX,resolver:hX};function wX(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function bX(n,e){if(n==null)return{};var t=wX(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}const EX={target(n){if(n)return()=>"current"in n?n.current:n},enabled(n=!0){return n},window(n=$l.isBrowser?window:void 0){return n},eventOptions({passive:n=!0,capture:e=!1}={}){return{passive:n,capture:e}},transform(n){return n}},AX=["target","eventOptions","window","enabled","transform"];function Up(n={},e){const t={};for(const[r,i]of Object.entries(e))switch(typeof i){case"function":t[r]=i.call(t,n[r],r,n);break;case"object":t[r]=Up(n[r],i);break;case"boolean":i&&(t[r]=n[r]);break}return t}function SX(n,e,t={}){const r=n,{target:i,eventOptions:s,window:o,enabled:u,transform:f}=r,d=bX(r,AX);if(t.shared=Up({target:i,eventOptions:s,window:o,enabled:u,transform:f},EX),e){const x=nw.get(e);t[e]=Up(ws({shared:t.shared},d),x)}else for(const x in d){const w=nw.get(x);w&&(t[x]=Up(ws({shared:t.shared},d[x]),w))}return t}class ER{constructor(e,t){fa(this,"_listeners",new Set),this._ctrl=e,this._gestureKey=t}add(e,t,r,i,s){const o=this._listeners,u=OY(t,r),f=this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{},d=ws(ws({},f),s);e.addEventListener(u,i,d);const x=()=>{e.removeEventListener(u,i,d),o.delete(x)};return o.add(x),x}clean(){this._listeners.forEach(e=>e()),this._listeners.clear()}}class TX{constructor(){fa(this,"_timeouts",new Map)}add(e,t,r=140,...i){this.remove(e),this._timeouts.set(e,window.setTimeout(t,r,...i))}remove(e){const t=this._timeouts.get(e);t&&window.clearTimeout(t)}clean(){this._timeouts.forEach(e=>void window.clearTimeout(e)),this._timeouts.clear()}}class NX{constructor(e){fa(this,"gestures",new Set),fa(this,"_targetEventStore",new ER(this)),fa(this,"gestureEventStores",{}),fa(this,"gestureTimeoutStores",{}),fa(this,"handlers",{}),fa(this,"config",{}),fa(this,"pointerIds",new Set),fa(this,"touchIds",new Set),fa(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),CX(this,e)}setEventIds(e){if(fx(e))return this.touchIds=new Set(LY(e)),this.touchIds;if("pointerId"in e)return e.type==="pointerup"||e.type==="pointercancel"?this.pointerIds.delete(e.pointerId):e.type==="pointerdown"&&this.pointerIds.add(e.pointerId),this.pointerIds}applyHandlers(e,t){this.handlers=e,this.nativeHandlers=t}applyConfig(e,t){this.config=SX(e,t,this.config)}clean(){this._targetEventStore.clean();for(const e of this.gestures)this.gestureEventStores[e].clean(),this.gestureTimeoutStores[e].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(...e){const t=this.config.shared,r={};let i;if(!(t.target&&(i=t.target(),!i))){if(t.enabled){for(const o of this.gestures){const u=this.config[o],f=qT(r,u.eventOptions,!!i);if(u.enabled){const d=P5.get(o);new d(this,e,o).bind(f)}}const s=qT(r,t.eventOptions,!!i);for(const o in this.nativeHandlers)s(o,"",u=>this.nativeHandlers[o](ws(ws({},this.state.shared),{},{event:u,args:e})),void 0,!0)}for(const s in r)r[s]=FY(...r[s]);if(!i)return r;for(const s in r){const{device:o,capture:u,passive:f}=RY(s);this._targetEventStore.add(i,o,"",r[s],{capture:u,passive:f})}}}}function Xd(n,e){n.gestures.add(e),n.gestureEventStores[e]=new ER(n,e),n.gestureTimeoutStores[e]=new TX}function CX(n,e){e.drag&&Xd(n,"drag"),e.wheel&&Xd(n,"wheel"),e.scroll&&Xd(n,"scroll"),e.move&&Xd(n,"move"),e.pinch&&Xd(n,"pinch"),e.hover&&Xd(n,"hover")}const qT=(n,e,t)=>(r,i,s,o={},u=!1)=>{var f,d;const x=(f=o.capture)!==null&&f!==void 0?f:e.capture,w=(d=o.passive)!==null&&d!==void 0?d:e.passive;let A=u?r:CY(r,i,x);t&&w&&(A+="Passive"),n[A]=n[A]||[],n[A].push(s)},IX=/^on(Drag|Wheel|Scroll|Move|Pinch|Hover)/;function RX(n){const e={},t={},r=new Set;for(let i in n)IX.test(i)?(r.add(RegExp.lastMatch),t[i]=n[i]):e[i]=n[i];return[t,e,r]}function Kd(n,e,t,r,i,s){if(!n.has(t)||!P5.has(r))return;const o=t+"Start",u=t+"End",f=d=>{let x;return d.first&&o in e&&e[o](d),t in e&&(x=e[t](d)),d.last&&u in e&&e[u](d),x};i[r]=f,s[r]=s[r]||{}}function OX(n,e){const[t,r,i]=RX(n),s={};return Kd(i,t,"onDrag","drag",s,e),Kd(i,t,"onWheel","wheel",s,e),Kd(i,t,"onScroll","scroll",s,e),Kd(i,t,"onPinch","pinch",s,e),Kd(i,t,"onMove","move",s,e),Kd(i,t,"onHover","hover",s,e),{handlers:s,config:e,nativeHandlers:r}}function DX(n,e={},t,r){const i=yp.useMemo(()=>new NX(n),[]);if(i.applyHandlers(n,r),i.applyConfig(e,t),yp.useEffect(i.effect.bind(i)),yp.useEffect(()=>i.clean.bind(i),[]),e.target===void 0)return i.bind.bind(i)}function MX(n){return n.forEach(mX),function(t,r){const{handlers:i,nativeHandlers:s,config:o}=OX(t,r||{});return DX(i,o,void 0,s)}}function LX(n,e){return MX([gX,vX,_X,yX,xX,pX])(n,e||{})}const kX=[{id:"president",firstName:"Gauri",lastName:"Kshirsagar",dateOfBirth:"18 May 2004",team:"Leadership",position:"President",academics:{year:"4th Year",branch:"Computer Engineering",division:"B",yearOfGraduation:"2026"},socialLinks:{instagram:"",linkedin:"",github:"",twitter:""},image:"Gauri.jpg"},{id:"chairman",firstName:"Antriksh",lastName:"Shah",dateOfBirth:"22 Dec 2004",team:"Leadership",position:"Chairman",academics:{year:"4th Year",branch:"Computer Engineering",division:"C",yearOfGraduation:"2026"},socialLinks:{instagram:"",linkedin:"",github:"",twitter:""},image:"Antriksh.jpeg"},{id:"secretary",firstName:"Devashree",lastName:"Pate",dateOfBirth:"26 Oct 2004",team:"Leadership",position:"Secretary",academics:{year:"4th Year",branch:"Computer Engineering",division:"A",yearOfGraduation:"2026"},socialLinks:{instagram:"",linkedin:"",github:"",twitter:""},image:"Devashree.jpg"},{id:"treasurer",firstName:"Vivek",lastName:"Jadhav",dateOfBirth:"18 Aug 2004",team:"Leadership",position:"Treasurer",academics:{year:"4th Year",branch:"Computer Engineering",division:"B",yearOfGraduation:"2026"},socialLinks:{instagram:"",linkedin:"",github:"",twitter:""},image:"Vivek.jpg"},{id:"co_treasurer",firstName:"Asmit",lastName:"Rajaramkar",dateOfBirth:"27 Aug 2006",team:"Leadership",position:"Co-Treasurer",academics:{year:"2nd Year",branch:"Computer Engineering",division:"C",yearOfGraduation:"2028"},socialLinks:{instagram:"",linkedin:"",github:"",twitter:""},image:"Asmit.png"},{id:"technical_lead",firstName:"",lastName:"",dateOfBirth:"",team:"Technical Team",position:"Team Leader",academics:{year:"",branch:"",division:"",yearOfGraduation:""},socialLinks:{instagram:"",linkedin:"",github:"",twitter:""},image:"technical_lead.jpg"},{id:"technical_member_1",firstName:"",lastName:"",dateOfBirth:"",team:"Technical Team",position:"Member",academics:{year:"",branch:"",division:"",yearOfGraduation:""},socialLinks:{instagram:"",linkedin:"",github:"",twitter:""},image:"technical_member_1.jpg"},{id:"technical_member_2",firstName:"",lastName:"",dateOfBirth:"",team:"Technical Team",position:"Member",academics:{year:"",branch:"",division:"",yearOfGraduation:""},socialLinks:{instagram:"",linkedin:"",github:"",twitter:""},image:"technical_member_2.jpg"},{id:"technical_member_3",firstName:"",lastName:"",dateOfBirth:"",team:"Technical Team",position:"Member",academics:{year:"",branch:"",division:"",yearOfGraduation:""},socialLinks:{instagram:"",linkedin:"",github:"",twitter:""},image:"technical_member_3.jpg"},{id:"public_outreach_lead",firstName:"",lastName:"",dateOfBirth:"",team:"Public Outreach Team",position:"Team Leader",academics:{year:"",branch:"",division:"",yearOfGraduation:""},socialLinks:{instagram:"",linkedin:"",github:"",twitter:""},image:"public_outreach_lead.jpg"},{id:"public_outreach_member_1",firstName:"Vidhita",lastName:"Kirtani",dateOfBirth:"26 Nov 2005",team:"Public Outreach Team",position:"Member",academics:{year:"2nd Year",branch:"Computer Engineering",division:"B",yearOfGraduation:"2028"},socialLinks:{instagram:"",linkedin:"",github:"",twitter:""},image:"Vidhita.png"},{id:"public_outreach_member_2",firstName:"Shravan",lastName:"Ghuge",dateOfBirth:"04 Feb 2005",team:"Public Outreach Team",position:"Member",academics:{year:"3rd Year",branch:"Computer Engineering",division:"A",yearOfGraduation:"2027"},socialLinks:{instagram:"https://www.instagram.com/shravan45x/",linkedin:"",github:"https://github.com/shravan4507",twitter:"https://x.com/shravan45z"},image:"Shravan.png"},{id:"documentation_lead",firstName:"Janhavi",lastName:"Danve",dateOfBirth:"17 Oct 2005",team:"Documentation Team",position:"Team Leader",academics:{year:"3rd Year",branch:"Computer Engineering",division:"A",yearOfGraduation:"2027"},socialLinks:{instagram:"",linkedin:"",github:"",twitter:""},image:"Janhavi.png"},{id:"documentation_member_1",firstName:"",lastName:"",dateOfBirth:"",team:"Documentation Team",position:"Member",academics:{year:"",branch:"",division:"",yearOfGraduation:""},socialLinks:{instagram:"",linkedin:"",github:"",twitter:""},image:"documentation_member_1.jpg"},{id:"documentation_member_2",firstName:"",lastName:"",dateOfBirth:"",team:"Documentation Team",position:"Member",academics:{year:"",branch:"",division:"",yearOfGraduation:""},socialLinks:{instagram:"",linkedin:"",github:"",twitter:""},image:"documentation_member_2.jpg"},{id:"social_media_lead",firstName:"",lastName:"",dateOfBirth:"",team:"Social Media & Editing Team",position:"Team Leader",academics:{year:"",branch:"",division:"",yearOfGraduation:""},socialLinks:{instagram:"",linkedin:"",github:"",twitter:""},image:"social_media_lead.jpg"},{id:"social_media_member_1",firstName:"",lastName:"",dateOfBirth:"",team:"Social Media & Editing Team",position:"Member",academics:{year:"",branch:"",division:"",yearOfGraduation:""},socialLinks:{instagram:"",linkedin:"",github:"",twitter:""},image:"social_media_member_1.jpg"},{id:"social_media_member_2",firstName:"",lastName:"",dateOfBirth:"",team:"Social Media & Editing Team",position:"Member",academics:{year:"",branch:"",division:"",yearOfGraduation:""},socialLinks:{instagram:"",linkedin:"",github:"",twitter:""},image:"social_media_member_2.jpg"},{id:"social_media_member_3",firstName:"",lastName:"",dateOfBirth:"",team:"Social Media & Editing Team",position:"Member",academics:{year:"",branch:"",division:"",yearOfGraduation:""},socialLinks:{instagram:"",linkedin:"",github:"",twitter:""},image:"social_media_member_3.jpg"},{id:"design_innovation_lead",firstName:"",lastName:"",dateOfBirth:"",team:"Design & Innovation Team",position:"Team Leader",academics:{year:"",branch:"",division:"",yearOfGraduation:""},socialLinks:{instagram:"",linkedin:"",github:"",twitter:""},image:"design_innovation_lead.jpg"},{id:"design_innovation_member_1",firstName:"Sampada",lastName:"Bari",dateOfBirth:"02 Feb 2006",team:"Design & Innovation Team",position:"Member",academics:{year:"2nd Year",branch:"Computer Engineering",division:"A",yearOfGraduation:"2028"},socialLinks:{instagram:"",linkedin:"",github:"",twitter:""},image:"Sampada.webp"},{id:"design_innovation_member_2",firstName:"",lastName:"",dateOfBirth:"",team:"Design & Innovation Team",position:"Member",academics:{year:"",branch:"",division:"",yearOfGraduation:""},socialLinks:{instagram:"",linkedin:"",github:"",twitter:""},image:"design_innovation_member_2.jpg"},{id:"design_innovation_member_3",firstName:"",lastName:"",dateOfBirth:"",team:"Design & Innovation Team",position:"Member",academics:{year:"",branch:"",division:"",yearOfGraduation:""},socialLinks:{instagram:"",linkedin:"",github:"",twitter:""},image:"design_innovation_member_3.jpg"},{id:"management_operations_lead",firstName:"",lastName:"",dateOfBirth:"",team:"Management & Operations Team",position:"Team Leader",academics:{year:"",branch:"",division:"",yearOfGraduation:""},socialLinks:{instagram:"",linkedin:"",github:"",twitter:""},image:"management_operations_lead.jpg"},{id:"management_operations_member_1",firstName:"",lastName:"",dateOfBirth:"",team:"Management & Operations Team",position:"Member",academics:{year:"",branch:"",division:"",yearOfGraduation:""},socialLinks:{instagram:"",linkedin:"",github:"",twitter:""},image:"management_operations_member_1.jpg"},{id:"management_operations_member_2",firstName:"",lastName:"",dateOfBirth:"",team:"Management & Operations Team",position:"Member",academics:{year:"",branch:"",division:"",yearOfGraduation:""},socialLinks:{instagram:"",linkedin:"",github:"",twitter:""},image:"management_operations_member_2.jpg"},{id:"management_operations_member_3",firstName:"",lastName:"",dateOfBirth:"",team:"Management & Operations Team",position:"Member",academics:{year:"",branch:"",division:"",yearOfGraduation:""},socialLinks:{instagram:"",linkedin:"",github:"",twitter:""},image:"management_operations_member_3.jpg"},{id:"management_operations_member_4",firstName:"",lastName:"",dateOfBirth:"",team:"Management & Operations Team",position:"Member",academics:{year:"",branch:"",division:"",yearOfGraduation:""},socialLinks:{instagram:"",linkedin:"",github:"",twitter:""},image:"management_operations_member_4.jpg"}],rw={members:kX},PX=n=>{const e="/orbitx-zcoer-website/";return n.filter(t=>t.firstName&&t.lastName).map(t=>{let r="";return t.image&&(t.image.startsWith("http")?r=t.image:t.image.startsWith("/")?r=e+t.image.slice(1):r=`${e}members/${t.image}`),{src:r,alt:`${t.firstName} ${t.lastName}`,name:`${t.firstName} ${t.lastName}`,role:t.position,team:t.team,bio:"",academics:t.academics,socialLinks:t.socialLinks,dateOfBirth:t.dateOfBirth}})},jX=PX(rw.members),op={maxVerticalRotationDeg:5,dragSensitivity:20,enlargeTransitionMs:300,segments:35},Rh=(n,e,t)=>Math.min(Math.max(n,e),t),GT=n=>(n%360+360)%360,lp=n=>((n+180)%360+360)%360-180,cp=(n,e,t)=>{const r=n.dataset[e]??n.getAttribute(`data-${e}`),i=r==null?NaN:parseFloat(r);return Number.isFinite(i)?i:t};function FX(n,e){const t=Array.from({length:e},(d,x)=>-37+x*2),r=[-4,-2,0,2,4],i=[-3,-1,1,3,5],s=t.flatMap((d,x)=>(x%2===0?r:i).map(A=>({x:d,y:A,sizeX:2,sizeY:2}))),o=s.length;if(n.length===0)return s.map(d=>({...d,src:"",alt:"",name:"",role:"",bio:"",team:"",academics:void 0,socialLinks:void 0,dateOfBirth:void 0}));n.length>o&&console.warn(`[DomeGallery] Provided image count (${n.length}) exceeds available tiles (${o}). Some images will not be shown.`);const u=n.map(d=>typeof d=="string"?{src:d,alt:"",name:"",role:"",bio:"",team:"",academics:void 0,socialLinks:void 0,dateOfBirth:void 0}:{src:d.src||"",alt:d.alt||"",name:d.name||"",role:d.role||"",bio:d.bio||"",team:d.team||"",academics:d.academics,socialLinks:d.socialLinks,dateOfBirth:d.dateOfBirth}),f=Array.from({length:o},(d,x)=>u[x%u.length]);for(let d=1;d<f.length;d++)if(f[d].src===f[d-1].src){for(let x=d+1;x<f.length;x++)if(f[x].src!==f[d].src){const w=f[d];f[d]=f[x],f[x]=w;break}}return s.map((d,x)=>({...d,src:f[x].src,alt:f[x].alt,name:f[x].name,role:f[x].role,bio:f[x].bio,team:f[x].team,academics:f[x].academics,socialLinks:f[x].socialLinks,dateOfBirth:f[x].dateOfBirth}))}function WT(n,e,t,r,i){const s=360/i/2,o=s*(n+(t-1)/2);return{rotateX:s*(e-(r-1)/2),rotateY:o}}function BX({images:n=jX,fit:e=.5,fitBasis:t="auto",minRadius:r=600,maxRadius:i=1/0,padFactor:s=.25,overlayBlurColor:o="#060010",maxVerticalRotationDeg:u=op.maxVerticalRotationDeg,dragSensitivity:f=op.dragSensitivity,enlargeTransitionMs:d=op.enlargeTransitionMs,segments:x=op.segments,dragDampening:w=2,openedImageWidth:A="400px",openedImageHeight:E="400px",imageBorderRadius:I="30px",openedImageBorderRadius:C="30px",grayscale:M=!0,autoRotate:j=!1,autoRotateSpeed:W=.15,searchQuery:k="",teamFilter:G="",onExplore:ce}){const re=ae.useRef(null),F=ae.useRef(null),B=ae.useRef(null),L=ae.useRef(null),Q=ae.useRef(null),U=ae.useRef(null),q=ae.useRef(null),Y=ae.useRef(null),ne=ae.useRef({x:0,y:0}),pe=ae.useRef({x:0,y:0}),Ae=ae.useRef(null),ve=ae.useRef(!1),Re=ae.useRef(!1),He=ae.useRef(null),ze=ae.useRef(!1),xe=ae.useRef(0),H=ae.useRef(0),J=ae.useRef(!1),Z=ae.useCallback(()=>{J.current||(J.current=!0,document.body.classList.add("dg-scroll-lock"))},[]),oe=ae.useCallback(()=>{J.current&&re.current?.getAttribute("data-enlarging")!=="true"&&(J.current=!1,document.body.classList.remove("dg-scroll-lock"))},[]),de=ae.useMemo(()=>{if(!G)return n;const Xe=["President","Chairman","Secretary","Treasurer","Co-Treasurer"];return n.filter(Ft=>typeof Ft=="string"?!1:Xe.includes(G)?Ft.role===G:Ft.team===G)},[n,G]),Me=ae.useMemo(()=>FX(de.length>0?de:n,x),[de,n,x]),Ue=ae.useMemo(()=>k?Me.filter(Xe=>Xe.name&&Xe.name.toLowerCase().includes(k)):[],[Me,k]),Ie=ae.useMemo(()=>{const Xe=new Set(Ue.map(Ft=>Ft.name));return Array.from(Xe)},[Ue]).length===1?Ue[0]:null,nt=Ue.length>0,Tt=(Xe,Ft)=>{const fn=B.current;fn&&(fn.style.transform=`translateZ(calc(var(--radius) * -1)) rotateX(${Xe}deg) rotateY(${Ft}deg)`)},St=ae.useRef(null);ae.useEffect(()=>{const Xe=re.current;if(!Xe)return;const Ft=new ResizeObserver(fn=>{const tn=fn[0].contentRect,yn=Math.max(1,tn.width),cn=Math.max(1,tn.height),wn=Math.min(yn,cn),gn=Math.max(yn,cn),sn=yn/cn;let bn;switch(t){case"min":bn=wn;break;case"max":bn=gn;break;case"width":bn=yn;break;case"height":bn=cn;break;default:bn=sn>=1.3?yn:wn}let un=bn*e;const nr=cn*1.35;un=Math.min(un,nr),un=Rh(un,r,i),St.current=Math.round(un);const rn=Math.max(8,Math.round(wn*s));Xe.style.setProperty("--radius",`${St.current}px`),Xe.style.setProperty("--viewer-pad",`${rn}px`),Xe.style.setProperty("--overlay-blur-color",o),Xe.style.setProperty("--tile-radius",I),Xe.style.setProperty("--enlarge-radius",C),Xe.style.setProperty("--image-filter",M?"grayscale(1)":"none"),Tt(ne.current.x,ne.current.y);const dt=Q.current?.querySelector(".enlarge");if(dt&&L.current&&F.current){const Gt=L.current.getBoundingClientRect(),It=F.current.getBoundingClientRect();if(A&&E){const Xn=document.createElement("div");Xn.style.cssText=`position: absolute; width: ${A}; height: ${E}; visibility: hidden;`,document.body.appendChild(Xn);const mt=Xn.getBoundingClientRect();document.body.removeChild(Xn);const Xt=Gt.left-It.left+(Gt.width-mt.width)/2,on=Gt.top-It.top+(Gt.height-mt.height)/2;dt.style.left=`${Xt}px`,dt.style.top=`${on}px`}else dt.style.left=`${Gt.left-It.left}px`,dt.style.top=`${Gt.top-It.top}px`,dt.style.width=`${Gt.width}px`,dt.style.height=`${Gt.height}px`}});return Ft.observe(Xe),()=>Ft.disconnect()},[e,t,r,i,s,o,M,I,C,A,E]),ae.useEffect(()=>{Tt(ne.current.x,ne.current.y)},[]);const Rt=ae.useRef(null),le=ae.useRef(!1);ae.useEffect(()=>{if(!j){Rt.current&&(cancelAnimationFrame(Rt.current),Rt.current=null);return}if(Ie&&!q.current){if(Rt.current&&(cancelAnimationFrame(Rt.current),Rt.current=null),!le.current){le.current=!0;const{rotateY:Ft}=WT(Ie.x,Ie.y,Ie.sizeX,Ie.sizeY,x),fn=-Ft;ne.current.y;const tn=()=>{let cn=fn-ne.current.y;if(cn>180&&(cn-=360),cn<-180&&(cn+=360),Math.abs(cn)<.1){ne.current={x:ne.current.x,y:fn},Tt(ne.current.x,fn),le.current=!1;return}const wn=cn*.08,gn=lp(ne.current.y+wn);ne.current={x:ne.current.x,y:gn},Tt(ne.current.x,gn),Rt.current=requestAnimationFrame(tn)};Rt.current=requestAnimationFrame(tn)}return}le.current=!1;const Xe=()=>{if(ve.current||q.current||Ie){Rt.current=requestAnimationFrame(Xe);return}const Ft=lp(ne.current.y-W);ne.current={x:ne.current.x,y:Ft},Tt(ne.current.x,Ft),Rt.current=requestAnimationFrame(Xe)};return Rt.current=requestAnimationFrame(Xe),()=>{Rt.current&&(cancelAnimationFrame(Rt.current),Rt.current=null)}},[j,W,Ie,x]);const ot=ae.useCallback(()=>{He.current&&(cancelAnimationFrame(He.current),He.current=null)},[]),Ge=ae.useCallback((Xe,Ft)=>{let tn=Rh(Xe,-1.4,1.4)*80,yn=Rh(Ft,-1.4,1.4)*80,cn=0;const wn=Rh(w??.6,0,1),gn=.94+.055*wn,sn=.015-.01*wn,bn=Math.round(90+270*wn),un=()=>{if(tn*=gn,yn*=gn,Math.abs(tn)<sn&&Math.abs(yn)<sn){He.current=null;return}if(++cn>bn){He.current=null;return}const nr=Rh(ne.current.x-yn/200,-u,u),rn=lp(ne.current.y+tn/200);ne.current={x:nr,y:rn},Tt(nr,rn),He.current=requestAnimationFrame(un)};ot(),He.current=requestAnimationFrame(un)},[w,u,ot]);LX({onDragStart:({event:Xe})=>{if(q.current)return;ot();const Ft=Xe;ve.current=!0,Re.current=!1,pe.current={...ne.current},Ae.current={x:Ft.clientX,y:Ft.clientY}},onDrag:({event:Xe,last:Ft,velocity:fn=[0,0],direction:tn=[0,0],movement:yn})=>{if(q.current||!ve.current||!Ae.current)return;const cn=Xe,wn=cn.clientX-Ae.current.x,gn=cn.clientY-Ae.current.y;Re.current||wn*wn+gn*gn>16&&(Re.current=!0);const sn=Rh(pe.current.x-gn/f,-u,u),bn=lp(pe.current.y+wn/f);if((ne.current.x!==sn||ne.current.y!==bn)&&(ne.current={x:sn,y:bn},Tt(sn,bn)),Ft){ve.current=!1;let[un,nr]=fn;const[rn,dt]=tn;let Gt=un*rn,It=nr*dt;if(Math.abs(Gt)<.001&&Math.abs(It)<.001&&Array.isArray(yn)){const[ln,Xn]=yn;Gt=Rh(ln/f*.02,-1.2,1.2),It=Rh(Xn/f*.02,-1.2,1.2)}(Math.abs(Gt)>.005||Math.abs(It)>.005)&&Ge(Gt,It),Re.current&&(H.current=performance.now()),Re.current=!1}}},{target:F,eventOptions:{passive:!0}});const At=ae.useCallback(Xe=>{if(ze.current)return;ze.current=!0,xe.current=performance.now(),Z();const Ft=Xe.parentElement;q.current=Xe,Xe.setAttribute("data-focused","true");const fn=cp(Ft,"offsetX",0),tn=cp(Ft,"offsetY",0),yn=cp(Ft,"sizeX",2),cn=cp(Ft,"sizeY",2),wn=WT(fn,tn,yn,cn,x),gn=GT(wn.rotateY),sn=GT(ne.current.y);let bn=-(gn+sn)%360;bn<-180&&(bn+=360);const un=-wn.rotateX-ne.current.x;Ft.style.setProperty("--rot-y-delta",`${bn}deg`),Ft.style.setProperty("--rot-x-delta",`${un}deg`);const nr=document.createElement("div");nr.className="item__image item__image--reference",nr.style.opacity="0",nr.style.transform=`rotateX(${-wn.rotateX}deg) rotateY(${-wn.rotateY}deg)`,Ft.appendChild(nr),nr.offsetHeight;const rn=nr.getBoundingClientRect(),dt=F.current?.getBoundingClientRect(),Gt=L.current?.getBoundingClientRect();if(!dt||!Gt||rn.width<=0||rn.height<=0){ze.current=!1,q.current=null,Ft.removeChild(nr),oe();return}Y.current={left:rn.left,top:rn.top,width:rn.width,height:rn.height},Xe.style.visibility="hidden",Xe.style.zIndex=0;const It=document.createElement("div");It.className="enlarge",It.style.position="absolute",It.style.left=Gt.left-dt.left+"px",It.style.top=Gt.top-dt.top+"px",It.style.width=Gt.width+"px",It.style.height=Gt.height+"px",It.style.opacity="0",It.style.zIndex="30",It.style.willChange="transform, opacity",It.style.transformOrigin="top left",It.style.transition=`transform ${d}ms ease, opacity ${d}ms ease`;const ln=Ft.dataset.src||Xe.querySelector("img")?.src||"",Xn=Ft.dataset.name||"",mt=Ft.dataset.role||"",Xt=Ft.dataset.team||"",on=Ft.dataset.dateOfBirth||"";let hn={},dn={};try{Ft.dataset.academics&&(hn=JSON.parse(Ft.dataset.academics))}catch{}try{Ft.dataset.socialLinks&&(dn=JSON.parse(Ft.dataset.socialLinks))}catch{}const Zn=document.createElement("img");Zn.src=ln,Zn.className="enlarge__img",It.appendChild(Zn);const Dr=document.createElement("div");Dr.className="enlarge__info";const li=document.createElement("div");li.className="enlarge__info-content";const Lr=document.createElement("div");Lr.className="enlarge__name",Lr.textContent=Xn;const Kr=document.createElement("div");if(Kr.className="enlarge__role",Kr.textContent=mt,li.appendChild(Lr),li.appendChild(Kr),Dr.appendChild(li),Xn){const ge=document.createElement("button");ge.className="enlarge__explore-btn",ge.textContent="Explore",ge.onclick=be=>{be.stopPropagation(),It.classList.add("enlarge--expanded"),ge.style.display="none";const Te=document.createElement("div");Te.className="enlarge__expanded";const Ce=document.createElement("div");Ce.className="enlarge__expanded-left";const Oe=document.createElement("img");Oe.src=ln,Oe.className="enlarge__expanded-img",Ce.appendChild(Oe);const ke=document.createElement("div");ke.className="enlarge__expanded-info";const it=document.createElement("div");it.className="enlarge__expanded-name",it.textContent=Xn;const Et=document.createElement("div");Et.className="enlarge__expanded-role",Et.textContent=mt,ke.appendChild(it),ke.appendChild(Et),Ce.appendChild(ke);const et=document.createElement("div");et.className="enlarge__expanded-right";const lt=document.createElement("div");if(lt.className="enlarge__details-section",Xt){const Ot=document.createElement("div");Ot.className="enlarge__detail-row",Ot.innerHTML=`<span class="enlarge__detail-label">Team</span><span class="enlarge__detail-value">${Xt}</span>`,lt.appendChild(Ot)}if(on){const Ot=document.createElement("div");Ot.className="enlarge__detail-row",Ot.innerHTML=`<span class="enlarge__detail-label">Date of Birth</span><span class="enlarge__detail-value">${on}</span>`,lt.appendChild(Ot)}if(et.appendChild(lt),hn.year||hn.branch||hn.division||hn.yearOfGraduation){const Ot=document.createElement("div");Ot.className="enlarge__expanded-title",Ot.textContent="Academic Details",et.appendChild(Ot);const Lt=document.createElement("div");if(Lt.className="enlarge__academics-grid",hn.year){const yt=document.createElement("div");yt.className="enlarge__academic-item",yt.innerHTML=`<span class="enlarge__academic-label">Year</span><span class="enlarge__academic-value">${hn.year}</span>`,Lt.appendChild(yt)}if(hn.branch){const yt=document.createElement("div");yt.className="enlarge__academic-item",yt.innerHTML=`<span class="enlarge__academic-label">Branch</span><span class="enlarge__academic-value">${hn.branch}</span>`,Lt.appendChild(yt)}if(hn.division){const yt=document.createElement("div");yt.className="enlarge__academic-item",yt.innerHTML=`<span class="enlarge__academic-label">Division</span><span class="enlarge__academic-value">${hn.division}</span>`,Lt.appendChild(yt)}if(hn.yearOfGraduation){const yt=document.createElement("div");yt.className="enlarge__academic-item",yt.innerHTML=`<span class="enlarge__academic-label">Graduation</span><span class="enlarge__academic-value">${hn.yearOfGraduation}</span>`,Lt.appendChild(yt)}et.appendChild(Lt)}if(dn.instagram||dn.linkedin||dn.github||dn.twitter){const Ot=document.createElement("div");Ot.className="enlarge__expanded-title",Ot.textContent="Connect",et.appendChild(Ot);const Lt=document.createElement("div");if(Lt.className="enlarge__social-links",dn.instagram){const yt=document.createElement("a");yt.href=dn.instagram,yt.target="_blank",yt.rel="noopener noreferrer",yt.className="enlarge__social-link enlarge__social-link--instagram",yt.innerHTML='<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="2" y="2" width="20" height="20" rx="5" ry="5"/><path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"/><line x1="17.5" y1="6.5" x2="17.51" y2="6.5"/></svg>',yt.onclick=en=>en.stopPropagation(),Lt.appendChild(yt)}if(dn.linkedin){const yt=document.createElement("a");yt.href=dn.linkedin,yt.target="_blank",yt.rel="noopener noreferrer",yt.className="enlarge__social-link enlarge__social-link--linkedin",yt.innerHTML='<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"/><rect x="2" y="9" width="4" height="12"/><circle cx="4" cy="4" r="2"/></svg>',yt.onclick=en=>en.stopPropagation(),Lt.appendChild(yt)}if(dn.github){const yt=document.createElement("a");yt.href=dn.github,yt.target="_blank",yt.rel="noopener noreferrer",yt.className="enlarge__social-link enlarge__social-link--github",yt.innerHTML='<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"/></svg>',yt.onclick=en=>en.stopPropagation(),Lt.appendChild(yt)}if(dn.twitter){const yt=document.createElement("a");yt.href=dn.twitter,yt.target="_blank",yt.rel="noopener noreferrer",yt.className="enlarge__social-link enlarge__social-link--x",yt.innerHTML='<svg viewBox="0 0 24 24" fill="currentColor"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg>',yt.onclick=en=>en.stopPropagation(),Lt.appendChild(yt)}et.appendChild(Lt)}if(ce){const Ot=document.createElement("button");Ot.className="enlarge__profile-btn",Ot.textContent="View Full Profile",Ot.onclick=Lt=>{Lt.stopPropagation(),ce({name:Xn,role:mt,src:ln,bio:""})},et.appendChild(Ot)}Te.appendChild(Ce),Te.appendChild(et),It.appendChild(Te)},Dr.appendChild(ge)}It.appendChild(Dr),Q.current.appendChild(It);const On=rn.left-Gt.left,Ci=rn.top-Gt.top,Qi=rn.width/Gt.width,Qr=rn.height/Gt.height,Hi=isFinite(Qi)&&Qi>0?Qi:1,lr=isFinite(Qr)&&Qr>0?Qr:1;if(It.style.transform=`translate(${On}px, ${Ci}px) scale(${Hi}, ${lr})`,setTimeout(()=>{It.parentElement&&(It.style.opacity="1",It.style.transform="translate(0px, 0px) scale(1, 1)",re.current?.setAttribute("data-enlarging","true"))},16),A||E){const ge=be=>{if(be.propertyName!=="transform")return;It.removeEventListener("transitionend",ge);const Te=It.style.transition;It.style.transition="none";const Ce=A||`${Gt.width}px`,Oe=E||`${Gt.height}px`;It.style.width=Ce,It.style.height=Oe;const ke=It.getBoundingClientRect();It.style.width=Gt.width+"px",It.style.height=Gt.height+"px",It.offsetWidth,It.style.transition=`left ${d}ms ease, top ${d}ms ease, width ${d}ms ease, height ${d}ms ease`;const it=Gt.left-dt.left+(Gt.width-ke.width)/2,Et=Gt.top-dt.top+(Gt.height-ke.height)/2;requestAnimationFrame(()=>{It.style.left=`${it}px`,It.style.top=`${Et}px`,It.style.width=Ce,It.style.height=Oe});const et=()=>{It.removeEventListener("transitionend",et),It.style.transition=Te};It.addEventListener("transitionend",et,{once:!0})};It.addEventListener("transitionend",ge)}},[x,d,A,E,Z,oe]),Je=ae.useCallback(Xe=>{ve.current||Re.current||performance.now()-H.current<80||ze.current||At(Xe.currentTarget)},[At]),Zt=ae.useCallback(Xe=>{Xe.pointerType==="touch"&&(ve.current||Re.current||performance.now()-H.current<80||ze.current||At(Xe.currentTarget))},[At]);return ae.useEffect(()=>{const Xe=U.current;if(!Xe)return;const Ft=()=>{if(performance.now()-xe.current<250)return;const tn=q.current;if(!tn)return;const yn=tn.parentElement,cn=Q.current?.querySelector(".enlarge");if(!cn)return;const wn=yn.querySelector(".item__image--reference"),gn=Y.current;if(!gn){cn.remove(),wn&&wn.remove(),yn.style.setProperty("--rot-y-delta","0deg"),yn.style.setProperty("--rot-x-delta","0deg"),tn.style.visibility="",tn.style.zIndex=0,q.current=null,re.current?.removeAttribute("data-enlarging"),ze.current=!1,oe();return}const sn=cn.getBoundingClientRect(),bn=re.current.getBoundingClientRect(),un={left:gn.left-bn.left,top:gn.top-bn.top,width:gn.width,height:gn.height},nr={left:sn.left-bn.left,top:sn.top-bn.top,width:sn.width,height:sn.height},rn=document.createElement("div");rn.className="enlarge-closing",rn.style.cssText=`
        position: absolute;
        left: ${nr.left}px;
        top: ${nr.top}px;
        width: ${nr.width}px;
        height: ${nr.height}px;
        z-index: 9999;
        border-radius: var(--enlarge-radius, 32px);
        overflow: hidden;
        box-shadow: 0 10px 30px rgba(0,0,0,.35);
        transition: all ${d}ms ease-out;
        pointer-events: none;
        margin: 0;
        transform: none;
      `;const dt=cn.querySelector("img");if(dt){const It=dt.cloneNode();It.style.cssText="width: 100%; height: 100%; object-fit: cover;",rn.appendChild(It)}cn.remove(),re.current.appendChild(rn),rn.getBoundingClientRect(),requestAnimationFrame(()=>{rn.style.left=un.left+"px",rn.style.top=un.top+"px",rn.style.width=un.width+"px",rn.style.height=un.height+"px",rn.style.opacity="0"});const Gt=()=>{rn.remove(),Y.current=null,wn&&wn.remove(),yn.style.transition="none",tn.style.transition="none",yn.style.setProperty("--rot-y-delta","0deg"),yn.style.setProperty("--rot-x-delta","0deg"),requestAnimationFrame(()=>{tn.style.visibility="",tn.style.opacity="0",tn.style.zIndex=0,q.current=null,re.current?.removeAttribute("data-enlarging"),requestAnimationFrame(()=>{yn.style.transition="",tn.style.transition="opacity 300ms ease-out",requestAnimationFrame(()=>{tn.style.opacity="1",setTimeout(()=>{tn.style.transition="",tn.style.opacity="",ze.current=!1,!ve.current&&re.current?.getAttribute("data-enlarging")!=="true"&&document.body.classList.remove("dg-scroll-lock")},300)})})})};rn.addEventListener("transitionend",Gt,{once:!0})};Xe.addEventListener("click",Ft);const fn=tn=>{tn.key==="Escape"&&Ft()};return window.addEventListener("keydown",fn),()=>{Xe.removeEventListener("click",Ft),window.removeEventListener("keydown",fn)}},[d,oe]),ae.useEffect(()=>()=>{document.body.classList.remove("dg-scroll-lock")},[]),m.jsx("div",{ref:re,className:"sphere-root",style:{"--segments-x":x,"--segments-y":x,"--overlay-blur-color":o,"--tile-radius":I,"--enlarge-radius":C,"--image-filter":M?"grayscale(1)":"none"},children:m.jsxs("main",{ref:F,className:"sphere-main",children:[m.jsx("div",{className:"stage",children:m.jsx("div",{ref:B,className:"sphere",children:Me.map((Xe,Ft)=>m.jsx("div",{className:"item","data-src":Xe.src,"data-name":Xe.name,"data-role":Xe.role,"data-bio":Xe.bio,"data-team":Xe.team,"data-academics":Xe.academics?JSON.stringify(Xe.academics):"","data-social-links":Xe.socialLinks?JSON.stringify(Xe.socialLinks):"","data-date-of-birth":Xe.dateOfBirth||"","data-offset-x":Xe.x,"data-offset-y":Xe.y,"data-size-x":Xe.sizeX,"data-size-y":Xe.sizeY,style:{"--offset-x":Xe.x,"--offset-y":Xe.y,"--item-size-x":Xe.sizeX,"--item-size-y":Xe.sizeY},children:m.jsx("div",{className:`item__image${nt&&Ue.some(fn=>fn.name===Xe.name&&fn.src===Xe.src)?" item__image--glow":""}`,role:"button",tabIndex:0,"aria-label":Xe.alt||"Open image",onClick:Je,onPointerUp:Zt,children:m.jsx("img",{src:Xe.src,draggable:!1,alt:Xe.alt})})},`${Xe.x},${Xe.y},${Ft}`))})}),m.jsx("div",{className:"overlay"}),m.jsx("div",{className:"overlay overlay--blur"}),m.jsx("div",{className:"edge-fade edge-fade--top"}),m.jsx("div",{className:"edge-fade edge-fade--bottom"}),m.jsxs("div",{className:"viewer",ref:Q,children:[m.jsx("div",{ref:U,className:"scrim"}),m.jsx("div",{ref:L,className:"frame"})]})]})})}function UX({searchQuery:n="",teamFilter:e="",maxItems:t,showExploreMore:r=!1}){const[i,s]=ae.useState(null),[o,u]=ae.useState(!1),f=ae.useRef(null),d="/orbitx-zcoer-website/",x=ae.useMemo(()=>{let W=rw.members.filter(k=>k.firstName&&k.lastName);if(n){const k=n.toLowerCase();W=W.filter(G=>`${G.firstName} ${G.lastName}`.toLowerCase().includes(k)||G.position?.toLowerCase().includes(k)||G.team?.toLowerCase().includes(k))}return e&&(W=W.filter(k=>k.team===e||k.position===e)),t&&(W=W.slice(0,t)),W},[n,e,t]),w=W=>W?W.startsWith("http")?W:W.startsWith("/")?d+W.slice(1):`${d}members/${W}`:"",A=W=>{s(W),u(!1)},E=()=>{s(null),u(!1)},I=()=>{u(!o)},C=W=>{const k=W.academics&&(W.academics.branch||W.academics.year||W.academics.division||W.academics.yearOfGraduation),G=W.socialLinks&&Object.values(W.socialLinks).some(ce=>ce);return k||G};ae.useEffect(()=>(i&&f.current?(setTimeout(()=>{f.current?.scrollIntoView({behavior:"smooth",block:"center"})},100),document.body.style.overflow="hidden"):document.body.style.overflow="",()=>{document.body.style.overflow=""}),[i]);const M=rw.members.filter(W=>W.firstName&&W.lastName).length,j=t&&M>t;return x.length===0?m.jsxs("div",{className:"mobile-gallery__empty",children:[m.jsx("p",{children:"No members found"}),m.jsx("span",{children:"Try adjusting your search or filter"})]}):m.jsxs("div",{className:"mobile-gallery",children:[m.jsx("div",{className:"mobile-gallery__grid",children:x.map(W=>m.jsxs("div",{className:"mobile-gallery__card",onClick:()=>A(W),children:[m.jsx("div",{className:"mobile-gallery__image-wrapper",children:W.image?m.jsx("img",{src:w(W.image),alt:`${W.firstName} ${W.lastName}`,className:"mobile-gallery__image",loading:"lazy"}):m.jsxs("div",{className:"mobile-gallery__placeholder",children:[W.firstName[0],W.lastName[0]]})}),m.jsxs("div",{className:"mobile-gallery__info",children:[m.jsxs("h3",{className:"mobile-gallery__name",children:[W.firstName," ",W.lastName]}),m.jsx("p",{className:"mobile-gallery__role",children:W.position})]})]},W.id))}),r&&j&&m.jsxs("div",{className:"mobile-gallery__explore",children:[m.jsxs(Yi,{to:"/members",className:"mobile-gallery__explore-btn",children:[m.jsx("span",{children:"Explore All Members"}),m.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:m.jsx("path",{d:"M5 12h14M12 5l7 7-7 7"})})]}),m.jsxs("p",{className:"mobile-gallery__explore-count",children:["Showing ",x.length," of ",M," members"]})]}),i&&m.jsx("div",{className:"mobile-gallery__modal-overlay",onClick:E,children:m.jsxs("div",{ref:f,className:`mobile-gallery__modal ${o?"mobile-gallery__modal--expanded":""}`,onClick:W=>W.stopPropagation(),children:[m.jsx("button",{className:"mobile-gallery__modal-close",onClick:E,children:""}),m.jsx("div",{className:"mobile-gallery__modal-image",children:i.image?m.jsx("img",{src:w(i.image),alt:`${i.firstName} ${i.lastName}`}):m.jsxs("div",{className:"mobile-gallery__modal-placeholder",children:[i.firstName[0],i.lastName[0]]})}),m.jsxs("div",{className:"mobile-gallery__modal-content",children:[m.jsxs("h2",{className:"mobile-gallery__modal-name",children:[i.firstName," ",i.lastName]}),m.jsx("span",{className:"mobile-gallery__modal-badge",children:i.position}),m.jsx("p",{className:"mobile-gallery__modal-team",children:i.team}),C(i)&&m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:`mobile-gallery__modal-extra ${o?"mobile-gallery__modal-extra--visible":""}`,children:[i.academics&&m.jsxs("div",{className:"mobile-gallery__modal-section",children:[m.jsx("h4",{className:"mobile-gallery__modal-label",children:"Academics"}),m.jsxs("div",{className:"mobile-gallery__modal-academics",children:[i.academics.branch&&m.jsx("span",{className:"mobile-gallery__modal-tag",children:i.academics.branch}),i.academics.year&&m.jsx("span",{className:"mobile-gallery__modal-tag",children:i.academics.year}),i.academics.division&&m.jsxs("span",{className:"mobile-gallery__modal-tag",children:["Div ",i.academics.division]}),i.academics.yearOfGraduation&&m.jsxs("span",{className:"mobile-gallery__modal-tag",children:["Batch ",i.academics.yearOfGraduation]})]})]}),i.socialLinks&&Object.values(i.socialLinks).some(W=>W)&&m.jsxs("div",{className:"mobile-gallery__modal-section",children:[m.jsx("h4",{className:"mobile-gallery__modal-label",children:"Connect"}),m.jsxs("div",{className:"mobile-gallery__modal-socials",children:[i.socialLinks.instagram&&m.jsxs("a",{href:i.socialLinks.instagram,target:"_blank",rel:"noopener noreferrer",className:"mobile-gallery__social-btn mobile-gallery__social-btn--instagram",children:[m.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:m.jsx("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"})}),m.jsx("span",{children:"Instagram"})]}),i.socialLinks.linkedin&&m.jsxs("a",{href:i.socialLinks.linkedin,target:"_blank",rel:"noopener noreferrer",className:"mobile-gallery__social-btn mobile-gallery__social-btn--linkedin",children:[m.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:m.jsx("path",{d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"})}),m.jsx("span",{children:"LinkedIn"})]}),i.socialLinks.github&&m.jsxs("a",{href:i.socialLinks.github,target:"_blank",rel:"noopener noreferrer",className:"mobile-gallery__social-btn mobile-gallery__social-btn--github",children:[m.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:m.jsx("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"})}),m.jsx("span",{children:"GitHub"})]}),i.socialLinks.twitter&&m.jsxs("a",{href:i.socialLinks.twitter,target:"_blank",rel:"noopener noreferrer",className:"mobile-gallery__social-btn mobile-gallery__social-btn--twitter",children:[m.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:m.jsx("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})}),m.jsx("span",{children:"Twitter"})]})]})]})]}),m.jsxs("button",{className:`mobile-gallery__modal-expand ${o?"mobile-gallery__modal-expand--active":""}`,onClick:I,children:[m.jsx("span",{children:o?"Show Less":"Explore More"}),m.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:m.jsx("polyline",{points:"6 9 12 15 18 9"})})]})]})]})]})})]})}function AR({autoRotate:n=!1,autoRotateSpeed:e=.15,grayscale:t=!0,maxVerticalRotationDeg:r=5,overlayBlurColor:i="#060010",imageBorderRadius:s="30px",openedImageBorderRadius:o="30px",fit:u=.5,minRadius:f=600,searchQuery:d="",teamFilter:x="",maxItems:w,showExploreMore:A=!1}){const[E,I]=ae.useState(!1);return ae.useEffect(()=>{const C=()=>{I(window.innerWidth<=768)};return C(),window.addEventListener("resize",C),()=>window.removeEventListener("resize",C)},[]),E?m.jsx(UX,{searchQuery:d,teamFilter:x,maxItems:w,showExploreMore:A}):m.jsx(BX,{autoRotate:n,autoRotateSpeed:e,grayscale:t,maxVerticalRotationDeg:r,overlayBlurColor:i,imageBorderRadius:s,openedImageBorderRadius:o,fit:u,minRadius:f,searchQuery:d,teamFilter:x})}function VX(){return m.jsxs("section",{className:"members-glimpse",children:[m.jsxs("div",{className:"members-glimpse__header",children:[m.jsx("h2",{className:"members-glimpse__heading",children:"Members Glimpse"}),m.jsx("p",{className:"members-glimpse__subheading",children:"The People Behind OrbitX"})]}),m.jsx("div",{className:"members-glimpse__container",children:m.jsx(AR,{overlayBlurColor:"#000000",grayscale:!1,imageBorderRadius:"20px",openedImageBorderRadius:"24px",fit:.6,minRadius:400,maxVerticalRotationDeg:0,autoRotate:!0,autoRotateSpeed:.05,maxItems:12,showExploreMore:!0})})]})}function zX(){const{isRecruitmentOpen:n}=ed();return m.jsxs("section",{className:"join-cta",children:[m.jsx("div",{className:"join-cta__glow"}),m.jsxs("div",{className:"join-cta__content",children:[m.jsx("h2",{className:"join-cta__heading",children:"Ready to Explore the Cosmos?"}),m.jsx("p",{className:"join-cta__subheading",children:"Join OrbitX and become part of a community passionate about space, science, and discovery."}),m.jsxs("div",{className:"join-cta__buttons",children:[n?m.jsxs(Yi,{to:"/join",className:"join-cta__btn join-cta__btn--primary",children:["Join OrbitX",m.jsx("span",{className:"join-cta__btn-arrow",children:""})]}):m.jsxs(Yi,{to:"/contact",className:"join-cta__btn join-cta__btn--primary",children:["Get in Touch",m.jsx("span",{className:"join-cta__btn-arrow",children:""})]}),m.jsx(Yi,{to:"/about",className:"join-cta__btn join-cta__btn--secondary",children:"Learn More"})]})]})]})}const J_=[{id:1,name:"OrbitX Classic Tee",price:"599",description:"Premium cotton t-shirt featuring the iconic OrbitX logo. Perfect for stargazing sessions and everyday wear.",images:["https://images.unsplash.com/photo-1521572163474-6864f9cf17ab?w=400&h=400&fit=crop","https://images.unsplash.com/photo-1583743814966-8936f5b7be1a?w=400&h=400&fit=crop"]},{id:2,name:"Cosmic Hoodie",price:"1,299",description:"Stay warm under the night sky with our cozy space-themed hoodie. Features constellation embroidery.",images:["https://images.unsplash.com/photo-1556821840-3a63f95609a7?w=400&h=400&fit=crop","https://images.unsplash.com/photo-1578768079052-aa76e52ff62e?w=400&h=400&fit=crop"]},{id:3,name:"Stellar Cap",price:"399",description:"Embroidered cap with OrbitX branding. Adjustable strap for the perfect fit.",images:["https://images.unsplash.com/photo-1588850561407-ed78c282e89b?w=400&h=400&fit=crop","https://images.unsplash.com/photo-1534215754734-18e55d13e346?w=400&h=400&fit=crop"]},{id:4,name:"Galaxy Mug",price:"349",description:"Ceramic mug with a stunning galaxy print. Perfect for your morning coffee before a launch.",images:["https://images.unsplash.com/photo-1514228742587-6b1558fcca3d?w=400&h=400&fit=crop","https://images.unsplash.com/photo-1577937927133-66ef06acdf18?w=400&h=400&fit=crop"]},{id:5,name:"Astronaut Stickers",price:"149",description:"Pack of 10 vinyl stickers featuring space-themed designs. Waterproof and durable.",images:["https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=400&h=400&fit=crop","https://images.unsplash.com/photo-1553729784-e91953dec042?w=400&h=400&fit=crop"]},{id:6,name:"Nebula Poster",price:"499",description:"High-quality print of the Orion Nebula. Perfect for decorating your room or study.",images:["https://images.unsplash.com/photo-1462332420958-a05d1e002413?w=400&h=400&fit=crop","https://images.unsplash.com/photo-1419242902214-272b3f66ee7a?w=400&h=400&fit=crop"]}];function HX(){const[n,e]=ae.useState(null),[t,r]=ae.useState(0),[i,s]=ae.useState(!1),[o,u]=ae.useState(!1),[f,d]=ae.useState(0),[x,w]=ae.useState(0),A=ae.useRef(null),E=[...J_,...J_,...J_];ae.useEffect(()=>(n?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[n]),ae.useEffect(()=>{const B=A.current;if(!B)return;const L=sessionStorage.getItem("merchCarouselPosition"),Q=B.scrollWidth/3;L?B.scrollLeft=parseFloat(L):B.scrollLeft=Q;const U=()=>{const q=B.scrollWidth/3;B.scrollLeft<10?B.scrollLeft=q+B.scrollLeft:B.scrollLeft>=q*2-10&&(B.scrollLeft=B.scrollLeft-q),sessionStorage.setItem("merchCarouselPosition",String(B.scrollLeft))};return B.addEventListener("scroll",U),()=>B.removeEventListener("scroll",U)},[]);const I=B=>{A.current&&(u(!0),d(B.pageX-A.current.offsetLeft),w(A.current.scrollLeft),A.current.style.cursor="grabbing")},C=()=>{u(!1),A.current&&(A.current.style.cursor="grab")},M=B=>{if(!o||!A.current)return;B.preventDefault();const Q=(B.pageX-A.current.offsetLeft-f)*1.5;A.current.scrollLeft=x-Q},j=()=>{o&&(u(!1),A.current&&(A.current.style.cursor="grab"))},W=B=>{o||(e(B),r(0),s(!1))},k=()=>{s(!0),setTimeout(()=>{e(null),s(!1)},200)},G=B=>{B.target===B.currentTarget&&k()},ce=()=>{n&&r(B=>B===0?n.images.length-1:B-1)},re=()=>{n&&r(B=>B===n.images.length-1?0:B+1)},F=B=>{A.current&&A.current.scrollBy({left:B==="left"?-320:320,behavior:"smooth"})};return m.jsxs("section",{className:"merch-teaser",children:[m.jsxs("div",{className:"merch-teaser__header",children:[m.jsx("h2",{className:"merch-teaser__heading",children:"OrbitX Merchandise"}),m.jsx("p",{className:"merch-teaser__subheading",children:"Wear your passion. Support the mission."})]}),m.jsxs("div",{className:"merch-teaser__carousel-wrapper",children:[m.jsx("button",{className:"merch-teaser__nav merch-teaser__nav--left",onClick:()=>F("left"),"aria-label":"Scroll left",children:""}),m.jsx("div",{className:`merch-teaser__carousel ${o?"merch-teaser__carousel--dragging":""}`,ref:A,onMouseDown:I,onMouseUp:C,onMouseMove:M,onMouseLeave:j,children:E.map((B,L)=>m.jsxs("div",{className:"merch-teaser__card",onClick:()=>W(B),children:[m.jsx("div",{className:"merch-teaser__card-image",children:m.jsx("img",{src:B.images[0],alt:B.name,draggable:!1})}),m.jsxs("div",{className:"merch-teaser__card-info",children:[m.jsx("h3",{className:"merch-teaser__card-name",children:B.name}),m.jsx("span",{className:"merch-teaser__card-price",children:B.price})]})]},`${B.id}-${L}`))}),m.jsx("button",{className:"merch-teaser__nav merch-teaser__nav--right",onClick:()=>F("right"),"aria-label":"Scroll right",children:""})]}),n&&m.jsx("div",{className:`merch-teaser__overlay ${i?"merch-teaser__overlay--closing":""}`,onClick:G,children:m.jsxs("div",{className:`merch-teaser__modal ${i?"merch-teaser__modal--closing":""}`,children:[m.jsx("button",{className:"merch-teaser__modal-close",onClick:k,children:""}),m.jsxs("div",{className:"merch-teaser__modal-content",children:[m.jsxs("div",{className:"merch-teaser__modal-gallery",children:[m.jsx("button",{className:"merch-teaser__gallery-nav merch-teaser__gallery-nav--prev",onClick:ce,children:""}),m.jsx("div",{className:"merch-teaser__gallery-image",children:m.jsx("img",{src:n.images[t],alt:n.name})}),m.jsx("button",{className:"merch-teaser__gallery-nav merch-teaser__gallery-nav--next",onClick:re,children:""}),m.jsx("div",{className:"merch-teaser__gallery-dots",children:n.images.map((B,L)=>m.jsx("span",{className:`merch-teaser__gallery-dot ${L===t?"merch-teaser__gallery-dot--active":""}`,onClick:()=>r(L)},L))})]}),m.jsxs("div",{className:"merch-teaser__modal-details",children:[m.jsx("h3",{className:"merch-teaser__modal-name",children:n.name}),m.jsx("span",{className:"merch-teaser__modal-price",children:n.price}),m.jsx("p",{className:"merch-teaser__modal-description",children:n.description}),m.jsxs("div",{className:"merch-teaser__modal-actions",children:[m.jsx("button",{className:"merch-teaser__btn merch-teaser__btn--primary",children:"Buy Now"}),m.jsx("a",{href:"#merch",className:"merch-teaser__btn merch-teaser__btn--secondary",children:"View All Products"})]})]})]})]})})]})}function Ul(){const{isRecruitmentOpen:n}=ed();return m.jsxs("footer",{className:"footer",children:[m.jsxs("div",{className:"footer-container",children:[m.jsxs("div",{className:"footer-column footer-brand",children:[m.jsx("img",{src:Sw,alt:"OrbitX",className:"footer-logo"}),m.jsx("p",{children:"Student-driven space and astronomy club focused on exploration, innovation, and hands-on learning."})]}),m.jsxs("div",{className:"footer-column",children:[m.jsx("h4",{children:"Quick Links"}),m.jsxs("ul",{children:[m.jsx("li",{children:m.jsx(Yi,{to:"/",children:"Home"})}),m.jsx("li",{children:m.jsx(Yi,{to:"/about",children:"About"})}),m.jsx("li",{children:m.jsx(Yi,{to:"/events",children:"Events"})}),m.jsx("li",{children:m.jsx(Yi,{to:"/members",children:"Members"})})]})]}),m.jsxs("div",{className:"footer-column",children:[m.jsx("h4",{children:"Get Involved"}),m.jsxs("ul",{children:[n?m.jsx("li",{children:m.jsx(Yi,{to:"/join",children:"Join OrbitX"})}):m.jsx("li",{children:m.jsx(Yi,{to:"/contact",children:"Get in Touch"})}),m.jsx("li",{children:m.jsx(Yi,{to:"/merch",children:"Merchandise"})}),m.jsx("li",{children:m.jsx(Yi,{to:"/contact",children:"Contact Us"})})]})]}),m.jsxs("div",{className:"footer-column",children:[m.jsx("h4",{children:"Connect"}),m.jsxs("ul",{children:[m.jsx("li",{children:m.jsx("a",{href:"https://www.instagram.com/orbitx_zcoer/",target:"_blank",rel:"noopener noreferrer",children:"Instagram"})}),m.jsx("li",{children:m.jsx("a",{href:"https://www.linkedin.com/company/orbitx-zcoer/",target:"_blank",rel:"noopener noreferrer",children:"LinkedIn"})}),m.jsx("li",{children:m.jsx("a",{href:"mailto:contact@orbitxzcoer.club",children:"E-mail"})})]})]}),m.jsxs("div",{className:"footer-column",children:[m.jsx("h4",{children:"Location"}),m.jsx("p",{children:m.jsxs("a",{href:"https://maps.app.goo.gl/zr4Yg3uhrYabnjH49",target:"_blank",rel:"noopener noreferrer",className:"location-link",children:["Department Of Computer Engineering,",m.jsx("br",{}),"Zeal College of Engineering and Research,",m.jsx("br",{}),"Pune, Maharashtra 411041"]})})]})]}),m.jsxs("div",{className:"footer-bottom",children:[m.jsx("p",{children:" 2025 OrbitX. All rights reserved."}),m.jsxs("p",{className:"footer-tagline",children:[m.jsx("a",{href:"https://www.instagram.com/shravan45x/",target:"_blank",rel:"noopener noreferrer",className:"creator-link",children:"Creator - "}),m.jsx("span",{className:"tooltip-wrapper","data-tooltip":"@shravan45x",children:m.jsx("a",{href:"https://www.instagram.com/shravan45x/",target:"_blank",rel:"noopener noreferrer",className:"spinning-dollar",children:"$"})})]})]})]})}function Ia({children:n,direction:e="up",delay:t=0,duration:r=.6,threshold:i=.1,className:s=""}){const[o,u]=ae.useState(!1),f=ae.useRef(null);ae.useEffect(()=>{const x=new IntersectionObserver(([w])=>{w.isIntersecting&&(u(!0),x.unobserve(w.target))},{threshold:i});return f.current&&x.observe(f.current),()=>x.disconnect()},[i]);const d={"--reveal-delay":`${t}s`,"--reveal-duration":`${r}s`};return m.jsx("div",{ref:f,className:`scroll-reveal scroll-reveal--${e} ${o?"scroll-reveal--visible":""} ${s}`,style:d,children:n})}function qX(){return m.jsxs(m.Fragment,{children:[m.jsx(zH,{}),m.jsx(Ia,{direction:"up",children:m.jsx(HH,{})}),m.jsx(Ia,{direction:"up",delay:.1,children:m.jsx(wY,{})}),m.jsx(Ia,{direction:"up",delay:.1,children:m.jsx(VX,{})}),m.jsx(Ia,{direction:"up",delay:.1,children:m.jsx(zX,{})}),m.jsx(Ia,{direction:"up",delay:.1,children:m.jsx(HX,{})}),m.jsx(Ul,{})]})}function GX(){return m.jsxs(m.Fragment,{children:[m.jsxs("main",{className:"about-page",children:[m.jsx(Ia,{direction:"fade",children:m.jsxs("section",{className:"about-hero",children:[m.jsxs("div",{className:"about-hero__content",children:[m.jsx("h1",{className:"about-hero__title",children:"About OrbitX"}),m.jsx("p",{className:"about-hero__text",children:"OrbitX is a student-driven space and astronomy organization focused on exploring space technology, fostering innovation, and building a community of curious learners and creators. We bring together students passionate about space science, engineering, and research to learn, collaborate, and create beyond the classroom."})]}),m.jsx("div",{className:"about-hero__image",children:m.jsx("div",{className:"about-hero__placeholder",children:m.jsx("span",{children:"Team Photo"})})})]})}),m.jsx(Ia,{direction:"up",delay:.1,children:m.jsxs("section",{className:"about-stats",children:[m.jsxs("div",{className:"about-stats__item",children:[m.jsx("span",{className:"about-stats__number",children:"28+"}),m.jsx("span",{className:"about-stats__label",children:"Active Members"})]}),m.jsxs("div",{className:"about-stats__item",children:[m.jsx("span",{className:"about-stats__number",children:"1+"}),m.jsx("span",{className:"about-stats__label",children:"Projects"})]}),m.jsxs("div",{className:"about-stats__item",children:[m.jsx("span",{className:"about-stats__number",children:"2+"}),m.jsx("span",{className:"about-stats__label",children:"Events Conducted"})]}),m.jsxs("div",{className:"about-stats__item",children:[m.jsx("span",{className:"about-stats__number",children:"8+"}),m.jsx("span",{className:"about-stats__label",children:"Achievements"})]})]})}),m.jsx(Ia,{direction:"up",delay:.1,children:m.jsxs("section",{className:"about-mission-vision",children:[m.jsxs("div",{className:"about-card about-card--mission",children:[m.jsx("h2",{className:"about-card__title",children:"Our Mission"}),m.jsx("p",{className:"about-card__text",children:"To inspire and empower students to explore space technology through hands-on projects, collaborative learning, and innovative research. We aim to bridge the gap between theoretical knowledge and practical application in aerospace engineering and space sciences."})]}),m.jsxs("div",{className:"about-card about-card--vision",children:[m.jsx("h2",{className:"about-card__title",children:"Our Vision"}),m.jsx("p",{className:"about-card__text",children:"To become a leading student organization contributing to the advancement of space technology and exploration. We envision a future where our members emerge as pioneers in the space industry, driving innovation and pushing the boundaries beyond Earth's horizons."})]})]})}),m.jsx(Ia,{direction:"up",delay:.1,children:m.jsxs("section",{className:"about-values",children:[m.jsx("h2",{className:"about-values__heading",children:"Our Core Values"}),m.jsxs("div",{className:"about-values__grid",children:[m.jsxs("div",{className:"about-value-card",children:[m.jsx("h3",{className:"about-value-card__title",children:"Innovation"}),m.jsx("p",{className:"about-value-card__text",children:"Pushing boundaries through creative problem-solving and emerging technologies."})]}),m.jsxs("div",{className:"about-value-card",children:[m.jsx("h3",{className:"about-value-card__title",children:"Collaboration"}),m.jsx("p",{className:"about-value-card__text",children:"Working together as teams to achieve meaningful outcomes in space exploration."})]}),m.jsxs("div",{className:"about-value-card",children:[m.jsx("h3",{className:"about-value-card__title",children:"Learning"}),m.jsx("p",{className:"about-value-card__text",children:"Continuous growth through hands-on experience, experimentation, and knowledge sharing."})]}),m.jsxs("div",{className:"about-value-card",children:[m.jsx("h3",{className:"about-value-card__title",children:"Excellence"}),m.jsx("p",{className:"about-value-card__text",children:"Striving for high standards, precision, and impact in everything we build."})]})]})]})}),m.jsx(Ia,{direction:"up",delay:.1,children:m.jsxs("section",{className:"about-journey",children:[m.jsx("h2",{className:"about-journey__heading",children:"Our Journey"}),m.jsxs("div",{className:"about-journey__container",children:[m.jsxs("div",{className:"about-journey__gallery",children:[m.jsx("div",{className:"about-journey__image-placeholder",children:m.jsx("span",{children:"Event Photo 1"})}),m.jsx("div",{className:"about-journey__image-placeholder",children:m.jsx("span",{children:"Event Photo 2"})}),m.jsx("div",{className:"about-journey__image-placeholder about-journey__image-placeholder--large",children:m.jsx("span",{children:"Workshop / Session Photo"})})]}),m.jsxs("div",{className:"about-journey__content",children:[m.jsx("p",{className:"about-journey__text",children:"Founded at Zeal College of Engineering and Research (ZCOER), OrbitX began as a small group of students fascinated by space exploration and technology. What started as informal discussions about rockets and satellites gradually evolved into a structured and purpose-driven organization."}),m.jsx("p",{className:"about-journey__text",children:"Today, OrbitX comprises six dedicated teams working across multiple domains of space technology, including satellite development, research, and exploration concepts. Our members collaborate on real-world projects, participate in national-level competitions, and actively contribute to India's growing space technology ecosystem."}),m.jsx("p",{className:"about-journey__text",children:"We believe the future of space exploration lies in the hands of today's students. Through OrbitX, we provide a platform for learning, experimentation, and innovationpreparing our members for careers in the rapidly expanding space and aerospace industry."})]})]})]})})]}),m.jsx(Ul,{})]})}const SR=ae.createContext(null);function Da(){const n=ae.useContext(SR);if(!n)throw new Error("useToast must be used within a ToastProvider");return n}function WX({children:n}){const[e,t]=ae.useState([]),r=ae.useCallback((s,o="info")=>{const u=Date.now().toString();t(f=>[...f,{id:u,message:s,type:o}]),setTimeout(()=>{t(f=>f.filter(d=>d.id!==u))},4e3)},[]),i=s=>{t(o=>o.filter(u=>u.id!==s))};return m.jsxs(SR.Provider,{value:{showToast:r},children:[n,m.jsx("div",{className:"toast-container",children:e.map(s=>m.jsxs("div",{className:`toast toast--${s.type}`,onClick:()=>i(s.id),children:[m.jsxs("div",{className:"toast__icon",children:[s.type==="success"&&m.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:m.jsx("polyline",{points:"20 6 9 17 4 12"})}),s.type==="error"&&m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("circle",{cx:"12",cy:"12",r:"10"}),m.jsx("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),m.jsx("line",{x1:"9",y1:"9",x2:"15",y2:"15"})]}),s.type==="info"&&m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("circle",{cx:"12",cy:"12",r:"10"}),m.jsx("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),m.jsx("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]})]}),m.jsx("span",{className:"toast__message",children:s.message}),m.jsx("button",{className:"toast__close",children:m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),m.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]},s.id))})]})}function Ya({options:n,value:e,onChange:t,placeholder:r="Select an option",error:i=!1,searchable:s=!1,name:o,disabled:u=!1}){const[f,d]=ae.useState(!1),[x,w]=ae.useState(""),[A,E]=ae.useState(-1),I=ae.useRef(null),C=ae.useRef(null),M=ae.useRef(null),j=n.find(re=>re.value===e),W=s&&x?n.filter(re=>re.label.toLowerCase().includes(x.toLowerCase())):n;ae.useEffect(()=>{const re=F=>{I.current&&!I.current.contains(F.target)&&(d(!1),w(""))};return document.addEventListener("mousedown",re),()=>document.removeEventListener("mousedown",re)},[]),ae.useEffect(()=>{f&&s&&C.current&&C.current.focus()},[f,s]),ae.useEffect(()=>{if(f&&A>=0&&M.current){const re=M.current.children[A];re&&re.scrollIntoView({block:"nearest"})}},[A,f]);const k=re=>{t(re),d(!1),w(""),E(-1)},G=re=>{if(!u){if(!f){(re.key==="Enter"||re.key===" "||re.key==="ArrowDown")&&(re.preventDefault(),d(!0));return}switch(re.key){case"ArrowDown":re.preventDefault(),E(F=>F<W.length-1?F+1:F);break;case"ArrowUp":re.preventDefault(),E(F=>F>0?F-1:F);break;case"Enter":re.preventDefault(),A>=0&&W[A]&&k(W[A].value);break;case"Escape":d(!1),w(""),E(-1);break}}},ce=()=>{u||d(!f)};return m.jsxs("div",{className:`custom-select ${f?"custom-select--open":""} ${i?"custom-select--error":""} ${u?"custom-select--disabled":""}`,ref:I,onKeyDown:G,children:[m.jsxs("button",{type:"button",className:"custom-select__trigger",onClick:ce,"aria-haspopup":"listbox","aria-expanded":f,disabled:u,children:[m.jsx("span",{className:`custom-select__value ${j?"":"custom-select__value--placeholder"}`,children:j?j.label:r}),m.jsx("svg",{className:`custom-select__arrow ${f?"custom-select__arrow--open":""}`,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:m.jsx("polyline",{points:"6 9 12 15 18 9"})})]}),f&&m.jsxs("div",{className:"custom-select__dropdown",children:[s&&m.jsxs("div",{className:"custom-select__search",children:[m.jsx("input",{ref:C,type:"text",className:"custom-select__search-input",placeholder:"Search...",value:x,onChange:re=>{w(re.target.value),E(-1)},onClick:re=>re.stopPropagation()}),m.jsxs("svg",{className:"custom-select__search-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("circle",{cx:"11",cy:"11",r:"8"}),m.jsx("path",{d:"m21 21-4.3-4.3"})]})]}),m.jsx("div",{className:"custom-select__options",role:"listbox",ref:M,children:W.length>0?W.map((re,F)=>m.jsxs("div",{className:`custom-select__option 
                                        ${re.value===e?"custom-select__option--selected":""} 
                                        ${F===A?"custom-select__option--highlighted":""}`,onClick:()=>k(re.value),role:"option","aria-selected":re.value===e,children:[re.label,re.value===e&&m.jsx("svg",{className:"custom-select__check",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:m.jsx("polyline",{points:"20 6 9 17 4 12"})})]},re.value)):m.jsx("div",{className:"custom-select__no-results",children:"No options found"})})]}),o&&m.jsx("input",{type:"hidden",name:o,value:e})]})}const YX=["January","February","March","April","May","June","July","August","September","October","November","December"],XX=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];function m2({value:n,onChange:e,placeholder:t="Select date",error:r=!1,minDate:i,maxDate:s,name:o}){const[u,f]=ae.useState(!1),[d,x]=ae.useState(()=>{if(n){const[Re,He]=n.split("-").map(Number);return{month:He-1,year:Re}}const ve=new Date;return{month:ve.getMonth(),year:ve.getFullYear()}}),w=ae.useRef(null),A=ve=>{const[Re,He,ze]=ve.split("-").map(Number);return{year:Re,month:He-1,day:ze}},E=n?A(n):null,I=i?A(i):null,C=s?A(s):null;ae.useEffect(()=>{const ve=Re=>{w.current&&!w.current.contains(Re.target)&&f(!1)};return document.addEventListener("mousedown",ve),()=>document.removeEventListener("mousedown",ve)},[]);const M=ve=>{const[Re,He,ze]=ve.split("-").map(Number),xe=new Date(Re,He-1,ze);return new Intl.DateTimeFormat("en-IN",{day:"numeric",month:"long",year:"numeric"}).format(xe)},j=(ve,Re,He)=>{const ze=String(Re+1).padStart(2,"0"),xe=String(He).padStart(2,"0");return`${ve}-${ze}-${xe}`},W=(ve,Re)=>new Date(Re,ve+1,0).getDate(),k=(ve,Re)=>new Date(Re,ve,1).getDay(),G=ve=>{const Re=d.year,He=d.month;return!!(I&&(Re<I.year||Re===I.year&&He<I.month||Re===I.year&&He===I.month&&ve<I.day)||C&&(Re>C.year||Re===C.year&&He>C.month||Re===C.year&&He===C.month&&ve>C.day))},ce=ve=>E?E.day===ve&&E.month===d.month&&E.year===d.year:!1,re=ve=>{const Re=new Date;return Re.getDate()===ve&&Re.getMonth()===d.month&&Re.getFullYear()===d.year},F=ve=>{if(G(ve))return;const Re=j(d.year,d.month,ve);e(Re),f(!1)},B=()=>{x(ve=>ve.month===0?{month:11,year:ve.year-1}:{month:ve.month-1,year:ve.year})},L=()=>{x(ve=>ve.month===11?{month:0,year:ve.year+1}:{month:ve.month+1,year:ve.year})},Q=ve=>{x(Re=>({...Re,year:parseInt(ve.target.value)}))},U=ve=>{x(Re=>({...Re,month:parseInt(ve.target.value)}))},q=new Date().getFullYear(),Y=Array.from({length:100},(ve,Re)=>q-80+Re),ne=W(d.month,d.year),pe=k(d.month,d.year),Ae=[];for(let ve=0;ve<pe;ve++)Ae.push(null);for(let ve=1;ve<=ne;ve++)Ae.push(ve);return m.jsxs("div",{className:`custom-datepicker ${u?"custom-datepicker--open":""} ${r?"custom-datepicker--error":""}`,ref:w,children:[m.jsxs("button",{type:"button",className:"custom-datepicker__trigger",onClick:()=>f(!u),children:[m.jsx("span",{className:`custom-datepicker__value ${n?"":"custom-datepicker__value--placeholder"}`,children:n?M(n):t}),m.jsxs("svg",{className:"custom-datepicker__icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),m.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),m.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),m.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]})]}),u&&m.jsxs("div",{className:"custom-datepicker__dropdown",children:[m.jsxs("div",{className:"custom-datepicker__header",children:[m.jsx("button",{type:"button",className:"custom-datepicker__nav-btn",onClick:B,children:m.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:m.jsx("polyline",{points:"15 18 9 12 15 6"})})}),m.jsxs("div",{className:"custom-datepicker__selectors",children:[m.jsx("select",{className:"custom-datepicker__month-select",value:d.month,onChange:U,children:YX.map((ve,Re)=>m.jsx("option",{value:Re,children:ve},ve))}),m.jsx("select",{className:"custom-datepicker__year-select",value:d.year,onChange:Q,children:Y.map(ve=>m.jsx("option",{value:ve,children:ve},ve))})]}),m.jsx("button",{type:"button",className:"custom-datepicker__nav-btn",onClick:L,children:m.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:m.jsx("polyline",{points:"9 18 15 12 9 6"})})})]}),m.jsx("div",{className:"custom-datepicker__days-header",children:XX.map(ve=>m.jsx("span",{className:"custom-datepicker__day-label",children:ve},ve))}),m.jsx("div",{className:"custom-datepicker__calendar",children:Ae.map((ve,Re)=>m.jsx("div",{className:"custom-datepicker__cell",children:ve!==null&&m.jsx("button",{type:"button",className:`custom-datepicker__day 
                                            ${ce(ve)?"custom-datepicker__day--selected":""} 
                                            ${re(ve)?"custom-datepicker__day--today":""}
                                            ${G(ve)?"custom-datepicker__day--disabled":""}`,onClick:()=>F(ve),disabled:G(ve),children:ve})},Re))}),m.jsx("div",{className:"custom-datepicker__footer",children:m.jsx("button",{type:"button",className:"custom-datepicker__today-btn",onClick:()=>{const ve=new Date,Re=j(ve.getFullYear(),ve.getMonth(),ve.getDate());x({month:ve.getMonth(),year:ve.getFullYear()}),G(ve.getDate())||(e(Re),f(!1))},children:"Today"})})]}),o&&m.jsx("input",{type:"hidden",name:o,value:n})]})}function j5({value:n,onChange:e,placeholder:t="Search...",className:r=""}){return m.jsxs("div",{className:`search-input ${r}`,children:[m.jsx("input",{type:"text",className:"search-input__field",placeholder:t,value:n,onChange:i=>e(i.target.value)}),n&&m.jsx("button",{className:"search-input__clear",onClick:()=>e(""),"aria-label":"Clear search",children:m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),m.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})}function TR({options:n,value:e,onChange:t,className:r="",showBadge:i=!0}){const[s,o]=ae.useState(!1),u=ae.useRef(null);ae.useEffect(()=>{const d=x=>{u.current&&!u.current.contains(x.target)&&o(!1)};return s&&document.addEventListener("mousedown",d),()=>document.removeEventListener("mousedown",d)},[s]);const f=e!==""&&e!==n[0]?.value;return m.jsxs("div",{className:`filter-dropdown ${r}`,ref:u,children:[m.jsxs("button",{className:`filter-dropdown__trigger ${s?"filter-dropdown__trigger--active":""}`,onClick:()=>o(!s),"aria-label":"Filter options",children:[m.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:m.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),i&&f&&m.jsx("span",{className:"filter-dropdown__badge"})]}),s&&m.jsx("div",{className:"filter-dropdown__menu",children:n.map(d=>m.jsx("button",{className:`filter-dropdown__item ${e===d.value?"filter-dropdown__item--active":""}`,onClick:()=>{t(d.value),o(!1)},children:d.label},d.value))})]})}function KX({sections:n,className:e=""}){const[t,r]=ae.useState(!1),i=ae.useRef(null);ae.useEffect(()=>{const o=u=>{i.current&&!i.current.contains(u.target)&&r(!1)};return t&&document.addEventListener("mousedown",o),()=>document.removeEventListener("mousedown",o)},[t]);const s=n.some(o=>o.value!==""&&o.value!==o.options[0]?.value);return m.jsxs("div",{className:`filter-dropdown ${e}`,ref:i,children:[m.jsxs("button",{className:`filter-dropdown__trigger ${t?"filter-dropdown__trigger--active":""}`,onClick:()=>r(!t),"aria-label":"Filter options",children:[m.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:m.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),s&&m.jsx("span",{className:"filter-dropdown__badge"})]}),t&&m.jsx("div",{className:"filter-dropdown__menu",children:n.map((o,u)=>m.jsxs("div",{children:[u>0&&m.jsx("div",{className:"filter-dropdown__divider"}),o.title&&m.jsx("span",{className:"filter-dropdown__section-title",children:o.title}),o.options.map(f=>m.jsx("button",{className:`filter-dropdown__item ${o.value===f.value?"filter-dropdown__item--active":""}`,onClick:()=>o.onChange(f.value),children:f.label},f.value))]},u))})]})}function g2({options:n,value:e,onChange:t,placeholder:r="Select an option",className:i="",required:s=!1}){const[o,u]=ae.useState(!1),f=ae.useRef(null);ae.useEffect(()=>{const x=w=>{f.current&&!f.current.contains(w.target)&&u(!1)};return o&&document.addEventListener("mousedown",x),()=>document.removeEventListener("mousedown",x)},[o]);const d=n.find(x=>x.value===e);return m.jsxs("div",{className:`select-dropdown ${i}`,ref:f,children:[m.jsxs("button",{type:"button",className:`select-dropdown__trigger ${o?"select-dropdown__trigger--open":""} ${e?"select-dropdown__trigger--selected":""}`,onClick:()=>u(!o),"aria-required":s,children:[m.jsx("span",{className:e?"":"select-dropdown__placeholder",children:d?.label||r}),m.jsx("svg",{className:`select-dropdown__arrow ${o?"select-dropdown__arrow--open":""}`,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:m.jsx("polyline",{points:"6 9 12 15 18 9"})})]}),o&&m.jsx("div",{className:"select-dropdown__menu",children:n.map(x=>m.jsx("button",{type:"button",className:`select-dropdown__item ${e===x.value?"select-dropdown__item--active":""}`,onClick:()=>{t(x.value),u(!1)},children:x.label},x.value))})]})}function F5({children:n,className:e=""}){return m.jsx("div",{className:`toolbar-wrapper ${e}`,children:m.jsx("div",{className:"toolbar",children:n})})}function QX(){const{showToast:n}=Da(),[e,t]=ae.useState([]),[r,i]=ae.useState(!0),[s,o]=ae.useState(""),[u,f]=ae.useState(""),[d,x]=ae.useState(null),[w,A]=ae.useState(!1),[E,I]=ae.useState(!1),[C,M]=ae.useState(!1),[j,W]=ae.useState(null),[k,G]=ae.useState(null),[ce,re]=ae.useState(!1),[F,B]=ae.useState(new Set),[L,Q]=ae.useState(new Map),[U,q]=ae.useState(!1),[Y,ne]=ae.useState(null);ae.useEffect(()=>{const Z=Bl.onAuthStateChanged(async oe=>{if(oe){let de=await Js(hr(An,"users",oe.uid));if(de.exists()||(de=await Js(hr(An,"admins",oe.uid))),de.exists()){const Me=de.data();G({orbitId:Me.orbitId||"",firstName:Me.firstName||"",lastName:Me.lastName||"",email:Me.email||"",mobile:Me.mobile||"",collegeName:Me.collegeName||"",gender:Me.gender||""})}}else G(null)});return()=>Z()},[]),ae.useEffect(()=>{(async()=>{if(k?.orbitId){const oe=await hx(k.orbitId),de=new Set(oe.map(Ue=>Ue.eventId)),Me=new Map;oe.forEach(Ue=>Me.set(Ue.eventId,Ue)),B(de),Q(Me)}else B(new Set),Q(new Map)})()},[k]),ae.useEffect(()=>{const Z=Oa(Ti(An,"events"),du("date","desc")),oe=nc(Z,de=>{const Me=[];de.forEach(Ue=>{const Ve=Ue.data();Me.push({id:Ue.id,type:Ve.type||"Event",title:Ve.title||"",description:Ve.description||"",date:Ve.date||"",venue:Ve.venue||"",venueUrl:Ve.venueUrl,time:Ve.time||"",registrationOpen:Ve.registrationOpen??!1,isPast:Ve.isPast??!1,mode:Ve.mode,registrationDeadline:Ve.registrationDeadline,eligibility:Ve.eligibility,speakers:Ve.speakers,images:Ve.images||[],amount:Ve.amount})}),t(Me),i(!1)},de=>{console.error("Error fetching events:",de),i(!1)});return()=>oe()},[]);const pe=e.filter(Z=>!(Z.isPast||s&&!Z.title.toLowerCase().includes(s.toLowerCase())||u&&Z.type!==u)),Ae=e.filter(Z=>!(!Z.isPast||s&&!Z.title.toLowerCase().includes(s.toLowerCase())||u&&Z.type!==u)),ve=Z=>{x(Z),A(!1),document.body.style.overflow="hidden"},Re=()=>{A(!0),setTimeout(()=>{x(null),A(!1),document.body.style.overflow=""},200)},He=async Z=>{if(!k){n("Please log in to register for events","error");return}if(await mR(Z.id,k.orbitId)){n("You are already registered for this event","info");return}W(Z),M(!0)},ze=async Z=>{if(!(!k||!j)){re(!0),M(!1);try{const{registration:oe}=await dR({orbitId:k.orbitId,firstName:k.firstName,lastName:k.lastName,email:k.email,collegeName:k.collegeName,gender:k.gender,govIdLast4:Z.govIdLast4,govIdType:Z.govIdType,eventId:j.id,eventName:j.title,eventDate:j.date,eventVenue:j.venue});ne({registration:oe,eventVenue:j.venue,eventName:j.title}),B(de=>new Set([...de,j.id])),Q(de=>{const Me=new Map(de);return Me.set(j.id,oe),Me}),q(!0),n("Registration Successful!","success")}catch(oe){console.error("Error registering:",oe),n("Registration failed. Please try again.","error")}finally{re(!1),W(null)}}},xe=async()=>{if(!(!Y||!k))try{re(!0);const Z=await h2(Y.registration,Y.eventVenue);f2(Z,Y.eventName,k.orbitId),n("Pass downloaded!","success")}catch(Z){console.error("Error downloading pass:",Z),n("Download failed. Try from Dashboard.","error")}finally{re(!1),q(!1),ne(null)}},H=()=>{q(!1),ne(null),n("Collect your pass from My Events in Dashboard","info")},J=async Z=>{if(!k)return;const oe=L.get(Z.id);if(!oe){n("Registration not found","error");return}try{re(!0);const de=await h2(oe,Z.venue);f2(de,Z.title,k.orbitId),n("Pass downloaded!","success")}catch(de){console.error("Error downloading pass:",de),n("Download failed. Try from Dashboard.","error")}finally{re(!1)}};return m.jsxs(m.Fragment,{children:[m.jsxs("main",{className:"events-page",children:[m.jsx(Ia,{direction:"fade",children:m.jsxs("section",{className:"events-hero",children:[m.jsx("h1",{className:"events-hero__title",children:"Events & Activities"}),m.jsx("p",{className:"events-hero__subtitle",children:"Workshops, talks, competitions, and stargazing sessions to fuel your curiosity."})]})}),m.jsx(Ia,{direction:"up",delay:.1,className:"scroll-reveal--z-high",children:m.jsxs(F5,{children:[m.jsx(j5,{value:s,onChange:o,placeholder:"Search events..."}),m.jsx(TR,{options:[{value:"",label:"All Types"},{value:"Workshop",label:"Workshop"},{value:"Talk",label:"Talk"},{value:"Competition",label:"Competition"},{value:"Outreach",label:"Outreach"}],value:u,onChange:f})]})}),m.jsx(Ia,{direction:"up",delay:.15,children:m.jsxs("section",{className:"events-section",children:[m.jsx("h2",{className:"events-section__heading",children:"Upcoming Events"}),r?m.jsx("p",{className:"events-empty",children:"Loading events..."}):pe.length>0?m.jsx("div",{className:"events-grid",children:pe.map(Z=>m.jsx(Hy,{event:Z,onClick:ve,variant:"full",onRegisterClick:He,isRegistered:F.has(Z.id),onDownloadPass:J},Z.id))}):m.jsx("p",{className:"events-empty",children:"No upcoming events match your search."})]})}),m.jsxs("section",{className:"events-section events-section--past",children:[m.jsxs("button",{className:"events-toggle",onClick:()=>I(!E),children:[E?"Hide Past Events":"View Past Events",m.jsx("span",{className:`events-toggle__arrow ${E?"events-toggle__arrow--up":""}`,children:""})]}),E&&m.jsx("div",{className:"events-grid events-grid--past",children:Ae.length>0?Ae.map(Z=>m.jsx(Hy,{event:Z,onClick:ve,variant:"full",isRegistered:F.has(Z.id),onDownloadPass:J},Z.id)):m.jsx("p",{className:"events-empty",children:"No past events match your search."})})]})]}),d&&m.jsx(I5,{event:d,isClosing:w,onClose:Re,onRegisterClick:He,isRegistered:F.has(d.id),onDownloadPass:J}),j&&m.jsx(rq,{event:j,isOpen:C,onClose:()=>{M(!1),W(null)},userProfile:k,onRegisterComplete:ze}),ce&&m.jsx("div",{className:"pass-generating-overlay",children:m.jsxs("div",{className:"pass-generating-content",children:[m.jsx("div",{className:"pass-generating-spinner"}),m.jsx("p",{children:"Generating your pass..."})]})}),U&&m.jsx("div",{className:"success-modal-overlay",children:m.jsxs("div",{className:"success-modal",children:[m.jsx("div",{className:"success-modal__icon",children:m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",strokeLinecap:"round",strokeLinejoin:"round"}),m.jsx("polyline",{points:"22 4 12 14.01 9 11.01",strokeLinecap:"round",strokeLinejoin:"round"})]})}),m.jsx("h3",{className:"success-modal__title",children:"Registration Successful!"}),m.jsx("p",{className:"success-modal__text",children:"Would you like to download your event pass now?"}),m.jsxs("div",{className:"success-modal__actions",children:[m.jsx("button",{className:"success-modal__btn success-modal__btn--primary",onClick:xe,children:"Download Pass"}),m.jsx("button",{className:"success-modal__btn success-modal__btn--secondary",onClick:H,children:"Get it later from Dashboard"})]})]})}),m.jsx(Ul,{})]})}const $X=[{value:"All Teams",label:"All Teams"},{value:"President",label:"President"},{value:"Chairman",label:"Chairman"},{value:"Secretary",label:"Secretary"},{value:"Treasurer",label:"Treasurer"},{value:"Co-Treasurer",label:"Co-Treasurer"},{value:"Technical Team",label:"Technical Team"},{value:"Public Outreach Team",label:"Public Outreach Team"},{value:"Documentation Team",label:"Documentation Team"},{value:"Social Media & Editing Team",label:"Social Media & Editing"},{value:"Design & Innovation Team",label:"Design & Innovation"},{value:"Management & Operations Team",label:"Management & Operations"}];function ZX(){const[n,e]=ae.useState(""),[t,r]=ae.useState(""),[i,s]=ae.useState("All Teams");return ae.useEffect(()=>{const o=setTimeout(()=>{r(n.trim().toLowerCase())},500);return()=>clearTimeout(o)},[n]),m.jsxs(m.Fragment,{children:[m.jsxs("main",{className:"members-page",children:[m.jsx(Ia,{direction:"fade",children:m.jsxs("section",{className:"members-hero",children:[m.jsx("h1",{className:"members-hero__title",children:"Our Members"}),m.jsx("p",{className:"members-hero__subtitle",children:"Meet the passionate individuals who make OrbitX thrive."})]})}),m.jsx(Ia,{direction:"up",delay:.1,className:"scroll-reveal--z-high",children:m.jsxs(F5,{children:[m.jsx(j5,{value:n,onChange:e,placeholder:"Search members..."}),m.jsx(TR,{options:$X,value:i,onChange:s})]})}),m.jsx(Ia,{direction:"up",delay:.2,children:m.jsx("section",{className:"members-gallery",children:m.jsx(AR,{autoRotate:!0,autoRotateSpeed:.05,grayscale:!1,maxVerticalRotationDeg:0,searchQuery:t,teamFilter:i==="All Teams"?"":i})})})]}),m.jsx(Ul,{})]})}const JX=["Technical Team","Design & Innovation Team","Public Outreach Team","Documentation Team","Social Media & Editing Team","Management & Operations Team","Not sure yet"],eK=["Computer Engineering","Mechanical Engineering","Electronics Engineering","Civil Engineering","Information Technology","Other"],tK=["1st Year","2nd Year","3rd Year","4th Year"];function nK(n){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let t="";for(let i=0;i<3;i++)t+=e.charAt(Math.floor(Math.random()*e.length));const r=n.slice(-2).padStart(2,"0");return t+r}function rK(){const{showToast:n}=Da(),{user:e,profile:t}=ko(),[r,i]=ae.useState(!1),[s,o]=ae.useState(!0),[u,f]=ae.useState([]),[d,x]=ae.useState(!1),[w,A]=ae.useState({firstName:"",lastName:"",email:"",phone:"",whatsapp:"",college:"",department:"",year:"",interests:[],whyJoin:"",experience:""}),E=u[0],I=E&&(E.status==="pending"||E.status==="reviewed"||E.status==="accepted"),C=E?.status==="rejected",M=I&&!d;ae.useEffect(()=>{if(!e?.email){o(!1);return}const F=Oa(Ti(An,"applications"),jl("email","==",e.email.toLowerCase())),B=nc(F,async L=>{const Q=L.docs.map(ne=>({id:ne.id,...ne.data()})),U=20,q=new Date;q.setDate(q.getDate()-U);const Y=[];for(const ne of Q)if(ne.status==="rejected"&&new Date(ne.submittedAt)<q)try{await mu(hr(An,"applications",ne.id)),console.log(`Deleted expired rejected application: ${ne.applicationId}`)}catch(pe){console.error("Error deleting expired application:",pe),Y.push(ne)}else Y.push(ne);if(Y.sort((ne,pe)=>new Date(pe.submittedAt).getTime()-new Date(ne.submittedAt).getTime()),f(Y),Y.length>0){const ne=Y[0];A({firstName:ne.firstName||"",lastName:ne.lastName||"",email:ne.email||"",phone:ne.phone||"",whatsapp:ne.whatsapp||"",college:ne.college||"",department:ne.course||"",year:ne.year||"",interests:ne.interests||[],whyJoin:ne.whyJoin||"",experience:ne.experience||""})}else t&&A(ne=>({...ne,firstName:t.firstName||"",lastName:t.lastName||"",email:e.email||""}));o(!1)},L=>{console.error("Error fetching applications:",L),o(!1)});return()=>B()},[e,t]);const j=F=>{if(M)return;const{name:B,value:L}=F.target;A(Q=>({...Q,[B]:L}))},W=F=>{M&&!d||A(B=>({...B,interests:B.interests.includes(F)?B.interests.filter(L=>L!==F):[...B.interests,F]}))},k=()=>{x(!0),A(F=>({...F,interests:[],whyJoin:"",experience:""}))},G=async F=>{if(F.preventDefault(),w.interests.length===0){n("Please select at least one area of interest","error");return}if(!w.firstName||!w.lastName||!w.email||!w.phone){n("Please fill in all required fields","error");return}i(!0);try{const B=nK(w.phone);await of(Ti(An,"applications"),{applicationId:B,firstName:w.firstName.trim(),lastName:w.lastName.trim(),email:w.email.trim().toLowerCase(),phone:w.phone.trim(),whatsapp:w.whatsapp.trim()||w.phone.trim(),college:w.college.trim(),course:w.department,year:w.year,interests:w.interests,whyJoin:w.whyJoin.trim(),experience:w.experience.trim(),status:"pending",remark:"",submittedAt:new Date().toISOString(),createdAt:mm()}),n("Application submitted successfully!","success"),x(!1)}catch(B){console.error("Error submitting application:",B),n("Failed to submit application. Please try again.","error")}finally{i(!1)}},ce=F=>{switch(F){case"pending":case"reviewed":return"Approval Pending";case"accepted":return"Approved";case"rejected":return"Application Rejected";default:return F}},re=F=>{switch(F){case"pending":case"reviewed":return"status--pending";case"accepted":return"status--approved";case"rejected":return"status--rejected";default:return""}};return s?m.jsxs(m.Fragment,{children:[m.jsx("main",{className:"join-page",children:m.jsx("div",{className:"join-loading",children:"Loading..."})}),m.jsx(Ul,{})]}):m.jsxs(m.Fragment,{children:[m.jsxs("main",{className:"join-page",children:[m.jsxs("section",{className:"join-hero",children:[m.jsx("h1",{className:"join-hero__title",children:"Join OrbitX"}),m.jsx("p",{className:"join-hero__subtitle",children:E?.status==="accepted"?"Your application has been approved! You will be contacted for an interview soon.":E?.status==="rejected"?"Your previous application was not selected. You may re-apply below.":I?"Your application is being reviewed. Thank you for your interest!":"Be part of our journey to explore the cosmos. Fill out the form below and take your first step towards the stars."})]}),E?.status!=="accepted"&&m.jsx("section",{className:"join-form-container",children:m.jsxs("form",{className:`join-form ${M?"join-form--readonly":""}`,onSubmit:G,children:[m.jsxs("div",{className:"join-form__row",children:[m.jsxs("div",{className:"join-form__group",children:[m.jsxs("label",{className:"join-form__label",children:["First Name ",m.jsx("span",{className:"join-form__required",children:"*"})]}),m.jsx("input",{type:"text",name:"firstName",className:"join-form__input join-form__input--locked",placeholder:"Enter your first name",value:w.firstName,onChange:j,required:!0,readOnly:!0})]}),m.jsxs("div",{className:"join-form__group",children:[m.jsxs("label",{className:"join-form__label",children:["Last Name ",m.jsx("span",{className:"join-form__required",children:"*"})]}),m.jsx("input",{type:"text",name:"lastName",className:"join-form__input join-form__input--locked",placeholder:"Enter your last name",value:w.lastName,onChange:j,required:!0,readOnly:!0})]})]}),m.jsxs("div",{className:"join-form__group",children:[m.jsxs("label",{className:"join-form__label",children:["Email ",m.jsx("span",{className:"join-form__required",children:"*"})]}),m.jsx("input",{type:"email",name:"email",className:"join-form__input join-form__input--locked",placeholder:"Enter your email address",value:w.email,onChange:j,required:!0,readOnly:!0})]}),m.jsxs("div",{className:"join-form__row",children:[m.jsxs("div",{className:"join-form__group",children:[m.jsxs("label",{className:"join-form__label",children:["Phone Number ",m.jsx("span",{className:"join-form__required",children:"*"})]}),m.jsx("input",{type:"tel",name:"phone",className:"join-form__input",placeholder:"Enter your phone number",value:w.phone,onChange:j,required:!0,readOnly:M||d})]}),m.jsxs("div",{className:"join-form__group",children:[m.jsx("label",{className:"join-form__label",children:"WhatsApp Number"}),m.jsx("input",{type:"tel",name:"whatsapp",className:"join-form__input",placeholder:"WhatsApp number (if different)",value:w.whatsapp,onChange:j,readOnly:M||d})]})]}),m.jsxs("div",{className:"join-form__group",children:[m.jsxs("label",{className:"join-form__label",children:["College/University ",m.jsx("span",{className:"join-form__required",children:"*"})]}),m.jsx("input",{type:"text",name:"college",className:"join-form__input",placeholder:"Enter your college or university name",value:w.college,onChange:j,required:!0,readOnly:M||d})]}),m.jsxs("div",{className:"join-form__row",children:[m.jsxs("div",{className:"join-form__group",children:[m.jsxs("label",{className:"join-form__label",children:["Department ",m.jsx("span",{className:"join-form__required",children:"*"})]}),M||d?m.jsx("input",{type:"text",className:"join-form__input",value:w.department,readOnly:!0}):m.jsx(g2,{options:eK.map(F=>({value:F,label:F})),value:w.department,onChange:F=>A(B=>({...B,department:F})),placeholder:"Select department",required:!0})]}),m.jsxs("div",{className:"join-form__group",children:[m.jsxs("label",{className:"join-form__label",children:["Year ",m.jsx("span",{className:"join-form__required",children:"*"})]}),M||d?m.jsx("input",{type:"text",className:"join-form__input",value:w.year,readOnly:!0}):m.jsx(g2,{options:tK.map(F=>({value:F,label:F})),value:w.year,onChange:F=>A(B=>({...B,year:F})),placeholder:"Select year",required:!0})]})]}),m.jsxs("div",{className:"join-form__group",children:[m.jsxs("label",{className:"join-form__label",children:["Areas of Interest ",m.jsx("span",{className:"join-form__required",children:"*"}),m.jsx("span",{className:"join-form__hint",children:"Select all teams you'd like to be part of"})]}),m.jsx("div",{className:"join-form__interests",children:JX.map(F=>m.jsx("button",{type:"button",className:`join-form__interest-btn ${w.interests.includes(F)?"join-form__interest-btn--active":""} ${M&&!d?"join-form__interest-btn--disabled":""}`,onClick:()=>W(F),disabled:M&&!d,children:F},F))})]}),m.jsxs("div",{className:"join-form__group",children:[m.jsxs("label",{className:"join-form__label",children:["Why do you want to join OrbitX? ",m.jsx("span",{className:"join-form__required",children:"*"})]}),m.jsx("textarea",{name:"whyJoin",className:"join-form__textarea",placeholder:"Tell us about your motivation and what excites you about space...",value:w.whyJoin,onChange:j,rows:4,required:!0,readOnly:M&&!d})]}),m.jsxs("div",{className:"join-form__group",children:[m.jsx("label",{className:"join-form__label",children:"Prior Experience"}),m.jsx("textarea",{name:"experience",className:"join-form__textarea",placeholder:"Any relevant experience, projects, or skills? (Optional)",value:w.experience,onChange:j,rows:3,readOnly:M&&!d})]}),(!I||d)&&m.jsx("button",{type:"submit",className:"join-form__submit",disabled:r,children:r?"Submitting...":d?"Submit Re-Application":"Submit Application"})]})}),u.length>0&&m.jsxs("section",{className:"join-history",children:[m.jsx("h2",{className:"join-history__title",children:"Application History"}),m.jsx("div",{className:"join-history__table-wrapper",children:m.jsxs("table",{className:"join-history__table",children:[m.jsx("thead",{children:m.jsxs("tr",{children:[m.jsx("th",{children:"Sr. No."}),m.jsx("th",{children:"Application ID"}),m.jsx("th",{children:"Remark"}),m.jsx("th",{children:"Status"}),m.jsx("th",{children:"Action"})]})}),m.jsx("tbody",{children:u.map((F,B)=>m.jsxs("tr",{className:`join-history__row ${B>0?"join-history__row--past":""}`,children:[m.jsx("td",{children:u.length-B}),m.jsx("td",{className:"join-history__app-id",children:F.applicationId||"N/A"}),m.jsx("td",{className:"join-history__remark",children:F.remark||"-"}),m.jsx("td",{children:m.jsx("span",{className:`join-history__status ${re(F.status)}`,children:ce(F.status)})}),m.jsx("td",{children:B===0&&C&&!d?m.jsx("button",{className:"join-history__action-btn",onClick:k,children:"Re-Apply"}):m.jsx("span",{className:"join-history__no-action",children:"-"})})]},F.id))})]})})]})]}),m.jsx(Ul,{})]})}const iK=[{question:"How can I join OrbitX?",answer:"You can apply to join OrbitX by visiting our Join page and filling out the application form. We review applications regularly and will contact you if your application is approved."},{question:"What activities does OrbitX organize?",answer:"OrbitX organizes various activities including stargazing sessions, astronomy workshops, guest lectures, telescope building workshops, and participation in national/international astronomy events."},{question:"Do I need prior astronomy knowledge to join?",answer:"No prior knowledge is required! We welcome anyone with a passion for space and astronomy. We provide learning resources and mentorship to help you grow."},{question:"How often do you conduct events?",answer:"We conduct regular weekly meetings and monthly stargazing sessions. Special events and workshops are organized throughout the academic year."},{question:"Can I volunteer for OrbitX events?",answer:"Yes! We're always looking for enthusiastic volunteers. Members can volunteer for event organization, content creation, and outreach activities."}];function sK(){const{showToast:n}=Da(),[e,t]=ae.useState(!1),[r,i]=ae.useState(null),[s,o]=ae.useState({name:"",email:"",subject:"",message:""}),u=x=>{const{name:w,value:A}=x.target;o(E=>({...E,[w]:A}))},f=async x=>{if(x.preventDefault(),!e){if(!s.name||!s.email||!s.subject){n("Please fill in all mandatory fields (*)","error");return}t(!0);try{const w=s.name.trim().toLowerCase(),A=s.email.trim().toLowerCase(),E=btoa(`${w}:${A}`).substring(0,12);let I=localStorage.getItem("orbitx_device_id");I||(I=Math.random().toString(36).substring(2,15),localStorage.setItem("orbitx_device_id",I));const C=Math.floor(1e5+Math.random()*9e5);await of(Ti(An,"contactMessages"),{...s,userHash:E,deviceId:I,queryId:C,createdAt:mm(),status:"unread"}),n("Message sent successfully! We'll get back to you soon.","success"),o({name:"",email:"",subject:"",message:""})}catch(w){console.error("Error sending message:",w),n("Failed to send message. Please try again.","error")}finally{t(!1)}}},d=x=>{i(r===x?null:x)};return m.jsxs(m.Fragment,{children:[m.jsxs("main",{className:"contact-page",children:[m.jsxs("section",{className:"contact-hero",children:[m.jsx("h1",{className:"contact-hero__title",children:"Get in Touch"}),m.jsx("p",{className:"contact-hero__subtitle",children:"Have questions or want to collaborate? We'd love to hear from you."})]}),m.jsxs("section",{className:"contact-grid",children:[m.jsxs("div",{className:"contact-form-wrapper",children:[m.jsx("h2",{className:"contact-section-title",children:"Send us a Message"}),m.jsxs("form",{className:"contact-form",onSubmit:f,children:[m.jsxs("div",{className:"contact-form__group",children:[m.jsx("label",{className:"contact-form__label",children:"Name *"}),m.jsx("input",{type:"text",name:"name",className:"contact-form__input",placeholder:"Your name",value:s.name,onChange:u,required:!0})]}),m.jsxs("div",{className:"contact-form__group",children:[m.jsx("label",{className:"contact-form__label",children:"Email *"}),m.jsx("input",{type:"email",name:"email",className:"contact-form__input",placeholder:"your@email.com",value:s.email,onChange:u,required:!0})]}),m.jsxs("div",{className:"contact-form__group",children:[m.jsx("label",{className:"contact-form__label",children:"Subject *"}),m.jsxs("select",{name:"subject",className:"contact-form__select",value:s.subject,onChange:u,required:!0,children:[m.jsx("option",{value:"",children:"Select a subject"}),m.jsx("option",{value:"General Inquiry",children:"General Inquiry"}),m.jsx("option",{value:"Membership",children:"Membership"}),m.jsx("option",{value:"Events",children:"Events & Workshops"}),m.jsx("option",{value:"Collaboration",children:"Collaboration"}),m.jsx("option",{value:"Sponsorship",children:"Sponsorship"}),m.jsx("option",{value:"Other",children:"Other"})]})]}),m.jsxs("div",{className:"contact-form__group",children:[m.jsx("label",{className:"contact-form__label",children:"Message"}),m.jsx("textarea",{name:"message",className:"contact-form__textarea",placeholder:"Write your message here...",rows:5,value:s.message,onChange:u})]}),m.jsx("button",{type:"submit",className:"contact-form__submit",disabled:e,children:e?"Sending...":"Send Message"})]})]}),m.jsxs("div",{className:"contact-info-wrapper",children:[m.jsx("h2",{className:"contact-section-title",children:"Contact Information"}),m.jsxs("div",{className:"contact-cards",children:[m.jsxs("a",{href:"mailto:contact@orbitxzcoer.club",className:"contact-card",children:[m.jsx("div",{className:"contact-card__icon",children:m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("path",{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}),m.jsx("polyline",{points:"22,6 12,13 2,6"})]})}),m.jsxs("div",{className:"contact-card__content",children:[m.jsx("h3",{children:"Email"}),m.jsx("p",{children:"contact@orbitxzcoer.club"})]})]}),m.jsxs("a",{href:"https://maps.app.goo.gl/zr4Yg3uhrYabnjH49",target:"_blank",rel:"noopener noreferrer",className:"contact-card",children:[m.jsx("div",{className:"contact-card__icon",children:m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),m.jsx("circle",{cx:"12",cy:"10",r:"3"})]})}),m.jsxs("div",{className:"contact-card__content",children:[m.jsx("h3",{children:"Location"}),m.jsx("p",{children:"Dept. of Computer Engineering, Zeal College of Engineering and Research, Pune 411041"})]})]})]}),m.jsxs("div",{className:"contact-socials",children:[m.jsx("h3",{className:"contact-socials__title",children:"Follow Us"}),m.jsxs("div",{className:"contact-socials__links",children:[m.jsx("a",{href:"https://www.instagram.com/orbitx_zcoer/",target:"_blank",rel:"noopener noreferrer",className:"social-link","aria-label":"Instagram",children:m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("rect",{x:"2",y:"2",width:"20",height:"20",rx:"5",ry:"5"}),m.jsx("path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"}),m.jsx("line",{x1:"17.5",y1:"6.5",x2:"17.51",y2:"6.5"})]})}),m.jsx("a",{href:"https://www.linkedin.com/company/orbitx-zcoer/",target:"_blank",rel:"noopener noreferrer",className:"social-link","aria-label":"LinkedIn",children:m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"}),m.jsx("rect",{x:"2",y:"9",width:"4",height:"12"}),m.jsx("circle",{cx:"4",cy:"4",r:"2"})]})})]})]})]})]}),m.jsxs("section",{className:"contact-map-section",children:[m.jsx("h2",{className:"contact-section-title",children:"Find Us"}),m.jsx("div",{className:"contact-map",children:m.jsx("iframe",{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2909.1004240421184!2d73.82559228870227!3d18.44842178988876!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3bc2be933201c149%3A0x1c055d83993ff72b!2sZeal%20College%20of%20Engineering%20and%20Research!5e1!3m2!1sen!2sus!4v1766668761486!5m2!1sen!2sus",width:"100%",height:"400",style:{border:0},allowFullScreen:!0,loading:"lazy",referrerPolicy:"no-referrer-when-downgrade",title:"OrbitX Location"})})]}),m.jsxs("section",{className:"contact-faq-section",children:[m.jsx("h2",{className:"contact-section-title",children:"Frequently Asked Questions"}),m.jsx("div",{className:"contact-faq",children:iK.map((x,w)=>m.jsxs("div",{className:`faq-item ${r===w?"faq-item--expanded":""}`,children:[m.jsxs("button",{className:"faq-item__question",onClick:()=>d(w),children:[m.jsx("span",{children:x.question}),m.jsx("svg",{className:"faq-item__icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:m.jsx("polyline",{points:"6 9 12 15 18 9"})})]}),m.jsx("div",{className:"faq-item__answer",children:m.jsx("p",{children:x.answer})})]},w))})]})]}),m.jsx(Ul,{})]})}const aK=async n=>{try{return(await of(Ti(An,"merchOrders"),{...n,createdAt:mm(),updatedAt:mm()})).id}catch(e){throw console.error("Error creating order:",e),new Error(e.message||"Failed to create order")}},oK=()=>{const n=Date.now().toString(36),e=Math.random().toString(36).substring(2,7);return`ORD-${n}-${e}`.toUpperCase()},up=100,lK="Zeal College of Engineering and Research",cK=["All","T-Shirts","Hoodies","Stickers","Accessories"],uK=["All","In Stock","Out of Stock"];function hK(){const n=Ja(),{user:e,profile:t}=ko(),{showToast:r}=Da(),[i,s]=ae.useState([]),[o,u]=ae.useState(!0),[f,d]=ae.useState(""),[x,w]=ae.useState("All"),[A,E]=ae.useState("All"),[I,C]=ae.useState(null),[M,j]=ae.useState(""),[W,k]=ae.useState(1),[G,ce]=ae.useState(0),[re,F]=ae.useState([]),[B,L]=ae.useState(!1);ae.useEffect(()=>{const Ie=Oa(Ti(An,"merch"),du("createdAt","desc")),nt=nc(Ie,Tt=>{const St=Tt.docs.map(Rt=>({id:Rt.id,...Rt.data()}));s(St),u(!1)},Tt=>{console.error("Error fetching products:",Tt),r("Failed to load products","error"),u(!1)});return()=>nt()},[r]);const[Q,U]=ae.useState(!1),[q,Y]=ae.useState(1),[ne,pe]=ae.useState({line1:"",line2:"",city:"",state:"",pincode:""}),[Ae,ve]=ae.useState(!1),[Re,He]=ae.useState(!1);ae.useEffect(()=>(I?(document.body.classList.add("merch-modal-open"),j(I.sizes?.[0]||""),k(1),ce(0)):document.body.classList.remove("merch-modal-open"),()=>document.body.classList.remove("merch-modal-open")),[I]),ae.useEffect(()=>(B?document.body.classList.add("merch-cart-open"):document.body.classList.remove("merch-cart-open"),()=>document.body.classList.remove("merch-cart-open")),[B]);const ze=i.filter(Ie=>{const nt=Ie.name.toLowerCase().includes(f.toLowerCase())||Ie.description.toLowerCase().includes(f.toLowerCase()),Tt=x==="All"||Ie.category===x,St=A==="All"||A==="In Stock"&&Ie.inStock||A==="Out of Stock"&&!Ie.inStock;return nt&&Tt&&St}),xe=()=>{if(!I)return;const Ie=re.findIndex(nt=>nt.product.id===I.id&&nt.size===M);if(Ie>=0){const nt=[...re];nt[Ie].quantity+=W,F(nt)}else F([...re,{product:I,quantity:W,size:M}]);L(!0),C(null)},H=Ie=>{const nt=re.filter((Tt,St)=>St!==Ie);F(nt),nt.length===0&&Q&&(U(!1),r("Cart is empty","info"))},J=(Ie,nt)=>{if(nt<1)return;const Tt=[...re];Tt[Ie].quantity=nt,F(Tt)},Z=()=>{if(!e){r("Please login to continue","info"),n("/login",{state:{from:"/merch"}});return}L(!1),Y(1),ve(!1),U(!0)},oe=()=>{if(!e){r("Please login to continue","info"),n("/login",{state:{from:"/merch"}});return}if(I){if(I.sizes&&I.sizes.length>0&&!M){r("Please select a size","info");return}xe(),Y(1),ve(!1),U(!0)}},de=async()=>{if(!(!e||!t||re.length===0)){He(!0);try{const Ie=re.map(le=>({productId:le.product.id,productName:le.product.name,price:le.product.price,quantity:le.quantity,size:le.size||"",category:le.product.category})),nt=re.reduce((le,ot)=>le+ot.product.price*ot.quantity,0),Tt=Ae?"delivery":"pickup",St=Ae&&!Ve?up:0,Rt={orderId:oK(),userId:e.uid,orbitId:t.orbitId||"N/A",customerName:`${t.firstName} ${t.lastName}`,customerEmail:e.email||"",customerPhone:t.mobile||"",collegeName:t.collegeName||"N/A",items:Ie,subtotal:nt,deliveryCharge:St,totalAmount:nt+St,deliveryMethod:Tt,orderStatus:"pending",paymentStatus:"pending"};Tt==="delivery"&&(Rt.deliveryAddress=ne),await aK(Rt),r("Order placed successfully! Check your dashboard for updates.","success"),F([]),U(!1)}catch(Ie){console.error("Order error:",Ie),r(Ie.message||"Failed to place order. Please try again.","error")}finally{He(!1)}}},Me=re.reduce((Ie,nt)=>Ie+nt.product.price*nt.quantity,0),Ue=re.reduce((Ie,nt)=>Ie+nt.quantity,0),Ve=t?.collegeName===lK;return m.jsxs(m.Fragment,{children:[m.jsxs("main",{className:"merch-page",children:[m.jsx(Ia,{direction:"fade",children:m.jsxs("section",{className:"merch-hero",children:[m.jsx("h1",{className:"merch-hero__title",children:"OrbitX Merchandise"}),m.jsx("p",{className:"merch-hero__subtitle",children:"Support our community while showcasing your passion for space. Every purchase helps fund our events, workshops, and outreach programs."})]})}),m.jsx(Ia,{direction:"up",delay:.1,className:"scroll-reveal--z-high",children:m.jsx("div",{className:"merch-toolbar-wrapper",children:m.jsxs(F5,{children:[m.jsx(j5,{value:f,onChange:d,placeholder:"Search products..."}),m.jsx(KX,{sections:[{title:"Category",options:cK.map(Ie=>({value:Ie,label:Ie})),value:x,onChange:w},{title:"Availability",options:uK.map(Ie=>({value:Ie,label:Ie})),value:A,onChange:E}]}),m.jsxs("button",{className:"merch-cart-btn",onClick:()=>L(!0),children:[m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("circle",{cx:"9",cy:"21",r:"1"}),m.jsx("circle",{cx:"20",cy:"21",r:"1"}),m.jsx("path",{d:"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 0 0 0 2-1.61L23 6H6"})]}),Ue>0&&m.jsx("span",{className:"merch-cart-btn__count",children:Ue})]})]})})}),m.jsx(Ia,{direction:"up",delay:.15,children:m.jsx("section",{className:"merch-grid",children:o?m.jsx("div",{className:"merch-loading",style:{gridColumn:"1/-1",textAlign:"center",padding:"4rem",opacity:.5},children:"Loading cosmic gear..."}):ze.map(Ie=>m.jsxs("article",{className:"merch-card",onClick:()=>C(Ie),children:[m.jsxs("div",{className:"merch-card__image",children:[m.jsx("img",{src:Ie.images[0],alt:Ie.name,loading:"lazy"}),m.jsx("span",{className:`merch-card__badge ${Ie.inStock?"merch-card__badge--in-stock":"merch-card__badge--out-of-stock"}`,children:Ie.inStock?"In Stock":"Out of Stock"})]}),m.jsxs("div",{className:"merch-card__content",children:[m.jsx("span",{className:"merch-card__category",children:Ie.category}),m.jsx("h3",{className:"merch-card__name",children:Ie.name}),m.jsxs("span",{className:"merch-card__price",children:["",Ie.price]})]})]},Ie.id))})}),ze.length===0&&m.jsx("div",{className:"merch-empty",children:m.jsx("p",{children:"No products found matching your criteria."})})]}),I&&m.jsx("div",{className:"merch-modal-overlay",onClick:()=>C(null),children:m.jsxs("div",{className:"merch-modal",onClick:Ie=>Ie.stopPropagation(),children:[m.jsx("button",{className:"merch-modal__close",onClick:()=>C(null),children:m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),m.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})}),m.jsxs("div",{className:"merch-modal__gallery",children:[m.jsx("div",{className:"merch-modal__image",children:m.jsx("img",{src:I.images[G],alt:I.name})}),I.images.length>1&&m.jsxs(m.Fragment,{children:[m.jsx("button",{className:"merch-modal__nav merch-modal__nav--prev",onClick:()=>ce(Ie=>Ie===0?I.images.length-1:Ie-1),children:m.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:m.jsx("polyline",{points:"15 18 9 12 15 6"})})}),m.jsx("button",{className:"merch-modal__nav merch-modal__nav--next",onClick:()=>ce(Ie=>Ie===I.images.length-1?0:Ie+1),children:m.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:m.jsx("polyline",{points:"9 18 15 12 9 6"})})}),m.jsx("div",{className:"merch-modal__dots",children:I.images.map((Ie,nt)=>m.jsx("button",{className:`merch-modal__dot ${nt===G?"merch-modal__dot--active":""}`,onClick:()=>ce(nt)},nt))})]})]}),m.jsxs("div",{className:"merch-modal__content",children:[m.jsx("span",{className:"merch-modal__category",children:I.category}),m.jsx("h2",{className:"merch-modal__name",children:I.name}),m.jsxs("span",{className:"merch-modal__price",children:["",I.price]}),m.jsx("p",{className:"merch-modal__desc",children:I.description}),I.sizes&&I.sizes.length>0&&m.jsxs("div",{className:"merch-modal__sizes",children:[m.jsx("span",{className:"merch-modal__label",children:"Size"}),m.jsx("div",{className:"merch-modal__size-options",children:I.sizes.map(Ie=>m.jsx("button",{className:`merch-modal__size-btn ${M===Ie?"merch-modal__size-btn--active":""}`,onClick:()=>j(Ie),children:Ie},Ie))})]}),m.jsxs("div",{className:"merch-modal__quantity",children:[m.jsx("span",{className:"merch-modal__label",children:"Quantity"}),m.jsxs("div",{className:"merch-modal__quantity-controls",children:[m.jsx("button",{onClick:()=>k(Ie=>Math.max(1,Ie-1)),children:""}),m.jsx("span",{children:W}),m.jsx("button",{onClick:()=>k(Ie=>Ie+1),children:"+"})]})]}),m.jsxs("div",{className:"merch-modal__actions",children:[m.jsx("button",{className:"merch-modal__btn merch-modal__btn--primary",disabled:!I.inStock,onClick:oe,children:"Buy Now"}),m.jsx("button",{className:"merch-modal__btn merch-modal__btn--secondary",onClick:xe,disabled:!I.inStock,children:"Add to Cart"})]})]})]})}),B&&m.jsx("div",{className:"merch-cart-overlay",onClick:()=>L(!1)}),m.jsxs("div",{className:`merch-cart-drawer ${B?"merch-cart-drawer--open":""}`,children:[m.jsxs("div",{className:"merch-cart-drawer__header",children:[m.jsxs("h3",{children:["Your Cart (",Ue,")"]}),m.jsx("button",{className:"merch-cart-drawer__close",onClick:()=>L(!1),children:m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),m.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),m.jsx("div",{className:"merch-cart-drawer__content",children:re.length===0?m.jsx("div",{className:"merch-cart-drawer__empty",children:m.jsx("p",{children:"Your cart is empty"})}):m.jsx("div",{className:"merch-cart-drawer__items",children:re.map((Ie,nt)=>m.jsxs("div",{className:"merch-cart-item",children:[m.jsx("img",{src:Ie.product.images[0],alt:Ie.product.name}),m.jsxs("div",{className:"merch-cart-item__details",children:[m.jsx("span",{className:"merch-cart-item__name",children:Ie.product.name}),Ie.size&&m.jsxs("span",{className:"merch-cart-item__size",children:["Size: ",Ie.size]}),m.jsxs("span",{className:"merch-cart-item__price",children:["",Ie.product.price]})]}),m.jsxs("div",{className:"merch-cart-item__controls",children:[m.jsxs("div",{className:"merch-cart-item__quantity",children:[m.jsx("button",{onClick:()=>J(nt,Ie.quantity-1),children:""}),m.jsx("span",{children:Ie.quantity}),m.jsx("button",{onClick:()=>J(nt,Ie.quantity+1),children:"+"})]}),m.jsx("button",{className:"merch-cart-item__remove",onClick:()=>H(nt),children:"Remove"})]})]},`${Ie.product.id}-${Ie.size}`))})}),re.length>0&&m.jsxs("div",{className:"merch-cart-drawer__footer",children:[m.jsxs("div",{className:"merch-cart-drawer__total",children:[m.jsx("span",{children:"Subtotal"}),m.jsxs("span",{children:["",Me]})]}),m.jsx("button",{className:"merch-cart-drawer__checkout",onClick:Z,children:"Proceed to Checkout"})]})]}),Q&&m.jsx("div",{className:"merch-checkout-modal-overlay",children:m.jsxs("div",{className:"merch-checkout-modal",onClick:Ie=>Ie.stopPropagation(),children:[m.jsxs("header",{className:"checkout-header",children:[m.jsxs("div",{className:"checkout-step-info",children:[m.jsx("h2",{children:"Checkout"}),m.jsxs("div",{className:"step-indicator",children:["Step ",q," of 3"]})]}),m.jsx("button",{className:"checkout-close",onClick:()=>!Re&&U(!1),children:m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),m.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),m.jsxs("div",{className:"checkout-sections",children:[q===1&&m.jsxs("div",{className:"checkout-section fade-in",children:[m.jsx("h3",{children:"Confirm Your Details"}),m.jsxs("div",{className:"details-confirm-grid",children:[m.jsxs("div",{className:"detail-item",children:[m.jsx("label",{children:"First Name"}),m.jsx("input",{type:"text",value:t?.firstName||"",readOnly:!0})]}),m.jsxs("div",{className:"detail-item",children:[m.jsx("label",{children:"Last Name"}),m.jsx("input",{type:"text",value:t?.lastName||"",readOnly:!0})]}),m.jsxs("div",{className:"detail-item",children:[m.jsx("label",{children:"Email Address"}),m.jsx("input",{type:"email",value:e?.email||"",readOnly:!0})]}),m.jsxs("div",{className:"detail-item",children:[m.jsx("label",{children:"Phone Number"}),m.jsx("input",{type:"text",value:t?.mobile||"",readOnly:!0})]}),m.jsxs("div",{className:"detail-item",children:[m.jsx("label",{children:"Orbit ID"}),m.jsx("input",{type:"text",value:t?.orbitId||"",readOnly:!0})]}),m.jsxs("div",{className:"detail-item",children:[m.jsx("label",{children:"College"}),m.jsx("input",{type:"text",value:t?.collegeName||"N/A",title:t?.collegeName,readOnly:!0})]})]}),m.jsx("p",{className:"details-help-text",children:"These details are fetched from your profile. If they are incorrect, please update your profile settings."})]}),q===2&&m.jsxs("div",{className:"checkout-section fade-in",children:[m.jsx("h3",{children:"Delivery Preference"}),m.jsx("div",{className:"delivery-option-card",children:m.jsxs("label",{className:"checkbox-container",children:[m.jsx("input",{type:"checkbox",checked:Ae,onChange:Ie=>ve(Ie.target.checked)}),m.jsx("span",{className:"checkbox-checkmark"}),m.jsx("span",{className:"checkbox-label",children:"Would you like this to be delivered to your home?"})]})}),Ae?m.jsxs("div",{className:"address-form fade-in",children:[m.jsx("h3",{children:"Shipping Address"}),m.jsx("input",{type:"text",placeholder:"House No., Street Name *",value:ne.line1,onChange:Ie=>pe({...ne,line1:Ie.target.value}),required:!0}),m.jsx("input",{type:"text",placeholder:"Apartment, suite, etc. (optional)",value:ne.line2,onChange:Ie=>pe({...ne,line2:Ie.target.value})}),m.jsxs("div",{className:"form-row",children:[m.jsx("input",{type:"text",placeholder:"City *",value:ne.city,onChange:Ie=>pe({...ne,city:Ie.target.value}),required:!0}),m.jsx("input",{type:"text",placeholder:"Pincode *",value:ne.pincode,onChange:Ie=>pe({...ne,pincode:Ie.target.value}),required:!0})]}),m.jsx("input",{type:"text",placeholder:"State *",value:ne.state,onChange:Ie=>pe({...ne,state:Ie.target.value}),required:!0})]}):m.jsx("div",{className:"pickup-instruction fade-in",children:m.jsxs("p",{children:["If no shipping address is provided then you have to collect your order from ",m.jsx("a",{href:"https://maps.app.goo.gl/zr4Yg3uhrYabnjH49",target:"_blank",rel:"noopener noreferrer",className:"college-map-link",children:"Zeal College of Engineering and Research, Pune"})]})})]}),q===3&&m.jsxs("div",{className:"checkout-section fade-in",children:[m.jsx("h3",{children:"Order Summary"}),m.jsxs("div",{className:"checkout-summary",children:[m.jsxs("div",{className:"summary-row",children:[m.jsxs("span",{children:["Subtotal (",re.length," ",re.length===1?"item":"items",")"]}),m.jsxs("span",{children:["",Me]})]}),m.jsxs("div",{className:"summary-row",children:[m.jsx("span",{children:"Delivery Charge"}),m.jsxs("span",{children:["",Ae&&!Ve?up:0]})]}),m.jsxs("div",{className:"summary-row total",children:[m.jsx("span",{children:"Total Amount"}),m.jsxs("span",{children:["",Me+(Ae&&!Ve?up:0)]})]})]}),m.jsx("div",{className:"order-items-preview",children:re.map((Ie,nt)=>m.jsxs("div",{className:"preview-item",children:[m.jsx("img",{src:Ie.product.images[0],alt:Ie.product.name}),m.jsxs("div",{className:"preview-details",children:[m.jsx("span",{className:"preview-name",children:Ie.product.name}),m.jsxs("span",{className:"preview-meta",children:["Size: ",Ie.size,"  Qty: ",Ie.quantity]})]}),m.jsxs("div",{className:"preview-actions",children:[m.jsxs("span",{className:"preview-price",children:["",Ie.product.price*Ie.quantity]}),m.jsx("button",{className:"merch-cart-item__remove",onClick:()=>H(nt),children:"Remove"})]})]},nt))})]})]}),m.jsx("footer",{className:"checkout-footer",children:m.jsxs("div",{className:"footer-actions",children:[q>1&&m.jsx("button",{className:"checkout-back-btn",onClick:()=>Y(Ie=>Ie-1),disabled:Re,children:"Back"}),q<3?m.jsx("button",{className:"checkout-next-btn",onClick:()=>{if(q===2&&Ae&&(!ne.line1||!ne.city||!ne.pincode||!ne.state)){r("Please fill all required address fields","info");return}Y(Ie=>Ie+1)},children:"Continue"}):m.jsx("button",{className:"process-order-btn",onClick:de,disabled:Re,children:Re?"Processing...":`Place Order  ${Me+(Ae&&!Ve?up:0)}`})]})})]})}),B&&m.jsx("div",{className:"merch-cart-overlay",onClick:()=>L(!1)}),m.jsx(Ul,{})]})}function fK(){const n=Ja(),{showToast:e}=Da(),{refreshProfile:t}=ko(),[r,i]=ae.useState(!1),s=async()=>{i(!0);try{const o=await gI();o.isNewUser?(e("Please complete your profile to continue.","info"),n("/signup",{state:{email:o.email,isGoogleSignup:!0}})):o.profile&&(localStorage.getItem("orbitx_first_login")?(e(`Welcome, ${o.profile.firstName}!`,"success"),localStorage.removeItem("orbitx_first_login")):e(`Welcome back, ${o.profile.firstName}!`,"success"),await t(),setTimeout(()=>{n("/user-dashboard",{replace:!0})},100))}catch(o){console.error("Google sign-in error:",o),o.code==="auth/popup-closed-by-user"||o.code==="auth/cancelled-popup-request"||e("Failed to sign in with Google. Please try again.","error")}finally{i(!1)}};return m.jsx("main",{className:"login-page page-transition",children:m.jsxs("div",{className:"login-container login-container--compact",children:[m.jsxs("div",{className:"login-header",children:[m.jsx("h1",{className:"login-title",children:"Welcome to OrbitX"}),m.jsx("p",{className:"login-subtitle",children:"Sign in or create an account to continue"})]}),m.jsxs("div",{className:"login-google-section",children:[m.jsxs("button",{className:"login-google-btn",onClick:s,disabled:r,children:[m.jsxs("svg",{viewBox:"0 0 24 24",children:[m.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),m.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),m.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),m.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),r?"Please wait...":"Continue with Google"]}),m.jsx("p",{className:"login-info",children:"By continuing, you agree to our Terms of Service and Privacy Policy"})]})]})})}const NR=[{value:"male",label:"Male"},{value:"female",label:"Female"},{value:"other",label:"Other"},{value:"prefer_not_to_say",label:"Prefer not to say"}],CR=[{value:"certificate",label:"Certificate Course"},{value:"diploma",label:"Diploma Course"},{value:"dual_degree",label:"DUAL Degree"},{value:"fyjc",label:"F.Y.J.C. (11th std)"},{value:"hsc",label:"H.S.C. (12th std)"},{value:"phd",label:"Ph.D"},{value:"pg_certificate",label:"Post Graduate Certificate"},{value:"pg_course",label:"Post Graduate Course"},{value:"pg_diploma",label:"Post Graduate Diploma Course"},{value:"ug_course",label:"Under Graduate Course"},{value:"ug_sainiki",label:"Under Graduate Course for Sainiki"},{value:"vocational",label:"Vocational Course"}],IR=[{value:"agriculture",label:"Agriculture"},{value:"architecture",label:"Architecture and Town Planning"},{value:"arts",label:"Arts"},{value:"commerce",label:"Commerce"},{value:"commerce_management",label:"Commerce & Management"},{value:"commerce_mgmt",label:"Commerce Management"},{value:"design",label:"Design"},{value:"education",label:"Education"},{value:"engineering",label:"Engineering"},{value:"engineering_machine",label:"Engineering Machine Group"},{value:"engineering_non_machine",label:"Engineering Non Machine Group"},{value:"eye_care",label:"Eye Care Optometrists"},{value:"fine_art",label:"Fine Art (Visual Art)"},{value:"health_science",label:"Health Science"},{value:"hotel_management",label:"Hotel Management and Catering"},{value:"humanities",label:"Humanities and Social Sciences"},{value:"interdisciplinary",label:"Interdisciplinary"},{value:"law",label:"Law"},{value:"management",label:"Management"},{value:"mca",label:"MCA"},{value:"non_engineering",label:"Non Engineering Group"},{value:"non_aicte",label:"Non-AICTE"},{value:"nursing",label:"Nursing"},{value:"other",label:"Other"},{value:"pharmacy",label:"Pharmacy"},{value:"physical_education",label:"Physical Education"},{value:"science",label:"Science"},{value:"science_technology",label:"Science Technology"},{value:"social_work",label:"Social Work"},{value:"veterinary",label:"Veterinary"}],RR=[{value:"be_ce",label:"B.E. Computer Engineering"},{value:"be_cse",label:"B.E. Computer Science and Engineering"},{value:"be_it",label:"B.E. Information Technology"},{value:"be_entc",label:"B.E. Electronics and Telecommunication Engineering"},{value:"be_electronics",label:"B.E. Electronics Engineering"},{value:"be_electrical",label:"B.E. Electrical Engineering"},{value:"be_mech",label:"B.E. Mechanical Engineering"},{value:"be_civil",label:"B.E. Civil Engineering"},{value:"be_aids",label:"B.E. Artificial Intelligence & Data Science"},{value:"be_aiml",label:"B.E. Artificial Intelligence & Machine Learning"},{value:"be_robotics",label:"B.E. Robotics and Automation"},{value:"be_mechatronics",label:"B.E. Mechatronics Engineering"},{value:"be_instrumentation",label:"B.E. Instrumentation Engineering"},{value:"be_chemical",label:"B.E. Chemical Engineering"},{value:"be_production",label:"B.E. Production Engineering"},{value:"be_industrial",label:"B.E. Industrial Engineering"},{value:"btech_cse",label:"B.Tech. Computer Science and Engineering"},{value:"btech_cse_aiml",label:"B.Tech. Computer Science and Engineering (AI & ML)"},{value:"btech_cse_ds",label:"B.Tech. Computer Science and Engineering (Data Science)"},{value:"btech_it",label:"B.Tech. Information Technology"},{value:"btech_ai",label:"B.Tech. Artificial Intelligence"},{value:"btech_aids",label:"B.Tech. Artificial Intelligence & Data Science"},{value:"btech_ece",label:"B.Tech. Electronics and Communication Engineering"},{value:"btech_electrical",label:"B.Tech. Electrical Engineering"},{value:"btech_mech",label:"B.Tech. Mechanical Engineering"},{value:"btech_civil",label:"B.Tech. Civil Engineering"},{value:"btech_robotics",label:"B.Tech. Robotics and Automation"},{value:"btech_mechatronics",label:"B.Tech. Mechatronics Engineering"},{value:"btech_iot",label:"B.Tech. Internet of Things (IoT)"},{value:"btech_cybersecurity",label:"B.Tech. Cyber Security"},{value:"btech_cloud",label:"B.Tech. Cloud Computing"},{value:"btech_blockchain",label:"B.Tech. Blockchain Technology"},{value:"btech_aerospace",label:"B.Tech. Aerospace Engineering"},{value:"btech_chemical",label:"B.Tech. Chemical Engineering"},{value:"other",label:"Other"}],OR=[{value:"1",label:"1st Year"},{value:"2",label:"2nd Year"},{value:"3",label:"3rd Year"},{value:"4",label:"4th Year"},{value:"5",label:"5th Year"},{value:"6",label:"6th Year"},{value:"completed",label:"Completed"}],DR=()=>{const n=new Date().getFullYear(),e=[];for(let t=n+10;t>=n-10;t--)e.push({value:t.toString(),label:t.toString()});return e},dK=[{value:"leadership",label:"Leadership"},{value:"design_innovation",label:"Design & Innovation Team"},{value:"technical",label:"Technical Team"},{value:"management_operations",label:"Management & Operations Team"},{value:"public_outreach",label:"Public Outreach Team"},{value:"documentation",label:"Documentation Team"},{value:"social_media_editing",label:"Social Media & Editing Team"}],mK=[{value:"president",label:"President"},{value:"chairman",label:"Chairman"},{value:"secretary",label:"Secretary"},{value:"treasurer",label:"Treasurer"},{value:"co_treasurer",label:"Co-Treasurer"}],gK=[{value:"team_leader",label:"Team Leader"},{value:"member",label:"Member"}],Kl={MANAGE_PROMOS:"manage_promos",MANAGE_EVENTS:"manage_events",MANAGE_JOIN:"manage_join",MANAGE_APPLICATIONS:"manage_applications",MANAGE_QUERIES:"manage_queries",MANAGE_MERCH:"manage_merch",MANAGE_MERCH_ORDERS:"manage_merch_orders",SCAN_QR:"scan_qr"};function pK(){const n=Ja(),e=Ko(),{showToast:t}=Da(),r=e.state?.email||"",i=e.state?.isGoogleSignup||!1,[s,o]=ae.useState({firstName:"",lastName:"",mobile:"",email:r,dateOfBirth:"",gender:"",qualificationLevel:"",stream:"",collegeName:"",courseName:"",yearOfStudy:"",yearOfGraduation:""}),[u,f]=ae.useState({}),[d,x]=ae.useState(!1),[w,A]=ae.useState(1);ae.useEffect(()=>{(!i||!Bl.currentUser)&&(t("Please sign in with Google to create an account","info"),n("/login"))},[i,n,t]);const E=DR(),I=()=>{const L=new Date;return L.setFullYear(L.getFullYear()-13),L.toISOString().split("T")[0]},C=()=>{const L=new Date;return L.setFullYear(L.getFullYear()-100),L.toISOString().split("T")[0]},M=()=>{const L={};return s.firstName.trim()?s.firstName.length<2&&(L.firstName="First name must be at least 2 characters"):L.firstName="First name is required",s.lastName.trim()?s.lastName.length<2&&(L.lastName="Last name must be at least 2 characters"):L.lastName="Last name is required",s.mobile.trim()?/^[6-9]\d{9}$/.test(s.mobile)||(L.mobile="Please enter a valid 10-digit mobile number"):L.mobile="Mobile number is required",s.email.trim()?/\S+@\S+\.\S+/.test(s.email)||(L.email="Please enter a valid email"):L.email="Email is required",s.dateOfBirth||(L.dateOfBirth="Date of birth is required"),s.gender||(L.gender="Please select your gender"),f(L),Object.keys(L).length===0},j=()=>{const L={};return s.qualificationLevel||(L.qualificationLevel="Please select qualification level"),s.stream||(L.stream="Please select your stream"),s.collegeName.trim()||(L.collegeName="College name is required"),s.courseName||(L.courseName="Please select your course"),s.yearOfStudy||(L.yearOfStudy="Please select year of study"),s.yearOfGraduation||(L.yearOfGraduation="Please select graduation year"),f(L),Object.keys(L).length===0},W=L=>{const{name:Q,value:U}=L.target;o(q=>({...q,[Q]:U})),u[Q]&&f(q=>({...q,[Q]:""}))},k=(L,Q)=>{o(U=>({...U,[L]:Q})),u[L]&&f(U=>({...U,[L]:""}))},G=()=>{w===1&&M()&&A(2)},ce=()=>{w>1&&A(w-1)},re=async L=>{if(L.preventDefault(),!j()){t("Please fix the errors in the form","error");return}x(!0);try{const Q=await CH(s);localStorage.setItem("orbitx_first_login",Q.firstName),t("Account created successfully!","success"),setTimeout(()=>{t("Please login again!","info")},500),setTimeout(()=>{n("/login")},1500)}catch(Q){console.error("Registration error:",Q),Q.code==="auth/email-already-in-use"?(t("This email is already registered. Please login instead.","error"),n("/login")):Q.message?.includes("No authenticated user")?(t("Session expired. Please sign in with Google again.","error"),n("/login")):t("Failed to create account. Please try again.","error")}finally{x(!1)}},F=()=>m.jsxs("div",{className:"signup-step",children:[m.jsx("h3",{className:"signup-step__title",children:"Personal Information"}),m.jsxs("div",{className:"signup-form__row",children:[m.jsxs("div",{className:"signup-form__group",children:[m.jsx("label",{className:"signup-form__label",children:"First Name *"}),m.jsx("input",{type:"text",name:"firstName",className:`signup-form__input ${u.firstName?"signup-form__input--error":""}`,placeholder:"Enter your first name",value:s.firstName,onChange:W}),u.firstName&&m.jsx("span",{className:"signup-form__error",children:u.firstName})]}),m.jsxs("div",{className:"signup-form__group",children:[m.jsx("label",{className:"signup-form__label",children:"Last Name *"}),m.jsx("input",{type:"text",name:"lastName",className:`signup-form__input ${u.lastName?"signup-form__input--error":""}`,placeholder:"Enter your last name",value:s.lastName,onChange:W}),u.lastName&&m.jsx("span",{className:"signup-form__error",children:u.lastName})]})]}),m.jsxs("div",{className:"signup-form__group",children:[m.jsx("label",{className:"signup-form__label",children:"Mobile Number *"}),m.jsx("input",{type:"tel",name:"mobile",className:`signup-form__input ${u.mobile?"signup-form__input--error":""}`,placeholder:"Enter your 10-digit mobile number",value:s.mobile,onChange:W,maxLength:10}),u.mobile&&m.jsx("span",{className:"signup-form__error",children:u.mobile})]}),m.jsxs("div",{className:"signup-form__group",children:[m.jsx("label",{className:"signup-form__label",children:"Email *"}),m.jsx("input",{type:"email",name:"email",className:`signup-form__input ${u.email?"signup-form__input--error":""}`,placeholder:"Enter your email",value:s.email,onChange:W,readOnly:i}),u.email&&m.jsx("span",{className:"signup-form__error",children:u.email})]}),m.jsxs("div",{className:"signup-form__row",children:[m.jsxs("div",{className:"signup-form__group",children:[m.jsx("label",{className:"signup-form__label",children:"Date of Birth *"}),m.jsx(m2,{value:s.dateOfBirth,onChange:L=>k("dateOfBirth",L),minDate:C(),maxDate:I(),placeholder:"Select Date",error:!!u.dateOfBirth}),u.dateOfBirth&&m.jsx("span",{className:"signup-form__error",children:u.dateOfBirth})]}),m.jsxs("div",{className:"signup-form__group",children:[m.jsx("label",{className:"signup-form__label",children:"Gender *"}),m.jsx(Ya,{options:NR,value:s.gender,onChange:L=>k("gender",L),placeholder:"Select Gender",error:!!u.gender}),u.gender&&m.jsx("span",{className:"signup-form__error",children:u.gender})]})]})]}),B=()=>m.jsxs("div",{className:"signup-step",children:[m.jsx("h3",{className:"signup-step__title",children:"Academic Information"}),m.jsxs("div",{className:"signup-form__row",children:[m.jsxs("div",{className:"signup-form__group",children:[m.jsx("label",{className:"signup-form__label",children:"Qualification Level *"}),m.jsx(Ya,{options:CR,value:s.qualificationLevel,onChange:L=>k("qualificationLevel",L),placeholder:"Select Level",error:!!u.qualificationLevel}),u.qualificationLevel&&m.jsx("span",{className:"signup-form__error",children:u.qualificationLevel})]}),m.jsxs("div",{className:"signup-form__group",children:[m.jsx("label",{className:"signup-form__label",children:"Stream *"}),m.jsx(Ya,{options:IR,value:s.stream,onChange:L=>k("stream",L),placeholder:"Select Stream",error:!!u.stream}),u.stream&&m.jsx("span",{className:"signup-form__error",children:u.stream})]})]}),m.jsxs("div",{className:"signup-form__group",children:[m.jsx("label",{className:"signup-form__label",children:"College/University Name *"}),m.jsx("input",{type:"text",name:"collegeName",className:`signup-form__input ${u.collegeName?"signup-form__input--error":""}`,placeholder:"Enter your college name",value:s.collegeName,onChange:W}),u.collegeName&&m.jsx("span",{className:"signup-form__error",children:u.collegeName})]}),m.jsxs("div",{className:"signup-form__group",children:[m.jsx("label",{className:"signup-form__label",children:"Course *"}),m.jsx(Ya,{options:RR,value:s.courseName,onChange:L=>k("courseName",L),placeholder:"Select Course",error:!!u.courseName}),u.courseName&&m.jsx("span",{className:"signup-form__error",children:u.courseName})]}),m.jsxs("div",{className:"signup-form__row",children:[m.jsxs("div",{className:"signup-form__group",children:[m.jsx("label",{className:"signup-form__label",children:"Year of Study *"}),m.jsx(Ya,{options:OR,value:s.yearOfStudy,onChange:L=>k("yearOfStudy",L),placeholder:"Select Year",error:!!u.yearOfStudy}),u.yearOfStudy&&m.jsx("span",{className:"signup-form__error",children:u.yearOfStudy})]}),m.jsxs("div",{className:"signup-form__group",children:[m.jsx("label",{className:"signup-form__label",children:"Year of Graduation *"}),m.jsx(Ya,{options:E,value:s.yearOfGraduation,onChange:L=>k("yearOfGraduation",L),placeholder:"Select Year",error:!!u.yearOfGraduation}),u.yearOfGraduation&&m.jsx("span",{className:"signup-form__error",children:u.yearOfGraduation})]})]})]});return m.jsx("main",{className:"signup-page page-transition",children:m.jsxs("div",{className:"signup-container",children:[m.jsxs("div",{className:"signup-header",children:[m.jsx("h1",{className:"signup-title",children:"Create Account"}),m.jsx("p",{className:"signup-subtitle",children:"Complete your profile to join OrbitX"})]}),m.jsxs("div",{className:"signup-progress",children:[m.jsxs("div",{className:`signup-progress__step ${w>=1?"active":""} ${w>1?"completed":""}`,children:[m.jsx("div",{className:"signup-progress__circle",children:w>1?"":"1"}),m.jsx("span",{className:"signup-progress__label",children:"Personal"})]}),m.jsx("div",{className:"signup-progress__line"}),m.jsxs("div",{className:`signup-progress__step ${w>=2?"active":""}`,children:[m.jsx("div",{className:"signup-progress__circle",children:"2"}),m.jsx("span",{className:"signup-progress__label",children:"Academic"})]})]}),m.jsxs("form",{className:"signup-form",onSubmit:re,children:[w===1&&F(),w===2&&B(),m.jsxs("div",{className:"signup-form__actions",children:[w>1&&m.jsx("button",{type:"button",className:"signup-form__btn signup-form__btn--secondary",onClick:ce,children:"Back"}),w<2?m.jsx("button",{type:"button",className:"signup-form__btn signup-form__btn--primary",onClick:G,children:"Continue"}):m.jsx("button",{type:"submit",className:"signup-form__btn signup-form__btn--primary",disabled:d,children:d?m.jsxs(m.Fragment,{children:[m.jsx("span",{className:"signup-form__spinner"}),"Creating Account..."]}):"Create Account"})]})]}),m.jsxs("div",{className:"signup-footer",children:[m.jsx("span",{children:"Already have an account?"}),m.jsx("button",{type:"button",className:"signup-footer__login",onClick:()=>n("/login"),children:"Sign In"})]})]})})}function xK(){const n=Ja(),{showToast:e}=Da(),[t,r]=ae.useState(""),[i,s]=ae.useState(!1),[o,u]=ae.useState(""),f=d=>{if(d.preventDefault(),u(""),!t.trim()){u("Email is required");return}if(!/\S+@\S+\.\S+/.test(t)){u("Please enter a valid email");return}s(!0),e("Reset link sent to your email","success")};return m.jsx("main",{className:"forgot-password-page page-transition",children:m.jsx("div",{className:"forgot-password-container",children:i?m.jsxs("div",{className:"forgot-password-success",children:[m.jsx("div",{className:"forgot-password-success__icon",children:m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),m.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]})}),m.jsx("h2",{className:"forgot-password-success__title",children:"Check Your Email"}),m.jsxs("p",{className:"forgot-password-success__text",children:["We've sent a password reset link to",m.jsx("br",{}),m.jsx("strong",{children:t})]}),m.jsx("p",{className:"forgot-password-success__hint",children:"Didn't receive the email? Check your spam folder."}),m.jsx("button",{className:"forgot-password-success__btn",onClick:()=>n("/login"),children:"Back to Login"})]}):m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"forgot-password-header",children:[m.jsx("div",{className:"forgot-password-icon",children:m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[m.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),m.jsx("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})]})}),m.jsx("h1",{className:"forgot-password-title",children:"Forgot Password?"}),m.jsx("p",{className:"forgot-password-subtitle",children:"No worries! Enter your email and we'll send you a reset link."})]}),m.jsxs("form",{className:"forgot-password-form",onSubmit:f,children:[m.jsxs("div",{className:"forgot-password-form__group",children:[m.jsx("label",{className:"forgot-password-form__label",children:"Email Address"}),m.jsx("input",{type:"email",className:`forgot-password-form__input ${o?"forgot-password-form__input--error":""}`,value:t,onChange:d=>{r(d.target.value),u("")}}),o&&m.jsx("span",{className:"forgot-password-form__error",children:o})]}),m.jsx("button",{type:"submit",className:"forgot-password-form__submit",children:"Send Reset Link"})]}),m.jsxs("button",{className:"forgot-password-back",onClick:()=>n("/login"),children:[m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("line",{x1:"19",y1:"12",x2:"5",y2:"12"}),m.jsx("polyline",{points:"12 19 5 12 12 5"})]}),"Back to Login"]})]})})})}function vK({text:n,label:e}){const[t,r]=ae.useState(!1),i=async()=>{try{await navigator.clipboard.writeText(n),r(!0),setTimeout(()=>r(!1),2e3)}catch(s){console.error("Failed to copy:",s)}};return m.jsxs("button",{className:"copy-button",onClick:i,title:"Copy to clipboard",children:[e&&m.jsx("span",{className:"copy-button__label",children:e}),m.jsx("span",{className:"copy-button__text",children:n}),m.jsx("span",{className:`copy-button__icon ${t?"copy-button__icon--copied":""}`,children:t?m.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:m.jsx("polyline",{points:"20 6 9 17 4 12"})}):m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),m.jsx("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})]})}),t&&m.jsx("span",{className:"copy-button__feedback",children:"Copied!"})]})}function _K({isOpen:n,onClose:e}){const{showToast:t}=Da(),{profile:r}=ko(),[i,s]=ae.useState(!1),[o,u]=ae.useState(!1),[f,d]=ae.useState({firstName:"",lastName:"",qualificationLevel:"",stream:"",collegeName:"",courseName:"",yearOfStudy:"",yearOfGraduation:""});ae.useEffect(()=>{r&&d({firstName:r.firstName||"",lastName:r.lastName||"",qualificationLevel:r.qualificationLevel||"",stream:r.stream||"",collegeName:r.collegeName||"",courseName:r.courseName||"",yearOfStudy:r.yearOfStudy||"",yearOfGraduation:r.yearOfGraduation||""})},[r]),ae.useEffect(()=>(n?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[n]);const x=()=>{s(!0),setTimeout(()=>{s(!1),u(!1),e()},300)},w=k=>{k.target===k.currentTarget&&x()},A=async()=>{t("Profile update coming soon!","info"),u(!1)},E=()=>{r&&d({firstName:r.firstName||"",lastName:r.lastName||"",qualificationLevel:r.qualificationLevel||"",stream:r.stream||"",collegeName:r.collegeName||"",courseName:r.courseName||"",yearOfStudy:r.yearOfStudy||"",yearOfGraduation:r.yearOfGraduation||""}),u(!1)},I=()=>{const k=r?.firstName?.charAt(0)?.toUpperCase()||"",G=r?.lastName?.charAt(0)?.toUpperCase()||"";return`${k}${G}`},C=k=>k?new Date(k).toLocaleDateString("en-US",{month:"long",year:"numeric"}):"N/A",M=k=>{if(!k)return"N/A";const[G,ce,re]=k.split("-");return new Date(parseInt(G),parseInt(ce)-1,parseInt(re)).toLocaleDateString("en-US",{day:"numeric",month:"long",year:"numeric"})},j=k=>{if(!k)return"N/A";const G={ug_course:"Undergraduate",pg_course:"Postgraduate",diploma:"Diploma",be_cse:"B.E. Computer Science",be_it:"B.E. Information Technology",be_extc:"B.E. Electronics & Telecom",be_mech:"B.E. Mechanical",be_civil:"B.E. Civil",be_electrical:"B.E. Electrical",btech_cse:"B.Tech Computer Science",btech_it:"B.Tech Information Technology",bca:"BCA",bsc_cs:"B.Sc. Computer Science",bsc_it:"B.Sc. Information Technology",mca:"MCA",mtech:"M.Tech",msc:"M.Sc.",engineering:"Engineering",science:"Science",commerce:"Commerce",arts:"Arts",medical:"Medical",male:"Male",female:"Female",other:"Other",prefer_not_to_say:"Prefer Not to Say"},ce=k.toLowerCase();return G[ce]?G[ce]:k.split("_").map(re=>re.charAt(0).toUpperCase()+re.slice(1).toLowerCase()).join(" ")},W=k=>{if(!k)return"N/A";const G=parseInt(k);if(isNaN(G))return k;const ce=["th","st","nd","rd"],re=G%100;return G+(ce[(re-20)%10]||ce[re]||ce[0])+" Year"};return!n||!r?null:m.jsx("div",{className:`profile-overlay ${i?"profile-overlay--closing":""}`,onClick:w,children:m.jsxs("div",{className:"profile-overlay__modal",children:[m.jsx("button",{className:"profile-overlay__close",onClick:x,children:m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),m.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})}),m.jsxs("div",{className:"profile-overlay__sidebar",children:[m.jsx("div",{className:"profile-overlay__avatar-wrapper",children:r.avatar?m.jsx("img",{src:r.avatar,alt:r.firstName,className:"profile-overlay__avatar"}):m.jsx("div",{className:"profile-overlay__avatar profile-overlay__avatar--initials",children:I()})}),m.jsxs("h2",{className:"profile-overlay__name",children:[r.firstName," ",r.lastName]}),m.jsx(vK,{text:r.orbitId}),m.jsxs("div",{className:"profile-overlay__sidebar-info",children:[m.jsxs("div",{className:"profile-overlay__sidebar-item",children:[m.jsx("span",{className:"profile-overlay__sidebar-label",children:"Member Since"}),m.jsx("span",{className:"profile-overlay__sidebar-value",children:C(r.createdAt)})]}),m.jsxs("div",{className:"profile-overlay__sidebar-item",children:[m.jsx("span",{className:"profile-overlay__sidebar-label",children:"Status"}),m.jsx("span",{className:`profile-overlay__sidebar-value profile-overlay__status--${r.isActive?"active":"inactive"}`,children:r.isActive?"Active":"Inactive"})]}),r.googleLinked&&m.jsxs("div",{className:"profile-overlay__sidebar-item",children:[m.jsx("span",{className:"profile-overlay__sidebar-label",children:"Google"}),m.jsx("span",{className:"profile-overlay__sidebar-value profile-overlay__status--linked",children:"Linked "})]})]})]}),m.jsxs("div",{className:"profile-overlay__main",children:[m.jsx("div",{className:"profile-overlay__content",children:o?m.jsxs("div",{className:"profile-overlay__edit-form",children:[m.jsxs("div",{className:"profile-overlay__form-grid",children:[m.jsxs("div",{className:"profile-overlay__form-group",children:[m.jsx("label",{className:"profile-overlay__form-label",children:"First Name"}),m.jsx("input",{type:"text",className:"profile-overlay__form-input",value:f.firstName,onChange:k=>d(G=>({...G,firstName:k.target.value}))})]}),m.jsxs("div",{className:"profile-overlay__form-group",children:[m.jsx("label",{className:"profile-overlay__form-label",children:"Last Name"}),m.jsx("input",{type:"text",className:"profile-overlay__form-input",value:f.lastName,onChange:k=>d(G=>({...G,lastName:k.target.value}))})]}),m.jsxs("div",{className:"profile-overlay__form-group",children:[m.jsx("label",{className:"profile-overlay__form-label",children:"Qualification"}),m.jsx(Ya,{options:CR,value:f.qualificationLevel,onChange:k=>d(G=>({...G,qualificationLevel:k})),placeholder:"Select Qualification"})]}),m.jsxs("div",{className:"profile-overlay__form-group",children:[m.jsx("label",{className:"profile-overlay__form-label",children:"Stream"}),m.jsx(Ya,{options:IR,value:f.stream,onChange:k=>d(G=>({...G,stream:k})),placeholder:"Select Stream"})]}),m.jsxs("div",{className:"profile-overlay__form-group",children:[m.jsx("label",{className:"profile-overlay__form-label",children:"College"}),m.jsx("input",{type:"text",className:"profile-overlay__form-input",value:f.collegeName,onChange:k=>d(G=>({...G,collegeName:k.target.value}))})]}),m.jsxs("div",{className:"profile-overlay__form-group",children:[m.jsx("label",{className:"profile-overlay__form-label",children:"Course"}),m.jsx(Ya,{options:RR,value:f.courseName,onChange:k=>d(G=>({...G,courseName:k})),placeholder:"Select Course"})]}),m.jsxs("div",{className:"profile-overlay__form-group",children:[m.jsx("label",{className:"profile-overlay__form-label",children:"Year of Study"}),m.jsx(Ya,{options:OR,value:f.yearOfStudy,onChange:k=>d(G=>({...G,yearOfStudy:k})),placeholder:"Select Year"})]}),m.jsxs("div",{className:"profile-overlay__form-group",children:[m.jsx("label",{className:"profile-overlay__form-label",children:"Graduation Year"}),m.jsx(Ya,{options:DR(),value:f.yearOfGraduation,onChange:k=>d(G=>({...G,yearOfGraduation:k})),placeholder:"Select Year"})]})]}),m.jsx("p",{className:"profile-overlay__form-note",children:"Note: Email, Mobile, Date of Birth, and Gender cannot be changed."})]}):m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"profile-overlay__section",children:[m.jsx("h3",{className:"profile-overlay__section-title",children:"Personal Information"}),m.jsxs("div",{className:"profile-overlay__info-grid",children:[m.jsxs("div",{className:"profile-overlay__info-item",children:[m.jsx("span",{className:"profile-overlay__info-label",children:"Email"}),m.jsx("span",{className:"profile-overlay__info-value",children:r.email})]}),m.jsxs("div",{className:"profile-overlay__info-item",children:[m.jsx("span",{className:"profile-overlay__info-label",children:"Mobile"}),m.jsx("span",{className:"profile-overlay__info-value",children:r.mobile||"Not provided"})]}),m.jsxs("div",{className:"profile-overlay__info-item",children:[m.jsx("span",{className:"profile-overlay__info-label",children:"Date of Birth"}),m.jsx("span",{className:"profile-overlay__info-value",children:M(r.dateOfBirth)})]}),m.jsxs("div",{className:"profile-overlay__info-item",children:[m.jsx("span",{className:"profile-overlay__info-label",children:"Gender"}),m.jsx("span",{className:"profile-overlay__info-value",children:j(r.gender)})]})]})]}),m.jsxs("div",{className:"profile-overlay__section",children:[m.jsx("h3",{className:"profile-overlay__section-title",children:"Academic Information"}),m.jsxs("div",{className:"profile-overlay__info-grid",children:[m.jsxs("div",{className:"profile-overlay__info-item",children:[m.jsx("span",{className:"profile-overlay__info-label",children:"Qualification"}),m.jsx("span",{className:"profile-overlay__info-value",children:j(r.qualificationLevel)})]}),m.jsxs("div",{className:"profile-overlay__info-item",children:[m.jsx("span",{className:"profile-overlay__info-label",children:"Stream"}),m.jsx("span",{className:"profile-overlay__info-value",children:j(r.stream)})]}),m.jsxs("div",{className:"profile-overlay__info-item",children:[m.jsx("span",{className:"profile-overlay__info-label",children:"College"}),m.jsx("span",{className:"profile-overlay__info-value",children:r.collegeName||"N/A"})]}),m.jsxs("div",{className:"profile-overlay__info-item",children:[m.jsx("span",{className:"profile-overlay__info-label",children:"Course"}),m.jsx("span",{className:"profile-overlay__info-value",children:j(r.courseName)})]}),m.jsxs("div",{className:"profile-overlay__info-item",children:[m.jsx("span",{className:"profile-overlay__info-label",children:"Year of Study"}),m.jsx("span",{className:"profile-overlay__info-value",children:W(r.yearOfStudy)})]}),m.jsxs("div",{className:"profile-overlay__info-item",children:[m.jsx("span",{className:"profile-overlay__info-label",children:"Graduation"}),m.jsx("span",{className:"profile-overlay__info-value",children:r.yearOfGraduation||"N/A"})]})]})]})]})}),m.jsx("div",{className:"profile-overlay__actions",children:o?m.jsxs(m.Fragment,{children:[m.jsx("button",{className:"profile-overlay__cancel-btn",onClick:E,children:"Cancel"}),m.jsx("button",{className:"profile-overlay__save-btn",onClick:A,children:"Save Changes"})]}):m.jsx("button",{className:"profile-overlay__edit-btn",onClick:()=>u(!0),children:"Edit Profile"})})]})]})})}const YT=[{code:"en",name:"English"},{code:"es",name:"Espaol"},{code:"fr",name:"Franais"},{code:"de",name:"Deutsch"},{code:"hi",name:""},{code:"ja",name:""}];function yK({isOpen:n,onClose:e}){const t=Ja(),{showToast:r}=Da(),{profile:i}=ko(),[s,o]=ae.useState(!1),[u,f]=ae.useState("en"),[d,x]=ae.useState(!1),[w,A]=ae.useState(!1),[E,I]=ae.useState(""),C=()=>{w||(o(!0),setTimeout(()=>{o(!1),x(!1),I(""),e()},300))},M=G=>{G.target===G.currentTarget&&!w&&C()},j=G=>{f(G);const ce=YT.find(re=>re.code===G);r(`Language changed to ${ce?.name}`,"success")},W=async()=>{if(E!=="DELETE"){r("Please type DELETE to confirm","error");return}A(!0);try{await NH(),r("Your account has been deleted","info"),setTimeout(()=>{t("/")},500)}catch(G){console.error("Delete account error:",G),G.message?.includes("log out and log back in")?r("Please log out and log back in, then try again","error"):r("Failed to delete account. Please try again.","error"),A(!1)}},k=()=>{x(!1),I("")};return n?m.jsx("div",{className:`settings-overlay ${s?"settings-overlay--closing":""}`,onClick:M,children:m.jsxs("div",{className:"settings-overlay__modal",children:[m.jsx("button",{className:"settings-overlay__close",onClick:C,disabled:w,children:m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),m.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})}),m.jsx("div",{className:"settings-overlay__header",children:m.jsx("h2",{className:"settings-overlay__title",children:"Settings"})}),m.jsxs("div",{className:"settings-overlay__content",children:[m.jsxs("div",{className:"settings-overlay__section",children:[m.jsx("h3",{className:"settings-overlay__section-title",children:"Language"}),m.jsx("p",{className:"settings-overlay__section-desc",children:"Select your preferred language"}),m.jsx("div",{className:"settings-overlay__language-grid",children:YT.map(G=>m.jsx("button",{className:`settings-overlay__language-btn ${u===G.code?"settings-overlay__language-btn--active":""}`,onClick:()=>j(G.code),children:G.name},G.code))})]}),m.jsxs("div",{className:"settings-overlay__section settings-overlay__section--danger",children:[m.jsx("h3",{className:"settings-overlay__section-title",children:"Danger Zone"}),m.jsx("p",{className:"settings-overlay__section-desc",children:"This action cannot be undone. All your data will be permanently deleted."}),d?m.jsxs("div",{className:"settings-overlay__delete-confirm",children:[m.jsxs("div",{className:"settings-overlay__delete-info",children:[m.jsx("p",{className:"settings-overlay__delete-warning",children:" You are about to delete your account"}),m.jsxs("p",{className:"settings-overlay__delete-details",children:[m.jsx("strong",{children:"Orbit ID:"})," ",i?.orbitId,m.jsx("br",{}),m.jsx("strong",{children:"Email:"})," ",i?.email]})]}),m.jsxs("div",{className:"settings-overlay__confirm-input-group",children:[m.jsxs("label",{className:"settings-overlay__confirm-label",children:["Type ",m.jsx("strong",{children:"DELETE"})," to confirm:"]}),m.jsx("input",{type:"text",className:"settings-overlay__confirm-input",value:E,onChange:G=>I(G.target.value.toUpperCase()),placeholder:"Type DELETE here",disabled:w})]}),m.jsxs("div",{className:"settings-overlay__delete-actions",children:[m.jsx("button",{className:"settings-overlay__cancel-delete",onClick:k,disabled:w,children:"Cancel"}),m.jsx("button",{className:"settings-overlay__confirm-delete",onClick:W,disabled:w||E!=="DELETE",children:w?"Deleting...":"Delete Forever"})]})]}):m.jsx("button",{className:"settings-overlay__delete-btn",onClick:()=>x(!0),children:"Delete Account"})]})]})]})}):null}const wK=[{key:"Esc",description:"Close any open overlay"},{key:"?",description:"Show this help"}];function bK({isOpen:n,onClose:e}){const[t,r]=ae.useState(!1),i=()=>{r(!0),setTimeout(()=>{r(!1),e()},200)},s=o=>{o.target===o.currentTarget&&i()};return n?m.jsx("div",{className:`shortcuts-overlay ${t?"shortcuts-overlay--closing":""}`,onClick:s,children:m.jsxs("div",{className:"shortcuts-modal",children:[m.jsxs("div",{className:"shortcuts-header",children:[m.jsx("h2",{className:"shortcuts-title",children:"Keyboard Shortcuts"}),m.jsx("button",{className:"shortcuts-close",onClick:i,children:m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),m.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),m.jsx("div",{className:"shortcuts-list",children:wK.map((o,u)=>m.jsxs("div",{className:"shortcuts-item",children:[m.jsx("kbd",{className:"shortcuts-key",children:o.key}),m.jsx("span",{className:"shortcuts-desc",children:o.description})]},u))}),m.jsxs("p",{className:"shortcuts-hint",children:["Press ",m.jsx("kbd",{children:"?"})," anytime to see shortcuts"]})]})}):null}function EK({isOpen:n,onClose:e,adminOrbitId:t}){const{showToast:r}=Da(),[i,s]=ae.useState([]),[o,u]=ae.useState(!0),[f,d]=ae.useState(!1),[x,w]=ae.useState(!1),[A,E]=ae.useState(!1),[I,C]=ae.useState({title:"",file:null,fileName:"",mediaType:"image",previewUrl:"",linkUrl:""}),M=ae.useRef(null),j=ae.useRef(null);ae.useEffect(()=>{if(!n)return;const ne=Oa(Ti(An,"promotions"),du("priority","asc")),pe=nc(ne,Ae=>{const ve=[];Ae.forEach(Re=>{ve.push({id:Re.id,...Re.data()})}),s(ve),u(!1)},Ae=>{console.error("Error fetching promotions:",Ae),r("Failed to load promotions","error"),u(!1)});return()=>pe()},[n,r]);const W=()=>{d(!0),setTimeout(()=>{d(!1),w(!1),G(),e()},300)},k=ne=>{ne.target===ne.currentTarget&&W()},G=()=>{C({title:"",file:null,fileName:"",mediaType:"image",previewUrl:"",linkUrl:""})},ce=ne=>ne.type.startsWith("video/")?"video":ne.type==="image/gif"?"gif":"image",re=ne=>{if(!["image/jpeg","image/png","image/gif","image/webp","video/mp4","video/webm"].includes(ne.type)){r("Invalid file type. Please upload an image, GIF, or video.","error");return}if(ne.size>10*1024*1024){r("File is too large. Maximum size is 10MB.","error");return}const Ae=URL.createObjectURL(ne);C({...I,file:ne,fileName:ne.name,mediaType:ce(ne),previewUrl:Ae})},F=ne=>{ne.preventDefault(),ne.stopPropagation(),j.current?.classList.add("promo-manager__dropzone--active")},B=ne=>{ne.preventDefault(),ne.stopPropagation(),j.current?.classList.remove("promo-manager__dropzone--active")},L=ne=>{ne.preventDefault(),ne.stopPropagation(),j.current?.classList.remove("promo-manager__dropzone--active");const pe=ne.dataTransfer.files[0];pe&&re(pe)},Q=ne=>{const pe=ne.target.files?.[0];pe&&re(pe)},U=async()=>{if(!I.title.trim()){r("Please enter a title","error");return}if(!I.fileName){r("Please select a file","error");return}E(!0);try{const ne={title:I.title.trim(),mediaUrl:I.previewUrl,mediaType:I.mediaType,isActive:!0,priority:i.length+1,createdBy:t,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),fileName:I.fileName};I.linkUrl.trim()&&(ne.linkUrl=I.linkUrl.trim()),await of(Ti(An,"promotions"),ne),r("Promotion created successfully!","success"),w(!1),G()}catch(ne){console.error("Error creating promotion:",ne),r("Failed to create promotion","error")}finally{E(!1)}},q=async ne=>{try{await Wo(hr(An,"promotions",ne.id),{isActive:!ne.isActive,updatedAt:new Date().toISOString()}),r(`Promotion ${ne.isActive?"deactivated":"activated"}`,"success")}catch(pe){console.error("Error updating promotion:",pe),r("Failed to update promotion","error")}},Y=async ne=>{if(confirm(`Are you sure you want to delete "${ne.title}"?`))try{await mu(hr(An,"promotions",ne.id)),r("Promotion deleted","success")}catch(pe){console.error("Error deleting promotion:",pe),r("Failed to delete promotion","error")}};return n?m.jsx("div",{className:`promo-manager ${f?"promo-manager--closing":""}`,onClick:k,children:m.jsxs("div",{className:"promo-manager__modal",children:[m.jsxs("div",{className:"promo-manager__header",children:[m.jsx("h2",{className:"promo-manager__title",children:"Promotional Screen Manager"}),m.jsx("button",{className:"promo-manager__close",onClick:W,children:m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),m.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),m.jsx("div",{className:"promo-manager__content",children:x?m.jsxs("div",{className:"promo-manager__create-form",children:[m.jsxs("button",{className:"promo-manager__back-btn",onClick:()=>{w(!1),G()},children:[m.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:m.jsx("polyline",{points:"15 18 9 12 15 6"})}),"Back to list"]}),m.jsxs("div",{className:"promo-manager__form-grid",children:[m.jsxs("div",{className:"promo-manager__form-left",children:[m.jsxs("div",{className:"promo-manager__form-group",children:[m.jsx("label",{className:"promo-manager__label",children:"Title *"}),m.jsx("input",{type:"text",className:"promo-manager__input",value:I.title,onChange:ne=>C({...I,title:ne.target.value}),placeholder:"Enter promotion title"})]}),m.jsxs("div",{className:"promo-manager__form-group",children:[m.jsx("label",{className:"promo-manager__label",children:"Media *"}),m.jsx("div",{ref:j,className:"promo-manager__dropzone",onDragOver:F,onDragLeave:B,onDrop:L,onClick:()=>M.current?.click(),children:I.previewUrl?m.jsxs("div",{className:"promo-manager__dropzone-preview",children:[I.mediaType==="video"?m.jsx("video",{src:I.previewUrl,muted:!0,autoPlay:!0,loop:!0}):m.jsx("img",{src:I.previewUrl,alt:"Preview"}),m.jsx("div",{className:"promo-manager__dropzone-filename",children:I.fileName}),m.jsx("button",{className:"promo-manager__dropzone-remove",onClick:ne=>{ne.stopPropagation(),C({...I,file:null,fileName:"",previewUrl:""})},children:"Remove"})]}):m.jsxs("div",{className:"promo-manager__dropzone-content",children:[m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[m.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),m.jsx("polyline",{points:"17 8 12 3 7 8"}),m.jsx("line",{x1:"12",y1:"3",x2:"12",y2:"15"})]}),m.jsx("p",{children:"Drag & drop or click to upload"}),m.jsx("span",{children:"Image, GIF, or Video (max 10MB)"})]})}),m.jsx("input",{ref:M,type:"file",accept:"image/*,video/mp4,video/webm",onChange:Q,style:{display:"none"}})]}),m.jsxs("div",{className:"promo-manager__form-group",children:[m.jsx("label",{className:"promo-manager__label",children:"Link URL (Optional)"}),m.jsx("input",{type:"url",className:"promo-manager__input",value:I.linkUrl,onChange:ne=>C({...I,linkUrl:ne.target.value}),placeholder:"https://example.com (leave empty for no link)"}),m.jsx("span",{className:"promo-manager__hint",children:"If provided, clicking the promo will open this URL"})]}),m.jsx("button",{className:"promo-manager__submit-btn",onClick:U,disabled:A,children:A?"Saving...":"Create Promotion"})]}),m.jsxs("div",{className:"promo-manager__form-right",children:[m.jsx("label",{className:"promo-manager__label",children:"Live Preview"}),m.jsx("div",{className:"promo-manager__live-preview",children:I.previewUrl?m.jsx("div",{className:"promo-manager__preview-container",children:I.mediaType==="video"?m.jsx("video",{src:I.previewUrl,muted:!0,autoPlay:!0,loop:!0}):m.jsx("img",{src:I.previewUrl,alt:"Live Preview"})}):m.jsx("div",{className:"promo-manager__preview-placeholder",children:m.jsx("span",{children:"Preview will appear here"})})})]})]})]}):m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"promo-manager__toolbar",children:m.jsxs("button",{className:"promo-manager__create-btn",onClick:()=>w(!0),children:[m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),m.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Create Ad"]})}),m.jsx("div",{className:"promo-manager__list",children:o?m.jsx("div",{className:"promo-manager__loading",children:"Loading promotions..."}):i.length===0?m.jsxs("div",{className:"promo-manager__empty",children:[m.jsx("p",{children:"No promotions yet"}),m.jsx("span",{children:'Click "Create Ad" to add your first promotion'})]}):i.map(ne=>m.jsxs("div",{className:`promo-manager__item ${ne.isActive?"":"promo-manager__item--inactive"}`,children:[m.jsx("div",{className:"promo-manager__item-preview",children:m.jsx("div",{className:"promo-manager__item-placeholder",children:m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[m.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),m.jsx("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),m.jsx("polyline",{points:"21 15 16 10 5 21"})]})})}),m.jsxs("div",{className:"promo-manager__item-info",children:[m.jsx("h4",{className:"promo-manager__item-title",children:ne.title}),m.jsx("span",{className:"promo-manager__item-type",children:ne.mediaType?.toUpperCase()||"IMAGE"}),m.jsx("span",{className:`promo-manager__item-status ${ne.isActive?"promo-manager__item-status--active":""}`,children:ne.isActive?"Active":"Inactive"}),ne.linkUrl&&m.jsx("span",{className:"promo-manager__item-link",title:ne.linkUrl,children:m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"}),m.jsx("path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"})]})})]}),m.jsxs("div",{className:"promo-manager__item-actions",children:[m.jsx("button",{className:"promo-manager__item-btn",onClick:()=>q(ne),title:ne.isActive?"Deactivate":"Activate",children:m.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:ne.isActive?m.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24M1 1l22 22"}):m.jsxs(m.Fragment,{children:[m.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),m.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})}),m.jsx("button",{className:"promo-manager__item-btn promo-manager__item-btn--delete",onClick:()=>Y(ne),title:"Delete",children:m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("polyline",{points:"3 6 5 6 21 6"}),m.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})]},ne.id))})]})})]})}):null}const AK=Array.from({length:12},(n,e)=>String(e+1).padStart(2,"0")),SK=Array.from({length:60},(n,e)=>String(e).padStart(2,"0")),TK=["AM","PM"];function XT({value:n,onChange:e,placeholder:t="Select time",error:r=!1,name:i}){const[s,o]=ae.useState(!1),u=ae.useRef(null),f=k=>{if(!k)return{hour:"12",minute:"00",period:"AM"};const[G,ce]=k.split(":"),re=parseInt(G,10),F=re>=12?"PM":"AM",B=re%12||12;return{hour:String(B).padStart(2,"0"),minute:ce||"00",period:F}},d=f(n),[x,w]=ae.useState(d.hour),[A,E]=ae.useState(d.minute),[I,C]=ae.useState(d.period);ae.useEffect(()=>{const k=f(n);w(k.hour),E(k.minute),C(k.period)},[n]),ae.useEffect(()=>{const k=G=>{u.current&&!u.current.contains(G.target)&&o(!1)};return document.addEventListener("mousedown",k),()=>document.removeEventListener("mousedown",k)},[]);const M=()=>n?`${x}:${A} ${I}`:"",j=()=>{let k=parseInt(x,10);I==="PM"&&k!==12?k+=12:I==="AM"&&k===12&&(k=0);const G=`${String(k).padStart(2,"0")}:${A}`;e(G),o(!1)},W=()=>{e(""),o(!1)};return m.jsxs("div",{className:`custom-time-picker ${s?"custom-time-picker--open":""} ${r?"custom-time-picker--error":""}`,ref:u,children:[m.jsx("input",{type:"hidden",name:i,value:n}),m.jsxs("button",{type:"button",className:"custom-time-picker__trigger",onClick:()=>o(!s),children:[m.jsx("span",{className:n?"":"custom-time-picker__placeholder",children:n?M():t}),m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("circle",{cx:"12",cy:"12",r:"10"}),m.jsx("polyline",{points:"12 6 12 12 16 14"})]})]}),s&&m.jsxs("div",{className:"custom-time-picker__dropdown",children:[m.jsxs("div",{className:"custom-time-picker__columns",children:[m.jsxs("div",{className:"custom-time-picker__column",children:[m.jsx("span",{className:"custom-time-picker__column-label",children:"Hour"}),m.jsx("div",{className:"custom-time-picker__scroll",children:AK.map(k=>m.jsx("button",{type:"button",className:`custom-time-picker__option ${x===k?"custom-time-picker__option--selected":""}`,onClick:()=>w(k),children:k},k))})]}),m.jsxs("div",{className:"custom-time-picker__column",children:[m.jsx("span",{className:"custom-time-picker__column-label",children:"Min"}),m.jsx("div",{className:"custom-time-picker__scroll",children:SK.map(k=>m.jsx("button",{type:"button",className:`custom-time-picker__option ${A===k?"custom-time-picker__option--selected":""}`,onClick:()=>E(k),children:k},k))})]}),m.jsxs("div",{className:"custom-time-picker__column custom-time-picker__column--period",children:[m.jsx("span",{className:"custom-time-picker__column-label",children:"Period"}),m.jsx("div",{className:"custom-time-picker__scroll",children:TK.map(k=>m.jsx("button",{type:"button",className:`custom-time-picker__option ${I===k?"custom-time-picker__option--selected":""}`,onClick:()=>C(k),children:k},k))})]})]}),m.jsxs("div",{className:"custom-time-picker__actions",children:[m.jsx("button",{type:"button",className:"custom-time-picker__btn custom-time-picker__btn--clear",onClick:W,children:"Clear"}),m.jsx("button",{type:"button",className:"custom-time-picker__btn custom-time-picker__btn--confirm",onClick:j,children:"Confirm"})]})]})]})}const NK=[{value:"Workshop",label:"Workshop"},{value:"Talk",label:"Talk"},{value:"Competition",label:"Competition"},{value:"Outreach",label:"Outreach"}],CK=[{value:"Online",label:"Online"},{value:"Offline",label:"Offline"}],IK=[{value:"Open to all",label:"Open to all"},{value:"Open to all students",label:"Open to all students"},{value:"Open to all engineering students",label:"Open to all engineering students"},{value:"First year students only",label:"First year students only"},{value:"Second year students only",label:"Second year students only"},{value:"Third year students only",label:"Third year students only"},{value:"Final year students only",label:"Final year students only"},{value:"Teams of 2-3 members",label:"Teams of 2-3 members"},{value:"Teams of 3-5 members",label:"Teams of 3-5 members"},{value:"OrbitX members only",label:"OrbitX members only"},{value:"Faculty and students",label:"Faculty and students"}],ey=n=>{if(!n)return!1;const e=new Date(n),t=new Date;return t.setHours(0,0,0,0),e<t},KT=n=>{if(!n)return"";const[e,t]=n.split(":"),r=parseInt(e,10),i=r>=12?"PM":"AM";return`${r%12||12}:${t} ${i}`},RK=async()=>{try{const n=new Date().getFullYear(),e=hr(An,"system","eventIdRegistry"),t=await Js(e);let r=0;if(t.exists()){const s=t.data();s.year===n&&(r=s.counter||0)}const i=r+1;return await ou(e,{year:n,counter:i,lastUpdated:new Date().toISOString()}),`EVT-${n}-${String(i).padStart(4,"0")}`}catch(n){console.error("Error generating eventId from registry, using fallback:",n);const e=new Date().getFullYear(),t=Date.now().toString().slice(-6);return`EVT-${e}-${t}`}};function OK({isOpen:n,onClose:e,adminOrbitId:t}){const{showToast:r}=Da(),[i,s]=ae.useState([]),[o,u]=ae.useState(!0),[f,d]=ae.useState(!1),[x,w]=ae.useState(!1),[A,E]=ae.useState("details"),[I,C]=ae.useState(!1),[M,j]=ae.useState(null),W=ae.useRef(null),[k,G]=ae.useState({title:"",description:"",date:"",startTime:"",endTime:"",type:"Workshop",mode:"Offline",venue:"",venueUrl:"",registrationDeadline:"",eligibility:"Open to all",speakers:"",amount:""}),[ce,re]=ae.useState([]),[F,B]=ae.useState([]),[L,Q]=ae.useState(!1),[U,q]=ae.useState({x:50,y:50}),[Y,ne]=ae.useState(!1),pe=ae.useRef(null);ae.useEffect(()=>{if(!n)return;const le=Oa(Ti(An,"events"),du("date","desc")),ot=nc(le,async Ge=>{const At=[],Je=[];Ge.forEach(Zt=>{const Ft={...Zt.data(),id:Zt.id};!Ft.isPast&&ey(Ft.date)&&(Je.push(Wo(hr(An,"events",Zt.id),{isPast:!0,registrationOpen:!1,updatedAt:new Date().toISOString()})),Ft.isPast=!0,Ft.registrationOpen=!1),Ft.registrationOpen&&Ft.registrationDeadline&&ey(Ft.registrationDeadline)&&(Je.push(Wo(hr(An,"events",Zt.id),{registrationOpen:!1,updatedAt:new Date().toISOString()})),Ft.registrationOpen=!1),At.push(Ft)}),Je.length>0&&await Promise.all(Je),s(At),u(!1)},Ge=>{console.error("Error fetching events:",Ge),r("Failed to load events","error"),u(!1)});return()=>ot()},[n,r]);const Ae=()=>{d(!0),setTimeout(()=>{d(!1),w(!1),j(null),E("details"),Re(),e()},300)},ve=le=>{le.target===le.currentTarget&&Ae()},Re=()=>{G({title:"",description:"",date:"",startTime:"",endTime:"",type:"Workshop",mode:"Offline",venue:"",venueUrl:"",registrationDeadline:"",eligibility:"Open to all",speakers:"",amount:""}),F.forEach(le=>URL.revokeObjectURL(le)),re([]),B([]),E("details"),q({x:50,y:50}),j(null)},He=le=>{if(!le)return{start:"",end:""};const ot=At=>{const Je=At.trim().match(/(\d{1,2}):(\d{2})\s*(AM|PM)/i);if(!Je)return"";let Zt=parseInt(Je[1],10);const Xe=Je[2],Ft=Je[3].toUpperCase();return Ft==="PM"&&Zt!==12&&(Zt+=12),Ft==="AM"&&Zt===12&&(Zt=0),`${String(Zt).padStart(2,"0")}:${Xe}`},Ge=le.split(" - ");return{start:ot(Ge[0]||""),end:Ge[1]?ot(Ge[1]):""}},ze=le=>{const ot=He(le.time);G({title:le.title,description:le.description,date:le.date,startTime:ot.start,endTime:ot.end,type:le.type,mode:le.mode,venue:le.venue,venueUrl:le.venueUrl||"",registrationDeadline:le.registrationDeadline,eligibility:le.eligibility,speakers:le.speakers.join(", "),amount:le.amount?String(le.amount):""}),le.imagePositions&&le.imagePositions[0]&&q(le.imagePositions[0]),j(le),w(!0),E("details")},xe=le=>{le.preventDefault(),Q(!0)},H=()=>{Q(!1)},J=le=>{le.preventDefault(),Q(!1);const ot=Array.from(le.dataTransfer.files).filter(Ge=>Ge.type.startsWith("image/"));ot.length>0?Z(ot):r("Please select image files","error")},Z=le=>{const ot=[...ce,...le],Ge=le.map(At=>URL.createObjectURL(At));re(ot),B([...F,...Ge])},oe=le=>{const ot=Array.from(le.target.files||[]);ot.length>0&&Z(ot),W.current&&(W.current.value="")},de=le=>{URL.revokeObjectURL(F[le]),re(ot=>ot.filter((Ge,At)=>At!==le)),B(ot=>ot.filter((Ge,At)=>At!==le))},Me=le=>{le.preventDefault(),ne(!0)},Ue=le=>{if(!Y||!pe.current)return;const ot=pe.current.getBoundingClientRect(),Ge=(le.clientX-ot.left)/ot.width*100,At=(le.clientY-ot.top)/ot.height*100;q({x:Math.max(0,Math.min(100,Ge)),y:Math.max(0,Math.min(100,At))})},Ve=()=>{ne(!1)};ae.useEffect(()=>{if(Y){const le=()=>ne(!1);return window.addEventListener("mouseup",le),()=>window.removeEventListener("mouseup",le)}},[Y]);const Ie=async()=>{if(!k.title.trim()){r("Please enter a title","error"),E("details");return}if(!k.date){r("Please select a date","error"),E("details");return}C(!0);try{let le="";if(k.startTime&&(le=KT(k.startTime),k.endTime&&(le+=` - ${KT(k.endTime)}`)),M){const ot=k.amount?parseInt(k.amount,10):void 0;await Wo(hr(An,"events",M.id),{title:k.title.trim(),description:k.description.trim(),date:k.date,time:le,type:k.type,mode:k.mode,venue:k.venue.trim(),venueUrl:k.venueUrl.trim()||null,registrationDeadline:k.registrationDeadline,eligibility:k.eligibility,speakers:k.speakers.split(",").map(Ge=>Ge.trim()).filter(Boolean),imagePositions:F.length>0||M.images.length>0?{0:U}:void 0,amount:ot&&ot>0?ot:null,updatedAt:new Date().toISOString()}),r("Event updated successfully!","success")}else{const ot=k.amount?parseInt(k.amount,10):void 0,At={eventId:await RK(),title:k.title.trim(),description:k.description.trim(),date:k.date,time:le,type:k.type,mode:k.mode,venue:k.venue.trim(),registrationDeadline:k.registrationDeadline,eligibility:k.eligibility,speakers:k.speakers.split(",").map(Je=>Je.trim()).filter(Boolean),images:ce.map(Je=>Je.name),registrationOpen:!0,isPast:!1,createdBy:t,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),...k.venueUrl.trim()&&{venueUrl:k.venueUrl.trim()},...F.length>0&&{imagePositions:{0:U}},...ot&&ot>0&&{amount:ot}};await of(Ti(An,"events"),At),r("Event created successfully!","success")}w(!1),Re()}catch(le){console.error("Error saving event:",le);const ot=le?.message||le?.code||"Unknown error";r(`Failed to ${M?"update":"create"} event: ${ot}`,"error")}finally{C(!1)}},nt=async le=>{if(le.isPast&&!le.registrationOpen){r("Cannot open registration for past events","error");return}if(!le.registrationOpen&&le.registrationDeadline&&ey(le.registrationDeadline)){r("Registration deadline has passed","error");return}try{await Wo(hr(An,"events",le.id),{registrationOpen:!le.registrationOpen,updatedAt:new Date().toISOString()}),r(`Registration ${le.registrationOpen?"closed":"opened"}`,"success")}catch(ot){console.error("Error updating event:",ot),r("Failed to update event","error")}},Tt=async le=>{try{await Wo(hr(An,"events",le.id),{isPast:!le.isPast,registrationOpen:!1,updatedAt:new Date().toISOString()}),r(`Event marked as ${le.isPast?"upcoming":"past"}`,"success")}catch(ot){console.error("Error updating event:",ot),r("Failed to update event","error")}},St=async le=>{if(confirm(`Are you sure you want to delete "${le.title}"?`))try{await mu(hr(An,"events",le.id)),r("Event deleted","success")}catch(ot){console.error("Error deleting event:",ot),r("Failed to delete event","error")}},Rt=le=>{switch(le){case"Workshop":return"event-manager__badge--workshop";case"Talk":return"event-manager__badge--talk";case"Competition":return"event-manager__badge--competition";case"Outreach":return"event-manager__badge--outreach";default:return""}};return n?m.jsx("div",{className:`event-manager ${f?"event-manager--closing":""}`,onClick:ve,children:m.jsxs("div",{className:"event-manager__modal",children:[m.jsxs("div",{className:"event-manager__header",children:[m.jsx("h2",{className:"event-manager__title",children:"Event Manager"}),m.jsx("button",{className:"event-manager__close",onClick:Ae,children:m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),m.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),m.jsx("div",{className:"event-manager__content",children:x?m.jsxs("div",{className:"event-manager__create-form",children:[m.jsxs("div",{className:"event-manager__form-header",children:[m.jsxs("button",{className:"event-manager__back-btn",onClick:()=>{w(!1),Re()},children:[m.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:m.jsx("polyline",{points:"15 18 9 12 15 6"})}),M?"Cancel":"Back"]}),m.jsxs("div",{className:"event-manager__tabs",children:[m.jsx("button",{className:`event-manager__tab ${A==="details"?"event-manager__tab--active":""}`,onClick:()=>E("details"),children:"Details"}),m.jsx("button",{className:`event-manager__tab ${A==="images"?"event-manager__tab--active":""}`,onClick:()=>E("images"),children:"Images"})]})]}),A==="details"&&m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"event-manager__form-grid",children:[m.jsxs("div",{className:"event-manager__form-group event-manager__form-group--full",children:[m.jsx("label",{className:"event-manager__label",children:"Title *"}),m.jsx("input",{type:"text",className:"event-manager__input",value:k.title,onChange:le=>G({...k,title:le.target.value}),placeholder:"Event title"})]}),m.jsxs("div",{className:"event-manager__form-group event-manager__form-group--full",children:[m.jsx("label",{className:"event-manager__label",children:"Description"}),m.jsx("textarea",{className:"event-manager__textarea",value:k.description,onChange:le=>G({...k,description:le.target.value}),placeholder:"Event description...",rows:3})]}),m.jsxs("div",{className:"event-manager__form-group",children:[m.jsx("label",{className:"event-manager__label",children:"Event Date *"}),m.jsx(m2,{value:k.date,onChange:le=>G({...k,date:le}),placeholder:"Select date"})]}),m.jsxs("div",{className:"event-manager__form-group",children:[m.jsx("label",{className:"event-manager__label",children:"Registration Deadline"}),m.jsx(m2,{value:k.registrationDeadline,onChange:le=>G({...k,registrationDeadline:le}),placeholder:"Select deadline"})]}),m.jsxs("div",{className:"event-manager__form-group",children:[m.jsx("label",{className:"event-manager__label",children:"Start Time"}),m.jsx(XT,{value:k.startTime,onChange:le=>G({...k,startTime:le}),placeholder:"Select start time"})]}),m.jsxs("div",{className:"event-manager__form-group",children:[m.jsx("label",{className:"event-manager__label",children:"End Time"}),m.jsx(XT,{value:k.endTime,onChange:le=>G({...k,endTime:le}),placeholder:"Select end time"})]}),m.jsxs("div",{className:"event-manager__form-group",children:[m.jsx("label",{className:"event-manager__label",children:"Type"}),m.jsx(Ya,{options:NK,value:k.type,onChange:le=>G({...k,type:le}),placeholder:"Select type"})]}),m.jsxs("div",{className:"event-manager__form-group",children:[m.jsx("label",{className:"event-manager__label",children:"Mode"}),m.jsx(Ya,{options:CK,value:k.mode,onChange:le=>G({...k,mode:le}),placeholder:"Select mode"})]}),m.jsxs("div",{className:"event-manager__form-group event-manager__form-group--full",children:[m.jsx("label",{className:"event-manager__label",children:"Venue"}),m.jsx("input",{type:"text",className:"event-manager__input",value:k.venue,onChange:le=>G({...k,venue:le.target.value}),placeholder:"Event location (e.g., IIT Delhi)"})]}),m.jsxs("div",{className:"event-manager__form-group event-manager__form-group--full",children:[m.jsx("label",{className:"event-manager__label",children:"Venue URL (Optional)"}),m.jsx("input",{type:"url",className:"event-manager__input",value:k.venueUrl,onChange:le=>G({...k,venueUrl:le.target.value}),placeholder:"Google Maps link (e.g., https://maps.app.goo.gl/...)"})]}),m.jsxs("div",{className:"event-manager__form-group",children:[m.jsx("label",{className:"event-manager__label",children:"Eligibility"}),m.jsx(Ya,{options:IK,value:k.eligibility,onChange:le=>G({...k,eligibility:le}),placeholder:"Select eligibility"})]}),m.jsxs("div",{className:"event-manager__form-group",children:[m.jsx("label",{className:"event-manager__label",children:"Speakers"}),m.jsx("input",{type:"text",className:"event-manager__input",value:k.speakers,onChange:le=>G({...k,speakers:le.target.value}),placeholder:"Comma separated names"})]}),m.jsxs("div",{className:"event-manager__form-group",children:[m.jsx("label",{className:"event-manager__label",children:"Amount ()"}),m.jsx("input",{type:"number",className:"event-manager__input event-manager__input--amount",value:k.amount,onChange:le=>G({...k,amount:le.target.value}),onWheel:le=>{le.currentTarget.focus(),le.stopPropagation()},onFocus:le=>{const ot=le.currentTarget.closest(".event-manager__content");if(ot){const Ge=At=>At.preventDefault();ot.addEventListener("wheel",Ge,{passive:!1}),le.currentTarget.addEventListener("blur",()=>{ot.removeEventListener("wheel",Ge)},{once:!0})}},placeholder:"Leave empty for free event",min:"0"})]})]}),m.jsxs("button",{className:"event-manager__next-btn",onClick:()=>E("images"),children:["Next: Add Images",m.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:m.jsx("polyline",{points:"9 18 15 12 9 6"})})]})]}),A==="images"&&m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"event-manager__images-section",children:[m.jsxs("div",{className:"event-manager__images-upload",children:[m.jsx("input",{type:"file",ref:W,onChange:oe,accept:"image/*",multiple:!0,style:{display:"none"}}),m.jsx("div",{className:`event-manager__dropzone ${L?"event-manager__dropzone--active":""}`,onDragOver:xe,onDragLeave:H,onDrop:J,onClick:()=>W.current?.click(),children:m.jsxs("div",{className:"event-manager__dropzone-content",children:[m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),m.jsx("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),m.jsx("polyline",{points:"21 15 16 10 5 21"})]}),m.jsx("p",{children:"Drag & drop images here"}),m.jsx("span",{children:"or click to browse"})]})}),F.length>0&&m.jsx("div",{className:"event-manager__images-list",children:F.map((le,ot)=>m.jsxs("div",{className:"event-manager__image-item",children:[m.jsx("img",{src:le,alt:`Upload ${ot+1}`}),ot===0&&m.jsx("span",{className:"event-manager__image-badge",children:"Thumbnail"}),m.jsx("button",{className:"event-manager__image-remove",onClick:()=>de(ot),children:""})]},ot))}),m.jsx("p",{className:"event-manager__hint",children:"First image will be used as thumbnail. Drag to reposition."})]}),m.jsxs("div",{className:"event-manager__images-preview",children:[m.jsx("h4",{className:"event-manager__preview-title",children:"Card Preview"}),m.jsxs("div",{className:"event-manager__preview-card",children:[F.length>0?m.jsxs("div",{ref:pe,className:"event-manager__preview-image",onMouseDown:Me,onMouseMove:Ue,onMouseUp:Ve,onMouseLeave:Ve,style:{cursor:Y?"grabbing":"grab"},children:[m.jsx("img",{src:F[0],alt:"Event preview",style:{objectPosition:`${U.x}% ${U.y}%`},draggable:!1}),m.jsx("div",{className:"event-manager__preview-hint",children:"Drag to adjust position"})]}):m.jsx("div",{className:"event-manager__preview-placeholder",children:m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[m.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),m.jsx("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),m.jsx("polyline",{points:"21 15 16 10 5 21"})]})}),m.jsxs("div",{className:"event-manager__preview-content",children:[m.jsx("span",{className:`event-manager__badge ${Rt(k.type)}`,children:k.type}),m.jsx("h5",{children:k.title||"Event Title"}),m.jsx("p",{children:k.date||"Event Date"})]})]})]})]}),m.jsx("button",{className:"event-manager__submit-btn",onClick:Ie,disabled:I,children:I?M?"Updating...":"Creating...":M?"Update Event":"Create Event"})]})]}):m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"event-manager__toolbar",children:m.jsxs("button",{className:"event-manager__create-btn",onClick:()=>w(!0),children:[m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),m.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Create Event"]})}),m.jsx("div",{className:"event-manager__list",children:o?m.jsx("div",{className:"event-manager__loading",children:"Loading events..."}):i.length===0?m.jsxs("div",{className:"event-manager__empty",children:[m.jsx("p",{children:"No events yet"}),m.jsx("span",{children:'Click "Create Event" to add your first event'})]}):i.map(le=>m.jsxs("div",{className:`event-manager__item ${le.isPast?"event-manager__item--past":""}`,children:[m.jsx("div",{className:"event-manager__item-preview",children:m.jsx("div",{className:"event-manager__item-placeholder",children:m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[m.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),m.jsx("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),m.jsx("polyline",{points:"21 15 16 10 5 21"})]})})}),m.jsxs("div",{className:"event-manager__item-info",children:[m.jsxs("div",{className:"event-manager__item-header",children:[m.jsx("h4",{className:"event-manager__item-title",children:le.title}),m.jsx("span",{className:`event-manager__badge ${Rt(le.type)}`,children:le.type})]}),m.jsxs("div",{className:"event-manager__item-meta",children:[m.jsx("span",{children:le.date}),m.jsx("span",{children:""}),m.jsx("span",{children:le.mode}),m.jsx("span",{children:""}),m.jsx("span",{className:le.registrationOpen?"event-manager__status--open":"event-manager__status--closed",children:le.registrationOpen?"Open":"Closed"}),m.jsx("span",{children:""}),m.jsx("span",{className:"event-manager__item-price",children:le.amount&&le.amount>0?`${le.amount}`:"Free"})]})]}),m.jsxs("div",{className:"event-manager__item-actions",children:[m.jsx("button",{className:"event-manager__item-btn event-manager__item-btn--edit",onClick:()=>ze(le),title:"Edit Event",children:m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),m.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),m.jsx("button",{className:"event-manager__item-btn",onClick:()=>nt(le),title:le.registrationOpen?"Close Registration":"Open Registration",children:m.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:le.registrationOpen?m.jsx("path",{d:"M18 6L6 18M6 6l12 12"}):m.jsx("path",{d:"M20 6L9 17l-5-5"})})}),m.jsx("button",{className:"event-manager__item-btn",onClick:()=>Tt(le),title:le.isPast?"Mark as Upcoming":"Mark as Past",children:m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("circle",{cx:"12",cy:"12",r:"10"}),m.jsx("polyline",{points:"12 6 12 12 16 14"})]})}),m.jsx("button",{className:"event-manager__item-btn event-manager__item-btn--delete",onClick:()=>St(le),title:"Delete",children:m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("polyline",{points:"3 6 5 6 21 6"}),m.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})]},le.id))})]})})]})}):null}function L1({variant:n="rectangular",width:e,height:t,borderRadius:r}){const i={width:e||(n==="text"?"100%":void 0),height:t||(n==="text"?"1rem":void 0),borderRadius:r||(n==="circular"?"50%":n==="card"?"24px":"8px")};return m.jsx("div",{className:`skeleton skeleton--${n}`,style:i})}function DK(){return m.jsx("div",{className:"skeleton-event-list",children:[1,2,3].map(n=>m.jsxs("div",{className:"skeleton-event",children:[m.jsx(L1,{variant:"rectangular",width:90,height:60,borderRadius:10}),m.jsxs("div",{className:"skeleton-event__content",children:[m.jsx(L1,{variant:"text",width:"70%",height:16}),m.jsx(L1,{variant:"text",width:"50%",height:12}),m.jsx(L1,{variant:"text",width:"30%",height:10})]}),m.jsx(L1,{variant:"rectangular",width:60,height:32,borderRadius:8})]},n))})}function MK({onEscape:n,onShowHelp:e,enabled:t=!0}){const r=ae.useCallback(i=>{if(!t)return;const s=i.target,o=s.tagName==="INPUT"||s.tagName==="TEXTAREA"||s.isContentEditable;if(i.key==="Escape"&&n){i.preventDefault(),n();return}o||i.key==="?"&&e&&(i.preventDefault(),e())},[t,n,e]);ae.useEffect(()=>(document.addEventListener("keydown",r),()=>document.removeEventListener("keydown",r)),[r])}const LK=async(n,e,t,r,i)=>{try{if(await jK(n,r))return{success:!1,error:"This user is already assigned to this event"};let o=r;const u=Ti(An,"users"),f=Oa(u,jl("orbitId","==",r)),d=await au(f);if(d.empty){const A=Ti(An,"admins"),E=Oa(A,jl("orbitId","==",r)),I=await au(E);if(I.empty)return{success:!1,error:"OrbitX ID not found. User must be registered."};{const C=I.docs[0].data();o=`${C.firstName||""} ${C.lastName||""}`.trim()||r}}else{const A=d.docs[0].data();o=`${A.firstName||""} ${A.lastName||""}`.trim()||r}const x={eventId:n,eventName:e,eventDate:t,volunteerOrbitId:r,volunteerName:o,assignedBy:i,assignedAt:new Date().toISOString(),isActive:!0};return{success:!0,volunteer:{id:(await of(Ti(An,"event_volunteers"),x)).id,...x}}}catch(s){return console.error("Error assigning volunteer:",s),{success:!1,error:"Failed to assign volunteer"}}},kK=async n=>{try{return await mu(hr(An,"event_volunteers",n)),!0}catch(e){return console.error("Error removing volunteer:",e),!1}},PK=async n=>{try{const e=Ti(An,"event_volunteers"),t=Oa(e,jl("eventId","==",n),jl("isActive","==",!0));return(await au(t)).docs.map(i=>({id:i.id,...i.data()}))}catch(e){return console.error("Error fetching volunteers:",e),[]}},jK=async(n,e)=>{try{const t=Ti(An,"event_volunteers"),r=Oa(t,jl("eventId","==",n),jl("volunteerOrbitId","==",e),jl("isActive","==",!0)),i=await au(r);return i.empty?null:{id:i.docs[0].id,...i.docs[0].data()}}catch(t){return console.error("Error fetching volunteer:",t),null}},MR=async n=>{try{const e=Ti(An,"event_volunteers"),t=Oa(e,jl("volunteerOrbitId","==",n),jl("isActive","==",!0)),r=await au(t);if(r.empty)return[];const i=[],s=new Date().toISOString().split("T")[0];for(const o of r.docs){const u=o.data();u.eventDate&&u.eventDate>=s&&i.push({eventId:u.eventId,eventName:u.eventName,eventDate:u.eventDate,assignedBy:u.assignedBy,assignedAt:u.assignedAt})}return i}catch(e){return console.error("Error checking volunteer status:",e),[]}},FK=async n=>(await MR(n)).length>0;function BK(){const n=Ja(),{showToast:e}=Da(),{logout:t,profile:r,isAdmin:i,hasPermission:s}=ko(),o=r?.firstName||"User",u=r?.lastName||"",f=r?.orbitId||"ORB-XXX-0000",d=r?.avatar,x=()=>{const mt=o.charAt(0).toUpperCase(),Xt=u.charAt(0).toUpperCase();return`${mt}${Xt}`},[w,A]=ae.useState(null),[E,I]=ae.useState(!1),[C,M]=ae.useState(!1),[j,W]=ae.useState(0),[k,G]=ae.useState(!1),[ce,re]=ae.useState(!1),[F,B]=ae.useState(!1),[L,Q]=ae.useState(!1),U=ae.useRef(null),q=ae.useRef(null),[Y,ne]=ae.useState([]),[pe,Ae]=ae.useState(null),[ve,Re]=ae.useState(null),[He,ze]=ae.useState(!1),[xe,H]=ae.useState(null),[J,Z]=ae.useState(!1),[oe,de]=ae.useState(!1),[Me,Ue]=ae.useState(!1),Ve=ae.useRef(null),Ie=i&&s(Kl.MANAGE_PROMOS),nt=i&&s(Kl.MANAGE_EVENTS),Tt=i&&s(Kl.MANAGE_JOIN),St=i&&s(Kl.MANAGE_APPLICATIONS),Rt=i&&s(Kl.MANAGE_QUERIES),le=i&&s(Kl.MANAGE_MERCH_ORDERS),ot=i&&s(Kl.MANAGE_MERCH),Ge=i&&s(Kl.SCAN_QR),[At,Je]=ae.useState(!1),{isRecruitmentOpen:Zt,toggleRecruitment:Xe}=ed(),[Ft,fn]=ae.useState(!1);ae.useEffect(()=>{if(J&&Ve.current){const mt=setTimeout(()=>{const Xt=Ve.current?.closest(".sidebar-zone--middle");Xt&&Xt.scrollTo({top:Xt.scrollHeight,behavior:"smooth"})},100);return()=>clearTimeout(mt)}},[J]),ae.useEffect(()=>{(async()=>{if(r?.orbitId&&!Ge){const Xt=await FK(r.orbitId);Je(Xt)}})()},[r?.orbitId,Ge]);const[tn,yn]=ae.useState([]);ae.useEffect(()=>{const mt=Oa(Ti(An,"promotions")),Xt=nc(mt,on=>{const hn=[];on.forEach(dn=>{const Zn=dn.data();Zn.isActive&&hn.push({...Zn,id:dn.id})}),hn.sort((dn,Zn)=>(dn.priority||0)-(Zn.priority||0)),yn(hn)},on=>{console.error("Error fetching promotions:",on)});return()=>Xt()},[]),ae.useEffect(()=>{f!=="ORB-XXX-0000"&&(console.log("Fetching registrations for user:",f),B(!0),hx(f).then(mt=>{console.log("Dashboard received registrations:",mt),ne(mt)}).catch(mt=>{console.error("Error fetching registrations:",mt)}).finally(()=>{B(!1)}))},[f]),MK({onEscape:()=>{L?Q(!1):k?G(!1):ce?re(!1):oe?de(!1):Me?Ue(!1):J?Z(!1):E&&I(!1)},onShowHelp:()=>Q(!0)});const cn=[{id:"action-my-events",label:"My Events",action:()=>A(w==="events"?null:"events")},{id:"action-browse-events",label:"Browse Events",action:()=>n("/events")},{id:"action-explore-merch",label:"Explore Merch",action:()=>n("/merch")},{id:"action-members",label:"Members",action:()=>n("/members")}];ae.useEffect(()=>{const mt=Xt=>{J&&Ve.current&&!Ve.current.contains(Xt.target)&&Z(!1)};return document.addEventListener("mousedown",mt),()=>document.removeEventListener("mousedown",mt)},[J]);const wn=()=>{M(!0),setTimeout(()=>{I(!1),M(!1)},300)},gn=()=>{E?wn():I(!0)};ae.useEffect(()=>{if(tn.length<=1)return;const mt=setInterval(()=>{W(Xt=>(Xt+1)%tn.length)},6e3);return()=>clearInterval(mt)},[tn.length]),ae.useEffect(()=>{const mt=Xt=>{E&&U.current&&q.current&&!U.current.contains(Xt.target)&&!q.current.contains(Xt.target)&&wn()};return document.addEventListener("mousedown",mt),()=>document.removeEventListener("mousedown",mt)},[E]);const sn=()=>{const mt=new Date().getHours();return mt>=5&&mt<12?"Good Morning":mt>=12&&mt<17?"Good Afternoon":"Good Evening"},bn=async()=>{try{await t(),e("Logged out successfully","info"),n("/login")}catch(mt){console.error("Logout error:",mt),e("Failed to logout","error")}},un=mt=>{mt.linkUrl&&window.open(mt.linkUrl,"_blank")},nr=async mt=>{if(mt)try{Ae(mt.registrationId);const Xt=await h2(mt);f2(Xt,mt.eventName,f),e("Pass downloaded!","success")}catch(Xt){console.error("Error downloading pass:",Xt),e("Failed to download pass","error")}finally{Ae(null)}},rn=mt=>{const Xt=Y.find(on=>on.eventId===mt.id);Xt?nr(Xt):e("Registration details not found","error")},dt=mt=>{if(!mt)return"";try{const[Xt,on,hn]=mt.split("-").map(Number);return new Date(Xt,on-1,hn).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"})}catch{return mt}},Gt=mt=>{if(!mt)return!1;const Xt=new Date(mt),on=new Date;return on.setHours(0,0,0,0),Xt>=on},It=Y.filter(mt=>Gt(mt.eventDate)).sort((mt,Xt)=>new Date(mt.eventDate).getTime()-new Date(Xt.eventDate).getTime())[0]||null;ae.useEffect(()=>{(async()=>{if(It)try{const Xt=await Js(hr(An,"events",It.eventId));if(Xt.exists()){const on=Xt.data();on.images&&on.images.length>0?H(on.images[0]):H(null)}}catch(Xt){console.error("Error fetching highlight event image:",Xt),H(null)}else H(null)})()},[It?.eventId]);const ln=async mt=>{try{const Xt=await Js(hr(An,"events",mt.eventId));if(Xt.exists()){const on=Xt.data(),hn={id:Xt.id,title:on.title||mt.eventName,description:on.description||"",date:on.date||mt.eventDate,time:on.time||"",venue:on.venue||"",type:on.type||"workshop",isPast:!Gt(on.date||mt.eventDate),registrationOpen:on.registrationOpen??!1,images:on.images||[],amount:on.amount};Re(hn)}else Re({id:mt.eventId,title:mt.eventName,description:"",date:mt.eventDate,time:"",venue:"",type:"workshop",isPast:!Gt(mt.eventDate),registrationOpen:!1,images:[]})}catch(Xt){console.error("Error fetching event:",Xt),e("Could not load event details","error")}},Xn=()=>{ze(!0),setTimeout(()=>{Re(null),ze(!1)},200)};return m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"dashboard-page page-transition",children:[m.jsx("div",{className:"dashboard-sidebar",children:m.jsxs("div",{className:"dashboard-sidebar-container",children:[m.jsx("div",{className:"sidebar-zone sidebar-zone--top",children:m.jsx("div",{className:"promo-screen",children:tn.length>0?m.jsxs(m.Fragment,{children:[tn.map((mt,Xt)=>m.jsx("div",{className:`promo-screen__item ${Xt===j?"promo-screen__item--active":""}`,onClick:()=>un(mt),style:{cursor:mt.linkUrl?"pointer":"default"},children:mt.mediaType==="video"?m.jsx("video",{src:mt.mediaUrl,autoPlay:!0,muted:!0,loop:!0,playsInline:!0}):m.jsx("img",{src:mt.mediaUrl,alt:mt.title})},mt.id)),tn.length>1&&m.jsx("div",{className:"promo-screen__indicators",children:tn.map((mt,Xt)=>m.jsx("span",{className:`promo-screen__indicator ${Xt===j?"promo-screen__indicator--active":""}`},Xt))})]}):m.jsx("div",{className:"promo-screen__empty",children:m.jsx("span",{children:"No promotions"})})})}),m.jsx("div",{className:"sidebar-zone sidebar-zone--middle",children:m.jsxs("div",{className:"sidebar-actions",children:[cn.map(mt=>m.jsx("button",{className:`sidebar-action-btn ${mt.id==="action-my-events"&&w==="events"?"sidebar-action-btn--active":""}`,onClick:mt.action,children:mt.label},mt.id)),At&&!Ge&&m.jsx("button",{className:"sidebar-action-btn sidebar-action-btn--volunteer",onClick:()=>n("/scan-qrs"),children:" Scan QRs"}),(Ie||nt||Tt||St||Rt||le||ot)&&m.jsxs("div",{className:"manage-dropdown",ref:Ve,children:[m.jsxs("button",{className:`sidebar-action-btn sidebar-action-btn--manage ${J?"sidebar-action-btn--active":""}`,onClick:()=>Z(!J),children:[m.jsx("span",{children:"Manage"}),m.jsx("svg",{className:`manage-dropdown__arrow ${J?"manage-dropdown__arrow--open":""}`,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:m.jsx("polyline",{points:"6 9 12 15 18 9"})})]}),J&&m.jsxs("div",{className:"manage-dropdown__menu",children:[Ie&&m.jsxs("button",{className:"manage-dropdown__item",onClick:()=>{Z(!1),de(!0)},children:[m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),m.jsx("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),m.jsx("polyline",{points:"21 15 16 10 5 21"})]}),m.jsx("span",{children:"Promotional Screen"})]}),nt&&m.jsxs("button",{className:"manage-dropdown__item",onClick:()=>{Z(!1),Ue(!0)},children:[m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),m.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),m.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),m.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),m.jsx("span",{children:"Events"})]}),Tt&&m.jsxs("button",{className:`manage-dropdown__item manage-dropdown__item--toggle ${Zt?"manage-dropdown__item--active":""}`,onClick:async()=>{if(!Ft){fn(!0);try{await Xe(),e(Zt?"Recruitment closed":"Recruitment opened","success")}catch{e("Failed to toggle recruitment","error")}finally{fn(!1)}}},disabled:Ft,children:[m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),m.jsx("circle",{cx:"8.5",cy:"7",r:"4"}),m.jsx("line",{x1:"20",y1:"8",x2:"20",y2:"14"}),m.jsx("line",{x1:"23",y1:"11",x2:"17",y2:"11"})]}),m.jsx("span",{children:"Recruitment"}),m.jsx("span",{className:`recruitment-status ${Zt?"recruitment-status--open":"recruitment-status--closed"}`,children:Zt?"Open":"Closed"})]}),St&&m.jsxs("button",{className:"manage-dropdown__item",onClick:()=>{Z(!1),n("/manage-user-applications")},children:[m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),m.jsx("polyline",{points:"14 2 14 8 20 8"}),m.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),m.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),m.jsx("polyline",{points:"10 9 9 9 8 9"})]}),m.jsx("span",{children:"Applications"})]}),Rt&&m.jsxs("button",{className:"manage-dropdown__item",onClick:()=>{Z(!1),n("/manage-user-queries")},children:[m.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:m.jsx("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})}),m.jsx("span",{children:"Queries"})]}),le&&m.jsxs("button",{className:"manage-dropdown__item",onClick:()=>{Z(!1),n("/manage-merch-orders")},children:[m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("path",{d:"M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z"}),m.jsx("path",{d:"M3 6h18"}),m.jsx("path",{d:"M16 10a4 4 0 0 1-8 0"})]}),m.jsx("span",{children:"Merch Orders"})]}),ot&&m.jsxs("button",{className:"manage-dropdown__item",onClick:()=>{Z(!1),n("/manage-merch")},children:[m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("path",{d:"M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"}),m.jsx("line",{x1:"7",y1:"7",x2:"7.01",y2:"7"})]}),m.jsx("span",{children:"Manage Merch"})]}),Ge&&m.jsxs("button",{className:"manage-dropdown__item",onClick:()=>{Z(!1),n("/event-scanner")},children:[m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("rect",{x:"3",y:"3",width:"7",height:"7"}),m.jsx("rect",{x:"14",y:"3",width:"7",height:"7"}),m.jsx("rect",{x:"3",y:"14",width:"7",height:"7"}),m.jsx("rect",{x:"14",y:"14",width:"7",height:"7"})]}),m.jsx("span",{children:"Event Scanner"})]})]})]})]})}),m.jsxs("div",{className:"sidebar-zone sidebar-zone--bottom",children:[m.jsx("div",{className:"member-id-display",children:m.jsx("span",{className:"member-id-value",children:f})}),m.jsxs("div",{className:"user-profile-section",children:[d?m.jsx("img",{src:d,alt:o,className:"user-avatar"}):m.jsx("div",{className:"user-avatar user-avatar--initials",children:x()}),m.jsx("div",{className:"user-info",children:m.jsx("span",{className:"user-name",children:o})}),m.jsx("button",{ref:q,className:"user-menu-btn",onClick:gn,children:""}),E&&m.jsxs("div",{ref:U,className:`user-dropdown-menu ${C?"closing":""}`,children:[m.jsx("button",{onClick:()=>{wn(),G(!0)},children:"Profile"}),m.jsx("button",{onClick:()=>{wn(),re(!0)},children:"Settings"}),m.jsx("button",{onClick:bn,children:"Logout"})]})]})]})]})}),m.jsxs("div",{className:"dashboard-main-content",children:[w==="events"&&m.jsxs("div",{className:"content-container",children:[m.jsx("h2",{className:"content-title",children:"My Events"}),F?m.jsxs(m.Fragment,{children:[m.jsx("h3",{className:"dashboard-events__section-title",children:"Upcoming"}),m.jsx(DK,{})]}):Y.length>0?m.jsxs(m.Fragment,{children:[Y.filter(mt=>Gt(mt.eventDate)).length>0&&m.jsxs("div",{className:"dashboard-events__section",children:[m.jsx("h3",{className:"dashboard-events__section-title",children:"Upcoming"}),m.jsx("div",{className:"dashboard-events__list",children:Y.filter(mt=>Gt(mt.eventDate)).map(mt=>m.jsxs("div",{className:"my-event-card",children:[m.jsxs("div",{className:"my-event-card__info my-event-card__info--clickable",onClick:()=>ln(mt),children:[m.jsx("h4",{className:"my-event-card__title",children:mt.eventName}),m.jsx("p",{className:"my-event-card__date",children:dt(mt.eventDate)})]}),m.jsx("button",{className:"my-event-card__download",onClick:Xt=>{Xt.stopPropagation(),nr(mt)},disabled:pe===mt.registrationId,children:pe===mt.registrationId?"Downloading...":m.jsxs(m.Fragment,{children:[m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),m.jsx("polyline",{points:"7 10 12 15 17 10"}),m.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),"Pass"]})})]},mt.registrationId))})]}),Y.filter(mt=>!Gt(mt.eventDate)).length>0&&m.jsxs("div",{className:"dashboard-events__section",children:[m.jsx("h3",{className:"dashboard-events__section-title",children:"Past"}),m.jsx("div",{className:"dashboard-events__list",children:Y.filter(mt=>!Gt(mt.eventDate)).map(mt=>m.jsx("div",{className:"my-event-card my-event-card--past my-event-card--clickable",onClick:()=>ln(mt),children:m.jsxs("div",{className:"my-event-card__info",children:[m.jsx("h4",{className:"my-event-card__title",children:mt.eventName}),m.jsx("p",{className:"my-event-card__date",children:dt(mt.eventDate)}),mt.attendanceStatus&&m.jsx("span",{className:"my-event-card__attended",children:" Attended"})]})},mt.registrationId))})]})]}):m.jsx(m.Fragment,{children:m.jsxs("div",{className:"dashboard-events__section",children:[m.jsx("h3",{className:"dashboard-events__section-title",children:"Upcoming"}),m.jsxs("div",{className:"dashboard-events__empty",children:[m.jsx("p",{children:"You haven't registered for any events yet."}),m.jsx("button",{className:"dashboard-events__cta",onClick:()=>n("/events"),children:"Browse Events"})]})]})})]}),w==="merch"&&m.jsxs("div",{className:"content-container",children:[m.jsx("h2",{className:"content-title",children:"Merchandise"}),m.jsx("p",{className:"content-placeholder",children:"Your merch orders and wishlist will appear here."}),m.jsx("button",{className:"content-cta",onClick:()=>n("/merch"),children:"Browse Merch"})]}),!w&&m.jsxs("div",{className:"dashboard-welcome-section",children:[m.jsx("h1",{className:"welcome-heading",children:m.jsxs("span",{className:"typewriter",style:{"--char-count":`${sn().length+o.length+5}`},children:[sn(),", ",m.jsx("span",{children:o}),"..."]})}),m.jsx("p",{className:"welcome-tagline",children:"The cosmos awaitsyour next adventure is just a click away."}),m.jsx("div",{className:"dashboard-highlight",children:It?m.jsxs("div",{className:"dashboard-highlight__card",onClick:()=>ln(It),style:{cursor:"pointer"},children:[m.jsx("span",{className:"dashboard-highlight__badge",children:"Up Next"}),m.jsx("div",{className:"dashboard-highlight__image",children:xe?m.jsx("img",{src:xe,alt:It.eventName}):m.jsx("div",{style:{width:"100%",height:"100%",background:"linear-gradient(135deg, rgba(169, 78, 255, 0.3) 0%, rgba(124, 58, 237, 0.3) 100%)",display:"flex",alignItems:"center",justifyContent:"center"},children:m.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"rgba(255,255,255,0.3)",strokeWidth:"1.5",children:[m.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),m.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),m.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),m.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]})})}),m.jsxs("div",{className:"dashboard-highlight__content",children:[m.jsx("h3",{className:"dashboard-highlight__title",children:It.eventName}),m.jsx("div",{className:"dashboard-highlight__meta",children:m.jsxs("span",{children:[" ",dt(It.eventDate)]})}),m.jsx("span",{className:"dashboard-highlight__status dashboard-event__status--registered",children:" Registered"}),m.jsx("button",{className:"dashboard-highlight__btn",onClick:mt=>{mt.stopPropagation(),ln(It)},children:"View Details"})]})]}):m.jsxs("div",{className:"dashboard-highlight__empty",children:[m.jsx("p",{children:"You haven't registered for any upcoming events yet."}),m.jsx("button",{className:"dashboard-highlight__btn",onClick:()=>n("/events"),children:"Explore Events"})]})})]})]})]}),m.jsx(Ul,{}),m.jsx(_K,{isOpen:k,onClose:()=>G(!1)}),m.jsx(yK,{isOpen:ce,onClose:()=>re(!1)}),m.jsx(bK,{isOpen:L,onClose:()=>Q(!1)}),Ie&&m.jsx(EK,{isOpen:oe,onClose:()=>de(!1),adminOrbitId:f}),nt&&m.jsx(OK,{isOpen:Me,onClose:()=>Ue(!1),adminOrbitId:f}),ve&&m.jsx(I5,{event:ve,isClosing:He,onClose:Xn,isRegistered:!0,onDownloadPass:rn})]})}function UK(){const n=Ja(),{showToast:e}=Da(),[t,r]=ae.useState(!1),[i,s]=ae.useState(!1),[o,u]=ae.useState(!1),[f,d]=ae.useState({firstName:"",lastName:"",mobile:"",email:"",dateOfBirth:"",gender:"",team:"",position:""}),[x,w]=ae.useState({});ae.useEffect(()=>{(async()=>{Bl.currentUser&&await Mp()})()},[]);const A=()=>f.team==="leadership"?mK:gK;ae.useEffect(()=>{f.team&&d(j=>({...j,position:""}))},[f.team]);const E=async()=>{r(!0);try{const j=await gI();j.isNewUser?(d(W=>({...W,email:j.email||""})),s(!0),e("Please complete your admin profile","info")):j.profile&&(e("You already have an account. Please use the login page.","error"),await Mp(),setTimeout(()=>n("/login"),1500))}catch(j){console.error("Google sign-up error:",j),j.code==="auth/popup-closed-by-user"||j.code==="auth/cancelled-popup-request"||e("Failed to sign up with Google. Please try again.","error")}finally{r(!1)}},I=()=>{const j={};return f.firstName.trim()||(j.firstName="First name is required"),f.lastName.trim()||(j.lastName="Last name is required"),f.mobile.trim()?/^[6-9]\d{9}$/.test(f.mobile)||(j.mobile="Enter a valid 10-digit mobile number"):j.mobile="Mobile number is required",f.dateOfBirth||(j.dateOfBirth="Date of birth is required"),f.gender||(j.gender="Gender is required"),f.team||(j.team="Team is required"),f.position||(j.position="Position is required"),w(j),Object.keys(j).length===0},C=async j=>{if(j.preventDefault(),!I()){e("Please fill all required fields correctly","error");return}u(!0);try{await kH(f),e("Admin account created successfully!","success"),setTimeout(()=>{e("Please login to continue!","info")},500),await Mp(),setTimeout(()=>{n("/login",{replace:!0})},1500)}catch(W){console.error("Admin signup error:",W),W.code==="already-registered-user"?e("This email is already registered as a user.","error"):W.code==="already-registered-admin"?e("This email is already registered as an admin.","error"):e(W.message||"Failed to create admin account","error")}finally{u(!1)}},M=(j,W)=>{d(k=>({...k,[j]:W})),x[j]&&w(k=>({...k,[j]:void 0}))};return m.jsx("div",{className:"admin-setup",children:m.jsxs("div",{className:"admin-setup__container",children:[m.jsxs("div",{className:"admin-setup__header",children:[m.jsx("div",{className:"admin-setup__badge",children:"Admin Portal"}),m.jsx("h1",{className:"admin-setup__title",children:"Admin Setup"}),m.jsx("p",{className:"admin-setup__subtitle",children:i?"Complete your admin profile to get started":"Create your OrbitX Admin account"})]}),i?m.jsxs("form",{className:"admin-setup__form",onSubmit:C,children:[m.jsxs("div",{className:"admin-setup__section",children:[m.jsx("h2",{className:"admin-setup__section-title",children:"Personal Information"}),m.jsxs("div",{className:"admin-setup__form-grid",children:[m.jsxs("div",{className:"admin-setup__form-group",children:[m.jsx("label",{className:"admin-setup__label",children:"First Name *"}),m.jsx("input",{type:"text",className:`admin-setup__input ${x.firstName?"admin-setup__input--error":""}`,value:f.firstName,onChange:j=>M("firstName",j.target.value),placeholder:"Enter first name"}),x.firstName&&m.jsx("span",{className:"admin-setup__error",children:x.firstName})]}),m.jsxs("div",{className:"admin-setup__form-group",children:[m.jsx("label",{className:"admin-setup__label",children:"Last Name *"}),m.jsx("input",{type:"text",className:`admin-setup__input ${x.lastName?"admin-setup__input--error":""}`,value:f.lastName,onChange:j=>M("lastName",j.target.value),placeholder:"Enter last name"}),x.lastName&&m.jsx("span",{className:"admin-setup__error",children:x.lastName})]}),m.jsxs("div",{className:"admin-setup__form-group",children:[m.jsx("label",{className:"admin-setup__label",children:"Mobile Number *"}),m.jsx("input",{type:"tel",className:`admin-setup__input ${x.mobile?"admin-setup__input--error":""}`,value:f.mobile,onChange:j=>M("mobile",j.target.value.replace(/\D/g,"").slice(0,10)),placeholder:"10-digit mobile number"}),x.mobile&&m.jsx("span",{className:"admin-setup__error",children:x.mobile})]}),m.jsxs("div",{className:"admin-setup__form-group",children:[m.jsx("label",{className:"admin-setup__label",children:"Email *"}),m.jsx("input",{type:"email",className:"admin-setup__input admin-setup__input--readonly",value:f.email,readOnly:!0})]}),m.jsxs("div",{className:"admin-setup__form-group",children:[m.jsx("label",{className:"admin-setup__label",children:"Date of Birth *"}),m.jsx(m2,{value:f.dateOfBirth,onChange:j=>M("dateOfBirth",j),error:!!x.dateOfBirth}),x.dateOfBirth&&m.jsx("span",{className:"admin-setup__error",children:x.dateOfBirth})]}),m.jsxs("div",{className:"admin-setup__form-group",children:[m.jsx("label",{className:"admin-setup__label",children:"Gender *"}),m.jsx(Ya,{options:NR,value:f.gender,onChange:j=>M("gender",j),placeholder:"Select gender"}),x.gender&&m.jsx("span",{className:"admin-setup__error",children:x.gender})]})]})]}),m.jsxs("div",{className:"admin-setup__section",children:[m.jsx("h2",{className:"admin-setup__section-title",children:"Team Information"}),m.jsxs("div",{className:"admin-setup__form-grid",children:[m.jsxs("div",{className:"admin-setup__form-group",children:[m.jsx("label",{className:"admin-setup__label",children:"Team *"}),m.jsx(Ya,{options:dK,value:f.team,onChange:j=>M("team",j),placeholder:"Select your team"}),x.team&&m.jsx("span",{className:"admin-setup__error",children:x.team})]}),m.jsxs("div",{className:"admin-setup__form-group",children:[m.jsx("label",{className:"admin-setup__label",children:"Position *"}),m.jsx(Ya,{options:A(),value:f.position,onChange:j=>M("position",j),placeholder:"Select your position",disabled:!f.team}),x.position&&m.jsx("span",{className:"admin-setup__error",children:x.position})]})]})]}),m.jsx("button",{type:"submit",className:"admin-setup__submit-btn",disabled:o,children:o?"Creating Account...":"Create Admin Account"})]}):m.jsxs("div",{className:"admin-setup__initial",children:[m.jsx("button",{className:"admin-setup__google-btn",onClick:E,disabled:t,children:t?m.jsx("span",{className:"admin-setup__loading",children:"Setting up..."}):m.jsxs(m.Fragment,{children:[m.jsxs("svg",{viewBox:"0 0 24 24",className:"admin-setup__google-icon",children:[m.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),m.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),m.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),m.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),m.jsx("span",{children:"Sign Up with Google"})]})}),m.jsxs("p",{className:"admin-setup__note",children:["This page is for admin account creation only.",m.jsx("br",{}),"Regular users should use the main signup page."]})]})]})})}var p2={};p2.version="0.18.5";var LR=1252,VK=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],kR=function(n){VK.indexOf(n)!=-1&&(LR=n)};function zK(){kR(1252)}var vm=function(n){kR(n)};function HK(){vm(1200),zK()}var hp=function(e){return String.fromCharCode(e)},QT=function(e){return String.fromCharCode(e)},x2,Bh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function _m(n){for(var e="",t=0,r=0,i=0,s=0,o=0,u=0,f=0,d=0;d<n.length;)t=n.charCodeAt(d++),s=t>>2,r=n.charCodeAt(d++),o=(t&3)<<4|r>>4,i=n.charCodeAt(d++),u=(r&15)<<2|i>>6,f=i&63,isNaN(r)?u=f=64:isNaN(i)&&(f=64),e+=Bh.charAt(s)+Bh.charAt(o)+Bh.charAt(u)+Bh.charAt(f);return e}function Zu(n){var e="",t=0,r=0,i=0,s=0,o=0,u=0,f=0;n=n.replace(/[^\w\+\/\=]/g,"");for(var d=0;d<n.length;)s=Bh.indexOf(n.charAt(d++)),o=Bh.indexOf(n.charAt(d++)),t=s<<2|o>>4,e+=String.fromCharCode(t),u=Bh.indexOf(n.charAt(d++)),r=(o&15)<<4|u>>2,u!==64&&(e+=String.fromCharCode(r)),f=Bh.indexOf(n.charAt(d++)),i=(u&3)<<6|f,f!==64&&(e+=String.fromCharCode(i));return e}var gi=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),th=(function(){if(typeof Buffer<"u"){var n=!Buffer.from;if(!n)try{Buffer.from("foo","utf8")}catch{n=!0}return n?function(e,t){return t?new Buffer(e,t):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}})();function Gf(n){return gi?Buffer.alloc?Buffer.alloc(n):new Buffer(n):typeof Uint8Array<"u"?new Uint8Array(n):new Array(n)}function $T(n){return gi?Buffer.allocUnsafe?Buffer.allocUnsafe(n):new Buffer(n):typeof Uint8Array<"u"?new Uint8Array(n):new Array(n)}var vc=function(e){return gi?th(e,"binary"):e.split("").map(function(t){return t.charCodeAt(0)&255})};function dx(n){if(typeof ArrayBuffer>"u")return vc(n);for(var e=new ArrayBuffer(n.length),t=new Uint8Array(e),r=0;r!=n.length;++r)t[r]=n.charCodeAt(r)&255;return e}function qm(n){if(Array.isArray(n))return n.map(function(r){return String.fromCharCode(r)}).join("");for(var e=[],t=0;t<n.length;++t)e[t]=String.fromCharCode(n[t]);return e.join("")}function qK(n){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(n)}var mo=gi?function(n){return Buffer.concat(n.map(function(e){return Buffer.isBuffer(e)?e:th(e)}))}:function(n){if(typeof Uint8Array<"u"){var e=0,t=0;for(e=0;e<n.length;++e)t+=n[e].length;var r=new Uint8Array(t),i=0;for(e=0,t=0;e<n.length;t+=i,++e)if(i=n[e].length,n[e]instanceof Uint8Array)r.set(n[e],t);else{if(typeof n[e]=="string")throw"wtf";r.set(new Uint8Array(n[e]),t)}return r}return[].concat.apply([],n.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function GK(n){for(var e=[],t=0,r=n.length+250,i=Gf(n.length+255),s=0;s<n.length;++s){var o=n.charCodeAt(s);if(o<128)i[t++]=o;else if(o<2048)i[t++]=192|o>>6&31,i[t++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var u=n.charCodeAt(++s)&1023;i[t++]=240|o>>8&7,i[t++]=128|o>>2&63,i[t++]=128|u>>6&15|(o&3)<<4,i[t++]=128|u&63}else i[t++]=224|o>>12&15,i[t++]=128|o>>6&63,i[t++]=128|o&63;t>r&&(e.push(i.slice(0,t)),t=0,i=Gf(65535),r=65530)}return e.push(i.slice(0,t)),mo(e)}var em=/\u0000/g,fp=/[\u0001-\u0006]/g;function _0(n){for(var e="",t=n.length-1;t>=0;)e+=n.charAt(t--);return e}function wc(n,e){var t=""+n;return t.length>=e?t:js("0",e-t.length)+t}function B5(n,e){var t=""+n;return t.length>=e?t:js(" ",e-t.length)+t}function v2(n,e){var t=""+n;return t.length>=e?t:t+js(" ",e-t.length)}function WK(n,e){var t=""+Math.round(n);return t.length>=e?t:js("0",e-t.length)+t}function YK(n,e){var t=""+n;return t.length>=e?t:js("0",e-t.length)+t}var ZT=Math.pow(2,32);function Qd(n,e){if(n>ZT||n<-ZT)return WK(n,e);var t=Math.round(n);return YK(t,e)}function _2(n,e){return e=e||0,n.length>=7+e&&(n.charCodeAt(e)|32)===103&&(n.charCodeAt(e+1)|32)===101&&(n.charCodeAt(e+2)|32)===110&&(n.charCodeAt(e+3)|32)===101&&(n.charCodeAt(e+4)|32)===114&&(n.charCodeAt(e+5)|32)===97&&(n.charCodeAt(e+6)|32)===108}var JT=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],ty=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function XK(n){return n||(n={}),n[0]="General",n[1]="0",n[2]="0.00",n[3]="#,##0",n[4]="#,##0.00",n[9]="0%",n[10]="0.00%",n[11]="0.00E+00",n[12]="# ?/?",n[13]="# ??/??",n[14]="m/d/yy",n[15]="d-mmm-yy",n[16]="d-mmm",n[17]="mmm-yy",n[18]="h:mm AM/PM",n[19]="h:mm:ss AM/PM",n[20]="h:mm",n[21]="h:mm:ss",n[22]="m/d/yy h:mm",n[37]="#,##0 ;(#,##0)",n[38]="#,##0 ;[Red](#,##0)",n[39]="#,##0.00;(#,##0.00)",n[40]="#,##0.00;[Red](#,##0.00)",n[45]="mm:ss",n[46]="[h]:mm:ss",n[47]="mmss.0",n[48]="##0.0E+0",n[49]="@",n[56]='"/ "hh""mm""ss" "',n}var Fs={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},eN={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},KK={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function y2(n,e,t){for(var r=n<0?-1:1,i=n*r,s=0,o=1,u=0,f=1,d=0,x=0,w=Math.floor(i);d<e&&(w=Math.floor(i),u=w*o+s,x=w*d+f,!(i-w<5e-8));)i=1/(i-w),s=o,o=u,f=d,d=x;if(x>e&&(d>e?(x=f,u=s):(x=d,u=o)),!t)return[0,r*u,x];var A=Math.floor(r*u/x);return[A,r*u-A*x,x]}function dp(n,e,t){if(n>2958465||n<0)return null;var r=n|0,i=Math.floor(86400*(n-r)),s=0,o=[],u={D:r,T:i,u:86400*(n-r)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(u.u)<1e-6&&(u.u=0),e&&e.date1904&&(r+=1462),u.u>.9999&&(u.u=0,++i==86400&&(u.T=i=0,++r,++u.D)),r===60)o=t?[1317,10,29]:[1900,2,29],s=3;else if(r===0)o=t?[1317,8,29]:[1900,1,0],s=6;else{r>60&&--r;var f=new Date(1900,0,1);f.setDate(f.getDate()+r-1),o=[f.getFullYear(),f.getMonth()+1,f.getDate()],s=f.getDay(),r<60&&(s=(s+6)%7),t&&(s=nQ(f,o))}return u.y=o[0],u.m=o[1],u.d=o[2],u.S=i%60,i=Math.floor(i/60),u.M=i%60,i=Math.floor(i/60),u.H=i,u.q=s,u}var PR=new Date(1899,11,31,0,0,0),QK=PR.getTime(),$K=new Date(1900,2,1,0,0,0);function jR(n,e){var t=n.getTime();return e?t-=1461*24*60*60*1e3:n>=$K&&(t+=1440*60*1e3),(t-(QK+(n.getTimezoneOffset()-PR.getTimezoneOffset())*6e4))/(1440*60*1e3)}function U5(n){return n.indexOf(".")==-1?n:n.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function ZK(n){return n.indexOf("E")==-1?n:n.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function JK(n){var e=n<0?12:11,t=U5(n.toFixed(12));return t.length<=e||(t=n.toPrecision(10),t.length<=e)?t:n.toExponential(5)}function eQ(n){var e=U5(n.toFixed(11));return e.length>(n<0?12:11)||e==="0"||e==="-0"?n.toPrecision(6):e}function tQ(n){var e=Math.floor(Math.log(Math.abs(n))*Math.LOG10E),t;return e>=-4&&e<=-1?t=n.toPrecision(10+e):Math.abs(e)<=9?t=JK(n):e===10?t=n.toFixed(10).substr(0,12):t=eQ(n),U5(ZK(t.toUpperCase()))}function iw(n,e){switch(typeof n){case"string":return n;case"boolean":return n?"TRUE":"FALSE";case"number":return(n|0)===n?n.toString(10):tQ(n);case"undefined":return"";case"object":if(n==null)return"";if(n instanceof Date)return ef(14,jR(n,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+n)}function nQ(n,e){e[0]-=581;var t=n.getDay();return n<60&&(t=(t+6)%7),t}function rQ(n,e,t,r){var i="",s=0,o=0,u=t.y,f,d=0;switch(n){case 98:u=t.y+543;case 121:switch(e.length){case 1:case 2:f=u%100,d=2;break;default:f=u%1e4,d=4;break}break;case 109:switch(e.length){case 1:case 2:f=t.m,d=e.length;break;case 3:return ty[t.m-1][1];case 5:return ty[t.m-1][0];default:return ty[t.m-1][2]}break;case 100:switch(e.length){case 1:case 2:f=t.d,d=e.length;break;case 3:return JT[t.q][0];default:return JT[t.q][1]}break;case 104:switch(e.length){case 1:case 2:f=1+(t.H+11)%12,d=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:f=t.H,d=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:f=t.M,d=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return t.u===0&&(e=="s"||e=="ss")?wc(t.S,e.length):(r>=2?o=r===3?1e3:100:o=r===1?10:1,s=Math.round(o*(t.S+t.u)),s>=60*o&&(s=0),e==="s"?s===0?"0":""+s/o:(i=wc(s,2+r),e==="ss"?i.substr(0,2):"."+i.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":f=t.D*24+t.H;break;case"[m]":case"[mm]":f=(t.D*24+t.H)*60+t.M;break;case"[s]":case"[ss]":f=((t.D*24+t.H)*60+t.M)*60+Math.round(t.S+t.u);break;default:throw"bad abstime format: "+e}d=e.length===3?1:2;break;case 101:f=u,d=1;break}var x=d>0?wc(f,d):"";return x}function Uh(n){var e=3;if(n.length<=e)return n;for(var t=n.length%e,r=n.substr(0,t);t!=n.length;t+=e)r+=(r.length>0?",":"")+n.substr(t,e);return r}var FR=/%/g;function iQ(n,e,t){var r=e.replace(FR,""),i=e.length-r.length;return Hu(n,r,t*Math.pow(10,2*i))+js("%",i)}function sQ(n,e,t){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return Hu(n,e.substr(0,r),t/Math.pow(10,3*(e.length-r)))}function BR(n,e){var t,r=n.indexOf("E")-n.indexOf(".")-1;if(n.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+BR(n,-e);var i=n.indexOf(".");i===-1&&(i=n.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),t=(e/Math.pow(10,s)).toPrecision(r+1+(i+s)%i),t.indexOf("e")===-1){var o=Math.floor(Math.log(e)*Math.LOG10E);for(t.indexOf(".")===-1?t=t.charAt(0)+"."+t.substr(1)+"E+"+(o-t.length+s):t+="E+"+(o-s);t.substr(0,2)==="0.";)t=t.charAt(0)+t.substr(2,i)+"."+t.substr(2+i),t=t.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(u,f,d,x){return f+d+x.substr(0,(i+s)%i)+"."+x.substr(s)+"E"})}else t=e.toExponential(r);return n.match(/E\+00$/)&&t.match(/e[+-]\d$/)&&(t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1)),n.match(/E\-/)&&t.match(/e\+/)&&(t=t.replace(/e\+/,"e")),t.replace("e","E")}var UR=/# (\?+)( ?)\/( ?)(\d+)/;function aQ(n,e,t){var r=parseInt(n[4],10),i=Math.round(e*r),s=Math.floor(i/r),o=i-s*r,u=r;return t+(s===0?"":""+s)+" "+(o===0?js(" ",n[1].length+1+n[4].length):B5(o,n[1].length)+n[2]+"/"+n[3]+wc(u,n[4].length))}function oQ(n,e,t){return t+(e===0?"":""+e)+js(" ",n[1].length+2+n[4].length)}var VR=/^#*0*\.([0#]+)/,zR=/\).*[0#]/,HR=/\(###\) ###\\?-####/;function qo(n){for(var e="",t,r=0;r!=n.length;++r)switch(t=n.charCodeAt(r)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(t)}return e}function tN(n,e){var t=Math.pow(10,e);return""+Math.round(n*t)/t}function nN(n,e){var t=n-Math.floor(n),r=Math.pow(10,e);return e<(""+Math.round(t*r)).length?0:Math.round(t*r)}function lQ(n,e){return e<(""+Math.round((n-Math.floor(n))*Math.pow(10,e))).length?1:0}function cQ(n){return n<2147483647&&n>-2147483648?""+(n>=0?n|0:n-1|0):""+Math.floor(n)}function Xl(n,e,t){if(n.charCodeAt(0)===40&&!e.match(zR)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return t>=0?Xl("n",r,t):"("+Xl("n",r,-t)+")"}if(e.charCodeAt(e.length-1)===44)return sQ(n,e,t);if(e.indexOf("%")!==-1)return iQ(n,e,t);if(e.indexOf("E")!==-1)return BR(e,t);if(e.charCodeAt(0)===36)return"$"+Xl(n,e.substr(e.charAt(1)==" "?2:1),t);var i,s,o,u,f=Math.abs(t),d=t<0?"-":"";if(e.match(/^00+$/))return d+Qd(f,e.length);if(e.match(/^[#?]+$/))return i=Qd(t,0),i==="0"&&(i=""),i.length>e.length?i:qo(e.substr(0,e.length-i.length))+i;if(s=e.match(UR))return aQ(s,f,d);if(e.match(/^#+0+$/))return d+Qd(f,e.length-e.indexOf("0"));if(s=e.match(VR))return i=tN(t,s[1].length).replace(/^([^\.]+)$/,"$1."+qo(s[1])).replace(/\.$/,"."+qo(s[1])).replace(/\.(\d*)$/,function(I,C){return"."+C+js("0",qo(s[1]).length-C.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return d+tN(f,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return d+Uh(Qd(f,0));if(s=e.match(/^#,##0\.([#0]*0)$/))return t<0?"-"+Xl(n,e,-t):Uh(""+(Math.floor(t)+lQ(t,s[1].length)))+"."+wc(nN(t,s[1].length),s[1].length);if(s=e.match(/^#,#*,#0/))return Xl(n,e.replace(/^#,#*,/,""),t);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=_0(Xl(n,e.replace(/[\\-]/g,""),t)),o=0,_0(_0(e.replace(/\\/g,"")).replace(/[0#]/g,function(I){return o<i.length?i.charAt(o++):I==="0"?"0":""}));if(e.match(HR))return i=Xl(n,"##########",t),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var x="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(s[4].length,7),u=y2(f,Math.pow(10,o)-1,!1),i=""+d,x=Hu("n",s[1],u[1]),x.charAt(x.length-1)==" "&&(x=x.substr(0,x.length-1)+"0"),i+=x+s[2]+"/"+s[3],x=v2(u[2],o),x.length<s[4].length&&(x=qo(s[4].substr(s[4].length-x.length))+x),i+=x,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(s[1].length,s[4].length),7),u=y2(f,Math.pow(10,o)-1,!0),d+(u[0]||(u[1]?"":"0"))+" "+(u[1]?B5(u[1],o)+s[2]+"/"+s[3]+v2(u[2],o):js(" ",2*o+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=Qd(t,0),e.length<=i.length?i:qo(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0?]+)\.([#0]+)$/)){i=""+t.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),o=i.indexOf(".");var w=e.indexOf(".")-o,A=e.length-i.length-w;return qo(e.substr(0,w)+i+e.substr(e.length-A))}if(s=e.match(/^00,000\.([#0]*0)$/))return o=nN(t,s[1].length),t<0?"-"+Xl(n,e,-t):Uh(cQ(t)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(I){return"00,"+(I.length<3?wc(0,3-I.length):"")+I})+"."+wc(o,s[1].length);switch(e){case"###,##0.00":return Xl(n,"#,##0.00",t);case"###,###":case"##,###":case"#,###":var E=Uh(Qd(f,0));return E!=="0"?d+E:"";case"###,###.00":return Xl(n,"###,##0.00",t).replace(/^0\./,".");case"#,###.00":return Xl(n,"#,##0.00",t).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function uQ(n,e,t){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return Hu(n,e.substr(0,r),t/Math.pow(10,3*(e.length-r)))}function hQ(n,e,t){var r=e.replace(FR,""),i=e.length-r.length;return Hu(n,r,t*Math.pow(10,2*i))+js("%",i)}function qR(n,e){var t,r=n.indexOf("E")-n.indexOf(".")-1;if(n.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+qR(n,-e);var i=n.indexOf(".");i===-1&&(i=n.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),t=(e/Math.pow(10,s)).toPrecision(r+1+(i+s)%i),!t.match(/[Ee]/)){var o=Math.floor(Math.log(e)*Math.LOG10E);t.indexOf(".")===-1?t=t.charAt(0)+"."+t.substr(1)+"E+"+(o-t.length+s):t+="E+"+(o-s),t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(u,f,d,x){return f+d+x.substr(0,(i+s)%i)+"."+x.substr(s)+"E"})}else t=e.toExponential(r);return n.match(/E\+00$/)&&t.match(/e[+-]\d$/)&&(t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1)),n.match(/E\-/)&&t.match(/e\+/)&&(t=t.replace(/e\+/,"e")),t.replace("e","E")}function Yc(n,e,t){if(n.charCodeAt(0)===40&&!e.match(zR)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return t>=0?Yc("n",r,t):"("+Yc("n",r,-t)+")"}if(e.charCodeAt(e.length-1)===44)return uQ(n,e,t);if(e.indexOf("%")!==-1)return hQ(n,e,t);if(e.indexOf("E")!==-1)return qR(e,t);if(e.charCodeAt(0)===36)return"$"+Yc(n,e.substr(e.charAt(1)==" "?2:1),t);var i,s,o,u,f=Math.abs(t),d=t<0?"-":"";if(e.match(/^00+$/))return d+wc(f,e.length);if(e.match(/^[#?]+$/))return i=""+t,t===0&&(i=""),i.length>e.length?i:qo(e.substr(0,e.length-i.length))+i;if(s=e.match(UR))return oQ(s,f,d);if(e.match(/^#+0+$/))return d+wc(f,e.length-e.indexOf("0"));if(s=e.match(VR))return i=(""+t).replace(/^([^\.]+)$/,"$1."+qo(s[1])).replace(/\.$/,"."+qo(s[1])),i=i.replace(/\.(\d*)$/,function(I,C){return"."+C+js("0",qo(s[1]).length-C.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return d+(""+f).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return d+Uh(""+f);if(s=e.match(/^#,##0\.([#0]*0)$/))return t<0?"-"+Yc(n,e,-t):Uh(""+t)+"."+js("0",s[1].length);if(s=e.match(/^#,#*,#0/))return Yc(n,e.replace(/^#,#*,/,""),t);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=_0(Yc(n,e.replace(/[\\-]/g,""),t)),o=0,_0(_0(e.replace(/\\/g,"")).replace(/[0#]/g,function(I){return o<i.length?i.charAt(o++):I==="0"?"0":""}));if(e.match(HR))return i=Yc(n,"##########",t),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var x="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(s[4].length,7),u=y2(f,Math.pow(10,o)-1,!1),i=""+d,x=Hu("n",s[1],u[1]),x.charAt(x.length-1)==" "&&(x=x.substr(0,x.length-1)+"0"),i+=x+s[2]+"/"+s[3],x=v2(u[2],o),x.length<s[4].length&&(x=qo(s[4].substr(s[4].length-x.length))+x),i+=x,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(s[1].length,s[4].length),7),u=y2(f,Math.pow(10,o)-1,!0),d+(u[0]||(u[1]?"":"0"))+" "+(u[1]?B5(u[1],o)+s[2]+"/"+s[3]+v2(u[2],o):js(" ",2*o+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=""+t,e.length<=i.length?i:qo(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0]+)\.([#0]+)$/)){i=""+t.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),o=i.indexOf(".");var w=e.indexOf(".")-o,A=e.length-i.length-w;return qo(e.substr(0,w)+i+e.substr(e.length-A))}if(s=e.match(/^00,000\.([#0]*0)$/))return t<0?"-"+Yc(n,e,-t):Uh(""+t).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(I){return"00,"+(I.length<3?wc(0,3-I.length):"")+I})+"."+wc(0,s[1].length);switch(e){case"###,###":case"##,###":case"#,###":var E=Uh(""+f);return E!=="0"?d+E:"";default:if(e.match(/\.[0#?]*$/))return Yc(n,e.slice(0,e.lastIndexOf(".")),t)+qo(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function Hu(n,e,t){return(t|0)===t?Yc(n,e,t):Xl(n,e,t)}function fQ(n){for(var e=[],t=!1,r=0,i=0;r<n.length;++r)switch(n.charCodeAt(r)){case 34:t=!t;break;case 95:case 42:case 92:++r;break;case 59:e[e.length]=n.substr(i,r-i),i=r+1}if(e[e.length]=n.substr(i),t===!0)throw new Error("Format |"+n+"| unterminated string ");return e}var GR=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function WR(n){for(var e=0,t="",r="";e<n.length;)switch(t=n.charAt(e)){case"G":_2(n,e)&&(e+=6),e++;break;case'"':for(;n.charCodeAt(++e)!==34&&e<n.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(n.charAt(e+1)==="1"||n.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(n.substr(e,3).toUpperCase()==="A/P"||n.substr(e,5).toUpperCase()==="AM/PM"||n.substr(e,5).toUpperCase()==="/")return!0;++e;break;case"[":for(r=t;n.charAt(e++)!=="]"&&e<n.length;)r+=n.charAt(e);if(r.match(GR))return!0;break;case".":case"0":case"#":for(;e<n.length&&("0#?.,E+-%".indexOf(t=n.charAt(++e))>-1||t=="\\"&&n.charAt(e+1)=="-"&&"0#".indexOf(n.charAt(e+2))>-1););break;case"?":for(;n.charAt(++e)===t;);break;case"*":++e,(n.charAt(e)==" "||n.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<n.length&&"0123456789".indexOf(n.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function dQ(n,e,t,r){for(var i=[],s="",o=0,u="",f="t",d,x,w,A="H";o<n.length;)switch(u=n.charAt(o)){case"G":if(!_2(n,o))throw new Error("unrecognized character "+u+" in "+n);i[i.length]={t:"G",v:"General"},o+=7;break;case'"':for(s="";(w=n.charCodeAt(++o))!==34&&o<n.length;)s+=String.fromCharCode(w);i[i.length]={t:"t",v:s},++o;break;case"\\":var E=n.charAt(++o),I=E==="("||E===")"?E:"t";i[i.length]={t:I,v:E},++o;break;case"_":i[i.length]={t:"t",v:" "},o+=2;break;case"@":i[i.length]={t:"T",v:e},++o;break;case"B":case"b":if(n.charAt(o+1)==="1"||n.charAt(o+1)==="2"){if(d==null&&(d=dp(e,t,n.charAt(o+1)==="2"),d==null))return"";i[i.length]={t:"X",v:n.substr(o,2)},f=u,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":u=u.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||d==null&&(d=dp(e,t),d==null))return"";for(s=u;++o<n.length&&n.charAt(o).toLowerCase()===u;)s+=u;u==="m"&&f.toLowerCase()==="h"&&(u="M"),u==="h"&&(u=A),i[i.length]={t:u,v:s},f=u;break;case"A":case"a":case"":var C={t:u,v:u};if(d==null&&(d=dp(e,t)),n.substr(o,3).toUpperCase()==="A/P"?(d!=null&&(C.v=d.H>=12?"P":"A"),C.t="T",A="h",o+=3):n.substr(o,5).toUpperCase()==="AM/PM"?(d!=null&&(C.v=d.H>=12?"PM":"AM"),C.t="T",o+=5,A="h"):n.substr(o,5).toUpperCase()==="/"?(d!=null&&(C.v=d.H>=12?"":""),C.t="T",o+=5,A="h"):(C.t="t",++o),d==null&&C.t==="T")return"";i[i.length]=C,f=u;break;case"[":for(s=u;n.charAt(o++)!=="]"&&o<n.length;)s+=n.charAt(o);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(GR)){if(d==null&&(d=dp(e,t),d==null))return"";i[i.length]={t:"Z",v:s.toLowerCase()},f=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",WR(n)||(i[i.length]={t:"t",v:s}));break;case".":if(d!=null){for(s=u;++o<n.length&&(u=n.charAt(o))==="0";)s+=u;i[i.length]={t:"s",v:s};break}case"0":case"#":for(s=u;++o<n.length&&"0#?.,E+-%".indexOf(u=n.charAt(o))>-1;)s+=u;i[i.length]={t:"n",v:s};break;case"?":for(s=u;n.charAt(++o)===u;)s+=u;i[i.length]={t:u,v:s},f=u;break;case"*":++o,(n.charAt(o)==" "||n.charAt(o)=="*")&&++o;break;case"(":case")":i[i.length]={t:r===1?"t":u,v:u},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=u;o<n.length&&"0123456789".indexOf(n.charAt(++o))>-1;)s+=n.charAt(o);i[i.length]={t:"D",v:s};break;case" ":i[i.length]={t:u,v:u},++o;break;case"$":i[i.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(u)===-1)throw new Error("unrecognized character "+u+" in "+n);i[i.length]={t:"t",v:u},++o;break}var M=0,j=0,W;for(o=i.length-1,f="t";o>=0;--o)switch(i[o].t){case"h":case"H":i[o].t=A,f="h",M<1&&(M=1);break;case"s":(W=i[o].v.match(/\.0+$/))&&(j=Math.max(j,W[0].length-1)),M<3&&(M=3);case"d":case"y":case"M":case"e":f=i[o].t;break;case"m":f==="s"&&(i[o].t="M",M<2&&(M=2));break;case"X":break;case"Z":M<1&&i[o].v.match(/[Hh]/)&&(M=1),M<2&&i[o].v.match(/[Mm]/)&&(M=2),M<3&&i[o].v.match(/[Ss]/)&&(M=3)}switch(M){case 0:break;case 1:d.u>=.5&&(d.u=0,++d.S),d.S>=60&&(d.S=0,++d.M),d.M>=60&&(d.M=0,++d.H);break;case 2:d.u>=.5&&(d.u=0,++d.S),d.S>=60&&(d.S=0,++d.M);break}var k="",G;for(o=0;o<i.length;++o)switch(i[o].t){case"t":case"T":case" ":case"D":break;case"X":i[o].v="",i[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[o].v=rQ(i[o].t.charCodeAt(0),i[o].v,d,j),i[o].t="t";break;case"n":case"?":for(G=o+1;i[G]!=null&&((u=i[G].t)==="?"||u==="D"||(u===" "||u==="t")&&i[G+1]!=null&&(i[G+1].t==="?"||i[G+1].t==="t"&&i[G+1].v==="/")||i[o].t==="("&&(u===" "||u==="n"||u===")")||u==="t"&&(i[G].v==="/"||i[G].v===" "&&i[G+1]!=null&&i[G+1].t=="?"));)i[o].v+=i[G].v,i[G]={v:"",t:";"},++G;k+=i[o].v,o=G-1;break;case"G":i[o].t="t",i[o].v=iw(e,t);break}var ce="",re,F;if(k.length>0){k.charCodeAt(0)==40?(re=e<0&&k.charCodeAt(0)===45?-e:e,F=Hu("n",k,re)):(re=e<0&&r>1?-e:e,F=Hu("n",k,re),re<0&&i[0]&&i[0].t=="t"&&(F=F.substr(1),i[0].v="-"+i[0].v)),G=F.length-1;var B=i.length;for(o=0;o<i.length;++o)if(i[o]!=null&&i[o].t!="t"&&i[o].v.indexOf(".")>-1){B=o;break}var L=i.length;if(B===i.length&&F.indexOf("E")===-1){for(o=i.length-1;o>=0;--o)i[o]==null||"n?".indexOf(i[o].t)===-1||(G>=i[o].v.length-1?(G-=i[o].v.length,i[o].v=F.substr(G+1,i[o].v.length)):G<0?i[o].v="":(i[o].v=F.substr(0,G+1),G=-1),i[o].t="t",L=o);G>=0&&L<i.length&&(i[L].v=F.substr(0,G+1)+i[L].v)}else if(B!==i.length&&F.indexOf("E")===-1){for(G=F.indexOf(".")-1,o=B;o>=0;--o)if(!(i[o]==null||"n?".indexOf(i[o].t)===-1)){for(x=i[o].v.indexOf(".")>-1&&o===B?i[o].v.indexOf(".")-1:i[o].v.length-1,ce=i[o].v.substr(x+1);x>=0;--x)G>=0&&(i[o].v.charAt(x)==="0"||i[o].v.charAt(x)==="#")&&(ce=F.charAt(G--)+ce);i[o].v=ce,i[o].t="t",L=o}for(G>=0&&L<i.length&&(i[L].v=F.substr(0,G+1)+i[L].v),G=F.indexOf(".")+1,o=B;o<i.length;++o)if(!(i[o]==null||"n?(".indexOf(i[o].t)===-1&&o!==B)){for(x=i[o].v.indexOf(".")>-1&&o===B?i[o].v.indexOf(".")+1:0,ce=i[o].v.substr(0,x);x<i[o].v.length;++x)G<F.length&&(ce+=F.charAt(G++));i[o].v=ce,i[o].t="t",L=o}}}for(o=0;o<i.length;++o)i[o]!=null&&"n?".indexOf(i[o].t)>-1&&(re=r>1&&e<0&&o>0&&i[o-1].v==="-"?-e:e,i[o].v=Hu(i[o].t,i[o].v,re),i[o].t="t");var Q="";for(o=0;o!==i.length;++o)i[o]!=null&&(Q+=i[o].v);return Q}var rN=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function iN(n,e){if(e==null)return!1;var t=parseFloat(e[2]);switch(e[1]){case"=":if(n==t)return!0;break;case">":if(n>t)return!0;break;case"<":if(n<t)return!0;break;case"<>":if(n!=t)return!0;break;case">=":if(n>=t)return!0;break;case"<=":if(n<=t)return!0;break}return!1}function mQ(n,e){var t=fQ(n),r=t.length,i=t[r-1].indexOf("@");if(r<4&&i>-1&&--r,t.length>4)throw new Error("cannot find right format for |"+t.join("|")+"|");if(typeof e!="number")return[4,t.length===4||i>-1?t[t.length-1]:"@"];switch(t.length){case 1:t=i>-1?["General","General","General",t[0]]:[t[0],t[0],t[0],"@"];break;case 2:t=i>-1?[t[0],t[0],t[0],t[1]]:[t[0],t[1],t[0],"@"];break;case 3:t=i>-1?[t[0],t[1],t[0],t[2]]:[t[0],t[1],t[2],"@"];break}var s=e>0?t[0]:e<0?t[1]:t[2];if(t[0].indexOf("[")===-1&&t[1].indexOf("[")===-1)return[r,s];if(t[0].match(/\[[=<>]/)!=null||t[1].match(/\[[=<>]/)!=null){var o=t[0].match(rN),u=t[1].match(rN);return iN(e,o)?[r,t[0]]:iN(e,u)?[r,t[1]]:[r,t[o!=null&&u!=null?2:1]]}return[r,s]}function ef(n,e,t){t==null&&(t={});var r="";switch(typeof n){case"string":n=="m/d/yy"&&t.dateNF?r=t.dateNF:r=n;break;case"number":n==14&&t.dateNF?r=t.dateNF:r=(t.table!=null?t.table:Fs)[n],r==null&&(r=t.table&&t.table[eN[n]]||Fs[eN[n]]),r==null&&(r=KK[n]||"General");break}if(_2(r,0))return iw(e,t);e instanceof Date&&(e=jR(e,t.date1904));var i=mQ(r,e);if(_2(i[1]))return iw(e,t);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return dQ(i[1],e,t,i[0])}function YR(n,e){if(typeof e!="number"){e=+e||-1;for(var t=0;t<392;++t){if(Fs[t]==null){e<0&&(e=t);continue}if(Fs[t]==n){e=t;break}}e<0&&(e=391)}return Fs[e]=n,e}function mx(n){for(var e=0;e!=392;++e)n[e]!==void 0&&YR(n[e],e)}function gx(){Fs=XK()}var XR=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function gQ(n){var e=typeof n=="number"?Fs[n]:n;return e=e.replace(XR,"(\\d+)"),new RegExp("^"+e+"$")}function pQ(n,e,t){var r=-1,i=-1,s=-1,o=-1,u=-1,f=-1;(e.match(XR)||[]).forEach(function(w,A){var E=parseInt(t[A+1],10);switch(w.toLowerCase().charAt(0)){case"y":r=E;break;case"d":s=E;break;case"h":o=E;break;case"s":f=E;break;case"m":o>=0?u=E:i=E;break}}),f>=0&&u==-1&&i>=0&&(u=i,i=-1);var d=(""+(r>=0?r:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);d.length==7&&(d="0"+d),d.length==8&&(d="20"+d);var x=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(u>=0?u:0)).slice(-2)+":"+("00"+(f>=0?f:0)).slice(-2);return o==-1&&u==-1&&f==-1?d:r==-1&&i==-1&&s==-1?x:d+"T"+x}var xQ=(function(){var n={};n.version="1.2.0";function e(){for(var F=0,B=new Array(256),L=0;L!=256;++L)F=L,F=F&1?-306674912^F>>>1:F>>>1,F=F&1?-306674912^F>>>1:F>>>1,F=F&1?-306674912^F>>>1:F>>>1,F=F&1?-306674912^F>>>1:F>>>1,F=F&1?-306674912^F>>>1:F>>>1,F=F&1?-306674912^F>>>1:F>>>1,F=F&1?-306674912^F>>>1:F>>>1,F=F&1?-306674912^F>>>1:F>>>1,B[L]=F;return typeof Int32Array<"u"?new Int32Array(B):B}var t=e();function r(F){var B=0,L=0,Q=0,U=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(Q=0;Q!=256;++Q)U[Q]=F[Q];for(Q=0;Q!=256;++Q)for(L=F[Q],B=256+Q;B<4096;B+=256)L=U[B]=L>>>8^F[L&255];var q=[];for(Q=1;Q!=16;++Q)q[Q-1]=typeof Int32Array<"u"?U.subarray(Q*256,Q*256+256):U.slice(Q*256,Q*256+256);return q}var i=r(t),s=i[0],o=i[1],u=i[2],f=i[3],d=i[4],x=i[5],w=i[6],A=i[7],E=i[8],I=i[9],C=i[10],M=i[11],j=i[12],W=i[13],k=i[14];function G(F,B){for(var L=B^-1,Q=0,U=F.length;Q<U;)L=L>>>8^t[(L^F.charCodeAt(Q++))&255];return~L}function ce(F,B){for(var L=B^-1,Q=F.length-15,U=0;U<Q;)L=k[F[U++]^L&255]^W[F[U++]^L>>8&255]^j[F[U++]^L>>16&255]^M[F[U++]^L>>>24]^C[F[U++]]^I[F[U++]]^E[F[U++]]^A[F[U++]]^w[F[U++]]^x[F[U++]]^d[F[U++]]^f[F[U++]]^u[F[U++]]^o[F[U++]]^s[F[U++]]^t[F[U++]];for(Q+=15;U<Q;)L=L>>>8^t[(L^F[U++])&255];return~L}function re(F,B){for(var L=B^-1,Q=0,U=F.length,q=0,Y=0;Q<U;)q=F.charCodeAt(Q++),q<128?L=L>>>8^t[(L^q)&255]:q<2048?(L=L>>>8^t[(L^(192|q>>6&31))&255],L=L>>>8^t[(L^(128|q&63))&255]):q>=55296&&q<57344?(q=(q&1023)+64,Y=F.charCodeAt(Q++)&1023,L=L>>>8^t[(L^(240|q>>8&7))&255],L=L>>>8^t[(L^(128|q>>2&63))&255],L=L>>>8^t[(L^(128|Y>>6&15|(q&3)<<4))&255],L=L>>>8^t[(L^(128|Y&63))&255]):(L=L>>>8^t[(L^(224|q>>12&15))&255],L=L>>>8^t[(L^(128|q>>6&63))&255],L=L>>>8^t[(L^(128|q&63))&255]);return~L}return n.table=t,n.bstr=G,n.buf=ce,n.str=re,n})(),Fi=(function(){var e={};e.version="1.2.1";function t(ge,be){for(var Te=ge.split("/"),Ce=be.split("/"),Oe=0,ke=0,it=Math.min(Te.length,Ce.length);Oe<it;++Oe){if(ke=Te[Oe].length-Ce[Oe].length)return ke;if(Te[Oe]!=Ce[Oe])return Te[Oe]<Ce[Oe]?-1:1}return Te.length-Ce.length}function r(ge){if(ge.charAt(ge.length-1)=="/")return ge.slice(0,-1).indexOf("/")===-1?ge:r(ge.slice(0,-1));var be=ge.lastIndexOf("/");return be===-1?ge:ge.slice(0,be+1)}function i(ge){if(ge.charAt(ge.length-1)=="/")return i(ge.slice(0,-1));var be=ge.lastIndexOf("/");return be===-1?ge:ge.slice(be+1)}function s(ge,be){typeof be=="string"&&(be=new Date(be));var Te=be.getHours();Te=Te<<6|be.getMinutes(),Te=Te<<5|be.getSeconds()>>>1,ge.write_shift(2,Te);var Ce=be.getFullYear()-1980;Ce=Ce<<4|be.getMonth()+1,Ce=Ce<<5|be.getDate(),ge.write_shift(2,Ce)}function o(ge){var be=ge.read_shift(2)&65535,Te=ge.read_shift(2)&65535,Ce=new Date,Oe=Te&31;Te>>>=5;var ke=Te&15;Te>>>=4,Ce.setMilliseconds(0),Ce.setFullYear(Te+1980),Ce.setMonth(ke-1),Ce.setDate(Oe);var it=be&31;be>>>=5;var Et=be&63;return be>>>=6,Ce.setHours(be),Ce.setMinutes(Et),Ce.setSeconds(it<<1),Ce}function u(ge){Il(ge,0);for(var be={},Te=0;ge.l<=ge.length-4;){var Ce=ge.read_shift(2),Oe=ge.read_shift(2),ke=ge.l+Oe,it={};switch(Ce){case 21589:Te=ge.read_shift(1),Te&1&&(it.mtime=ge.read_shift(4)),Oe>5&&(Te&2&&(it.atime=ge.read_shift(4)),Te&4&&(it.ctime=ge.read_shift(4))),it.mtime&&(it.mt=new Date(it.mtime*1e3));break}ge.l=ke,be[Ce]=it}return be}var f;function d(){return f||(f={})}function x(ge,be){if(ge[0]==80&&ge[1]==75)return Xt(ge,be);if((ge[0]|32)==109&&(ge[1]|32)==105)return On(ge,be);if(ge.length<512)throw new Error("CFB file size "+ge.length+" < 512");var Te=3,Ce=512,Oe=0,ke=0,it=0,Et=0,et=0,lt=[],ht=ge.slice(0,512);Il(ht,0);var Ht=w(ht);switch(Te=Ht[0],Te){case 3:Ce=512;break;case 4:Ce=4096;break;case 0:if(Ht[1]==0)return Xt(ge,be);default:throw new Error("Major Version: Expected 3 or 4 saw "+Te)}Ce!==512&&(ht=ge.slice(0,Ce),Il(ht,28));var Ot=ge.slice(0,Ce);A(ht,Te);var Lt=ht.read_shift(4,"i");if(Te===3&&Lt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Lt);ht.l+=4,it=ht.read_shift(4,"i"),ht.l+=4,ht.chk("00100000","Mini Stream Cutoff Size: "),Et=ht.read_shift(4,"i"),Oe=ht.read_shift(4,"i"),et=ht.read_shift(4,"i"),ke=ht.read_shift(4,"i");for(var yt=-1,en=0;en<109&&(yt=ht.read_shift(4,"i"),!(yt<0));++en)lt[en]=yt;var Tn=E(ge,Ce);M(et,ke,Tn,Ce,lt);var Nt=W(Tn,it,lt,Ce);Nt[it].name="!Directory",Oe>0&&Et!==Y&&(Nt[Et].name="!MiniFAT"),Nt[lt[0]].name="!FAT",Nt.fat_addrs=lt,Nt.ssz=Ce;var vr={},Kn=[],Ii=[],xa=[];k(it,Nt,Tn,Kn,Oe,vr,Ii,Et),I(Ii,xa,Kn),Kn.shift();var fr={FileIndex:Ii,FullPaths:xa};return be&&be.raw&&(fr.raw={header:Ot,sectors:Tn}),fr}function w(ge){if(ge[ge.l]==80&&ge[ge.l+1]==75)return[0,0];ge.chk(ne,"Header Signature: "),ge.l+=16;var be=ge.read_shift(2,"u");return[ge.read_shift(2,"u"),be]}function A(ge,be){var Te=9;switch(ge.l+=2,Te=ge.read_shift(2)){case 9:if(be!=3)throw new Error("Sector Shift: Expected 9 saw "+Te);break;case 12:if(be!=4)throw new Error("Sector Shift: Expected 12 saw "+Te);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+Te)}ge.chk("0600","Mini Sector Shift: "),ge.chk("000000000000","Reserved: ")}function E(ge,be){for(var Te=Math.ceil(ge.length/be)-1,Ce=[],Oe=1;Oe<Te;++Oe)Ce[Oe-1]=ge.slice(Oe*be,(Oe+1)*be);return Ce[Te-1]=ge.slice(Te*be),Ce}function I(ge,be,Te){for(var Ce=0,Oe=0,ke=0,it=0,Et=0,et=Te.length,lt=[],ht=[];Ce<et;++Ce)lt[Ce]=ht[Ce]=Ce,be[Ce]=Te[Ce];for(;Et<ht.length;++Et)Ce=ht[Et],Oe=ge[Ce].L,ke=ge[Ce].R,it=ge[Ce].C,lt[Ce]===Ce&&(Oe!==-1&&lt[Oe]!==Oe&&(lt[Ce]=lt[Oe]),ke!==-1&&lt[ke]!==ke&&(lt[Ce]=lt[ke])),it!==-1&&(lt[it]=Ce),Oe!==-1&&Ce!=lt[Ce]&&(lt[Oe]=lt[Ce],ht.lastIndexOf(Oe)<Et&&ht.push(Oe)),ke!==-1&&Ce!=lt[Ce]&&(lt[ke]=lt[Ce],ht.lastIndexOf(ke)<Et&&ht.push(ke));for(Ce=1;Ce<et;++Ce)lt[Ce]===Ce&&(ke!==-1&&lt[ke]!==ke?lt[Ce]=lt[ke]:Oe!==-1&&lt[Oe]!==Oe&&(lt[Ce]=lt[Oe]));for(Ce=1;Ce<et;++Ce)if(ge[Ce].type!==0){if(Et=Ce,Et!=lt[Et])do Et=lt[Et],be[Ce]=be[Et]+"/"+be[Ce];while(Et!==0&&lt[Et]!==-1&&Et!=lt[Et]);lt[Ce]=-1}for(be[0]+="/",Ce=1;Ce<et;++Ce)ge[Ce].type!==2&&(be[Ce]+="/")}function C(ge,be,Te){for(var Ce=ge.start,Oe=ge.size,ke=[],it=Ce;Te&&Oe>0&&it>=0;)ke.push(be.slice(it*q,it*q+q)),Oe-=q,it=Cf(Te,it*4);return ke.length===0?jt(0):mo(ke).slice(0,ge.size)}function M(ge,be,Te,Ce,Oe){var ke=Y;if(ge===Y){if(be!==0)throw new Error("DIFAT chain shorter than expected")}else if(ge!==-1){var it=Te[ge],Et=(Ce>>>2)-1;if(!it)return;for(var et=0;et<Et&&(ke=Cf(it,et*4))!==Y;++et)Oe.push(ke);M(Cf(it,Ce-4),be-1,Te,Ce,Oe)}}function j(ge,be,Te,Ce,Oe){var ke=[],it=[];Oe||(Oe=[]);var Et=Ce-1,et=0,lt=0;for(et=be;et>=0;){Oe[et]=!0,ke[ke.length]=et,it.push(ge[et]);var ht=Te[Math.floor(et*4/Ce)];if(lt=et*4&Et,Ce<4+lt)throw new Error("FAT boundary crossed: "+et+" 4 "+Ce);if(!ge[ht])break;et=Cf(ge[ht],lt)}return{nodes:ke,data:fN([it])}}function W(ge,be,Te,Ce){var Oe=ge.length,ke=[],it=[],Et=[],et=[],lt=Ce-1,ht=0,Ht=0,Ot=0,Lt=0;for(ht=0;ht<Oe;++ht)if(Et=[],Ot=ht+be,Ot>=Oe&&(Ot-=Oe),!it[Ot]){et=[];var yt=[];for(Ht=Ot;Ht>=0;){yt[Ht]=!0,it[Ht]=!0,Et[Et.length]=Ht,et.push(ge[Ht]);var en=Te[Math.floor(Ht*4/Ce)];if(Lt=Ht*4&lt,Ce<4+Lt)throw new Error("FAT boundary crossed: "+Ht+" 4 "+Ce);if(!ge[en]||(Ht=Cf(ge[en],Lt),yt[Ht]))break}ke[Ot]={nodes:Et,data:fN([et])}}return ke}function k(ge,be,Te,Ce,Oe,ke,it,Et){for(var et=0,lt=Ce.length?2:0,ht=be[ge].data,Ht=0,Ot=0,Lt;Ht<ht.length;Ht+=128){var yt=ht.slice(Ht,Ht+128);Il(yt,64),Ot=yt.read_shift(2),Lt=G5(yt,0,Ot-lt),Ce.push(Lt);var en={name:Lt,type:yt.read_shift(1),color:yt.read_shift(1),L:yt.read_shift(4,"i"),R:yt.read_shift(4,"i"),C:yt.read_shift(4,"i"),clsid:yt.read_shift(16),state:yt.read_shift(4,"i"),start:0,size:0},Tn=yt.read_shift(2)+yt.read_shift(2)+yt.read_shift(2)+yt.read_shift(2);Tn!==0&&(en.ct=G(yt,yt.l-8));var Nt=yt.read_shift(2)+yt.read_shift(2)+yt.read_shift(2)+yt.read_shift(2);Nt!==0&&(en.mt=G(yt,yt.l-8)),en.start=yt.read_shift(4,"i"),en.size=yt.read_shift(4,"i"),en.size<0&&en.start<0&&(en.size=en.type=0,en.start=Y,en.name=""),en.type===5?(et=en.start,Oe>0&&et!==Y&&(be[et].name="!StreamData")):en.size>=4096?(en.storage="fat",be[en.start]===void 0&&(be[en.start]=j(Te,en.start,be.fat_addrs,be.ssz)),be[en.start].name=en.name,en.content=be[en.start].data.slice(0,en.size)):(en.storage="minifat",en.size<0?en.size=0:et!==Y&&en.start!==Y&&be[et]&&(en.content=C(en,be[et].data,(be[Et]||{}).data))),en.content&&Il(en.content,0),ke[Lt]=en,it.push(en)}}function G(ge,be){return new Date((Ol(ge,be+4)/1e7*Math.pow(2,32)+Ol(ge,be)/1e7-11644473600)*1e3)}function ce(ge,be){return d(),x(f.readFileSync(ge),be)}function re(ge,be){var Te=be&&be.type;switch(Te||gi&&Buffer.isBuffer(ge)&&(Te="buffer"),Te||"base64"){case"file":return ce(ge,be);case"base64":return x(vc(Zu(ge)),be);case"binary":return x(vc(ge),be)}return x(ge,be)}function F(ge,be){var Te=be||{},Ce=Te.root||"Root Entry";if(ge.FullPaths||(ge.FullPaths=[]),ge.FileIndex||(ge.FileIndex=[]),ge.FullPaths.length!==ge.FileIndex.length)throw new Error("inconsistent CFB structure");ge.FullPaths.length===0&&(ge.FullPaths[0]=Ce+"/",ge.FileIndex[0]={name:Ce,type:5}),Te.CLSID&&(ge.FileIndex[0].clsid=Te.CLSID),B(ge)}function B(ge){var be="Sh33tJ5";if(!Fi.find(ge,"/"+be)){var Te=jt(4);Te[0]=55,Te[1]=Te[3]=50,Te[2]=54,ge.FileIndex.push({name:be,type:2,content:Te,size:4,L:69,R:69,C:69}),ge.FullPaths.push(ge.FullPaths[0]+be),L(ge)}}function L(ge,be){F(ge);for(var Te=!1,Ce=!1,Oe=ge.FullPaths.length-1;Oe>=0;--Oe){var ke=ge.FileIndex[Oe];switch(ke.type){case 0:Ce?Te=!0:(ge.FileIndex.pop(),ge.FullPaths.pop());break;case 1:case 2:case 5:Ce=!0,isNaN(ke.R*ke.L*ke.C)&&(Te=!0),ke.R>-1&&ke.L>-1&&ke.R==ke.L&&(Te=!0);break;default:Te=!0;break}}if(!(!Te&&!be)){var it=new Date(1987,1,19),Et=0,et=Object.create?Object.create(null):{},lt=[];for(Oe=0;Oe<ge.FullPaths.length;++Oe)et[ge.FullPaths[Oe]]=!0,ge.FileIndex[Oe].type!==0&&lt.push([ge.FullPaths[Oe],ge.FileIndex[Oe]]);for(Oe=0;Oe<lt.length;++Oe){var ht=r(lt[Oe][0]);Ce=et[ht],Ce||(lt.push([ht,{name:i(ht).replace("/",""),type:1,clsid:Ae,ct:it,mt:it,content:null}]),et[ht]=!0)}for(lt.sort(function(Lt,yt){return t(Lt[0],yt[0])}),ge.FullPaths=[],ge.FileIndex=[],Oe=0;Oe<lt.length;++Oe)ge.FullPaths[Oe]=lt[Oe][0],ge.FileIndex[Oe]=lt[Oe][1];for(Oe=0;Oe<lt.length;++Oe){var Ht=ge.FileIndex[Oe],Ot=ge.FullPaths[Oe];if(Ht.name=i(Ot).replace("/",""),Ht.L=Ht.R=Ht.C=-(Ht.color=1),Ht.size=Ht.content?Ht.content.length:0,Ht.start=0,Ht.clsid=Ht.clsid||Ae,Oe===0)Ht.C=lt.length>1?1:-1,Ht.size=0,Ht.type=5;else if(Ot.slice(-1)=="/"){for(Et=Oe+1;Et<lt.length&&r(ge.FullPaths[Et])!=Ot;++Et);for(Ht.C=Et>=lt.length?-1:Et,Et=Oe+1;Et<lt.length&&r(ge.FullPaths[Et])!=r(Ot);++Et);Ht.R=Et>=lt.length?-1:Et,Ht.type=1}else r(ge.FullPaths[Oe+1]||"")==r(Ot)&&(Ht.R=Oe+1),Ht.type=2}}}function Q(ge,be){var Te=be||{};if(Te.fileType=="mad")return Ci(ge,Te);switch(L(ge),Te.fileType){case"zip":return hn(ge,Te)}var Ce=(function(Lt){for(var yt=0,en=0,Tn=0;Tn<Lt.FileIndex.length;++Tn){var Nt=Lt.FileIndex[Tn];if(Nt.content){var vr=Nt.content.length;vr>0&&(vr<4096?yt+=vr+63>>6:en+=vr+511>>9)}}for(var Kn=Lt.FullPaths.length+3>>2,Ii=yt+7>>3,xa=yt+127>>7,fr=Ii+en+Kn+xa,or=fr+127>>7,cr=or<=109?0:Math.ceil((or-109)/127);fr+or+cr+127>>7>or;)cr=++or<=109?0:Math.ceil((or-109)/127);var ci=[1,cr,or,xa,Kn,en,yt,0];return Lt.FileIndex[0].size=yt<<6,ci[7]=(Lt.FileIndex[0].start=ci[0]+ci[1]+ci[2]+ci[3]+ci[4]+ci[5])+(ci[6]+7>>3),ci})(ge),Oe=jt(Ce[7]<<9),ke=0,it=0;{for(ke=0;ke<8;++ke)Oe.write_shift(1,pe[ke]);for(ke=0;ke<8;++ke)Oe.write_shift(2,0);for(Oe.write_shift(2,62),Oe.write_shift(2,3),Oe.write_shift(2,65534),Oe.write_shift(2,9),Oe.write_shift(2,6),ke=0;ke<3;++ke)Oe.write_shift(2,0);for(Oe.write_shift(4,0),Oe.write_shift(4,Ce[2]),Oe.write_shift(4,Ce[0]+Ce[1]+Ce[2]+Ce[3]-1),Oe.write_shift(4,0),Oe.write_shift(4,4096),Oe.write_shift(4,Ce[3]?Ce[0]+Ce[1]+Ce[2]-1:Y),Oe.write_shift(4,Ce[3]),Oe.write_shift(-4,Ce[1]?Ce[0]-1:Y),Oe.write_shift(4,Ce[1]),ke=0;ke<109;++ke)Oe.write_shift(-4,ke<Ce[2]?Ce[1]+ke:-1)}if(Ce[1])for(it=0;it<Ce[1];++it){for(;ke<236+it*127;++ke)Oe.write_shift(-4,ke<Ce[2]?Ce[1]+ke:-1);Oe.write_shift(-4,it===Ce[1]-1?Y:it+1)}var Et=function(Lt){for(it+=Lt;ke<it-1;++ke)Oe.write_shift(-4,ke+1);Lt&&(++ke,Oe.write_shift(-4,Y))};for(it=ke=0,it+=Ce[1];ke<it;++ke)Oe.write_shift(-4,ve.DIFSECT);for(it+=Ce[2];ke<it;++ke)Oe.write_shift(-4,ve.FATSECT);Et(Ce[3]),Et(Ce[4]);for(var et=0,lt=0,ht=ge.FileIndex[0];et<ge.FileIndex.length;++et)ht=ge.FileIndex[et],ht.content&&(lt=ht.content.length,!(lt<4096)&&(ht.start=it,Et(lt+511>>9)));for(Et(Ce[6]+7>>3);Oe.l&511;)Oe.write_shift(-4,ve.ENDOFCHAIN);for(it=ke=0,et=0;et<ge.FileIndex.length;++et)ht=ge.FileIndex[et],ht.content&&(lt=ht.content.length,!(!lt||lt>=4096)&&(ht.start=it,Et(lt+63>>6)));for(;Oe.l&511;)Oe.write_shift(-4,ve.ENDOFCHAIN);for(ke=0;ke<Ce[4]<<2;++ke){var Ht=ge.FullPaths[ke];if(!Ht||Ht.length===0){for(et=0;et<17;++et)Oe.write_shift(4,0);for(et=0;et<3;++et)Oe.write_shift(4,-1);for(et=0;et<12;++et)Oe.write_shift(4,0);continue}ht=ge.FileIndex[ke],ke===0&&(ht.start=ht.size?ht.start-1:Y);var Ot=ke===0&&Te.root||ht.name;if(lt=2*(Ot.length+1),Oe.write_shift(64,Ot,"utf16le"),Oe.write_shift(2,lt),Oe.write_shift(1,ht.type),Oe.write_shift(1,ht.color),Oe.write_shift(-4,ht.L),Oe.write_shift(-4,ht.R),Oe.write_shift(-4,ht.C),ht.clsid)Oe.write_shift(16,ht.clsid,"hex");else for(et=0;et<4;++et)Oe.write_shift(4,0);Oe.write_shift(4,ht.state||0),Oe.write_shift(4,0),Oe.write_shift(4,0),Oe.write_shift(4,0),Oe.write_shift(4,0),Oe.write_shift(4,ht.start),Oe.write_shift(4,ht.size),Oe.write_shift(4,0)}for(ke=1;ke<ge.FileIndex.length;++ke)if(ht=ge.FileIndex[ke],ht.size>=4096)if(Oe.l=ht.start+1<<9,gi&&Buffer.isBuffer(ht.content))ht.content.copy(Oe,Oe.l,0,ht.size),Oe.l+=ht.size+511&-512;else{for(et=0;et<ht.size;++et)Oe.write_shift(1,ht.content[et]);for(;et&511;++et)Oe.write_shift(1,0)}for(ke=1;ke<ge.FileIndex.length;++ke)if(ht=ge.FileIndex[ke],ht.size>0&&ht.size<4096)if(gi&&Buffer.isBuffer(ht.content))ht.content.copy(Oe,Oe.l,0,ht.size),Oe.l+=ht.size+63&-64;else{for(et=0;et<ht.size;++et)Oe.write_shift(1,ht.content[et]);for(;et&63;++et)Oe.write_shift(1,0)}if(gi)Oe.l=Oe.length;else for(;Oe.l<Oe.length;)Oe.write_shift(1,0);return Oe}function U(ge,be){var Te=ge.FullPaths.map(function(et){return et.toUpperCase()}),Ce=Te.map(function(et){var lt=et.split("/");return lt[lt.length-(et.slice(-1)=="/"?2:1)]}),Oe=!1;be.charCodeAt(0)===47?(Oe=!0,be=Te[0].slice(0,-1)+be):Oe=be.indexOf("/")!==-1;var ke=be.toUpperCase(),it=Oe===!0?Te.indexOf(ke):Ce.indexOf(ke);if(it!==-1)return ge.FileIndex[it];var Et=!ke.match(fp);for(ke=ke.replace(em,""),Et&&(ke=ke.replace(fp,"!")),it=0;it<Te.length;++it)if((Et?Te[it].replace(fp,"!"):Te[it]).replace(em,"")==ke||(Et?Ce[it].replace(fp,"!"):Ce[it]).replace(em,"")==ke)return ge.FileIndex[it];return null}var q=64,Y=-2,ne="d0cf11e0a1b11ae1",pe=[208,207,17,224,161,177,26,225],Ae="00000000000000000000000000000000",ve={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:Y,FREESECT:-1,HEADER_SIGNATURE:ne,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:Ae,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function Re(ge,be,Te){d();var Ce=Q(ge,Te);f.writeFileSync(be,Ce)}function He(ge){for(var be=new Array(ge.length),Te=0;Te<ge.length;++Te)be[Te]=String.fromCharCode(ge[Te]);return be.join("")}function ze(ge,be){var Te=Q(ge,be);switch(be&&be.type||"buffer"){case"file":return d(),f.writeFileSync(be.filename,Te),Te;case"binary":return typeof Te=="string"?Te:He(Te);case"base64":return _m(typeof Te=="string"?Te:He(Te));case"buffer":if(gi)return Buffer.isBuffer(Te)?Te:th(Te);case"array":return typeof Te=="string"?vc(Te):Te}return Te}var xe;function H(ge){try{var be=ge.InflateRaw,Te=new be;if(Te._processChunk(new Uint8Array([3,0]),Te._finishFlushFlag),Te.bytesRead)xe=ge;else throw new Error("zlib does not expose bytesRead")}catch(Ce){console.error("cannot use native zlib: "+(Ce.message||Ce))}}function J(ge,be){if(!xe)return Xn(ge,be);var Te=xe.InflateRaw,Ce=new Te,Oe=Ce._processChunk(ge.slice(ge.l),Ce._finishFlushFlag);return ge.l+=Ce.bytesRead,Oe}function Z(ge){return xe?xe.deflateRawSync(ge):bn(ge)}var oe=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],de=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],Me=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function Ue(ge){var be=(ge<<1|ge<<11)&139536|(ge<<5|ge<<15)&558144;return(be>>16|be>>8|be)&255}for(var Ve=typeof Uint8Array<"u",Ie=Ve?new Uint8Array(256):[],nt=0;nt<256;++nt)Ie[nt]=Ue(nt);function Tt(ge,be){var Te=Ie[ge&255];return be<=8?Te>>>8-be:(Te=Te<<8|Ie[ge>>8&255],be<=16?Te>>>16-be:(Te=Te<<8|Ie[ge>>16&255],Te>>>24-be))}function St(ge,be){var Te=be&7,Ce=be>>>3;return(ge[Ce]|(Te<=6?0:ge[Ce+1]<<8))>>>Te&3}function Rt(ge,be){var Te=be&7,Ce=be>>>3;return(ge[Ce]|(Te<=5?0:ge[Ce+1]<<8))>>>Te&7}function le(ge,be){var Te=be&7,Ce=be>>>3;return(ge[Ce]|(Te<=4?0:ge[Ce+1]<<8))>>>Te&15}function ot(ge,be){var Te=be&7,Ce=be>>>3;return(ge[Ce]|(Te<=3?0:ge[Ce+1]<<8))>>>Te&31}function Ge(ge,be){var Te=be&7,Ce=be>>>3;return(ge[Ce]|(Te<=1?0:ge[Ce+1]<<8))>>>Te&127}function At(ge,be,Te){var Ce=be&7,Oe=be>>>3,ke=(1<<Te)-1,it=ge[Oe]>>>Ce;return Te<8-Ce||(it|=ge[Oe+1]<<8-Ce,Te<16-Ce)||(it|=ge[Oe+2]<<16-Ce,Te<24-Ce)||(it|=ge[Oe+3]<<24-Ce),it&ke}function Je(ge,be,Te){var Ce=be&7,Oe=be>>>3;return Ce<=5?ge[Oe]|=(Te&7)<<Ce:(ge[Oe]|=Te<<Ce&255,ge[Oe+1]=(Te&7)>>8-Ce),be+3}function Zt(ge,be,Te){var Ce=be&7,Oe=be>>>3;return Te=(Te&1)<<Ce,ge[Oe]|=Te,be+1}function Xe(ge,be,Te){var Ce=be&7,Oe=be>>>3;return Te<<=Ce,ge[Oe]|=Te&255,Te>>>=8,ge[Oe+1]=Te,be+8}function Ft(ge,be,Te){var Ce=be&7,Oe=be>>>3;return Te<<=Ce,ge[Oe]|=Te&255,Te>>>=8,ge[Oe+1]=Te&255,ge[Oe+2]=Te>>>8,be+16}function fn(ge,be){var Te=ge.length,Ce=2*Te>be?2*Te:be+5,Oe=0;if(Te>=be)return ge;if(gi){var ke=$T(Ce);if(ge.copy)ge.copy(ke);else for(;Oe<ge.length;++Oe)ke[Oe]=ge[Oe];return ke}else if(Ve){var it=new Uint8Array(Ce);if(it.set)it.set(ge);else for(;Oe<Te;++Oe)it[Oe]=ge[Oe];return it}return ge.length=Ce,ge}function tn(ge){for(var be=new Array(ge),Te=0;Te<ge;++Te)be[Te]=0;return be}function yn(ge,be,Te){var Ce=1,Oe=0,ke=0,it=0,Et=0,et=ge.length,lt=Ve?new Uint16Array(32):tn(32);for(ke=0;ke<32;++ke)lt[ke]=0;for(ke=et;ke<Te;++ke)ge[ke]=0;et=ge.length;var ht=Ve?new Uint16Array(et):tn(et);for(ke=0;ke<et;++ke)lt[Oe=ge[ke]]++,Ce<Oe&&(Ce=Oe),ht[ke]=0;for(lt[0]=0,ke=1;ke<=Ce;++ke)lt[ke+16]=Et=Et+lt[ke-1]<<1;for(ke=0;ke<et;++ke)Et=ge[ke],Et!=0&&(ht[ke]=lt[Et+16]++);var Ht=0;for(ke=0;ke<et;++ke)if(Ht=ge[ke],Ht!=0)for(Et=Tt(ht[ke],Ce)>>Ce-Ht,it=(1<<Ce+4-Ht)-1;it>=0;--it)be[Et|it<<Ht]=Ht&15|ke<<4;return Ce}var cn=Ve?new Uint16Array(512):tn(512),wn=Ve?new Uint16Array(32):tn(32);if(!Ve){for(var gn=0;gn<512;++gn)cn[gn]=0;for(gn=0;gn<32;++gn)wn[gn]=0}(function(){for(var ge=[],be=0;be<32;be++)ge.push(5);yn(ge,wn,32);var Te=[];for(be=0;be<=143;be++)Te.push(8);for(;be<=255;be++)Te.push(9);for(;be<=279;be++)Te.push(7);for(;be<=287;be++)Te.push(8);yn(Te,cn,288)})();var sn=(function(){for(var be=Ve?new Uint8Array(32768):[],Te=0,Ce=0;Te<Me.length-1;++Te)for(;Ce<Me[Te+1];++Ce)be[Ce]=Te;for(;Ce<32768;++Ce)be[Ce]=29;var Oe=Ve?new Uint8Array(259):[];for(Te=0,Ce=0;Te<de.length-1;++Te)for(;Ce<de[Te+1];++Ce)Oe[Ce]=Te;function ke(Et,et){for(var lt=0;lt<Et.length;){var ht=Math.min(65535,Et.length-lt),Ht=lt+ht==Et.length;for(et.write_shift(1,+Ht),et.write_shift(2,ht),et.write_shift(2,~ht&65535);ht-- >0;)et[et.l++]=Et[lt++]}return et.l}function it(Et,et){for(var lt=0,ht=0,Ht=Ve?new Uint16Array(32768):[];ht<Et.length;){var Ot=Math.min(65535,Et.length-ht);if(Ot<10){for(lt=Je(et,lt,+(ht+Ot==Et.length)),lt&7&&(lt+=8-(lt&7)),et.l=lt/8|0,et.write_shift(2,Ot),et.write_shift(2,~Ot&65535);Ot-- >0;)et[et.l++]=Et[ht++];lt=et.l*8;continue}lt=Je(et,lt,+(ht+Ot==Et.length)+2);for(var Lt=0;Ot-- >0;){var yt=Et[ht];Lt=(Lt<<5^yt)&32767;var en=-1,Tn=0;if((en=Ht[Lt])&&(en|=ht&-32768,en>ht&&(en-=32768),en<ht))for(;Et[en+Tn]==Et[ht+Tn]&&Tn<250;)++Tn;if(Tn>2){yt=Oe[Tn],yt<=22?lt=Xe(et,lt,Ie[yt+1]>>1)-1:(Xe(et,lt,3),lt+=5,Xe(et,lt,Ie[yt-23]>>5),lt+=3);var Nt=yt<8?0:yt-4>>2;Nt>0&&(Ft(et,lt,Tn-de[yt]),lt+=Nt),yt=be[ht-en],lt=Xe(et,lt,Ie[yt]>>3),lt-=3;var vr=yt<4?0:yt-2>>1;vr>0&&(Ft(et,lt,ht-en-Me[yt]),lt+=vr);for(var Kn=0;Kn<Tn;++Kn)Ht[Lt]=ht&32767,Lt=(Lt<<5^Et[ht])&32767,++ht;Ot-=Tn-1}else yt<=143?yt=yt+48:lt=Zt(et,lt,1),lt=Xe(et,lt,Ie[yt]),Ht[Lt]=ht&32767,++ht}lt=Xe(et,lt,0)-1}return et.l=(lt+7)/8|0,et.l}return function(et,lt){return et.length<8?ke(et,lt):it(et,lt)}})();function bn(ge){var be=jt(50+Math.floor(ge.length*1.1)),Te=sn(ge,be);return be.slice(0,Te)}var un=Ve?new Uint16Array(32768):tn(32768),nr=Ve?new Uint16Array(32768):tn(32768),rn=Ve?new Uint16Array(128):tn(128),dt=1,Gt=1;function It(ge,be){var Te=ot(ge,be)+257;be+=5;var Ce=ot(ge,be)+1;be+=5;var Oe=le(ge,be)+4;be+=4;for(var ke=0,it=Ve?new Uint8Array(19):tn(19),Et=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],et=1,lt=Ve?new Uint8Array(8):tn(8),ht=Ve?new Uint8Array(8):tn(8),Ht=it.length,Ot=0;Ot<Oe;++Ot)it[oe[Ot]]=ke=Rt(ge,be),et<ke&&(et=ke),lt[ke]++,be+=3;var Lt=0;for(lt[0]=0,Ot=1;Ot<=et;++Ot)ht[Ot]=Lt=Lt+lt[Ot-1]<<1;for(Ot=0;Ot<Ht;++Ot)(Lt=it[Ot])!=0&&(Et[Ot]=ht[Lt]++);var yt=0;for(Ot=0;Ot<Ht;++Ot)if(yt=it[Ot],yt!=0){Lt=Ie[Et[Ot]]>>8-yt;for(var en=(1<<7-yt)-1;en>=0;--en)rn[Lt|en<<yt]=yt&7|Ot<<3}var Tn=[];for(et=1;Tn.length<Te+Ce;)switch(Lt=rn[Ge(ge,be)],be+=Lt&7,Lt>>>=3){case 16:for(ke=3+St(ge,be),be+=2,Lt=Tn[Tn.length-1];ke-- >0;)Tn.push(Lt);break;case 17:for(ke=3+Rt(ge,be),be+=3;ke-- >0;)Tn.push(0);break;case 18:for(ke=11+Ge(ge,be),be+=7;ke-- >0;)Tn.push(0);break;default:Tn.push(Lt),et<Lt&&(et=Lt);break}var Nt=Tn.slice(0,Te),vr=Tn.slice(Te);for(Ot=Te;Ot<286;++Ot)Nt[Ot]=0;for(Ot=Ce;Ot<30;++Ot)vr[Ot]=0;return dt=yn(Nt,un,286),Gt=yn(vr,nr,30),be}function ln(ge,be){if(ge[0]==3&&!(ge[1]&3))return[Gf(be),2];for(var Te=0,Ce=0,Oe=$T(be||1<<18),ke=0,it=Oe.length>>>0,Et=0,et=0;(Ce&1)==0;){if(Ce=Rt(ge,Te),Te+=3,Ce>>>1)Ce>>1==1?(Et=9,et=5):(Te=It(ge,Te),Et=dt,et=Gt);else{Te&7&&(Te+=8-(Te&7));var lt=ge[Te>>>3]|ge[(Te>>>3)+1]<<8;if(Te+=32,lt>0)for(!be&&it<ke+lt&&(Oe=fn(Oe,ke+lt),it=Oe.length);lt-- >0;)Oe[ke++]=ge[Te>>>3],Te+=8;continue}for(;;){!be&&it<ke+32767&&(Oe=fn(Oe,ke+32767),it=Oe.length);var ht=At(ge,Te,Et),Ht=Ce>>>1==1?cn[ht]:un[ht];if(Te+=Ht&15,Ht>>>=4,(Ht>>>8&255)===0)Oe[ke++]=Ht;else{if(Ht==256)break;Ht-=257;var Ot=Ht<8?0:Ht-4>>2;Ot>5&&(Ot=0);var Lt=ke+de[Ht];Ot>0&&(Lt+=At(ge,Te,Ot),Te+=Ot),ht=At(ge,Te,et),Ht=Ce>>>1==1?wn[ht]:nr[ht],Te+=Ht&15,Ht>>>=4;var yt=Ht<4?0:Ht-2>>1,en=Me[Ht];for(yt>0&&(en+=At(ge,Te,yt),Te+=yt),!be&&it<Lt&&(Oe=fn(Oe,Lt+100),it=Oe.length);ke<Lt;)Oe[ke]=Oe[ke-en],++ke}}}return be?[Oe,Te+7>>>3]:[Oe.slice(0,ke),Te+7>>>3]}function Xn(ge,be){var Te=ge.slice(ge.l||0),Ce=ln(Te,be);return ge.l+=Ce[1],Ce[0]}function mt(ge,be){if(ge)typeof console<"u"&&console.error(be);else throw new Error(be)}function Xt(ge,be){var Te=ge;Il(Te,0);var Ce=[],Oe=[],ke={FileIndex:Ce,FullPaths:Oe};F(ke,{root:be.root});for(var it=Te.length-4;(Te[it]!=80||Te[it+1]!=75||Te[it+2]!=5||Te[it+3]!=6)&&it>=0;)--it;Te.l=it+4,Te.l+=4;var Et=Te.read_shift(2);Te.l+=6;var et=Te.read_shift(4);for(Te.l=et,it=0;it<Et;++it){Te.l+=20;var lt=Te.read_shift(4),ht=Te.read_shift(4),Ht=Te.read_shift(2),Ot=Te.read_shift(2),Lt=Te.read_shift(2);Te.l+=8;var yt=Te.read_shift(4),en=u(Te.slice(Te.l+Ht,Te.l+Ht+Ot));Te.l+=Ht+Ot+Lt;var Tn=Te.l;Te.l=yt+4,on(Te,lt,ht,ke,en),Te.l=Tn}return ke}function on(ge,be,Te,Ce,Oe){ge.l+=2;var ke=ge.read_shift(2),it=ge.read_shift(2),Et=o(ge);if(ke&8257)throw new Error("Unsupported ZIP encryption");for(var et=ge.read_shift(4),lt=ge.read_shift(4),ht=ge.read_shift(4),Ht=ge.read_shift(2),Ot=ge.read_shift(2),Lt="",yt=0;yt<Ht;++yt)Lt+=String.fromCharCode(ge[ge.l++]);if(Ot){var en=u(ge.slice(ge.l,ge.l+Ot));(en[21589]||{}).mt&&(Et=en[21589].mt),((Oe||{})[21589]||{}).mt&&(Et=Oe[21589].mt)}ge.l+=Ot;var Tn=ge.slice(ge.l,ge.l+lt);switch(it){case 8:Tn=J(ge,ht);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+it)}var Nt=!1;ke&8&&(et=ge.read_shift(4),et==134695760&&(et=ge.read_shift(4),Nt=!0),lt=ge.read_shift(4),ht=ge.read_shift(4)),lt!=be&&mt(Nt,"Bad compressed size: "+be+" != "+lt),ht!=Te&&mt(Nt,"Bad uncompressed size: "+Te+" != "+ht),Qr(Ce,Lt,Tn,{unsafe:!0,mt:Et})}function hn(ge,be){var Te=be||{},Ce=[],Oe=[],ke=jt(1),it=Te.compression?8:0,Et=0,et=0,lt=0,ht=0,Ht=0,Ot=ge.FullPaths[0],Lt=Ot,yt=ge.FileIndex[0],en=[],Tn=0;for(et=1;et<ge.FullPaths.length;++et)if(Lt=ge.FullPaths[et].slice(Ot.length),yt=ge.FileIndex[et],!(!yt.size||!yt.content||Lt=="Sh33tJ5")){var Nt=ht,vr=jt(Lt.length);for(lt=0;lt<Lt.length;++lt)vr.write_shift(1,Lt.charCodeAt(lt)&127);vr=vr.slice(0,vr.l),en[Ht]=xQ.buf(yt.content,0);var Kn=yt.content;it==8&&(Kn=Z(Kn)),ke=jt(30),ke.write_shift(4,67324752),ke.write_shift(2,20),ke.write_shift(2,Et),ke.write_shift(2,it),yt.mt?s(ke,yt.mt):ke.write_shift(4,0),ke.write_shift(-4,en[Ht]),ke.write_shift(4,Kn.length),ke.write_shift(4,yt.content.length),ke.write_shift(2,vr.length),ke.write_shift(2,0),ht+=ke.length,Ce.push(ke),ht+=vr.length,Ce.push(vr),ht+=Kn.length,Ce.push(Kn),ke=jt(46),ke.write_shift(4,33639248),ke.write_shift(2,0),ke.write_shift(2,20),ke.write_shift(2,Et),ke.write_shift(2,it),ke.write_shift(4,0),ke.write_shift(-4,en[Ht]),ke.write_shift(4,Kn.length),ke.write_shift(4,yt.content.length),ke.write_shift(2,vr.length),ke.write_shift(2,0),ke.write_shift(2,0),ke.write_shift(2,0),ke.write_shift(2,0),ke.write_shift(4,0),ke.write_shift(4,Nt),Tn+=ke.l,Oe.push(ke),Tn+=vr.length,Oe.push(vr),++Ht}return ke=jt(22),ke.write_shift(4,101010256),ke.write_shift(2,0),ke.write_shift(2,0),ke.write_shift(2,Ht),ke.write_shift(2,Ht),ke.write_shift(4,Tn),ke.write_shift(4,ht),ke.write_shift(2,0),mo([mo(Ce),mo(Oe),ke])}var dn={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Zn(ge,be){if(ge.ctype)return ge.ctype;var Te=ge.name||"",Ce=Te.match(/\.([^\.]+)$/);return Ce&&dn[Ce[1]]||be&&(Ce=(Te=be).match(/[\.\\]([^\.\\])+$/),Ce&&dn[Ce[1]])?dn[Ce[1]]:"application/octet-stream"}function Dr(ge){for(var be=_m(ge),Te=[],Ce=0;Ce<be.length;Ce+=76)Te.push(be.slice(Ce,Ce+76));return Te.join(`\r
`)+`\r
`}function li(ge){var be=ge.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(lt){var ht=lt.charCodeAt(0).toString(16).toUpperCase();return"="+(ht.length==1?"0"+ht:ht)});be=be.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),be.charAt(0)==`
`&&(be="=0D"+be.slice(1)),be=be.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var Te=[],Ce=be.split(`\r
`),Oe=0;Oe<Ce.length;++Oe){var ke=Ce[Oe];if(ke.length==0){Te.push("");continue}for(var it=0;it<ke.length;){var Et=76,et=ke.slice(it,it+Et);et.charAt(Et-1)=="="?Et--:et.charAt(Et-2)=="="?Et-=2:et.charAt(Et-3)=="="&&(Et-=3),et=ke.slice(it,it+Et),it+=Et,it<ke.length&&(et+="="),Te.push(et)}}return Te.join(`\r
`)}function Lr(ge){for(var be=[],Te=0;Te<ge.length;++Te){for(var Ce=ge[Te];Te<=ge.length&&Ce.charAt(Ce.length-1)=="=";)Ce=Ce.slice(0,Ce.length-1)+ge[++Te];be.push(Ce)}for(var Oe=0;Oe<be.length;++Oe)be[Oe]=be[Oe].replace(/[=][0-9A-Fa-f]{2}/g,function(ke){return String.fromCharCode(parseInt(ke.slice(1),16))});return vc(be.join(`\r
`))}function Kr(ge,be,Te){for(var Ce="",Oe="",ke="",it,Et=0;Et<10;++Et){var et=be[Et];if(!et||et.match(/^\s*$/))break;var lt=et.match(/^(.*?):\s*([^\s].*)$/);if(lt)switch(lt[1].toLowerCase()){case"content-location":Ce=lt[2].trim();break;case"content-type":ke=lt[2].trim();break;case"content-transfer-encoding":Oe=lt[2].trim();break}}switch(++Et,Oe.toLowerCase()){case"base64":it=vc(Zu(be.slice(Et).join("")));break;case"quoted-printable":it=Lr(be.slice(Et));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+Oe)}var ht=Qr(ge,Ce.slice(Te.length),it,{unsafe:!0});ke&&(ht.ctype=ke)}function On(ge,be){if(He(ge.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var Te=be&&be.root||"",Ce=(gi&&Buffer.isBuffer(ge)?ge.toString("binary"):He(ge)).split(`\r
`),Oe=0,ke="";for(Oe=0;Oe<Ce.length;++Oe)if(ke=Ce[Oe],!!/^Content-Location:/i.test(ke)&&(ke=ke.slice(ke.indexOf("file")),Te||(Te=ke.slice(0,ke.lastIndexOf("/")+1)),ke.slice(0,Te.length)!=Te))for(;Te.length>0&&(Te=Te.slice(0,Te.length-1),Te=Te.slice(0,Te.lastIndexOf("/")+1),ke.slice(0,Te.length)!=Te););var it=(Ce[1]||"").match(/boundary="(.*?)"/);if(!it)throw new Error("MAD cannot find boundary");var Et="--"+(it[1]||""),et=[],lt=[],ht={FileIndex:et,FullPaths:lt};F(ht);var Ht,Ot=0;for(Oe=0;Oe<Ce.length;++Oe){var Lt=Ce[Oe];Lt!==Et&&Lt!==Et+"--"||(Ot++&&Kr(ht,Ce.slice(Ht,Oe),Te),Ht=Oe)}return ht}function Ci(ge,be){var Te=be||{},Ce=Te.boundary||"SheetJS";Ce="------="+Ce;for(var Oe=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+Ce.slice(2)+'"',"","",""],ke=ge.FullPaths[0],it=ke,Et=ge.FileIndex[0],et=1;et<ge.FullPaths.length;++et)if(it=ge.FullPaths[et].slice(ke.length),Et=ge.FileIndex[et],!(!Et.size||!Et.content||it=="Sh33tJ5")){it=it.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Tn){return"_x"+Tn.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Tn){return"_u"+Tn.charCodeAt(0).toString(16)+"_"});for(var lt=Et.content,ht=gi&&Buffer.isBuffer(lt)?lt.toString("binary"):He(lt),Ht=0,Ot=Math.min(1024,ht.length),Lt=0,yt=0;yt<=Ot;++yt)(Lt=ht.charCodeAt(yt))>=32&&Lt<128&&++Ht;var en=Ht>=Ot*4/5;Oe.push(Ce),Oe.push("Content-Location: "+(Te.root||"file:///C:/SheetJS/")+it),Oe.push("Content-Transfer-Encoding: "+(en?"quoted-printable":"base64")),Oe.push("Content-Type: "+Zn(Et,it)),Oe.push(""),Oe.push(en?li(ht):Dr(ht))}return Oe.push(Ce+`--\r
`),Oe.join(`\r
`)}function Qi(ge){var be={};return F(be,ge),be}function Qr(ge,be,Te,Ce){var Oe=Ce&&Ce.unsafe;Oe||F(ge);var ke=!Oe&&Fi.find(ge,be);if(!ke){var it=ge.FullPaths[0];be.slice(0,it.length)==it?it=be:(it.slice(-1)!="/"&&(it+="/"),it=(it+be).replace("//","/")),ke={name:i(be),type:2},ge.FileIndex.push(ke),ge.FullPaths.push(it),Oe||Fi.utils.cfb_gc(ge)}return ke.content=Te,ke.size=Te?Te.length:0,Ce&&(Ce.CLSID&&(ke.clsid=Ce.CLSID),Ce.mt&&(ke.mt=Ce.mt),Ce.ct&&(ke.ct=Ce.ct)),ke}function Hi(ge,be){F(ge);var Te=Fi.find(ge,be);if(Te){for(var Ce=0;Ce<ge.FileIndex.length;++Ce)if(ge.FileIndex[Ce]==Te)return ge.FileIndex.splice(Ce,1),ge.FullPaths.splice(Ce,1),!0}return!1}function lr(ge,be,Te){F(ge);var Ce=Fi.find(ge,be);if(Ce){for(var Oe=0;Oe<ge.FileIndex.length;++Oe)if(ge.FileIndex[Oe]==Ce)return ge.FileIndex[Oe].name=i(Te),ge.FullPaths[Oe]=Te,!0}return!1}function Rr(ge){L(ge,!0)}return e.find=U,e.read=re,e.parse=x,e.write=ze,e.writeFile=Re,e.utils={cfb_new:Qi,cfb_add:Qr,cfb_del:Hi,cfb_mov:lr,cfb_gc:Rr,ReadShift:nm,CheckField:fO,prep_blob:Il,bconcat:mo,use_zlib:H,_deflateRaw:bn,_inflateRaw:Xn,consts:ve},e})();function vQ(n){return typeof n=="string"?dx(n):Array.isArray(n)?qK(n):n}function Gm(n,e,t){if(typeof Deno<"u"){if(t&&typeof e=="string")switch(t){case"utf8":e=new TextEncoder(t).encode(e);break;case"binary":e=dx(e);break;default:throw new Error("Unsupported encoding "+t)}return Deno.writeFileSync(n,e)}var r=t=="utf8"?wm(e):e;if(typeof IE_SaveFile<"u")return IE_SaveFile(r,n);if(typeof Blob<"u"){var i=new Blob([vQ(r)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(i,n);if(typeof saveAs<"u")return saveAs(i,n);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var s=URL.createObjectURL(i);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),chrome.downloads.download({url:s,filename:n,saveAs:!0});var o=document.createElement("a");if(o.download!=null)return o.download=n,o.href=s,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),s}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var u=File(n);return u.open("w"),u.encoding="binary",Array.isArray(e)&&(e=qm(e)),u.write(e),u.close(),e}catch(f){if(!f.message||!f.message.match(/onstruct/))throw f}throw new Error("cannot save file "+n)}function xo(n){for(var e=Object.keys(n),t=[],r=0;r<e.length;++r)Object.prototype.hasOwnProperty.call(n,e[r])&&t.push(e[r]);return t}function sN(n,e){for(var t=[],r=xo(n),i=0;i!==r.length;++i)t[n[r[i]][e]]==null&&(t[n[r[i]][e]]=r[i]);return t}function V5(n){for(var e=[],t=xo(n),r=0;r!==t.length;++r)e[n[t[r]]]=t[r];return e}function px(n){for(var e=[],t=xo(n),r=0;r!==t.length;++r)e[n[t[r]]]=parseInt(t[r],10);return e}function _Q(n){for(var e=[],t=xo(n),r=0;r!==t.length;++r)e[n[t[r]]]==null&&(e[n[t[r]]]=[]),e[n[t[r]]].push(t[r]);return e}var w2=new Date(1899,11,30,0,0,0);function gl(n,e){var t=n.getTime(),r=w2.getTime()+(n.getTimezoneOffset()-w2.getTimezoneOffset())*6e4;return(t-r)/(1440*60*1e3)}var KR=new Date,yQ=w2.getTime()+(KR.getTimezoneOffset()-w2.getTimezoneOffset())*6e4,aN=KR.getTimezoneOffset();function QR(n){var e=new Date;return e.setTime(n*24*60*60*1e3+yQ),e.getTimezoneOffset()!==aN&&e.setTime(e.getTime()+(e.getTimezoneOffset()-aN)*6e4),e}var oN=new Date("2017-02-19T19:06:09.000Z"),$R=isNaN(oN.getFullYear())?new Date("2/19/17"):oN,wQ=$R.getFullYear()==2017;function Xo(n,e){var t=new Date(n);if(wQ)return e>0?t.setTime(t.getTime()+t.getTimezoneOffset()*60*1e3):e<0&&t.setTime(t.getTime()-t.getTimezoneOffset()*60*1e3),t;if(n instanceof Date)return n;if($R.getFullYear()==1917&&!isNaN(t.getFullYear())){var r=t.getFullYear();return n.indexOf(""+r)>-1||t.setFullYear(t.getFullYear()+100),t}var i=n.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return n.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function xx(n,e){if(gi&&Buffer.isBuffer(n))return n.toString("binary");if(typeof TextDecoder<"u")try{var t={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(n)&&(n=new Uint8Array(n)),new TextDecoder("latin1").decode(n).replace(/[]/g,function(s){return t[s]||s})}catch{}for(var r=[],i=0;i!=n.length;++i)r.push(String.fromCharCode(n[i]));return r.join("")}function pl(n){if(typeof JSON<"u"&&!Array.isArray(n))return JSON.parse(JSON.stringify(n));if(typeof n!="object"||n==null)return n;if(n instanceof Date)return new Date(n.getTime());var e={};for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=pl(n[t]));return e}function js(n,e){for(var t="";t.length<e;)t+=n;return t}function qu(n){var e=Number(n);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(n))return e;var t=1,r=n.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return t*=100,""});return!isNaN(e=Number(r))||(r=r.replace(/[(](.*)[)]/,function(i,s){return t=-t,s}),!isNaN(e=Number(r)))?e/t:e}var bQ=["january","february","march","april","may","june","july","august","september","october","november","december"];function ym(n){var e=new Date(n),t=new Date(NaN),r=e.getYear(),i=e.getMonth(),s=e.getDate();if(isNaN(s))return t;var o=n.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&bQ.indexOf(o)==-1)return t}else if(o.match(/[a-z]/))return t;return r<0||r>8099?t:(i>0||s>1)&&r!=101?e:n.match(/[^-0-9:,\/\\]/)?t:e}function Ir(n,e,t){if(n.FullPaths){if(typeof t=="string"){var r;return gi?r=th(t):r=GK(t),Fi.utils.cfb_add(n,e,r)}Fi.utils.cfb_add(n,e,t)}else n.file(e,t)}function z5(){return Fi.utils.cfb_new()}var pa=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,EQ={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},H5=V5(EQ),q5=/[&<>'"]/g,AQ=/[\u0000-\u0008\u000b-\u001f]/g;function Si(n){var e=n+"";return e.replace(q5,function(t){return H5[t]}).replace(AQ,function(t){return"_x"+("000"+t.charCodeAt(0).toString(16)).slice(-4)+"_"})}function lN(n){return Si(n).replace(/ /g,"_x0020_")}var ZR=/[\u0000-\u001f]/g;function SQ(n){var e=n+"";return e.replace(q5,function(t){return H5[t]}).replace(/\n/g,"<br/>").replace(ZR,function(t){return"&#x"+("000"+t.charCodeAt(0).toString(16)).slice(-4)+";"})}function TQ(n){var e=n+"";return e.replace(q5,function(t){return H5[t]}).replace(ZR,function(t){return"&#x"+t.charCodeAt(0).toString(16).toUpperCase()+";"})}function NQ(n){return n.replace(/(\r\n|[\r\n])/g,"&#10;")}function CQ(n){switch(n){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function ny(n){for(var e="",t=0,r=0,i=0,s=0,o=0,u=0;t<n.length;){if(r=n.charCodeAt(t++),r<128){e+=String.fromCharCode(r);continue}if(i=n.charCodeAt(t++),r>191&&r<224){o=(r&31)<<6,o|=i&63,e+=String.fromCharCode(o);continue}if(s=n.charCodeAt(t++),r<240){e+=String.fromCharCode((r&15)<<12|(i&63)<<6|s&63);continue}o=n.charCodeAt(t++),u=((r&7)<<18|(i&63)<<12|(s&63)<<6|o&63)-65536,e+=String.fromCharCode(55296+(u>>>10&1023)),e+=String.fromCharCode(56320+(u&1023))}return e}function cN(n){var e=Gf(2*n.length),t,r,i=1,s=0,o=0,u;for(r=0;r<n.length;r+=i)i=1,(u=n.charCodeAt(r))<128?t=u:u<224?(t=(u&31)*64+(n.charCodeAt(r+1)&63),i=2):u<240?(t=(u&15)*4096+(n.charCodeAt(r+1)&63)*64+(n.charCodeAt(r+2)&63),i=3):(i=4,t=(u&7)*262144+(n.charCodeAt(r+1)&63)*4096+(n.charCodeAt(r+2)&63)*64+(n.charCodeAt(r+3)&63),t-=65536,o=55296+(t>>>10&1023),t=56320+(t&1023)),o!==0&&(e[s++]=o&255,e[s++]=o>>>8,o=0),e[s++]=t%256,e[s++]=t>>>8;return e.slice(0,s).toString("ucs2")}function uN(n){return th(n,"binary").toString("utf8")}var mp="foo bar baz",tm=gi&&(uN(mp)==ny(mp)&&uN||cN(mp)==ny(mp)&&cN)||ny,wm=gi?function(n){return th(n,"utf8").toString("binary")}:function(n){for(var e=[],t=0,r=0,i=0;t<n.length;)switch(r=n.charCodeAt(t++),!0){case r<128:e.push(String.fromCharCode(r));break;case r<2048:e.push(String.fromCharCode(192+(r>>6))),e.push(String.fromCharCode(128+(r&63)));break;case(r>=55296&&r<57344):r-=55296,i=n.charCodeAt(t++)-56320+(r<<10),e.push(String.fromCharCode(240+(i>>18&7))),e.push(String.fromCharCode(144+(i>>12&63))),e.push(String.fromCharCode(128+(i>>6&63))),e.push(String.fromCharCode(128+(i&63)));break;default:e.push(String.fromCharCode(224+(r>>12))),e.push(String.fromCharCode(128+(r>>6&63))),e.push(String.fromCharCode(128+(r&63)))}return e.join("")},IQ=(function(){var n=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(t){for(var r=t.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<n.length;++i)r=r.replace(n[i][0],n[i][1]);return r}})(),JR=/(^\s|\s$|\n)/;function go(n,e){return"<"+n+(e.match(JR)?' xml:space="preserve"':"")+">"+e+"</"+n+">"}function bm(n){return xo(n).map(function(e){return" "+e+'="'+n[e]+'"'}).join("")}function mn(n,e,t){return"<"+n+(t!=null?bm(t):"")+(e!=null?(e.match(JR)?' xml:space="preserve"':"")+">"+e+"</"+n:"/")+">"}function sw(n,e){try{return n.toISOString().replace(/\.\d*/,"")}catch(t){if(e)throw t}return""}function RQ(n,e){switch(typeof n){case"string":var t=mn("vt:lpwstr",Si(n));return t=t.replace(/&quot;/g,"_x0022_"),t;case"number":return mn((n|0)==n?"vt:i4":"vt:r8",Si(String(n)));case"boolean":return mn("vt:bool",n?"true":"false")}if(n instanceof Date)return mn("vt:filetime",sw(n));throw new Error("Unable to serialize "+n)}var Ka={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},q0=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Rl={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function OQ(n,e){for(var t=1-2*(n[e+7]>>>7),r=((n[e+7]&127)<<4)+(n[e+6]>>>4&15),i=n[e+6]&15,s=5;s>=0;--s)i=i*256+n[e+s];return r==2047?i==0?t*(1/0):NaN:(r==0?r=-1022:(r-=1023,i+=Math.pow(2,52)),t*Math.pow(2,r-52)*i)}function DQ(n,e,t){var r=(e<0||1/e==-1/0?1:0)<<7,i=0,s=0,o=r?-e:e;isFinite(o)?o==0?i=s=0:(i=Math.floor(Math.log(o)/Math.LN2),s=o*Math.pow(2,52-i),i<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?i=-1022:(s-=Math.pow(2,52),i+=1023)):(i=2047,s=isNaN(e)?26985:0);for(var u=0;u<=5;++u,s/=256)n[t+u]=s&255;n[t+6]=(i&15)<<4|s&15,n[t+7]=i>>4|r}var hN=function(n){for(var e=[],t=10240,r=0;r<n[0].length;++r)if(n[0][r])for(var i=0,s=n[0][r].length;i<s;i+=t)e.push.apply(e,n[0][r].slice(i,i+t));return e},fN=gi?function(n){return n[0].length>0&&Buffer.isBuffer(n[0][0])?Buffer.concat(n[0].map(function(e){return Buffer.isBuffer(e)?e:th(e)})):hN(n)}:hN,dN=function(n,e,t){for(var r=[],i=e;i<t;i+=2)r.push(String.fromCharCode(V1(n,i)));return r.join("").replace(em,"")},G5=gi?function(n,e,t){return Buffer.isBuffer(n)?n.toString("utf16le",e,t).replace(em,""):dN(n,e,t)}:dN,mN=function(n,e,t){for(var r=[],i=e;i<e+t;++i)r.push(("0"+n[i].toString(16)).slice(-2));return r.join("")},eO=gi?function(n,e,t){return Buffer.isBuffer(n)?n.toString("hex",e,e+t):mN(n,e,t)}:mN,gN=function(n,e,t){for(var r=[],i=e;i<t;i++)r.push(String.fromCharCode(s0(n,i)));return r.join("")},Wm=gi?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf8",t,r):gN(e,t,r)}:gN,tO=function(n,e){var t=Ol(n,e);return t>0?Wm(n,e+4,e+4+t-1):""},nO=tO,rO=function(n,e){var t=Ol(n,e);return t>0?Wm(n,e+4,e+4+t-1):""},iO=rO,sO=function(n,e){var t=2*Ol(n,e);return t>0?Wm(n,e+4,e+4+t-1):""},aO=sO,oO=function(e,t){var r=Ol(e,t);return r>0?G5(e,t+4,t+4+r):""},lO=oO,cO=function(n,e){var t=Ol(n,e);return t>0?Wm(n,e+4,e+4+t):""},uO=cO,hO=function(n,e){return OQ(n,e)},b2=hO,W5=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};gi&&(nO=function(e,t){if(!Buffer.isBuffer(e))return tO(e,t);var r=e.readUInt32LE(t);return r>0?e.toString("utf8",t+4,t+4+r-1):""},iO=function(e,t){if(!Buffer.isBuffer(e))return rO(e,t);var r=e.readUInt32LE(t);return r>0?e.toString("utf8",t+4,t+4+r-1):""},aO=function(e,t){if(!Buffer.isBuffer(e))return sO(e,t);var r=2*e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+r-1)},lO=function(e,t){if(!Buffer.isBuffer(e))return oO(e,t);var r=e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+r)},uO=function(e,t){if(!Buffer.isBuffer(e))return cO(e,t);var r=e.readUInt32LE(t);return e.toString("utf8",t+4,t+4+r)},b2=function(e,t){return Buffer.isBuffer(e)?e.readDoubleLE(t):hO(e,t)},W5=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var s0=function(n,e){return n[e]},V1=function(n,e){return n[e+1]*256+n[e]},MQ=function(n,e){var t=n[e+1]*256+n[e];return t<32768?t:(65535-t+1)*-1},Ol=function(n,e){return n[e+3]*(1<<24)+(n[e+2]<<16)+(n[e+1]<<8)+n[e]},Cf=function(n,e){return n[e+3]<<24|n[e+2]<<16|n[e+1]<<8|n[e]},LQ=function(n,e){return n[e]<<24|n[e+1]<<16|n[e+2]<<8|n[e+3]};function nm(n,e){var t="",r,i,s=[],o,u,f,d;switch(e){case"dbcs":if(d=this.l,gi&&Buffer.isBuffer(this))t=this.slice(this.l,this.l+2*n).toString("utf16le");else for(f=0;f<n;++f)t+=String.fromCharCode(V1(this,d)),d+=2;n*=2;break;case"utf8":t=Wm(this,this.l,this.l+n);break;case"utf16le":n*=2,t=G5(this,this.l,this.l+n);break;case"wstr":return nm.call(this,n,"dbcs");case"lpstr-ansi":t=nO(this,this.l),n=4+Ol(this,this.l);break;case"lpstr-cp":t=iO(this,this.l),n=4+Ol(this,this.l);break;case"lpwstr":t=aO(this,this.l),n=4+2*Ol(this,this.l);break;case"lpp4":n=4+Ol(this,this.l),t=lO(this,this.l),n&2&&(n+=2);break;case"8lpp4":n=4+Ol(this,this.l),t=uO(this,this.l),n&3&&(n+=4-(n&3));break;case"cstr":for(n=0,t="";(o=s0(this,this.l+n++))!==0;)s.push(hp(o));t=s.join("");break;case"_wstr":for(n=0,t="";(o=V1(this,this.l+n))!==0;)s.push(hp(o)),n+=2;n+=2,t=s.join("");break;case"dbcs-cont":for(t="",d=this.l,f=0;f<n;++f){if(this.lens&&this.lens.indexOf(d)!==-1)return o=s0(this,d),this.l=d+1,u=nm.call(this,n-f,o?"dbcs-cont":"sbcs-cont"),s.join("")+u;s.push(hp(V1(this,d))),d+=2}t=s.join(""),n*=2;break;case"cpstr":case"sbcs-cont":for(t="",d=this.l,f=0;f!=n;++f){if(this.lens&&this.lens.indexOf(d)!==-1)return o=s0(this,d),this.l=d+1,u=nm.call(this,n-f,o?"dbcs-cont":"sbcs-cont"),s.join("")+u;s.push(hp(s0(this,d))),d+=1}t=s.join("");break;default:switch(n){case 1:return r=s0(this,this.l),this.l++,r;case 2:return r=(e==="i"?MQ:V1)(this,this.l),this.l+=2,r;case 4:case-4:return e==="i"||(this[this.l+3]&128)===0?(r=(n>0?Cf:LQ)(this,this.l),this.l+=4,r):(i=Ol(this,this.l),this.l+=4,i);case 8:case-8:if(e==="f")return n==8?i=b2(this,this.l):i=b2([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;n=8;case 16:t=eO(this,this.l,n);break}}return this.l+=n,t}var kQ=function(n,e,t){n[t]=e&255,n[t+1]=e>>>8&255,n[t+2]=e>>>16&255,n[t+3]=e>>>24&255},PQ=function(n,e,t){n[t]=e&255,n[t+1]=e>>8&255,n[t+2]=e>>16&255,n[t+3]=e>>24&255},jQ=function(n,e,t){n[t]=e&255,n[t+1]=e>>>8&255};function FQ(n,e,t){var r=0,i=0;if(t==="dbcs"){for(i=0;i!=e.length;++i)jQ(this,e.charCodeAt(i),this.l+2*i);r=2*e.length}else if(t==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=e.length;++i)this[this.l+i]=e.charCodeAt(i)&255;r=e.length}else if(t==="hex"){for(;i<n;++i)this[this.l++]=parseInt(e.slice(2*i,2*i+2),16)||0;return this}else if(t==="utf16le"){var s=Math.min(this.l+n,this.length);for(i=0;i<Math.min(e.length,n);++i){var o=e.charCodeAt(i);this[this.l++]=o&255,this[this.l++]=o>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(n){case 1:r=1,this[this.l]=e&255;break;case 2:r=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:r=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:r=4,kQ(this,e,this.l);break;case 8:if(r=8,t==="f"){DQ(this,e,this.l);break}case 16:break;case-4:r=4,PQ(this,e,this.l);break}return this.l+=r,this}function fO(n,e){var t=eO(this,this.l,n.length>>1);if(t!==n)throw new Error(e+"Expected "+n+" saw "+t);this.l+=n.length>>1}function Il(n,e){n.l=e,n.read_shift=nm,n.chk=fO,n.write_shift=FQ}function cu(n,e){n.l+=e}function jt(n){var e=Gf(n);return Il(e,0),e}function ml(){var n=[],e=gi?256:2048,t=function(d){var x=jt(d);return Il(x,0),x},r=t(e),i=function(){r&&(r.length>r.l&&(r=r.slice(0,r.l),r.l=r.length),r.length>0&&n.push(r),r=null)},s=function(d){return r&&d<r.length-r.l?r:(i(),r=t(Math.max(d+1,e)))},o=function(){return i(),mo(n)},u=function(d){i(),r=d,r.l==null&&(r.l=r.length),s(e)};return{next:s,push:u,end:o,_bufs:n}}function Jt(n,e,t,r){var i=+e,s;if(!isNaN(i)){r||(r=One[i].p||(t||[]).length||0),s=1+(i>=128?1:0)+1,r>=128&&++s,r>=16384&&++s,r>=2097152&&++s;var o=n.next(s);i<=127?o.write_shift(1,i):(o.write_shift(1,(i&127)+128),o.write_shift(1,i>>7));for(var u=0;u!=4;++u)if(r>=128)o.write_shift(1,(r&127)+128),r>>=7;else{o.write_shift(1,r);break}r>0&&W5(t)&&n.push(t)}}function rm(n,e,t){var r=pl(n);if(e.s?(r.cRel&&(r.c+=e.s.c),r.rRel&&(r.r+=e.s.r)):(r.cRel&&(r.c+=e.c),r.rRel&&(r.r+=e.r)),!t||t.biff<12){for(;r.c>=256;)r.c-=256;for(;r.r>=65536;)r.r-=65536}return r}function pN(n,e,t){var r=pl(n);return r.s=rm(r.s,e.s,t),r.e=rm(r.e,e.s,t),r}function im(n,e){if(n.cRel&&n.c<0)for(n=pl(n);n.c<0;)n.c+=e>8?16384:256;if(n.rRel&&n.r<0)for(n=pl(n);n.r<0;)n.r+=e>8?1048576:e>5?65536:16384;var t=Ni(n);return!n.cRel&&n.cRel!=null&&(t=VQ(t)),!n.rRel&&n.rRel!=null&&(t=BQ(t)),t}function ry(n,e){return n.s.r==0&&!n.s.rRel&&n.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!n.e.rRel?(n.s.cRel?"":"$")+Do(n.s.c)+":"+(n.e.cRel?"":"$")+Do(n.e.c):n.s.c==0&&!n.s.cRel&&n.e.c==(e.biff>=12?16383:255)&&!n.e.cRel?(n.s.rRel?"":"$")+po(n.s.r)+":"+(n.e.rRel?"":"$")+po(n.e.r):im(n.s,e.biff)+":"+im(n.e,e.biff)}function Y5(n){return parseInt(UQ(n),10)-1}function po(n){return""+(n+1)}function BQ(n){return n.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function UQ(n){return n.replace(/\$(\d+)$/,"$1")}function X5(n){for(var e=zQ(n),t=0,r=0;r!==e.length;++r)t=26*t+e.charCodeAt(r)-64;return t-1}function Do(n){if(n<0)throw new Error("invalid column "+n);var e="";for(++n;n;n=Math.floor((n-1)/26))e=String.fromCharCode((n-1)%26+65)+e;return e}function VQ(n){return n.replace(/^([A-Z])/,"$$$1")}function zQ(n){return n.replace(/^\$([A-Z])/,"$1")}function HQ(n){return n.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Qa(n){for(var e=0,t=0,r=0;r<n.length;++r){var i=n.charCodeAt(r);i>=48&&i<=57?e=10*e+(i-48):i>=65&&i<=90&&(t=26*t+(i-64))}return{c:t-1,r:e-1}}function Ni(n){for(var e=n.c+1,t="";e;e=(e-1)/26|0)t=String.fromCharCode((e-1)%26+65)+t;return t+(n.r+1)}function Vl(n){var e=n.indexOf(":");return e==-1?{s:Qa(n),e:Qa(n)}:{s:Qa(n.slice(0,e)),e:Qa(n.slice(e+1))}}function ga(n,e){return typeof e>"u"||typeof e=="number"?ga(n.s,n.e):(typeof n!="string"&&(n=Ni(n)),typeof e!="string"&&(e=Ni(e)),n==e?n:n+":"+e)}function as(n){var e={s:{c:0,r:0},e:{c:0,r:0}},t=0,r=0,i=0,s=n.length;for(t=0;r<s&&!((i=n.charCodeAt(r)-64)<1||i>26);++r)t=26*t+i;for(e.s.c=--t,t=0;r<s&&!((i=n.charCodeAt(r)-48)<0||i>9);++r)t=10*t+i;if(e.s.r=--t,r===s||i!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++r,t=0;r!=s&&!((i=n.charCodeAt(r)-64)<1||i>26);++r)t=26*t+i;for(e.e.c=--t,t=0;r!=s&&!((i=n.charCodeAt(r)-48)<0||i>9);++r)t=10*t+i;return e.e.r=--t,e}function xN(n,e){var t=n.t=="d"&&e instanceof Date;if(n.z!=null)try{return n.w=ef(n.z,t?gl(e):e)}catch{}try{return n.w=ef((n.XF||{}).numFmtId||(t?14:0),t?gl(e):e)}catch{return""+e}}function Ju(n,e,t){return n==null||n.t==null||n.t=="z"?"":n.w!==void 0?n.w:(n.t=="d"&&!n.z&&t&&t.dateNF&&(n.z=t.dateNF),n.t=="e"?Ym[n.v]||n.v:e==null?xN(n,n.v):xN(n,e))}function ad(n,e){var t=e&&e.sheet?e.sheet:"Sheet1",r={};return r[t]=n,{SheetNames:[t],Sheets:r}}function dO(n,e,t){var r=t||{},i=n?Array.isArray(n):r.dense,s=n||(i?[]:{}),o=0,u=0;if(s&&r.origin!=null){if(typeof r.origin=="number")o=r.origin;else{var f=typeof r.origin=="string"?Qa(r.origin):r.origin;o=f.r,u=f.c}s["!ref"]||(s["!ref"]="A1:A1")}var d={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var x=as(s["!ref"]);d.s.c=x.s.c,d.s.r=x.s.r,d.e.c=Math.max(d.e.c,x.e.c),d.e.r=Math.max(d.e.r,x.e.r),o==-1&&(d.e.r=o=x.e.r+1)}for(var w=0;w!=e.length;++w)if(e[w]){if(!Array.isArray(e[w]))throw new Error("aoa_to_sheet expects an array of arrays");for(var A=0;A!=e[w].length;++A)if(!(typeof e[w][A]>"u")){var E={v:e[w][A]},I=o+w,C=u+A;if(d.s.r>I&&(d.s.r=I),d.s.c>C&&(d.s.c=C),d.e.r<I&&(d.e.r=I),d.e.c<C&&(d.e.c=C),e[w][A]&&typeof e[w][A]=="object"&&!Array.isArray(e[w][A])&&!(e[w][A]instanceof Date))E=e[w][A];else if(Array.isArray(E.v)&&(E.f=e[w][A][1],E.v=E.v[0]),E.v===null)if(E.f)E.t="n";else if(r.nullError)E.t="e",E.v=0;else if(r.sheetStubs)E.t="z";else continue;else typeof E.v=="number"?E.t="n":typeof E.v=="boolean"?E.t="b":E.v instanceof Date?(E.z=r.dateNF||Fs[14],r.cellDates?(E.t="d",E.w=ef(E.z,gl(E.v))):(E.t="n",E.v=gl(E.v),E.w=ef(E.z,E.v))):E.t="s";if(i)s[I]||(s[I]=[]),s[I][C]&&s[I][C].z&&(E.z=s[I][C].z),s[I][C]=E;else{var M=Ni({c:C,r:I});s[M]&&s[M].z&&(E.z=s[M].z),s[M]=E}}}return d.s.c<1e7&&(s["!ref"]=ga(d)),s}function G0(n,e){return dO(null,n,e)}function qQ(n){return n.read_shift(4,"i")}function Sc(n,e){return e||(e=jt(4)),e.write_shift(4,n),e}function Mo(n){var e=n.read_shift(4);return e===0?"":n.read_shift(e,"dbcs")}function $a(n,e){var t=!1;return e==null&&(t=!0,e=jt(4+2*n.length)),e.write_shift(4,n.length),n.length>0&&e.write_shift(0,n,"dbcs"),t?e.slice(0,e.l):e}function GQ(n){return{ich:n.read_shift(2),ifnt:n.read_shift(2)}}function WQ(n,e){return e||(e=jt(4)),e.write_shift(2,0),e.write_shift(2,0),e}function K5(n,e){var t=n.l,r=n.read_shift(1),i=Mo(n),s=[],o={t:i,h:i};if((r&1)!==0){for(var u=n.read_shift(4),f=0;f!=u;++f)s.push(GQ(n));o.r=s}else o.r=[{ich:0,ifnt:0}];return n.l=t+e,o}function YQ(n,e){var t=!1;return e==null&&(t=!0,e=jt(15+4*n.t.length)),e.write_shift(1,0),$a(n.t,e),t?e.slice(0,e.l):e}var XQ=K5;function KQ(n,e){var t=!1;return e==null&&(t=!0,e=jt(23+4*n.t.length)),e.write_shift(1,1),$a(n.t,e),e.write_shift(4,1),WQ({},e),t?e.slice(0,e.l):e}function rc(n){var e=n.read_shift(4),t=n.read_shift(2);return t+=n.read_shift(1)<<16,n.l++,{c:e,iStyleRef:t}}function od(n,e){return e==null&&(e=jt(8)),e.write_shift(-4,n.c),e.write_shift(3,n.iStyleRef||n.s),e.write_shift(1,0),e}function ld(n){var e=n.read_shift(2);return e+=n.read_shift(1)<<16,n.l++,{c:-1,iStyleRef:e}}function cd(n,e){return e==null&&(e=jt(4)),e.write_shift(3,n.iStyleRef||n.s),e.write_shift(1,0),e}var QQ=Mo,mO=$a;function Q5(n){var e=n.read_shift(4);return e===0||e===4294967295?"":n.read_shift(e,"dbcs")}function E2(n,e){var t=!1;return e==null&&(t=!0,e=jt(127)),e.write_shift(4,n.length>0?n.length:4294967295),n.length>0&&e.write_shift(0,n,"dbcs"),t?e.slice(0,e.l):e}var $Q=Mo,aw=Q5,$5=E2;function gO(n){var e=n.slice(n.l,n.l+4),t=e[0]&1,r=e[0]&2;n.l+=4;var i=r===0?b2([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):Cf(e,0)>>2;return t?i/100:i}function pO(n,e){e==null&&(e=jt(4));var t=0,r=0,i=n*100;if(n==(n|0)&&n>=-536870912&&n<1<<29?r=1:i==(i|0)&&i>=-536870912&&i<1<<29&&(r=1,t=1),r)e.write_shift(-4,((t?i:n)<<2)+(t+2));else throw new Error("unsupported RkNumber "+n)}function xO(n){var e={s:{},e:{}};return e.s.r=n.read_shift(4),e.e.r=n.read_shift(4),e.s.c=n.read_shift(4),e.e.c=n.read_shift(4),e}function ZQ(n,e){return e||(e=jt(16)),e.write_shift(4,n.s.r),e.write_shift(4,n.e.r),e.write_shift(4,n.s.c),e.write_shift(4,n.e.c),e}var ud=xO,W0=ZQ;function Y0(n){if(n.length-n.l<8)throw"XLS Xnum Buffer underflow";return n.read_shift(8,"f")}function Wf(n,e){return(e||jt(8)).write_shift(8,n,"f")}function JQ(n){var e={},t=n.read_shift(1),r=t>>>1,i=n.read_shift(1),s=n.read_shift(2,"i"),o=n.read_shift(1),u=n.read_shift(1),f=n.read_shift(1);switch(n.l++,r){case 0:e.auto=1;break;case 1:e.index=i;var d=l$[i];d&&(e.rgb=CN(d));break;case 2:e.rgb=CN([o,u,f]);break;case 3:e.theme=i;break}return s!=0&&(e.tint=s>0?s/32767:s/32768),e}function A2(n,e){if(e||(e=jt(8)),!n||n.auto)return e.write_shift(4,0),e.write_shift(4,0),e;n.index!=null?(e.write_shift(1,2),e.write_shift(1,n.index)):n.theme!=null?(e.write_shift(1,6),e.write_shift(1,n.theme)):(e.write_shift(1,5),e.write_shift(1,0));var t=n.tint||0;if(t>0?t*=32767:t<0&&(t*=32768),e.write_shift(2,t),!n.rgb||n.theme!=null)e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);else{var r=n.rgb||"FFFFFF";typeof r=="number"&&(r=("000000"+r.toString(16)).slice(-6)),e.write_shift(1,parseInt(r.slice(0,2),16)),e.write_shift(1,parseInt(r.slice(2,4),16)),e.write_shift(1,parseInt(r.slice(4,6),16)),e.write_shift(1,255)}return e}function e$(n){var e=n.read_shift(1);n.l++;var t={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return t}function t$(n,e){e||(e=jt(2));var t=(n.italic?2:0)|(n.strike?8:0)|(n.outline?16:0)|(n.shadow?32:0)|(n.condense?64:0)|(n.extend?128:0);return e.write_shift(1,t),e.write_shift(1,0),e}var vO=2,Cl=3,gp=11,S2=19,pp=64,n$=65,r$=71,i$=4108,s$=4126,ho=80,vN={1:{n:"CodePage",t:vO},2:{n:"Category",t:ho},3:{n:"PresentationFormat",t:ho},4:{n:"ByteCount",t:Cl},5:{n:"LineCount",t:Cl},6:{n:"ParagraphCount",t:Cl},7:{n:"SlideCount",t:Cl},8:{n:"NoteCount",t:Cl},9:{n:"HiddenCount",t:Cl},10:{n:"MultimediaClipCount",t:Cl},11:{n:"ScaleCrop",t:gp},12:{n:"HeadingPairs",t:i$},13:{n:"TitlesOfParts",t:s$},14:{n:"Manager",t:ho},15:{n:"Company",t:ho},16:{n:"LinksUpToDate",t:gp},17:{n:"CharacterCount",t:Cl},19:{n:"SharedDoc",t:gp},22:{n:"HyperlinksChanged",t:gp},23:{n:"AppVersion",t:Cl,p:"version"},24:{n:"DigSig",t:n$},26:{n:"ContentType",t:ho},27:{n:"ContentStatus",t:ho},28:{n:"Language",t:ho},29:{n:"Version",t:ho},255:{},2147483648:{n:"Locale",t:S2},2147483651:{n:"Behavior",t:S2},1919054434:{}},_N={1:{n:"CodePage",t:vO},2:{n:"Title",t:ho},3:{n:"Subject",t:ho},4:{n:"Author",t:ho},5:{n:"Keywords",t:ho},6:{n:"Comments",t:ho},7:{n:"Template",t:ho},8:{n:"LastAuthor",t:ho},9:{n:"RevNumber",t:ho},10:{n:"EditTime",t:pp},11:{n:"LastPrinted",t:pp},12:{n:"CreatedDate",t:pp},13:{n:"ModifiedDate",t:pp},14:{n:"PageCount",t:Cl},15:{n:"WordCount",t:Cl},16:{n:"CharCount",t:Cl},17:{n:"Thumbnail",t:r$},18:{n:"Application",t:ho},19:{n:"DocSecurity",t:Cl},255:{},2147483648:{n:"Locale",t:S2},2147483651:{n:"Behavior",t:S2},1919054434:{}};function a$(n){return n.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var o$=a$([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),l$=pl(o$),Ym={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},c$={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},xp={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function _O(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function yO(n,e){var t=_Q(c$),r=[],i;r[r.length]=pa,r[r.length]=mn("Types",null,{xmlns:Ka.CT,"xmlns:xsd":Ka.xsd,"xmlns:xsi":Ka.xsi}),r=r.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(f){return mn("Default",null,{Extension:f[0],ContentType:f[1]})}));var s=function(f){n[f]&&n[f].length>0&&(i=n[f][0],r[r.length]=mn("Override",null,{PartName:(i[0]=="/"?"":"/")+i,ContentType:xp[f][e.bookType]||xp[f].xlsx}))},o=function(f){(n[f]||[]).forEach(function(d){r[r.length]=mn("Override",null,{PartName:(d[0]=="/"?"":"/")+d,ContentType:xp[f][e.bookType]||xp[f].xlsx})})},u=function(f){(n[f]||[]).forEach(function(d){r[r.length]=mn("Override",null,{PartName:(d[0]=="/"?"":"/")+d,ContentType:t[f][0]})})};return s("workbooks"),o("sheets"),o("charts"),u("themes"),["strs","styles"].forEach(s),["coreprops","extprops","custprops"].forEach(u),u("vba"),u("comments"),u("threadedcomments"),u("drawings"),o("metadata"),u("people"),r.length>2&&(r[r.length]="</Types>",r[1]=r[1].replace("/>",">")),r.join("")}var oi={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function wO(n){var e=n.lastIndexOf("/");return n.slice(0,e+1)+"_rels/"+n.slice(e+1)+".rels"}function y0(n){var e=[pa,mn("Relationships",null,{xmlns:Ka.RELS})];return xo(n["!id"]).forEach(function(t){e[e.length]=mn("Relationship",null,n["!id"][t])}),e.length>2&&(e[e.length]="</Relationships>",e[1]=e[1].replace("/>",">")),e.join("")}function bi(n,e,t,r,i,s){if(i||(i={}),n["!id"]||(n["!id"]={}),n["!idx"]||(n["!idx"]=1),e<0)for(e=n["!idx"];n["!id"]["rId"+e];++e);if(n["!idx"]=e+1,i.Id="rId"+e,i.Type=r,i.Target=t,[oi.HLINK,oi.XPATH,oi.XMISS].indexOf(i.Type)>-1&&(i.TargetMode="External"),n["!id"][i.Id])throw new Error("Cannot rewrite rId "+e);return n["!id"][i.Id]=i,n[("/"+i.Target).replace("//","/")]=i,e}function u$(n){var e=[pa];e.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),e.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var t=0;t<n.length;++t)e.push('  <manifest:file-entry manifest:full-path="'+n[t][0]+'" manifest:media-type="'+n[t][1]+`"/>
`);return e.push("</manifest:manifest>"),e.join("")}function yN(n,e,t){return['  <rdf:Description rdf:about="'+n+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(t||"odf")+"#"+e+`"/>
`,`  </rdf:Description>
`].join("")}function h$(n,e){return['  <rdf:Description rdf:about="'+n+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+e+`"/>
`,`  </rdf:Description>
`].join("")}function f$(n){var e=[pa];e.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var t=0;t!=n.length;++t)e.push(yN(n[t][0],n[t][1])),e.push(h$("",n[t][0]));return e.push(yN("","Document","pkg")),e.push("</rdf:RDF>"),e.join("")}function bO(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+p2.version+"</meta:generator></office:meta></office:document-meta>"}var kf=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function iy(n,e,t,r,i){i[n]!=null||e==null||e===""||(i[n]=e,e=Si(e),r[r.length]=t?mn(n,e,t):go(n,e))}function EO(n,e){var t=e||{},r=[pa,mn("cp:coreProperties",null,{"xmlns:cp":Ka.CORE_PROPS,"xmlns:dc":Ka.dc,"xmlns:dcterms":Ka.dcterms,"xmlns:dcmitype":Ka.dcmitype,"xmlns:xsi":Ka.xsi})],i={};if(!n&&!t.Props)return r.join("");n&&(n.CreatedDate!=null&&iy("dcterms:created",typeof n.CreatedDate=="string"?n.CreatedDate:sw(n.CreatedDate,t.WTF),{"xsi:type":"dcterms:W3CDTF"},r,i),n.ModifiedDate!=null&&iy("dcterms:modified",typeof n.ModifiedDate=="string"?n.ModifiedDate:sw(n.ModifiedDate,t.WTF),{"xsi:type":"dcterms:W3CDTF"},r,i));for(var s=0;s!=kf.length;++s){var o=kf[s],u=t.Props&&t.Props[o[1]]!=null?t.Props[o[1]]:n?n[o[1]]:null;u===!0?u="1":u===!1?u="0":typeof u=="number"&&(u=String(u)),u!=null&&iy(o[0],u,null,r,i)}return r.length>2&&(r[r.length]="</cp:coreProperties>",r[1]=r[1].replace("/>",">")),r.join("")}var w0=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],AO=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function SO(n){var e=[],t=mn;return n||(n={}),n.Application="SheetJS",e[e.length]=pa,e[e.length]=mn("Properties",null,{xmlns:Ka.EXT_PROPS,"xmlns:vt":Ka.vt}),w0.forEach(function(r){if(n[r[1]]!==void 0){var i;switch(r[2]){case"string":i=Si(String(n[r[1]]));break;case"bool":i=n[r[1]]?"true":"false";break}i!==void 0&&(e[e.length]=t(r[0],i))}}),e[e.length]=t("HeadingPairs",t("vt:vector",t("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+t("vt:variant",t("vt:i4",String(n.Worksheets))),{size:2,baseType:"variant"})),e[e.length]=t("TitlesOfParts",t("vt:vector",n.SheetNames.map(function(r){return"<vt:lpstr>"+Si(r)+"</vt:lpstr>"}).join(""),{size:n.Worksheets,baseType:"lpstr"})),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}function TO(n){var e=[pa,mn("Properties",null,{xmlns:Ka.CUST_PROPS,"xmlns:vt":Ka.vt})];if(!n)return e.join("");var t=1;return xo(n).forEach(function(i){++t,e[e.length]=mn("property",RQ(n[i]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:t,name:Si(i)})}),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var wN={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function d$(n,e){var t=[];return xo(wN).map(function(r){for(var i=0;i<kf.length;++i)if(kf[i][1]==r)return kf[i];for(i=0;i<w0.length;++i)if(w0[i][1]==r)return w0[i];throw r}).forEach(function(r){if(n[r[1]]!=null){var i=e&&e.Props&&e.Props[r[1]]!=null?e.Props[r[1]]:n[r[1]];switch(r[2]){case"date":i=new Date(i).toISOString().replace(/\.\d*Z/,"Z");break}typeof i=="number"?i=String(i):i===!0||i===!1?i=i?"1":"0":i instanceof Date&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"")),t.push(go(wN[r[1]]||r[1],i))}}),mn("DocumentProperties",t.join(""),{xmlns:Rl.o})}function m$(n,e){var t=["Worksheets","SheetNames"],r="CustomDocumentProperties",i=[];return n&&xo(n).forEach(function(s){if(Object.prototype.hasOwnProperty.call(n,s)){for(var o=0;o<kf.length;++o)if(s==kf[o][1])return;for(o=0;o<w0.length;++o)if(s==w0[o][1])return;for(o=0;o<t.length;++o)if(s==t[o])return;var u=n[s],f="string";typeof u=="number"?(f="float",u=String(u)):u===!0||u===!1?(f="boolean",u=u?"1":"0"):u=String(u),i.push(mn(lN(s),u,{"dt:dt":f}))}}),e&&xo(e).forEach(function(s){if(Object.prototype.hasOwnProperty.call(e,s)&&!(n&&Object.prototype.hasOwnProperty.call(n,s))){var o=e[s],u="string";typeof o=="number"?(u="float",o=String(o)):o===!0||o===!1?(u="boolean",o=o?"1":"0"):o instanceof Date?(u="dateTime.tz",o=o.toISOString()):o=String(o),i.push(mn(lN(s),o,{"dt:dt":u}))}}),"<"+r+' xmlns="'+Rl.o+'">'+i.join("")+"</"+r+">"}function g$(n){var e=typeof n=="string"?new Date(Date.parse(n)):n,t=e.getTime()/1e3+11644473600,r=t%Math.pow(2,32),i=(t-r)/Math.pow(2,32);r*=1e7,i*=1e7;var s=r/Math.pow(2,32)|0;s>0&&(r=r%Math.pow(2,32),i+=s);var o=jt(8);return o.write_shift(4,r),o.write_shift(4,i),o}function bN(n,e){var t=jt(4),r=jt(4);switch(t.write_shift(4,n==80?31:n),n){case 3:r.write_shift(-4,e);break;case 5:r=jt(8),r.write_shift(8,e,"f");break;case 11:r.write_shift(4,e?1:0);break;case 64:r=g$(e);break;case 31:case 80:for(r=jt(4+2*(e.length+1)+(e.length%2?0:2)),r.write_shift(4,e.length+1),r.write_shift(0,e,"dbcs");r.l!=r.length;)r.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+n+" "+e)}return mo([t,r])}var NO=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function p$(n){switch(typeof n){case"boolean":return 11;case"number":return(n|0)==n?3:5;case"string":return 31;case"object":if(n instanceof Date)return 64;break}return-1}function EN(n,e,t){var r=jt(8),i=[],s=[],o=8,u=0,f=jt(8),d=jt(8);if(f.write_shift(4,2),f.write_shift(4,1200),d.write_shift(4,1),s.push(f),i.push(d),o+=8+f.length,!e){d=jt(8),d.write_shift(4,0),i.unshift(d);var x=[jt(4)];for(x[0].write_shift(4,n.length),u=0;u<n.length;++u){var w=n[u][0];for(f=jt(8+2*(w.length+1)+(w.length%2?0:2)),f.write_shift(4,u+2),f.write_shift(4,w.length+1),f.write_shift(0,w,"dbcs");f.l!=f.length;)f.write_shift(1,0);x.push(f)}f=mo(x),s.unshift(f),o+=8+f.length}for(u=0;u<n.length;++u)if(!(e&&!e[n[u][0]])&&!(NO.indexOf(n[u][0])>-1||AO.indexOf(n[u][0])>-1)&&n[u][1]!=null){var A=n[u][1],E=0;if(e){E=+e[n[u][0]];var I=t[E];if(I.p=="version"&&typeof A=="string"){var C=A.split(".");A=(+C[0]<<16)+(+C[1]||0)}f=bN(I.t,A)}else{var M=p$(A);M==-1&&(M=31,A=String(A)),f=bN(M,A)}s.push(f),d=jt(8),d.write_shift(4,e?E:2+u),i.push(d),o+=8+f.length}var j=8*(s.length+1);for(u=0;u<s.length;++u)i[u].write_shift(4,j),j+=s[u].length;return r.write_shift(4,o),r.write_shift(4,s.length),mo([r].concat(i).concat(s))}function AN(n,e,t,r,i,s){var o=jt(i?68:48),u=[o];o.write_shift(2,65534),o.write_shift(2,0),o.write_shift(4,842412599),o.write_shift(16,Fi.utils.consts.HEADER_CLSID,"hex"),o.write_shift(4,i?2:1),o.write_shift(16,e,"hex"),o.write_shift(4,i?68:48);var f=EN(n,t,r);if(u.push(f),i){var d=EN(i,null,null);o.write_shift(16,s,"hex"),o.write_shift(4,68+f.length),u.push(d)}return mo(u)}function x$(n,e){e||(e=jt(n));for(var t=0;t<n;++t)e.write_shift(1,0);return e}function v$(n,e){return n.read_shift(e)===1}function Go(n,e){return e||(e=jt(2)),e.write_shift(2,+!!n),e}function CO(n){return n.read_shift(2,"u")}function Ql(n,e){return e||(e=jt(2)),e.write_shift(2,n),e}function IO(n,e,t){return t||(t=jt(2)),t.write_shift(1,e=="e"?+n:+!!n),t.write_shift(1,e=="e"?1:0),t}function RO(n,e,t){var r=n.read_shift(t&&t.biff>=12?2:1),i="sbcs-cont";if(t&&t.biff>=8,!t||t.biff==8){var s=n.read_shift(1);s&&(i="dbcs-cont")}else t.biff==12&&(i="wstr");t.biff>=2&&t.biff<=5&&(i="cpstr");var o=r?n.read_shift(r,i):"";return o}function _$(n){var e=n.t||"",t=jt(3);t.write_shift(2,e.length),t.write_shift(1,1);var r=jt(2*e.length);r.write_shift(2*e.length,e,"utf16le");var i=[t,r];return mo(i)}function y$(n,e,t){var r;if(t){if(t.biff>=2&&t.biff<=5)return n.read_shift(e,"cpstr");if(t.biff>=12)return n.read_shift(e,"dbcs-cont")}var i=n.read_shift(1);return i===0?r=n.read_shift(e,"sbcs-cont"):r=n.read_shift(e,"dbcs-cont"),r}function w$(n,e,t){var r=n.read_shift(t&&t.biff==2?1:2);return r===0?(n.l++,""):y$(n,r,t)}function b$(n,e,t){if(t.biff>5)return w$(n,e,t);var r=n.read_shift(1);return r===0?(n.l++,""):n.read_shift(r,t.biff<=4||!n.lens?"cpstr":"sbcs-cont")}function OO(n,e,t){return t||(t=jt(3+2*n.length)),t.write_shift(2,n.length),t.write_shift(1,1),t.write_shift(31,n,"utf16le"),t}function SN(n,e){e||(e=jt(6+n.length*2)),e.write_shift(4,1+n.length);for(var t=0;t<n.length;++t)e.write_shift(2,n.charCodeAt(t));return e.write_shift(2,0),e}function E$(n){var e=jt(512),t=0,r=n.Target;r.slice(0,7)=="file://"&&(r=r.slice(7));var i=r.indexOf("#"),s=i>-1?31:23;switch(r.charAt(0)){case"#":s=28;break;case".":s&=-3;break}e.write_shift(4,2),e.write_shift(4,s);var o=[8,6815827,6619237,4849780,83];for(t=0;t<o.length;++t)e.write_shift(4,o[t]);if(s==28)r=r.slice(1),SN(r,e);else if(s&2){for(o="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),t=0;t<o.length;++t)e.write_shift(1,parseInt(o[t],16));var u=i>-1?r.slice(0,i):r;for(e.write_shift(4,2*(u.length+1)),t=0;t<u.length;++t)e.write_shift(2,u.charCodeAt(t));e.write_shift(2,0),s&8&&SN(i>-1?r.slice(i+1):"",e)}else{for(o="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),t=0;t<o.length;++t)e.write_shift(1,parseInt(o[t],16));for(var f=0;r.slice(f*3,f*3+3)=="../"||r.slice(f*3,f*3+3)=="..\\";)++f;for(e.write_shift(2,f),e.write_shift(4,r.length-3*f+1),t=0;t<r.length-3*f;++t)e.write_shift(1,r.charCodeAt(t+3*f)&255);for(e.write_shift(1,0),e.write_shift(2,65535),e.write_shift(2,57005),t=0;t<6;++t)e.write_shift(4,0)}return e.slice(0,e.l)}function Yf(n,e,t,r){return r||(r=jt(6)),r.write_shift(2,n),r.write_shift(2,e),r.write_shift(2,t||0),r}function A$(n,e,t){var r=t.biff>8?4:2,i=n.read_shift(r),s=n.read_shift(r,"i"),o=n.read_shift(r,"i");return[i,s,o]}function S$(n){var e=n.read_shift(2),t=n.read_shift(2),r=n.read_shift(2),i=n.read_shift(2);return{s:{c:r,r:e},e:{c:i,r:t}}}function DO(n,e){return e||(e=jt(8)),e.write_shift(2,n.s.r),e.write_shift(2,n.e.r),e.write_shift(2,n.s.c),e.write_shift(2,n.e.c),e}function Z5(n,e,t){var r=1536,i=16;switch(t.bookType){case"biff8":break;case"biff5":r=1280,i=8;break;case"biff4":r=4,i=6;break;case"biff3":r=3,i=6;break;case"biff2":r=2,i=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var s=jt(i);return s.write_shift(2,r),s.write_shift(2,e),i>4&&s.write_shift(2,29282),i>6&&s.write_shift(2,1997),i>8&&(s.write_shift(2,49161),s.write_shift(2,1),s.write_shift(2,1798),s.write_shift(2,0)),s}function T$(n,e){var t=!e||e.biff==8,r=jt(t?112:54);for(r.write_shift(e.biff==8?2:1,7),t&&r.write_shift(1,0),r.write_shift(4,859007059),r.write_shift(4,5458548|(t?0:536870912));r.l<r.length;)r.write_shift(1,t?0:32);return r}function N$(n,e){var t=!e||e.biff>=8?2:1,r=jt(8+t*n.name.length);r.write_shift(4,n.pos),r.write_shift(1,n.hs||0),r.write_shift(1,n.dt),r.write_shift(1,n.name.length),e.biff>=8&&r.write_shift(1,1),r.write_shift(t*n.name.length,n.name,e.biff<8?"sbcs":"utf16le");var i=r.slice(0,r.l);return i.l=r.l,i}function C$(n,e){var t=jt(8);t.write_shift(4,n.Count),t.write_shift(4,n.Unique);for(var r=[],i=0;i<n.length;++i)r[i]=_$(n[i]);var s=mo([t].concat(r));return s.parts=[t.length].concat(r.map(function(o){return o.length})),s}function I$(){var n=jt(18);return n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,29280),n.write_shift(2,17600),n.write_shift(2,56),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,1),n.write_shift(2,500),n}function R$(n){var e=jt(18),t=1718;return n&&n.RTL&&(t|=64),e.write_shift(2,t),e.write_shift(4,0),e.write_shift(4,64),e.write_shift(4,0),e.write_shift(4,0),e}function O$(n,e){var t=n.name||"Arial",r=e&&e.biff==5,i=r?15+t.length:16+2*t.length,s=jt(i);return s.write_shift(2,n.sz*20),s.write_shift(4,0),s.write_shift(2,400),s.write_shift(4,0),s.write_shift(2,0),s.write_shift(1,t.length),r||s.write_shift(1,1),s.write_shift((r?1:2)*t.length,t,r?"sbcs":"utf16le"),s}function D$(n,e,t,r){var i=jt(10);return Yf(n,e,r,i),i.write_shift(4,t),i}function M$(n,e,t,r,i){var s=!i||i.biff==8,o=jt(8+ +s+(1+s)*t.length);return Yf(n,e,r,o),o.write_shift(2,t.length),s&&o.write_shift(1,1),o.write_shift((1+s)*t.length,t,s?"utf16le":"sbcs"),o}function L$(n,e,t,r){var i=t&&t.biff==5;r||(r=jt(i?3+e.length:5+2*e.length)),r.write_shift(2,n),r.write_shift(i?1:2,e.length),i||r.write_shift(1,1),r.write_shift((i?1:2)*e.length,e,i?"sbcs":"utf16le");var s=r.length>r.l?r.slice(0,r.l):r;return s.l==null&&(s.l=s.length),s}function k$(n,e){var t=e.biff==8||!e.biff?4:2,r=jt(2*t+6);return r.write_shift(t,n.s.r),r.write_shift(t,n.e.r+1),r.write_shift(2,n.s.c),r.write_shift(2,n.e.c+1),r.write_shift(2,0),r}function TN(n,e,t,r){var i=t&&t.biff==5;r||(r=jt(i?16:20)),r.write_shift(2,0),n.style?(r.write_shift(2,n.numFmtId||0),r.write_shift(2,65524)):(r.write_shift(2,n.numFmtId||0),r.write_shift(2,e<<4));var s=0;return n.numFmtId>0&&i&&(s|=1024),r.write_shift(4,s),r.write_shift(4,0),i||r.write_shift(4,0),r.write_shift(2,0),r}function P$(n){var e=jt(8);return e.write_shift(4,0),e.write_shift(2,0),e.write_shift(2,0),e}function j$(n,e,t,r,i,s){var o=jt(8);return Yf(n,e,r,o),IO(t,s,o),o}function F$(n,e,t,r){var i=jt(14);return Yf(n,e,r,i),Wf(t,i),i}function B$(n,e,t){if(t.biff<8)return U$(n,e,t);for(var r=[],i=n.l+e,s=n.read_shift(t.biff>8?4:2);s--!==0;)r.push(A$(n,t.biff>8?12:6,t));if(n.l!=i)throw new Error("Bad ExternSheet: "+n.l+" != "+i);return r}function U$(n,e,t){n[n.l+1]==3&&n[n.l]++;var r=RO(n,e,t);return r.charCodeAt(0)==3?r.slice(1):r}function V$(n){var e=jt(2+n.length*8);e.write_shift(2,n.length);for(var t=0;t<n.length;++t)DO(n[t],e);return e}function z$(n){var e=jt(24),t=Qa(n[0]);e.write_shift(2,t.r),e.write_shift(2,t.r),e.write_shift(2,t.c),e.write_shift(2,t.c);for(var r="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),i=0;i<16;++i)e.write_shift(1,parseInt(r[i],16));return mo([e,E$(n[1])])}function H$(n){var e=n[1].Tooltip,t=jt(10+2*(e.length+1));t.write_shift(2,2048);var r=Qa(n[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var i=0;i<e.length;++i)t.write_shift(2,e.charCodeAt(i));return t.write_shift(2,0),t}function q$(n){return n||(n=jt(4)),n.write_shift(2,1),n.write_shift(2,1),n}function G$(n,e,t){if(!t.cellStyles)return cu(n,e);var r=t&&t.biff>=12?4:2,i=n.read_shift(r),s=n.read_shift(r),o=n.read_shift(r),u=n.read_shift(r),f=n.read_shift(2);r==2&&(n.l+=2);var d={s:i,e:s,w:o,ixfe:u,flags:f};return(t.biff>=5||!t.biff)&&(d.level=f>>8&7),d}function W$(n,e){var t=jt(12);t.write_shift(2,e),t.write_shift(2,e),t.write_shift(2,n.width*256),t.write_shift(2,0);var r=0;return n.hidden&&(r|=1),t.write_shift(1,r),r=n.level||0,t.write_shift(1,r),t.write_shift(2,0),t}function Y$(n){for(var e=jt(2*n),t=0;t<n;++t)e.write_shift(2,t+1);return e}function X$(n,e,t){var r=jt(15);return Km(r,n,e),r.write_shift(8,t,"f"),r}function K$(n,e,t){var r=jt(9);return Km(r,n,e),r.write_shift(2,t),r}var Q$=(function(){var n={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=V5({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function t(u,f){var d=[],x=Gf(1);switch(f.type){case"base64":x=vc(Zu(u));break;case"binary":x=vc(u);break;case"buffer":case"array":x=u;break}Il(x,0);var w=x.read_shift(1),A=!!(w&136),E=!1,I=!1;switch(w){case 2:break;case 3:break;case 48:E=!0,A=!0;break;case 49:E=!0,A=!0;break;case 131:break;case 139:break;case 140:I=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+w.toString(16))}var C=0,M=521;w==2&&(C=x.read_shift(2)),x.l+=3,w!=2&&(C=x.read_shift(4)),C>1048576&&(C=1e6),w!=2&&(M=x.read_shift(2));var j=x.read_shift(2),W=f.codepage||1252;w!=2&&(x.l+=16,x.read_shift(1),x[x.l]!==0&&(W=n[x[x.l]]),x.l+=1,x.l+=2),I&&(x.l+=36);for(var k=[],G={},ce=Math.min(x.length,w==2?521:M-10-(E?264:0)),re=I?32:11;x.l<ce&&x[x.l]!=13;)switch(G={},G.name=x2.utils.decode(W,x.slice(x.l,x.l+re)).replace(/[\u0000\r\n].*$/g,""),x.l+=re,G.type=String.fromCharCode(x.read_shift(1)),w!=2&&!I&&(G.offset=x.read_shift(4)),G.len=x.read_shift(1),w==2&&(G.offset=x.read_shift(2)),G.dec=x.read_shift(1),G.name.length&&k.push(G),w!=2&&(x.l+=I?13:14),G.type){case"B":(!E||G.len!=8)&&f.WTF&&console.log("Skipping "+G.name+":"+G.type);break;case"G":case"P":f.WTF&&console.log("Skipping "+G.name+":"+G.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+G.type)}if(x[x.l]!==13&&(x.l=M-1),x.read_shift(1)!==13)throw new Error("DBF Terminator not found "+x.l+" "+x[x.l]);x.l=M;var F=0,B=0;for(d[0]=[],B=0;B!=k.length;++B)d[0][B]=k[B].name;for(;C-- >0;){if(x[x.l]===42){x.l+=j;continue}for(++x.l,d[++F]=[],B=0,B=0;B!=k.length;++B){var L=x.slice(x.l,x.l+k[B].len);x.l+=k[B].len,Il(L,0);var Q=x2.utils.decode(W,L);switch(k[B].type){case"C":Q.trim().length&&(d[F][B]=Q.replace(/\s+$/,""));break;case"D":Q.length===8?d[F][B]=new Date(+Q.slice(0,4),+Q.slice(4,6)-1,+Q.slice(6,8)):d[F][B]=Q;break;case"F":d[F][B]=parseFloat(Q.trim());break;case"+":case"I":d[F][B]=I?L.read_shift(-4,"i")^2147483648:L.read_shift(4,"i");break;case"L":switch(Q.trim().toUpperCase()){case"Y":case"T":d[F][B]=!0;break;case"N":case"F":d[F][B]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+Q+"|")}break;case"M":if(!A)throw new Error("DBF Unexpected MEMO for type "+w.toString(16));d[F][B]="##MEMO##"+(I?parseInt(Q.trim(),10):L.read_shift(4));break;case"N":Q=Q.replace(/\u0000/g,"").trim(),Q&&Q!="."&&(d[F][B]=+Q||0);break;case"@":d[F][B]=new Date(L.read_shift(-8,"f")-621356832e5);break;case"T":d[F][B]=new Date((L.read_shift(4)-2440588)*864e5+L.read_shift(4));break;case"Y":d[F][B]=L.read_shift(4,"i")/1e4+L.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":d[F][B]=-L.read_shift(-8,"f");break;case"B":if(E&&k[B].len==8){d[F][B]=L.read_shift(8,"f");break}case"G":case"P":L.l+=k[B].len;break;case"0":if(k[B].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+k[B].type)}}}if(w!=2&&x.l<x.length&&x[x.l++]!=26)throw new Error("DBF EOF Marker missing "+(x.l-1)+" of "+x.length+" "+x[x.l-1].toString(16));return f&&f.sheetRows&&(d=d.slice(0,f.sheetRows)),f.DBF=k,d}function r(u,f){var d=f||{};d.dateNF||(d.dateNF="yyyymmdd");var x=G0(t(u,d),d);return x["!cols"]=d.DBF.map(function(w){return{wch:w.len,DBF:w}}),delete d.DBF,x}function i(u,f){try{return ad(r(u,f),f)}catch(d){if(f&&f.WTF)throw d}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function o(u,f){var d=f||{};if(+d.codepage>=0&&vm(+d.codepage),d.type=="string")throw new Error("Cannot write DBF to JS string");var x=ml(),w=R2(u,{header:1,raw:!0,cellDates:!0}),A=w[0],E=w.slice(1),I=u["!cols"]||[],C=0,M=0,j=0,W=1;for(C=0;C<A.length;++C){if(((I[C]||{}).DBF||{}).name){A[C]=I[C].DBF.name,++j;continue}if(A[C]!=null){if(++j,typeof A[C]=="number"&&(A[C]=A[C].toString(10)),typeof A[C]!="string")throw new Error("DBF Invalid column name "+A[C]+" |"+typeof A[C]+"|");if(A.indexOf(A[C])!==C){for(M=0;M<1024;++M)if(A.indexOf(A[C]+"_"+M)==-1){A[C]+="_"+M;break}}}}var k=as(u["!ref"]),G=[],ce=[],re=[];for(C=0;C<=k.e.c-k.s.c;++C){var F="",B="",L=0,Q=[];for(M=0;M<E.length;++M)E[M][C]!=null&&Q.push(E[M][C]);if(Q.length==0||A[C]==null){G[C]="?";continue}for(M=0;M<Q.length;++M){switch(typeof Q[M]){case"number":B="B";break;case"string":B="C";break;case"boolean":B="L";break;case"object":B=Q[M]instanceof Date?"D":"C";break;default:B="C"}L=Math.max(L,String(Q[M]).length),F=F&&F!=B?"C":B}L>250&&(L=250),B=((I[C]||{}).DBF||{}).type,B=="C"&&I[C].DBF.len>L&&(L=I[C].DBF.len),F=="B"&&B=="N"&&(F="N",re[C]=I[C].DBF.dec,L=I[C].DBF.len),ce[C]=F=="C"||B=="N"?L:s[F]||0,W+=ce[C],G[C]=F}var U=x.next(32);for(U.write_shift(4,318902576),U.write_shift(4,E.length),U.write_shift(2,296+32*j),U.write_shift(2,W),C=0;C<4;++C)U.write_shift(4,0);for(U.write_shift(4,0|(+e[LR]||3)<<8),C=0,M=0;C<A.length;++C)if(A[C]!=null){var q=x.next(32),Y=(A[C].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);q.write_shift(1,Y,"sbcs"),q.write_shift(1,G[C]=="?"?"C":G[C],"sbcs"),q.write_shift(4,M),q.write_shift(1,ce[C]||s[G[C]]||0),q.write_shift(1,re[C]||0),q.write_shift(1,2),q.write_shift(4,0),q.write_shift(1,0),q.write_shift(4,0),q.write_shift(4,0),M+=ce[C]||s[G[C]]||0}var ne=x.next(264);for(ne.write_shift(4,13),C=0;C<65;++C)ne.write_shift(4,0);for(C=0;C<E.length;++C){var pe=x.next(W);for(pe.write_shift(1,0),M=0;M<A.length;++M)if(A[M]!=null)switch(G[M]){case"L":pe.write_shift(1,E[C][M]==null?63:E[C][M]?84:70);break;case"B":pe.write_shift(8,E[C][M]||0,"f");break;case"N":var Ae="0";for(typeof E[C][M]=="number"&&(Ae=E[C][M].toFixed(re[M]||0)),j=0;j<ce[M]-Ae.length;++j)pe.write_shift(1,32);pe.write_shift(1,Ae,"sbcs");break;case"D":E[C][M]?(pe.write_shift(4,("0000"+E[C][M].getFullYear()).slice(-4),"sbcs"),pe.write_shift(2,("00"+(E[C][M].getMonth()+1)).slice(-2),"sbcs"),pe.write_shift(2,("00"+E[C][M].getDate()).slice(-2),"sbcs")):pe.write_shift(8,"00000000","sbcs");break;case"C":var ve=String(E[C][M]!=null?E[C][M]:"").slice(0,ce[M]);for(pe.write_shift(1,ve,"sbcs"),j=0;j<ce[M]-ve.length;++j)pe.write_shift(1,32);break}}return x.next(1).write_shift(1,26),x.end()}return{to_workbook:i,to_sheet:r,from_sheet:o}})(),$$=(function(){var n={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+xo(n).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),t=function(A,E){var I=n[E];return typeof I=="number"?QT(I):I},r=function(A,E,I){var C=E.charCodeAt(0)-32<<4|I.charCodeAt(0)-48;return C==59?A:QT(C)};n["|"]=254;function i(A,E){switch(E.type){case"base64":return s(Zu(A),E);case"binary":return s(A,E);case"buffer":return s(gi&&Buffer.isBuffer(A)?A.toString("binary"):qm(A),E);case"array":return s(xx(A),E)}throw new Error("Unrecognized type "+E.type)}function s(A,E){var I=A.split(/[\n\r]+/),C=-1,M=-1,j=0,W=0,k=[],G=[],ce=null,re={},F=[],B=[],L=[],Q=0,U;for(+E.codepage>=0&&vm(+E.codepage);j!==I.length;++j){Q=0;var q=I[j].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,r).replace(e,t),Y=q.replace(/;;/g,"\0").split(";").map(function(oe){return oe.replace(/\u0000/g,";")}),ne=Y[0],pe;if(q.length>0)switch(ne){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":Y[1].charAt(0)=="P"&&G.push(q.slice(3).replace(/;;/g,";"));break;case"C":var Ae=!1,ve=!1,Re=!1,He=!1,ze=-1,xe=-1;for(W=1;W<Y.length;++W)switch(Y[W].charAt(0)){case"A":break;case"X":M=parseInt(Y[W].slice(1))-1,ve=!0;break;case"Y":for(C=parseInt(Y[W].slice(1))-1,ve||(M=0),U=k.length;U<=C;++U)k[U]=[];break;case"K":pe=Y[W].slice(1),pe.charAt(0)==='"'?pe=pe.slice(1,pe.length-1):pe==="TRUE"?pe=!0:pe==="FALSE"?pe=!1:isNaN(qu(pe))?isNaN(ym(pe).getDate())||(pe=Xo(pe)):(pe=qu(pe),ce!==null&&WR(ce)&&(pe=QR(pe))),Ae=!0;break;case"E":He=!0;var H=KZ(Y[W].slice(1),{r:C,c:M});k[C][M]=[k[C][M],H];break;case"S":Re=!0,k[C][M]=[k[C][M],"S5S"];break;case"G":break;case"R":ze=parseInt(Y[W].slice(1))-1;break;case"C":xe=parseInt(Y[W].slice(1))-1;break;default:if(E&&E.WTF)throw new Error("SYLK bad record "+q)}if(Ae&&(k[C][M]&&k[C][M].length==2?k[C][M][0]=pe:k[C][M]=pe,ce=null),Re){if(He)throw new Error("SYLK shared formula cannot have own formula");var J=ze>-1&&k[ze][xe];if(!J||!J[1])throw new Error("SYLK shared formula cannot find base");k[C][M][1]=QZ(J[1],{r:C-ze,c:M-xe})}break;case"F":var Z=0;for(W=1;W<Y.length;++W)switch(Y[W].charAt(0)){case"X":M=parseInt(Y[W].slice(1))-1,++Z;break;case"Y":for(C=parseInt(Y[W].slice(1))-1,U=k.length;U<=C;++U)k[U]=[];break;case"M":Q=parseInt(Y[W].slice(1))/20;break;case"F":break;case"G":break;case"P":ce=G[parseInt(Y[W].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(L=Y[W].slice(1).split(" "),U=parseInt(L[0],10);U<=parseInt(L[1],10);++U)Q=parseInt(L[2],10),B[U-1]=Q===0?{hidden:!0}:{wch:Q},J5(B[U-1]);break;case"C":M=parseInt(Y[W].slice(1))-1,B[M]||(B[M]={});break;case"R":C=parseInt(Y[W].slice(1))-1,F[C]||(F[C]={}),Q>0?(F[C].hpt=Q,F[C].hpx=jO(Q)):Q===0&&(F[C].hidden=!0);break;default:if(E&&E.WTF)throw new Error("SYLK bad record "+q)}Z<1&&(ce=null);break;default:if(E&&E.WTF)throw new Error("SYLK bad record "+q)}}return F.length>0&&(re["!rows"]=F),B.length>0&&(re["!cols"]=B),E&&E.sheetRows&&(k=k.slice(0,E.sheetRows)),[k,re]}function o(A,E){var I=i(A,E),C=I[0],M=I[1],j=G0(C,E);return xo(M).forEach(function(W){j[W]=M[W]}),j}function u(A,E){return ad(o(A,E),E)}function f(A,E,I,C){var M="C;Y"+(I+1)+";X"+(C+1)+";K";switch(A.t){case"n":M+=A.v||0,A.f&&!A.F&&(M+=";E"+tb(A.f,{r:I,c:C}));break;case"b":M+=A.v?"TRUE":"FALSE";break;case"e":M+=A.w||A.v;break;case"d":M+='"'+(A.w||A.v)+'"';break;case"s":M+='"'+A.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return M}function d(A,E){E.forEach(function(I,C){var M="F;W"+(C+1)+" "+(C+1)+" ";I.hidden?M+="0":(typeof I.width=="number"&&!I.wpx&&(I.wpx=T2(I.width)),typeof I.wpx=="number"&&!I.wch&&(I.wch=N2(I.wpx)),typeof I.wch=="number"&&(M+=Math.round(I.wch))),M.charAt(M.length-1)!=" "&&A.push(M)})}function x(A,E){E.forEach(function(I,C){var M="F;";I.hidden?M+="M0;":I.hpt?M+="M"+20*I.hpt+";":I.hpx&&(M+="M"+20*C2(I.hpx)+";"),M.length>2&&A.push(M+"R"+(C+1))})}function w(A,E){var I=["ID;PWXL;N;E"],C=[],M=as(A["!ref"]),j,W=Array.isArray(A),k=`\r
`;I.push("P;PGeneral"),I.push("F;P0;DG0G8;M255"),A["!cols"]&&d(I,A["!cols"]),A["!rows"]&&x(I,A["!rows"]),I.push("B;Y"+(M.e.r-M.s.r+1)+";X"+(M.e.c-M.s.c+1)+";D"+[M.s.c,M.s.r,M.e.c,M.e.r].join(" "));for(var G=M.s.r;G<=M.e.r;++G)for(var ce=M.s.c;ce<=M.e.c;++ce){var re=Ni({r:G,c:ce});j=W?(A[G]||[])[ce]:A[re],!(!j||j.v==null&&(!j.f||j.F))&&C.push(f(j,A,G,ce))}return I.join(k)+k+C.join(k)+k+"E"+k}return{to_workbook:u,to_sheet:o,from_sheet:w}})(),Z$=(function(){function n(s,o){switch(o.type){case"base64":return e(Zu(s),o);case"binary":return e(s,o);case"buffer":return e(gi&&Buffer.isBuffer(s)?s.toString("binary"):qm(s),o);case"array":return e(xx(s),o)}throw new Error("Unrecognized type "+o.type)}function e(s,o){for(var u=s.split(`
`),f=-1,d=-1,x=0,w=[];x!==u.length;++x){if(u[x].trim()==="BOT"){w[++f]=[],d=0;continue}if(!(f<0)){var A=u[x].trim().split(","),E=A[0],I=A[1];++x;for(var C=u[x]||"";(C.match(/["]/g)||[]).length&1&&x<u.length-1;)C+=`
`+u[++x];switch(C=C.trim(),+E){case-1:if(C==="BOT"){w[++f]=[],d=0;continue}else if(C!=="EOD")throw new Error("Unrecognized DIF special command "+C);break;case 0:C==="TRUE"?w[f][d]=!0:C==="FALSE"?w[f][d]=!1:isNaN(qu(I))?isNaN(ym(I).getDate())?w[f][d]=I:w[f][d]=Xo(I):w[f][d]=qu(I),++d;break;case 1:C=C.slice(1,C.length-1),C=C.replace(/""/g,'"'),C&&C.match(/^=".*"$/)&&(C=C.slice(2,-1)),w[f][d++]=C!==""?C:null;break}if(C==="EOD")break}}return o&&o.sheetRows&&(w=w.slice(0,o.sheetRows)),w}function t(s,o){return G0(n(s,o),o)}function r(s,o){return ad(t(s,o),o)}var i=(function(){var s=function(f,d,x,w,A){f.push(d),f.push(x+","+w),f.push('"'+A.replace(/"/g,'""')+'"')},o=function(f,d,x,w){f.push(d+","+x),f.push(d==1?'"'+w.replace(/"/g,'""')+'"':w)};return function(f){var d=[],x=as(f["!ref"]),w,A=Array.isArray(f);s(d,"TABLE",0,1,"sheetjs"),s(d,"VECTORS",0,x.e.r-x.s.r+1,""),s(d,"TUPLES",0,x.e.c-x.s.c+1,""),s(d,"DATA",0,0,"");for(var E=x.s.r;E<=x.e.r;++E){o(d,-1,0,"BOT");for(var I=x.s.c;I<=x.e.c;++I){var C=Ni({r:E,c:I});if(w=A?(f[E]||[])[I]:f[C],!w){o(d,1,0,"");continue}switch(w.t){case"n":var M=w.w;!M&&w.v!=null&&(M=w.v),M==null?w.f&&!w.F?o(d,1,0,"="+w.f):o(d,1,0,""):o(d,0,M,"V");break;case"b":o(d,0,w.v?1:0,w.v?"TRUE":"FALSE");break;case"s":o(d,1,0,isNaN(w.v)?w.v:'="'+w.v+'"');break;case"d":w.w||(w.w=ef(w.z||Fs[14],gl(Xo(w.v)))),o(d,0,w.w,"V");break;default:o(d,1,0,"")}}}o(d,-1,0,"EOD");var j=`\r
`,W=d.join(j);return W}})();return{to_workbook:r,to_sheet:t,from_sheet:i}})(),MO=(function(){function n(w){return w.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(w){return w.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function t(w,A){for(var E=w.split(`
`),I=-1,C=-1,M=0,j=[];M!==E.length;++M){var W=E[M].trim().split(":");if(W[0]==="cell"){var k=Qa(W[1]);if(j.length<=k.r)for(I=j.length;I<=k.r;++I)j[I]||(j[I]=[]);switch(I=k.r,C=k.c,W[2]){case"t":j[I][C]=n(W[3]);break;case"v":j[I][C]=+W[3];break;case"vtf":var G=W[W.length-1];case"vtc":switch(W[3]){case"nl":j[I][C]=!!+W[4];break;default:j[I][C]=+W[4];break}W[2]=="vtf"&&(j[I][C]=[j[I][C],G])}}}return A&&A.sheetRows&&(j=j.slice(0,A.sheetRows)),j}function r(w,A){return G0(t(w,A),A)}function i(w,A){return ad(r(w,A),A)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,u=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),f="--SocialCalcSpreadsheetControlSave--";function d(w){if(!w||!w["!ref"])return"";for(var A=[],E=[],I,C="",M=Vl(w["!ref"]),j=Array.isArray(w),W=M.s.r;W<=M.e.r;++W)for(var k=M.s.c;k<=M.e.c;++k)if(C=Ni({r:W,c:k}),I=j?(w[W]||[])[k]:w[C],!(!I||I.v==null||I.t==="z")){switch(E=["cell",C,"t"],I.t){case"s":case"str":E.push(e(I.v));break;case"n":I.f?(E[2]="vtf",E[3]="n",E[4]=I.v,E[5]=e(I.f)):(E[2]="v",E[3]=I.v);break;case"b":E[2]="vt"+(I.f?"f":"c"),E[3]="nl",E[4]=I.v?"1":"0",E[5]=e(I.f||(I.v?"TRUE":"FALSE"));break;case"d":var G=gl(Xo(I.v));E[2]="vtc",E[3]="nd",E[4]=""+G,E[5]=I.w||ef(I.z||Fs[14],G);break;case"e":continue}A.push(E.join(":"))}return A.push("sheet:c:"+(M.e.c-M.s.c+1)+":r:"+(M.e.r-M.s.r+1)+":tvf:1"),A.push("valueformat:1:text-wiki"),A.join(`
`)}function x(w){return[s,o,u,o,d(w),f].join(`
`)}return{to_workbook:i,to_sheet:r,from_sheet:x}})(),J$=(function(){function n(x,w,A,E,I){I.raw?w[A][E]=x:x===""||(x==="TRUE"?w[A][E]=!0:x==="FALSE"?w[A][E]=!1:isNaN(qu(x))?isNaN(ym(x).getDate())?w[A][E]=x:w[A][E]=Xo(x):w[A][E]=qu(x))}function e(x,w){var A=w||{},E=[];if(!x||x.length===0)return E;for(var I=x.split(/[\r\n]/),C=I.length-1;C>=0&&I[C].length===0;)--C;for(var M=10,j=0,W=0;W<=C;++W)j=I[W].indexOf(" "),j==-1?j=I[W].length:j++,M=Math.max(M,j);for(W=0;W<=C;++W){E[W]=[];var k=0;for(n(I[W].slice(0,M).trim(),E,W,k,A),k=1;k<=(I[W].length-M)/10+1;++k)n(I[W].slice(M+(k-1)*10,M+k*10).trim(),E,W,k,A)}return A.sheetRows&&(E=E.slice(0,A.sheetRows)),E}var t={44:",",9:"	",59:";",124:"|"},r={44:3,9:2,59:1,124:0};function i(x){for(var w={},A=!1,E=0,I=0;E<x.length;++E)(I=x.charCodeAt(E))==34?A=!A:!A&&I in t&&(w[I]=(w[I]||0)+1);I=[];for(E in w)Object.prototype.hasOwnProperty.call(w,E)&&I.push([w[E],E]);if(!I.length){w=r;for(E in w)Object.prototype.hasOwnProperty.call(w,E)&&I.push([w[E],E])}return I.sort(function(C,M){return C[0]-M[0]||r[C[1]]-r[M[1]]}),t[I.pop()[1]]||44}function s(x,w){var A=w||{},E="",I=A.dense?[]:{},C={s:{c:0,r:0},e:{c:0,r:0}};x.slice(0,4)=="sep="?x.charCodeAt(5)==13&&x.charCodeAt(6)==10?(E=x.charAt(4),x=x.slice(7)):x.charCodeAt(5)==13||x.charCodeAt(5)==10?(E=x.charAt(4),x=x.slice(6)):E=i(x.slice(0,1024)):A&&A.FS?E=A.FS:E=i(x.slice(0,1024));var M=0,j=0,W=0,k=0,G=0,ce=E.charCodeAt(0),re=!1,F=0,B=x.charCodeAt(0);x=x.replace(/\r\n/mg,`
`);var L=A.dateNF!=null?gQ(A.dateNF):null;function Q(){var U=x.slice(k,G),q={};if(U.charAt(0)=='"'&&U.charAt(U.length-1)=='"'&&(U=U.slice(1,-1).replace(/""/g,'"')),U.length===0)q.t="z";else if(A.raw)q.t="s",q.v=U;else if(U.trim().length===0)q.t="s",q.v=U;else if(U.charCodeAt(0)==61)U.charCodeAt(1)==34&&U.charCodeAt(U.length-1)==34?(q.t="s",q.v=U.slice(2,-1).replace(/""/g,'"')):$Z(U)?(q.t="n",q.f=U.slice(1)):(q.t="s",q.v=U);else if(U=="TRUE")q.t="b",q.v=!0;else if(U=="FALSE")q.t="b",q.v=!1;else if(!isNaN(W=qu(U)))q.t="n",A.cellText!==!1&&(q.w=U),q.v=W;else if(!isNaN(ym(U).getDate())||L&&U.match(L)){q.z=A.dateNF||Fs[14];var Y=0;L&&U.match(L)&&(U=pQ(U,A.dateNF,U.match(L)||[]),Y=1),A.cellDates?(q.t="d",q.v=Xo(U,Y)):(q.t="n",q.v=gl(Xo(U,Y))),A.cellText!==!1&&(q.w=ef(q.z,q.v instanceof Date?gl(q.v):q.v)),A.cellNF||delete q.z}else q.t="s",q.v=U;if(q.t=="z"||(A.dense?(I[M]||(I[M]=[]),I[M][j]=q):I[Ni({c:j,r:M})]=q),k=G+1,B=x.charCodeAt(k),C.e.c<j&&(C.e.c=j),C.e.r<M&&(C.e.r=M),F==ce)++j;else if(j=0,++M,A.sheetRows&&A.sheetRows<=M)return!0}e:for(;G<x.length;++G)switch(F=x.charCodeAt(G)){case 34:B===34&&(re=!re);break;case ce:case 10:case 13:if(!re&&Q())break e;break}return G-k>0&&Q(),I["!ref"]=ga(C),I}function o(x,w){return!(w&&w.PRN)||w.FS||x.slice(0,4)=="sep="||x.indexOf("	")>=0||x.indexOf(",")>=0||x.indexOf(";")>=0?s(x,w):G0(e(x,w),w)}function u(x,w){var A="",E=w.type=="string"?[0,0,0,0]:hre(x,w);switch(w.type){case"base64":A=Zu(x);break;case"binary":A=x;break;case"buffer":w.codepage==65001?A=x.toString("utf8"):w.codepage&&typeof x2<"u"||(A=gi&&Buffer.isBuffer(x)?x.toString("binary"):qm(x));break;case"array":A=xx(x);break;case"string":A=x;break;default:throw new Error("Unrecognized type "+w.type)}return E[0]==239&&E[1]==187&&E[2]==191?A=tm(A.slice(3)):w.type!="string"&&w.type!="buffer"&&w.codepage==65001?A=tm(A):w.type=="binary"&&typeof x2<"u",A.slice(0,19)=="socialcalc:version:"?MO.to_sheet(w.type=="string"?A:tm(A),w):o(A,w)}function f(x,w){return ad(u(x,w),w)}function d(x){for(var w=[],A=as(x["!ref"]),E,I=Array.isArray(x),C=A.s.r;C<=A.e.r;++C){for(var M=[],j=A.s.c;j<=A.e.c;++j){var W=Ni({r:C,c:j});if(E=I?(x[C]||[])[j]:x[W],!E||E.v==null){M.push("          ");continue}for(var k=(E.w||(Ju(E),E.w)||"").slice(0,10);k.length<10;)k+=" ";M.push(k+(j===0?" ":""))}w.push(M.join(""))}return w.join(`
`)}return{to_workbook:f,to_sheet:u,from_sheet:d}})(),NN=(function(){function n(H,J,Z){if(H){Il(H,H.l||0);for(var oe=Z.Enum||ze;H.l<H.length;){var de=H.read_shift(2),Me=oe[de]||oe[65535],Ue=H.read_shift(2),Ve=H.l+Ue,Ie=Me.f&&Me.f(H,Ue,Z);if(H.l=Ve,J(Ie,Me,de))return}}}function e(H,J){switch(J.type){case"base64":return t(vc(Zu(H)),J);case"binary":return t(vc(H),J);case"buffer":case"array":return t(H,J)}throw"Unsupported type "+J.type}function t(H,J){if(!H)return H;var Z=J||{},oe=Z.dense?[]:{},de="Sheet1",Me="",Ue=0,Ve={},Ie=[],nt=[],Tt={s:{r:0,c:0},e:{r:0,c:0}},St=Z.sheetRows||0;if(H[2]==0&&(H[3]==8||H[3]==9)&&H.length>=16&&H[14]==5&&H[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(H[2]==2)Z.Enum=ze,n(H,function(Ge,At,Je){switch(Je){case 0:Z.vers=Ge,Ge>=4096&&(Z.qpro=!0);break;case 6:Tt=Ge;break;case 204:Ge&&(Me=Ge);break;case 222:Me=Ge;break;case 15:case 51:Z.qpro||(Ge[1].v=Ge[1].v.slice(1));case 13:case 14:case 16:Je==14&&(Ge[2]&112)==112&&(Ge[2]&15)>1&&(Ge[2]&15)<15&&(Ge[1].z=Z.dateNF||Fs[14],Z.cellDates&&(Ge[1].t="d",Ge[1].v=QR(Ge[1].v))),Z.qpro&&Ge[3]>Ue&&(oe["!ref"]=ga(Tt),Ve[de]=oe,Ie.push(de),oe=Z.dense?[]:{},Tt={s:{r:0,c:0},e:{r:0,c:0}},Ue=Ge[3],de=Me||"Sheet"+(Ue+1),Me="");var Zt=Z.dense?(oe[Ge[0].r]||[])[Ge[0].c]:oe[Ni(Ge[0])];if(Zt){Zt.t=Ge[1].t,Zt.v=Ge[1].v,Ge[1].z!=null&&(Zt.z=Ge[1].z),Ge[1].f!=null&&(Zt.f=Ge[1].f);break}Z.dense?(oe[Ge[0].r]||(oe[Ge[0].r]=[]),oe[Ge[0].r][Ge[0].c]=Ge[1]):oe[Ni(Ge[0])]=Ge[1];break}},Z);else if(H[2]==26||H[2]==14)Z.Enum=xe,H[2]==14&&(Z.qpro=!0,H.l=0),n(H,function(Ge,At,Je){switch(Je){case 204:de=Ge;break;case 22:Ge[1].v=Ge[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Ge[3]>Ue&&(oe["!ref"]=ga(Tt),Ve[de]=oe,Ie.push(de),oe=Z.dense?[]:{},Tt={s:{r:0,c:0},e:{r:0,c:0}},Ue=Ge[3],de="Sheet"+(Ue+1)),St>0&&Ge[0].r>=St)break;Z.dense?(oe[Ge[0].r]||(oe[Ge[0].r]=[]),oe[Ge[0].r][Ge[0].c]=Ge[1]):oe[Ni(Ge[0])]=Ge[1],Tt.e.c<Ge[0].c&&(Tt.e.c=Ge[0].c),Tt.e.r<Ge[0].r&&(Tt.e.r=Ge[0].r);break;case 27:Ge[14e3]&&(nt[Ge[14e3][0]]=Ge[14e3][1]);break;case 1537:nt[Ge[0]]=Ge[1],Ge[0]==Ue&&(de=Ge[1]);break}},Z);else throw new Error("Unrecognized LOTUS BOF "+H[2]);if(oe["!ref"]=ga(Tt),Ve[Me||de]=oe,Ie.push(Me||de),!nt.length)return{SheetNames:Ie,Sheets:Ve};for(var Rt={},le=[],ot=0;ot<nt.length;++ot)Ve[Ie[ot]]?(le.push(nt[ot]||Ie[ot]),Rt[nt[ot]]=Ve[nt[ot]]||Ve[Ie[ot]]):(le.push(nt[ot]),Rt[nt[ot]]={"!ref":"A1"});return{SheetNames:le,Sheets:Rt}}function r(H,J){var Z=J||{};if(+Z.codepage>=0&&vm(+Z.codepage),Z.type=="string")throw new Error("Cannot write WK1 to JS string");var oe=ml(),de=as(H["!ref"]),Me=Array.isArray(H),Ue=[];xn(oe,0,s(1030)),xn(oe,6,f(de));for(var Ve=Math.min(de.e.r,8191),Ie=de.s.r;Ie<=Ve;++Ie)for(var nt=po(Ie),Tt=de.s.c;Tt<=de.e.c;++Tt){Ie===de.s.r&&(Ue[Tt]=Do(Tt));var St=Ue[Tt]+nt,Rt=Me?(H[Ie]||[])[Tt]:H[St];if(!(!Rt||Rt.t=="z"))if(Rt.t=="n")(Rt.v|0)==Rt.v&&Rt.v>=-32768&&Rt.v<=32767?xn(oe,13,E(Ie,Tt,Rt.v)):xn(oe,14,C(Ie,Tt,Rt.v));else{var le=Ju(Rt);xn(oe,15,w(Ie,Tt,le.slice(0,239)))}}return xn(oe,1),oe.end()}function i(H,J){var Z=J||{};if(+Z.codepage>=0&&vm(+Z.codepage),Z.type=="string")throw new Error("Cannot write WK3 to JS string");var oe=ml();xn(oe,0,o(H));for(var de=0,Me=0;de<H.SheetNames.length;++de)(H.Sheets[H.SheetNames[de]]||{})["!ref"]&&xn(oe,27,He(H.SheetNames[de],Me++));var Ue=0;for(de=0;de<H.SheetNames.length;++de){var Ve=H.Sheets[H.SheetNames[de]];if(!(!Ve||!Ve["!ref"])){for(var Ie=as(Ve["!ref"]),nt=Array.isArray(Ve),Tt=[],St=Math.min(Ie.e.r,8191),Rt=Ie.s.r;Rt<=St;++Rt)for(var le=po(Rt),ot=Ie.s.c;ot<=Ie.e.c;++ot){Rt===Ie.s.r&&(Tt[ot]=Do(ot));var Ge=Tt[ot]+le,At=nt?(Ve[Rt]||[])[ot]:Ve[Ge];if(!(!At||At.t=="z"))if(At.t=="n")xn(oe,23,Q(Rt,ot,Ue,At.v));else{var Je=Ju(At);xn(oe,22,F(Rt,ot,Ue,Je.slice(0,239)))}}++Ue}}return xn(oe,1),oe.end()}function s(H){var J=jt(2);return J.write_shift(2,H),J}function o(H){var J=jt(26);J.write_shift(2,4096),J.write_shift(2,4),J.write_shift(4,0);for(var Z=0,oe=0,de=0,Me=0;Me<H.SheetNames.length;++Me){var Ue=H.SheetNames[Me],Ve=H.Sheets[Ue];if(!(!Ve||!Ve["!ref"])){++de;var Ie=Vl(Ve["!ref"]);Z<Ie.e.r&&(Z=Ie.e.r),oe<Ie.e.c&&(oe=Ie.e.c)}}return Z>8191&&(Z=8191),J.write_shift(2,Z),J.write_shift(1,de),J.write_shift(1,oe),J.write_shift(2,0),J.write_shift(2,0),J.write_shift(1,1),J.write_shift(1,2),J.write_shift(4,0),J.write_shift(4,0),J}function u(H,J,Z){var oe={s:{c:0,r:0},e:{c:0,r:0}};return J==8&&Z.qpro?(oe.s.c=H.read_shift(1),H.l++,oe.s.r=H.read_shift(2),oe.e.c=H.read_shift(1),H.l++,oe.e.r=H.read_shift(2),oe):(oe.s.c=H.read_shift(2),oe.s.r=H.read_shift(2),J==12&&Z.qpro&&(H.l+=2),oe.e.c=H.read_shift(2),oe.e.r=H.read_shift(2),J==12&&Z.qpro&&(H.l+=2),oe.s.c==65535&&(oe.s.c=oe.e.c=oe.s.r=oe.e.r=0),oe)}function f(H){var J=jt(8);return J.write_shift(2,H.s.c),J.write_shift(2,H.s.r),J.write_shift(2,H.e.c),J.write_shift(2,H.e.r),J}function d(H,J,Z){var oe=[{c:0,r:0},{t:"n",v:0},0,0];return Z.qpro&&Z.vers!=20768?(oe[0].c=H.read_shift(1),oe[3]=H.read_shift(1),oe[0].r=H.read_shift(2),H.l+=2):(oe[2]=H.read_shift(1),oe[0].c=H.read_shift(2),oe[0].r=H.read_shift(2)),oe}function x(H,J,Z){var oe=H.l+J,de=d(H,J,Z);if(de[1].t="s",Z.vers==20768){H.l++;var Me=H.read_shift(1);return de[1].v=H.read_shift(Me,"utf8"),de}return Z.qpro&&H.l++,de[1].v=H.read_shift(oe-H.l,"cstr"),de}function w(H,J,Z){var oe=jt(7+Z.length);oe.write_shift(1,255),oe.write_shift(2,J),oe.write_shift(2,H),oe.write_shift(1,39);for(var de=0;de<oe.length;++de){var Me=Z.charCodeAt(de);oe.write_shift(1,Me>=128?95:Me)}return oe.write_shift(1,0),oe}function A(H,J,Z){var oe=d(H,J,Z);return oe[1].v=H.read_shift(2,"i"),oe}function E(H,J,Z){var oe=jt(7);return oe.write_shift(1,255),oe.write_shift(2,J),oe.write_shift(2,H),oe.write_shift(2,Z,"i"),oe}function I(H,J,Z){var oe=d(H,J,Z);return oe[1].v=H.read_shift(8,"f"),oe}function C(H,J,Z){var oe=jt(13);return oe.write_shift(1,255),oe.write_shift(2,J),oe.write_shift(2,H),oe.write_shift(8,Z,"f"),oe}function M(H,J,Z){var oe=H.l+J,de=d(H,J,Z);if(de[1].v=H.read_shift(8,"f"),Z.qpro)H.l=oe;else{var Me=H.read_shift(2);G(H.slice(H.l,H.l+Me),de),H.l+=Me}return de}function j(H,J,Z){var oe=J&32768;return J&=-32769,J=(oe?H:0)+(J>=8192?J-16384:J),(oe?"":"$")+(Z?Do(J):po(J))}var W={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},k=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function G(H,J){Il(H,0);for(var Z=[],oe=0,de="",Me="",Ue="",Ve="";H.l<H.length;){var Ie=H[H.l++];switch(Ie){case 0:Z.push(H.read_shift(8,"f"));break;case 1:Me=j(J[0].c,H.read_shift(2),!0),de=j(J[0].r,H.read_shift(2),!1),Z.push(Me+de);break;case 2:{var nt=j(J[0].c,H.read_shift(2),!0),Tt=j(J[0].r,H.read_shift(2),!1);Me=j(J[0].c,H.read_shift(2),!0),de=j(J[0].r,H.read_shift(2),!1),Z.push(nt+Tt+":"+Me+de)}break;case 3:if(H.l<H.length){console.error("WK1 premature formula end");return}break;case 4:Z.push("("+Z.pop()+")");break;case 5:Z.push(H.read_shift(2));break;case 6:{for(var St="";Ie=H[H.l++];)St+=String.fromCharCode(Ie);Z.push('"'+St.replace(/"/g,'""')+'"')}break;case 8:Z.push("-"+Z.pop());break;case 23:Z.push("+"+Z.pop());break;case 22:Z.push("NOT("+Z.pop()+")");break;case 20:case 21:Ve=Z.pop(),Ue=Z.pop(),Z.push(["AND","OR"][Ie-20]+"("+Ue+","+Ve+")");break;default:if(Ie<32&&k[Ie])Ve=Z.pop(),Ue=Z.pop(),Z.push(Ue+k[Ie]+Ve);else if(W[Ie]){if(oe=W[Ie][1],oe==69&&(oe=H[H.l++]),oe>Z.length){console.error("WK1 bad formula parse 0x"+Ie.toString(16)+":|"+Z.join("|")+"|");return}var Rt=Z.slice(-oe);Z.length-=oe,Z.push(W[Ie][0]+"("+Rt.join(",")+")")}else return Ie<=7?console.error("WK1 invalid opcode "+Ie.toString(16)):Ie<=24?console.error("WK1 unsupported op "+Ie.toString(16)):Ie<=30?console.error("WK1 invalid opcode "+Ie.toString(16)):Ie<=115?console.error("WK1 unsupported function opcode "+Ie.toString(16)):console.error("WK1 unrecognized opcode "+Ie.toString(16))}}Z.length==1?J[1].f=""+Z[0]:console.error("WK1 bad formula parse |"+Z.join("|")+"|")}function ce(H){var J=[{c:0,r:0},{t:"n",v:0},0];return J[0].r=H.read_shift(2),J[3]=H[H.l++],J[0].c=H[H.l++],J}function re(H,J){var Z=ce(H);return Z[1].t="s",Z[1].v=H.read_shift(J-4,"cstr"),Z}function F(H,J,Z,oe){var de=jt(6+oe.length);de.write_shift(2,H),de.write_shift(1,Z),de.write_shift(1,J),de.write_shift(1,39);for(var Me=0;Me<oe.length;++Me){var Ue=oe.charCodeAt(Me);de.write_shift(1,Ue>=128?95:Ue)}return de.write_shift(1,0),de}function B(H,J){var Z=ce(H);Z[1].v=H.read_shift(2);var oe=Z[1].v>>1;if(Z[1].v&1)switch(oe&7){case 0:oe=(oe>>3)*5e3;break;case 1:oe=(oe>>3)*500;break;case 2:oe=(oe>>3)/20;break;case 3:oe=(oe>>3)/200;break;case 4:oe=(oe>>3)/2e3;break;case 5:oe=(oe>>3)/2e4;break;case 6:oe=(oe>>3)/16;break;case 7:oe=(oe>>3)/64;break}return Z[1].v=oe,Z}function L(H,J){var Z=ce(H),oe=H.read_shift(4),de=H.read_shift(4),Me=H.read_shift(2);if(Me==65535)return oe===0&&de===3221225472?(Z[1].t="e",Z[1].v=15):oe===0&&de===3489660928?(Z[1].t="e",Z[1].v=42):Z[1].v=0,Z;var Ue=Me&32768;return Me=(Me&32767)-16446,Z[1].v=(1-Ue*2)*(de*Math.pow(2,Me+32)+oe*Math.pow(2,Me)),Z}function Q(H,J,Z,oe){var de=jt(14);if(de.write_shift(2,H),de.write_shift(1,Z),de.write_shift(1,J),oe==0)return de.write_shift(4,0),de.write_shift(4,0),de.write_shift(2,65535),de;var Me=0,Ue=0,Ve=0,Ie=0;return oe<0&&(Me=1,oe=-oe),Ue=Math.log2(oe)|0,oe/=Math.pow(2,Ue-31),Ie=oe>>>0,(Ie&2147483648)==0&&(oe/=2,++Ue,Ie=oe>>>0),oe-=Ie,Ie|=2147483648,Ie>>>=0,oe*=Math.pow(2,32),Ve=oe>>>0,de.write_shift(4,Ve),de.write_shift(4,Ie),Ue+=16383+(Me?32768:0),de.write_shift(2,Ue),de}function U(H,J){var Z=L(H);return H.l+=J-14,Z}function q(H,J){var Z=ce(H),oe=H.read_shift(4);return Z[1].v=oe>>6,Z}function Y(H,J){var Z=ce(H),oe=H.read_shift(8,"f");return Z[1].v=oe,Z}function ne(H,J){var Z=Y(H);return H.l+=J-10,Z}function pe(H,J){return H[H.l+J-1]==0?H.read_shift(J,"cstr"):""}function Ae(H,J){var Z=H[H.l++];Z>J-1&&(Z=J-1);for(var oe="";oe.length<Z;)oe+=String.fromCharCode(H[H.l++]);return oe}function ve(H,J,Z){if(!(!Z.qpro||J<21)){var oe=H.read_shift(1);H.l+=17,H.l+=1,H.l+=2;var de=H.read_shift(J-21,"cstr");return[oe,de]}}function Re(H,J){for(var Z={},oe=H.l+J;H.l<oe;){var de=H.read_shift(2);if(de==14e3){for(Z[de]=[0,""],Z[de][0]=H.read_shift(2);H[H.l];)Z[de][1]+=String.fromCharCode(H[H.l]),H.l++;H.l++}}return Z}function He(H,J){var Z=jt(5+H.length);Z.write_shift(2,14e3),Z.write_shift(2,J);for(var oe=0;oe<H.length;++oe){var de=H.charCodeAt(oe);Z[Z.l++]=de>127?95:de}return Z[Z.l++]=0,Z}var ze={0:{n:"BOF",f:CO},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:u},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:A},14:{n:"NUMBER",f:I},15:{n:"LABEL",f:x},16:{n:"FORMULA",f:M},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:x},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:pe},222:{n:"SHEETNAMELP",f:Ae},65535:{n:""}},xe={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:re},23:{n:"NUMBER17",f:L},24:{n:"NUMBER18",f:B},25:{n:"FORMULA19",f:U},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:Re},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:q},38:{n:"??"},39:{n:"NUMBER27",f:Y},40:{n:"FORMULA28",f:ne},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:pe},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:ve},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:r,book_to_wk3:i,to_workbook:e}})(),eZ=/^\s|\s$|[\t\n\r]/;function LO(n,e){if(!e.bookSST)return"";var t=[pa];t[t.length]=mn("sst",null,{xmlns:q0[0],count:n.Count,uniqueCount:n.Unique});for(var r=0;r!=n.length;++r)if(n[r]!=null){var i=n[r],s="<si>";i.r?s+=i.r:(s+="<t",i.t||(i.t=""),i.t.match(eZ)&&(s+=' xml:space="preserve"'),s+=">"+Si(i.t)+"</t>"),s+="</si>",t[t.length]=s}return t.length>2&&(t[t.length]="</sst>",t[1]=t[1].replace("/>",">")),t.join("")}function tZ(n){return[n.read_shift(4),n.read_shift(4)]}function nZ(n,e){return e||(e=jt(8)),e.write_shift(4,n.Count),e.write_shift(4,n.Unique),e}var rZ=YQ;function iZ(n){var e=ml();Jt(e,159,nZ(n));for(var t=0;t<n.length;++t)Jt(e,19,rZ(n[t]));return Jt(e,160),e.end()}function sZ(n){for(var e=[],t=n.split(""),r=0;r<t.length;++r)e[r]=t[r].charCodeAt(0);return e}function kO(n){var e=0,t,r=sZ(n),i=r.length+1,s,o,u,f,d;for(t=Gf(i),t[0]=r.length,s=1;s!=i;++s)t[s]=r[s-1];for(s=i-1;s>=0;--s)o=t[s],u=(e&16384)===0?0:1,f=e<<1&32767,d=u|f,e=d^o;return e^52811}var aZ=(function(){function n(i,s){switch(s.type){case"base64":return e(Zu(i),s);case"binary":return e(i,s);case"buffer":return e(gi&&Buffer.isBuffer(i)?i.toString("binary"):qm(i),s);case"array":return e(xx(i),s)}throw new Error("Unrecognized type "+s.type)}function e(i,s){var o=s||{},u=o.dense?[]:{},f=i.match(/\\trowd.*?\\row\b/g);if(!f.length)throw new Error("RTF missing table");var d={s:{c:0,r:0},e:{c:0,r:f.length-1}};return f.forEach(function(x,w){Array.isArray(u)&&(u[w]=[]);for(var A=/\\\w+\b/g,E=0,I,C=-1;I=A.exec(x);){switch(I[0]){case"\\cell":var M=x.slice(E,A.lastIndex-I[0].length);if(M[0]==" "&&(M=M.slice(1)),++C,M.length){var j={v:M,t:"s"};Array.isArray(u)?u[w][C]=j:u[Ni({r:w,c:C})]=j}break}E=A.lastIndex}C>d.e.c&&(d.e.c=C)}),u["!ref"]=ga(d),u}function t(i,s){return ad(n(i,s),s)}function r(i){for(var s=["{\\rtf1\\ansi"],o=as(i["!ref"]),u,f=Array.isArray(i),d=o.s.r;d<=o.e.r;++d){s.push("\\trowd\\trautofit1");for(var x=o.s.c;x<=o.e.c;++x)s.push("\\cellx"+(x+1));for(s.push("\\pard\\intbl"),x=o.s.c;x<=o.e.c;++x){var w=Ni({r:d,c:x});u=f?(i[d]||[])[x]:i[w],!(!u||u.v==null&&(!u.f||u.F))&&(s.push(" "+(u.w||(Ju(u),u.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:t,to_sheet:n,from_sheet:r}})();function CN(n){for(var e=0,t=1;e!=3;++e)t=t*256+(n[e]>255?255:n[e]<0?0:n[e]);return t.toString(16).toUpperCase().slice(1)}var oZ=6,Gu=oZ;function T2(n){return Math.floor((n+Math.round(128/Gu)/256)*Gu)}function N2(n){return Math.floor((n-5)/Gu*100+.5)/100}function ow(n){return Math.round((n*Gu+5)/Gu*256)/256}function J5(n){n.width?(n.wpx=T2(n.width),n.wch=N2(n.wpx),n.MDW=Gu):n.wpx?(n.wch=N2(n.wpx),n.width=ow(n.wch),n.MDW=Gu):typeof n.wch=="number"&&(n.width=ow(n.wch),n.wpx=T2(n.width),n.MDW=Gu),n.customWidth&&delete n.customWidth}var lZ=96,PO=lZ;function C2(n){return n*96/PO}function jO(n){return n*PO/96}function cZ(n){var e=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(t){for(var r=t[0];r<=t[1];++r)n[r]!=null&&(e[e.length]=mn("numFmt",null,{numFmtId:r,formatCode:Si(n[r])}))}),e.length===1?"":(e[e.length]="</numFmts>",e[0]=mn("numFmts",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function uZ(n){var e=[];return e[e.length]=mn("cellXfs",null),n.forEach(function(t){e[e.length]=mn("xf",null,t)}),e[e.length]="</cellXfs>",e.length===2?"":(e[0]=mn("cellXfs",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function FO(n,e){var t=[pa,mn("styleSheet",null,{xmlns:q0[0],"xmlns:vt":Ka.vt})],r;return n.SSF&&(r=cZ(n.SSF))!=null&&(t[t.length]=r),t[t.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',t[t.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',t[t.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',t[t.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(r=uZ(e.cellXfs))&&(t[t.length]=r),t[t.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',t[t.length]='<dxfs count="0"/>',t[t.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',t.length>2&&(t[t.length]="</styleSheet>",t[1]=t[1].replace("/>",">")),t.join("")}function hZ(n,e){var t=n.read_shift(2),r=Mo(n);return[t,r]}function fZ(n,e,t){t||(t=jt(6+4*e.length)),t.write_shift(2,n),$a(e,t);var r=t.length>t.l?t.slice(0,t.l):t;return t.l==null&&(t.l=t.length),r}function dZ(n,e,t){var r={};r.sz=n.read_shift(2)/20;var i=e$(n);i.fItalic&&(r.italic=1),i.fCondense&&(r.condense=1),i.fExtend&&(r.extend=1),i.fShadow&&(r.shadow=1),i.fOutline&&(r.outline=1),i.fStrikeout&&(r.strike=1);var s=n.read_shift(2);switch(s===700&&(r.bold=1),n.read_shift(2)){case 1:r.vertAlign="superscript";break;case 2:r.vertAlign="subscript";break}var o=n.read_shift(1);o!=0&&(r.underline=o);var u=n.read_shift(1);u>0&&(r.family=u);var f=n.read_shift(1);switch(f>0&&(r.charset=f),n.l++,r.color=JQ(n),n.read_shift(1)){case 1:r.scheme="major";break;case 2:r.scheme="minor";break}return r.name=Mo(n),r}function mZ(n,e){e||(e=jt(153)),e.write_shift(2,n.sz*20),t$(n,e),e.write_shift(2,n.bold?700:400);var t=0;n.vertAlign=="superscript"?t=1:n.vertAlign=="subscript"&&(t=2),e.write_shift(2,t),e.write_shift(1,n.underline||0),e.write_shift(1,n.family||0),e.write_shift(1,n.charset||0),e.write_shift(1,0),A2(n.color,e);var r=0;return r=2,e.write_shift(1,r),$a(n.name,e),e.length>e.l?e.slice(0,e.l):e}var gZ=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],sy,pZ=cu;function IN(n,e){e||(e=jt(84)),sy||(sy=V5(gZ));var t=sy[n.patternType];t==null&&(t=40),e.write_shift(4,t);var r=0;if(t!=40)for(A2({auto:1},e),A2({auto:1},e);r<12;++r)e.write_shift(4,0);else{for(;r<4;++r)e.write_shift(4,0);for(;r<12;++r)e.write_shift(4,0)}return e.length>e.l?e.slice(0,e.l):e}function xZ(n,e){var t=n.l+e,r=n.read_shift(2),i=n.read_shift(2);return n.l=t,{ixfe:r,numFmtId:i}}function BO(n,e,t){t||(t=jt(16)),t.write_shift(2,e||0),t.write_shift(2,n.numFmtId||0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);var r=0;return t.write_shift(1,r),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(1,0),t}function k1(n,e){return e||(e=jt(10)),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(4,0),e}var vZ=cu;function _Z(n,e){return e||(e=jt(51)),e.write_shift(1,0),k1(null,e),k1(null,e),k1(null,e),k1(null,e),k1(null,e),e.length>e.l?e.slice(0,e.l):e}function yZ(n,e){return e||(e=jt(52)),e.write_shift(4,n.xfId),e.write_shift(2,1),e.write_shift(1,0),e.write_shift(1,0),E2(n.name||"",e),e.length>e.l?e.slice(0,e.l):e}function wZ(n,e,t){var r=jt(2052);return r.write_shift(4,n),E2(e,r),E2(t,r),r.length>r.l?r.slice(0,r.l):r}function bZ(n,e){if(e){var t=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)e[i]!=null&&++t}),t!=0&&(Jt(n,615,Sc(t)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)e[i]!=null&&Jt(n,44,fZ(i,e[i]))}),Jt(n,616))}}function EZ(n){var e=1;Jt(n,611,Sc(e)),Jt(n,43,mZ({sz:12,color:{theme:1},name:"Calibri",family:2})),Jt(n,612)}function AZ(n){var e=2;Jt(n,603,Sc(e)),Jt(n,45,IN({patternType:"none"})),Jt(n,45,IN({patternType:"gray125"})),Jt(n,604)}function SZ(n){var e=1;Jt(n,613,Sc(e)),Jt(n,46,_Z()),Jt(n,614)}function TZ(n){var e=1;Jt(n,626,Sc(e)),Jt(n,47,BO({numFmtId:0},65535)),Jt(n,627)}function NZ(n,e){Jt(n,617,Sc(e.length)),e.forEach(function(t){Jt(n,47,BO(t,0))}),Jt(n,618)}function CZ(n){var e=1;Jt(n,619,Sc(e)),Jt(n,48,yZ({xfId:0,name:"Normal"})),Jt(n,620)}function IZ(n){var e=0;Jt(n,505,Sc(e)),Jt(n,506)}function RZ(n){var e=0;Jt(n,508,wZ(e,"TableStyleMedium9","PivotStyleMedium4")),Jt(n,509)}function OZ(n,e){var t=ml();return Jt(t,278),bZ(t,n.SSF),EZ(t),AZ(t),SZ(t),TZ(t),NZ(t,e.cellXfs),CZ(t),IZ(t),RZ(t),Jt(t,279),t.end()}function UO(n,e){if(e&&e.themeXLSX)return e.themeXLSX;if(n&&typeof n.raw=="string")return n.raw;var t=[pa];return t[t.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',t[t.length]="<a:themeElements>",t[t.length]='<a:clrScheme name="Office">',t[t.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',t[t.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',t[t.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',t[t.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',t[t.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',t[t.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',t[t.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',t[t.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',t[t.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',t[t.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',t[t.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',t[t.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',t[t.length]="</a:clrScheme>",t[t.length]='<a:fontScheme name="Office">',t[t.length]="<a:majorFont>",t[t.length]='<a:latin typeface="Cambria"/>',t[t.length]='<a:ea typeface=""/>',t[t.length]='<a:cs typeface=""/>',t[t.length]='<a:font script="Jpan" typeface=" "/>',t[t.length]='<a:font script="Hang" typeface=" "/>',t[t.length]='<a:font script="Hans" typeface=""/>',t[t.length]='<a:font script="Hant" typeface=""/>',t[t.length]='<a:font script="Arab" typeface="Times New Roman"/>',t[t.length]='<a:font script="Hebr" typeface="Times New Roman"/>',t[t.length]='<a:font script="Thai" typeface="Tahoma"/>',t[t.length]='<a:font script="Ethi" typeface="Nyala"/>',t[t.length]='<a:font script="Beng" typeface="Vrinda"/>',t[t.length]='<a:font script="Gujr" typeface="Shruti"/>',t[t.length]='<a:font script="Khmr" typeface="MoolBoran"/>',t[t.length]='<a:font script="Knda" typeface="Tunga"/>',t[t.length]='<a:font script="Guru" typeface="Raavi"/>',t[t.length]='<a:font script="Cans" typeface="Euphemia"/>',t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>',t[t.length]='<a:font script="Deva" typeface="Mangal"/>',t[t.length]='<a:font script="Telu" typeface="Gautami"/>',t[t.length]='<a:font script="Taml" typeface="Latha"/>',t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',t[t.length]='<a:font script="Orya" typeface="Kalinga"/>',t[t.length]='<a:font script="Mlym" typeface="Kartika"/>',t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>',t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',t[t.length]='<a:font script="Viet" typeface="Times New Roman"/>',t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>',t[t.length]="</a:majorFont>",t[t.length]="<a:minorFont>",t[t.length]='<a:latin typeface="Calibri"/>',t[t.length]='<a:ea typeface=""/>',t[t.length]='<a:cs typeface=""/>',t[t.length]='<a:font script="Jpan" typeface=" "/>',t[t.length]='<a:font script="Hang" typeface=" "/>',t[t.length]='<a:font script="Hans" typeface=""/>',t[t.length]='<a:font script="Hant" typeface=""/>',t[t.length]='<a:font script="Arab" typeface="Arial"/>',t[t.length]='<a:font script="Hebr" typeface="Arial"/>',t[t.length]='<a:font script="Thai" typeface="Tahoma"/>',t[t.length]='<a:font script="Ethi" typeface="Nyala"/>',t[t.length]='<a:font script="Beng" typeface="Vrinda"/>',t[t.length]='<a:font script="Gujr" typeface="Shruti"/>',t[t.length]='<a:font script="Khmr" typeface="DaunPenh"/>',t[t.length]='<a:font script="Knda" typeface="Tunga"/>',t[t.length]='<a:font script="Guru" typeface="Raavi"/>',t[t.length]='<a:font script="Cans" typeface="Euphemia"/>',t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>',t[t.length]='<a:font script="Deva" typeface="Mangal"/>',t[t.length]='<a:font script="Telu" typeface="Gautami"/>',t[t.length]='<a:font script="Taml" typeface="Latha"/>',t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',t[t.length]='<a:font script="Orya" typeface="Kalinga"/>',t[t.length]='<a:font script="Mlym" typeface="Kartika"/>',t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>',t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',t[t.length]='<a:font script="Viet" typeface="Arial"/>',t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>',t[t.length]="</a:minorFont>",t[t.length]="</a:fontScheme>",t[t.length]='<a:fmtScheme name="Office">',t[t.length]="<a:fillStyleLst>",t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:lin ang="16200000" scaled="1"/>',t[t.length]="</a:gradFill>",t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:lin ang="16200000" scaled="0"/>',t[t.length]="</a:gradFill>",t[t.length]="</a:fillStyleLst>",t[t.length]="<a:lnStyleLst>",t[t.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]="</a:lnStyleLst>",t[t.length]="<a:effectStyleLst>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]="</a:effectStyle>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]="</a:effectStyle>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',t[t.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',t[t.length]="</a:effectStyle>",t[t.length]="</a:effectStyleLst>",t[t.length]="<a:bgFillStyleLst>",t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',t[t.length]="</a:gradFill>",t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',t[t.length]="</a:gradFill>",t[t.length]="</a:bgFillStyleLst>",t[t.length]="</a:fmtScheme>",t[t.length]="</a:themeElements>",t[t.length]="<a:objectDefaults>",t[t.length]="<a:spDef>",t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',t[t.length]="</a:spDef>",t[t.length]="<a:lnDef>",t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',t[t.length]="</a:lnDef>",t[t.length]="</a:objectDefaults>",t[t.length]="<a:extraClrSchemeLst/>",t[t.length]="</a:theme>",t.join("")}function DZ(n,e){return{flags:n.read_shift(4),version:n.read_shift(4),name:Mo(n)}}function MZ(n){var e=jt(12+2*n.name.length);return e.write_shift(4,n.flags),e.write_shift(4,n.version),$a(n.name,e),e.slice(0,e.l)}function LZ(n){for(var e=[],t=n.read_shift(4);t-- >0;)e.push([n.read_shift(4),n.read_shift(4)]);return e}function kZ(n){var e=jt(4+8*n.length);e.write_shift(4,n.length);for(var t=0;t<n.length;++t)e.write_shift(4,n[t][0]),e.write_shift(4,n[t][1]);return e}function PZ(n,e){var t=jt(8+2*e.length);return t.write_shift(4,n),$a(e,t),t.slice(0,t.l)}function jZ(n){return n.l+=4,n.read_shift(4)!=0}function FZ(n,e){var t=jt(8);return t.write_shift(4,n),t.write_shift(4,1),t}function BZ(){var n=ml();return Jt(n,332),Jt(n,334,Sc(1)),Jt(n,335,MZ({name:"XLDAPR",version:12e4,flags:3496657072})),Jt(n,336),Jt(n,339,PZ(1,"XLDAPR")),Jt(n,52),Jt(n,35,Sc(514)),Jt(n,4096,Sc(0)),Jt(n,4097,Ql(1)),Jt(n,36),Jt(n,53),Jt(n,340),Jt(n,337,FZ(1)),Jt(n,51,kZ([[1,0]])),Jt(n,338),Jt(n,333),n.end()}function VO(){var n=[pa];return n.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),n.join("")}function UZ(n){var e={};e.i=n.read_shift(4);var t={};t.r=n.read_shift(4),t.c=n.read_shift(4),e.r=Ni(t);var r=n.read_shift(1);return r&2&&(e.l="1"),r&8&&(e.a="1"),e}var l0=1024;function zO(n,e){for(var t=[21600,21600],r=["m0,0l0",t[1],t[0],t[1],t[0],"0xe"].join(","),i=[mn("xml",null,{"xmlns:v":Rl.v,"xmlns:o":Rl.o,"xmlns:x":Rl.x,"xmlns:mv":Rl.mv}).replace(/\/>/,">"),mn("o:shapelayout",mn("o:idmap",null,{"v:ext":"edit",data:n}),{"v:ext":"edit"}),mn("v:shapetype",[mn("v:stroke",null,{joinstyle:"miter"}),mn("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:t.join(","),path:r})];l0<n*1e3;)l0+=1e3;return e.forEach(function(s){var o=Qa(s[0]),u={color2:"#BEFF82",type:"gradient"};u.type=="gradient"&&(u.angle="-180");var f=u.type=="gradient"?mn("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,d=mn("v:fill",f,u),x={on:"t",obscured:"t"};++l0,i=i.concat(["<v:shape"+bm({id:"_x0000_s"+l0,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(s[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",d,mn("v:shadow",null,x),mn("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",go("x:Anchor",[o.c+1,0,o.r+1,0,o.c+3,20,o.r+5,20].join(",")),go("x:AutoFill","False"),go("x:Row",String(o.r)),go("x:Column",String(o.c)),s[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),i.push("</xml>"),i.join("")}function HO(n){var e=[pa,mn("comments",null,{xmlns:q0[0]})],t=[];return e.push("<authors>"),n.forEach(function(r){r[1].forEach(function(i){var s=Si(i.a);t.indexOf(s)==-1&&(t.push(s),e.push("<author>"+s+"</author>")),i.T&&i.ID&&t.indexOf("tc="+i.ID)==-1&&(t.push("tc="+i.ID),e.push("<author>tc="+i.ID+"</author>"))})}),t.length==0&&(t.push("SheetJ5"),e.push("<author>SheetJ5</author>")),e.push("</authors>"),e.push("<commentList>"),n.forEach(function(r){var i=0,s=[];if(r[1][0]&&r[1][0].T&&r[1][0].ID?i=t.indexOf("tc="+r[1][0].ID):r[1].forEach(function(f){f.a&&(i=t.indexOf(Si(f.a))),s.push(f.t||"")}),e.push('<comment ref="'+r[0]+'" authorId="'+i+'"><text>'),s.length<=1)e.push(go("t",Si(s[0]||"")));else{for(var o=`Comment:
    `+s[0]+`
`,u=1;u<s.length;++u)o+=`Reply:
    `+s[u]+`
`;e.push(go("t",Si(o)))}e.push("</text></comment>")}),e.push("</commentList>"),e.length>2&&(e[e.length]="</comments>",e[1]=e[1].replace("/>",">")),e.join("")}function VZ(n,e,t){var r=[pa,mn("ThreadedComments",null,{xmlns:Ka.TCMNT}).replace(/[\/]>/,">")];return n.forEach(function(i){var s="";(i[1]||[]).forEach(function(o,u){if(!o.T){delete o.ID;return}o.a&&e.indexOf(o.a)==-1&&e.push(o.a);var f={ref:i[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+t.tcid++).slice(-12)+"}"};u==0?s=f.id:f.parentId=s,o.ID=f.id,o.a&&(f.personId="{54EE7950-7262-4200-6969-"+("000000000000"+e.indexOf(o.a)).slice(-12)+"}"),r.push(mn("threadedComment",go("text",o.t||""),f))})}),r.push("</ThreadedComments>"),r.join("")}function zZ(n){var e=[pa,mn("personList",null,{xmlns:Ka.TCMNT,"xmlns:x":q0[0]}).replace(/[\/]>/,">")];return n.forEach(function(t,r){e.push(mn("person",null,{displayName:t,id:"{54EE7950-7262-4200-6969-"+("000000000000"+r).slice(-12)+"}",userId:t,providerId:"None"}))}),e.push("</personList>"),e.join("")}function HZ(n){var e={};e.iauthor=n.read_shift(4);var t=ud(n);return e.rfx=t.s,e.ref=Ni(t.s),n.l+=16,e}function qZ(n,e){return e==null&&(e=jt(36)),e.write_shift(4,n[1].iauthor),W0(n[0],e),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e}var GZ=Mo;function WZ(n){return $a(n.slice(0,54))}function YZ(n){var e=ml(),t=[];return Jt(e,628),Jt(e,630),n.forEach(function(r){r[1].forEach(function(i){t.indexOf(i.a)>-1||(t.push(i.a.slice(0,54)),Jt(e,632,WZ(i.a)))})}),Jt(e,631),Jt(e,633),n.forEach(function(r){r[1].forEach(function(i){i.iauthor=t.indexOf(i.a);var s={s:Qa(r[0]),e:Qa(r[0])};Jt(e,635,qZ([s,i])),i.t&&i.t.length>0&&Jt(e,637,KQ(i)),Jt(e,636),delete i.iauthor})}),Jt(e,634),Jt(e,629),e.end()}function XZ(n,e){e.FullPaths.forEach(function(t,r){if(r!=0){var i=t.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");i.slice(-1)!=="/"&&Fi.utils.cfb_add(n,i,e.FileIndex[r].content)}})}var qO=["xlsb","xlsm","xlam","biff8","xla"],KZ=(function(){var n=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function t(r,i,s,o){var u=!1,f=!1;s.length==0?f=!0:s.charAt(0)=="["&&(f=!0,s=s.slice(1,-1)),o.length==0?u=!0:o.charAt(0)=="["&&(u=!0,o=o.slice(1,-1));var d=s.length>0?parseInt(s,10)|0:0,x=o.length>0?parseInt(o,10)|0:0;return u?x+=e.c:--x,f?d+=e.r:--d,i+(u?"":"$")+Do(x)+(f?"":"$")+po(d)}return function(i,s){return e=s,i.replace(n,t)}})(),eb=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,tb=(function(){return function(e,t){return e.replace(eb,function(r,i,s,o,u,f){var d=X5(o)-(s?0:t.c),x=Y5(f)-(u?0:t.r),w=x==0?"":u?x+1:"["+x+"]",A=d==0?"":s?d+1:"["+d+"]";return i+"R"+w+"C"+A})}})();function QZ(n,e){return n.replace(eb,function(t,r,i,s,o,u){return r+(i=="$"?i+s:Do(X5(s)+e.c))+(o=="$"?o+u:po(Y5(u)+e.r))})}function $Z(n){return n.length!=1}function ua(n){n.l+=1}function tf(n,e){var t=n.read_shift(2);return[t&16383,t>>14&1,t>>15&1]}function GO(n,e,t){var r=2;if(t){if(t.biff>=2&&t.biff<=5)return WO(n);t.biff==12&&(r=4)}var i=n.read_shift(r),s=n.read_shift(r),o=tf(n),u=tf(n);return{s:{r:i,c:o[0],cRel:o[1],rRel:o[2]},e:{r:s,c:u[0],cRel:u[1],rRel:u[2]}}}function WO(n){var e=tf(n),t=tf(n),r=n.read_shift(1),i=n.read_shift(1);return{s:{r:e[0],c:r,cRel:e[1],rRel:e[2]},e:{r:t[0],c:i,cRel:t[1],rRel:t[2]}}}function ZZ(n,e,t){if(t.biff<8)return WO(n);var r=n.read_shift(t.biff==12?4:2),i=n.read_shift(t.biff==12?4:2),s=tf(n),o=tf(n);return{s:{r,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:o[0],cRel:o[1],rRel:o[2]}}}function YO(n,e,t){if(t&&t.biff>=2&&t.biff<=5)return JZ(n);var r=n.read_shift(t&&t.biff==12?4:2),i=tf(n);return{r,c:i[0],cRel:i[1],rRel:i[2]}}function JZ(n){var e=tf(n),t=n.read_shift(1);return{r:e[0],c:t,cRel:e[1],rRel:e[2]}}function eJ(n){var e=n.read_shift(2),t=n.read_shift(2);return{r:e,c:t&255,fQuoted:!!(t&16384),cRel:t>>15,rRel:t>>15}}function tJ(n,e,t){var r=t&&t.biff?t.biff:8;if(r>=2&&r<=5)return nJ(n);var i=n.read_shift(r>=12?4:2),s=n.read_shift(2),o=(s&16384)>>14,u=(s&32768)>>15;if(s&=16383,u==1)for(;i>524287;)i-=1048576;if(o==1)for(;s>8191;)s=s-16384;return{r:i,c:s,cRel:o,rRel:u}}function nJ(n){var e=n.read_shift(2),t=n.read_shift(1),r=(e&32768)>>15,i=(e&16384)>>14;return e&=16383,r==1&&e>=8192&&(e=e-16384),i==1&&t>=128&&(t=t-256),{r:e,c:t,cRel:i,rRel:r}}function rJ(n,e,t){var r=(n[n.l++]&96)>>5,i=GO(n,t.biff>=2&&t.biff<=5?6:8,t);return[r,i]}function iJ(n,e,t){var r=(n[n.l++]&96)>>5,i=n.read_shift(2,"i"),s=8;if(t)switch(t.biff){case 5:n.l+=12,s=6;break;case 12:s=12;break}var o=GO(n,s,t);return[r,i,o]}function sJ(n,e,t){var r=(n[n.l++]&96)>>5;return n.l+=t&&t.biff>8?12:t.biff<8?6:8,[r]}function aJ(n,e,t){var r=(n[n.l++]&96)>>5,i=n.read_shift(2),s=8;if(t)switch(t.biff){case 5:n.l+=12,s=6;break;case 12:s=12;break}return n.l+=s,[r,i]}function oJ(n,e,t){var r=(n[n.l++]&96)>>5,i=ZZ(n,e-1,t);return[r,i]}function lJ(n,e,t){var r=(n[n.l++]&96)>>5;return n.l+=t.biff==2?6:t.biff==12?14:7,[r]}function RN(n){var e=n[n.l+1]&1,t=1;return n.l+=4,[e,t]}function cJ(n,e,t){n.l+=2;for(var r=n.read_shift(t&&t.biff==2?1:2),i=[],s=0;s<=r;++s)i.push(n.read_shift(t&&t.biff==2?1:2));return i}function uJ(n,e,t){var r=n[n.l+1]&255?1:0;return n.l+=2,[r,n.read_shift(t&&t.biff==2?1:2)]}function hJ(n,e,t){var r=n[n.l+1]&255?1:0;return n.l+=2,[r,n.read_shift(t&&t.biff==2?1:2)]}function fJ(n){var e=n[n.l+1]&255?1:0;return n.l+=2,[e,n.read_shift(2)]}function dJ(n,e,t){var r=n[n.l+1]&255?1:0;return n.l+=t&&t.biff==2?3:4,[r]}function XO(n){var e=n.read_shift(1),t=n.read_shift(1);return[e,t]}function mJ(n){return n.read_shift(2),XO(n)}function gJ(n){return n.read_shift(2),XO(n)}function pJ(n,e,t){var r=(n[n.l]&96)>>5;n.l+=1;var i=YO(n,0,t);return[r,i]}function xJ(n,e,t){var r=(n[n.l]&96)>>5;n.l+=1;var i=tJ(n,0,t);return[r,i]}function vJ(n,e,t){var r=(n[n.l]&96)>>5;n.l+=1;var i=n.read_shift(2);t&&t.biff==5&&(n.l+=12);var s=YO(n,0,t);return[r,i,s]}function _J(n,e,t){var r=(n[n.l]&96)>>5;n.l+=1;var i=n.read_shift(t&&t.biff<=3?1:2);return[_ee[i],$O[i],r]}function yJ(n,e,t){var r=n[n.l++],i=n.read_shift(1),s=t&&t.biff<=3?[r==88?-1:0,n.read_shift(1)]:wJ(n);return[i,(s[0]===0?$O:vee)[s[1]]]}function wJ(n){return[n[n.l+1]>>7,n.read_shift(2)&32767]}function bJ(n,e,t){n.l+=t&&t.biff==2?3:4}function EJ(n,e,t){if(n.l++,t&&t.biff==12)return[n.read_shift(4,"i"),0];var r=n.read_shift(2),i=n.read_shift(t&&t.biff==2?1:2);return[r,i]}function AJ(n){return n.l++,Ym[n.read_shift(1)]}function SJ(n){return n.l++,n.read_shift(2)}function TJ(n){return n.l++,n.read_shift(1)!==0}function NJ(n){return n.l++,Y0(n)}function CJ(n,e,t){return n.l++,RO(n,e-1,t)}function IJ(n,e){var t=[n.read_shift(1)];if(e==12)switch(t[0]){case 2:t[0]=4;break;case 4:t[0]=16;break;case 0:t[0]=1;break;case 1:t[0]=2;break}switch(t[0]){case 4:t[1]=v$(n,1)?"TRUE":"FALSE",e!=12&&(n.l+=7);break;case 37:case 16:t[1]=Ym[n[n.l]],n.l+=e==12?4:8;break;case 0:n.l+=8;break;case 1:t[1]=Y0(n);break;case 2:t[1]=b$(n,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+t[0])}return t}function RJ(n,e,t){for(var r=n.read_shift(t.biff==12?4:2),i=[],s=0;s!=r;++s)i.push((t.biff==12?ud:S$)(n));return i}function OJ(n,e,t){var r=0,i=0;t.biff==12?(r=n.read_shift(4),i=n.read_shift(4)):(i=1+n.read_shift(1),r=1+n.read_shift(2)),t.biff>=2&&t.biff<8&&(--r,--i==0&&(i=256));for(var s=0,o=[];s!=r&&(o[s]=[]);++s)for(var u=0;u!=i;++u)o[s][u]=IJ(n,t.biff);return o}function DJ(n,e,t){var r=n.read_shift(1)>>>5&3,i=!t||t.biff>=8?4:2,s=n.read_shift(i);switch(t.biff){case 2:n.l+=5;break;case 3:case 4:n.l+=8;break;case 5:n.l+=12;break}return[r,0,s]}function MJ(n,e,t){if(t.biff==5)return LJ(n);var r=n.read_shift(1)>>>5&3,i=n.read_shift(2),s=n.read_shift(4);return[r,i,s]}function LJ(n){var e=n.read_shift(1)>>>5&3,t=n.read_shift(2,"i");n.l+=8;var r=n.read_shift(2);return n.l+=12,[e,t,r]}function kJ(n,e,t){var r=n.read_shift(1)>>>5&3;n.l+=t&&t.biff==2?3:4;var i=n.read_shift(t&&t.biff==2?1:2);return[r,i]}function PJ(n,e,t){var r=n.read_shift(1)>>>5&3,i=n.read_shift(t&&t.biff==2?1:2);return[r,i]}function jJ(n,e,t){var r=n.read_shift(1)>>>5&3;return n.l+=4,t.biff<8&&n.l--,t.biff==12&&(n.l+=2),[r]}function FJ(n,e,t){var r=(n[n.l++]&96)>>5,i=n.read_shift(2),s=4;if(t)switch(t.biff){case 5:s=15;break;case 12:s=6;break}return n.l+=s,[r,i]}var BJ=cu,UJ=cu,VJ=cu;function Xm(n,e,t){return n.l+=2,[eJ(n)]}function nb(n){return n.l+=6,[]}var zJ=Xm,HJ=nb,qJ=nb,GJ=Xm;function KO(n){return n.l+=2,[CO(n),n.read_shift(2)&1]}var WJ=Xm,YJ=KO,XJ=nb,KJ=Xm,QJ=Xm,$J=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function ZJ(n){n.l+=2;var e=n.read_shift(2),t=n.read_shift(2),r=n.read_shift(4),i=n.read_shift(2),s=n.read_shift(2),o=$J[t>>2&31];return{ixti:e,coltype:t&3,rt:o,idx:r,c:i,C:s}}function JJ(n){return n.l+=2,[n.read_shift(4)]}function eee(n,e,t){return n.l+=5,n.l+=2,n.l+=t.biff==2?1:4,["PTGSHEET"]}function tee(n,e,t){return n.l+=t.biff==2?4:5,["PTGENDSHEET"]}function nee(n){var e=n.read_shift(1)>>>5&3,t=n.read_shift(2);return[e,t]}function ree(n){var e=n.read_shift(1)>>>5&3,t=n.read_shift(2);return[e,t]}function iee(n){return n.l+=4,[0,0]}var ON={1:{n:"PtgExp",f:EJ},2:{n:"PtgTbl",f:VJ},3:{n:"PtgAdd",f:ua},4:{n:"PtgSub",f:ua},5:{n:"PtgMul",f:ua},6:{n:"PtgDiv",f:ua},7:{n:"PtgPower",f:ua},8:{n:"PtgConcat",f:ua},9:{n:"PtgLt",f:ua},10:{n:"PtgLe",f:ua},11:{n:"PtgEq",f:ua},12:{n:"PtgGe",f:ua},13:{n:"PtgGt",f:ua},14:{n:"PtgNe",f:ua},15:{n:"PtgIsect",f:ua},16:{n:"PtgUnion",f:ua},17:{n:"PtgRange",f:ua},18:{n:"PtgUplus",f:ua},19:{n:"PtgUminus",f:ua},20:{n:"PtgPercent",f:ua},21:{n:"PtgParen",f:ua},22:{n:"PtgMissArg",f:ua},23:{n:"PtgStr",f:CJ},26:{n:"PtgSheet",f:eee},27:{n:"PtgEndSheet",f:tee},28:{n:"PtgErr",f:AJ},29:{n:"PtgBool",f:TJ},30:{n:"PtgInt",f:SJ},31:{n:"PtgNum",f:NJ},32:{n:"PtgArray",f:lJ},33:{n:"PtgFunc",f:_J},34:{n:"PtgFuncVar",f:yJ},35:{n:"PtgName",f:DJ},36:{n:"PtgRef",f:pJ},37:{n:"PtgArea",f:rJ},38:{n:"PtgMemArea",f:kJ},39:{n:"PtgMemErr",f:BJ},40:{n:"PtgMemNoMem",f:UJ},41:{n:"PtgMemFunc",f:PJ},42:{n:"PtgRefErr",f:jJ},43:{n:"PtgAreaErr",f:sJ},44:{n:"PtgRefN",f:xJ},45:{n:"PtgAreaN",f:oJ},46:{n:"PtgMemAreaN",f:nee},47:{n:"PtgMemNoMemN",f:ree},57:{n:"PtgNameX",f:MJ},58:{n:"PtgRef3d",f:vJ},59:{n:"PtgArea3d",f:iJ},60:{n:"PtgRefErr3d",f:FJ},61:{n:"PtgAreaErr3d",f:aJ},255:{}},see={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},aee={1:{n:"PtgElfLel",f:KO},2:{n:"PtgElfRw",f:KJ},3:{n:"PtgElfCol",f:zJ},6:{n:"PtgElfRwV",f:QJ},7:{n:"PtgElfColV",f:GJ},10:{n:"PtgElfRadical",f:WJ},11:{n:"PtgElfRadicalS",f:XJ},13:{n:"PtgElfColS",f:HJ},15:{n:"PtgElfColSV",f:qJ},16:{n:"PtgElfRadicalLel",f:YJ},25:{n:"PtgList",f:ZJ},29:{n:"PtgSxName",f:JJ},255:{}},oee={0:{n:"PtgAttrNoop",f:iee},1:{n:"PtgAttrSemi",f:dJ},2:{n:"PtgAttrIf",f:hJ},4:{n:"PtgAttrChoose",f:cJ},8:{n:"PtgAttrGoto",f:uJ},16:{n:"PtgAttrSum",f:bJ},32:{n:"PtgAttrBaxcel",f:RN},33:{n:"PtgAttrBaxcel",f:RN},64:{n:"PtgAttrSpace",f:mJ},65:{n:"PtgAttrSpaceSemi",f:gJ},128:{n:"PtgAttrIfError",f:fJ},255:{}};function lee(n,e,t,r){if(r.biff<8)return cu(n,e);for(var i=n.l+e,s=[],o=0;o!==t.length;++o)switch(t[o][0]){case"PtgArray":t[o][1]=OJ(n,0,r),s.push(t[o][1]);break;case"PtgMemArea":t[o][2]=RJ(n,t[o][1],r),s.push(t[o][2]);break;case"PtgExp":r&&r.biff==12&&(t[o][1][1]=n.read_shift(4),s.push(t[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+t[o][0]}return e=i-n.l,e!==0&&s.push(cu(n,e)),s}function cee(n,e,t){for(var r=n.l+e,i,s,o=[];r!=n.l;)e=r-n.l,s=n[n.l],i=ON[s]||ON[see[s]],(s===24||s===25)&&(i=(s===24?aee:oee)[n[n.l+1]]),!i||!i.f?cu(n,e):o.push([i.n,i.f(n,e,t)]);return o}function uee(n){for(var e=[],t=0;t<n.length;++t){for(var r=n[t],i=[],s=0;s<r.length;++s){var o=r[s];if(o)switch(o[0]){case 2:i.push('"'+o[1].replace(/"/g,'""')+'"');break;default:i.push(o[1])}else i.push("")}e.push(i.join(","))}return e.join(";")}var hee={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function fee(n,e){if(!n&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(n)?"'"+n+"'":n}function QO(n,e,t){if(!n)return"SH33TJSERR0";if(t.biff>8&&(!n.XTI||!n.XTI[e]))return n.SheetNames[e];if(!n.XTI)return"SH33TJSERR6";var r=n.XTI[e];if(t.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":n.XTI[e-1];if(!r)return"SH33TJSERR1";var i="";if(t.biff>8)switch(n[r[0]][0]){case 357:return i=r[1]==-1?"#REF":n.SheetNames[r[1]],r[1]==r[2]?i:i+":"+n.SheetNames[r[2]];case 358:return t.SID!=null?n.SheetNames[t.SID]:"SH33TJSSAME"+n[r[0]][0];case 355:default:return"SH33TJSSRC"+n[r[0]][0]}switch(n[r[0]][0][0]){case 1025:return i=r[1]==-1?"#REF":n.SheetNames[r[1]]||"SH33TJSERR3",r[1]==r[2]?i:i+":"+n.SheetNames[r[2]];case 14849:return n[r[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return n[r[0]][0][3]?(i=r[1]==-1?"#REF":n[r[0]][0][3][r[1]]||"SH33TJSERR4",r[1]==r[2]?i:i+":"+n[r[0]][0][3][r[2]]):"SH33TJSERR2"}}function DN(n,e,t){var r=QO(n,e,t);return r=="#REF"?r:fee(r,t)}function L0(n,e,t,r,i){var s=i&&i.biff||8,o={s:{c:0,r:0}},u=[],f,d,x,w=0,A=0,E,I="";if(!n[0]||!n[0][0])return"";for(var C=-1,M="",j=0,W=n[0].length;j<W;++j){var k=n[0][j];switch(k[0]){case"PtgUminus":u.push("-"+u.pop());break;case"PtgUplus":u.push("+"+u.pop());break;case"PtgPercent":u.push(u.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(f=u.pop(),d=u.pop(),C>=0){switch(n[0][C][1][0]){case 0:M=js(" ",n[0][C][1][1]);break;case 1:M=js("\r",n[0][C][1][1]);break;default:if(M="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+n[0][C][1][0])}d=d+M,C=-1}u.push(d+hee[k[0]]+f);break;case"PtgIsect":f=u.pop(),d=u.pop(),u.push(d+" "+f);break;case"PtgUnion":f=u.pop(),d=u.pop(),u.push(d+","+f);break;case"PtgRange":f=u.pop(),d=u.pop(),u.push(d+":"+f);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":x=rm(k[1][1],o,i),u.push(im(x,s));break;case"PtgRefN":x=t?rm(k[1][1],t,i):k[1][1],u.push(im(x,s));break;case"PtgRef3d":w=k[1][1],x=rm(k[1][2],o,i),I=DN(r,w,i),u.push(I+"!"+im(x,s));break;case"PtgFunc":case"PtgFuncVar":var G=k[1][0],ce=k[1][1];G||(G=0),G&=127;var re=G==0?[]:u.slice(-G);u.length-=G,ce==="User"&&(ce=re.shift()),u.push(ce+"("+re.join(",")+")");break;case"PtgBool":u.push(k[1]?"TRUE":"FALSE");break;case"PtgInt":u.push(k[1]);break;case"PtgNum":u.push(String(k[1]));break;case"PtgStr":u.push('"'+k[1].replace(/"/g,'""')+'"');break;case"PtgErr":u.push(k[1]);break;case"PtgAreaN":E=pN(k[1][1],t?{s:t}:o,i),u.push(ry(E,i));break;case"PtgArea":E=pN(k[1][1],o,i),u.push(ry(E,i));break;case"PtgArea3d":w=k[1][1],E=k[1][2],I=DN(r,w,i),u.push(I+"!"+ry(E,i));break;case"PtgAttrSum":u.push("SUM("+u.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":A=k[1][2];var F=(r.names||[])[A-1]||(r[0]||[])[A],B=F?F.Name:"SH33TJSNAME"+String(A);B&&B.slice(0,6)=="_xlfn."&&!i.xlfn&&(B=B.slice(6)),u.push(B);break;case"PtgNameX":var L=k[1][1];A=k[1][2];var Q;if(i.biff<=5)L<0&&(L=-L),r[L]&&(Q=r[L][A]);else{var U="";if(((r[L]||[])[0]||[])[0]==14849||(((r[L]||[])[0]||[])[0]==1025?r[L][A]&&r[L][A].itab>0&&(U=r.SheetNames[r[L][A].itab-1]+"!"):U=r.SheetNames[A-1]+"!"),r[L]&&r[L][A])U+=r[L][A].Name;else if(r[0]&&r[0][A])U+=r[0][A].Name;else{var q=(QO(r,L,i)||"").split(";;");q[A-1]?U=q[A-1]:U+="SH33TJSERRX"}u.push(U);break}Q||(Q={Name:"SH33TJSERRY"}),u.push(Q.Name);break;case"PtgParen":var Y="(",ne=")";if(C>=0){switch(M="",n[0][C][1][0]){case 2:Y=js(" ",n[0][C][1][1])+Y;break;case 3:Y=js("\r",n[0][C][1][1])+Y;break;case 4:ne=js(" ",n[0][C][1][1])+ne;break;case 5:ne=js("\r",n[0][C][1][1])+ne;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+n[0][C][1][0])}C=-1}u.push(Y+u.pop()+ne);break;case"PtgRefErr":u.push("#REF!");break;case"PtgRefErr3d":u.push("#REF!");break;case"PtgExp":x={c:k[1][1],r:k[1][0]};var pe={c:t.c,r:t.r};if(r.sharedf[Ni(x)]){var Ae=r.sharedf[Ni(x)];u.push(L0(Ae,o,pe,r,i))}else{var ve=!1;for(f=0;f!=r.arrayf.length;++f)if(d=r.arrayf[f],!(x.c<d[0].s.c||x.c>d[0].e.c)&&!(x.r<d[0].s.r||x.r>d[0].e.r)){u.push(L0(d[1],o,pe,r,i)),ve=!0;break}ve||u.push(k[1])}break;case"PtgArray":u.push("{"+uee(k[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":C=j;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":u.push("");break;case"PtgAreaErr":u.push("#REF!");break;case"PtgAreaErr3d":u.push("#REF!");break;case"PtgList":u.push("Table"+k[1].idx+"[#"+k[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(k));default:throw new Error("Unrecognized Formula Token: "+String(k))}var Re=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&C>=0&&Re.indexOf(n[0][j][0])==-1){k=n[0][C];var He=!0;switch(k[1][0]){case 4:He=!1;case 0:M=js(" ",k[1][1]);break;case 5:He=!1;case 1:M=js("\r",k[1][1]);break;default:if(M="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+k[1][0])}u.push((He?M:"")+u.pop()+(He?"":M)),C=-1}}if(u.length>1&&i.WTF)throw new Error("bad formula stack");return u[0]}function dee(n){if(n==null){var e=jt(8);return e.write_shift(1,3),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,65535),e}else if(typeof n=="number")return Wf(n);return Wf(0)}function mee(n,e,t,r,i){var s=Yf(e,t,i),o=dee(n.v),u=jt(6),f=33;u.write_shift(2,f),u.write_shift(4,0);for(var d=jt(n.bf.length),x=0;x<n.bf.length;++x)d[x]=n.bf[x];var w=mo([s,o,u,d]);return w}function vx(n,e,t){var r=n.read_shift(4),i=cee(n,r,t),s=n.read_shift(4),o=s>0?lee(n,s,i,t):null;return[i,o]}var gee=vx,_x=vx,pee=vx,xee=vx,vee={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},$O={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},_ee={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function yee(n){var e="of:="+n.replace(eb,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return e.replace(/;/g,"|").replace(/,/g,";")}function wee(n){return n.replace(/\./,"!")}var sm=typeof Map<"u";function rb(n,e,t){var r=0,i=n.length;if(t){if(sm?t.has(e):Object.prototype.hasOwnProperty.call(t,e)){for(var s=sm?t.get(e):t[e];r<s.length;++r)if(n[s[r]].t===e)return n.Count++,s[r]}}else for(;r<i;++r)if(n[r].t===e)return n.Count++,r;return n[i]={t:e},n.Count++,n.Unique++,t&&(sm?(t.has(e)||t.set(e,[]),t.get(e).push(i)):(Object.prototype.hasOwnProperty.call(t,e)||(t[e]=[]),t[e].push(i))),i}function yx(n,e){var t={min:n+1,max:n+1},r=-1;return e.MDW&&(Gu=e.MDW),e.width!=null?t.customWidth=1:e.wpx!=null?r=N2(e.wpx):e.wch!=null&&(r=e.wch),r>-1?(t.width=ow(r),t.customWidth=1):e.width!=null&&(t.width=e.width),e.hidden&&(t.hidden=!0),e.level!=null&&(t.outlineLevel=t.level=e.level),t}function ZO(n,e){if(n){var t=[.7,.7,.75,.75,.3,.3];n.left==null&&(n.left=t[0]),n.right==null&&(n.right=t[1]),n.top==null&&(n.top=t[2]),n.bottom==null&&(n.bottom=t[3]),n.header==null&&(n.header=t[4]),n.footer==null&&(n.footer=t[5])}}function lf(n,e,t){var r=t.revssf[e.z!=null?e.z:"General"],i=60,s=n.length;if(r==null&&t.ssf){for(;i<392;++i)if(t.ssf[i]==null){YR(e.z,i),t.ssf[i]=e.z,t.revssf[e.z]=r=i;break}}for(i=0;i!=s;++i)if(n[i].numFmtId===r)return i;return n[s]={numFmtId:r,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},s}function bee(n,e,t){if(n&&n["!ref"]){var r=as(n["!ref"]);if(r.e.c<r.s.c||r.e.r<r.s.r)throw new Error("Bad range ("+t+"): "+n["!ref"])}}function Eee(n){if(n.length===0)return"";for(var e='<mergeCells count="'+n.length+'">',t=0;t!=n.length;++t)e+='<mergeCell ref="'+ga(n[t])+'"/>';return e+"</mergeCells>"}function Aee(n,e,t,r,i){var s=!1,o={},u=null;if(r.bookType!=="xlsx"&&e.vbaraw){var f=e.SheetNames[t];try{e.Workbook&&(f=e.Workbook.Sheets[t].CodeName||f)}catch{}s=!0,o.codeName=wm(Si(f))}if(n&&n["!outline"]){var d={summaryBelow:1,summaryRight:1};n["!outline"].above&&(d.summaryBelow=0),n["!outline"].left&&(d.summaryRight=0),u=(u||"")+mn("outlinePr",null,d)}!s&&!u||(i[i.length]=mn("sheetPr",u,o))}var See=["objects","scenarios","selectLockedCells","selectUnlockedCells"],Tee=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function Nee(n){var e={sheet:1};return See.forEach(function(t){n[t]!=null&&n[t]&&(e[t]="1")}),Tee.forEach(function(t){n[t]!=null&&!n[t]&&(e[t]="0")}),n.password&&(e.password=kO(n.password).toString(16).toUpperCase()),mn("sheetProtection",null,e)}function Cee(n){return ZO(n),mn("pageMargins",null,n)}function Iee(n,e){for(var t=["<cols>"],r,i=0;i!=e.length;++i)(r=e[i])&&(t[t.length]=mn("col",null,yx(i,r)));return t[t.length]="</cols>",t.join("")}function Ree(n,e,t,r){var i=typeof n.ref=="string"?n.ref:ga(n.ref);t.Workbook||(t.Workbook={Sheets:[]}),t.Workbook.Names||(t.Workbook.Names=[]);var s=t.Workbook.Names,o=Vl(i);o.s.r==o.e.r&&(o.e.r=Vl(e["!ref"]).e.r,i=ga(o));for(var u=0;u<s.length;++u){var f=s[u];if(f.Name=="_xlnm._FilterDatabase"&&f.Sheet==r){f.Ref="'"+t.SheetNames[r]+"'!"+i;break}}return u==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+t.SheetNames[r]+"'!"+i}),mn("autoFilter",null,{ref:i})}function Oee(n,e,t,r){var i={workbookViewId:"0"};return(((r||{}).Workbook||{}).Views||[])[0]&&(i.rightToLeft=r.Workbook.Views[0].RTL?"1":"0"),mn("sheetViews",mn("sheetView",null,i),{})}function Dee(n,e,t,r){if(n.c&&t["!comments"].push([e,n.c]),n.v===void 0&&typeof n.f!="string"||n.t==="z"&&!n.f)return"";var i="",s=n.t,o=n.v;if(n.t!=="z")switch(n.t){case"b":i=n.v?"1":"0";break;case"n":i=""+n.v;break;case"e":i=Ym[n.v];break;case"d":r&&r.cellDates?i=Xo(n.v,-1).toISOString():(n=pl(n),n.t="n",i=""+(n.v=gl(Xo(n.v)))),typeof n.z>"u"&&(n.z=Fs[14]);break;default:i=n.v;break}var u=go("v",Si(i)),f={r:e},d=lf(r.cellXfs,n,r);switch(d!==0&&(f.s=d),n.t){case"n":break;case"d":f.t="d";break;case"b":f.t="b";break;case"e":f.t="e";break;case"z":break;default:if(n.v==null){delete n.t;break}if(n.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(r&&r.bookSST){u=go("v",""+rb(r.Strings,n.v,r.revStrings)),f.t="s";break}f.t="str";break}if(n.t!=s&&(n.t=s,n.v=o),typeof n.f=="string"&&n.f){var x=n.F&&n.F.slice(0,e.length)==e?{t:"array",ref:n.F}:null;u=mn("f",Si(n.f),x)+(n.v!=null?u:"")}return n.l&&t["!links"].push([e,n.l]),n.D&&(f.cm=1),mn("c",u,f)}function Mee(n,e,t,r){var i=[],s=[],o=as(n["!ref"]),u="",f,d="",x=[],w=0,A=0,E=n["!rows"],I=Array.isArray(n),C={r:d},M,j=-1;for(A=o.s.c;A<=o.e.c;++A)x[A]=Do(A);for(w=o.s.r;w<=o.e.r;++w){for(s=[],d=po(w),A=o.s.c;A<=o.e.c;++A){f=x[A]+d;var W=I?(n[w]||[])[A]:n[f];W!==void 0&&(u=Dee(W,f,n,e))!=null&&s.push(u)}(s.length>0||E&&E[w])&&(C={r:d},E&&E[w]&&(M=E[w],M.hidden&&(C.hidden=1),j=-1,M.hpx?j=C2(M.hpx):M.hpt&&(j=M.hpt),j>-1&&(C.ht=j,C.customHeight=1),M.level&&(C.outlineLevel=M.level)),i[i.length]=mn("row",s.join(""),C))}if(E)for(;w<E.length;++w)E&&E[w]&&(C={r:w+1},M=E[w],M.hidden&&(C.hidden=1),j=-1,M.hpx?j=C2(M.hpx):M.hpt&&(j=M.hpt),j>-1&&(C.ht=j,C.customHeight=1),M.level&&(C.outlineLevel=M.level),i[i.length]=mn("row","",C));return i.join("")}function JO(n,e,t,r){var i=[pa,mn("worksheet",null,{xmlns:q0[0],"xmlns:r":Ka.r})],s=t.SheetNames[n],o=0,u="",f=t.Sheets[s];f==null&&(f={});var d=f["!ref"]||"A1",x=as(d);if(x.e.c>16383||x.e.r>1048575){if(e.WTF)throw new Error("Range "+d+" exceeds format limit A1:XFD1048576");x.e.c=Math.min(x.e.c,16383),x.e.r=Math.min(x.e.c,1048575),d=ga(x)}r||(r={}),f["!comments"]=[];var w=[];Aee(f,t,n,e,i),i[i.length]=mn("dimension",null,{ref:d}),i[i.length]=Oee(f,e,n,t),e.sheetFormat&&(i[i.length]=mn("sheetFormatPr",null,{defaultRowHeight:e.sheetFormat.defaultRowHeight||"16",baseColWidth:e.sheetFormat.baseColWidth||"10",outlineLevelRow:e.sheetFormat.outlineLevelRow||"7"})),f["!cols"]!=null&&f["!cols"].length>0&&(i[i.length]=Iee(f,f["!cols"])),i[o=i.length]="<sheetData/>",f["!links"]=[],f["!ref"]!=null&&(u=Mee(f,e),u.length>0&&(i[i.length]=u)),i.length>o+1&&(i[i.length]="</sheetData>",i[o]=i[o].replace("/>",">")),f["!protect"]&&(i[i.length]=Nee(f["!protect"])),f["!autofilter"]!=null&&(i[i.length]=Ree(f["!autofilter"],f,t,n)),f["!merges"]!=null&&f["!merges"].length>0&&(i[i.length]=Eee(f["!merges"]));var A=-1,E,I=-1;return f["!links"].length>0&&(i[i.length]="<hyperlinks>",f["!links"].forEach(function(C){C[1].Target&&(E={ref:C[0]},C[1].Target.charAt(0)!="#"&&(I=bi(r,-1,Si(C[1].Target).replace(/#.*$/,""),oi.HLINK),E["r:id"]="rId"+I),(A=C[1].Target.indexOf("#"))>-1&&(E.location=Si(C[1].Target.slice(A+1))),C[1].Tooltip&&(E.tooltip=Si(C[1].Tooltip)),i[i.length]=mn("hyperlink",null,E))}),i[i.length]="</hyperlinks>"),delete f["!links"],f["!margins"]!=null&&(i[i.length]=Cee(f["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&(i[i.length]=go("ignoredErrors",mn("ignoredError",null,{numberStoredAsText:1,sqref:d}))),w.length>0&&(I=bi(r,-1,"../drawings/drawing"+(n+1)+".xml",oi.DRAW),i[i.length]=mn("drawing",null,{"r:id":"rId"+I}),f["!drawing"]=w),f["!comments"].length>0&&(I=bi(r,-1,"../drawings/vmlDrawing"+(n+1)+".vml",oi.VML),i[i.length]=mn("legacyDrawing",null,{"r:id":"rId"+I}),f["!legacy"]=I),i.length>1&&(i[i.length]="</worksheet>",i[1]=i[1].replace("/>",">")),i.join("")}function Lee(n,e){var t={},r=n.l+e;t.r=n.read_shift(4),n.l+=4;var i=n.read_shift(2);n.l+=1;var s=n.read_shift(1);return n.l=r,s&7&&(t.level=s&7),s&16&&(t.hidden=!0),s&32&&(t.hpt=i/20),t}function kee(n,e,t){var r=jt(145),i=(t["!rows"]||[])[n]||{};r.write_shift(4,n),r.write_shift(4,0);var s=320;i.hpx?s=C2(i.hpx)*20:i.hpt&&(s=i.hpt*20),r.write_shift(2,s),r.write_shift(1,0);var o=0;i.level&&(o|=i.level),i.hidden&&(o|=16),(i.hpx||i.hpt)&&(o|=32),r.write_shift(1,o),r.write_shift(1,0);var u=0,f=r.l;r.l+=4;for(var d={r:n,c:0},x=0;x<16;++x)if(!(e.s.c>x+1<<10||e.e.c<x<<10)){for(var w=-1,A=-1,E=x<<10;E<x+1<<10;++E){d.c=E;var I=Array.isArray(t)?(t[d.r]||[])[d.c]:t[Ni(d)];I&&(w<0&&(w=E),A=E)}w<0||(++u,r.write_shift(4,w),r.write_shift(4,A))}var C=r.l;return r.l=f,r.write_shift(4,u),r.l=C,r.length>r.l?r.slice(0,r.l):r}function Pee(n,e,t,r){var i=kee(r,t,e);(i.length>17||(e["!rows"]||[])[r])&&Jt(n,0,i)}var jee=ud,Fee=W0;function Bee(){}function Uee(n,e){var t={},r=n[n.l];return++n.l,t.above=!(r&64),t.left=!(r&128),n.l+=18,t.name=QQ(n),t}function Vee(n,e,t){t==null&&(t=jt(84+4*n.length));var r=192;e&&(e.above&&(r&=-65),e.left&&(r&=-129)),t.write_shift(1,r);for(var i=1;i<3;++i)t.write_shift(1,0);return A2({auto:1},t),t.write_shift(-4,-1),t.write_shift(-4,-1),mO(n,t),t.slice(0,t.l)}function zee(n){var e=rc(n);return[e]}function Hee(n,e,t){return t==null&&(t=jt(8)),od(e,t)}function qee(n){var e=ld(n);return[e]}function Gee(n,e,t){return t==null&&(t=jt(4)),cd(e,t)}function Wee(n){var e=rc(n),t=n.read_shift(1);return[e,t,"b"]}function Yee(n,e,t){return t==null&&(t=jt(9)),od(e,t),t.write_shift(1,n.v?1:0),t}function Xee(n){var e=ld(n),t=n.read_shift(1);return[e,t,"b"]}function Kee(n,e,t){return t==null&&(t=jt(5)),cd(e,t),t.write_shift(1,n.v?1:0),t}function Qee(n){var e=rc(n),t=n.read_shift(1);return[e,t,"e"]}function $ee(n,e,t){return t==null&&(t=jt(9)),od(e,t),t.write_shift(1,n.v),t}function Zee(n){var e=ld(n),t=n.read_shift(1);return[e,t,"e"]}function Jee(n,e,t){return t==null&&(t=jt(8)),cd(e,t),t.write_shift(1,n.v),t.write_shift(2,0),t.write_shift(1,0),t}function ete(n){var e=rc(n),t=n.read_shift(4);return[e,t,"s"]}function tte(n,e,t){return t==null&&(t=jt(12)),od(e,t),t.write_shift(4,e.v),t}function nte(n){var e=ld(n),t=n.read_shift(4);return[e,t,"s"]}function rte(n,e,t){return t==null&&(t=jt(8)),cd(e,t),t.write_shift(4,e.v),t}function ite(n){var e=rc(n),t=Y0(n);return[e,t,"n"]}function ste(n,e,t){return t==null&&(t=jt(16)),od(e,t),Wf(n.v,t),t}function ate(n){var e=ld(n),t=Y0(n);return[e,t,"n"]}function ote(n,e,t){return t==null&&(t=jt(12)),cd(e,t),Wf(n.v,t),t}function lte(n){var e=rc(n),t=gO(n);return[e,t,"n"]}function cte(n,e,t){return t==null&&(t=jt(12)),od(e,t),pO(n.v,t),t}function ute(n){var e=ld(n),t=gO(n);return[e,t,"n"]}function hte(n,e,t){return t==null&&(t=jt(8)),cd(e,t),pO(n.v,t),t}function fte(n){var e=rc(n),t=K5(n);return[e,t,"is"]}function dte(n){var e=rc(n),t=Mo(n);return[e,t,"str"]}function mte(n,e,t){return t==null&&(t=jt(12+4*n.v.length)),od(e,t),$a(n.v,t),t.length>t.l?t.slice(0,t.l):t}function gte(n){var e=ld(n),t=Mo(n);return[e,t,"str"]}function pte(n,e,t){return t==null&&(t=jt(8+4*n.v.length)),cd(e,t),$a(n.v,t),t.length>t.l?t.slice(0,t.l):t}function xte(n,e,t){var r=n.l+e,i=rc(n);i.r=t["!row"];var s=n.read_shift(1),o=[i,s,"b"];if(t.cellFormula){n.l+=2;var u=_x(n,r-n.l,t);o[3]=L0(u,null,i,t.supbooks,t)}else n.l=r;return o}function vte(n,e,t){var r=n.l+e,i=rc(n);i.r=t["!row"];var s=n.read_shift(1),o=[i,s,"e"];if(t.cellFormula){n.l+=2;var u=_x(n,r-n.l,t);o[3]=L0(u,null,i,t.supbooks,t)}else n.l=r;return o}function _te(n,e,t){var r=n.l+e,i=rc(n);i.r=t["!row"];var s=Y0(n),o=[i,s,"n"];if(t.cellFormula){n.l+=2;var u=_x(n,r-n.l,t);o[3]=L0(u,null,i,t.supbooks,t)}else n.l=r;return o}function yte(n,e,t){var r=n.l+e,i=rc(n);i.r=t["!row"];var s=Mo(n),o=[i,s,"str"];if(t.cellFormula){n.l+=2;var u=_x(n,r-n.l,t);o[3]=L0(u,null,i,t.supbooks,t)}else n.l=r;return o}var wte=ud,bte=W0;function Ete(n,e){return e==null&&(e=jt(4)),e.write_shift(4,n),e}function Ate(n,e){var t=n.l+e,r=ud(n),i=Q5(n),s=Mo(n),o=Mo(n),u=Mo(n);n.l=t;var f={rfx:r,relId:i,loc:s,display:u};return o&&(f.Tooltip=o),f}function Ste(n,e){var t=jt(50+4*(n[1].Target.length+(n[1].Tooltip||"").length));W0({s:Qa(n[0]),e:Qa(n[0])},t),$5("rId"+e,t);var r=n[1].Target.indexOf("#"),i=r==-1?"":n[1].Target.slice(r+1);return $a(i||"",t),$a(n[1].Tooltip||"",t),$a("",t),t.slice(0,t.l)}function Tte(){}function Nte(n,e,t){var r=n.l+e,i=xO(n),s=n.read_shift(1),o=[i];if(o[2]=s,t.cellFormula){var u=gee(n,r-n.l,t);o[1]=u}else n.l=r;return o}function Cte(n,e,t){var r=n.l+e,i=ud(n),s=[i];if(t.cellFormula){var o=xee(n,r-n.l,t);s[1]=o,n.l=r}else n.l=r;return s}function Ite(n,e,t){t==null&&(t=jt(18));var r=yx(n,e);t.write_shift(-4,n),t.write_shift(-4,n),t.write_shift(4,(r.width||10)*256),t.write_shift(4,0);var i=0;return e.hidden&&(i|=1),typeof r.width=="number"&&(i|=2),e.level&&(i|=e.level<<8),t.write_shift(2,i),t}var e7=["left","right","top","bottom","header","footer"];function Rte(n){var e={};return e7.forEach(function(t){e[t]=Y0(n)}),e}function Ote(n,e){return e==null&&(e=jt(48)),ZO(n),e7.forEach(function(t){Wf(n[t],e)}),e}function Dte(n){var e=n.read_shift(2);return n.l+=28,{RTL:e&32}}function Mte(n,e,t){t==null&&(t=jt(30));var r=924;return(((e||{}).Views||[])[0]||{}).RTL&&(r|=32),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,100),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(4,0),t}function Lte(n){var e=jt(24);return e.write_shift(4,4),e.write_shift(4,1),W0(n,e),e}function kte(n,e){return e==null&&(e=jt(66)),e.write_shift(2,n.password?kO(n.password):0),e.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(t){t[1]?e.write_shift(4,n[t[0]]!=null&&!n[t[0]]?1:0):e.write_shift(4,n[t[0]]!=null&&n[t[0]]?0:1)}),e}function Pte(){}function jte(){}function Fte(n,e,t,r,i,s,o){if(e.v===void 0)return!1;var u="";switch(e.t){case"b":u=e.v?"1":"0";break;case"d":e=pl(e),e.z=e.z||Fs[14],e.v=gl(Xo(e.v)),e.t="n";break;case"n":case"e":u=""+e.v;break;default:u=e.v;break}var f={r:t,c:r};switch(f.s=lf(i.cellXfs,e,i),e.l&&s["!links"].push([Ni(f),e.l]),e.c&&s["!comments"].push([Ni(f),e.c]),e.t){case"s":case"str":return i.bookSST?(u=rb(i.Strings,e.v,i.revStrings),f.t="s",f.v=u,o?Jt(n,18,rte(e,f)):Jt(n,7,tte(e,f))):(f.t="str",o?Jt(n,17,pte(e,f)):Jt(n,6,mte(e,f))),!0;case"n":return e.v==(e.v|0)&&e.v>-1e3&&e.v<1e3?o?Jt(n,13,hte(e,f)):Jt(n,2,cte(e,f)):o?Jt(n,16,ote(e,f)):Jt(n,5,ste(e,f)),!0;case"b":return f.t="b",o?Jt(n,15,Kee(e,f)):Jt(n,4,Yee(e,f)),!0;case"e":return f.t="e",o?Jt(n,14,Jee(e,f)):Jt(n,3,$ee(e,f)),!0}return o?Jt(n,12,Gee(e,f)):Jt(n,1,Hee(e,f)),!0}function Bte(n,e,t,r){var i=as(e["!ref"]||"A1"),s,o="",u=[];Jt(n,145);var f=Array.isArray(e),d=i.e.r;e["!rows"]&&(d=Math.max(i.e.r,e["!rows"].length-1));for(var x=i.s.r;x<=d;++x){o=po(x),Pee(n,e,i,x);var w=!1;if(x<=i.e.r)for(var A=i.s.c;A<=i.e.c;++A){x===i.s.r&&(u[A]=Do(A)),s=u[A]+o;var E=f?(e[x]||[])[A]:e[s];if(!E){w=!1;continue}w=Fte(n,E,x,A,r,e,w)}}Jt(n,146)}function Ute(n,e){!e||!e["!merges"]||(Jt(n,177,Ete(e["!merges"].length)),e["!merges"].forEach(function(t){Jt(n,176,bte(t))}),Jt(n,178))}function Vte(n,e){!e||!e["!cols"]||(Jt(n,390),e["!cols"].forEach(function(t,r){t&&Jt(n,60,Ite(r,t))}),Jt(n,391))}function zte(n,e){!e||!e["!ref"]||(Jt(n,648),Jt(n,649,Lte(as(e["!ref"]))),Jt(n,650))}function Hte(n,e,t){e["!links"].forEach(function(r){if(r[1].Target){var i=bi(t,-1,r[1].Target.replace(/#.*$/,""),oi.HLINK);Jt(n,494,Ste(r,i))}}),delete e["!links"]}function qte(n,e,t,r){if(e["!comments"].length>0){var i=bi(r,-1,"../drawings/vmlDrawing"+(t+1)+".vml",oi.VML);Jt(n,551,$5("rId"+i)),e["!legacy"]=i}}function Gte(n,e,t,r){if(e["!autofilter"]){var i=e["!autofilter"],s=typeof i.ref=="string"?i.ref:ga(i.ref);t.Workbook||(t.Workbook={Sheets:[]}),t.Workbook.Names||(t.Workbook.Names=[]);var o=t.Workbook.Names,u=Vl(s);u.s.r==u.e.r&&(u.e.r=Vl(e["!ref"]).e.r,s=ga(u));for(var f=0;f<o.length;++f){var d=o[f];if(d.Name=="_xlnm._FilterDatabase"&&d.Sheet==r){d.Ref="'"+t.SheetNames[r]+"'!"+s;break}}f==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+t.SheetNames[r]+"'!"+s}),Jt(n,161,W0(as(s))),Jt(n,162)}}function Wte(n,e,t){Jt(n,133),Jt(n,137,Mte(e,t)),Jt(n,138),Jt(n,134)}function Yte(n,e){e["!protect"]&&Jt(n,535,kte(e["!protect"]))}function Xte(n,e,t,r){var i=ml(),s=t.SheetNames[n],o=t.Sheets[s]||{},u=s;try{t&&t.Workbook&&(u=t.Workbook.Sheets[n].CodeName||u)}catch{}var f=as(o["!ref"]||"A1");if(f.e.c>16383||f.e.r>1048575){if(e.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");f.e.c=Math.min(f.e.c,16383),f.e.r=Math.min(f.e.c,1048575)}return o["!links"]=[],o["!comments"]=[],Jt(i,129),(t.vbaraw||o["!outline"])&&Jt(i,147,Vee(u,o["!outline"])),Jt(i,148,Fee(f)),Wte(i,o,t.Workbook),Vte(i,o),Bte(i,o,n,e),Yte(i,o),Gte(i,o,t,n),Ute(i,o),Hte(i,o,r),o["!margins"]&&Jt(i,476,Ote(o["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&zte(i,o),qte(i,o,n,r),Jt(i,130),i.end()}function Kte(n,e){n.l+=10;var t=Mo(n);return{name:t}}var Qte=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function $te(n){return!n.Workbook||!n.Workbook.WBProps?"false":CQ(n.Workbook.WBProps.date1904)?"true":"false"}var Zte="][*?/\\".split("");function t7(n,e){if(n.length>31)throw new Error("Sheet names cannot exceed 31 chars");var t=!0;return Zte.forEach(function(r){if(n.indexOf(r)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),t}function Jte(n,e,t){n.forEach(function(r,i){t7(r);for(var s=0;s<i;++s)if(r==n[s])throw new Error("Duplicate Sheet Name: "+r);if(t){var o=e&&e[i]&&e[i].CodeName||r;if(o.charCodeAt(0)==95&&o.length>22)throw new Error("Bad Code Name: Worksheet"+o)}})}function ene(n){if(!n||!n.SheetNames||!n.Sheets)throw new Error("Invalid Workbook");if(!n.SheetNames.length)throw new Error("Workbook is empty");var e=n.Workbook&&n.Workbook.Sheets||[];Jte(n.SheetNames,e,!!n.vbaraw);for(var t=0;t<n.SheetNames.length;++t)bee(n.Sheets[n.SheetNames[t]],n.SheetNames[t],t)}function n7(n){var e=[pa];e[e.length]=mn("workbook",null,{xmlns:q0[0],"xmlns:r":Ka.r});var t=n.Workbook&&(n.Workbook.Names||[]).length>0,r={codeName:"ThisWorkbook"};n.Workbook&&n.Workbook.WBProps&&(Qte.forEach(function(u){n.Workbook.WBProps[u[0]]!=null&&n.Workbook.WBProps[u[0]]!=u[1]&&(r[u[0]]=n.Workbook.WBProps[u[0]])}),n.Workbook.WBProps.CodeName&&(r.codeName=n.Workbook.WBProps.CodeName,delete r.CodeName)),e[e.length]=mn("workbookPr",null,r);var i=n.Workbook&&n.Workbook.Sheets||[],s=0;if(i&&i[0]&&i[0].Hidden){for(e[e.length]="<bookViews>",s=0;s!=n.SheetNames.length&&!(!i[s]||!i[s].Hidden);++s);s==n.SheetNames.length&&(s=0),e[e.length]='<workbookView firstSheet="'+s+'" activeTab="'+s+'"/>',e[e.length]="</bookViews>"}for(e[e.length]="<sheets>",s=0;s!=n.SheetNames.length;++s){var o={name:Si(n.SheetNames[s].slice(0,31))};if(o.sheetId=""+(s+1),o["r:id"]="rId"+(s+1),i[s])switch(i[s].Hidden){case 1:o.state="hidden";break;case 2:o.state="veryHidden";break}e[e.length]=mn("sheet",null,o)}return e[e.length]="</sheets>",t&&(e[e.length]="<definedNames>",n.Workbook&&n.Workbook.Names&&n.Workbook.Names.forEach(function(u){var f={name:u.Name};u.Comment&&(f.comment=u.Comment),u.Sheet!=null&&(f.localSheetId=""+u.Sheet),u.Hidden&&(f.hidden="1"),u.Ref&&(e[e.length]=mn("definedName",Si(u.Ref),f))}),e[e.length]="</definedNames>"),e.length>2&&(e[e.length]="</workbook>",e[1]=e[1].replace("/>",">")),e.join("")}function tne(n,e){var t={};return t.Hidden=n.read_shift(4),t.iTabID=n.read_shift(4),t.strRelID=aw(n),t.name=Mo(n),t}function nne(n,e){return e||(e=jt(127)),e.write_shift(4,n.Hidden),e.write_shift(4,n.iTabID),$5(n.strRelID,e),$a(n.name.slice(0,31),e),e.length>e.l?e.slice(0,e.l):e}function rne(n,e){var t={},r=n.read_shift(4);t.defaultThemeVersion=n.read_shift(4);var i=e>8?Mo(n):"";return i.length>0&&(t.CodeName=i),t.autoCompressPictures=!!(r&65536),t.backupFile=!!(r&64),t.checkCompatibility=!!(r&4096),t.date1904=!!(r&1),t.filterPrivacy=!!(r&8),t.hidePivotFieldList=!!(r&1024),t.promptedSolutions=!!(r&16),t.publishItems=!!(r&2048),t.refreshAllConnections=!!(r&262144),t.saveExternalLinkValues=!!(r&128),t.showBorderUnselectedTables=!!(r&4),t.showInkAnnotation=!!(r&32),t.showObjects=["all","placeholders","none"][r>>13&3],t.showPivotChartFilter=!!(r&32768),t.updateLinks=["userSet","never","always"][r>>8&3],t}function ine(n,e){e||(e=jt(72));var t=0;return n&&n.filterPrivacy&&(t|=8),e.write_shift(4,t),e.write_shift(4,0),mO(n&&n.CodeName||"ThisWorkbook",e),e.slice(0,e.l)}function sne(n,e,t){var r=n.l+e;n.l+=4,n.l+=1;var i=n.read_shift(4),s=$Q(n),o=pee(n,0,t),u=Q5(n);n.l=r;var f={Name:s,Ptg:o};return i<268435455&&(f.Sheet=i),u&&(f.Comment=u),f}function ane(n,e){Jt(n,143);for(var t=0;t!=e.SheetNames.length;++t){var r=e.Workbook&&e.Workbook.Sheets&&e.Workbook.Sheets[t]&&e.Workbook.Sheets[t].Hidden||0,i={Hidden:r,iTabID:t+1,strRelID:"rId"+(t+1),name:e.SheetNames[t]};Jt(n,156,nne(i))}Jt(n,144)}function one(n,e){e||(e=jt(127));for(var t=0;t!=4;++t)e.write_shift(4,0);return $a("SheetJS",e),$a(p2.version,e),$a(p2.version,e),$a("7262",e),e.length>e.l?e.slice(0,e.l):e}function lne(n,e){e||(e=jt(29)),e.write_shift(-4,0),e.write_shift(-4,460),e.write_shift(4,28800),e.write_shift(4,17600),e.write_shift(4,500),e.write_shift(4,n),e.write_shift(4,n);var t=120;return e.write_shift(1,t),e.length>e.l?e.slice(0,e.l):e}function cne(n,e){if(!(!e.Workbook||!e.Workbook.Sheets)){for(var t=e.Workbook.Sheets,r=0,i=-1,s=-1;r<t.length;++r)!t[r]||!t[r].Hidden&&i==-1?i=r:t[r].Hidden==1&&s==-1&&(s=r);s>i||(Jt(n,135),Jt(n,158,lne(i)),Jt(n,136))}}function une(n,e){var t=ml();return Jt(t,131),Jt(t,128,one()),Jt(t,153,ine(n.Workbook&&n.Workbook.WBProps||null)),cne(t,n),ane(t,n),Jt(t,132),t.end()}function hne(n,e,t){return(e.slice(-4)===".bin"?une:n7)(n)}function fne(n,e,t,r,i){return(e.slice(-4)===".bin"?Xte:JO)(n,t,r,i)}function dne(n,e,t){return(e.slice(-4)===".bin"?OZ:FO)(n,t)}function mne(n,e,t){return(e.slice(-4)===".bin"?iZ:LO)(n,t)}function gne(n,e,t){return(e.slice(-4)===".bin"?YZ:HO)(n)}function pne(n){return(n.slice(-4)===".bin"?BZ:VO)()}function xne(n,e){var t=[];return n.Props&&t.push(d$(n.Props,e)),n.Custprops&&t.push(m$(n.Props,n.Custprops)),t.join("")}function vne(){return""}function _ne(n,e){var t=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return e.cellXfs.forEach(function(r,i){var s=[];s.push(mn("NumberFormat",null,{"ss:Format":Si(Fs[r.numFmtId])}));var o={"ss:ID":"s"+(21+i)};t.push(mn("Style",s.join(""),o))}),mn("Styles",t.join(""))}function r7(n){return mn("NamedRange",null,{"ss:Name":n.Name,"ss:RefersTo":"="+tb(n.Ref,{r:0,c:0})})}function yne(n){if(!((n||{}).Workbook||{}).Names)return"";for(var e=n.Workbook.Names,t=[],r=0;r<e.length;++r){var i=e[r];i.Sheet==null&&(i.Name.match(/^_xlfn\./)||t.push(r7(i)))}return mn("Names",t.join(""))}function wne(n,e,t,r){if(!n||!((r||{}).Workbook||{}).Names)return"";for(var i=r.Workbook.Names,s=[],o=0;o<i.length;++o){var u=i[o];u.Sheet==t&&(u.Name.match(/^_xlfn\./)||s.push(r7(u)))}return s.join("")}function bne(n,e,t,r){if(!n)return"";var i=[];if(n["!margins"]&&(i.push("<PageSetup>"),n["!margins"].header&&i.push(mn("Header",null,{"x:Margin":n["!margins"].header})),n["!margins"].footer&&i.push(mn("Footer",null,{"x:Margin":n["!margins"].footer})),i.push(mn("PageMargins",null,{"x:Bottom":n["!margins"].bottom||"0.75","x:Left":n["!margins"].left||"0.7","x:Right":n["!margins"].right||"0.7","x:Top":n["!margins"].top||"0.75"})),i.push("</PageSetup>")),r&&r.Workbook&&r.Workbook.Sheets&&r.Workbook.Sheets[t])if(r.Workbook.Sheets[t].Hidden)i.push(mn("Visible",r.Workbook.Sheets[t].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var s=0;s<t&&!(r.Workbook.Sheets[s]&&!r.Workbook.Sheets[s].Hidden);++s);s==t&&i.push("<Selected/>")}return((((r||{}).Workbook||{}).Views||[])[0]||{}).RTL&&i.push("<DisplayRightToLeft/>"),n["!protect"]&&(i.push(go("ProtectContents","True")),n["!protect"].objects&&i.push(go("ProtectObjects","True")),n["!protect"].scenarios&&i.push(go("ProtectScenarios","True")),n["!protect"].selectLockedCells!=null&&!n["!protect"].selectLockedCells?i.push(go("EnableSelection","NoSelection")):n["!protect"].selectUnlockedCells!=null&&!n["!protect"].selectUnlockedCells&&i.push(go("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(o){n["!protect"][o[0]]&&i.push("<"+o[1]+"/>")})),i.length==0?"":mn("WorksheetOptions",i.join(""),{xmlns:Rl.x})}function Ene(n){return n.map(function(e){var t=NQ(e.t||""),r=mn("ss:Data",t,{xmlns:"http://www.w3.org/TR/REC-html40"});return mn("Comment",r,{"ss:Author":e.a})}).join("")}function Ane(n,e,t,r,i,s,o){if(!n||n.v==null&&n.f==null)return"";var u={};if(n.f&&(u["ss:Formula"]="="+Si(tb(n.f,o))),n.F&&n.F.slice(0,e.length)==e){var f=Qa(n.F.slice(e.length+1));u["ss:ArrayRange"]="RC:R"+(f.r==o.r?"":"["+(f.r-o.r)+"]")+"C"+(f.c==o.c?"":"["+(f.c-o.c)+"]")}if(n.l&&n.l.Target&&(u["ss:HRef"]=Si(n.l.Target),n.l.Tooltip&&(u["x:HRefScreenTip"]=Si(n.l.Tooltip))),t["!merges"])for(var d=t["!merges"],x=0;x!=d.length;++x)d[x].s.c!=o.c||d[x].s.r!=o.r||(d[x].e.c>d[x].s.c&&(u["ss:MergeAcross"]=d[x].e.c-d[x].s.c),d[x].e.r>d[x].s.r&&(u["ss:MergeDown"]=d[x].e.r-d[x].s.r));var w="",A="";switch(n.t){case"z":if(!r.sheetStubs)return"";break;case"n":w="Number",A=String(n.v);break;case"b":w="Boolean",A=n.v?"1":"0";break;case"e":w="Error",A=Ym[n.v];break;case"d":w="DateTime",A=new Date(n.v).toISOString(),n.z==null&&(n.z=n.z||Fs[14]);break;case"s":w="String",A=TQ(n.v||"");break}var E=lf(r.cellXfs,n,r);u["ss:StyleID"]="s"+(21+E),u["ss:Index"]=o.c+1;var I=n.v!=null?A:"",C=n.t=="z"?"":'<Data ss:Type="'+w+'">'+I+"</Data>";return(n.c||[]).length>0&&(C+=Ene(n.c)),mn("Cell",C,u)}function Sne(n,e){var t='<Row ss:Index="'+(n+1)+'"';return e&&(e.hpt&&!e.hpx&&(e.hpx=jO(e.hpt)),e.hpx&&(t+=' ss:AutoFitHeight="0" ss:Height="'+e.hpx+'"'),e.hidden&&(t+=' ss:Hidden="1"')),t+">"}function Tne(n,e,t,r){if(!n["!ref"])return"";var i=as(n["!ref"]),s=n["!merges"]||[],o=0,u=[];n["!cols"]&&n["!cols"].forEach(function(M,j){J5(M);var W=!!M.width,k=yx(j,M),G={"ss:Index":j+1};W&&(G["ss:Width"]=T2(k.width)),M.hidden&&(G["ss:Hidden"]="1"),u.push(mn("Column",null,G))});for(var f=Array.isArray(n),d=i.s.r;d<=i.e.r;++d){for(var x=[Sne(d,(n["!rows"]||[])[d])],w=i.s.c;w<=i.e.c;++w){var A=!1;for(o=0;o!=s.length;++o)if(!(s[o].s.c>w)&&!(s[o].s.r>d)&&!(s[o].e.c<w)&&!(s[o].e.r<d)){(s[o].s.c!=w||s[o].s.r!=d)&&(A=!0);break}if(!A){var E={r:d,c:w},I=Ni(E),C=f?(n[d]||[])[w]:n[I];x.push(Ane(C,I,n,e,t,r,E))}}x.push("</Row>"),x.length>2&&u.push(x.join(""))}return u.join("")}function Nne(n,e,t){var r=[],i=t.SheetNames[n],s=t.Sheets[i],o=s?wne(s,e,n,t):"";return o.length>0&&r.push("<Names>"+o+"</Names>"),o=s?Tne(s,e,n,t):"",o.length>0&&r.push("<Table>"+o+"</Table>"),r.push(bne(s,e,n,t)),r.join("")}function Cne(n,e){e||(e={}),n.SSF||(n.SSF=pl(Fs)),n.SSF&&(gx(),mx(n.SSF),e.revssf=px(n.SSF),e.revssf[n.SSF[65535]]=0,e.ssf=n.SSF,e.cellXfs=[],lf(e.cellXfs,{},{revssf:{General:0}}));var t=[];t.push(xne(n,e)),t.push(vne()),t.push(""),t.push("");for(var r=0;r<n.SheetNames.length;++r)t.push(mn("Worksheet",Nne(r,e,n),{"ss:Name":Si(n.SheetNames[r])}));return t[2]=_ne(n,e),t[3]=yne(n),pa+mn("Workbook",t.join(""),{xmlns:Rl.ss,"xmlns:o":Rl.o,"xmlns:x":Rl.x,"xmlns:ss":Rl.ss,"xmlns:dt":Rl.dt,"xmlns:html":Rl.html})}var ay={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function Ine(n,e){var t=[],r=[],i=[],s=0,o,u=sN(vN,"n"),f=sN(_N,"n");if(n.Props)for(o=xo(n.Props),s=0;s<o.length;++s)(Object.prototype.hasOwnProperty.call(u,o[s])?t:Object.prototype.hasOwnProperty.call(f,o[s])?r:i).push([o[s],n.Props[o[s]]]);if(n.Custprops)for(o=xo(n.Custprops),s=0;s<o.length;++s)Object.prototype.hasOwnProperty.call(n.Props||{},o[s])||(Object.prototype.hasOwnProperty.call(u,o[s])?t:Object.prototype.hasOwnProperty.call(f,o[s])?r:i).push([o[s],n.Custprops[o[s]]]);var d=[];for(s=0;s<i.length;++s)NO.indexOf(i[s][0])>-1||AO.indexOf(i[s][0])>-1||i[s][1]!=null&&d.push(i[s]);r.length&&Fi.utils.cfb_add(e,"/SummaryInformation",AN(r,ay.SI,f,_N)),(t.length||d.length)&&Fi.utils.cfb_add(e,"/DocumentSummaryInformation",AN(t,ay.DSI,u,vN,d.length?d:null,ay.UDI))}function Rne(n,e){var t=e||{},r=Fi.utils.cfb_new({root:"R"}),i="/Workbook";switch(t.bookType||"xls"){case"xls":t.bookType="biff8";case"xla":t.bookType||(t.bookType="xla");case"biff8":i="/Workbook",t.biff=8;break;case"biff5":i="/Book",t.biff=5;break;default:throw new Error("invalid type "+t.bookType+" for XLS CFB")}return Fi.utils.cfb_add(r,i,i7(n,t)),t.biff==8&&(n.Props||n.Custprops)&&Ine(n,r),t.biff==8&&n.vbaraw&&XZ(r,Fi.read(n.vbaraw,{type:typeof n.vbaraw=="string"?"binary":"buffer"})),r}var One={0:{f:Lee},1:{f:zee},2:{f:lte},3:{f:Qee},4:{f:Wee},5:{f:ite},6:{f:dte},7:{f:ete},8:{f:yte},9:{f:_te},10:{f:xte},11:{f:vte},12:{f:qee},13:{f:ute},14:{f:Zee},15:{f:Xee},16:{f:ate},17:{f:gte},18:{f:nte},19:{f:K5},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:sne},40:{},42:{},43:{f:dZ},44:{f:hZ},45:{f:pZ},46:{f:vZ},47:{f:xZ},48:{},49:{f:qQ},50:{},51:{f:LZ},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:G$},62:{f:fte},63:{f:UZ},64:{f:Pte},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:cu,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:Dte},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:Uee},148:{f:jee,p:16},151:{f:Tte},152:{},153:{f:rne},154:{},155:{},156:{f:tne},157:{},158:{},159:{T:1,f:tZ},160:{T:-1},161:{T:1,f:ud},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:wte},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:DZ},336:{T:-1},337:{f:jZ,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:aw},357:{},358:{},359:{},360:{T:1},361:{},362:{f:B$},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:Nte},427:{f:Cte},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:Rte},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:Bee},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:Ate},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:aw},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:GZ},633:{T:1},634:{T:-1},635:{T:1,f:HZ},636:{T:-1},637:{f:XQ},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:Kte},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:jte},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function xn(n,e,t,r){var i=e;if(!isNaN(i)){var s=r||(t||[]).length||0,o=n.next(4);o.write_shift(2,i),o.write_shift(2,s),s>0&&W5(t)&&n.push(t)}}function Dne(n,e,t,r){var i=(t||[]).length||0;if(i<=8224)return xn(n,e,t,i);var s=e;if(!isNaN(s)){for(var o=t.parts||[],u=0,f=0,d=0;d+(o[u]||8224)<=8224;)d+=o[u]||8224,u++;var x=n.next(4);for(x.write_shift(2,s),x.write_shift(2,d),n.push(t.slice(f,f+d)),f+=d;f<i;){for(x=n.next(4),x.write_shift(2,60),d=0;d+(o[u]||8224)<=8224;)d+=o[u]||8224,u++;x.write_shift(2,d),n.push(t.slice(f,f+d)),f+=d}}}function Km(n,e,t){return n||(n=jt(7)),n.write_shift(2,e),n.write_shift(2,t),n.write_shift(2,0),n.write_shift(1,0),n}function Mne(n,e,t,r){var i=jt(9);return Km(i,n,e),IO(t,r||"b",i),i}function Lne(n,e,t){var r=jt(8+2*t.length);return Km(r,n,e),r.write_shift(1,t.length),r.write_shift(t.length,t,"sbcs"),r.l<r.length?r.slice(0,r.l):r}function kne(n,e,t,r){if(e.v!=null)switch(e.t){case"d":case"n":var i=e.t=="d"?gl(Xo(e.v)):e.v;i==(i|0)&&i>=0&&i<65536?xn(n,2,K$(t,r,i)):xn(n,3,X$(t,r,i));return;case"b":case"e":xn(n,5,Mne(t,r,e.v,e.t));return;case"s":case"str":xn(n,4,Lne(t,r,(e.v||"").slice(0,255)));return}xn(n,1,Km(null,t,r))}function Pne(n,e,t,r){var i=Array.isArray(e),s=as(e["!ref"]||"A1"),o,u="",f=[];if(s.e.c>255||s.e.r>16383){if(r.WTF)throw new Error("Range "+(e["!ref"]||"A1")+" exceeds format limit A1:IV16384");s.e.c=Math.min(s.e.c,255),s.e.r=Math.min(s.e.c,16383),o=ga(s)}for(var d=s.s.r;d<=s.e.r;++d){u=po(d);for(var x=s.s.c;x<=s.e.c;++x){d===s.s.r&&(f[x]=Do(x)),o=f[x]+u;var w=i?(e[d]||[])[x]:e[o];w&&kne(n,w,d,x)}}}function jne(n,e){for(var t=e||{},r=ml(),i=0,s=0;s<n.SheetNames.length;++s)n.SheetNames[s]==t.sheet&&(i=s);if(i==0&&t.sheet&&n.SheetNames[0]!=t.sheet)throw new Error("Sheet not found: "+t.sheet);return xn(r,t.biff==4?1033:t.biff==3?521:9,Z5(n,16,t)),Pne(r,n.Sheets[n.SheetNames[i]],i,t),xn(r,10),r.end()}function Fne(n,e,t){xn(n,49,O$({sz:12,name:"Arial"},t))}function Bne(n,e,t){e&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)e[i]!=null&&xn(n,1054,L$(i,e[i],t))})}function Une(n,e){var t=jt(19);t.write_shift(4,2151),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(2,3),t.write_shift(1,1),t.write_shift(4,0),xn(n,2151,t),t=jt(39),t.write_shift(4,2152),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(2,3),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(2,1),t.write_shift(4,4),t.write_shift(2,0),DO(as(e["!ref"]||"A1"),t),t.write_shift(4,4),xn(n,2152,t)}function Vne(n,e){for(var t=0;t<16;++t)xn(n,224,TN({numFmtId:0,style:!0},0,e));e.cellXfs.forEach(function(r){xn(n,224,TN(r,0,e))})}function zne(n,e){for(var t=0;t<e["!links"].length;++t){var r=e["!links"][t];xn(n,440,z$(r)),r[1].Tooltip&&xn(n,2048,H$(r))}delete e["!links"]}function Hne(n,e){if(e){var t=0;e.forEach(function(r,i){++t<=256&&r&&xn(n,125,W$(yx(i,r),i))})}}function qne(n,e,t,r,i){var s=16+lf(i.cellXfs,e,i);if(e.v==null&&!e.bf){xn(n,513,Yf(t,r,s));return}if(e.bf)xn(n,6,mee(e,t,r,i,s));else switch(e.t){case"d":case"n":var o=e.t=="d"?gl(Xo(e.v)):e.v;xn(n,515,F$(t,r,o,s));break;case"b":case"e":xn(n,517,j$(t,r,e.v,s,i,e.t));break;case"s":case"str":if(i.bookSST){var u=rb(i.Strings,e.v,i.revStrings);xn(n,253,D$(t,r,u,s))}else xn(n,516,M$(t,r,(e.v||"").slice(0,255),s,i));break;default:xn(n,513,Yf(t,r,s))}}function Gne(n,e,t){var r=ml(),i=t.SheetNames[n],s=t.Sheets[i]||{},o=(t||{}).Workbook||{},u=(o.Sheets||[])[n]||{},f=Array.isArray(s),d=e.biff==8,x,w="",A=[],E=as(s["!ref"]||"A1"),I=d?65536:16384;if(E.e.c>255||E.e.r>=I){if(e.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:IV16384");E.e.c=Math.min(E.e.c,255),E.e.r=Math.min(E.e.c,I-1)}xn(r,2057,Z5(t,16,e)),xn(r,13,Ql(1)),xn(r,12,Ql(100)),xn(r,15,Go(!0)),xn(r,17,Go(!1)),xn(r,16,Wf(.001)),xn(r,95,Go(!0)),xn(r,42,Go(!1)),xn(r,43,Go(!1)),xn(r,130,Ql(1)),xn(r,128,P$()),xn(r,131,Go(!1)),xn(r,132,Go(!1)),d&&Hne(r,s["!cols"]),xn(r,512,k$(E,e)),d&&(s["!links"]=[]);for(var C=E.s.r;C<=E.e.r;++C){w=po(C);for(var M=E.s.c;M<=E.e.c;++M){C===E.s.r&&(A[M]=Do(M)),x=A[M]+w;var j=f?(s[C]||[])[M]:s[x];j&&(qne(r,j,C,M,e),d&&j.l&&s["!links"].push([x,j.l]))}}var W=u.CodeName||u.name||i;return d&&xn(r,574,R$((o.Views||[])[0])),d&&(s["!merges"]||[]).length&&xn(r,229,V$(s["!merges"])),d&&zne(r,s),xn(r,442,OO(W)),d&&Une(r,s),xn(r,10),r.end()}function Wne(n,e,t){var r=ml(),i=(n||{}).Workbook||{},s=i.Sheets||[],o=i.WBProps||{},u=t.biff==8,f=t.biff==5;if(xn(r,2057,Z5(n,5,t)),t.bookType=="xla"&&xn(r,135),xn(r,225,u?Ql(1200):null),xn(r,193,x$(2)),f&&xn(r,191),f&&xn(r,192),xn(r,226),xn(r,92,T$("SheetJS",t)),xn(r,66,Ql(u?1200:1252)),u&&xn(r,353,Ql(0)),u&&xn(r,448),xn(r,317,Y$(n.SheetNames.length)),u&&n.vbaraw&&xn(r,211),u&&n.vbaraw){var d=o.CodeName||"ThisWorkbook";xn(r,442,OO(d))}xn(r,156,Ql(17)),xn(r,25,Go(!1)),xn(r,18,Go(!1)),xn(r,19,Ql(0)),u&&xn(r,431,Go(!1)),u&&xn(r,444,Ql(0)),xn(r,61,I$()),xn(r,64,Go(!1)),xn(r,141,Ql(0)),xn(r,34,Go($te(n)=="true")),xn(r,14,Go(!0)),u&&xn(r,439,Go(!1)),xn(r,218,Ql(0)),Fne(r,n,t),Bne(r,n.SSF,t),Vne(r,t),u&&xn(r,352,Go(!1));var x=r.end(),w=ml();u&&xn(w,140,q$()),u&&t.Strings&&Dne(w,252,C$(t.Strings)),xn(w,10);var A=w.end(),E=ml(),I=0,C=0;for(C=0;C<n.SheetNames.length;++C)I+=(u?12:11)+(u?2:1)*n.SheetNames[C].length;var M=x.length+I+A.length;for(C=0;C<n.SheetNames.length;++C){var j=s[C]||{};xn(E,133,N$({pos:M,hs:j.Hidden||0,dt:0,name:n.SheetNames[C]},t)),M+=e[C].length}var W=E.end();if(I!=W.length)throw new Error("BS8 "+I+" != "+W.length);var k=[];return x.length&&k.push(x),W.length&&k.push(W),A.length&&k.push(A),mo(k)}function Yne(n,e){var t=e||{},r=[];n&&!n.SSF&&(n.SSF=pl(Fs)),n&&n.SSF&&(gx(),mx(n.SSF),t.revssf=px(n.SSF),t.revssf[n.SSF[65535]]=0,t.ssf=n.SSF),t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,ib(t),t.cellXfs=[],lf(t.cellXfs,{},{revssf:{General:0}}),n.Props||(n.Props={});for(var i=0;i<n.SheetNames.length;++i)r[r.length]=Gne(i,t,n);return r.unshift(Wne(n,r,t)),mo(r)}function i7(n,e){for(var t=0;t<=n.SheetNames.length;++t){var r=n.Sheets[n.SheetNames[t]];if(!(!r||!r["!ref"])){var i=Vl(r["!ref"]);i.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+n.SheetNames[t]+"' extends beyond column IV (255).  Data may be lost.")}}var s=e||{};switch(s.biff||2){case 8:case 5:return Yne(n,e);case 4:case 3:case 2:return jne(n,e)}throw new Error("invalid type "+s.bookType+" for BIFF")}function Xne(n,e,t,r){for(var i=n["!merges"]||[],s=[],o=e.s.c;o<=e.e.c;++o){for(var u=0,f=0,d=0;d<i.length;++d)if(!(i[d].s.r>t||i[d].s.c>o)&&!(i[d].e.r<t||i[d].e.c<o)){if(i[d].s.r<t||i[d].s.c<o){u=-1;break}u=i[d].e.r-i[d].s.r+1,f=i[d].e.c-i[d].s.c+1;break}if(!(u<0)){var x=Ni({r:t,c:o}),w=r.dense?(n[t]||[])[o]:n[x],A=w&&w.v!=null&&(w.h||SQ(w.w||(Ju(w),w.w)||""))||"",E={};u>1&&(E.rowspan=u),f>1&&(E.colspan=f),r.editable?A='<span contenteditable="true">'+A+"</span>":w&&(E["data-t"]=w&&w.t||"z",w.v!=null&&(E["data-v"]=w.v),w.z!=null&&(E["data-z"]=w.z),w.l&&(w.l.Target||"#").charAt(0)!="#"&&(A='<a href="'+w.l.Target+'">'+A+"</a>")),E.id=(r.id||"sjs")+"-"+x,s.push(mn("td",A,E))}}var I="<tr>";return I+s.join("")+"</tr>"}var Kne='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',Qne="</body></html>";function $ne(n,e,t){var r=[];return r.join("")+"<table"+(t&&t.id?' id="'+t.id+'"':"")+">"}function s7(n,e){var t=e||{},r=t.header!=null?t.header:Kne,i=t.footer!=null?t.footer:Qne,s=[r],o=Vl(n["!ref"]);t.dense=Array.isArray(n),s.push($ne(n,o,t));for(var u=o.s.r;u<=o.e.r;++u)s.push(Xne(n,o,u,t));return s.push("</table>"+i),s.join("")}function a7(n,e,t){var r=t||{},i=0,s=0;if(r.origin!=null)if(typeof r.origin=="number")i=r.origin;else{var o=typeof r.origin=="string"?Qa(r.origin):r.origin;i=o.r,s=o.c}var u=e.getElementsByTagName("tr"),f=Math.min(r.sheetRows||1e7,u.length),d={s:{r:0,c:0},e:{r:i,c:s}};if(n["!ref"]){var x=Vl(n["!ref"]);d.s.r=Math.min(d.s.r,x.s.r),d.s.c=Math.min(d.s.c,x.s.c),d.e.r=Math.max(d.e.r,x.e.r),d.e.c=Math.max(d.e.c,x.e.c),i==-1&&(d.e.r=i=x.e.r+1)}var w=[],A=0,E=n["!rows"]||(n["!rows"]=[]),I=0,C=0,M=0,j=0,W=0,k=0;for(n["!cols"]||(n["!cols"]=[]);I<u.length&&C<f;++I){var G=u[I];if(MN(G)){if(r.display)continue;E[C]={hidden:!0}}var ce=G.children;for(M=j=0;M<ce.length;++M){var re=ce[M];if(!(r.display&&MN(re))){var F=re.hasAttribute("data-v")?re.getAttribute("data-v"):re.hasAttribute("v")?re.getAttribute("v"):IQ(re.innerHTML),B=re.getAttribute("data-z")||re.getAttribute("z");for(A=0;A<w.length;++A){var L=w[A];L.s.c==j+s&&L.s.r<C+i&&C+i<=L.e.r&&(j=L.e.c+1-s,A=-1)}k=+re.getAttribute("colspan")||1,((W=+re.getAttribute("rowspan")||1)>1||k>1)&&w.push({s:{r:C+i,c:j+s},e:{r:C+i+(W||1)-1,c:j+s+(k||1)-1}});var Q={t:"s",v:F},U=re.getAttribute("data-t")||re.getAttribute("t")||"";F!=null&&(F.length==0?Q.t=U||"z":r.raw||F.trim().length==0||U=="s"||(F==="TRUE"?Q={t:"b",v:!0}:F==="FALSE"?Q={t:"b",v:!1}:isNaN(qu(F))?isNaN(ym(F).getDate())||(Q={t:"d",v:Xo(F)},r.cellDates||(Q={t:"n",v:gl(Q.v)}),Q.z=r.dateNF||Fs[14]):Q={t:"n",v:qu(F)})),Q.z===void 0&&B!=null&&(Q.z=B);var q="",Y=re.getElementsByTagName("A");if(Y&&Y.length)for(var ne=0;ne<Y.length&&!(Y[ne].hasAttribute("href")&&(q=Y[ne].getAttribute("href"),q.charAt(0)!="#"));++ne);q&&q.charAt(0)!="#"&&(Q.l={Target:q}),r.dense?(n[C+i]||(n[C+i]=[]),n[C+i][j+s]=Q):n[Ni({c:j+s,r:C+i})]=Q,d.e.c<j+s&&(d.e.c=j+s),j+=k}}++C}return w.length&&(n["!merges"]=(n["!merges"]||[]).concat(w)),d.e.r=Math.max(d.e.r,C-1+i),n["!ref"]=ga(d),C>=f&&(n["!fullref"]=ga((d.e.r=u.length-I+C-1+i,d))),n}function o7(n,e){var t=e||{},r=t.dense?[]:{};return a7(r,n,e)}function Zne(n,e){return ad(o7(n,e),e)}function MN(n){var e="",t=Jne(n);return t&&(e=t(n).getPropertyValue("display")),e||(e=n.style&&n.style.display),e==="none"}function Jne(n){return n.ownerDocument.defaultView&&typeof n.ownerDocument.defaultView.getComputedStyle=="function"?n.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var ere=(function(){var n=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),e="<office:document-styles "+bm({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+n+"</office:document-styles>";return function(){return pa+e}})(),LN=(function(){var n=function(s){return Si(s).replace(/  +/g,function(o){return'<text:s text:c="'+o.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},e=`          <table:table-cell />
`,t=`          <table:covered-table-cell/>
`,r=function(s,o,u){var f=[];f.push('      <table:table table:name="'+Si(o.SheetNames[u])+`" table:style-name="ta1">
`);var d=0,x=0,w=Vl(s["!ref"]||"A1"),A=s["!merges"]||[],E=0,I=Array.isArray(s);if(s["!cols"])for(x=0;x<=w.e.c;++x)f.push("        <table:table-column"+(s["!cols"][x]?' table:style-name="co'+s["!cols"][x].ods+'"':"")+`></table:table-column>
`);var C="",M=s["!rows"]||[];for(d=0;d<w.s.r;++d)C=M[d]?' table:style-name="ro'+M[d].ods+'"':"",f.push("        <table:table-row"+C+`></table:table-row>
`);for(;d<=w.e.r;++d){for(C=M[d]?' table:style-name="ro'+M[d].ods+'"':"",f.push("        <table:table-row"+C+`>
`),x=0;x<w.s.c;++x)f.push(e);for(;x<=w.e.c;++x){var j=!1,W={},k="";for(E=0;E!=A.length;++E)if(!(A[E].s.c>x)&&!(A[E].s.r>d)&&!(A[E].e.c<x)&&!(A[E].e.r<d)){(A[E].s.c!=x||A[E].s.r!=d)&&(j=!0),W["table:number-columns-spanned"]=A[E].e.c-A[E].s.c+1,W["table:number-rows-spanned"]=A[E].e.r-A[E].s.r+1;break}if(j){f.push(t);continue}var G=Ni({r:d,c:x}),ce=I?(s[d]||[])[x]:s[G];if(ce&&ce.f&&(W["table:formula"]=Si(yee(ce.f)),ce.F&&ce.F.slice(0,G.length)==G)){var re=Vl(ce.F);W["table:number-matrix-columns-spanned"]=re.e.c-re.s.c+1,W["table:number-matrix-rows-spanned"]=re.e.r-re.s.r+1}if(!ce){f.push(e);continue}switch(ce.t){case"b":k=ce.v?"TRUE":"FALSE",W["office:value-type"]="boolean",W["office:boolean-value"]=ce.v?"true":"false";break;case"n":k=ce.w||String(ce.v||0),W["office:value-type"]="float",W["office:value"]=ce.v||0;break;case"s":case"str":k=ce.v==null?"":ce.v,W["office:value-type"]="string";break;case"d":k=ce.w||Xo(ce.v).toISOString(),W["office:value-type"]="date",W["office:date-value"]=Xo(ce.v).toISOString(),W["table:style-name"]="ce1";break;default:f.push(e);continue}var F=n(k);if(ce.l&&ce.l.Target){var B=ce.l.Target;B=B.charAt(0)=="#"?"#"+wee(B.slice(1)):B,B.charAt(0)!="#"&&!B.match(/^\w+:/)&&(B="../"+B),F=mn("text:a",F,{"xlink:href":B.replace(/&/g,"&amp;")})}f.push("          "+mn("table:table-cell",mn("text:p",F,{}),W)+`
`)}f.push(`        </table:table-row>
`)}return f.push(`      </table:table>
`),f.join("")},i=function(s,o){s.push(` <office:automatic-styles>
`),s.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),s.push(`   <number:month number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:day number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:year/>
`),s.push(`  </number:date-style>
`);var u=0;o.SheetNames.map(function(d){return o.Sheets[d]}).forEach(function(d){if(d&&d["!cols"]){for(var x=0;x<d["!cols"].length;++x)if(d["!cols"][x]){var w=d["!cols"][x];if(w.width==null&&w.wpx==null&&w.wch==null)continue;J5(w),w.ods=u;var A=d["!cols"][x].wpx+"px";s.push('  <style:style style:name="co'+u+`" style:family="table-column">
`),s.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+A+`"/>
`),s.push(`  </style:style>
`),++u}}});var f=0;o.SheetNames.map(function(d){return o.Sheets[d]}).forEach(function(d){if(d&&d["!rows"]){for(var x=0;x<d["!rows"].length;++x)if(d["!rows"][x]){d["!rows"][x].ods=f;var w=d["!rows"][x].hpx+"px";s.push('  <style:style style:name="ro'+f+`" style:family="table-row">
`),s.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+w+`"/>
`),s.push(`  </style:style>
`),++f}}}),s.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),s.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),s.push(`  </style:style>
`),s.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),s.push(` </office:automatic-styles>
`)};return function(o,u){var f=[pa],d=bm({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),x=bm({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});u.bookType=="fods"?(f.push("<office:document"+d+x+`>
`),f.push(bO().replace(/office:document-meta/g,"office:meta"))):f.push("<office:document-content"+d+`>
`),i(f,o),f.push(`  <office:body>
`),f.push(`    <office:spreadsheet>
`);for(var w=0;w!=o.SheetNames.length;++w)f.push(r(o.Sheets[o.SheetNames[w]],o,w));return f.push(`    </office:spreadsheet>
`),f.push(`  </office:body>
`),u.bookType=="fods"?f.push("</office:document>"):f.push("</office:document-content>"),f.join("")}})();function l7(n,e){if(e.bookType=="fods")return LN(n,e);var t=z5(),r="",i=[],s=[];return r="mimetype",Ir(t,r,"application/vnd.oasis.opendocument.spreadsheet"),r="content.xml",Ir(t,r,LN(n,e)),i.push([r,"text/xml"]),s.push([r,"ContentFile"]),r="styles.xml",Ir(t,r,ere(n,e)),i.push([r,"text/xml"]),s.push([r,"StylesFile"]),r="meta.xml",Ir(t,r,pa+bO()),i.push([r,"text/xml"]),s.push([r,"MetadataFile"]),r="manifest.rdf",Ir(t,r,f$(s)),i.push([r,"application/rdf+xml"]),r="META-INF/manifest.xml",Ir(t,r,u$(i)),t}function I2(n){return new DataView(n.buffer,n.byteOffset,n.byteLength)}function tre(n){return typeof TextEncoder<"u"?new TextEncoder().encode(n):vc(wm(n))}function nre(n,e){e:for(var t=0;t<=n.length-e.length;++t){for(var r=0;r<e.length;++r)if(n[t+r]!=e[r])continue e;return!0}return!1}function nf(n){var e=n.reduce(function(i,s){return i+s.length},0),t=new Uint8Array(e),r=0;return n.forEach(function(i){t.set(i,r),r+=i.length}),t}function rre(n,e,t){var r=Math.floor(t==0?0:Math.LOG10E*Math.log(Math.abs(t)))+6176-20,i=t/Math.pow(10,r-6176);n[e+15]|=r>>7,n[e+14]|=(r&127)<<1;for(var s=0;i>=1;++s,i/=256)n[e+s]=i&255;n[e+15]|=t>=0?0:128}function Em(n,e){var t=e?e[0]:0,r=n[t]&127;e:if(n[t++]>=128&&(r|=(n[t]&127)<<7,n[t++]<128||(r|=(n[t]&127)<<14,n[t++]<128)||(r|=(n[t]&127)<<21,n[t++]<128)||(r+=(n[t]&127)*Math.pow(2,28),++t,n[t++]<128)||(r+=(n[t]&127)*Math.pow(2,35),++t,n[t++]<128)||(r+=(n[t]&127)*Math.pow(2,42),++t,n[t++]<128)))break e;return e&&(e[0]=t),r}function wi(n){var e=new Uint8Array(7);e[0]=n&127;var t=1;e:if(n>127){if(e[t-1]|=128,e[t]=n>>7&127,++t,n<=16383||(e[t-1]|=128,e[t]=n>>14&127,++t,n<=2097151)||(e[t-1]|=128,e[t]=n>>21&127,++t,n<=268435455)||(e[t-1]|=128,e[t]=n/256>>>21&127,++t,n<=34359738367)||(e[t-1]|=128,e[t]=n/65536>>>21&127,++t,n<=4398046511103))break e;e[t-1]|=128,e[t]=n/16777216>>>21&127,++t}return e.slice(0,t)}function b0(n){var e=0,t=n[e]&127;e:if(n[e++]>=128){if(t|=(n[e]&127)<<7,n[e++]<128||(t|=(n[e]&127)<<14,n[e++]<128)||(t|=(n[e]&127)<<21,n[e++]<128))break e;t|=(n[e]&127)<<28}return t}function Ca(n){for(var e=[],t=[0];t[0]<n.length;){var r=t[0],i=Em(n,t),s=i&7;i=Math.floor(i/8);var o=0,u;if(i==0)break;switch(s){case 0:{for(var f=t[0];n[t[0]++]>=128;);u=n.slice(f,t[0])}break;case 5:o=4,u=n.slice(t[0],t[0]+o),t[0]+=o;break;case 1:o=8,u=n.slice(t[0],t[0]+o),t[0]+=o;break;case 2:o=Em(n,t),u=n.slice(t[0],t[0]+o),t[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(s," for Field ").concat(i," at offset ").concat(r))}var d={data:u,type:s};e[i]==null?e[i]=[d]:e[i].push(d)}return e}function uo(n){var e=[];return n.forEach(function(t,r){t.forEach(function(i){i.data&&(e.push(wi(r*8+i.type)),i.type==2&&e.push(wi(i.data.length)),e.push(i.data))})}),nf(e)}function gc(n){for(var e,t=[],r=[0];r[0]<n.length;){var i=Em(n,r),s=Ca(n.slice(r[0],r[0]+i));r[0]+=i;var o={id:b0(s[1][0].data),messages:[]};s[2].forEach(function(u){var f=Ca(u.data),d=b0(f[3][0].data);o.messages.push({meta:f,data:n.slice(r[0],r[0]+d)}),r[0]+=d}),(e=s[3])!=null&&e[0]&&(o.merge=b0(s[3][0].data)>>>0>0),t.push(o)}return t}function $d(n){var e=[];return n.forEach(function(t){var r=[];r[1]=[{data:wi(t.id),type:0}],r[2]=[],t.merge!=null&&(r[3]=[{data:wi(+!!t.merge),type:0}]);var i=[];t.messages.forEach(function(o){i.push(o.data),o.meta[3]=[{type:0,data:wi(o.data.length)}],r[2].push({data:uo(o.meta),type:2})});var s=uo(r);e.push(wi(s.length)),e.push(s),i.forEach(function(o){return e.push(o)})}),nf(e)}function ire(n,e){if(n!=0)throw new Error("Unexpected Snappy chunk type ".concat(n));for(var t=[0],r=Em(e,t),i=[];t[0]<e.length;){var s=e[t[0]]&3;if(s==0){var o=e[t[0]++]>>2;if(o<60)++o;else{var u=o-59;o=e[t[0]],u>1&&(o|=e[t[0]+1]<<8),u>2&&(o|=e[t[0]+2]<<16),u>3&&(o|=e[t[0]+3]<<24),o>>>=0,o++,t[0]+=u}i.push(e.slice(t[0],t[0]+o)),t[0]+=o;continue}else{var f=0,d=0;if(s==1?(d=(e[t[0]]>>2&7)+4,f=(e[t[0]++]&224)<<3,f|=e[t[0]++]):(d=(e[t[0]++]>>2)+1,s==2?(f=e[t[0]]|e[t[0]+1]<<8,t[0]+=2):(f=(e[t[0]]|e[t[0]+1]<<8|e[t[0]+2]<<16|e[t[0]+3]<<24)>>>0,t[0]+=4)),i=[nf(i)],f==0)throw new Error("Invalid offset 0");if(f>i[0].length)throw new Error("Invalid offset beyond length");if(d>=f)for(i.push(i[0].slice(-f)),d-=f;d>=i[i.length-1].length;)i.push(i[i.length-1]),d-=i[i.length-1].length;i.push(i[0].slice(-f,-f+d))}}var x=nf(i);if(x.length!=r)throw new Error("Unexpected length: ".concat(x.length," != ").concat(r));return x}function pc(n){for(var e=[],t=0;t<n.length;){var r=n[t++],i=n[t]|n[t+1]<<8|n[t+2]<<16;t+=3,e.push(ire(r,n.slice(t,t+i))),t+=i}if(t!==n.length)throw new Error("data is not a valid framed stream!");return nf(e)}function Zd(n){for(var e=[],t=0;t<n.length;){var r=Math.min(n.length-t,268435455),i=new Uint8Array(4);e.push(i);var s=wi(r),o=s.length;e.push(s),r<=60?(o++,e.push(new Uint8Array([r-1<<2]))):r<=256?(o+=2,e.push(new Uint8Array([240,r-1&255]))):r<=65536?(o+=3,e.push(new Uint8Array([244,r-1&255,r-1>>8&255]))):r<=16777216?(o+=4,e.push(new Uint8Array([248,r-1&255,r-1>>8&255,r-1>>16&255]))):r<=4294967296&&(o+=5,e.push(new Uint8Array([252,r-1&255,r-1>>8&255,r-1>>16&255,r-1>>>24&255]))),e.push(n.slice(t,t+r)),o+=r,i[0]=0,i[1]=o&255,i[2]=o>>8&255,i[3]=o>>16&255,t+=r}return nf(e)}function oy(n,e){var t=new Uint8Array(32),r=I2(t),i=12,s=0;switch(t[0]=5,n.t){case"n":t[1]=2,rre(t,i,n.v),s|=1,i+=16;break;case"b":t[1]=6,r.setFloat64(i,n.v?1:0,!0),s|=2,i+=8;break;case"s":if(e.indexOf(n.v)==-1)throw new Error("Value ".concat(n.v," missing from SST!"));t[1]=3,r.setUint32(i,e.indexOf(n.v),!0),s|=8,i+=4;break;default:throw"unsupported cell type "+n.t}return r.setUint32(8,s,!0),t.slice(0,i)}function ly(n,e){var t=new Uint8Array(32),r=I2(t),i=12,s=0;switch(t[0]=3,n.t){case"n":t[2]=2,r.setFloat64(i,n.v,!0),s|=32,i+=8;break;case"b":t[2]=6,r.setFloat64(i,n.v?1:0,!0),s|=32,i+=8;break;case"s":if(e.indexOf(n.v)==-1)throw new Error("Value ".concat(n.v," missing from SST!"));t[2]=3,r.setUint32(i,e.indexOf(n.v),!0),s|=16,i+=4;break;default:throw"unsupported cell type "+n.t}return r.setUint32(4,s,!0),t.slice(0,i)}function Oh(n){var e=Ca(n);return Em(e[1][0].data)}function sre(n,e,t){var r,i,s,o;if(!((r=n[6])!=null&&r[0])||!((i=n[7])!=null&&i[0]))throw"Mutation only works on post-BNC storages!";var u=((o=(s=n[8])==null?void 0:s[0])==null?void 0:o.data)&&b0(n[8][0].data)>0||!1;if(u)throw"Math only works with normal offsets";for(var f=0,d=I2(n[7][0].data),x=0,w=[],A=I2(n[4][0].data),E=0,I=[],C=0;C<e.length;++C){if(e[C]==null){d.setUint16(C*2,65535,!0),A.setUint16(C*2,65535);continue}d.setUint16(C*2,x,!0),A.setUint16(C*2,E,!0);var M,j;switch(typeof e[C]){case"string":M=oy({t:"s",v:e[C]},t),j=ly({t:"s",v:e[C]},t);break;case"number":M=oy({t:"n",v:e[C]},t),j=ly({t:"n",v:e[C]},t);break;case"boolean":M=oy({t:"b",v:e[C]},t),j=ly({t:"b",v:e[C]},t);break;default:throw new Error("Unsupported value "+e[C])}w.push(M),x+=M.length,I.push(j),E+=j.length,++f}for(n[2][0].data=wi(f);C<n[7][0].data.length/2;++C)d.setUint16(C*2,65535,!0),A.setUint16(C*2,65535,!0);return n[6][0].data=nf(w),n[3][0].data=nf(I),f}function are(n,e){if(!e||!e.numbers)throw new Error("Must pass a `numbers` option -- check the README");var t=n.Sheets[n.SheetNames[0]];n.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var r=Vl(t["!ref"]);r.s.r=r.s.c=0;var i=!1;r.e.c>9&&(i=!0,r.e.c=9),r.e.r>49&&(i=!0,r.e.r=49),i&&console.error("The Numbers writer is currently limited to ".concat(ga(r)));var s=R2(t,{range:r,header:1}),o=["~Sh33tJ5~"];s.forEach(function(J){return J.forEach(function(Z){typeof Z=="string"&&o.push(Z)})});var u={},f=[],d=Fi.read(e.numbers,{type:"base64"});d.FileIndex.map(function(J,Z){return[J,d.FullPaths[Z]]}).forEach(function(J){var Z=J[0],oe=J[1];if(Z.type==2&&Z.name.match(/\.iwa/)){var de=Z.content,Me=pc(de),Ue=gc(Me);Ue.forEach(function(Ve){f.push(Ve.id),u[Ve.id]={deps:[],location:oe,type:b0(Ve.messages[0].meta[1][0].data)}})}}),f.sort(function(J,Z){return J-Z});var x=f.filter(function(J){return J>1}).map(function(J){return[J,wi(J)]});d.FileIndex.map(function(J,Z){return[J,d.FullPaths[Z]]}).forEach(function(J){var Z=J[0];if(J[1],!!Z.name.match(/\.iwa/)){var oe=gc(pc(Z.content));oe.forEach(function(de){de.messages.forEach(function(Me){x.forEach(function(Ue){de.messages.some(function(Ve){return b0(Ve.meta[1][0].data)!=11006&&nre(Ve.data,Ue[1])})&&u[Ue[0]].deps.push(de.id)})})})}});for(var w=Fi.find(d,u[1].location),A=gc(pc(w.content)),E,I=0;I<A.length;++I){var C=A[I];C.id==1&&(E=C)}var M=Oh(Ca(E.messages[0].data)[1][0].data);for(w=Fi.find(d,u[M].location),A=gc(pc(w.content)),I=0;I<A.length;++I)C=A[I],C.id==M&&(E=C);for(M=Oh(Ca(E.messages[0].data)[2][0].data),w=Fi.find(d,u[M].location),A=gc(pc(w.content)),I=0;I<A.length;++I)C=A[I],C.id==M&&(E=C);for(M=Oh(Ca(E.messages[0].data)[2][0].data),w=Fi.find(d,u[M].location),A=gc(pc(w.content)),I=0;I<A.length;++I)C=A[I],C.id==M&&(E=C);var j=Ca(E.messages[0].data);{j[6][0].data=wi(r.e.r+1),j[7][0].data=wi(r.e.c+1);var W=Oh(j[46][0].data),k=Fi.find(d,u[W].location),G=gc(pc(k.content));{for(var ce=0;ce<G.length&&G[ce].id!=W;++ce);if(G[ce].id!=W)throw"Bad ColumnRowUIDMapArchive";var re=Ca(G[ce].messages[0].data);re[1]=[],re[2]=[],re[3]=[];for(var F=0;F<=r.e.c;++F){var B=[];B[1]=B[2]=[{type:0,data:wi(F+420690)}],re[1].push({type:2,data:uo(B)}),re[2].push({type:0,data:wi(F)}),re[3].push({type:0,data:wi(F)})}re[4]=[],re[5]=[],re[6]=[];for(var L=0;L<=r.e.r;++L)B=[],B[1]=B[2]=[{type:0,data:wi(L+726270)}],re[4].push({type:2,data:uo(B)}),re[5].push({type:0,data:wi(L)}),re[6].push({type:0,data:wi(L)});G[ce].messages[0].data=uo(re)}k.content=Zd($d(G)),k.size=k.content.length,delete j[46];var Q=Ca(j[4][0].data);{Q[7][0].data=wi(r.e.r+1);var U=Ca(Q[1][0].data),q=Oh(U[2][0].data);k=Fi.find(d,u[q].location),G=gc(pc(k.content));{if(G[0].id!=q)throw"Bad HeaderStorageBucket";var Y=Ca(G[0].messages[0].data);for(L=0;L<s.length;++L){var ne=Ca(Y[2][0].data);ne[1][0].data=wi(L),ne[4][0].data=wi(s[L].length),Y[2][L]={type:Y[2][0].type,data:uo(ne)}}G[0].messages[0].data=uo(Y)}k.content=Zd($d(G)),k.size=k.content.length;var pe=Oh(Q[2][0].data);k=Fi.find(d,u[pe].location),G=gc(pc(k.content));{if(G[0].id!=pe)throw"Bad HeaderStorageBucket";for(Y=Ca(G[0].messages[0].data),F=0;F<=r.e.c;++F)ne=Ca(Y[2][0].data),ne[1][0].data=wi(F),ne[4][0].data=wi(r.e.r+1),Y[2][F]={type:Y[2][0].type,data:uo(ne)};G[0].messages[0].data=uo(Y)}k.content=Zd($d(G)),k.size=k.content.length;var Ae=Oh(Q[4][0].data);(function(){for(var J=Fi.find(d,u[Ae].location),Z=gc(pc(J.content)),oe,de=0;de<Z.length;++de){var Me=Z[de];Me.id==Ae&&(oe=Me)}var Ue=Ca(oe.messages[0].data);{Ue[3]=[];var Ve=[];o.forEach(function(Tt,St){Ve[1]=[{type:0,data:wi(St)}],Ve[2]=[{type:0,data:wi(1)}],Ve[3]=[{type:2,data:tre(Tt)}],Ue[3].push({type:2,data:uo(Ve)})})}oe.messages[0].data=uo(Ue);var Ie=$d(Z),nt=Zd(Ie);J.content=nt,J.size=J.content.length})();var ve=Ca(Q[3][0].data);{var Re=ve[1][0];delete ve[2];var He=Ca(Re.data);{var ze=Oh(He[2][0].data);(function(){for(var J=Fi.find(d,u[ze].location),Z=gc(pc(J.content)),oe,de=0;de<Z.length;++de){var Me=Z[de];Me.id==ze&&(oe=Me)}var Ue=Ca(oe.messages[0].data);{delete Ue[6],delete ve[7];var Ve=new Uint8Array(Ue[5][0].data);Ue[5]=[];for(var Ie=0,nt=0;nt<=r.e.r;++nt){var Tt=Ca(Ve);Ie+=sre(Tt,s[nt],o),Tt[1][0].data=wi(nt),Ue[5].push({data:uo(Tt),type:2})}Ue[1]=[{type:0,data:wi(r.e.c+1)}],Ue[2]=[{type:0,data:wi(r.e.r+1)}],Ue[3]=[{type:0,data:wi(Ie)}],Ue[4]=[{type:0,data:wi(r.e.r+1)}]}oe.messages[0].data=uo(Ue);var St=$d(Z),Rt=Zd(St);J.content=Rt,J.size=J.content.length})()}Re.data=uo(He)}Q[3][0].data=uo(ve)}j[4][0].data=uo(Q)}E.messages[0].data=uo(j);var xe=$d(A),H=Zd(xe);return w.content=H,w.size=w.content.length,d}function ore(n){return function(t){for(var r=0;r!=n.length;++r){var i=n[r];t[i[0]]===void 0&&(t[i[0]]=i[1]),i[2]==="n"&&(t[i[0]]=Number(t[i[0]]))}}}function ib(n){ore([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(n)}function lre(n,e){return e.bookType=="ods"?l7(n,e):e.bookType=="numbers"?are(n,e):e.bookType=="xlsb"?cre(n,e):ure(n,e)}function cre(n,e){l0=1024,n&&!n.SSF&&(n.SSF=pl(Fs)),n&&n.SSF&&(gx(),mx(n.SSF),e.revssf=px(n.SSF),e.revssf[n.SSF[65535]]=0,e.ssf=n.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,sm?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var t=e.bookType=="xlsb"?"bin":"xml",r=qO.indexOf(e.bookType)>-1,i=_O();ib(e=e||{});var s=z5(),o="",u=0;if(e.cellXfs=[],lf(e.cellXfs,{},{revssf:{General:0}}),n.Props||(n.Props={}),o="docProps/core.xml",Ir(s,o,EO(n.Props,e)),i.coreprops.push(o),bi(e.rels,2,o,oi.CORE_PROPS),o="docProps/app.xml",!(n.Props&&n.Props.SheetNames))if(!n.Workbook||!n.Workbook.Sheets)n.Props.SheetNames=n.SheetNames;else{for(var f=[],d=0;d<n.SheetNames.length;++d)(n.Workbook.Sheets[d]||{}).Hidden!=2&&f.push(n.SheetNames[d]);n.Props.SheetNames=f}for(n.Props.Worksheets=n.Props.SheetNames.length,Ir(s,o,SO(n.Props)),i.extprops.push(o),bi(e.rels,3,o,oi.EXT_PROPS),n.Custprops!==n.Props&&xo(n.Custprops||{}).length>0&&(o="docProps/custom.xml",Ir(s,o,TO(n.Custprops)),i.custprops.push(o),bi(e.rels,4,o,oi.CUST_PROPS)),u=1;u<=n.SheetNames.length;++u){var x={"!id":{}},w=n.Sheets[n.SheetNames[u-1]],A=(w||{})["!type"]||"sheet";switch(A){case"chart":default:o="xl/worksheets/sheet"+u+"."+t,Ir(s,o,fne(u-1,o,e,n,x)),i.sheets.push(o),bi(e.wbrels,-1,"worksheets/sheet"+u+"."+t,oi.WS[0])}if(w){var E=w["!comments"],I=!1,C="";E&&E.length>0&&(C="xl/comments"+u+"."+t,Ir(s,C,gne(E,C)),i.comments.push(C),bi(x,-1,"../comments"+u+"."+t,oi.CMNT),I=!0),w["!legacy"]&&I&&Ir(s,"xl/drawings/vmlDrawing"+u+".vml",zO(u,w["!comments"])),delete w["!comments"],delete w["!legacy"]}x["!id"].rId1&&Ir(s,wO(o),y0(x))}return e.Strings!=null&&e.Strings.length>0&&(o="xl/sharedStrings."+t,Ir(s,o,mne(e.Strings,o,e)),i.strs.push(o),bi(e.wbrels,-1,"sharedStrings."+t,oi.SST)),o="xl/workbook."+t,Ir(s,o,hne(n,o)),i.workbooks.push(o),bi(e.rels,1,o,oi.WB),o="xl/theme/theme1.xml",Ir(s,o,UO(n.Themes,e)),i.themes.push(o),bi(e.wbrels,-1,"theme/theme1.xml",oi.THEME),o="xl/styles."+t,Ir(s,o,dne(n,o,e)),i.styles.push(o),bi(e.wbrels,-1,"styles."+t,oi.STY),n.vbaraw&&r&&(o="xl/vbaProject.bin",Ir(s,o,n.vbaraw),i.vba.push(o),bi(e.wbrels,-1,"vbaProject.bin",oi.VBA)),o="xl/metadata."+t,Ir(s,o,pne(o)),i.metadata.push(o),bi(e.wbrels,-1,"metadata."+t,oi.XLMETA),Ir(s,"[Content_Types].xml",yO(i,e)),Ir(s,"_rels/.rels",y0(e.rels)),Ir(s,"xl/_rels/workbook."+t+".rels",y0(e.wbrels)),delete e.revssf,delete e.ssf,s}function ure(n,e){l0=1024,n&&!n.SSF&&(n.SSF=pl(Fs)),n&&n.SSF&&(gx(),mx(n.SSF),e.revssf=px(n.SSF),e.revssf[n.SSF[65535]]=0,e.ssf=n.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,sm?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var t="xml",r=qO.indexOf(e.bookType)>-1,i=_O();ib(e=e||{});var s=z5(),o="",u=0;if(e.cellXfs=[],lf(e.cellXfs,{},{revssf:{General:0}}),n.Props||(n.Props={}),o="docProps/core.xml",Ir(s,o,EO(n.Props,e)),i.coreprops.push(o),bi(e.rels,2,o,oi.CORE_PROPS),o="docProps/app.xml",!(n.Props&&n.Props.SheetNames))if(!n.Workbook||!n.Workbook.Sheets)n.Props.SheetNames=n.SheetNames;else{for(var f=[],d=0;d<n.SheetNames.length;++d)(n.Workbook.Sheets[d]||{}).Hidden!=2&&f.push(n.SheetNames[d]);n.Props.SheetNames=f}n.Props.Worksheets=n.Props.SheetNames.length,Ir(s,o,SO(n.Props)),i.extprops.push(o),bi(e.rels,3,o,oi.EXT_PROPS),n.Custprops!==n.Props&&xo(n.Custprops||{}).length>0&&(o="docProps/custom.xml",Ir(s,o,TO(n.Custprops)),i.custprops.push(o),bi(e.rels,4,o,oi.CUST_PROPS));var x=["SheetJ5"];for(e.tcid=0,u=1;u<=n.SheetNames.length;++u){var w={"!id":{}},A=n.Sheets[n.SheetNames[u-1]],E=(A||{})["!type"]||"sheet";switch(E){case"chart":default:o="xl/worksheets/sheet"+u+"."+t,Ir(s,o,JO(u-1,e,n,w)),i.sheets.push(o),bi(e.wbrels,-1,"worksheets/sheet"+u+"."+t,oi.WS[0])}if(A){var I=A["!comments"],C=!1,M="";if(I&&I.length>0){var j=!1;I.forEach(function(W){W[1].forEach(function(k){k.T==!0&&(j=!0)})}),j&&(M="xl/threadedComments/threadedComment"+u+"."+t,Ir(s,M,VZ(I,x,e)),i.threadedcomments.push(M),bi(w,-1,"../threadedComments/threadedComment"+u+"."+t,oi.TCMNT)),M="xl/comments"+u+"."+t,Ir(s,M,HO(I)),i.comments.push(M),bi(w,-1,"../comments"+u+"."+t,oi.CMNT),C=!0}A["!legacy"]&&C&&Ir(s,"xl/drawings/vmlDrawing"+u+".vml",zO(u,A["!comments"])),delete A["!comments"],delete A["!legacy"]}w["!id"].rId1&&Ir(s,wO(o),y0(w))}return e.Strings!=null&&e.Strings.length>0&&(o="xl/sharedStrings."+t,Ir(s,o,LO(e.Strings,e)),i.strs.push(o),bi(e.wbrels,-1,"sharedStrings."+t,oi.SST)),o="xl/workbook."+t,Ir(s,o,n7(n)),i.workbooks.push(o),bi(e.rels,1,o,oi.WB),o="xl/theme/theme1.xml",Ir(s,o,UO(n.Themes,e)),i.themes.push(o),bi(e.wbrels,-1,"theme/theme1.xml",oi.THEME),o="xl/styles."+t,Ir(s,o,FO(n,e)),i.styles.push(o),bi(e.wbrels,-1,"styles."+t,oi.STY),n.vbaraw&&r&&(o="xl/vbaProject.bin",Ir(s,o,n.vbaraw),i.vba.push(o),bi(e.wbrels,-1,"vbaProject.bin",oi.VBA)),o="xl/metadata."+t,Ir(s,o,VO()),i.metadata.push(o),bi(e.wbrels,-1,"metadata."+t,oi.XLMETA),x.length>1&&(o="xl/persons/person.xml",Ir(s,o,zZ(x)),i.people.push(o),bi(e.wbrels,-1,"persons/person.xml",oi.PEOPLE)),Ir(s,"[Content_Types].xml",yO(i,e)),Ir(s,"_rels/.rels",y0(e.rels)),Ir(s,"xl/_rels/workbook."+t+".rels",y0(e.wbrels)),delete e.revssf,delete e.ssf,s}function hre(n,e){var t="";switch((e||{}).type||"base64"){case"buffer":return[n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7]];case"base64":t=Zu(n.slice(0,12));break;case"binary":t=n;break;case"array":return[n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3),t.charCodeAt(4),t.charCodeAt(5),t.charCodeAt(6),t.charCodeAt(7)]}function c7(n,e){switch(e.type){case"base64":case"binary":break;case"buffer":case"array":e.type="";break;case"file":return Gm(e.file,Fi.write(n,{type:gi?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");default:throw new Error("Unrecognized type "+e.type)}return Fi.write(n,e)}function fre(n,e){var t=pl(e||{}),r=lre(n,t);return dre(r,t)}function dre(n,e){var t={},r=gi?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(e.compression&&(t.compression="DEFLATE"),e.password)t.type=r;else switch(e.type){case"base64":t.type="base64";break;case"binary":t.type="string";break;case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");case"buffer":case"file":t.type=r;break;default:throw new Error("Unrecognized type "+e.type)}var i=n.FullPaths?Fi.write(n,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[t.type]||t.type,compression:!!e.compression}):n.generate(t);if(typeof Deno<"u"&&typeof i=="string"){if(e.type=="binary"||e.type=="base64")return i;i=new Uint8Array(dx(i))}return e.password&&typeof encrypt_agile<"u"?c7(encrypt_agile(i,e.password),e):e.type==="file"?Gm(e.file,i):e.type=="string"?tm(i):i}function mre(n,e){var t=e||{},r=Rne(n,t);return c7(r,t)}function Xc(n,e,t){t||(t="");var r=t+n;switch(e.type){case"base64":return _m(wm(r));case"binary":return wm(r);case"string":return n;case"file":return Gm(e.file,r,"utf8");case"buffer":return gi?th(r,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(r):Xc(r,{type:"binary"}).split("").map(function(i){return i.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function gre(n,e){switch(e.type){case"base64":return _m(n);case"binary":return n;case"string":return n;case"file":return Gm(e.file,n,"binary");case"buffer":return gi?th(n,"binary"):n.split("").map(function(t){return t.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function vp(n,e){switch(e.type){case"string":case"base64":case"binary":for(var t="",r=0;r<n.length;++r)t+=String.fromCharCode(n[r]);return e.type=="base64"?_m(t):e.type=="string"?tm(t):t;case"file":return Gm(e.file,n);case"buffer":return n;default:throw new Error("Unrecognized type "+e.type)}}function u7(n,e){HK(),ene(n);var t=pl(e||{});if(t.cellStyles&&(t.cellNF=!0,t.sheetStubs=!0),t.type=="array"){t.type="binary";var r=u7(n,t);return t.type="array",dx(r)}var i=0;if(t.sheet&&(typeof t.sheet=="number"?i=t.sheet:i=n.SheetNames.indexOf(t.sheet),!n.SheetNames[i]))throw new Error("Sheet not found: "+t.sheet+" : "+typeof t.sheet);switch(t.bookType||"xlsb"){case"xml":case"xlml":return Xc(Cne(n,t),t);case"slk":case"sylk":return Xc($$.from_sheet(n.Sheets[n.SheetNames[i]],t),t);case"htm":case"html":return Xc(s7(n.Sheets[n.SheetNames[i]],t),t);case"txt":return gre(f7(n.Sheets[n.SheetNames[i]],t),t);case"csv":return Xc(sb(n.Sheets[n.SheetNames[i]],t),t,"\uFEFF");case"dif":return Xc(Z$.from_sheet(n.Sheets[n.SheetNames[i]],t),t);case"dbf":return vp(Q$.from_sheet(n.Sheets[n.SheetNames[i]],t),t);case"prn":return Xc(J$.from_sheet(n.Sheets[n.SheetNames[i]],t),t);case"rtf":return Xc(aZ.from_sheet(n.Sheets[n.SheetNames[i]],t),t);case"eth":return Xc(MO.from_sheet(n.Sheets[n.SheetNames[i]],t),t);case"fods":return Xc(l7(n,t),t);case"wk1":return vp(NN.sheet_to_wk1(n.Sheets[n.SheetNames[i]],t),t);case"wk3":return vp(NN.book_to_wk3(n,t),t);case"biff2":t.biff||(t.biff=2);case"biff3":t.biff||(t.biff=3);case"biff4":return t.biff||(t.biff=4),vp(i7(n,t),t);case"biff5":t.biff||(t.biff=5);case"biff8":case"xla":case"xls":return t.biff||(t.biff=8),mre(n,t);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return fre(n,t);default:throw new Error("Unrecognized bookType |"+t.bookType+"|")}}function pre(n){if(!n.bookType){var e={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},t=n.file.slice(n.file.lastIndexOf(".")).toLowerCase();t.match(/^\.[a-z]+$/)&&(n.bookType=t.slice(1)),n.bookType=e[n.bookType]||n.bookType}}function h7(n,e,t){var r={};return r.type="file",r.file=e,pre(r),u7(n,r)}function xre(n,e,t,r,i,s,o,u){var f=po(t),d=u.defval,x=u.raw||!Object.prototype.hasOwnProperty.call(u,"raw"),w=!0,A=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(A,"__rowNum__",{value:t,enumerable:!1})}catch{A.__rowNum__=t}else A.__rowNum__=t;if(!o||n[t])for(var E=e.s.c;E<=e.e.c;++E){var I=o?n[t][E]:n[r[E]+f];if(I===void 0||I.t===void 0){if(d===void 0)continue;s[E]!=null&&(A[s[E]]=d);continue}var C=I.v;switch(I.t){case"z":if(C==null)break;continue;case"e":C=C==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+I.t)}if(s[E]!=null){if(C==null)if(I.t=="e"&&C===null)A[s[E]]=null;else if(d!==void 0)A[s[E]]=d;else if(x&&C===null)A[s[E]]=null;else continue;else A[s[E]]=x&&(I.t!=="n"||I.t==="n"&&u.rawNumbers!==!1)?C:Ju(I,C,u);C!=null&&(w=!1)}}return{row:A,isempty:w}}function R2(n,e){if(n==null||n["!ref"]==null)return[];var t={t:"n",v:0},r=0,i=1,s=[],o=0,u="",f={s:{r:0,c:0},e:{r:0,c:0}},d=e||{},x=d.range!=null?d.range:n["!ref"];switch(d.header===1?r=1:d.header==="A"?r=2:Array.isArray(d.header)?r=3:d.header==null&&(r=0),typeof x){case"string":f=as(x);break;case"number":f=as(n["!ref"]),f.s.r=x;break;default:f=x}r>0&&(i=0);var w=po(f.s.r),A=[],E=[],I=0,C=0,M=Array.isArray(n),j=f.s.r,W=0,k={};M&&!n[j]&&(n[j]=[]);var G=d.skipHidden&&n["!cols"]||[],ce=d.skipHidden&&n["!rows"]||[];for(W=f.s.c;W<=f.e.c;++W)if(!(G[W]||{}).hidden)switch(A[W]=Do(W),t=M?n[j][W]:n[A[W]+w],r){case 1:s[W]=W-f.s.c;break;case 2:s[W]=A[W];break;case 3:s[W]=d.header[W-f.s.c];break;default:if(t==null&&(t={w:"__EMPTY",t:"s"}),u=o=Ju(t,null,d),C=k[o]||0,!C)k[o]=1;else{do u=o+"_"+C++;while(k[u]);k[o]=C,k[u]=1}s[W]=u}for(j=f.s.r+i;j<=f.e.r;++j)if(!(ce[j]||{}).hidden){var re=xre(n,f,j,A,r,s,M,d);(re.isempty===!1||(r===1?d.blankrows!==!1:d.blankrows))&&(E[I++]=re.row)}return E.length=I,E}var kN=/"/g;function vre(n,e,t,r,i,s,o,u){for(var f=!0,d=[],x="",w=po(t),A=e.s.c;A<=e.e.c;++A)if(r[A]){var E=u.dense?(n[t]||[])[A]:n[r[A]+w];if(E==null)x="";else if(E.v!=null){f=!1,x=""+(u.rawNumbers&&E.t=="n"?E.v:Ju(E,null,u));for(var I=0,C=0;I!==x.length;++I)if((C=x.charCodeAt(I))===i||C===s||C===34||u.forceQuotes){x='"'+x.replace(kN,'""')+'"';break}x=="ID"&&(x='"ID"')}else E.f!=null&&!E.F?(f=!1,x="="+E.f,x.indexOf(",")>=0&&(x='"'+x.replace(kN,'""')+'"')):x="";d.push(x)}return u.blankrows===!1&&f?null:d.join(o)}function sb(n,e){var t=[],r=e??{};if(n==null||n["!ref"]==null)return"";var i=as(n["!ref"]),s=r.FS!==void 0?r.FS:",",o=s.charCodeAt(0),u=r.RS!==void 0?r.RS:`
`,f=u.charCodeAt(0),d=new RegExp((s=="|"?"\\|":s)+"+$"),x="",w=[];r.dense=Array.isArray(n);for(var A=r.skipHidden&&n["!cols"]||[],E=r.skipHidden&&n["!rows"]||[],I=i.s.c;I<=i.e.c;++I)(A[I]||{}).hidden||(w[I]=Do(I));for(var C=0,M=i.s.r;M<=i.e.r;++M)(E[M]||{}).hidden||(x=vre(n,i,M,w,o,f,s,r),x!=null&&(r.strip&&(x=x.replace(d,"")),(x||r.blankrows!==!1)&&t.push((C++?u:"")+x)));return delete r.dense,t.join("")}function f7(n,e){e||(e={}),e.FS="	",e.RS=`
`;var t=sb(n,e);return t}function _re(n){var e="",t,r="";if(n==null||n["!ref"]==null)return[];var i=as(n["!ref"]),s="",o=[],u,f=[],d=Array.isArray(n);for(u=i.s.c;u<=i.e.c;++u)o[u]=Do(u);for(var x=i.s.r;x<=i.e.r;++x)for(s=po(x),u=i.s.c;u<=i.e.c;++u)if(e=o[u]+s,t=d?(n[x]||[])[u]:n[e],r="",t!==void 0){if(t.F!=null){if(e=t.F,!t.f)continue;r=t.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(t.f!=null)r=t.f;else{if(t.t=="z")continue;if(t.t=="n"&&t.v!=null)r=""+t.v;else if(t.t=="b")r=t.v?"TRUE":"FALSE";else if(t.w!==void 0)r="'"+t.w;else{if(t.v===void 0)continue;t.t=="s"?r="'"+t.v:r=""+t.v}}f[f.length]=e+"="+r}return f}function d7(n,e,t){var r=t||{},i=+!r.skipHeader,s=n||{},o=0,u=0;if(s&&r.origin!=null)if(typeof r.origin=="number")o=r.origin;else{var f=typeof r.origin=="string"?Qa(r.origin):r.origin;o=f.r,u=f.c}var d,x={s:{c:0,r:0},e:{c:u,r:o+e.length-1+i}};if(s["!ref"]){var w=as(s["!ref"]);x.e.c=Math.max(x.e.c,w.e.c),x.e.r=Math.max(x.e.r,w.e.r),o==-1&&(o=w.e.r+1,x.e.r=o+e.length-1+i)}else o==-1&&(o=0,x.e.r=e.length-1+i);var A=r.header||[],E=0;e.forEach(function(C,M){xo(C).forEach(function(j){(E=A.indexOf(j))==-1&&(A[E=A.length]=j);var W=C[j],k="z",G="",ce=Ni({c:u+E,r:o+M+i});d=Am(s,ce),W&&typeof W=="object"&&!(W instanceof Date)?s[ce]=W:(typeof W=="number"?k="n":typeof W=="boolean"?k="b":typeof W=="string"?k="s":W instanceof Date?(k="d",r.cellDates||(k="n",W=gl(W)),G=r.dateNF||Fs[14]):W===null&&r.nullError&&(k="e",W=0),d?(d.t=k,d.v=W,delete d.w,delete d.R,G&&(d.z=G)):s[ce]=d={t:k,v:W},G&&(d.z=G))})}),x.e.c=Math.max(x.e.c,u+A.length-1);var I=po(o);if(i)for(E=0;E<A.length;++E)s[Do(E+u)+I]={t:"s",v:A[E]};return s["!ref"]=ga(x),s}function yre(n,e){return d7(null,n,e)}function Am(n,e,t){if(typeof e=="string"){if(Array.isArray(n)){var r=Qa(e);return n[r.r]||(n[r.r]=[]),n[r.r][r.c]||(n[r.r][r.c]={t:"z"})}return n[e]||(n[e]={t:"z"})}return typeof e!="number"?Am(n,Ni(e)):Am(n,Ni({r:e,c:t||0}))}function wre(n,e){if(typeof e=="number"){if(e>=0&&n.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var t=n.SheetNames.indexOf(e);if(t>-1)return t;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function bre(){return{SheetNames:[],Sheets:{}}}function Ere(n,e,t,r){var i=1;if(!t)for(;i<=65535&&n.SheetNames.indexOf(t="Sheet"+i)!=-1;++i,t=void 0);if(!t||n.SheetNames.length>=65535)throw new Error("Too many worksheets");if(r&&n.SheetNames.indexOf(t)>=0){var s=t.match(/(^.*?)(\d+)$/);i=s&&+s[2]||0;var o=s&&s[1]||t;for(++i;i<=65535&&n.SheetNames.indexOf(t=o+i)!=-1;++i);}if(t7(t),n.SheetNames.indexOf(t)>=0)throw new Error("Worksheet with name |"+t+"| already exists!");return n.SheetNames.push(t),n.Sheets[t]=e,t}function Are(n,e,t){n.Workbook||(n.Workbook={}),n.Workbook.Sheets||(n.Workbook.Sheets=[]);var r=wre(n,e);switch(n.Workbook.Sheets[r]||(n.Workbook.Sheets[r]={}),t){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+t)}n.Workbook.Sheets[r].Hidden=t}function Sre(n,e){return n.z=e,n}function m7(n,e,t){return e?(n.l={Target:e},t&&(n.l.Tooltip=t)):delete n.l,n}function Tre(n,e,t){return m7(n,"#"+e,t)}function Nre(n,e,t){n.c||(n.c=[]),n.c.push({t:e,a:t||"SheetJS"})}function Cre(n,e,t,r){for(var i=typeof e!="string"?e:as(e),s=typeof e=="string"?e:ga(e),o=i.s.r;o<=i.e.r;++o)for(var u=i.s.c;u<=i.e.c;++u){var f=Am(n,o,u);f.t="n",f.F=s,delete f.v,o==i.s.r&&u==i.s.c&&(f.f=t,r&&(f.D=!0))}return n}var E0={encode_col:Do,encode_row:po,encode_cell:Ni,encode_range:ga,decode_col:X5,decode_row:Y5,split_cell:HQ,decode_cell:Qa,decode_range:Vl,format_cell:Ju,sheet_add_aoa:dO,sheet_add_json:d7,sheet_add_dom:a7,aoa_to_sheet:G0,json_to_sheet:yre,table_to_sheet:o7,table_to_book:Zne,sheet_to_csv:sb,sheet_to_txt:f7,sheet_to_json:R2,sheet_to_html:s7,sheet_to_formulae:_re,sheet_to_row_object_array:R2,sheet_get_cell:Am,book_new:bre,book_append_sheet:Ere,book_set_sheet_visibility:Are,cell_set_number_format:Sre,cell_set_hyperlink:m7,cell_set_internal_link:Tre,cell_add_comment:Nre,sheet_set_array_formula:Cre,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};function Ire(){const n=Ja(),{isAdmin:e,hasPermission:t}=ko(),{showToast:r}=Da(),[i,s]=ae.useState([]),[o,u]=ae.useState(!0),[f,d]=ae.useState(null),[x,w]=ae.useState("all"),[A,E]=ae.useState(""),I=ae.useRef(null),C=F=>{E(F.target.value),F.target.style.height="auto",F.target.style.height=`${F.target.scrollHeight}px`},M=e&&t(Kl.MANAGE_APPLICATIONS);ae.useEffect(()=>{if(!M){n("/user-dashboard");return}const F=Oa(Ti(An,"applications"),du("submittedAt","desc")),B=nc(F,L=>{const Q=L.docs.map(U=>({id:U.id,...U.data()}));s(Q),u(!1)},L=>{console.error("Error fetching applications:",L),r("Failed to load applications","error"),u(!1)});return()=>B()},[M,n,r]);const j=async(F,B)=>{try{const L={status:B};B==="rejected"&&A.trim()&&(L.remark=A.trim()),await Wo(hr(An,"applications",F),L),r(`Application ${B}`,"success"),E("")}catch(L){console.error("Error updating status:",L),r("Failed to update status","error")}},W=async F=>{if(confirm("Are you sure you want to delete this application?"))try{await mu(hr(An,"applications",F)),r("Application deleted","success"),d(null)}catch(B){console.error("Error deleting application:",B),r("Failed to delete application","error")}},k=i.filter(F=>x==="all"||F.status===x),G=F=>new Date(F).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}),ce=()=>{const F=k.map((q,Y)=>({"Sr. No.":Y+1,"Application ID":q.applicationId||"N/A","First Name":q.firstName,"Last Name":q.lastName,Email:q.email,Phone:q.phone,WhatsApp:q.whatsapp||q.phone,College:q.college,Course:q.course,Year:q.year,Interests:q.interests?.join(", ")||"","Why Join":q.whyJoin,Experience:q.experience||"",Status:q.status.charAt(0).toUpperCase()+q.status.slice(1),Remark:q.remark||"","Submitted At":G(q.submittedAt)})),B=E0.json_to_sheet(F),L=E0.book_new();E0.book_append_sheet(L,B,"Applications");const Q=new Date().toISOString().split("T")[0],U=`OrbitX_Applications_${x==="all"?"All":x}_${Q}.xlsx`;h7(L,U),r(`Exported ${k.length} applications`,"success")},re=F=>{switch(F){case"pending":return"status--pending";case"reviewed":return"status--reviewed";case"accepted":return"status--accepted";case"rejected":return"status--rejected";default:return""}};return M?m.jsxs(m.Fragment,{children:[m.jsxs("main",{className:"applications-page",children:[m.jsxs("section",{className:"applications-header",children:[m.jsx("h1",{className:"applications-title",children:"Join Applications"}),m.jsx("p",{className:"applications-subtitle",children:"Review and manage membership applications"})]}),m.jsxs("section",{className:"applications-toolbar",children:[m.jsxs("div",{className:"applications-stats",children:[m.jsxs("span",{className:"stat",children:[m.jsx("strong",{children:i.length})," Total"]}),m.jsxs("span",{className:"stat stat--pending",children:[m.jsx("strong",{children:i.filter(F=>F.status==="pending").length})," Pending"]}),m.jsxs("span",{className:"stat stat--accepted",children:[m.jsx("strong",{children:i.filter(F=>F.status==="accepted").length})," Accepted"]})]}),m.jsxs("div",{className:"applications-actions",children:[m.jsx(g2,{className:"applications-filter",value:x,onChange:F=>w(F),options:[{value:"all",label:"All Status"},{value:"pending",label:"Pending"},{value:"reviewed",label:"Reviewed"},{value:"accepted",label:"Accepted"},{value:"rejected",label:"Rejected"}]}),m.jsxs("button",{className:"applications-export",onClick:ce,disabled:k.length===0,children:[m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),m.jsx("polyline",{points:"7 10 12 15 17 10"}),m.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),"Export Excel"]})]})]}),m.jsxs("section",{className:"applications-content",children:[o?m.jsx("div",{className:"applications-loading",children:"Loading applications..."}):k.length===0?m.jsx("div",{className:"applications-empty",children:m.jsx("p",{children:"No applications found"})}):m.jsx("div",{className:"applications-list",children:k.map(F=>m.jsxs("div",{className:`application-card ${f?.id===F.id?"application-card--selected":""}`,onClick:()=>d(F),children:[m.jsxs("div",{className:"application-card__header",children:[m.jsxs("h3",{className:"application-card__name",children:[F.firstName," ",F.lastName]}),m.jsx("span",{className:`application-card__status ${re(F.status)}`,children:F.status})]}),m.jsx("p",{className:"application-card__email",children:F.email}),m.jsx("p",{className:"application-card__college",children:F.college}),m.jsx("p",{className:"application-card__date",children:G(F.submittedAt)})]},F.id))}),f&&m.jsxs("div",{className:"application-detail",children:[m.jsxs("div",{className:"application-detail__header",children:[m.jsxs("h2",{children:[f.firstName," ",f.lastName]}),m.jsx("button",{className:"application-detail__close",onClick:()=>d(null),children:m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),m.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),m.jsxs("div",{className:"application-detail__content",children:[m.jsxs("div",{className:"detail-group",children:[m.jsx("label",{children:"Email"}),m.jsx("p",{children:f.email})]}),m.jsxs("div",{className:"detail-group",children:[m.jsx("label",{children:"Phone"}),m.jsx("p",{children:f.phone})]}),m.jsxs("div",{className:"detail-group",children:[m.jsx("label",{children:"College"}),m.jsx("p",{children:f.college})]}),m.jsxs("div",{className:"detail-group",children:[m.jsx("label",{children:"Course & Year"}),m.jsxs("p",{children:[f.course," - ",f.year]})]}),m.jsxs("div",{className:"detail-group",children:[m.jsx("label",{children:"Interests"}),m.jsx("div",{className:"detail-tags",children:f.interests?.map((F,B)=>m.jsx("span",{className:"detail-tag",children:F},B))})]}),m.jsxs("div",{className:"detail-group",children:[m.jsx("label",{children:"Why do you want to join?"}),m.jsx("p",{children:f.whyJoin})]}),m.jsxs("div",{className:"detail-group",children:[m.jsx("label",{children:"Previous Experience"}),m.jsx("p",{children:f.experience||"Not provided"})]}),m.jsxs("div",{className:"detail-group",children:[m.jsx("label",{children:"Submitted"}),m.jsx("p",{children:G(f.submittedAt)})]})]}),m.jsxs("div",{className:"application-detail__actions",children:[m.jsx("button",{className:"action-btn action-btn--accept",onClick:()=>j(f.id,"accepted"),children:"Accept"}),m.jsx("button",{className:"action-btn action-btn--reject",onClick:()=>j(f.id,"rejected"),children:"Reject"}),m.jsx("button",{className:"action-btn action-btn--delete",onClick:()=>W(f.id),children:"Delete"})]}),m.jsx("textarea",{ref:I,className:"action-remark",placeholder:"Remark for rejection (optional)",value:A,onChange:C,rows:1})]})]})]}),m.jsx(Ul,{})]}):null}function Rre(){const n=Ja(),{isAdmin:e,hasPermission:t}=ko(),{showToast:r}=Da(),[i,s]=ae.useState([]),[o,u]=ae.useState(!0),[f,d]=ae.useState(null),x=e&&t(Kl.MANAGE_QUERIES);ae.useEffect(()=>{if(!x){n("/user-dashboard");return}const C=Oa(Ti(An,"contactMessages"),du("createdAt","desc")),M=nc(C,j=>{const W=j.docs.map(ce=>({id:ce.id,...ce.data()})),k={};W.forEach(ce=>{k[ce.userHash]||(k[ce.userHash]={userHash:ce.userHash,name:ce.name,email:ce.email,deviceId:ce.deviceId,messages:[],lastMessageAt:ce.createdAt}),k[ce.userHash].messages.push(ce)});const G=Object.values(k).sort((ce,re)=>{const F=ce.lastMessageAt?.toMillis()||0;return(re.lastMessageAt?.toMillis()||0)-F});s(G),u(!1)},j=>{console.error("Error fetching queries:",j),r("Failed to load queries","error"),u(!1)});return()=>M()},[x,n,r]);const w=async C=>{try{await Wo(hr(An,"contactMessages",C),{status:"read"})}catch(M){console.error("Error updating status:",M)}},A=async C=>{if(confirm("Are you sure you want to delete this specific message?"))try{await mu(hr(An,"contactMessages",C)),r("Message deleted","success")}catch(M){console.error("Error deleting message:",M),r("Failed to delete message","error")}},E=C=>C?C.toDate().toLocaleString("en-IN",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",I=i.find(C=>C.userHash===f);return m.jsxs(m.Fragment,{children:[m.jsxs("main",{className:"manage-queries",children:[m.jsxs("header",{className:"queries-header",children:[m.jsx("h1",{children:"User Queries"}),m.jsx("p",{children:"Manage and respond to contact submissions"})]}),m.jsxs("div",{className:"queries-container",children:[m.jsxs("aside",{className:"queries-sidebar",children:[m.jsxs("div",{className:"sidebar-title",children:["Conversations (",i.length,")"]}),o?m.jsx("div",{className:"queries-loading",children:"Loading..."}):m.jsxs("div",{className:"user-list",children:[i.map(C=>m.jsxs("button",{className:`user-item ${f===C.userHash?"active":""}`,onClick:()=>{d(C.userHash)},children:[m.jsxs("div",{className:"user-info",children:[m.jsx("span",{className:"user-name",children:C.name}),m.jsx("span",{className:"user-email",children:C.email})]}),C.messages.some(M=>M.status==="unread")&&m.jsx("span",{className:"unread-badge"})]},C.userHash)),i.length===0&&m.jsx("div",{className:"empty-state",children:"No queries found"})]})]}),m.jsx("section",{className:"queries-main",children:I?m.jsxs("div",{className:"group-detail",children:[m.jsxs("header",{className:"detail-header",children:[m.jsx("div",{className:"header-info",children:m.jsx("h2",{children:I.name})}),m.jsx("a",{href:`mailto:${I.email}`,className:"reply-button",children:"Reply via Email"})]}),m.jsx("div",{className:"messages-list",children:I.messages.map(C=>m.jsxs("div",{className:`message-card ${C.status}`,children:[m.jsx("div",{className:"card-header",children:m.jsxs("div",{className:"card-actions",children:[C.status==="unread"&&m.jsx("button",{onClick:()=>w(C.id),className:"action-btn read",children:"Mark Read"}),m.jsx("button",{onClick:()=>A(C.id),className:"action-btn delete",children:"Delete"})]})}),m.jsxs("div",{className:"message-subject",children:["Subject: ",C.subject]}),m.jsx("div",{className:"message-content",children:C.message||m.jsx("span",{className:"no-message-text",children:"(No message content)"})}),m.jsxs("div",{className:"message-footer",children:[m.jsx("span",{className:"message-date",children:E(C.createdAt)}),m.jsx("span",{className:`status-tag ${C.status}`,children:C.status})]})]},C.id))})]}):m.jsx("div",{className:"select-prompt",children:m.jsxs("div",{className:"prompt-content",children:[m.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:m.jsx("path",{d:"M7 8h10M7 12h10M7 16h10M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"})}),m.jsx("p",{children:"Select a conversation to view queries"})]})})})]})]}),m.jsx(Ul,{})]})}function Ore(){const n=Ja(),{isAdmin:e,hasPermission:t}=ko(),{showToast:r}=Da(),[i,s]=ae.useState([]),[o,u]=ae.useState(!0),[f,d]=ae.useState(null),[x,w]=ae.useState("all"),A=e&&t(Kl.MANAGE_MERCH_ORDERS);ae.useEffect(()=>{if(!A){n("/user-dashboard");return}const k=Oa(Ti(An,"merchOrders"),du("createdAt","desc")),G=nc(k,ce=>{const re=ce.docs.map(F=>({id:F.id,...F.data()}));s(re),u(!1)},ce=>{console.error("Error fetching orders:",ce),r("Failed to load orders","error"),u(!1)});return()=>G()},[A,n,r]);const E=async(k,G)=>{try{await Wo(hr(An,"merchOrders",k),{orderStatus:G,updatedAt:new Date().toISOString()}),r(`Order status updated to ${G}`,"success")}catch(ce){console.error("Error updating order status:",ce),r("Failed to update order status","error")}},I=async(k,G)=>{try{await Wo(hr(An,"merchOrders",k),{paymentStatus:G,updatedAt:new Date().toISOString()}),r(`Payment status updated to ${G}`,"success")}catch(ce){console.error("Error updating payment status:",ce),r("Failed to update payment status","error")}},C=async k=>{if(confirm("Are you sure you want to delete this order?"))try{await mu(hr(An,"merchOrders",k)),r("Order deleted","success"),d(null)}catch(G){console.error("Error deleting order:",G),r("Failed to delete order","error")}},M=i.filter(k=>x==="all"||k.orderStatus===x),j=k=>k?(k.toDate?k.toDate():new Date(k)).toLocaleString("en-IN",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",W=()=>{const k=M.map((B,L)=>({"Sr. No.":L+1,"Order ID":B.orderId,"Orbit ID":B.orbitId,Customer:B.customerName,Email:B.customerEmail,Phone:B.customerPhone,College:B.collegeName,Items:B.items.map(Q=>`${Q.productName} (x${Q.quantity})`).join(", "),Subtotal:B.subtotal,Delivery:B.deliveryCharge,Total:B.totalAmount,Method:B.deliveryMethod,Address:B.deliveryAddress?`${B.deliveryAddress.line1}, ${B.deliveryAddress.city}`:"N/A","Order Status":B.orderStatus,"Payment Status":B.paymentStatus,"Ordered At":j(B.createdAt)})),G=E0.json_to_sheet(k),ce=E0.book_new();E0.book_append_sheet(ce,G,"Orders");const F=`OrbitX_Merch_Orders_${new Date().toISOString().split("T")[0]}.xlsx`;h7(ce,F),r(`Exported ${M.length} orders`,"success")};return A?m.jsxs(m.Fragment,{children:[m.jsxs("main",{className:"orders-manager",children:[m.jsxs("header",{className:"manager-header",children:[m.jsx("h1",{children:"Merch Orders"}),m.jsx("p",{children:"Track and manage merchandise orders and deliveries"})]}),m.jsxs("section",{className:"manager-toolbar",children:[m.jsxs("div",{className:"manager-stats",children:[m.jsxs("span",{className:"stat",children:[m.jsx("strong",{children:i.length})," Total"]}),m.jsxs("span",{className:"stat stat--pending",children:[m.jsx("strong",{children:i.filter(k=>k.orderStatus==="pending").length})," Pending"]}),m.jsxs("span",{className:"stat stat--shipped",children:[m.jsx("strong",{children:i.filter(k=>k.orderStatus==="shipped").length})," Shipped"]})]}),m.jsxs("div",{className:"manager-actions",children:[m.jsx(g2,{value:x,onChange:w,options:[{value:"all",label:"All Status"},{value:"pending",label:"Pending"},{value:"confirmed",label:"Confirmed"},{value:"processing",label:"Processing"},{value:"shipped",label:"Shipped"},{value:"delivered",label:"Delivered"},{value:"cancelled",label:"Cancelled"}]}),m.jsx("button",{className:"export-btn",onClick:W,disabled:M.length===0,children:"Export Excel"})]})]}),m.jsxs("section",{className:"manager-content",children:[o?m.jsx("div",{className:"manager-loading",children:"Loading orders..."}):M.length===0?m.jsx("div",{className:"manager-empty",children:"No orders found"}):m.jsx("div",{className:"orders-list",children:M.map(k=>m.jsxs("div",{className:`order-card ${f?.id===k.id?"active":""}`,onClick:()=>d(k),children:[m.jsxs("div",{className:"order-card__header",children:[m.jsx("span",{className:"order-id",children:k.orderId}),m.jsx("span",{className:`order-status status--${k.orderStatus}`,children:k.orderStatus})]}),m.jsxs("div",{className:"order-card__body",children:[m.jsx("h3",{className:"customer-name",children:k.customerName}),m.jsxs("p",{className:"order-total",children:["",k.totalAmount,"  ",k.items.length," items"]}),m.jsx("p",{className:"order-date",children:j(k.createdAt)})]})]},k.id))}),f&&m.jsxs("div",{className:"order-detail",children:[m.jsxs("div",{className:"detail-header",children:[m.jsx("h2",{children:"Order Details"}),m.jsx("button",{className:"close-detail",onClick:()=>d(null),children:""})]}),m.jsxs("div",{className:"detail-body",children:[m.jsxs("div",{className:"detail-section",children:[m.jsx("h3",{children:"Customer Info"}),m.jsxs("p",{children:[m.jsx("strong",{children:"Name:"})," ",f.customerName]}),m.jsxs("p",{children:[m.jsx("strong",{children:"Orbit ID:"})," ",f.orbitId]}),m.jsxs("p",{children:[m.jsx("strong",{children:"Email:"})," ",f.customerEmail]}),m.jsxs("p",{children:[m.jsx("strong",{children:"Phone:"})," ",f.customerPhone]}),m.jsxs("p",{children:[m.jsx("strong",{children:"College:"})," ",f.collegeName]})]}),m.jsxs("div",{className:"detail-section",children:[m.jsx("h3",{children:"Delivery Infomation"}),m.jsxs("p",{children:[m.jsx("strong",{children:"Method:"})," ",f.deliveryMethod==="pickup"?"Self Pickup (ZEAL)":"Home Delivery"]}),f.deliveryMethod==="delivery"&&f.deliveryAddress&&m.jsxs("p",{children:[m.jsx("strong",{children:"Address:"}),m.jsx("br",{}),f.deliveryAddress.line1,", ",f.deliveryAddress.line2&&`${f.deliveryAddress.line2}, `,f.deliveryAddress.city,", ",f.deliveryAddress.state," - ",f.deliveryAddress.pincode]})]}),m.jsxs("div",{className:"detail-section",children:[m.jsx("h3",{children:"Order Items"}),m.jsxs("div",{className:"order-items",children:[f.items.map((k,G)=>m.jsxs("div",{className:"order-item",children:[m.jsxs("span",{children:[k.productName," ",k.size&&`(${k.size})`," x ",k.quantity]}),m.jsxs("span",{children:["",k.price*k.quantity]})]},G)),m.jsxs("div",{className:"order-summary",children:[m.jsxs("div",{className:"summary-row",children:[m.jsx("span",{children:"Subtotal"}),m.jsxs("span",{children:["",f.subtotal]})]}),m.jsxs("div",{className:"summary-row",children:[m.jsx("span",{children:"Delivery"}),m.jsxs("span",{children:["",f.deliveryCharge]})]}),m.jsxs("div",{className:"summary-row total",children:[m.jsx("span",{children:"Total"}),m.jsxs("span",{children:["",f.totalAmount]})]})]})]})]}),m.jsxs("div",{className:"detail-section",children:[m.jsx("h3",{children:"Quick Actions"}),m.jsxs("div",{className:"action-groups",children:[m.jsxs("div",{className:"action-group",children:[m.jsx("label",{children:"Order Status"}),m.jsxs("div",{className:"btn-group",children:[m.jsx("button",{onClick:()=>E(f.id,"confirmed"),children:"Confirm"}),m.jsx("button",{onClick:()=>E(f.id,"processing"),children:"Process"}),m.jsx("button",{onClick:()=>E(f.id,"shipped"),children:"Ship"}),m.jsx("button",{onClick:()=>E(f.id,"delivered"),children:"Deliver"}),m.jsx("button",{className:"btn-cancel",onClick:()=>E(f.id,"cancelled"),children:"Cancel"})]})]}),m.jsxs("div",{className:"action-group",children:[m.jsx("label",{children:"Payment Status"}),m.jsxs("div",{className:"btn-group",children:[m.jsx("button",{onClick:()=>I(f.id,"completed"),children:"Paid"}),m.jsx("button",{className:"btn-failed",onClick:()=>I(f.id,"failed"),children:"Failed"})]})]})]})]}),m.jsx("button",{className:"btn-delete-order",onClick:()=>C(f.id),children:"Delete Order"})]})]})]})]}),m.jsx(Ul,{})]}):null}const Dre=[{value:"T-Shirts",label:"T-Shirts"},{value:"Hoodies",label:"Hoodies"},{value:"Stickers",label:"Stickers"},{value:"Accessories",label:"Accessories"}],Mre=["S","M","L","XL","XXL"],cy=new WeakMap,Lre=async()=>{try{const n=new Date().getFullYear(),e=hr(An,"system","productIdRegistry"),t=await Js(e);let r=0;if(t.exists()){const s=t.data();s.year===n&&(r=s.counter||0)}const i=r+1;return await ou(e,{year:n,counter:i,lastUpdated:new Date().toISOString()}),`PRD-${n}-${String(i).padStart(4,"0")}`}catch(n){return console.error("Error generating productId, using fallback:",n),`PRD-${Date.now().toString().slice(-8)}`}};function kre(){const n=Ja(),{isAdmin:e,hasPermission:t}=ko(),{showToast:r}=Da(),[i,s]=ae.useState([]),[o,u]=ae.useState(!0),[f,d]=ae.useState(!1),[x,w]=ae.useState(!1),[A,E]=ae.useState(null),[I,C]=ae.useState({name:"",price:"",category:"T-Shirts",description:"",inStock:!0,sizes:[],images:[]}),[M,j]=ae.useState([]),[W,k]=ae.useState([]),[G,ce]=ae.useState(!1),re=e&&t(Kl.MANAGE_MERCH);ae.useEffect(()=>{if(!re){n("/user-dashboard");return}const ze=Oa(Ti(An,"merch"),du("createdAt","desc")),xe=nc(ze,H=>{const J=H.docs.map(Z=>({id:Z.id,...Z.data()}));s(J),u(!1)},H=>{console.error("Error fetching products:",H),r("Failed to load products","error"),u(!1)});return()=>xe()},[re,n,r]);const F=()=>{C({name:"",price:"",category:"T-Shirts",description:"",inStock:!0,sizes:[],images:[]}),E(null)},B=ze=>{E(ze),C({name:ze.name,price:String(ze.price),category:ze.category,description:ze.description,inStock:ze.inStock,sizes:ze.sizes||[],images:ze.images||[]}),k(ze.images||[]),j([]),d(!0)},L=async(ze,xe)=>{const H=new Map,J=xe.map(async Z=>{const oe=mH(yH,`merch/${ze}/${Date.now()}_${Z.name}`),de=await fH(oe,Z),Me=await dH(de.ref),Ue=cy.get(Z);return Ue&&H.set(Ue,Me),Me});return await Promise.all(J),H},Q=async ze=>{if(ze.preventDefault(),!I.name.trim()||!I.price){r("Please fill in required fields","error");return}if(W.length===0){r("Please add at least one image","error");return}w(!0);try{const xe=A?A.id:await Lre(),H=await L(xe,M),J=W.map(oe=>H.has(oe)?H.get(oe):oe),Z={name:I.name.trim(),price:parseFloat(I.price),category:I.category,description:I.description.trim(),inStock:I.inStock,sizes:I.sizes,images:J,updatedAt:new Date().toISOString()};if(A)await Wo(hr(An,"merch",A.id),Z),r("Product updated successfully","success");else{const oe={...Z,productId:xe,createdAt:new Date().toISOString()};await of(Ti(An,"merch"),oe),r("Product created successfully","success")}d(!1),F(),k([]),j([])}catch(xe){console.error("Error saving product:",xe),r("Failed to save product","error")}finally{w(!1)}},U=async ze=>{if(confirm(`Are you sure you want to delete "${ze.name}"?`))try{await mu(hr(An,"merch",ze.id)),r("Product deleted successfully","success")}catch(xe){console.error("Error deleting product:",xe),r("Failed to delete product","error")}},q=ze=>{C(xe=>({...xe,sizes:xe.sizes.includes(ze)?xe.sizes.filter(H=>H!==ze):[...xe.sizes,ze]}))},Y=ze=>{const xe=Array.from(ze.target.files||[]);ne(xe)},ne=ze=>{const xe=ze.map(H=>{const J=URL.createObjectURL(H);return cy.set(H,J),J});j(H=>[...H,...ze]),k(H=>[...H,...xe])},pe=ze=>{ze.preventDefault(),ce(!0)},Ae=ze=>{ze.preventDefault(),ce(!1)},ve=ze=>{ze.preventDefault(),ce(!1);const H=Array.from(ze.dataTransfer.files).filter(J=>J.type.startsWith("image/"));H.length>0?ne(H):r("Please drop image files only","error")},Re=ze=>{const xe=W[ze];I.images.includes(xe)?C(J=>({...J,images:J.images.filter(Z=>Z!==xe)})):(j(J=>J.filter(Z=>cy.get(Z)!==xe)),URL.revokeObjectURL(xe)),k(J=>J.filter((Z,oe)=>oe!==ze))},He=ze=>{ze!==0&&k(xe=>{const H=[...xe],[J]=H.splice(ze,1);return H.unshift(J),H})};return re?m.jsxs(m.Fragment,{children:[m.jsxs("main",{className:"merch-manager-page",children:[m.jsxs("header",{className:"manager-header",children:[m.jsx("h1",{children:"Merchandise Management"}),m.jsx("p",{children:"Add and update products in the OrbitX store"})]}),m.jsx("div",{className:"merch-manager-container",children:f?m.jsx("div",{className:"merch-manager__modal",children:m.jsxs("form",{className:"merch-manager__form",onSubmit:Q,children:[m.jsxs("div",{className:"merch-manager__form-header-row",children:[m.jsx("h2",{children:A?"Edit Product":"Create New Product"}),m.jsx("button",{type:"button",className:"merch-manager__close",onClick:()=>{d(!1),F()},children:""})]}),m.jsxs("div",{className:"merch-manager__form-grid",children:[m.jsxs("div",{className:"merch-manager__form-group--full",children:[m.jsx("label",{className:"merch-manager__label",children:"Product Name *"}),m.jsx("input",{type:"text",className:"merch-manager__input",value:I.name,onChange:ze=>C({...I,name:ze.target.value}),placeholder:"e.g. OrbitX Official T-Shirt",required:!0})]}),m.jsxs("div",{className:"merch-manager__form-group",children:[m.jsx("label",{className:"merch-manager__label",children:"Price () *"}),m.jsx("input",{type:"number",className:"merch-manager__input",value:I.price,onChange:ze=>C({...I,price:ze.target.value}),placeholder:"e.g. 599",required:!0})]}),m.jsxs("div",{className:"merch-manager__form-group",children:[m.jsx("label",{className:"merch-manager__label",children:"Category"}),m.jsx(Ya,{options:Dre,value:I.category,onChange:ze=>C({...I,category:ze})})]}),m.jsxs("div",{className:"merch-manager__form-group--full",children:[m.jsx("label",{className:"merch-manager__label",children:"Description"}),m.jsx("textarea",{className:"merch-manager__textarea",value:I.description,onChange:ze=>C({...I,description:ze.target.value}),placeholder:"Product details, material, etc."})]}),(I.category==="T-Shirts"||I.category==="Hoodies")&&m.jsxs("div",{className:"merch-manager__form-group--full",children:[m.jsx("label",{className:"merch-manager__label",children:"Available Sizes"}),m.jsx("div",{className:"merch-manager__size-grid",children:Mre.map(ze=>m.jsx("button",{type:"button",onClick:()=>q(ze),className:`merch-manager__size-btn ${I.sizes.includes(ze)?"merch-manager__size-btn--active":""}`,children:ze},ze))})]}),m.jsxs("div",{className:"merch-manager__form-group--full",children:[m.jsx("label",{className:"merch-manager__label",children:"Inventory Status"}),m.jsxs("label",{className:"merch-manager__checkbox-group",children:[m.jsx("input",{type:"checkbox",className:"merch-manager__checkbox",checked:I.inStock,onChange:ze=>C({...I,inStock:ze.target.checked})}),m.jsx("span",{children:"In Stock / Available for purchase"})]})]}),m.jsxs("div",{className:"merch-manager__form-group--full",children:[m.jsx("label",{className:"merch-manager__label",children:"Product Images *"}),m.jsxs("div",{className:`merch-manager__upload-area ${G?"merch-manager__upload-area--dragging":""}`,onDragOver:pe,onDragLeave:Ae,onDrop:ve,onClick:()=>document.getElementById("merch-file-input")?.click(),children:[m.jsx("input",{type:"file",id:"merch-file-input",multiple:!0,accept:"image/*",onChange:Y,style:{display:"none"}}),m.jsx("div",{className:"merch-manager__upload-icon",children:m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),m.jsx("polyline",{points:"17 8 12 3 7 8"}),m.jsx("line",{x1:"12",y1:"3",x2:"12",y2:"15"})]})}),m.jsxs("div",{className:"merch-manager__upload-text",children:[m.jsx("span",{children:"Click to upload or drag and drop"}),m.jsx("p",{children:"Multiple images allowed (First will be thumbnail)"})]})]}),m.jsx("div",{className:"merch-manager__images-grid",children:W.map((ze,xe)=>m.jsxs("div",{className:`merch-manager__image-card ${xe===0?"merch-manager__image-card--thumbnail":""}`,children:[m.jsx("img",{src:ze,alt:""}),m.jsxs("div",{className:"merch-manager__image-overlay",children:[m.jsx("button",{type:"button",className:"merch-manager__image-action",onClick:H=>{H.stopPropagation(),He(xe)},title:"Set as Thumbnail",children:m.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:m.jsx("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})})}),m.jsx("button",{type:"button",className:"merch-manager__image-action merch-manager__image-action--delete",onClick:H=>{H.stopPropagation(),Re(xe)},title:"Remove Image",children:m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("polyline",{points:"3 6 5 6 21 6"}),m.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]}),xe===0&&m.jsx("span",{className:"merch-manager__thumbnail-badge",children:"Thumbnail"})]},xe))})]})]}),m.jsx("button",{type:"submit",className:"merch-manager__submit-btn",disabled:x,style:{marginTop:"1rem"},children:x?"Saving...":A?"Update Product":"Create Product"})]})}):m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"merch-manager__toolbar",children:[m.jsxs("span",{className:"merch-manager__items-count",children:[i.length," Products Found"]}),m.jsxs("button",{className:"merch-manager__create-btn",onClick:()=>d(!0),children:[m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",style:{width:18},children:[m.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),m.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add New Product"]})]}),m.jsx("div",{className:"merch-manager__list",children:o?m.jsx("div",{className:"merch-manager__loading-state",children:"Loading store items..."}):i.length===0?m.jsx("div",{className:"merch-manager__empty-state",children:'No products yet. Click "Add New Product" to start.'}):i.map(ze=>m.jsxs("div",{className:"merch-manager__item",children:[m.jsx("div",{className:"merch-manager__item-preview",children:ze.images[0]?m.jsx("img",{src:ze.images[0],alt:ze.name}):m.jsx("div",{style:{width:"100%",height:"100%",background:"rgba(255,255,255,0.05)",display:"flex",alignItems:"center",justifyContent:"center"},children:m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1",style:{width:24,opacity:.3},children:[m.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),m.jsx("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),m.jsx("polyline",{points:"21 15 16 10 5 21"})]})})}),m.jsxs("div",{className:"merch-manager__item-info",children:[m.jsxs("div",{className:"merch-manager__item-header",children:[m.jsx("h3",{className:"merch-manager__item-name",children:ze.name}),m.jsx("span",{className:"merch-manager__category-badge",children:ze.category})]}),m.jsxs("div",{className:"merch-manager__item-meta",children:[m.jsxs("span",{children:["",ze.price]}),m.jsx("span",{children:""}),m.jsx("span",{className:ze.inStock?"merch-status--in-stock":"merch-status--out-of-stock",children:ze.inStock?"In Stock":"Out of Stock"}),m.jsx("span",{children:""}),m.jsxs("span",{children:["ID: ",ze.productId]})]})]}),m.jsxs("div",{className:"merch-manager__item-actions",children:[m.jsx("button",{className:"merch-manager__action-btn",onClick:()=>B(ze),title:"Edit Product",children:m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",style:{width:16},children:[m.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),m.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),m.jsx("button",{className:"merch-manager__action-btn merch-manager__action-btn--delete",onClick:()=>U(ze),title:"Delete Product",children:m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",style:{width:16},children:[m.jsx("polyline",{points:"3 6 5 6 21 6"}),m.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})]},ze.id))})]})})]}),m.jsx(Ul,{})]}):null}var Dn;(function(n){n[n.QR_CODE=0]="QR_CODE",n[n.AZTEC=1]="AZTEC",n[n.CODABAR=2]="CODABAR",n[n.CODE_39=3]="CODE_39",n[n.CODE_93=4]="CODE_93",n[n.CODE_128=5]="CODE_128",n[n.DATA_MATRIX=6]="DATA_MATRIX",n[n.MAXICODE=7]="MAXICODE",n[n.ITF=8]="ITF",n[n.EAN_13=9]="EAN_13",n[n.EAN_8=10]="EAN_8",n[n.PDF_417=11]="PDF_417",n[n.RSS_14=12]="RSS_14",n[n.RSS_EXPANDED=13]="RSS_EXPANDED",n[n.UPC_A=14]="UPC_A",n[n.UPC_E=15]="UPC_E",n[n.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Dn||(Dn={}));var PN=new Map([[Dn.QR_CODE,"QR_CODE"],[Dn.AZTEC,"AZTEC"],[Dn.CODABAR,"CODABAR"],[Dn.CODE_39,"CODE_39"],[Dn.CODE_93,"CODE_93"],[Dn.CODE_128,"CODE_128"],[Dn.DATA_MATRIX,"DATA_MATRIX"],[Dn.MAXICODE,"MAXICODE"],[Dn.ITF,"ITF"],[Dn.EAN_13,"EAN_13"],[Dn.EAN_8,"EAN_8"],[Dn.PDF_417,"PDF_417"],[Dn.RSS_14,"RSS_14"],[Dn.RSS_EXPANDED,"RSS_EXPANDED"],[Dn.UPC_A,"UPC_A"],[Dn.UPC_E,"UPC_E"],[Dn.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),jN;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.URL=1]="URL"})(jN||(jN={}));function Pre(n){return Object.values(Dn).includes(n)}var uu;(function(n){n[n.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",n[n.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(uu||(uu={}));var xc=(function(){function n(){}return n.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",n.SCAN_DEFAULT_FPS=2,n.DEFAULT_DISABLE_FLIP=!1,n.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,n.DEFAULT_SUPPORTED_SCAN_TYPE=[uu.SCAN_TYPE_CAMERA,uu.SCAN_TYPE_FILE],n})(),g7=(function(){function n(e,t){this.format=e,this.formatName=t}return n.prototype.toString=function(){return this.formatName},n.create=function(e){if(!PN.has(e))throw"".concat(e," not in html5QrcodeSupportedFormatsTextMap");return new n(e,PN.get(e))},n})(),FN=(function(){function n(){}return n.createFromText=function(e){var t={text:e};return{decodedText:e,result:t}},n.createFromQrcodeResult=function(e){return{decodedText:e.text,result:e}},n})(),lw;(function(n){n[n.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",n[n.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",n[n.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(lw||(lw={}));var p7=(function(){function n(){}return n.createFrom=function(e){return{errorMessage:e,type:lw.UNKWOWN_ERROR}},n})(),x7=(function(){function n(e){this.verbose=e}return n.prototype.log=function(e){this.verbose&&console.log(e)},n.prototype.warn=function(e){this.verbose&&console.warn(e)},n.prototype.logError=function(e,t){(this.verbose||t===!0)&&console.error(e)},n.prototype.logErrors=function(e){if(e.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(e)},n})();function Qc(n){return typeof n>"u"||n===null}function jre(n,e,t){return n>t?t:n<e?e:n}var c0=(function(){function n(){}return n.codeParseError=function(e){return"QR code parse error, error = ".concat(e)},n.errorGettingUserMedia=function(e){return"Error getting userMedia, error = ".concat(e)},n.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},n.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},n.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},n.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},n.scannerPaused=function(){return"Scanner paused"},n})(),Ei=(function(){function n(){}return n.scanningStatus=function(){return"Scanning"},n.idleStatus=function(){return"Idle"},n.errorStatus=function(){return"Error"},n.permissionStatus=function(){return"Permission"},n.noCameraFoundErrorStatus=function(){return"No Cameras"},n.lastMatch=function(e){return"Last Match: ".concat(e)},n.codeScannerTitle=function(){return"Code Scanner"},n.cameraPermissionTitle=function(){return"Request Camera Permissions"},n.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},n.noCameraFound=function(){return"No camera found"},n.scanButtonStopScanningText=function(){return"Stop Scanning"},n.scanButtonStartScanningText=function(){return"Start Scanning"},n.torchOnButton=function(){return"Switch On Torch"},n.torchOffButton=function(){return"Switch Off Torch"},n.torchOnFailedMessage=function(){return"Failed to turn on torch"},n.torchOffFailedMessage=function(){return"Failed to turn off torch"},n.scanButtonScanningStarting=function(){return"Launching Camera..."},n.textIfCameraScanSelected=function(){return"Scan an Image File"},n.textIfFileScanSelected=function(){return"Scan using camera directly"},n.selectCamera=function(){return"Select Camera"},n.fileSelectionChooseImage=function(){return"Choose Image"},n.fileSelectionChooseAnother=function(){return"Choose Another"},n.fileSelectionNoImageSelected=function(){return"No image choosen"},n.anonymousCameraPrefix=function(){return"Anonymous Camera"},n.dragAndDropMessage=function(){return"Or drop an image to scan"},n.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},n.zoom=function(){return"zoom"},n.loadingImage=function(){return"Loading image..."},n.cameraScanAltText=function(){return"Camera based scan"},n.fileScanAltText=function(){return"Fule based scan"},n})(),BN=(function(){function n(){}return n.poweredBy=function(){return"Powered by "},n.reportIssues=function(){return"Report issues"},n})(),v7=(function(){function n(){}return n.isMediaStreamConstraintsValid=function(e,t){if(typeof e!="object"){var r=typeof e;return t.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(r,"."),!0),!1}for(var i=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],s=new Set(i),o=Object.keys(e),u=0,f=o;u<f.length;u++){var d=f[u];if(s.has(d))return t.logError("".concat(d," is not supported videoConstaints."),!0),!1}return!0},n})(),z1={exports:{}},Fre=z1.exports,UN;function Bre(){return UN||(UN=1,(function(n,e){(function(t,r){r(e)})(Fre,(function(t){function r(he){return he==null}var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(he,l){he.__proto__=l}||function(he,l){for(var h in l)l.hasOwnProperty(h)&&(he[h]=l[h])};function s(he,l){i(he,l);function h(){this.constructor=he}he.prototype=l===null?Object.create(l):(h.prototype=l.prototype,new h)}function o(he,l){var h=Object.setPrototypeOf;h?h(he,l):he.__proto__=l}function u(he,l){l===void 0&&(l=he.constructor);var h=Error.captureStackTrace;h&&h(he,l)}var f=(function(he){s(l,he);function l(h){var g=this.constructor,v=he.call(this,h)||this;return Object.defineProperty(v,"name",{value:g.name,enumerable:!1}),o(v,g.prototype),u(v),v}return l})(Error);class d extends f{constructor(l=void 0){super(l),this.message=l}getKind(){return this.constructor.kind}}d.kind="Exception";class x extends d{}x.kind="ArgumentException";class w extends d{}w.kind="IllegalArgumentException";class A{constructor(l){if(this.binarizer=l,l===null)throw new w("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(l,h){return this.binarizer.getBlackRow(l,h)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(l,h,g,v){const _=this.binarizer.getLuminanceSource().crop(l,h,g,v);return new A(this.binarizer.createBinarizer(_))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const l=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new A(this.binarizer.createBinarizer(l))}rotateCounterClockwise45(){const l=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new A(this.binarizer.createBinarizer(l))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class E extends d{static getChecksumInstance(){return new E}}E.kind="ChecksumException";class I{constructor(l){this.source=l}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class C{static arraycopy(l,h,g,v,_){for(;_--;)g[v++]=l[h++]}static currentTimeMillis(){return Date.now()}}class M extends d{}M.kind="IndexOutOfBoundsException";class j extends M{constructor(l=void 0,h=void 0){super(h),this.index=l,this.message=h}}j.kind="ArrayIndexOutOfBoundsException";class W{static fill(l,h){for(let g=0,v=l.length;g<v;g++)l[g]=h}static fillWithin(l,h,g,v){W.rangeCheck(l.length,h,g);for(let _=h;_<g;_++)l[_]=v}static rangeCheck(l,h,g){if(h>g)throw new w("fromIndex("+h+") > toIndex("+g+")");if(h<0)throw new j(h);if(g>l)throw new j(g)}static asList(...l){return l}static create(l,h,g){return Array.from({length:l}).map(_=>Array.from({length:h}).fill(g))}static createInt32Array(l,h,g){return Array.from({length:l}).map(_=>Int32Array.from({length:h}).fill(g))}static equals(l,h){if(!l||!h||!l.length||!h.length||l.length!==h.length)return!1;for(let g=0,v=l.length;g<v;g++)if(l[g]!==h[g])return!1;return!0}static hashCode(l){if(l===null)return 0;let h=1;for(const g of l)h=31*h+g;return h}static fillUint8Array(l,h){for(let g=0;g!==l.length;g++)l[g]=h}static copyOf(l,h){return l.slice(0,h)}static copyOfUint8Array(l,h){if(l.length<=h){const g=new Uint8Array(h);return g.set(l),g}return l.slice(0,h)}static copyOfRange(l,h,g){const v=g-h,_=new Int32Array(v);return C.arraycopy(l,h,_,0,v),_}static binarySearch(l,h,g){g===void 0&&(g=W.numberComparator);let v=0,_=l.length-1;for(;v<=_;){const b=_+v>>1,N=g(h,l[b]);if(N>0)v=b+1;else if(N<0)_=b-1;else return b}return-v-1}static numberComparator(l,h){return l-h}}class k{static numberOfTrailingZeros(l){let h;if(l===0)return 32;let g=31;return h=l<<16,h!==0&&(g-=16,l=h),h=l<<8,h!==0&&(g-=8,l=h),h=l<<4,h!==0&&(g-=4,l=h),h=l<<2,h!==0&&(g-=2,l=h),g-(l<<1>>>31)}static numberOfLeadingZeros(l){if(l===0)return 32;let h=1;return l>>>16||(h+=16,l<<=16),l>>>24||(h+=8,l<<=8),l>>>28||(h+=4,l<<=4),l>>>30||(h+=2,l<<=2),h-=l>>>31,h}static toHexString(l){return l.toString(16)}static toBinaryString(l){return String(parseInt(String(l),2))}static bitCount(l){return l=l-(l>>>1&1431655765),l=(l&858993459)+(l>>>2&858993459),l=l+(l>>>4)&252645135,l=l+(l>>>8),l=l+(l>>>16),l&63}static truncDivision(l,h){return Math.trunc(l/h)}static parseInt(l,h=void 0){return parseInt(l,h)}}k.MIN_VALUE_32_BITS=-2147483648,k.MAX_VALUE=Number.MAX_SAFE_INTEGER;class G{constructor(l,h){l===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=l,h==null?this.bits=G.makeArray(l):this.bits=h)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(l){if(l>this.bits.length*32){const h=G.makeArray(l);C.arraycopy(this.bits,0,h,0,this.bits.length),this.bits=h}}get(l){return(this.bits[Math.floor(l/32)]&1<<(l&31))!==0}set(l){this.bits[Math.floor(l/32)]|=1<<(l&31)}flip(l){this.bits[Math.floor(l/32)]^=1<<(l&31)}getNextSet(l){const h=this.size;if(l>=h)return h;const g=this.bits;let v=Math.floor(l/32),_=g[v];_&=~((1<<(l&31))-1);const b=g.length;for(;_===0;){if(++v===b)return h;_=g[v]}const N=v*32+k.numberOfTrailingZeros(_);return N>h?h:N}getNextUnset(l){const h=this.size;if(l>=h)return h;const g=this.bits;let v=Math.floor(l/32),_=~g[v];_&=~((1<<(l&31))-1);const b=g.length;for(;_===0;){if(++v===b)return h;_=~g[v]}const N=v*32+k.numberOfTrailingZeros(_);return N>h?h:N}setBulk(l,h){this.bits[Math.floor(l/32)]=h}setRange(l,h){if(h<l||l<0||h>this.size)throw new w;if(h===l)return;h--;const g=Math.floor(l/32),v=Math.floor(h/32),_=this.bits;for(let b=g;b<=v;b++){const N=b>g?0:l&31,z=(2<<(b<v?31:h&31))-(1<<N);_[b]|=z}}clear(){const l=this.bits.length,h=this.bits;for(let g=0;g<l;g++)h[g]=0}isRange(l,h,g){if(h<l||l<0||h>this.size)throw new w;if(h===l)return!0;h--;const v=Math.floor(l/32),_=Math.floor(h/32),b=this.bits;for(let N=v;N<=_;N++){const D=N>v?0:l&31,ee=(2<<(N<_?31:h&31))-(1<<D)&4294967295;if((b[N]&ee)!==(g?ee:0))return!1}return!0}appendBit(l){this.ensureCapacity(this.size+1),l&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(l,h){if(h<0||h>32)throw new w("Num bits must be between 0 and 32");this.ensureCapacity(this.size+h);for(let g=h;g>0;g--)this.appendBit((l>>g-1&1)===1)}appendBitArray(l){const h=l.size;this.ensureCapacity(this.size+h);for(let g=0;g<h;g++)this.appendBit(l.get(g))}xor(l){if(this.size!==l.size)throw new w("Sizes don't match");const h=this.bits;for(let g=0,v=h.length;g<v;g++)h[g]^=l.bits[g]}toBytes(l,h,g,v){for(let _=0;_<v;_++){let b=0;for(let N=0;N<8;N++)this.get(l)&&(b|=1<<7-N),l++;h[g+_]=b}}getBitArray(){return this.bits}reverse(){const l=new Int32Array(this.bits.length),h=Math.floor((this.size-1)/32),g=h+1,v=this.bits;for(let _=0;_<g;_++){let b=v[_];b=b>>1&1431655765|(b&1431655765)<<1,b=b>>2&858993459|(b&858993459)<<2,b=b>>4&252645135|(b&252645135)<<4,b=b>>8&16711935|(b&16711935)<<8,b=b>>16&65535|(b&65535)<<16,l[h-_]=b}if(this.size!==g*32){const _=g*32-this.size;let b=l[0]>>>_;for(let N=1;N<g;N++){const D=l[N];b|=D<<32-_,l[N-1]=b,b=D>>>_}l[g-1]=b}this.bits=l}static makeArray(l){return new Int32Array(Math.floor((l+31)/32))}equals(l){if(!(l instanceof G))return!1;const h=l;return this.size===h.size&&W.equals(this.bits,h.bits)}hashCode(){return 31*this.size+W.hashCode(this.bits)}toString(){let l="";for(let h=0,g=this.size;h<g;h++)(h&7)===0&&(l+=" "),l+=this.get(h)?"X":".";return l}clone(){return new G(this.size,this.bits.slice())}}var ce;(function(he){he[he.OTHER=0]="OTHER",he[he.PURE_BARCODE=1]="PURE_BARCODE",he[he.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",he[he.TRY_HARDER=3]="TRY_HARDER",he[he.CHARACTER_SET=4]="CHARACTER_SET",he[he.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",he[he.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",he[he.ASSUME_GS1=7]="ASSUME_GS1",he[he.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",he[he.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",he[he.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(ce||(ce={}));var re=ce;class F extends d{static getFormatInstance(){return new F}}F.kind="FormatException";var B;(function(he){he[he.Cp437=0]="Cp437",he[he.ISO8859_1=1]="ISO8859_1",he[he.ISO8859_2=2]="ISO8859_2",he[he.ISO8859_3=3]="ISO8859_3",he[he.ISO8859_4=4]="ISO8859_4",he[he.ISO8859_5=5]="ISO8859_5",he[he.ISO8859_6=6]="ISO8859_6",he[he.ISO8859_7=7]="ISO8859_7",he[he.ISO8859_8=8]="ISO8859_8",he[he.ISO8859_9=9]="ISO8859_9",he[he.ISO8859_10=10]="ISO8859_10",he[he.ISO8859_11=11]="ISO8859_11",he[he.ISO8859_13=12]="ISO8859_13",he[he.ISO8859_14=13]="ISO8859_14",he[he.ISO8859_15=14]="ISO8859_15",he[he.ISO8859_16=15]="ISO8859_16",he[he.SJIS=16]="SJIS",he[he.Cp1250=17]="Cp1250",he[he.Cp1251=18]="Cp1251",he[he.Cp1252=19]="Cp1252",he[he.Cp1256=20]="Cp1256",he[he.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",he[he.UTF8=22]="UTF8",he[he.ASCII=23]="ASCII",he[he.Big5=24]="Big5",he[he.GB18030=25]="GB18030",he[he.EUC_KR=26]="EUC_KR"})(B||(B={}));class L{constructor(l,h,g,...v){this.valueIdentifier=l,this.name=g,typeof h=="number"?this.values=Int32Array.from([h]):this.values=h,this.otherEncodingNames=v,L.VALUE_IDENTIFIER_TO_ECI.set(l,this),L.NAME_TO_ECI.set(g,this);const _=this.values;for(let b=0,N=_.length;b!==N;b++){const D=_[b];L.VALUES_TO_ECI.set(D,this)}for(const b of v)L.NAME_TO_ECI.set(b,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(l){if(l<0||l>=900)throw new F("incorect value");const h=L.VALUES_TO_ECI.get(l);if(h===void 0)throw new F("incorect value");return h}static getCharacterSetECIByName(l){const h=L.NAME_TO_ECI.get(l);if(h===void 0)throw new F("incorect value");return h}equals(l){if(!(l instanceof L))return!1;const h=l;return this.getName()===h.getName()}}L.VALUE_IDENTIFIER_TO_ECI=new Map,L.VALUES_TO_ECI=new Map,L.NAME_TO_ECI=new Map,L.Cp437=new L(B.Cp437,Int32Array.from([0,2]),"Cp437"),L.ISO8859_1=new L(B.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),L.ISO8859_2=new L(B.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),L.ISO8859_3=new L(B.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),L.ISO8859_4=new L(B.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),L.ISO8859_5=new L(B.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),L.ISO8859_6=new L(B.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),L.ISO8859_7=new L(B.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),L.ISO8859_8=new L(B.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),L.ISO8859_9=new L(B.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),L.ISO8859_10=new L(B.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),L.ISO8859_11=new L(B.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),L.ISO8859_13=new L(B.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),L.ISO8859_14=new L(B.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),L.ISO8859_15=new L(B.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),L.ISO8859_16=new L(B.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),L.SJIS=new L(B.SJIS,20,"SJIS","Shift_JIS"),L.Cp1250=new L(B.Cp1250,21,"Cp1250","windows-1250"),L.Cp1251=new L(B.Cp1251,22,"Cp1251","windows-1251"),L.Cp1252=new L(B.Cp1252,23,"Cp1252","windows-1252"),L.Cp1256=new L(B.Cp1256,24,"Cp1256","windows-1256"),L.UnicodeBigUnmarked=new L(B.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),L.UTF8=new L(B.UTF8,26,"UTF8","UTF-8"),L.ASCII=new L(B.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),L.Big5=new L(B.Big5,28,"Big5"),L.GB18030=new L(B.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),L.EUC_KR=new L(B.EUC_KR,30,"EUC_KR","EUC-KR");class Q extends d{}Q.kind="UnsupportedOperationException";class U{static decode(l,h){const g=this.encodingName(h);return this.customDecoder?this.customDecoder(l,g):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(g)?this.decodeFallback(l,g):new TextDecoder(g).decode(l)}static shouldDecodeOnFallback(l){return!U.isBrowser()&&l==="ISO-8859-1"}static encode(l,h){const g=this.encodingName(h);return this.customEncoder?this.customEncoder(l,g):typeof TextEncoder>"u"?this.encodeFallback(l):new TextEncoder().encode(l)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(l){return typeof l=="string"?l:l.getName()}static encodingCharacterSet(l){return l instanceof L?l:L.getCharacterSetECIByName(l)}static decodeFallback(l,h){const g=this.encodingCharacterSet(h);if(U.isDecodeFallbackSupported(g)){let v="";for(let _=0,b=l.length;_<b;_++){let N=l[_].toString(16);N.length<2&&(N="0"+N),v+="%"+N}return decodeURIComponent(v)}if(g.equals(L.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(l.buffer));throw new Q(`Encoding ${this.encodingName(h)} not supported by fallback.`)}static isDecodeFallbackSupported(l){return l.equals(L.UTF8)||l.equals(L.ISO8859_1)||l.equals(L.ASCII)}static encodeFallback(l){const g=btoa(unescape(encodeURIComponent(l))).split(""),v=[];for(let _=0;_<g.length;_++)v.push(g[_].charCodeAt(0));return new Uint8Array(v)}}class q{static castAsNonUtf8Char(l,h=null){const g=h?h.getName():this.ISO88591;return U.decode(new Uint8Array([l]),g)}static guessEncoding(l,h){if(h!=null&&h.get(re.CHARACTER_SET)!==void 0)return h.get(re.CHARACTER_SET).toString();const g=l.length;let v=!0,_=!0,b=!0,N=0,D=0,z=0,ee=0,fe=0,_e=0,Pe=0,qe=0,Ke=0,rt=0,_t=0;const Bt=l.length>3&&l[0]===239&&l[1]===187&&l[2]===191;for(let Ut=0;Ut<g&&(v||_||b);Ut++){const Pt=l[Ut]&255;b&&(N>0?(Pt&128)===0?b=!1:N--:(Pt&128)!==0&&((Pt&64)===0?b=!1:(N++,(Pt&32)===0?D++:(N++,(Pt&16)===0?z++:(N++,(Pt&8)===0?ee++:b=!1))))),v&&(Pt>127&&Pt<160?v=!1:Pt>159&&(Pt<192||Pt===215||Pt===247)&&_t++),_&&(fe>0?Pt<64||Pt===127||Pt>252?_=!1:fe--:Pt===128||Pt===160||Pt>239?_=!1:Pt>160&&Pt<224?(_e++,qe=0,Pe++,Pe>Ke&&(Ke=Pe)):Pt>127?(fe++,Pe=0,qe++,qe>rt&&(rt=qe)):(Pe=0,qe=0))}return b&&N>0&&(b=!1),_&&fe>0&&(_=!1),b&&(Bt||D+z+ee>0)?q.UTF8:_&&(q.ASSUME_SHIFT_JIS||Ke>=3||rt>=3)?q.SHIFT_JIS:v&&_?Ke===2&&_e===2||_t*10>=g?q.SHIFT_JIS:q.ISO88591:v?q.ISO88591:_?q.SHIFT_JIS:b?q.UTF8:q.PLATFORM_DEFAULT_ENCODING}static format(l,...h){let g=-1;function v(b,N,D,z,ee,fe){if(b==="%%")return"%";if(h[++g]===void 0)return;b=z?parseInt(z.substr(1)):void 0;let _e=ee?parseInt(ee.substr(1)):void 0,Pe;switch(fe){case"s":Pe=h[g];break;case"c":Pe=h[g][0];break;case"f":Pe=parseFloat(h[g]).toFixed(b);break;case"p":Pe=parseFloat(h[g]).toPrecision(b);break;case"e":Pe=parseFloat(h[g]).toExponential(b);break;case"x":Pe=parseInt(h[g]).toString(_e||16);break;case"d":Pe=parseFloat(parseInt(h[g],_e||10).toPrecision(b)).toFixed(0);break}Pe=typeof Pe=="object"?JSON.stringify(Pe):(+Pe).toString(_e);let qe=parseInt(D),Ke=D&&D[0]+""=="0"?"0":" ";for(;Pe.length<qe;)Pe=N!==void 0?Pe+Ke:Ke+Pe;return Pe}let _=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return l.replace(_,v)}static getBytes(l,h){return U.encode(l,h)}static getCharCode(l,h=0){return l.charCodeAt(h)}static getCharAt(l){return String.fromCharCode(l)}}q.SHIFT_JIS=L.SJIS.getName(),q.GB2312="GB2312",q.ISO88591=L.ISO8859_1.getName(),q.EUC_JP="EUC_JP",q.UTF8=L.UTF8.getName(),q.PLATFORM_DEFAULT_ENCODING=q.UTF8,q.ASSUME_SHIFT_JIS=!1;class Y{constructor(l=""){this.value=l}enableDecoding(l){return this.encoding=l,this}append(l){return typeof l=="string"?this.value+=l.toString():this.encoding?this.value+=q.castAsNonUtf8Char(l,this.encoding):this.value+=String.fromCharCode(l),this}appendChars(l,h,g){for(let v=h;h<h+g;v++)this.append(l[v]);return this}length(){return this.value.length}charAt(l){return this.value.charAt(l)}deleteCharAt(l){this.value=this.value.substr(0,l)+this.value.substring(l+1)}setCharAt(l,h){this.value=this.value.substr(0,l)+h+this.value.substr(l+1)}substring(l,h){return this.value.substring(l,h)}setLengthToZero(){this.value=""}toString(){return this.value}insert(l,h){this.value=this.value.substr(0,l)+h+this.value.substr(l+h.length)}}class ne{constructor(l,h,g,v){if(this.width=l,this.height=h,this.rowSize=g,this.bits=v,h==null&&(h=l),this.height=h,l<1||h<1)throw new w("Both dimensions must be greater than 0");g==null&&(g=Math.floor((l+31)/32)),this.rowSize=g,v==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(l){const h=l.length,g=l[0].length,v=new ne(g,h);for(let _=0;_<h;_++){const b=l[_];for(let N=0;N<g;N++)b[N]&&v.set(N,_)}return v}static parseFromString(l,h,g){if(l===null)throw new w("stringRepresentation cannot be null");const v=new Array(l.length);let _=0,b=0,N=-1,D=0,z=0;for(;z<l.length;)if(l.charAt(z)===`
`||l.charAt(z)==="\r"){if(_>b){if(N===-1)N=_-b;else if(_-b!==N)throw new w("row lengths do not match");b=_,D++}z++}else if(l.substring(z,z+h.length)===h)z+=h.length,v[_]=!0,_++;else if(l.substring(z,z+g.length)===g)z+=g.length,v[_]=!1,_++;else throw new w("illegal character encountered: "+l.substring(z));if(_>b){if(N===-1)N=_-b;else if(_-b!==N)throw new w("row lengths do not match");D++}const ee=new ne(N,D);for(let fe=0;fe<_;fe++)v[fe]&&ee.set(Math.floor(fe%N),Math.floor(fe/N));return ee}get(l,h){const g=h*this.rowSize+Math.floor(l/32);return(this.bits[g]>>>(l&31)&1)!==0}set(l,h){const g=h*this.rowSize+Math.floor(l/32);this.bits[g]|=1<<(l&31)&4294967295}unset(l,h){const g=h*this.rowSize+Math.floor(l/32);this.bits[g]&=~(1<<(l&31)&4294967295)}flip(l,h){const g=h*this.rowSize+Math.floor(l/32);this.bits[g]^=1<<(l&31)&4294967295}xor(l){if(this.width!==l.getWidth()||this.height!==l.getHeight()||this.rowSize!==l.getRowSize())throw new w("input matrix dimensions do not match");const h=new G(Math.floor(this.width/32)+1),g=this.rowSize,v=this.bits;for(let _=0,b=this.height;_<b;_++){const N=_*g,D=l.getRow(_,h).getBitArray();for(let z=0;z<g;z++)v[N+z]^=D[z]}}clear(){const l=this.bits,h=l.length;for(let g=0;g<h;g++)l[g]=0}setRegion(l,h,g,v){if(h<0||l<0)throw new w("Left and top must be nonnegative");if(v<1||g<1)throw new w("Height and width must be at least 1");const _=l+g,b=h+v;if(b>this.height||_>this.width)throw new w("The region must fit inside the matrix");const N=this.rowSize,D=this.bits;for(let z=h;z<b;z++){const ee=z*N;for(let fe=l;fe<_;fe++)D[ee+Math.floor(fe/32)]|=1<<(fe&31)&4294967295}}getRow(l,h){h==null||h.getSize()<this.width?h=new G(this.width):h.clear();const g=this.rowSize,v=this.bits,_=l*g;for(let b=0;b<g;b++)h.setBulk(b*32,v[_+b]);return h}setRow(l,h){C.arraycopy(h.getBitArray(),0,this.bits,l*this.rowSize,this.rowSize)}rotate180(){const l=this.getWidth(),h=this.getHeight();let g=new G(l),v=new G(l);for(let _=0,b=Math.floor((h+1)/2);_<b;_++)g=this.getRow(_,g),v=this.getRow(h-1-_,v),g.reverse(),v.reverse(),this.setRow(_,v),this.setRow(h-1-_,g)}getEnclosingRectangle(){const l=this.width,h=this.height,g=this.rowSize,v=this.bits;let _=l,b=h,N=-1,D=-1;for(let z=0;z<h;z++)for(let ee=0;ee<g;ee++){const fe=v[z*g+ee];if(fe!==0){if(z<b&&(b=z),z>D&&(D=z),ee*32<_){let _e=0;for(;(fe<<31-_e&4294967295)===0;)_e++;ee*32+_e<_&&(_=ee*32+_e)}if(ee*32+31>N){let _e=31;for(;!(fe>>>_e);)_e--;ee*32+_e>N&&(N=ee*32+_e)}}}return N<_||D<b?null:Int32Array.from([_,b,N-_+1,D-b+1])}getTopLeftOnBit(){const l=this.rowSize,h=this.bits;let g=0;for(;g<h.length&&h[g]===0;)g++;if(g===h.length)return null;const v=g/l;let _=g%l*32;const b=h[g];let N=0;for(;(b<<31-N&4294967295)===0;)N++;return _+=N,Int32Array.from([_,v])}getBottomRightOnBit(){const l=this.rowSize,h=this.bits;let g=h.length-1;for(;g>=0&&h[g]===0;)g--;if(g<0)return null;const v=Math.floor(g/l);let _=Math.floor(g%l)*32;const b=h[g];let N=31;for(;!(b>>>N);)N--;return _+=N,Int32Array.from([_,v])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(l){if(!(l instanceof ne))return!1;const h=l;return this.width===h.width&&this.height===h.height&&this.rowSize===h.rowSize&&W.equals(this.bits,h.bits)}hashCode(){let l=this.width;return l=31*l+this.width,l=31*l+this.height,l=31*l+this.rowSize,l=31*l+W.hashCode(this.bits),l}toString(l="X ",h="  ",g=`
`){return this.buildToString(l,h,g)}buildToString(l,h,g){let v=new Y;for(let _=0,b=this.height;_<b;_++){for(let N=0,D=this.width;N<D;N++)v.append(this.get(N,_)?l:h);v.append(g)}return v.toString()}clone(){return new ne(this.width,this.height,this.rowSize,this.bits.slice())}}class pe extends d{static getNotFoundInstance(){return new pe}}pe.kind="NotFoundException";class Ae extends I{constructor(l){super(l),this.luminances=Ae.EMPTY,this.buckets=new Int32Array(Ae.LUMINANCE_BUCKETS)}getBlackRow(l,h){const g=this.getLuminanceSource(),v=g.getWidth();h==null||h.getSize()<v?h=new G(v):h.clear(),this.initArrays(v);const _=g.getRow(l,this.luminances),b=this.buckets;for(let D=0;D<v;D++)b[(_[D]&255)>>Ae.LUMINANCE_SHIFT]++;const N=Ae.estimateBlackPoint(b);if(v<3)for(let D=0;D<v;D++)(_[D]&255)<N&&h.set(D);else{let D=_[0]&255,z=_[1]&255;for(let ee=1;ee<v-1;ee++){const fe=_[ee+1]&255;(z*4-D-fe)/2<N&&h.set(ee),D=z,z=fe}}return h}getBlackMatrix(){const l=this.getLuminanceSource(),h=l.getWidth(),g=l.getHeight(),v=new ne(h,g);this.initArrays(h);const _=this.buckets;for(let D=1;D<5;D++){const z=Math.floor(g*D/5),ee=l.getRow(z,this.luminances),fe=Math.floor(h*4/5);for(let _e=Math.floor(h/5);_e<fe;_e++){const Pe=ee[_e]&255;_[Pe>>Ae.LUMINANCE_SHIFT]++}}const b=Ae.estimateBlackPoint(_),N=l.getMatrix();for(let D=0;D<g;D++){const z=D*h;for(let ee=0;ee<h;ee++)(N[z+ee]&255)<b&&v.set(ee,D)}return v}createBinarizer(l){return new Ae(l)}initArrays(l){this.luminances.length<l&&(this.luminances=new Uint8ClampedArray(l));const h=this.buckets;for(let g=0;g<Ae.LUMINANCE_BUCKETS;g++)h[g]=0}static estimateBlackPoint(l){const h=l.length;let g=0,v=0,_=0;for(let ee=0;ee<h;ee++)l[ee]>_&&(v=ee,_=l[ee]),l[ee]>g&&(g=l[ee]);let b=0,N=0;for(let ee=0;ee<h;ee++){const fe=ee-v,_e=l[ee]*fe*fe;_e>N&&(b=ee,N=_e)}if(v>b){const ee=v;v=b,b=ee}if(b-v<=h/16)throw new pe;let D=b-1,z=-1;for(let ee=b-1;ee>v;ee--){const fe=ee-v,_e=fe*fe*(b-ee)*(g-l[ee]);_e>z&&(D=ee,z=_e)}return D<<Ae.LUMINANCE_SHIFT}}Ae.LUMINANCE_BITS=5,Ae.LUMINANCE_SHIFT=8-Ae.LUMINANCE_BITS,Ae.LUMINANCE_BUCKETS=1<<Ae.LUMINANCE_BITS,Ae.EMPTY=Uint8ClampedArray.from([0]);class ve extends Ae{constructor(l){super(l),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const l=this.getLuminanceSource(),h=l.getWidth(),g=l.getHeight();if(h>=ve.MINIMUM_DIMENSION&&g>=ve.MINIMUM_DIMENSION){const v=l.getMatrix();let _=h>>ve.BLOCK_SIZE_POWER;(h&ve.BLOCK_SIZE_MASK)!==0&&_++;let b=g>>ve.BLOCK_SIZE_POWER;(g&ve.BLOCK_SIZE_MASK)!==0&&b++;const N=ve.calculateBlackPoints(v,_,b,h,g),D=new ne(h,g);ve.calculateThresholdForBlock(v,_,b,h,g,N,D),this.matrix=D}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(l){return new ve(l)}static calculateThresholdForBlock(l,h,g,v,_,b,N){const D=_-ve.BLOCK_SIZE,z=v-ve.BLOCK_SIZE;for(let ee=0;ee<g;ee++){let fe=ee<<ve.BLOCK_SIZE_POWER;fe>D&&(fe=D);const _e=ve.cap(ee,2,g-3);for(let Pe=0;Pe<h;Pe++){let qe=Pe<<ve.BLOCK_SIZE_POWER;qe>z&&(qe=z);const Ke=ve.cap(Pe,2,h-3);let rt=0;for(let Bt=-2;Bt<=2;Bt++){const Ut=b[_e+Bt];rt+=Ut[Ke-2]+Ut[Ke-1]+Ut[Ke]+Ut[Ke+1]+Ut[Ke+2]}const _t=rt/25;ve.thresholdBlock(l,qe,fe,_t,v,N)}}}static cap(l,h,g){return l<h?h:l>g?g:l}static thresholdBlock(l,h,g,v,_,b){for(let N=0,D=g*_+h;N<ve.BLOCK_SIZE;N++,D+=_)for(let z=0;z<ve.BLOCK_SIZE;z++)(l[D+z]&255)<=v&&b.set(h+z,g+N)}static calculateBlackPoints(l,h,g,v,_){const b=_-ve.BLOCK_SIZE,N=v-ve.BLOCK_SIZE,D=new Array(g);for(let z=0;z<g;z++){D[z]=new Int32Array(h);let ee=z<<ve.BLOCK_SIZE_POWER;ee>b&&(ee=b);for(let fe=0;fe<h;fe++){let _e=fe<<ve.BLOCK_SIZE_POWER;_e>N&&(_e=N);let Pe=0,qe=255,Ke=0;for(let _t=0,Bt=ee*v+_e;_t<ve.BLOCK_SIZE;_t++,Bt+=v){for(let Ut=0;Ut<ve.BLOCK_SIZE;Ut++){const Pt=l[Bt+Ut]&255;Pe+=Pt,Pt<qe&&(qe=Pt),Pt>Ke&&(Ke=Pt)}if(Ke-qe>ve.MIN_DYNAMIC_RANGE)for(_t++,Bt+=v;_t<ve.BLOCK_SIZE;_t++,Bt+=v)for(let Ut=0;Ut<ve.BLOCK_SIZE;Ut++)Pe+=l[Bt+Ut]&255}let rt=Pe>>ve.BLOCK_SIZE_POWER*2;if(Ke-qe<=ve.MIN_DYNAMIC_RANGE&&(rt=qe/2,z>0&&fe>0)){const _t=(D[z-1][fe]+2*D[z][fe-1]+D[z-1][fe-1])/4;qe<_t&&(rt=_t)}D[z][fe]=rt}}return D}}ve.BLOCK_SIZE_POWER=3,ve.BLOCK_SIZE=1<<ve.BLOCK_SIZE_POWER,ve.BLOCK_SIZE_MASK=ve.BLOCK_SIZE-1,ve.MINIMUM_DIMENSION=ve.BLOCK_SIZE*5,ve.MIN_DYNAMIC_RANGE=24;class Re{constructor(l,h){this.width=l,this.height=h}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(l,h,g,v){throw new Q("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new Q("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new Q("This luminance source does not support rotation by 45 degrees.")}toString(){const l=new Uint8ClampedArray(this.width);let h=new Y;for(let g=0;g<this.height;g++){const v=this.getRow(g,l);for(let _=0;_<this.width;_++){const b=v[_]&255;let N;b<64?N="#":b<128?N="+":b<192?N=".":N=" ",h.append(N)}h.append(`
`)}return h.toString()}}class He extends Re{constructor(l){super(l.getWidth(),l.getHeight()),this.delegate=l}getRow(l,h){const g=this.delegate.getRow(l,h),v=this.getWidth();for(let _=0;_<v;_++)g[_]=255-(g[_]&255);return g}getMatrix(){const l=this.delegate.getMatrix(),h=this.getWidth()*this.getHeight(),g=new Uint8ClampedArray(h);for(let v=0;v<h;v++)g[v]=255-(l[v]&255);return g}isCropSupported(){return this.delegate.isCropSupported()}crop(l,h,g,v){return new He(this.delegate.crop(l,h,g,v))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new He(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new He(this.delegate.rotateCounterClockwise45())}}class ze extends Re{constructor(l){super(l.width,l.height),this.canvas=l,this.tempCanvasElement=null,this.buffer=ze.makeBufferFromCanvasImageData(l)}static makeBufferFromCanvasImageData(l){const h=l.getContext("2d").getImageData(0,0,l.width,l.height);return ze.toGrayscaleBuffer(h.data,l.width,l.height)}static toGrayscaleBuffer(l,h,g){const v=new Uint8ClampedArray(h*g);for(let _=0,b=0,N=l.length;_<N;_+=4,b++){let D;if(l[_+3]===0)D=255;else{const ee=l[_],fe=l[_+1],_e=l[_+2];D=306*ee+601*fe+117*_e+512>>10}v[b]=D}return v}getRow(l,h){if(l<0||l>=this.getHeight())throw new w("Requested row is outside the image: "+l);const g=this.getWidth(),v=l*g;return h===null?h=this.buffer.slice(v,v+g):(h.length<g&&(h=new Uint8ClampedArray(g)),h.set(this.buffer.slice(v,v+g))),h}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(l,h,g,v){return super.crop(l,h,g,v),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const l=this.canvas.ownerDocument.createElement("canvas");l.width=this.canvas.width,l.height=this.canvas.height,this.tempCanvasElement=l}return this.tempCanvasElement}rotate(l){const h=this.getTempCanvasElement(),g=h.getContext("2d"),v=l*ze.DEGREE_TO_RADIANS,_=this.canvas.width,b=this.canvas.height,N=Math.ceil(Math.abs(Math.cos(v))*_+Math.abs(Math.sin(v))*b),D=Math.ceil(Math.abs(Math.sin(v))*_+Math.abs(Math.cos(v))*b);return h.width=N,h.height=D,g.translate(N/2,D/2),g.rotate(v),g.drawImage(this.canvas,_/-2,b/-2),this.buffer=ze.makeBufferFromCanvasImageData(h),this}invert(){return new He(this)}}ze.DEGREE_TO_RADIANS=Math.PI/180;class xe{constructor(l,h,g){this.deviceId=l,this.label=h,this.kind="videoinput",this.groupId=g||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var H=(globalThis||Bg||self||window||void 0)&&(globalThis||Bg||self||window||void 0).__awaiter||function(he,l,h,g){function v(_){return _ instanceof h?_:new h(function(b){b(_)})}return new(h||(h=Promise))(function(_,b){function N(ee){try{z(g.next(ee))}catch(fe){b(fe)}}function D(ee){try{z(g.throw(ee))}catch(fe){b(fe)}}function z(ee){ee.done?_(ee.value):v(ee.value).then(N,D)}z((g=g.apply(he,l||[])).next())})};class J{constructor(l,h=500,g){this.reader=l,this.timeBetweenScansMillis=h,this._hints=g,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(l){this._timeBetweenDecodingAttempts=l<0?0:l}set hints(l){this._hints=l||null}get hints(){return this._hints}listVideoInputDevices(){return H(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const l=yield navigator.mediaDevices.enumerateDevices(),h=[];for(const g of l){const v=g.kind==="video"?"videoinput":g.kind;if(v!=="videoinput")continue;const _=g.deviceId||g.id,b=g.label||`Video device ${h.length+1}`,N=g.groupId,D={deviceId:_,label:b,kind:v,groupId:N};h.push(D)}return h})}getVideoInputDevices(){return H(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(h=>new xe(h.deviceId,h.label))})}findDeviceById(l){return H(this,void 0,void 0,function*(){const h=yield this.listVideoInputDevices();return h?h.find(g=>g.deviceId===l):null})}decodeFromInputVideoDevice(l,h){return H(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(l,h)})}decodeOnceFromVideoDevice(l,h){return H(this,void 0,void 0,function*(){this.reset();let g;l?g={deviceId:{exact:l}}:g={facingMode:"environment"};const v={video:g};return yield this.decodeOnceFromConstraints(v,h)})}decodeOnceFromConstraints(l,h){return H(this,void 0,void 0,function*(){const g=yield navigator.mediaDevices.getUserMedia(l);return yield this.decodeOnceFromStream(g,h)})}decodeOnceFromStream(l,h){return H(this,void 0,void 0,function*(){this.reset();const g=yield this.attachStreamToVideo(l,h);return yield this.decodeOnce(g)})}decodeFromInputVideoDeviceContinuously(l,h,g){return H(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(l,h,g)})}decodeFromVideoDevice(l,h,g){return H(this,void 0,void 0,function*(){let v;l?v={deviceId:{exact:l}}:v={facingMode:"environment"};const _={video:v};return yield this.decodeFromConstraints(_,h,g)})}decodeFromConstraints(l,h,g){return H(this,void 0,void 0,function*(){const v=yield navigator.mediaDevices.getUserMedia(l);return yield this.decodeFromStream(v,h,g)})}decodeFromStream(l,h,g){return H(this,void 0,void 0,function*(){this.reset();const v=yield this.attachStreamToVideo(l,h);return yield this.decodeContinuously(v,g)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(l,h){return H(this,void 0,void 0,function*(){const g=this.prepareVideoElement(h);return this.addVideoSource(g,l),this.videoElement=g,this.stream=l,yield this.playVideoOnLoadAsync(g),g})}playVideoOnLoadAsync(l){return new Promise((h,g)=>this.playVideoOnLoad(l,()=>h()))}playVideoOnLoad(l,h){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(l),l.addEventListener("ended",this.videoEndedListener),l.addEventListener("canplay",this.videoCanPlayListener),l.addEventListener("playing",h),this.tryPlayVideo(l)}isVideoPlaying(l){return l.currentTime>0&&!l.paused&&!l.ended&&l.readyState>2}tryPlayVideo(l){return H(this,void 0,void 0,function*(){if(this.isVideoPlaying(l)){console.warn("Trying to play video that is already playing.");return}try{yield l.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(l,h){const g=document.getElementById(l);if(!g)throw new x(`element with id '${l}' not found`);if(g.nodeName.toLowerCase()!==h.toLowerCase())throw new x(`element with id '${l}' must be an ${h} element`);return g}decodeFromImage(l,h){if(!l&&!h)throw new x("either imageElement with a src set or an url must be provided");return h&&!l?this.decodeFromImageUrl(h):this.decodeFromImageElement(l)}decodeFromVideo(l,h){if(!l&&!h)throw new x("Either an element with a src set or an URL must be provided");return h&&!l?this.decodeFromVideoUrl(h):this.decodeFromVideoElement(l)}decodeFromVideoContinuously(l,h,g){if(l===void 0&&h===void 0)throw new x("Either an element with a src set or an URL must be provided");return h&&!l?this.decodeFromVideoUrlContinuously(h,g):this.decodeFromVideoElementContinuously(l,g)}decodeFromImageElement(l){if(!l)throw new x("An image element must be provided.");this.reset();const h=this.prepareImageElement(l);this.imageElement=h;let g;return this.isImageLoaded(h)?g=this.decodeOnce(h,!1,!0):g=this._decodeOnLoadImage(h),g}decodeFromVideoElement(l){const h=this._decodeFromVideoElementSetup(l);return this._decodeOnLoadVideo(h)}decodeFromVideoElementContinuously(l,h){const g=this._decodeFromVideoElementSetup(l);return this._decodeOnLoadVideoContinuously(g,h)}_decodeFromVideoElementSetup(l){if(!l)throw new x("A video element must be provided.");this.reset();const h=this.prepareVideoElement(l);return this.videoElement=h,h}decodeFromImageUrl(l){if(!l)throw new x("An URL must be provided.");this.reset();const h=this.prepareImageElement();this.imageElement=h;const g=this._decodeOnLoadImage(h);return h.src=l,g}decodeFromVideoUrl(l){if(!l)throw new x("An URL must be provided.");this.reset();const h=this.prepareVideoElement(),g=this.decodeFromVideoElement(h);return h.src=l,g}decodeFromVideoUrlContinuously(l,h){if(!l)throw new x("An URL must be provided.");this.reset();const g=this.prepareVideoElement(),v=this.decodeFromVideoElementContinuously(g,h);return g.src=l,v}_decodeOnLoadImage(l){return new Promise((h,g)=>{this.imageLoadedListener=()=>this.decodeOnce(l,!1,!0).then(h,g),l.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(l){return H(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(l),yield this.decodeOnce(l)})}_decodeOnLoadVideoContinuously(l,h){return H(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(l),this.decodeContinuously(l,h)})}isImageLoaded(l){return!(!l.complete||l.naturalWidth===0)}prepareImageElement(l){let h;return typeof l>"u"&&(h=document.createElement("img"),h.width=200,h.height=200),typeof l=="string"&&(h=this.getMediaElement(l,"img")),l instanceof HTMLImageElement&&(h=l),h}prepareVideoElement(l){let h;return!l&&typeof document<"u"&&(h=document.createElement("video"),h.width=200,h.height=200),typeof l=="string"&&(h=this.getMediaElement(l,"video")),l instanceof HTMLVideoElement&&(h=l),h.setAttribute("autoplay","true"),h.setAttribute("muted","true"),h.setAttribute("playsinline","true"),h}decodeOnce(l,h=!0,g=!0){this._stopAsyncDecode=!1;const v=(_,b)=>{if(this._stopAsyncDecode){b(new pe("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const N=this.decode(l);_(N)}catch(N){const D=h&&N instanceof pe,ee=(N instanceof E||N instanceof F)&&g;if(D||ee)return setTimeout(v,this._timeBetweenDecodingAttempts,_,b);b(N)}};return new Promise((_,b)=>v(_,b))}decodeContinuously(l,h){this._stopContinuousDecode=!1;const g=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const v=this.decode(l);h(v,null),setTimeout(g,this.timeBetweenScansMillis)}catch(v){h(null,v);const _=v instanceof E||v instanceof F,b=v instanceof pe;(_||b)&&setTimeout(g,this._timeBetweenDecodingAttempts)}};g()}decode(l){const h=this.createBinaryBitmap(l);return this.decodeBitmap(h)}_isHTMLVideoElement(l){return l.videoWidth!==0}drawFrameOnCanvas(l,h,g){h||(h={sx:0,sy:0,sWidth:l.videoWidth,sHeight:l.videoHeight,dx:0,dy:0,dWidth:l.videoWidth,dHeight:l.videoHeight}),g||(g=this.captureCanvasContext),g.drawImage(l,h.sx,h.sy,h.sWidth,h.sHeight,h.dx,h.dy,h.dWidth,h.dHeight)}drawImageOnCanvas(l,h,g=this.captureCanvasContext){h||(h={sx:0,sy:0,sWidth:l.naturalWidth,sHeight:l.naturalHeight,dx:0,dy:0,dWidth:l.naturalWidth,dHeight:l.naturalHeight}),g||(g=this.captureCanvasContext),g.drawImage(l,h.sx,h.sy,h.sWidth,h.sHeight,h.dx,h.dy,h.dWidth,h.dHeight)}createBinaryBitmap(l){this.getCaptureCanvasContext(l),this._isHTMLVideoElement(l)?this.drawFrameOnCanvas(l):this.drawImageOnCanvas(l);const h=this.getCaptureCanvas(l),g=new ze(h),v=new ve(g);return new A(v)}getCaptureCanvasContext(l){if(!this.captureCanvasContext){const g=this.getCaptureCanvas(l).getContext("2d");this.captureCanvasContext=g}return this.captureCanvasContext}getCaptureCanvas(l){if(!this.captureCanvas){const h=this.createCaptureCanvas(l);this.captureCanvas=h}return this.captureCanvas}decodeBitmap(l){return this.reader.decode(l,this._hints)}createCaptureCanvas(l){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const h=document.createElement("canvas");let g,v;return typeof l<"u"&&(l instanceof HTMLVideoElement?(g=l.videoWidth,v=l.videoHeight):l instanceof HTMLImageElement&&(g=l.naturalWidth||l.width,v=l.naturalHeight||l.height)),h.style.width=g+"px",h.style.height=v+"px",h.width=g,h.height=v,h}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(l=>l.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(l,h){try{l.srcObject=h}catch{l.src=URL.createObjectURL(h)}}cleanVideoSource(l){try{l.srcObject=null}catch{l.src=""}this.videoElement.removeAttribute("src")}}class Z{constructor(l,h,g=h==null?0:8*h.length,v,_,b=C.currentTimeMillis()){this.text=l,this.rawBytes=h,this.numBits=g,this.resultPoints=v,this.format=_,this.timestamp=b,this.text=l,this.rawBytes=h,g==null?this.numBits=h==null?0:8*h.length:this.numBits=g,this.resultPoints=v,this.format=_,this.resultMetadata=null,b==null?this.timestamp=C.currentTimeMillis():this.timestamp=b}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(l,h){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(l,h)}putAllMetadata(l){l!==null&&(this.resultMetadata===null?this.resultMetadata=l:this.resultMetadata=new Map(l))}addResultPoints(l){const h=this.resultPoints;if(h===null)this.resultPoints=l;else if(l!==null&&l.length>0){const g=new Array(h.length+l.length);C.arraycopy(h,0,g,0,h.length),C.arraycopy(l,0,g,h.length,l.length),this.resultPoints=g}}getTimestamp(){return this.timestamp}toString(){return this.text}}var oe;(function(he){he[he.AZTEC=0]="AZTEC",he[he.CODABAR=1]="CODABAR",he[he.CODE_39=2]="CODE_39",he[he.CODE_93=3]="CODE_93",he[he.CODE_128=4]="CODE_128",he[he.DATA_MATRIX=5]="DATA_MATRIX",he[he.EAN_8=6]="EAN_8",he[he.EAN_13=7]="EAN_13",he[he.ITF=8]="ITF",he[he.MAXICODE=9]="MAXICODE",he[he.PDF_417=10]="PDF_417",he[he.QR_CODE=11]="QR_CODE",he[he.RSS_14=12]="RSS_14",he[he.RSS_EXPANDED=13]="RSS_EXPANDED",he[he.UPC_A=14]="UPC_A",he[he.UPC_E=15]="UPC_E",he[he.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(oe||(oe={}));var de=oe,Me;(function(he){he[he.OTHER=0]="OTHER",he[he.ORIENTATION=1]="ORIENTATION",he[he.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",he[he.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",he[he.ISSUE_NUMBER=4]="ISSUE_NUMBER",he[he.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",he[he.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",he[he.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",he[he.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",he[he.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",he[he.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(Me||(Me={}));var Ue=Me;class Ve{constructor(l,h,g,v,_=-1,b=-1){this.rawBytes=l,this.text=h,this.byteSegments=g,this.ecLevel=v,this.structuredAppendSequenceNumber=_,this.structuredAppendParity=b,this.numBits=l==null?0:8*l.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(l){this.numBits=l}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(l){this.errorsCorrected=l}getErasures(){return this.erasures}setErasures(l){this.erasures=l}getOther(){return this.other}setOther(l){this.other=l}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Ie{exp(l){return this.expTable[l]}log(l){if(l===0)throw new w;return this.logTable[l]}static addOrSubtract(l,h){return l^h}}class nt{constructor(l,h){if(h.length===0)throw new w;this.field=l;const g=h.length;if(g>1&&h[0]===0){let v=1;for(;v<g&&h[v]===0;)v++;v===g?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(g-v),C.arraycopy(h,v,this.coefficients,0,this.coefficients.length))}else this.coefficients=h}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(l){return this.coefficients[this.coefficients.length-1-l]}evaluateAt(l){if(l===0)return this.getCoefficient(0);const h=this.coefficients;let g;if(l===1){g=0;for(let b=0,N=h.length;b!==N;b++){const D=h[b];g=Ie.addOrSubtract(g,D)}return g}g=h[0];const v=h.length,_=this.field;for(let b=1;b<v;b++)g=Ie.addOrSubtract(_.multiply(l,g),h[b]);return g}addOrSubtract(l){if(!this.field.equals(l.field))throw new w("GenericGFPolys do not have same GenericGF field");if(this.isZero())return l;if(l.isZero())return this;let h=this.coefficients,g=l.coefficients;if(h.length>g.length){const b=h;h=g,g=b}let v=new Int32Array(g.length);const _=g.length-h.length;C.arraycopy(g,0,v,0,_);for(let b=_;b<g.length;b++)v[b]=Ie.addOrSubtract(h[b-_],g[b]);return new nt(this.field,v)}multiply(l){if(!this.field.equals(l.field))throw new w("GenericGFPolys do not have same GenericGF field");if(this.isZero()||l.isZero())return this.field.getZero();const h=this.coefficients,g=h.length,v=l.coefficients,_=v.length,b=new Int32Array(g+_-1),N=this.field;for(let D=0;D<g;D++){const z=h[D];for(let ee=0;ee<_;ee++)b[D+ee]=Ie.addOrSubtract(b[D+ee],N.multiply(z,v[ee]))}return new nt(N,b)}multiplyScalar(l){if(l===0)return this.field.getZero();if(l===1)return this;const h=this.coefficients.length,g=this.field,v=new Int32Array(h),_=this.coefficients;for(let b=0;b<h;b++)v[b]=g.multiply(_[b],l);return new nt(g,v)}multiplyByMonomial(l,h){if(l<0)throw new w;if(h===0)return this.field.getZero();const g=this.coefficients,v=g.length,_=new Int32Array(v+l),b=this.field;for(let N=0;N<v;N++)_[N]=b.multiply(g[N],h);return new nt(b,_)}divide(l){if(!this.field.equals(l.field))throw new w("GenericGFPolys do not have same GenericGF field");if(l.isZero())throw new w("Divide by 0");const h=this.field;let g=h.getZero(),v=this;const _=l.getCoefficient(l.getDegree()),b=h.inverse(_);for(;v.getDegree()>=l.getDegree()&&!v.isZero();){const N=v.getDegree()-l.getDegree(),D=h.multiply(v.getCoefficient(v.getDegree()),b),z=l.multiplyByMonomial(N,D),ee=h.buildMonomial(N,D);g=g.addOrSubtract(ee),v=v.addOrSubtract(z)}return[g,v]}toString(){let l="";for(let h=this.getDegree();h>=0;h--){let g=this.getCoefficient(h);if(g!==0){if(g<0?(l+=" - ",g=-g):l.length>0&&(l+=" + "),h===0||g!==1){const v=this.field.log(g);v===0?l+="1":v===1?l+="a":(l+="a^",l+=v)}h!==0&&(h===1?l+="x":(l+="x^",l+=h))}}return l}}class Tt extends d{}Tt.kind="ArithmeticException";class St extends Ie{constructor(l,h,g){super(),this.primitive=l,this.size=h,this.generatorBase=g;const v=new Int32Array(h);let _=1;for(let N=0;N<h;N++)v[N]=_,_*=2,_>=h&&(_^=l,_&=h-1);this.expTable=v;const b=new Int32Array(h);for(let N=0;N<h-1;N++)b[v[N]]=N;this.logTable=b,this.zero=new nt(this,Int32Array.from([0])),this.one=new nt(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(l,h){if(l<0)throw new w;if(h===0)return this.zero;const g=new Int32Array(l+1);return g[0]=h,new nt(this,g)}inverse(l){if(l===0)throw new Tt;return this.expTable[this.size-this.logTable[l]-1]}multiply(l,h){return l===0||h===0?0:this.expTable[(this.logTable[l]+this.logTable[h])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+k.toHexString(this.primitive)+","+this.size+")"}equals(l){return l===this}}St.AZTEC_DATA_12=new St(4201,4096,1),St.AZTEC_DATA_10=new St(1033,1024,1),St.AZTEC_DATA_6=new St(67,64,1),St.AZTEC_PARAM=new St(19,16,1),St.QR_CODE_FIELD_256=new St(285,256,0),St.DATA_MATRIX_FIELD_256=new St(301,256,1),St.AZTEC_DATA_8=St.DATA_MATRIX_FIELD_256,St.MAXICODE_FIELD_64=St.AZTEC_DATA_6;class Rt extends d{}Rt.kind="ReedSolomonException";class le extends d{}le.kind="IllegalStateException";class ot{constructor(l){this.field=l}decode(l,h){const g=this.field,v=new nt(g,l),_=new Int32Array(h);let b=!0;for(let Pe=0;Pe<h;Pe++){const qe=v.evaluateAt(g.exp(Pe+g.getGeneratorBase()));_[_.length-1-Pe]=qe,qe!==0&&(b=!1)}if(b)return;const N=new nt(g,_),D=this.runEuclideanAlgorithm(g.buildMonomial(h,1),N,h),z=D[0],ee=D[1],fe=this.findErrorLocations(z),_e=this.findErrorMagnitudes(ee,fe);for(let Pe=0;Pe<fe.length;Pe++){const qe=l.length-1-g.log(fe[Pe]);if(qe<0)throw new Rt("Bad error location");l[qe]=St.addOrSubtract(l[qe],_e[Pe])}}runEuclideanAlgorithm(l,h,g){if(l.getDegree()<h.getDegree()){const Pe=l;l=h,h=Pe}const v=this.field;let _=l,b=h,N=v.getZero(),D=v.getOne();for(;b.getDegree()>=(g/2|0);){let Pe=_,qe=N;if(_=b,N=D,_.isZero())throw new Rt("r_{i-1} was zero");b=Pe;let Ke=v.getZero();const rt=_.getCoefficient(_.getDegree()),_t=v.inverse(rt);for(;b.getDegree()>=_.getDegree()&&!b.isZero();){const Bt=b.getDegree()-_.getDegree(),Ut=v.multiply(b.getCoefficient(b.getDegree()),_t);Ke=Ke.addOrSubtract(v.buildMonomial(Bt,Ut)),b=b.addOrSubtract(_.multiplyByMonomial(Bt,Ut))}if(D=Ke.multiply(N).addOrSubtract(qe),b.getDegree()>=_.getDegree())throw new le("Division algorithm failed to reduce polynomial?")}const z=D.getCoefficient(0);if(z===0)throw new Rt("sigmaTilde(0) was zero");const ee=v.inverse(z),fe=D.multiplyScalar(ee),_e=b.multiplyScalar(ee);return[fe,_e]}findErrorLocations(l){const h=l.getDegree();if(h===1)return Int32Array.from([l.getCoefficient(1)]);const g=new Int32Array(h);let v=0;const _=this.field;for(let b=1;b<_.getSize()&&v<h;b++)l.evaluateAt(b)===0&&(g[v]=_.inverse(b),v++);if(v!==h)throw new Rt("Error locator degree does not match number of roots");return g}findErrorMagnitudes(l,h){const g=h.length,v=new Int32Array(g),_=this.field;for(let b=0;b<g;b++){const N=_.inverse(h[b]);let D=1;for(let z=0;z<g;z++)if(b!==z){const ee=_.multiply(h[z],N),fe=(ee&1)===0?ee|1:ee&-2;D=_.multiply(D,fe)}v[b]=_.multiply(l.evaluateAt(N),_.inverse(D)),_.getGeneratorBase()!==0&&(v[b]=_.multiply(v[b],N))}return v}}var Ge;(function(he){he[he.UPPER=0]="UPPER",he[he.LOWER=1]="LOWER",he[he.MIXED=2]="MIXED",he[he.DIGIT=3]="DIGIT",he[he.PUNCT=4]="PUNCT",he[he.BINARY=5]="BINARY"})(Ge||(Ge={}));class At{decode(l){this.ddata=l;let h=l.getBits(),g=this.extractBits(h),v=this.correctBits(g),_=At.convertBoolArrayToByteArray(v),b=At.getEncodedData(v),N=new Ve(_,b,null,null);return N.setNumBits(v.length),N}static highLevelDecode(l){return this.getEncodedData(l)}static getEncodedData(l){let h=l.length,g=Ge.UPPER,v=Ge.UPPER,_="",b=0;for(;b<h;)if(v===Ge.BINARY){if(h-b<5)break;let N=At.readCode(l,b,5);if(b+=5,N===0){if(h-b<11)break;N=At.readCode(l,b,11)+31,b+=11}for(let D=0;D<N;D++){if(h-b<8){b=h;break}const z=At.readCode(l,b,8);_+=q.castAsNonUtf8Char(z),b+=8}v=g}else{let N=v===Ge.DIGIT?4:5;if(h-b<N)break;let D=At.readCode(l,b,N);b+=N;let z=At.getCharacter(v,D);z.startsWith("CTRL_")?(g=v,v=At.getTable(z.charAt(5)),z.charAt(6)==="L"&&(g=v)):(_+=z,v=g)}return _}static getTable(l){switch(l){case"L":return Ge.LOWER;case"P":return Ge.PUNCT;case"M":return Ge.MIXED;case"D":return Ge.DIGIT;case"B":return Ge.BINARY;case"U":default:return Ge.UPPER}}static getCharacter(l,h){switch(l){case Ge.UPPER:return At.UPPER_TABLE[h];case Ge.LOWER:return At.LOWER_TABLE[h];case Ge.MIXED:return At.MIXED_TABLE[h];case Ge.PUNCT:return At.PUNCT_TABLE[h];case Ge.DIGIT:return At.DIGIT_TABLE[h];default:throw new le("Bad table")}}correctBits(l){let h,g;this.ddata.getNbLayers()<=2?(g=6,h=St.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(g=8,h=St.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(g=10,h=St.AZTEC_DATA_10):(g=12,h=St.AZTEC_DATA_12);let v=this.ddata.getNbDatablocks(),_=l.length/g;if(_<v)throw new F;let b=l.length%g,N=new Int32Array(_);for(let _e=0;_e<_;_e++,b+=g)N[_e]=At.readCode(l,b,g);try{new ot(h).decode(N,_-v)}catch(_e){throw new F(_e)}let D=(1<<g)-1,z=0;for(let _e=0;_e<v;_e++){let Pe=N[_e];if(Pe===0||Pe===D)throw new F;(Pe===1||Pe===D-1)&&z++}let ee=new Array(v*g-z),fe=0;for(let _e=0;_e<v;_e++){let Pe=N[_e];if(Pe===1||Pe===D-1)ee.fill(Pe>1,fe,fe+g-1),fe+=g-1;else for(let qe=g-1;qe>=0;--qe)ee[fe++]=(Pe&1<<qe)!==0}return ee}extractBits(l){let h=this.ddata.isCompact(),g=this.ddata.getNbLayers(),v=(h?11:14)+g*4,_=new Int32Array(v),b=new Array(this.totalBitsInLayer(g,h));if(h)for(let N=0;N<_.length;N++)_[N]=N;else{let N=v+1+2*k.truncDivision(k.truncDivision(v,2)-1,15),D=v/2,z=k.truncDivision(N,2);for(let ee=0;ee<D;ee++){let fe=ee+k.truncDivision(ee,15);_[D-ee-1]=z-fe-1,_[D+ee]=z+fe+1}}for(let N=0,D=0;N<g;N++){let z=(g-N)*4+(h?9:12),ee=N*2,fe=v-1-ee;for(let _e=0;_e<z;_e++){let Pe=_e*2;for(let qe=0;qe<2;qe++)b[D+Pe+qe]=l.get(_[ee+qe],_[ee+_e]),b[D+2*z+Pe+qe]=l.get(_[ee+_e],_[fe-qe]),b[D+4*z+Pe+qe]=l.get(_[fe-qe],_[fe-_e]),b[D+6*z+Pe+qe]=l.get(_[fe-_e],_[ee+qe])}D+=z*8}return b}static readCode(l,h,g){let v=0;for(let _=h;_<h+g;_++)v<<=1,l[_]&&(v|=1);return v}static readByte(l,h){let g=l.length-h;return g>=8?At.readCode(l,h,8):At.readCode(l,h,g)<<8-g}static convertBoolArrayToByteArray(l){let h=new Uint8Array((l.length+7)/8);for(let g=0;g<h.length;g++)h[g]=At.readByte(l,8*g);return h}totalBitsInLayer(l,h){return((h?88:112)+16*l)*l}}At.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],At.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],At.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],At.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],At.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class Je{constructor(){}static round(l){return l===NaN?0:l<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:l>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:l+(l<0?-.5:.5)|0}static distance(l,h,g,v){const _=l-g,b=h-v;return Math.sqrt(_*_+b*b)}static sum(l){let h=0;for(let g=0,v=l.length;g!==v;g++){const _=l[g];h+=_}return h}}class Zt{static floatToIntBits(l){return l}}Zt.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Xe{constructor(l,h){this.x=l,this.y=h}getX(){return this.x}getY(){return this.y}equals(l){if(l instanceof Xe){const h=l;return this.x===h.x&&this.y===h.y}return!1}hashCode(){return 31*Zt.floatToIntBits(this.x)+Zt.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(l){const h=this.distance(l[0],l[1]),g=this.distance(l[1],l[2]),v=this.distance(l[0],l[2]);let _,b,N;if(g>=h&&g>=v?(b=l[0],_=l[1],N=l[2]):v>=g&&v>=h?(b=l[1],_=l[0],N=l[2]):(b=l[2],_=l[0],N=l[1]),this.crossProductZ(_,b,N)<0){const D=_;_=N,N=D}l[0]=_,l[1]=b,l[2]=N}static distance(l,h){return Je.distance(l.x,l.y,h.x,h.y)}static crossProductZ(l,h,g){const v=h.x,_=h.y;return(g.x-v)*(l.y-_)-(g.y-_)*(l.x-v)}}class Ft{constructor(l,h){this.bits=l,this.points=h}getBits(){return this.bits}getPoints(){return this.points}}class fn extends Ft{constructor(l,h,g,v,_){super(l,h),this.compact=g,this.nbDatablocks=v,this.nbLayers=_}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class tn{constructor(l,h,g,v){this.image=l,this.height=l.getHeight(),this.width=l.getWidth(),h==null&&(h=tn.INIT_SIZE),g==null&&(g=l.getWidth()/2|0),v==null&&(v=l.getHeight()/2|0);const _=h/2|0;if(this.leftInit=g-_,this.rightInit=g+_,this.upInit=v-_,this.downInit=v+_,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new pe}detect(){let l=this.leftInit,h=this.rightInit,g=this.upInit,v=this.downInit,_=!1,b=!0,N=!1,D=!1,z=!1,ee=!1,fe=!1;const _e=this.width,Pe=this.height;for(;b;){b=!1;let qe=!0;for(;(qe||!D)&&h<_e;)qe=this.containsBlackPoint(g,v,h,!1),qe?(h++,b=!0,D=!0):D||h++;if(h>=_e){_=!0;break}let Ke=!0;for(;(Ke||!z)&&v<Pe;)Ke=this.containsBlackPoint(l,h,v,!0),Ke?(v++,b=!0,z=!0):z||v++;if(v>=Pe){_=!0;break}let rt=!0;for(;(rt||!ee)&&l>=0;)rt=this.containsBlackPoint(g,v,l,!1),rt?(l--,b=!0,ee=!0):ee||l--;if(l<0){_=!0;break}let _t=!0;for(;(_t||!fe)&&g>=0;)_t=this.containsBlackPoint(l,h,g,!0),_t?(g--,b=!0,fe=!0):fe||g--;if(g<0){_=!0;break}b&&(N=!0)}if(!_&&N){const qe=h-l;let Ke=null;for(let Ut=1;Ke===null&&Ut<qe;Ut++)Ke=this.getBlackPointOnSegment(l,v-Ut,l+Ut,v);if(Ke==null)throw new pe;let rt=null;for(let Ut=1;rt===null&&Ut<qe;Ut++)rt=this.getBlackPointOnSegment(l,g+Ut,l+Ut,g);if(rt==null)throw new pe;let _t=null;for(let Ut=1;_t===null&&Ut<qe;Ut++)_t=this.getBlackPointOnSegment(h,g+Ut,h-Ut,g);if(_t==null)throw new pe;let Bt=null;for(let Ut=1;Bt===null&&Ut<qe;Ut++)Bt=this.getBlackPointOnSegment(h,v-Ut,h-Ut,v);if(Bt==null)throw new pe;return this.centerEdges(Bt,Ke,_t,rt)}else throw new pe}getBlackPointOnSegment(l,h,g,v){const _=Je.round(Je.distance(l,h,g,v)),b=(g-l)/_,N=(v-h)/_,D=this.image;for(let z=0;z<_;z++){const ee=Je.round(l+z*b),fe=Je.round(h+z*N);if(D.get(ee,fe))return new Xe(ee,fe)}return null}centerEdges(l,h,g,v){const _=l.getX(),b=l.getY(),N=h.getX(),D=h.getY(),z=g.getX(),ee=g.getY(),fe=v.getX(),_e=v.getY(),Pe=tn.CORR;return _<this.width/2?[new Xe(fe-Pe,_e+Pe),new Xe(N+Pe,D+Pe),new Xe(z-Pe,ee-Pe),new Xe(_+Pe,b-Pe)]:[new Xe(fe+Pe,_e+Pe),new Xe(N+Pe,D-Pe),new Xe(z-Pe,ee+Pe),new Xe(_-Pe,b-Pe)]}containsBlackPoint(l,h,g,v){const _=this.image;if(v){for(let b=l;b<=h;b++)if(_.get(b,g))return!0}else for(let b=l;b<=h;b++)if(_.get(g,b))return!0;return!1}}tn.INIT_SIZE=10,tn.CORR=1;class yn{static checkAndNudgePoints(l,h){const g=l.getWidth(),v=l.getHeight();let _=!0;for(let b=0;b<h.length&&_;b+=2){const N=Math.floor(h[b]),D=Math.floor(h[b+1]);if(N<-1||N>g||D<-1||D>v)throw new pe;_=!1,N===-1?(h[b]=0,_=!0):N===g&&(h[b]=g-1,_=!0),D===-1?(h[b+1]=0,_=!0):D===v&&(h[b+1]=v-1,_=!0)}_=!0;for(let b=h.length-2;b>=0&&_;b-=2){const N=Math.floor(h[b]),D=Math.floor(h[b+1]);if(N<-1||N>g||D<-1||D>v)throw new pe;_=!1,N===-1?(h[b]=0,_=!0):N===g&&(h[b]=g-1,_=!0),D===-1?(h[b+1]=0,_=!0):D===v&&(h[b+1]=v-1,_=!0)}}}class cn{constructor(l,h,g,v,_,b,N,D,z){this.a11=l,this.a21=h,this.a31=g,this.a12=v,this.a22=_,this.a32=b,this.a13=N,this.a23=D,this.a33=z}static quadrilateralToQuadrilateral(l,h,g,v,_,b,N,D,z,ee,fe,_e,Pe,qe,Ke,rt){const _t=cn.quadrilateralToSquare(l,h,g,v,_,b,N,D);return cn.squareToQuadrilateral(z,ee,fe,_e,Pe,qe,Ke,rt).times(_t)}transformPoints(l){const h=l.length,g=this.a11,v=this.a12,_=this.a13,b=this.a21,N=this.a22,D=this.a23,z=this.a31,ee=this.a32,fe=this.a33;for(let _e=0;_e<h;_e+=2){const Pe=l[_e],qe=l[_e+1],Ke=_*Pe+D*qe+fe;l[_e]=(g*Pe+b*qe+z)/Ke,l[_e+1]=(v*Pe+N*qe+ee)/Ke}}transformPointsWithValues(l,h){const g=this.a11,v=this.a12,_=this.a13,b=this.a21,N=this.a22,D=this.a23,z=this.a31,ee=this.a32,fe=this.a33,_e=l.length;for(let Pe=0;Pe<_e;Pe++){const qe=l[Pe],Ke=h[Pe],rt=_*qe+D*Ke+fe;l[Pe]=(g*qe+b*Ke+z)/rt,h[Pe]=(v*qe+N*Ke+ee)/rt}}static squareToQuadrilateral(l,h,g,v,_,b,N,D){const z=l-g+_-N,ee=h-v+b-D;if(z===0&&ee===0)return new cn(g-l,_-g,l,v-h,b-v,h,0,0,1);{const fe=g-_,_e=N-_,Pe=v-b,qe=D-b,Ke=fe*qe-_e*Pe,rt=(z*qe-_e*ee)/Ke,_t=(fe*ee-z*Pe)/Ke;return new cn(g-l+rt*g,N-l+_t*N,l,v-h+rt*v,D-h+_t*D,h,rt,_t,1)}}static quadrilateralToSquare(l,h,g,v,_,b,N,D){return cn.squareToQuadrilateral(l,h,g,v,_,b,N,D).buildAdjoint()}buildAdjoint(){return new cn(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(l){return new cn(this.a11*l.a11+this.a21*l.a12+this.a31*l.a13,this.a11*l.a21+this.a21*l.a22+this.a31*l.a23,this.a11*l.a31+this.a21*l.a32+this.a31*l.a33,this.a12*l.a11+this.a22*l.a12+this.a32*l.a13,this.a12*l.a21+this.a22*l.a22+this.a32*l.a23,this.a12*l.a31+this.a22*l.a32+this.a32*l.a33,this.a13*l.a11+this.a23*l.a12+this.a33*l.a13,this.a13*l.a21+this.a23*l.a22+this.a33*l.a23,this.a13*l.a31+this.a23*l.a32+this.a33*l.a33)}}class wn extends yn{sampleGrid(l,h,g,v,_,b,N,D,z,ee,fe,_e,Pe,qe,Ke,rt,_t,Bt,Ut){const Pt=cn.quadrilateralToQuadrilateral(v,_,b,N,D,z,ee,fe,_e,Pe,qe,Ke,rt,_t,Bt,Ut);return this.sampleGridWithTransform(l,h,g,Pt)}sampleGridWithTransform(l,h,g,v){if(h<=0||g<=0)throw new pe;const _=new ne(h,g),b=new Float32Array(2*h);for(let N=0;N<g;N++){const D=b.length,z=N+.5;for(let ee=0;ee<D;ee+=2)b[ee]=ee/2+.5,b[ee+1]=z;v.transformPoints(b),yn.checkAndNudgePoints(l,b);try{for(let ee=0;ee<D;ee+=2)l.get(Math.floor(b[ee]),Math.floor(b[ee+1]))&&_.set(ee/2,N)}catch{throw new pe}}return _}}class gn{static setGridSampler(l){gn.gridSampler=l}static getInstance(){return gn.gridSampler}}gn.gridSampler=new wn;class sn{constructor(l,h){this.x=l,this.y=h}toResultPoint(){return new Xe(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class bn{constructor(l){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=l}detect(){return this.detectMirror(!1)}detectMirror(l){let h=this.getMatrixCenter(),g=this.getBullsEyeCorners(h);if(l){let b=g[0];g[0]=g[2],g[2]=b}this.extractParameters(g);let v=this.sampleGrid(this.image,g[this.shift%4],g[(this.shift+1)%4],g[(this.shift+2)%4],g[(this.shift+3)%4]),_=this.getMatrixCornerPoints(g);return new fn(v,_,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(l){if(!this.isValidPoint(l[0])||!this.isValidPoint(l[1])||!this.isValidPoint(l[2])||!this.isValidPoint(l[3]))throw new pe;let h=2*this.nbCenterLayers,g=new Int32Array([this.sampleLine(l[0],l[1],h),this.sampleLine(l[1],l[2],h),this.sampleLine(l[2],l[3],h),this.sampleLine(l[3],l[0],h)]);this.shift=this.getRotation(g,h);let v=0;for(let b=0;b<4;b++){let N=g[(this.shift+b)%4];this.compact?(v<<=7,v+=N>>1&127):(v<<=10,v+=(N>>2&992)+(N>>1&31))}let _=this.getCorrectedParameterData(v,this.compact);this.compact?(this.nbLayers=(_>>6)+1,this.nbDataBlocks=(_&63)+1):(this.nbLayers=(_>>11)+1,this.nbDataBlocks=(_&2047)+1)}getRotation(l,h){let g=0;l.forEach((v,_,b)=>{let N=(v>>h-2<<1)+(v&1);g=(g<<3)+N}),g=((g&1)<<11)+(g>>1);for(let v=0;v<4;v++)if(k.bitCount(g^this.EXPECTED_CORNER_BITS[v])<=2)return v;throw new pe}getCorrectedParameterData(l,h){let g,v;h?(g=7,v=2):(g=10,v=4);let _=g-v,b=new Int32Array(g);for(let D=g-1;D>=0;--D)b[D]=l&15,l>>=4;try{new ot(St.AZTEC_PARAM).decode(b,_)}catch{throw new pe}let N=0;for(let D=0;D<v;D++)N=(N<<4)+b[D];return N}getBullsEyeCorners(l){let h=l,g=l,v=l,_=l,b=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let fe=this.getFirstDifferent(h,b,1,-1),_e=this.getFirstDifferent(g,b,1,1),Pe=this.getFirstDifferent(v,b,-1,1),qe=this.getFirstDifferent(_,b,-1,-1);if(this.nbCenterLayers>2){let Ke=this.distancePoint(qe,fe)*this.nbCenterLayers/(this.distancePoint(_,h)*(this.nbCenterLayers+2));if(Ke<.75||Ke>1.25||!this.isWhiteOrBlackRectangle(fe,_e,Pe,qe))break}h=fe,g=_e,v=Pe,_=qe,b=!b}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new pe;this.compact=this.nbCenterLayers===5;let N=new Xe(h.getX()+.5,h.getY()-.5),D=new Xe(g.getX()+.5,g.getY()+.5),z=new Xe(v.getX()-.5,v.getY()+.5),ee=new Xe(_.getX()-.5,_.getY()-.5);return this.expandSquare([N,D,z,ee],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let l,h,g,v;try{let N=new tn(this.image).detect();l=N[0],h=N[1],g=N[2],v=N[3]}catch{let D=this.image.getWidth()/2,z=this.image.getHeight()/2;l=this.getFirstDifferent(new sn(D+7,z-7),!1,1,-1).toResultPoint(),h=this.getFirstDifferent(new sn(D+7,z+7),!1,1,1).toResultPoint(),g=this.getFirstDifferent(new sn(D-7,z+7),!1,-1,1).toResultPoint(),v=this.getFirstDifferent(new sn(D-7,z-7),!1,-1,-1).toResultPoint()}let _=Je.round((l.getX()+v.getX()+h.getX()+g.getX())/4),b=Je.round((l.getY()+v.getY()+h.getY()+g.getY())/4);try{let N=new tn(this.image,15,_,b).detect();l=N[0],h=N[1],g=N[2],v=N[3]}catch{l=this.getFirstDifferent(new sn(_+7,b-7),!1,1,-1).toResultPoint(),h=this.getFirstDifferent(new sn(_+7,b+7),!1,1,1).toResultPoint(),g=this.getFirstDifferent(new sn(_-7,b+7),!1,-1,1).toResultPoint(),v=this.getFirstDifferent(new sn(_-7,b-7),!1,-1,-1).toResultPoint()}return _=Je.round((l.getX()+v.getX()+h.getX()+g.getX())/4),b=Je.round((l.getY()+v.getY()+h.getY()+g.getY())/4),new sn(_,b)}getMatrixCornerPoints(l){return this.expandSquare(l,2*this.nbCenterLayers,this.getDimension())}sampleGrid(l,h,g,v,_){let b=gn.getInstance(),N=this.getDimension(),D=N/2-this.nbCenterLayers,z=N/2+this.nbCenterLayers;return b.sampleGrid(l,N,N,D,D,z,D,z,z,D,z,h.getX(),h.getY(),g.getX(),g.getY(),v.getX(),v.getY(),_.getX(),_.getY())}sampleLine(l,h,g){let v=0,_=this.distanceResultPoint(l,h),b=_/g,N=l.getX(),D=l.getY(),z=b*(h.getX()-l.getX())/_,ee=b*(h.getY()-l.getY())/_;for(let fe=0;fe<g;fe++)this.image.get(Je.round(N+fe*z),Je.round(D+fe*ee))&&(v|=1<<g-fe-1);return v}isWhiteOrBlackRectangle(l,h,g,v){let _=3;l=new sn(l.getX()-_,l.getY()+_),h=new sn(h.getX()-_,h.getY()-_),g=new sn(g.getX()+_,g.getY()-_),v=new sn(v.getX()+_,v.getY()+_);let b=this.getColor(v,l);if(b===0)return!1;let N=this.getColor(l,h);return N!==b||(N=this.getColor(h,g),N!==b)?!1:(N=this.getColor(g,v),N===b)}getColor(l,h){let g=this.distancePoint(l,h),v=(h.getX()-l.getX())/g,_=(h.getY()-l.getY())/g,b=0,N=l.getX(),D=l.getY(),z=this.image.get(l.getX(),l.getY()),ee=Math.ceil(g);for(let _e=0;_e<ee;_e++)N+=v,D+=_,this.image.get(Je.round(N),Je.round(D))!==z&&b++;let fe=b/g;return fe>.1&&fe<.9?0:fe<=.1===z?1:-1}getFirstDifferent(l,h,g,v){let _=l.getX()+g,b=l.getY()+v;for(;this.isValid(_,b)&&this.image.get(_,b)===h;)_+=g,b+=v;for(_-=g,b-=v;this.isValid(_,b)&&this.image.get(_,b)===h;)_+=g;for(_-=g;this.isValid(_,b)&&this.image.get(_,b)===h;)b+=v;return b-=v,new sn(_,b)}expandSquare(l,h,g){let v=g/(2*h),_=l[0].getX()-l[2].getX(),b=l[0].getY()-l[2].getY(),N=(l[0].getX()+l[2].getX())/2,D=(l[0].getY()+l[2].getY())/2,z=new Xe(N+v*_,D+v*b),ee=new Xe(N-v*_,D-v*b);_=l[1].getX()-l[3].getX(),b=l[1].getY()-l[3].getY(),N=(l[1].getX()+l[3].getX())/2,D=(l[1].getY()+l[3].getY())/2;let fe=new Xe(N+v*_,D+v*b),_e=new Xe(N-v*_,D-v*b);return[z,fe,ee,_e]}isValid(l,h){return l>=0&&l<this.image.getWidth()&&h>0&&h<this.image.getHeight()}isValidPoint(l){let h=Je.round(l.getX()),g=Je.round(l.getY());return this.isValid(h,g)}distancePoint(l,h){return Je.distance(l.getX(),l.getY(),h.getX(),h.getY())}distanceResultPoint(l,h){return Je.distance(l.getX(),l.getY(),h.getX(),h.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(k.truncDivision(this.nbLayers-4,8)+1)+15}}class un{decode(l,h=null){let g=null,v=new bn(l.getBlackMatrix()),_=null,b=null;try{let ee=v.detectMirror(!1);_=ee.getPoints(),this.reportFoundResultPoints(h,_),b=new At().decode(ee)}catch(ee){g=ee}if(b==null)try{let ee=v.detectMirror(!0);_=ee.getPoints(),this.reportFoundResultPoints(h,_),b=new At().decode(ee)}catch(ee){throw g??ee}let N=new Z(b.getText(),b.getRawBytes(),b.getNumBits(),_,de.AZTEC,C.currentTimeMillis()),D=b.getByteSegments();D!=null&&N.putMetadata(Ue.BYTE_SEGMENTS,D);let z=b.getECLevel();return z!=null&&N.putMetadata(Ue.ERROR_CORRECTION_LEVEL,z),N}reportFoundResultPoints(l,h){if(l!=null){let g=l.get(re.NEED_RESULT_POINT_CALLBACK);g!=null&&h.forEach((v,_,b)=>{g.foundPossibleResultPoint(v)})}}reset(){}}class nr extends J{constructor(l=500){super(new un,l)}}class rn{decode(l,h){try{return this.doDecode(l,h)}catch{if(h&&h.get(re.TRY_HARDER)===!0&&l.isRotateSupported()){const _=l.rotateCounterClockwise(),b=this.doDecode(_,h),N=b.getResultMetadata();let D=270;N!==null&&N.get(Ue.ORIENTATION)===!0&&(D=D+N.get(Ue.ORIENTATION)%360),b.putMetadata(Ue.ORIENTATION,D);const z=b.getResultPoints();if(z!==null){const ee=_.getHeight();for(let fe=0;fe<z.length;fe++)z[fe]=new Xe(ee-z[fe].getY()-1,z[fe].getX())}return b}else throw new pe}}reset(){}doDecode(l,h){const g=l.getWidth(),v=l.getHeight();let _=new G(g);const b=h&&h.get(re.TRY_HARDER)===!0,N=Math.max(1,v>>(b?8:5));let D;b?D=v:D=15;const z=Math.trunc(v/2);for(let ee=0;ee<D;ee++){const fe=Math.trunc((ee+1)/2),_e=(ee&1)===0,Pe=z+N*(_e?fe:-fe);if(Pe<0||Pe>=v)break;try{_=l.getBlackRow(Pe,_)}catch{continue}for(let qe=0;qe<2;qe++){if(qe===1&&(_.reverse(),h&&h.get(re.NEED_RESULT_POINT_CALLBACK)===!0)){const Ke=new Map;h.forEach((rt,_t)=>Ke.set(_t,rt)),Ke.delete(re.NEED_RESULT_POINT_CALLBACK),h=Ke}try{const Ke=this.decodeRow(Pe,_,h);if(qe===1){Ke.putMetadata(Ue.ORIENTATION,180);const rt=Ke.getResultPoints();rt!==null&&(rt[0]=new Xe(g-rt[0].getX()-1,rt[0].getY()),rt[1]=new Xe(g-rt[1].getX()-1,rt[1].getY()))}return Ke}catch{}}}throw new pe}static recordPattern(l,h,g){const v=g.length;for(let z=0;z<v;z++)g[z]=0;const _=l.getSize();if(h>=_)throw new pe;let b=!l.get(h),N=0,D=h;for(;D<_;){if(l.get(D)!==b)g[N]++;else{if(++N===v)break;g[N]=1,b=!b}D++}if(!(N===v||N===v-1&&D===_))throw new pe}static recordPatternInReverse(l,h,g){let v=g.length,_=l.get(h);for(;h>0&&v>=0;)l.get(--h)!==_&&(v--,_=!_);if(v>=0)throw new pe;rn.recordPattern(l,h+1,g)}static patternMatchVariance(l,h,g){const v=l.length;let _=0,b=0;for(let z=0;z<v;z++)_+=l[z],b+=h[z];if(_<b)return Number.POSITIVE_INFINITY;const N=_/b;g*=N;let D=0;for(let z=0;z<v;z++){const ee=l[z],fe=h[z]*N,_e=ee>fe?ee-fe:fe-ee;if(_e>g)return Number.POSITIVE_INFINITY;D+=_e}return D/_}}class dt extends rn{static findStartPattern(l){const h=l.getSize(),g=l.getNextSet(0);let v=0,_=Int32Array.from([0,0,0,0,0,0]),b=g,N=!1;const D=6;for(let z=g;z<h;z++)if(l.get(z)!==N)_[v]++;else{if(v===D-1){let ee=dt.MAX_AVG_VARIANCE,fe=-1;for(let _e=dt.CODE_START_A;_e<=dt.CODE_START_C;_e++){const Pe=rn.patternMatchVariance(_,dt.CODE_PATTERNS[_e],dt.MAX_INDIVIDUAL_VARIANCE);Pe<ee&&(ee=Pe,fe=_e)}if(fe>=0&&l.isRange(Math.max(0,b-(z-b)/2),b,!1))return Int32Array.from([b,z,fe]);b+=_[0]+_[1],_=_.slice(2,_.length-1),_[v-1]=0,_[v]=0,v--}else v++;_[v]=1,N=!N}throw new pe}static decodeCode(l,h,g){rn.recordPattern(l,g,h);let v=dt.MAX_AVG_VARIANCE,_=-1;for(let b=0;b<dt.CODE_PATTERNS.length;b++){const N=dt.CODE_PATTERNS[b],D=this.patternMatchVariance(h,N,dt.MAX_INDIVIDUAL_VARIANCE);D<v&&(v=D,_=b)}if(_>=0)return _;throw new pe}decodeRow(l,h,g){const v=g&&g.get(re.ASSUME_GS1)===!0,_=dt.findStartPattern(h),b=_[2];let N=0;const D=new Uint8Array(20);D[N++]=b;let z;switch(b){case dt.CODE_START_A:z=dt.CODE_CODE_A;break;case dt.CODE_START_B:z=dt.CODE_CODE_B;break;case dt.CODE_START_C:z=dt.CODE_CODE_C;break;default:throw new F}let ee=!1,fe=!1,_e="",Pe=_[0],qe=_[1];const Ke=Int32Array.from([0,0,0,0,0,0]);let rt=0,_t=0,Bt=b,Ut=0,Pt=!0,zn=!1,Jn=!1;for(;!ee;){const zl=fe;switch(fe=!1,rt=_t,_t=dt.decodeCode(h,Ke,qe),D[N++]=_t,_t!==dt.CODE_STOP&&(Pt=!0),_t!==dt.CODE_STOP&&(Ut++,Bt+=Ut*_t),Pe=qe,qe+=Ke.reduce((cf,sc)=>cf+sc,0),_t){case dt.CODE_START_A:case dt.CODE_START_B:case dt.CODE_START_C:throw new F}switch(z){case dt.CODE_CODE_A:if(_t<64)Jn===zn?_e+=String.fromCharCode(32+_t):_e+=String.fromCharCode(32+_t+128),Jn=!1;else if(_t<96)Jn===zn?_e+=String.fromCharCode(_t-64):_e+=String.fromCharCode(_t+64),Jn=!1;else switch(_t!==dt.CODE_STOP&&(Pt=!1),_t){case dt.CODE_FNC_1:v&&(_e.length===0?_e+="]C1":_e+="");break;case dt.CODE_FNC_2:case dt.CODE_FNC_3:break;case dt.CODE_FNC_4_A:!zn&&Jn?(zn=!0,Jn=!1):zn&&Jn?(zn=!1,Jn=!1):Jn=!0;break;case dt.CODE_SHIFT:fe=!0,z=dt.CODE_CODE_B;break;case dt.CODE_CODE_B:z=dt.CODE_CODE_B;break;case dt.CODE_CODE_C:z=dt.CODE_CODE_C;break;case dt.CODE_STOP:ee=!0;break}break;case dt.CODE_CODE_B:if(_t<96)Jn===zn?_e+=String.fromCharCode(32+_t):_e+=String.fromCharCode(32+_t+128),Jn=!1;else switch(_t!==dt.CODE_STOP&&(Pt=!1),_t){case dt.CODE_FNC_1:v&&(_e.length===0?_e+="]C1":_e+="");break;case dt.CODE_FNC_2:case dt.CODE_FNC_3:break;case dt.CODE_FNC_4_B:!zn&&Jn?(zn=!0,Jn=!1):zn&&Jn?(zn=!1,Jn=!1):Jn=!0;break;case dt.CODE_SHIFT:fe=!0,z=dt.CODE_CODE_A;break;case dt.CODE_CODE_A:z=dt.CODE_CODE_A;break;case dt.CODE_CODE_C:z=dt.CODE_CODE_C;break;case dt.CODE_STOP:ee=!0;break}break;case dt.CODE_CODE_C:if(_t<100)_t<10&&(_e+="0"),_e+=_t;else switch(_t!==dt.CODE_STOP&&(Pt=!1),_t){case dt.CODE_FNC_1:v&&(_e.length===0?_e+="]C1":_e+="");break;case dt.CODE_CODE_A:z=dt.CODE_CODE_A;break;case dt.CODE_CODE_B:z=dt.CODE_CODE_B;break;case dt.CODE_STOP:ee=!0;break}break}zl&&(z=z===dt.CODE_CODE_A?dt.CODE_CODE_B:dt.CODE_CODE_A)}const Mi=qe-Pe;if(qe=h.getNextUnset(qe),!h.isRange(qe,Math.min(h.getSize(),qe+(qe-Pe)/2),!1))throw new pe;if(Bt-=Ut*rt,Bt%103!==rt)throw new E;const Ws=_e.length;if(Ws===0)throw new pe;Ws>0&&Pt&&(z===dt.CODE_CODE_C?_e=_e.substring(0,Ws-2):_e=_e.substring(0,Ws-1));const Ns=(_[1]+_[0])/2,ri=Pe+Mi/2,Cs=D.length,Ba=new Uint8Array(Cs);for(let zl=0;zl<Cs;zl++)Ba[zl]=D[zl];const ic=[new Xe(Ns,l),new Xe(ri,l)];return new Z(_e,Ba,0,ic,de.CODE_128,new Date().getTime())}}dt.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],dt.MAX_AVG_VARIANCE=.25,dt.MAX_INDIVIDUAL_VARIANCE=.7,dt.CODE_SHIFT=98,dt.CODE_CODE_C=99,dt.CODE_CODE_B=100,dt.CODE_CODE_A=101,dt.CODE_FNC_1=102,dt.CODE_FNC_2=97,dt.CODE_FNC_3=96,dt.CODE_FNC_4_A=101,dt.CODE_FNC_4_B=100,dt.CODE_START_A=103,dt.CODE_START_B=104,dt.CODE_START_C=105,dt.CODE_STOP=106;class Gt extends rn{constructor(l=!1,h=!1){super(),this.usingCheckDigit=l,this.extendedMode=h,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(l,h,g){let v=this.counters;v.fill(0),this.decodeRowResult="";let _=Gt.findAsteriskPattern(h,v),b=h.getNextSet(_[1]),N=h.getSize(),D,z;do{Gt.recordPattern(h,b,v);let Ke=Gt.toNarrowWidePattern(v);if(Ke<0)throw new pe;D=Gt.patternToChar(Ke),this.decodeRowResult+=D,z=b;for(let rt of v)b+=rt;b=h.getNextSet(b)}while(D!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let ee=0;for(let Ke of v)ee+=Ke;let fe=b-z-ee;if(b!==N&&fe*2<ee)throw new pe;if(this.usingCheckDigit){let Ke=this.decodeRowResult.length-1,rt=0;for(let _t=0;_t<Ke;_t++)rt+=Gt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(_t));if(this.decodeRowResult.charAt(Ke)!==Gt.ALPHABET_STRING.charAt(rt%43))throw new E;this.decodeRowResult=this.decodeRowResult.substring(0,Ke)}if(this.decodeRowResult.length===0)throw new pe;let _e;this.extendedMode?_e=Gt.decodeExtended(this.decodeRowResult):_e=this.decodeRowResult;let Pe=(_[1]+_[0])/2,qe=z+ee/2;return new Z(_e,null,0,[new Xe(Pe,l),new Xe(qe,l)],de.CODE_39,new Date().getTime())}static findAsteriskPattern(l,h){let g=l.getSize(),v=l.getNextSet(0),_=0,b=v,N=!1,D=h.length;for(let z=v;z<g;z++)if(l.get(z)!==N)h[_]++;else{if(_===D-1){if(this.toNarrowWidePattern(h)===Gt.ASTERISK_ENCODING&&l.isRange(Math.max(0,b-Math.floor((z-b)/2)),b,!1))return[b,z];b+=h[0]+h[1],h.copyWithin(0,2,2+_-1),h[_-1]=0,h[_]=0,_--}else _++;h[_]=1,N=!N}throw new pe}static toNarrowWidePattern(l){let h=l.length,g=0,v;do{let _=2147483647;for(let D of l)D<_&&D>g&&(_=D);g=_,v=0;let b=0,N=0;for(let D=0;D<h;D++){let z=l[D];z>g&&(N|=1<<h-1-D,v++,b+=z)}if(v===3){for(let D=0;D<h&&v>0;D++){let z=l[D];if(z>g&&(v--,z*2>=b))return-1}return N}}while(v>3);return-1}static patternToChar(l){for(let h=0;h<Gt.CHARACTER_ENCODINGS.length;h++)if(Gt.CHARACTER_ENCODINGS[h]===l)return Gt.ALPHABET_STRING.charAt(h);if(l===Gt.ASTERISK_ENCODING)return"*";throw new pe}static decodeExtended(l){let h=l.length,g="";for(let v=0;v<h;v++){let _=l.charAt(v);if(_==="+"||_==="$"||_==="%"||_==="/"){let b=l.charAt(v+1),N="\0";switch(_){case"+":if(b>="A"&&b<="Z")N=String.fromCharCode(b.charCodeAt(0)+32);else throw new F;break;case"$":if(b>="A"&&b<="Z")N=String.fromCharCode(b.charCodeAt(0)-64);else throw new F;break;case"%":if(b>="A"&&b<="E")N=String.fromCharCode(b.charCodeAt(0)-38);else if(b>="F"&&b<="J")N=String.fromCharCode(b.charCodeAt(0)-11);else if(b>="K"&&b<="O")N=String.fromCharCode(b.charCodeAt(0)+16);else if(b>="P"&&b<="T")N=String.fromCharCode(b.charCodeAt(0)+43);else if(b==="U")N="\0";else if(b==="V")N="@";else if(b==="W")N="`";else if(b==="X"||b==="Y"||b==="Z")N="";else throw new F;break;case"/":if(b>="A"&&b<="O")N=String.fromCharCode(b.charCodeAt(0)-32);else if(b==="Z")N=":";else throw new F;break}g+=N,v++}else g+=_}return g}}Gt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Gt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Gt.ASTERISK_ENCODING=148;class It extends rn{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(l,h,g){let v=this.decodeStart(h),_=this.decodeEnd(h),b=new Y;It.decodeMiddle(h,v[1],_[0],b);let N=b.toString(),D=null;g!=null&&(D=g.get(re.ALLOWED_LENGTHS)),D==null&&(D=It.DEFAULT_ALLOWED_LENGTHS);let z=N.length,ee=!1,fe=0;for(let qe of D){if(z===qe){ee=!0;break}qe>fe&&(fe=qe)}if(!ee&&z>fe&&(ee=!0),!ee)throw new F;const _e=[new Xe(v[1],l),new Xe(_[0],l)];return new Z(N,null,0,_e,de.ITF,new Date().getTime())}static decodeMiddle(l,h,g,v){let _=new Int32Array(10),b=new Int32Array(5),N=new Int32Array(5);for(_.fill(0),b.fill(0),N.fill(0);h<g;){rn.recordPattern(l,h,_);for(let z=0;z<5;z++){let ee=2*z;b[z]=_[ee],N[z]=_[ee+1]}let D=It.decodeDigit(b);v.append(D.toString()),D=this.decodeDigit(N),v.append(D.toString()),_.forEach(function(z){h+=z})}}decodeStart(l){let h=It.skipWhiteSpace(l),g=It.findGuardPattern(l,h,It.START_PATTERN);return this.narrowLineWidth=(g[1]-g[0])/4,this.validateQuietZone(l,g[0]),g}validateQuietZone(l,h){let g=this.narrowLineWidth*10;g=g<h?g:h;for(let v=h-1;g>0&&v>=0&&!l.get(v);v--)g--;if(g!==0)throw new pe}static skipWhiteSpace(l){const h=l.getSize(),g=l.getNextSet(0);if(g===h)throw new pe;return g}decodeEnd(l){l.reverse();try{let h=It.skipWhiteSpace(l),g;try{g=It.findGuardPattern(l,h,It.END_PATTERN_REVERSED[0])}catch(_){_ instanceof pe&&(g=It.findGuardPattern(l,h,It.END_PATTERN_REVERSED[1]))}this.validateQuietZone(l,g[0]);let v=g[0];return g[0]=l.getSize()-g[1],g[1]=l.getSize()-v,g}finally{l.reverse()}}static findGuardPattern(l,h,g){let v=g.length,_=new Int32Array(v),b=l.getSize(),N=!1,D=0,z=h;_.fill(0);for(let ee=h;ee<b;ee++)if(l.get(ee)!==N)_[D]++;else{if(D===v-1){if(rn.patternMatchVariance(_,g,It.MAX_INDIVIDUAL_VARIANCE)<It.MAX_AVG_VARIANCE)return[z,ee];z+=_[0]+_[1],C.arraycopy(_,2,_,0,D-1),_[D-1]=0,_[D]=0,D--}else D++;_[D]=1,N=!N}throw new pe}static decodeDigit(l){let h=It.MAX_AVG_VARIANCE,g=-1,v=It.PATTERNS.length;for(let _=0;_<v;_++){let b=It.PATTERNS[_],N=rn.patternMatchVariance(l,b,It.MAX_INDIVIDUAL_VARIANCE);N<h?(h=N,g=_):N===h&&(g=-1)}if(g>=0)return g%10;throw new pe}}It.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],It.MAX_AVG_VARIANCE=.38,It.MAX_INDIVIDUAL_VARIANCE=.5,It.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],It.START_PATTERN=Int32Array.from([1,1,1,1]),It.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class ln extends rn{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(l){let h=!1,g,v=0,_=Int32Array.from([0,0,0]);for(;!h;){_=Int32Array.from([0,0,0]),g=ln.findGuardPattern(l,v,!1,this.START_END_PATTERN,_);let b=g[0];v=g[1];let N=b-(v-b);N>=0&&(h=l.isRange(N,b,!1))}return g}static checkChecksum(l){return ln.checkStandardUPCEANChecksum(l)}static checkStandardUPCEANChecksum(l){let h=l.length;if(h===0)return!1;let g=parseInt(l.charAt(h-1),10);return ln.getStandardUPCEANChecksum(l.substring(0,h-1))===g}static getStandardUPCEANChecksum(l){let h=l.length,g=0;for(let v=h-1;v>=0;v-=2){let _=l.charAt(v).charCodeAt(0)-48;if(_<0||_>9)throw new F;g+=_}g*=3;for(let v=h-2;v>=0;v-=2){let _=l.charAt(v).charCodeAt(0)-48;if(_<0||_>9)throw new F;g+=_}return(1e3-g)%10}static decodeEnd(l,h){return ln.findGuardPattern(l,h,!1,ln.START_END_PATTERN,new Int32Array(ln.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(l,h,g,v){return this.findGuardPattern(l,h,g,v,new Int32Array(v.length))}static findGuardPattern(l,h,g,v,_){let b=l.getSize();h=g?l.getNextUnset(h):l.getNextSet(h);let N=0,D=h,z=v.length,ee=g;for(let fe=h;fe<b;fe++)if(l.get(fe)!==ee)_[N]++;else{if(N===z-1){if(rn.patternMatchVariance(_,v,ln.MAX_INDIVIDUAL_VARIANCE)<ln.MAX_AVG_VARIANCE)return Int32Array.from([D,fe]);D+=_[0]+_[1];let _e=_.slice(2,_.length-1);for(let Pe=0;Pe<N-1;Pe++)_[Pe]=_e[Pe];_[N-1]=0,_[N]=0,N--}else N++;_[N]=1,ee=!ee}throw new pe}static decodeDigit(l,h,g,v){this.recordPattern(l,g,h);let _=this.MAX_AVG_VARIANCE,b=-1,N=v.length;for(let D=0;D<N;D++){let z=v[D],ee=rn.patternMatchVariance(h,z,ln.MAX_INDIVIDUAL_VARIANCE);ee<_&&(_=ee,b=D)}if(b>=0)return b;throw new pe}}ln.MAX_AVG_VARIANCE=.48,ln.MAX_INDIVIDUAL_VARIANCE=.7,ln.START_END_PATTERN=Int32Array.from([1,1,1]),ln.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),ln.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),ln.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Xn{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(l,h,g){let v=this.decodeRowStringBuffer,_=this.decodeMiddle(h,g,v),b=v.toString(),N=Xn.parseExtensionString(b),D=[new Xe((g[0]+g[1])/2,l),new Xe(_,l)],z=new Z(b,null,0,D,de.UPC_EAN_EXTENSION,new Date().getTime());return N!=null&&z.putAllMetadata(N),z}decodeMiddle(l,h,g){let v=this.decodeMiddleCounters;v[0]=0,v[1]=0,v[2]=0,v[3]=0;let _=l.getSize(),b=h[1],N=0;for(let z=0;z<5&&b<_;z++){let ee=ln.decodeDigit(l,v,b,ln.L_AND_G_PATTERNS);g+=String.fromCharCode(48+ee%10);for(let fe of v)b+=fe;ee>=10&&(N|=1<<4-z),z!==4&&(b=l.getNextSet(b),b=l.getNextUnset(b))}if(g.length!==5)throw new pe;let D=this.determineCheckDigit(N);if(Xn.extensionChecksum(g.toString())!==D)throw new pe;return b}static extensionChecksum(l){let h=l.length,g=0;for(let v=h-2;v>=0;v-=2)g+=l.charAt(v).charCodeAt(0)-48;g*=3;for(let v=h-1;v>=0;v-=2)g+=l.charAt(v).charCodeAt(0)-48;return g*=3,g%10}determineCheckDigit(l){for(let h=0;h<10;h++)if(l===this.CHECK_DIGIT_ENCODINGS[h])return h;throw new pe}static parseExtensionString(l){if(l.length!==5)return null;let h=Xn.parseExtension5String(l);return h==null?null:new Map([[Ue.SUGGESTED_PRICE,h]])}static parseExtension5String(l){let h;switch(l.charAt(0)){case"0":h="";break;case"5":h="$";break;case"9":switch(l){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}h="";break;default:h="";break}let g=parseInt(l.substring(1)),v=(g/100).toString(),_=g%100,b=_<10?"0"+_:_.toString();return h+v+"."+b}}class mt{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(l,h,g){let v=this.decodeRowStringBuffer,_=this.decodeMiddle(h,g,v),b=v.toString(),N=mt.parseExtensionString(b),D=[new Xe((g[0]+g[1])/2,l),new Xe(_,l)],z=new Z(b,null,0,D,de.UPC_EAN_EXTENSION,new Date().getTime());return N!=null&&z.putAllMetadata(N),z}decodeMiddle(l,h,g){let v=this.decodeMiddleCounters;v[0]=0,v[1]=0,v[2]=0,v[3]=0;let _=l.getSize(),b=h[1],N=0;for(let D=0;D<2&&b<_;D++){let z=ln.decodeDigit(l,v,b,ln.L_AND_G_PATTERNS);g+=String.fromCharCode(48+z%10);for(let ee of v)b+=ee;z>=10&&(N|=1<<1-D),D!==1&&(b=l.getNextSet(b),b=l.getNextUnset(b))}if(g.length!==2)throw new pe;if(parseInt(g.toString())%4!==N)throw new pe;return b}static parseExtensionString(l){return l.length!==2?null:new Map([[Ue.ISSUE_NUMBER,parseInt(l)]])}}class Xt{static decodeRow(l,h,g){let v=ln.findGuardPattern(h,g,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Xn().decodeRow(l,h,v)}catch{return new mt().decodeRow(l,h,v)}}}Xt.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class on extends ln{constructor(){super(),this.decodeRowStringBuffer="",on.L_AND_G_PATTERNS=on.L_PATTERNS.map(l=>Int32Array.from(l));for(let l=10;l<20;l++){let h=on.L_PATTERNS[l-10],g=new Int32Array(h.length);for(let v=0;v<h.length;v++)g[v]=h[h.length-v-1];on.L_AND_G_PATTERNS[l]=g}}decodeRow(l,h,g){let v=on.findStartGuardPattern(h),_=g==null?null:g.get(re.NEED_RESULT_POINT_CALLBACK);if(_!=null){const Pt=new Xe((v[0]+v[1])/2,l);_.foundPossibleResultPoint(Pt)}let b=this.decodeMiddle(h,v,this.decodeRowStringBuffer),N=b.rowOffset,D=b.resultString;if(_!=null){const Pt=new Xe(N,l);_.foundPossibleResultPoint(Pt)}let z=this.decodeEnd(h,N);if(_!=null){const Pt=new Xe((z[0]+z[1])/2,l);_.foundPossibleResultPoint(Pt)}let ee=z[1],fe=ee+(ee-z[0]);if(fe>=h.getSize()||!h.isRange(ee,fe,!1))throw new pe;let _e=D.toString();if(_e.length<8)throw new F;if(!on.checkChecksum(_e))throw new E;let Pe=(v[1]+v[0])/2,qe=(z[1]+z[0])/2,Ke=this.getBarcodeFormat(),rt=[new Xe(Pe,l),new Xe(qe,l)],_t=new Z(_e,null,0,rt,Ke,new Date().getTime()),Bt=0;try{let Pt=Xt.decodeRow(l,h,z[1]);_t.putMetadata(Ue.UPC_EAN_EXTENSION,Pt.getText()),_t.putAllMetadata(Pt.getResultMetadata()),_t.addResultPoints(Pt.getResultPoints()),Bt=Pt.getText().length}catch{}let Ut=g==null?null:g.get(re.ALLOWED_EAN_EXTENSIONS);if(Ut!=null){let Pt=!1;for(let zn in Ut)if(Bt.toString()===zn){Pt=!0;break}if(!Pt)throw new pe}return _t}decodeEnd(l,h){return on.findGuardPattern(l,h,!1,on.START_END_PATTERN,new Int32Array(on.START_END_PATTERN.length).fill(0))}static checkChecksum(l){return on.checkStandardUPCEANChecksum(l)}static checkStandardUPCEANChecksum(l){let h=l.length;if(h===0)return!1;let g=parseInt(l.charAt(h-1),10);return on.getStandardUPCEANChecksum(l.substring(0,h-1))===g}static getStandardUPCEANChecksum(l){let h=l.length,g=0;for(let v=h-1;v>=0;v-=2){let _=l.charAt(v).charCodeAt(0)-48;if(_<0||_>9)throw new F;g+=_}g*=3;for(let v=h-2;v>=0;v-=2){let _=l.charAt(v).charCodeAt(0)-48;if(_<0||_>9)throw new F;g+=_}return(1e3-g)%10}}class hn extends on{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(l,h,g){let v=this.decodeMiddleCounters;v[0]=0,v[1]=0,v[2]=0,v[3]=0;let _=l.getSize(),b=h[1],N=0;for(let z=0;z<6&&b<_;z++){let ee=on.decodeDigit(l,v,b,on.L_AND_G_PATTERNS);g+=String.fromCharCode(48+ee%10);for(let fe of v)b+=fe;ee>=10&&(N|=1<<5-z)}g=hn.determineFirstDigit(g,N),b=on.findGuardPattern(l,b,!0,on.MIDDLE_PATTERN,new Int32Array(on.MIDDLE_PATTERN.length).fill(0))[1];for(let z=0;z<6&&b<_;z++){let ee=on.decodeDigit(l,v,b,on.L_PATTERNS);g+=String.fromCharCode(48+ee);for(let fe of v)b+=fe}return{rowOffset:b,resultString:g}}getBarcodeFormat(){return de.EAN_13}static determineFirstDigit(l,h){for(let g=0;g<10;g++)if(h===this.FIRST_DIGIT_ENCODINGS[g])return l=String.fromCharCode(48+g)+l,l;throw new pe}}hn.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class dn extends on{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(l,h,g){const v=this.decodeMiddleCounters;v[0]=0,v[1]=0,v[2]=0,v[3]=0;let _=l.getSize(),b=h[1];for(let D=0;D<4&&b<_;D++){let z=on.decodeDigit(l,v,b,on.L_PATTERNS);g+=String.fromCharCode(48+z);for(let ee of v)b+=ee}b=on.findGuardPattern(l,b,!0,on.MIDDLE_PATTERN,new Int32Array(on.MIDDLE_PATTERN.length).fill(0))[1];for(let D=0;D<4&&b<_;D++){let z=on.decodeDigit(l,v,b,on.L_PATTERNS);g+=String.fromCharCode(48+z);for(let ee of v)b+=ee}return{rowOffset:b,resultString:g}}getBarcodeFormat(){return de.EAN_8}}class Zn extends on{constructor(){super(...arguments),this.ean13Reader=new hn}getBarcodeFormat(){return de.UPC_A}decode(l,h){return this.maybeReturnResult(this.ean13Reader.decode(l))}decodeRow(l,h,g){return this.maybeReturnResult(this.ean13Reader.decodeRow(l,h,g))}decodeMiddle(l,h,g){return this.ean13Reader.decodeMiddle(l,h,g)}maybeReturnResult(l){let h=l.getText();if(h.charAt(0)==="0"){let g=new Z(h.substring(1),null,null,l.getResultPoints(),de.UPC_A);return l.getResultMetadata()!=null&&g.putAllMetadata(l.getResultMetadata()),g}else throw new pe}reset(){this.ean13Reader.reset()}}class Dr extends on{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(l,h,g){const v=this.decodeMiddleCounters.map(z=>z);v[0]=0,v[1]=0,v[2]=0,v[3]=0;const _=l.getSize();let b=h[1],N=0;for(let z=0;z<6&&b<_;z++){const ee=Dr.decodeDigit(l,v,b,Dr.L_AND_G_PATTERNS);g+=String.fromCharCode(48+ee%10);for(let fe of v)b+=fe;ee>=10&&(N|=1<<5-z)}let D=Dr.determineNumSysAndCheckDigit(g,N);return{rowOffset:b,resultString:D}}decodeEnd(l,h){return Dr.findGuardPatternWithoutCounters(l,h,!0,Dr.MIDDLE_END_PATTERN)}checkChecksum(l){return on.checkChecksum(Dr.convertUPCEtoUPCA(l))}static determineNumSysAndCheckDigit(l,h){for(let g=0;g<=1;g++)for(let v=0;v<10;v++)if(h===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[g][v]){let _=String.fromCharCode(48+g),b=String.fromCharCode(48+v);return _+l+b}throw pe.getNotFoundInstance()}getBarcodeFormat(){return de.UPC_E}static convertUPCEtoUPCA(l){const h=l.slice(1,7).split("").map(_=>_.charCodeAt(0)),g=new Y;g.append(l.charAt(0));let v=h[5];switch(v){case 0:case 1:case 2:g.appendChars(h,0,2),g.append(v),g.append("0000"),g.appendChars(h,2,3);break;case 3:g.appendChars(h,0,3),g.append("00000"),g.appendChars(h,3,2);break;case 4:g.appendChars(h,0,4),g.append("00000"),g.append(h[4]);break;default:g.appendChars(h,0,5),g.append("0000"),g.append(v);break}return l.length>=8&&g.append(l.charAt(7)),g.toString()}}Dr.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Dr.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class li extends rn{constructor(l){super();let h=l==null?null:l.get(re.POSSIBLE_FORMATS),g=[];r(h)?(g.push(new hn),g.push(new Zn),g.push(new dn),g.push(new Dr)):(h.indexOf(de.EAN_13)>-1&&g.push(new hn),h.indexOf(de.UPC_A)>-1&&g.push(new Zn),h.indexOf(de.EAN_8)>-1&&g.push(new dn),h.indexOf(de.UPC_E)>-1&&g.push(new Dr)),this.readers=g}decodeRow(l,h,g){for(let v of this.readers)try{const _=v.decodeRow(l,h,g),b=_.getBarcodeFormat()===de.EAN_13&&_.getText().charAt(0)==="0",N=g==null?null:g.get(re.POSSIBLE_FORMATS),D=N==null||N.includes(de.UPC_A);if(b&&D){const z=_.getRawBytes(),ee=new Z(_.getText().substring(1),z,z?z.length:null,_.getResultPoints(),de.UPC_A);return ee.putAllMetadata(_.getResultMetadata()),ee}return _}catch{}throw new pe}reset(){for(let l of this.readers)l.reset()}}class Lr extends rn{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(l,h){for(let g=0;g<h.length;g++)if(rn.patternMatchVariance(l,h[g],Lr.MAX_INDIVIDUAL_VARIANCE)<Lr.MAX_AVG_VARIANCE)return g;throw new pe}static count(l){return Je.sum(new Int32Array(l))}static increment(l,h){let g=0,v=h[0];for(let _=1;_<l.length;_++)h[_]>v&&(v=h[_],g=_);l[g]++}static decrement(l,h){let g=0,v=h[0];for(let _=1;_<l.length;_++)h[_]<v&&(v=h[_],g=_);l[g]--}static isFinderPattern(l){let h=l[0]+l[1],g=h+l[2]+l[3],v=h/g;if(v>=Lr.MIN_FINDER_PATTERN_RATIO&&v<=Lr.MAX_FINDER_PATTERN_RATIO){let _=Number.MAX_SAFE_INTEGER,b=Number.MIN_SAFE_INTEGER;for(let N of l)N>b&&(b=N),N<_&&(_=N);return b<10*_}return!1}}Lr.MAX_AVG_VARIANCE=.2,Lr.MAX_INDIVIDUAL_VARIANCE=.45,Lr.MIN_FINDER_PATTERN_RATIO=9.5/12,Lr.MAX_FINDER_PATTERN_RATIO=12.5/14;class Kr{constructor(l,h){this.value=l,this.checksumPortion=h}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(l){if(!(l instanceof Kr))return!1;const h=l;return this.value===h.value&&this.checksumPortion===h.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class On{constructor(l,h,g,v,_){this.value=l,this.startEnd=h,this.value=l,this.startEnd=h,this.resultPoints=new Array,this.resultPoints.push(new Xe(g,_)),this.resultPoints.push(new Xe(v,_))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(l){if(!(l instanceof On))return!1;const h=l;return this.value===h.value}hashCode(){return this.value}}class Ci{constructor(){}static getRSSvalue(l,h,g){let v=0;for(let D of l)v+=D;let _=0,b=0,N=l.length;for(let D=0;D<N-1;D++){let z;for(z=1,b|=1<<D;z<l[D];z++,b&=~(1<<D)){let ee=Ci.combins(v-z-1,N-D-2);if(g&&b===0&&v-z-(N-D-1)>=N-D-1&&(ee-=Ci.combins(v-z-(N-D),N-D-2)),N-D-1>1){let fe=0;for(let _e=v-z-(N-D-2);_e>h;_e--)fe+=Ci.combins(v-z-_e-1,N-D-3);ee-=fe*(N-1-D)}else v-z>h&&ee--;_+=ee}v-=z}return _}static combins(l,h){let g,v;l-h>h?(v=h,g=l-h):(v=l-h,g=h);let _=1,b=1;for(let N=l;N>g;N--)_*=N,b<=v&&(_/=b,b++);for(;b<=v;)_/=b,b++;return _}}class Qi{static buildBitArray(l){let h=l.length*2-1;l[l.length-1].getRightChar()==null&&(h-=1);let g=12*h,v=new G(g),_=0,N=l[0].getRightChar().getValue();for(let D=11;D>=0;--D)(N&1<<D)!=0&&v.set(_),_++;for(let D=1;D<l.length;++D){let z=l[D],ee=z.getLeftChar().getValue();for(let fe=11;fe>=0;--fe)(ee&1<<fe)!=0&&v.set(_),_++;if(z.getRightChar()!=null){let fe=z.getRightChar().getValue();for(let _e=11;_e>=0;--_e)(fe&1<<_e)!=0&&v.set(_),_++}}return v}}class Qr{constructor(l,h){h?this.decodedInformation=null:(this.finished=l,this.decodedInformation=h)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Hi{constructor(l){this.newPosition=l}getNewPosition(){return this.newPosition}}class lr extends Hi{constructor(l,h){super(l),this.value=h}getValue(){return this.value}isFNC1(){return this.value===lr.FNC1}}lr.FNC1="$";class Rr extends Hi{constructor(l,h,g){super(l),g?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=h}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class ge extends Hi{constructor(l,h,g){if(super(l),h<0||h>10||g<0||g>10)throw new F;this.firstDigit=h,this.secondDigit=g}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===ge.FNC1}isSecondDigitFNC1(){return this.secondDigit===ge.FNC1}isAnyFNC1(){return this.firstDigit===ge.FNC1||this.secondDigit===ge.FNC1}}ge.FNC1=10;class be{constructor(){}static parseFieldsInGeneralPurpose(l){if(!l)return null;if(l.length<2)throw new pe;let h=l.substring(0,2);for(let _ of be.TWO_DIGIT_DATA_LENGTH)if(_[0]===h)return _[1]===be.VARIABLE_LENGTH?be.processVariableAI(2,_[2],l):be.processFixedAI(2,_[1],l);if(l.length<3)throw new pe;let g=l.substring(0,3);for(let _ of be.THREE_DIGIT_DATA_LENGTH)if(_[0]===g)return _[1]===be.VARIABLE_LENGTH?be.processVariableAI(3,_[2],l):be.processFixedAI(3,_[1],l);for(let _ of be.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(_[0]===g)return _[1]===be.VARIABLE_LENGTH?be.processVariableAI(4,_[2],l):be.processFixedAI(4,_[1],l);if(l.length<4)throw new pe;let v=l.substring(0,4);for(let _ of be.FOUR_DIGIT_DATA_LENGTH)if(_[0]===v)return _[1]===be.VARIABLE_LENGTH?be.processVariableAI(4,_[2],l):be.processFixedAI(4,_[1],l);throw new pe}static processFixedAI(l,h,g){if(g.length<l)throw new pe;let v=g.substring(0,l);if(g.length<l+h)throw new pe;let _=g.substring(l,l+h),b=g.substring(l+h),N="("+v+")"+_,D=be.parseFieldsInGeneralPurpose(b);return D==null?N:N+D}static processVariableAI(l,h,g){let v=g.substring(0,l),_;g.length<l+h?_=g.length:_=l+h;let b=g.substring(l,_),N=g.substring(_),D="("+v+")"+b,z=be.parseFieldsInGeneralPurpose(N);return z==null?D:D+z}}be.VARIABLE_LENGTH=[],be.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",be.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",be.VARIABLE_LENGTH,20],["22",be.VARIABLE_LENGTH,29],["30",be.VARIABLE_LENGTH,8],["37",be.VARIABLE_LENGTH,8],["90",be.VARIABLE_LENGTH,30],["91",be.VARIABLE_LENGTH,30],["92",be.VARIABLE_LENGTH,30],["93",be.VARIABLE_LENGTH,30],["94",be.VARIABLE_LENGTH,30],["95",be.VARIABLE_LENGTH,30],["96",be.VARIABLE_LENGTH,30],["97",be.VARIABLE_LENGTH,3],["98",be.VARIABLE_LENGTH,30],["99",be.VARIABLE_LENGTH,30]],be.THREE_DIGIT_DATA_LENGTH=[["240",be.VARIABLE_LENGTH,30],["241",be.VARIABLE_LENGTH,30],["242",be.VARIABLE_LENGTH,6],["250",be.VARIABLE_LENGTH,30],["251",be.VARIABLE_LENGTH,30],["253",be.VARIABLE_LENGTH,17],["254",be.VARIABLE_LENGTH,20],["400",be.VARIABLE_LENGTH,30],["401",be.VARIABLE_LENGTH,30],["402",17],["403",be.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",be.VARIABLE_LENGTH,20],["421",be.VARIABLE_LENGTH,15],["422",3],["423",be.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],be.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",be.VARIABLE_LENGTH,15],["391",be.VARIABLE_LENGTH,18],["392",be.VARIABLE_LENGTH,15],["393",be.VARIABLE_LENGTH,18],["703",be.VARIABLE_LENGTH,30]],be.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",be.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",be.VARIABLE_LENGTH,20],["8003",be.VARIABLE_LENGTH,30],["8004",be.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",be.VARIABLE_LENGTH,30],["8008",be.VARIABLE_LENGTH,12],["8018",18],["8020",be.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",be.VARIABLE_LENGTH,70],["8200",be.VARIABLE_LENGTH,70]];class Te{constructor(l){this.buffer=new Y,this.information=l}decodeAllCodes(l,h){let g=h,v=null;do{let _=this.decodeGeneralPurposeField(g,v),b=be.parseFieldsInGeneralPurpose(_.getNewString());if(b!=null&&l.append(b),_.isRemaining()?v=""+_.getRemainingValue():v=null,g===_.getNewPosition())break;g=_.getNewPosition()}while(!0);return l.toString()}isStillNumeric(l){if(l+7>this.information.getSize())return l+4<=this.information.getSize();for(let h=l;h<l+3;++h)if(this.information.get(h))return!0;return this.information.get(l+3)}decodeNumeric(l){if(l+7>this.information.getSize()){let _=this.extractNumericValueFromBitArray(l,4);return _===0?new ge(this.information.getSize(),ge.FNC1,ge.FNC1):new ge(this.information.getSize(),_-1,ge.FNC1)}let h=this.extractNumericValueFromBitArray(l,7),g=(h-8)/11,v=(h-8)%11;return new ge(l+7,g,v)}extractNumericValueFromBitArray(l,h){return Te.extractNumericValueFromBitArray(this.information,l,h)}static extractNumericValueFromBitArray(l,h,g){let v=0;for(let _=0;_<g;++_)l.get(h+_)&&(v|=1<<g-_-1);return v}decodeGeneralPurposeField(l,h){this.buffer.setLengthToZero(),h!=null&&this.buffer.append(h),this.current.setPosition(l);let g=this.parseBlocks();return g!=null&&g.isRemaining()?new Rr(this.current.getPosition(),this.buffer.toString(),g.getRemainingValue()):new Rr(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let l,h;do{let g=this.current.getPosition();if(this.current.isAlpha()?(h=this.parseAlphaBlock(),l=h.isFinished()):this.current.isIsoIec646()?(h=this.parseIsoIec646Block(),l=h.isFinished()):(h=this.parseNumericBlock(),l=h.isFinished()),!(g!==this.current.getPosition())&&!l)break}while(!l);return h.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let l=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(l.getNewPosition()),l.isFirstDigitFNC1()){let h;return l.isSecondDigitFNC1()?h=new Rr(this.current.getPosition(),this.buffer.toString()):h=new Rr(this.current.getPosition(),this.buffer.toString(),l.getSecondDigit()),new Qr(!0,h)}if(this.buffer.append(l.getFirstDigit()),l.isSecondDigitFNC1()){let h=new Rr(this.current.getPosition(),this.buffer.toString());return new Qr(!0,h)}this.buffer.append(l.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Qr(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let l=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(l.getNewPosition()),l.isFNC1()){let h=new Rr(this.current.getPosition(),this.buffer.toString());return new Qr(!0,h)}this.buffer.append(l.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Qr(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let l=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(l.getNewPosition()),l.isFNC1()){let h=new Rr(this.current.getPosition(),this.buffer.toString());return new Qr(!0,h)}this.buffer.append(l.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Qr(!1)}isStillIsoIec646(l){if(l+5>this.information.getSize())return!1;let h=this.extractNumericValueFromBitArray(l,5);if(h>=5&&h<16)return!0;if(l+7>this.information.getSize())return!1;let g=this.extractNumericValueFromBitArray(l,7);if(g>=64&&g<116)return!0;if(l+8>this.information.getSize())return!1;let v=this.extractNumericValueFromBitArray(l,8);return v>=232&&v<253}decodeIsoIec646(l){let h=this.extractNumericValueFromBitArray(l,5);if(h===15)return new lr(l+5,lr.FNC1);if(h>=5&&h<15)return new lr(l+5,"0"+(h-5));let g=this.extractNumericValueFromBitArray(l,7);if(g>=64&&g<90)return new lr(l+7,""+(g+1));if(g>=90&&g<116)return new lr(l+7,""+(g+7));let v=this.extractNumericValueFromBitArray(l,8),_;switch(v){case 232:_="!";break;case 233:_='"';break;case 234:_="%";break;case 235:_="&";break;case 236:_="'";break;case 237:_="(";break;case 238:_=")";break;case 239:_="*";break;case 240:_="+";break;case 241:_=",";break;case 242:_="-";break;case 243:_=".";break;case 244:_="/";break;case 245:_=":";break;case 246:_=";";break;case 247:_="<";break;case 248:_="=";break;case 249:_=">";break;case 250:_="?";break;case 251:_="_";break;case 252:_=" ";break;default:throw new F}return new lr(l+8,_)}isStillAlpha(l){if(l+5>this.information.getSize())return!1;let h=this.extractNumericValueFromBitArray(l,5);if(h>=5&&h<16)return!0;if(l+6>this.information.getSize())return!1;let g=this.extractNumericValueFromBitArray(l,6);return g>=16&&g<63}decodeAlphanumeric(l){let h=this.extractNumericValueFromBitArray(l,5);if(h===15)return new lr(l+5,lr.FNC1);if(h>=5&&h<15)return new lr(l+5,"0"+(h-5));let g=this.extractNumericValueFromBitArray(l,6);if(g>=32&&g<58)return new lr(l+6,""+(g+33));let v;switch(g){case 58:v="*";break;case 59:v=",";break;case 60:v="-";break;case 61:v=".";break;case 62:v="/";break;default:throw new le("Decoding invalid alphanumeric value: "+g)}return new lr(l+6,v)}isAlphaTo646ToAlphaLatch(l){if(l+1>this.information.getSize())return!1;for(let h=0;h<5&&h+l<this.information.getSize();++h)if(h===2){if(!this.information.get(l+2))return!1}else if(this.information.get(l+h))return!1;return!0}isAlphaOr646ToNumericLatch(l){if(l+3>this.information.getSize())return!1;for(let h=l;h<l+3;++h)if(this.information.get(h))return!1;return!0}isNumericToAlphaNumericLatch(l){if(l+1>this.information.getSize())return!1;for(let h=0;h<4&&h+l<this.information.getSize();++h)if(this.information.get(l+h))return!1;return!0}}class Ce{constructor(l){this.information=l,this.generalDecoder=new Te(l)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Oe extends Ce{constructor(l){super(l)}encodeCompressedGtin(l,h){l.append("(01)");let g=l.length();l.append("9"),this.encodeCompressedGtinWithoutAI(l,h,g)}encodeCompressedGtinWithoutAI(l,h,g){for(let v=0;v<4;++v){let _=this.getGeneralDecoder().extractNumericValueFromBitArray(h+10*v,10);_/100===0&&l.append("0"),_/10===0&&l.append("0"),l.append(_)}Oe.appendCheckDigit(l,g)}static appendCheckDigit(l,h){let g=0;for(let v=0;v<13;v++){let _=l.charAt(v+h).charCodeAt(0)-48;g+=(v&1)===0?3*_:_}g=10-g%10,g===10&&(g=0),l.append(g)}}Oe.GTIN_SIZE=40;class ke extends Oe{constructor(l){super(l)}parseInformation(){let l=new Y;l.append("(01)");let h=l.length(),g=this.getGeneralDecoder().extractNumericValueFromBitArray(ke.HEADER_SIZE,4);return l.append(g),this.encodeCompressedGtinWithoutAI(l,ke.HEADER_SIZE+4,h),this.getGeneralDecoder().decodeAllCodes(l,ke.HEADER_SIZE+44)}}ke.HEADER_SIZE=4;class it extends Ce{constructor(l){super(l)}parseInformation(){let l=new Y;return this.getGeneralDecoder().decodeAllCodes(l,it.HEADER_SIZE)}}it.HEADER_SIZE=5;class Et extends Oe{constructor(l){super(l)}encodeCompressedWeight(l,h,g){let v=this.getGeneralDecoder().extractNumericValueFromBitArray(h,g);this.addWeightCode(l,v);let _=this.checkWeight(v),b=1e5;for(let N=0;N<5;++N)_/b===0&&l.append("0"),b/=10;l.append(_)}}class et extends Et{constructor(l){super(l)}parseInformation(){if(this.getInformation().getSize()!=et.HEADER_SIZE+Et.GTIN_SIZE+et.WEIGHT_SIZE)throw new pe;let l=new Y;return this.encodeCompressedGtin(l,et.HEADER_SIZE),this.encodeCompressedWeight(l,et.HEADER_SIZE+Et.GTIN_SIZE,et.WEIGHT_SIZE),l.toString()}}et.HEADER_SIZE=5,et.WEIGHT_SIZE=15;class lt extends et{constructor(l){super(l)}addWeightCode(l,h){l.append("(3103)")}checkWeight(l){return l}}class ht extends et{constructor(l){super(l)}addWeightCode(l,h){h<1e4?l.append("(3202)"):l.append("(3203)")}checkWeight(l){return l<1e4?l:l-1e4}}class Ht extends Oe{constructor(l){super(l)}parseInformation(){if(this.getInformation().getSize()<Ht.HEADER_SIZE+Oe.GTIN_SIZE)throw new pe;let l=new Y;this.encodeCompressedGtin(l,Ht.HEADER_SIZE);let h=this.getGeneralDecoder().extractNumericValueFromBitArray(Ht.HEADER_SIZE+Oe.GTIN_SIZE,Ht.LAST_DIGIT_SIZE);l.append("(392"),l.append(h),l.append(")");let g=this.getGeneralDecoder().decodeGeneralPurposeField(Ht.HEADER_SIZE+Oe.GTIN_SIZE+Ht.LAST_DIGIT_SIZE,null);return l.append(g.getNewString()),l.toString()}}Ht.HEADER_SIZE=8,Ht.LAST_DIGIT_SIZE=2;class Ot extends Oe{constructor(l){super(l)}parseInformation(){if(this.getInformation().getSize()<Ot.HEADER_SIZE+Oe.GTIN_SIZE)throw new pe;let l=new Y;this.encodeCompressedGtin(l,Ot.HEADER_SIZE);let h=this.getGeneralDecoder().extractNumericValueFromBitArray(Ot.HEADER_SIZE+Oe.GTIN_SIZE,Ot.LAST_DIGIT_SIZE);l.append("(393"),l.append(h),l.append(")");let g=this.getGeneralDecoder().extractNumericValueFromBitArray(Ot.HEADER_SIZE+Oe.GTIN_SIZE+Ot.LAST_DIGIT_SIZE,Ot.FIRST_THREE_DIGITS_SIZE);g/100==0&&l.append("0"),g/10==0&&l.append("0"),l.append(g);let v=this.getGeneralDecoder().decodeGeneralPurposeField(Ot.HEADER_SIZE+Oe.GTIN_SIZE+Ot.LAST_DIGIT_SIZE+Ot.FIRST_THREE_DIGITS_SIZE,null);return l.append(v.getNewString()),l.toString()}}Ot.HEADER_SIZE=8,Ot.LAST_DIGIT_SIZE=2,Ot.FIRST_THREE_DIGITS_SIZE=10;class Lt extends Et{constructor(l,h,g){super(l),this.dateCode=g,this.firstAIdigits=h}parseInformation(){if(this.getInformation().getSize()!=Lt.HEADER_SIZE+Lt.GTIN_SIZE+Lt.WEIGHT_SIZE+Lt.DATE_SIZE)throw new pe;let l=new Y;return this.encodeCompressedGtin(l,Lt.HEADER_SIZE),this.encodeCompressedWeight(l,Lt.HEADER_SIZE+Lt.GTIN_SIZE,Lt.WEIGHT_SIZE),this.encodeCompressedDate(l,Lt.HEADER_SIZE+Lt.GTIN_SIZE+Lt.WEIGHT_SIZE),l.toString()}encodeCompressedDate(l,h){let g=this.getGeneralDecoder().extractNumericValueFromBitArray(h,Lt.DATE_SIZE);if(g==38400)return;l.append("("),l.append(this.dateCode),l.append(")");let v=g%32;g/=32;let _=g%12+1;g/=12;let b=g;b/10==0&&l.append("0"),l.append(b),_/10==0&&l.append("0"),l.append(_),v/10==0&&l.append("0"),l.append(v)}addWeightCode(l,h){l.append("("),l.append(this.firstAIdigits),l.append(h/1e5),l.append(")")}checkWeight(l){return l%1e5}}Lt.HEADER_SIZE=8,Lt.WEIGHT_SIZE=20,Lt.DATE_SIZE=16;function yt(he){try{if(he.get(1))return new ke(he);if(!he.get(2))return new it(he);switch(Te.extractNumericValueFromBitArray(he,1,4)){case 4:return new lt(he);case 5:return new ht(he)}switch(Te.extractNumericValueFromBitArray(he,1,5)){case 12:return new Ht(he);case 13:return new Ot(he)}switch(Te.extractNumericValueFromBitArray(he,1,7)){case 56:return new Lt(he,"310","11");case 57:return new Lt(he,"320","11");case 58:return new Lt(he,"310","13");case 59:return new Lt(he,"320","13");case 60:return new Lt(he,"310","15");case 61:return new Lt(he,"320","15");case 62:return new Lt(he,"310","17");case 63:return new Lt(he,"320","17")}}catch(l){throw console.log(l),new le("unknown decoder: "+he)}}class en{constructor(l,h,g,v){this.leftchar=l,this.rightchar=h,this.finderpattern=g,this.maybeLast=v}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(l,h){return l instanceof en?en.equalsOrNull(l.leftchar,h.leftchar)&&en.equalsOrNull(l.rightchar,h.rightchar)&&en.equalsOrNull(l.finderpattern,h.finderpattern):!1}static equalsOrNull(l,h){return l===null?h===null:en.equals(l,h)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Tn{constructor(l,h,g){this.pairs=l,this.rowNumber=h,this.wasReversed=g}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(l){return this.checkEqualitity(this,l)}toString(){return"{ "+this.pairs+" }"}equals(l,h){return l instanceof Tn?this.checkEqualitity(l,h)&&l.wasReversed===h.wasReversed:!1}checkEqualitity(l,h){if(!l||!h)return;let g;return l.forEach((v,_)=>{h.forEach(b=>{v.getLeftChar().getValue()===b.getLeftChar().getValue()&&v.getRightChar().getValue()===b.getRightChar().getValue()&&v.getFinderPatter().getValue()===b.getFinderPatter().getValue()&&(g=!0)})}),g}}class Nt extends Lr{constructor(l){super(...arguments),this.pairs=new Array(Nt.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=l===!0}decodeRow(l,h,g){this.pairs.length=0,this.startFromEven=!1;try{return Nt.constructResult(this.decodeRow2pairs(l,h))}catch(v){this.verbose&&console.log(v)}return this.pairs.length=0,this.startFromEven=!0,Nt.constructResult(this.decodeRow2pairs(l,h))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(l,h){let g=!1;for(;!g;)try{this.pairs.push(this.retrieveNextPair(h,this.pairs,l))}catch(_){if(_ instanceof pe){if(!this.pairs.length)throw new pe;g=!0}}if(this.checkChecksum())return this.pairs;let v;if(this.rows.length?v=!0:v=!1,this.storeRow(l,!1),v){let _=this.checkRowsBoolean(!1);if(_!=null||(_=this.checkRowsBoolean(!0),_!=null))return _}throw new pe}checkRowsBoolean(l){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,l&&(this.rows=this.rows.reverse());let h=null;try{h=this.checkRows(new Array,0)}catch(g){this.verbose&&console.log(g)}return l&&(this.rows=this.rows.reverse()),h}checkRows(l,h){for(let g=h;g<this.rows.length;g++){let v=this.rows[g];this.pairs.length=0;for(let b of l)this.pairs.push(b.getPairs());if(this.pairs.push(v.getPairs()),!Nt.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let _=new Array(l);_.push(v);try{return this.checkRows(_,g+1)}catch(b){this.verbose&&console.log(b)}}throw new pe}static isValidSequence(l){for(let h of Nt.FINDER_PATTERN_SEQUENCES){if(l.length>h.length)continue;let g=!0;for(let v=0;v<l.length;v++)if(l[v].getFinderPattern().getValue()!=h[v]){g=!1;break}if(g)return!0}return!1}storeRow(l,h){let g=0,v=!1,_=!1;for(;g<this.rows.length;){let b=this.rows[g];if(b.getRowNumber()>l){_=b.isEquivalent(this.pairs);break}v=b.isEquivalent(this.pairs),g++}_||v||Nt.isPartialRow(this.pairs,this.rows)||(this.rows.push(g,new Tn(this.pairs,l,h)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(l,h){for(let g of h)if(g.getPairs().length!==l.length){for(let v of g.getPairs())for(let _ of l)if(en.equals(v,_))break}}static isPartialRow(l,h){for(let g of h){let v=!0;for(let _ of l){let b=!1;for(let N of g.getPairs())if(_.equals(N)){b=!0;break}if(!b){v=!1;break}}if(v)return!0}return!1}getRows(){return this.rows}static constructResult(l){let h=Qi.buildBitArray(l),v=yt(h).parseInformation(),_=l[0].getFinderPattern().getResultPoints(),b=l[l.length-1].getFinderPattern().getResultPoints(),N=[_[0],_[1],b[0],b[1]];return new Z(v,null,null,N,de.RSS_EXPANDED,null)}checkChecksum(){let l=this.pairs.get(0),h=l.getLeftChar(),g=l.getRightChar();if(g==null)return!1;let v=g.getChecksumPortion(),_=2;for(let N=1;N<this.pairs.size();++N){let D=this.pairs.get(N);v+=D.getLeftChar().getChecksumPortion(),_++;let z=D.getRightChar();z!=null&&(v+=z.getChecksumPortion(),_++)}return v%=211,211*(_-4)+v==h.getValue()}static getNextSecondBar(l,h){let g;return l.get(h)?(g=l.getNextUnset(h),g=l.getNextSet(g)):(g=l.getNextSet(h),g=l.getNextUnset(g)),g}retrieveNextPair(l,h,g){let v=h.length%2==0;this.startFromEven&&(v=!v);let _,b=!0,N=-1;do this.findNextPair(l,h,N),_=this.parseFoundFinderPattern(l,g,v),_==null?N=Nt.getNextSecondBar(l,this.startEnd[0]):b=!1;while(b);let D=this.decodeDataCharacter(l,_,v,!0);if(!this.isEmptyPair(h)&&h[h.length-1].mustBeLast())throw new pe;let z;try{z=this.decodeDataCharacter(l,_,v,!1)}catch(ee){z=null,this.verbose&&console.log(ee)}return new en(D,z,_,!0)}isEmptyPair(l){return l.length===0}findNextPair(l,h,g){let v=this.getDecodeFinderCounters();v[0]=0,v[1]=0,v[2]=0,v[3]=0;let _=l.getSize(),b;g>=0?b=g:this.isEmptyPair(h)?b=0:b=h[h.length-1].getFinderPattern().getStartEnd()[1];let N=h.length%2!=0;this.startFromEven&&(N=!N);let D=!1;for(;b<_&&(D=!l.get(b),!!D);)b++;let z=0,ee=b;for(let fe=b;fe<_;fe++)if(l.get(fe)!=D)v[z]++;else{if(z==3){if(N&&Nt.reverseCounters(v),Nt.isFinderPattern(v)){this.startEnd[0]=ee,this.startEnd[1]=fe;return}N&&Nt.reverseCounters(v),ee+=v[0]+v[1],v[0]=v[2],v[1]=v[3],v[2]=0,v[3]=0,z--}else z++;v[z]=1,D=!D}throw new pe}static reverseCounters(l){let h=l.length;for(let g=0;g<h/2;++g){let v=l[g];l[g]=l[h-g-1],l[h-g-1]=v}}parseFoundFinderPattern(l,h,g){let v,_,b;if(g){let z=this.startEnd[0]-1;for(;z>=0&&!l.get(z);)z--;z++,v=this.startEnd[0]-z,_=z,b=this.startEnd[1]}else _=this.startEnd[0],b=l.getNextUnset(this.startEnd[1]+1),v=b-this.startEnd[1];let N=this.getDecodeFinderCounters();C.arraycopy(N,0,N,1,N.length-1),N[0]=v;let D;try{D=this.parseFinderValue(N,Nt.FINDER_PATTERNS)}catch{return null}return new On(D,[_,b],_,b,h)}decodeDataCharacter(l,h,g,v){let _=this.getDataCharacterCounters();for(let ri=0;ri<_.length;ri++)_[ri]=0;if(v)Nt.recordPatternInReverse(l,h.getStartEnd()[0],_);else{Nt.recordPattern(l,h.getStartEnd()[1],_);for(let ri=0,Cs=_.length-1;ri<Cs;ri++,Cs--){let Ba=_[ri];_[ri]=_[Cs],_[Cs]=Ba}}let b=17,N=Je.sum(new Int32Array(_))/b,D=(h.getStartEnd()[1]-h.getStartEnd()[0])/15;if(Math.abs(N-D)/D>.3)throw new pe;let z=this.getOddCounts(),ee=this.getEvenCounts(),fe=this.getOddRoundingErrors(),_e=this.getEvenRoundingErrors();for(let ri=0;ri<_.length;ri++){let Cs=1*_[ri]/N,Ba=Cs+.5;if(Ba<1){if(Cs<.3)throw new pe;Ba=1}else if(Ba>8){if(Cs>8.7)throw new pe;Ba=8}let ic=ri/2;(ri&1)==0?(z[ic]=Ba,fe[ic]=Cs-Ba):(ee[ic]=Ba,_e[ic]=Cs-Ba)}this.adjustOddEvenCounts(b);let Pe=4*h.getValue()+(g?0:2)+(v?0:1)-1,qe=0,Ke=0;for(let ri=z.length-1;ri>=0;ri--){if(Nt.isNotA1left(h,g,v)){let Cs=Nt.WEIGHTS[Pe][2*ri];Ke+=z[ri]*Cs}qe+=z[ri]}let rt=0;for(let ri=ee.length-1;ri>=0;ri--)if(Nt.isNotA1left(h,g,v)){let Cs=Nt.WEIGHTS[Pe][2*ri+1];rt+=ee[ri]*Cs}let _t=Ke+rt;if((qe&1)!=0||qe>13||qe<4)throw new pe;let Bt=(13-qe)/2,Ut=Nt.SYMBOL_WIDEST[Bt],Pt=9-Ut,zn=Ci.getRSSvalue(z,Ut,!0),Jn=Ci.getRSSvalue(ee,Pt,!1),Mi=Nt.EVEN_TOTAL_SUBSET[Bt],Ws=Nt.GSUM[Bt],Ns=zn*Mi+Jn+Ws;return new Kr(Ns,_t)}static isNotA1left(l,h,g){return!(l.getValue()==0&&h&&g)}adjustOddEvenCounts(l){let h=Je.sum(new Int32Array(this.getOddCounts())),g=Je.sum(new Int32Array(this.getEvenCounts())),v=!1,_=!1;h>13?_=!0:h<4&&(v=!0);let b=!1,N=!1;g>13?N=!0:g<4&&(b=!0);let D=h+g-l,z=(h&1)==1,ee=(g&1)==0;if(D==1)if(z){if(ee)throw new pe;_=!0}else{if(!ee)throw new pe;N=!0}else if(D==-1)if(z){if(ee)throw new pe;v=!0}else{if(!ee)throw new pe;b=!0}else if(D==0){if(z){if(!ee)throw new pe;h<g?(v=!0,N=!0):(_=!0,b=!0)}else if(ee)throw new pe}else throw new pe;if(v){if(_)throw new pe;Nt.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(_&&Nt.decrement(this.getOddCounts(),this.getOddRoundingErrors()),b){if(N)throw new pe;Nt.increment(this.getEvenCounts(),this.getOddRoundingErrors())}N&&Nt.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Nt.SYMBOL_WIDEST=[7,5,4,3,1],Nt.EVEN_TOTAL_SUBSET=[4,20,52,104,204],Nt.GSUM=[0,348,1388,2948,3988],Nt.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],Nt.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],Nt.FINDER_PAT_A=0,Nt.FINDER_PAT_B=1,Nt.FINDER_PAT_C=2,Nt.FINDER_PAT_D=3,Nt.FINDER_PAT_E=4,Nt.FINDER_PAT_F=5,Nt.FINDER_PATTERN_SEQUENCES=[[Nt.FINDER_PAT_A,Nt.FINDER_PAT_A],[Nt.FINDER_PAT_A,Nt.FINDER_PAT_B,Nt.FINDER_PAT_B],[Nt.FINDER_PAT_A,Nt.FINDER_PAT_C,Nt.FINDER_PAT_B,Nt.FINDER_PAT_D],[Nt.FINDER_PAT_A,Nt.FINDER_PAT_E,Nt.FINDER_PAT_B,Nt.FINDER_PAT_D,Nt.FINDER_PAT_C],[Nt.FINDER_PAT_A,Nt.FINDER_PAT_E,Nt.FINDER_PAT_B,Nt.FINDER_PAT_D,Nt.FINDER_PAT_D,Nt.FINDER_PAT_F],[Nt.FINDER_PAT_A,Nt.FINDER_PAT_E,Nt.FINDER_PAT_B,Nt.FINDER_PAT_D,Nt.FINDER_PAT_E,Nt.FINDER_PAT_F,Nt.FINDER_PAT_F],[Nt.FINDER_PAT_A,Nt.FINDER_PAT_A,Nt.FINDER_PAT_B,Nt.FINDER_PAT_B,Nt.FINDER_PAT_C,Nt.FINDER_PAT_C,Nt.FINDER_PAT_D,Nt.FINDER_PAT_D],[Nt.FINDER_PAT_A,Nt.FINDER_PAT_A,Nt.FINDER_PAT_B,Nt.FINDER_PAT_B,Nt.FINDER_PAT_C,Nt.FINDER_PAT_C,Nt.FINDER_PAT_D,Nt.FINDER_PAT_E,Nt.FINDER_PAT_E],[Nt.FINDER_PAT_A,Nt.FINDER_PAT_A,Nt.FINDER_PAT_B,Nt.FINDER_PAT_B,Nt.FINDER_PAT_C,Nt.FINDER_PAT_C,Nt.FINDER_PAT_D,Nt.FINDER_PAT_E,Nt.FINDER_PAT_F,Nt.FINDER_PAT_F],[Nt.FINDER_PAT_A,Nt.FINDER_PAT_A,Nt.FINDER_PAT_B,Nt.FINDER_PAT_B,Nt.FINDER_PAT_C,Nt.FINDER_PAT_D,Nt.FINDER_PAT_D,Nt.FINDER_PAT_E,Nt.FINDER_PAT_E,Nt.FINDER_PAT_F,Nt.FINDER_PAT_F]],Nt.MAX_PAIRS=11;class vr extends Kr{constructor(l,h,g){super(l,h),this.count=0,this.finderPattern=g}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Kn extends Lr{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(l,h,g){const v=this.decodePair(h,!1,l,g);Kn.addOrTally(this.possibleLeftPairs,v),h.reverse();let _=this.decodePair(h,!0,l,g);Kn.addOrTally(this.possibleRightPairs,_),h.reverse();for(let b of this.possibleLeftPairs)if(b.getCount()>1){for(let N of this.possibleRightPairs)if(N.getCount()>1&&Kn.checkChecksum(b,N))return Kn.constructResult(b,N)}throw new pe}static addOrTally(l,h){if(h==null)return;let g=!1;for(let v of l)if(v.getValue()===h.getValue()){v.incrementCount(),g=!0;break}g||l.push(h)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(l,h){let g=4537077*l.getValue()+h.getValue(),v=new String(g).toString(),_=new Y;for(let z=13-v.length;z>0;z--)_.append("0");_.append(v);let b=0;for(let z=0;z<13;z++){let ee=_.charAt(z).charCodeAt(0)-48;b+=(z&1)===0?3*ee:ee}b=10-b%10,b===10&&(b=0),_.append(b.toString());let N=l.getFinderPattern().getResultPoints(),D=h.getFinderPattern().getResultPoints();return new Z(_.toString(),null,0,[N[0],N[1],D[0],D[1]],de.RSS_14,new Date().getTime())}static checkChecksum(l,h){let g=(l.getChecksumPortion()+16*h.getChecksumPortion())%79,v=9*l.getFinderPattern().getValue()+h.getFinderPattern().getValue();return v>72&&v--,v>8&&v--,g===v}decodePair(l,h,g,v){try{let _=this.findFinderPattern(l,h),b=this.parseFoundFinderPattern(l,g,h,_),N=v==null?null:v.get(re.NEED_RESULT_POINT_CALLBACK);if(N!=null){let ee=(_[0]+_[1])/2;h&&(ee=l.getSize()-1-ee),N.foundPossibleResultPoint(new Xe(ee,g))}let D=this.decodeDataCharacter(l,b,!0),z=this.decodeDataCharacter(l,b,!1);return new vr(1597*D.getValue()+z.getValue(),D.getChecksumPortion()+4*z.getChecksumPortion(),b)}catch{return null}}decodeDataCharacter(l,h,g){let v=this.getDataCharacterCounters();for(let rt=0;rt<v.length;rt++)v[rt]=0;if(g)rn.recordPatternInReverse(l,h.getStartEnd()[0],v);else{rn.recordPattern(l,h.getStartEnd()[1]+1,v);for(let rt=0,_t=v.length-1;rt<_t;rt++,_t--){let Bt=v[rt];v[rt]=v[_t],v[_t]=Bt}}let _=g?16:15,b=Je.sum(new Int32Array(v))/_,N=this.getOddCounts(),D=this.getEvenCounts(),z=this.getOddRoundingErrors(),ee=this.getEvenRoundingErrors();for(let rt=0;rt<v.length;rt++){let _t=v[rt]/b,Bt=Math.floor(_t+.5);Bt<1?Bt=1:Bt>8&&(Bt=8);let Ut=Math.floor(rt/2);(rt&1)===0?(N[Ut]=Bt,z[Ut]=_t-Bt):(D[Ut]=Bt,ee[Ut]=_t-Bt)}this.adjustOddEvenCounts(g,_);let fe=0,_e=0;for(let rt=N.length-1;rt>=0;rt--)_e*=9,_e+=N[rt],fe+=N[rt];let Pe=0,qe=0;for(let rt=D.length-1;rt>=0;rt--)Pe*=9,Pe+=D[rt],qe+=D[rt];let Ke=_e+3*Pe;if(g){if((fe&1)!==0||fe>12||fe<4)throw new pe;let rt=(12-fe)/2,_t=Kn.OUTSIDE_ODD_WIDEST[rt],Bt=9-_t,Ut=Ci.getRSSvalue(N,_t,!1),Pt=Ci.getRSSvalue(D,Bt,!0),zn=Kn.OUTSIDE_EVEN_TOTAL_SUBSET[rt],Jn=Kn.OUTSIDE_GSUM[rt];return new Kr(Ut*zn+Pt+Jn,Ke)}else{if((qe&1)!==0||qe>10||qe<4)throw new pe;let rt=(10-qe)/2,_t=Kn.INSIDE_ODD_WIDEST[rt],Bt=9-_t,Ut=Ci.getRSSvalue(N,_t,!0),Pt=Ci.getRSSvalue(D,Bt,!1),zn=Kn.INSIDE_ODD_TOTAL_SUBSET[rt],Jn=Kn.INSIDE_GSUM[rt];return new Kr(Pt*zn+Ut+Jn,Ke)}}findFinderPattern(l,h){let g=this.getDecodeFinderCounters();g[0]=0,g[1]=0,g[2]=0,g[3]=0;let v=l.getSize(),_=!1,b=0;for(;b<v&&(_=!l.get(b),h!==_);)b++;let N=0,D=b;for(let z=b;z<v;z++)if(l.get(z)!==_)g[N]++;else{if(N===3){if(Lr.isFinderPattern(g))return[D,z];D+=g[0]+g[1],g[0]=g[2],g[1]=g[3],g[2]=0,g[3]=0,N--}else N++;g[N]=1,_=!_}throw new pe}parseFoundFinderPattern(l,h,g,v){let _=l.get(v[0]),b=v[0]-1;for(;b>=0&&_!==l.get(b);)b--;b++;const N=v[0]-b,D=this.getDecodeFinderCounters(),z=new Int32Array(D.length);C.arraycopy(D,0,z,1,D.length-1),z[0]=N;const ee=this.parseFinderValue(z,Kn.FINDER_PATTERNS);let fe=b,_e=v[1];return g&&(fe=l.getSize()-1-fe,_e=l.getSize()-1-_e),new On(ee,[b,v[1]],fe,_e,h)}adjustOddEvenCounts(l,h){let g=Je.sum(new Int32Array(this.getOddCounts())),v=Je.sum(new Int32Array(this.getEvenCounts())),_=!1,b=!1,N=!1,D=!1;l?(g>12?b=!0:g<4&&(_=!0),v>12?D=!0:v<4&&(N=!0)):(g>11?b=!0:g<5&&(_=!0),v>10?D=!0:v<4&&(N=!0));let z=g+v-h,ee=(g&1)===(l?1:0),fe=(v&1)===1;if(z===1)if(ee){if(fe)throw new pe;b=!0}else{if(!fe)throw new pe;D=!0}else if(z===-1)if(ee){if(fe)throw new pe;_=!0}else{if(!fe)throw new pe;N=!0}else if(z===0){if(ee){if(!fe)throw new pe;g<v?(_=!0,D=!0):(b=!0,N=!0)}else if(fe)throw new pe}else throw new pe;if(_){if(b)throw new pe;Lr.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(b&&Lr.decrement(this.getOddCounts(),this.getOddRoundingErrors()),N){if(D)throw new pe;Lr.increment(this.getEvenCounts(),this.getOddRoundingErrors())}D&&Lr.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Kn.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Kn.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Kn.OUTSIDE_GSUM=[0,161,961,2015,2715],Kn.INSIDE_GSUM=[0,336,1036,1516],Kn.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Kn.INSIDE_ODD_WIDEST=[2,4,6,8],Kn.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Ii extends rn{constructor(l,h){super(),this.readers=[],this.verbose=h===!0;const g=l?l.get(re.POSSIBLE_FORMATS):null,v=l&&l.get(re.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;g?((g.includes(de.EAN_13)||g.includes(de.UPC_A)||g.includes(de.EAN_8)||g.includes(de.UPC_E))&&this.readers.push(new li(l)),g.includes(de.CODE_39)&&this.readers.push(new Gt(v)),g.includes(de.CODE_128)&&this.readers.push(new dt),g.includes(de.ITF)&&this.readers.push(new It),g.includes(de.RSS_14)&&this.readers.push(new Kn),g.includes(de.RSS_EXPANDED)&&this.readers.push(new Nt(this.verbose))):(this.readers.push(new li(l)),this.readers.push(new Gt),this.readers.push(new li(l)),this.readers.push(new dt),this.readers.push(new It),this.readers.push(new Kn),this.readers.push(new Nt(this.verbose)))}decodeRow(l,h,g){for(let v=0;v<this.readers.length;v++)try{return this.readers[v].decodeRow(l,h,g)}catch{}throw new pe}reset(){this.readers.forEach(l=>l.reset())}}class xa extends J{constructor(l=500,h){super(new Ii(h),l,h)}}class fr{constructor(l,h,g){this.ecCodewords=l,this.ecBlocks=[h],g&&this.ecBlocks.push(g)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class or{constructor(l,h){this.count=l,this.dataCodewords=h}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class cr{constructor(l,h,g,v,_,b){this.versionNumber=l,this.symbolSizeRows=h,this.symbolSizeColumns=g,this.dataRegionSizeRows=v,this.dataRegionSizeColumns=_,this.ecBlocks=b;let N=0;const D=b.getECCodewords(),z=b.getECBlocks();for(let ee of z)N+=ee.getCount()*(ee.getDataCodewords()+D);this.totalCodewords=N}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(l,h){if((l&1)!==0||(h&1)!==0)throw new F;for(let g of cr.VERSIONS)if(g.symbolSizeRows===l&&g.symbolSizeColumns===h)return g;throw new F}toString(){return""+this.versionNumber}static buildVersions(){return[new cr(1,10,10,8,8,new fr(5,new or(1,3))),new cr(2,12,12,10,10,new fr(7,new or(1,5))),new cr(3,14,14,12,12,new fr(10,new or(1,8))),new cr(4,16,16,14,14,new fr(12,new or(1,12))),new cr(5,18,18,16,16,new fr(14,new or(1,18))),new cr(6,20,20,18,18,new fr(18,new or(1,22))),new cr(7,22,22,20,20,new fr(20,new or(1,30))),new cr(8,24,24,22,22,new fr(24,new or(1,36))),new cr(9,26,26,24,24,new fr(28,new or(1,44))),new cr(10,32,32,14,14,new fr(36,new or(1,62))),new cr(11,36,36,16,16,new fr(42,new or(1,86))),new cr(12,40,40,18,18,new fr(48,new or(1,114))),new cr(13,44,44,20,20,new fr(56,new or(1,144))),new cr(14,48,48,22,22,new fr(68,new or(1,174))),new cr(15,52,52,24,24,new fr(42,new or(2,102))),new cr(16,64,64,14,14,new fr(56,new or(2,140))),new cr(17,72,72,16,16,new fr(36,new or(4,92))),new cr(18,80,80,18,18,new fr(48,new or(4,114))),new cr(19,88,88,20,20,new fr(56,new or(4,144))),new cr(20,96,96,22,22,new fr(68,new or(4,174))),new cr(21,104,104,24,24,new fr(56,new or(6,136))),new cr(22,120,120,18,18,new fr(68,new or(6,175))),new cr(23,132,132,20,20,new fr(62,new or(8,163))),new cr(24,144,144,22,22,new fr(62,new or(8,156),new or(2,155))),new cr(25,8,18,6,16,new fr(7,new or(1,5))),new cr(26,8,32,6,14,new fr(11,new or(1,10))),new cr(27,12,26,10,24,new fr(14,new or(1,16))),new cr(28,12,36,10,16,new fr(18,new or(1,22))),new cr(29,16,36,14,16,new fr(24,new or(1,32))),new cr(30,16,48,14,22,new fr(28,new or(1,49)))]}}cr.VERSIONS=cr.buildVersions();class ci{constructor(l){const h=l.getHeight();if(h<8||h>144||(h&1)!==0)throw new F;this.version=ci.readVersion(l),this.mappingBitMatrix=this.extractDataRegion(l),this.readMappingMatrix=new ne(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(l){const h=l.getHeight(),g=l.getWidth();return cr.getVersionForDimensions(h,g)}readCodewords(){const l=new Int8Array(this.version.getTotalCodewords());let h=0,g=4,v=0;const _=this.mappingBitMatrix.getHeight(),b=this.mappingBitMatrix.getWidth();let N=!1,D=!1,z=!1,ee=!1;do if(g===_&&v===0&&!N)l[h++]=this.readCorner1(_,b)&255,g-=2,v+=2,N=!0;else if(g===_-2&&v===0&&(b&3)!==0&&!D)l[h++]=this.readCorner2(_,b)&255,g-=2,v+=2,D=!0;else if(g===_+4&&v===2&&(b&7)===0&&!z)l[h++]=this.readCorner3(_,b)&255,g-=2,v+=2,z=!0;else if(g===_-2&&v===0&&(b&7)===4&&!ee)l[h++]=this.readCorner4(_,b)&255,g-=2,v+=2,ee=!0;else{do g<_&&v>=0&&!this.readMappingMatrix.get(v,g)&&(l[h++]=this.readUtah(g,v,_,b)&255),g-=2,v+=2;while(g>=0&&v<b);g+=1,v+=3;do g>=0&&v<b&&!this.readMappingMatrix.get(v,g)&&(l[h++]=this.readUtah(g,v,_,b)&255),g+=2,v-=2;while(g<_&&v>=0);g+=3,v+=1}while(g<_||v<b);if(h!==this.version.getTotalCodewords())throw new F;return l}readModule(l,h,g,v){return l<0&&(l+=g,h+=4-(g+4&7)),h<0&&(h+=v,l+=4-(v+4&7)),this.readMappingMatrix.set(h,l),this.mappingBitMatrix.get(h,l)}readUtah(l,h,g,v){let _=0;return this.readModule(l-2,h-2,g,v)&&(_|=1),_<<=1,this.readModule(l-2,h-1,g,v)&&(_|=1),_<<=1,this.readModule(l-1,h-2,g,v)&&(_|=1),_<<=1,this.readModule(l-1,h-1,g,v)&&(_|=1),_<<=1,this.readModule(l-1,h,g,v)&&(_|=1),_<<=1,this.readModule(l,h-2,g,v)&&(_|=1),_<<=1,this.readModule(l,h-1,g,v)&&(_|=1),_<<=1,this.readModule(l,h,g,v)&&(_|=1),_}readCorner1(l,h){let g=0;return this.readModule(l-1,0,l,h)&&(g|=1),g<<=1,this.readModule(l-1,1,l,h)&&(g|=1),g<<=1,this.readModule(l-1,2,l,h)&&(g|=1),g<<=1,this.readModule(0,h-2,l,h)&&(g|=1),g<<=1,this.readModule(0,h-1,l,h)&&(g|=1),g<<=1,this.readModule(1,h-1,l,h)&&(g|=1),g<<=1,this.readModule(2,h-1,l,h)&&(g|=1),g<<=1,this.readModule(3,h-1,l,h)&&(g|=1),g}readCorner2(l,h){let g=0;return this.readModule(l-3,0,l,h)&&(g|=1),g<<=1,this.readModule(l-2,0,l,h)&&(g|=1),g<<=1,this.readModule(l-1,0,l,h)&&(g|=1),g<<=1,this.readModule(0,h-4,l,h)&&(g|=1),g<<=1,this.readModule(0,h-3,l,h)&&(g|=1),g<<=1,this.readModule(0,h-2,l,h)&&(g|=1),g<<=1,this.readModule(0,h-1,l,h)&&(g|=1),g<<=1,this.readModule(1,h-1,l,h)&&(g|=1),g}readCorner3(l,h){let g=0;return this.readModule(l-1,0,l,h)&&(g|=1),g<<=1,this.readModule(l-1,h-1,l,h)&&(g|=1),g<<=1,this.readModule(0,h-3,l,h)&&(g|=1),g<<=1,this.readModule(0,h-2,l,h)&&(g|=1),g<<=1,this.readModule(0,h-1,l,h)&&(g|=1),g<<=1,this.readModule(1,h-3,l,h)&&(g|=1),g<<=1,this.readModule(1,h-2,l,h)&&(g|=1),g<<=1,this.readModule(1,h-1,l,h)&&(g|=1),g}readCorner4(l,h){let g=0;return this.readModule(l-3,0,l,h)&&(g|=1),g<<=1,this.readModule(l-2,0,l,h)&&(g|=1),g<<=1,this.readModule(l-1,0,l,h)&&(g|=1),g<<=1,this.readModule(0,h-2,l,h)&&(g|=1),g<<=1,this.readModule(0,h-1,l,h)&&(g|=1),g<<=1,this.readModule(1,h-1,l,h)&&(g|=1),g<<=1,this.readModule(2,h-1,l,h)&&(g|=1),g<<=1,this.readModule(3,h-1,l,h)&&(g|=1),g}extractDataRegion(l){const h=this.version.getSymbolSizeRows(),g=this.version.getSymbolSizeColumns();if(l.getHeight()!==h)throw new w("Dimension of bitMatrix must match the version size");const v=this.version.getDataRegionSizeRows(),_=this.version.getDataRegionSizeColumns(),b=h/v|0,N=g/_|0,D=b*v,z=N*_,ee=new ne(z,D);for(let fe=0;fe<b;++fe){const _e=fe*v;for(let Pe=0;Pe<N;++Pe){const qe=Pe*_;for(let Ke=0;Ke<v;++Ke){const rt=fe*(v+2)+1+Ke,_t=_e+Ke;for(let Bt=0;Bt<_;++Bt){const Ut=Pe*(_+2)+1+Bt;if(l.get(Ut,rt)){const Pt=qe+Bt;ee.set(Pt,_t)}}}}}return ee}}class os{constructor(l,h){this.numDataCodewords=l,this.codewords=h}static getDataBlocks(l,h){const g=h.getECBlocks();let v=0;const _=g.getECBlocks();for(let Ke of _)v+=Ke.getCount();const b=new Array(v);let N=0;for(let Ke of _)for(let rt=0;rt<Ke.getCount();rt++){const _t=Ke.getDataCodewords(),Bt=g.getECCodewords()+_t;b[N++]=new os(_t,new Uint8Array(Bt))}const z=b[0].codewords.length-g.getECCodewords(),ee=z-1;let fe=0;for(let Ke=0;Ke<ee;Ke++)for(let rt=0;rt<N;rt++)b[rt].codewords[Ke]=l[fe++];const _e=h.getVersionNumber()===24,Pe=_e?8:N;for(let Ke=0;Ke<Pe;Ke++)b[Ke].codewords[z-1]=l[fe++];const qe=b[0].codewords.length;for(let Ke=z;Ke<qe;Ke++)for(let rt=0;rt<N;rt++){const _t=_e?(rt+8)%N:rt,Bt=_e&&_t>7?Ke-1:Ke;b[_t].codewords[Bt]=l[fe++]}if(fe!==l.length)throw new w;return b}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Ri{constructor(l){this.bytes=l,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(l){if(l<1||l>32||l>this.available())throw new w(""+l);let h=0,g=this.bitOffset,v=this.byteOffset;const _=this.bytes;if(g>0){const b=8-g,N=l<b?l:b,D=b-N,z=255>>8-N<<D;h=(_[v]&z)>>D,l-=N,g+=N,g===8&&(g=0,v++)}if(l>0){for(;l>=8;)h=h<<8|_[v]&255,v++,l-=8;if(l>0){const b=8-l,N=255>>b<<b;h=h<<l|(_[v]&N)>>b,g+=l}}return this.bitOffset=g,this.byteOffset=v,h}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Hn;(function(he){he[he.PAD_ENCODE=0]="PAD_ENCODE",he[he.ASCII_ENCODE=1]="ASCII_ENCODE",he[he.C40_ENCODE=2]="C40_ENCODE",he[he.TEXT_ENCODE=3]="TEXT_ENCODE",he[he.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",he[he.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",he[he.BASE256_ENCODE=6]="BASE256_ENCODE"})(Hn||(Hn={}));class As{static decode(l){const h=new Ri(l),g=new Y,v=new Y,_=new Array;let b=Hn.ASCII_ENCODE;do if(b===Hn.ASCII_ENCODE)b=this.decodeAsciiSegment(h,g,v);else{switch(b){case Hn.C40_ENCODE:this.decodeC40Segment(h,g);break;case Hn.TEXT_ENCODE:this.decodeTextSegment(h,g);break;case Hn.ANSIX12_ENCODE:this.decodeAnsiX12Segment(h,g);break;case Hn.EDIFACT_ENCODE:this.decodeEdifactSegment(h,g);break;case Hn.BASE256_ENCODE:this.decodeBase256Segment(h,g,_);break;default:throw new F}b=Hn.ASCII_ENCODE}while(b!==Hn.PAD_ENCODE&&h.available()>0);return v.length()>0&&g.append(v.toString()),new Ve(l,g.toString(),_.length===0?null:_,null)}static decodeAsciiSegment(l,h,g){let v=!1;do{let _=l.readBits(8);if(_===0)throw new F;if(_<=128)return v&&(_+=128),h.append(String.fromCharCode(_-1)),Hn.ASCII_ENCODE;if(_===129)return Hn.PAD_ENCODE;if(_<=229){const b=_-130;b<10&&h.append("0"),h.append(""+b)}else switch(_){case 230:return Hn.C40_ENCODE;case 231:return Hn.BASE256_ENCODE;case 232:h.append("");break;case 233:case 234:break;case 235:v=!0;break;case 236:h.append("[)>05"),g.insert(0,"");break;case 237:h.append("[)>06"),g.insert(0,"");break;case 238:return Hn.ANSIX12_ENCODE;case 239:return Hn.TEXT_ENCODE;case 240:return Hn.EDIFACT_ENCODE;case 241:break;default:if(_!==254||l.available()!==0)throw new F;break}}while(l.available()>0);return Hn.ASCII_ENCODE}static decodeC40Segment(l,h){let g=!1;const v=[];let _=0;do{if(l.available()===8)return;const b=l.readBits(8);if(b===254)return;this.parseTwoBytes(b,l.readBits(8),v);for(let N=0;N<3;N++){const D=v[N];switch(_){case 0:if(D<3)_=D+1;else if(D<this.C40_BASIC_SET_CHARS.length){const z=this.C40_BASIC_SET_CHARS[D];g?(h.append(String.fromCharCode(z.charCodeAt(0)+128)),g=!1):h.append(z)}else throw new F;break;case 1:g?(h.append(String.fromCharCode(D+128)),g=!1):h.append(String.fromCharCode(D)),_=0;break;case 2:if(D<this.C40_SHIFT2_SET_CHARS.length){const z=this.C40_SHIFT2_SET_CHARS[D];g?(h.append(String.fromCharCode(z.charCodeAt(0)+128)),g=!1):h.append(z)}else switch(D){case 27:h.append("");break;case 30:g=!0;break;default:throw new F}_=0;break;case 3:g?(h.append(String.fromCharCode(D+224)),g=!1):h.append(String.fromCharCode(D+96)),_=0;break;default:throw new F}}}while(l.available()>0)}static decodeTextSegment(l,h){let g=!1,v=[],_=0;do{if(l.available()===8)return;const b=l.readBits(8);if(b===254)return;this.parseTwoBytes(b,l.readBits(8),v);for(let N=0;N<3;N++){const D=v[N];switch(_){case 0:if(D<3)_=D+1;else if(D<this.TEXT_BASIC_SET_CHARS.length){const z=this.TEXT_BASIC_SET_CHARS[D];g?(h.append(String.fromCharCode(z.charCodeAt(0)+128)),g=!1):h.append(z)}else throw new F;break;case 1:g?(h.append(String.fromCharCode(D+128)),g=!1):h.append(String.fromCharCode(D)),_=0;break;case 2:if(D<this.TEXT_SHIFT2_SET_CHARS.length){const z=this.TEXT_SHIFT2_SET_CHARS[D];g?(h.append(String.fromCharCode(z.charCodeAt(0)+128)),g=!1):h.append(z)}else switch(D){case 27:h.append("");break;case 30:g=!0;break;default:throw new F}_=0;break;case 3:if(D<this.TEXT_SHIFT3_SET_CHARS.length){const z=this.TEXT_SHIFT3_SET_CHARS[D];g?(h.append(String.fromCharCode(z.charCodeAt(0)+128)),g=!1):h.append(z),_=0}else throw new F;break;default:throw new F}}}while(l.available()>0)}static decodeAnsiX12Segment(l,h){const g=[];do{if(l.available()===8)return;const v=l.readBits(8);if(v===254)return;this.parseTwoBytes(v,l.readBits(8),g);for(let _=0;_<3;_++){const b=g[_];switch(b){case 0:h.append("\r");break;case 1:h.append("*");break;case 2:h.append(">");break;case 3:h.append(" ");break;default:if(b<14)h.append(String.fromCharCode(b+44));else if(b<40)h.append(String.fromCharCode(b+51));else throw new F;break}}}while(l.available()>0)}static parseTwoBytes(l,h,g){let v=(l<<8)+h-1,_=Math.floor(v/1600);g[0]=_,v-=_*1600,_=Math.floor(v/40),g[1]=_,g[2]=v-_*40}static decodeEdifactSegment(l,h){do{if(l.available()<=16)return;for(let g=0;g<4;g++){let v=l.readBits(6);if(v===31){const _=8-l.getBitOffset();_!==8&&l.readBits(_);return}(v&32)===0&&(v|=64),h.append(String.fromCharCode(v))}}while(l.available()>0)}static decodeBase256Segment(l,h,g){let v=1+l.getByteOffset();const _=this.unrandomize255State(l.readBits(8),v++);let b;if(_===0?b=l.available()/8|0:_<250?b=_:b=250*(_-249)+this.unrandomize255State(l.readBits(8),v++),b<0)throw new F;const N=new Uint8Array(b);for(let D=0;D<b;D++){if(l.available()<8)throw new F;N[D]=this.unrandomize255State(l.readBits(8),v++)}g.push(N);try{h.append(U.decode(N,q.ISO88591))}catch(D){throw new le("Platform does not support required encoding: "+D.message)}}static unrandomize255State(l,h){const g=149*h%255+1,v=l-g;return v>=0?v:v+256}}As.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],As.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],As.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],As.TEXT_SHIFT2_SET_CHARS=As.C40_SHIFT2_SET_CHARS,As.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class Ma{constructor(){this.rsDecoder=new ot(St.DATA_MATRIX_FIELD_256)}decode(l){const h=new ci(l),g=h.getVersion(),v=h.readCodewords(),_=os.getDataBlocks(v,g);let b=0;for(let z of _)b+=z.getNumDataCodewords();const N=new Uint8Array(b),D=_.length;for(let z=0;z<D;z++){const ee=_[z],fe=ee.getCodewords(),_e=ee.getNumDataCodewords();this.correctErrors(fe,_e);for(let Pe=0;Pe<_e;Pe++)N[Pe*D+z]=fe[Pe]}return As.decode(N)}correctErrors(l,h){const g=new Int32Array(l);try{this.rsDecoder.decode(g,l.length-h)}catch{throw new E}for(let v=0;v<h;v++)l[v]=g[v]}}class Gn{constructor(l){this.image=l,this.rectangleDetector=new tn(this.image)}detect(){const l=this.rectangleDetector.detect();let h=this.detectSolid1(l);if(h=this.detectSolid2(h),h[3]=this.correctTopRight(h),!h[3])throw new pe;h=this.shiftToModuleCenter(h);const g=h[0],v=h[1],_=h[2],b=h[3];let N=this.transitionsBetween(g,b)+1,D=this.transitionsBetween(_,b)+1;(N&1)===1&&(N+=1),(D&1)===1&&(D+=1),4*N<7*D&&4*D<7*N&&(N=D=Math.max(N,D));let z=Gn.sampleGrid(this.image,g,v,_,b,N,D);return new Ft(z,[g,v,_,b])}static shiftPoint(l,h,g){let v=(h.getX()-l.getX())/(g+1),_=(h.getY()-l.getY())/(g+1);return new Xe(l.getX()+v,l.getY()+_)}static moveAway(l,h,g){let v=l.getX(),_=l.getY();return v<h?v-=1:v+=1,_<g?_-=1:_+=1,new Xe(v,_)}detectSolid1(l){let h=l[0],g=l[1],v=l[3],_=l[2],b=this.transitionsBetween(h,g),N=this.transitionsBetween(g,v),D=this.transitionsBetween(v,_),z=this.transitionsBetween(_,h),ee=b,fe=[_,h,g,v];return ee>N&&(ee=N,fe[0]=h,fe[1]=g,fe[2]=v,fe[3]=_),ee>D&&(ee=D,fe[0]=g,fe[1]=v,fe[2]=_,fe[3]=h),ee>z&&(fe[0]=v,fe[1]=_,fe[2]=h,fe[3]=g),fe}detectSolid2(l){let h=l[0],g=l[1],v=l[2],_=l[3],b=this.transitionsBetween(h,_),N=Gn.shiftPoint(g,v,(b+1)*4),D=Gn.shiftPoint(v,g,(b+1)*4),z=this.transitionsBetween(N,h),ee=this.transitionsBetween(D,_);return z<ee?(l[0]=h,l[1]=g,l[2]=v,l[3]=_):(l[0]=g,l[1]=v,l[2]=_,l[3]=h),l}correctTopRight(l){let h=l[0],g=l[1],v=l[2],_=l[3],b=this.transitionsBetween(h,_),N=this.transitionsBetween(g,_),D=Gn.shiftPoint(h,g,(N+1)*4),z=Gn.shiftPoint(v,g,(b+1)*4);b=this.transitionsBetween(D,_),N=this.transitionsBetween(z,_);let ee=new Xe(_.getX()+(v.getX()-g.getX())/(b+1),_.getY()+(v.getY()-g.getY())/(b+1)),fe=new Xe(_.getX()+(h.getX()-g.getX())/(N+1),_.getY()+(h.getY()-g.getY())/(N+1));if(!this.isValid(ee))return this.isValid(fe)?fe:null;if(!this.isValid(fe))return ee;let _e=this.transitionsBetween(D,ee)+this.transitionsBetween(z,ee),Pe=this.transitionsBetween(D,fe)+this.transitionsBetween(z,fe);return _e>Pe?ee:fe}shiftToModuleCenter(l){let h=l[0],g=l[1],v=l[2],_=l[3],b=this.transitionsBetween(h,_)+1,N=this.transitionsBetween(v,_)+1,D=Gn.shiftPoint(h,g,N*4),z=Gn.shiftPoint(v,g,b*4);b=this.transitionsBetween(D,_)+1,N=this.transitionsBetween(z,_)+1,(b&1)===1&&(b+=1),(N&1)===1&&(N+=1);let ee=(h.getX()+g.getX()+v.getX()+_.getX())/4,fe=(h.getY()+g.getY()+v.getY()+_.getY())/4;h=Gn.moveAway(h,ee,fe),g=Gn.moveAway(g,ee,fe),v=Gn.moveAway(v,ee,fe),_=Gn.moveAway(_,ee,fe);let _e,Pe;return D=Gn.shiftPoint(h,g,N*4),D=Gn.shiftPoint(D,_,b*4),_e=Gn.shiftPoint(g,h,N*4),_e=Gn.shiftPoint(_e,v,b*4),z=Gn.shiftPoint(v,_,N*4),z=Gn.shiftPoint(z,g,b*4),Pe=Gn.shiftPoint(_,v,N*4),Pe=Gn.shiftPoint(Pe,h,b*4),[D,_e,z,Pe]}isValid(l){return l.getX()>=0&&l.getX()<this.image.getWidth()&&l.getY()>0&&l.getY()<this.image.getHeight()}static sampleGrid(l,h,g,v,_,b,N){return gn.getInstance().sampleGrid(l,b,N,.5,.5,b-.5,.5,b-.5,N-.5,.5,N-.5,h.getX(),h.getY(),_.getX(),_.getY(),v.getX(),v.getY(),g.getX(),g.getY())}transitionsBetween(l,h){let g=Math.trunc(l.getX()),v=Math.trunc(l.getY()),_=Math.trunc(h.getX()),b=Math.trunc(h.getY()),N=Math.abs(b-v)>Math.abs(_-g);if(N){let Ke=g;g=v,v=Ke,Ke=_,_=b,b=Ke}let D=Math.abs(_-g),z=Math.abs(b-v),ee=-D/2,fe=v<b?1:-1,_e=g<_?1:-1,Pe=0,qe=this.image.get(N?v:g,N?g:v);for(let Ke=g,rt=v;Ke!==_;Ke+=_e){let _t=this.image.get(N?rt:Ke,N?Ke:rt);if(_t!==qe&&(Pe++,qe=_t),ee+=z,ee>0){if(rt===b)break;rt+=fe,ee-=D}}return Pe}}class Vs{constructor(){this.decoder=new Ma}decode(l,h=null){let g,v;if(h!=null&&h.has(re.PURE_BARCODE)){const z=Vs.extractPureBits(l.getBlackMatrix());g=this.decoder.decode(z),v=Vs.NO_POINTS}else{const z=new Gn(l.getBlackMatrix()).detect();g=this.decoder.decode(z.getBits()),v=z.getPoints()}const _=g.getRawBytes(),b=new Z(g.getText(),_,8*_.length,v,de.DATA_MATRIX,C.currentTimeMillis()),N=g.getByteSegments();N!=null&&b.putMetadata(Ue.BYTE_SEGMENTS,N);const D=g.getECLevel();return D!=null&&b.putMetadata(Ue.ERROR_CORRECTION_LEVEL,D),b}reset(){}static extractPureBits(l){const h=l.getTopLeftOnBit(),g=l.getBottomRightOnBit();if(h==null||g==null)throw new pe;const v=this.moduleSize(h,l);let _=h[1];const b=g[1];let N=h[0];const z=(g[0]-N+1)/v,ee=(b-_+1)/v;if(z<=0||ee<=0)throw new pe;const fe=v/2;_+=fe,N+=fe;const _e=new ne(z,ee);for(let Pe=0;Pe<ee;Pe++){const qe=_+Pe*v;for(let Ke=0;Ke<z;Ke++)l.get(N+Ke*v,qe)&&_e.set(Ke,Pe)}return _e}static moduleSize(l,h){const g=h.getWidth();let v=l[0];const _=l[1];for(;v<g&&h.get(v,_);)v++;if(v===g)throw new pe;const b=v-l[0];if(b===0)throw new pe;return b}}Vs.NO_POINTS=[];class $i extends J{constructor(l=500){super(new Vs,l)}}var $r;(function(he){he[he.L=0]="L",he[he.M=1]="M",he[he.Q=2]="Q",he[he.H=3]="H"})($r||($r={}));class sr{constructor(l,h,g){this.value=l,this.stringValue=h,this.bits=g,sr.FOR_BITS.set(g,this),sr.FOR_VALUE.set(l,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(l){switch(l){case"L":return sr.L;case"M":return sr.M;case"Q":return sr.Q;case"H":return sr.H;default:throw new x(l+"not available")}}toString(){return this.stringValue}equals(l){if(!(l instanceof sr))return!1;const h=l;return this.value===h.value}static forBits(l){if(l<0||l>=sr.FOR_BITS.size)throw new w;return sr.FOR_BITS.get(l)}}sr.FOR_BITS=new Map,sr.FOR_VALUE=new Map,sr.L=new sr($r.L,"L",1),sr.M=new sr($r.M,"M",0),sr.Q=new sr($r.Q,"Q",3),sr.H=new sr($r.H,"H",2);class Oi{constructor(l){this.errorCorrectionLevel=sr.forBits(l>>3&3),this.dataMask=l&7}static numBitsDiffering(l,h){return k.bitCount(l^h)}static decodeFormatInformation(l,h){const g=Oi.doDecodeFormatInformation(l,h);return g!==null?g:Oi.doDecodeFormatInformation(l^Oi.FORMAT_INFO_MASK_QR,h^Oi.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(l,h){let g=Number.MAX_SAFE_INTEGER,v=0;for(const _ of Oi.FORMAT_INFO_DECODE_LOOKUP){const b=_[0];if(b===l||b===h)return new Oi(_[1]);let N=Oi.numBitsDiffering(l,b);N<g&&(v=_[1],g=N),l!==h&&(N=Oi.numBitsDiffering(h,b),N<g&&(v=_[1],g=N))}return g<=3?new Oi(v):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(l){if(!(l instanceof Oi))return!1;const h=l;return this.errorCorrectionLevel===h.errorCorrectionLevel&&this.dataMask===h.dataMask}}Oi.FORMAT_INFO_MASK_QR=21522,Oi.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class ut{constructor(l,...h){this.ecCodewordsPerBlock=l,this.ecBlocks=h}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let l=0;const h=this.ecBlocks;for(const g of h)l+=g.getCount();return l}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class Le{constructor(l,h){this.count=l,this.dataCodewords=h}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class En{constructor(l,h,...g){this.versionNumber=l,this.alignmentPatternCenters=h,this.ecBlocks=g;let v=0;const _=g[0].getECCodewordsPerBlock(),b=g[0].getECBlocks();for(const N of b)v+=N.getCount()*(N.getDataCodewords()+_);this.totalCodewords=v}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(l){return this.ecBlocks[l.getValue()]}static getProvisionalVersionForDimension(l){if(l%4!==1)throw new F;try{return this.getVersionForNumber((l-17)/4)}catch{throw new F}}static getVersionForNumber(l){if(l<1||l>40)throw new w;return En.VERSIONS[l-1]}static decodeVersionInformation(l){let h=Number.MAX_SAFE_INTEGER,g=0;for(let v=0;v<En.VERSION_DECODE_INFO.length;v++){const _=En.VERSION_DECODE_INFO[v];if(_===l)return En.getVersionForNumber(v+7);const b=Oi.numBitsDiffering(l,_);b<h&&(g=v+7,h=b)}return h<=3?En.getVersionForNumber(g):null}buildFunctionPattern(){const l=this.getDimensionForVersion(),h=new ne(l);h.setRegion(0,0,9,9),h.setRegion(l-8,0,8,9),h.setRegion(0,l-8,9,8);const g=this.alignmentPatternCenters.length;for(let v=0;v<g;v++){const _=this.alignmentPatternCenters[v]-2;for(let b=0;b<g;b++)v===0&&(b===0||b===g-1)||v===g-1&&b===0||h.setRegion(this.alignmentPatternCenters[b]-2,_,5,5)}return h.setRegion(6,9,1,l-17),h.setRegion(9,6,l-17,1),this.versionNumber>6&&(h.setRegion(l-11,0,3,6),h.setRegion(0,l-11,6,3)),h}toString(){return""+this.versionNumber}}En.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),En.VERSIONS=[new En(1,new Int32Array(0),new ut(7,new Le(1,19)),new ut(10,new Le(1,16)),new ut(13,new Le(1,13)),new ut(17,new Le(1,9))),new En(2,Int32Array.from([6,18]),new ut(10,new Le(1,34)),new ut(16,new Le(1,28)),new ut(22,new Le(1,22)),new ut(28,new Le(1,16))),new En(3,Int32Array.from([6,22]),new ut(15,new Le(1,55)),new ut(26,new Le(1,44)),new ut(18,new Le(2,17)),new ut(22,new Le(2,13))),new En(4,Int32Array.from([6,26]),new ut(20,new Le(1,80)),new ut(18,new Le(2,32)),new ut(26,new Le(2,24)),new ut(16,new Le(4,9))),new En(5,Int32Array.from([6,30]),new ut(26,new Le(1,108)),new ut(24,new Le(2,43)),new ut(18,new Le(2,15),new Le(2,16)),new ut(22,new Le(2,11),new Le(2,12))),new En(6,Int32Array.from([6,34]),new ut(18,new Le(2,68)),new ut(16,new Le(4,27)),new ut(24,new Le(4,19)),new ut(28,new Le(4,15))),new En(7,Int32Array.from([6,22,38]),new ut(20,new Le(2,78)),new ut(18,new Le(4,31)),new ut(18,new Le(2,14),new Le(4,15)),new ut(26,new Le(4,13),new Le(1,14))),new En(8,Int32Array.from([6,24,42]),new ut(24,new Le(2,97)),new ut(22,new Le(2,38),new Le(2,39)),new ut(22,new Le(4,18),new Le(2,19)),new ut(26,new Le(4,14),new Le(2,15))),new En(9,Int32Array.from([6,26,46]),new ut(30,new Le(2,116)),new ut(22,new Le(3,36),new Le(2,37)),new ut(20,new Le(4,16),new Le(4,17)),new ut(24,new Le(4,12),new Le(4,13))),new En(10,Int32Array.from([6,28,50]),new ut(18,new Le(2,68),new Le(2,69)),new ut(26,new Le(4,43),new Le(1,44)),new ut(24,new Le(6,19),new Le(2,20)),new ut(28,new Le(6,15),new Le(2,16))),new En(11,Int32Array.from([6,30,54]),new ut(20,new Le(4,81)),new ut(30,new Le(1,50),new Le(4,51)),new ut(28,new Le(4,22),new Le(4,23)),new ut(24,new Le(3,12),new Le(8,13))),new En(12,Int32Array.from([6,32,58]),new ut(24,new Le(2,92),new Le(2,93)),new ut(22,new Le(6,36),new Le(2,37)),new ut(26,new Le(4,20),new Le(6,21)),new ut(28,new Le(7,14),new Le(4,15))),new En(13,Int32Array.from([6,34,62]),new ut(26,new Le(4,107)),new ut(22,new Le(8,37),new Le(1,38)),new ut(24,new Le(8,20),new Le(4,21)),new ut(22,new Le(12,11),new Le(4,12))),new En(14,Int32Array.from([6,26,46,66]),new ut(30,new Le(3,115),new Le(1,116)),new ut(24,new Le(4,40),new Le(5,41)),new ut(20,new Le(11,16),new Le(5,17)),new ut(24,new Le(11,12),new Le(5,13))),new En(15,Int32Array.from([6,26,48,70]),new ut(22,new Le(5,87),new Le(1,88)),new ut(24,new Le(5,41),new Le(5,42)),new ut(30,new Le(5,24),new Le(7,25)),new ut(24,new Le(11,12),new Le(7,13))),new En(16,Int32Array.from([6,26,50,74]),new ut(24,new Le(5,98),new Le(1,99)),new ut(28,new Le(7,45),new Le(3,46)),new ut(24,new Le(15,19),new Le(2,20)),new ut(30,new Le(3,15),new Le(13,16))),new En(17,Int32Array.from([6,30,54,78]),new ut(28,new Le(1,107),new Le(5,108)),new ut(28,new Le(10,46),new Le(1,47)),new ut(28,new Le(1,22),new Le(15,23)),new ut(28,new Le(2,14),new Le(17,15))),new En(18,Int32Array.from([6,30,56,82]),new ut(30,new Le(5,120),new Le(1,121)),new ut(26,new Le(9,43),new Le(4,44)),new ut(28,new Le(17,22),new Le(1,23)),new ut(28,new Le(2,14),new Le(19,15))),new En(19,Int32Array.from([6,30,58,86]),new ut(28,new Le(3,113),new Le(4,114)),new ut(26,new Le(3,44),new Le(11,45)),new ut(26,new Le(17,21),new Le(4,22)),new ut(26,new Le(9,13),new Le(16,14))),new En(20,Int32Array.from([6,34,62,90]),new ut(28,new Le(3,107),new Le(5,108)),new ut(26,new Le(3,41),new Le(13,42)),new ut(30,new Le(15,24),new Le(5,25)),new ut(28,new Le(15,15),new Le(10,16))),new En(21,Int32Array.from([6,28,50,72,94]),new ut(28,new Le(4,116),new Le(4,117)),new ut(26,new Le(17,42)),new ut(28,new Le(17,22),new Le(6,23)),new ut(30,new Le(19,16),new Le(6,17))),new En(22,Int32Array.from([6,26,50,74,98]),new ut(28,new Le(2,111),new Le(7,112)),new ut(28,new Le(17,46)),new ut(30,new Le(7,24),new Le(16,25)),new ut(24,new Le(34,13))),new En(23,Int32Array.from([6,30,54,78,102]),new ut(30,new Le(4,121),new Le(5,122)),new ut(28,new Le(4,47),new Le(14,48)),new ut(30,new Le(11,24),new Le(14,25)),new ut(30,new Le(16,15),new Le(14,16))),new En(24,Int32Array.from([6,28,54,80,106]),new ut(30,new Le(6,117),new Le(4,118)),new ut(28,new Le(6,45),new Le(14,46)),new ut(30,new Le(11,24),new Le(16,25)),new ut(30,new Le(30,16),new Le(2,17))),new En(25,Int32Array.from([6,32,58,84,110]),new ut(26,new Le(8,106),new Le(4,107)),new ut(28,new Le(8,47),new Le(13,48)),new ut(30,new Le(7,24),new Le(22,25)),new ut(30,new Le(22,15),new Le(13,16))),new En(26,Int32Array.from([6,30,58,86,114]),new ut(28,new Le(10,114),new Le(2,115)),new ut(28,new Le(19,46),new Le(4,47)),new ut(28,new Le(28,22),new Le(6,23)),new ut(30,new Le(33,16),new Le(4,17))),new En(27,Int32Array.from([6,34,62,90,118]),new ut(30,new Le(8,122),new Le(4,123)),new ut(28,new Le(22,45),new Le(3,46)),new ut(30,new Le(8,23),new Le(26,24)),new ut(30,new Le(12,15),new Le(28,16))),new En(28,Int32Array.from([6,26,50,74,98,122]),new ut(30,new Le(3,117),new Le(10,118)),new ut(28,new Le(3,45),new Le(23,46)),new ut(30,new Le(4,24),new Le(31,25)),new ut(30,new Le(11,15),new Le(31,16))),new En(29,Int32Array.from([6,30,54,78,102,126]),new ut(30,new Le(7,116),new Le(7,117)),new ut(28,new Le(21,45),new Le(7,46)),new ut(30,new Le(1,23),new Le(37,24)),new ut(30,new Le(19,15),new Le(26,16))),new En(30,Int32Array.from([6,26,52,78,104,130]),new ut(30,new Le(5,115),new Le(10,116)),new ut(28,new Le(19,47),new Le(10,48)),new ut(30,new Le(15,24),new Le(25,25)),new ut(30,new Le(23,15),new Le(25,16))),new En(31,Int32Array.from([6,30,56,82,108,134]),new ut(30,new Le(13,115),new Le(3,116)),new ut(28,new Le(2,46),new Le(29,47)),new ut(30,new Le(42,24),new Le(1,25)),new ut(30,new Le(23,15),new Le(28,16))),new En(32,Int32Array.from([6,34,60,86,112,138]),new ut(30,new Le(17,115)),new ut(28,new Le(10,46),new Le(23,47)),new ut(30,new Le(10,24),new Le(35,25)),new ut(30,new Le(19,15),new Le(35,16))),new En(33,Int32Array.from([6,30,58,86,114,142]),new ut(30,new Le(17,115),new Le(1,116)),new ut(28,new Le(14,46),new Le(21,47)),new ut(30,new Le(29,24),new Le(19,25)),new ut(30,new Le(11,15),new Le(46,16))),new En(34,Int32Array.from([6,34,62,90,118,146]),new ut(30,new Le(13,115),new Le(6,116)),new ut(28,new Le(14,46),new Le(23,47)),new ut(30,new Le(44,24),new Le(7,25)),new ut(30,new Le(59,16),new Le(1,17))),new En(35,Int32Array.from([6,30,54,78,102,126,150]),new ut(30,new Le(12,121),new Le(7,122)),new ut(28,new Le(12,47),new Le(26,48)),new ut(30,new Le(39,24),new Le(14,25)),new ut(30,new Le(22,15),new Le(41,16))),new En(36,Int32Array.from([6,24,50,76,102,128,154]),new ut(30,new Le(6,121),new Le(14,122)),new ut(28,new Le(6,47),new Le(34,48)),new ut(30,new Le(46,24),new Le(10,25)),new ut(30,new Le(2,15),new Le(64,16))),new En(37,Int32Array.from([6,28,54,80,106,132,158]),new ut(30,new Le(17,122),new Le(4,123)),new ut(28,new Le(29,46),new Le(14,47)),new ut(30,new Le(49,24),new Le(10,25)),new ut(30,new Le(24,15),new Le(46,16))),new En(38,Int32Array.from([6,32,58,84,110,136,162]),new ut(30,new Le(4,122),new Le(18,123)),new ut(28,new Le(13,46),new Le(32,47)),new ut(30,new Le(48,24),new Le(14,25)),new ut(30,new Le(42,15),new Le(32,16))),new En(39,Int32Array.from([6,26,54,82,110,138,166]),new ut(30,new Le(20,117),new Le(4,118)),new ut(28,new Le(40,47),new Le(7,48)),new ut(30,new Le(43,24),new Le(22,25)),new ut(30,new Le(10,15),new Le(67,16))),new En(40,Int32Array.from([6,30,58,86,114,142,170]),new ut(30,new Le(19,118),new Le(6,119)),new ut(28,new Le(18,47),new Le(31,48)),new ut(30,new Le(34,24),new Le(34,25)),new ut(30,new Le(20,15),new Le(61,16)))];var Di;(function(he){he[he.DATA_MASK_000=0]="DATA_MASK_000",he[he.DATA_MASK_001=1]="DATA_MASK_001",he[he.DATA_MASK_010=2]="DATA_MASK_010",he[he.DATA_MASK_011=3]="DATA_MASK_011",he[he.DATA_MASK_100=4]="DATA_MASK_100",he[he.DATA_MASK_101=5]="DATA_MASK_101",he[he.DATA_MASK_110=6]="DATA_MASK_110",he[he.DATA_MASK_111=7]="DATA_MASK_111"})(Di||(Di={}));class qi{constructor(l,h){this.value=l,this.isMasked=h}unmaskBitMatrix(l,h){for(let g=0;g<h;g++)for(let v=0;v<h;v++)this.isMasked(g,v)&&l.flip(v,g)}}qi.values=new Map([[Di.DATA_MASK_000,new qi(Di.DATA_MASK_000,(he,l)=>(he+l&1)===0)],[Di.DATA_MASK_001,new qi(Di.DATA_MASK_001,(he,l)=>(he&1)===0)],[Di.DATA_MASK_010,new qi(Di.DATA_MASK_010,(he,l)=>l%3===0)],[Di.DATA_MASK_011,new qi(Di.DATA_MASK_011,(he,l)=>(he+l)%3===0)],[Di.DATA_MASK_100,new qi(Di.DATA_MASK_100,(he,l)=>(Math.floor(he/2)+Math.floor(l/3)&1)===0)],[Di.DATA_MASK_101,new qi(Di.DATA_MASK_101,(he,l)=>he*l%6===0)],[Di.DATA_MASK_110,new qi(Di.DATA_MASK_110,(he,l)=>he*l%6<3)],[Di.DATA_MASK_111,new qi(Di.DATA_MASK_111,(he,l)=>(he+l+he*l%3&1)===0)]]);class ms{constructor(l){const h=l.getHeight();if(h<21||(h&3)!==1)throw new F;this.bitMatrix=l}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let l=0;for(let _=0;_<6;_++)l=this.copyBit(_,8,l);l=this.copyBit(7,8,l),l=this.copyBit(8,8,l),l=this.copyBit(8,7,l);for(let _=5;_>=0;_--)l=this.copyBit(8,_,l);const h=this.bitMatrix.getHeight();let g=0;const v=h-7;for(let _=h-1;_>=v;_--)g=this.copyBit(8,_,g);for(let _=h-8;_<h;_++)g=this.copyBit(_,8,g);if(this.parsedFormatInfo=Oi.decodeFormatInformation(l,g),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new F}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const l=this.bitMatrix.getHeight(),h=Math.floor((l-17)/4);if(h<=6)return En.getVersionForNumber(h);let g=0;const v=l-11;for(let b=5;b>=0;b--)for(let N=l-9;N>=v;N--)g=this.copyBit(N,b,g);let _=En.decodeVersionInformation(g);if(_!==null&&_.getDimensionForVersion()===l)return this.parsedVersion=_,_;g=0;for(let b=5;b>=0;b--)for(let N=l-9;N>=v;N--)g=this.copyBit(b,N,g);if(_=En.decodeVersionInformation(g),_!==null&&_.getDimensionForVersion()===l)return this.parsedVersion=_,_;throw new F}copyBit(l,h,g){return(this.isMirror?this.bitMatrix.get(h,l):this.bitMatrix.get(l,h))?g<<1|1:g<<1}readCodewords(){const l=this.readFormatInformation(),h=this.readVersion(),g=qi.values.get(l.getDataMask()),v=this.bitMatrix.getHeight();g.unmaskBitMatrix(this.bitMatrix,v);const _=h.buildFunctionPattern();let b=!0;const N=new Uint8Array(h.getTotalCodewords());let D=0,z=0,ee=0;for(let fe=v-1;fe>0;fe-=2){fe===6&&fe--;for(let _e=0;_e<v;_e++){const Pe=b?v-1-_e:_e;for(let qe=0;qe<2;qe++)_.get(fe-qe,Pe)||(ee++,z<<=1,this.bitMatrix.get(fe-qe,Pe)&&(z|=1),ee===8&&(N[D++]=z,ee=0,z=0))}b=!b}if(D!==h.getTotalCodewords())throw new F;return N}remask(){if(this.parsedFormatInfo===null)return;const l=qi.values[this.parsedFormatInfo.getDataMask()],h=this.bitMatrix.getHeight();l.unmaskBitMatrix(this.bitMatrix,h)}setMirror(l){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=l}mirror(){const l=this.bitMatrix;for(let h=0,g=l.getWidth();h<g;h++)for(let v=h+1,_=l.getHeight();v<_;v++)l.get(h,v)!==l.get(v,h)&&(l.flip(v,h),l.flip(h,v))}}class vo{constructor(l,h){this.numDataCodewords=l,this.codewords=h}static getDataBlocks(l,h,g){if(l.length!==h.getTotalCodewords())throw new w;const v=h.getECBlocksForLevel(g);let _=0;const b=v.getECBlocks();for(const qe of b)_+=qe.getCount();const N=new Array(_);let D=0;for(const qe of b)for(let Ke=0;Ke<qe.getCount();Ke++){const rt=qe.getDataCodewords(),_t=v.getECCodewordsPerBlock()+rt;N[D++]=new vo(rt,new Uint8Array(_t))}const z=N[0].codewords.length;let ee=N.length-1;for(;ee>=0&&N[ee].codewords.length!==z;)ee--;ee++;const fe=z-v.getECCodewordsPerBlock();let _e=0;for(let qe=0;qe<fe;qe++)for(let Ke=0;Ke<D;Ke++)N[Ke].codewords[qe]=l[_e++];for(let qe=ee;qe<D;qe++)N[qe].codewords[fe]=l[_e++];const Pe=N[0].codewords.length;for(let qe=fe;qe<Pe;qe++)for(let Ke=0;Ke<D;Ke++){const rt=Ke<ee?qe:qe+1;N[Ke].codewords[rt]=l[_e++]}return N}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Ss;(function(he){he[he.TERMINATOR=0]="TERMINATOR",he[he.NUMERIC=1]="NUMERIC",he[he.ALPHANUMERIC=2]="ALPHANUMERIC",he[he.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",he[he.BYTE=4]="BYTE",he[he.ECI=5]="ECI",he[he.KANJI=6]="KANJI",he[he.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",he[he.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",he[he.HANZI=9]="HANZI"})(Ss||(Ss={}));class jn{constructor(l,h,g,v){this.value=l,this.stringValue=h,this.characterCountBitsForVersions=g,this.bits=v,jn.FOR_BITS.set(v,this),jn.FOR_VALUE.set(l,this)}static forBits(l){const h=jn.FOR_BITS.get(l);if(h===void 0)throw new w;return h}getCharacterCountBits(l){const h=l.getVersionNumber();let g;return h<=9?g=0:h<=26?g=1:g=2,this.characterCountBitsForVersions[g]}getValue(){return this.value}getBits(){return this.bits}equals(l){if(!(l instanceof jn))return!1;const h=l;return this.value===h.value}toString(){return this.stringValue}}jn.FOR_BITS=new Map,jn.FOR_VALUE=new Map,jn.TERMINATOR=new jn(Ss.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),jn.NUMERIC=new jn(Ss.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),jn.ALPHANUMERIC=new jn(Ss.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),jn.STRUCTURED_APPEND=new jn(Ss.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),jn.BYTE=new jn(Ss.BYTE,"BYTE",Int32Array.from([8,16,16]),4),jn.ECI=new jn(Ss.ECI,"ECI",Int32Array.from([0,0,0]),7),jn.KANJI=new jn(Ss.KANJI,"KANJI",Int32Array.from([8,10,12]),8),jn.FNC1_FIRST_POSITION=new jn(Ss.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),jn.FNC1_SECOND_POSITION=new jn(Ss.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),jn.HANZI=new jn(Ss.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Zr{static decode(l,h,g,v){const _=new Ri(l);let b=new Y;const N=new Array;let D=-1,z=-1;try{let ee=null,fe=!1,_e;do{if(_.available()<4)_e=jn.TERMINATOR;else{const Pe=_.readBits(4);_e=jn.forBits(Pe)}switch(_e){case jn.TERMINATOR:break;case jn.FNC1_FIRST_POSITION:case jn.FNC1_SECOND_POSITION:fe=!0;break;case jn.STRUCTURED_APPEND:if(_.available()<16)throw new F;D=_.readBits(8),z=_.readBits(8);break;case jn.ECI:const Pe=Zr.parseECIValue(_);if(ee=L.getCharacterSetECIByValue(Pe),ee===null)throw new F;break;case jn.HANZI:const qe=_.readBits(4),Ke=_.readBits(_e.getCharacterCountBits(h));qe===Zr.GB2312_SUBSET&&Zr.decodeHanziSegment(_,b,Ke);break;default:const rt=_.readBits(_e.getCharacterCountBits(h));switch(_e){case jn.NUMERIC:Zr.decodeNumericSegment(_,b,rt);break;case jn.ALPHANUMERIC:Zr.decodeAlphanumericSegment(_,b,rt,fe);break;case jn.BYTE:Zr.decodeByteSegment(_,b,rt,ee,N,v);break;case jn.KANJI:Zr.decodeKanjiSegment(_,b,rt);break;default:throw new F}break}}while(_e!==jn.TERMINATOR)}catch{throw new F}return new Ve(l,b.toString(),N.length===0?null:N,g===null?null:g.toString(),D,z)}static decodeHanziSegment(l,h,g){if(g*13>l.available())throw new F;const v=new Uint8Array(2*g);let _=0;for(;g>0;){const b=l.readBits(13);let N=b/96<<8&4294967295|b%96;N<959?N+=41377:N+=42657,v[_]=N>>8&255,v[_+1]=N&255,_+=2,g--}try{h.append(U.decode(v,q.GB2312))}catch(b){throw new F(b)}}static decodeKanjiSegment(l,h,g){if(g*13>l.available())throw new F;const v=new Uint8Array(2*g);let _=0;for(;g>0;){const b=l.readBits(13);let N=b/192<<8&4294967295|b%192;N<7936?N+=33088:N+=49472,v[_]=N>>8,v[_+1]=N,_+=2,g--}try{h.append(U.decode(v,q.SHIFT_JIS))}catch(b){throw new F(b)}}static decodeByteSegment(l,h,g,v,_,b){if(8*g>l.available())throw new F;const N=new Uint8Array(g);for(let z=0;z<g;z++)N[z]=l.readBits(8);let D;v===null?D=q.guessEncoding(N,b):D=v.getName();try{h.append(U.decode(N,D))}catch(z){throw new F(z)}_.push(N)}static toAlphaNumericChar(l){if(l>=Zr.ALPHANUMERIC_CHARS.length)throw new F;return Zr.ALPHANUMERIC_CHARS[l]}static decodeAlphanumericSegment(l,h,g,v){const _=h.length();for(;g>1;){if(l.available()<11)throw new F;const b=l.readBits(11);h.append(Zr.toAlphaNumericChar(Math.floor(b/45))),h.append(Zr.toAlphaNumericChar(b%45)),g-=2}if(g===1){if(l.available()<6)throw new F;h.append(Zr.toAlphaNumericChar(l.readBits(6)))}if(v)for(let b=_;b<h.length();b++)h.charAt(b)==="%"&&(b<h.length()-1&&h.charAt(b+1)==="%"?h.deleteCharAt(b+1):h.setCharAt(b,""))}static decodeNumericSegment(l,h,g){for(;g>=3;){if(l.available()<10)throw new F;const v=l.readBits(10);if(v>=1e3)throw new F;h.append(Zr.toAlphaNumericChar(Math.floor(v/100))),h.append(Zr.toAlphaNumericChar(Math.floor(v/10)%10)),h.append(Zr.toAlphaNumericChar(v%10)),g-=3}if(g===2){if(l.available()<7)throw new F;const v=l.readBits(7);if(v>=100)throw new F;h.append(Zr.toAlphaNumericChar(Math.floor(v/10))),h.append(Zr.toAlphaNumericChar(v%10))}else if(g===1){if(l.available()<4)throw new F;const v=l.readBits(4);if(v>=10)throw new F;h.append(Zr.toAlphaNumericChar(v))}}static parseECIValue(l){const h=l.readBits(8);if((h&128)===0)return h&127;if((h&192)===128){const g=l.readBits(8);return(h&63)<<8&4294967295|g}if((h&224)===192){const g=l.readBits(16);return(h&31)<<16&4294967295|g}throw new F}}Zr.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Zr.GB2312_SUBSET=1;class vl{constructor(l){this.mirrored=l}isMirrored(){return this.mirrored}applyMirroredCorrection(l){if(!this.mirrored||l===null||l.length<3)return;const h=l[0];l[0]=l[2],l[2]=h}}class Po{constructor(){this.rsDecoder=new ot(St.QR_CODE_FIELD_256)}decodeBooleanArray(l,h){return this.decodeBitMatrix(ne.parseFromBooleanArray(l),h)}decodeBitMatrix(l,h){const g=new ms(l);let v=null;try{return this.decodeBitMatrixParser(g,h)}catch(_){v=_}try{g.remask(),g.setMirror(!0),g.readVersion(),g.readFormatInformation(),g.mirror();const _=this.decodeBitMatrixParser(g,h);return _.setOther(new vl(!0)),_}catch(_){throw v!==null?v:_}}decodeBitMatrixParser(l,h){const g=l.readVersion(),v=l.readFormatInformation().getErrorCorrectionLevel(),_=l.readCodewords(),b=vo.getDataBlocks(_,g,v);let N=0;for(const ee of b)N+=ee.getNumDataCodewords();const D=new Uint8Array(N);let z=0;for(const ee of b){const fe=ee.getCodewords(),_e=ee.getNumDataCodewords();this.correctErrors(fe,_e);for(let Pe=0;Pe<_e;Pe++)D[z++]=fe[Pe]}return Zr.decode(D,g,v,h)}correctErrors(l,h){const g=new Int32Array(l);try{this.rsDecoder.decode(g,l.length-h)}catch{throw new E}for(let v=0;v<h;v++)l[v]=g[v]}}class Ts extends Xe{constructor(l,h,g){super(l,h),this.estimatedModuleSize=g}aboutEquals(l,h,g){if(Math.abs(h-this.getY())<=l&&Math.abs(g-this.getX())<=l){const v=Math.abs(l-this.estimatedModuleSize);return v<=1||v<=this.estimatedModuleSize}return!1}combineEstimate(l,h,g){const v=(this.getX()+h)/2,_=(this.getY()+l)/2,b=(this.estimatedModuleSize+g)/2;return new Ts(v,_,b)}}class ea{constructor(l,h,g,v,_,b,N){this.image=l,this.startX=h,this.startY=g,this.width=v,this.height=_,this.moduleSize=b,this.resultPointCallback=N,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const l=this.startX,h=this.height,g=this.width,v=l+g,_=this.startY+h/2,b=new Int32Array(3),N=this.image;for(let D=0;D<h;D++){const z=_+((D&1)===0?Math.floor((D+1)/2):-Math.floor((D+1)/2));b[0]=0,b[1]=0,b[2]=0;let ee=l;for(;ee<v&&!N.get(ee,z);)ee++;let fe=0;for(;ee<v;){if(N.get(ee,z))if(fe===1)b[1]++;else if(fe===2){if(this.foundPatternCross(b)){const _e=this.handlePossibleCenter(b,z,ee);if(_e!==null)return _e}b[0]=b[2],b[1]=1,b[2]=0,fe=1}else b[++fe]++;else fe===1&&fe++,b[fe]++;ee++}if(this.foundPatternCross(b)){const _e=this.handlePossibleCenter(b,z,v);if(_e!==null)return _e}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new pe}static centerFromEnd(l,h){return h-l[2]-l[1]/2}foundPatternCross(l){const h=this.moduleSize,g=h/2;for(let v=0;v<3;v++)if(Math.abs(h-l[v])>=g)return!1;return!0}crossCheckVertical(l,h,g,v){const _=this.image,b=_.getHeight(),N=this.crossCheckStateCount;N[0]=0,N[1]=0,N[2]=0;let D=l;for(;D>=0&&_.get(h,D)&&N[1]<=g;)N[1]++,D--;if(D<0||N[1]>g)return NaN;for(;D>=0&&!_.get(h,D)&&N[0]<=g;)N[0]++,D--;if(N[0]>g)return NaN;for(D=l+1;D<b&&_.get(h,D)&&N[1]<=g;)N[1]++,D++;if(D===b||N[1]>g)return NaN;for(;D<b&&!_.get(h,D)&&N[2]<=g;)N[2]++,D++;if(N[2]>g)return NaN;const z=N[0]+N[1]+N[2];return 5*Math.abs(z-v)>=2*v?NaN:this.foundPatternCross(N)?ea.centerFromEnd(N,D):NaN}handlePossibleCenter(l,h,g){const v=l[0]+l[1]+l[2],_=ea.centerFromEnd(l,g),b=this.crossCheckVertical(h,_,2*l[1],v);if(!isNaN(b)){const N=(l[0]+l[1]+l[2])/3;for(const z of this.possibleCenters)if(z.aboutEquals(N,b,_))return z.combineEstimate(b,_,N);const D=new Ts(_,b,N);this.possibleCenters.push(D),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(D)}return null}}class eo extends Xe{constructor(l,h,g,v){super(l,h),this.estimatedModuleSize=g,this.count=v,v===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(l,h,g){if(Math.abs(h-this.getY())<=l&&Math.abs(g-this.getX())<=l){const v=Math.abs(l-this.estimatedModuleSize);return v<=1||v<=this.estimatedModuleSize}return!1}combineEstimate(l,h,g){const v=this.count+1,_=(this.count*this.getX()+h)/v,b=(this.count*this.getY()+l)/v,N=(this.count*this.estimatedModuleSize+g)/v;return new eo(_,b,N,v)}}class ta{constructor(l){this.bottomLeft=l[0],this.topLeft=l[1],this.topRight=l[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class ui{constructor(l,h){this.image=l,this.resultPointCallback=h,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=h}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(l){const h=l!=null&&l.get(re.TRY_HARDER)!==void 0,g=l!=null&&l.get(re.PURE_BARCODE)!==void 0,v=this.image,_=v.getHeight(),b=v.getWidth();let N=Math.floor(3*_/(4*ui.MAX_MODULES));(N<ui.MIN_SKIP||h)&&(N=ui.MIN_SKIP);let D=!1;const z=new Int32Array(5);for(let fe=N-1;fe<_&&!D;fe+=N){z[0]=0,z[1]=0,z[2]=0,z[3]=0,z[4]=0;let _e=0;for(let Pe=0;Pe<b;Pe++)if(v.get(Pe,fe))(_e&1)===1&&_e++,z[_e]++;else if((_e&1)===0)if(_e===4)if(ui.foundPatternCross(z)){if(this.handlePossibleCenter(z,fe,Pe,g)===!0)if(N=2,this.hasSkipped===!0)D=this.haveMultiplyConfirmedCenters();else{const Ke=this.findRowSkip();Ke>z[2]&&(fe+=Ke-z[2]-N,Pe=b-1)}else{z[0]=z[2],z[1]=z[3],z[2]=z[4],z[3]=1,z[4]=0,_e=3;continue}_e=0,z[0]=0,z[1]=0,z[2]=0,z[3]=0,z[4]=0}else z[0]=z[2],z[1]=z[3],z[2]=z[4],z[3]=1,z[4]=0,_e=3;else z[++_e]++;else z[_e]++;ui.foundPatternCross(z)&&this.handlePossibleCenter(z,fe,b,g)===!0&&(N=z[0],this.hasSkipped&&(D=this.haveMultiplyConfirmedCenters()))}const ee=this.selectBestPatterns();return Xe.orderBestPatterns(ee),new ta(ee)}static centerFromEnd(l,h){return h-l[4]-l[3]-l[2]/2}static foundPatternCross(l){let h=0;for(let _=0;_<5;_++){const b=l[_];if(b===0)return!1;h+=b}if(h<7)return!1;const g=h/7,v=g/2;return Math.abs(g-l[0])<v&&Math.abs(g-l[1])<v&&Math.abs(3*g-l[2])<3*v&&Math.abs(g-l[3])<v&&Math.abs(g-l[4])<v}getCrossCheckStateCount(){const l=this.crossCheckStateCount;return l[0]=0,l[1]=0,l[2]=0,l[3]=0,l[4]=0,l}crossCheckDiagonal(l,h,g,v){const _=this.getCrossCheckStateCount();let b=0;const N=this.image;for(;l>=b&&h>=b&&N.get(h-b,l-b);)_[2]++,b++;if(l<b||h<b)return!1;for(;l>=b&&h>=b&&!N.get(h-b,l-b)&&_[1]<=g;)_[1]++,b++;if(l<b||h<b||_[1]>g)return!1;for(;l>=b&&h>=b&&N.get(h-b,l-b)&&_[0]<=g;)_[0]++,b++;if(_[0]>g)return!1;const D=N.getHeight(),z=N.getWidth();for(b=1;l+b<D&&h+b<z&&N.get(h+b,l+b);)_[2]++,b++;if(l+b>=D||h+b>=z)return!1;for(;l+b<D&&h+b<z&&!N.get(h+b,l+b)&&_[3]<g;)_[3]++,b++;if(l+b>=D||h+b>=z||_[3]>=g)return!1;for(;l+b<D&&h+b<z&&N.get(h+b,l+b)&&_[4]<g;)_[4]++,b++;if(_[4]>=g)return!1;const ee=_[0]+_[1]+_[2]+_[3]+_[4];return Math.abs(ee-v)<2*v&&ui.foundPatternCross(_)}crossCheckVertical(l,h,g,v){const _=this.image,b=_.getHeight(),N=this.getCrossCheckStateCount();let D=l;for(;D>=0&&_.get(h,D);)N[2]++,D--;if(D<0)return NaN;for(;D>=0&&!_.get(h,D)&&N[1]<=g;)N[1]++,D--;if(D<0||N[1]>g)return NaN;for(;D>=0&&_.get(h,D)&&N[0]<=g;)N[0]++,D--;if(N[0]>g)return NaN;for(D=l+1;D<b&&_.get(h,D);)N[2]++,D++;if(D===b)return NaN;for(;D<b&&!_.get(h,D)&&N[3]<g;)N[3]++,D++;if(D===b||N[3]>=g)return NaN;for(;D<b&&_.get(h,D)&&N[4]<g;)N[4]++,D++;if(N[4]>=g)return NaN;const z=N[0]+N[1]+N[2]+N[3]+N[4];return 5*Math.abs(z-v)>=2*v?NaN:ui.foundPatternCross(N)?ui.centerFromEnd(N,D):NaN}crossCheckHorizontal(l,h,g,v){const _=this.image,b=_.getWidth(),N=this.getCrossCheckStateCount();let D=l;for(;D>=0&&_.get(D,h);)N[2]++,D--;if(D<0)return NaN;for(;D>=0&&!_.get(D,h)&&N[1]<=g;)N[1]++,D--;if(D<0||N[1]>g)return NaN;for(;D>=0&&_.get(D,h)&&N[0]<=g;)N[0]++,D--;if(N[0]>g)return NaN;for(D=l+1;D<b&&_.get(D,h);)N[2]++,D++;if(D===b)return NaN;for(;D<b&&!_.get(D,h)&&N[3]<g;)N[3]++,D++;if(D===b||N[3]>=g)return NaN;for(;D<b&&_.get(D,h)&&N[4]<g;)N[4]++,D++;if(N[4]>=g)return NaN;const z=N[0]+N[1]+N[2]+N[3]+N[4];return 5*Math.abs(z-v)>=v?NaN:ui.foundPatternCross(N)?ui.centerFromEnd(N,D):NaN}handlePossibleCenter(l,h,g,v){const _=l[0]+l[1]+l[2]+l[3]+l[4];let b=ui.centerFromEnd(l,g),N=this.crossCheckVertical(h,Math.floor(b),l[2],_);if(!isNaN(N)&&(b=this.crossCheckHorizontal(Math.floor(b),Math.floor(N),l[2],_),!isNaN(b)&&(!v||this.crossCheckDiagonal(Math.floor(N),Math.floor(b),l[2],_)))){const D=_/7;let z=!1;const ee=this.possibleCenters;for(let fe=0,_e=ee.length;fe<_e;fe++){const Pe=ee[fe];if(Pe.aboutEquals(D,N,b)){ee[fe]=Pe.combineEstimate(N,b,D),z=!0;break}}if(!z){const fe=new eo(b,N,D);ee.push(fe),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(fe)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let h=null;for(const g of this.possibleCenters)if(g.getCount()>=ui.CENTER_QUORUM)if(h==null)h=g;else return this.hasSkipped=!0,Math.floor((Math.abs(h.getX()-g.getX())-Math.abs(h.getY()-g.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let l=0,h=0;const g=this.possibleCenters.length;for(const b of this.possibleCenters)b.getCount()>=ui.CENTER_QUORUM&&(l++,h+=b.getEstimatedModuleSize());if(l<3)return!1;const v=h/g;let _=0;for(const b of this.possibleCenters)_+=Math.abs(b.getEstimatedModuleSize()-v);return _<=.05*h}selectBestPatterns(){const l=this.possibleCenters.length;if(l<3)throw new pe;const h=this.possibleCenters;let g;if(l>3){let v=0,_=0;for(const D of this.possibleCenters){const z=D.getEstimatedModuleSize();v+=z,_+=z*z}g=v/l;let b=Math.sqrt(_/l-g*g);h.sort((D,z)=>{const ee=Math.abs(z.getEstimatedModuleSize()-g),fe=Math.abs(D.getEstimatedModuleSize()-g);return ee<fe?-1:ee>fe?1:0});const N=Math.max(.2*g,b);for(let D=0;D<h.length&&h.length>3;D++){const z=h[D];Math.abs(z.getEstimatedModuleSize()-g)>N&&(h.splice(D,1),D--)}}if(h.length>3){let v=0;for(const _ of h)v+=_.getEstimatedModuleSize();g=v/h.length,h.sort((_,b)=>{if(b.getCount()===_.getCount()){const N=Math.abs(b.getEstimatedModuleSize()-g),D=Math.abs(_.getEstimatedModuleSize()-g);return N<D?1:N>D?-1:0}else return b.getCount()-_.getCount()}),h.splice(3)}return[h[0],h[1],h[2]]}}ui.CENTER_QUORUM=2,ui.MIN_SKIP=3,ui.MAX_MODULES=57;class Fn{constructor(l){this.image=l}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(l){this.resultPointCallback=l==null?null:l.get(re.NEED_RESULT_POINT_CALLBACK);const g=new ui(this.image,this.resultPointCallback).find(l);return this.processFinderPatternInfo(g)}processFinderPatternInfo(l){const h=l.getTopLeft(),g=l.getTopRight(),v=l.getBottomLeft(),_=this.calculateModuleSize(h,g,v);if(_<1)throw new pe("No pattern found in proccess finder.");const b=Fn.computeDimension(h,g,v,_),N=En.getProvisionalVersionForDimension(b),D=N.getDimensionForVersion()-7;let z=null;if(N.getAlignmentPatternCenters().length>0){const Pe=g.getX()-h.getX()+v.getX(),qe=g.getY()-h.getY()+v.getY(),Ke=1-3/D,rt=Math.floor(h.getX()+Ke*(Pe-h.getX())),_t=Math.floor(h.getY()+Ke*(qe-h.getY()));for(let Bt=4;Bt<=16;Bt<<=1)try{z=this.findAlignmentInRegion(_,rt,_t,Bt);break}catch(Ut){if(!(Ut instanceof pe))throw Ut}}const ee=Fn.createTransform(h,g,v,z,b),fe=Fn.sampleGrid(this.image,ee,b);let _e;return z===null?_e=[v,h,g]:_e=[v,h,g,z],new Ft(fe,_e)}static createTransform(l,h,g,v,_){const b=_-3.5;let N,D,z,ee;return v!==null?(N=v.getX(),D=v.getY(),z=b-3,ee=z):(N=h.getX()-l.getX()+g.getX(),D=h.getY()-l.getY()+g.getY(),z=b,ee=b),cn.quadrilateralToQuadrilateral(3.5,3.5,b,3.5,z,ee,3.5,b,l.getX(),l.getY(),h.getX(),h.getY(),N,D,g.getX(),g.getY())}static sampleGrid(l,h,g){return gn.getInstance().sampleGridWithTransform(l,g,g,h)}static computeDimension(l,h,g,v){const _=Je.round(Xe.distance(l,h)/v),b=Je.round(Xe.distance(l,g)/v);let N=Math.floor((_+b)/2)+7;switch(N&3){case 0:N++;break;case 2:N--;break;case 3:throw new pe("Dimensions could be not found.")}return N}calculateModuleSize(l,h,g){return(this.calculateModuleSizeOneWay(l,h)+this.calculateModuleSizeOneWay(l,g))/2}calculateModuleSizeOneWay(l,h){const g=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(l.getX()),Math.floor(l.getY()),Math.floor(h.getX()),Math.floor(h.getY())),v=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(h.getX()),Math.floor(h.getY()),Math.floor(l.getX()),Math.floor(l.getY()));return isNaN(g)?v/7:isNaN(v)?g/7:(g+v)/14}sizeOfBlackWhiteBlackRunBothWays(l,h,g,v){let _=this.sizeOfBlackWhiteBlackRun(l,h,g,v),b=1,N=l-(g-l);N<0?(b=l/(l-N),N=0):N>=this.image.getWidth()&&(b=(this.image.getWidth()-1-l)/(N-l),N=this.image.getWidth()-1);let D=Math.floor(h-(v-h)*b);return b=1,D<0?(b=h/(h-D),D=0):D>=this.image.getHeight()&&(b=(this.image.getHeight()-1-h)/(D-h),D=this.image.getHeight()-1),N=Math.floor(l+(N-l)*b),_+=this.sizeOfBlackWhiteBlackRun(l,h,N,D),_-1}sizeOfBlackWhiteBlackRun(l,h,g,v){const _=Math.abs(v-h)>Math.abs(g-l);if(_){let Pe=l;l=h,h=Pe,Pe=g,g=v,v=Pe}const b=Math.abs(g-l),N=Math.abs(v-h);let D=-b/2;const z=l<g?1:-1,ee=h<v?1:-1;let fe=0;const _e=g+z;for(let Pe=l,qe=h;Pe!==_e;Pe+=z){const Ke=_?qe:Pe,rt=_?Pe:qe;if(fe===1===this.image.get(Ke,rt)){if(fe===2)return Je.distance(Pe,qe,l,h);fe++}if(D+=N,D>0){if(qe===v)break;qe+=ee,D-=b}}return fe===2?Je.distance(g+z,v,l,h):NaN}findAlignmentInRegion(l,h,g,v){const _=Math.floor(v*l),b=Math.max(0,h-_),N=Math.min(this.image.getWidth()-1,h+_);if(N-b<l*3)throw new pe("Alignment top exceeds estimated module size.");const D=Math.max(0,g-_),z=Math.min(this.image.getHeight()-1,g+_);if(z-D<l*3)throw new pe("Alignment bottom exceeds estimated module size.");return new ea(this.image,b,D,N-b,z-D,l,this.resultPointCallback).find()}}class na{constructor(){this.decoder=new Po}getDecoder(){return this.decoder}decode(l,h){let g,v;if(h!=null&&h.get(re.PURE_BARCODE)!==void 0){const D=na.extractPureBits(l.getBlackMatrix());g=this.decoder.decodeBitMatrix(D,h),v=na.NO_POINTS}else{const D=new Fn(l.getBlackMatrix()).detect(h);g=this.decoder.decodeBitMatrix(D.getBits(),h),v=D.getPoints()}g.getOther()instanceof vl&&g.getOther().applyMirroredCorrection(v);const _=new Z(g.getText(),g.getRawBytes(),void 0,v,de.QR_CODE,void 0),b=g.getByteSegments();b!==null&&_.putMetadata(Ue.BYTE_SEGMENTS,b);const N=g.getECLevel();return N!==null&&_.putMetadata(Ue.ERROR_CORRECTION_LEVEL,N),g.hasStructuredAppend()&&(_.putMetadata(Ue.STRUCTURED_APPEND_SEQUENCE,g.getStructuredAppendSequenceNumber()),_.putMetadata(Ue.STRUCTURED_APPEND_PARITY,g.getStructuredAppendParity())),_}reset(){}static extractPureBits(l){const h=l.getTopLeftOnBit(),g=l.getBottomRightOnBit();if(h===null||g===null)throw new pe;const v=this.moduleSize(h,l);let _=h[1],b=g[1],N=h[0],D=g[0];if(N>=D||_>=b)throw new pe;if(b-_!==D-N&&(D=N+(b-_),D>=l.getWidth()))throw new pe;const z=Math.round((D-N+1)/v),ee=Math.round((b-_+1)/v);if(z<=0||ee<=0)throw new pe;if(ee!==z)throw new pe;const fe=Math.floor(v/2);_+=fe,N+=fe;const _e=N+Math.floor((z-1)*v)-D;if(_e>0){if(_e>fe)throw new pe;N-=_e}const Pe=_+Math.floor((ee-1)*v)-b;if(Pe>0){if(Pe>fe)throw new pe;_-=Pe}const qe=new ne(z,ee);for(let Ke=0;Ke<ee;Ke++){const rt=_+Math.floor(Ke*v);for(let _t=0;_t<z;_t++)l.get(N+Math.floor(_t*v),rt)&&qe.set(_t,Ke)}return qe}static moduleSize(l,h){const g=h.getHeight(),v=h.getWidth();let _=l[0],b=l[1],N=!0,D=0;for(;_<v&&b<g;){if(N!==h.get(_,b)){if(++D===5)break;N=!N}_++,b++}if(_===v||b===g)throw new pe;return(_-l[0])/7}}na.NO_POINTS=new Array;class Vn{PDF417Common(){}static getBitCountSum(l){return Je.sum(l)}static toIntArray(l){if(l==null||!l.length)return Vn.EMPTY_INT_ARRAY;const h=new Int32Array(l.length);let g=0;for(const v of l)h[g++]=v;return h}static getCodeword(l){const h=W.binarySearch(Vn.SYMBOL_TABLE,l&262143);return h<0?-1:(Vn.CODEWORD_TABLE[h]-1)%Vn.NUMBER_OF_CODEWORDS}}Vn.NUMBER_OF_CODEWORDS=929,Vn.MAX_CODEWORDS_IN_BARCODE=Vn.NUMBER_OF_CODEWORDS-1,Vn.MIN_ROWS_IN_BARCODE=3,Vn.MAX_ROWS_IN_BARCODE=90,Vn.MODULES_IN_CODEWORD=17,Vn.MODULES_IN_STOP_PATTERN=18,Vn.BARS_IN_MODULE=8,Vn.EMPTY_INT_ARRAY=new Int32Array([]),Vn.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Vn.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Qo{constructor(l,h){this.bits=l,this.points=h}getBits(){return this.bits}getPoints(){return this.points}}class Bn{static detectMultiple(l,h,g){let v=l.getBlackMatrix(),_=Bn.detect(g,v);return _.length||(v=v.clone(),v.rotate180(),_=Bn.detect(g,v)),new Qo(v,_)}static detect(l,h){const g=new Array;let v=0,_=0,b=!1;for(;v<h.getHeight();){const N=Bn.findVertices(h,v,_);if(N[0]==null&&N[3]==null){if(!b)break;b=!1,_=0;for(const D of g)D[1]!=null&&(v=Math.trunc(Math.max(v,D[1].getY()))),D[3]!=null&&(v=Math.max(v,Math.trunc(D[3].getY())));v+=Bn.ROW_STEP;continue}if(b=!0,g.push(N),!l)break;N[2]!=null?(_=Math.trunc(N[2].getX()),v=Math.trunc(N[2].getY())):(_=Math.trunc(N[4].getX()),v=Math.trunc(N[4].getY()))}return g}static findVertices(l,h,g){const v=l.getHeight(),_=l.getWidth(),b=new Array(8);return Bn.copyToResult(b,Bn.findRowsWithPattern(l,v,_,h,g,Bn.START_PATTERN),Bn.INDEXES_START_PATTERN),b[4]!=null&&(g=Math.trunc(b[4].getX()),h=Math.trunc(b[4].getY())),Bn.copyToResult(b,Bn.findRowsWithPattern(l,v,_,h,g,Bn.STOP_PATTERN),Bn.INDEXES_STOP_PATTERN),b}static copyToResult(l,h,g){for(let v=0;v<g.length;v++)l[g[v]]=h[v]}static findRowsWithPattern(l,h,g,v,_,b){const N=new Array(4);let D=!1;const z=new Int32Array(b.length);for(;v<h;v+=Bn.ROW_STEP){let fe=Bn.findGuardPattern(l,_,v,g,!1,b,z);if(fe!=null){for(;v>0;){const _e=Bn.findGuardPattern(l,_,--v,g,!1,b,z);if(_e!=null)fe=_e;else{v++;break}}N[0]=new Xe(fe[0],v),N[1]=new Xe(fe[1],v),D=!0;break}}let ee=v+1;if(D){let fe=0,_e=Int32Array.from([Math.trunc(N[0].getX()),Math.trunc(N[1].getX())]);for(;ee<h;ee++){const Pe=Bn.findGuardPattern(l,_e[0],ee,g,!1,b,z);if(Pe!=null&&Math.abs(_e[0]-Pe[0])<Bn.MAX_PATTERN_DRIFT&&Math.abs(_e[1]-Pe[1])<Bn.MAX_PATTERN_DRIFT)_e=Pe,fe=0;else{if(fe>Bn.SKIPPED_ROW_COUNT_MAX)break;fe++}}ee-=fe+1,N[2]=new Xe(_e[0],ee),N[3]=new Xe(_e[1],ee)}return ee-v<Bn.BARCODE_MIN_HEIGHT&&W.fill(N,null),N}static findGuardPattern(l,h,g,v,_,b,N){W.fillWithin(N,0,N.length,0);let D=h,z=0;for(;l.get(D,g)&&D>0&&z++<Bn.MAX_PIXEL_DRIFT;)D--;let ee=D,fe=0,_e=b.length;for(let Pe=_;ee<v;ee++)if(l.get(ee,g)!==Pe)N[fe]++;else{if(fe===_e-1){if(Bn.patternMatchVariance(N,b,Bn.MAX_INDIVIDUAL_VARIANCE)<Bn.MAX_AVG_VARIANCE)return new Int32Array([D,ee]);D+=N[0]+N[1],C.arraycopy(N,2,N,0,fe-1),N[fe-1]=0,N[fe]=0,fe--}else fe++;N[fe]=1,Pe=!Pe}return fe===_e-1&&Bn.patternMatchVariance(N,b,Bn.MAX_INDIVIDUAL_VARIANCE)<Bn.MAX_AVG_VARIANCE?new Int32Array([D,ee-1]):null}static patternMatchVariance(l,h,g){let v=l.length,_=0,b=0;for(let z=0;z<v;z++)_+=l[z],b+=h[z];if(_<b)return 1/0;let N=_/b;g*=N;let D=0;for(let z=0;z<v;z++){let ee=l[z],fe=h[z]*N,_e=ee>fe?ee-fe:fe-ee;if(_e>g)return 1/0;D+=_e}return D/_}}Bn.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Bn.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Bn.MAX_AVG_VARIANCE=.42,Bn.MAX_INDIVIDUAL_VARIANCE=.8,Bn.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Bn.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Bn.MAX_PIXEL_DRIFT=3,Bn.MAX_PATTERN_DRIFT=5,Bn.SKIPPED_ROW_COUNT_MAX=25,Bn.ROW_STEP=5,Bn.BARCODE_MIN_HEIGHT=10;class Nr{constructor(l,h){if(h.length===0)throw new w;this.field=l;let g=h.length;if(g>1&&h[0]===0){let v=1;for(;v<g&&h[v]===0;)v++;v===g?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(g-v),C.arraycopy(h,v,this.coefficients,0,this.coefficients.length))}else this.coefficients=h}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(l){return this.coefficients[this.coefficients.length-1-l]}evaluateAt(l){if(l===0)return this.getCoefficient(0);if(l===1){let v=0;for(let _ of this.coefficients)v=this.field.add(v,_);return v}let h=this.coefficients[0],g=this.coefficients.length;for(let v=1;v<g;v++)h=this.field.add(this.field.multiply(l,h),this.coefficients[v]);return h}add(l){if(!this.field.equals(l.field))throw new w("ModulusPolys do not have same ModulusGF field");if(this.isZero())return l;if(l.isZero())return this;let h=this.coefficients,g=l.coefficients;if(h.length>g.length){let b=h;h=g,g=b}let v=new Int32Array(g.length),_=g.length-h.length;C.arraycopy(g,0,v,0,_);for(let b=_;b<g.length;b++)v[b]=this.field.add(h[b-_],g[b]);return new Nr(this.field,v)}subtract(l){if(!this.field.equals(l.field))throw new w("ModulusPolys do not have same ModulusGF field");return l.isZero()?this:this.add(l.negative())}multiply(l){return l instanceof Nr?this.multiplyOther(l):this.multiplyScalar(l)}multiplyOther(l){if(!this.field.equals(l.field))throw new w("ModulusPolys do not have same ModulusGF field");if(this.isZero()||l.isZero())return new Nr(this.field,new Int32Array([0]));let h=this.coefficients,g=h.length,v=l.coefficients,_=v.length,b=new Int32Array(g+_-1);for(let N=0;N<g;N++){let D=h[N];for(let z=0;z<_;z++)b[N+z]=this.field.add(b[N+z],this.field.multiply(D,v[z]))}return new Nr(this.field,b)}negative(){let l=this.coefficients.length,h=new Int32Array(l);for(let g=0;g<l;g++)h[g]=this.field.subtract(0,this.coefficients[g]);return new Nr(this.field,h)}multiplyScalar(l){if(l===0)return new Nr(this.field,new Int32Array([0]));if(l===1)return this;let h=this.coefficients.length,g=new Int32Array(h);for(let v=0;v<h;v++)g[v]=this.field.multiply(this.coefficients[v],l);return new Nr(this.field,g)}multiplyByMonomial(l,h){if(l<0)throw new w;if(h===0)return new Nr(this.field,new Int32Array([0]));let g=this.coefficients.length,v=new Int32Array(g+l);for(let _=0;_<g;_++)v[_]=this.field.multiply(this.coefficients[_],h);return new Nr(this.field,v)}toString(){let l=new Y;for(let h=this.getDegree();h>=0;h--){let g=this.getCoefficient(h);g!==0&&(g<0?(l.append(" - "),g=-g):l.length()>0&&l.append(" + "),(h===0||g!==1)&&l.append(g),h!==0&&(h===1?l.append("x"):(l.append("x^"),l.append(h))))}return l.toString()}}class _l{add(l,h){return(l+h)%this.modulus}subtract(l,h){return(this.modulus+l-h)%this.modulus}exp(l){return this.expTable[l]}log(l){if(l===0)throw new w;return this.logTable[l]}inverse(l){if(l===0)throw new Tt;return this.expTable[this.modulus-this.logTable[l]-1]}multiply(l,h){return l===0||h===0?0:this.expTable[(this.logTable[l]+this.logTable[h])%(this.modulus-1)]}getSize(){return this.modulus}equals(l){return l===this}}class Fr extends _l{constructor(l,h){super(),this.modulus=l,this.expTable=new Int32Array(l),this.logTable=new Int32Array(l);let g=1;for(let v=0;v<l;v++)this.expTable[v]=g,g=g*h%l;for(let v=0;v<l-1;v++)this.logTable[this.expTable[v]]=v;this.zero=new Nr(this,new Int32Array([0])),this.one=new Nr(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(l,h){if(l<0)throw new w;if(h===0)return this.zero;let g=new Int32Array(l+1);return g[0]=h,new Nr(this,g)}}Fr.PDF417_GF=new Fr(Vn.NUMBER_OF_CODEWORDS,3);class ra{constructor(){this.field=Fr.PDF417_GF}decode(l,h,g){let v=new Nr(this.field,l),_=new Int32Array(h),b=!1;for(let qe=h;qe>0;qe--){let Ke=v.evaluateAt(this.field.exp(qe));_[h-qe]=Ke,Ke!==0&&(b=!0)}if(!b)return 0;let N=this.field.getOne();if(g!=null)for(const qe of g){let Ke=this.field.exp(l.length-1-qe),rt=new Nr(this.field,new Int32Array([this.field.subtract(0,Ke),1]));N=N.multiply(rt)}let D=new Nr(this.field,_),z=this.runEuclideanAlgorithm(this.field.buildMonomial(h,1),D,h),ee=z[0],fe=z[1],_e=this.findErrorLocations(ee),Pe=this.findErrorMagnitudes(fe,ee,_e);for(let qe=0;qe<_e.length;qe++){let Ke=l.length-1-this.field.log(_e[qe]);if(Ke<0)throw E.getChecksumInstance();l[Ke]=this.field.subtract(l[Ke],Pe[qe])}return _e.length}runEuclideanAlgorithm(l,h,g){if(l.getDegree()<h.getDegree()){let _e=l;l=h,h=_e}let v=l,_=h,b=this.field.getZero(),N=this.field.getOne();for(;_.getDegree()>=Math.round(g/2);){let _e=v,Pe=b;if(v=_,b=N,v.isZero())throw E.getChecksumInstance();_=_e;let qe=this.field.getZero(),Ke=v.getCoefficient(v.getDegree()),rt=this.field.inverse(Ke);for(;_.getDegree()>=v.getDegree()&&!_.isZero();){let _t=_.getDegree()-v.getDegree(),Bt=this.field.multiply(_.getCoefficient(_.getDegree()),rt);qe=qe.add(this.field.buildMonomial(_t,Bt)),_=_.subtract(v.multiplyByMonomial(_t,Bt))}N=qe.multiply(b).subtract(Pe).negative()}let D=N.getCoefficient(0);if(D===0)throw E.getChecksumInstance();let z=this.field.inverse(D),ee=N.multiply(z),fe=_.multiply(z);return[ee,fe]}findErrorLocations(l){let h=l.getDegree(),g=new Int32Array(h),v=0;for(let _=1;_<this.field.getSize()&&v<h;_++)l.evaluateAt(_)===0&&(g[v]=this.field.inverse(_),v++);if(v!==h)throw E.getChecksumInstance();return g}findErrorMagnitudes(l,h,g){let v=h.getDegree(),_=new Int32Array(v);for(let z=1;z<=v;z++)_[v-z]=this.field.multiply(z,h.getCoefficient(z));let b=new Nr(this.field,_),N=g.length,D=new Int32Array(N);for(let z=0;z<N;z++){let ee=this.field.inverse(g[z]),fe=this.field.subtract(0,l.evaluateAt(ee)),_e=this.field.inverse(b.evaluateAt(ee));D[z]=this.field.multiply(fe,_e)}return D}}class va{constructor(l,h,g,v,_){l instanceof va?this.constructor_2(l):this.constructor_1(l,h,g,v,_)}constructor_1(l,h,g,v,_){const b=h==null||g==null,N=v==null||_==null;if(b&&N)throw new pe;b?(h=new Xe(0,v.getY()),g=new Xe(0,_.getY())):N&&(v=new Xe(l.getWidth()-1,h.getY()),_=new Xe(l.getWidth()-1,g.getY())),this.image=l,this.topLeft=h,this.bottomLeft=g,this.topRight=v,this.bottomRight=_,this.minX=Math.trunc(Math.min(h.getX(),g.getX())),this.maxX=Math.trunc(Math.max(v.getX(),_.getX())),this.minY=Math.trunc(Math.min(h.getY(),v.getY())),this.maxY=Math.trunc(Math.max(g.getY(),_.getY()))}constructor_2(l){this.image=l.image,this.topLeft=l.getTopLeft(),this.bottomLeft=l.getBottomLeft(),this.topRight=l.getTopRight(),this.bottomRight=l.getBottomRight(),this.minX=l.getMinX(),this.maxX=l.getMaxX(),this.minY=l.getMinY(),this.maxY=l.getMaxY()}static merge(l,h){return l==null?h:h==null?l:new va(l.image,l.topLeft,l.bottomLeft,h.topRight,h.bottomRight)}addMissingRows(l,h,g){let v=this.topLeft,_=this.bottomLeft,b=this.topRight,N=this.bottomRight;if(l>0){let D=g?this.topLeft:this.topRight,z=Math.trunc(D.getY()-l);z<0&&(z=0);let ee=new Xe(D.getX(),z);g?v=ee:b=ee}if(h>0){let D=g?this.bottomLeft:this.bottomRight,z=Math.trunc(D.getY()+h);z>=this.image.getHeight()&&(z=this.image.getHeight()-1);let ee=new Xe(D.getX(),z);g?_=ee:N=ee}return new va(this.image,v,_,b,N)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class to{constructor(l,h,g,v){this.columnCount=l,this.errorCorrectionLevel=v,this.rowCountUpperPart=h,this.rowCountLowerPart=g,this.rowCount=h+g}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class jo{constructor(){this.buffer=""}static form(l,h){let g=-1;function v(b,N,D,z,ee,fe){if(b==="%%")return"%";if(h[++g]===void 0)return;b=z?parseInt(z.substr(1)):void 0;let _e=ee?parseInt(ee.substr(1)):void 0,Pe;switch(fe){case"s":Pe=h[g];break;case"c":Pe=h[g][0];break;case"f":Pe=parseFloat(h[g]).toFixed(b);break;case"p":Pe=parseFloat(h[g]).toPrecision(b);break;case"e":Pe=parseFloat(h[g]).toExponential(b);break;case"x":Pe=parseInt(h[g]).toString(_e||16);break;case"d":Pe=parseFloat(parseInt(h[g],_e||10).toPrecision(b)).toFixed(0);break}Pe=typeof Pe=="object"?JSON.stringify(Pe):(+Pe).toString(_e);let qe=parseInt(D),Ke=D&&D[0]+""=="0"?"0":" ";for(;Pe.length<qe;)Pe=N!==void 0?Pe+Ke:Ke+Pe;return Pe}let _=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return l.replace(_,v)}format(l,...h){this.buffer+=jo.form(l,h)}toString(){return this.buffer}}class gs{constructor(l){this.boundingBox=new va(l),this.codewords=new Array(l.getMaxY()-l.getMinY()+1)}getCodewordNearby(l){let h=this.getCodeword(l);if(h!=null)return h;for(let g=1;g<gs.MAX_NEARBY_DISTANCE;g++){let v=this.imageRowToCodewordIndex(l)-g;if(v>=0&&(h=this.codewords[v],h!=null)||(v=this.imageRowToCodewordIndex(l)+g,v<this.codewords.length&&(h=this.codewords[v],h!=null)))return h}return null}imageRowToCodewordIndex(l){return l-this.boundingBox.getMinY()}setCodeword(l,h){this.codewords[this.imageRowToCodewordIndex(l)]=h}getCodeword(l){return this.codewords[this.imageRowToCodewordIndex(l)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const l=new jo;let h=0;for(const g of this.codewords){if(g==null){l.format("%3d:    |   %n",h++);continue}l.format("%3d: %3d|%3d%n",h++,g.getRowNumber(),g.getValue())}return l.toString()}}gs.MAX_NEARBY_DISTANCE=5;class _a{constructor(){this.values=new Map}setValue(l){l=Math.trunc(l);let h=this.values.get(l);h==null&&(h=0),h++,this.values.set(l,h)}getValue(){let l=-1,h=new Array;for(const[g,v]of this.values.entries()){const _={getKey:()=>g,getValue:()=>v};_.getValue()>l?(l=_.getValue(),h=[],h.push(_.getKey())):_.getValue()===l&&h.push(_.getKey())}return Vn.toIntArray(h)}getConfidence(l){return this.values.get(l)}}class ia extends gs{constructor(l,h){super(l),this._isLeft=h}setRowNumbers(){for(let l of this.getCodewords())l?.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(l){let h=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(h,l);let g=this.getBoundingBox(),v=this._isLeft?g.getTopLeft():g.getTopRight(),_=this._isLeft?g.getBottomLeft():g.getBottomRight(),b=this.imageRowToCodewordIndex(Math.trunc(v.getY())),N=this.imageRowToCodewordIndex(Math.trunc(_.getY())),D=-1,z=1,ee=0;for(let fe=b;fe<N;fe++){if(h[fe]==null)continue;let _e=h[fe],Pe=_e.getRowNumber()-D;if(Pe===0)ee++;else if(Pe===1)z=Math.max(z,ee),ee=1,D=_e.getRowNumber();else if(Pe<0||_e.getRowNumber()>=l.getRowCount()||Pe>fe)h[fe]=null;else{let qe;z>2?qe=(z-2)*Pe:qe=Pe;let Ke=qe>=fe;for(let rt=1;rt<=qe&&!Ke;rt++)Ke=h[fe-rt]!=null;Ke?h[fe]=null:(D=_e.getRowNumber(),ee=1)}}}getRowHeights(){let l=this.getBarcodeMetadata();if(l==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(l);let h=new Int32Array(l.getRowCount());for(let g of this.getCodewords())if(g!=null){let v=g.getRowNumber();if(v>=h.length)continue;h[v]++}return h}adjustIncompleteIndicatorColumnRowNumbers(l){let h=this.getBoundingBox(),g=this._isLeft?h.getTopLeft():h.getTopRight(),v=this._isLeft?h.getBottomLeft():h.getBottomRight(),_=this.imageRowToCodewordIndex(Math.trunc(g.getY())),b=this.imageRowToCodewordIndex(Math.trunc(v.getY())),N=this.getCodewords(),D=-1;for(let z=_;z<b;z++){if(N[z]==null)continue;let ee=N[z];ee.setRowNumberAsRowIndicatorColumn();let fe=ee.getRowNumber()-D;fe===0||(fe===1?D=ee.getRowNumber():ee.getRowNumber()>=l.getRowCount()?N[z]=null:D=ee.getRowNumber())}}getBarcodeMetadata(){let l=this.getCodewords(),h=new _a,g=new _a,v=new _a,_=new _a;for(let N of l){if(N==null)continue;N.setRowNumberAsRowIndicatorColumn();let D=N.getValue()%30,z=N.getRowNumber();switch(this._isLeft||(z+=2),z%3){case 0:g.setValue(D*3+1);break;case 1:_.setValue(D/3),v.setValue(D%3);break;case 2:h.setValue(D+1);break}}if(h.getValue().length===0||g.getValue().length===0||v.getValue().length===0||_.getValue().length===0||h.getValue()[0]<1||g.getValue()[0]+v.getValue()[0]<Vn.MIN_ROWS_IN_BARCODE||g.getValue()[0]+v.getValue()[0]>Vn.MAX_ROWS_IN_BARCODE)return null;let b=new to(h.getValue()[0],g.getValue()[0],v.getValue()[0],_.getValue()[0]);return this.removeIncorrectCodewords(l,b),b}removeIncorrectCodewords(l,h){for(let g=0;g<l.length;g++){let v=l[g];if(l[g]==null)continue;let _=v.getValue()%30,b=v.getRowNumber();if(b>h.getRowCount()){l[g]=null;continue}switch(this._isLeft||(b+=2),b%3){case 0:_*3+1!==h.getRowCountUpperPart()&&(l[g]=null);break;case 1:(Math.trunc(_/3)!==h.getErrorCorrectionLevel()||_%3!==h.getRowCountLowerPart())&&(l[g]=null);break;case 2:_+1!==h.getColumnCount()&&(l[g]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class xi{constructor(l,h){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=l,this.barcodeColumnCount=l.getColumnCount(),this.boundingBox=h,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let l=Vn.MAX_CODEWORDS_IN_BARCODE,h;do h=l,l=this.adjustRowNumbersAndGetCount();while(l>0&&l<h);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(l){l?.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let l=this.adjustRowNumbersByRow();if(l===0)return 0;for(let h=1;h<this.barcodeColumnCount+1;h++){let g=this.detectionResultColumns[h].getCodewords();for(let v=0;v<g.length;v++)g[v]!=null&&(g[v].hasValidRowNumber()||this.adjustRowNumbers(h,v,g))}return l}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let l=this.detectionResultColumns[0].getCodewords(),h=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let g=0;g<l.length;g++)if(l[g]!=null&&h[g]!=null&&l[g].getRowNumber()===h[g].getRowNumber())for(let v=1;v<=this.barcodeColumnCount;v++){let _=this.detectionResultColumns[v].getCodewords()[g];_!=null&&(_.setRowNumber(l[g].getRowNumber()),_.hasValidRowNumber()||(this.detectionResultColumns[v].getCodewords()[g]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let l=0,h=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let g=0;g<h.length;g++){if(h[g]==null)continue;let v=h[g].getRowNumber(),_=0;for(let b=this.barcodeColumnCount+1;b>0&&_<this.ADJUST_ROW_NUMBER_SKIP;b--){let N=this.detectionResultColumns[b].getCodewords()[g];N!=null&&(_=xi.adjustRowNumberIfValid(v,_,N),N.hasValidRowNumber()||l++)}}return l}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let l=0,h=this.detectionResultColumns[0].getCodewords();for(let g=0;g<h.length;g++){if(h[g]==null)continue;let v=h[g].getRowNumber(),_=0;for(let b=1;b<this.barcodeColumnCount+1&&_<this.ADJUST_ROW_NUMBER_SKIP;b++){let N=this.detectionResultColumns[b].getCodewords()[g];N!=null&&(_=xi.adjustRowNumberIfValid(v,_,N),N.hasValidRowNumber()||l++)}}return l}static adjustRowNumberIfValid(l,h,g){return g==null||g.hasValidRowNumber()||(g.isValidRowNumber(l)?(g.setRowNumber(l),h=0):++h),h}adjustRowNumbers(l,h,g){if(!this.detectionResultColumns[l-1])return;let v=g[h],_=this.detectionResultColumns[l-1].getCodewords(),b=_;this.detectionResultColumns[l+1]!=null&&(b=this.detectionResultColumns[l+1].getCodewords());let N=new Array(14);N[2]=_[h],N[3]=b[h],h>0&&(N[0]=g[h-1],N[4]=_[h-1],N[5]=b[h-1]),h>1&&(N[8]=g[h-2],N[10]=_[h-2],N[11]=b[h-2]),h<g.length-1&&(N[1]=g[h+1],N[6]=_[h+1],N[7]=b[h+1]),h<g.length-2&&(N[9]=g[h+2],N[12]=_[h+2],N[13]=b[h+2]);for(let D of N)if(xi.adjustRowNumber(v,D))return}static adjustRowNumber(l,h){return h==null?!1:h.hasValidRowNumber()&&h.getBucket()===l.getBucket()?(l.setRowNumber(h.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(l){this.boundingBox=l}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(l,h){this.detectionResultColumns[l]=h}getDetectionResultColumn(l){return this.detectionResultColumns[l]}toString(){let l=this.detectionResultColumns[0];l==null&&(l=this.detectionResultColumns[this.barcodeColumnCount+1]);let h=new jo;for(let g=0;g<l.getCodewords().length;g++){h.format("CW %3d:",g);for(let v=0;v<this.barcodeColumnCount+2;v++){if(this.detectionResultColumns[v]==null){h.format("    |   ");continue}let _=this.detectionResultColumns[v].getCodewords()[g];if(_==null){h.format("    |   ");continue}h.format(" %3d|%3d",_.getRowNumber(),_.getValue())}h.format("%n")}return h.toString()}}class sa{constructor(l,h,g,v){this.rowNumber=sa.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(l),this.endX=Math.trunc(h),this.bucket=Math.trunc(g),this.value=Math.trunc(v)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(l){return l!==sa.BARCODE_ROW_UNKNOWN&&this.bucket===l%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(l){this.rowNumber=l}toString(){return this.rowNumber+"|"+this.value}}sa.BARCODE_ROW_UNKNOWN=-1;class Wr{static initialize(){for(let l=0;l<Vn.SYMBOL_TABLE.length;l++){let h=Vn.SYMBOL_TABLE[l],g=h&1;for(let v=0;v<Vn.BARS_IN_MODULE;v++){let _=0;for(;(h&1)===g;)_+=1,h>>=1;g=h&1,Wr.RATIOS_TABLE[l]||(Wr.RATIOS_TABLE[l]=new Array(Vn.BARS_IN_MODULE)),Wr.RATIOS_TABLE[l][Vn.BARS_IN_MODULE-v-1]=Math.fround(_/Vn.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(l){let h=Wr.getDecodedCodewordValue(Wr.sampleBitCounts(l));return h!==-1?h:Wr.getClosestDecodedValue(l)}static sampleBitCounts(l){let h=Je.sum(l),g=new Int32Array(Vn.BARS_IN_MODULE),v=0,_=0;for(let b=0;b<Vn.MODULES_IN_CODEWORD;b++){let N=h/(2*Vn.MODULES_IN_CODEWORD)+b*h/Vn.MODULES_IN_CODEWORD;_+l[v]<=N&&(_+=l[v],v++),g[v]++}return g}static getDecodedCodewordValue(l){let h=Wr.getBitValue(l);return Vn.getCodeword(h)===-1?-1:h}static getBitValue(l){let h=0;for(let g=0;g<l.length;g++)for(let v=0;v<l[g];v++)h=h<<1|(g%2===0?1:0);return Math.trunc(h)}static getClosestDecodedValue(l){let h=Je.sum(l),g=new Array(Vn.BARS_IN_MODULE);if(h>1)for(let b=0;b<g.length;b++)g[b]=Math.fround(l[b]/h);let v=Zt.MAX_VALUE,_=-1;this.bSymbolTableReady||Wr.initialize();for(let b=0;b<Wr.RATIOS_TABLE.length;b++){let N=0,D=Wr.RATIOS_TABLE[b];for(let z=0;z<Vn.BARS_IN_MODULE;z++){let ee=Math.fround(D[z]-g[z]);if(N+=Math.fround(ee*ee),N>=v)break}N<v&&(v=N,_=Vn.SYMBOL_TABLE[b])}return _}}Wr.bSymbolTableReady=!1,Wr.RATIOS_TABLE=new Array(Vn.SYMBOL_TABLE.length).map(he=>new Array(Vn.BARS_IN_MODULE));class no{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(l){this.segmentIndex=l}getFileId(){return this.fileId}setFileId(l){this.fileId=l}getOptionalData(){return this.optionalData}setOptionalData(l){this.optionalData=l}isLastSegment(){return this.lastSegment}setLastSegment(l){this.lastSegment=l}getSegmentCount(){return this.segmentCount}setSegmentCount(l){this.segmentCount=l}getSender(){return this.sender||null}setSender(l){this.sender=l}getAddressee(){return this.addressee||null}setAddressee(l){this.addressee=l}getFileName(){return this.fileName}setFileName(l){this.fileName=l}getFileSize(){return this.fileSize}setFileSize(l){this.fileSize=l}getChecksum(){return this.checksum}setChecksum(l){this.checksum=l}getTimestamp(){return this.timestamp}setTimestamp(l){this.timestamp=l}}class Fo{static parseLong(l,h=void 0){return parseInt(l,h)}}class ro extends d{}ro.kind="NullPointerException";class _o{writeBytes(l){this.writeBytesOffset(l,0,l.length)}writeBytesOffset(l,h,g){if(l==null)throw new ro;if(h<0||h>l.length||g<0||h+g>l.length||h+g<0)throw new M;if(g===0)return;for(let v=0;v<g;v++)this.write(l[h+v])}flush(){}close(){}}class La extends d{}class yl extends _o{constructor(l=32){if(super(),this.count=0,l<0)throw new w("Negative initial size: "+l);this.buf=new Uint8Array(l)}ensureCapacity(l){l-this.buf.length>0&&this.grow(l)}grow(l){let g=this.buf.length<<1;if(g-l<0&&(g=l),g<0){if(l<0)throw new La;g=k.MAX_VALUE}this.buf=W.copyOfUint8Array(this.buf,g)}write(l){this.ensureCapacity(this.count+1),this.buf[this.count]=l,this.count+=1}writeBytesOffset(l,h,g){if(h<0||h>l.length||g<0||h+g-l.length>0)throw new M;this.ensureCapacity(this.count+g),C.arraycopy(l,h,this.buf,this.count,g),this.count+=g}writeTo(l){l.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return W.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(l){return l?typeof l=="string"?this.toString_string(l):this.toString_number(l):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(l){return new String(this.buf).toString()}toString_number(l){return new String(this.buf).toString()}close(){}}var Or;(function(he){he[he.ALPHA=0]="ALPHA",he[he.LOWER=1]="LOWER",he[he.MIXED=2]="MIXED",he[he.PUNCT=3]="PUNCT",he[he.ALPHA_SHIFT=4]="ALPHA_SHIFT",he[he.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Or||(Or={}));function aa(){if(typeof window<"u")return window.BigInt||null;if(typeof Bg<"u")return Bg.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let ya;function ka(he){if(typeof ya>"u"&&(ya=aa()),ya===null)throw new Error("BigInt is not supported!");return ya(he)}function io(){let he=[];he[0]=ka(1);let l=ka(900);he[1]=l;for(let h=2;h<16;h++)he[h]=he[h-1]*l;return he}class wt{static decode(l,h){let g=new Y(""),v=L.ISO8859_1;g.enableDecoding(v);let _=1,b=l[_++],N=new no;for(;_<l[0];){switch(b){case wt.TEXT_COMPACTION_MODE_LATCH:_=wt.textCompaction(l,_,g);break;case wt.BYTE_COMPACTION_MODE_LATCH:case wt.BYTE_COMPACTION_MODE_LATCH_6:_=wt.byteCompaction(b,l,v,_,g);break;case wt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:g.append(l[_++]);break;case wt.NUMERIC_COMPACTION_MODE_LATCH:_=wt.numericCompaction(l,_,g);break;case wt.ECI_CHARSET:L.getCharacterSetECIByValue(l[_++]);break;case wt.ECI_GENERAL_PURPOSE:_+=2;break;case wt.ECI_USER_DEFINED:_++;break;case wt.BEGIN_MACRO_PDF417_CONTROL_BLOCK:_=wt.decodeMacroBlock(l,_,N);break;case wt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case wt.MACRO_PDF417_TERMINATOR:throw new F;default:_--,_=wt.textCompaction(l,_,g);break}if(_<l.length)b=l[_++];else throw F.getFormatInstance()}if(g.length()===0)throw F.getFormatInstance();let D=new Ve(null,g.toString(),null,h);return D.setOther(N),D}static decodeMacroBlock(l,h,g){if(h+wt.NUMBER_OF_SEQUENCE_CODEWORDS>l[0])throw F.getFormatInstance();let v=new Int32Array(wt.NUMBER_OF_SEQUENCE_CODEWORDS);for(let N=0;N<wt.NUMBER_OF_SEQUENCE_CODEWORDS;N++,h++)v[N]=l[h];g.setSegmentIndex(k.parseInt(wt.decodeBase900toBase10(v,wt.NUMBER_OF_SEQUENCE_CODEWORDS)));let _=new Y;h=wt.textCompaction(l,h,_),g.setFileId(_.toString());let b=-1;for(l[h]===wt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(b=h+1);h<l[0];)switch(l[h]){case wt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(h++,l[h]){case wt.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let N=new Y;h=wt.textCompaction(l,h+1,N),g.setFileName(N.toString());break;case wt.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let D=new Y;h=wt.textCompaction(l,h+1,D),g.setSender(D.toString());break;case wt.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let z=new Y;h=wt.textCompaction(l,h+1,z),g.setAddressee(z.toString());break;case wt.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let ee=new Y;h=wt.numericCompaction(l,h+1,ee),g.setSegmentCount(k.parseInt(ee.toString()));break;case wt.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let fe=new Y;h=wt.numericCompaction(l,h+1,fe),g.setTimestamp(Fo.parseLong(fe.toString()));break;case wt.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let _e=new Y;h=wt.numericCompaction(l,h+1,_e),g.setChecksum(k.parseInt(_e.toString()));break;case wt.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let Pe=new Y;h=wt.numericCompaction(l,h+1,Pe),g.setFileSize(Fo.parseLong(Pe.toString()));break;default:throw F.getFormatInstance()}break;case wt.MACRO_PDF417_TERMINATOR:h++,g.setLastSegment(!0);break;default:throw F.getFormatInstance()}if(b!==-1){let N=h-b;g.isLastSegment()&&N--,g.setOptionalData(W.copyOfRange(l,b,b+N))}return h}static textCompaction(l,h,g){let v=new Int32Array((l[0]-h)*2),_=new Int32Array((l[0]-h)*2),b=0,N=!1;for(;h<l[0]&&!N;){let D=l[h++];if(D<wt.TEXT_COMPACTION_MODE_LATCH)v[b]=D/30,v[b+1]=D%30,b+=2;else switch(D){case wt.TEXT_COMPACTION_MODE_LATCH:v[b++]=wt.TEXT_COMPACTION_MODE_LATCH;break;case wt.BYTE_COMPACTION_MODE_LATCH:case wt.BYTE_COMPACTION_MODE_LATCH_6:case wt.NUMERIC_COMPACTION_MODE_LATCH:case wt.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case wt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case wt.MACRO_PDF417_TERMINATOR:h--,N=!0;break;case wt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:v[b]=wt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,D=l[h++],_[b]=D,b++;break}}return wt.decodeTextCompaction(v,_,b,g),h}static decodeTextCompaction(l,h,g,v){let _=Or.ALPHA,b=Or.ALPHA,N=0;for(;N<g;){let D=l[N],z="";switch(_){case Or.ALPHA:if(D<26)z=String.fromCharCode(65+D);else switch(D){case 26:z=" ";break;case wt.LL:_=Or.LOWER;break;case wt.ML:_=Or.MIXED;break;case wt.PS:b=_,_=Or.PUNCT_SHIFT;break;case wt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:v.append(h[N]);break;case wt.TEXT_COMPACTION_MODE_LATCH:_=Or.ALPHA;break}break;case Or.LOWER:if(D<26)z=String.fromCharCode(97+D);else switch(D){case 26:z=" ";break;case wt.AS:b=_,_=Or.ALPHA_SHIFT;break;case wt.ML:_=Or.MIXED;break;case wt.PS:b=_,_=Or.PUNCT_SHIFT;break;case wt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:v.append(h[N]);break;case wt.TEXT_COMPACTION_MODE_LATCH:_=Or.ALPHA;break}break;case Or.MIXED:if(D<wt.PL)z=wt.MIXED_CHARS[D];else switch(D){case wt.PL:_=Or.PUNCT;break;case 26:z=" ";break;case wt.LL:_=Or.LOWER;break;case wt.AL:_=Or.ALPHA;break;case wt.PS:b=_,_=Or.PUNCT_SHIFT;break;case wt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:v.append(h[N]);break;case wt.TEXT_COMPACTION_MODE_LATCH:_=Or.ALPHA;break}break;case Or.PUNCT:if(D<wt.PAL)z=wt.PUNCT_CHARS[D];else switch(D){case wt.PAL:_=Or.ALPHA;break;case wt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:v.append(h[N]);break;case wt.TEXT_COMPACTION_MODE_LATCH:_=Or.ALPHA;break}break;case Or.ALPHA_SHIFT:if(_=b,D<26)z=String.fromCharCode(65+D);else switch(D){case 26:z=" ";break;case wt.TEXT_COMPACTION_MODE_LATCH:_=Or.ALPHA;break}break;case Or.PUNCT_SHIFT:if(_=b,D<wt.PAL)z=wt.PUNCT_CHARS[D];else switch(D){case wt.PAL:_=Or.ALPHA;break;case wt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:v.append(h[N]);break;case wt.TEXT_COMPACTION_MODE_LATCH:_=Or.ALPHA;break}break}z!==""&&v.append(z),N++}}static byteCompaction(l,h,g,v,_){let b=new yl,N=0,D=0,z=!1;switch(l){case wt.BYTE_COMPACTION_MODE_LATCH:let ee=new Int32Array(6),fe=h[v++];for(;v<h[0]&&!z;)switch(ee[N++]=fe,D=900*D+fe,fe=h[v++],fe){case wt.TEXT_COMPACTION_MODE_LATCH:case wt.BYTE_COMPACTION_MODE_LATCH:case wt.NUMERIC_COMPACTION_MODE_LATCH:case wt.BYTE_COMPACTION_MODE_LATCH_6:case wt.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case wt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case wt.MACRO_PDF417_TERMINATOR:v--,z=!0;break;default:if(N%5===0&&N>0){for(let _e=0;_e<6;++_e)b.write(Number(ka(D)>>ka(8*(5-_e))));D=0,N=0}break}v===h[0]&&fe<wt.TEXT_COMPACTION_MODE_LATCH&&(ee[N++]=fe);for(let _e=0;_e<N;_e++)b.write(ee[_e]);break;case wt.BYTE_COMPACTION_MODE_LATCH_6:for(;v<h[0]&&!z;){let _e=h[v++];if(_e<wt.TEXT_COMPACTION_MODE_LATCH)N++,D=900*D+_e;else switch(_e){case wt.TEXT_COMPACTION_MODE_LATCH:case wt.BYTE_COMPACTION_MODE_LATCH:case wt.NUMERIC_COMPACTION_MODE_LATCH:case wt.BYTE_COMPACTION_MODE_LATCH_6:case wt.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case wt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case wt.MACRO_PDF417_TERMINATOR:v--,z=!0;break}if(N%5===0&&N>0){for(let Pe=0;Pe<6;++Pe)b.write(Number(ka(D)>>ka(8*(5-Pe))));D=0,N=0}}break}return _.append(U.decode(b.toByteArray(),g)),v}static numericCompaction(l,h,g){let v=0,_=!1,b=new Int32Array(wt.MAX_NUMERIC_CODEWORDS);for(;h<l[0]&&!_;){let N=l[h++];if(h===l[0]&&(_=!0),N<wt.TEXT_COMPACTION_MODE_LATCH)b[v]=N,v++;else switch(N){case wt.TEXT_COMPACTION_MODE_LATCH:case wt.BYTE_COMPACTION_MODE_LATCH:case wt.BYTE_COMPACTION_MODE_LATCH_6:case wt.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case wt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case wt.MACRO_PDF417_TERMINATOR:h--,_=!0;break}(v%wt.MAX_NUMERIC_CODEWORDS===0||N===wt.NUMERIC_COMPACTION_MODE_LATCH||_)&&v>0&&(g.append(wt.decodeBase900toBase10(b,v)),v=0)}return h}static decodeBase900toBase10(l,h){let g=ka(0);for(let _=0;_<h;_++)g+=wt.EXP900[h-_-1]*ka(l[_]);let v=g.toString();if(v.charAt(0)!=="1")throw new F;return v.substring(1)}}wt.TEXT_COMPACTION_MODE_LATCH=900,wt.BYTE_COMPACTION_MODE_LATCH=901,wt.NUMERIC_COMPACTION_MODE_LATCH=902,wt.BYTE_COMPACTION_MODE_LATCH_6=924,wt.ECI_USER_DEFINED=925,wt.ECI_GENERAL_PURPOSE=926,wt.ECI_CHARSET=927,wt.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,wt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,wt.MACRO_PDF417_TERMINATOR=922,wt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,wt.MAX_NUMERIC_CODEWORDS=15,wt.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,wt.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,wt.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,wt.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,wt.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,wt.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,wt.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,wt.PL=25,wt.LL=27,wt.AS=27,wt.ML=28,wt.AL=28,wt.PS=29,wt.PAL=29,wt.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,wt.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",wt.EXP900=aa()?io():[],wt.NUMBER_OF_SEQUENCE_CODEWORDS=2;class V{constructor(){}static decode(l,h,g,v,_,b,N){let D=new va(l,h,g,v,_),z=null,ee=null,fe;for(let qe=!0;;qe=!1){if(h!=null&&(z=V.getRowIndicatorColumn(l,D,h,!0,b,N)),v!=null&&(ee=V.getRowIndicatorColumn(l,D,v,!1,b,N)),fe=V.merge(z,ee),fe==null)throw pe.getNotFoundInstance();let Ke=fe.getBoundingBox();if(qe&&Ke!=null&&(Ke.getMinY()<D.getMinY()||Ke.getMaxY()>D.getMaxY()))D=Ke;else break}fe.setBoundingBox(D);let _e=fe.getBarcodeColumnCount()+1;fe.setDetectionResultColumn(0,z),fe.setDetectionResultColumn(_e,ee);let Pe=z!=null;for(let qe=1;qe<=_e;qe++){let Ke=Pe?qe:_e-qe;if(fe.getDetectionResultColumn(Ke)!==void 0)continue;let rt;Ke===0||Ke===_e?rt=new ia(D,Ke===0):rt=new gs(D),fe.setDetectionResultColumn(Ke,rt);let _t=-1,Bt=_t;for(let Ut=D.getMinY();Ut<=D.getMaxY();Ut++){if(_t=V.getStartColumn(fe,Ke,Ut,Pe),_t<0||_t>D.getMaxX()){if(Bt===-1)continue;_t=Bt}let Pt=V.detectCodeword(l,D.getMinX(),D.getMaxX(),Pe,_t,Ut,b,N);Pt!=null&&(rt.setCodeword(Ut,Pt),Bt=_t,b=Math.min(b,Pt.getWidth()),N=Math.max(N,Pt.getWidth()))}}return V.createDecoderResult(fe)}static merge(l,h){if(l==null&&h==null)return null;let g=V.getBarcodeMetadata(l,h);if(g==null)return null;let v=va.merge(V.adjustBoundingBox(l),V.adjustBoundingBox(h));return new xi(g,v)}static adjustBoundingBox(l){if(l==null)return null;let h=l.getRowHeights();if(h==null)return null;let g=V.getMax(h),v=0;for(let N of h)if(v+=g-N,N>0)break;let _=l.getCodewords();for(let N=0;v>0&&_[N]==null;N++)v--;let b=0;for(let N=h.length-1;N>=0&&(b+=g-h[N],!(h[N]>0));N--);for(let N=_.length-1;b>0&&_[N]==null;N--)b--;return l.getBoundingBox().addMissingRows(v,b,l.isLeft())}static getMax(l){let h=-1;for(let g of l)h=Math.max(h,g);return h}static getBarcodeMetadata(l,h){let g;if(l==null||(g=l.getBarcodeMetadata())==null)return h==null?null:h.getBarcodeMetadata();let v;return h==null||(v=h.getBarcodeMetadata())==null?g:g.getColumnCount()!==v.getColumnCount()&&g.getErrorCorrectionLevel()!==v.getErrorCorrectionLevel()&&g.getRowCount()!==v.getRowCount()?null:g}static getRowIndicatorColumn(l,h,g,v,_,b){let N=new ia(h,v);for(let D=0;D<2;D++){let z=D===0?1:-1,ee=Math.trunc(Math.trunc(g.getX()));for(let fe=Math.trunc(Math.trunc(g.getY()));fe<=h.getMaxY()&&fe>=h.getMinY();fe+=z){let _e=V.detectCodeword(l,0,l.getWidth(),v,ee,fe,_,b);_e!=null&&(N.setCodeword(fe,_e),v?ee=_e.getStartX():ee=_e.getEndX())}}return N}static adjustCodewordCount(l,h){let g=h[0][1],v=g.getValue(),_=l.getBarcodeColumnCount()*l.getBarcodeRowCount()-V.getNumberOfECCodeWords(l.getBarcodeECLevel());if(v.length===0){if(_<1||_>Vn.MAX_CODEWORDS_IN_BARCODE)throw pe.getNotFoundInstance();g.setValue(_)}else v[0]!==_&&g.setValue(_)}static createDecoderResult(l){let h=V.createBarcodeMatrix(l);V.adjustCodewordCount(l,h);let g=new Array,v=new Int32Array(l.getBarcodeRowCount()*l.getBarcodeColumnCount()),_=[],b=new Array;for(let D=0;D<l.getBarcodeRowCount();D++)for(let z=0;z<l.getBarcodeColumnCount();z++){let ee=h[D][z+1].getValue(),fe=D*l.getBarcodeColumnCount()+z;ee.length===0?g.push(fe):ee.length===1?v[fe]=ee[0]:(b.push(fe),_.push(ee))}let N=new Array(_.length);for(let D=0;D<N.length;D++)N[D]=_[D];return V.createDecoderResultFromAmbiguousValues(l.getBarcodeECLevel(),v,Vn.toIntArray(g),Vn.toIntArray(b),N)}static createDecoderResultFromAmbiguousValues(l,h,g,v,_){let b=new Int32Array(v.length),N=100;for(;N-- >0;){for(let D=0;D<b.length;D++)h[v[D]]=_[D][b[D]];try{return V.decodeCodewords(h,l,g)}catch(D){if(!(D instanceof E))throw D}if(b.length===0)throw E.getChecksumInstance();for(let D=0;D<b.length;D++)if(b[D]<_[D].length-1){b[D]++;break}else if(b[D]=0,D===b.length-1)throw E.getChecksumInstance()}throw E.getChecksumInstance()}static createBarcodeMatrix(l){let h=Array.from({length:l.getBarcodeRowCount()},()=>new Array(l.getBarcodeColumnCount()+2));for(let v=0;v<h.length;v++)for(let _=0;_<h[v].length;_++)h[v][_]=new _a;let g=0;for(let v of l.getDetectionResultColumns()){if(v!=null){for(let _ of v.getCodewords())if(_!=null){let b=_.getRowNumber();if(b>=0){if(b>=h.length)continue;h[b][g].setValue(_.getValue())}}}g++}return h}static isValidBarcodeColumn(l,h){return h>=0&&h<=l.getBarcodeColumnCount()+1}static getStartColumn(l,h,g,v){let _=v?1:-1,b=null;if(V.isValidBarcodeColumn(l,h-_)&&(b=l.getDetectionResultColumn(h-_).getCodeword(g)),b!=null)return v?b.getEndX():b.getStartX();if(b=l.getDetectionResultColumn(h).getCodewordNearby(g),b!=null)return v?b.getStartX():b.getEndX();if(V.isValidBarcodeColumn(l,h-_)&&(b=l.getDetectionResultColumn(h-_).getCodewordNearby(g)),b!=null)return v?b.getEndX():b.getStartX();let N=0;for(;V.isValidBarcodeColumn(l,h-_);){h-=_;for(let D of l.getDetectionResultColumn(h).getCodewords())if(D!=null)return(v?D.getEndX():D.getStartX())+_*N*(D.getEndX()-D.getStartX());N++}return v?l.getBoundingBox().getMinX():l.getBoundingBox().getMaxX()}static detectCodeword(l,h,g,v,_,b,N,D){_=V.adjustCodewordStartColumn(l,h,g,v,_,b);let z=V.getModuleBitCount(l,h,g,v,_,b);if(z==null)return null;let ee,fe=Je.sum(z);if(v)ee=_+fe;else{for(let qe=0;qe<z.length/2;qe++){let Ke=z[qe];z[qe]=z[z.length-1-qe],z[z.length-1-qe]=Ke}ee=_,_=ee-fe}if(!V.checkCodewordSkew(fe,N,D))return null;let _e=Wr.getDecodedValue(z),Pe=Vn.getCodeword(_e);return Pe===-1?null:new sa(_,ee,V.getCodewordBucketNumber(_e),Pe)}static getModuleBitCount(l,h,g,v,_,b){let N=_,D=new Int32Array(8),z=0,ee=v?1:-1,fe=v;for(;(v?N<g:N>=h)&&z<D.length;)l.get(N,b)===fe?(D[z]++,N+=ee):(z++,fe=!fe);return z===D.length||N===(v?g:h)&&z===D.length-1?D:null}static getNumberOfECCodeWords(l){return 2<<l}static adjustCodewordStartColumn(l,h,g,v,_,b){let N=_,D=v?-1:1;for(let z=0;z<2;z++){for(;(v?N>=h:N<g)&&v===l.get(N,b);){if(Math.abs(_-N)>V.CODEWORD_SKEW_SIZE)return _;N+=D}D=-D,v=!v}return N}static checkCodewordSkew(l,h,g){return h-V.CODEWORD_SKEW_SIZE<=l&&l<=g+V.CODEWORD_SKEW_SIZE}static decodeCodewords(l,h,g){if(l.length===0)throw F.getFormatInstance();let v=1<<h+1,_=V.correctErrors(l,g,v);V.verifyCodewordCount(l,v);let b=wt.decode(l,""+h);return b.setErrorsCorrected(_),b.setErasures(g.length),b}static correctErrors(l,h,g){if(h!=null&&h.length>g/2+V.MAX_ERRORS||g<0||g>V.MAX_EC_CODEWORDS)throw E.getChecksumInstance();return V.errorCorrection.decode(l,g,h)}static verifyCodewordCount(l,h){if(l.length<4)throw F.getFormatInstance();let g=l[0];if(g>l.length)throw F.getFormatInstance();if(g===0)if(h<l.length)l[0]=l.length-h;else throw F.getFormatInstance()}static getBitCountForCodeword(l){let h=new Int32Array(8),g=0,v=h.length-1;for(;!((l&1)!==g&&(g=l&1,v--,v<0));)h[v]++,l>>=1;return h}static getCodewordBucketNumber(l){return l instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(l):this.getCodewordBucketNumber_number(l)}static getCodewordBucketNumber_number(l){return V.getCodewordBucketNumber(V.getBitCountForCodeword(l))}static getCodewordBucketNumber_Int32Array(l){return(l[0]-l[2]+l[4]-l[6]+9)%9}static toString(l){let h=new jo;for(let g=0;g<l.length;g++){h.format("Row %2d: ",g);for(let v=0;v<l[g].length;v++){let _=l[g][v];_.getValue().length===0?h.format("        ",null):h.format("%4d(%2d)",_.getValue()[0],_.getConfidence(_.getValue()[0]))}h.format("%n")}return h.toString()}}V.CODEWORD_SKEW_SIZE=2,V.MAX_ERRORS=3,V.MAX_EC_CODEWORDS=512,V.errorCorrection=new ra;class ue{decode(l,h=null){let g=ue.decode(l,h,!1);if(g==null||g.length===0||g[0]==null)throw pe.getNotFoundInstance();return g[0]}decodeMultiple(l,h=null){try{return ue.decode(l,h,!0)}catch(g){throw g instanceof F||g instanceof E?pe.getNotFoundInstance():g}}static decode(l,h,g){const v=new Array,_=Bn.detectMultiple(l,h,g);for(const b of _.getPoints()){const N=V.decode(_.getBits(),b[4],b[5],b[6],b[7],ue.getMinCodewordWidth(b),ue.getMaxCodewordWidth(b)),D=new Z(N.getText(),N.getRawBytes(),void 0,b,de.PDF_417);D.putMetadata(Ue.ERROR_CORRECTION_LEVEL,N.getECLevel());const z=N.getOther();z!=null&&D.putMetadata(Ue.PDF417_EXTRA_METADATA,z),v.push(D)}return v.map(b=>b)}static getMaxWidth(l,h){return l==null||h==null?0:Math.trunc(Math.abs(l.getX()-h.getX()))}static getMinWidth(l,h){return l==null||h==null?k.MAX_VALUE:Math.trunc(Math.abs(l.getX()-h.getX()))}static getMaxCodewordWidth(l){return Math.floor(Math.max(Math.max(ue.getMaxWidth(l[0],l[4]),ue.getMaxWidth(l[6],l[2])*Vn.MODULES_IN_CODEWORD/Vn.MODULES_IN_STOP_PATTERN),Math.max(ue.getMaxWidth(l[1],l[5]),ue.getMaxWidth(l[7],l[3])*Vn.MODULES_IN_CODEWORD/Vn.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(l){return Math.floor(Math.min(Math.min(ue.getMinWidth(l[0],l[4]),ue.getMinWidth(l[6],l[2])*Vn.MODULES_IN_CODEWORD/Vn.MODULES_IN_STOP_PATTERN),Math.min(ue.getMinWidth(l[1],l[5]),ue.getMinWidth(l[7],l[3])*Vn.MODULES_IN_CODEWORD/Vn.MODULES_IN_STOP_PATTERN)))}reset(){}}class je extends d{}je.kind="ReaderException";class Ye{constructor(l,h){this.verbose=l===!0,h&&this.setHints(h)}decode(l,h){return h&&this.setHints(h),this.decodeInternal(l)}decodeWithState(l){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(l)}setHints(l){this.hints=l;const h=!r(l)&&l.get(re.TRY_HARDER)===!0,g=r(l)?null:l.get(re.POSSIBLE_FORMATS),v=new Array;if(!r(g)){const _=g.some(b=>b===de.UPC_A||b===de.UPC_E||b===de.EAN_13||b===de.EAN_8||b===de.CODABAR||b===de.CODE_39||b===de.CODE_93||b===de.CODE_128||b===de.ITF||b===de.RSS_14||b===de.RSS_EXPANDED);_&&!h&&v.push(new Ii(l,this.verbose)),g.includes(de.QR_CODE)&&v.push(new na),g.includes(de.DATA_MATRIX)&&v.push(new Vs),g.includes(de.AZTEC)&&v.push(new un),g.includes(de.PDF_417)&&v.push(new ue),_&&h&&v.push(new Ii(l,this.verbose))}v.length===0&&(h||v.push(new Ii(l,this.verbose)),v.push(new na),v.push(new Vs),v.push(new un),v.push(new ue),h&&v.push(new Ii(l,this.verbose))),this.readers=v}reset(){if(this.readers!==null)for(const l of this.readers)l.reset()}decodeInternal(l){if(this.readers===null)throw new je("No readers where selected, nothing can be read.");for(const h of this.readers)try{return h.decode(l,this.hints)}catch(g){if(g instanceof je)continue}throw new pe("No MultiFormat Readers were able to detect the code.")}}class tt extends J{constructor(l=null,h=500){const g=new Ye;g.setHints(l),super(g,h)}decodeBitmap(l){return this.reader.decodeWithState(l)}}class kt extends J{constructor(l=500){super(new ue,l)}}class Kt extends J{constructor(l=500){super(new na,l)}}var Nn;(function(he){he[he.ERROR_CORRECTION=0]="ERROR_CORRECTION",he[he.CHARACTER_SET=1]="CHARACTER_SET",he[he.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",he[he.MIN_SIZE=3]="MIN_SIZE",he[he.MAX_SIZE=4]="MAX_SIZE",he[he.MARGIN=5]="MARGIN",he[he.PDF417_COMPACT=6]="PDF417_COMPACT",he[he.PDF417_COMPACTION=7]="PDF417_COMPACTION",he[he.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",he[he.AZTEC_LAYERS=9]="AZTEC_LAYERS",he[he.QR_VERSION=10]="QR_VERSION"})(Nn||(Nn={}));var pn=Nn;class qn{constructor(l){this.field=l,this.cachedGenerators=[],this.cachedGenerators.push(new nt(l,Int32Array.from([1])))}buildGenerator(l){const h=this.cachedGenerators;if(l>=h.length){let g=h[h.length-1];const v=this.field;for(let _=h.length;_<=l;_++){const b=g.multiply(new nt(v,Int32Array.from([1,v.exp(_-1+v.getGeneratorBase())])));h.push(b),g=b}}return h[l]}encode(l,h){if(h===0)throw new w("No error correction bytes");const g=l.length-h;if(g<=0)throw new w("No data bytes provided");const v=this.buildGenerator(h),_=new Int32Array(g);C.arraycopy(l,0,_,0,g);let b=new nt(this.field,_);b=b.multiplyByMonomial(h,1);const D=b.divide(v)[1].getCoefficients(),z=h-D.length;for(let ee=0;ee<z;ee++)l[g+ee]=0;C.arraycopy(D,0,l,g+z,D.length)}}class _n{constructor(){}static applyMaskPenaltyRule1(l){return _n.applyMaskPenaltyRule1Internal(l,!0)+_n.applyMaskPenaltyRule1Internal(l,!1)}static applyMaskPenaltyRule2(l){let h=0;const g=l.getArray(),v=l.getWidth(),_=l.getHeight();for(let b=0;b<_-1;b++){const N=g[b];for(let D=0;D<v-1;D++){const z=N[D];z===N[D+1]&&z===g[b+1][D]&&z===g[b+1][D+1]&&h++}}return _n.N2*h}static applyMaskPenaltyRule3(l){let h=0;const g=l.getArray(),v=l.getWidth(),_=l.getHeight();for(let b=0;b<_;b++)for(let N=0;N<v;N++){const D=g[b];N+6<v&&D[N]===1&&D[N+1]===0&&D[N+2]===1&&D[N+3]===1&&D[N+4]===1&&D[N+5]===0&&D[N+6]===1&&(_n.isWhiteHorizontal(D,N-4,N)||_n.isWhiteHorizontal(D,N+7,N+11))&&h++,b+6<_&&g[b][N]===1&&g[b+1][N]===0&&g[b+2][N]===1&&g[b+3][N]===1&&g[b+4][N]===1&&g[b+5][N]===0&&g[b+6][N]===1&&(_n.isWhiteVertical(g,N,b-4,b)||_n.isWhiteVertical(g,N,b+7,b+11))&&h++}return h*_n.N3}static isWhiteHorizontal(l,h,g){h=Math.max(h,0),g=Math.min(g,l.length);for(let v=h;v<g;v++)if(l[v]===1)return!1;return!0}static isWhiteVertical(l,h,g,v){g=Math.max(g,0),v=Math.min(v,l.length);for(let _=g;_<v;_++)if(l[_][h]===1)return!1;return!0}static applyMaskPenaltyRule4(l){let h=0;const g=l.getArray(),v=l.getWidth(),_=l.getHeight();for(let D=0;D<_;D++){const z=g[D];for(let ee=0;ee<v;ee++)z[ee]===1&&h++}const b=l.getHeight()*l.getWidth();return Math.floor(Math.abs(h*2-b)*10/b)*_n.N4}static getDataMaskBit(l,h,g){let v,_;switch(l){case 0:v=g+h&1;break;case 1:v=g&1;break;case 2:v=h%3;break;case 3:v=(g+h)%3;break;case 4:v=Math.floor(g/2)+Math.floor(h/3)&1;break;case 5:_=g*h,v=(_&1)+_%3;break;case 6:_=g*h,v=(_&1)+_%3&1;break;case 7:_=g*h,v=_%3+(g+h&1)&1;break;default:throw new w("Invalid mask pattern: "+l)}return v===0}static applyMaskPenaltyRule1Internal(l,h){let g=0;const v=h?l.getHeight():l.getWidth(),_=h?l.getWidth():l.getHeight(),b=l.getArray();for(let N=0;N<v;N++){let D=0,z=-1;for(let ee=0;ee<_;ee++){const fe=h?b[N][ee]:b[ee][N];fe===z?D++:(D>=5&&(g+=_n.N1+(D-5)),D=1,z=fe)}D>=5&&(g+=_n.N1+(D-5))}return g}}_n.N1=3,_n.N2=3,_n.N3=40,_n.N4=10;class Ar{constructor(l,h){this.width=l,this.height=h;const g=new Array(h);for(let v=0;v!==h;v++)g[v]=new Uint8Array(l);this.bytes=g}getHeight(){return this.height}getWidth(){return this.width}get(l,h){return this.bytes[h][l]}getArray(){return this.bytes}setNumber(l,h,g){this.bytes[h][l]=g}setBoolean(l,h,g){this.bytes[h][l]=g?1:0}clear(l){for(const h of this.bytes)W.fill(h,l)}equals(l){if(!(l instanceof Ar))return!1;const h=l;if(this.width!==h.width||this.height!==h.height)return!1;for(let g=0,v=this.height;g<v;++g){const _=this.bytes[g],b=h.bytes[g];for(let N=0,D=this.width;N<D;++N)if(_[N]!==b[N])return!1}return!0}toString(){const l=new Y;for(let h=0,g=this.height;h<g;++h){const v=this.bytes[h];for(let _=0,b=this.width;_<b;++_)switch(v[_]){case 0:l.append(" 0");break;case 1:l.append(" 1");break;default:l.append("  ");break}l.append(`
`)}return l.toString()}}class Br{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const l=new Y;return l.append(`<<
`),l.append(" mode: "),l.append(this.mode?this.mode.toString():"null"),l.append(`
 ecLevel: `),l.append(this.ecLevel?this.ecLevel.toString():"null"),l.append(`
 version: `),l.append(this.version?this.version.toString():"null"),l.append(`
 maskPattern: `),l.append(this.maskPattern.toString()),this.matrix?(l.append(`
 matrix:
`),l.append(this.matrix.toString())):l.append(`
 matrix: null
`),l.append(`>>
`),l.toString()}setMode(l){this.mode=l}setECLevel(l){this.ecLevel=l}setVersion(l){this.version=l}setMaskPattern(l){this.maskPattern=l}setMatrix(l){this.matrix=l}static isValidMaskPattern(l){return l>=0&&l<Br.NUM_MASK_PATTERNS}}Br.NUM_MASK_PATTERNS=8;class Wn extends d{}Wn.kind="WriterException";class S{constructor(){}static clearMatrix(l){l.clear(255)}static buildMatrix(l,h,g,v,_){S.clearMatrix(_),S.embedBasicPatterns(g,_),S.embedTypeInfo(h,v,_),S.maybeEmbedVersionInfo(g,_),S.embedDataBits(l,v,_)}static embedBasicPatterns(l,h){S.embedPositionDetectionPatternsAndSeparators(h),S.embedDarkDotAtLeftBottomCorner(h),S.maybeEmbedPositionAdjustmentPatterns(l,h),S.embedTimingPatterns(h)}static embedTypeInfo(l,h,g){const v=new G;S.makeTypeInfoBits(l,h,v);for(let _=0,b=v.getSize();_<b;++_){const N=v.get(v.getSize()-1-_),D=S.TYPE_INFO_COORDINATES[_],z=D[0],ee=D[1];if(g.setBoolean(z,ee,N),_<8){const fe=g.getWidth()-_-1;g.setBoolean(fe,8,N)}else{const _e=g.getHeight()-7+(_-8);g.setBoolean(8,_e,N)}}}static maybeEmbedVersionInfo(l,h){if(l.getVersionNumber()<7)return;const g=new G;S.makeVersionInfoBits(l,g);let v=17;for(let _=0;_<6;++_)for(let b=0;b<3;++b){const N=g.get(v);v--,h.setBoolean(_,h.getHeight()-11+b,N),h.setBoolean(h.getHeight()-11+b,_,N)}}static embedDataBits(l,h,g){let v=0,_=-1,b=g.getWidth()-1,N=g.getHeight()-1;for(;b>0;){for(b===6&&(b-=1);N>=0&&N<g.getHeight();){for(let D=0;D<2;++D){const z=b-D;if(!S.isEmpty(g.get(z,N)))continue;let ee;v<l.getSize()?(ee=l.get(v),++v):ee=!1,h!==255&&_n.getDataMaskBit(h,z,N)&&(ee=!ee),g.setBoolean(z,N,ee)}N+=_}_=-_,N+=_,b-=2}if(v!==l.getSize())throw new Wn("Not all bits consumed: "+v+"/"+l.getSize())}static findMSBSet(l){return 32-k.numberOfLeadingZeros(l)}static calculateBCHCode(l,h){if(h===0)throw new w("0 polynomial");const g=S.findMSBSet(h);for(l<<=g-1;S.findMSBSet(l)>=g;)l^=h<<S.findMSBSet(l)-g;return l}static makeTypeInfoBits(l,h,g){if(!Br.isValidMaskPattern(h))throw new Wn("Invalid mask pattern");const v=l.getBits()<<3|h;g.appendBits(v,5);const _=S.calculateBCHCode(v,S.TYPE_INFO_POLY);g.appendBits(_,10);const b=new G;if(b.appendBits(S.TYPE_INFO_MASK_PATTERN,15),g.xor(b),g.getSize()!==15)throw new Wn("should not happen but we got: "+g.getSize())}static makeVersionInfoBits(l,h){h.appendBits(l.getVersionNumber(),6);const g=S.calculateBCHCode(l.getVersionNumber(),S.VERSION_INFO_POLY);if(h.appendBits(g,12),h.getSize()!==18)throw new Wn("should not happen but we got: "+h.getSize())}static isEmpty(l){return l===255}static embedTimingPatterns(l){for(let h=8;h<l.getWidth()-8;++h){const g=(h+1)%2;S.isEmpty(l.get(h,6))&&l.setNumber(h,6,g),S.isEmpty(l.get(6,h))&&l.setNumber(6,h,g)}}static embedDarkDotAtLeftBottomCorner(l){if(l.get(8,l.getHeight()-8)===0)throw new Wn;l.setNumber(8,l.getHeight()-8,1)}static embedHorizontalSeparationPattern(l,h,g){for(let v=0;v<8;++v){if(!S.isEmpty(g.get(l+v,h)))throw new Wn;g.setNumber(l+v,h,0)}}static embedVerticalSeparationPattern(l,h,g){for(let v=0;v<7;++v){if(!S.isEmpty(g.get(l,h+v)))throw new Wn;g.setNumber(l,h+v,0)}}static embedPositionAdjustmentPattern(l,h,g){for(let v=0;v<5;++v){const _=S.POSITION_ADJUSTMENT_PATTERN[v];for(let b=0;b<5;++b)g.setNumber(l+b,h+v,_[b])}}static embedPositionDetectionPattern(l,h,g){for(let v=0;v<7;++v){const _=S.POSITION_DETECTION_PATTERN[v];for(let b=0;b<7;++b)g.setNumber(l+b,h+v,_[b])}}static embedPositionDetectionPatternsAndSeparators(l){const h=S.POSITION_DETECTION_PATTERN[0].length;S.embedPositionDetectionPattern(0,0,l),S.embedPositionDetectionPattern(l.getWidth()-h,0,l),S.embedPositionDetectionPattern(0,l.getWidth()-h,l);const g=8;S.embedHorizontalSeparationPattern(0,g-1,l),S.embedHorizontalSeparationPattern(l.getWidth()-g,g-1,l),S.embedHorizontalSeparationPattern(0,l.getWidth()-g,l);const v=7;S.embedVerticalSeparationPattern(v,0,l),S.embedVerticalSeparationPattern(l.getHeight()-v-1,0,l),S.embedVerticalSeparationPattern(v,l.getHeight()-v,l)}static maybeEmbedPositionAdjustmentPatterns(l,h){if(l.getVersionNumber()<2)return;const g=l.getVersionNumber()-1,v=S.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[g];for(let _=0,b=v.length;_!==b;_++){const N=v[_];if(N>=0)for(let D=0;D!==b;D++){const z=v[D];z>=0&&S.isEmpty(h.get(z,N))&&S.embedPositionAdjustmentPattern(z-2,N-2,h)}}}}S.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),S.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),S.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),S.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),S.VERSION_INFO_POLY=7973,S.TYPE_INFO_POLY=1335,S.TYPE_INFO_MASK_PATTERN=21522;class K{constructor(l,h){this.dataBytes=l,this.errorCorrectionBytes=h}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class ie{constructor(){}static calculateMaskPenalty(l){return _n.applyMaskPenaltyRule1(l)+_n.applyMaskPenaltyRule2(l)+_n.applyMaskPenaltyRule3(l)+_n.applyMaskPenaltyRule4(l)}static encode(l,h,g=null){let v=ie.DEFAULT_BYTE_MODE_ENCODING;const _=g!==null&&g.get(pn.CHARACTER_SET)!==void 0;_&&(v=g.get(pn.CHARACTER_SET).toString());const b=this.chooseMode(l,v),N=new G;if(b===jn.BYTE&&(_||ie.DEFAULT_BYTE_MODE_ENCODING!==v)){const Ut=L.getCharacterSetECIByName(v);Ut!==void 0&&this.appendECI(Ut,N)}this.appendModeInfo(b,N);const D=new G;this.appendBytes(l,b,D,v);let z;if(g!==null&&g.get(pn.QR_VERSION)!==void 0){const Ut=Number.parseInt(g.get(pn.QR_VERSION).toString(),10);z=En.getVersionForNumber(Ut);const Pt=this.calculateBitsNeeded(b,N,D,z);if(!this.willFit(Pt,z,h))throw new Wn("Data too big for requested version")}else z=this.recommendVersion(h,b,N,D);const ee=new G;ee.appendBitArray(N);const fe=b===jn.BYTE?D.getSizeInBytes():l.length;this.appendLengthInfo(fe,z,b,ee),ee.appendBitArray(D);const _e=z.getECBlocksForLevel(h),Pe=z.getTotalCodewords()-_e.getTotalECCodewords();this.terminateBits(Pe,ee);const qe=this.interleaveWithECBytes(ee,z.getTotalCodewords(),Pe,_e.getNumBlocks()),Ke=new Br;Ke.setECLevel(h),Ke.setMode(b),Ke.setVersion(z);const rt=z.getDimensionForVersion(),_t=new Ar(rt,rt),Bt=this.chooseMaskPattern(qe,h,z,_t);return Ke.setMaskPattern(Bt),S.buildMatrix(qe,h,z,Bt,_t),Ke.setMatrix(_t),Ke}static recommendVersion(l,h,g,v){const _=this.calculateBitsNeeded(h,g,v,En.getVersionForNumber(1)),b=this.chooseVersion(_,l),N=this.calculateBitsNeeded(h,g,v,b);return this.chooseVersion(N,l)}static calculateBitsNeeded(l,h,g,v){return h.getSize()+l.getCharacterCountBits(v)+g.getSize()}static getAlphanumericCode(l){return l<ie.ALPHANUMERIC_TABLE.length?ie.ALPHANUMERIC_TABLE[l]:-1}static chooseMode(l,h=null){if(L.SJIS.getName()===h&&this.isOnlyDoubleByteKanji(l))return jn.KANJI;let g=!1,v=!1;for(let _=0,b=l.length;_<b;++_){const N=l.charAt(_);if(ie.isDigit(N))g=!0;else if(this.getAlphanumericCode(N.charCodeAt(0))!==-1)v=!0;else return jn.BYTE}return v?jn.ALPHANUMERIC:g?jn.NUMERIC:jn.BYTE}static isOnlyDoubleByteKanji(l){let h;try{h=U.encode(l,L.SJIS)}catch{return!1}const g=h.length;if(g%2!==0)return!1;for(let v=0;v<g;v+=2){const _=h[v]&255;if((_<129||_>159)&&(_<224||_>235))return!1}return!0}static chooseMaskPattern(l,h,g,v){let _=Number.MAX_SAFE_INTEGER,b=-1;for(let N=0;N<Br.NUM_MASK_PATTERNS;N++){S.buildMatrix(l,h,g,N,v);let D=this.calculateMaskPenalty(v);D<_&&(_=D,b=N)}return b}static chooseVersion(l,h){for(let g=1;g<=40;g++){const v=En.getVersionForNumber(g);if(ie.willFit(l,v,h))return v}throw new Wn("Data too big")}static willFit(l,h,g){const v=h.getTotalCodewords(),b=h.getECBlocksForLevel(g).getTotalECCodewords(),N=v-b,D=(l+7)/8;return N>=D}static terminateBits(l,h){const g=l*8;if(h.getSize()>g)throw new Wn("data bits cannot fit in the QR Code"+h.getSize()+" > "+g);for(let b=0;b<4&&h.getSize()<g;++b)h.appendBit(!1);const v=h.getSize()&7;if(v>0)for(let b=v;b<8;b++)h.appendBit(!1);const _=l-h.getSizeInBytes();for(let b=0;b<_;++b)h.appendBits((b&1)===0?236:17,8);if(h.getSize()!==g)throw new Wn("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(l,h,g,v,_,b){if(v>=g)throw new Wn("Block ID too large");const N=l%g,D=g-N,z=Math.floor(l/g),ee=z+1,fe=Math.floor(h/g),_e=fe+1,Pe=z-fe,qe=ee-_e;if(Pe!==qe)throw new Wn("EC bytes mismatch");if(g!==D+N)throw new Wn("RS blocks mismatch");if(l!==(fe+Pe)*D+(_e+qe)*N)throw new Wn("Total bytes mismatch");v<D?(_[0]=fe,b[0]=Pe):(_[0]=_e,b[0]=qe)}static interleaveWithECBytes(l,h,g,v){if(l.getSizeInBytes()!==g)throw new Wn("Number of bits and data bytes does not match");let _=0,b=0,N=0;const D=new Array;for(let ee=0;ee<v;++ee){const fe=new Int32Array(1),_e=new Int32Array(1);ie.getNumDataBytesAndNumECBytesForBlockID(h,g,v,ee,fe,_e);const Pe=fe[0],qe=new Uint8Array(Pe);l.toBytes(8*_,qe,0,Pe);const Ke=ie.generateECBytes(qe,_e[0]);D.push(new K(qe,Ke)),b=Math.max(b,Pe),N=Math.max(N,Ke.length),_+=fe[0]}if(g!==_)throw new Wn("Data bytes does not match offset");const z=new G;for(let ee=0;ee<b;++ee)for(const fe of D){const _e=fe.getDataBytes();ee<_e.length&&z.appendBits(_e[ee],8)}for(let ee=0;ee<N;++ee)for(const fe of D){const _e=fe.getErrorCorrectionBytes();ee<_e.length&&z.appendBits(_e[ee],8)}if(h!==z.getSizeInBytes())throw new Wn("Interleaving error: "+h+" and "+z.getSizeInBytes()+" differ.");return z}static generateECBytes(l,h){const g=l.length,v=new Int32Array(g+h);for(let b=0;b<g;b++)v[b]=l[b]&255;new qn(St.QR_CODE_FIELD_256).encode(v,h);const _=new Uint8Array(h);for(let b=0;b<h;b++)_[b]=v[g+b];return _}static appendModeInfo(l,h){h.appendBits(l.getBits(),4)}static appendLengthInfo(l,h,g,v){const _=g.getCharacterCountBits(h);if(l>=1<<_)throw new Wn(l+" is bigger than "+((1<<_)-1));v.appendBits(l,_)}static appendBytes(l,h,g,v){switch(h){case jn.NUMERIC:ie.appendNumericBytes(l,g);break;case jn.ALPHANUMERIC:ie.appendAlphanumericBytes(l,g);break;case jn.BYTE:ie.append8BitBytes(l,g,v);break;case jn.KANJI:ie.appendKanjiBytes(l,g);break;default:throw new Wn("Invalid mode: "+h)}}static getDigit(l){return l.charCodeAt(0)-48}static isDigit(l){const h=ie.getDigit(l);return h>=0&&h<=9}static appendNumericBytes(l,h){const g=l.length;let v=0;for(;v<g;){const _=ie.getDigit(l.charAt(v));if(v+2<g){const b=ie.getDigit(l.charAt(v+1)),N=ie.getDigit(l.charAt(v+2));h.appendBits(_*100+b*10+N,10),v+=3}else if(v+1<g){const b=ie.getDigit(l.charAt(v+1));h.appendBits(_*10+b,7),v+=2}else h.appendBits(_,4),v++}}static appendAlphanumericBytes(l,h){const g=l.length;let v=0;for(;v<g;){const _=ie.getAlphanumericCode(l.charCodeAt(v));if(_===-1)throw new Wn;if(v+1<g){const b=ie.getAlphanumericCode(l.charCodeAt(v+1));if(b===-1)throw new Wn;h.appendBits(_*45+b,11),v+=2}else h.appendBits(_,6),v++}}static append8BitBytes(l,h,g){let v;try{v=U.encode(l,g)}catch(_){throw new Wn(_)}for(let _=0,b=v.length;_!==b;_++){const N=v[_];h.appendBits(N,8)}}static appendKanjiBytes(l,h){let g;try{g=U.encode(l,L.SJIS)}catch(_){throw new Wn(_)}const v=g.length;for(let _=0;_<v;_+=2){const b=g[_]&255,N=g[_+1]&255,D=b<<8&4294967295|N;let z=-1;if(D>=33088&&D<=40956?z=D-33088:D>=57408&&D<=60351&&(z=D-49472),z===-1)throw new Wn("Invalid byte sequence");const ee=(z>>8)*192+(z&255);h.appendBits(ee,13)}}static appendECI(l,h){h.appendBits(jn.ECI.getBits(),4),h.appendBits(l.getValue(),8)}}ie.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),ie.DEFAULT_BYTE_MODE_ENCODING=L.UTF8.getName();class Se{write(l,h,g,v=null){if(l.length===0)throw new w("Found empty contents");if(h<0||g<0)throw new w("Requested dimensions are too small: "+h+"x"+g);let _=sr.L,b=Se.QUIET_ZONE_SIZE;v!==null&&(v.get(pn.ERROR_CORRECTION)!==void 0&&(_=sr.fromString(v.get(pn.ERROR_CORRECTION).toString())),v.get(pn.MARGIN)!==void 0&&(b=Number.parseInt(v.get(pn.MARGIN).toString(),10)));const N=ie.encode(l,_,v);return this.renderResult(N,h,g,b)}writeToDom(l,h,g,v,_=null){typeof l=="string"&&(l=document.querySelector(l));const b=this.write(h,g,v,_);l&&l.appendChild(b)}renderResult(l,h,g,v){const _=l.getMatrix();if(_===null)throw new le;const b=_.getWidth(),N=_.getHeight(),D=b+v*2,z=N+v*2,ee=Math.max(h,D),fe=Math.max(g,z),_e=Math.min(Math.floor(ee/D),Math.floor(fe/z)),Pe=Math.floor((ee-b*_e)/2),qe=Math.floor((fe-N*_e)/2),Ke=this.createSVGElement(ee,fe);for(let rt=0,_t=qe;rt<N;rt++,_t+=_e)for(let Bt=0,Ut=Pe;Bt<b;Bt++,Ut+=_e)if(_.get(Bt,rt)===1){const Pt=this.createSvgRectElement(Ut,_t,_e,_e);Ke.appendChild(Pt)}return Ke}createSVGElement(l,h){const g=document.createElementNS(Se.SVG_NS,"svg");return g.setAttributeNS(null,"height",l.toString()),g.setAttributeNS(null,"width",h.toString()),g}createSvgRectElement(l,h,g,v){const _=document.createElementNS(Se.SVG_NS,"rect");return _.setAttributeNS(null,"x",l.toString()),_.setAttributeNS(null,"y",h.toString()),_.setAttributeNS(null,"height",g.toString()),_.setAttributeNS(null,"width",v.toString()),_.setAttributeNS(null,"fill","#000000"),_}}Se.QUIET_ZONE_SIZE=4,Se.SVG_NS="http://www.w3.org/2000/svg";class st{encode(l,h,g,v,_){if(l.length===0)throw new w("Found empty contents");if(h!==de.QR_CODE)throw new w("Can only encode QR_CODE, but got "+h);if(g<0||v<0)throw new w(`Requested dimensions are too small: ${g}x${v}`);let b=sr.L,N=st.QUIET_ZONE_SIZE;_!==null&&(_.get(pn.ERROR_CORRECTION)!==void 0&&(b=sr.fromString(_.get(pn.ERROR_CORRECTION).toString())),_.get(pn.MARGIN)!==void 0&&(N=Number.parseInt(_.get(pn.MARGIN).toString(),10)));const D=ie.encode(l,b,_);return st.renderResult(D,g,v,N)}static renderResult(l,h,g,v){const _=l.getMatrix();if(_===null)throw new le;const b=_.getWidth(),N=_.getHeight(),D=b+v*2,z=N+v*2,ee=Math.max(h,D),fe=Math.max(g,z),_e=Math.min(Math.floor(ee/D),Math.floor(fe/z)),Pe=Math.floor((ee-b*_e)/2),qe=Math.floor((fe-N*_e)/2),Ke=new ne(ee,fe);for(let rt=0,_t=qe;rt<N;rt++,_t+=_e)for(let Bt=0,Ut=Pe;Bt<b;Bt++,Ut+=_e)_.get(Bt,rt)===1&&Ke.setRegion(Ut,_t,_e,_e);return Ke}}st.QUIET_ZONE_SIZE=4;class vt{encode(l,h,g,v,_){let b;switch(h){case de.QR_CODE:b=new st;break;default:throw new w("No encoder available for format "+h)}return b.encode(l,h,g,v,_)}}class nn extends Re{constructor(l,h,g,v,_,b,N,D){if(super(b,N),this.yuvData=l,this.dataWidth=h,this.dataHeight=g,this.left=v,this.top=_,v+b>h||_+N>g)throw new w("Crop rectangle does not fit within image data.");D&&this.reverseHorizontal(b,N)}getRow(l,h){if(l<0||l>=this.getHeight())throw new w("Requested row is outside the image: "+l);const g=this.getWidth();(h==null||h.length<g)&&(h=new Uint8ClampedArray(g));const v=(l+this.top)*this.dataWidth+this.left;return C.arraycopy(this.yuvData,v,h,0,g),h}getMatrix(){const l=this.getWidth(),h=this.getHeight();if(l===this.dataWidth&&h===this.dataHeight)return this.yuvData;const g=l*h,v=new Uint8ClampedArray(g);let _=this.top*this.dataWidth+this.left;if(l===this.dataWidth)return C.arraycopy(this.yuvData,_,v,0,g),v;for(let b=0;b<h;b++){const N=b*l;C.arraycopy(this.yuvData,_,v,N,l),_+=this.dataWidth}return v}isCropSupported(){return!0}crop(l,h,g,v){return new nn(this.yuvData,this.dataWidth,this.dataHeight,this.left+l,this.top+h,g,v,!1)}renderThumbnail(){const l=this.getWidth()/nn.THUMBNAIL_SCALE_FACTOR,h=this.getHeight()/nn.THUMBNAIL_SCALE_FACTOR,g=new Int32Array(l*h),v=this.yuvData;let _=this.top*this.dataWidth+this.left;for(let b=0;b<h;b++){const N=b*l;for(let D=0;D<l;D++){const z=v[_+D*nn.THUMBNAIL_SCALE_FACTOR]&255;g[N+D]=4278190080|z*65793}_+=this.dataWidth*nn.THUMBNAIL_SCALE_FACTOR}return g}getThumbnailWidth(){return this.getWidth()/nn.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/nn.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(l,h){const g=this.yuvData;for(let v=0,_=this.top*this.dataWidth+this.left;v<h;v++,_+=this.dataWidth){const b=_+l/2;for(let N=_,D=_+l-1;N<b;N++,D--){const z=g[N];g[N]=g[D],g[D]=z}}}invert(){return new He(this)}}nn.THUMBNAIL_SCALE_FACTOR=2;class rr extends Re{constructor(l,h,g,v,_,b,N){if(super(h,g),this.dataWidth=v,this.dataHeight=_,this.left=b,this.top=N,l.BYTES_PER_ELEMENT===4){const D=h*g,z=new Uint8ClampedArray(D);for(let ee=0;ee<D;ee++){const fe=l[ee],_e=fe>>16&255,Pe=fe>>7&510,qe=fe&255;z[ee]=(_e+Pe+qe)/4&255}this.luminances=z}else this.luminances=l;if(v===void 0&&(this.dataWidth=h),_===void 0&&(this.dataHeight=g),b===void 0&&(this.left=0),N===void 0&&(this.top=0),this.left+h>this.dataWidth||this.top+g>this.dataHeight)throw new w("Crop rectangle does not fit within image data.")}getRow(l,h){if(l<0||l>=this.getHeight())throw new w("Requested row is outside the image: "+l);const g=this.getWidth();(h==null||h.length<g)&&(h=new Uint8ClampedArray(g));const v=(l+this.top)*this.dataWidth+this.left;return C.arraycopy(this.luminances,v,h,0,g),h}getMatrix(){const l=this.getWidth(),h=this.getHeight();if(l===this.dataWidth&&h===this.dataHeight)return this.luminances;const g=l*h,v=new Uint8ClampedArray(g);let _=this.top*this.dataWidth+this.left;if(l===this.dataWidth)return C.arraycopy(this.luminances,_,v,0,g),v;for(let b=0;b<h;b++){const N=b*l;C.arraycopy(this.luminances,_,v,N,l),_+=this.dataWidth}return v}isCropSupported(){return!0}crop(l,h,g,v){return new rr(this.luminances,g,v,this.dataWidth,this.dataHeight,this.left+l,this.top+h)}invert(){return new He(this)}}class hi extends L{static forName(l){return this.getCharacterSetECIByName(l)}}class _r{}_r.ISO_8859_1=L.ISO8859_1;class Yr{isCompact(){return this.compact}setCompact(l){this.compact=l}getSize(){return this.size}setSize(l){this.size=l}getLayers(){return this.layers}setLayers(l){this.layers=l}getCodeWords(){return this.codeWords}setCodeWords(l){this.codeWords=l}getMatrix(){return this.matrix}setMatrix(l){this.matrix=l}}class ps{static singletonList(l){return[l]}static min(l,h){return l.sort(h)[0]}}class zs{constructor(l){this.previous=l}getPrevious(){return this.previous}}class Ur extends zs{constructor(l,h,g){super(l),this.value=h,this.bitCount=g}appendTo(l,h){l.appendBits(this.value,this.bitCount)}add(l,h){return new Ur(this,l,h)}addBinaryShift(l,h){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Ur(this,l,h)}toString(){let l=this.value&(1<<this.bitCount)-1;return l|=1<<this.bitCount,"<"+k.toBinaryString(l|1<<this.bitCount).substring(1)+">"}}class xs extends Ur{constructor(l,h,g){super(l,0,0),this.binaryShiftStart=h,this.binaryShiftByteCount=g}appendTo(l,h){for(let g=0;g<this.binaryShiftByteCount;g++)(g===0||g===31&&this.binaryShiftByteCount<=62)&&(l.appendBits(31,5),this.binaryShiftByteCount>62?l.appendBits(this.binaryShiftByteCount-31,16):g===0?l.appendBits(Math.min(this.binaryShiftByteCount,31),5):l.appendBits(this.binaryShiftByteCount-31,5)),l.appendBits(h[this.binaryShiftStart+g],8)}addBinaryShift(l,h){return new xs(this,l,h)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function so(he,l,h){return new xs(he,l,h)}function Pa(he,l,h){return new Ur(he,l,h)}const $o=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Gi=0,yo=1,Hs=2,Rc=3,Wi=4,Bo=new Ur(null,0,0),Uo=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function pu(he){for(let l of he)W.fill(l,-1);return he[Gi][Wi]=0,he[yo][Wi]=0,he[yo][Gi]=28,he[Rc][Wi]=0,he[Hs][Wi]=0,he[Hs][Gi]=15,he}const wo=pu(W.createInt32Array(6,6));class qs{constructor(l,h,g,v){this.token=l,this.mode=h,this.binaryShiftByteCount=g,this.bitCount=v}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(l,h){let g=this.bitCount,v=this.token;if(l!==this.mode){let b=Uo[this.mode][l];v=Pa(v,b&65535,b>>16),g+=b>>16}let _=l===Hs?4:5;return v=Pa(v,h,_),new qs(v,l,0,g+_)}shiftAndAppend(l,h){let g=this.token,v=this.mode===Hs?4:5;return g=Pa(g,wo[this.mode][l],v),g=Pa(g,h,5),new qs(g,this.mode,0,this.bitCount+v+5)}addBinaryShiftChar(l){let h=this.token,g=this.mode,v=this.bitCount;if(this.mode===Wi||this.mode===Hs){let N=Uo[g][Gi];h=Pa(h,N&65535,N>>16),v+=N>>16,g=Gi}let _=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,b=new qs(h,g,this.binaryShiftByteCount+1,v+_);return b.binaryShiftByteCount===2078&&(b=b.endBinaryShift(l+1)),b}endBinaryShift(l){if(this.binaryShiftByteCount===0)return this;let h=this.token;return h=so(h,l-this.binaryShiftByteCount,this.binaryShiftByteCount),new qs(h,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(l){let h=this.bitCount+(Uo[this.mode][l.mode]>>16);return this.binaryShiftByteCount<l.binaryShiftByteCount?h+=qs.calculateBinaryShiftCost(l)-qs.calculateBinaryShiftCost(this):this.binaryShiftByteCount>l.binaryShiftByteCount&&l.binaryShiftByteCount>0&&(h+=10),h<=l.bitCount}toBitArray(l){let h=[];for(let v=this.endBinaryShift(l.length).token;v!==null;v=v.getPrevious())h.unshift(v);let g=new G;for(const v of h)v.appendTo(g,l);return g}toString(){return q.format("%s bits=%d bytes=%d",$o[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(l){return l.binaryShiftByteCount>62?21:l.binaryShiftByteCount>31?20:l.binaryShiftByteCount>0?10:0}}qs.INITIAL_STATE=new qs(Bo,Gi,0,0);function ja(he){const l=q.getCharCode(" "),h=q.getCharCode("."),g=q.getCharCode(",");he[Gi][l]=1;const v=q.getCharCode("Z"),_=q.getCharCode("A");for(let _e=_;_e<=v;_e++)he[Gi][_e]=_e-_+2;he[yo][l]=1;const b=q.getCharCode("z"),N=q.getCharCode("a");for(let _e=N;_e<=b;_e++)he[yo][_e]=_e-N+2;he[Hs][l]=1;const D=q.getCharCode("9"),z=q.getCharCode("0");for(let _e=z;_e<=D;_e++)he[Hs][_e]=_e-z+2;he[Hs][g]=12,he[Hs][h]=13;const ee=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let _e=0;_e<ee.length;_e++)he[Rc][q.getCharCode(ee[_e])]=_e;const fe=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let _e=0;_e<fe.length;_e++)q.getCharCode(fe[_e])>0&&(he[Wi][q.getCharCode(fe[_e])]=_e);return he}const Gs=ja(W.createInt32Array(5,256));class Fa{constructor(l){this.text=l}encode(){const l=q.getCharCode(" "),h=q.getCharCode(`
`);let g=ps.singletonList(qs.INITIAL_STATE);for(let _=0;_<this.text.length;_++){let b,N=_+1<this.text.length?this.text[_+1]:0;switch(this.text[_]){case q.getCharCode("\r"):b=N===h?2:0;break;case q.getCharCode("."):b=N===l?3:0;break;case q.getCharCode(","):b=N===l?4:0;break;case q.getCharCode(":"):b=N===l?5:0;break;default:b=0}b>0?(g=Fa.updateStateListForPair(g,_,b),_++):g=this.updateStateListForChar(g,_)}return ps.min(g,(_,b)=>_.getBitCount()-b.getBitCount()).toBitArray(this.text)}updateStateListForChar(l,h){const g=[];for(let v of l)this.updateStateForChar(v,h,g);return Fa.simplifyStates(g)}updateStateForChar(l,h,g){let v=this.text[h]&255,_=Gs[l.getMode()][v]>0,b=null;for(let N=0;N<=Wi;N++){let D=Gs[N][v];if(D>0){if(b==null&&(b=l.endBinaryShift(h)),!_||N===l.getMode()||N===Hs){const z=b.latchAndAppend(N,D);g.push(z)}if(!_&&wo[l.getMode()][N]>=0){const z=b.shiftAndAppend(N,D);g.push(z)}}}if(l.getBinaryShiftByteCount()>0||Gs[l.getMode()][v]===0){let N=l.addBinaryShiftChar(h);g.push(N)}}static updateStateListForPair(l,h,g){const v=[];for(let _ of l)this.updateStateForPair(_,h,g,v);return this.simplifyStates(v)}static updateStateForPair(l,h,g,v){let _=l.endBinaryShift(h);if(v.push(_.latchAndAppend(Wi,g)),l.getMode()!==Wi&&v.push(_.shiftAndAppend(Wi,g)),g===3||g===4){let b=_.latchAndAppend(Hs,16-g).latchAndAppend(Hs,1);v.push(b)}if(l.getBinaryShiftByteCount()>0){let b=l.addBinaryShiftChar(h).addBinaryShiftChar(h+1);v.push(b)}}static simplifyStates(l){let h=[];for(const g of l){let v=!0;for(const _ of h){if(_.isBetterThanOrEqualTo(g)){v=!1;break}g.isBetterThanOrEqualTo(_)&&(h=h.filter(b=>b!==_))}v&&h.push(g)}return h}}class pr{constructor(){}static encodeBytes(l){return pr.encode(l,pr.DEFAULT_EC_PERCENT,pr.DEFAULT_AZTEC_LAYERS)}static encode(l,h,g){let v=new Fa(l).encode(),_=k.truncDivision(v.getSize()*h,100)+11,b=v.getSize()+_,N,D,z,ee,fe;if(g!==pr.DEFAULT_AZTEC_LAYERS){if(N=g<0,D=Math.abs(g),D>(N?pr.MAX_NB_BITS_COMPACT:pr.MAX_NB_BITS))throw new w(q.format("Illegal value %s for layers",g));z=pr.totalBitsInLayer(D,N),ee=pr.WORD_SIZE[D];let Pt=z-z%ee;if(fe=pr.stuffBits(v,ee),fe.getSize()+_>Pt)throw new w("Data to large for user specified layer");if(N&&fe.getSize()>ee*64)throw new w("Data to large for user specified layer")}else{ee=0,fe=null;for(let Pt=0;;Pt++){if(Pt>pr.MAX_NB_BITS)throw new w("Data too large for an Aztec code");if(N=Pt<=3,D=N?Pt+1:Pt,z=pr.totalBitsInLayer(D,N),b>z)continue;(fe==null||ee!==pr.WORD_SIZE[D])&&(ee=pr.WORD_SIZE[D],fe=pr.stuffBits(v,ee));let zn=z-z%ee;if(!(N&&fe.getSize()>ee*64)&&fe.getSize()+_<=zn)break}}let _e=pr.generateCheckWords(fe,z,ee),Pe=fe.getSize()/ee,qe=pr.generateModeMessage(N,D,Pe),Ke=(N?11:14)+D*4,rt=new Int32Array(Ke),_t;if(N){_t=Ke;for(let Pt=0;Pt<rt.length;Pt++)rt[Pt]=Pt}else{_t=Ke+1+2*k.truncDivision(k.truncDivision(Ke,2)-1,15);let Pt=k.truncDivision(Ke,2),zn=k.truncDivision(_t,2);for(let Jn=0;Jn<Pt;Jn++){let Mi=Jn+k.truncDivision(Jn,15);rt[Pt-Jn-1]=zn-Mi-1,rt[Pt+Jn]=zn+Mi+1}}let Bt=new ne(_t);for(let Pt=0,zn=0;Pt<D;Pt++){let Jn=(D-Pt)*4+(N?9:12);for(let Mi=0;Mi<Jn;Mi++){let Ws=Mi*2;for(let Ns=0;Ns<2;Ns++)_e.get(zn+Ws+Ns)&&Bt.set(rt[Pt*2+Ns],rt[Pt*2+Mi]),_e.get(zn+Jn*2+Ws+Ns)&&Bt.set(rt[Pt*2+Mi],rt[Ke-1-Pt*2-Ns]),_e.get(zn+Jn*4+Ws+Ns)&&Bt.set(rt[Ke-1-Pt*2-Ns],rt[Ke-1-Pt*2-Mi]),_e.get(zn+Jn*6+Ws+Ns)&&Bt.set(rt[Ke-1-Pt*2-Mi],rt[Pt*2+Ns])}zn+=Jn*8}if(pr.drawModeMessage(Bt,N,_t,qe),N)pr.drawBullsEye(Bt,k.truncDivision(_t,2),5);else{pr.drawBullsEye(Bt,k.truncDivision(_t,2),7);for(let Pt=0,zn=0;Pt<k.truncDivision(Ke,2)-1;Pt+=15,zn+=16)for(let Jn=k.truncDivision(_t,2)&1;Jn<_t;Jn+=2)Bt.set(k.truncDivision(_t,2)-zn,Jn),Bt.set(k.truncDivision(_t,2)+zn,Jn),Bt.set(Jn,k.truncDivision(_t,2)-zn),Bt.set(Jn,k.truncDivision(_t,2)+zn)}let Ut=new Yr;return Ut.setCompact(N),Ut.setSize(_t),Ut.setLayers(D),Ut.setCodeWords(Pe),Ut.setMatrix(Bt),Ut}static drawBullsEye(l,h,g){for(let v=0;v<g;v+=2)for(let _=h-v;_<=h+v;_++)l.set(_,h-v),l.set(_,h+v),l.set(h-v,_),l.set(h+v,_);l.set(h-g,h-g),l.set(h-g+1,h-g),l.set(h-g,h-g+1),l.set(h+g,h-g),l.set(h+g,h-g+1),l.set(h+g,h+g-1)}static generateModeMessage(l,h,g){let v=new G;return l?(v.appendBits(h-1,2),v.appendBits(g-1,6),v=pr.generateCheckWords(v,28,4)):(v.appendBits(h-1,5),v.appendBits(g-1,11),v=pr.generateCheckWords(v,40,4)),v}static drawModeMessage(l,h,g,v){let _=k.truncDivision(g,2);if(h)for(let b=0;b<7;b++){let N=_-3+b;v.get(b)&&l.set(N,_-5),v.get(b+7)&&l.set(_+5,N),v.get(20-b)&&l.set(N,_+5),v.get(27-b)&&l.set(_-5,N)}else for(let b=0;b<10;b++){let N=_-5+b+k.truncDivision(b,5);v.get(b)&&l.set(N,_-7),v.get(b+10)&&l.set(_+7,N),v.get(29-b)&&l.set(N,_+7),v.get(39-b)&&l.set(_-7,N)}}static generateCheckWords(l,h,g){let v=l.getSize()/g,_=new qn(pr.getGF(g)),b=k.truncDivision(h,g),N=pr.bitsToWords(l,g,b);_.encode(N,b-v);let D=h%g,z=new G;z.appendBits(0,D);for(const ee of Array.from(N))z.appendBits(ee,g);return z}static bitsToWords(l,h,g){let v=new Int32Array(g),_,b;for(_=0,b=l.getSize()/h;_<b;_++){let N=0;for(let D=0;D<h;D++)N|=l.get(_*h+D)?1<<h-D-1:0;v[_]=N}return v}static getGF(l){switch(l){case 4:return St.AZTEC_PARAM;case 6:return St.AZTEC_DATA_6;case 8:return St.AZTEC_DATA_8;case 10:return St.AZTEC_DATA_10;case 12:return St.AZTEC_DATA_12;default:throw new w("Unsupported word size "+l)}}static stuffBits(l,h){let g=new G,v=l.getSize(),_=(1<<h)-2;for(let b=0;b<v;b+=h){let N=0;for(let D=0;D<h;D++)(b+D>=v||l.get(b+D))&&(N|=1<<h-1-D);(N&_)===_?(g.appendBits(N&_,h),b--):(N&_)===0?(g.appendBits(N|1,h),b--):g.appendBits(N,h)}return g}static totalBitsInLayer(l,h){return((h?88:112)+16*l)*l}}pr.DEFAULT_EC_PERCENT=33,pr.DEFAULT_AZTEC_LAYERS=0,pr.MAX_NB_BITS=32,pr.MAX_NB_BITS_COMPACT=4,pr.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class bo{encode(l,h,g,v){return this.encodeWithHints(l,h,g,v,null)}encodeWithHints(l,h,g,v,_){let b=_r.ISO_8859_1,N=pr.DEFAULT_EC_PERCENT,D=pr.DEFAULT_AZTEC_LAYERS;return _!=null&&(_.has(pn.CHARACTER_SET)&&(b=hi.forName(_.get(pn.CHARACTER_SET).toString())),_.has(pn.ERROR_CORRECTION)&&(N=k.parseInt(_.get(pn.ERROR_CORRECTION).toString())),_.has(pn.AZTEC_LAYERS)&&(D=k.parseInt(_.get(pn.AZTEC_LAYERS).toString()))),bo.encodeLayers(l,h,g,v,b,N,D)}static encodeLayers(l,h,g,v,_,b,N){if(h!==de.AZTEC)throw new w("Can only encode AZTEC, but got "+h);let D=pr.encode(q.getBytes(l,_),b,N);return bo.renderResult(D,g,v)}static renderResult(l,h,g){let v=l.getMatrix();if(v==null)throw new le;let _=v.getWidth(),b=v.getHeight(),N=Math.max(h,_),D=Math.max(g,b),z=Math.min(N/_,D/b),ee=(N-_*z)/2,fe=(D-b*z)/2,_e=new ne(N,D);for(let Pe=0,qe=fe;Pe<b;Pe++,qe+=z)for(let Ke=0,rt=ee;Ke<_;Ke++,rt+=z)v.get(Ke,Pe)&&_e.setRegion(rt,qe,z,z);return _e}}t.AbstractExpandedDecoder=Ce,t.ArgumentException=x,t.ArithmeticException=Tt,t.AztecCode=Yr,t.AztecCodeReader=un,t.AztecCodeWriter=bo,t.AztecDecoder=At,t.AztecDetector=bn,t.AztecDetectorResult=fn,t.AztecEncoder=pr,t.AztecHighLevelEncoder=Fa,t.AztecPoint=sn,t.BarcodeFormat=de,t.Binarizer=I,t.BinaryBitmap=A,t.BitArray=G,t.BitMatrix=ne,t.BitSource=Ri,t.BrowserAztecCodeReader=nr,t.BrowserBarcodeReader=xa,t.BrowserCodeReader=J,t.BrowserDatamatrixCodeReader=$i,t.BrowserMultiFormatReader=tt,t.BrowserPDF417Reader=kt,t.BrowserQRCodeReader=Kt,t.BrowserQRCodeSvgWriter=Se,t.CharacterSetECI=L,t.ChecksumException=E,t.Code128Reader=dt,t.Code39Reader=Gt,t.DataMatrixDecodedBitStreamParser=As,t.DataMatrixReader=Vs,t.DecodeHintType=re,t.DecoderResult=Ve,t.DefaultGridSampler=wn,t.DetectorResult=Ft,t.EAN13Reader=hn,t.EncodeHintType=pn,t.Exception=d,t.FormatException=F,t.GenericGF=St,t.GenericGFPoly=nt,t.GlobalHistogramBinarizer=Ae,t.GridSampler=yn,t.GridSamplerInstance=gn,t.HTMLCanvasElementLuminanceSource=ze,t.HybridBinarizer=ve,t.ITFReader=It,t.IllegalArgumentException=w,t.IllegalStateException=le,t.InvertedLuminanceSource=He,t.LuminanceSource=Re,t.MathUtils=Je,t.MultiFormatOneDReader=Ii,t.MultiFormatReader=Ye,t.MultiFormatWriter=vt,t.NotFoundException=pe,t.OneDReader=rn,t.PDF417DecodedBitStreamParser=wt,t.PDF417DecoderErrorCorrection=ra,t.PDF417Reader=ue,t.PDF417ResultMetadata=no,t.PerspectiveTransform=cn,t.PlanarYUVLuminanceSource=nn,t.QRCodeByteMatrix=Ar,t.QRCodeDataMask=qi,t.QRCodeDecodedBitStreamParser=Zr,t.QRCodeDecoderErrorCorrectionLevel=sr,t.QRCodeDecoderFormatInformation=Oi,t.QRCodeEncoder=ie,t.QRCodeEncoderQRCode=Br,t.QRCodeMaskUtil=_n,t.QRCodeMatrixUtil=S,t.QRCodeMode=jn,t.QRCodeReader=na,t.QRCodeVersion=En,t.QRCodeWriter=st,t.RGBLuminanceSource=rr,t.RSS14Reader=Kn,t.RSSExpandedReader=Nt,t.ReaderException=je,t.ReedSolomonDecoder=ot,t.ReedSolomonEncoder=qn,t.ReedSolomonException=Rt,t.Result=Z,t.ResultMetadataType=Ue,t.ResultPoint=Xe,t.StringUtils=q,t.UnsupportedOperationException=Q,t.VideoInputDevice=xe,t.WhiteRectangleDetector=tn,t.WriterException=Wn,t.ZXingArrays=W,t.ZXingCharset=hi,t.ZXingInteger=k,t.ZXingStandardCharsets=_r,t.ZXingStringBuilder=Y,t.ZXingStringEncoding=U,t.ZXingSystem=C,t.createAbstractExpandedDecoder=yt,Object.defineProperty(t,"__esModule",{value:!0})}))})(z1,z1.exports)),z1.exports}var rs=Bre();const Ure=M2(rs),Vre=UD({__proto__:null,default:Ure},[rs]);var VN=(function(){function n(e,t,r){if(this.formatMap=new Map([[Dn.QR_CODE,rs.BarcodeFormat.QR_CODE],[Dn.AZTEC,rs.BarcodeFormat.AZTEC],[Dn.CODABAR,rs.BarcodeFormat.CODABAR],[Dn.CODE_39,rs.BarcodeFormat.CODE_39],[Dn.CODE_93,rs.BarcodeFormat.CODE_93],[Dn.CODE_128,rs.BarcodeFormat.CODE_128],[Dn.DATA_MATRIX,rs.BarcodeFormat.DATA_MATRIX],[Dn.MAXICODE,rs.BarcodeFormat.MAXICODE],[Dn.ITF,rs.BarcodeFormat.ITF],[Dn.EAN_13,rs.BarcodeFormat.EAN_13],[Dn.EAN_8,rs.BarcodeFormat.EAN_8],[Dn.PDF_417,rs.BarcodeFormat.PDF_417],[Dn.RSS_14,rs.BarcodeFormat.RSS_14],[Dn.RSS_EXPANDED,rs.BarcodeFormat.RSS_EXPANDED],[Dn.UPC_A,rs.BarcodeFormat.UPC_A],[Dn.UPC_E,rs.BarcodeFormat.UPC_E],[Dn.UPC_EAN_EXTENSION,rs.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!Vre)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=t,this.logger=r;var i=this.createZXingFormats(e),s=new Map;s.set(rs.DecodeHintType.POSSIBLE_FORMATS,i),s.set(rs.DecodeHintType.TRY_HARDER,!1),this.hints=s}return n.prototype.decodeAsync=function(e){var t=this;return new Promise(function(r,i){try{r(t.decode(e))}catch(s){i(s)}})},n.prototype.decode=function(e){var t=new rs.MultiFormatReader(this.verbose,this.hints),r=new rs.HTMLCanvasElementLuminanceSource(e),i=new rs.BinaryBitmap(new rs.HybridBinarizer(r)),s=t.decode(i);return{text:s.text,format:g7.create(this.toHtml5QrcodeSupportedFormats(s.format)),debugData:this.createDebugData()}},n.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(t,r,i){e.set(t,r)}),e},n.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},n.prototype.createZXingFormats=function(e){for(var t=[],r=0,i=e;r<i.length;r++){var s=i[r];this.formatMap.has(s)?t.push(this.formatMap.get(s)):this.logger.logError("".concat(s," is not supported by")+"ZXingHtml5QrcodeShim")}return t},n.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},n})(),zre=function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function u(x){try{d(r.next(x))}catch(w){o(w)}}function f(x){try{d(r.throw(x))}catch(w){o(w)}}function d(x){x.done?s(x.value):i(x.value).then(u,f)}d((r=r.apply(n,e||[])).next())})},Hre=function(n,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(d){return function(x){return f([d,x])}}function f(d){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,d[0]&&(t=0)),t;)try{if(r=1,i&&(s=d[0]&2?i.return:d[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,d[1])).done)return s;switch(i=0,s&&(d=[d[0]&2,s.value]),d[0]){case 0:case 1:s=d;break;case 4:return t.label++,{value:d[1],done:!1};case 5:t.label++,i=d[1],d=[0];continue;case 7:d=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(d[0]===6||d[0]===2)){t=0;continue}if(d[0]===3&&(!s||d[1]>s[0]&&d[1]<s[3])){t.label=d[1];break}if(d[0]===6&&t.label<s[1]){t.label=s[1],s=d;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(d);break}s[2]&&t.ops.pop(),t.trys.pop();continue}d=e.call(n,t)}catch(x){d=[6,x],i=0}finally{r=s=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},zN=(function(){function n(e,t,r){if(this.formatMap=new Map([[Dn.QR_CODE,"qr_code"],[Dn.AZTEC,"aztec"],[Dn.CODABAR,"codabar"],[Dn.CODE_39,"code_39"],[Dn.CODE_93,"code_93"],[Dn.CODE_128,"code_128"],[Dn.DATA_MATRIX,"data_matrix"],[Dn.ITF,"itf"],[Dn.EAN_13,"ean_13"],[Dn.EAN_8,"ean_8"],[Dn.PDF_417,"pdf417"],[Dn.UPC_A,"upc_a"],[Dn.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!n.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=t,this.logger=r;var i=this.createBarcodeDetectorFormats(e);if(this.detector=new BarcodeDetector(i),!this.detector)throw"BarcodeDetector detector not supported"}return n.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var e=new BarcodeDetector({formats:["qr_code"]});return typeof e<"u"},n.prototype.decodeAsync=function(e){return zre(this,void 0,void 0,function(){var t,r;return Hre(this,function(i){switch(i.label){case 0:return[4,this.detector.detect(e)];case 1:if(t=i.sent(),!t||t.length===0)throw"No barcode or QR code detected.";return r=this.selectLargestBarcode(t),[2,{text:r.rawValue,format:g7.create(this.toHtml5QrcodeSupportedFormats(r.format)),debugData:this.createDebugData()}]}})})},n.prototype.selectLargestBarcode=function(e){for(var t=null,r=0,i=0,s=e;i<s.length;i++){var o=s[i],u=o.boundingBox.width*o.boundingBox.height;u>r&&(r=u,t=o)}if(!t)throw"No largest barcode found";return t},n.prototype.createBarcodeDetectorFormats=function(e){for(var t=[],r=0,i=e;r<i.length;r++){var s=i[r];this.formatMap.has(s)?t.push(this.formatMap.get(s)):this.logger.warn("".concat(s," is not supported by")+"BarcodeDetectorDelegate")}return{formats:t}},n.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},n.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(t,r,i){e.set(t,r)}),e},n.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},n})(),HN=function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function u(x){try{d(r.next(x))}catch(w){o(w)}}function f(x){try{d(r.throw(x))}catch(w){o(w)}}function d(x){x.done?s(x.value):i(x.value).then(u,f)}d((r=r.apply(n,e||[])).next())})},qN=function(n,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(d){return function(x){return f([d,x])}}function f(d){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,d[0]&&(t=0)),t;)try{if(r=1,i&&(s=d[0]&2?i.return:d[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,d[1])).done)return s;switch(i=0,s&&(d=[d[0]&2,s.value]),d[0]){case 0:case 1:s=d;break;case 4:return t.label++,{value:d[1],done:!1};case 5:t.label++,i=d[1],d=[0];continue;case 7:d=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(d[0]===6||d[0]===2)){t=0;continue}if(d[0]===3&&(!s||d[1]>s[0]&&d[1]<s[3])){t.label=d[1];break}if(d[0]===6&&t.label<s[1]){t.label=s[1],s=d;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(d);break}s[2]&&t.ops.pop(),t.trys.pop();continue}d=e.call(n,t)}catch(x){d=[6,x],i=0}finally{r=s=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},qre=(function(){function n(e,t,r,i){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=r,t&&zN.isSupported()?(this.primaryDecoder=new zN(e,r,i),this.secondaryDecoder=new VN(e,r,i)):this.primaryDecoder=new VN(e,r,i)}return n.prototype.decodeAsync=function(e){return HN(this,void 0,void 0,function(){var t;return qN(this,function(r){switch(r.label){case 0:t=performance.now(),r.label=1;case 1:return r.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(e)];case 2:return[2,r.sent()];case 3:return this.possiblyLogPerformance(t),[7];case 4:return[2]}})})},n.prototype.decodeRobustlyAsync=function(e){return HN(this,void 0,void 0,function(){var t,r;return qN(this,function(i){switch(i.label){case 0:t=performance.now(),i.label=1;case 1:return i.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(e)];case 2:return[2,i.sent()];case 3:if(r=i.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(e)];throw r;case 4:return this.possiblyLogPerformance(t),[7];case 5:return[2]}})})},n.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},n.prototype.possiblyLogPerformance=function(e){if(this.verbose){var t=performance.now()-e;this.executionResults.push(t),this.executions++,this.possiblyFlushPerformanceReport()}},n.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var e=0,t=0,r=this.executionResults;t<r.length;t++){var i=r[t];e+=i}var s=e/this.executionResults.length;console.log("".concat(s," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},n})(),ab=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),O2=function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function u(x){try{d(r.next(x))}catch(w){o(w)}}function f(x){try{d(r.throw(x))}catch(w){o(w)}}function d(x){x.done?s(x.value):i(x.value).then(u,f)}d((r=r.apply(n,e||[])).next())})},D2=function(n,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(d){return function(x){return f([d,x])}}function f(d){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,d[0]&&(t=0)),t;)try{if(r=1,i&&(s=d[0]&2?i.return:d[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,d[1])).done)return s;switch(i=0,s&&(d=[d[0]&2,s.value]),d[0]){case 0:case 1:s=d;break;case 4:return t.label++,{value:d[1],done:!1};case 5:t.label++,i=d[1],d=[0];continue;case 7:d=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(d[0]===6||d[0]===2)){t=0;continue}if(d[0]===3&&(!s||d[1]>s[0]&&d[1]<s[3])){t.label=d[1];break}if(d[0]===6&&t.label<s[1]){t.label=s[1],s=d;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(d);break}s[2]&&t.ops.pop(),t.trys.pop();continue}d=e.call(n,t)}catch(x){d=[6,x],i=0}finally{r=s=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},_7=(function(){function n(e,t){this.name=e,this.track=t}return n.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},n.prototype.apply=function(e){var t={};t[this.name]=e;var r={advanced:[t]};return this.track.applyConstraints(r)},n.prototype.value=function(){var e=this.track.getSettings();if(this.name in e){var t=e[this.name];return t}return null},n})(),Gre=(function(n){ab(e,n);function e(t,r){return n.call(this,t,r)||this}return e.prototype.min=function(){return this.getCapabilities().min},e.prototype.max=function(){return this.getCapabilities().max},e.prototype.step=function(){return this.getCapabilities().step},e.prototype.apply=function(t){var r={};r[this.name]=t;var i={advanced:[r]};return this.track.applyConstraints(i)},e.prototype.getCapabilities=function(){this.failIfNotSupported();var t=this.track.getCapabilities(),r=t[this.name];return{min:r.min,max:r.max,step:r.step}},e.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},e})(_7),Wre=(function(n){ab(e,n);function e(t){return n.call(this,"zoom",t)||this}return e})(Gre),Yre=(function(n){ab(e,n);function e(t){return n.call(this,"torch",t)||this}return e})(_7),Xre=(function(){function n(e){this.track=e}return n.prototype.zoomFeature=function(){return new Wre(this.track)},n.prototype.torchFeature=function(){return new Yre(this.track)},n})(),Kre=(function(){function n(e,t,r){this.isClosed=!1,this.parentElement=e,this.mediaStream=t,this.callbacks=r,this.surface=this.createVideoElement(this.parentElement.clientWidth),e.append(this.surface)}return n.prototype.createVideoElement=function(e){var t=document.createElement("video");return t.style.width="".concat(e,"px"),t.style.display="block",t.muted=!0,t.setAttribute("muted","true"),t.playsInline=!0,t},n.prototype.setupSurface=function(){var e=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var t=function(){var r=e.surface.clientWidth,i=e.surface.clientHeight;e.callbacks.onRenderSurfaceReady(r,i),e.surface.removeEventListener("playing",t)};this.surface.addEventListener("playing",t),this.surface.srcObject=this.mediaStream,this.surface.play()},n.create=function(e,t,r,i){return O2(this,void 0,void 0,function(){var s,o;return D2(this,function(u){switch(u.label){case 0:return s=new n(e,t,i),r.aspectRatio?(o={aspectRatio:r.aspectRatio},[4,s.getFirstTrackOrFail().applyConstraints(o)]):[3,2];case 1:u.sent(),u.label=2;case 2:return s.setupSurface(),[2,s]}})})},n.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},n.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},n.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},n.prototype.resume=function(e){this.failIfClosed();var t=this,r=function(){setTimeout(e,200),t.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.play()},n.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},n.prototype.getSurface=function(){return this.failIfClosed(),this.surface},n.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},n.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},n.prototype.applyVideoConstraints=function(e){return O2(this,void 0,void 0,function(){return D2(this,function(t){if("aspectRatio"in e)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(e)]})})},n.prototype.close=function(){if(this.isClosed)return Promise.resolve();var e=this;return new Promise(function(t,r){var i=e.mediaStream.getVideoTracks(),s=i.length,o=0;e.mediaStream.getVideoTracks().forEach(function(u){e.mediaStream.removeTrack(u),u.stop(),++o,o>=s&&(e.isClosed=!0,e.parentElement.removeChild(e.surface),t())})})},n.prototype.getCapabilities=function(){return new Xre(this.getFirstTrackOrFail())},n})(),Qre=(function(){function n(e){this.mediaStream=e}return n.prototype.render=function(e,t,r){return O2(this,void 0,void 0,function(){return D2(this,function(i){return[2,Kre.create(e,this.mediaStream,t,r)]})})},n.create=function(e){return O2(this,void 0,void 0,function(){var t,r;return D2(this,function(i){switch(i.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return t={audio:!1,video:e},[4,navigator.mediaDevices.getUserMedia(t)];case 1:return r=i.sent(),[2,new n(r)]}})})},n})(),GN=function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function u(x){try{d(r.next(x))}catch(w){o(w)}}function f(x){try{d(r.throw(x))}catch(w){o(w)}}function d(x){x.done?s(x.value):i(x.value).then(u,f)}d((r=r.apply(n,e||[])).next())})},WN=function(n,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(d){return function(x){return f([d,x])}}function f(d){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,d[0]&&(t=0)),t;)try{if(r=1,i&&(s=d[0]&2?i.return:d[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,d[1])).done)return s;switch(i=0,s&&(d=[d[0]&2,s.value]),d[0]){case 0:case 1:s=d;break;case 4:return t.label++,{value:d[1],done:!1};case 5:t.label++,i=d[1],d=[0];continue;case 7:d=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(d[0]===6||d[0]===2)){t=0;continue}if(d[0]===3&&(!s||d[1]>s[0]&&d[1]<s[3])){t.label=d[1];break}if(d[0]===6&&t.label<s[1]){t.label=s[1],s=d;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(d);break}s[2]&&t.ops.pop(),t.trys.pop();continue}d=e.call(n,t)}catch(x){d=[6,x],i=0}finally{r=s=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},$re=(function(){function n(){}return n.failIfNotSupported=function(){return GN(this,void 0,void 0,function(){return WN(this,function(e){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new n]})})},n.prototype.create=function(e){return GN(this,void 0,void 0,function(){return WN(this,function(t){return[2,Qre.create(e)]})})},n})(),Zre=function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function u(x){try{d(r.next(x))}catch(w){o(w)}}function f(x){try{d(r.throw(x))}catch(w){o(w)}}function d(x){x.done?s(x.value):i(x.value).then(u,f)}d((r=r.apply(n,e||[])).next())})},Jre=function(n,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(d){return function(x){return f([d,x])}}function f(d){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,d[0]&&(t=0)),t;)try{if(r=1,i&&(s=d[0]&2?i.return:d[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,d[1])).done)return s;switch(i=0,s&&(d=[d[0]&2,s.value]),d[0]){case 0:case 1:s=d;break;case 4:return t.label++,{value:d[1],done:!1};case 5:t.label++,i=d[1],d=[0];continue;case 7:d=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(d[0]===6||d[0]===2)){t=0;continue}if(d[0]===3&&(!s||d[1]>s[0]&&d[1]<s[3])){t.label=d[1];break}if(d[0]===6&&t.label<s[1]){t.label=s[1],s=d;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(d);break}s[2]&&t.ops.pop(),t.trys.pop();continue}d=e.call(n,t)}catch(x){d=[6,x],i=0}finally{r=s=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},eie=(function(){function n(){}return n.retrieve=function(){if(navigator.mediaDevices)return n.getCamerasFromMediaDevices();var e=MediaStreamTrack;return MediaStreamTrack&&e.getSources?n.getCamerasFromMediaStreamTrack():n.rejectWithError()},n.rejectWithError=function(){var e=c0.unableToQuerySupportedDevices();return n.isHttpsOrLocalhost()||(e=c0.insecureContextCameraQueryError()),Promise.reject(e)},n.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var e=location.host.split(":")[0];return e==="127.0.0.1"||e==="localhost"},n.getCamerasFromMediaDevices=function(){return Zre(this,void 0,void 0,function(){var e,t,r,i,s,o,u;return Jre(this,function(f){switch(f.label){case 0:return e=function(d){for(var x=d.getVideoTracks(),w=0,A=x;w<A.length;w++){var E=A[w];E.enabled=!1,E.stop(),d.removeTrack(E)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return t=f.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(r=f.sent(),i=[],s=0,o=r;s<o.length;s++)u=o[s],u.kind==="videoinput"&&i.push({id:u.deviceId,label:u.label});return e(t),[2,i]}})})},n.getCamerasFromMediaStreamTrack=function(){return new Promise(function(e,t){var r=function(s){for(var o=[],u=0,f=s;u<f.length;u++){var d=f[u];d.kind==="video"&&o.push({id:d.id,label:d.label})}e(o)},i=MediaStreamTrack;i.getSources(r)})},n})(),Ps;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.NOT_STARTED=1]="NOT_STARTED",n[n.SCANNING=2]="SCANNING",n[n.PAUSED=3]="PAUSED"})(Ps||(Ps={}));var tie=(function(){function n(){this.state=Ps.NOT_STARTED,this.onGoingTransactionNewState=Ps.UNKNOWN}return n.prototype.directTransition=function(e){this.failIfTransitionOngoing(),this.validateTransition(e),this.state=e},n.prototype.startTransition=function(e){return this.failIfTransitionOngoing(),this.validateTransition(e),this.onGoingTransactionNewState=e,this},n.prototype.execute=function(){if(this.onGoingTransactionNewState===Ps.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var e=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Ps.UNKNOWN,this.directTransition(e)},n.prototype.cancel=function(){if(this.onGoingTransactionNewState===Ps.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Ps.UNKNOWN},n.prototype.getState=function(){return this.state},n.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Ps.UNKNOWN)throw"Cannot transition to a new state, already under transition"},n.prototype.validateTransition=function(e){switch(this.state){case Ps.UNKNOWN:throw"Transition from unknown is not allowed";case Ps.NOT_STARTED:this.failIfNewStateIs(e,[Ps.PAUSED]);break;case Ps.SCANNING:break;case Ps.PAUSED:break}},n.prototype.failIfNewStateIs=function(e,t){for(var r=0,i=t;r<i.length;r++){var s=i[r];if(e===s)throw"Cannot transition from ".concat(this.state," to ").concat(e)}},n})(),nie=(function(){function n(e){this.stateManager=e}return n.prototype.startTransition=function(e){return this.stateManager.startTransition(e)},n.prototype.directTransition=function(e){this.stateManager.directTransition(e)},n.prototype.getState=function(){return this.stateManager.getState()},n.prototype.canScanFile=function(){return this.stateManager.getState()===Ps.NOT_STARTED},n.prototype.isScanning=function(){return this.stateManager.getState()!==Ps.NOT_STARTED},n.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Ps.SCANNING},n.prototype.isPaused=function(){return this.stateManager.getState()===Ps.PAUSED},n})(),rie=(function(){function n(){}return n.create=function(){return new nie(new tie)},n})(),iie=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),Tl=(function(n){iie(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.DEFAULT_WIDTH=300,e.DEFAULT_WIDTH_OFFSET=2,e.FILE_SCAN_MIN_HEIGHT=300,e.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,e.MIN_QR_BOX_SIZE=50,e.SHADED_LEFT=1,e.SHADED_RIGHT=2,e.SHADED_TOP=3,e.SHADED_BOTTOM=4,e.SHADED_REGION_ELEMENT_ID="qr-shaded-region",e.VERBOSE=!1,e.BORDER_SHADER_DEFAULT_COLOR="#ffffff",e.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",e})(xc),sie=(function(){function n(e,t){this.logger=t,this.fps=Tl.SCAN_DEFAULT_FPS,e?(e.fps&&(this.fps=e.fps),this.disableFlip=e.disableFlip===!0,this.qrbox=e.qrbox,this.aspectRatio=e.aspectRatio,this.videoConstraints=e.videoConstraints):this.disableFlip=Tl.DEFAULT_DISABLE_FLIP}return n.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?v7.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},n.prototype.isShadedBoxEnabled=function(){return!Qc(this.qrbox)},n.create=function(e,t){return new n(e,t)},n})(),YN=(function(){function n(e,t){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(e))throw"HTML Element with id=".concat(e," not found");this.elementId=e,this.verbose=!1;var r;typeof t=="boolean"?this.verbose=t===!0:t&&(r=t,this.verbose=r.verbose===!0,r.experimentalFeatures),this.logger=new x7(this.verbose),this.qrcode=new qre(this.getSupportedFormats(t),this.getUseBarCodeDetectorIfSupported(r),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=rie.create()}return n.prototype.start=function(e,t,r,i){var s=this;if(!e)throw"cameraIdOrConfig is required";if(!r||typeof r!="function")throw"qrCodeSuccessCallback is required and should be a function.";var o;i?o=i:o=this.verbose?this.logger.log:function(){};var u=sie.create(t,this.logger);this.clearElement();var f=!1;u.videoConstraints&&(u.isMediaStreamConstraintsValid()?f=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var d=f,x=document.getElementById(this.elementId);x.clientWidth?x.clientWidth:Tl.DEFAULT_WIDTH,x.style.position="relative",this.shouldScan=!0,this.element=x;var w=this,A=this.stateManagerProxy.startTransition(Ps.SCANNING);return new Promise(function(E,I){var C=d?u.videoConstraints:w.createVideoConstraints(e);if(!C){A.cancel(),I("videoConstraints should be defined");return}var M={};(!d||u.aspectRatio)&&(M.aspectRatio=u.aspectRatio);var j={onRenderSurfaceReady:function(W,k){w.setupUi(W,k,u),w.isScanning=!0,w.foreverScan(u,r,o)}};$re.failIfNotSupported().then(function(W){W.create(C).then(function(k){return k.render(s.element,M,j).then(function(G){w.renderedCamera=G,A.execute(),E(null)}).catch(function(G){A.cancel(),I(G)})}).catch(function(k){A.cancel(),I(c0.errorGettingUserMedia(k))})}).catch(function(W){A.cancel(),I(c0.cameraStreamingNotSupported())})})},n.prototype.pause=function(e){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Ps.PAUSED),this.showPausedState(),(Qc(e)||e!==!0)&&(e=!1),e&&this.renderedCamera&&this.renderedCamera.pause()},n.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var e=this,t=function(){e.stateManagerProxy.directTransition(Ps.SCANNING),e.hidePausedState()};if(!this.renderedCamera.isPaused()){t();return}this.renderedCamera.resume(function(){t()})},n.prototype.getState=function(){return this.stateManagerProxy.getState()},n.prototype.stop=function(){var e=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var t=this.stateManagerProxy.startTransition(Ps.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var r=function(){if(e.element){var s=document.getElementById(Tl.SHADED_REGION_ELEMENT_ID);s&&e.element.removeChild(s)}},i=this;return this.renderedCamera.close().then(function(){return i.renderedCamera=null,i.element&&(i.element.removeChild(i.canvasElement),i.canvasElement=null),r(),i.qrRegion&&(i.qrRegion=null),i.context&&(i.context=null),t.execute(),i.hidePausedState(),i.isScanning=!1,Promise.resolve()})},n.prototype.scanFile=function(e,t){return this.scanFileV2(e,t).then(function(r){return r.decodedText})},n.prototype.scanFileV2=function(e,t){var r=this;if(!e||!(e instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Qc(t)&&(t=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(i,s){r.possiblyCloseLastScanImageFile(),r.clearElement(),r.lastScanImageFile=URL.createObjectURL(e);var o=new Image;o.onload=function(){var u=o.width,f=o.height,d=document.getElementById(r.elementId),x=d.clientWidth?d.clientWidth:Tl.DEFAULT_WIDTH,w=Math.max(d.clientHeight?d.clientHeight:f,Tl.FILE_SCAN_MIN_HEIGHT),A=r.computeCanvasDrawConfig(u,f,x,w);if(t){var E=r.createCanvasElement(x,w,"qr-canvas-visible");E.style.display="inline-block",d.appendChild(E);var I=E.getContext("2d");if(!I)throw"Unable to get 2d context from canvas";I.canvas.width=x,I.canvas.height=w,I.drawImage(o,0,0,u,f,A.x,A.y,A.width,A.height)}var C=Tl.FILE_SCAN_HIDDEN_CANVAS_PADDING,M=Math.max(o.width,A.width),j=Math.max(o.height,A.height),W=M+2*C,k=j+2*C,G=r.createCanvasElement(W,k);d.appendChild(G);var ce=G.getContext("2d");if(!ce)throw"Unable to get 2d context from canvas";ce.canvas.width=W,ce.canvas.height=k,ce.drawImage(o,0,0,u,f,C,C,M,j);try{r.qrcode.decodeRobustlyAsync(G).then(function(re){i(FN.createFromQrcodeResult(re))}).catch(s)}catch(re){s("QR code parse error, error = ".concat(re))}},o.onerror=s,o.onabort=s,o.onstalled=s,o.onsuspend=s,o.src=URL.createObjectURL(e)})},n.prototype.clear=function(){this.clearElement()},n.getCameras=function(){return eie.retrieve()},n.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},n.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},n.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},n.prototype.applyVideoConstraints=function(e){if(e){if(!v7.isMediaStreamConstraintsValid(e,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(e)},n.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},n.prototype.getSupportedFormats=function(e){var t=[Dn.QR_CODE,Dn.AZTEC,Dn.CODABAR,Dn.CODE_39,Dn.CODE_93,Dn.CODE_128,Dn.DATA_MATRIX,Dn.MAXICODE,Dn.ITF,Dn.EAN_13,Dn.EAN_8,Dn.PDF_417,Dn.RSS_14,Dn.RSS_EXPANDED,Dn.UPC_A,Dn.UPC_E,Dn.UPC_EAN_EXTENSION];if(!e||typeof e=="boolean"||!e.formatsToSupport)return t;if(!Array.isArray(e.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(e.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var r=[],i=0,s=e.formatsToSupport;i<s.length;i++){var o=s[i];Pre(o)?r.push(o):this.logger.warn("Invalid format: ".concat(o," passed in config, ignoring."))}if(r.length===0)throw"None of formatsToSupport match supported values.";return r},n.prototype.getUseBarCodeDetectorIfSupported=function(e){if(Qc(e))return!0;if(!Qc(e.useBarCodeDetectorIfSupported))return e.useBarCodeDetectorIfSupported!==!1;if(Qc(e.experimentalFeatures))return!0;var t=e.experimentalFeatures;return Qc(t.useBarCodeDetectorIfSupported)?!0:t.useBarCodeDetectorIfSupported!==!1},n.prototype.validateQrboxSize=function(e,t,r){var i=this,s=r.qrbox;this.validateQrboxConfig(s);var o=this.toQrdimensions(e,t,s),u=function(d){if(d<Tl.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(Tl.MIN_QR_BOX_SIZE,"px.")},f=function(d){return d>e&&(i.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),d=e),d};u(o.width),u(o.height),o.width=f(o.width)},n.prototype.validateQrboxConfig=function(e){if(typeof e!="number"&&typeof e!="function"&&(e.width===void 0||e.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},n.prototype.toQrdimensions=function(e,t,r){if(typeof r=="number")return{width:r,height:r};if(typeof r=="function")try{return r(e,t)}catch(i){throw new Error("qrbox config was passed as a function but it failed with unknown error"+i)}return r},n.prototype.setupUi=function(e,t,r){r.isShadedBoxEnabled()&&this.validateQrboxSize(e,t,r);var i=Qc(r.qrbox)?{width:e,height:t}:r.qrbox;this.validateQrboxConfig(i);var s=this.toQrdimensions(e,t,i);s.height>t&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var o=r.isShadedBoxEnabled()&&s.height<=t,u={x:0,y:0,width:e,height:t},f=o?this.getShadedRegionBounds(e,t,s):u,d=this.createCanvasElement(f.width,f.height),x={willReadFrequently:!0},w=d.getContext("2d",x);w.canvas.width=f.width,w.canvas.height=f.height,this.element.append(d),o&&this.possiblyInsertShadingElement(this.element,e,t,s),this.createScannerPausedUiElement(this.element),this.qrRegion=f,this.context=w,this.canvasElement=d},n.prototype.createScannerPausedUiElement=function(e){var t=document.createElement("div");t.innerText=c0.scannerPaused(),t.style.display="none",t.style.position="absolute",t.style.top="0px",t.style.zIndex="1",t.style.background="rgba(9, 9, 9, 0.46)",t.style.color="#FFECEC",t.style.textAlign="center",t.style.width="100%",e.appendChild(t),this.scannerPausedUiElement=t},n.prototype.scanContext=function(e,t){var r=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(i){return e(i.text,FN.createFromQrcodeResult(i)),r.possiblyUpdateShaders(!0),!0}).catch(function(i){r.possiblyUpdateShaders(!1);var s=c0.codeParseError(i);return t(s,p7.createFrom(s)),!1})},n.prototype.foreverScan=function(e,t,r){var i=this;if(this.shouldScan&&this.renderedCamera){var s=this.renderedCamera.getSurface(),o=s.videoWidth/s.clientWidth,u=s.videoHeight/s.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var f=this.qrRegion.width*o,d=this.qrRegion.height*u,x=this.qrRegion.x*o,w=this.qrRegion.y*u;this.context.drawImage(s,x,w,f,d,0,0,this.qrRegion.width,this.qrRegion.height);var A=function(){i.foreverScanTimeout=setTimeout(function(){i.foreverScan(e,t,r)},i.getTimeoutFps(e.fps))};this.scanContext(t,r).then(function(E){!E&&e.disableFlip!==!0?(i.context.translate(i.context.canvas.width,0),i.context.scale(-1,1),i.scanContext(t,r).finally(function(){A()})):A()}).catch(function(E){i.logger.logError("Error happend while scanning context",E),A()})}},n.prototype.createVideoConstraints=function(e){if(typeof e=="string")return{deviceId:{exact:e}};if(typeof e=="object"){var t="facingMode",r="deviceId",i={user:!0,environment:!0},s="exact",o=function(I){if(I in i)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(I,"'")},u=Object.keys(e);if(u.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(u.length," keys");var f=Object.keys(e)[0];if(f!==t&&f!==r)throw"Only '".concat(t,"' and '").concat(r,"' ")+" are supported for 'cameraIdOrConfig'";if(f===t){var d=e.facingMode;if(typeof d=="string"){if(o(d))return{facingMode:d}}else if(typeof d=="object")if(s in d){if(o(d["".concat(s)]))return{facingMode:{exact:d["".concat(s)]}}}else throw"'facingMode' should be string or object with"+" ".concat(s," as key.");else{var x=typeof d;throw"Invalid type of 'facingMode' = ".concat(x)}}else{var w=e.deviceId;if(typeof w=="string")return{deviceId:w};if(typeof w=="object"){if(s in w)return{deviceId:{exact:w["".concat(s)]}};throw"'deviceId' should be string or object with"+" ".concat(s," as key.")}else{var A=typeof w;throw"Invalid type of 'deviceId' = ".concat(A)}}}var E=typeof e;throw"Invalid type of 'cameraIdOrConfig' = ".concat(E)},n.prototype.computeCanvasDrawConfig=function(e,t,r,i){if(e<=r&&t<=i){var s=(r-e)/2,o=(i-t)/2;return{x:s,y:o,width:e,height:t}}else{var u=e,f=t;return e>r&&(t=r/e*t,e=r),t>i&&(e=i/t*e,t=i),this.logger.log("Image downsampled from "+"".concat(u,"X").concat(f)+" to ".concat(e,"X").concat(t,".")),this.computeCanvasDrawConfig(e,t,r,i)}},n.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var e=document.getElementById(this.elementId);e&&(e.innerHTML="")},n.prototype.possiblyUpdateShaders=function(e){this.qrMatch!==e&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(t){t.style.backgroundColor=e?Tl.BORDER_SHADER_MATCH_COLOR:Tl.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=e)},n.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},n.prototype.createCanvasElement=function(e,t,r){var i=e,s=t,o=document.createElement("canvas");return o.style.width="".concat(i,"px"),o.style.height="".concat(s,"px"),o.style.display="none",o.id=Qc(r)?"qr-canvas":r,o},n.prototype.getShadedRegionBounds=function(e,t,r){if(r.width>e||r.height>t)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(e-r.width)/2,y:(t-r.height)/2,width:r.width,height:r.height}},n.prototype.possiblyInsertShadingElement=function(e,t,r,i){if(!(t-i.width<1||r-i.height<1)){var s=document.createElement("div");s.style.position="absolute";var o=(t-i.width)/2,u=(r-i.height)/2;if(s.style.borderLeft="".concat(o,"px solid rgba(0, 0, 0, 0.48)"),s.style.borderRight="".concat(o,"px solid rgba(0, 0, 0, 0.48)"),s.style.borderTop="".concat(u,"px solid rgba(0, 0, 0, 0.48)"),s.style.borderBottom="".concat(u,"px solid rgba(0, 0, 0, 0.48)"),s.style.boxSizing="border-box",s.style.top="0px",s.style.bottom="0px",s.style.left="0px",s.style.right="0px",s.id="".concat(Tl.SHADED_REGION_ELEMENT_ID),t-i.width<11||r-i.height<11)this.hasBorderShaders=!1;else{var f=5,d=40;this.insertShaderBorders(s,d,f,-f,null,0,!0),this.insertShaderBorders(s,d,f,-f,null,0,!1),this.insertShaderBorders(s,d,f,null,-f,0,!0),this.insertShaderBorders(s,d,f,null,-f,0,!1),this.insertShaderBorders(s,f,d+f,-f,null,-f,!0),this.insertShaderBorders(s,f,d+f,null,-f,-f,!0),this.insertShaderBorders(s,f,d+f,-f,null,-f,!1),this.insertShaderBorders(s,f,d+f,null,-f,-f,!1),this.hasBorderShaders=!0}e.append(s)}},n.prototype.insertShaderBorders=function(e,t,r,i,s,o,u){var f=document.createElement("div");f.style.position="absolute",f.style.backgroundColor=Tl.BORDER_SHADER_DEFAULT_COLOR,f.style.width="".concat(t,"px"),f.style.height="".concat(r,"px"),i!==null&&(f.style.top="".concat(i,"px")),s!==null&&(f.style.bottom="".concat(s,"px")),u?f.style.left="".concat(o,"px"):f.style.right="".concat(o,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(f),e.appendChild(f)},n.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},n.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},n.prototype.getTimeoutFps=function(e){return 1e3/e},n})(),ob="data:image/svg+xml;base64,",aie=ob+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",oie=ob+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",XN=ob+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",lie="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",KN=(function(){function n(){}return n.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},n})(),cie=(function(){function n(){this.data=KN.createDefault();var e=localStorage.getItem(n.LOCAL_STORAGE_KEY);e?this.data=JSON.parse(e):this.reset()}return n.prototype.hasCameraPermissions=function(){return this.data.hasPermission},n.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},n.prototype.setHasPermission=function(e){this.data.hasPermission=e,this.flush()},n.prototype.setLastUsedCameraId=function(e){this.data.lastUsedCameraId=e,this.flush()},n.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},n.prototype.reset=function(){this.data=KN.createDefault(),this.flush()},n.prototype.flush=function(){localStorage.setItem(n.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},n.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",n})(),uie=(function(){function n(){this.infoDiv=document.createElement("div")}return n.prototype.renderInto=function(e){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=BN.poweredBy();var t=document.createElement("a");t.innerText="ScanApp",t.href="https://scanapp.org",t.target="new",t.style.color="white",this.infoDiv.appendChild(t);var r=document.createElement("br"),i=document.createElement("br");this.infoDiv.appendChild(r),this.infoDiv.appendChild(i);var s=document.createElement("a");s.innerText=BN.reportIssues(),s.href="https://github.com/mebjas/html5-qrcode/issues",s.target="new",s.style.color="white",this.infoDiv.appendChild(s),e.appendChild(this.infoDiv)},n.prototype.show=function(){this.infoDiv.style.display="block"},n.prototype.hide=function(){this.infoDiv.style.display="none"},n})(),hie=(function(){function n(e,t){this.isShowingInfoIcon=!0,this.onTapIn=e,this.onTapOut=t,this.infoIcon=document.createElement("img")}return n.prototype.renderInto=function(e){var t=this;this.infoIcon.alt="Info icon",this.infoIcon.src=XN,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(r){return t.onHoverIn()},this.infoIcon.onmouseout=function(r){return t.onHoverOut()},this.infoIcon.onclick=function(r){return t.onClick()},e.appendChild(this.infoIcon)},n.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},n.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},n.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=lie,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=XN,this.infoIcon.style.opacity="0.6")},n})(),fie=(function(){function n(){var e=this;this.infoDiv=new uie,this.infoIcon=new hie(function(){e.infoDiv.show()},function(){e.infoDiv.hide()})}return n.prototype.renderInto=function(e){this.infoDiv.renderInto(e),this.infoIcon.renderInto(e)},n})(),die=function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function u(x){try{d(r.next(x))}catch(w){o(w)}}function f(x){try{d(r.throw(x))}catch(w){o(w)}}function d(x){x.done?s(x.value):i(x.value).then(u,f)}d((r=r.apply(n,e||[])).next())})},mie=function(n,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(d){return function(x){return f([d,x])}}function f(d){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,d[0]&&(t=0)),t;)try{if(r=1,i&&(s=d[0]&2?i.return:d[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,d[1])).done)return s;switch(i=0,s&&(d=[d[0]&2,s.value]),d[0]){case 0:case 1:s=d;break;case 4:return t.label++,{value:d[1],done:!1};case 5:t.label++,i=d[1],d=[0];continue;case 7:d=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(d[0]===6||d[0]===2)){t=0;continue}if(d[0]===3&&(!s||d[1]>s[0]&&d[1]<s[3])){t.label=d[1];break}if(d[0]===6&&t.label<s[1]){t.label=s[1],s=d;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(d);break}s[2]&&t.ops.pop(),t.trys.pop();continue}d=e.call(n,t)}catch(x){d=[6,x],i=0}finally{r=s=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},QN=(function(){function n(){}return n.hasPermissions=function(){return die(this,void 0,void 0,function(){var e,t,r,i;return mie(this,function(s){switch(s.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(e=s.sent(),t=0,r=e;t<r.length;t++)if(i=r[t],i.kind==="videoinput"&&i.label)return[2,!0];return[2,!1]}})})},n})(),Dh=(function(){function n(e){this.supportedScanTypes=this.validateAndReturnScanTypes(e)}return n.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},n.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},n.prototype.isCameraScanRequired=function(){for(var e=0,t=this.supportedScanTypes;e<t.length;e++){var r=t[e];if(n.isCameraScanType(r))return!0}return!1},n.isCameraScanType=function(e){return e===uu.SCAN_TYPE_CAMERA},n.isFileScanType=function(e){return e===uu.SCAN_TYPE_FILE},n.prototype.validateAndReturnScanTypes=function(e){if(!e||e.length===0)return xc.DEFAULT_SUPPORTED_SCAN_TYPE;var t=xc.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(e.length>t)throw"Max ".concat(t," values expected for ")+"supportedScanTypes";for(var r=0,i=e;r<i.length;r++){var s=i[r];if(!xc.DEFAULT_SUPPORTED_SCAN_TYPE.includes(s))throw"Unsupported scan type ".concat(s)}return e},n})(),Ml=(function(){function n(){}return n.ALL_ELEMENT_CLASS="html5-qrcode-element",n.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",n.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",n.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",n.TORCH_BUTTON_ID="html5-qrcode-button-torch",n.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",n.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",n.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",n.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",n.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",n.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",n})(),Bu=(function(){function n(){}return n.createElement=function(e,t){var r=document.createElement(e);return r.id=t,r.classList.add(Ml.ALL_ELEMENT_CLASS),e==="button"&&r.setAttribute("type","button"),r},n})(),y7=function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function u(x){try{d(r.next(x))}catch(w){o(w)}}function f(x){try{d(r.throw(x))}catch(w){o(w)}}function d(x){x.done?s(x.value):i(x.value).then(u,f)}d((r=r.apply(n,e||[])).next())})},w7=function(n,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(d){return function(x){return f([d,x])}}function f(d){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,d[0]&&(t=0)),t;)try{if(r=1,i&&(s=d[0]&2?i.return:d[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,d[1])).done)return s;switch(i=0,s&&(d=[d[0]&2,s.value]),d[0]){case 0:case 1:s=d;break;case 4:return t.label++,{value:d[1],done:!1};case 5:t.label++,i=d[1],d=[0];continue;case 7:d=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(d[0]===6||d[0]===2)){t=0;continue}if(d[0]===3&&(!s||d[1]>s[0]&&d[1]<s[3])){t.label=d[1];break}if(d[0]===6&&t.label<s[1]){t.label=s[1],s=d;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(d);break}s[2]&&t.ops.pop(),t.trys.pop();continue}d=e.call(n,t)}catch(x){d=[6,x],i=0}finally{r=s=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},$N=(function(){function n(e,t,r){this.isTorchOn=!1,this.torchCapability=e,this.buttonController=t,this.onTorchActionFailureCallback=r}return n.prototype.isTorchEnabled=function(){return this.isTorchOn},n.prototype.flipState=function(){return y7(this,void 0,void 0,function(){var e,t;return w7(this,function(r){switch(r.label){case 0:this.buttonController.disable(),e=!this.isTorchOn,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.torchCapability.apply(e)];case 2:return r.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),e),[3,4];case 3:return t=r.sent(),this.propagateFailure(e,t),this.buttonController.enable(),[3,4];case 4:return[2]}})})},n.prototype.updateUiBasedOnLatestSettings=function(e,t){e===t?(this.buttonController.setText(t?Ei.torchOffButton():Ei.torchOnButton()),this.isTorchOn=t):this.propagateFailure(t),this.buttonController.enable()},n.prototype.propagateFailure=function(e,t){var r=e?Ei.torchOnFailedMessage():Ei.torchOffFailedMessage();t&&(r+="; Error = "+t),this.onTorchActionFailureCallback(r)},n.prototype.reset=function(){this.isTorchOn=!1},n})(),gie=(function(){function n(e,t){this.onTorchActionFailureCallback=t,this.torchButton=Bu.createElement("button",Ml.TORCH_BUTTON_ID),this.torchController=new $N(e,this,t)}return n.prototype.render=function(e,t){var r=this;this.torchButton.innerText=Ei.torchOnButton(),this.torchButton.style.display=t.display,this.torchButton.style.marginLeft=t.marginLeft;var i=this;this.torchButton.addEventListener("click",function(s){return y7(r,void 0,void 0,function(){return w7(this,function(o){switch(o.label){case 0:return[4,i.torchController.flipState()];case 1:return o.sent(),i.torchController.isTorchEnabled()?(i.torchButton.classList.remove(Ml.TORCH_BUTTON_CLASS_TORCH_OFF),i.torchButton.classList.add(Ml.TORCH_BUTTON_CLASS_TORCH_ON)):(i.torchButton.classList.remove(Ml.TORCH_BUTTON_CLASS_TORCH_ON),i.torchButton.classList.add(Ml.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),e.appendChild(this.torchButton)},n.prototype.updateTorchCapability=function(e){this.torchController=new $N(e,this,this.onTorchActionFailureCallback)},n.prototype.getTorchButton=function(){return this.torchButton},n.prototype.hide=function(){this.torchButton.style.display="none"},n.prototype.show=function(){this.torchButton.style.display="inline-block"},n.prototype.disable=function(){this.torchButton.disabled=!0},n.prototype.enable=function(){this.torchButton.disabled=!1},n.prototype.setText=function(e){this.torchButton.innerText=e},n.prototype.reset=function(){this.torchButton.innerText=Ei.torchOnButton(),this.torchController.reset()},n.create=function(e,t,r,i){var s=new n(t,i);return s.render(e,r),s},n})(),pie=(function(){function n(e,t,r){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=t?"block":"none",e.appendChild(this.fileBasedScanRegion);var i=document.createElement("label");i.setAttribute("for",this.getFileScanInputId()),i.style.display="inline-block",this.fileBasedScanRegion.appendChild(i),this.fileSelectionButton=Bu.createElement("button",Ml.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(u){i.click()}),i.append(this.fileSelectionButton),this.fileScanInput=Bu.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",i.appendChild(this.fileScanInput);var s=this;this.fileScanInput.addEventListener("change",function(u){if(!(u==null||u.target==null)){var f=u.target;if(!(f.files&&f.files.length===0)){var d=f.files,x=d[0],w=x.name;s.setImageNameToButton(w),r(x)}}});var o=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(o),this.fileBasedScanRegion.addEventListener("dragenter",function(u){s.fileBasedScanRegion.style.border=s.fileBasedScanRegionActiveBorder(),u.stopPropagation(),u.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(u){s.fileBasedScanRegion.style.border=s.fileBasedScanRegionDefaultBorder(),u.stopPropagation(),u.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(u){s.fileBasedScanRegion.style.border=s.fileBasedScanRegionActiveBorder(),u.stopPropagation(),u.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(u){u.stopPropagation(),u.preventDefault(),s.fileBasedScanRegion.style.border=s.fileBasedScanRegionDefaultBorder();var f=u.dataTransfer;if(f){var d=f.files;if(!d||d.length===0)return;for(var x=!1,w=0;w<d.length;++w){var A=d.item(w);if(A){var E=/image.*/;if(A.type.match(E)){x=!0;var I=A.name;s.setImageNameToButton(I),r(A),o.innerText=Ei.dragAndDropMessage();break}}}x||(o.innerText=Ei.dragAndDropMessageOnlyImages())}})}return n.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},n.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},n.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},n.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},n.prototype.createFileBasedScanRegion=function(){var e=document.createElement("div");return e.style.textAlign="center",e.style.margin="auto",e.style.width="80%",e.style.maxWidth="600px",e.style.border=this.fileBasedScanRegionDefaultBorder(),e.style.padding="10px",e.style.marginBottom="10px",e},n.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},n.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},n.prototype.createDragAndDropMessage=function(){var e=document.createElement("div");return e.innerText=Ei.dragAndDropMessage(),e.style.fontWeight="400",e},n.prototype.setImageNameToButton=function(e){var t=20;if(e.length>t){var r=e.substring(0,8),i=e.length,s=e.substring(i-8,i);e="".concat(r,"....").concat(s)}var o=Ei.fileSelectionChooseAnother()+" - "+e;this.fileSelectionButton.innerText=o},n.prototype.setInitialValueToButton=function(){var e=Ei.fileSelectionChooseImage()+" - "+Ei.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=e},n.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},n.create=function(e,t,r){var i=new n(e,t,r);return i},n})(),xie=(function(){function n(e){this.selectElement=Bu.createElement("select",Ml.CAMERA_SELECTION_SELECT_ID),this.cameras=e,this.options=[]}return n.prototype.render=function(e){var t=document.createElement("span");t.style.marginRight="10px";var r=this.cameras.length;if(r===0)throw new Error("No cameras found");if(r===1)t.style.display="none";else{var i=Ei.selectCamera();t.innerText="".concat(i," (").concat(this.cameras.length,")  ")}for(var s=1,o=0,u=this.cameras;o<u.length;o++){var f=u[o],d=f.id,x=f.label==null?d:f.label;(!x||x==="")&&(x=[Ei.anonymousCameraPrefix(),s++].join(" "));var w=document.createElement("option");w.value=d,w.innerText=x,this.options.push(w),this.selectElement.appendChild(w)}t.appendChild(this.selectElement),e.appendChild(t)},n.prototype.disable=function(){this.selectElement.disabled=!0},n.prototype.isDisabled=function(){return this.selectElement.disabled===!0},n.prototype.enable=function(){this.selectElement.disabled=!1},n.prototype.getValue=function(){return this.selectElement.value},n.prototype.hasValue=function(e){for(var t=0,r=this.options;t<r.length;t++){var i=r[t];if(i.value===e)return!0}return!1},n.prototype.setValue=function(e){if(!this.hasValue(e))throw new Error("".concat(e," is not present in the camera list."));this.selectElement.value=e},n.prototype.hasSingleItem=function(){return this.cameras.length===1},n.prototype.numCameras=function(){return this.cameras.length},n.create=function(e,t){var r=new n(t);return r.render(e),r},n})(),vie=(function(){function n(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=Bu.createElement("input",Ml.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return n.prototype.render=function(e,t){this.zoomElementContainer.style.display=t?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",e.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var r=Ei.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(r),this.rangeText.style.marginRight="10px";var i=this;this.rangeInput.addEventListener("input",function(){return i.onValueChange()}),this.rangeInput.addEventListener("change",function(){return i.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},n.prototype.onValueChange=function(){var e=Ei.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(e),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},n.prototype.setValues=function(e,t,r,i){this.rangeInput.min=e.toString(),this.rangeInput.max=t.toString(),this.rangeInput.step=i.toString(),this.rangeInput.value=r.toString(),this.onValueChange()},n.prototype.show=function(){this.zoomElementContainer.style.display="block"},n.prototype.hide=function(){this.zoomElementContainer.style.display="none"},n.prototype.setOnCameraZoomValueChangeCallback=function(e){this.onChangeCallback=e},n.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},n.create=function(e,t){var r=new n;return r.render(e,t),r},n})(),Nl;(function(n){n[n.STATUS_DEFAULT=0]="STATUS_DEFAULT",n[n.STATUS_SUCCESS=1]="STATUS_SUCCESS",n[n.STATUS_WARNING=2]="STATUS_WARNING",n[n.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(Nl||(Nl={}));function _ie(n){return{fps:n.fps,qrbox:n.qrbox,aspectRatio:n.aspectRatio,disableFlip:n.disableFlip,videoConstraints:n.videoConstraints}}function yie(n,e){return{formatsToSupport:n.formatsToSupport,useBarCodeDetectorIfSupported:n.useBarCodeDetectorIfSupported,experimentalFeatures:n.experimentalFeatures,verbose:e}}var b7=(function(){function n(e,t,r){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=e,this.config=this.createConfig(t),this.verbose=r===!0,!document.getElementById(e))throw"HTML Element with id=".concat(e," not found");this.scanTypeSelector=new Dh(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new x7(this.verbose),this.persistedDataManager=new cie,t.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return n.prototype.render=function(e,t){var r=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(s,o){if(e)e(s,o);else{if(r.lastMatchFound===s)return;r.lastMatchFound=s,r.setHeaderMessage(Ei.lastMatch(s),Nl.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(s,o){t&&t(s,o)};var i=document.getElementById(this.elementId);if(!i)throw"HTML Element with id=".concat(this.elementId," not found");i.innerHTML="",this.createBasicLayout(i),this.html5Qrcode=new YN(this.getScanRegionId(),yie(this.config,this.verbose))},n.prototype.pause=function(e){(Qc(e)||e!==!0)&&(e=!1),this.getHtml5QrcodeOrFail().pause(e)},n.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},n.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},n.prototype.clear=function(){var e=this,t=function(){var r=document.getElementById(e.elementId);r&&(r.innerHTML="",e.resetBasicLayout(r))};return this.html5Qrcode?new Promise(function(r,i){if(!e.html5Qrcode){r();return}e.html5Qrcode.isScanning?e.html5Qrcode.stop().then(function(s){if(!e.html5Qrcode){r();return}e.html5Qrcode.clear(),t(),r()}).catch(function(s){e.verbose&&e.logger.logError("Unable to stop qrcode scanner",s),i(s)}):(e.html5Qrcode.clear(),t(),r())}):Promise.resolve()},n.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},n.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},n.prototype.applyVideoConstraints=function(e){return this.getHtml5QrcodeOrFail().applyVideoConstraints(e)},n.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},n.prototype.createConfig=function(e){return e?(e.fps||(e.fps=xc.SCAN_DEFAULT_FPS),e.rememberLastUsedCamera!==!xc.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(e.rememberLastUsedCamera=xc.DEFAULT_REMEMBER_LAST_CAMERA_USED),e.supportedScanTypes||(e.supportedScanTypes=xc.DEFAULT_SUPPORTED_SCAN_TYPE),e):{fps:xc.SCAN_DEFAULT_FPS,rememberLastUsedCamera:xc.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:xc.DEFAULT_SUPPORTED_SCAN_TYPE}},n.prototype.createBasicLayout=function(e){e.style.position="relative",e.style.padding="0px",e.style.border="1px solid silver",this.createHeader(e);var t=document.createElement("div"),r=this.getScanRegionId();t.id=r,t.style.width="100%",t.style.minHeight="100px",t.style.textAlign="center",e.appendChild(t),Dh.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var i=document.createElement("div"),s=this.getDashboardId();i.id=s,i.style.width="100%",e.appendChild(i),this.setupInitialDashboard(i)},n.prototype.resetBasicLayout=function(e){e.style.border="none"},n.prototype.setupInitialDashboard=function(e){this.createSection(e),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},n.prototype.createHeader=function(e){var t=document.createElement("div");t.style.textAlign="left",t.style.margin="0px",e.appendChild(t);var r=new fie;r.renderInto(t);var i=document.createElement("div");i.id=this.getHeaderMessageContainerId(),i.style.display="none",i.style.textAlign="center",i.style.fontSize="14px",i.style.padding="2px 10px",i.style.margin="4px",i.style.borderTop="1px solid #f6f6f6",t.appendChild(i)},n.prototype.createSection=function(e){var t=document.createElement("div");t.id=this.getDashboardSectionId(),t.style.width="100%",t.style.padding="10px 0px 10px 0px",t.style.textAlign="left",e.appendChild(t)},n.prototype.createCameraListUi=function(e,t,r){var i=this;i.showHideScanTypeSwapLink(!1),i.setHeaderMessage(Ei.cameraPermissionRequesting());var s=function(){r||i.createPermissionButton(e,t)};YN.getCameras().then(function(o){i.persistedDataManager.setHasPermission(!0),i.showHideScanTypeSwapLink(!0),i.resetHeaderMessage(),o&&o.length>0?(e.removeChild(t),i.renderCameraSelection(o)):(i.setHeaderMessage(Ei.noCameraFound(),Nl.STATUS_WARNING),s())}).catch(function(o){i.persistedDataManager.setHasPermission(!1),r?r.disabled=!1:s(),i.setHeaderMessage(o,Nl.STATUS_WARNING),i.showHideScanTypeSwapLink(!0)})},n.prototype.createPermissionButton=function(e,t){var r=this,i=Bu.createElement("button",this.getCameraPermissionButtonId());i.innerText=Ei.cameraPermissionTitle(),i.addEventListener("click",function(){i.disabled=!0,r.createCameraListUi(e,t,i)}),t.appendChild(i)},n.prototype.createPermissionsUi=function(e,t){var r=this;if(Dh.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){QN.hasPermissions().then(function(i){i?r.createCameraListUi(e,t):(r.persistedDataManager.setHasPermission(!1),r.createPermissionButton(e,t))}).catch(function(i){r.persistedDataManager.setHasPermission(!1),r.createPermissionButton(e,t)});return}this.createPermissionButton(e,t)},n.prototype.createSectionControlPanel=function(){var e=document.getElementById(this.getDashboardSectionId()),t=document.createElement("div");e.appendChild(t);var r=document.createElement("div");r.id=this.getDashboardSectionCameraScanRegionId(),r.style.display=Dh.isCameraScanType(this.currentScanType)?"block":"none",t.appendChild(r);var i=document.createElement("div");i.style.textAlign="center",r.appendChild(i),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(r,i),this.renderFileScanUi(t)},n.prototype.renderFileScanUi=function(e){var t=Dh.isFileScanType(this.currentScanType),r=this,i=function(s){if(!r.html5Qrcode)throw"html5Qrcode not defined";Dh.isFileScanType(r.currentScanType)&&(r.setHeaderMessage(Ei.loadingImage()),r.html5Qrcode.scanFileV2(s,!0).then(function(o){r.resetHeaderMessage(),r.qrCodeSuccessCallback(o.decodedText,o)}).catch(function(o){r.setHeaderMessage(o,Nl.STATUS_WARNING),r.qrCodeErrorCallback(o,p7.createFrom(o))}))};this.fileSelectionUi=pie.create(e,t,i)},n.prototype.renderCameraSelection=function(e){var t=this,r=this,i=document.getElementById(this.getDashboardSectionCameraScanRegionId());i.style.textAlign="center";var s=vie.create(i,!1),o=function(C){var M=C.zoomFeature();if(M.isSupported()){s.setOnCameraZoomValueChangeCallback(function(W){M.apply(W)});var j=1;t.config.defaultZoomValueIfSupported&&(j=t.config.defaultZoomValueIfSupported),j=jre(j,M.min(),M.max()),s.setValues(M.min(),M.max(),j,M.step()),s.show()}},u=xie.create(i,e),f=document.createElement("span"),d=Bu.createElement("button",Ml.CAMERA_START_BUTTON_ID);d.innerText=Ei.scanButtonStartScanningText(),f.appendChild(d);var x=Bu.createElement("button",Ml.CAMERA_STOP_BUTTON_ID);x.innerText=Ei.scanButtonStopScanningText(),x.style.display="none",x.disabled=!0,f.appendChild(x);var w,A=function(C){if(!C.torchFeature().isSupported()){w&&w.hide();return}w?w.updateTorchCapability(C.torchFeature()):w=gie.create(f,C.torchFeature(),{display:"none",marginLeft:"5px"},function(M){r.setHeaderMessage(M,Nl.STATUS_WARNING)}),w.show()};i.appendChild(f);var E=function(C){C||(d.style.display="none"),d.innerText=Ei.scanButtonStartScanningText(),d.style.opacity="1",d.disabled=!1,C&&(d.style.display="inline-block")};if(d.addEventListener("click",function(C){d.innerText=Ei.scanButtonScanningStarting(),u.disable(),d.disabled=!0,d.style.opacity="0.5",t.scanTypeSelector.hasMoreThanOneScanType()&&r.showHideScanTypeSwapLink(!1),r.resetHeaderMessage();var M=u.getValue();r.persistedDataManager.setLastUsedCameraId(M),r.html5Qrcode.start(M,_ie(r.config),r.qrCodeSuccessCallback,r.qrCodeErrorCallback).then(function(j){x.disabled=!1,x.style.display="inline-block",E(!1);var W=r.html5Qrcode.getRunningTrackCameraCapabilities();t.config.showTorchButtonIfSupported===!0&&A(W),t.config.showZoomSliderIfSupported===!0&&o(W)}).catch(function(j){r.showHideScanTypeSwapLink(!0),u.enable(),E(!0),r.setHeaderMessage(j,Nl.STATUS_WARNING)})}),u.hasSingleItem()&&d.click(),x.addEventListener("click",function(C){if(!r.html5Qrcode)throw"html5Qrcode not defined";x.disabled=!0,r.html5Qrcode.stop().then(function(M){t.scanTypeSelector.hasMoreThanOneScanType()&&r.showHideScanTypeSwapLink(!0),u.enable(),d.disabled=!1,x.style.display="none",d.style.display="inline-block",w&&(w.reset(),w.hide()),s.removeOnCameraZoomValueChangeCallback(),s.hide(),r.insertCameraScanImageToScanRegion()}).catch(function(M){x.disabled=!1,r.setHeaderMessage(M,Nl.STATUS_WARNING)})}),r.persistedDataManager.getLastUsedCameraId()){var I=r.persistedDataManager.getLastUsedCameraId();u.hasValue(I)?(u.setValue(I),d.click()):r.persistedDataManager.resetLastUsedCameraId()}},n.prototype.createSectionSwap=function(){var e=this,t=Ei.textIfCameraScanSelected(),r=Ei.textIfFileScanSelected(),i=document.getElementById(this.getDashboardSectionId()),s=document.createElement("div");s.style.textAlign="center";var o=Bu.createElement("span",this.getDashboardSectionSwapLinkId());o.style.textDecoration="underline",o.style.cursor="pointer",o.innerText=Dh.isCameraScanType(this.currentScanType)?t:r,o.addEventListener("click",function(){if(!e.sectionSwapAllowed){e.verbose&&e.logger.logError("Section swap called when not allowed");return}e.resetHeaderMessage(),e.fileSelectionUi.resetValue(),e.sectionSwapAllowed=!1,Dh.isCameraScanType(e.currentScanType)?(e.clearScanRegion(),e.getCameraScanRegion().style.display="none",e.fileSelectionUi.show(),o.innerText=r,e.currentScanType=uu.SCAN_TYPE_FILE,e.insertFileScanImageToScanRegion()):(e.clearScanRegion(),e.getCameraScanRegion().style.display="block",e.fileSelectionUi.hide(),o.innerText=t,e.currentScanType=uu.SCAN_TYPE_CAMERA,e.insertCameraScanImageToScanRegion(),e.startCameraScanIfPermissionExistsOnSwap()),e.sectionSwapAllowed=!0}),s.appendChild(o),i.appendChild(s)},n.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var e=this,t=this;if(this.persistedDataManager.hasCameraPermissions()){QN.hasPermissions().then(function(r){if(r){var i=document.getElementById(t.getCameraPermissionButtonId());if(!i)throw e.logger.logError("Permission button not found, fail;"),"Permission button not found";i.click()}else t.persistedDataManager.setHasPermission(!1)}).catch(function(r){t.persistedDataManager.setHasPermission(!1)});return}},n.prototype.resetHeaderMessage=function(){var e=document.getElementById(this.getHeaderMessageContainerId());e.style.display="none"},n.prototype.setHeaderMessage=function(e,t){t||(t=Nl.STATUS_DEFAULT);var r=this.getHeaderMessageDiv();switch(r.innerText=e,r.style.display="block",t){case Nl.STATUS_SUCCESS:r.style.background="rgba(106, 175, 80, 0.26)",r.style.color="#477735";break;case Nl.STATUS_WARNING:r.style.background="rgba(203, 36, 49, 0.14)",r.style.color="#cb2431";break;case Nl.STATUS_DEFAULT:default:r.style.background="rgba(0, 0, 0, 0)",r.style.color="rgb(17, 17, 17)";break}},n.prototype.showHideScanTypeSwapLink=function(e){this.scanTypeSelector.hasMoreThanOneScanType()&&(e!==!0&&(e=!1),this.sectionSwapAllowed=e,this.getDashboardSectionSwapLink().style.display=e?"inline-block":"none")},n.prototype.insertCameraScanImageToScanRegion=function(){var e=this,t=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){t.innerHTML="<br>",t.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(r){t.innerHTML="<br>",t.appendChild(e.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=aie,this.cameraScanImage.alt=Ei.cameraScanAltText()},n.prototype.insertFileScanImageToScanRegion=function(){var e=this,t=document.getElementById(this.getScanRegionId());if(this.fileScanImage){t.innerHTML="<br>",t.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(r){t.innerHTML="<br>",t.appendChild(e.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=oie,this.fileScanImage.alt=Ei.fileScanAltText()},n.prototype.clearScanRegion=function(){var e=document.getElementById(this.getScanRegionId());e.innerHTML=""},n.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},n.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},n.prototype.getDashboardSectionSwapLinkId=function(){return Ml.SCAN_TYPE_CHANGE_ANCHOR_ID},n.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},n.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},n.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},n.prototype.getCameraPermissionButtonId=function(){return Ml.CAMERA_PERMISSION_BUTTON_ID},n.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},n.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},n.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},n})();const cw=(n,e)=>e.some(t=>n instanceof t);let ZN,JN;function wie(){return ZN||(ZN=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function bie(){return JN||(JN=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const uw=new WeakMap,uy=new WeakMap,wx=new WeakMap;function Eie(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(Pf(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return wx.set(e,n),e}function Aie(n){if(uw.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});uw.set(n,e)}let hw={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return uw.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Pf(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function E7(n){hw=n(hw)}function Sie(n){return bie().includes(n)?function(...e){return n.apply(fw(this),e),Pf(this.request)}:function(...e){return Pf(n.apply(fw(this),e))}}function Tie(n){return typeof n=="function"?Sie(n):(n instanceof IDBTransaction&&Aie(n),cw(n,wie())?new Proxy(n,hw):n)}function Pf(n){if(n instanceof IDBRequest)return Eie(n);if(uy.has(n))return uy.get(n);const e=Tie(n);return e!==n&&(uy.set(n,e),wx.set(e,n)),e}const fw=n=>wx.get(n);function Nie(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(n,e),u=Pf(o);return r&&o.addEventListener("upgradeneeded",f=>{r(Pf(o.result),f.oldVersion,f.newVersion,Pf(o.transaction),f)}),t&&o.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),u.then(f=>{s&&f.addEventListener("close",()=>s()),i&&f.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),u}const Cie=["get","getKey","getAll","getAllKeys","count"],Iie=["put","add","delete","clear"],hy=new Map;function eC(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(hy.get(e))return hy.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=Iie.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Cie.includes(t)))return;const s=async function(o,...u){const f=this.transaction(o,i?"readwrite":"readonly");let d=f.store;return r&&(d=d.index(u.shift())),(await Promise.all([d[t](...u),i&&f.done]))[0]};return hy.set(e,s),s}E7(n=>({...n,get:(e,t,r)=>eC(e,t)||n.get(e,t,r),has:(e,t)=>!!eC(e,t)||n.has(e,t)}));const Rie=["continue","continuePrimaryKey","advance"],tC={},dw=new WeakMap,A7=new WeakMap,Oie={get(n,e){if(!Rie.includes(e))return n[e];let t=tC[e];return t||(t=tC[e]=function(...r){dw.set(this,A7.get(this)[e](...r))}),t}};async function*Die(...n){let e=this;if(e instanceof IDBCursor||(e=await e.openCursor(...n)),!e)return;e=e;const t=new Proxy(e,Oie);for(A7.set(t,e),wx.set(t,fw(e));e;)yield t,e=await(dw.get(t)||e.continue()),dw.delete(t)}function nC(n,e){return e===Symbol.asyncIterator&&cw(n,[IDBIndex,IDBObjectStore,IDBCursor])||e==="iterate"&&cw(n,[IDBIndex,IDBObjectStore])}E7(n=>({...n,get(e,t,r){return nC(e,t)?Die:n.get(e,t,r)},has(e,t){return nC(e,t)||n.has(e,t)}}));const Mie="orbitx-scanner",Lie=1;let _p=null;const nh=async()=>_p||(_p=await Nie(Mie,Lie,{upgrade(n){n.objectStoreNames.contains("registrations")||n.createObjectStore("registrations",{keyPath:"qrSignature"}).createIndex("by-event","eventId"),n.objectStoreNames.contains("pendingSync")||n.createObjectStore("pendingSync",{keyPath:"id"}).createIndex("by-synced","synced"),n.objectStoreNames.contains("metadata")||n.createObjectStore("metadata",{keyPath:"eventId"})}}),_p),kie=async(n,e,t)=>{const i=(await nh()).transaction(["registrations","metadata"],"readwrite"),s=await i.objectStore("registrations").index("by-event").getAllKeys(n);for(const f of s)await i.objectStore("registrations").delete(f);for(const f of t)await i.objectStore("registrations").put(f);const o=new Date,u=new Date(o.getTime()+1440*60*1e3);await i.objectStore("metadata").put({eventId:n,eventName:e,cachedAt:o.toISOString(),expiresAt:u.toISOString(),totalRegistrations:t.length}),await i.done},Pie=async n=>await(await nh()).get("registrations",n)||null,S7=async n=>await(await nh()).getAllFromIndex("registrations","by-event",n),jie=async(n,e)=>{const t=await nh(),r=await t.get("registrations",n);if(!r)return null;const i=new Date().toISOString(),s={...r,attendanceMarked:!0,markedAt:i,markedBy:e};await t.put("registrations",s);const o={id:`${n}_${Date.now()}`,registrationId:r.registrationId,eventId:r.eventId,qrSignature:n,markedAt:i,markedBy:e,synced:!1};return await t.put("pendingSync",o),s},T7=async n=>await(await nh()).get("metadata",n)||null,mw=async n=>{const e=await T7(n);if(!e)return!1;const t=new Date,r=new Date(e.expiresAt);return t<r},N7=async()=>await(await nh()).getAllFromIndex("pendingSync","by-synced",0),Fie=async n=>{const e=await nh(),t=await e.get("pendingSync",n);t&&(t.synced=!0,await e.put("pendingSync",t))},C7=async()=>(await N7()).length,Bie=async()=>{const n=await nh(),e=await n.getAll("metadata"),t=new Date;for(const r of e){const i=new Date(r.expiresAt);if(t>i){const s=await n.getAllKeysFromIndex("registrations","by-event",r.eventId),o=n.transaction(["registrations","metadata"],"readwrite");for(const u of s)await o.objectStore("registrations").delete(u);await o.objectStore("metadata").delete(r.eventId),await o.done}}},Uie=async()=>{const n=await nh(),e=await n.getAll("pendingSync"),t=new Date(Date.now()-3600*1e3);for(const r of e)r.synced&&new Date(r.markedAt)<t&&await n.delete("pendingSync",r.id)},I7=async n=>{const e=await S7(n),t=e.filter(r=>r.attendanceMarked).length;return{total:e.length,attended:t}},Vie=async n=>{const e=Ti(An,"event_reg"),t=Oa(e,jl("eventId","==",n)),r=await au(t),i=[];return r.forEach(s=>{const o=s.data();i.push({qrSignature:o.qrSignature,registrationId:o.registrationId,orbitId:o.orbitId,eventId:o.eventId,firstName:o.firstName,lastName:o.lastName,email:o.email,collegeName:o.collegeName,attendanceMarked:o.attendanceStatus||!1,markedAt:o.checkInTime||void 0,markedBy:o.checkedInBy||void 0})}),i},R7=async(n,e)=>{try{const t=await Vie(n);return await kie(n,e,t),{success:!0,count:t.length}}catch(t){return console.error("Error downloading registrations:",t),{success:!1,count:0,error:String(t)}}},zie=async()=>{const n=Ti(An,"events"),e=await au(n),t=[];for(const r of e.docs){const i=r.data();if(i.isPast)continue;const s=Ti(An,"event_reg"),o=Oa(s,jl("eventId","==",r.id)),u=await au(o);u.size>0&&t.push({id:r.id,title:i.title||"Untitled Event",date:i.date||"",registrationCount:u.size})}return t.sort((r,i)=>new Date(i.date).getTime()-new Date(r.date).getTime()),t},O7=async(n,e)=>{try{const t=await Pie(n);return t?t.eventId!==e?{success:!1,status:"invalid",message:"This QR is for a different event."}:t.attendanceMarked?{success:!0,status:"already-scanned",registration:t,message:`Already checked in at ${Hie(t.markedAt)}`}:{success:!0,status:"valid",registration:t,message:"Valid registration. Ready to mark attendance."}:{success:!1,status:"invalid",message:"QR code not found. Not registered for this event."}}catch(t){return console.error("Error verifying QR:",t),{success:!1,status:"error",message:"Error verifying QR code."}}},gw=async(n,e)=>{try{const t=await jie(n,e);return t?(navigator.onLine&&await lb(),{success:!0,registration:t}):{success:!1,error:"Registration not found in cache"}}catch(t){return console.error("Error marking attendance:",t),{success:!1,error:String(t)}}},lb=async()=>{const n=await N7();let e=0,t=0;for(const r of n)try{const i=`${r.eventId}_${r.registrationId}`,s=hr(An,"event_reg",i);await Wo(s,{attendanceStatus:!0,checkInTime:r.markedAt,checkedInBy:r.markedBy}),await Fie(r.id),e++}catch(i){console.error("Error syncing attendance:",i),t++}return{synced:e,failed:t}},Hie=n=>{if(!n)return"Unknown time";try{return new Date(n).toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit",hour12:!0})}catch{return"Unknown time"}},D7=async()=>{await Bie(),await Uie()};function qie({adminOrbitId:n,onClose:e}){const{showToast:t}=Da(),[r,i]=ae.useState("select-event"),[s,o]=ae.useState([]),[u,f]=ae.useState(null),[d,x]=ae.useState(!1),[w,A]=ae.useState(!1),[E,I]=ae.useState(null),[C,M]=ae.useState(null),[j,W]=ae.useState(!1),[k,G]=ae.useState({total:0,attended:0}),[ce,re]=ae.useState(0),[F,B]=ae.useState(navigator.onLine),[L,Q]=ae.useState(!1),[U,q]=ae.useState([]),[Y,ne]=ae.useState("all"),[pe,Ae]=ae.useState(""),[ve,Re]=ae.useState([]),[He,ze]=ae.useState(""),[xe,H]=ae.useState(!1),J=ae.useRef(null),Z=ae.useRef(null);ae.useEffect(()=>{(async()=>{x(!0);try{await D7();const At=await zie();o(At)}catch(At){console.error("Error loading events:",At),t("Failed to load events","error")}x(!1)})()},[t]),ae.useEffect(()=>{const Ge=()=>{B(!0),lb().then(({synced:Je})=>{Je>0&&(t(`Synced ${Je} attendance records`,"success"),oe())})},At=()=>B(!1);return window.addEventListener("online",Ge),window.addEventListener("offline",At),()=>{window.removeEventListener("online",Ge),window.removeEventListener("offline",At)}},[t]);const oe=ae.useCallback(async()=>{const Ge=await C7();re(Ge)},[]),de=ae.useCallback(async()=>{if(u){const Ge=await I7(u.id);G(Ge)}},[u]),Me=async Ge=>{f(Ge),i("event-dashboard");const At=await PK(Ge.id);if(Re(At),await mw(Ge.id)){const Zt=await T7(Ge.id);Zt&&(G({total:Zt.totalRegistrations,attended:0}),await de())}},Ue=async()=>{if(!u||!He.trim())return;H(!0);const Ge=await LK(u.id,u.title,u.date,He.trim(),n);H(!1),Ge.success&&Ge.volunteer?(Re(At=>[...At,Ge.volunteer]),ze(""),t("Volunteer assigned successfully!","success")):t(Ge.error||"Failed to assign volunteer","error")},Ve=async Ge=>{await kK(Ge)?(Re(Je=>Je.filter(Zt=>Zt.id!==Ge)),t("Volunteer removed","info")):t("Failed to remove volunteer","error")},Ie=async()=>{if(!u)return;if(!await mw(u.id)){A(!0);const At=await R7(u.id,u.title);if(A(!1),!At.success){t("Failed to download registrations","error");return}t(`Downloaded ${At.count} registrations`,"success")}await de(),await oe(),i("scanning")};ae.useEffect(()=>{if(r==="scanning"&&Z.current&&!J.current){const Ge=new b7("qr-reader",{fps:10,qrbox:{width:250,height:250},supportedScanTypes:[uu.SCAN_TYPE_CAMERA],rememberLastUsedCamera:!0},!1);Ge.render(async At=>{Ge.pause(),await nt(At)},At=>{console.debug("Scan error:",At)}),J.current=Ge}return()=>{J.current&&(J.current.clear().catch(console.error),J.current=null)}},[r]);const nt=async Ge=>{if(!u)return;const At=await O7(Ge,u.id);I(At),i("result"),At.registration&&M(At.registration)},Tt=async()=>{if(!E?.registration)return;W(!0);const Ge=await gw(E.registration.qrSignature,n);W(!1),Ge.success?(t("Attendance marked successfully!","success"),M(Ge.registration||null),await de(),await oe()):t("Failed to mark attendance","error"),St()},St=()=>{I(null),i("scanning"),J.current&&J.current.resume()},Rt=async()=>{if(!u)return;const Ge=await S7(u.id);q(Ge),Q(!0)},le=U.filter(Ge=>{if(Y==="attended"&&!Ge.attendanceMarked||Y==="pending"&&Ge.attendanceMarked)return!1;if(pe){const At=pe.toLowerCase();return Ge.firstName.toLowerCase().includes(At)||Ge.lastName.toLowerCase().includes(At)||Ge.orbitId.toLowerCase().includes(At)}return!0}),ot=()=>{J.current&&(J.current.clear().catch(console.error),J.current=null),f(null),I(null),i("select-event")};return m.jsxs("div",{className:"qr-scanner",children:[m.jsxs("div",{className:"qr-scanner__header",children:[r!=="select-event"&&m.jsx("button",{className:"qr-scanner__back-btn",onClick:ot,children:" Back"}),m.jsx("h1",{className:"qr-scanner__title",children:r==="select-event"?"QR Scanner":u?.title}),r!=="select-event"&&m.jsx("button",{className:"qr-scanner__attendance-btn",onClick:Rt,children:""}),e&&m.jsx("button",{className:"qr-scanner__close-btn",onClick:e,children:""})]}),r==="select-event"&&m.jsxs("div",{className:"qr-scanner__select-event",children:[m.jsx("h2",{children:"Select Event to Scan"}),d?m.jsx("div",{className:"qr-scanner__loading",children:"Loading events..."}):s.length===0?m.jsx("div",{className:"qr-scanner__empty",children:"No events with registrations found."}):m.jsx("div",{className:"qr-scanner__events-list",children:s.map(Ge=>m.jsxs("button",{className:"qr-scanner__event-card",onClick:()=>Me(Ge),disabled:w,children:[m.jsxs("div",{className:"qr-scanner__event-info",children:[m.jsx("span",{className:"qr-scanner__event-title",children:Ge.title}),m.jsx("span",{className:"qr-scanner__event-date",children:Ge.date})]}),m.jsxs("div",{className:"qr-scanner__event-count",children:[Ge.registrationCount," registered"]})]},Ge.id))}),w&&m.jsxs("div",{className:"qr-scanner__downloading",children:[m.jsx("div",{className:"qr-scanner__spinner"}),m.jsx("span",{children:"Downloading registrations..."})]})]}),r==="event-dashboard"&&u&&m.jsxs("div",{className:"qr-scanner__dashboard",children:[m.jsxs("div",{className:"qr-scanner__event-header",children:[m.jsx("h2",{children:u.title}),m.jsxs("p",{children:[u.date,"  ",u.registrationCount," registered"]})]}),m.jsxs("div",{className:"qr-scanner__volunteers-section",children:[m.jsx("h3",{children:"Assign Volunteers"}),m.jsx("p",{className:"qr-scanner__volunteers-hint",children:"Volunteers can scan QRs from their dashboard"}),m.jsxs("div",{className:"qr-scanner__volunteer-input-row",children:[m.jsx("input",{type:"text",placeholder:"Enter OrbitX ID (e.g., ORB-123-4567)",value:He,onChange:Ge=>ze(Ge.target.value),className:"qr-scanner__volunteer-input",disabled:xe}),m.jsx("button",{className:"qr-scanner__volunteer-add-btn",onClick:Ue,disabled:xe||!He.trim(),children:xe?"...":"Assign"})]}),ve.length>0&&m.jsxs("div",{className:"qr-scanner__volunteers-list",children:[m.jsxs("h4",{children:["Active Volunteers (",ve.length,")"]}),ve.map(Ge=>m.jsxs("div",{className:"qr-scanner__volunteer-item",children:[m.jsxs("div",{className:"qr-scanner__volunteer-info",children:[m.jsx("span",{className:"qr-scanner__volunteer-name",children:Ge.volunteerName}),m.jsx("span",{className:"qr-scanner__volunteer-orbitid",children:Ge.volunteerOrbitId})]}),m.jsx("button",{className:"qr-scanner__volunteer-remove",onClick:()=>Ve(Ge.id),children:""})]},Ge.id))]})]}),m.jsxs("div",{className:"qr-scanner__dashboard-actions",children:[m.jsx("button",{className:"qr-scanner__start-scan-btn",onClick:Ie,disabled:w,children:w?"Loading...":" Start Scanning"}),m.jsx("button",{className:"qr-scanner__view-attendance-btn",onClick:Rt,children:" View Attendance"})]}),w&&m.jsxs("div",{className:"qr-scanner__downloading",children:[m.jsx("div",{className:"qr-scanner__spinner"}),m.jsx("span",{children:"Downloading registrations..."})]})]}),r==="scanning"&&m.jsxs("div",{className:"qr-scanner__scanning",children:[m.jsx("div",{id:"qr-reader",ref:Z,className:"qr-scanner__reader"}),m.jsxs("div",{className:"qr-scanner__stats-bar",children:[m.jsxs("div",{className:"qr-scanner__stat",children:[m.jsx("span",{className:"qr-scanner__stat-label",children:"Scanned:"}),m.jsxs("span",{className:"qr-scanner__stat-value",children:[k.attended,"/",k.total]})]}),m.jsxs("div",{className:"qr-scanner__stat",children:[m.jsx("span",{className:`qr-scanner__sync-indicator ${F?"online":"offline"}`,children:F?"":""}),ce>0&&m.jsxs("span",{className:"qr-scanner__pending-badge",children:[ce," pending"]})]})]}),C&&m.jsxs("div",{className:"qr-scanner__last-scan",children:["Last: ",C.firstName," ",C.lastName," - ",C.orbitId," "]})]}),r==="result"&&E&&m.jsxs("div",{className:`qr-scanner__result qr-scanner__result--${E.status}`,children:[m.jsxs("div",{className:"qr-scanner__result-icon",children:[E.status==="valid"&&"",E.status==="already-scanned"&&"",E.status==="invalid"&&"",E.status==="error"&&"!"]}),E.registration?m.jsxs("div",{className:"qr-scanner__result-info",children:[m.jsxs("h2",{className:"qr-scanner__result-name",children:[E.registration.firstName," ",E.registration.lastName]}),m.jsx("p",{className:"qr-scanner__result-orbitid",children:E.registration.orbitId}),m.jsx("p",{className:"qr-scanner__result-college",children:E.registration.collegeName})]}):m.jsx("div",{className:"qr-scanner__result-info",children:m.jsx("h2",{className:"qr-scanner__result-status",children:E.status==="invalid"?"Invalid QR":"Error"})}),m.jsx("p",{className:"qr-scanner__result-message",children:E.message}),m.jsxs("div",{className:"qr-scanner__result-actions",children:[E.status==="valid"&&m.jsx("button",{className:"qr-scanner__mark-btn",onClick:Tt,disabled:j,children:j?"Marking...":"Mark Attendance"}),m.jsx("button",{className:"qr-scanner__next-btn",onClick:St,children:"Scan Next"})]})]}),L&&m.jsx("div",{className:"qr-scanner__overlay",onClick:()=>Q(!1),children:m.jsxs("div",{className:"qr-scanner__attendance-panel",onClick:Ge=>Ge.stopPropagation(),children:[m.jsxs("div",{className:"qr-scanner__attendance-header",children:[m.jsxs("h2",{children:["Attendance - ",u?.title]}),m.jsx("button",{onClick:()=>Q(!1),children:""})]}),m.jsxs("div",{className:"qr-scanner__attendance-filters",children:[m.jsx("input",{type:"text",placeholder:"Search by name or Orbit ID...",value:pe,onChange:Ge=>Ae(Ge.target.value),className:"qr-scanner__search-input"}),m.jsxs("div",{className:"qr-scanner__filter-btns",children:[m.jsx("button",{className:Y==="all"?"active":"",onClick:()=>ne("all"),children:"All"}),m.jsx("button",{className:Y==="attended"?"active":"",onClick:()=>ne("attended"),children:"Checked In"}),m.jsx("button",{className:Y==="pending"?"active":"",onClick:()=>ne("pending"),children:"Not Yet"})]})]}),m.jsx("div",{className:"qr-scanner__attendance-list",children:le.map(Ge=>m.jsxs("div",{className:`qr-scanner__attendance-item ${Ge.attendanceMarked?"checked-in":""}`,children:[m.jsx("span",{className:"qr-scanner__attendance-status",children:Ge.attendanceMarked?"":""}),m.jsxs("span",{className:"qr-scanner__attendance-name",children:[Ge.firstName," ",Ge.lastName]}),m.jsx("span",{className:"qr-scanner__attendance-orbitid",children:Ge.orbitId}),m.jsx("span",{className:"qr-scanner__attendance-time",children:Ge.attendanceMarked&&Ge.markedAt?new Date(Ge.markedAt).toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit",hour12:!0}):"Not checked in"})]},Ge.qrSignature))}),m.jsxs("div",{className:"qr-scanner__attendance-summary",children:[m.jsxs("span",{children:["Total: ",U.length]}),m.jsxs("span",{children:["Checked In: ",U.filter(Ge=>Ge.attendanceMarked).length]}),m.jsxs("span",{children:["Remaining: ",U.filter(Ge=>!Ge.attendanceMarked).length]})]})]})})]})}function Gie(){const n=Ja(),[e,t]=ae.useState(null),[r,i]=ae.useState(!0);return ae.useEffect(()=>{(async()=>{const o=Bl.currentUser;if(!o){n("/login");return}const u=await Js(hr(An,"admins",o.uid));if(u.exists())t(u.data().orbitId||o.uid);else{n("/user-dashboard");return}i(!1)})()},[n]),r?m.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100vh",background:"#0a0a0f",color:"#fff"},children:"Loading..."}):e?m.jsx(qie,{adminOrbitId:e,onClose:()=>n("/user-dashboard")}):null}function Wie({userOrbitId:n,onClose:e}){const{showToast:t}=Da(),[r,i]=ae.useState("loading"),[s,o]=ae.useState(null),[u,f]=ae.useState(!1),[d,x]=ae.useState(!1),[w,A]=ae.useState(null),[E,I]=ae.useState(null),[C,M]=ae.useState(!1),[j,W]=ae.useState(!1),[k,G]=ae.useState({total:0,attended:0}),[ce,re]=ae.useState(0),[F,B]=ae.useState(navigator.onLine),L=ae.useRef(null),Q=ae.useRef(null);ae.useEffect(()=>{(async()=>{await D7();const ze=await MR(n);if(ze.length===0){i("no-access");return}o(ze[0]);const xe=await mw(ze[0].eventId);x(xe),i("ready")})()},[n]),ae.useEffect(()=>{const He=()=>{B(!0),lb().then(({synced:xe})=>{xe>0&&(t(`Synced ${xe} records`,"success"),q())})},ze=()=>B(!1);return window.addEventListener("online",He),window.addEventListener("offline",ze),()=>{window.removeEventListener("online",He),window.removeEventListener("offline",ze)}},[t]);const U=ae.useCallback(async()=>{if(s){const He=await I7(s.eventId);G(He)}},[s]),q=ae.useCallback(async()=>{const He=await C7();re(He)},[]),Y=async()=>{if(!s)return;f(!0);const He=await R7(s.eventId,s.eventName);f(!1),He.success?(t(`Loaded ${He.count} registrations`,"success"),x(!0),await U()):t("Failed to load registrations","error")},ne=()=>{if(!d){t("Please load registrations first","info");return}i("scanning")};ae.useEffect(()=>{if(r==="scanning"&&Q.current&&!L.current){const He=new b7("volunteer-qr-reader",{fps:10,qrbox:{width:250,height:250},supportedScanTypes:[uu.SCAN_TYPE_CAMERA],rememberLastUsedCamera:!0},!1);He.render(async ze=>{He.pause(),await pe(ze)},ze=>{console.debug("Scan error:",ze)}),L.current=He}return()=>{L.current&&(L.current.clear().catch(console.error),L.current=null)}},[r]);const pe=async He=>{if(!s)return;const ze=await O7(He,s.eventId);if(A(ze),i("result"),ze.registration&&I(ze.registration),ze.status==="valid"&&ze.registration){M(!0);const xe=await gw(ze.registration.qrSignature,n);M(!1),xe.success&&(A(H=>H?{...H,status:"valid",message:"Attendance marked automatically "}:null),I(xe.registration||null),await U(),await q())}},Ae=async()=>{if(!w?.registration)return;W(!0);const He=await gw(w.registration.qrSignature,n);W(!1),He.success?(t("Manually verified and marked!","success"),I(He.registration||null),await U(),await q(),ve()):t("Failed to mark attendance","error")},ve=()=>{A(null),i("scanning"),L.current&&L.current.resume()},Re=()=>{L.current&&(L.current.clear().catch(console.error),L.current=null),i("ready")};return r==="loading"?m.jsxs("div",{className:"volunteer-scanner volunteer-scanner--loading",children:[m.jsx("div",{className:"volunteer-scanner__spinner"}),m.jsx("p",{children:"Checking access..."})]}):r==="no-access"?m.jsxs("div",{className:"volunteer-scanner volunteer-scanner--no-access",children:[m.jsx("div",{className:"volunteer-scanner__no-access-icon",children:""}),m.jsx("h2",{children:"No Access"}),m.jsx("p",{children:"You haven't been assigned as a volunteer for any event."}),e&&m.jsx("button",{className:"volunteer-scanner__back-btn",onClick:e,children:"Go Back"})]}):m.jsxs("div",{className:"volunteer-scanner",children:[m.jsxs("div",{className:"volunteer-scanner__header",children:[r!=="ready"&&m.jsx("button",{className:"volunteer-scanner__back-btn",onClick:Re,children:""}),m.jsx("h1",{className:"volunteer-scanner__title",children:" Volunteer Scanner"}),e&&m.jsx("button",{className:"volunteer-scanner__close-btn",onClick:e,children:""})]}),r==="ready"&&s&&m.jsxs("div",{className:"volunteer-scanner__ready",children:[m.jsxs("div",{className:"volunteer-scanner__event-info",children:[m.jsx("h2",{children:s.eventName}),m.jsx("p",{className:"volunteer-scanner__event-date",children:s.eventDate}),m.jsxs("p",{className:"volunteer-scanner__assigned-by",children:["Assigned by: ",s.assignedBy]})]}),m.jsxs("div",{className:"volunteer-scanner__cache-status",children:[m.jsx("span",{className:`volunteer-scanner__cache-indicator ${d?"loaded":""}`,children:d?" Registrations loaded":" Not loaded yet"}),m.jsx("span",{className:`volunteer-scanner__online-indicator ${F?"online":"offline"}`,children:F?" Online":" Offline"})]}),m.jsxs("div",{className:"volunteer-scanner__actions",children:[m.jsx("button",{className:"volunteer-scanner__load-btn",onClick:Y,disabled:u,children:u?"Loading...":d?" Refresh Data":" Load Registrations"}),m.jsx("button",{className:"volunteer-scanner__scan-btn",onClick:ne,disabled:!d,children:" Start Scanning"})]}),k.total>0&&m.jsxs("div",{className:"volunteer-scanner__stats",children:[m.jsxs("span",{children:["Registered: ",k.total]}),m.jsxs("span",{children:["Checked In: ",k.attended]})]}),ce>0&&m.jsxs("div",{className:"volunteer-scanner__pending-sync",children:[" ",ce," records waiting to sync"]})]}),r==="scanning"&&m.jsxs("div",{className:"volunteer-scanner__scanning",children:[m.jsx("div",{id:"volunteer-qr-reader",ref:Q,className:"volunteer-scanner__reader"}),m.jsxs("div",{className:"volunteer-scanner__scan-info",children:[m.jsxs("span",{className:F?"online":"offline",children:[F?"":""," ",k.attended,"/",k.total]}),ce>0&&m.jsxs("span",{className:"pending",children:[ce," pending"]})]}),E&&m.jsxs("div",{className:"volunteer-scanner__last-scan",children:["Last: ",E.firstName," ",E.lastName," "]})]}),r==="result"&&w&&m.jsxs("div",{className:`volunteer-scanner__result volunteer-scanner__result--${w.status}`,children:[m.jsxs("div",{className:"volunteer-scanner__result-icon",children:[w.status==="valid"&&(C?"...":""),w.status==="already-scanned"&&"",w.status==="invalid"&&"",w.status==="error"&&"!"]}),w.registration?m.jsxs("div",{className:"volunteer-scanner__result-info",children:[m.jsxs("h2",{children:[w.registration.firstName," ",w.registration.lastName]}),m.jsx("p",{className:"volunteer-scanner__result-orbitid",children:w.registration.orbitId}),m.jsx("p",{className:"volunteer-scanner__result-college",children:w.registration.collegeName})]}):m.jsx("div",{className:"volunteer-scanner__result-info",children:m.jsx("h2",{children:w.status==="invalid"?"Invalid QR":"Error"})}),m.jsx("p",{className:"volunteer-scanner__result-message",children:C?"Marking attendance...":w.message}),m.jsxs("div",{className:"volunteer-scanner__result-actions",children:[w.status==="already-scanned"&&w.registration&&m.jsx("button",{className:"volunteer-scanner__manual-btn",onClick:Ae,disabled:j,children:j?"Verifying...":"Manual Verify & Mark"}),m.jsx("button",{className:"volunteer-scanner__next-btn",onClick:ve,children:"Scan Next"})]})]})]})}function Yie(){const n=Ja(),{isAuthenticated:e,profile:t,loading:r}=ko(),[i,s]=ae.useState(null);return ae.useEffect(()=>{if(!r){if(!e){n("/login");return}t?.orbitId&&s(t.orbitId)}},[e,t,r,n]),r||!i?m.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100vh",background:"#0a0a0f",color:"#fff"},children:"Loading..."}):m.jsx(Wie,{userOrbitId:i,onClose:()=>n("/user-dashboard")})}function Af({children:n}){const{isAuthenticated:e,loading:t}=ko(),r=Ko();return t?m.jsxs("div",{className:"auth-loading",children:[m.jsx("div",{className:"auth-loading__spinner"}),m.jsx("p",{children:"Loading..."})]}):e?m.jsx(m.Fragment,{children:n}):m.jsx(bw,{to:"/login",state:{from:r.pathname},replace:!0})}function Xie({children:n}){const{isAuthenticated:e,loading:t}=ko(),i=Ko().state?.from||"/user-dashboard";return t?m.jsxs("div",{className:"auth-loading",children:[m.jsx("div",{className:"auth-loading__spinner"}),m.jsx("p",{children:"Loading..."})]}):e?m.jsx(bw,{to:i,replace:!0}):m.jsx(m.Fragment,{children:n})}function Kie(){const n=Ja(),e=Ko(),[t,r]=ae.useState(!1);ae.useEffect(()=>{r(e.key!=="default")},[e]);const i=()=>{t&&n(-1)};return m.jsx("button",{className:`global-back-button ${t?"":"global-back-button--hidden"}`,onClick:i,"aria-label":"Go back",disabled:!t,children:m.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:m.jsx("polyline",{points:"15 18 9 12 15 6"})})})}function Qie(){const{pathname:n}=Ko();return ae.useEffect(()=>{window.scrollTo({top:0,left:0,behavior:"instant"})},[n]),ae.useEffect(()=>("scrollRestoration"in history&&(history.scrollRestoration="manual"),window.scrollTo(0,0),()=>{"scrollRestoration"in history&&(history.scrollRestoration="auto")}),[]),null}function $ie(){const{isRecruitmentOpen:n,isLoading:e}=ed();return e?null:n?m.jsx(rK,{}):m.jsx(bw,{to:"/about",replace:!0})}function Zie(){return m.jsxs(hL,{children:[m.jsx(t9,{}),m.jsx(Qie,{}),m.jsx(Kie,{}),m.jsx(bH,{}),m.jsx(UH,{}),m.jsx(VH,{}),m.jsxs(zM,{children:[m.jsx(Na,{path:"/",element:m.jsx(qX,{})}),m.jsx(Na,{path:"/about",element:m.jsx(GX,{})}),m.jsx(Na,{path:"/events",element:m.jsx(QX,{})}),m.jsx(Na,{path:"/members",element:m.jsx(ZX,{})}),m.jsx(Na,{path:"/join",element:m.jsx($ie,{})}),m.jsx(Na,{path:"/contact",element:m.jsx(sK,{})}),m.jsx(Na,{path:"/merch",element:m.jsx(hK,{})}),m.jsx(Na,{path:"/login",element:m.jsx(Xie,{children:m.jsx(fK,{})})}),m.jsx(Na,{path:"/signup",element:m.jsx(pK,{})}),m.jsx(Na,{path:"/forgot-password",element:m.jsx(xK,{})}),m.jsx(Na,{path:"/admin-setup",element:m.jsx(UK,{})}),m.jsx(Na,{path:"/user-dashboard",element:m.jsx(Af,{children:m.jsx(BK,{})})}),m.jsx(Na,{path:"/manage-user-applications",element:m.jsx(Af,{children:m.jsx(Ire,{})})}),m.jsx(Na,{path:"/manage-user-queries",element:m.jsx(Af,{children:m.jsx(Rre,{})})}),m.jsx(Na,{path:"/manage-merch-orders",element:m.jsx(Af,{children:m.jsx(Ore,{})})}),m.jsx(Na,{path:"/manage-merch",element:m.jsx(Af,{children:m.jsx(kre,{})})}),m.jsx(Na,{path:"/event-scanner",element:m.jsx(Af,{children:m.jsx(Gie,{})})}),m.jsx(Na,{path:"/scan-qrs",element:m.jsx(Af,{children:m.jsx(Yie,{})})})]}),m.jsx(FH,{})]})}function Jie(){return m.jsx(PH,{children:m.jsx(g9,{children:m.jsx(wH,{children:m.jsx(WX,{children:m.jsx(Zie,{})})})})})}QD.createRoot(document.getElementById("root")).render(m.jsx(ae.StrictMode,{children:m.jsx(Jie,{})}));export{Ai as _,Bg as c,M2 as g};
