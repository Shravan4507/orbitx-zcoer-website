function Ak(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();var kg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function C2(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Cv={exports:{}},_1={};var v4;function Sk(){if(v4)return _1;v4=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,i,s){var o=null;if(s!==void 0&&(o=""+s),i.key!==void 0&&(o=""+i.key),"key"in i){s={};for(var u in i)u!=="key"&&(s[u]=i[u])}else s=i;return i=s.ref,{$$typeof:n,type:r,key:o,ref:i!==void 0?i:null,props:s}}return _1.Fragment=e,_1.jsx=t,_1.jsxs=t,_1}var _4;function Tk(){return _4||(_4=1,Cv.exports=Sk()),Cv.exports}var m=Tk(),Iv={exports:{}},wr={};var y4;function Nk(){if(y4)return wr;y4=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),o=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),A=Symbol.iterator;function E(ve){return ve===null||typeof ve!="object"?null:(ve=A&&ve[A]||ve["@@iterator"],typeof ve=="function"?ve:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,L={};function j(ve,q,J){this.props=ve,this.context=q,this.refs=L,this.updater=J||I}j.prototype.isReactComponent={},j.prototype.setState=function(ve,q){if(typeof ve!="object"&&typeof ve!="function"&&ve!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ve,q,"setState")},j.prototype.forceUpdate=function(ve){this.updater.enqueueForceUpdate(this,ve,"forceUpdate")};function W(){}W.prototype=j.prototype;function M(ve,q,J){this.props=ve,this.context=q,this.refs=L,this.updater=J||I}var G=M.prototype=new W;G.constructor=M,C(G,j.prototype),G.isPureReactComponent=!0;var ce=Array.isArray;function re(){}var F={H:null,A:null,T:null,S:null},B=Object.prototype.hasOwnProperty;function D(ve,q,J){var Q=J.ref;return{$$typeof:n,type:ve,key:q,ref:Q!==void 0?Q:null,props:J}}function Z(ve,q){return D(ve.type,q,ve.props)}function U(ve){return typeof ve=="object"&&ve!==null&&ve.$$typeof===n}function H(ve){var q={"=":"=0",":":"=2"};return"$"+ve.replace(/[=:]/g,function(J){return q[J]})}var X=/\/+/g;function ne(ve,q){return typeof ve=="object"&&ve!==null&&ve.key!=null?H(""+ve.key):q.toString(36)}function pe(ve){switch(ve.status){case"fulfilled":return ve.value;case"rejected":throw ve.reason;default:switch(typeof ve.status=="string"?ve.then(re,re):(ve.status="pending",ve.then(function(q){ve.status==="pending"&&(ve.status="fulfilled",ve.value=q)},function(q){ve.status==="pending"&&(ve.status="rejected",ve.reason=q)})),ve.status){case"fulfilled":return ve.value;case"rejected":throw ve.reason}}throw ve}function Ae(ve,q,J,Q,oe){var de=typeof ve;(de==="undefined"||de==="boolean")&&(ve=null);var De=!1;if(ve===null)De=!0;else switch(de){case"bigint":case"string":case"number":De=!0;break;case"object":switch(ve.$$typeof){case n:case e:De=!0;break;case x:return De=ve._init,Ae(De(ve._payload),q,J,Q,oe)}}if(De)return oe=oe(ve),De=Q===""?"."+ne(ve,0):Q,ce(oe)?(J="",De!=null&&(J=De.replace(X,"$&/")+"/"),Ae(oe,q,J,"",function(Ie){return Ie})):oe!=null&&(U(oe)&&(oe=Z(oe,J+(oe.key==null||ve&&ve.key===oe.key?"":(""+oe.key).replace(X,"$&/")+"/")+De)),q.push(oe)),1;De=0;var Ve=Q===""?".":Q+":";if(ce(ve))for(var Fe=0;Fe<ve.length;Fe++)Q=ve[Fe],de=Ve+ne(Q,Fe),De+=Ae(Q,q,J,de,oe);else if(Fe=E(ve),typeof Fe=="function")for(ve=Fe.call(ve),Fe=0;!(Q=ve.next()).done;)Q=Q.value,de=Ve+ne(Q,Fe++),De+=Ae(Q,q,J,de,oe);else if(de==="object"){if(typeof ve.then=="function")return Ae(pe(ve),q,J,Q,oe);throw q=String(ve),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(ve).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return De}function xe(ve,q,J){if(ve==null)return ve;var Q=[],oe=0;return Ae(ve,Q,"","",function(de){return q.call(J,de,oe++)}),Q}function Re(ve){if(ve._status===-1){var q=ve._result;q=q(),q.then(function(J){(ve._status===0||ve._status===-1)&&(ve._status=1,ve._result=J)},function(J){(ve._status===0||ve._status===-1)&&(ve._status=2,ve._result=J)}),ve._status===-1&&(ve._status=0,ve._result=q)}if(ve._status===1)return ve._result.default;throw ve._result}var He=typeof reportError=="function"?reportError:function(ve){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof ve=="object"&&ve!==null&&typeof ve.message=="string"?String(ve.message):String(ve),error:ve});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",ve);return}console.error(ve)},ze={map:xe,forEach:function(ve,q,J){xe(ve,function(){q.apply(this,arguments)},J)},count:function(ve){var q=0;return xe(ve,function(){q++}),q},toArray:function(ve){return xe(ve,function(q){return q})||[]},only:function(ve){if(!U(ve))throw Error("React.Children.only expected to receive a single React element child.");return ve}};return wr.Activity=w,wr.Children=ze,wr.Component=j,wr.Fragment=t,wr.Profiler=i,wr.PureComponent=M,wr.StrictMode=r,wr.Suspense=f,wr.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F,wr.__COMPILER_RUNTIME={__proto__:null,c:function(ve){return F.H.useMemoCache(ve)}},wr.cache=function(ve){return function(){return ve.apply(null,arguments)}},wr.cacheSignal=function(){return null},wr.cloneElement=function(ve,q,J){if(ve==null)throw Error("The argument must be a React element, but you passed "+ve+".");var Q=C({},ve.props),oe=ve.key;if(q!=null)for(de in q.key!==void 0&&(oe=""+q.key),q)!B.call(q,de)||de==="key"||de==="__self"||de==="__source"||de==="ref"&&q.ref===void 0||(Q[de]=q[de]);var de=arguments.length-2;if(de===1)Q.children=J;else if(1<de){for(var De=Array(de),Ve=0;Ve<de;Ve++)De[Ve]=arguments[Ve+2];Q.children=De}return D(ve.type,oe,Q)},wr.createContext=function(ve){return ve={$$typeof:o,_currentValue:ve,_currentValue2:ve,_threadCount:0,Provider:null,Consumer:null},ve.Provider=ve,ve.Consumer={$$typeof:s,_context:ve},ve},wr.createElement=function(ve,q,J){var Q,oe={},de=null;if(q!=null)for(Q in q.key!==void 0&&(de=""+q.key),q)B.call(q,Q)&&Q!=="key"&&Q!=="__self"&&Q!=="__source"&&(oe[Q]=q[Q]);var De=arguments.length-2;if(De===1)oe.children=J;else if(1<De){for(var Ve=Array(De),Fe=0;Fe<De;Fe++)Ve[Fe]=arguments[Fe+2];oe.children=Ve}if(ve&&ve.defaultProps)for(Q in De=ve.defaultProps,De)oe[Q]===void 0&&(oe[Q]=De[Q]);return D(ve,de,oe)},wr.createRef=function(){return{current:null}},wr.forwardRef=function(ve){return{$$typeof:u,render:ve}},wr.isValidElement=U,wr.lazy=function(ve){return{$$typeof:x,_payload:{_status:-1,_result:ve},_init:Re}},wr.memo=function(ve,q){return{$$typeof:d,type:ve,compare:q===void 0?null:q}},wr.startTransition=function(ve){var q=F.T,J={};F.T=J;try{var Q=ve(),oe=F.S;oe!==null&&oe(J,Q),typeof Q=="object"&&Q!==null&&typeof Q.then=="function"&&Q.then(re,He)}catch(de){He(de)}finally{q!==null&&J.types!==null&&(q.types=J.types),F.T=q}},wr.unstable_useCacheRefresh=function(){return F.H.useCacheRefresh()},wr.use=function(ve){return F.H.use(ve)},wr.useActionState=function(ve,q,J){return F.H.useActionState(ve,q,J)},wr.useCallback=function(ve,q){return F.H.useCallback(ve,q)},wr.useContext=function(ve){return F.H.useContext(ve)},wr.useDebugValue=function(){},wr.useDeferredValue=function(ve,q){return F.H.useDeferredValue(ve,q)},wr.useEffect=function(ve,q){return F.H.useEffect(ve,q)},wr.useEffectEvent=function(ve){return F.H.useEffectEvent(ve)},wr.useId=function(){return F.H.useId()},wr.useImperativeHandle=function(ve,q,J){return F.H.useImperativeHandle(ve,q,J)},wr.useInsertionEffect=function(ve,q){return F.H.useInsertionEffect(ve,q)},wr.useLayoutEffect=function(ve,q){return F.H.useLayoutEffect(ve,q)},wr.useMemo=function(ve,q){return F.H.useMemo(ve,q)},wr.useOptimistic=function(ve,q){return F.H.useOptimistic(ve,q)},wr.useReducer=function(ve,q,J){return F.H.useReducer(ve,q,J)},wr.useRef=function(ve){return F.H.useRef(ve)},wr.useState=function(ve){return F.H.useState(ve)},wr.useSyncExternalStore=function(ve,q,J){return F.H.useSyncExternalStore(ve,q,J)},wr.useTransition=function(){return F.H.useTransition()},wr.version="19.2.3",wr}var w4;function hw(){return w4||(w4=1,Iv.exports=Nk()),Iv.exports}var ae=hw();const dp=C2(ae);var Rv={exports:{}},y1={},Ov={exports:{}},kv={};var b4;function Ck(){return b4||(b4=1,(function(n){function e(Ae,xe){var Re=Ae.length;Ae.push(xe);e:for(;0<Re;){var He=Re-1>>>1,ze=Ae[He];if(0<i(ze,xe))Ae[He]=xe,Ae[Re]=ze,Re=He;else break e}}function t(Ae){return Ae.length===0?null:Ae[0]}function r(Ae){if(Ae.length===0)return null;var xe=Ae[0],Re=Ae.pop();if(Re!==xe){Ae[0]=Re;e:for(var He=0,ze=Ae.length,ve=ze>>>1;He<ve;){var q=2*(He+1)-1,J=Ae[q],Q=q+1,oe=Ae[Q];if(0>i(J,Re))Q<ze&&0>i(oe,J)?(Ae[He]=oe,Ae[Q]=Re,He=Q):(Ae[He]=J,Ae[q]=Re,He=q);else if(Q<ze&&0>i(oe,Re))Ae[He]=oe,Ae[Q]=Re,He=Q;else break e}}return xe}function i(Ae,xe){var Re=Ae.sortIndex-xe.sortIndex;return Re!==0?Re:Ae.id-xe.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,u=o.now();n.unstable_now=function(){return o.now()-u}}var f=[],d=[],x=1,w=null,A=3,E=!1,I=!1,C=!1,L=!1,j=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function G(Ae){for(var xe=t(d);xe!==null;){if(xe.callback===null)r(d);else if(xe.startTime<=Ae)r(d),xe.sortIndex=xe.expirationTime,e(f,xe);else break;xe=t(d)}}function ce(Ae){if(C=!1,G(Ae),!I)if(t(f)!==null)I=!0,re||(re=!0,H());else{var xe=t(d);xe!==null&&pe(ce,xe.startTime-Ae)}}var re=!1,F=-1,B=5,D=-1;function Z(){return L?!0:!(n.unstable_now()-D<B)}function U(){if(L=!1,re){var Ae=n.unstable_now();D=Ae;var xe=!0;try{e:{I=!1,C&&(C=!1,W(F),F=-1),E=!0;var Re=A;try{t:{for(G(Ae),w=t(f);w!==null&&!(w.expirationTime>Ae&&Z());){var He=w.callback;if(typeof He=="function"){w.callback=null,A=w.priorityLevel;var ze=He(w.expirationTime<=Ae);if(Ae=n.unstable_now(),typeof ze=="function"){w.callback=ze,G(Ae),xe=!0;break t}w===t(f)&&r(f),G(Ae)}else r(f);w=t(f)}if(w!==null)xe=!0;else{var ve=t(d);ve!==null&&pe(ce,ve.startTime-Ae),xe=!1}}break e}finally{w=null,A=Re,E=!1}xe=void 0}}finally{xe?H():re=!1}}}var H;if(typeof M=="function")H=function(){M(U)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,ne=X.port2;X.port1.onmessage=U,H=function(){ne.postMessage(null)}}else H=function(){j(U,0)};function pe(Ae,xe){F=j(function(){Ae(n.unstable_now())},xe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Ae){Ae.callback=null},n.unstable_forceFrameRate=function(Ae){0>Ae||125<Ae?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<Ae?Math.floor(1e3/Ae):5},n.unstable_getCurrentPriorityLevel=function(){return A},n.unstable_next=function(Ae){switch(A){case 1:case 2:case 3:var xe=3;break;default:xe=A}var Re=A;A=xe;try{return Ae()}finally{A=Re}},n.unstable_requestPaint=function(){L=!0},n.unstable_runWithPriority=function(Ae,xe){switch(Ae){case 1:case 2:case 3:case 4:case 5:break;default:Ae=3}var Re=A;A=Ae;try{return xe()}finally{A=Re}},n.unstable_scheduleCallback=function(Ae,xe,Re){var He=n.unstable_now();switch(typeof Re=="object"&&Re!==null?(Re=Re.delay,Re=typeof Re=="number"&&0<Re?He+Re:He):Re=He,Ae){case 1:var ze=-1;break;case 2:ze=250;break;case 5:ze=1073741823;break;case 4:ze=1e4;break;default:ze=5e3}return ze=Re+ze,Ae={id:x++,callback:xe,priorityLevel:Ae,startTime:Re,expirationTime:ze,sortIndex:-1},Re>He?(Ae.sortIndex=Re,e(d,Ae),t(f)===null&&Ae===t(d)&&(C?(W(F),F=-1):C=!0,pe(ce,Re-He))):(Ae.sortIndex=ze,e(f,Ae),I||E||(I=!0,re||(re=!0,H()))),Ae},n.unstable_shouldYield=Z,n.unstable_wrapCallback=function(Ae){var xe=A;return function(){var Re=A;A=xe;try{return Ae.apply(this,arguments)}finally{A=Re}}}})(kv)),kv}var E4;function Ik(){return E4||(E4=1,Ov.exports=Ck()),Ov.exports}var Dv={exports:{}},Eo={};var A4;function Rk(){if(A4)return Eo;A4=1;var n=hw();function e(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)d+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(f,d,x){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:w==null?null:""+w,children:f,containerInfo:d,implementation:x}}var o=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Eo.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Eo.createPortal=function(f,d){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return s(f,d,null,x)},Eo.flushSync=function(f){var d=o.T,x=r.p;try{if(o.T=null,r.p=2,f)return f()}finally{o.T=d,r.p=x,r.d.f()}},Eo.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(f,d))},Eo.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},Eo.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var x=d.as,w=u(x,d.crossOrigin),A=typeof d.integrity=="string"?d.integrity:void 0,E=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;x==="style"?r.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:w,integrity:A,fetchPriority:E}):x==="script"&&r.d.X(f,{crossOrigin:w,integrity:A,fetchPriority:E,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Eo.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var x=u(d.as,d.crossOrigin);r.d.M(f,{crossOrigin:x,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(f)},Eo.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var x=d.as,w=u(x,d.crossOrigin);r.d.L(f,x,{crossOrigin:w,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Eo.preloadModule=function(f,d){if(typeof f=="string")if(d){var x=u(d.as,d.crossOrigin);r.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:x,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(f)},Eo.requestFormReset=function(f){r.d.r(f)},Eo.unstable_batchedUpdates=function(f,d){return f(d)},Eo.useFormState=function(f,d,x){return o.H.useFormState(f,d,x)},Eo.useFormStatus=function(){return o.H.useHostTransitionStatus()},Eo.version="19.2.3",Eo}var S4;function Ok(){if(S4)return Dv.exports;S4=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Dv.exports=Rk(),Dv.exports}var T4;function kk(){if(T4)return y1;T4=1;var n=Ik(),e=hw(),t=Ok();function r(a){var c="https://react.dev/errors/"+a;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)c+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+a+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function s(a){var c=a,p=a;if(a.alternate)for(;c.return;)c=c.return;else{a=c;do c=a,(c.flags&4098)!==0&&(p=c.return),a=c.return;while(a)}return c.tag===3?p:null}function o(a){if(a.tag===13){var c=a.memoizedState;if(c===null&&(a=a.alternate,a!==null&&(c=a.memoizedState)),c!==null)return c.dehydrated}return null}function u(a){if(a.tag===31){var c=a.memoizedState;if(c===null&&(a=a.alternate,a!==null&&(c=a.memoizedState)),c!==null)return c.dehydrated}return null}function f(a){if(s(a)!==a)throw Error(r(188))}function d(a){var c=a.alternate;if(!c){if(c=s(a),c===null)throw Error(r(188));return c!==a?null:a}for(var p=a,y=c;;){var R=p.return;if(R===null)break;var P=R.alternate;if(P===null){if(y=R.return,y!==null){p=y;continue}break}if(R.child===P.child){for(P=R.child;P;){if(P===p)return f(R),a;if(P===y)return f(R),c;P=P.sibling}throw Error(r(188))}if(p.return!==y.return)p=R,y=P;else{for(var se=!1,Ee=R.child;Ee;){if(Ee===p){se=!0,p=R,y=P;break}if(Ee===y){se=!0,y=R,p=P;break}Ee=Ee.sibling}if(!se){for(Ee=P.child;Ee;){if(Ee===p){se=!0,p=P,y=R;break}if(Ee===y){se=!0,y=P,p=R;break}Ee=Ee.sibling}if(!se)throw Error(r(189))}}if(p.alternate!==y)throw Error(r(190))}if(p.tag!==3)throw Error(r(188));return p.stateNode.current===p?a:c}function x(a){var c=a.tag;if(c===5||c===26||c===27||c===6)return a;for(a=a.child;a!==null;){if(c=x(a),c!==null)return c;a=a.sibling}return null}var w=Object.assign,A=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),I=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),W=Symbol.for("react.consumer"),M=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),ce=Symbol.for("react.suspense"),re=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),B=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),Z=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function H(a){return a===null||typeof a!="object"?null:(a=U&&a[U]||a["@@iterator"],typeof a=="function"?a:null)}var X=Symbol.for("react.client.reference");function ne(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===X?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case C:return"Fragment";case j:return"Profiler";case L:return"StrictMode";case ce:return"Suspense";case re:return"SuspenseList";case D:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case I:return"Portal";case M:return a.displayName||"Context";case W:return(a._context.displayName||"Context")+".Consumer";case G:var c=a.render;return a=a.displayName,a||(a=c.displayName||c.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case F:return c=a.displayName||null,c!==null?c:ne(a.type)||"Memo";case B:c=a._payload,a=a._init;try{return ne(a(c))}catch{}}return null}var pe=Array.isArray,Ae=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,xe=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Re={pending:!1,data:null,method:null,action:null},He=[],ze=-1;function ve(a){return{current:a}}function q(a){0>ze||(a.current=He[ze],He[ze]=null,ze--)}function J(a,c){ze++,He[ze]=a.current,a.current=c}var Q=ve(null),oe=ve(null),de=ve(null),De=ve(null);function Ve(a,c){switch(J(de,c),J(oe,a),J(Q,null),c.nodeType){case 9:case 11:a=(a=c.documentElement)&&(a=a.namespaceURI)?Vb(a):0;break;default:if(a=c.tagName,c=c.namespaceURI)c=Vb(c),a=zb(c,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}q(Q),J(Q,a)}function Fe(){q(Q),q(oe),q(de)}function Ie(a){a.memoizedState!==null&&J(De,a);var c=Q.current,p=zb(c,a.type);c!==p&&(J(oe,a),J(Q,p))}function Qe(a){oe.current===a&&(q(Q),q(oe)),De.current===a&&(q(De),g1._currentValue=Re)}var St,Tt;function Rt(a){if(St===void 0)try{throw Error()}catch(p){var c=p.stack.trim().match(/\n( *(at )?)/);St=c&&c[1]||"",Tt=-1<p.stack.indexOf(`
    at`)?" (<anonymous>)":-1<p.stack.indexOf("@")?"@unknown:0:0":""}return`
`+St+a+Tt}var le=!1;function ot(a,c){if(!a||le)return"";le=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var y={DetermineComponentFrameRoot:function(){try{if(c){var Kt=function(){throw Error()};if(Object.defineProperty(Kt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Kt,[])}catch(Ct){var Et=Ct}Reflect.construct(a,[],Kt)}else{try{Kt.call()}catch(Ct){Et=Ct}a.call(Kt.prototype)}}else{try{throw Error()}catch(Ct){Et=Ct}(Kt=a())&&typeof Kt.catch=="function"&&Kt.catch(function(){})}}catch(Ct){if(Ct&&Et&&typeof Ct.stack=="string")return[Ct.stack,Et.stack]}return[null,null]}};y.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var R=Object.getOwnPropertyDescriptor(y.DetermineComponentFrameRoot,"name");R&&R.configurable&&Object.defineProperty(y.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var P=y.DetermineComponentFrameRoot(),se=P[0],Ee=P[1];if(se&&Ee){var Ge=se.split(`
`),vt=Ee.split(`
`);for(R=y=0;y<Ge.length&&!Ge[y].includes("DetermineComponentFrameRoot");)y++;for(;R<vt.length&&!vt[R].includes("DetermineComponentFrameRoot");)R++;if(y===Ge.length||R===vt.length)for(y=Ge.length-1,R=vt.length-1;1<=y&&0<=R&&Ge[y]!==vt[R];)R--;for(;1<=y&&0<=R;y--,R--)if(Ge[y]!==vt[R]){if(y!==1||R!==1)do if(y--,R--,0>R||Ge[y]!==vt[R]){var Vt=`
`+Ge[y].replace(" at new "," at ");return a.displayName&&Vt.includes("<anonymous>")&&(Vt=Vt.replace("<anonymous>",a.displayName)),Vt}while(1<=y&&0<=R);break}}}finally{le=!1,Error.prepareStackTrace=p}return(p=a?a.displayName||a.name:"")?Rt(p):""}function pt(a,c){switch(a.tag){case 26:case 27:case 5:return Rt(a.type);case 16:return Rt("Lazy");case 13:return a.child!==c&&c!==null?Rt("Suspense Fallback"):Rt("Suspense");case 19:return Rt("SuspenseList");case 0:case 15:return ot(a.type,!1);case 11:return ot(a.type.render,!1);case 1:return ot(a.type,!0);case 31:return Rt("Activity");default:return""}}function zt(a){try{var c="",p=null;do c+=pt(a,p),p=a,a=a.return;while(a);return c}catch(y){return`
Error generating stack: `+y.message+`
`+y.stack}}var tt=Object.prototype.hasOwnProperty,tn=n.unstable_scheduleCallback,Xe=n.unstable_cancelCallback,Lt=n.unstable_shouldYield,fn=n.unstable_requestPaint,st=n.unstable_now,Yt=n.unstable_getCurrentPriorityLevel,rn=n.unstable_ImmediatePriority,hn=n.unstable_UserBlockingPriority,xn=n.unstable_NormalPriority,on=n.unstable_LowPriority,bn=n.unstable_IdlePriority,dn=n.log,nr=n.unstable_setDisableYieldValue,an=null,dt=null;function Wt(a){if(typeof dn=="function"&&nr(a),dt&&typeof dt.setStrictMode=="function")try{dt.setStrictMode(an,a)}catch{}}var It=Math.clz32?Math.clz32:mt,un=Math.log,Yn=Math.LN2;function mt(a){return a>>>=0,a===0?32:31-(un(a)/Yn|0)|0}var $t=256,cn=262144,mn=4194304;function gn(a){var c=a&42;if(c!==0)return c;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function Qn(a,c,p){var y=a.pendingLanes;if(y===0)return 0;var R=0,P=a.suspendedLanes,se=a.pingedLanes;a=a.warmLanes;var Ee=y&134217727;return Ee!==0?(y=Ee&~P,y!==0?R=gn(y):(se&=Ee,se!==0?R=gn(se):p||(p=Ee&~a,p!==0&&(R=gn(p))))):(Ee=y&~P,Ee!==0?R=gn(Ee):se!==0?R=gn(se):p||(p=y&~a,p!==0&&(R=gn(p)))),R===0?0:c!==0&&c!==R&&(c&P)===0&&(P=R&-R,p=c&-c,P>=p||P===32&&(p&4194048)!==0)?c:R}function kr(a,c){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&c)===0}function li(a,c){switch(a){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Lr(){var a=mn;return mn<<=1,(mn&62914560)===0&&(mn=4194304),a}function Kr(a){for(var c=[],p=0;31>p;p++)c.push(a);return c}function On(a,c){a.pendingLanes|=c,c!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function Ni(a,c,p,y,R,P){var se=a.pendingLanes;a.pendingLanes=p,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=p,a.entangledLanes&=p,a.errorRecoveryDisabledLanes&=p,a.shellSuspendCounter=0;var Ee=a.entanglements,Ge=a.expirationTimes,vt=a.hiddenUpdates;for(p=se&~p;0<p;){var Vt=31-It(p),Kt=1<<Vt;Ee[Vt]=0,Ge[Vt]=-1;var Et=vt[Vt];if(Et!==null)for(vt[Vt]=null,Vt=0;Vt<Et.length;Vt++){var Ct=Et[Vt];Ct!==null&&(Ct.lane&=-536870913)}p&=~Kt}y!==0&&Ki(a,y,0),P!==0&&R===0&&a.tag!==0&&(a.suspendedLanes|=P&~(se&~c))}function Ki(a,c,p){a.pendingLanes|=c,a.suspendedLanes&=~c;var y=31-It(c);a.entangledLanes|=c,a.entanglements[y]=a.entanglements[y]|1073741824|p&261930}function $r(a,c){var p=a.entangledLanes|=c;for(a=a.entanglements;p;){var y=31-It(p),R=1<<y;R&c|a[y]&c&&(a[y]|=c),p&=~R}}function zi(a,c){var p=c&-c;return p=(p&42)!==0?1:lr(p),(p&(a.suspendedLanes|c))!==0?0:p}function lr(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function Rr(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function ge(){var a=xe.p;return a!==0?a:(a=window.event,a===void 0?32:h4(a.type))}function be(a,c){var p=xe.p;try{return xe.p=a,c()}finally{xe.p=p}}var Te=Math.random().toString(36).slice(2),Ce="__reactFiber$"+Te,Oe="__reactProps$"+Te,Me="__reactContainer$"+Te,rt="__reactEvents$"+Te,At="__reactListeners$"+Te,Je="__reactHandles$"+Te,lt="__reactResources$"+Te,ht="__reactMarker$"+Te;function qt(a){delete a[Ce],delete a[Oe],delete a[rt],delete a[At],delete a[Je]}function Ot(a){var c=a[Ce];if(c)return c;for(var p=a.parentNode;p;){if(c=p[Me]||p[Ce]){if(p=c.alternate,c.child!==null||p!==null&&p.child!==null)for(a=Kb(a);a!==null;){if(p=a[Ce])return p;a=Kb(a)}return c}a=p,p=a.parentNode}return null}function Mt(a){if(a=a[Ce]||a[Me]){var c=a.tag;if(c===5||c===6||c===13||c===31||c===26||c===27||c===3)return a}return null}function wt(a){var c=a.tag;if(c===5||c===26||c===27||c===6)return a.stateNode;throw Error(r(33))}function nn(a){var c=a[lt];return c||(c=a[lt]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function Tn(a){a[ht]=!0}var Nt=new Set,vr={};function Kn(a,c){Ci(a,c),Ci(a+"Capture",c)}function Ci(a,c){for(vr[a]=c,a=0;a<c.length;a++)Nt.add(c[a])}var pa=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),fr={},or={};function cr(a){return tt.call(or,a)?!0:tt.call(fr,a)?!1:pa.test(a)?or[a]=!0:(fr[a]=!0,!1)}function ci(a,c,p){if(cr(c))if(p===null)a.removeAttribute(c);else{switch(typeof p){case"undefined":case"function":case"symbol":a.removeAttribute(c);return;case"boolean":var y=c.toLowerCase().slice(0,5);if(y!=="data-"&&y!=="aria-"){a.removeAttribute(c);return}}a.setAttribute(c,""+p)}}function as(a,c,p){if(p===null)a.removeAttribute(c);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(c);return}a.setAttribute(c,""+p)}}function Ii(a,c,p,y){if(y===null)a.removeAttribute(p);else{switch(typeof y){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(p);return}a.setAttributeNS(c,p,""+y)}}function Hn(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Es(a){var c=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function ka(a,c,p){var y=Object.getOwnPropertyDescriptor(a.constructor.prototype,c);if(!a.hasOwnProperty(c)&&typeof y<"u"&&typeof y.get=="function"&&typeof y.set=="function"){var R=y.get,P=y.set;return Object.defineProperty(a,c,{configurable:!0,get:function(){return R.call(this)},set:function(se){p=""+se,P.call(this,se)}}),Object.defineProperty(a,c,{enumerable:y.enumerable}),{getValue:function(){return p},setValue:function(se){p=""+se},stopTracking:function(){a._valueTracker=null,delete a[c]}}}}function Gn(a){if(!a._valueTracker){var c=Es(a)?"checked":"value";a._valueTracker=ka(a,c,""+a[c])}}function Us(a){if(!a)return!1;var c=a._valueTracker;if(!c)return!0;var p=c.getValue(),y="";return a&&(y=Es(a)?a.checked?"true":"false":a.value),a=y,a!==p?(c.setValue(a),!0):!1}function $i(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var Zr=/[\n"\\]/g;function sr(a){return a.replace(Zr,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function Ri(a,c,p,y,R,P,se,Ee){a.name="",se!=null&&typeof se!="function"&&typeof se!="symbol"&&typeof se!="boolean"?a.type=se:a.removeAttribute("type"),c!=null?se==="number"?(c===0&&a.value===""||a.value!=c)&&(a.value=""+Hn(c)):a.value!==""+Hn(c)&&(a.value=""+Hn(c)):se!=="submit"&&se!=="reset"||a.removeAttribute("value"),c!=null?Le(a,se,Hn(c)):p!=null?Le(a,se,Hn(p)):y!=null&&a.removeAttribute("value"),R==null&&P!=null&&(a.defaultChecked=!!P),R!=null&&(a.checked=R&&typeof R!="function"&&typeof R!="symbol"),Ee!=null&&typeof Ee!="function"&&typeof Ee!="symbol"&&typeof Ee!="boolean"?a.name=""+Hn(Ee):a.removeAttribute("name")}function ut(a,c,p,y,R,P,se,Ee){if(P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"&&(a.type=P),c!=null||p!=null){if(!(P!=="submit"&&P!=="reset"||c!=null)){Gn(a);return}p=p!=null?""+Hn(p):"",c=c!=null?""+Hn(c):p,Ee||c===a.value||(a.value=c),a.defaultValue=c}y=y??R,y=typeof y!="function"&&typeof y!="symbol"&&!!y,a.checked=Ee?a.checked:!!y,a.defaultChecked=!!y,se!=null&&typeof se!="function"&&typeof se!="symbol"&&typeof se!="boolean"&&(a.name=se),Gn(a)}function Le(a,c,p){c==="number"&&$i(a.ownerDocument)===a||a.defaultValue===""+p||(a.defaultValue=""+p)}function En(a,c,p,y){if(a=a.options,c){c={};for(var R=0;R<p.length;R++)c["$"+p[R]]=!0;for(p=0;p<a.length;p++)R=c.hasOwnProperty("$"+a[p].value),a[p].selected!==R&&(a[p].selected=R),R&&y&&(a[p].defaultSelected=!0)}else{for(p=""+Hn(p),c=null,R=0;R<a.length;R++){if(a[R].value===p){a[R].selected=!0,y&&(a[R].defaultSelected=!0);return}c!==null||a[R].disabled||(c=a[R])}c!==null&&(c.selected=!0)}}function Oi(a,c,p){if(c!=null&&(c=""+Hn(c),c!==a.value&&(a.value=c),p==null)){a.defaultValue!==c&&(a.defaultValue=c);return}a.defaultValue=p!=null?""+Hn(p):""}function Hi(a,c,p,y){if(c==null){if(y!=null){if(p!=null)throw Error(r(92));if(pe(y)){if(1<y.length)throw Error(r(93));y=y[0]}p=y}p==null&&(p=""),c=p}p=Hn(c),a.defaultValue=p,y=a.textContent,y===p&&y!==""&&y!==null&&(a.value=y),Gn(a)}function ds(a,c){if(c){var p=a.firstChild;if(p&&p===a.lastChild&&p.nodeType===3){p.nodeValue=c;return}}a.textContent=c}var xo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function As(a,c,p){var y=c.indexOf("--")===0;p==null||typeof p=="boolean"||p===""?y?a.setProperty(c,""):c==="float"?a.cssFloat="":a[c]="":y?a.setProperty(c,p):typeof p!="number"||p===0||xo.has(c)?c==="float"?a.cssFloat=p:a[c]=(""+p).trim():a[c]=p+"px"}function jn(a,c,p){if(c!=null&&typeof c!="object")throw Error(r(62));if(a=a.style,p!=null){for(var y in p)!p.hasOwnProperty(y)||c!=null&&c.hasOwnProperty(y)||(y.indexOf("--")===0?a.setProperty(y,""):y==="float"?a.cssFloat="":a[y]="");for(var R in c)y=c[R],c.hasOwnProperty(R)&&p[R]!==y&&As(a,R,y)}else for(var P in c)c.hasOwnProperty(P)&&As(a,P,c[P])}function Qr(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xl=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Mo=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ss(a){return Mo.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function Js(){}var Ja=null;function ea(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var ui=null,Fn=null;function ta(a){var c=Mt(a);if(c&&(a=c.stateNode)){var p=a[Oe]||null;e:switch(a=c.stateNode,c.type){case"input":if(Ri(a,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name),c=p.name,p.type==="radio"&&c!=null){for(p=a;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll('input[name="'+sr(""+c)+'"][type="radio"]'),c=0;c<p.length;c++){var y=p[c];if(y!==a&&y.form===a.form){var R=y[Oe]||null;if(!R)throw Error(r(90));Ri(y,R.value,R.defaultValue,R.defaultValue,R.checked,R.defaultChecked,R.type,R.name)}}for(c=0;c<p.length;c++)y=p[c],y.form===a.form&&Us(y)}break e;case"textarea":Oi(a,p.value,p.defaultValue);break e;case"select":c=p.value,c!=null&&En(a,!!p.multiple,c,!1)}}}var Vn=!1;function Ko(a,c,p){if(Vn)return a(c,p);Vn=!0;try{var y=a(c);return y}finally{if(Vn=!1,(ui!==null||Fn!==null)&&(ug(),ui&&(c=ui,a=Fn,Fn=ui=null,ta(c),a)))for(c=0;c<a.length;c++)ta(a[c])}}function Bn(a,c){var p=a.stateNode;if(p===null)return null;var y=p[Oe]||null;if(y===null)return null;p=y[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(y=!y.disabled)||(a=a.type,y=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!y;break e;default:a=!1}if(a)return null;if(p&&typeof p!="function")throw Error(r(231,c,typeof p));return p}var Nr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vl=!1;if(Nr)try{var Fr={};Object.defineProperty(Fr,"passive",{get:function(){vl=!0}}),window.addEventListener("test",Fr,Fr),window.removeEventListener("test",Fr,Fr)}catch{vl=!1}var na=null,xa=null,eo=null;function Po(){if(eo)return eo;var a,c=xa,p=c.length,y,R="value"in na?na.value:na.textContent,P=R.length;for(a=0;a<p&&c[a]===R[a];a++);var se=p-a;for(y=1;y<=se&&c[p-y]===R[P-y];y++);return eo=R.slice(a,1<y?1-y:void 0)}function ms(a){var c=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&c===13&&(a=13)):a=c,a===10&&(a=13),32<=a||a===13?a:0}function va(){return!0}function ra(){return!1}function xi(a){function c(p,y,R,P,se){this._reactName=p,this._targetInst=R,this.type=y,this.nativeEvent=P,this.target=se,this.currentTarget=null;for(var Ee in a)a.hasOwnProperty(Ee)&&(p=a[Ee],this[Ee]=p?p(P):P[Ee]);return this.isDefaultPrevented=(P.defaultPrevented!=null?P.defaultPrevented:P.returnValue===!1)?va:ra,this.isPropagationStopped=ra,this}return w(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=va)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=va)},persist:function(){},isPersistent:va}),c}var ia={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wr=xi(ia),to=w({},ia,{view:0,detail:0}),jo=xi(to),no,vo,Da,_l=w({},to,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qn,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Da&&(Da&&a.type==="mousemove"?(no=a.screenX-Da.screenX,vo=a.screenY-Da.screenY):vo=no=0,Da=a),no)},movementY:function(a){return"movementY"in a?a.movementY:vo}}),Or=xi(_l),sa=w({},_l,{dataTransfer:0}),_a=xi(sa),La=w({},to,{relatedTarget:0}),ro=xi(La),bt=w({},ia,{animationName:0,elapsedTime:0,pseudoElement:0}),V=xi(bt),ue=w({},ia,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),je=xi(ue),We=w({},ia,{data:0}),et=xi(We),Pt={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vn(a){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(a):(a=Nn[a])?!!c[a]:!1}function qn(){return vn}var wn=w({},to,{key:function(a){if(a.key){var c=Pt[a.key]||a.key;if(c!=="Unidentified")return c}return a.type==="keypress"?(a=ms(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Zt[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qn,charCode:function(a){return a.type==="keypress"?ms(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?ms(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Ar=xi(wn),Br=w({},_l,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wn=xi(Br),S=w({},to,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qn}),K=xi(S),ie=w({},ia,{propertyName:0,elapsedTime:0,pseudoElement:0}),Se=xi(ie),it=w({},_l,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),_t=xi(it),sn=w({},ia,{newState:0,oldState:0}),rr=xi(sn),hi=[9,13,27,32],_r=Nr&&"CompositionEvent"in window,Xr=null;Nr&&"documentMode"in document&&(Xr=document.documentMode);var gs=Nr&&"TextEvent"in window&&!Xr,Vs=Nr&&(!_r||Xr&&8<Xr&&11>=Xr),Ur=" ",ps=!1;function io(a,c){switch(a){case"keyup":return hi.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ma(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var $o=!1;function qi(a,c){switch(a){case"compositionend":return Ma(c);case"keypress":return c.which!==32?null:(ps=!0,Ur);case"textInput":return a=c.data,a===Ur&&ps?null:a;default:return null}}function _o(a,c){if($o)return a==="compositionend"||!_r&&io(a,c)?(a=Po(),eo=xa=na=null,$o=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return Vs&&c.locale!=="ko"?null:c.data;default:return null}}var zs={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tc(a){var c=a&&a.nodeName&&a.nodeName.toLowerCase();return c==="input"?!!zs[a.type]:c==="textarea"}function Gi(a,c,p,y){ui?Fn?Fn.push(y):Fn=[y]:ui=y,c=xg(c,"onChange"),0<c.length&&(p=new Wr("onChange","change",null,p,y),a.push({event:p,listeners:c}))}var Fo=null,Bo=null;function uu(a){Mb(a,0)}function yo(a){var c=wt(a);if(Us(c))return a}function Hs(a,c){if(a==="change")return c}var Pa=!1;if(Nr){var qs;if(Nr){var ja="oninput"in document;if(!ja){var pr=document.createElement("div");pr.setAttribute("oninput","return;"),ja=typeof pr.oninput=="function"}qs=ja}else qs=!1;Pa=qs&&(!document.documentMode||9<document.documentMode)}function wo(){Fo&&(Fo.detachEvent("onpropertychange",he),Bo=Fo=null)}function he(a){if(a.propertyName==="value"&&yo(Bo)){var c=[];Gi(c,Bo,a,ea(a)),Ko(uu,c)}}function l(a,c,p){a==="focusin"?(wo(),Fo=c,Bo=p,Fo.attachEvent("onpropertychange",he)):a==="focusout"&&wo()}function h(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return yo(Bo)}function g(a,c){if(a==="click")return yo(c)}function v(a,c){if(a==="input"||a==="change")return yo(c)}function _(a,c){return a===c&&(a!==0||1/a===1/c)||a!==a&&c!==c}var b=typeof Object.is=="function"?Object.is:_;function N(a,c){if(b(a,c))return!0;if(typeof a!="object"||a===null||typeof c!="object"||c===null)return!1;var p=Object.keys(a),y=Object.keys(c);if(p.length!==y.length)return!1;for(y=0;y<p.length;y++){var R=p[y];if(!tt.call(c,R)||!b(a[R],c[R]))return!1}return!0}function k(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function z(a,c){var p=k(a);a=0;for(var y;p;){if(p.nodeType===3){if(y=a+p.textContent.length,a<=c&&y>=c)return{node:p,offset:c-a};a=y}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=k(p)}}function ee(a,c){return a&&c?a===c?!0:a&&a.nodeType===3?!1:c&&c.nodeType===3?ee(a,c.parentNode):"contains"in a?a.contains(c):a.compareDocumentPosition?!!(a.compareDocumentPosition(c)&16):!1:!1}function fe(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var c=$i(a.document);c instanceof a.HTMLIFrameElement;){try{var p=typeof c.contentWindow.location.href=="string"}catch{p=!1}if(p)a=c.contentWindow;else break;c=$i(a.document)}return c}function _e(a){var c=a&&a.nodeName&&a.nodeName.toLowerCase();return c&&(c==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||c==="textarea"||a.contentEditable==="true")}var Pe=Nr&&"documentMode"in document&&11>=document.documentMode,qe=null,Ye=null,nt=null,yt=!1;function Bt(a,c,p){var y=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;yt||qe==null||qe!==$i(y)||(y=qe,"selectionStart"in y&&_e(y)?y={start:y.selectionStart,end:y.selectionEnd}:(y=(y.ownerDocument&&y.ownerDocument.defaultView||window).getSelection(),y={anchorNode:y.anchorNode,anchorOffset:y.anchorOffset,focusNode:y.focusNode,focusOffset:y.focusOffset}),nt&&N(nt,y)||(nt=y,y=xg(Ye,"onSelect"),0<y.length&&(c=new Wr("onSelect","select",null,c,p),a.push({event:c,listeners:y}),c.target=qe)))}function Ut(a,c){var p={};return p[a.toLowerCase()]=c.toLowerCase(),p["Webkit"+a]="webkit"+c,p["Moz"+a]="moz"+c,p}var jt={animationend:Ut("Animation","AnimationEnd"),animationiteration:Ut("Animation","AnimationIteration"),animationstart:Ut("Animation","AnimationStart"),transitionrun:Ut("Transition","TransitionRun"),transitionstart:Ut("Transition","TransitionStart"),transitioncancel:Ut("Transition","TransitionCancel"),transitionend:Ut("Transition","TransitionEnd")},zn={},Jn={};Nr&&(Jn=document.createElement("div").style,"AnimationEvent"in window||(delete jt.animationend.animation,delete jt.animationiteration.animation,delete jt.animationstart.animation),"TransitionEvent"in window||delete jt.transitionend.transition);function ki(a){if(zn[a])return zn[a];if(!jt[a])return a;var c=jt[a],p;for(p in c)if(c.hasOwnProperty(p)&&p in Jn)return zn[a]=c[p];return a}var Gs=ki("animationend"),Ts=ki("animationiteration"),ri=ki("animationstart"),Ns=ki("transitionrun"),Fa=ki("transitionstart"),tc=ki("transitioncancel"),Bl=ki("transitionend"),tf=new Map,nc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");nc.push("scrollEnd");function Zo(a,c){tf.set(a,c),Kn(c,[a])}var nf=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},Uo=[],hu=0,id=0;function rf(){for(var a=hu,c=id=hu=0;c<a;){var p=Uo[c];Uo[c++]=null;var y=Uo[c];Uo[c++]=null;var R=Uo[c];Uo[c++]=null;var P=Uo[c];if(Uo[c++]=null,y!==null&&R!==null){var se=y.pending;se===null?R.next=R:(R.next=se.next,se.next=R),y.pending=R}P!==0&&af(p,R,P)}}function sf(a,c,p,y){Uo[hu++]=a,Uo[hu++]=c,Uo[hu++]=p,Uo[hu++]=y,id|=y,a.lanes|=y,a=a.alternate,a!==null&&(a.lanes|=y)}function sd(a,c,p,y){return sf(a,c,p,y),Ba(a)}function rc(a,c){return sf(a,null,null,c),Ba(a)}function af(a,c,p){a.lanes|=p;var y=a.alternate;y!==null&&(y.lanes|=p);for(var R=!1,P=a.return;P!==null;)P.childLanes|=p,y=P.alternate,y!==null&&(y.childLanes|=p),P.tag===22&&(a=P.stateNode,a===null||a._visibility&1||(R=!0)),a=P,P=P.return;return a.tag===3?(P=a.stateNode,R&&c!==null&&(R=31-It(p),a=P.hiddenUpdates,y=a[R],y===null?a[R]=[c]:y.push(c),c.lane=p|536870912),P):null}function Ba(a){if(50<l1)throw l1=0,Qx=null,Error(r(185));for(var c=a.return;c!==null;)a=c,c=a.return;return a.tag===3?a.stateNode:null}var ya={};function ad(a,c,p,y){this.tag=a,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ua(a,c,p,y){return new ad(a,c,p,y)}function od(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Qo(a,c){var p=a.alternate;return p===null?(p=Ua(a.tag,c,a.key,a.mode),p.elementType=a.elementType,p.type=a.type,p.stateNode=a.stateNode,p.alternate=a,a.alternate=p):(p.pendingProps=c,p.type=a.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=a.flags&65011712,p.childLanes=a.childLanes,p.lanes=a.lanes,p.child=a.child,p.memoizedProps=a.memoizedProps,p.memoizedState=a.memoizedState,p.updateQueue=a.updateQueue,c=a.dependencies,p.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},p.sibling=a.sibling,p.index=a.index,p.ref=a.ref,p.refCleanup=a.refCleanup,p}function of(a,c){a.flags&=65011714;var p=a.alternate;return p===null?(a.childLanes=0,a.lanes=c,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=p.childLanes,a.lanes=p.lanes,a.child=p.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=p.memoizedProps,a.memoizedState=p.memoizedState,a.updateQueue=p.updateQueue,a.type=p.type,c=p.dependencies,a.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),a}function Zu(a,c,p,y,R,P){var se=0;if(y=a,typeof a=="function")od(a)&&(se=1);else if(typeof a=="string")se=fk(a,p,Q.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case D:return a=Ua(31,p,c,R),a.elementType=D,a.lanes=P,a;case C:return Nc(p.children,R,P,c);case L:se=8,R|=24;break;case j:return a=Ua(12,p,c,R|2),a.elementType=j,a.lanes=P,a;case ce:return a=Ua(13,p,c,R),a.elementType=ce,a.lanes=P,a;case re:return a=Ua(19,p,c,R),a.elementType=re,a.lanes=P,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case M:se=10;break e;case W:se=9;break e;case G:se=11;break e;case F:se=14;break e;case B:se=16,y=null;break e}se=29,p=Error(r(130,a===null?"null":typeof a,"")),y=null}return c=Ua(se,p,c,R),c.elementType=a,c.type=y,c.lanes=P,c}function Nc(a,c,p,y){return a=Ua(7,a,y,c),a.lanes=p,a}function lf(a,c,p){return a=Ua(6,a,null,c),a.lanes=p,a}function ld(a){var c=Ua(18,null,null,0);return c.stateNode=a,c}function Qu(a,c,p){return c=Ua(4,a.children!==null?a.children:[],a.key,c),c.lanes=p,c.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},c}var cd=new WeakMap;function Jo(a,c){if(typeof a=="object"&&a!==null){var p=cd.get(a);return p!==void 0?p:(c={value:a,source:c,stack:zt(c)},cd.set(a,c),c)}return{value:a,source:c,stack:zt(c)}}var Ju=[],fu=0,ud=null,cf=0,el=[],tl=0,Cc=null,nl=1,rl="";function Vo(a,c){Ju[fu++]=cf,Ju[fu++]=ud,ud=a,cf=c}function Hm(a,c,p){el[tl++]=nl,el[tl++]=rl,el[tl++]=Cc,Cc=a;var y=nl;a=rl;var R=32-It(y)-1;y&=~(1<<R),p+=1;var P=32-It(c)+R;if(30<P){var se=R-R%5;P=(y&(1<<se)-1).toString(32),y>>=se,R-=se,nl=1<<32-It(c)+R|p<<R|y,rl=P+a}else nl=1<<P|p<<R|y,rl=a}function V0(a){a.return!==null&&(Vo(a,1),Hm(a,1,0))}function hd(a){for(;a===ud;)ud=Ju[--fu],Ju[fu]=null,cf=Ju[--fu],Ju[fu]=null;for(;a===Cc;)Cc=el[--tl],el[tl]=null,rl=el[--tl],el[tl]=null,nl=el[--tl],el[tl]=null}function qm(a,c){el[tl++]=nl,el[tl++]=rl,el[tl++]=Cc,nl=c.id,rl=c.overflow,Cc=a}var wa=null,Fi=null,Mr=!1,so=null,os=!1,yl=Error(r(519));function Ic(a){var c=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw eh(Jo(c,a)),yl}function z0(a){var c=a.stateNode,p=a.type,y=a.memoizedProps;switch(c[Ce]=a,c[Oe]=y,p){case"dialog":jr("cancel",c),jr("close",c);break;case"iframe":case"object":case"embed":jr("load",c);break;case"video":case"audio":for(p=0;p<u1.length;p++)jr(u1[p],c);break;case"source":jr("error",c);break;case"img":case"image":case"link":jr("error",c),jr("load",c);break;case"details":jr("toggle",c);break;case"input":jr("invalid",c),ut(c,y.value,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name,!0);break;case"select":jr("invalid",c);break;case"textarea":jr("invalid",c),Hi(c,y.value,y.defaultValue,y.children)}p=y.children,typeof p!="string"&&typeof p!="number"&&typeof p!="bigint"||c.textContent===""+p||y.suppressHydrationWarning===!0||Bb(c.textContent,p)?(y.popover!=null&&(jr("beforetoggle",c),jr("toggle",c)),y.onScroll!=null&&jr("scroll",c),y.onScrollEnd!=null&&jr("scrollend",c),y.onClick!=null&&(c.onclick=Js),c=!0):c=!1,c||Ic(a,!0)}function ic(a){for(wa=a.return;wa;)switch(wa.tag){case 5:case 31:case 13:os=!1;return;case 27:case 3:os=!0;return;default:wa=wa.return}}function ba(a){if(a!==wa)return!1;if(!Mr)return ic(a),Mr=!0,!1;var c=a.tag,p;if((p=c!==3&&c!==27)&&((p=c===5)&&(p=a.type,p=!(p!=="form"&&p!=="button")||dv(a.type,a.memoizedProps)),p=!p),p&&Fi&&Ic(a),ic(a),c===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));Fi=Yb(a)}else if(c===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));Fi=Yb(a)}else c===27?(c=Fi,mh(a.type)?(a=vv,vv=null,Fi=a):Fi=c):Fi=wa?Hl(a.stateNode.nextSibling):null;return!0}function du(){Fi=wa=null,Mr=!1}function H0(){var a=so;return a!==null&&(cl===null?cl=a:cl.push.apply(cl,a),so=null),a}function eh(a){so===null?so=[a]:so.push(a)}var fd=ve(null),Rc=null,Ul=null;function Oc(a,c,p){J(fd,c._currentValue),c._currentValue=p}function il(a){a._currentValue=fd.current,q(fd)}function th(a,c,p){for(;a!==null;){var y=a.alternate;if((a.childLanes&c)!==c?(a.childLanes|=c,y!==null&&(y.childLanes|=c)):y!==null&&(y.childLanes&c)!==c&&(y.childLanes|=c),a===p)break;a=a.return}}function mu(a,c,p,y){var R=a.child;for(R!==null&&(R.return=a);R!==null;){var P=R.dependencies;if(P!==null){var se=R.child;P=P.firstContext;e:for(;P!==null;){var Ee=P;P=R;for(var Ge=0;Ge<c.length;Ge++)if(Ee.context===c[Ge]){P.lanes|=p,Ee=P.alternate,Ee!==null&&(Ee.lanes|=p),th(P.return,p,a),y||(se=null);break e}P=Ee.next}}else if(R.tag===18){if(se=R.return,se===null)throw Error(r(341));se.lanes|=p,P=se.alternate,P!==null&&(P.lanes|=p),th(se,p,a),se=null}else se=R.child;if(se!==null)se.return=R;else for(se=R;se!==null;){if(se===a){se=null;break}if(R=se.sibling,R!==null){R.return=se.return,se=R;break}se=se.return}R=se}}function kc(a,c,p,y){a=null;for(var R=c,P=!1;R!==null;){if(!P){if((R.flags&524288)!==0)P=!0;else if((R.flags&262144)!==0)break}if(R.tag===10){var se=R.alternate;if(se===null)throw Error(r(387));if(se=se.memoizedProps,se!==null){var Ee=R.type;b(R.pendingProps.value,se.value)||(a!==null?a.push(Ee):a=[Ee])}}else if(R===De.current){if(se=R.alternate,se===null)throw Error(r(387));se.memoizedState.memoizedState!==R.memoizedState.memoizedState&&(a!==null?a.push(g1):a=[g1])}R=R.return}a!==null&&mu(c,a,p,y),c.flags|=262144}function dd(a){for(a=a.firstContext;a!==null;){if(!b(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Dc(a){Rc=a,Ul=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function Ea(a){return Gm(Rc,a)}function md(a,c){return Rc===null&&Dc(a),Gm(a,c)}function Gm(a,c){var p=c._currentValue;if(c={context:c,memoizedValue:p,next:null},Ul===null){if(a===null)throw Error(r(308));Ul=c,a.dependencies={lanes:0,firstContext:c},a.flags|=524288}else Ul=Ul.next=c;return p}var xx=typeof AbortController<"u"?AbortController:function(){var a=[],c=this.signal={aborted:!1,addEventListener:function(p,y){a.push(y)}};this.abort=function(){c.aborted=!0,a.forEach(function(p){return p()})}},vx=n.unstable_scheduleCallback,_x=n.unstable_NormalPriority,xs={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function nh(){return{controller:new xx,data:new Map,refCount:0}}function uf(a){a.refCount--,a.refCount===0&&vx(_x,function(){a.controller.abort()})}var hf=null,gd=0,T=0,O=null;function Y(a,c){if(hf===null){var p=hf=[];gd=0,T=iv(),O={status:"pending",value:void 0,then:function(y){p.push(y)}}}return gd++,c.then(te,te),c}function te(){if(--gd===0&&hf!==null){O!==null&&(O.status="fulfilled");var a=hf;hf=null,T=0,O=null;for(var c=0;c<a.length;c++)(0,a[c])()}}function me(a,c){var p=[],y={status:"pending",value:null,reason:null,then:function(R){p.push(R)}};return a.then(function(){y.status="fulfilled",y.value=c;for(var R=0;R<p.length;R++)(0,p[R])(c)},function(R){for(y.status="rejected",y.reason=R,R=0;R<p.length;R++)(0,p[R])(void 0)}),y}var ye=Ae.S;Ae.S=function(a,c){cb=st(),typeof c=="object"&&c!==null&&typeof c.then=="function"&&Y(a,c),ye!==null&&ye(a,c)};var we=ve(null);function Ne(){var a=we.current;return a!==null?a:Ui.pooledCache}function ke(a,c){c===null?J(we,we.current):J(we,c.pool)}function Ue(){var a=Ne();return a===null?null:{parent:xs._currentValue,pool:a}}var Ke=Error(r(460)),gt=Error(r(474)),Be=Error(r(542)),Ze={then:function(){}};function ct(a){return a=a.status,a==="fulfilled"||a==="rejected"}function Dt(a,c,p){switch(p=a[p],p===void 0?a.push(c):p!==c&&(c.then(Js,Js),c=p),c.status){case"fulfilled":return c.value;case"rejected":throw a=c.reason,ln(a),a;default:if(typeof c.status=="string")c.then(Js,Js);else{if(a=Ui,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=c,a.status="pending",a.then(function(y){if(c.status==="pending"){var R=c;R.status="fulfilled",R.value=y}},function(y){if(c.status==="pending"){var R=c;R.status="rejected",R.reason=y}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw a=c.reason,ln(a),a}throw kt=c,Ke}}function ft(a){try{var c=a._init;return c(a._payload)}catch(p){throw p!==null&&typeof p=="object"&&typeof p.then=="function"?(kt=p,Ke):p}}var kt=null;function Ht(){if(kt===null)throw Error(r(459));var a=kt;return kt=null,a}function ln(a){if(a===Ke||a===Be)throw Error(r(483))}var Qt=null,Mn=0;function Cn(a){var c=Mn;return Mn+=1,Qt===null&&(Qt=[]),Dt(Qt,a,c)}function dr(a,c){c=c.props.ref,a.ref=c!==void 0?c:null}function Dn(a,c){throw c.$$typeof===A?Error(r(525)):(a=Object.prototype.toString.call(c),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":a)))}function Dr(a){function c(at,$e){if(a){var xt=at.deletions;xt===null?(at.deletions=[$e],at.flags|=16):xt.push($e)}}function p(at,$e){if(!a)return null;for(;$e!==null;)c(at,$e),$e=$e.sibling;return null}function y(at){for(var $e=new Map;at!==null;)at.key!==null?$e.set(at.key,at):$e.set(at.index,at),at=at.sibling;return $e}function R(at,$e){return at=Qo(at,$e),at.index=0,at.sibling=null,at}function P(at,$e,xt){return at.index=xt,a?(xt=at.alternate,xt!==null?(xt=xt.index,xt<$e?(at.flags|=67108866,$e):xt):(at.flags|=67108866,$e)):(at.flags|=1048576,$e)}function se(at){return a&&at.alternate===null&&(at.flags|=67108866),at}function Ee(at,$e,xt,Gt){return $e===null||$e.tag!==6?($e=lf(xt,at.mode,Gt),$e.return=at,$e):($e=R($e,xt),$e.return=at,$e)}function Ge(at,$e,xt,Gt){var tr=xt.type;return tr===C?Vt(at,$e,xt.props.children,Gt,xt.key):$e!==null&&($e.elementType===tr||typeof tr=="object"&&tr!==null&&tr.$$typeof===B&&ft(tr)===$e.type)?($e=R($e,xt.props),dr($e,xt),$e.return=at,$e):($e=Zu(xt.type,xt.key,xt.props,null,at.mode,Gt),dr($e,xt),$e.return=at,$e)}function vt(at,$e,xt,Gt){return $e===null||$e.tag!==4||$e.stateNode.containerInfo!==xt.containerInfo||$e.stateNode.implementation!==xt.implementation?($e=Qu(xt,at.mode,Gt),$e.return=at,$e):($e=R($e,xt.children||[]),$e.return=at,$e)}function Vt(at,$e,xt,Gt,tr){return $e===null||$e.tag!==7?($e=Nc(xt,at.mode,Gt,tr),$e.return=at,$e):($e=R($e,xt),$e.return=at,$e)}function Kt(at,$e,xt){if(typeof $e=="string"&&$e!==""||typeof $e=="number"||typeof $e=="bigint")return $e=lf(""+$e,at.mode,xt),$e.return=at,$e;if(typeof $e=="object"&&$e!==null){switch($e.$$typeof){case E:return xt=Zu($e.type,$e.key,$e.props,null,at.mode,xt),dr(xt,$e),xt.return=at,xt;case I:return $e=Qu($e,at.mode,xt),$e.return=at,$e;case B:return $e=ft($e),Kt(at,$e,xt)}if(pe($e)||H($e))return $e=Nc($e,at.mode,xt,null),$e.return=at,$e;if(typeof $e.then=="function")return Kt(at,Cn($e),xt);if($e.$$typeof===M)return Kt(at,md(at,$e),xt);Dn(at,$e)}return null}function Et(at,$e,xt,Gt){var tr=$e!==null?$e.key:null;if(typeof xt=="string"&&xt!==""||typeof xt=="number"||typeof xt=="bigint")return tr!==null?null:Ee(at,$e,""+xt,Gt);if(typeof xt=="object"&&xt!==null){switch(xt.$$typeof){case E:return xt.key===tr?Ge(at,$e,xt,Gt):null;case I:return xt.key===tr?vt(at,$e,xt,Gt):null;case B:return xt=ft(xt),Et(at,$e,xt,Gt)}if(pe(xt)||H(xt))return tr!==null?null:Vt(at,$e,xt,Gt,null);if(typeof xt.then=="function")return Et(at,$e,Cn(xt),Gt);if(xt.$$typeof===M)return Et(at,$e,md(at,xt),Gt);Dn(at,xt)}return null}function Ct(at,$e,xt,Gt,tr){if(typeof Gt=="string"&&Gt!==""||typeof Gt=="number"||typeof Gt=="bigint")return at=at.get(xt)||null,Ee($e,at,""+Gt,tr);if(typeof Gt=="object"&&Gt!==null){switch(Gt.$$typeof){case E:return at=at.get(Gt.key===null?xt:Gt.key)||null,Ge($e,at,Gt,tr);case I:return at=at.get(Gt.key===null?xt:Gt.key)||null,vt($e,at,Gt,tr);case B:return Gt=ft(Gt),Ct(at,$e,xt,Gt,tr)}if(pe(Gt)||H(Gt))return at=at.get(xt)||null,Vt($e,at,Gt,tr,null);if(typeof Gt.then=="function")return Ct(at,$e,xt,Cn(Gt),tr);if(Gt.$$typeof===M)return Ct(at,$e,xt,md($e,Gt),tr);Dn($e,Gt)}return null}function Ln(at,$e,xt,Gt){for(var tr=null,si=null,Un=$e,Tr=$e=0,zr=null;Un!==null&&Tr<xt.length;Tr++){Un.index>Tr?(zr=Un,Un=null):zr=Un.sibling;var ai=Et(at,Un,xt[Tr],Gt);if(ai===null){Un===null&&(Un=zr);break}a&&Un&&ai.alternate===null&&c(at,Un),$e=P(ai,$e,Tr),si===null?tr=ai:si.sibling=ai,si=ai,Un=zr}if(Tr===xt.length)return p(at,Un),Mr&&Vo(at,Tr),tr;if(Un===null){for(;Tr<xt.length;Tr++)Un=Kt(at,xt[Tr],Gt),Un!==null&&($e=P(Un,$e,Tr),si===null?tr=Un:si.sibling=Un,si=Un);return Mr&&Vo(at,Tr),tr}for(Un=y(Un);Tr<xt.length;Tr++)zr=Ct(Un,at,Tr,xt[Tr],Gt),zr!==null&&(a&&zr.alternate!==null&&Un.delete(zr.key===null?Tr:zr.key),$e=P(zr,$e,Tr),si===null?tr=zr:si.sibling=zr,si=zr);return a&&Un.forEach(function(_h){return c(at,_h)}),Mr&&Vo(at,Tr),tr}function ar(at,$e,xt,Gt){if(xt==null)throw Error(r(151));for(var tr=null,si=null,Un=$e,Tr=$e=0,zr=null,ai=xt.next();Un!==null&&!ai.done;Tr++,ai=xt.next()){Un.index>Tr?(zr=Un,Un=null):zr=Un.sibling;var _h=Et(at,Un,ai.value,Gt);if(_h===null){Un===null&&(Un=zr);break}a&&Un&&_h.alternate===null&&c(at,Un),$e=P(_h,$e,Tr),si===null?tr=_h:si.sibling=_h,si=_h,Un=zr}if(ai.done)return p(at,Un),Mr&&Vo(at,Tr),tr;if(Un===null){for(;!ai.done;Tr++,ai=xt.next())ai=Kt(at,ai.value,Gt),ai!==null&&($e=P(ai,$e,Tr),si===null?tr=ai:si.sibling=ai,si=ai);return Mr&&Vo(at,Tr),tr}for(Un=y(Un);!ai.done;Tr++,ai=xt.next())ai=Ct(Un,at,Tr,ai.value,Gt),ai!==null&&(a&&ai.alternate!==null&&Un.delete(ai.key===null?Tr:ai.key),$e=P(ai,$e,Tr),si===null?tr=ai:si.sibling=ai,si=ai);return a&&Un.forEach(function(Ek){return c(at,Ek)}),Mr&&Vo(at,Tr),tr}function Pi(at,$e,xt,Gt){if(typeof xt=="object"&&xt!==null&&xt.type===C&&xt.key===null&&(xt=xt.props.children),typeof xt=="object"&&xt!==null){switch(xt.$$typeof){case E:e:{for(var tr=xt.key;$e!==null;){if($e.key===tr){if(tr=xt.type,tr===C){if($e.tag===7){p(at,$e.sibling),Gt=R($e,xt.props.children),Gt.return=at,at=Gt;break e}}else if($e.elementType===tr||typeof tr=="object"&&tr!==null&&tr.$$typeof===B&&ft(tr)===$e.type){p(at,$e.sibling),Gt=R($e,xt.props),dr(Gt,xt),Gt.return=at,at=Gt;break e}p(at,$e);break}else c(at,$e);$e=$e.sibling}xt.type===C?(Gt=Nc(xt.props.children,at.mode,Gt,xt.key),Gt.return=at,at=Gt):(Gt=Zu(xt.type,xt.key,xt.props,null,at.mode,Gt),dr(Gt,xt),Gt.return=at,at=Gt)}return se(at);case I:e:{for(tr=xt.key;$e!==null;){if($e.key===tr)if($e.tag===4&&$e.stateNode.containerInfo===xt.containerInfo&&$e.stateNode.implementation===xt.implementation){p(at,$e.sibling),Gt=R($e,xt.children||[]),Gt.return=at,at=Gt;break e}else{p(at,$e);break}else c(at,$e);$e=$e.sibling}Gt=Qu(xt,at.mode,Gt),Gt.return=at,at=Gt}return se(at);case B:return xt=ft(xt),Pi(at,$e,xt,Gt)}if(pe(xt))return Ln(at,$e,xt,Gt);if(H(xt)){if(tr=H(xt),typeof tr!="function")throw Error(r(150));return xt=tr.call(xt),ar(at,$e,xt,Gt)}if(typeof xt.then=="function")return Pi(at,$e,Cn(xt),Gt);if(xt.$$typeof===M)return Pi(at,$e,md(at,xt),Gt);Dn(at,xt)}return typeof xt=="string"&&xt!==""||typeof xt=="number"||typeof xt=="bigint"?(xt=""+xt,$e!==null&&$e.tag===6?(p(at,$e.sibling),Gt=R($e,xt),Gt.return=at,at=Gt):(p(at,$e),Gt=lf(xt,at.mode,Gt),Gt.return=at,at=Gt),se(at)):p(at,$e)}return function(at,$e,xt,Gt){try{Mn=0;var tr=Pi(at,$e,xt,Gt);return Qt=null,tr}catch(Un){if(Un===Ke||Un===Be)throw Un;var si=Ua(29,Un,null,at.mode);return si.lanes=Gt,si.return=at,si}finally{}}}var Bi=Dr(!0),yr=Dr(!1),In=!1;function yn(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Zi(a,c){a=a.updateQueue,c.updateQueue===a&&(c.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function ir(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function Sr(a,c,p){var y=a.updateQueue;if(y===null)return null;if(y=y.shared,(mi&2)!==0){var R=y.pending;return R===null?c.next=c:(c.next=R.next,R.next=c),y.pending=c,c=Ba(a),af(a,null,p),c}return sf(a,y,c,p),Ba(a)}function fi(a,c,p){if(c=c.updateQueue,c!==null&&(c=c.shared,(p&4194048)!==0)){var y=c.lanes;y&=a.pendingLanes,p|=y,c.lanes=p,$r(a,p)}}function Ws(a,c){var p=a.updateQueue,y=a.alternate;if(y!==null&&(y=y.updateQueue,p===y)){var R=null,P=null;if(p=p.firstBaseUpdate,p!==null){do{var se={lane:p.lane,tag:p.tag,payload:p.payload,callback:null,next:null};P===null?R=P=se:P=P.next=se,p=p.next}while(p!==null);P===null?R=P=c:P=P.next=c}else R=P=c;p={baseState:y.baseState,firstBaseUpdate:R,lastBaseUpdate:P,shared:y.shared,callbacks:y.callbacks},a.updateQueue=p;return}a=p.lastBaseUpdate,a===null?p.firstBaseUpdate=c:a.next=c,p.lastBaseUpdate=c}var Aa=!1;function Di(){if(Aa){var a=O;if(a!==null)throw a}}function Cs(a,c,p,y){Aa=!1;var R=a.updateQueue;In=!1;var P=R.firstBaseUpdate,se=R.lastBaseUpdate,Ee=R.shared.pending;if(Ee!==null){R.shared.pending=null;var Ge=Ee,vt=Ge.next;Ge.next=null,se===null?P=vt:se.next=vt,se=Ge;var Vt=a.alternate;Vt!==null&&(Vt=Vt.updateQueue,Ee=Vt.lastBaseUpdate,Ee!==se&&(Ee===null?Vt.firstBaseUpdate=vt:Ee.next=vt,Vt.lastBaseUpdate=Ge))}if(P!==null){var Kt=R.baseState;se=0,Vt=vt=Ge=null,Ee=P;do{var Et=Ee.lane&-536870913,Ct=Et!==Ee.lane;if(Ct?(Vr&Et)===Et:(y&Et)===Et){Et!==0&&Et===T&&(Aa=!0),Vt!==null&&(Vt=Vt.next={lane:0,tag:Ee.tag,payload:Ee.payload,callback:null,next:null});e:{var Ln=a,ar=Ee;Et=c;var Pi=p;switch(ar.tag){case 1:if(Ln=ar.payload,typeof Ln=="function"){Kt=Ln.call(Pi,Kt,Et);break e}Kt=Ln;break e;case 3:Ln.flags=Ln.flags&-65537|128;case 0:if(Ln=ar.payload,Et=typeof Ln=="function"?Ln.call(Pi,Kt,Et):Ln,Et==null)break e;Kt=w({},Kt,Et);break e;case 2:In=!0}}Et=Ee.callback,Et!==null&&(a.flags|=64,Ct&&(a.flags|=8192),Ct=R.callbacks,Ct===null?R.callbacks=[Et]:Ct.push(Et))}else Ct={lane:Et,tag:Ee.tag,payload:Ee.payload,callback:Ee.callback,next:null},Vt===null?(vt=Vt=Ct,Ge=Kt):Vt=Vt.next=Ct,se|=Et;if(Ee=Ee.next,Ee===null){if(Ee=R.shared.pending,Ee===null)break;Ct=Ee,Ee=Ct.next,Ct.next=null,R.lastBaseUpdate=Ct,R.shared.pending=null}}while(!0);Vt===null&&(Ge=Kt),R.baseState=Ge,R.firstBaseUpdate=vt,R.lastBaseUpdate=Vt,P===null&&(R.shared.lanes=0),ch|=se,a.lanes=se,a.memoizedState=Kt}}function Va(a,c){if(typeof a!="function")throw Error(r(191,a));a.call(c)}function Is(a,c){var p=a.callbacks;if(p!==null)for(a.callbacks=null,a=0;a<p.length;a++)Va(p[a],c)}var Cr=ve(null),Jr=ve(0);function Qi(a,c){a=Au,J(Jr,a),J(Cr,c),Au=a|c.baseLanes}function ii(){J(Jr,Au),J(Cr,Cr.current)}function Xs(){Au=Jr.current,q(Cr),q(Jr)}var Ji=ve(null),ei=null;function vs(a){var c=a.alternate;J(Yr,Yr.current&1),J(Ji,a),ei===null&&(c===null||Cr.current!==null||c.memoizedState!==null)&&(ei=a)}function di(a){J(Yr,Yr.current),J(Ji,a),ei===null&&(ei=a)}function Rs(a){a.tag===22?(J(Yr,Yr.current),J(Ji,a),ei===null&&(ei=a)):Os()}function Os(){J(Yr,Yr.current),J(Ji,Ji.current)}function vi(a){q(Ji),ei===a&&(ei=null),q(Yr)}var Yr=ve(0);function za(a){for(var c=a;c!==null;){if(c.tag===13){var p=c.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||pv(p)||xv(p)))return c}else if(c.tag===19&&(c.memoizedProps.revealOrder==="forwards"||c.memoizedProps.revealOrder==="backwards"||c.memoizedProps.revealOrder==="unstable_legacy-backwards"||c.memoizedProps.revealOrder==="together")){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var ls=0,$n=null,er=null,ti=null,bo=!1,sl=!1,ao=!1,ks=0,Lc=0,Mc=null,pd=0;function Li(){throw Error(r(321))}function q0(a,c){if(c===null)return!1;for(var p=0;p<c.length&&p<a.length;p++)if(!b(a[p],c[p]))return!1;return!0}function G0(a,c,p,y,R,P){return ls=P,$n=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,Ae.H=a===null||a.memoizedState===null?y3:Nx,ao=!1,P=p(y,R),ao=!1,sl&&(P=sc(c,p,y,R)),xd(a),P}function xd(a){Ae.H=J0;var c=er!==null&&er.next!==null;if(ls=0,ti=er=$n=null,bo=!1,Lc=0,Mc=null,c)throw Error(r(300));a===null||oa||(a=a.dependencies,a!==null&&dd(a)&&(oa=!0))}function sc(a,c,p,y){$n=a;var R=0;do{if(sl&&(Mc=null),Lc=0,sl=!1,25<=R)throw Error(r(301));if(R+=1,ti=er=null,a.updateQueue!=null){var P=a.updateQueue;P.lastEffect=null,P.events=null,P.stores=null,P.memoCache!=null&&(P.memoCache.index=0)}Ae.H=w3,P=c(p,y)}while(sl);return P}function yx(){var a=Ae.H,c=a.useState()[0];return c=typeof c.then=="function"?Pc(c):c,a=a.useState()[0],(er!==null?er.memoizedState:null)!==a&&($n.flags|=1024),c}function W0(){var a=ks!==0;return ks=0,a}function X0(a,c,p){c.updateQueue=a.updateQueue,c.flags&=-2053,a.lanes&=~p}function vd(a){if(bo){for(a=a.memoizedState;a!==null;){var c=a.queue;c!==null&&(c.pending=null),a=a.next}bo=!1}ls=0,ti=er=$n=null,sl=!1,Lc=ks=0,Mc=null}function aa(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ti===null?$n.memoizedState=ti=a:ti=ti.next=a,ti}function cs(){if(er===null){var a=$n.alternate;a=a!==null?a.memoizedState:null}else a=er.next;var c=ti===null?$n.memoizedState:ti.next;if(c!==null)ti=c,er=a;else{if(a===null)throw $n.alternate===null?Error(r(467)):Error(r(310));er=a,a={memoizedState:er.memoizedState,baseState:er.baseState,baseQueue:er.baseQueue,queue:er.queue,next:null},ti===null?$n.memoizedState=ti=a:ti=ti.next=a}return ti}function ff(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Pc(a){var c=Lc;return Lc+=1,Mc===null&&(Mc=[]),a=Dt(Mc,a,c),c=$n,(ti===null?c.memoizedState:ti.next)===null&&(c=c.alternate,Ae.H=c===null||c.memoizedState===null?y3:Nx),a}function rh(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Pc(a);if(a.$$typeof===M)return Ea(a)}throw Error(r(438,String(a)))}function gu(a){var c=null,p=$n.updateQueue;if(p!==null&&(c=p.memoCache),c==null){var y=$n.alternate;y!==null&&(y=y.updateQueue,y!==null&&(y=y.memoCache,y!=null&&(c={data:y.data.map(function(R){return R.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),p===null&&(p=ff(),$n.updateQueue=p),p.memoCache=c,p=c.data[c.index],p===void 0)for(p=c.data[c.index]=Array(a),y=0;y<a;y++)p[y]=Z;return c.index++,p}function Vl(a,c){return typeof c=="function"?c(a):c}function _d(a){var c=cs();return ih(c,er,a)}function ih(a,c,p){var y=a.queue;if(y===null)throw Error(r(311));y.lastRenderedReducer=p;var R=a.baseQueue,P=y.pending;if(P!==null){if(R!==null){var se=R.next;R.next=P.next,P.next=se}c.baseQueue=R=P,y.pending=null}if(P=a.baseState,R===null)a.memoizedState=P;else{c=R.next;var Ee=se=null,Ge=null,vt=c,Vt=!1;do{var Kt=vt.lane&-536870913;if(Kt!==vt.lane?(Vr&Kt)===Kt:(ls&Kt)===Kt){var Et=vt.revertLane;if(Et===0)Ge!==null&&(Ge=Ge.next={lane:0,revertLane:0,gesture:null,action:vt.action,hasEagerState:vt.hasEagerState,eagerState:vt.eagerState,next:null}),Kt===T&&(Vt=!0);else if((ls&Et)===Et){vt=vt.next,Et===T&&(Vt=!0);continue}else Kt={lane:0,revertLane:vt.revertLane,gesture:null,action:vt.action,hasEagerState:vt.hasEagerState,eagerState:vt.eagerState,next:null},Ge===null?(Ee=Ge=Kt,se=P):Ge=Ge.next=Kt,$n.lanes|=Et,ch|=Et;Kt=vt.action,ao&&p(P,Kt),P=vt.hasEagerState?vt.eagerState:p(P,Kt)}else Et={lane:Kt,revertLane:vt.revertLane,gesture:vt.gesture,action:vt.action,hasEagerState:vt.hasEagerState,eagerState:vt.eagerState,next:null},Ge===null?(Ee=Ge=Et,se=P):Ge=Ge.next=Et,$n.lanes|=Kt,ch|=Kt;vt=vt.next}while(vt!==null&&vt!==c);if(Ge===null?se=P:Ge.next=Ee,!b(P,a.memoizedState)&&(oa=!0,Vt&&(p=O,p!==null)))throw p;a.memoizedState=P,a.baseState=se,a.baseQueue=Ge,y.lastRenderedState=P}return R===null&&(y.lanes=0),[a.memoizedState,y.dispatch]}function yd(a){var c=cs(),p=c.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=a;var y=p.dispatch,R=p.pending,P=c.memoizedState;if(R!==null){p.pending=null;var se=R=R.next;do P=a(P,se.action),se=se.next;while(se!==R);b(P,c.memoizedState)||(oa=!0),c.memoizedState=P,c.baseQueue===null&&(c.baseState=P),p.lastRenderedState=P}return[P,y]}function wd(a,c,p){var y=$n,R=cs(),P=Mr;if(P){if(p===void 0)throw Error(r(407));p=p()}else p=c();var se=!b((er||R).memoizedState,p);if(se&&(R.memoizedState=p,oa=!0),R=R.queue,wx(K0.bind(null,y,R,a),[a]),R.getSnapshot!==c||se||ti!==null&&ti.memoizedState.tag&1){if(y.flags|=2048,xu(9,{destroy:void 0},Y0.bind(null,y,R,p,c),null),Ui===null)throw Error(r(349));P||(ls&127)!==0||ac(y,c,p)}return p}function ac(a,c,p){a.flags|=16384,a={getSnapshot:c,value:p},c=$n.updateQueue,c===null?(c=ff(),$n.updateQueue=c,c.stores=[a]):(p=c.stores,p===null?c.stores=[a]:p.push(a))}function Y0(a,c,p,y){c.value=p,c.getSnapshot=y,Wm(c)&&$0(a)}function K0(a,c,p){return p(function(){Wm(c)&&$0(a)})}function Wm(a){var c=a.getSnapshot;a=a.value;try{var p=c();return!b(a,p)}catch{return!0}}function $0(a){var c=rc(a,2);c!==null&&ul(c,a,2)}function jc(a){var c=aa();if(typeof a=="function"){var p=a;if(a=p(),ao){Wt(!0);try{p()}finally{Wt(!1)}}}return c.memoizedState=c.baseState=a,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vl,lastRenderedState:a},c}function Xm(a,c,p,y){return a.baseState=p,ih(a,er,typeof y=="function"?y:Vl)}function Ym(a,c,p,y,R){if(Qm(a))throw Error(r(485));if(a=c.action,a!==null){var P={payload:R,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(se){P.listeners.push(se)}};Ae.T!==null?p(!0):P.isTransition=!1,y(P),p=c.pending,p===null?(P.next=c.pending=P,Km(c,P)):(P.next=p.next,c.pending=p.next=P)}}function Km(a,c){var p=c.action,y=c.payload,R=a.state;if(c.isTransition){var P=Ae.T,se={};Ae.T=se;try{var Ee=p(R,y),Ge=Ae.S;Ge!==null&&Ge(se,Ee),Z0(a,c,Ee)}catch(vt){pu(a,c,vt)}finally{P!==null&&se.types!==null&&(P.types=se.types),Ae.T=P}}else try{P=p(R,y),Z0(a,c,P)}catch(vt){pu(a,c,vt)}}function Z0(a,c,p){p!==null&&typeof p=="object"&&typeof p.then=="function"?p.then(function(y){$m(a,c,y)},function(y){return pu(a,c,y)}):$m(a,c,p)}function $m(a,c,p){c.status="fulfilled",c.value=p,bd(c),a.state=p,c=a.pending,c!==null&&(p=c.next,p===c?a.pending=null:(p=p.next,c.next=p,Km(a,p)))}function pu(a,c,p){var y=a.pending;if(a.pending=null,y!==null){y=y.next;do c.status="rejected",c.reason=p,bd(c),c=c.next;while(c!==y)}a.action=null}function bd(a){a=a.listeners;for(var c=0;c<a.length;c++)(0,a[c])()}function df(a,c){return c}function zl(a,c){if(Mr){var p=Ui.formState;if(p!==null){e:{var y=$n;if(Mr){if(Fi){t:{for(var R=Fi,P=os;R.nodeType!==8;){if(!P){R=null;break t}if(R=Hl(R.nextSibling),R===null){R=null;break t}}P=R.data,R=P==="F!"||P==="F"?R:null}if(R){Fi=Hl(R.nextSibling),y=R.data==="F!";break e}}Ic(y)}y=!1}y&&(c=p[0])}}return p=aa(),p.memoizedState=p.baseState=c,y={pending:null,lanes:0,dispatch:null,lastRenderedReducer:df,lastRenderedState:c},p.queue=y,p=x3.bind(null,$n,y),y.dispatch=p,y=jc(!1),P=Tx.bind(null,$n,!1,y.queue),y=aa(),R={state:c,dispatch:null,action:a,pending:null},y.queue=R,p=Ym.bind(null,$n,R,P,p),R.dispatch=p,y.memoizedState=a,[c,p,!1]}function oc(a){var c=cs();return lc(c,er,a)}function lc(a,c,p){if(c=ih(a,c,df)[0],a=_d(Vl)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var y=Pc(c)}catch(se){throw se===Ke?Be:se}else y=c;c=cs();var R=c.queue,P=R.dispatch;return p!==c.memoizedState&&($n.flags|=2048,xu(9,{destroy:void 0},Ed.bind(null,R,p),null)),[y,P,a]}function Ed(a,c){a.action=c}function Ad(a){var c=cs(),p=er;if(p!==null)return lc(c,p,a);cs(),c=c.memoizedState,p=cs();var y=p.queue.dispatch;return p.memoizedState=a,[c,y,!1]}function xu(a,c,p,y){return a={tag:a,create:p,deps:y,inst:c,next:null},c=$n.updateQueue,c===null&&(c=ff(),$n.updateQueue=c),p=c.lastEffect,p===null?c.lastEffect=a.next=a:(y=p.next,p.next=a,a.next=y,c.lastEffect=a),a}function Zm(){return cs().memoizedState}function sh(a,c,p,y){var R=aa();$n.flags|=a,R.memoizedState=xu(1|c,{destroy:void 0},p,y===void 0?null:y)}function ah(a,c,p,y){var R=cs();y=y===void 0?null:y;var P=R.memoizedState.inst;er!==null&&y!==null&&q0(y,er.memoizedState.deps)?R.memoizedState=xu(c,P,p,y):($n.flags|=a,R.memoizedState=xu(1|c,P,p,y))}function r3(a,c){sh(8390656,8,a,c)}function wx(a,c){ah(2048,8,a,c)}function xO(a){$n.flags|=4;var c=$n.updateQueue;if(c===null)c=ff(),$n.updateQueue=c,c.events=[a];else{var p=c.events;p===null?c.events=[a]:p.push(a)}}function i3(a){var c=cs().memoizedState;return xO({ref:c,nextImpl:a}),function(){if((mi&2)!==0)throw Error(r(440));return c.impl.apply(void 0,arguments)}}function s3(a,c){return ah(4,2,a,c)}function a3(a,c){return ah(4,4,a,c)}function o3(a,c){if(typeof c=="function"){a=a();var p=c(a);return function(){typeof p=="function"?p():c(null)}}if(c!=null)return a=a(),c.current=a,function(){c.current=null}}function l3(a,c,p){p=p!=null?p.concat([a]):null,ah(4,4,o3.bind(null,c,a),p)}function bx(){}function c3(a,c){var p=cs();c=c===void 0?null:c;var y=p.memoizedState;return c!==null&&q0(c,y[1])?y[0]:(p.memoizedState=[a,c],a)}function u3(a,c){var p=cs();c=c===void 0?null:c;var y=p.memoizedState;if(c!==null&&q0(c,y[1]))return y[0];if(y=a(),ao){Wt(!0);try{a()}finally{Wt(!1)}}return p.memoizedState=[y,c],y}function Ex(a,c,p){return p===void 0||(ls&1073741824)!==0&&(Vr&261930)===0?a.memoizedState=c:(a.memoizedState=p,a=hb(),$n.lanes|=a,ch|=a,p)}function h3(a,c,p,y){return b(p,c)?p:Cr.current!==null?(a=Ex(a,p,y),b(a,c)||(oa=!0),a):(ls&42)===0||(ls&1073741824)!==0&&(Vr&261930)===0?(oa=!0,a.memoizedState=p):(a=hb(),$n.lanes|=a,ch|=a,c)}function f3(a,c,p,y,R){var P=xe.p;xe.p=P!==0&&8>P?P:8;var se=Ae.T,Ee={};Ae.T=Ee,Tx(a,!1,c,p);try{var Ge=R(),vt=Ae.S;if(vt!==null&&vt(Ee,Ge),Ge!==null&&typeof Ge=="object"&&typeof Ge.then=="function"){var Vt=me(Ge,y);Q0(a,c,Vt,El(a))}else Q0(a,c,y,El(a))}catch(Kt){Q0(a,c,{then:function(){},status:"rejected",reason:Kt},El())}finally{xe.p=P,se!==null&&Ee.types!==null&&(se.types=Ee.types),Ae.T=se}}function vO(){}function Ax(a,c,p,y){if(a.tag!==5)throw Error(r(476));var R=d3(a).queue;f3(a,R,c,Re,p===null?vO:function(){return m3(a),p(y)})}function d3(a){var c=a.memoizedState;if(c!==null)return c;c={memoizedState:Re,baseState:Re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vl,lastRenderedState:Re},next:null};var p={};return c.next={memoizedState:p,baseState:p,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vl,lastRenderedState:p},next:null},a.memoizedState=c,a=a.alternate,a!==null&&(a.memoizedState=c),c}function m3(a){var c=d3(a);c.next===null&&(c=a.alternate.memoizedState),Q0(a,c.next.queue,{},El())}function Sx(){return Ea(g1)}function g3(){return cs().memoizedState}function p3(){return cs().memoizedState}function _O(a){for(var c=a.return;c!==null;){switch(c.tag){case 24:case 3:var p=El();a=ir(p);var y=Sr(c,a,p);y!==null&&(ul(y,c,p),fi(y,c,p)),c={cache:nh()},a.payload=c;return}c=c.return}}function yO(a,c,p){var y=El();p={lane:y,revertLane:0,gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},Qm(a)?v3(c,p):(p=sd(a,c,p,y),p!==null&&(ul(p,a,y),_3(p,c,y)))}function x3(a,c,p){var y=El();Q0(a,c,p,y)}function Q0(a,c,p,y){var R={lane:y,revertLane:0,gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null};if(Qm(a))v3(c,R);else{var P=a.alternate;if(a.lanes===0&&(P===null||P.lanes===0)&&(P=c.lastRenderedReducer,P!==null))try{var se=c.lastRenderedState,Ee=P(se,p);if(R.hasEagerState=!0,R.eagerState=Ee,b(Ee,se))return sf(a,c,R,0),Ui===null&&rf(),!1}catch{}finally{}if(p=sd(a,c,R,y),p!==null)return ul(p,a,y),_3(p,c,y),!0}return!1}function Tx(a,c,p,y){if(y={lane:2,revertLane:iv(),gesture:null,action:y,hasEagerState:!1,eagerState:null,next:null},Qm(a)){if(c)throw Error(r(479))}else c=sd(a,p,y,2),c!==null&&ul(c,a,2)}function Qm(a){var c=a.alternate;return a===$n||c!==null&&c===$n}function v3(a,c){sl=bo=!0;var p=a.pending;p===null?c.next=c:(c.next=p.next,p.next=c),a.pending=c}function _3(a,c,p){if((p&4194048)!==0){var y=c.lanes;y&=a.pendingLanes,p|=y,c.lanes=p,$r(a,p)}}var J0={readContext:Ea,use:rh,useCallback:Li,useContext:Li,useEffect:Li,useImperativeHandle:Li,useLayoutEffect:Li,useInsertionEffect:Li,useMemo:Li,useReducer:Li,useRef:Li,useState:Li,useDebugValue:Li,useDeferredValue:Li,useTransition:Li,useSyncExternalStore:Li,useId:Li,useHostTransitionStatus:Li,useFormState:Li,useActionState:Li,useOptimistic:Li,useMemoCache:Li,useCacheRefresh:Li};J0.useEffectEvent=Li;var y3={readContext:Ea,use:rh,useCallback:function(a,c){return aa().memoizedState=[a,c===void 0?null:c],a},useContext:Ea,useEffect:r3,useImperativeHandle:function(a,c,p){p=p!=null?p.concat([a]):null,sh(4194308,4,o3.bind(null,c,a),p)},useLayoutEffect:function(a,c){return sh(4194308,4,a,c)},useInsertionEffect:function(a,c){sh(4,2,a,c)},useMemo:function(a,c){var p=aa();c=c===void 0?null:c;var y=a();if(ao){Wt(!0);try{a()}finally{Wt(!1)}}return p.memoizedState=[y,c],y},useReducer:function(a,c,p){var y=aa();if(p!==void 0){var R=p(c);if(ao){Wt(!0);try{p(c)}finally{Wt(!1)}}}else R=c;return y.memoizedState=y.baseState=R,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:R},y.queue=a,a=a.dispatch=yO.bind(null,$n,a),[y.memoizedState,a]},useRef:function(a){var c=aa();return a={current:a},c.memoizedState=a},useState:function(a){a=jc(a);var c=a.queue,p=x3.bind(null,$n,c);return c.dispatch=p,[a.memoizedState,p]},useDebugValue:bx,useDeferredValue:function(a,c){var p=aa();return Ex(p,a,c)},useTransition:function(){var a=jc(!1);return a=f3.bind(null,$n,a.queue,!0,!1),aa().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,c,p){var y=$n,R=aa();if(Mr){if(p===void 0)throw Error(r(407));p=p()}else{if(p=c(),Ui===null)throw Error(r(349));(Vr&127)!==0||ac(y,c,p)}R.memoizedState=p;var P={value:p,getSnapshot:c};return R.queue=P,r3(K0.bind(null,y,P,a),[a]),y.flags|=2048,xu(9,{destroy:void 0},Y0.bind(null,y,P,p,c),null),p},useId:function(){var a=aa(),c=Ui.identifierPrefix;if(Mr){var p=rl,y=nl;p=(y&~(1<<32-It(y)-1)).toString(32)+p,c="_"+c+"R_"+p,p=ks++,0<p&&(c+="H"+p.toString(32)),c+="_"}else p=pd++,c="_"+c+"r_"+p.toString(32)+"_";return a.memoizedState=c},useHostTransitionStatus:Sx,useFormState:zl,useActionState:zl,useOptimistic:function(a){var c=aa();c.memoizedState=c.baseState=a;var p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=p,c=Tx.bind(null,$n,!0,p),p.dispatch=c,[a,c]},useMemoCache:gu,useCacheRefresh:function(){return aa().memoizedState=_O.bind(null,$n)},useEffectEvent:function(a){var c=aa(),p={impl:a};return c.memoizedState=p,function(){if((mi&2)!==0)throw Error(r(440));return p.impl.apply(void 0,arguments)}}},Nx={readContext:Ea,use:rh,useCallback:c3,useContext:Ea,useEffect:wx,useImperativeHandle:l3,useInsertionEffect:s3,useLayoutEffect:a3,useMemo:u3,useReducer:_d,useRef:Zm,useState:function(){return _d(Vl)},useDebugValue:bx,useDeferredValue:function(a,c){var p=cs();return h3(p,er.memoizedState,a,c)},useTransition:function(){var a=_d(Vl)[0],c=cs().memoizedState;return[typeof a=="boolean"?a:Pc(a),c]},useSyncExternalStore:wd,useId:g3,useHostTransitionStatus:Sx,useFormState:oc,useActionState:oc,useOptimistic:function(a,c){var p=cs();return Xm(p,er,a,c)},useMemoCache:gu,useCacheRefresh:p3};Nx.useEffectEvent=i3;var w3={readContext:Ea,use:rh,useCallback:c3,useContext:Ea,useEffect:wx,useImperativeHandle:l3,useInsertionEffect:s3,useLayoutEffect:a3,useMemo:u3,useReducer:yd,useRef:Zm,useState:function(){return yd(Vl)},useDebugValue:bx,useDeferredValue:function(a,c){var p=cs();return er===null?Ex(p,a,c):h3(p,er.memoizedState,a,c)},useTransition:function(){var a=yd(Vl)[0],c=cs().memoizedState;return[typeof a=="boolean"?a:Pc(a),c]},useSyncExternalStore:wd,useId:g3,useHostTransitionStatus:Sx,useFormState:Ad,useActionState:Ad,useOptimistic:function(a,c){var p=cs();return er!==null?Xm(p,er,a,c):(p.baseState=a,[a,p.queue.dispatch])},useMemoCache:gu,useCacheRefresh:p3};w3.useEffectEvent=i3;function Cx(a,c,p,y){c=a.memoizedState,p=p(y,c),p=p==null?c:w({},c,p),a.memoizedState=p,a.lanes===0&&(a.updateQueue.baseState=p)}var Ix={enqueueSetState:function(a,c,p){a=a._reactInternals;var y=El(),R=ir(y);R.payload=c,p!=null&&(R.callback=p),c=Sr(a,R,y),c!==null&&(ul(c,a,y),fi(c,a,y))},enqueueReplaceState:function(a,c,p){a=a._reactInternals;var y=El(),R=ir(y);R.tag=1,R.payload=c,p!=null&&(R.callback=p),c=Sr(a,R,y),c!==null&&(ul(c,a,y),fi(c,a,y))},enqueueForceUpdate:function(a,c){a=a._reactInternals;var p=El(),y=ir(p);y.tag=2,c!=null&&(y.callback=c),c=Sr(a,y,p),c!==null&&(ul(c,a,p),fi(c,a,p))}};function b3(a,c,p,y,R,P,se){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(y,P,se):c.prototype&&c.prototype.isPureReactComponent?!N(p,y)||!N(R,P):!0}function E3(a,c,p,y){a=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(p,y),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(p,y),c.state!==a&&Ix.enqueueReplaceState(c,c.state,null)}function mf(a,c){var p=c;if("ref"in c){p={};for(var y in c)y!=="ref"&&(p[y]=c[y])}if(a=a.defaultProps){p===c&&(p=w({},p));for(var R in a)p[R]===void 0&&(p[R]=a[R])}return p}function A3(a){nf(a)}function S3(a){console.error(a)}function T3(a){nf(a)}function Jm(a,c){try{var p=a.onUncaughtError;p(c.value,{componentStack:c.stack})}catch(y){setTimeout(function(){throw y})}}function N3(a,c,p){try{var y=a.onCaughtError;y(p.value,{componentStack:p.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(R){setTimeout(function(){throw R})}}function Rx(a,c,p){return p=ir(p),p.tag=3,p.payload={element:null},p.callback=function(){Jm(a,c)},p}function C3(a){return a=ir(a),a.tag=3,a}function I3(a,c,p,y){var R=p.type.getDerivedStateFromError;if(typeof R=="function"){var P=y.value;a.payload=function(){return R(P)},a.callback=function(){N3(c,p,y)}}var se=p.stateNode;se!==null&&typeof se.componentDidCatch=="function"&&(a.callback=function(){N3(c,p,y),typeof R!="function"&&(uh===null?uh=new Set([this]):uh.add(this));var Ee=y.stack;this.componentDidCatch(y.value,{componentStack:Ee!==null?Ee:""})})}function wO(a,c,p,y,R){if(p.flags|=32768,y!==null&&typeof y=="object"&&typeof y.then=="function"){if(c=p.alternate,c!==null&&kc(c,p,R,!0),p=Ji.current,p!==null){switch(p.tag){case 31:case 13:return ei===null?hg():p.alternate===null&&Ds===0&&(Ds=3),p.flags&=-257,p.flags|=65536,p.lanes=R,y===Ze?p.flags|=16384:(c=p.updateQueue,c===null?p.updateQueue=new Set([y]):c.add(y),tv(a,y,R)),!1;case 22:return p.flags|=65536,y===Ze?p.flags|=16384:(c=p.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([y])},p.updateQueue=c):(p=c.retryQueue,p===null?c.retryQueue=new Set([y]):p.add(y)),tv(a,y,R)),!1}throw Error(r(435,p.tag))}return tv(a,y,R),hg(),!1}if(Mr)return c=Ji.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=R,y!==yl&&(a=Error(r(422),{cause:y}),eh(Jo(a,p)))):(y!==yl&&(c=Error(r(423),{cause:y}),eh(Jo(c,p))),a=a.current.alternate,a.flags|=65536,R&=-R,a.lanes|=R,y=Jo(y,p),R=Rx(a.stateNode,y,R),Ws(a,R),Ds!==4&&(Ds=2)),!1;var P=Error(r(520),{cause:y});if(P=Jo(P,p),o1===null?o1=[P]:o1.push(P),Ds!==4&&(Ds=2),c===null)return!0;y=Jo(y,p),p=c;do{switch(p.tag){case 3:return p.flags|=65536,a=R&-R,p.lanes|=a,a=Rx(p.stateNode,y,a),Ws(p,a),!1;case 1:if(c=p.type,P=p.stateNode,(p.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||P!==null&&typeof P.componentDidCatch=="function"&&(uh===null||!uh.has(P))))return p.flags|=65536,R&=-R,p.lanes|=R,R=C3(R),I3(R,a,p,y),Ws(p,R),!1}p=p.return}while(p!==null);return!1}var Ox=Error(r(461)),oa=!1;function oo(a,c,p,y){c.child=a===null?yr(c,null,p,y):Bi(c,a.child,p,y)}function R3(a,c,p,y,R){p=p.render;var P=c.ref;if("ref"in y){var se={};for(var Ee in y)Ee!=="ref"&&(se[Ee]=y[Ee])}else se=y;return Dc(c),y=G0(a,c,p,se,P,R),Ee=W0(),a!==null&&!oa?(X0(a,c,R),vu(a,c,R)):(Mr&&Ee&&V0(c),c.flags|=1,oo(a,c,y,R),c.child)}function O3(a,c,p,y,R){if(a===null){var P=p.type;return typeof P=="function"&&!od(P)&&P.defaultProps===void 0&&p.compare===null?(c.tag=15,c.type=P,k3(a,c,P,y,R)):(a=Zu(p.type,null,y,c,c.mode,R),a.ref=c.ref,a.return=c,c.child=a)}if(P=a.child,!Bx(a,R)){var se=P.memoizedProps;if(p=p.compare,p=p!==null?p:N,p(se,y)&&a.ref===c.ref)return vu(a,c,R)}return c.flags|=1,a=Qo(P,y),a.ref=c.ref,a.return=c,c.child=a}function k3(a,c,p,y,R){if(a!==null){var P=a.memoizedProps;if(N(P,y)&&a.ref===c.ref)if(oa=!1,c.pendingProps=y=P,Bx(a,R))(a.flags&131072)!==0&&(oa=!0);else return c.lanes=a.lanes,vu(a,c,R)}return kx(a,c,p,y,R)}function D3(a,c,p,y){var R=y.children,P=a!==null?a.memoizedState:null;if(a===null&&c.stateNode===null&&(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),y.mode==="hidden"){if((c.flags&128)!==0){if(P=P!==null?P.baseLanes|p:p,a!==null){for(y=c.child=a.child,R=0;y!==null;)R=R|y.lanes|y.childLanes,y=y.sibling;y=R&~P}else y=0,c.child=null;return L3(a,c,P,p,y)}if((p&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},a!==null&&ke(c,P!==null?P.cachePool:null),P!==null?Qi(c,P):ii(),Rs(c);else return y=c.lanes=536870912,L3(a,c,P!==null?P.baseLanes|p:p,p,y)}else P!==null?(ke(c,P.cachePool),Qi(c,P),Os(),c.memoizedState=null):(a!==null&&ke(c,null),ii(),Os());return oo(a,c,R,p),c.child}function e1(a,c){return a!==null&&a.tag===22||c.stateNode!==null||(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.sibling}function L3(a,c,p,y,R){var P=Ne();return P=P===null?null:{parent:xs._currentValue,pool:P},c.memoizedState={baseLanes:p,cachePool:P},a!==null&&ke(c,null),ii(),Rs(c),a!==null&&kc(a,c,y,!0),c.childLanes=R,null}function eg(a,c){return c=ng({mode:c.mode,children:c.children},a.mode),c.ref=a.ref,a.child=c,c.return=a,c}function M3(a,c,p){return Bi(c,a.child,null,p),a=eg(c,c.pendingProps),a.flags|=2,vi(c),c.memoizedState=null,a}function bO(a,c,p){var y=c.pendingProps,R=(c.flags&128)!==0;if(c.flags&=-129,a===null){if(Mr){if(y.mode==="hidden")return a=eg(c,y),c.lanes=536870912,e1(null,a);if(di(c),(a=Fi)?(a=Xb(a,os),a=a!==null&&a.data==="&"?a:null,a!==null&&(c.memoizedState={dehydrated:a,treeContext:Cc!==null?{id:nl,overflow:rl}:null,retryLane:536870912,hydrationErrors:null},p=ld(a),p.return=c,c.child=p,wa=c,Fi=null)):a=null,a===null)throw Ic(c);return c.lanes=536870912,null}return eg(c,y)}var P=a.memoizedState;if(P!==null){var se=P.dehydrated;if(di(c),R)if(c.flags&256)c.flags&=-257,c=M3(a,c,p);else if(c.memoizedState!==null)c.child=a.child,c.flags|=128,c=null;else throw Error(r(558));else if(oa||kc(a,c,p,!1),R=(p&a.childLanes)!==0,oa||R){if(y=Ui,y!==null&&(se=zi(y,p),se!==0&&se!==P.retryLane))throw P.retryLane=se,rc(a,se),ul(y,a,se),Ox;hg(),c=M3(a,c,p)}else a=P.treeContext,Fi=Hl(se.nextSibling),wa=c,Mr=!0,so=null,os=!1,a!==null&&qm(c,a),c=eg(c,y),c.flags|=4096;return c}return a=Qo(a.child,{mode:y.mode,children:y.children}),a.ref=c.ref,c.child=a,a.return=c,a}function tg(a,c){var p=c.ref;if(p===null)a!==null&&a.ref!==null&&(c.flags|=4194816);else{if(typeof p!="function"&&typeof p!="object")throw Error(r(284));(a===null||a.ref!==p)&&(c.flags|=4194816)}}function kx(a,c,p,y,R){return Dc(c),p=G0(a,c,p,y,void 0,R),y=W0(),a!==null&&!oa?(X0(a,c,R),vu(a,c,R)):(Mr&&y&&V0(c),c.flags|=1,oo(a,c,p,R),c.child)}function P3(a,c,p,y,R,P){return Dc(c),c.updateQueue=null,p=sc(c,y,p,R),xd(a),y=W0(),a!==null&&!oa?(X0(a,c,P),vu(a,c,P)):(Mr&&y&&V0(c),c.flags|=1,oo(a,c,p,P),c.child)}function j3(a,c,p,y,R){if(Dc(c),c.stateNode===null){var P=ya,se=p.contextType;typeof se=="object"&&se!==null&&(P=Ea(se)),P=new p(y,P),c.memoizedState=P.state!==null&&P.state!==void 0?P.state:null,P.updater=Ix,c.stateNode=P,P._reactInternals=c,P=c.stateNode,P.props=y,P.state=c.memoizedState,P.refs={},yn(c),se=p.contextType,P.context=typeof se=="object"&&se!==null?Ea(se):ya,P.state=c.memoizedState,se=p.getDerivedStateFromProps,typeof se=="function"&&(Cx(c,p,se,y),P.state=c.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof P.getSnapshotBeforeUpdate=="function"||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(se=P.state,typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount(),se!==P.state&&Ix.enqueueReplaceState(P,P.state,null),Cs(c,y,P,R),Di(),P.state=c.memoizedState),typeof P.componentDidMount=="function"&&(c.flags|=4194308),y=!0}else if(a===null){P=c.stateNode;var Ee=c.memoizedProps,Ge=mf(p,Ee);P.props=Ge;var vt=P.context,Vt=p.contextType;se=ya,typeof Vt=="object"&&Vt!==null&&(se=Ea(Vt));var Kt=p.getDerivedStateFromProps;Vt=typeof Kt=="function"||typeof P.getSnapshotBeforeUpdate=="function",Ee=c.pendingProps!==Ee,Vt||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(Ee||vt!==se)&&E3(c,P,y,se),In=!1;var Et=c.memoizedState;P.state=Et,Cs(c,y,P,R),Di(),vt=c.memoizedState,Ee||Et!==vt||In?(typeof Kt=="function"&&(Cx(c,p,Kt,y),vt=c.memoizedState),(Ge=In||b3(c,p,Ge,y,Et,vt,se))?(Vt||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount()),typeof P.componentDidMount=="function"&&(c.flags|=4194308)):(typeof P.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=y,c.memoizedState=vt),P.props=y,P.state=vt,P.context=se,y=Ge):(typeof P.componentDidMount=="function"&&(c.flags|=4194308),y=!1)}else{P=c.stateNode,Zi(a,c),se=c.memoizedProps,Vt=mf(p,se),P.props=Vt,Kt=c.pendingProps,Et=P.context,vt=p.contextType,Ge=ya,typeof vt=="object"&&vt!==null&&(Ge=Ea(vt)),Ee=p.getDerivedStateFromProps,(vt=typeof Ee=="function"||typeof P.getSnapshotBeforeUpdate=="function")||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(se!==Kt||Et!==Ge)&&E3(c,P,y,Ge),In=!1,Et=c.memoizedState,P.state=Et,Cs(c,y,P,R),Di();var Ct=c.memoizedState;se!==Kt||Et!==Ct||In||a!==null&&a.dependencies!==null&&dd(a.dependencies)?(typeof Ee=="function"&&(Cx(c,p,Ee,y),Ct=c.memoizedState),(Vt=In||b3(c,p,Vt,y,Et,Ct,Ge)||a!==null&&a.dependencies!==null&&dd(a.dependencies))?(vt||typeof P.UNSAFE_componentWillUpdate!="function"&&typeof P.componentWillUpdate!="function"||(typeof P.componentWillUpdate=="function"&&P.componentWillUpdate(y,Ct,Ge),typeof P.UNSAFE_componentWillUpdate=="function"&&P.UNSAFE_componentWillUpdate(y,Ct,Ge)),typeof P.componentDidUpdate=="function"&&(c.flags|=4),typeof P.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof P.componentDidUpdate!="function"||se===a.memoizedProps&&Et===a.memoizedState||(c.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||se===a.memoizedProps&&Et===a.memoizedState||(c.flags|=1024),c.memoizedProps=y,c.memoizedState=Ct),P.props=y,P.state=Ct,P.context=Ge,y=Vt):(typeof P.componentDidUpdate!="function"||se===a.memoizedProps&&Et===a.memoizedState||(c.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||se===a.memoizedProps&&Et===a.memoizedState||(c.flags|=1024),y=!1)}return P=y,tg(a,c),y=(c.flags&128)!==0,P||y?(P=c.stateNode,p=y&&typeof p.getDerivedStateFromError!="function"?null:P.render(),c.flags|=1,a!==null&&y?(c.child=Bi(c,a.child,null,R),c.child=Bi(c,null,p,R)):oo(a,c,p,R),c.memoizedState=P.state,a=c.child):a=vu(a,c,R),a}function F3(a,c,p,y){return du(),c.flags|=256,oo(a,c,p,y),c.child}var Dx={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Lx(a){return{baseLanes:a,cachePool:Ue()}}function Mx(a,c,p){return a=a!==null?a.childLanes&~p:0,c&&(a|=bl),a}function B3(a,c,p){var y=c.pendingProps,R=!1,P=(c.flags&128)!==0,se;if((se=P)||(se=a!==null&&a.memoizedState===null?!1:(Yr.current&2)!==0),se&&(R=!0,c.flags&=-129),se=(c.flags&32)!==0,c.flags&=-33,a===null){if(Mr){if(R?vs(c):Os(),(a=Fi)?(a=Xb(a,os),a=a!==null&&a.data!=="&"?a:null,a!==null&&(c.memoizedState={dehydrated:a,treeContext:Cc!==null?{id:nl,overflow:rl}:null,retryLane:536870912,hydrationErrors:null},p=ld(a),p.return=c,c.child=p,wa=c,Fi=null)):a=null,a===null)throw Ic(c);return xv(a)?c.lanes=32:c.lanes=536870912,null}var Ee=y.children;return y=y.fallback,R?(Os(),R=c.mode,Ee=ng({mode:"hidden",children:Ee},R),y=Nc(y,R,p,null),Ee.return=c,y.return=c,Ee.sibling=y,c.child=Ee,y=c.child,y.memoizedState=Lx(p),y.childLanes=Mx(a,se,p),c.memoizedState=Dx,e1(null,y)):(vs(c),Px(c,Ee))}var Ge=a.memoizedState;if(Ge!==null&&(Ee=Ge.dehydrated,Ee!==null)){if(P)c.flags&256?(vs(c),c.flags&=-257,c=jx(a,c,p)):c.memoizedState!==null?(Os(),c.child=a.child,c.flags|=128,c=null):(Os(),Ee=y.fallback,R=c.mode,y=ng({mode:"visible",children:y.children},R),Ee=Nc(Ee,R,p,null),Ee.flags|=2,y.return=c,Ee.return=c,y.sibling=Ee,c.child=y,Bi(c,a.child,null,p),y=c.child,y.memoizedState=Lx(p),y.childLanes=Mx(a,se,p),c.memoizedState=Dx,c=e1(null,y));else if(vs(c),xv(Ee)){if(se=Ee.nextSibling&&Ee.nextSibling.dataset,se)var vt=se.dgst;se=vt,y=Error(r(419)),y.stack="",y.digest=se,eh({value:y,source:null,stack:null}),c=jx(a,c,p)}else if(oa||kc(a,c,p,!1),se=(p&a.childLanes)!==0,oa||se){if(se=Ui,se!==null&&(y=zi(se,p),y!==0&&y!==Ge.retryLane))throw Ge.retryLane=y,rc(a,y),ul(se,a,y),Ox;pv(Ee)||hg(),c=jx(a,c,p)}else pv(Ee)?(c.flags|=192,c.child=a.child,c=null):(a=Ge.treeContext,Fi=Hl(Ee.nextSibling),wa=c,Mr=!0,so=null,os=!1,a!==null&&qm(c,a),c=Px(c,y.children),c.flags|=4096);return c}return R?(Os(),Ee=y.fallback,R=c.mode,Ge=a.child,vt=Ge.sibling,y=Qo(Ge,{mode:"hidden",children:y.children}),y.subtreeFlags=Ge.subtreeFlags&65011712,vt!==null?Ee=Qo(vt,Ee):(Ee=Nc(Ee,R,p,null),Ee.flags|=2),Ee.return=c,y.return=c,y.sibling=Ee,c.child=y,e1(null,y),y=c.child,Ee=a.child.memoizedState,Ee===null?Ee=Lx(p):(R=Ee.cachePool,R!==null?(Ge=xs._currentValue,R=R.parent!==Ge?{parent:Ge,pool:Ge}:R):R=Ue(),Ee={baseLanes:Ee.baseLanes|p,cachePool:R}),y.memoizedState=Ee,y.childLanes=Mx(a,se,p),c.memoizedState=Dx,e1(a.child,y)):(vs(c),p=a.child,a=p.sibling,p=Qo(p,{mode:"visible",children:y.children}),p.return=c,p.sibling=null,a!==null&&(se=c.deletions,se===null?(c.deletions=[a],c.flags|=16):se.push(a)),c.child=p,c.memoizedState=null,p)}function Px(a,c){return c=ng({mode:"visible",children:c},a.mode),c.return=a,a.child=c}function ng(a,c){return a=Ua(22,a,null,c),a.lanes=0,a}function jx(a,c,p){return Bi(c,a.child,null,p),a=Px(c,c.pendingProps.children),a.flags|=2,c.memoizedState=null,a}function U3(a,c,p){a.lanes|=c;var y=a.alternate;y!==null&&(y.lanes|=c),th(a.return,c,p)}function Fx(a,c,p,y,R,P){var se=a.memoizedState;se===null?a.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:y,tail:p,tailMode:R,treeForkCount:P}:(se.isBackwards=c,se.rendering=null,se.renderingStartTime=0,se.last=y,se.tail=p,se.tailMode=R,se.treeForkCount=P)}function V3(a,c,p){var y=c.pendingProps,R=y.revealOrder,P=y.tail;y=y.children;var se=Yr.current,Ee=(se&2)!==0;if(Ee?(se=se&1|2,c.flags|=128):se&=1,J(Yr,se),oo(a,c,y,p),y=Mr?cf:0,!Ee&&a!==null&&(a.flags&128)!==0)e:for(a=c.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&U3(a,p,c);else if(a.tag===19)U3(a,p,c);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===c)break e;for(;a.sibling===null;){if(a.return===null||a.return===c)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(R){case"forwards":for(p=c.child,R=null;p!==null;)a=p.alternate,a!==null&&za(a)===null&&(R=p),p=p.sibling;p=R,p===null?(R=c.child,c.child=null):(R=p.sibling,p.sibling=null),Fx(c,!1,R,p,P,y);break;case"backwards":case"unstable_legacy-backwards":for(p=null,R=c.child,c.child=null;R!==null;){if(a=R.alternate,a!==null&&za(a)===null){c.child=R;break}a=R.sibling,R.sibling=p,p=R,R=a}Fx(c,!0,p,null,P,y);break;case"together":Fx(c,!1,null,null,void 0,y);break;default:c.memoizedState=null}return c.child}function vu(a,c,p){if(a!==null&&(c.dependencies=a.dependencies),ch|=c.lanes,(p&c.childLanes)===0)if(a!==null){if(kc(a,c,p,!1),(p&c.childLanes)===0)return null}else return null;if(a!==null&&c.child!==a.child)throw Error(r(153));if(c.child!==null){for(a=c.child,p=Qo(a,a.pendingProps),c.child=p,p.return=c;a.sibling!==null;)a=a.sibling,p=p.sibling=Qo(a,a.pendingProps),p.return=c;p.sibling=null}return c.child}function Bx(a,c){return(a.lanes&c)!==0?!0:(a=a.dependencies,!!(a!==null&&dd(a)))}function EO(a,c,p){switch(c.tag){case 3:Ve(c,c.stateNode.containerInfo),Oc(c,xs,a.memoizedState.cache),du();break;case 27:case 5:Ie(c);break;case 4:Ve(c,c.stateNode.containerInfo);break;case 10:Oc(c,c.type,c.memoizedProps.value);break;case 31:if(c.memoizedState!==null)return c.flags|=128,di(c),null;break;case 13:var y=c.memoizedState;if(y!==null)return y.dehydrated!==null?(vs(c),c.flags|=128,null):(p&c.child.childLanes)!==0?B3(a,c,p):(vs(c),a=vu(a,c,p),a!==null?a.sibling:null);vs(c);break;case 19:var R=(a.flags&128)!==0;if(y=(p&c.childLanes)!==0,y||(kc(a,c,p,!1),y=(p&c.childLanes)!==0),R){if(y)return V3(a,c,p);c.flags|=128}if(R=c.memoizedState,R!==null&&(R.rendering=null,R.tail=null,R.lastEffect=null),J(Yr,Yr.current),y)break;return null;case 22:return c.lanes=0,D3(a,c,p,c.pendingProps);case 24:Oc(c,xs,a.memoizedState.cache)}return vu(a,c,p)}function z3(a,c,p){if(a!==null)if(a.memoizedProps!==c.pendingProps)oa=!0;else{if(!Bx(a,p)&&(c.flags&128)===0)return oa=!1,EO(a,c,p);oa=(a.flags&131072)!==0}else oa=!1,Mr&&(c.flags&1048576)!==0&&Hm(c,cf,c.index);switch(c.lanes=0,c.tag){case 16:e:{var y=c.pendingProps;if(a=ft(c.elementType),c.type=a,typeof a=="function")od(a)?(y=mf(a,y),c.tag=1,c=j3(null,c,a,y,p)):(c.tag=0,c=kx(null,c,a,y,p));else{if(a!=null){var R=a.$$typeof;if(R===G){c.tag=11,c=R3(null,c,a,y,p);break e}else if(R===F){c.tag=14,c=O3(null,c,a,y,p);break e}}throw c=ne(a)||a,Error(r(306,c,""))}}return c;case 0:return kx(a,c,c.type,c.pendingProps,p);case 1:return y=c.type,R=mf(y,c.pendingProps),j3(a,c,y,R,p);case 3:e:{if(Ve(c,c.stateNode.containerInfo),a===null)throw Error(r(387));y=c.pendingProps;var P=c.memoizedState;R=P.element,Zi(a,c),Cs(c,y,null,p);var se=c.memoizedState;if(y=se.cache,Oc(c,xs,y),y!==P.cache&&mu(c,[xs],p,!0),Di(),y=se.element,P.isDehydrated)if(P={element:y,isDehydrated:!1,cache:se.cache},c.updateQueue.baseState=P,c.memoizedState=P,c.flags&256){c=F3(a,c,y,p);break e}else if(y!==R){R=Jo(Error(r(424)),c),eh(R),c=F3(a,c,y,p);break e}else{switch(a=c.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(Fi=Hl(a.firstChild),wa=c,Mr=!0,so=null,os=!0,p=yr(c,null,y,p),c.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling}else{if(du(),y===R){c=vu(a,c,p);break e}oo(a,c,y,p)}c=c.child}return c;case 26:return tg(a,c),a===null?(p=Jb(c.type,null,c.pendingProps,null))?c.memoizedState=p:Mr||(p=c.type,a=c.pendingProps,y=vg(de.current).createElement(p),y[Ce]=c,y[Oe]=a,lo(y,p,a),Tn(y),c.stateNode=y):c.memoizedState=Jb(c.type,a.memoizedProps,c.pendingProps,a.memoizedState),null;case 27:return Ie(c),a===null&&Mr&&(y=c.stateNode=$b(c.type,c.pendingProps,de.current),wa=c,os=!0,R=Fi,mh(c.type)?(vv=R,Fi=Hl(y.firstChild)):Fi=R),oo(a,c,c.pendingProps.children,p),tg(a,c),a===null&&(c.flags|=4194304),c.child;case 5:return a===null&&Mr&&((R=y=Fi)&&(y=JO(y,c.type,c.pendingProps,os),y!==null?(c.stateNode=y,wa=c,Fi=Hl(y.firstChild),os=!1,R=!0):R=!1),R||Ic(c)),Ie(c),R=c.type,P=c.pendingProps,se=a!==null?a.memoizedProps:null,y=P.children,dv(R,P)?y=null:se!==null&&dv(R,se)&&(c.flags|=32),c.memoizedState!==null&&(R=G0(a,c,yx,null,null,p),g1._currentValue=R),tg(a,c),oo(a,c,y,p),c.child;case 6:return a===null&&Mr&&((a=p=Fi)&&(p=ek(p,c.pendingProps,os),p!==null?(c.stateNode=p,wa=c,Fi=null,a=!0):a=!1),a||Ic(c)),null;case 13:return B3(a,c,p);case 4:return Ve(c,c.stateNode.containerInfo),y=c.pendingProps,a===null?c.child=Bi(c,null,y,p):oo(a,c,y,p),c.child;case 11:return R3(a,c,c.type,c.pendingProps,p);case 7:return oo(a,c,c.pendingProps,p),c.child;case 8:return oo(a,c,c.pendingProps.children,p),c.child;case 12:return oo(a,c,c.pendingProps.children,p),c.child;case 10:return y=c.pendingProps,Oc(c,c.type,y.value),oo(a,c,y.children,p),c.child;case 9:return R=c.type._context,y=c.pendingProps.children,Dc(c),R=Ea(R),y=y(R),c.flags|=1,oo(a,c,y,p),c.child;case 14:return O3(a,c,c.type,c.pendingProps,p);case 15:return k3(a,c,c.type,c.pendingProps,p);case 19:return V3(a,c,p);case 31:return bO(a,c,p);case 22:return D3(a,c,p,c.pendingProps);case 24:return Dc(c),y=Ea(xs),a===null?(R=Ne(),R===null&&(R=Ui,P=nh(),R.pooledCache=P,P.refCount++,P!==null&&(R.pooledCacheLanes|=p),R=P),c.memoizedState={parent:y,cache:R},yn(c),Oc(c,xs,R)):((a.lanes&p)!==0&&(Zi(a,c),Cs(c,null,null,p),Di()),R=a.memoizedState,P=c.memoizedState,R.parent!==y?(R={parent:y,cache:y},c.memoizedState=R,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=R),Oc(c,xs,y)):(y=P.cache,Oc(c,xs,y),y!==R.cache&&mu(c,[xs],p,!0))),oo(a,c,c.pendingProps.children,p),c.child;case 29:throw c.pendingProps}throw Error(r(156,c.tag))}function _u(a){a.flags|=4}function Ux(a,c,p,y,R){if((c=(a.mode&32)!==0)&&(c=!1),c){if(a.flags|=16777216,(R&335544128)===R)if(a.stateNode.complete)a.flags|=8192;else if(gb())a.flags|=8192;else throw kt=Ze,gt}else a.flags&=-16777217}function H3(a,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!i4(c))if(gb())a.flags|=8192;else throw kt=Ze,gt}function rg(a,c){c!==null&&(a.flags|=4),a.flags&16384&&(c=a.tag!==22?Lr():536870912,a.lanes|=c,Cd|=c)}function t1(a,c){if(!Mr)switch(a.tailMode){case"hidden":c=a.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?a.tail=null:p.sibling=null;break;case"collapsed":p=a.tail;for(var y=null;p!==null;)p.alternate!==null&&(y=p),p=p.sibling;y===null?c||a.tail===null?a.tail=null:a.tail.sibling=null:y.sibling=null}}function es(a){var c=a.alternate!==null&&a.alternate.child===a.child,p=0,y=0;if(c)for(var R=a.child;R!==null;)p|=R.lanes|R.childLanes,y|=R.subtreeFlags&65011712,y|=R.flags&65011712,R.return=a,R=R.sibling;else for(R=a.child;R!==null;)p|=R.lanes|R.childLanes,y|=R.subtreeFlags,y|=R.flags,R.return=a,R=R.sibling;return a.subtreeFlags|=y,a.childLanes=p,c}function AO(a,c,p){var y=c.pendingProps;switch(hd(c),c.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return es(c),null;case 1:return es(c),null;case 3:return p=c.stateNode,y=null,a!==null&&(y=a.memoizedState.cache),c.memoizedState.cache!==y&&(c.flags|=2048),il(xs),Fe(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(a===null||a.child===null)&&(ba(c)?_u(c):a===null||a.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,H0())),es(c),null;case 26:var R=c.type,P=c.memoizedState;return a===null?(_u(c),P!==null?(es(c),H3(c,P)):(es(c),Ux(c,R,null,y,p))):P?P!==a.memoizedState?(_u(c),es(c),H3(c,P)):(es(c),c.flags&=-16777217):(a=a.memoizedProps,a!==y&&_u(c),es(c),Ux(c,R,a,y,p)),null;case 27:if(Qe(c),p=de.current,R=c.type,a!==null&&c.stateNode!=null)a.memoizedProps!==y&&_u(c);else{if(!y){if(c.stateNode===null)throw Error(r(166));return es(c),null}a=Q.current,ba(c)?z0(c):(a=$b(R,y,p),c.stateNode=a,_u(c))}return es(c),null;case 5:if(Qe(c),R=c.type,a!==null&&c.stateNode!=null)a.memoizedProps!==y&&_u(c);else{if(!y){if(c.stateNode===null)throw Error(r(166));return es(c),null}if(P=Q.current,ba(c))z0(c);else{var se=vg(de.current);switch(P){case 1:P=se.createElementNS("http://www.w3.org/2000/svg",R);break;case 2:P=se.createElementNS("http://www.w3.org/1998/Math/MathML",R);break;default:switch(R){case"svg":P=se.createElementNS("http://www.w3.org/2000/svg",R);break;case"math":P=se.createElementNS("http://www.w3.org/1998/Math/MathML",R);break;case"script":P=se.createElement("div"),P.innerHTML="<script><\/script>",P=P.removeChild(P.firstChild);break;case"select":P=typeof y.is=="string"?se.createElement("select",{is:y.is}):se.createElement("select"),y.multiple?P.multiple=!0:y.size&&(P.size=y.size);break;default:P=typeof y.is=="string"?se.createElement(R,{is:y.is}):se.createElement(R)}}P[Ce]=c,P[Oe]=y;e:for(se=c.child;se!==null;){if(se.tag===5||se.tag===6)P.appendChild(se.stateNode);else if(se.tag!==4&&se.tag!==27&&se.child!==null){se.child.return=se,se=se.child;continue}if(se===c)break e;for(;se.sibling===null;){if(se.return===null||se.return===c)break e;se=se.return}se.sibling.return=se.return,se=se.sibling}c.stateNode=P;e:switch(lo(P,R,y),R){case"button":case"input":case"select":case"textarea":y=!!y.autoFocus;break e;case"img":y=!0;break e;default:y=!1}y&&_u(c)}}return es(c),Ux(c,c.type,a===null?null:a.memoizedProps,c.pendingProps,p),null;case 6:if(a&&c.stateNode!=null)a.memoizedProps!==y&&_u(c);else{if(typeof y!="string"&&c.stateNode===null)throw Error(r(166));if(a=de.current,ba(c)){if(a=c.stateNode,p=c.memoizedProps,y=null,R=wa,R!==null)switch(R.tag){case 27:case 5:y=R.memoizedProps}a[Ce]=c,a=!!(a.nodeValue===p||y!==null&&y.suppressHydrationWarning===!0||Bb(a.nodeValue,p)),a||Ic(c,!0)}else a=vg(a).createTextNode(y),a[Ce]=c,c.stateNode=a}return es(c),null;case 31:if(p=c.memoizedState,a===null||a.memoizedState!==null){if(y=ba(c),p!==null){if(a===null){if(!y)throw Error(r(318));if(a=c.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(557));a[Ce]=c}else du(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;es(c),a=!1}else p=H0(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=p),a=!0;if(!a)return c.flags&256?(vi(c),c):(vi(c),null);if((c.flags&128)!==0)throw Error(r(558))}return es(c),null;case 13:if(y=c.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(R=ba(c),y!==null&&y.dehydrated!==null){if(a===null){if(!R)throw Error(r(318));if(R=c.memoizedState,R=R!==null?R.dehydrated:null,!R)throw Error(r(317));R[Ce]=c}else du(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;es(c),R=!1}else R=H0(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=R),R=!0;if(!R)return c.flags&256?(vi(c),c):(vi(c),null)}return vi(c),(c.flags&128)!==0?(c.lanes=p,c):(p=y!==null,a=a!==null&&a.memoizedState!==null,p&&(y=c.child,R=null,y.alternate!==null&&y.alternate.memoizedState!==null&&y.alternate.memoizedState.cachePool!==null&&(R=y.alternate.memoizedState.cachePool.pool),P=null,y.memoizedState!==null&&y.memoizedState.cachePool!==null&&(P=y.memoizedState.cachePool.pool),P!==R&&(y.flags|=2048)),p!==a&&p&&(c.child.flags|=8192),rg(c,c.updateQueue),es(c),null);case 4:return Fe(),a===null&&lv(c.stateNode.containerInfo),es(c),null;case 10:return il(c.type),es(c),null;case 19:if(q(Yr),y=c.memoizedState,y===null)return es(c),null;if(R=(c.flags&128)!==0,P=y.rendering,P===null)if(R)t1(y,!1);else{if(Ds!==0||a!==null&&(a.flags&128)!==0)for(a=c.child;a!==null;){if(P=za(a),P!==null){for(c.flags|=128,t1(y,!1),a=P.updateQueue,c.updateQueue=a,rg(c,a),c.subtreeFlags=0,a=p,p=c.child;p!==null;)of(p,a),p=p.sibling;return J(Yr,Yr.current&1|2),Mr&&Vo(c,y.treeForkCount),c.child}a=a.sibling}y.tail!==null&&st()>lg&&(c.flags|=128,R=!0,t1(y,!1),c.lanes=4194304)}else{if(!R)if(a=za(P),a!==null){if(c.flags|=128,R=!0,a=a.updateQueue,c.updateQueue=a,rg(c,a),t1(y,!0),y.tail===null&&y.tailMode==="hidden"&&!P.alternate&&!Mr)return es(c),null}else 2*st()-y.renderingStartTime>lg&&p!==536870912&&(c.flags|=128,R=!0,t1(y,!1),c.lanes=4194304);y.isBackwards?(P.sibling=c.child,c.child=P):(a=y.last,a!==null?a.sibling=P:c.child=P,y.last=P)}return y.tail!==null?(a=y.tail,y.rendering=a,y.tail=a.sibling,y.renderingStartTime=st(),a.sibling=null,p=Yr.current,J(Yr,R?p&1|2:p&1),Mr&&Vo(c,y.treeForkCount),a):(es(c),null);case 22:case 23:return vi(c),Xs(),y=c.memoizedState!==null,a!==null?a.memoizedState!==null!==y&&(c.flags|=8192):y&&(c.flags|=8192),y?(p&536870912)!==0&&(c.flags&128)===0&&(es(c),c.subtreeFlags&6&&(c.flags|=8192)):es(c),p=c.updateQueue,p!==null&&rg(c,p.retryQueue),p=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(p=a.memoizedState.cachePool.pool),y=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(y=c.memoizedState.cachePool.pool),y!==p&&(c.flags|=2048),a!==null&&q(we),null;case 24:return p=null,a!==null&&(p=a.memoizedState.cache),c.memoizedState.cache!==p&&(c.flags|=2048),il(xs),es(c),null;case 25:return null;case 30:return null}throw Error(r(156,c.tag))}function SO(a,c){switch(hd(c),c.tag){case 1:return a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 3:return il(xs),Fe(),a=c.flags,(a&65536)!==0&&(a&128)===0?(c.flags=a&-65537|128,c):null;case 26:case 27:case 5:return Qe(c),null;case 31:if(c.memoizedState!==null){if(vi(c),c.alternate===null)throw Error(r(340));du()}return a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 13:if(vi(c),a=c.memoizedState,a!==null&&a.dehydrated!==null){if(c.alternate===null)throw Error(r(340));du()}return a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 19:return q(Yr),null;case 4:return Fe(),null;case 10:return il(c.type),null;case 22:case 23:return vi(c),Xs(),a!==null&&q(we),a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 24:return il(xs),null;case 25:return null;default:return null}}function q3(a,c){switch(hd(c),c.tag){case 3:il(xs),Fe();break;case 26:case 27:case 5:Qe(c);break;case 4:Fe();break;case 31:c.memoizedState!==null&&vi(c);break;case 13:vi(c);break;case 19:q(Yr);break;case 10:il(c.type);break;case 22:case 23:vi(c),Xs(),a!==null&&q(we);break;case 24:il(xs)}}function n1(a,c){try{var p=c.updateQueue,y=p!==null?p.lastEffect:null;if(y!==null){var R=y.next;p=R;do{if((p.tag&a)===a){y=void 0;var P=p.create,se=p.inst;y=P(),se.destroy=y}p=p.next}while(p!==R)}}catch(Ee){yi(c,c.return,Ee)}}function oh(a,c,p){try{var y=c.updateQueue,R=y!==null?y.lastEffect:null;if(R!==null){var P=R.next;y=P;do{if((y.tag&a)===a){var se=y.inst,Ee=se.destroy;if(Ee!==void 0){se.destroy=void 0,R=c;var Ge=p,vt=Ee;try{vt()}catch(Vt){yi(R,Ge,Vt)}}}y=y.next}while(y!==P)}}catch(Vt){yi(c,c.return,Vt)}}function G3(a){var c=a.updateQueue;if(c!==null){var p=a.stateNode;try{Is(c,p)}catch(y){yi(a,a.return,y)}}}function W3(a,c,p){p.props=mf(a.type,a.memoizedProps),p.state=a.memoizedState;try{p.componentWillUnmount()}catch(y){yi(a,c,y)}}function r1(a,c){try{var p=a.ref;if(p!==null){switch(a.tag){case 26:case 27:case 5:var y=a.stateNode;break;case 30:y=a.stateNode;break;default:y=a.stateNode}typeof p=="function"?a.refCleanup=p(y):p.current=y}}catch(R){yi(a,c,R)}}function Fc(a,c){var p=a.ref,y=a.refCleanup;if(p!==null)if(typeof y=="function")try{y()}catch(R){yi(a,c,R)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof p=="function")try{p(null)}catch(R){yi(a,c,R)}else p.current=null}function X3(a){var c=a.type,p=a.memoizedProps,y=a.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":p.autoFocus&&y.focus();break e;case"img":p.src?y.src=p.src:p.srcSet&&(y.srcset=p.srcSet)}}catch(R){yi(a,a.return,R)}}function Vx(a,c,p){try{var y=a.stateNode;XO(y,a.type,p,c),y[Oe]=c}catch(R){yi(a,a.return,R)}}function Y3(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&mh(a.type)||a.tag===4}function zx(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||Y3(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&mh(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Hx(a,c,p){var y=a.tag;if(y===5||y===6)a=a.stateNode,c?(p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p).insertBefore(a,c):(c=p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p,c.appendChild(a),p=p._reactRootContainer,p!=null||c.onclick!==null||(c.onclick=Js));else if(y!==4&&(y===27&&mh(a.type)&&(p=a.stateNode,c=null),a=a.child,a!==null))for(Hx(a,c,p),a=a.sibling;a!==null;)Hx(a,c,p),a=a.sibling}function ig(a,c,p){var y=a.tag;if(y===5||y===6)a=a.stateNode,c?p.insertBefore(a,c):p.appendChild(a);else if(y!==4&&(y===27&&mh(a.type)&&(p=a.stateNode),a=a.child,a!==null))for(ig(a,c,p),a=a.sibling;a!==null;)ig(a,c,p),a=a.sibling}function K3(a){var c=a.stateNode,p=a.memoizedProps;try{for(var y=a.type,R=c.attributes;R.length;)c.removeAttributeNode(R[0]);lo(c,y,p),c[Ce]=a,c[Oe]=p}catch(P){yi(a,a.return,P)}}var yu=!1,la=!1,qx=!1,$3=typeof WeakSet=="function"?WeakSet:Set,Ha=null;function TO(a,c){if(a=a.containerInfo,hv=Sg,a=fe(a),_e(a)){if("selectionStart"in a)var p={start:a.selectionStart,end:a.selectionEnd};else e:{p=(p=a.ownerDocument)&&p.defaultView||window;var y=p.getSelection&&p.getSelection();if(y&&y.rangeCount!==0){p=y.anchorNode;var R=y.anchorOffset,P=y.focusNode;y=y.focusOffset;try{p.nodeType,P.nodeType}catch{p=null;break e}var se=0,Ee=-1,Ge=-1,vt=0,Vt=0,Kt=a,Et=null;t:for(;;){for(var Ct;Kt!==p||R!==0&&Kt.nodeType!==3||(Ee=se+R),Kt!==P||y!==0&&Kt.nodeType!==3||(Ge=se+y),Kt.nodeType===3&&(se+=Kt.nodeValue.length),(Ct=Kt.firstChild)!==null;)Et=Kt,Kt=Ct;for(;;){if(Kt===a)break t;if(Et===p&&++vt===R&&(Ee=se),Et===P&&++Vt===y&&(Ge=se),(Ct=Kt.nextSibling)!==null)break;Kt=Et,Et=Kt.parentNode}Kt=Ct}p=Ee===-1||Ge===-1?null:{start:Ee,end:Ge}}else p=null}p=p||{start:0,end:0}}else p=null;for(fv={focusedElem:a,selectionRange:p},Sg=!1,Ha=c;Ha!==null;)if(c=Ha,a=c.child,(c.subtreeFlags&1028)!==0&&a!==null)a.return=c,Ha=a;else for(;Ha!==null;){switch(c=Ha,P=c.alternate,a=c.flags,c.tag){case 0:if((a&4)!==0&&(a=c.updateQueue,a=a!==null?a.events:null,a!==null))for(p=0;p<a.length;p++)R=a[p],R.ref.impl=R.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&P!==null){a=void 0,p=c,R=P.memoizedProps,P=P.memoizedState,y=p.stateNode;try{var Ln=mf(p.type,R);a=y.getSnapshotBeforeUpdate(Ln,P),y.__reactInternalSnapshotBeforeUpdate=a}catch(ar){yi(p,p.return,ar)}}break;case 3:if((a&1024)!==0){if(a=c.stateNode.containerInfo,p=a.nodeType,p===9)gv(a);else if(p===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":gv(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=c.sibling,a!==null){a.return=c.return,Ha=a;break}Ha=c.return}}function Z3(a,c,p){var y=p.flags;switch(p.tag){case 0:case 11:case 15:bu(a,p),y&4&&n1(5,p);break;case 1:if(bu(a,p),y&4)if(a=p.stateNode,c===null)try{a.componentDidMount()}catch(se){yi(p,p.return,se)}else{var R=mf(p.type,c.memoizedProps);c=c.memoizedState;try{a.componentDidUpdate(R,c,a.__reactInternalSnapshotBeforeUpdate)}catch(se){yi(p,p.return,se)}}y&64&&G3(p),y&512&&r1(p,p.return);break;case 3:if(bu(a,p),y&64&&(a=p.updateQueue,a!==null)){if(c=null,p.child!==null)switch(p.child.tag){case 27:case 5:c=p.child.stateNode;break;case 1:c=p.child.stateNode}try{Is(a,c)}catch(se){yi(p,p.return,se)}}break;case 27:c===null&&y&4&&K3(p);case 26:case 5:bu(a,p),c===null&&y&4&&X3(p),y&512&&r1(p,p.return);break;case 12:bu(a,p);break;case 31:bu(a,p),y&4&&eb(a,p);break;case 13:bu(a,p),y&4&&tb(a,p),y&64&&(a=p.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(p=MO.bind(null,p),tk(a,p))));break;case 22:if(y=p.memoizedState!==null||yu,!y){c=c!==null&&c.memoizedState!==null||la,R=yu;var P=la;yu=y,(la=c)&&!P?Eu(a,p,(p.subtreeFlags&8772)!==0):bu(a,p),yu=R,la=P}break;case 30:break;default:bu(a,p)}}function Q3(a){var c=a.alternate;c!==null&&(a.alternate=null,Q3(c)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(c=a.stateNode,c!==null&&qt(c)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var us=null,al=!1;function wu(a,c,p){for(p=p.child;p!==null;)J3(a,c,p),p=p.sibling}function J3(a,c,p){if(dt&&typeof dt.onCommitFiberUnmount=="function")try{dt.onCommitFiberUnmount(an,p)}catch{}switch(p.tag){case 26:la||Fc(p,c),wu(a,c,p),p.memoizedState?p.memoizedState.count--:p.stateNode&&(p=p.stateNode,p.parentNode.removeChild(p));break;case 27:la||Fc(p,c);var y=us,R=al;mh(p.type)&&(us=p.stateNode,al=!1),wu(a,c,p),f1(p.stateNode),us=y,al=R;break;case 5:la||Fc(p,c);case 6:if(y=us,R=al,us=null,wu(a,c,p),us=y,al=R,us!==null)if(al)try{(us.nodeType===9?us.body:us.nodeName==="HTML"?us.ownerDocument.body:us).removeChild(p.stateNode)}catch(P){yi(p,c,P)}else try{us.removeChild(p.stateNode)}catch(P){yi(p,c,P)}break;case 18:us!==null&&(al?(a=us,Gb(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,p.stateNode),Pd(a)):Gb(us,p.stateNode));break;case 4:y=us,R=al,us=p.stateNode.containerInfo,al=!0,wu(a,c,p),us=y,al=R;break;case 0:case 11:case 14:case 15:oh(2,p,c),la||oh(4,p,c),wu(a,c,p);break;case 1:la||(Fc(p,c),y=p.stateNode,typeof y.componentWillUnmount=="function"&&W3(p,c,y)),wu(a,c,p);break;case 21:wu(a,c,p);break;case 22:la=(y=la)||p.memoizedState!==null,wu(a,c,p),la=y;break;default:wu(a,c,p)}}function eb(a,c){if(c.memoizedState===null&&(a=c.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{Pd(a)}catch(p){yi(c,c.return,p)}}}function tb(a,c){if(c.memoizedState===null&&(a=c.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Pd(a)}catch(p){yi(c,c.return,p)}}function NO(a){switch(a.tag){case 31:case 13:case 19:var c=a.stateNode;return c===null&&(c=a.stateNode=new $3),c;case 22:return a=a.stateNode,c=a._retryCache,c===null&&(c=a._retryCache=new $3),c;default:throw Error(r(435,a.tag))}}function sg(a,c){var p=NO(a);c.forEach(function(y){if(!p.has(y)){p.add(y);var R=PO.bind(null,a,y);y.then(R,R)}})}function ol(a,c){var p=c.deletions;if(p!==null)for(var y=0;y<p.length;y++){var R=p[y],P=a,se=c,Ee=se;e:for(;Ee!==null;){switch(Ee.tag){case 27:if(mh(Ee.type)){us=Ee.stateNode,al=!1;break e}break;case 5:us=Ee.stateNode,al=!1;break e;case 3:case 4:us=Ee.stateNode.containerInfo,al=!0;break e}Ee=Ee.return}if(us===null)throw Error(r(160));J3(P,se,R),us=null,al=!1,P=R.alternate,P!==null&&(P.return=null),R.return=null}if(c.subtreeFlags&13886)for(c=c.child;c!==null;)nb(c,a),c=c.sibling}var cc=null;function nb(a,c){var p=a.alternate,y=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:ol(c,a),ll(a),y&4&&(oh(3,a,a.return),n1(3,a),oh(5,a,a.return));break;case 1:ol(c,a),ll(a),y&512&&(la||p===null||Fc(p,p.return)),y&64&&yu&&(a=a.updateQueue,a!==null&&(y=a.callbacks,y!==null&&(p=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=p===null?y:p.concat(y))));break;case 26:var R=cc;if(ol(c,a),ll(a),y&512&&(la||p===null||Fc(p,p.return)),y&4){var P=p!==null?p.memoizedState:null;if(y=a.memoizedState,p===null)if(y===null)if(a.stateNode===null){e:{y=a.type,p=a.memoizedProps,R=R.ownerDocument||R;t:switch(y){case"title":P=R.getElementsByTagName("title")[0],(!P||P[ht]||P[Ce]||P.namespaceURI==="http://www.w3.org/2000/svg"||P.hasAttribute("itemprop"))&&(P=R.createElement(y),R.head.insertBefore(P,R.querySelector("head > title"))),lo(P,y,p),P[Ce]=a,Tn(P),y=P;break e;case"link":var se=n4("link","href",R).get(y+(p.href||""));if(se){for(var Ee=0;Ee<se.length;Ee++)if(P=se[Ee],P.getAttribute("href")===(p.href==null||p.href===""?null:p.href)&&P.getAttribute("rel")===(p.rel==null?null:p.rel)&&P.getAttribute("title")===(p.title==null?null:p.title)&&P.getAttribute("crossorigin")===(p.crossOrigin==null?null:p.crossOrigin)){se.splice(Ee,1);break t}}P=R.createElement(y),lo(P,y,p),R.head.appendChild(P);break;case"meta":if(se=n4("meta","content",R).get(y+(p.content||""))){for(Ee=0;Ee<se.length;Ee++)if(P=se[Ee],P.getAttribute("content")===(p.content==null?null:""+p.content)&&P.getAttribute("name")===(p.name==null?null:p.name)&&P.getAttribute("property")===(p.property==null?null:p.property)&&P.getAttribute("http-equiv")===(p.httpEquiv==null?null:p.httpEquiv)&&P.getAttribute("charset")===(p.charSet==null?null:p.charSet)){se.splice(Ee,1);break t}}P=R.createElement(y),lo(P,y,p),R.head.appendChild(P);break;default:throw Error(r(468,y))}P[Ce]=a,Tn(P),y=P}a.stateNode=y}else r4(R,a.type,a.stateNode);else a.stateNode=t4(R,y,a.memoizedProps);else P!==y?(P===null?p.stateNode!==null&&(p=p.stateNode,p.parentNode.removeChild(p)):P.count--,y===null?r4(R,a.type,a.stateNode):t4(R,y,a.memoizedProps)):y===null&&a.stateNode!==null&&Vx(a,a.memoizedProps,p.memoizedProps)}break;case 27:ol(c,a),ll(a),y&512&&(la||p===null||Fc(p,p.return)),p!==null&&y&4&&Vx(a,a.memoizedProps,p.memoizedProps);break;case 5:if(ol(c,a),ll(a),y&512&&(la||p===null||Fc(p,p.return)),a.flags&32){R=a.stateNode;try{ds(R,"")}catch(Ln){yi(a,a.return,Ln)}}y&4&&a.stateNode!=null&&(R=a.memoizedProps,Vx(a,R,p!==null?p.memoizedProps:R)),y&1024&&(qx=!0);break;case 6:if(ol(c,a),ll(a),y&4){if(a.stateNode===null)throw Error(r(162));y=a.memoizedProps,p=a.stateNode;try{p.nodeValue=y}catch(Ln){yi(a,a.return,Ln)}}break;case 3:if(wg=null,R=cc,cc=_g(c.containerInfo),ol(c,a),cc=R,ll(a),y&4&&p!==null&&p.memoizedState.isDehydrated)try{Pd(c.containerInfo)}catch(Ln){yi(a,a.return,Ln)}qx&&(qx=!1,rb(a));break;case 4:y=cc,cc=_g(a.stateNode.containerInfo),ol(c,a),ll(a),cc=y;break;case 12:ol(c,a),ll(a);break;case 31:ol(c,a),ll(a),y&4&&(y=a.updateQueue,y!==null&&(a.updateQueue=null,sg(a,y)));break;case 13:ol(c,a),ll(a),a.child.flags&8192&&a.memoizedState!==null!=(p!==null&&p.memoizedState!==null)&&(og=st()),y&4&&(y=a.updateQueue,y!==null&&(a.updateQueue=null,sg(a,y)));break;case 22:R=a.memoizedState!==null;var Ge=p!==null&&p.memoizedState!==null,vt=yu,Vt=la;if(yu=vt||R,la=Vt||Ge,ol(c,a),la=Vt,yu=vt,ll(a),y&8192)e:for(c=a.stateNode,c._visibility=R?c._visibility&-2:c._visibility|1,R&&(p===null||Ge||yu||la||gf(a)),p=null,c=a;;){if(c.tag===5||c.tag===26){if(p===null){Ge=p=c;try{if(P=Ge.stateNode,R)se=P.style,typeof se.setProperty=="function"?se.setProperty("display","none","important"):se.display="none";else{Ee=Ge.stateNode;var Kt=Ge.memoizedProps.style,Et=Kt!=null&&Kt.hasOwnProperty("display")?Kt.display:null;Ee.style.display=Et==null||typeof Et=="boolean"?"":(""+Et).trim()}}catch(Ln){yi(Ge,Ge.return,Ln)}}}else if(c.tag===6){if(p===null){Ge=c;try{Ge.stateNode.nodeValue=R?"":Ge.memoizedProps}catch(Ln){yi(Ge,Ge.return,Ln)}}}else if(c.tag===18){if(p===null){Ge=c;try{var Ct=Ge.stateNode;R?Wb(Ct,!0):Wb(Ge.stateNode,!1)}catch(Ln){yi(Ge,Ge.return,Ln)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===a)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break e;for(;c.sibling===null;){if(c.return===null||c.return===a)break e;p===c&&(p=null),c=c.return}p===c&&(p=null),c.sibling.return=c.return,c=c.sibling}y&4&&(y=a.updateQueue,y!==null&&(p=y.retryQueue,p!==null&&(y.retryQueue=null,sg(a,p))));break;case 19:ol(c,a),ll(a),y&4&&(y=a.updateQueue,y!==null&&(a.updateQueue=null,sg(a,y)));break;case 30:break;case 21:break;default:ol(c,a),ll(a)}}function ll(a){var c=a.flags;if(c&2){try{for(var p,y=a.return;y!==null;){if(Y3(y)){p=y;break}y=y.return}if(p==null)throw Error(r(160));switch(p.tag){case 27:var R=p.stateNode,P=zx(a);ig(a,P,R);break;case 5:var se=p.stateNode;p.flags&32&&(ds(se,""),p.flags&=-33);var Ee=zx(a);ig(a,Ee,se);break;case 3:case 4:var Ge=p.stateNode.containerInfo,vt=zx(a);Hx(a,vt,Ge);break;default:throw Error(r(161))}}catch(Vt){yi(a,a.return,Vt)}a.flags&=-3}c&4096&&(a.flags&=-4097)}function rb(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var c=a;rb(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),a=a.sibling}}function bu(a,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)Z3(a,c.alternate,c),c=c.sibling}function gf(a){for(a=a.child;a!==null;){var c=a;switch(c.tag){case 0:case 11:case 14:case 15:oh(4,c,c.return),gf(c);break;case 1:Fc(c,c.return);var p=c.stateNode;typeof p.componentWillUnmount=="function"&&W3(c,c.return,p),gf(c);break;case 27:f1(c.stateNode);case 26:case 5:Fc(c,c.return),gf(c);break;case 22:c.memoizedState===null&&gf(c);break;case 30:gf(c);break;default:gf(c)}a=a.sibling}}function Eu(a,c,p){for(p=p&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var y=c.alternate,R=a,P=c,se=P.flags;switch(P.tag){case 0:case 11:case 15:Eu(R,P,p),n1(4,P);break;case 1:if(Eu(R,P,p),y=P,R=y.stateNode,typeof R.componentDidMount=="function")try{R.componentDidMount()}catch(vt){yi(y,y.return,vt)}if(y=P,R=y.updateQueue,R!==null){var Ee=y.stateNode;try{var Ge=R.shared.hiddenCallbacks;if(Ge!==null)for(R.shared.hiddenCallbacks=null,R=0;R<Ge.length;R++)Va(Ge[R],Ee)}catch(vt){yi(y,y.return,vt)}}p&&se&64&&G3(P),r1(P,P.return);break;case 27:K3(P);case 26:case 5:Eu(R,P,p),p&&y===null&&se&4&&X3(P),r1(P,P.return);break;case 12:Eu(R,P,p);break;case 31:Eu(R,P,p),p&&se&4&&eb(R,P);break;case 13:Eu(R,P,p),p&&se&4&&tb(R,P);break;case 22:P.memoizedState===null&&Eu(R,P,p),r1(P,P.return);break;case 30:break;default:Eu(R,P,p)}c=c.sibling}}function Gx(a,c){var p=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(p=a.memoizedState.cachePool.pool),a=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(a=c.memoizedState.cachePool.pool),a!==p&&(a!=null&&a.refCount++,p!=null&&uf(p))}function Wx(a,c){a=null,c.alternate!==null&&(a=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==a&&(c.refCount++,a!=null&&uf(a))}function uc(a,c,p,y){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)ib(a,c,p,y),c=c.sibling}function ib(a,c,p,y){var R=c.flags;switch(c.tag){case 0:case 11:case 15:uc(a,c,p,y),R&2048&&n1(9,c);break;case 1:uc(a,c,p,y);break;case 3:uc(a,c,p,y),R&2048&&(a=null,c.alternate!==null&&(a=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==a&&(c.refCount++,a!=null&&uf(a)));break;case 12:if(R&2048){uc(a,c,p,y),a=c.stateNode;try{var P=c.memoizedProps,se=P.id,Ee=P.onPostCommit;typeof Ee=="function"&&Ee(se,c.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(Ge){yi(c,c.return,Ge)}}else uc(a,c,p,y);break;case 31:uc(a,c,p,y);break;case 13:uc(a,c,p,y);break;case 23:break;case 22:P=c.stateNode,se=c.alternate,c.memoizedState!==null?P._visibility&2?uc(a,c,p,y):i1(a,c):P._visibility&2?uc(a,c,p,y):(P._visibility|=2,Sd(a,c,p,y,(c.subtreeFlags&10256)!==0||!1)),R&2048&&Gx(se,c);break;case 24:uc(a,c,p,y),R&2048&&Wx(c.alternate,c);break;default:uc(a,c,p,y)}}function Sd(a,c,p,y,R){for(R=R&&((c.subtreeFlags&10256)!==0||!1),c=c.child;c!==null;){var P=a,se=c,Ee=p,Ge=y,vt=se.flags;switch(se.tag){case 0:case 11:case 15:Sd(P,se,Ee,Ge,R),n1(8,se);break;case 23:break;case 22:var Vt=se.stateNode;se.memoizedState!==null?Vt._visibility&2?Sd(P,se,Ee,Ge,R):i1(P,se):(Vt._visibility|=2,Sd(P,se,Ee,Ge,R)),R&&vt&2048&&Gx(se.alternate,se);break;case 24:Sd(P,se,Ee,Ge,R),R&&vt&2048&&Wx(se.alternate,se);break;default:Sd(P,se,Ee,Ge,R)}c=c.sibling}}function i1(a,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var p=a,y=c,R=y.flags;switch(y.tag){case 22:i1(p,y),R&2048&&Gx(y.alternate,y);break;case 24:i1(p,y),R&2048&&Wx(y.alternate,y);break;default:i1(p,y)}c=c.sibling}}var s1=8192;function Td(a,c,p){if(a.subtreeFlags&s1)for(a=a.child;a!==null;)sb(a,c,p),a=a.sibling}function sb(a,c,p){switch(a.tag){case 26:Td(a,c,p),a.flags&s1&&a.memoizedState!==null&&dk(p,cc,a.memoizedState,a.memoizedProps);break;case 5:Td(a,c,p);break;case 3:case 4:var y=cc;cc=_g(a.stateNode.containerInfo),Td(a,c,p),cc=y;break;case 22:a.memoizedState===null&&(y=a.alternate,y!==null&&y.memoizedState!==null?(y=s1,s1=16777216,Td(a,c,p),s1=y):Td(a,c,p));break;default:Td(a,c,p)}}function ab(a){var c=a.alternate;if(c!==null&&(a=c.child,a!==null)){c.child=null;do c=a.sibling,a.sibling=null,a=c;while(a!==null)}}function a1(a){var c=a.deletions;if((a.flags&16)!==0){if(c!==null)for(var p=0;p<c.length;p++){var y=c[p];Ha=y,lb(y,a)}ab(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)ob(a),a=a.sibling}function ob(a){switch(a.tag){case 0:case 11:case 15:a1(a),a.flags&2048&&oh(9,a,a.return);break;case 3:a1(a);break;case 12:a1(a);break;case 22:var c=a.stateNode;a.memoizedState!==null&&c._visibility&2&&(a.return===null||a.return.tag!==13)?(c._visibility&=-3,ag(a)):a1(a);break;default:a1(a)}}function ag(a){var c=a.deletions;if((a.flags&16)!==0){if(c!==null)for(var p=0;p<c.length;p++){var y=c[p];Ha=y,lb(y,a)}ab(a)}for(a=a.child;a!==null;){switch(c=a,c.tag){case 0:case 11:case 15:oh(8,c,c.return),ag(c);break;case 22:p=c.stateNode,p._visibility&2&&(p._visibility&=-3,ag(c));break;default:ag(c)}a=a.sibling}}function lb(a,c){for(;Ha!==null;){var p=Ha;switch(p.tag){case 0:case 11:case 15:oh(8,p,c);break;case 23:case 22:if(p.memoizedState!==null&&p.memoizedState.cachePool!==null){var y=p.memoizedState.cachePool.pool;y!=null&&y.refCount++}break;case 24:uf(p.memoizedState.cache)}if(y=p.child,y!==null)y.return=p,Ha=y;else e:for(p=a;Ha!==null;){y=Ha;var R=y.sibling,P=y.return;if(Q3(y),y===p){Ha=null;break e}if(R!==null){R.return=P,Ha=R;break e}Ha=P}}}var CO={getCacheForType:function(a){var c=Ea(xs),p=c.data.get(a);return p===void 0&&(p=a(),c.data.set(a,p)),p},cacheSignal:function(){return Ea(xs).controller.signal}},IO=typeof WeakMap=="function"?WeakMap:Map,mi=0,Ui=null,Pr=null,Vr=0,_i=0,wl=null,lh=!1,Nd=!1,Xx=!1,Au=0,Ds=0,ch=0,pf=0,Yx=0,bl=0,Cd=0,o1=null,cl=null,Kx=!1,og=0,cb=0,lg=1/0,cg=null,uh=null,Sa=0,hh=null,Id=null,Su=0,$x=0,Zx=null,ub=null,l1=0,Qx=null;function El(){return(mi&2)!==0&&Vr!==0?Vr&-Vr:Ae.T!==null?iv():ge()}function hb(){if(bl===0)if((Vr&536870912)===0||Mr){var a=cn;cn<<=1,(cn&3932160)===0&&(cn=262144),bl=a}else bl=536870912;return a=Ji.current,a!==null&&(a.flags|=32),bl}function ul(a,c,p){(a===Ui&&(_i===2||_i===9)||a.cancelPendingCommit!==null)&&(Rd(a,0),fh(a,Vr,bl,!1)),On(a,p),((mi&2)===0||a!==Ui)&&(a===Ui&&((mi&2)===0&&(pf|=p),Ds===4&&fh(a,Vr,bl,!1)),Bc(a))}function fb(a,c,p){if((mi&6)!==0)throw Error(r(327));var y=!p&&(c&127)===0&&(c&a.expiredLanes)===0||kr(a,c),R=y?kO(a,c):ev(a,c,!0),P=y;do{if(R===0){Nd&&!y&&fh(a,c,0,!1);break}else{if(p=a.current.alternate,P&&!RO(p)){R=ev(a,c,!1),P=!1;continue}if(R===2){if(P=c,a.errorRecoveryDisabledLanes&P)var se=0;else se=a.pendingLanes&-536870913,se=se!==0?se:se&536870912?536870912:0;if(se!==0){c=se;e:{var Ee=a;R=o1;var Ge=Ee.current.memoizedState.isDehydrated;if(Ge&&(Rd(Ee,se).flags|=256),se=ev(Ee,se,!1),se!==2){if(Xx&&!Ge){Ee.errorRecoveryDisabledLanes|=P,pf|=P,R=4;break e}P=cl,cl=R,P!==null&&(cl===null?cl=P:cl.push.apply(cl,P))}R=se}if(P=!1,R!==2)continue}}if(R===1){Rd(a,0),fh(a,c,0,!0);break}e:{switch(y=a,P=R,P){case 0:case 1:throw Error(r(345));case 4:if((c&4194048)!==c)break;case 6:fh(y,c,bl,!lh);break e;case 2:cl=null;break;case 3:case 5:break;default:throw Error(r(329))}if((c&62914560)===c&&(R=og+300-st(),10<R)){if(fh(y,c,bl,!lh),Qn(y,0,!0)!==0)break e;Su=c,y.timeoutHandle=Hb(db.bind(null,y,p,cl,cg,Kx,c,bl,pf,Cd,lh,P,"Throttled",-0,0),R);break e}db(y,p,cl,cg,Kx,c,bl,pf,Cd,lh,P,null,-0,0)}}break}while(!0);Bc(a)}function db(a,c,p,y,R,P,se,Ee,Ge,vt,Vt,Kt,Et,Ct){if(a.timeoutHandle=-1,Kt=c.subtreeFlags,Kt&8192||(Kt&16785408)===16785408){Kt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Js},sb(c,P,Kt);var Ln=(P&62914560)===P?og-st():(P&4194048)===P?cb-st():0;if(Ln=mk(Kt,Ln),Ln!==null){Su=P,a.cancelPendingCommit=Ln(wb.bind(null,a,c,P,p,y,R,se,Ee,Ge,Vt,Kt,null,Et,Ct)),fh(a,P,se,!vt);return}}wb(a,c,P,p,y,R,se,Ee,Ge)}function RO(a){for(var c=a;;){var p=c.tag;if((p===0||p===11||p===15)&&c.flags&16384&&(p=c.updateQueue,p!==null&&(p=p.stores,p!==null)))for(var y=0;y<p.length;y++){var R=p[y],P=R.getSnapshot;R=R.value;try{if(!b(P(),R))return!1}catch{return!1}}if(p=c.child,c.subtreeFlags&16384&&p!==null)p.return=c,c=p;else{if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function fh(a,c,p,y){c&=~Yx,c&=~pf,a.suspendedLanes|=c,a.pingedLanes&=~c,y&&(a.warmLanes|=c),y=a.expirationTimes;for(var R=c;0<R;){var P=31-It(R),se=1<<P;y[P]=-1,R&=~se}p!==0&&Ki(a,p,c)}function ug(){return(mi&6)===0?(c1(0),!1):!0}function Jx(){if(Pr!==null){if(_i===0)var a=Pr.return;else a=Pr,Ul=Rc=null,vd(a),Qt=null,Mn=0,a=Pr;for(;a!==null;)q3(a.alternate,a),a=a.return;Pr=null}}function Rd(a,c){var p=a.timeoutHandle;p!==-1&&(a.timeoutHandle=-1,$O(p)),p=a.cancelPendingCommit,p!==null&&(a.cancelPendingCommit=null,p()),Su=0,Jx(),Ui=a,Pr=p=Qo(a.current,null),Vr=c,_i=0,wl=null,lh=!1,Nd=kr(a,c),Xx=!1,Cd=bl=Yx=pf=ch=Ds=0,cl=o1=null,Kx=!1,(c&8)!==0&&(c|=c&32);var y=a.entangledLanes;if(y!==0)for(a=a.entanglements,y&=c;0<y;){var R=31-It(y),P=1<<R;c|=a[R],y&=~P}return Au=c,rf(),p}function mb(a,c){$n=null,Ae.H=J0,c===Ke||c===Be?(c=Ht(),_i=3):c===gt?(c=Ht(),_i=4):_i=c===Ox?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,wl=c,Pr===null&&(Ds=1,Jm(a,Jo(c,a.current)))}function gb(){var a=Ji.current;return a===null?!0:(Vr&4194048)===Vr?ei===null:(Vr&62914560)===Vr||(Vr&536870912)!==0?a===ei:!1}function pb(){var a=Ae.H;return Ae.H=J0,a===null?J0:a}function xb(){var a=Ae.A;return Ae.A=CO,a}function hg(){Ds=4,lh||(Vr&4194048)!==Vr&&Ji.current!==null||(Nd=!0),(ch&134217727)===0&&(pf&134217727)===0||Ui===null||fh(Ui,Vr,bl,!1)}function ev(a,c,p){var y=mi;mi|=2;var R=pb(),P=xb();(Ui!==a||Vr!==c)&&(cg=null,Rd(a,c)),c=!1;var se=Ds;e:do try{if(_i!==0&&Pr!==null){var Ee=Pr,Ge=wl;switch(_i){case 8:Jx(),se=6;break e;case 3:case 2:case 9:case 6:Ji.current===null&&(c=!0);var vt=_i;if(_i=0,wl=null,Od(a,Ee,Ge,vt),p&&Nd){se=0;break e}break;default:vt=_i,_i=0,wl=null,Od(a,Ee,Ge,vt)}}OO(),se=Ds;break}catch(Vt){mb(a,Vt)}while(!0);return c&&a.shellSuspendCounter++,Ul=Rc=null,mi=y,Ae.H=R,Ae.A=P,Pr===null&&(Ui=null,Vr=0,rf()),se}function OO(){for(;Pr!==null;)vb(Pr)}function kO(a,c){var p=mi;mi|=2;var y=pb(),R=xb();Ui!==a||Vr!==c?(cg=null,lg=st()+500,Rd(a,c)):Nd=kr(a,c);e:do try{if(_i!==0&&Pr!==null){c=Pr;var P=wl;t:switch(_i){case 1:_i=0,wl=null,Od(a,c,P,1);break;case 2:case 9:if(ct(P)){_i=0,wl=null,_b(c);break}c=function(){_i!==2&&_i!==9||Ui!==a||(_i=7),Bc(a)},P.then(c,c);break e;case 3:_i=7;break e;case 4:_i=5;break e;case 7:ct(P)?(_i=0,wl=null,_b(c)):(_i=0,wl=null,Od(a,c,P,7));break;case 5:var se=null;switch(Pr.tag){case 26:se=Pr.memoizedState;case 5:case 27:var Ee=Pr;if(se?i4(se):Ee.stateNode.complete){_i=0,wl=null;var Ge=Ee.sibling;if(Ge!==null)Pr=Ge;else{var vt=Ee.return;vt!==null?(Pr=vt,fg(vt)):Pr=null}break t}}_i=0,wl=null,Od(a,c,P,5);break;case 6:_i=0,wl=null,Od(a,c,P,6);break;case 8:Jx(),Ds=6;break e;default:throw Error(r(462))}}DO();break}catch(Vt){mb(a,Vt)}while(!0);return Ul=Rc=null,Ae.H=y,Ae.A=R,mi=p,Pr!==null?0:(Ui=null,Vr=0,rf(),Ds)}function DO(){for(;Pr!==null&&!Lt();)vb(Pr)}function vb(a){var c=z3(a.alternate,a,Au);a.memoizedProps=a.pendingProps,c===null?fg(a):Pr=c}function _b(a){var c=a,p=c.alternate;switch(c.tag){case 15:case 0:c=P3(p,c,c.pendingProps,c.type,void 0,Vr);break;case 11:c=P3(p,c,c.pendingProps,c.type.render,c.ref,Vr);break;case 5:vd(c);default:q3(p,c),c=Pr=of(c,Au),c=z3(p,c,Au)}a.memoizedProps=a.pendingProps,c===null?fg(a):Pr=c}function Od(a,c,p,y){Ul=Rc=null,vd(c),Qt=null,Mn=0;var R=c.return;try{if(wO(a,R,c,p,Vr)){Ds=1,Jm(a,Jo(p,a.current)),Pr=null;return}}catch(P){if(R!==null)throw Pr=R,P;Ds=1,Jm(a,Jo(p,a.current)),Pr=null;return}c.flags&32768?(Mr||y===1?a=!0:Nd||(Vr&536870912)!==0?a=!1:(lh=a=!0,(y===2||y===9||y===3||y===6)&&(y=Ji.current,y!==null&&y.tag===13&&(y.flags|=16384))),yb(c,a)):fg(c)}function fg(a){var c=a;do{if((c.flags&32768)!==0){yb(c,lh);return}a=c.return;var p=AO(c.alternate,c,Au);if(p!==null){Pr=p;return}if(c=c.sibling,c!==null){Pr=c;return}Pr=c=a}while(c!==null);Ds===0&&(Ds=5)}function yb(a,c){do{var p=SO(a.alternate,a);if(p!==null){p.flags&=32767,Pr=p;return}if(p=a.return,p!==null&&(p.flags|=32768,p.subtreeFlags=0,p.deletions=null),!c&&(a=a.sibling,a!==null)){Pr=a;return}Pr=a=p}while(a!==null);Ds=6,Pr=null}function wb(a,c,p,y,R,P,se,Ee,Ge){a.cancelPendingCommit=null;do dg();while(Sa!==0);if((mi&6)!==0)throw Error(r(327));if(c!==null){if(c===a.current)throw Error(r(177));if(P=c.lanes|c.childLanes,P|=id,Ni(a,p,P,se,Ee,Ge),a===Ui&&(Pr=Ui=null,Vr=0),Id=c,hh=a,Su=p,$x=P,Zx=R,ub=y,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,jO(xn,function(){return Tb(),null})):(a.callbackNode=null,a.callbackPriority=0),y=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||y){y=Ae.T,Ae.T=null,R=xe.p,xe.p=2,se=mi,mi|=4;try{TO(a,c,p)}finally{mi=se,xe.p=R,Ae.T=y}}Sa=1,bb(),Eb(),Ab()}}function bb(){if(Sa===1){Sa=0;var a=hh,c=Id,p=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||p){p=Ae.T,Ae.T=null;var y=xe.p;xe.p=2;var R=mi;mi|=4;try{nb(c,a);var P=fv,se=fe(a.containerInfo),Ee=P.focusedElem,Ge=P.selectionRange;if(se!==Ee&&Ee&&Ee.ownerDocument&&ee(Ee.ownerDocument.documentElement,Ee)){if(Ge!==null&&_e(Ee)){var vt=Ge.start,Vt=Ge.end;if(Vt===void 0&&(Vt=vt),"selectionStart"in Ee)Ee.selectionStart=vt,Ee.selectionEnd=Math.min(Vt,Ee.value.length);else{var Kt=Ee.ownerDocument||document,Et=Kt&&Kt.defaultView||window;if(Et.getSelection){var Ct=Et.getSelection(),Ln=Ee.textContent.length,ar=Math.min(Ge.start,Ln),Pi=Ge.end===void 0?ar:Math.min(Ge.end,Ln);!Ct.extend&&ar>Pi&&(se=Pi,Pi=ar,ar=se);var at=z(Ee,ar),$e=z(Ee,Pi);if(at&&$e&&(Ct.rangeCount!==1||Ct.anchorNode!==at.node||Ct.anchorOffset!==at.offset||Ct.focusNode!==$e.node||Ct.focusOffset!==$e.offset)){var xt=Kt.createRange();xt.setStart(at.node,at.offset),Ct.removeAllRanges(),ar>Pi?(Ct.addRange(xt),Ct.extend($e.node,$e.offset)):(xt.setEnd($e.node,$e.offset),Ct.addRange(xt))}}}}for(Kt=[],Ct=Ee;Ct=Ct.parentNode;)Ct.nodeType===1&&Kt.push({element:Ct,left:Ct.scrollLeft,top:Ct.scrollTop});for(typeof Ee.focus=="function"&&Ee.focus(),Ee=0;Ee<Kt.length;Ee++){var Gt=Kt[Ee];Gt.element.scrollLeft=Gt.left,Gt.element.scrollTop=Gt.top}}Sg=!!hv,fv=hv=null}finally{mi=R,xe.p=y,Ae.T=p}}a.current=c,Sa=2}}function Eb(){if(Sa===2){Sa=0;var a=hh,c=Id,p=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||p){p=Ae.T,Ae.T=null;var y=xe.p;xe.p=2;var R=mi;mi|=4;try{Z3(a,c.alternate,c)}finally{mi=R,xe.p=y,Ae.T=p}}Sa=3}}function Ab(){if(Sa===4||Sa===3){Sa=0,fn();var a=hh,c=Id,p=Su,y=ub;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?Sa=5:(Sa=0,Id=hh=null,Sb(a,a.pendingLanes));var R=a.pendingLanes;if(R===0&&(uh=null),Rr(p),c=c.stateNode,dt&&typeof dt.onCommitFiberRoot=="function")try{dt.onCommitFiberRoot(an,c,void 0,(c.current.flags&128)===128)}catch{}if(y!==null){c=Ae.T,R=xe.p,xe.p=2,Ae.T=null;try{for(var P=a.onRecoverableError,se=0;se<y.length;se++){var Ee=y[se];P(Ee.value,{componentStack:Ee.stack})}}finally{Ae.T=c,xe.p=R}}(Su&3)!==0&&dg(),Bc(a),R=a.pendingLanes,(p&261930)!==0&&(R&42)!==0?a===Qx?l1++:(l1=0,Qx=a):l1=0,c1(0)}}function Sb(a,c){(a.pooledCacheLanes&=c)===0&&(c=a.pooledCache,c!=null&&(a.pooledCache=null,uf(c)))}function dg(){return bb(),Eb(),Ab(),Tb()}function Tb(){if(Sa!==5)return!1;var a=hh,c=$x;$x=0;var p=Rr(Su),y=Ae.T,R=xe.p;try{xe.p=32>p?32:p,Ae.T=null,p=Zx,Zx=null;var P=hh,se=Su;if(Sa=0,Id=hh=null,Su=0,(mi&6)!==0)throw Error(r(331));var Ee=mi;if(mi|=4,ob(P.current),ib(P,P.current,se,p),mi=Ee,c1(0,!1),dt&&typeof dt.onPostCommitFiberRoot=="function")try{dt.onPostCommitFiberRoot(an,P)}catch{}return!0}finally{xe.p=R,Ae.T=y,Sb(a,c)}}function Nb(a,c,p){c=Jo(p,c),c=Rx(a.stateNode,c,2),a=Sr(a,c,2),a!==null&&(On(a,2),Bc(a))}function yi(a,c,p){if(a.tag===3)Nb(a,a,p);else for(;c!==null;){if(c.tag===3){Nb(c,a,p);break}else if(c.tag===1){var y=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(uh===null||!uh.has(y))){a=Jo(p,a),p=C3(2),y=Sr(c,p,2),y!==null&&(I3(p,y,c,a),On(y,2),Bc(y));break}}c=c.return}}function tv(a,c,p){var y=a.pingCache;if(y===null){y=a.pingCache=new IO;var R=new Set;y.set(c,R)}else R=y.get(c),R===void 0&&(R=new Set,y.set(c,R));R.has(p)||(Xx=!0,R.add(p),a=LO.bind(null,a,c,p),c.then(a,a))}function LO(a,c,p){var y=a.pingCache;y!==null&&y.delete(c),a.pingedLanes|=a.suspendedLanes&p,a.warmLanes&=~p,Ui===a&&(Vr&p)===p&&(Ds===4||Ds===3&&(Vr&62914560)===Vr&&300>st()-og?(mi&2)===0&&Rd(a,0):Yx|=p,Cd===Vr&&(Cd=0)),Bc(a)}function Cb(a,c){c===0&&(c=Lr()),a=rc(a,c),a!==null&&(On(a,c),Bc(a))}function MO(a){var c=a.memoizedState,p=0;c!==null&&(p=c.retryLane),Cb(a,p)}function PO(a,c){var p=0;switch(a.tag){case 31:case 13:var y=a.stateNode,R=a.memoizedState;R!==null&&(p=R.retryLane);break;case 19:y=a.stateNode;break;case 22:y=a.stateNode._retryCache;break;default:throw Error(r(314))}y!==null&&y.delete(c),Cb(a,p)}function jO(a,c){return tn(a,c)}var mg=null,kd=null,nv=!1,gg=!1,rv=!1,dh=0;function Bc(a){a!==kd&&a.next===null&&(kd===null?mg=kd=a:kd=kd.next=a),gg=!0,nv||(nv=!0,BO())}function c1(a,c){if(!rv&&gg){rv=!0;do for(var p=!1,y=mg;y!==null;){if(a!==0){var R=y.pendingLanes;if(R===0)var P=0;else{var se=y.suspendedLanes,Ee=y.pingedLanes;P=(1<<31-It(42|a)+1)-1,P&=R&~(se&~Ee),P=P&201326741?P&201326741|1:P?P|2:0}P!==0&&(p=!0,kb(y,P))}else P=Vr,P=Qn(y,y===Ui?P:0,y.cancelPendingCommit!==null||y.timeoutHandle!==-1),(P&3)===0||kr(y,P)||(p=!0,kb(y,P));y=y.next}while(p);rv=!1}}function FO(){Ib()}function Ib(){gg=nv=!1;var a=0;dh!==0&&KO()&&(a=dh);for(var c=st(),p=null,y=mg;y!==null;){var R=y.next,P=Rb(y,c);P===0?(y.next=null,p===null?mg=R:p.next=R,R===null&&(kd=p)):(p=y,(a!==0||(P&3)!==0)&&(gg=!0)),y=R}Sa!==0&&Sa!==5||c1(a),dh!==0&&(dh=0)}function Rb(a,c){for(var p=a.suspendedLanes,y=a.pingedLanes,R=a.expirationTimes,P=a.pendingLanes&-62914561;0<P;){var se=31-It(P),Ee=1<<se,Ge=R[se];Ge===-1?((Ee&p)===0||(Ee&y)!==0)&&(R[se]=li(Ee,c)):Ge<=c&&(a.expiredLanes|=Ee),P&=~Ee}if(c=Ui,p=Vr,p=Qn(a,a===c?p:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),y=a.callbackNode,p===0||a===c&&(_i===2||_i===9)||a.cancelPendingCommit!==null)return y!==null&&y!==null&&Xe(y),a.callbackNode=null,a.callbackPriority=0;if((p&3)===0||kr(a,p)){if(c=p&-p,c===a.callbackPriority)return c;switch(y!==null&&Xe(y),Rr(p)){case 2:case 8:p=hn;break;case 32:p=xn;break;case 268435456:p=bn;break;default:p=xn}return y=Ob.bind(null,a),p=tn(p,y),a.callbackPriority=c,a.callbackNode=p,c}return y!==null&&y!==null&&Xe(y),a.callbackPriority=2,a.callbackNode=null,2}function Ob(a,c){if(Sa!==0&&Sa!==5)return a.callbackNode=null,a.callbackPriority=0,null;var p=a.callbackNode;if(dg()&&a.callbackNode!==p)return null;var y=Vr;return y=Qn(a,a===Ui?y:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),y===0?null:(fb(a,y,c),Rb(a,st()),a.callbackNode!=null&&a.callbackNode===p?Ob.bind(null,a):null)}function kb(a,c){if(dg())return null;fb(a,c,!0)}function BO(){ZO(function(){(mi&6)!==0?tn(rn,FO):Ib()})}function iv(){if(dh===0){var a=T;a===0&&(a=$t,$t<<=1,($t&261888)===0&&($t=256)),dh=a}return dh}function Db(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:Ss(""+a)}function Lb(a,c){var p=c.ownerDocument.createElement("input");return p.name=c.name,p.value=c.value,a.id&&p.setAttribute("form",a.id),c.parentNode.insertBefore(p,c),a=new FormData(a),p.parentNode.removeChild(p),a}function UO(a,c,p,y,R){if(c==="submit"&&p&&p.stateNode===R){var P=Db((R[Oe]||null).action),se=y.submitter;se&&(c=(c=se[Oe]||null)?Db(c.formAction):se.getAttribute("formAction"),c!==null&&(P=c,se=null));var Ee=new Wr("action","action",null,y,R);a.push({event:Ee,listeners:[{instance:null,listener:function(){if(y.defaultPrevented){if(dh!==0){var Ge=se?Lb(R,se):new FormData(R);Ax(p,{pending:!0,data:Ge,method:R.method,action:P},null,Ge)}}else typeof P=="function"&&(Ee.preventDefault(),Ge=se?Lb(R,se):new FormData(R),Ax(p,{pending:!0,data:Ge,method:R.method,action:P},P,Ge))},currentTarget:R}]})}}for(var sv=0;sv<nc.length;sv++){var av=nc[sv],VO=av.toLowerCase(),zO=av[0].toUpperCase()+av.slice(1);Zo(VO,"on"+zO)}Zo(Gs,"onAnimationEnd"),Zo(Ts,"onAnimationIteration"),Zo(ri,"onAnimationStart"),Zo("dblclick","onDoubleClick"),Zo("focusin","onFocus"),Zo("focusout","onBlur"),Zo(Ns,"onTransitionRun"),Zo(Fa,"onTransitionStart"),Zo(tc,"onTransitionCancel"),Zo(Bl,"onTransitionEnd"),Ci("onMouseEnter",["mouseout","mouseover"]),Ci("onMouseLeave",["mouseout","mouseover"]),Ci("onPointerEnter",["pointerout","pointerover"]),Ci("onPointerLeave",["pointerout","pointerover"]),Kn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Kn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Kn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Kn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Kn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Kn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var u1="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),HO=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(u1));function Mb(a,c){c=(c&4)!==0;for(var p=0;p<a.length;p++){var y=a[p],R=y.event;y=y.listeners;e:{var P=void 0;if(c)for(var se=y.length-1;0<=se;se--){var Ee=y[se],Ge=Ee.instance,vt=Ee.currentTarget;if(Ee=Ee.listener,Ge!==P&&R.isPropagationStopped())break e;P=Ee,R.currentTarget=vt;try{P(R)}catch(Vt){nf(Vt)}R.currentTarget=null,P=Ge}else for(se=0;se<y.length;se++){if(Ee=y[se],Ge=Ee.instance,vt=Ee.currentTarget,Ee=Ee.listener,Ge!==P&&R.isPropagationStopped())break e;P=Ee,R.currentTarget=vt;try{P(R)}catch(Vt){nf(Vt)}R.currentTarget=null,P=Ge}}}}function jr(a,c){var p=c[rt];p===void 0&&(p=c[rt]=new Set);var y=a+"__bubble";p.has(y)||(Pb(c,a,2,!1),p.add(y))}function ov(a,c,p){var y=0;c&&(y|=4),Pb(p,a,y,c)}var pg="_reactListening"+Math.random().toString(36).slice(2);function lv(a){if(!a[pg]){a[pg]=!0,Nt.forEach(function(p){p!=="selectionchange"&&(HO.has(p)||ov(p,!1,a),ov(p,!0,a))});var c=a.nodeType===9?a:a.ownerDocument;c===null||c[pg]||(c[pg]=!0,ov("selectionchange",!1,c))}}function Pb(a,c,p,y){switch(h4(c)){case 2:var R=xk;break;case 8:R=vk;break;default:R=Ev}p=R.bind(null,c,p,a),R=void 0,!vl||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(R=!0),y?R!==void 0?a.addEventListener(c,p,{capture:!0,passive:R}):a.addEventListener(c,p,!0):R!==void 0?a.addEventListener(c,p,{passive:R}):a.addEventListener(c,p,!1)}function cv(a,c,p,y,R){var P=y;if((c&1)===0&&(c&2)===0&&y!==null)e:for(;;){if(y===null)return;var se=y.tag;if(se===3||se===4){var Ee=y.stateNode.containerInfo;if(Ee===R)break;if(se===4)for(se=y.return;se!==null;){var Ge=se.tag;if((Ge===3||Ge===4)&&se.stateNode.containerInfo===R)return;se=se.return}for(;Ee!==null;){if(se=Ot(Ee),se===null)return;if(Ge=se.tag,Ge===5||Ge===6||Ge===26||Ge===27){y=P=se;continue e}Ee=Ee.parentNode}}y=y.return}Ko(function(){var vt=P,Vt=ea(p),Kt=[];e:{var Et=tf.get(a);if(Et!==void 0){var Ct=Wr,Ln=a;switch(a){case"keypress":if(ms(p)===0)break e;case"keydown":case"keyup":Ct=Ar;break;case"focusin":Ln="focus",Ct=ro;break;case"focusout":Ln="blur",Ct=ro;break;case"beforeblur":case"afterblur":Ct=ro;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ct=Or;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ct=_a;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ct=K;break;case Gs:case Ts:case ri:Ct=V;break;case Bl:Ct=Se;break;case"scroll":case"scrollend":Ct=jo;break;case"wheel":Ct=_t;break;case"copy":case"cut":case"paste":Ct=je;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ct=Wn;break;case"toggle":case"beforetoggle":Ct=rr}var ar=(c&4)!==0,Pi=!ar&&(a==="scroll"||a==="scrollend"),at=ar?Et!==null?Et+"Capture":null:Et;ar=[];for(var $e=vt,xt;$e!==null;){var Gt=$e;if(xt=Gt.stateNode,Gt=Gt.tag,Gt!==5&&Gt!==26&&Gt!==27||xt===null||at===null||(Gt=Bn($e,at),Gt!=null&&ar.push(h1($e,Gt,xt))),Pi)break;$e=$e.return}0<ar.length&&(Et=new Ct(Et,Ln,null,p,Vt),Kt.push({event:Et,listeners:ar}))}}if((c&7)===0){e:{if(Et=a==="mouseover"||a==="pointerover",Ct=a==="mouseout"||a==="pointerout",Et&&p!==Ja&&(Ln=p.relatedTarget||p.fromElement)&&(Ot(Ln)||Ln[Me]))break e;if((Ct||Et)&&(Et=Vt.window===Vt?Vt:(Et=Vt.ownerDocument)?Et.defaultView||Et.parentWindow:window,Ct?(Ln=p.relatedTarget||p.toElement,Ct=vt,Ln=Ln?Ot(Ln):null,Ln!==null&&(Pi=s(Ln),ar=Ln.tag,Ln!==Pi||ar!==5&&ar!==27&&ar!==6)&&(Ln=null)):(Ct=null,Ln=vt),Ct!==Ln)){if(ar=Or,Gt="onMouseLeave",at="onMouseEnter",$e="mouse",(a==="pointerout"||a==="pointerover")&&(ar=Wn,Gt="onPointerLeave",at="onPointerEnter",$e="pointer"),Pi=Ct==null?Et:wt(Ct),xt=Ln==null?Et:wt(Ln),Et=new ar(Gt,$e+"leave",Ct,p,Vt),Et.target=Pi,Et.relatedTarget=xt,Gt=null,Ot(Vt)===vt&&(ar=new ar(at,$e+"enter",Ln,p,Vt),ar.target=xt,ar.relatedTarget=Pi,Gt=ar),Pi=Gt,Ct&&Ln)t:{for(ar=qO,at=Ct,$e=Ln,xt=0,Gt=at;Gt;Gt=ar(Gt))xt++;Gt=0;for(var tr=$e;tr;tr=ar(tr))Gt++;for(;0<xt-Gt;)at=ar(at),xt--;for(;0<Gt-xt;)$e=ar($e),Gt--;for(;xt--;){if(at===$e||$e!==null&&at===$e.alternate){ar=at;break t}at=ar(at),$e=ar($e)}ar=null}else ar=null;Ct!==null&&jb(Kt,Et,Ct,ar,!1),Ln!==null&&Pi!==null&&jb(Kt,Pi,Ln,ar,!0)}}e:{if(Et=vt?wt(vt):window,Ct=Et.nodeName&&Et.nodeName.toLowerCase(),Ct==="select"||Ct==="input"&&Et.type==="file")var si=Hs;else if(Tc(Et))if(Pa)si=v;else{si=h;var Un=l}else Ct=Et.nodeName,!Ct||Ct.toLowerCase()!=="input"||Et.type!=="checkbox"&&Et.type!=="radio"?vt&&Qr(vt.elementType)&&(si=Hs):si=g;if(si&&(si=si(a,vt))){Gi(Kt,si,p,Vt);break e}Un&&Un(a,Et,vt),a==="focusout"&&vt&&Et.type==="number"&&vt.memoizedProps.value!=null&&Le(Et,"number",Et.value)}switch(Un=vt?wt(vt):window,a){case"focusin":(Tc(Un)||Un.contentEditable==="true")&&(qe=Un,Ye=vt,nt=null);break;case"focusout":nt=Ye=qe=null;break;case"mousedown":yt=!0;break;case"contextmenu":case"mouseup":case"dragend":yt=!1,Bt(Kt,p,Vt);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Bt(Kt,p,Vt)}var Tr;if(_r)e:{switch(a){case"compositionstart":var zr="onCompositionStart";break e;case"compositionend":zr="onCompositionEnd";break e;case"compositionupdate":zr="onCompositionUpdate";break e}zr=void 0}else $o?io(a,p)&&(zr="onCompositionEnd"):a==="keydown"&&p.keyCode===229&&(zr="onCompositionStart");zr&&(Vs&&p.locale!=="ko"&&($o||zr!=="onCompositionStart"?zr==="onCompositionEnd"&&$o&&(Tr=Po()):(na=Vt,xa="value"in na?na.value:na.textContent,$o=!0)),Un=xg(vt,zr),0<Un.length&&(zr=new et(zr,a,null,p,Vt),Kt.push({event:zr,listeners:Un}),Tr?zr.data=Tr:(Tr=Ma(p),Tr!==null&&(zr.data=Tr)))),(Tr=gs?qi(a,p):_o(a,p))&&(zr=xg(vt,"onBeforeInput"),0<zr.length&&(Un=new et("onBeforeInput","beforeinput",null,p,Vt),Kt.push({event:Un,listeners:zr}),Un.data=Tr)),UO(Kt,a,vt,p,Vt)}Mb(Kt,c)})}function h1(a,c,p){return{instance:a,listener:c,currentTarget:p}}function xg(a,c){for(var p=c+"Capture",y=[];a!==null;){var R=a,P=R.stateNode;if(R=R.tag,R!==5&&R!==26&&R!==27||P===null||(R=Bn(a,p),R!=null&&y.unshift(h1(a,R,P)),R=Bn(a,c),R!=null&&y.push(h1(a,R,P))),a.tag===3)return y;a=a.return}return[]}function qO(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function jb(a,c,p,y,R){for(var P=c._reactName,se=[];p!==null&&p!==y;){var Ee=p,Ge=Ee.alternate,vt=Ee.stateNode;if(Ee=Ee.tag,Ge!==null&&Ge===y)break;Ee!==5&&Ee!==26&&Ee!==27||vt===null||(Ge=vt,R?(vt=Bn(p,P),vt!=null&&se.unshift(h1(p,vt,Ge))):R||(vt=Bn(p,P),vt!=null&&se.push(h1(p,vt,Ge)))),p=p.return}se.length!==0&&a.push({event:c,listeners:se})}var GO=/\r\n?/g,WO=/\u0000|\uFFFD/g;function Fb(a){return(typeof a=="string"?a:""+a).replace(GO,`
`).replace(WO,"")}function Bb(a,c){return c=Fb(c),Fb(a)===c}function Mi(a,c,p,y,R,P){switch(p){case"children":typeof y=="string"?c==="body"||c==="textarea"&&y===""||ds(a,y):(typeof y=="number"||typeof y=="bigint")&&c!=="body"&&ds(a,""+y);break;case"className":as(a,"class",y);break;case"tabIndex":as(a,"tabindex",y);break;case"dir":case"role":case"viewBox":case"width":case"height":as(a,p,y);break;case"style":jn(a,y,P);break;case"data":if(c!=="object"){as(a,"data",y);break}case"src":case"href":if(y===""&&(c!=="a"||p!=="href")){a.removeAttribute(p);break}if(y==null||typeof y=="function"||typeof y=="symbol"||typeof y=="boolean"){a.removeAttribute(p);break}y=Ss(""+y),a.setAttribute(p,y);break;case"action":case"formAction":if(typeof y=="function"){a.setAttribute(p,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof P=="function"&&(p==="formAction"?(c!=="input"&&Mi(a,c,"name",R.name,R,null),Mi(a,c,"formEncType",R.formEncType,R,null),Mi(a,c,"formMethod",R.formMethod,R,null),Mi(a,c,"formTarget",R.formTarget,R,null)):(Mi(a,c,"encType",R.encType,R,null),Mi(a,c,"method",R.method,R,null),Mi(a,c,"target",R.target,R,null)));if(y==null||typeof y=="symbol"||typeof y=="boolean"){a.removeAttribute(p);break}y=Ss(""+y),a.setAttribute(p,y);break;case"onClick":y!=null&&(a.onclick=Js);break;case"onScroll":y!=null&&jr("scroll",a);break;case"onScrollEnd":y!=null&&jr("scrollend",a);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(r(61));if(p=y.__html,p!=null){if(R.children!=null)throw Error(r(60));a.innerHTML=p}}break;case"multiple":a.multiple=y&&typeof y!="function"&&typeof y!="symbol";break;case"muted":a.muted=y&&typeof y!="function"&&typeof y!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(y==null||typeof y=="function"||typeof y=="boolean"||typeof y=="symbol"){a.removeAttribute("xlink:href");break}p=Ss(""+y),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",p);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":y!=null&&typeof y!="function"&&typeof y!="symbol"?a.setAttribute(p,""+y):a.removeAttribute(p);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":y&&typeof y!="function"&&typeof y!="symbol"?a.setAttribute(p,""):a.removeAttribute(p);break;case"capture":case"download":y===!0?a.setAttribute(p,""):y!==!1&&y!=null&&typeof y!="function"&&typeof y!="symbol"?a.setAttribute(p,y):a.removeAttribute(p);break;case"cols":case"rows":case"size":case"span":y!=null&&typeof y!="function"&&typeof y!="symbol"&&!isNaN(y)&&1<=y?a.setAttribute(p,y):a.removeAttribute(p);break;case"rowSpan":case"start":y==null||typeof y=="function"||typeof y=="symbol"||isNaN(y)?a.removeAttribute(p):a.setAttribute(p,y);break;case"popover":jr("beforetoggle",a),jr("toggle",a),ci(a,"popover",y);break;case"xlinkActuate":Ii(a,"http://www.w3.org/1999/xlink","xlink:actuate",y);break;case"xlinkArcrole":Ii(a,"http://www.w3.org/1999/xlink","xlink:arcrole",y);break;case"xlinkRole":Ii(a,"http://www.w3.org/1999/xlink","xlink:role",y);break;case"xlinkShow":Ii(a,"http://www.w3.org/1999/xlink","xlink:show",y);break;case"xlinkTitle":Ii(a,"http://www.w3.org/1999/xlink","xlink:title",y);break;case"xlinkType":Ii(a,"http://www.w3.org/1999/xlink","xlink:type",y);break;case"xmlBase":Ii(a,"http://www.w3.org/XML/1998/namespace","xml:base",y);break;case"xmlLang":Ii(a,"http://www.w3.org/XML/1998/namespace","xml:lang",y);break;case"xmlSpace":Ii(a,"http://www.w3.org/XML/1998/namespace","xml:space",y);break;case"is":ci(a,"is",y);break;case"innerText":case"textContent":break;default:(!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(p=xl.get(p)||p,ci(a,p,y))}}function uv(a,c,p,y,R,P){switch(p){case"style":jn(a,y,P);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(r(61));if(p=y.__html,p!=null){if(R.children!=null)throw Error(r(60));a.innerHTML=p}}break;case"children":typeof y=="string"?ds(a,y):(typeof y=="number"||typeof y=="bigint")&&ds(a,""+y);break;case"onScroll":y!=null&&jr("scroll",a);break;case"onScrollEnd":y!=null&&jr("scrollend",a);break;case"onClick":y!=null&&(a.onclick=Js);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!vr.hasOwnProperty(p))e:{if(p[0]==="o"&&p[1]==="n"&&(R=p.endsWith("Capture"),c=p.slice(2,R?p.length-7:void 0),P=a[Oe]||null,P=P!=null?P[p]:null,typeof P=="function"&&a.removeEventListener(c,P,R),typeof y=="function")){typeof P!="function"&&P!==null&&(p in a?a[p]=null:a.hasAttribute(p)&&a.removeAttribute(p)),a.addEventListener(c,y,R);break e}p in a?a[p]=y:y===!0?a.setAttribute(p,""):ci(a,p,y)}}}function lo(a,c,p){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":jr("error",a),jr("load",a);var y=!1,R=!1,P;for(P in p)if(p.hasOwnProperty(P)){var se=p[P];if(se!=null)switch(P){case"src":y=!0;break;case"srcSet":R=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:Mi(a,c,P,se,p,null)}}R&&Mi(a,c,"srcSet",p.srcSet,p,null),y&&Mi(a,c,"src",p.src,p,null);return;case"input":jr("invalid",a);var Ee=P=se=R=null,Ge=null,vt=null;for(y in p)if(p.hasOwnProperty(y)){var Vt=p[y];if(Vt!=null)switch(y){case"name":R=Vt;break;case"type":se=Vt;break;case"checked":Ge=Vt;break;case"defaultChecked":vt=Vt;break;case"value":P=Vt;break;case"defaultValue":Ee=Vt;break;case"children":case"dangerouslySetInnerHTML":if(Vt!=null)throw Error(r(137,c));break;default:Mi(a,c,y,Vt,p,null)}}ut(a,P,Ee,Ge,vt,se,R,!1);return;case"select":jr("invalid",a),y=se=P=null;for(R in p)if(p.hasOwnProperty(R)&&(Ee=p[R],Ee!=null))switch(R){case"value":P=Ee;break;case"defaultValue":se=Ee;break;case"multiple":y=Ee;default:Mi(a,c,R,Ee,p,null)}c=P,p=se,a.multiple=!!y,c!=null?En(a,!!y,c,!1):p!=null&&En(a,!!y,p,!0);return;case"textarea":jr("invalid",a),P=R=y=null;for(se in p)if(p.hasOwnProperty(se)&&(Ee=p[se],Ee!=null))switch(se){case"value":y=Ee;break;case"defaultValue":R=Ee;break;case"children":P=Ee;break;case"dangerouslySetInnerHTML":if(Ee!=null)throw Error(r(91));break;default:Mi(a,c,se,Ee,p,null)}Hi(a,y,R,P);return;case"option":for(Ge in p)if(p.hasOwnProperty(Ge)&&(y=p[Ge],y!=null))switch(Ge){case"selected":a.selected=y&&typeof y!="function"&&typeof y!="symbol";break;default:Mi(a,c,Ge,y,p,null)}return;case"dialog":jr("beforetoggle",a),jr("toggle",a),jr("cancel",a),jr("close",a);break;case"iframe":case"object":jr("load",a);break;case"video":case"audio":for(y=0;y<u1.length;y++)jr(u1[y],a);break;case"image":jr("error",a),jr("load",a);break;case"details":jr("toggle",a);break;case"embed":case"source":case"link":jr("error",a),jr("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(vt in p)if(p.hasOwnProperty(vt)&&(y=p[vt],y!=null))switch(vt){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:Mi(a,c,vt,y,p,null)}return;default:if(Qr(c)){for(Vt in p)p.hasOwnProperty(Vt)&&(y=p[Vt],y!==void 0&&uv(a,c,Vt,y,p,void 0));return}}for(Ee in p)p.hasOwnProperty(Ee)&&(y=p[Ee],y!=null&&Mi(a,c,Ee,y,p,null))}function XO(a,c,p,y){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var R=null,P=null,se=null,Ee=null,Ge=null,vt=null,Vt=null;for(Ct in p){var Kt=p[Ct];if(p.hasOwnProperty(Ct)&&Kt!=null)switch(Ct){case"checked":break;case"value":break;case"defaultValue":Ge=Kt;default:y.hasOwnProperty(Ct)||Mi(a,c,Ct,null,y,Kt)}}for(var Et in y){var Ct=y[Et];if(Kt=p[Et],y.hasOwnProperty(Et)&&(Ct!=null||Kt!=null))switch(Et){case"type":P=Ct;break;case"name":R=Ct;break;case"checked":vt=Ct;break;case"defaultChecked":Vt=Ct;break;case"value":se=Ct;break;case"defaultValue":Ee=Ct;break;case"children":case"dangerouslySetInnerHTML":if(Ct!=null)throw Error(r(137,c));break;default:Ct!==Kt&&Mi(a,c,Et,Ct,y,Kt)}}Ri(a,se,Ee,Ge,vt,Vt,P,R);return;case"select":Ct=se=Ee=Et=null;for(P in p)if(Ge=p[P],p.hasOwnProperty(P)&&Ge!=null)switch(P){case"value":break;case"multiple":Ct=Ge;default:y.hasOwnProperty(P)||Mi(a,c,P,null,y,Ge)}for(R in y)if(P=y[R],Ge=p[R],y.hasOwnProperty(R)&&(P!=null||Ge!=null))switch(R){case"value":Et=P;break;case"defaultValue":Ee=P;break;case"multiple":se=P;default:P!==Ge&&Mi(a,c,R,P,y,Ge)}c=Ee,p=se,y=Ct,Et!=null?En(a,!!p,Et,!1):!!y!=!!p&&(c!=null?En(a,!!p,c,!0):En(a,!!p,p?[]:"",!1));return;case"textarea":Ct=Et=null;for(Ee in p)if(R=p[Ee],p.hasOwnProperty(Ee)&&R!=null&&!y.hasOwnProperty(Ee))switch(Ee){case"value":break;case"children":break;default:Mi(a,c,Ee,null,y,R)}for(se in y)if(R=y[se],P=p[se],y.hasOwnProperty(se)&&(R!=null||P!=null))switch(se){case"value":Et=R;break;case"defaultValue":Ct=R;break;case"children":break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(r(91));break;default:R!==P&&Mi(a,c,se,R,y,P)}Oi(a,Et,Ct);return;case"option":for(var Ln in p)if(Et=p[Ln],p.hasOwnProperty(Ln)&&Et!=null&&!y.hasOwnProperty(Ln))switch(Ln){case"selected":a.selected=!1;break;default:Mi(a,c,Ln,null,y,Et)}for(Ge in y)if(Et=y[Ge],Ct=p[Ge],y.hasOwnProperty(Ge)&&Et!==Ct&&(Et!=null||Ct!=null))switch(Ge){case"selected":a.selected=Et&&typeof Et!="function"&&typeof Et!="symbol";break;default:Mi(a,c,Ge,Et,y,Ct)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ar in p)Et=p[ar],p.hasOwnProperty(ar)&&Et!=null&&!y.hasOwnProperty(ar)&&Mi(a,c,ar,null,y,Et);for(vt in y)if(Et=y[vt],Ct=p[vt],y.hasOwnProperty(vt)&&Et!==Ct&&(Et!=null||Ct!=null))switch(vt){case"children":case"dangerouslySetInnerHTML":if(Et!=null)throw Error(r(137,c));break;default:Mi(a,c,vt,Et,y,Ct)}return;default:if(Qr(c)){for(var Pi in p)Et=p[Pi],p.hasOwnProperty(Pi)&&Et!==void 0&&!y.hasOwnProperty(Pi)&&uv(a,c,Pi,void 0,y,Et);for(Vt in y)Et=y[Vt],Ct=p[Vt],!y.hasOwnProperty(Vt)||Et===Ct||Et===void 0&&Ct===void 0||uv(a,c,Vt,Et,y,Ct);return}}for(var at in p)Et=p[at],p.hasOwnProperty(at)&&Et!=null&&!y.hasOwnProperty(at)&&Mi(a,c,at,null,y,Et);for(Kt in y)Et=y[Kt],Ct=p[Kt],!y.hasOwnProperty(Kt)||Et===Ct||Et==null&&Ct==null||Mi(a,c,Kt,Et,y,Ct)}function Ub(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function YO(){if(typeof performance.getEntriesByType=="function"){for(var a=0,c=0,p=performance.getEntriesByType("resource"),y=0;y<p.length;y++){var R=p[y],P=R.transferSize,se=R.initiatorType,Ee=R.duration;if(P&&Ee&&Ub(se)){for(se=0,Ee=R.responseEnd,y+=1;y<p.length;y++){var Ge=p[y],vt=Ge.startTime;if(vt>Ee)break;var Vt=Ge.transferSize,Kt=Ge.initiatorType;Vt&&Ub(Kt)&&(Ge=Ge.responseEnd,se+=Vt*(Ge<Ee?1:(Ee-vt)/(Ge-vt)))}if(--y,c+=8*(P+se)/(R.duration/1e3),a++,10<a)break}}if(0<a)return c/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var hv=null,fv=null;function vg(a){return a.nodeType===9?a:a.ownerDocument}function Vb(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function zb(a,c){if(a===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&c==="foreignObject"?0:a}function dv(a,c){return a==="textarea"||a==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var mv=null;function KO(){var a=window.event;return a&&a.type==="popstate"?a===mv?!1:(mv=a,!0):(mv=null,!1)}var Hb=typeof setTimeout=="function"?setTimeout:void 0,$O=typeof clearTimeout=="function"?clearTimeout:void 0,qb=typeof Promise=="function"?Promise:void 0,ZO=typeof queueMicrotask=="function"?queueMicrotask:typeof qb<"u"?function(a){return qb.resolve(null).then(a).catch(QO)}:Hb;function QO(a){setTimeout(function(){throw a})}function mh(a){return a==="head"}function Gb(a,c){var p=c,y=0;do{var R=p.nextSibling;if(a.removeChild(p),R&&R.nodeType===8)if(p=R.data,p==="/$"||p==="/&"){if(y===0){a.removeChild(R),Pd(c);return}y--}else if(p==="$"||p==="$?"||p==="$~"||p==="$!"||p==="&")y++;else if(p==="html")f1(a.ownerDocument.documentElement);else if(p==="head"){p=a.ownerDocument.head,f1(p);for(var P=p.firstChild;P;){var se=P.nextSibling,Ee=P.nodeName;P[ht]||Ee==="SCRIPT"||Ee==="STYLE"||Ee==="LINK"&&P.rel.toLowerCase()==="stylesheet"||p.removeChild(P),P=se}}else p==="body"&&f1(a.ownerDocument.body);p=R}while(p);Pd(c)}function Wb(a,c){var p=a;a=0;do{var y=p.nextSibling;if(p.nodeType===1?c?(p._stashedDisplay=p.style.display,p.style.display="none"):(p.style.display=p._stashedDisplay||"",p.getAttribute("style")===""&&p.removeAttribute("style")):p.nodeType===3&&(c?(p._stashedText=p.nodeValue,p.nodeValue=""):p.nodeValue=p._stashedText||""),y&&y.nodeType===8)if(p=y.data,p==="/$"){if(a===0)break;a--}else p!=="$"&&p!=="$?"&&p!=="$~"&&p!=="$!"||a++;p=y}while(p)}function gv(a){var c=a.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var p=c;switch(c=c.nextSibling,p.nodeName){case"HTML":case"HEAD":case"BODY":gv(p),qt(p);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(p.rel.toLowerCase()==="stylesheet")continue}a.removeChild(p)}}function JO(a,c,p,y){for(;a.nodeType===1;){var R=p;if(a.nodeName.toLowerCase()!==c.toLowerCase()){if(!y&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(y){if(!a[ht])switch(c){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(P=a.getAttribute("rel"),P==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(P!==R.rel||a.getAttribute("href")!==(R.href==null||R.href===""?null:R.href)||a.getAttribute("crossorigin")!==(R.crossOrigin==null?null:R.crossOrigin)||a.getAttribute("title")!==(R.title==null?null:R.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(P=a.getAttribute("src"),(P!==(R.src==null?null:R.src)||a.getAttribute("type")!==(R.type==null?null:R.type)||a.getAttribute("crossorigin")!==(R.crossOrigin==null?null:R.crossOrigin))&&P&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(c==="input"&&a.type==="hidden"){var P=R.name==null?null:""+R.name;if(R.type==="hidden"&&a.getAttribute("name")===P)return a}else return a;if(a=Hl(a.nextSibling),a===null)break}return null}function ek(a,c,p){if(c==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!p||(a=Hl(a.nextSibling),a===null))return null;return a}function Xb(a,c){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!c||(a=Hl(a.nextSibling),a===null))return null;return a}function pv(a){return a.data==="$?"||a.data==="$~"}function xv(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function tk(a,c){var p=a.ownerDocument;if(a.data==="$~")a._reactRetry=c;else if(a.data!=="$?"||p.readyState!=="loading")c();else{var y=function(){c(),p.removeEventListener("DOMContentLoaded",y)};p.addEventListener("DOMContentLoaded",y),a._reactRetry=y}}function Hl(a){for(;a!=null;a=a.nextSibling){var c=a.nodeType;if(c===1||c===3)break;if(c===8){if(c=a.data,c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"||c==="F!"||c==="F")break;if(c==="/$"||c==="/&")return null}}return a}var vv=null;function Yb(a){a=a.nextSibling;for(var c=0;a;){if(a.nodeType===8){var p=a.data;if(p==="/$"||p==="/&"){if(c===0)return Hl(a.nextSibling);c--}else p!=="$"&&p!=="$!"&&p!=="$?"&&p!=="$~"&&p!=="&"||c++}a=a.nextSibling}return null}function Kb(a){a=a.previousSibling;for(var c=0;a;){if(a.nodeType===8){var p=a.data;if(p==="$"||p==="$!"||p==="$?"||p==="$~"||p==="&"){if(c===0)return a;c--}else p!=="/$"&&p!=="/&"||c++}a=a.previousSibling}return null}function $b(a,c,p){switch(c=vg(p),a){case"html":if(a=c.documentElement,!a)throw Error(r(452));return a;case"head":if(a=c.head,!a)throw Error(r(453));return a;case"body":if(a=c.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function f1(a){for(var c=a.attributes;c.length;)a.removeAttributeNode(c[0]);qt(a)}var ql=new Map,Zb=new Set;function _g(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var Tu=xe.d;xe.d={f:nk,r:rk,D:ik,C:sk,L:ak,m:ok,X:ck,S:lk,M:uk};function nk(){var a=Tu.f(),c=ug();return a||c}function rk(a){var c=Mt(a);c!==null&&c.tag===5&&c.type==="form"?m3(c):Tu.r(a)}var Dd=typeof document>"u"?null:document;function Qb(a,c,p){var y=Dd;if(y&&typeof c=="string"&&c){var R=sr(c);R='link[rel="'+a+'"][href="'+R+'"]',typeof p=="string"&&(R+='[crossorigin="'+p+'"]'),Zb.has(R)||(Zb.add(R),a={rel:a,crossOrigin:p,href:c},y.querySelector(R)===null&&(c=y.createElement("link"),lo(c,"link",a),Tn(c),y.head.appendChild(c)))}}function ik(a){Tu.D(a),Qb("dns-prefetch",a,null)}function sk(a,c){Tu.C(a,c),Qb("preconnect",a,c)}function ak(a,c,p){Tu.L(a,c,p);var y=Dd;if(y&&a&&c){var R='link[rel="preload"][as="'+sr(c)+'"]';c==="image"&&p&&p.imageSrcSet?(R+='[imagesrcset="'+sr(p.imageSrcSet)+'"]',typeof p.imageSizes=="string"&&(R+='[imagesizes="'+sr(p.imageSizes)+'"]')):R+='[href="'+sr(a)+'"]';var P=R;switch(c){case"style":P=Ld(a);break;case"script":P=Md(a)}ql.has(P)||(a=w({rel:"preload",href:c==="image"&&p&&p.imageSrcSet?void 0:a,as:c},p),ql.set(P,a),y.querySelector(R)!==null||c==="style"&&y.querySelector(d1(P))||c==="script"&&y.querySelector(m1(P))||(c=y.createElement("link"),lo(c,"link",a),Tn(c),y.head.appendChild(c)))}}function ok(a,c){Tu.m(a,c);var p=Dd;if(p&&a){var y=c&&typeof c.as=="string"?c.as:"script",R='link[rel="modulepreload"][as="'+sr(y)+'"][href="'+sr(a)+'"]',P=R;switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":P=Md(a)}if(!ql.has(P)&&(a=w({rel:"modulepreload",href:a},c),ql.set(P,a),p.querySelector(R)===null)){switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(p.querySelector(m1(P)))return}y=p.createElement("link"),lo(y,"link",a),Tn(y),p.head.appendChild(y)}}}function lk(a,c,p){Tu.S(a,c,p);var y=Dd;if(y&&a){var R=nn(y).hoistableStyles,P=Ld(a);c=c||"default";var se=R.get(P);if(!se){var Ee={loading:0,preload:null};if(se=y.querySelector(d1(P)))Ee.loading=5;else{a=w({rel:"stylesheet",href:a,"data-precedence":c},p),(p=ql.get(P))&&_v(a,p);var Ge=se=y.createElement("link");Tn(Ge),lo(Ge,"link",a),Ge._p=new Promise(function(vt,Vt){Ge.onload=vt,Ge.onerror=Vt}),Ge.addEventListener("load",function(){Ee.loading|=1}),Ge.addEventListener("error",function(){Ee.loading|=2}),Ee.loading|=4,yg(se,c,y)}se={type:"stylesheet",instance:se,count:1,state:Ee},R.set(P,se)}}}function ck(a,c){Tu.X(a,c);var p=Dd;if(p&&a){var y=nn(p).hoistableScripts,R=Md(a),P=y.get(R);P||(P=p.querySelector(m1(R)),P||(a=w({src:a,async:!0},c),(c=ql.get(R))&&yv(a,c),P=p.createElement("script"),Tn(P),lo(P,"link",a),p.head.appendChild(P)),P={type:"script",instance:P,count:1,state:null},y.set(R,P))}}function uk(a,c){Tu.M(a,c);var p=Dd;if(p&&a){var y=nn(p).hoistableScripts,R=Md(a),P=y.get(R);P||(P=p.querySelector(m1(R)),P||(a=w({src:a,async:!0,type:"module"},c),(c=ql.get(R))&&yv(a,c),P=p.createElement("script"),Tn(P),lo(P,"link",a),p.head.appendChild(P)),P={type:"script",instance:P,count:1,state:null},y.set(R,P))}}function Jb(a,c,p,y){var R=(R=de.current)?_g(R):null;if(!R)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof p.precedence=="string"&&typeof p.href=="string"?(c=Ld(p.href),p=nn(R).hoistableStyles,y=p.get(c),y||(y={type:"style",instance:null,count:0,state:null},p.set(c,y)),y):{type:"void",instance:null,count:0,state:null};case"link":if(p.rel==="stylesheet"&&typeof p.href=="string"&&typeof p.precedence=="string"){a=Ld(p.href);var P=nn(R).hoistableStyles,se=P.get(a);if(se||(R=R.ownerDocument||R,se={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},P.set(a,se),(P=R.querySelector(d1(a)))&&!P._p&&(se.instance=P,se.state.loading=5),ql.has(a)||(p={rel:"preload",as:"style",href:p.href,crossOrigin:p.crossOrigin,integrity:p.integrity,media:p.media,hrefLang:p.hrefLang,referrerPolicy:p.referrerPolicy},ql.set(a,p),P||hk(R,a,p,se.state))),c&&y===null)throw Error(r(528,""));return se}if(c&&y!==null)throw Error(r(529,""));return null;case"script":return c=p.async,p=p.src,typeof p=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=Md(p),p=nn(R).hoistableScripts,y=p.get(c),y||(y={type:"script",instance:null,count:0,state:null},p.set(c,y)),y):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function Ld(a){return'href="'+sr(a)+'"'}function d1(a){return'link[rel="stylesheet"]['+a+"]"}function e4(a){return w({},a,{"data-precedence":a.precedence,precedence:null})}function hk(a,c,p,y){a.querySelector('link[rel="preload"][as="style"]['+c+"]")?y.loading=1:(c=a.createElement("link"),y.preload=c,c.addEventListener("load",function(){return y.loading|=1}),c.addEventListener("error",function(){return y.loading|=2}),lo(c,"link",p),Tn(c),a.head.appendChild(c))}function Md(a){return'[src="'+sr(a)+'"]'}function m1(a){return"script[async]"+a}function t4(a,c,p){if(c.count++,c.instance===null)switch(c.type){case"style":var y=a.querySelector('style[data-href~="'+sr(p.href)+'"]');if(y)return c.instance=y,Tn(y),y;var R=w({},p,{"data-href":p.href,"data-precedence":p.precedence,href:null,precedence:null});return y=(a.ownerDocument||a).createElement("style"),Tn(y),lo(y,"style",R),yg(y,p.precedence,a),c.instance=y;case"stylesheet":R=Ld(p.href);var P=a.querySelector(d1(R));if(P)return c.state.loading|=4,c.instance=P,Tn(P),P;y=e4(p),(R=ql.get(R))&&_v(y,R),P=(a.ownerDocument||a).createElement("link"),Tn(P);var se=P;return se._p=new Promise(function(Ee,Ge){se.onload=Ee,se.onerror=Ge}),lo(P,"link",y),c.state.loading|=4,yg(P,p.precedence,a),c.instance=P;case"script":return P=Md(p.src),(R=a.querySelector(m1(P)))?(c.instance=R,Tn(R),R):(y=p,(R=ql.get(P))&&(y=w({},p),yv(y,R)),a=a.ownerDocument||a,R=a.createElement("script"),Tn(R),lo(R,"link",y),a.head.appendChild(R),c.instance=R);case"void":return null;default:throw Error(r(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(y=c.instance,c.state.loading|=4,yg(y,p.precedence,a));return c.instance}function yg(a,c,p){for(var y=p.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),R=y.length?y[y.length-1]:null,P=R,se=0;se<y.length;se++){var Ee=y[se];if(Ee.dataset.precedence===c)P=Ee;else if(P!==R)break}P?P.parentNode.insertBefore(a,P.nextSibling):(c=p.nodeType===9?p.head:p,c.insertBefore(a,c.firstChild))}function _v(a,c){a.crossOrigin==null&&(a.crossOrigin=c.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=c.referrerPolicy),a.title==null&&(a.title=c.title)}function yv(a,c){a.crossOrigin==null&&(a.crossOrigin=c.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=c.referrerPolicy),a.integrity==null&&(a.integrity=c.integrity)}var wg=null;function n4(a,c,p){if(wg===null){var y=new Map,R=wg=new Map;R.set(p,y)}else R=wg,y=R.get(p),y||(y=new Map,R.set(p,y));if(y.has(a))return y;for(y.set(a,null),p=p.getElementsByTagName(a),R=0;R<p.length;R++){var P=p[R];if(!(P[ht]||P[Ce]||a==="link"&&P.getAttribute("rel")==="stylesheet")&&P.namespaceURI!=="http://www.w3.org/2000/svg"){var se=P.getAttribute(c)||"";se=a+se;var Ee=y.get(se);Ee?Ee.push(P):y.set(se,[P])}}return y}function r4(a,c,p){a=a.ownerDocument||a,a.head.insertBefore(p,c==="title"?a.querySelector("head > title"):null)}function fk(a,c,p){if(p===1||c.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return a=c.disabled,typeof c.precedence=="string"&&a==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function i4(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function dk(a,c,p,y){if(p.type==="stylesheet"&&(typeof y.media!="string"||matchMedia(y.media).matches!==!1)&&(p.state.loading&4)===0){if(p.instance===null){var R=Ld(y.href),P=c.querySelector(d1(R));if(P){c=P._p,c!==null&&typeof c=="object"&&typeof c.then=="function"&&(a.count++,a=bg.bind(a),c.then(a,a)),p.state.loading|=4,p.instance=P,Tn(P);return}P=c.ownerDocument||c,y=e4(y),(R=ql.get(R))&&_v(y,R),P=P.createElement("link"),Tn(P);var se=P;se._p=new Promise(function(Ee,Ge){se.onload=Ee,se.onerror=Ge}),lo(P,"link",y),p.instance=P}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(p,c),(c=p.state.preload)&&(p.state.loading&3)===0&&(a.count++,p=bg.bind(a),c.addEventListener("load",p),c.addEventListener("error",p))}}var wv=0;function mk(a,c){return a.stylesheets&&a.count===0&&Ag(a,a.stylesheets),0<a.count||0<a.imgCount?function(p){var y=setTimeout(function(){if(a.stylesheets&&Ag(a,a.stylesheets),a.unsuspend){var P=a.unsuspend;a.unsuspend=null,P()}},6e4+c);0<a.imgBytes&&wv===0&&(wv=62500*YO());var R=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&Ag(a,a.stylesheets),a.unsuspend)){var P=a.unsuspend;a.unsuspend=null,P()}},(a.imgBytes>wv?50:800)+c);return a.unsuspend=p,function(){a.unsuspend=null,clearTimeout(y),clearTimeout(R)}}:null}function bg(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ag(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Eg=null;function Ag(a,c){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Eg=new Map,c.forEach(gk,a),Eg=null,bg.call(a))}function gk(a,c){if(!(c.state.loading&4)){var p=Eg.get(a);if(p)var y=p.get(null);else{p=new Map,Eg.set(a,p);for(var R=a.querySelectorAll("link[data-precedence],style[data-precedence]"),P=0;P<R.length;P++){var se=R[P];(se.nodeName==="LINK"||se.getAttribute("media")!=="not all")&&(p.set(se.dataset.precedence,se),y=se)}y&&p.set(null,y)}R=c.instance,se=R.getAttribute("data-precedence"),P=p.get(se)||y,P===y&&p.set(null,R),p.set(se,R),this.count++,y=bg.bind(this),R.addEventListener("load",y),R.addEventListener("error",y),P?P.parentNode.insertBefore(R,P.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(R,a.firstChild)),c.state.loading|=4}}var g1={$$typeof:M,Provider:null,Consumer:null,_currentValue:Re,_currentValue2:Re,_threadCount:0};function pk(a,c,p,y,R,P,se,Ee,Ge){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Kr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Kr(0),this.hiddenUpdates=Kr(null),this.identifierPrefix=y,this.onUncaughtError=R,this.onCaughtError=P,this.onRecoverableError=se,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Ge,this.incompleteTransitions=new Map}function s4(a,c,p,y,R,P,se,Ee,Ge,vt,Vt,Kt){return a=new pk(a,c,p,se,Ge,vt,Vt,Kt,Ee),c=1,P===!0&&(c|=24),P=Ua(3,null,null,c),a.current=P,P.stateNode=a,c=nh(),c.refCount++,a.pooledCache=c,c.refCount++,P.memoizedState={element:y,isDehydrated:p,cache:c},yn(P),a}function a4(a){return a?(a=ya,a):ya}function o4(a,c,p,y,R,P){R=a4(R),y.context===null?y.context=R:y.pendingContext=R,y=ir(c),y.payload={element:p},P=P===void 0?null:P,P!==null&&(y.callback=P),p=Sr(a,y,c),p!==null&&(ul(p,a,c),fi(p,a,c))}function l4(a,c){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var p=a.retryLane;a.retryLane=p!==0&&p<c?p:c}}function bv(a,c){l4(a,c),(a=a.alternate)&&l4(a,c)}function c4(a){if(a.tag===13||a.tag===31){var c=rc(a,67108864);c!==null&&ul(c,a,67108864),bv(a,67108864)}}function u4(a){if(a.tag===13||a.tag===31){var c=El();c=lr(c);var p=rc(a,c);p!==null&&ul(p,a,c),bv(a,c)}}var Sg=!0;function xk(a,c,p,y){var R=Ae.T;Ae.T=null;var P=xe.p;try{xe.p=2,Ev(a,c,p,y)}finally{xe.p=P,Ae.T=R}}function vk(a,c,p,y){var R=Ae.T;Ae.T=null;var P=xe.p;try{xe.p=8,Ev(a,c,p,y)}finally{xe.p=P,Ae.T=R}}function Ev(a,c,p,y){if(Sg){var R=Av(y);if(R===null)cv(a,c,y,Tg,p),f4(a,y);else if(yk(R,a,c,p,y))y.stopPropagation();else if(f4(a,y),c&4&&-1<_k.indexOf(a)){for(;R!==null;){var P=Mt(R);if(P!==null)switch(P.tag){case 3:if(P=P.stateNode,P.current.memoizedState.isDehydrated){var se=gn(P.pendingLanes);if(se!==0){var Ee=P;for(Ee.pendingLanes|=2,Ee.entangledLanes|=2;se;){var Ge=1<<31-It(se);Ee.entanglements[1]|=Ge,se&=~Ge}Bc(P),(mi&6)===0&&(lg=st()+500,c1(0))}}break;case 31:case 13:Ee=rc(P,2),Ee!==null&&ul(Ee,P,2),ug(),bv(P,2)}if(P=Av(y),P===null&&cv(a,c,y,Tg,p),P===R)break;R=P}R!==null&&y.stopPropagation()}else cv(a,c,y,null,p)}}function Av(a){return a=ea(a),Sv(a)}var Tg=null;function Sv(a){if(Tg=null,a=Ot(a),a!==null){var c=s(a);if(c===null)a=null;else{var p=c.tag;if(p===13){if(a=o(c),a!==null)return a;a=null}else if(p===31){if(a=u(c),a!==null)return a;a=null}else if(p===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;a=null}else c!==a&&(a=null)}}return Tg=a,null}function h4(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Yt()){case rn:return 2;case hn:return 8;case xn:case on:return 32;case bn:return 268435456;default:return 32}default:return 32}}var Tv=!1,gh=null,ph=null,xh=null,p1=new Map,x1=new Map,vh=[],_k="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function f4(a,c){switch(a){case"focusin":case"focusout":gh=null;break;case"dragenter":case"dragleave":ph=null;break;case"mouseover":case"mouseout":xh=null;break;case"pointerover":case"pointerout":p1.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":x1.delete(c.pointerId)}}function v1(a,c,p,y,R,P){return a===null||a.nativeEvent!==P?(a={blockedOn:c,domEventName:p,eventSystemFlags:y,nativeEvent:P,targetContainers:[R]},c!==null&&(c=Mt(c),c!==null&&c4(c)),a):(a.eventSystemFlags|=y,c=a.targetContainers,R!==null&&c.indexOf(R)===-1&&c.push(R),a)}function yk(a,c,p,y,R){switch(c){case"focusin":return gh=v1(gh,a,c,p,y,R),!0;case"dragenter":return ph=v1(ph,a,c,p,y,R),!0;case"mouseover":return xh=v1(xh,a,c,p,y,R),!0;case"pointerover":var P=R.pointerId;return p1.set(P,v1(p1.get(P)||null,a,c,p,y,R)),!0;case"gotpointercapture":return P=R.pointerId,x1.set(P,v1(x1.get(P)||null,a,c,p,y,R)),!0}return!1}function d4(a){var c=Ot(a.target);if(c!==null){var p=s(c);if(p!==null){if(c=p.tag,c===13){if(c=o(p),c!==null){a.blockedOn=c,be(a.priority,function(){u4(p)});return}}else if(c===31){if(c=u(p),c!==null){a.blockedOn=c,be(a.priority,function(){u4(p)});return}}else if(c===3&&p.stateNode.current.memoizedState.isDehydrated){a.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Ng(a){if(a.blockedOn!==null)return!1;for(var c=a.targetContainers;0<c.length;){var p=Av(a.nativeEvent);if(p===null){p=a.nativeEvent;var y=new p.constructor(p.type,p);Ja=y,p.target.dispatchEvent(y),Ja=null}else return c=Mt(p),c!==null&&c4(c),a.blockedOn=p,!1;c.shift()}return!0}function m4(a,c,p){Ng(a)&&p.delete(c)}function wk(){Tv=!1,gh!==null&&Ng(gh)&&(gh=null),ph!==null&&Ng(ph)&&(ph=null),xh!==null&&Ng(xh)&&(xh=null),p1.forEach(m4),x1.forEach(m4)}function Cg(a,c){a.blockedOn===c&&(a.blockedOn=null,Tv||(Tv=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,wk)))}var Ig=null;function g4(a){Ig!==a&&(Ig=a,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Ig===a&&(Ig=null);for(var c=0;c<a.length;c+=3){var p=a[c],y=a[c+1],R=a[c+2];if(typeof y!="function"){if(Sv(y||p)===null)continue;break}var P=Mt(p);P!==null&&(a.splice(c,3),c-=3,Ax(P,{pending:!0,data:R,method:p.method,action:y},y,R))}}))}function Pd(a){function c(Ge){return Cg(Ge,a)}gh!==null&&Cg(gh,a),ph!==null&&Cg(ph,a),xh!==null&&Cg(xh,a),p1.forEach(c),x1.forEach(c);for(var p=0;p<vh.length;p++){var y=vh[p];y.blockedOn===a&&(y.blockedOn=null)}for(;0<vh.length&&(p=vh[0],p.blockedOn===null);)d4(p),p.blockedOn===null&&vh.shift();if(p=(a.ownerDocument||a).$$reactFormReplay,p!=null)for(y=0;y<p.length;y+=3){var R=p[y],P=p[y+1],se=R[Oe]||null;if(typeof P=="function")se||g4(p);else if(se){var Ee=null;if(P&&P.hasAttribute("formAction")){if(R=P,se=P[Oe]||null)Ee=se.formAction;else if(Sv(R)!==null)continue}else Ee=se.action;typeof Ee=="function"?p[y+1]=Ee:(p.splice(y,3),y-=3),g4(p)}}}function p4(){function a(P){P.canIntercept&&P.info==="react-transition"&&P.intercept({handler:function(){return new Promise(function(se){return R=se})},focusReset:"manual",scroll:"manual"})}function c(){R!==null&&(R(),R=null),y||setTimeout(p,20)}function p(){if(!y&&!navigation.transition){var P=navigation.currentEntry;P&&P.url!=null&&navigation.navigate(P.url,{state:P.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var y=!1,R=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",c),navigation.addEventListener("navigateerror",c),setTimeout(p,100),function(){y=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",c),navigation.removeEventListener("navigateerror",c),R!==null&&(R(),R=null)}}}function Nv(a){this._internalRoot=a}Rg.prototype.render=Nv.prototype.render=function(a){var c=this._internalRoot;if(c===null)throw Error(r(409));var p=c.current,y=El();o4(p,y,a,c,null,null)},Rg.prototype.unmount=Nv.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var c=a.containerInfo;o4(a.current,2,null,a,null,null),ug(),c[Me]=null}};function Rg(a){this._internalRoot=a}Rg.prototype.unstable_scheduleHydration=function(a){if(a){var c=ge();a={blockedOn:null,target:a,priority:c};for(var p=0;p<vh.length&&c!==0&&c<vh[p].priority;p++);vh.splice(p,0,a),p===0&&d4(a)}};var x4=e.version;if(x4!=="19.2.3")throw Error(r(527,x4,"19.2.3"));xe.findDOMNode=function(a){var c=a._reactInternals;if(c===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=d(c),a=a!==null?x(a):null,a=a===null?null:a.stateNode,a};var bk={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Ae,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Og=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Og.isDisabled&&Og.supportsFiber)try{an=Og.inject(bk),dt=Og}catch{}}return y1.createRoot=function(a,c){if(!i(a))throw Error(r(299));var p=!1,y="",R=A3,P=S3,se=T3;return c!=null&&(c.unstable_strictMode===!0&&(p=!0),c.identifierPrefix!==void 0&&(y=c.identifierPrefix),c.onUncaughtError!==void 0&&(R=c.onUncaughtError),c.onCaughtError!==void 0&&(P=c.onCaughtError),c.onRecoverableError!==void 0&&(se=c.onRecoverableError)),c=s4(a,1,!1,null,null,p,y,null,R,P,se,p4),a[Me]=c.current,lv(a),new Nv(c)},y1.hydrateRoot=function(a,c,p){if(!i(a))throw Error(r(299));var y=!1,R="",P=A3,se=S3,Ee=T3,Ge=null;return p!=null&&(p.unstable_strictMode===!0&&(y=!0),p.identifierPrefix!==void 0&&(R=p.identifierPrefix),p.onUncaughtError!==void 0&&(P=p.onUncaughtError),p.onCaughtError!==void 0&&(se=p.onCaughtError),p.onRecoverableError!==void 0&&(Ee=p.onRecoverableError),p.formState!==void 0&&(Ge=p.formState)),c=s4(a,1,!0,c,p??null,y,R,Ge,P,se,Ee,p4),c.context=a4(null),p=c.current,y=El(),y=lr(y),R=ir(y),R.callback=null,Sr(p,R,y),p=y,c.current.lanes=p,On(c,p),Bc(c),a[Me]=c.current,lv(a),new Rg(c)},y1.version="19.2.3",y1}var N4;function Dk(){if(N4)return Rv.exports;N4=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Rv.exports=kk(),Rv.exports}var Lk=Dk();var C4="popstate";function Mk(n={}){function e(i,s){let{pathname:o="/",search:u="",hash:f=""}=Vf(i.location.hash.substring(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),oy("",{pathname:o,search:u,hash:f},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(i,s){let o=i.document.querySelector("base"),u="";if(o&&o.getAttribute("href")){let f=i.location.href,d=f.indexOf("#");u=d===-1?f:f.slice(0,d)}return u+"#"+(typeof s=="string"?s:J1(s))}function r(i,s){Ml(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(s)})`)}return jk(e,t,r,n)}function fs(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Ml(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Pk(){return Math.random().toString(36).substring(2,10)}function I4(n,e){return{usr:n.state,key:n.key,idx:e}}function oy(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Vf(e):e,state:t,key:e&&e.key||r||Pk()}}function J1({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Vf(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function jk(n,e,t,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,u="POP",f=null,d=x();d==null&&(d=0,o.replaceState({...o.state,idx:d},""));function x(){return(o.state||{idx:null}).idx}function w(){u="POP";let L=x(),j=L==null?null:L-d;d=L,f&&f({action:u,location:C.location,delta:j})}function A(L,j){u="PUSH";let W=oy(C.location,L,j);t&&t(W,L),d=x()+1;let M=I4(W,d),G=C.createHref(W);try{o.pushState(M,"",G)}catch(ce){if(ce instanceof DOMException&&ce.name==="DataCloneError")throw ce;i.location.assign(G)}s&&f&&f({action:u,location:C.location,delta:1})}function E(L,j){u="REPLACE";let W=oy(C.location,L,j);t&&t(W,L),d=x();let M=I4(W,d),G=C.createHref(W);o.replaceState(M,"",G),s&&f&&f({action:u,location:C.location,delta:0})}function I(L){return Fk(L)}let C={get action(){return u},get location(){return n(i,o)},listen(L){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(C4,w),f=L,()=>{i.removeEventListener(C4,w),f=null}},createHref(L){return e(i,L)},createURL:I,encodeLocation(L){let j=I(L);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:A,replace:E,go(L){return o.go(L)}};return C}function Fk(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),fs(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:J1(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function W6(n,e,t="/"){return Bk(n,e,t,!1)}function Bk(n,e,t,r){let i=typeof e=="string"?Vf(e):e,s=Uu(i.pathname||"/",t);if(s==null)return null;let o=X6(n);Uk(o);let u=null;for(let f=0;u==null&&f<o.length;++f){let d=Zk(s);u=Kk(o[f],d,r)}return u}function X6(n,e=[],t=[],r="",i=!1){let s=(o,u,f=i,d)=>{let x={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:u,route:o};if(x.relativePath.startsWith("/")){if(!x.relativePath.startsWith(r)&&f)return;fs(x.relativePath.startsWith(r),`Absolute route path "${x.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),x.relativePath=x.relativePath.slice(r.length)}let w=Lu([r,x.relativePath]),A=t.concat(x);o.children&&o.children.length>0&&(fs(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${w}".`),X6(o.children,e,A,w,f)),!(o.path==null&&!o.index)&&e.push({path:w,score:Xk(w,o.index),routesMeta:A})};return n.forEach((o,u)=>{if(o.path===""||!o.path?.includes("?"))s(o,u);else for(let f of Y6(o.path))s(o,u,!0,f)}),e}function Y6(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),s=t.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=Y6(r.join("/")),u=[];return u.push(...o.map(f=>f===""?s:[s,f].join("/"))),i&&u.push(...o),u.map(f=>n.startsWith("/")&&f===""?"/":f)}function Uk(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:Yk(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var Vk=/^:[\w-]+$/,zk=3,Hk=2,qk=1,Gk=10,Wk=-2,R4=n=>n==="*";function Xk(n,e){let t=n.split("/"),r=t.length;return t.some(R4)&&(r+=Wk),e&&(r+=Hk),t.filter(i=>!R4(i)).reduce((i,s)=>i+(Vk.test(s)?zk:s===""?qk:Gk),r)}function Yk(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function Kk(n,e,t=!1){let{routesMeta:r}=n,i={},s="/",o=[];for(let u=0;u<r.length;++u){let f=r[u],d=u===r.length-1,x=s==="/"?e:e.slice(s.length)||"/",w=Lp({path:f.relativePath,caseSensitive:f.caseSensitive,end:d},x),A=f.route;if(!w&&d&&t&&!r[r.length-1].route.index&&(w=Lp({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},x)),!w)return null;Object.assign(i,w.params),o.push({params:i,pathname:Lu([s,w.pathname]),pathnameBase:n9(Lu([s,w.pathnameBase])),route:A}),w.pathnameBase!=="/"&&(s=Lu([s,w.pathnameBase]))}return o}function Lp(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=$k(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((d,{paramName:x,isOptional:w},A)=>{if(x==="*"){let I=u[A]||"";o=s.slice(0,s.length-I.length).replace(/(.)\/+$/,"$1")}const E=u[A];return w&&!E?d[x]=void 0:d[x]=(E||"").replace(/%2F/g,"/"),d},{}),pathname:s,pathnameBase:o,pattern:n}}function $k(n,e=!1,t=!0){Ml(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,u,f)=>(r.push({paramName:u,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Zk(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ml(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Uu(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}var Qk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Jk=n=>Qk.test(n);function e9(n,e="/"){let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?Vf(n):n,s;if(t)if(Jk(t))s=t;else{if(t.includes("//")){let o=t;t=t.replace(/\/\/+/g,"/"),Ml(!1,`Pathnames cannot have embedded double slashes - normalizing ${o} -> ${t}`)}t.startsWith("/")?s=O4(t.substring(1),"/"):s=O4(t,e)}else s=e;return{pathname:s,search:r9(r),hash:i9(i)}}function O4(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function Lv(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function t9(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function fw(n){let e=t9(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function dw(n,e,t,r=!1){let i;typeof n=="string"?i=Vf(n):(i={...n},fs(!i.pathname||!i.pathname.includes("?"),Lv("?","pathname","search",i)),fs(!i.pathname||!i.pathname.includes("#"),Lv("#","pathname","hash",i)),fs(!i.search||!i.search.includes("#"),Lv("#","search","hash",i)));let s=n===""||i.pathname==="",o=s?"/":i.pathname,u;if(o==null)u=t;else{let w=e.length-1;if(!r&&o.startsWith("..")){let A=o.split("/");for(;A[0]==="..";)A.shift(),w-=1;i.pathname=A.join("/")}u=w>=0?e[w]:"/"}let f=e9(i,u),d=o&&o!=="/"&&o.endsWith("/"),x=(s||o===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(d||x)&&(f.pathname+="/"),f}var Lu=n=>n.join("/").replace(/\/\/+/g,"/"),n9=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),r9=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,i9=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function s9(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function a9(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var K6=["POST","PUT","PATCH","DELETE"];new Set(K6);var o9=["GET",...K6];new Set(o9);var C0=ae.createContext(null);C0.displayName="DataRouter";var I2=ae.createContext(null);I2.displayName="DataRouterState";ae.createContext(!1);var $6=ae.createContext({isTransitioning:!1});$6.displayName="ViewTransition";var l9=ae.createContext(new Map);l9.displayName="Fetchers";var c9=ae.createContext(null);c9.displayName="Await";var Ql=ae.createContext(null);Ql.displayName="Navigation";var vm=ae.createContext(null);vm.displayName="Location";var su=ae.createContext({outlet:null,matches:[],isDataRoute:!1});su.displayName="Route";var mw=ae.createContext(null);mw.displayName="RouteError";function u9(n,{relative:e}={}){fs(I0(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=ae.useContext(Ql),{hash:i,pathname:s,search:o}=_m(n,{relative:e}),u=s;return t!=="/"&&(u=s==="/"?t:Lu([t,s])),r.createHref({pathname:u,search:o,hash:i})}function I0(){return ae.useContext(vm)!=null}function Yo(){return fs(I0(),"useLocation() may be used only in the context of a <Router> component."),ae.useContext(vm).location}var Z6="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Q6(n){ae.useContext(Ql).static||ae.useLayoutEffect(n)}function Qa(){let{isDataRoute:n}=ae.useContext(su);return n?E9():h9()}function h9(){fs(I0(),"useNavigate() may be used only in the context of a <Router> component.");let n=ae.useContext(C0),{basename:e,navigator:t}=ae.useContext(Ql),{matches:r}=ae.useContext(su),{pathname:i}=Yo(),s=JSON.stringify(fw(r)),o=ae.useRef(!1);return Q6(()=>{o.current=!0}),ae.useCallback((f,d={})=>{if(Ml(o.current,Z6),!o.current)return;if(typeof f=="number"){t.go(f);return}let x=dw(f,JSON.parse(s),i,d.relative==="path");n==null&&e!=="/"&&(x.pathname=x.pathname==="/"?e:Lu([e,x.pathname])),(d.replace?t.replace:t.push)(x,d.state,d)},[e,t,s,i,n])}ae.createContext(null);function _m(n,{relative:e}={}){let{matches:t}=ae.useContext(su),{pathname:r}=Yo(),i=JSON.stringify(fw(t));return ae.useMemo(()=>dw(n,JSON.parse(i),r,e==="path"),[n,i,r,e])}function f9(n,e){return J6(n,e)}function J6(n,e,t,r,i){fs(I0(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=ae.useContext(Ql),{matches:o}=ae.useContext(su),u=o[o.length-1],f=u?u.params:{},d=u?u.pathname:"/",x=u?u.pathnameBase:"/",w=u&&u.route;{let W=w&&w.path||"";eN(d,!w||W.endsWith("*")||W.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${W}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${W}"> to <Route path="${W==="/"?"*":`${W}/*`}">.`)}let A=Yo(),E;if(e){let W=typeof e=="string"?Vf(e):e;fs(x==="/"||W.pathname?.startsWith(x),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${x}" but pathname "${W.pathname}" was given in the \`location\` prop.`),E=W}else E=A;let I=E.pathname||"/",C=I;if(x!=="/"){let W=x.replace(/^\//,"").split("/");C="/"+I.replace(/^\//,"").split("/").slice(W.length).join("/")}let L=W6(n,{pathname:C});Ml(w||L!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),Ml(L==null||L[L.length-1].route.element!==void 0||L[L.length-1].route.Component!==void 0||L[L.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=x9(L&&L.map(W=>Object.assign({},W,{params:Object.assign({},f,W.params),pathname:Lu([x,s.encodeLocation?s.encodeLocation(W.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:W.pathname]),pathnameBase:W.pathnameBase==="/"?x:Lu([x,s.encodeLocation?s.encodeLocation(W.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:W.pathnameBase])})),o,t,r,i);return e&&j?ae.createElement(vm.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},j):j}function d9(){let n=b9(),e=s9(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",n),o=ae.createElement(ae.Fragment,null,ae.createElement("p",null," Hey developer "),ae.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",ae.createElement("code",{style:s},"ErrorBoundary")," or"," ",ae.createElement("code",{style:s},"errorElement")," prop on your route.")),ae.createElement(ae.Fragment,null,ae.createElement("h2",null,"Unexpected Application Error!"),ae.createElement("h3",{style:{fontStyle:"italic"}},e),t?ae.createElement("pre",{style:i},t):null,o)}var m9=ae.createElement(d9,null),g9=class extends ae.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?ae.createElement(su.Provider,{value:this.props.routeContext},ae.createElement(mw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function p9({routeContext:n,match:e,children:t}){let r=ae.useContext(C0);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),ae.createElement(su.Provider,{value:n},t)}function x9(n,e=[],t=null,r=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let s=n,o=t?.errors;if(o!=null){let x=s.findIndex(w=>w.route.id&&o?.[w.route.id]!==void 0);fs(x>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,x+1))}let u=!1,f=-1;if(t)for(let x=0;x<s.length;x++){let w=s[x];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(f=x),w.route.id){let{loaderData:A,errors:E}=t,I=w.route.loader&&!A.hasOwnProperty(w.route.id)&&(!E||E[w.route.id]===void 0);if(w.route.lazy||I){u=!0,f>=0?s=s.slice(0,f+1):s=[s[0]];break}}}let d=t&&r?(x,w)=>{r(x,{location:t.location,params:t.matches?.[0]?.params??{},unstable_pattern:a9(t.matches),errorInfo:w})}:void 0;return s.reduceRight((x,w,A)=>{let E,I=!1,C=null,L=null;t&&(E=o&&w.route.id?o[w.route.id]:void 0,C=w.route.errorElement||m9,u&&(f<0&&A===0?(eN("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),I=!0,L=null):f===A&&(I=!0,L=w.route.hydrateFallbackElement||null)));let j=e.concat(s.slice(0,A+1)),W=()=>{let M;return E?M=C:I?M=L:w.route.Component?M=ae.createElement(w.route.Component,null):w.route.element?M=w.route.element:M=x,ae.createElement(p9,{match:w,routeContext:{outlet:x,matches:j,isDataRoute:t!=null},children:M})};return t&&(w.route.ErrorBoundary||w.route.errorElement||A===0)?ae.createElement(g9,{location:t.location,revalidation:t.revalidation,component:C,error:E,children:W(),routeContext:{outlet:null,matches:j,isDataRoute:!0},onError:d}):W()},null)}function gw(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function v9(n){let e=ae.useContext(C0);return fs(e,gw(n)),e}function _9(n){let e=ae.useContext(I2);return fs(e,gw(n)),e}function y9(n){let e=ae.useContext(su);return fs(e,gw(n)),e}function pw(n){let e=y9(n),t=e.matches[e.matches.length-1];return fs(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function w9(){return pw("useRouteId")}function b9(){let n=ae.useContext(mw),e=_9("useRouteError"),t=pw("useRouteError");return n!==void 0?n:e.errors?.[t]}function E9(){let{router:n}=v9("useNavigate"),e=pw("useNavigate"),t=ae.useRef(!1);return Q6(()=>{t.current=!0}),ae.useCallback(async(i,s={})=>{Ml(t.current,Z6),t.current&&(typeof i=="number"?await n.navigate(i):await n.navigate(i,{fromRouteId:e,...s}))},[n,e])}var k4={};function eN(n,e,t){!e&&!k4[n]&&(k4[n]=!0,Ml(!1,t))}ae.memo(A9);function A9({routes:n,future:e,state:t,unstable_onError:r}){return J6(n,void 0,t,r,e)}function xw({to:n,replace:e,state:t,relative:r}){fs(I0(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=ae.useContext(Ql);Ml(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=ae.useContext(su),{pathname:o}=Yo(),u=Qa(),f=dw(n,fw(s),o,r==="path"),d=JSON.stringify(f);return ae.useEffect(()=>{u(JSON.parse(d),{replace:e,state:t,relative:r})},[u,d,r,e,t]),null}function Ta(n){fs(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function S9({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:i,static:s=!1,unstable_useTransitions:o}){fs(!I0(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),f=ae.useMemo(()=>({basename:u,navigator:i,static:s,unstable_useTransitions:o,future:{}}),[u,i,s,o]);typeof t=="string"&&(t=Vf(t));let{pathname:d="/",search:x="",hash:w="",state:A=null,key:E="default"}=t,I=ae.useMemo(()=>{let C=Uu(d,u);return C==null?null:{location:{pathname:C,search:x,hash:w,state:A,key:E},navigationType:r}},[u,d,x,w,A,E,r]);return Ml(I!=null,`<Router basename="${u}"> is not able to match the URL "${d}${x}${w}" because it does not start with the basename, so the <Router> won't render anything.`),I==null?null:ae.createElement(Ql.Provider,{value:f},ae.createElement(vm.Provider,{children:e,value:I}))}function T9({children:n,location:e}){return f9(ly(n),e)}function ly(n,e=[]){let t=[];return ae.Children.forEach(n,(r,i)=>{if(!ae.isValidElement(r))return;let s=[...e,i];if(r.type===ae.Fragment){t.push.apply(t,ly(r.props.children,s));return}fs(r.type===Ta,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),fs(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=ly(r.props.children,s)),t.push(o)}),t}var mp="get",gp="application/x-www-form-urlencoded";function R2(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function N9(n){return R2(n)&&n.tagName.toLowerCase()==="button"}function C9(n){return R2(n)&&n.tagName.toLowerCase()==="form"}function I9(n){return R2(n)&&n.tagName.toLowerCase()==="input"}function R9(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function O9(n,e){return n.button===0&&(!e||e==="_self")&&!R9(n)}var Dg=null;function k9(){if(Dg===null)try{new FormData(document.createElement("form"),0),Dg=!1}catch{Dg=!0}return Dg}var D9=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Mv(n){return n!=null&&!D9.has(n)?(Ml(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${gp}"`),null):n}function L9(n,e){let t,r,i,s,o;if(C9(n)){let u=n.getAttribute("action");r=u?Uu(u,e):null,t=n.getAttribute("method")||mp,i=Mv(n.getAttribute("enctype"))||gp,s=new FormData(n)}else if(N9(n)||I9(n)&&(n.type==="submit"||n.type==="image")){let u=n.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||u.getAttribute("action");if(r=f?Uu(f,e):null,t=n.getAttribute("formmethod")||u.getAttribute("method")||mp,i=Mv(n.getAttribute("formenctype"))||Mv(u.getAttribute("enctype"))||gp,s=new FormData(u,n),!k9()){let{name:d,type:x,value:w}=n;if(x==="image"){let A=d?`${d}.`:"";s.append(`${A}x`,"0"),s.append(`${A}y`,"0")}else d&&s.append(d,w)}}else{if(R2(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=mp,r=null,i=gp,o=n}return s&&i==="text/plain"&&(o=s,s=void 0),{action:r,method:t.toLowerCase(),encType:i,formData:s,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function vw(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function M9(n,e,t){let r=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return r.pathname==="/"?r.pathname=`_root.${t}`:e&&Uu(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${t}`,r}async function P9(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function j9(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function F9(n,e,t){let r=await Promise.all(n.map(async i=>{let s=e.routes[i.route.id];if(s){let o=await P9(s,t);return o.links?o.links():[]}return[]}));return z9(r.flat(1).filter(j9).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function D4(n,e,t,r,i,s){let o=(f,d)=>t[d]?f.route.id!==t[d].route.id:!0,u=(f,d)=>t[d].pathname!==f.pathname||t[d].route.path?.endsWith("*")&&t[d].params["*"]!==f.params["*"];return s==="assets"?e.filter((f,d)=>o(f,d)||u(f,d)):s==="data"?e.filter((f,d)=>{let x=r.routes[f.route.id];if(!x||!x.hasLoader)return!1;if(o(f,d)||u(f,d))return!0;if(f.route.shouldRevalidate){let w=f.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function B9(n,e,{includeHydrateFallback:t}={}){return U9(n.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function U9(n){return[...new Set(n)]}function V9(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function z9(n,e){let t=new Set;return new Set(e),n.reduce((r,i)=>{let s=JSON.stringify(V9(i));return t.has(s)||(t.add(s),r.push({key:s,link:i})),r},[])}function tN(){let n=ae.useContext(C0);return vw(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function H9(){let n=ae.useContext(I2);return vw(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var _w=ae.createContext(void 0);_w.displayName="FrameworkContext";function nN(){let n=ae.useContext(_w);return vw(n,"You must render this element inside a <HydratedRouter> element"),n}function q9(n,e){let t=ae.useContext(_w),[r,i]=ae.useState(!1),[s,o]=ae.useState(!1),{onFocus:u,onBlur:f,onMouseEnter:d,onMouseLeave:x,onTouchStart:w}=e,A=ae.useRef(null);ae.useEffect(()=>{if(n==="render"&&o(!0),n==="viewport"){let C=j=>{j.forEach(W=>{o(W.isIntersecting)})},L=new IntersectionObserver(C,{threshold:.5});return A.current&&L.observe(A.current),()=>{L.disconnect()}}},[n]),ae.useEffect(()=>{if(r){let C=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(C)}}},[r]);let E=()=>{i(!0)},I=()=>{i(!1),o(!1)};return t?n!=="intent"?[s,A,{}]:[s,A,{onFocus:w1(u,E),onBlur:w1(f,I),onMouseEnter:w1(d,E),onMouseLeave:w1(x,I),onTouchStart:w1(w,E)}]:[!1,A,{}]}function w1(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function G9({page:n,...e}){let{router:t}=tN(),r=ae.useMemo(()=>W6(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?ae.createElement(X9,{page:n,matches:r,...e}):null}function W9(n){let{manifest:e,routeModules:t}=nN(),[r,i]=ae.useState([]);return ae.useEffect(()=>{let s=!1;return F9(n,e,t).then(o=>{s||i(o)}),()=>{s=!0}},[n,e,t]),r}function X9({page:n,matches:e,...t}){let r=Yo(),{manifest:i,routeModules:s}=nN(),{basename:o}=tN(),{loaderData:u,matches:f}=H9(),d=ae.useMemo(()=>D4(n,e,f,i,r,"data"),[n,e,f,i,r]),x=ae.useMemo(()=>D4(n,e,f,i,r,"assets"),[n,e,f,i,r]),w=ae.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let I=new Set,C=!1;if(e.forEach(j=>{let W=i.routes[j.route.id];!W||!W.hasLoader||(!d.some(M=>M.route.id===j.route.id)&&j.route.id in u&&s[j.route.id]?.shouldRevalidate||W.hasClientLoader?C=!0:I.add(j.route.id))}),I.size===0)return[];let L=M9(n,o,"data");return C&&I.size>0&&L.searchParams.set("_routes",e.filter(j=>I.has(j.route.id)).map(j=>j.route.id).join(",")),[L.pathname+L.search]},[o,u,r,i,d,e,n,s]),A=ae.useMemo(()=>B9(x,i),[x,i]),E=W9(x);return ae.createElement(ae.Fragment,null,w.map(I=>ae.createElement("link",{key:I,rel:"prefetch",as:"fetch",href:I,...t})),A.map(I=>ae.createElement("link",{key:I,rel:"modulepreload",href:I,...t})),E.map(({key:I,link:C})=>ae.createElement("link",{key:I,nonce:t.nonce,...C})))}function Y9(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var rN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{rN&&(window.__reactRouterVersion="7.10.1")}catch{}function K9({basename:n,children:e,unstable_useTransitions:t,window:r}){let i=ae.useRef();i.current==null&&(i.current=Mk({window:r,v5Compat:!0}));let s=i.current,[o,u]=ae.useState({action:s.action,location:s.location}),f=ae.useCallback(d=>{t===!1?u(d):ae.startTransition(()=>u(d))},[t]);return ae.useLayoutEffect(()=>s.listen(f),[s,f]),ae.createElement(S9,{basename:n,children:e,location:o.location,navigationType:o.action,navigator:s,unstable_useTransitions:t===!0})}var iN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Wi=ae.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:i,reloadDocument:s,replace:o,state:u,target:f,to:d,preventScrollReset:x,viewTransition:w,...A},E){let{basename:I,unstable_useTransitions:C}=ae.useContext(Ql),L=typeof d=="string"&&iN.test(d),j,W=!1;if(typeof d=="string"&&L&&(j=d,rN))try{let Z=new URL(window.location.href),U=d.startsWith("//")?new URL(Z.protocol+d):new URL(d),H=Uu(U.pathname,I);U.origin===Z.origin&&H!=null?d=H+U.search+U.hash:W=!0}catch{Ml(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let M=u9(d,{relative:i}),[G,ce,re]=q9(r,A),F=J9(d,{replace:o,state:u,target:f,preventScrollReset:x,relative:i,viewTransition:w,unstable_useTransitions:C});function B(Z){e&&e(Z),Z.defaultPrevented||F(Z)}let D=ae.createElement("a",{...A,...re,href:j||M,onClick:W||s?e:B,ref:Y9(E,ce),target:f,"data-discover":!L&&t==="render"?"true":void 0});return G&&!L?ae.createElement(ae.Fragment,null,D,ae.createElement(G9,{page:M})):D});Wi.displayName="Link";var $9=ae.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:i=!1,style:s,to:o,viewTransition:u,children:f,...d},x){let w=_m(o,{relative:d.relative}),A=Yo(),E=ae.useContext(I2),{navigator:I,basename:C}=ae.useContext(Ql),L=E!=null&&iD(w)&&u===!0,j=I.encodeLocation?I.encodeLocation(w).pathname:w.pathname,W=A.pathname,M=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;t||(W=W.toLowerCase(),M=M?M.toLowerCase():null,j=j.toLowerCase()),M&&C&&(M=Uu(M,C)||M);const G=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let ce=W===j||!i&&W.startsWith(j)&&W.charAt(G)==="/",re=M!=null&&(M===j||!i&&M.startsWith(j)&&M.charAt(j.length)==="/"),F={isActive:ce,isPending:re,isTransitioning:L},B=ce?e:void 0,D;typeof r=="function"?D=r(F):D=[r,ce?"active":null,re?"pending":null,L?"transitioning":null].filter(Boolean).join(" ");let Z=typeof s=="function"?s(F):s;return ae.createElement(Wi,{...d,"aria-current":B,className:D,ref:x,style:Z,to:o,viewTransition:u},typeof f=="function"?f(F):f)});$9.displayName="NavLink";var Z9=ae.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:i,state:s,method:o=mp,action:u,onSubmit:f,relative:d,preventScrollReset:x,viewTransition:w,...A},E)=>{let{unstable_useTransitions:I}=ae.useContext(Ql),C=nD(),L=rD(u,{relative:d}),j=o.toLowerCase()==="get"?"get":"post",W=typeof u=="string"&&iN.test(u),M=G=>{if(f&&f(G),G.defaultPrevented)return;G.preventDefault();let ce=G.nativeEvent.submitter,re=ce?.getAttribute("formmethod")||o,F=()=>C(ce||G.currentTarget,{fetcherKey:e,method:re,navigate:t,replace:i,state:s,relative:d,preventScrollReset:x,viewTransition:w});I&&t!==!1?ae.startTransition(()=>F()):F()};return ae.createElement("form",{ref:E,method:j,action:L,onSubmit:r?f:M,...A,"data-discover":!W&&n==="render"?"true":void 0})});Z9.displayName="Form";function Q9(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function sN(n){let e=ae.useContext(C0);return fs(e,Q9(n)),e}function J9(n,{target:e,replace:t,state:r,preventScrollReset:i,relative:s,viewTransition:o,unstable_useTransitions:u}={}){let f=Qa(),d=Yo(),x=_m(n,{relative:s});return ae.useCallback(w=>{if(O9(w,e)){w.preventDefault();let A=t!==void 0?t:J1(d)===J1(x),E=()=>f(n,{replace:A,state:r,preventScrollReset:i,relative:s,viewTransition:o});u?ae.startTransition(()=>E()):E()}},[d,f,x,t,r,e,n,i,s,o,u])}var eD=0,tD=()=>`__${String(++eD)}__`;function nD(){let{router:n}=sN("useSubmit"),{basename:e}=ae.useContext(Ql),t=w9(),r=n.fetch,i=n.navigate;return ae.useCallback(async(s,o={})=>{let{action:u,method:f,encType:d,formData:x,body:w}=L9(s,e);if(o.navigate===!1){let A=o.fetcherKey||tD();await r(A,t,o.action||u,{preventScrollReset:o.preventScrollReset,formData:x,body:w,formMethod:o.method||f,formEncType:o.encType||d,flushSync:o.flushSync})}else await i(o.action||u,{preventScrollReset:o.preventScrollReset,formData:x,body:w,formMethod:o.method||f,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,i,e,t])}function rD(n,{relative:e}={}){let{basename:t}=ae.useContext(Ql),r=ae.useContext(su);fs(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={..._m(n||".",{relative:e})},o=Yo();if(n==null){s.search=o.search;let u=new URLSearchParams(s.search),f=u.getAll("index");if(f.some(x=>x==="")){u.delete("index"),f.filter(w=>w).forEach(w=>u.append("index",w));let x=u.toString();s.search=x?`?${x}`:""}}return(!n||n===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(s.pathname=s.pathname==="/"?t:Lu([t,s.pathname])),J1(s)}function iD(n,{relative:e}={}){let t=ae.useContext($6);fs(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=sN("useViewTransitionState"),i=_m(n,{relative:e});if(!t.isTransitioning)return!1;let s=Uu(t.currentLocation.pathname,r)||t.currentLocation.pathname,o=Uu(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Lp(i.pathname,o)!=null||Lp(i.pathname,s)!=null}function P1(n){let e=n[0],t=n[1],r=n[2];return Math.sqrt(e*e+t*t+r*r)}function cy(n,e){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n}function sD(n,e,t,r){return n[0]=e,n[1]=t,n[2]=r,n}function L4(n,e,t){return n[0]=e[0]+t[0],n[1]=e[1]+t[1],n[2]=e[2]+t[2],n}function M4(n,e,t){return n[0]=e[0]-t[0],n[1]=e[1]-t[1],n[2]=e[2]-t[2],n}function aD(n,e,t){return n[0]=e[0]*t[0],n[1]=e[1]*t[1],n[2]=e[2]*t[2],n}function oD(n,e,t){return n[0]=e[0]/t[0],n[1]=e[1]/t[1],n[2]=e[2]/t[2],n}function Pv(n,e,t){return n[0]=e[0]*t,n[1]=e[1]*t,n[2]=e[2]*t,n}function lD(n,e){let t=e[0]-n[0],r=e[1]-n[1],i=e[2]-n[2];return Math.sqrt(t*t+r*r+i*i)}function cD(n,e){let t=e[0]-n[0],r=e[1]-n[1],i=e[2]-n[2];return t*t+r*r+i*i}function P4(n){let e=n[0],t=n[1],r=n[2];return e*e+t*t+r*r}function uD(n,e){return n[0]=-e[0],n[1]=-e[1],n[2]=-e[2],n}function hD(n,e){return n[0]=1/e[0],n[1]=1/e[1],n[2]=1/e[2],n}function uy(n,e){let t=e[0],r=e[1],i=e[2],s=t*t+r*r+i*i;return s>0&&(s=1/Math.sqrt(s)),n[0]=e[0]*s,n[1]=e[1]*s,n[2]=e[2]*s,n}function aN(n,e){return n[0]*e[0]+n[1]*e[1]+n[2]*e[2]}function j4(n,e,t){let r=e[0],i=e[1],s=e[2],o=t[0],u=t[1],f=t[2];return n[0]=i*f-s*u,n[1]=s*o-r*f,n[2]=r*u-i*o,n}function fD(n,e,t,r){let i=e[0],s=e[1],o=e[2];return n[0]=i+r*(t[0]-i),n[1]=s+r*(t[1]-s),n[2]=o+r*(t[2]-o),n}function dD(n,e,t,r,i){const s=Math.exp(-r*i);let o=e[0],u=e[1],f=e[2];return n[0]=t[0]+(o-t[0])*s,n[1]=t[1]+(u-t[1])*s,n[2]=t[2]+(f-t[2])*s,n}function mD(n,e,t){let r=e[0],i=e[1],s=e[2],o=t[3]*r+t[7]*i+t[11]*s+t[15];return o=o||1,n[0]=(t[0]*r+t[4]*i+t[8]*s+t[12])/o,n[1]=(t[1]*r+t[5]*i+t[9]*s+t[13])/o,n[2]=(t[2]*r+t[6]*i+t[10]*s+t[14])/o,n}function gD(n,e,t){let r=e[0],i=e[1],s=e[2],o=t[3]*r+t[7]*i+t[11]*s+t[15];return o=o||1,n[0]=(t[0]*r+t[4]*i+t[8]*s)/o,n[1]=(t[1]*r+t[5]*i+t[9]*s)/o,n[2]=(t[2]*r+t[6]*i+t[10]*s)/o,n}function pD(n,e,t){let r=e[0],i=e[1],s=e[2];return n[0]=r*t[0]+i*t[3]+s*t[6],n[1]=r*t[1]+i*t[4]+s*t[7],n[2]=r*t[2]+i*t[5]+s*t[8],n}function xD(n,e,t){let r=e[0],i=e[1],s=e[2],o=t[0],u=t[1],f=t[2],d=t[3],x=u*s-f*i,w=f*r-o*s,A=o*i-u*r,E=u*A-f*w,I=f*x-o*A,C=o*w-u*x,L=d*2;return x*=L,w*=L,A*=L,E*=2,I*=2,C*=2,n[0]=r+x+E,n[1]=i+w+I,n[2]=s+A+C,n}const vD=(function(){const n=[0,0,0],e=[0,0,0];return function(t,r){cy(n,t),cy(e,r),uy(n,n),uy(e,e);let i=aN(n,e);return i>1?0:i<-1?Math.PI:Math.acos(i)}})();function _D(n,e){return n[0]===e[0]&&n[1]===e[1]&&n[2]===e[2]}class gc extends Array{constructor(e=0,t=e,r=e){return super(e,t,r),this}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}set x(e){this[0]=e}set y(e){this[1]=e}set z(e){this[2]=e}set(e,t=e,r=e){return e.length?this.copy(e):(sD(this,e,t,r),this)}copy(e){return cy(this,e),this}add(e,t){return t?L4(this,e,t):L4(this,this,e),this}sub(e,t){return t?M4(this,e,t):M4(this,this,e),this}multiply(e){return e.length?aD(this,this,e):Pv(this,this,e),this}divide(e){return e.length?oD(this,this,e):Pv(this,this,1/e),this}inverse(e=this){return hD(this,e),this}len(){return P1(this)}distance(e){return e?lD(this,e):P1(this)}squaredLen(){return P4(this)}squaredDistance(e){return e?cD(this,e):P4(this)}negate(e=this){return uD(this,e),this}cross(e,t){return t?j4(this,e,t):j4(this,this,e),this}scale(e){return Pv(this,this,e),this}normalize(){return uy(this,this),this}dot(e){return aN(this,e)}equals(e){return _D(this,e)}applyMatrix3(e){return pD(this,this,e),this}applyMatrix4(e){return mD(this,this,e),this}scaleRotateMatrix4(e){return gD(this,this,e),this}applyQuaternion(e){return xD(this,this,e),this}angle(e){return vD(this,e)}lerp(e,t){return fD(this,this,e,t),this}smoothLerp(e,t,r){return dD(this,this,e,t,r),this}clone(){return new gc(this[0],this[1],this[2])}fromArray(e,t=0){return this[0]=e[t],this[1]=e[t+1],this[2]=e[t+2],this}toArray(e=[],t=0){return e[t]=this[0],e[t+1]=this[1],e[t+2]=this[2],e}transformDirection(e){const t=this[0],r=this[1],i=this[2];return this[0]=e[0]*t+e[4]*r+e[8]*i,this[1]=e[1]*t+e[5]*r+e[9]*i,this[2]=e[2]*t+e[6]*r+e[10]*i,this.normalize()}}const F4=new gc;let yD=1,wD=1,B4=!1;class bD{constructor(e,t={}){e.canvas||console.error("gl not passed as first argument to Geometry"),this.gl=e,this.attributes=t,this.id=yD++,this.VAOs={},this.drawRange={start:0,count:0},this.instancedCount=0,this.gl.renderer.bindVertexArray(null),this.gl.renderer.currentGeometry=null,this.glState=this.gl.renderer.state;for(let r in t)this.addAttribute(r,t[r])}addAttribute(e,t){if(this.attributes[e]=t,t.id=wD++,t.size=t.size||1,t.type=t.type||(t.data.constructor===Float32Array?this.gl.FLOAT:t.data.constructor===Uint16Array?this.gl.UNSIGNED_SHORT:this.gl.UNSIGNED_INT),t.target=e==="index"?this.gl.ELEMENT_ARRAY_BUFFER:this.gl.ARRAY_BUFFER,t.normalized=t.normalized||!1,t.stride=t.stride||0,t.offset=t.offset||0,t.count=t.count||(t.stride?t.data.byteLength/t.stride:t.data.length/t.size),t.divisor=t.instanced||0,t.needsUpdate=!1,t.usage=t.usage||this.gl.STATIC_DRAW,t.buffer||this.updateAttribute(t),t.divisor){if(this.isInstanced=!0,this.instancedCount&&this.instancedCount!==t.count*t.divisor)return console.warn("geometry has multiple instanced buffers of different length"),this.instancedCount=Math.min(this.instancedCount,t.count*t.divisor);this.instancedCount=t.count*t.divisor}else e==="index"?this.drawRange.count=t.count:this.attributes.index||(this.drawRange.count=Math.max(this.drawRange.count,t.count))}updateAttribute(e){const t=!e.buffer;t&&(e.buffer=this.gl.createBuffer()),this.glState.boundBuffer!==e.buffer&&(this.gl.bindBuffer(e.target,e.buffer),this.glState.boundBuffer=e.buffer),t?this.gl.bufferData(e.target,e.data,e.usage):this.gl.bufferSubData(e.target,0,e.data),e.needsUpdate=!1}setIndex(e){this.addAttribute("index",e)}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}setInstancedCount(e){this.instancedCount=e}createVAO(e){this.VAOs[e.attributeOrder]=this.gl.renderer.createVertexArray(),this.gl.renderer.bindVertexArray(this.VAOs[e.attributeOrder]),this.bindAttributes(e)}bindAttributes(e){e.attributeLocations.forEach((t,{name:r,type:i})=>{if(!this.attributes[r]){console.warn(`active attribute ${r} not being supplied`);return}const s=this.attributes[r];this.gl.bindBuffer(s.target,s.buffer),this.glState.boundBuffer=s.buffer;let o=1;i===35674&&(o=2),i===35675&&(o=3),i===35676&&(o=4);const u=s.size/o,f=o===1?0:o*o*4,d=o===1?0:o*4;for(let x=0;x<o;x++)this.gl.vertexAttribPointer(t+x,u,s.type,s.normalized,s.stride+f,s.offset+x*d),this.gl.enableVertexAttribArray(t+x),this.gl.renderer.vertexAttribDivisor(t+x,s.divisor)}),this.attributes.index&&this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.attributes.index.buffer)}draw({program:e,mode:t=this.gl.TRIANGLES}){this.gl.renderer.currentGeometry!==`${this.id}_${e.attributeOrder}`&&(this.VAOs[e.attributeOrder]||this.createVAO(e),this.gl.renderer.bindVertexArray(this.VAOs[e.attributeOrder]),this.gl.renderer.currentGeometry=`${this.id}_${e.attributeOrder}`),e.attributeLocations.forEach((i,{name:s})=>{const o=this.attributes[s];o.needsUpdate&&this.updateAttribute(o)});let r=2;this.attributes.index?.type===this.gl.UNSIGNED_INT&&(r=4),this.isInstanced?this.attributes.index?this.gl.renderer.drawElementsInstanced(t,this.drawRange.count,this.attributes.index.type,this.attributes.index.offset+this.drawRange.start*r,this.instancedCount):this.gl.renderer.drawArraysInstanced(t,this.drawRange.start,this.drawRange.count,this.instancedCount):this.attributes.index?this.gl.drawElements(t,this.drawRange.count,this.attributes.index.type,this.attributes.index.offset+this.drawRange.start*r):this.gl.drawArrays(t,this.drawRange.start,this.drawRange.count)}getPosition(){const e=this.attributes.position;if(e.data)return e;if(!B4)return console.warn("No position buffer data found to compute bounds"),B4=!0}computeBoundingBox(e){e||(e=this.getPosition());const t=e.data,r=e.size;this.bounds||(this.bounds={min:new gc,max:new gc,center:new gc,scale:new gc,radius:1/0});const i=this.bounds.min,s=this.bounds.max,o=this.bounds.center,u=this.bounds.scale;i.set(1/0),s.set(-1/0);for(let f=0,d=t.length;f<d;f+=r){const x=t[f],w=t[f+1],A=t[f+2];i.x=Math.min(x,i.x),i.y=Math.min(w,i.y),i.z=Math.min(A,i.z),s.x=Math.max(x,s.x),s.y=Math.max(w,s.y),s.z=Math.max(A,s.z)}u.sub(s,i),o.add(i,s).divide(2)}computeBoundingSphere(e){e||(e=this.getPosition());const t=e.data,r=e.size;this.bounds||this.computeBoundingBox(e);let i=0;for(let s=0,o=t.length;s<o;s+=r)F4.fromArray(t,s),i=Math.max(i,this.bounds.center.squaredDistance(F4));this.bounds.radius=Math.sqrt(i)}remove(){for(let e in this.VAOs)this.gl.renderer.deleteVertexArray(this.VAOs[e]),delete this.VAOs[e];for(let e in this.attributes)this.gl.deleteBuffer(this.attributes[e].buffer),delete this.attributes[e]}}let ED=1;const U4={};class AD{constructor(e,{vertex:t,fragment:r,uniforms:i={},transparent:s=!1,cullFace:o=e.BACK,frontFace:u=e.CCW,depthTest:f=!0,depthWrite:d=!0,depthFunc:x=e.LEQUAL}={}){e.canvas||console.error("gl not passed as first argument to Program"),this.gl=e,this.uniforms=i,this.id=ED++,t||console.warn("vertex shader not supplied"),r||console.warn("fragment shader not supplied"),this.transparent=s,this.cullFace=o,this.frontFace=u,this.depthTest=f,this.depthWrite=d,this.depthFunc=x,this.blendFunc={},this.blendEquation={},this.stencilFunc={},this.stencilOp={},this.transparent&&!this.blendFunc.src&&(this.gl.renderer.premultipliedAlpha?this.setBlendFunc(this.gl.ONE,this.gl.ONE_MINUS_SRC_ALPHA):this.setBlendFunc(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA)),this.vertexShader=e.createShader(e.VERTEX_SHADER),this.fragmentShader=e.createShader(e.FRAGMENT_SHADER),this.program=e.createProgram(),e.attachShader(this.program,this.vertexShader),e.attachShader(this.program,this.fragmentShader),this.setShaders({vertex:t,fragment:r})}setShaders({vertex:e,fragment:t}){if(e&&(this.gl.shaderSource(this.vertexShader,e),this.gl.compileShader(this.vertexShader),this.gl.getShaderInfoLog(this.vertexShader)!==""&&console.warn(`${this.gl.getShaderInfoLog(this.vertexShader)}
Vertex Shader
${V4(e)}`)),t&&(this.gl.shaderSource(this.fragmentShader,t),this.gl.compileShader(this.fragmentShader),this.gl.getShaderInfoLog(this.fragmentShader)!==""&&console.warn(`${this.gl.getShaderInfoLog(this.fragmentShader)}
Fragment Shader
${V4(t)}`)),this.gl.linkProgram(this.program),!this.gl.getProgramParameter(this.program,this.gl.LINK_STATUS))return console.warn(this.gl.getProgramInfoLog(this.program));this.uniformLocations=new Map;let r=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_UNIFORMS);for(let o=0;o<r;o++){let u=this.gl.getActiveUniform(this.program,o);this.uniformLocations.set(u,this.gl.getUniformLocation(this.program,u.name));const f=u.name.match(/(\w+)/g);u.uniformName=f[0],u.nameComponents=f.slice(1)}this.attributeLocations=new Map;const i=[],s=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES);for(let o=0;o<s;o++){const u=this.gl.getActiveAttrib(this.program,o),f=this.gl.getAttribLocation(this.program,u.name);f!==-1&&(i[f]=u.name,this.attributeLocations.set(u,f))}this.attributeOrder=i.join("")}setBlendFunc(e,t,r,i){this.blendFunc.src=e,this.blendFunc.dst=t,this.blendFunc.srcAlpha=r,this.blendFunc.dstAlpha=i,e&&(this.transparent=!0)}setBlendEquation(e,t){this.blendEquation.modeRGB=e,this.blendEquation.modeAlpha=t}setStencilFunc(e,t,r){this.stencilRef=t,this.stencilFunc.func=e,this.stencilFunc.ref=t,this.stencilFunc.mask=r}setStencilOp(e,t,r){this.stencilOp.stencilFail=e,this.stencilOp.depthFail=t,this.stencilOp.depthPass=r}applyState(){this.depthTest?this.gl.renderer.enable(this.gl.DEPTH_TEST):this.gl.renderer.disable(this.gl.DEPTH_TEST),this.cullFace?this.gl.renderer.enable(this.gl.CULL_FACE):this.gl.renderer.disable(this.gl.CULL_FACE),this.blendFunc.src?this.gl.renderer.enable(this.gl.BLEND):this.gl.renderer.disable(this.gl.BLEND),this.cullFace&&this.gl.renderer.setCullFace(this.cullFace),this.gl.renderer.setFrontFace(this.frontFace),this.gl.renderer.setDepthMask(this.depthWrite),this.gl.renderer.setDepthFunc(this.depthFunc),this.blendFunc.src&&this.gl.renderer.setBlendFunc(this.blendFunc.src,this.blendFunc.dst,this.blendFunc.srcAlpha,this.blendFunc.dstAlpha),this.gl.renderer.setBlendEquation(this.blendEquation.modeRGB,this.blendEquation.modeAlpha),this.stencilFunc.func||this.stencilOp.stencilFail?this.gl.renderer.enable(this.gl.STENCIL_TEST):this.gl.renderer.disable(this.gl.STENCIL_TEST),this.gl.renderer.setStencilFunc(this.stencilFunc.func,this.stencilFunc.ref,this.stencilFunc.mask),this.gl.renderer.setStencilOp(this.stencilOp.stencilFail,this.stencilOp.depthFail,this.stencilOp.depthPass)}use({flipFaces:e=!1}={}){let t=-1;this.gl.renderer.state.currentProgram===this.id||(this.gl.useProgram(this.program),this.gl.renderer.state.currentProgram=this.id),this.uniformLocations.forEach((i,s)=>{let o=this.uniforms[s.uniformName];for(const u of s.nameComponents){if(!o)break;if(u in o)o=o[u];else{if(Array.isArray(o.value))break;o=void 0;break}}if(!o)return z4(`Active uniform ${s.name} has not been supplied`);if(o&&o.value===void 0)return z4(`${s.name} uniform is missing a value parameter`);if(o.value.texture)return t=t+1,o.value.update(t),jv(this.gl,s.type,i,t);if(o.value.length&&o.value[0].texture){const u=[];return o.value.forEach(f=>{t=t+1,f.update(t),u.push(t)}),jv(this.gl,s.type,i,u)}jv(this.gl,s.type,i,o.value)}),this.applyState(),e&&this.gl.renderer.setFrontFace(this.frontFace===this.gl.CCW?this.gl.CW:this.gl.CCW)}remove(){this.gl.deleteProgram(this.program)}}function jv(n,e,t,r){r=r.length?SD(r):r;const i=n.renderer.state.uniformLocations.get(t);if(r.length)if(i===void 0||i.length!==r.length)n.renderer.state.uniformLocations.set(t,r.slice(0));else{if(TD(i,r))return;i.set?i.set(r):ND(i,r),n.renderer.state.uniformLocations.set(t,i)}else{if(i===r)return;n.renderer.state.uniformLocations.set(t,r)}switch(e){case 5126:return r.length?n.uniform1fv(t,r):n.uniform1f(t,r);case 35664:return n.uniform2fv(t,r);case 35665:return n.uniform3fv(t,r);case 35666:return n.uniform4fv(t,r);case 35670:case 5124:case 35678:case 36306:case 35680:case 36289:return r.length?n.uniform1iv(t,r):n.uniform1i(t,r);case 35671:case 35667:return n.uniform2iv(t,r);case 35672:case 35668:return n.uniform3iv(t,r);case 35673:case 35669:return n.uniform4iv(t,r);case 35674:return n.uniformMatrix2fv(t,!1,r);case 35675:return n.uniformMatrix3fv(t,!1,r);case 35676:return n.uniformMatrix4fv(t,!1,r)}}function V4(n){let e=n.split(`
`);for(let t=0;t<e.length;t++)e[t]=t+1+": "+e[t];return e.join(`
`)}function SD(n){const e=n.length,t=n[0].length;if(t===void 0)return n;const r=e*t;let i=U4[r];i||(U4[r]=i=new Float32Array(r));for(let s=0;s<e;s++)i.set(n[s],s*t);return i}function TD(n,e){if(n.length!==e.length)return!1;for(let t=0,r=n.length;t<r;t++)if(n[t]!==e[t])return!1;return!0}function ND(n,e){for(let t=0,r=n.length;t<r;t++)n[t]=e[t]}let Fv=0;function z4(n){Fv>100||(console.warn(n),Fv++,Fv>100&&console.warn("More than 100 program warnings - stopping logs."))}const Bv=new gc;let CD=1;class ID{constructor({canvas:e=document.createElement("canvas"),width:t=300,height:r=150,dpr:i=1,alpha:s=!1,depth:o=!0,stencil:u=!1,antialias:f=!1,premultipliedAlpha:d=!1,preserveDrawingBuffer:x=!1,powerPreference:w="default",autoClear:A=!0,webgl:E=2}={}){const I={alpha:s,depth:o,stencil:u,antialias:f,premultipliedAlpha:d,preserveDrawingBuffer:x,powerPreference:w};this.dpr=i,this.alpha=s,this.color=!0,this.depth=o,this.stencil=u,this.premultipliedAlpha=d,this.autoClear=A,this.id=CD++,E===2&&(this.gl=e.getContext("webgl2",I)),this.isWebgl2=!!this.gl,this.gl||(this.gl=e.getContext("webgl",I)),this.gl||console.error("unable to create webgl context"),this.gl.renderer=this,this.setSize(t,r),this.state={},this.state.blendFunc={src:this.gl.ONE,dst:this.gl.ZERO},this.state.blendEquation={modeRGB:this.gl.FUNC_ADD},this.state.cullFace=!1,this.state.frontFace=this.gl.CCW,this.state.depthMask=!0,this.state.depthFunc=this.gl.LEQUAL,this.state.premultiplyAlpha=!1,this.state.flipY=!1,this.state.unpackAlignment=4,this.state.framebuffer=null,this.state.viewport={x:0,y:0,width:null,height:null},this.state.textureUnits=[],this.state.activeTextureUnit=0,this.state.boundBuffer=null,this.state.uniformLocations=new Map,this.state.currentProgram=null,this.extensions={},this.isWebgl2?(this.getExtension("EXT_color_buffer_float"),this.getExtension("OES_texture_float_linear")):(this.getExtension("OES_texture_float"),this.getExtension("OES_texture_float_linear"),this.getExtension("OES_texture_half_float"),this.getExtension("OES_texture_half_float_linear"),this.getExtension("OES_element_index_uint"),this.getExtension("OES_standard_derivatives"),this.getExtension("EXT_sRGB"),this.getExtension("WEBGL_depth_texture"),this.getExtension("WEBGL_draw_buffers")),this.getExtension("WEBGL_compressed_texture_astc"),this.getExtension("EXT_texture_compression_bptc"),this.getExtension("WEBGL_compressed_texture_s3tc"),this.getExtension("WEBGL_compressed_texture_etc1"),this.getExtension("WEBGL_compressed_texture_pvrtc"),this.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),this.vertexAttribDivisor=this.getExtension("ANGLE_instanced_arrays","vertexAttribDivisor","vertexAttribDivisorANGLE"),this.drawArraysInstanced=this.getExtension("ANGLE_instanced_arrays","drawArraysInstanced","drawArraysInstancedANGLE"),this.drawElementsInstanced=this.getExtension("ANGLE_instanced_arrays","drawElementsInstanced","drawElementsInstancedANGLE"),this.createVertexArray=this.getExtension("OES_vertex_array_object","createVertexArray","createVertexArrayOES"),this.bindVertexArray=this.getExtension("OES_vertex_array_object","bindVertexArray","bindVertexArrayOES"),this.deleteVertexArray=this.getExtension("OES_vertex_array_object","deleteVertexArray","deleteVertexArrayOES"),this.drawBuffers=this.getExtension("WEBGL_draw_buffers","drawBuffers","drawBuffersWEBGL"),this.parameters={},this.parameters.maxTextureUnits=this.gl.getParameter(this.gl.MAX_COMBINED_TEXTURE_IMAGE_UNITS),this.parameters.maxAnisotropy=this.getExtension("EXT_texture_filter_anisotropic")?this.gl.getParameter(this.getExtension("EXT_texture_filter_anisotropic").MAX_TEXTURE_MAX_ANISOTROPY_EXT):0}setSize(e,t){this.width=e,this.height=t,this.gl.canvas.width=e*this.dpr,this.gl.canvas.height=t*this.dpr,this.gl.canvas.style&&Object.assign(this.gl.canvas.style,{width:e+"px",height:t+"px"})}setViewport(e,t,r=0,i=0){this.state.viewport.width===e&&this.state.viewport.height===t||(this.state.viewport.width=e,this.state.viewport.height=t,this.state.viewport.x=r,this.state.viewport.y=i,this.gl.viewport(r,i,e,t))}setScissor(e,t,r=0,i=0){this.gl.scissor(r,i,e,t)}enable(e){this.state[e]!==!0&&(this.gl.enable(e),this.state[e]=!0)}disable(e){this.state[e]!==!1&&(this.gl.disable(e),this.state[e]=!1)}setBlendFunc(e,t,r,i){this.state.blendFunc.src===e&&this.state.blendFunc.dst===t&&this.state.blendFunc.srcAlpha===r&&this.state.blendFunc.dstAlpha===i||(this.state.blendFunc.src=e,this.state.blendFunc.dst=t,this.state.blendFunc.srcAlpha=r,this.state.blendFunc.dstAlpha=i,r!==void 0?this.gl.blendFuncSeparate(e,t,r,i):this.gl.blendFunc(e,t))}setBlendEquation(e,t){e=e||this.gl.FUNC_ADD,!(this.state.blendEquation.modeRGB===e&&this.state.blendEquation.modeAlpha===t)&&(this.state.blendEquation.modeRGB=e,this.state.blendEquation.modeAlpha=t,t!==void 0?this.gl.blendEquationSeparate(e,t):this.gl.blendEquation(e))}setCullFace(e){this.state.cullFace!==e&&(this.state.cullFace=e,this.gl.cullFace(e))}setFrontFace(e){this.state.frontFace!==e&&(this.state.frontFace=e,this.gl.frontFace(e))}setDepthMask(e){this.state.depthMask!==e&&(this.state.depthMask=e,this.gl.depthMask(e))}setDepthFunc(e){this.state.depthFunc!==e&&(this.state.depthFunc=e,this.gl.depthFunc(e))}setStencilMask(e){this.state.stencilMask!==e&&(this.state.stencilMask=e,this.gl.stencilMask(e))}setStencilFunc(e,t,r){this.state.stencilFunc===e&&this.state.stencilRef===t&&this.state.stencilFuncMask===r||(this.state.stencilFunc=e||this.gl.ALWAYS,this.state.stencilRef=t||0,this.state.stencilFuncMask=r||0,this.gl.stencilFunc(e||this.gl.ALWAYS,t||0,r||0))}setStencilOp(e,t,r){this.state.stencilFail===e&&this.state.stencilDepthFail===t&&this.state.stencilDepthPass===r||(this.state.stencilFail=e,this.state.stencilDepthFail=t,this.state.stencilDepthPass=r,this.gl.stencilOp(e,t,r))}activeTexture(e){this.state.activeTextureUnit!==e&&(this.state.activeTextureUnit=e,this.gl.activeTexture(this.gl.TEXTURE0+e))}bindFramebuffer({target:e=this.gl.FRAMEBUFFER,buffer:t=null}={}){this.state.framebuffer!==t&&(this.state.framebuffer=t,this.gl.bindFramebuffer(e,t))}getExtension(e,t,r){return t&&this.gl[t]?this.gl[t].bind(this.gl):(this.extensions[e]||(this.extensions[e]=this.gl.getExtension(e)),t?this.extensions[e]?this.extensions[e][r].bind(this.extensions[e]):null:this.extensions[e])}sortOpaque(e,t){return e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.program.id!==t.program.id?e.program.id-t.program.id:e.zDepth!==t.zDepth?e.zDepth-t.zDepth:t.id-e.id}sortTransparent(e,t){return e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.zDepth!==t.zDepth?t.zDepth-e.zDepth:t.id-e.id}sortUI(e,t){return e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.program.id!==t.program.id?e.program.id-t.program.id:t.id-e.id}getRenderList({scene:e,camera:t,frustumCull:r,sort:i}){let s=[];if(t&&r&&t.updateFrustum(),e.traverse(o=>{if(!o.visible)return!0;o.draw&&(r&&o.frustumCulled&&t&&!t.frustumIntersectsMesh(o)||s.push(o))}),i){const o=[],u=[],f=[];s.forEach(d=>{d.program.transparent?d.program.depthTest?u.push(d):f.push(d):o.push(d),d.zDepth=0,!(d.renderOrder!==0||!d.program.depthTest||!t)&&(d.worldMatrix.getTranslation(Bv),Bv.applyMatrix4(t.projectionViewMatrix),d.zDepth=Bv.z)}),o.sort(this.sortOpaque),u.sort(this.sortTransparent),f.sort(this.sortUI),s=o.concat(u,f)}return s}render({scene:e,camera:t,target:r=null,update:i=!0,sort:s=!0,frustumCull:o=!0,clear:u}){r===null?(this.bindFramebuffer(),this.setViewport(this.width*this.dpr,this.height*this.dpr)):(this.bindFramebuffer(r),this.setViewport(r.width,r.height)),(u||this.autoClear&&u!==!1)&&(this.depth&&(!r||r.depth)&&(this.enable(this.gl.DEPTH_TEST),this.setDepthMask(!0)),(this.stencil||!r||r.stencil)&&(this.enable(this.gl.STENCIL_TEST),this.setStencilMask(255)),this.gl.clear((this.color?this.gl.COLOR_BUFFER_BIT:0)|(this.depth?this.gl.DEPTH_BUFFER_BIT:0)|(this.stencil?this.gl.STENCIL_BUFFER_BIT:0))),i&&e.updateMatrixWorld(),t&&t.updateMatrixWorld(),this.getRenderList({scene:e,camera:t,frustumCull:o,sort:s}).forEach(d=>{d.draw({camera:t})})}}function RD(n,e){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n}function OD(n,e,t,r,i){return n[0]=e,n[1]=t,n[2]=r,n[3]=i,n}function kD(n,e){let t=e[0],r=e[1],i=e[2],s=e[3],o=t*t+r*r+i*i+s*s;return o>0&&(o=1/Math.sqrt(o)),n[0]=t*o,n[1]=r*o,n[2]=i*o,n[3]=s*o,n}function DD(n,e){return n[0]*e[0]+n[1]*e[1]+n[2]*e[2]+n[3]*e[3]}function LD(n){return n[0]=0,n[1]=0,n[2]=0,n[3]=1,n}function MD(n,e,t){t=t*.5;let r=Math.sin(t);return n[0]=r*e[0],n[1]=r*e[1],n[2]=r*e[2],n[3]=Math.cos(t),n}function H4(n,e,t){let r=e[0],i=e[1],s=e[2],o=e[3],u=t[0],f=t[1],d=t[2],x=t[3];return n[0]=r*x+o*u+i*d-s*f,n[1]=i*x+o*f+s*u-r*d,n[2]=s*x+o*d+r*f-i*u,n[3]=o*x-r*u-i*f-s*d,n}function PD(n,e,t){t*=.5;let r=e[0],i=e[1],s=e[2],o=e[3],u=Math.sin(t),f=Math.cos(t);return n[0]=r*f+o*u,n[1]=i*f+s*u,n[2]=s*f-i*u,n[3]=o*f-r*u,n}function jD(n,e,t){t*=.5;let r=e[0],i=e[1],s=e[2],o=e[3],u=Math.sin(t),f=Math.cos(t);return n[0]=r*f-s*u,n[1]=i*f+o*u,n[2]=s*f+r*u,n[3]=o*f-i*u,n}function FD(n,e,t){t*=.5;let r=e[0],i=e[1],s=e[2],o=e[3],u=Math.sin(t),f=Math.cos(t);return n[0]=r*f+i*u,n[1]=i*f-r*u,n[2]=s*f+o*u,n[3]=o*f-s*u,n}function BD(n,e,t,r){let i=e[0],s=e[1],o=e[2],u=e[3],f=t[0],d=t[1],x=t[2],w=t[3],A,E,I,C,L;return E=i*f+s*d+o*x+u*w,E<0&&(E=-E,f=-f,d=-d,x=-x,w=-w),1-E>1e-6?(A=Math.acos(E),I=Math.sin(A),C=Math.sin((1-r)*A)/I,L=Math.sin(r*A)/I):(C=1-r,L=r),n[0]=C*i+L*f,n[1]=C*s+L*d,n[2]=C*o+L*x,n[3]=C*u+L*w,n}function UD(n,e){let t=e[0],r=e[1],i=e[2],s=e[3],o=t*t+r*r+i*i+s*s,u=o?1/o:0;return n[0]=-t*u,n[1]=-r*u,n[2]=-i*u,n[3]=s*u,n}function VD(n,e){return n[0]=-e[0],n[1]=-e[1],n[2]=-e[2],n[3]=e[3],n}function zD(n,e){let t=e[0]+e[4]+e[8],r;if(t>0)r=Math.sqrt(t+1),n[3]=.5*r,r=.5/r,n[0]=(e[5]-e[7])*r,n[1]=(e[6]-e[2])*r,n[2]=(e[1]-e[3])*r;else{let i=0;e[4]>e[0]&&(i=1),e[8]>e[i*3+i]&&(i=2);let s=(i+1)%3,o=(i+2)%3;r=Math.sqrt(e[i*3+i]-e[s*3+s]-e[o*3+o]+1),n[i]=.5*r,r=.5/r,n[3]=(e[s*3+o]-e[o*3+s])*r,n[s]=(e[s*3+i]+e[i*3+s])*r,n[o]=(e[o*3+i]+e[i*3+o])*r}return n}function HD(n,e,t="YXZ"){let r=Math.sin(e[0]*.5),i=Math.cos(e[0]*.5),s=Math.sin(e[1]*.5),o=Math.cos(e[1]*.5),u=Math.sin(e[2]*.5),f=Math.cos(e[2]*.5);return t==="XYZ"?(n[0]=r*o*f+i*s*u,n[1]=i*s*f-r*o*u,n[2]=i*o*u+r*s*f,n[3]=i*o*f-r*s*u):t==="YXZ"?(n[0]=r*o*f+i*s*u,n[1]=i*s*f-r*o*u,n[2]=i*o*u-r*s*f,n[3]=i*o*f+r*s*u):t==="ZXY"?(n[0]=r*o*f-i*s*u,n[1]=i*s*f+r*o*u,n[2]=i*o*u+r*s*f,n[3]=i*o*f-r*s*u):t==="ZYX"?(n[0]=r*o*f-i*s*u,n[1]=i*s*f+r*o*u,n[2]=i*o*u-r*s*f,n[3]=i*o*f+r*s*u):t==="YZX"?(n[0]=r*o*f+i*s*u,n[1]=i*s*f+r*o*u,n[2]=i*o*u-r*s*f,n[3]=i*o*f-r*s*u):t==="XZY"&&(n[0]=r*o*f-i*s*u,n[1]=i*s*f-r*o*u,n[2]=i*o*u+r*s*f,n[3]=i*o*f+r*s*u),n}const qD=RD,GD=OD,WD=DD,XD=kD;class YD extends Array{constructor(e=0,t=0,r=0,i=1){super(e,t,r,i),this.onChange=()=>{},this._target=this;const s=["0","1","2","3"];return new Proxy(this,{set(o,u){const f=Reflect.set(...arguments);return f&&s.includes(u)&&o.onChange(),f}})}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}get w(){return this[3]}set x(e){this._target[0]=e,this.onChange()}set y(e){this._target[1]=e,this.onChange()}set z(e){this._target[2]=e,this.onChange()}set w(e){this._target[3]=e,this.onChange()}identity(){return LD(this._target),this.onChange(),this}set(e,t,r,i){return e.length?this.copy(e):(GD(this._target,e,t,r,i),this.onChange(),this)}rotateX(e){return PD(this._target,this._target,e),this.onChange(),this}rotateY(e){return jD(this._target,this._target,e),this.onChange(),this}rotateZ(e){return FD(this._target,this._target,e),this.onChange(),this}inverse(e=this._target){return UD(this._target,e),this.onChange(),this}conjugate(e=this._target){return VD(this._target,e),this.onChange(),this}copy(e){return qD(this._target,e),this.onChange(),this}normalize(e=this._target){return XD(this._target,e),this.onChange(),this}multiply(e,t){return t?H4(this._target,e,t):H4(this._target,this._target,e),this.onChange(),this}dot(e){return WD(this._target,e)}fromMatrix3(e){return zD(this._target,e),this.onChange(),this}fromEuler(e,t){return HD(this._target,e,e.order),t||this.onChange(),this}fromAxisAngle(e,t){return MD(this._target,e,t),this.onChange(),this}slerp(e,t){return BD(this._target,this._target,e,t),this.onChange(),this}fromArray(e,t=0){return this._target[0]=e[t],this._target[1]=e[t+1],this._target[2]=e[t+2],this._target[3]=e[t+3],this.onChange(),this}toArray(e=[],t=0){return e[t]=this[0],e[t+1]=this[1],e[t+2]=this[2],e[t+3]=this[3],e}}const KD=1e-6;function $D(n,e){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4],n[5]=e[5],n[6]=e[6],n[7]=e[7],n[8]=e[8],n[9]=e[9],n[10]=e[10],n[11]=e[11],n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15],n}function ZD(n,e,t,r,i,s,o,u,f,d,x,w,A,E,I,C,L){return n[0]=e,n[1]=t,n[2]=r,n[3]=i,n[4]=s,n[5]=o,n[6]=u,n[7]=f,n[8]=d,n[9]=x,n[10]=w,n[11]=A,n[12]=E,n[13]=I,n[14]=C,n[15]=L,n}function QD(n){return n[0]=1,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=1,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=1,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,n}function JD(n,e){let t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],u=e[5],f=e[6],d=e[7],x=e[8],w=e[9],A=e[10],E=e[11],I=e[12],C=e[13],L=e[14],j=e[15],W=t*u-r*o,M=t*f-i*o,G=t*d-s*o,ce=r*f-i*u,re=r*d-s*u,F=i*d-s*f,B=x*C-w*I,D=x*L-A*I,Z=x*j-E*I,U=w*L-A*C,H=w*j-E*C,X=A*j-E*L,ne=W*X-M*H+G*U+ce*Z-re*D+F*B;return ne?(ne=1/ne,n[0]=(u*X-f*H+d*U)*ne,n[1]=(i*H-r*X-s*U)*ne,n[2]=(C*F-L*re+j*ce)*ne,n[3]=(A*re-w*F-E*ce)*ne,n[4]=(f*Z-o*X-d*D)*ne,n[5]=(t*X-i*Z+s*D)*ne,n[6]=(L*G-I*F-j*M)*ne,n[7]=(x*F-A*G+E*M)*ne,n[8]=(o*H-u*Z+d*B)*ne,n[9]=(r*Z-t*H-s*B)*ne,n[10]=(I*re-C*G+j*W)*ne,n[11]=(w*G-x*re-E*W)*ne,n[12]=(u*D-o*U-f*B)*ne,n[13]=(t*U-r*D+i*B)*ne,n[14]=(C*M-I*ce-L*W)*ne,n[15]=(x*ce-w*M+A*W)*ne,n):null}function oN(n){let e=n[0],t=n[1],r=n[2],i=n[3],s=n[4],o=n[5],u=n[6],f=n[7],d=n[8],x=n[9],w=n[10],A=n[11],E=n[12],I=n[13],C=n[14],L=n[15],j=e*o-t*s,W=e*u-r*s,M=e*f-i*s,G=t*u-r*o,ce=t*f-i*o,re=r*f-i*u,F=d*I-x*E,B=d*C-w*E,D=d*L-A*E,Z=x*C-w*I,U=x*L-A*I,H=w*L-A*C;return j*H-W*U+M*Z+G*D-ce*B+re*F}function q4(n,e,t){let r=e[0],i=e[1],s=e[2],o=e[3],u=e[4],f=e[5],d=e[6],x=e[7],w=e[8],A=e[9],E=e[10],I=e[11],C=e[12],L=e[13],j=e[14],W=e[15],M=t[0],G=t[1],ce=t[2],re=t[3];return n[0]=M*r+G*u+ce*w+re*C,n[1]=M*i+G*f+ce*A+re*L,n[2]=M*s+G*d+ce*E+re*j,n[3]=M*o+G*x+ce*I+re*W,M=t[4],G=t[5],ce=t[6],re=t[7],n[4]=M*r+G*u+ce*w+re*C,n[5]=M*i+G*f+ce*A+re*L,n[6]=M*s+G*d+ce*E+re*j,n[7]=M*o+G*x+ce*I+re*W,M=t[8],G=t[9],ce=t[10],re=t[11],n[8]=M*r+G*u+ce*w+re*C,n[9]=M*i+G*f+ce*A+re*L,n[10]=M*s+G*d+ce*E+re*j,n[11]=M*o+G*x+ce*I+re*W,M=t[12],G=t[13],ce=t[14],re=t[15],n[12]=M*r+G*u+ce*w+re*C,n[13]=M*i+G*f+ce*A+re*L,n[14]=M*s+G*d+ce*E+re*j,n[15]=M*o+G*x+ce*I+re*W,n}function eL(n,e,t){let r=t[0],i=t[1],s=t[2],o,u,f,d,x,w,A,E,I,C,L,j;return e===n?(n[12]=e[0]*r+e[4]*i+e[8]*s+e[12],n[13]=e[1]*r+e[5]*i+e[9]*s+e[13],n[14]=e[2]*r+e[6]*i+e[10]*s+e[14],n[15]=e[3]*r+e[7]*i+e[11]*s+e[15]):(o=e[0],u=e[1],f=e[2],d=e[3],x=e[4],w=e[5],A=e[6],E=e[7],I=e[8],C=e[9],L=e[10],j=e[11],n[0]=o,n[1]=u,n[2]=f,n[3]=d,n[4]=x,n[5]=w,n[6]=A,n[7]=E,n[8]=I,n[9]=C,n[10]=L,n[11]=j,n[12]=o*r+x*i+I*s+e[12],n[13]=u*r+w*i+C*s+e[13],n[14]=f*r+A*i+L*s+e[14],n[15]=d*r+E*i+j*s+e[15]),n}function tL(n,e,t){let r=t[0],i=t[1],s=t[2];return n[0]=e[0]*r,n[1]=e[1]*r,n[2]=e[2]*r,n[3]=e[3]*r,n[4]=e[4]*i,n[5]=e[5]*i,n[6]=e[6]*i,n[7]=e[7]*i,n[8]=e[8]*s,n[9]=e[9]*s,n[10]=e[10]*s,n[11]=e[11]*s,n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15],n}function nL(n,e,t,r){let i=r[0],s=r[1],o=r[2],u=Math.hypot(i,s,o),f,d,x,w,A,E,I,C,L,j,W,M,G,ce,re,F,B,D,Z,U,H,X,ne,pe;return Math.abs(u)<KD?null:(u=1/u,i*=u,s*=u,o*=u,f=Math.sin(t),d=Math.cos(t),x=1-d,w=e[0],A=e[1],E=e[2],I=e[3],C=e[4],L=e[5],j=e[6],W=e[7],M=e[8],G=e[9],ce=e[10],re=e[11],F=i*i*x+d,B=s*i*x+o*f,D=o*i*x-s*f,Z=i*s*x-o*f,U=s*s*x+d,H=o*s*x+i*f,X=i*o*x+s*f,ne=s*o*x-i*f,pe=o*o*x+d,n[0]=w*F+C*B+M*D,n[1]=A*F+L*B+G*D,n[2]=E*F+j*B+ce*D,n[3]=I*F+W*B+re*D,n[4]=w*Z+C*U+M*H,n[5]=A*Z+L*U+G*H,n[6]=E*Z+j*U+ce*H,n[7]=I*Z+W*U+re*H,n[8]=w*X+C*ne+M*pe,n[9]=A*X+L*ne+G*pe,n[10]=E*X+j*ne+ce*pe,n[11]=I*X+W*ne+re*pe,e!==n&&(n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15]),n)}function rL(n,e){return n[0]=e[12],n[1]=e[13],n[2]=e[14],n}function lN(n,e){let t=e[0],r=e[1],i=e[2],s=e[4],o=e[5],u=e[6],f=e[8],d=e[9],x=e[10];return n[0]=Math.hypot(t,r,i),n[1]=Math.hypot(s,o,u),n[2]=Math.hypot(f,d,x),n}function iL(n){let e=n[0],t=n[1],r=n[2],i=n[4],s=n[5],o=n[6],u=n[8],f=n[9],d=n[10];const x=e*e+t*t+r*r,w=i*i+s*s+o*o,A=u*u+f*f+d*d;return Math.sqrt(Math.max(x,w,A))}const cN=(function(){const n=[1,1,1];return function(e,t){let r=n;lN(r,t);let i=1/r[0],s=1/r[1],o=1/r[2],u=t[0]*i,f=t[1]*s,d=t[2]*o,x=t[4]*i,w=t[5]*s,A=t[6]*o,E=t[8]*i,I=t[9]*s,C=t[10]*o,L=u+w+C,j=0;return L>0?(j=Math.sqrt(L+1)*2,e[3]=.25*j,e[0]=(A-I)/j,e[1]=(E-d)/j,e[2]=(f-x)/j):u>w&&u>C?(j=Math.sqrt(1+u-w-C)*2,e[3]=(A-I)/j,e[0]=.25*j,e[1]=(f+x)/j,e[2]=(E+d)/j):w>C?(j=Math.sqrt(1+w-u-C)*2,e[3]=(E-d)/j,e[0]=(f+x)/j,e[1]=.25*j,e[2]=(A+I)/j):(j=Math.sqrt(1+C-u-w)*2,e[3]=(f-x)/j,e[0]=(E+d)/j,e[1]=(A+I)/j,e[2]=.25*j),e}})();function sL(n,e,t,r){let i=P1([n[0],n[1],n[2]]);const s=P1([n[4],n[5],n[6]]),o=P1([n[8],n[9],n[10]]);oN(n)<0&&(i=-i),t[0]=n[12],t[1]=n[13],t[2]=n[14];const f=n.slice(),d=1/i,x=1/s,w=1/o;f[0]*=d,f[1]*=d,f[2]*=d,f[4]*=x,f[5]*=x,f[6]*=x,f[8]*=w,f[9]*=w,f[10]*=w,cN(e,f),r[0]=i,r[1]=s,r[2]=o}function aL(n,e,t,r){const i=n,s=e[0],o=e[1],u=e[2],f=e[3],d=s+s,x=o+o,w=u+u,A=s*d,E=s*x,I=s*w,C=o*x,L=o*w,j=u*w,W=f*d,M=f*x,G=f*w,ce=r[0],re=r[1],F=r[2];return i[0]=(1-(C+j))*ce,i[1]=(E+G)*ce,i[2]=(I-M)*ce,i[3]=0,i[4]=(E-G)*re,i[5]=(1-(A+j))*re,i[6]=(L+W)*re,i[7]=0,i[8]=(I+M)*F,i[9]=(L-W)*F,i[10]=(1-(A+C))*F,i[11]=0,i[12]=t[0],i[13]=t[1],i[14]=t[2],i[15]=1,i}function oL(n,e){let t=e[0],r=e[1],i=e[2],s=e[3],o=t+t,u=r+r,f=i+i,d=t*o,x=r*o,w=r*u,A=i*o,E=i*u,I=i*f,C=s*o,L=s*u,j=s*f;return n[0]=1-w-I,n[1]=x+j,n[2]=A-L,n[3]=0,n[4]=x-j,n[5]=1-d-I,n[6]=E+C,n[7]=0,n[8]=A+L,n[9]=E-C,n[10]=1-d-w,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,n}function lL(n,e,t,r,i){let s=1/Math.tan(e/2),o=1/(r-i);return n[0]=s/t,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=s,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=(i+r)*o,n[11]=-1,n[12]=0,n[13]=0,n[14]=2*i*r*o,n[15]=0,n}function cL(n,e,t,r,i,s,o){let u=1/(e-t),f=1/(r-i),d=1/(s-o);return n[0]=-2*u,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=-2*f,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=2*d,n[11]=0,n[12]=(e+t)*u,n[13]=(i+r)*f,n[14]=(o+s)*d,n[15]=1,n}function uL(n,e,t,r){let i=e[0],s=e[1],o=e[2],u=r[0],f=r[1],d=r[2],x=i-t[0],w=s-t[1],A=o-t[2],E=x*x+w*w+A*A;E===0?A=1:(E=1/Math.sqrt(E),x*=E,w*=E,A*=E);let I=f*A-d*w,C=d*x-u*A,L=u*w-f*x;return E=I*I+C*C+L*L,E===0&&(d?u+=1e-6:f?d+=1e-6:f+=1e-6,I=f*A-d*w,C=d*x-u*A,L=u*w-f*x,E=I*I+C*C+L*L),E=1/Math.sqrt(E),I*=E,C*=E,L*=E,n[0]=I,n[1]=C,n[2]=L,n[3]=0,n[4]=w*L-A*C,n[5]=A*I-x*L,n[6]=x*C-w*I,n[7]=0,n[8]=x,n[9]=w,n[10]=A,n[11]=0,n[12]=i,n[13]=s,n[14]=o,n[15]=1,n}function G4(n,e,t){return n[0]=e[0]+t[0],n[1]=e[1]+t[1],n[2]=e[2]+t[2],n[3]=e[3]+t[3],n[4]=e[4]+t[4],n[5]=e[5]+t[5],n[6]=e[6]+t[6],n[7]=e[7]+t[7],n[8]=e[8]+t[8],n[9]=e[9]+t[9],n[10]=e[10]+t[10],n[11]=e[11]+t[11],n[12]=e[12]+t[12],n[13]=e[13]+t[13],n[14]=e[14]+t[14],n[15]=e[15]+t[15],n}function W4(n,e,t){return n[0]=e[0]-t[0],n[1]=e[1]-t[1],n[2]=e[2]-t[2],n[3]=e[3]-t[3],n[4]=e[4]-t[4],n[5]=e[5]-t[5],n[6]=e[6]-t[6],n[7]=e[7]-t[7],n[8]=e[8]-t[8],n[9]=e[9]-t[9],n[10]=e[10]-t[10],n[11]=e[11]-t[11],n[12]=e[12]-t[12],n[13]=e[13]-t[13],n[14]=e[14]-t[14],n[15]=e[15]-t[15],n}function hL(n,e,t){return n[0]=e[0]*t,n[1]=e[1]*t,n[2]=e[2]*t,n[3]=e[3]*t,n[4]=e[4]*t,n[5]=e[5]*t,n[6]=e[6]*t,n[7]=e[7]*t,n[8]=e[8]*t,n[9]=e[9]*t,n[10]=e[10]*t,n[11]=e[11]*t,n[12]=e[12]*t,n[13]=e[13]*t,n[14]=e[14]*t,n[15]=e[15]*t,n}class Mp extends Array{constructor(e=1,t=0,r=0,i=0,s=0,o=1,u=0,f=0,d=0,x=0,w=1,A=0,E=0,I=0,C=0,L=1){return super(e,t,r,i,s,o,u,f,d,x,w,A,E,I,C,L),this}get x(){return this[12]}get y(){return this[13]}get z(){return this[14]}get w(){return this[15]}set x(e){this[12]=e}set y(e){this[13]=e}set z(e){this[14]=e}set w(e){this[15]=e}set(e,t,r,i,s,o,u,f,d,x,w,A,E,I,C,L){return e.length?this.copy(e):(ZD(this,e,t,r,i,s,o,u,f,d,x,w,A,E,I,C,L),this)}translate(e,t=this){return eL(this,t,e),this}rotate(e,t,r=this){return nL(this,r,e,t),this}scale(e,t=this){return tL(this,t,typeof e=="number"?[e,e,e]:e),this}add(e,t){return t?G4(this,e,t):G4(this,this,e),this}sub(e,t){return t?W4(this,e,t):W4(this,this,e),this}multiply(e,t){return e.length?t?q4(this,e,t):q4(this,this,e):hL(this,this,e),this}identity(){return QD(this),this}copy(e){return $D(this,e),this}fromPerspective({fov:e,aspect:t,near:r,far:i}={}){return lL(this,e,t,r,i),this}fromOrthogonal({left:e,right:t,bottom:r,top:i,near:s,far:o}){return cL(this,e,t,r,i,s,o),this}fromQuaternion(e){return oL(this,e),this}setPosition(e){return this.x=e[0],this.y=e[1],this.z=e[2],this}inverse(e=this){return JD(this,e),this}compose(e,t,r){return aL(this,e,t,r),this}decompose(e,t,r){return sL(this,e,t,r),this}getRotation(e){return cN(e,this),this}getTranslation(e){return rL(e,this),this}getScaling(e){return lN(e,this),this}getMaxScaleOnAxis(){return iL(this)}lookAt(e,t,r){return uL(this,e,t,r),this}determinant(){return oN(this)}fromArray(e,t=0){return this[0]=e[t],this[1]=e[t+1],this[2]=e[t+2],this[3]=e[t+3],this[4]=e[t+4],this[5]=e[t+5],this[6]=e[t+6],this[7]=e[t+7],this[8]=e[t+8],this[9]=e[t+9],this[10]=e[t+10],this[11]=e[t+11],this[12]=e[t+12],this[13]=e[t+13],this[14]=e[t+14],this[15]=e[t+15],this}toArray(e=[],t=0){return e[t]=this[0],e[t+1]=this[1],e[t+2]=this[2],e[t+3]=this[3],e[t+4]=this[4],e[t+5]=this[5],e[t+6]=this[6],e[t+7]=this[7],e[t+8]=this[8],e[t+9]=this[9],e[t+10]=this[10],e[t+11]=this[11],e[t+12]=this[12],e[t+13]=this[13],e[t+14]=this[14],e[t+15]=this[15],e}}function fL(n,e,t="YXZ"){return t==="XYZ"?(n[1]=Math.asin(Math.min(Math.max(e[8],-1),1)),Math.abs(e[8])<.99999?(n[0]=Math.atan2(-e[9],e[10]),n[2]=Math.atan2(-e[4],e[0])):(n[0]=Math.atan2(e[6],e[5]),n[2]=0)):t==="YXZ"?(n[0]=Math.asin(-Math.min(Math.max(e[9],-1),1)),Math.abs(e[9])<.99999?(n[1]=Math.atan2(e[8],e[10]),n[2]=Math.atan2(e[1],e[5])):(n[1]=Math.atan2(-e[2],e[0]),n[2]=0)):t==="ZXY"?(n[0]=Math.asin(Math.min(Math.max(e[6],-1),1)),Math.abs(e[6])<.99999?(n[1]=Math.atan2(-e[2],e[10]),n[2]=Math.atan2(-e[4],e[5])):(n[1]=0,n[2]=Math.atan2(e[1],e[0]))):t==="ZYX"?(n[1]=Math.asin(-Math.min(Math.max(e[2],-1),1)),Math.abs(e[2])<.99999?(n[0]=Math.atan2(e[6],e[10]),n[2]=Math.atan2(e[1],e[0])):(n[0]=0,n[2]=Math.atan2(-e[4],e[5]))):t==="YZX"?(n[2]=Math.asin(Math.min(Math.max(e[1],-1),1)),Math.abs(e[1])<.99999?(n[0]=Math.atan2(-e[9],e[5]),n[1]=Math.atan2(-e[2],e[0])):(n[0]=0,n[1]=Math.atan2(e[8],e[10]))):t==="XZY"&&(n[2]=Math.asin(-Math.min(Math.max(e[4],-1),1)),Math.abs(e[4])<.99999?(n[0]=Math.atan2(e[6],e[5]),n[1]=Math.atan2(e[8],e[0])):(n[0]=Math.atan2(-e[9],e[10]),n[1]=0)),n}const X4=new Mp;class dL extends Array{constructor(e=0,t=e,r=e,i="YXZ"){super(e,t,r),this.order=i,this.onChange=()=>{},this._target=this;const s=["0","1","2"];return new Proxy(this,{set(o,u){const f=Reflect.set(...arguments);return f&&s.includes(u)&&o.onChange(),f}})}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}set x(e){this._target[0]=e,this.onChange()}set y(e){this._target[1]=e,this.onChange()}set z(e){this._target[2]=e,this.onChange()}set(e,t=e,r=e){return e.length?this.copy(e):(this._target[0]=e,this._target[1]=t,this._target[2]=r,this.onChange(),this)}copy(e){return this._target[0]=e[0],this._target[1]=e[1],this._target[2]=e[2],this.onChange(),this}reorder(e){return this._target.order=e,this.onChange(),this}fromRotationMatrix(e,t=this.order){return fL(this._target,e,t),this.onChange(),this}fromQuaternion(e,t=this.order,r){return X4.fromQuaternion(e),this._target.fromRotationMatrix(X4,t),r||this.onChange(),this}fromArray(e,t=0){return this._target[0]=e[t],this._target[1]=e[t+1],this._target[2]=e[t+2],this}toArray(e=[],t=0){return e[t]=this[0],e[t+1]=this[1],e[t+2]=this[2],e}}class mL{constructor(){this.parent=null,this.children=[],this.visible=!0,this.matrix=new Mp,this.worldMatrix=new Mp,this.matrixAutoUpdate=!0,this.worldMatrixNeedsUpdate=!1,this.position=new gc,this.quaternion=new YD,this.scale=new gc(1),this.rotation=new dL,this.up=new gc(0,1,0),this.rotation._target.onChange=()=>this.quaternion.fromEuler(this.rotation,!0),this.quaternion._target.onChange=()=>this.rotation.fromQuaternion(this.quaternion,void 0,!0)}setParent(e,t=!0){this.parent&&e!==this.parent&&this.parent.removeChild(this,!1),this.parent=e,t&&e&&e.addChild(this,!1)}addChild(e,t=!0){~this.children.indexOf(e)||this.children.push(e),t&&e.setParent(this,!1)}removeChild(e,t=!0){~this.children.indexOf(e)&&this.children.splice(this.children.indexOf(e),1),t&&e.setParent(null,!1)}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.worldMatrixNeedsUpdate||e)&&(this.parent===null?this.worldMatrix.copy(this.matrix):this.worldMatrix.multiply(this.parent.worldMatrix,this.matrix),this.worldMatrixNeedsUpdate=!1,e=!0);for(let t=0,r=this.children.length;t<r;t++)this.children[t].updateMatrixWorld(e)}updateMatrix(){this.matrix.compose(this.quaternion,this.position,this.scale),this.worldMatrixNeedsUpdate=!0}traverse(e){if(!e(this))for(let t=0,r=this.children.length;t<r;t++)this.children[t].traverse(e)}decompose(){this.matrix.decompose(this.quaternion._target,this.position,this.scale),this.rotation.fromQuaternion(this.quaternion)}lookAt(e,t=!1){t?this.matrix.lookAt(this.position,e,this.up):this.matrix.lookAt(e,this.position,this.up),this.matrix.getRotation(this.quaternion._target),this.rotation.fromQuaternion(this.quaternion)}}function gL(n,e){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[4],n[4]=e[5],n[5]=e[6],n[6]=e[8],n[7]=e[9],n[8]=e[10],n}function pL(n,e){let t=e[0],r=e[1],i=e[2],s=e[3],o=t+t,u=r+r,f=i+i,d=t*o,x=r*o,w=r*u,A=i*o,E=i*u,I=i*f,C=s*o,L=s*u,j=s*f;return n[0]=1-w-I,n[3]=x-j,n[6]=A+L,n[1]=x+j,n[4]=1-d-I,n[7]=E-C,n[2]=A-L,n[5]=E+C,n[8]=1-d-w,n}function xL(n,e){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4],n[5]=e[5],n[6]=e[6],n[7]=e[7],n[8]=e[8],n}function vL(n,e,t,r,i,s,o,u,f,d){return n[0]=e,n[1]=t,n[2]=r,n[3]=i,n[4]=s,n[5]=o,n[6]=u,n[7]=f,n[8]=d,n}function _L(n){return n[0]=1,n[1]=0,n[2]=0,n[3]=0,n[4]=1,n[5]=0,n[6]=0,n[7]=0,n[8]=1,n}function yL(n,e){let t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],u=e[5],f=e[6],d=e[7],x=e[8],w=x*o-u*d,A=-x*s+u*f,E=d*s-o*f,I=t*w+r*A+i*E;return I?(I=1/I,n[0]=w*I,n[1]=(-x*r+i*d)*I,n[2]=(u*r-i*o)*I,n[3]=A*I,n[4]=(x*t-i*f)*I,n[5]=(-u*t+i*s)*I,n[6]=E*I,n[7]=(-d*t+r*f)*I,n[8]=(o*t-r*s)*I,n):null}function Y4(n,e,t){let r=e[0],i=e[1],s=e[2],o=e[3],u=e[4],f=e[5],d=e[6],x=e[7],w=e[8],A=t[0],E=t[1],I=t[2],C=t[3],L=t[4],j=t[5],W=t[6],M=t[7],G=t[8];return n[0]=A*r+E*o+I*d,n[1]=A*i+E*u+I*x,n[2]=A*s+E*f+I*w,n[3]=C*r+L*o+j*d,n[4]=C*i+L*u+j*x,n[5]=C*s+L*f+j*w,n[6]=W*r+M*o+G*d,n[7]=W*i+M*u+G*x,n[8]=W*s+M*f+G*w,n}function wL(n,e,t){let r=e[0],i=e[1],s=e[2],o=e[3],u=e[4],f=e[5],d=e[6],x=e[7],w=e[8],A=t[0],E=t[1];return n[0]=r,n[1]=i,n[2]=s,n[3]=o,n[4]=u,n[5]=f,n[6]=A*r+E*o+d,n[7]=A*i+E*u+x,n[8]=A*s+E*f+w,n}function bL(n,e,t){let r=e[0],i=e[1],s=e[2],o=e[3],u=e[4],f=e[5],d=e[6],x=e[7],w=e[8],A=Math.sin(t),E=Math.cos(t);return n[0]=E*r+A*o,n[1]=E*i+A*u,n[2]=E*s+A*f,n[3]=E*o-A*r,n[4]=E*u-A*i,n[5]=E*f-A*s,n[6]=d,n[7]=x,n[8]=w,n}function EL(n,e,t){let r=t[0],i=t[1];return n[0]=r*e[0],n[1]=r*e[1],n[2]=r*e[2],n[3]=i*e[3],n[4]=i*e[4],n[5]=i*e[5],n[6]=e[6],n[7]=e[7],n[8]=e[8],n}function AL(n,e){let t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],u=e[5],f=e[6],d=e[7],x=e[8],w=e[9],A=e[10],E=e[11],I=e[12],C=e[13],L=e[14],j=e[15],W=t*u-r*o,M=t*f-i*o,G=t*d-s*o,ce=r*f-i*u,re=r*d-s*u,F=i*d-s*f,B=x*C-w*I,D=x*L-A*I,Z=x*j-E*I,U=w*L-A*C,H=w*j-E*C,X=A*j-E*L,ne=W*X-M*H+G*U+ce*Z-re*D+F*B;return ne?(ne=1/ne,n[0]=(u*X-f*H+d*U)*ne,n[1]=(f*Z-o*X-d*D)*ne,n[2]=(o*H-u*Z+d*B)*ne,n[3]=(i*H-r*X-s*U)*ne,n[4]=(t*X-i*Z+s*D)*ne,n[5]=(r*Z-t*H-s*B)*ne,n[6]=(C*F-L*re+j*ce)*ne,n[7]=(L*G-I*F-j*M)*ne,n[8]=(I*re-C*G+j*W)*ne,n):null}class SL extends Array{constructor(e=1,t=0,r=0,i=0,s=1,o=0,u=0,f=0,d=1){return super(e,t,r,i,s,o,u,f,d),this}set(e,t,r,i,s,o,u,f,d){return e.length?this.copy(e):(vL(this,e,t,r,i,s,o,u,f,d),this)}translate(e,t=this){return wL(this,t,e),this}rotate(e,t=this){return bL(this,t,e),this}scale(e,t=this){return EL(this,t,e),this}multiply(e,t){return t?Y4(this,e,t):Y4(this,this,e),this}identity(){return _L(this),this}copy(e){return xL(this,e),this}fromMatrix4(e){return gL(this,e),this}fromQuaternion(e){return pL(this,e),this}fromBasis(e,t,r){return this.set(e[0],e[1],e[2],t[0],t[1],t[2],r[0],r[1],r[2]),this}inverse(e=this){return yL(this,e),this}getNormalMatrix(e){return AL(this,e),this}}let TL=0;class NL extends mL{constructor(e,{geometry:t,program:r,mode:i=e.TRIANGLES,frustumCulled:s=!0,renderOrder:o=0}={}){super(),e.canvas||console.error("gl not passed as first argument to Mesh"),this.gl=e,this.id=TL++,this.geometry=t,this.program=r,this.mode=i,this.frustumCulled=s,this.renderOrder=o,this.modelViewMatrix=new Mp,this.normalMatrix=new SL,this.beforeRenderCallbacks=[],this.afterRenderCallbacks=[]}onBeforeRender(e){return this.beforeRenderCallbacks.push(e),this}onAfterRender(e){return this.afterRenderCallbacks.push(e),this}draw({camera:e}={}){e&&(this.program.uniforms.modelMatrix||Object.assign(this.program.uniforms,{modelMatrix:{value:null},viewMatrix:{value:null},modelViewMatrix:{value:null},normalMatrix:{value:null},projectionMatrix:{value:null},cameraPosition:{value:null}}),this.program.uniforms.projectionMatrix.value=e.projectionMatrix,this.program.uniforms.cameraPosition.value=e.worldPosition,this.program.uniforms.viewMatrix.value=e.viewMatrix,this.modelViewMatrix.multiply(e.viewMatrix,this.worldMatrix),this.normalMatrix.getNormalMatrix(this.modelViewMatrix),this.program.uniforms.modelMatrix.value=this.worldMatrix,this.program.uniforms.modelViewMatrix.value=this.modelViewMatrix,this.program.uniforms.normalMatrix.value=this.normalMatrix),this.beforeRenderCallbacks.forEach(r=>r&&r({mesh:this,camera:e}));let t=this.program.cullFace&&this.worldMatrix.determinant()<0;this.program.use({flipFaces:t}),this.geometry.draw({mode:this.mode,program:this.program}),this.afterRenderCallbacks.forEach(r=>r&&r({mesh:this,camera:e}))}}const K4={black:"#000000",white:"#ffffff",red:"#ff0000",green:"#00ff00",blue:"#0000ff",fuchsia:"#ff00ff",cyan:"#00ffff",yellow:"#ffff00",orange:"#ff8000"};function $4(n){n.length===4&&(n=n[0]+n[1]+n[1]+n[2]+n[2]+n[3]+n[3]);const e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(n);return e||console.warn(`Unable to convert hex string ${n} to rgb values`),[parseInt(e[1],16)/255,parseInt(e[2],16)/255,parseInt(e[3],16)/255]}function CL(n){return n=parseInt(n),[(n>>16&255)/255,(n>>8&255)/255,(n&255)/255]}function Z4(n){return n===void 0?[0,0,0]:arguments.length===3?arguments:isNaN(n)?n[0]==="#"?$4(n):K4[n.toLowerCase()]?$4(K4[n.toLowerCase()]):(console.warn("Color format not recognised"),[0,0,0]):CL(n)}class Q4 extends Array{constructor(e){return Array.isArray(e)?super(...e):super(...Z4(...arguments))}get r(){return this[0]}get g(){return this[1]}get b(){return this[2]}set r(e){this[0]=e}set g(e){this[1]=e}set b(e){this[2]=e}set(e){return Array.isArray(e)?this.copy(e):this.copy(Z4(...arguments))}copy(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this}}class IL extends bD{constructor(e,{attributes:t={}}={}){Object.assign(t,{position:{size:2,data:new Float32Array([-1,-1,3,-1,-1,3])},uv:{size:2,data:new Float32Array([0,0,2,0,0,2])}}),super(e,t)}}const RL=`
attribute vec2 uv;
attribute vec2 position;

varying vec2 vUv;

void main() {
  vUv = uv;
  gl_Position = vec4(position, 0, 1);
}
`,OL=`
precision highp float;

uniform float uTime;
uniform vec3 uResolution;
uniform vec2 uFocal;
uniform vec2 uRotation;
uniform float uStarSpeed;
uniform float uDensity;
uniform float uHueShift;
uniform float uSpeed;
uniform vec2 uMouse;
uniform float uGlowIntensity;
uniform float uSaturation;
uniform bool uMouseRepulsion;
uniform float uTwinkleIntensity;
uniform float uRotationSpeed;
uniform float uRepulsionStrength;
uniform float uMouseActiveFactor;
uniform float uAutoCenterRepulsion;
uniform bool uTransparent;

varying vec2 vUv;

#define NUM_LAYER 4.0
#define STAR_COLOR_CUTOFF 0.2
#define MAT45 mat2(0.7071, -0.7071, 0.7071, 0.7071)
#define PERIOD 3.0

float Hash21(vec2 p) {
  p = fract(p * vec2(123.34, 456.21));
  p += dot(p, p + 45.32);
  return fract(p.x * p.y);
}

float tri(float x) {
  return abs(fract(x) * 2.0 - 1.0);
}

float tris(float x) {
  float t = fract(x);
  return 1.0 - smoothstep(0.0, 1.0, abs(2.0 * t - 1.0));
}

float trisn(float x) {
  float t = fract(x);
  return 2.0 * (1.0 - smoothstep(0.0, 1.0, abs(2.0 * t - 1.0))) - 1.0;
}

vec3 hsv2rgb(vec3 c) {
  vec4 K = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);
  vec3 p = abs(fract(c.xxx + K.xyz) * 6.0 - K.www);
  return c.z * mix(K.xxx, clamp(p - K.xxx, 0.0, 1.0), c.y);
}

float Star(vec2 uv, float flare) {
  float d = length(uv);
  float m = (0.05 * uGlowIntensity) / d;
  float rays = smoothstep(0.0, 1.0, 1.0 - abs(uv.x * uv.y * 1000.0));
  m += rays * flare * uGlowIntensity;
  uv *= MAT45;
  rays = smoothstep(0.0, 1.0, 1.0 - abs(uv.x * uv.y * 1000.0));
  m += rays * 0.3 * flare * uGlowIntensity;
  m *= smoothstep(1.0, 0.2, d);
  return m;
}

vec3 StarLayer(vec2 uv) {
  vec3 col = vec3(0.0);

  vec2 gv = fract(uv) - 0.5; 
  vec2 id = floor(uv);

  for (int y = -1; y <= 1; y++) {
    for (int x = -1; x <= 1; x++) {
      vec2 offset = vec2(float(x), float(y));
      vec2 si = id + vec2(float(x), float(y));
      float seed = Hash21(si);
      float size = fract(seed * 345.32);
      float glossLocal = tri(uStarSpeed / (PERIOD * seed + 1.0));
      float flareSize = smoothstep(0.9, 1.0, size) * glossLocal;

      float red = smoothstep(STAR_COLOR_CUTOFF, 1.0, Hash21(si + 1.0)) + STAR_COLOR_CUTOFF;
      float blu = smoothstep(STAR_COLOR_CUTOFF, 1.0, Hash21(si + 3.0)) + STAR_COLOR_CUTOFF;
      float grn = min(red, blu) * seed;
      vec3 base = vec3(red, grn, blu);
      
      float hue = atan(base.g - base.r, base.b - base.r) / (2.0 * 3.14159) + 0.5;
      hue = fract(hue + uHueShift / 360.0);
      float sat = length(base - vec3(dot(base, vec3(0.299, 0.587, 0.114)))) * uSaturation;
      float val = max(max(base.r, base.g), base.b);
      base = hsv2rgb(vec3(hue, sat, val));

      vec2 pad = vec2(tris(seed * 34.0 + uTime * uSpeed / 10.0), tris(seed * 38.0 + uTime * uSpeed / 30.0)) - 0.5;

      float star = Star(gv - offset - pad, flareSize);
      vec3 color = base;

      float twinkle = trisn(uTime * uSpeed + seed * 6.2831) * 0.5 + 1.0;
      twinkle = mix(1.0, twinkle, uTwinkleIntensity);
      star *= twinkle;
      
      col += star * size * color;
    }
  }

  return col;
}

void main() {
  vec2 focalPx = uFocal * uResolution.xy;
  vec2 uv = (vUv * uResolution.xy - focalPx) / uResolution.y;

  vec2 mouseNorm = uMouse - vec2(0.5);
  
  if (uAutoCenterRepulsion > 0.0) {
    vec2 centerUV = vec2(0.0, 0.0);
    float centerDist = length(uv - centerUV);
    vec2 repulsion = normalize(uv - centerUV) * (uAutoCenterRepulsion / (centerDist + 0.1));
    uv += repulsion * 0.05;
  } else if (uMouseRepulsion) {
    vec2 mousePosUV = (uMouse * uResolution.xy - focalPx) / uResolution.y;
    float mouseDist = length(uv - mousePosUV);
    vec2 repulsion = normalize(uv - mousePosUV) * (uRepulsionStrength / (mouseDist + 0.1));
    uv += repulsion * 0.05 * uMouseActiveFactor;
  } else {
    vec2 mouseOffset = mouseNorm * 0.1 * uMouseActiveFactor;
    uv += mouseOffset;
  }

  float autoRotAngle = uTime * uRotationSpeed;
  mat2 autoRot = mat2(cos(autoRotAngle), -sin(autoRotAngle), sin(autoRotAngle), cos(autoRotAngle));
  uv = autoRot * uv;

  uv = mat2(uRotation.x, -uRotation.y, uRotation.y, uRotation.x) * uv;

  vec3 col = vec3(0.0);

  for (float i = 0.0; i < 1.0; i += 1.0 / NUM_LAYER) {
    float depth = fract(i + uStarSpeed * uSpeed);
    float scale = mix(20.0 * uDensity, 0.5 * uDensity, depth);
    float fade = depth * smoothstep(1.0, 0.9, depth);
    col += StarLayer(uv * scale + i * 453.32) * fade;
  }

  if (uTransparent) {
    float alpha = length(col);
    alpha = smoothstep(0.0, 0.3, alpha);
    alpha = min(alpha, 1.0);
    gl_FragColor = vec4(col, alpha);
  } else {
    gl_FragColor = vec4(col, 1.0);
  }
}
`;function kL({focal:n=[.2,.2],rotation:e=[1,0],starSpeed:t=.4,density:r=.6,hueShift:i=140,disableAnimation:s=!1,speed:o=.8,mouseInteraction:u=!0,glowIntensity:f=.2,saturation:d=.5,mouseRepulsion:x=!0,repulsionStrength:w=2,twinkleIntensity:A=.5,rotationSpeed:E=.1,autoCenterRepulsion:I=0,transparent:C=!0,...L}){const j=ae.useRef(null),W=ae.useRef({x:.5,y:.5}),M=ae.useRef({x:.5,y:.5}),G=ae.useRef(0),ce=ae.useRef(0);return ae.useEffect(()=>{if(!j.current)return;const re=j.current,F=new ID({alpha:C,premultipliedAlpha:!1}),B=F.gl;C?(B.enable(B.BLEND),B.blendFunc(B.SRC_ALPHA,B.ONE_MINUS_SRC_ALPHA),B.clearColor(0,0,0,0)):B.clearColor(0,0,0,1);let D;function Z(){F.setSize(re.offsetWidth*1,re.offsetHeight*1),D&&(D.uniforms.uResolution.value=new Q4(B.canvas.width,B.canvas.height,B.canvas.width/B.canvas.height))}window.addEventListener("resize",Z,!1),Z();const U=new IL(B);D=new AD(B,{vertex:RL,fragment:OL,uniforms:{uTime:{value:0},uResolution:{value:new Q4(B.canvas.width,B.canvas.height,B.canvas.width/B.canvas.height)},uFocal:{value:new Float32Array(n)},uRotation:{value:new Float32Array(e)},uStarSpeed:{value:t},uDensity:{value:r},uHueShift:{value:i},uSpeed:{value:o},uMouse:{value:new Float32Array([M.current.x,M.current.y])},uGlowIntensity:{value:f},uSaturation:{value:d},uMouseRepulsion:{value:x},uTwinkleIntensity:{value:A},uRotationSpeed:{value:E},uRepulsionStrength:{value:w},uMouseActiveFactor:{value:0},uAutoCenterRepulsion:{value:I},uTransparent:{value:C}}});const H=new NL(B,{geometry:U,program:D});let X;function ne(xe){X=requestAnimationFrame(ne),s||(D.uniforms.uTime.value=xe*.001,D.uniforms.uStarSpeed.value=xe*.001*t/10);const Re=.05;M.current.x+=(W.current.x-M.current.x)*Re,M.current.y+=(W.current.y-M.current.y)*Re,ce.current+=(G.current-ce.current)*Re,D.uniforms.uMouse.value[0]=M.current.x,D.uniforms.uMouse.value[1]=M.current.y,D.uniforms.uMouseActiveFactor.value=ce.current,F.render({scene:H})}X=requestAnimationFrame(ne),re.appendChild(B.canvas);function pe(xe){const Re=re.getBoundingClientRect(),He=(xe.clientX-Re.left)/Re.width,ze=1-(xe.clientY-Re.top)/Re.height;W.current={x:He,y:ze},G.current=1}function Ae(){G.current=0}return u&&(re.addEventListener("mousemove",pe),re.addEventListener("mouseleave",Ae)),()=>{cancelAnimationFrame(X),window.removeEventListener("resize",Z),u&&(re.removeEventListener("mousemove",pe),re.removeEventListener("mouseleave",Ae)),re.removeChild(B.canvas),B.getExtension("WEBGL_lose_context")?.loseContext()}},[n,e,t,r,i,s,o,u,f,d,x,A,E,w,I,C]),m.jsx("div",{ref:j,className:"galaxy-container",...L})}let Lg=null;function DL(){try{const n=document.createElement("canvas"),e=n.getContext("webgl")||n.getContext("experimental-webgl");if(!e)return!0;const t=e.getExtension("WEBGL_debug_renderer_info");if(!t)return!1;const r=e.getParameter(t.UNMASKED_RENDERER_WEBGL).toLowerCase();return["intel hd graphics","intel uhd graphics","intel(r) hd graphics","intel(r) uhd graphics","mali-4","mali-t","adreno 3","adreno 4","adreno 5","powervr","videocore","swiftshader","llvmpipe","mesa","microsoft basic render"].some(s=>r.includes(s))}catch{return!1}}function LL(){const n=navigator.userAgent.toLowerCase(),t=["android","webos","iphone","ipad","ipod","blackberry","windows phone"].some(s=>n.includes(s)),r="ontouchstart"in window||navigator.maxTouchPoints>0,i=window.innerWidth<=768;return t||r&&i}function ML(){return navigator.deviceMemory||null}function PL(){return navigator.hardwareConcurrency||4}function jL(n,e,t,r){let i=0;return n>=8?i+=3:n>=4?i+=2:n>=2&&(i+=1),e!==null?e>=8?i+=3:e>=4?i+=2:e>=2&&(i+=1):i+=2,r&&(i-=2),t&&(i-=1),i>=5?"high":i>=3?"medium":"low"}function FL(){if(Lg)return Lg;const n=PL(),e=ML(),t=LL(),r=DL();return Lg={tier:jL(n,e,t,r),cpuCores:n,deviceMemory:e,isMobile:t,isLowEndGPU:r},Lg}const Uv={high:{density:.6,glowIntensity:.1,twinkleIntensity:.1,rotationSpeed:.1,speed:.8,mouseInteraction:!1,mouseRepulsion:!1,disabled:!1},medium:{density:.35,glowIntensity:.08,twinkleIntensity:.05,rotationSpeed:.05,speed:.5,mouseInteraction:!1,mouseRepulsion:!1,disabled:!1},low:{density:.15,glowIntensity:.05,twinkleIntensity:0,rotationSpeed:.02,speed:.3,mouseInteraction:!1,mouseRepulsion:!1,disabled:!1}};function BL({forceHighQuality:n=!1,forceLowQuality:e=!1}){const t=ae.useMemo(()=>{if(n)return Uv.high;if(e)return Uv.low;const{tier:r}=FL();return Uv[r]},[n,e]);return t.disabled?m.jsx("div",{className:"galaxy-container galaxy-container--static"}):m.jsx(kL,{density:t.density,glowIntensity:t.glowIntensity,twinkleIntensity:t.twinkleIntensity,rotationSpeed:t.rotationSpeed,speed:t.speed,mouseInteraction:t.mouseInteraction,mouseRepulsion:t.mouseRepulsion,saturation:.2,hueShift:360,repulsionStrength:2,autoCenterRepulsion:0,starSpeed:.4,transparent:!1})}const yw="/orbitx-zcoer-website/assets/Logo_without_background-BzyQFdVO.png";var Vv,J4;function UL(){if(J4)return Vv;J4=1;var n=typeof Element<"u",e=typeof Map=="function",t=typeof Set=="function",r=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function i(s,o){if(s===o)return!0;if(s&&o&&typeof s=="object"&&typeof o=="object"){if(s.constructor!==o.constructor)return!1;var u,f,d;if(Array.isArray(s)){if(u=s.length,u!=o.length)return!1;for(f=u;f--!==0;)if(!i(s[f],o[f]))return!1;return!0}var x;if(e&&s instanceof Map&&o instanceof Map){if(s.size!==o.size)return!1;for(x=s.entries();!(f=x.next()).done;)if(!o.has(f.value[0]))return!1;for(x=s.entries();!(f=x.next()).done;)if(!i(f.value[1],o.get(f.value[0])))return!1;return!0}if(t&&s instanceof Set&&o instanceof Set){if(s.size!==o.size)return!1;for(x=s.entries();!(f=x.next()).done;)if(!o.has(f.value[0]))return!1;return!0}if(r&&ArrayBuffer.isView(s)&&ArrayBuffer.isView(o)){if(u=s.length,u!=o.length)return!1;for(f=u;f--!==0;)if(s[f]!==o[f])return!1;return!0}if(s.constructor===RegExp)return s.source===o.source&&s.flags===o.flags;if(s.valueOf!==Object.prototype.valueOf&&typeof s.valueOf=="function"&&typeof o.valueOf=="function")return s.valueOf()===o.valueOf();if(s.toString!==Object.prototype.toString&&typeof s.toString=="function"&&typeof o.toString=="function")return s.toString()===o.toString();if(d=Object.keys(s),u=d.length,u!==Object.keys(o).length)return!1;for(f=u;f--!==0;)if(!Object.prototype.hasOwnProperty.call(o,d[f]))return!1;if(n&&s instanceof Element)return!1;for(f=u;f--!==0;)if(!((d[f]==="_owner"||d[f]==="__v"||d[f]==="__o")&&s.$$typeof)&&!i(s[d[f]],o[d[f]]))return!1;return!0}return s!==s&&o!==o}return Vv=function(o,u){try{return i(o,u)}catch(f){if((f.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw f}},Vv}var VL=UL();const pp=C2(VL);function ts(n,e){return!Number.isInteger(n)||!Number.isInteger(e)?Math.random()*(e-n)+n:Math.floor(Math.random()*(e-n+1)+n)}function b1(n,e,t){return(1-t)*n+t*e}function zL(n){const e=Math.floor(Math.random()*n.length);return n[e]}function eE(n){return n?{height:n.offsetHeight,width:n.offsetWidth}:{height:0,width:0}}const tE=Math.PI*2,Gc={color:"#dee4fd",radius:[.5,3],speed:[1,3],wind:[-.5,2],changeFrequency:200,rotationSpeed:[-1,1],opacity:[1,1],enable3DRotation:!1};class Af{static createSnowflakes(e,t,r){if(!e)return[];const i=[];for(let s=0;s<t;s++)i.push(new Af(e,r));return i}constructor(e,t={}){this.updateConfig(t);const{radius:r,wind:i,speed:s,rotationSpeed:o,opacity:u,enable3DRotation:f}=this.config;this.params={x:ts(0,e.offsetWidth),y:ts(-e.offsetHeight,0),rotation:ts(0,360),radius:ts(...r),speed:ts(...s),wind:ts(...i),rotationSpeed:ts(...o),nextSpeed:ts(...s),nextWind:ts(...i),nextRotationSpeed:ts(...o),opacity:ts(...u),hasNextOpacity:!1,rotationX:f?ts(0,360):0,rotationY:f?ts(0,360):0,rotationSpeedX:f?ts(-2,2):0,rotationSpeedY:f?ts(-2,2):0,nextRotationSpeedX:f?ts(-2,2):0,nextRotationSpeedY:f?ts(-2,2):0},this.framesSinceLastUpdate=0}selectImage(){this.config.images&&this.config.images.length>0?this.image=zL(this.config.images):this.image=void 0}updateConfig(e){const t=this.config;this.config={...Gc,...e},this.config.changeFrequency=ts(this.config.changeFrequency,this.config.changeFrequency*1.5),this.params&&!pp(this.config.radius,t?.radius)&&(this.params.radius=ts(...this.config.radius)),pp(this.config.images,t?.images)||this.selectImage(),t?.opacity&&!pp(this.config.opacity,t?.opacity)&&(this.params.hasNextOpacity=!0)}updateTargetParams(){this.params.nextSpeed=ts(...this.config.speed),this.params.nextWind=ts(...this.config.wind),this.image&&(this.params.nextRotationSpeed=ts(...this.config.rotationSpeed)),this.config.enable3DRotation&&(this.params.nextRotationSpeedX=ts(-2,2),this.params.nextRotationSpeedY=ts(-2,2))}update(e,t,r=1){const{x:i,y:s,rotation:o,rotationSpeed:u,nextRotationSpeed:f,wind:d,speed:x,nextWind:w,nextSpeed:A,radius:E}=this.params;this.params.x=(i+d*r)%(e+E*2),this.params.x>e+E&&(this.params.x=-E),this.params.y=(s+x*r)%(t+E*2),this.params.y>t+E&&(this.params.hasNextOpacity&&(this.params.opacity=ts(...this.config.opacity),this.params.hasNextOpacity=!1),this.params.y=-E),(this.image||this.config.enable3DRotation)&&(this.params.rotation=(o+u)%360),this.config.enable3DRotation&&(this.params.rotationX=(this.params.rotationX+this.params.rotationSpeedX*r)%360,this.params.rotationY=(this.params.rotationY+this.params.rotationSpeedY*r)%360),this.params.speed=b1(x,A,.01),this.params.wind=b1(d,w,.01),this.params.rotationSpeed=b1(u,f,.01),this.config.enable3DRotation&&(this.params.rotationSpeedX=b1(this.params.rotationSpeedX,this.params.nextRotationSpeedX,.01),this.params.rotationSpeedY=b1(this.params.rotationSpeedY,this.params.nextRotationSpeedY,.01)),this.framesSinceLastUpdate++>this.config.changeFrequency&&(this.updateTargetParams(),this.framesSinceLastUpdate=0)}getImageOffscreenCanvas(e,t){var r,i;if(e instanceof HTMLImageElement&&e.loading)return e;let s=Af.offscreenCanvases.get(e);if(s||(s={},Af.offscreenCanvases.set(e,s)),!(t in s)){const o=document.createElement("canvas");o.width=t,o.height=t,(r=o.getContext("2d"))===null||r===void 0||r.drawImage(e,0,0,t,t),s[t]=o}return(i=s[t])!==null&&i!==void 0?i:e}apply3DTransform(e,t,r){if(this.config.enable3DRotation){const{rotationX:i,rotationY:s}=this.params,o=this.params.rotation||0,u=i*Math.PI/180,f=s*Math.PI/180,d=o*Math.PI/180,x=Math.cos(u),w=Math.sin(u),A=Math.cos(f),E=Math.sin(f),I=Math.cos(d),C=Math.sin(d),L=I*A,j=I*E*w-C*x,W=I*E*x+C*w,M=C*A;e.setTransform(L,j,W,M,t,r)}else{const s=(this.params.rotation||0)*Math.PI/180,o=Math.cos(s),u=Math.sin(s);e.setTransform(o,u,-u,o,t,r)}}drawCircle(e){e.moveTo(this.params.x,this.params.y),e.arc(this.params.x,this.params.y,this.params.radius,0,tE)}drawCircle3D(e,t){const{x:r,y:i,radius:s}=this.params;e.save(),this.config.enable3DRotation?this.apply3DTransform(e,r,i):e.translate(r,i),e.beginPath(),e.arc(0,0,s,0,tE),e.fillStyle=t,e.fill(),e.restore()}drawImage(e){const{x:t,y:r,radius:i}=this.params;e.save(),this.params.opacity!==1&&(e.globalAlpha=this.params.opacity),this.apply3DTransform(e,t,r);const s=this.getImageOffscreenCanvas(this.image,i);e.drawImage(s,-(i/2),-(i/2),i,i),e.restore()}}Af.offscreenCanvases=new WeakMap;const HL={pointerEvents:"none",backgroundColor:"transparent",position:"absolute",top:0,left:0,width:"100%",height:"100%"},qL=1e3/60;var nE=function(n,e,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(n):r?r.value:e.get(n)},Mg=function(n,e,t,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?n!==e||!i:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(n,t):i?i.value=t:e.set(n,t),t},I1,R1;class GL{get ctx(){return nE(this,I1,"f")}get canvas(){return nE(this,R1,"f")}set canvas(e){Mg(this,R1,e,"f"),Mg(this,I1,e.getContext("2d"),"f")}constructor(e,t){this.lastUpdate=Date.now(),this.snowflakes=[],I1.set(this,void 0),R1.set(this,void 0),Mg(this,R1,e,"f"),Mg(this,I1,e.getContext("2d"),"f"),this.config={snowflakeCount:150,...Gc,...t},this.snowflakes=[],this.snowflakes=Af.createSnowflakes(e,t.snowflakeCount||150,t),this.play()}updateConfig(e){this.config={...this.config,...e};const t=this.config.snowflakeCount-this.snowflakes.length;t>0&&(this.snowflakes=[...this.snowflakes,...Af.createSnowflakes(this.canvas,t,e)]),t<0&&(this.snowflakes=this.snowflakes.slice(0,this.config.snowflakeCount));for(const r of this.snowflakes)r.updateConfig(this.config)}render(e=1){const{ctx:t,canvas:r,snowflakes:i}=this;if(!t||!r)return;const{offsetWidth:s,offsetHeight:o}=r;for(const u of i)u.update(s,o,e);if(t.setTransform(1,0,0,1,0,0),t.clearRect(0,0,s,o),this.config.images&&this.config.images.length>0){for(const u of i)u.drawImage(t);return}if(this.config.enable3DRotation)for(const u of i)u.drawCircle3D(t,this.config.color);else{t.beginPath();for(const u of i)u.drawCircle(t);t.fillStyle=this.config.color,t.fill()}}loop(){const e=Date.now(),t=Date.now()-this.lastUpdate;this.lastUpdate=e;const r=t/qL;this.render(r),this.animationFrame=requestAnimationFrame(()=>this.loop())}play(){this.loop()}pause(){this.animationFrame&&(cancelAnimationFrame(this.animationFrame),this.animationFrame=void 0)}}I1=new WeakMap,R1=new WeakMap;const WL=n=>{const[e,t]=ae.useState(eE(n.current)),r=ae.useCallback(()=>{n.current&&t(eE(n.current))},[n]);return ae.useEffect(()=>{const{ResizeObserver:i}=window;if(n.current)if(r(),typeof i=="function"){const s=new i(r);return s.observe(n.current),()=>s.disconnect()}else return window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)},[n,r]),e},XL=n=>ae.useMemo(()=>({...HL,...n||{}}),[n]);function YL(n,e){const t=ae.useRef(e);return pp(e,t.current)||(t.current=e),ae.useEffect(n,t.current)}function KL(n){const[e,t]=ae.useState(n);return YL(()=>t(n),[n]),e}const $L=({color:n=Gc.color,changeFrequency:e=Gc.changeFrequency,radius:t=Gc.radius,speed:r=Gc.speed,wind:i=Gc.wind,rotationSpeed:s=Gc.rotationSpeed,opacity:o=Gc.opacity,snowflakeCount:u=150,images:f,enable3DRotation:d=Gc.enable3DRotation,style:x}={})=>{const w=XL(x),A=ae.useRef(null),E=WL(A),I=KL({color:n,changeFrequency:e,radius:t,speed:r,wind:i,rotationSpeed:s,images:f,snowflakeCount:u,opacity:o,enable3DRotation:d}),C=ae.useRef(I),L=ae.useRef();return ae.useEffect(()=>(!L.current&&A.current&&(L.current=new GL(A.current,C.current)),()=>{var j;(j=L.current)===null||j===void 0||j.pause(),L.current=void 0}),[]),ae.useEffect(()=>{L.current&&L.current.updateConfig(I)},[I]),dp.createElement("canvas",{ref:A,height:E.height,width:E.width,style:w,"data-testid":"SnowfallCanvas"})},rE="orbitx-snow-holiday-shown";function ZL(){const n=new Date,e=n.getMonth(),t=n.getDate();return e===11&&t>=20||e===0&&t<=5}const uN=ae.createContext(null);function QL(){const n=ae.useContext(uN);if(!n)throw new Error("useSnowfall must be used within a SnowfallProvider");return n}function JL({children:n}){const[e,t]=ae.useState(!1);ae.useEffect(()=>{ZL()&&(sessionStorage.getItem(rE)||(t(!0),sessionStorage.setItem(rE,"true"),setTimeout(()=>{t(!1)},1e4)))},[]),ae.useEffect(()=>{let s=0,o=0,u=0,f=15,d=0,x=0;const w=A=>{const E=A.accelerationIncludingGravity;if(!E)return;const I=E.x||0,C=E.y||0,L=E.z||0,j=Math.abs(I-s),W=Math.abs(C-o),M=Math.abs(L-u),G=Date.now();(j>f||W>f||M>f)&&G-x>100&&(d++,x=G,d>=3&&(t(!0),d=0)),G-x>2e3&&(d=0),s=I,o=C,u=L};return typeof DeviceMotionEvent<"u"&&window.addEventListener("devicemotion",w),()=>{window.removeEventListener("devicemotion",w)}},[]);const r=ae.useCallback(()=>{t(s=>!s)},[]),i=ae.useCallback(()=>{t(!0)},[]);return m.jsxs(uN.Provider,{value:{isSnowing:e,toggleSnow:r,triggerSnow:i},children:[n,e&&m.jsx($L,{snowflakeCount:150,style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",zIndex:9999,pointerEvents:"none"}})]})}const eM=()=>{};var iE={};const hN=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},tM=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[t++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=n[t++],o=n[t++],u=n[t++],f=((i&7)<<18|(s&63)<<12|(o&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const s=n[t++],o=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},fN={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],o=i+1<n.length,u=o?n[i+1]:0,f=i+2<n.length,d=f?n[i+2]:0,x=s>>2,w=(s&3)<<4|u>>4;let A=(u&15)<<2|d>>6,E=d&63;f||(E=64,o||(A=64)),r.push(t[x],t[w],t[A],t[E])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(hN(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):tM(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=t[n.charAt(i++)],u=i<n.length?t[n.charAt(i)]:0;++i;const d=i<n.length?t[n.charAt(i)]:64;++i;const w=i<n.length?t[n.charAt(i)]:64;if(++i,s==null||u==null||d==null||w==null)throw new nM;const A=s<<2|u>>4;if(r.push(A),d!==64){const E=u<<4&240|d>>2;if(r.push(E),w!==64){const I=d<<6&192|w;r.push(I)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class nM extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const rM=function(n){const e=hN(n);return fN.encodeByteArray(e,!0)},Pp=function(n){return rM(n).replace(/\./g,"")},dN=function(n){try{return fN.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function iM(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const sM=()=>iM().__FIREBASE_DEFAULTS__,aM=()=>{if(typeof process>"u"||typeof iE>"u")return;const n=iE.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},oM=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&dN(n[1]);return e&&JSON.parse(e)},O2=()=>{try{return eM()||sM()||aM()||oM()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},mN=n=>O2()?.emulatorHosts?.[n],gN=n=>{const e=mN(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},pN=()=>O2()?.config,xN=n=>O2()?.[`_${n}`];class lM{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}function $h(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function ww(n){return(await fetch(n,{credentials:"include"})).ok}function vN(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Pp(JSON.stringify(t)),Pp(JSON.stringify(o)),""].join(".")}const j1={};function cM(){const n={prod:[],emulator:[]};for(const e of Object.keys(j1))j1[e]?n.emulator.push(e):n.prod.push(e);return n}function uM(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let sE=!1;function bw(n,e){if(typeof window>"u"||typeof document>"u"||!$h(window.location.host)||j1[n]===e||j1[n]||sE)return;j1[n]=e;function t(A){return`__firebase__banner__${A}`}const r="__firebase__banner",s=cM().prod.length>0;function o(){const A=document.getElementById(r);A&&A.remove()}function u(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function f(A,E){A.setAttribute("width","24"),A.setAttribute("id",E),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function d(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{sE=!0,o()},A}function x(A,E){A.setAttribute("id",E),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function w(){const A=uM(r),E=t("text"),I=document.getElementById(E)||document.createElement("span"),C=t("learnmore"),L=document.getElementById(C)||document.createElement("a"),j=t("preprendIcon"),W=document.getElementById(j)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const M=A.element;u(M),x(L,C);const G=d();f(W,j),M.append(W,I,L,G),document.body.appendChild(M)}s?(I.innerText="Preview backend disconnected.",W.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(W.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,I.innerText="Preview backend running in this workspace."),I.setAttribute("id",E)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}function Do(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function hM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Do())}function fM(){const n=O2()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function dM(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function mM(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function gM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function pM(){const n=Do();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function xM(){return!fM()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function vM(){try{return typeof indexedDB=="object"}catch{return!1}}function _M(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(t){e(t)}})}const yM="FirebaseError";class au extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=yM,Object.setPrototypeOf(this,au.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ym.prototype.create)}}class ym{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?wM(s,r):"Error",u=`${this.serviceName}: ${o} (${i}).`;return new au(i,u,r)}}function wM(n,e){return n.replace(bM,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const bM=/\{\$([^}]+)}/g;function EM(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Vu(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const s=n[i],o=e[i];if(aE(s)&&aE(o)){if(!Vu(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function aE(n){return n!==null&&typeof n=="object"}function wm(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function AM(n,e){const t=new SM(n,e);return t.subscribe.bind(t)}class SM{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");TM(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=zv),i.error===void 0&&(i.error=zv),i.complete===void 0&&(i.complete=zv);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function TM(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function zv(){}function ws(n){return n&&n._delegate?n._delegate:n}class Bh{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const vf="[DEFAULT]";class NM{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new lM;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(IM(e))try{this.getOrInitializeService({instanceIdentifier:vf})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=vf){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=vf){return this.instances.has(e)}getOptions(e=vf){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[s,o]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(s);r===u&&o.resolve(i)}return i}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:CM(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=vf){return this.component?this.component.multipleInstances?e:vf:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function CM(n){return n===vf?void 0:n}function IM(n){return n.instantiationMode==="EAGER"}class RM{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new NM(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var Hr;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Hr||(Hr={}));const OM={debug:Hr.DEBUG,verbose:Hr.VERBOSE,info:Hr.INFO,warn:Hr.WARN,error:Hr.ERROR,silent:Hr.SILENT},kM=Hr.INFO,DM={[Hr.DEBUG]:"log",[Hr.VERBOSE]:"log",[Hr.INFO]:"info",[Hr.WARN]:"warn",[Hr.ERROR]:"error"},LM=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=DM[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ew{constructor(e){this.name=e,this._logLevel=kM,this._logHandler=LM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Hr))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?OM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Hr.DEBUG,...e),this._logHandler(this,Hr.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Hr.VERBOSE,...e),this._logHandler(this,Hr.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Hr.INFO,...e),this._logHandler(this,Hr.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Hr.WARN,...e),this._logHandler(this,Hr.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Hr.ERROR,...e),this._logHandler(this,Hr.ERROR,...e)}}const MM=(n,e)=>e.some(t=>n instanceof t);let oE,lE;function PM(){return oE||(oE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function jM(){return lE||(lE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const _N=new WeakMap,hy=new WeakMap,yN=new WeakMap,Hv=new WeakMap,Aw=new WeakMap;function FM(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(Lh(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&_N.set(t,n)}).catch(()=>{}),Aw.set(e,n),e}function BM(n){if(hy.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});hy.set(n,e)}let fy={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return hy.get(n);if(e==="objectStoreNames")return n.objectStoreNames||yN.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Lh(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function UM(n){fy=n(fy)}function VM(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(qv(this),e,...t);return yN.set(r,e.sort?e.sort():[e]),Lh(r)}:jM().includes(n)?function(...e){return n.apply(qv(this),e),Lh(_N.get(this))}:function(...e){return Lh(n.apply(qv(this),e))}}function zM(n){return typeof n=="function"?VM(n):(n instanceof IDBTransaction&&BM(n),MM(n,PM())?new Proxy(n,fy):n)}function Lh(n){if(n instanceof IDBRequest)return FM(n);if(Hv.has(n))return Hv.get(n);const e=zM(n);return e!==n&&(Hv.set(n,e),Aw.set(e,n)),e}const qv=n=>Aw.get(n);function HM(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(n,e),u=Lh(o);return r&&o.addEventListener("upgradeneeded",f=>{r(Lh(o.result),f.oldVersion,f.newVersion,Lh(o.transaction),f)}),t&&o.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),u.then(f=>{s&&f.addEventListener("close",()=>s()),i&&f.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),u}const qM=["get","getKey","getAll","getAllKeys","count"],GM=["put","add","delete","clear"],Gv=new Map;function cE(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Gv.get(e))return Gv.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=GM.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||qM.includes(t)))return;const s=async function(o,...u){const f=this.transaction(o,i?"readwrite":"readonly");let d=f.store;return r&&(d=d.index(u.shift())),(await Promise.all([d[t](...u),i&&f.done]))[0]};return Gv.set(e,s),s}UM(n=>({...n,get:(e,t,r)=>cE(e,t)||n.get(e,t,r),has:(e,t)=>!!cE(e,t)||n.has(e,t)}));class WM{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(XM(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function XM(n){return n.getComponent()?.type==="VERSION"}const dy="@firebase/app",uE="0.14.6";const zu=new Ew("@firebase/app"),YM="@firebase/app-compat",KM="@firebase/analytics-compat",$M="@firebase/analytics",ZM="@firebase/app-check-compat",QM="@firebase/app-check",JM="@firebase/auth",eP="@firebase/auth-compat",tP="@firebase/database",nP="@firebase/data-connect",rP="@firebase/database-compat",iP="@firebase/functions",sP="@firebase/functions-compat",aP="@firebase/installations",oP="@firebase/installations-compat",lP="@firebase/messaging",cP="@firebase/messaging-compat",uP="@firebase/performance",hP="@firebase/performance-compat",fP="@firebase/remote-config",dP="@firebase/remote-config-compat",mP="@firebase/storage",gP="@firebase/storage-compat",pP="@firebase/firestore",xP="@firebase/ai",vP="@firebase/firestore-compat",_P="firebase",yP="12.6.0";const my="[DEFAULT]",wP={[dy]:"fire-core",[YM]:"fire-core-compat",[$M]:"fire-analytics",[KM]:"fire-analytics-compat",[QM]:"fire-app-check",[ZM]:"fire-app-check-compat",[JM]:"fire-auth",[eP]:"fire-auth-compat",[tP]:"fire-rtdb",[nP]:"fire-data-connect",[rP]:"fire-rtdb-compat",[iP]:"fire-fn",[sP]:"fire-fn-compat",[aP]:"fire-iid",[oP]:"fire-iid-compat",[lP]:"fire-fcm",[cP]:"fire-fcm-compat",[uP]:"fire-perf",[hP]:"fire-perf-compat",[fP]:"fire-rc",[dP]:"fire-rc-compat",[mP]:"fire-gcs",[gP]:"fire-gcs-compat",[pP]:"fire-fst",[vP]:"fire-fst-compat",[xP]:"fire-vertex","fire-js":"fire-js",[_P]:"fire-js-all"};const em=new Map,bP=new Map,gy=new Map;function hE(n,e){try{n.container.addComponent(e)}catch(t){zu.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Rf(n){const e=n.name;if(gy.has(e))return zu.debug(`There were multiple attempts to register component ${e}.`),!1;gy.set(e,n);for(const t of em.values())hE(t,n);for(const t of bP.values())hE(t,n);return!0}function k2(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Kl(n){return n==null?!1:n.settings!==void 0}const EP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Mh=new ym("app","Firebase",EP);class AP{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Bh("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Mh.create("app-deleted",{appName:this._name})}}const zf=yP;function wN(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:my,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Mh.create("bad-app-name",{appName:String(i)});if(t||(t=pN()),!t)throw Mh.create("no-options");const s=em.get(i);if(s){if(Vu(t,s.options)&&Vu(r,s.config))return s;throw Mh.create("duplicate-app",{appName:i})}const o=new RM(i);for(const f of gy.values())o.addComponent(f);const u=new AP(t,r,o);return em.set(i,u),u}function D2(n=my){const e=em.get(n);if(!e&&n===my&&pN())return wN();if(!e)throw Mh.create("no-app",{appName:n});return e}function SP(){return Array.from(em.values())}function Kc(n,e,t){let r=wP[n]??n;t&&(r+=`-${t}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const o=[`Unable to register library "${r}" with version "${e}":`];i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&o.push("and"),s&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),zu.warn(o.join(" "));return}Rf(new Bh(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const TP="firebase-heartbeat-database",NP=1,tm="firebase-heartbeat-store";let Wv=null;function bN(){return Wv||(Wv=HM(TP,NP,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(tm)}catch(t){console.warn(t)}}}}).catch(n=>{throw Mh.create("idb-open",{originalErrorMessage:n.message})})),Wv}async function CP(n){try{const t=(await bN()).transaction(tm),r=await t.objectStore(tm).get(EN(n));return await t.done,r}catch(e){if(e instanceof au)zu.warn(e.message);else{const t=Mh.create("idb-get",{originalErrorMessage:e?.message});zu.warn(t.message)}}}async function fE(n,e){try{const r=(await bN()).transaction(tm,"readwrite");await r.objectStore(tm).put(e,EN(n)),await r.done}catch(t){if(t instanceof au)zu.warn(t.message);else{const r=Mh.create("idb-set",{originalErrorMessage:t?.message});zu.warn(r.message)}}}function EN(n){return`${n.name}!${n.options.appId}`}const IP=1024,RP=30;class OP{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new DP(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=dE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>RP){const i=LP(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){zu.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=dE(),{heartbeatsToSend:t,unsentEntries:r}=kP(this._heartbeatsCache.heartbeats),i=Pp(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return zu.warn(e),""}}}function dE(){return new Date().toISOString().substring(0,10)}function kP(n,e=IP){const t=[];let r=n.slice();for(const i of n){const s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),mE(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),mE(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class DP{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return vM()?_M().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await CP(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return fE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return fE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function mE(n){return Pp(JSON.stringify({version:2,heartbeats:n})).length}function LP(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function MP(n){Rf(new Bh("platform-logger",e=>new WM(e),"PRIVATE")),Rf(new Bh("heartbeat",e=>new OP(e),"PRIVATE")),Kc(dy,uE,n),Kc(dy,uE,"esm2020"),Kc("fire-js","")}MP("");var gE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ph,AN;(function(){var n;function e(F,B){function D(){}D.prototype=B.prototype,F.F=B.prototype,F.prototype=new D,F.prototype.constructor=F,F.D=function(Z,U,H){for(var X=Array(arguments.length-2),ne=2;ne<arguments.length;ne++)X[ne-2]=arguments[ne];return B.prototype[U].apply(Z,X)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(F,B,D){D||(D=0);const Z=Array(16);if(typeof B=="string")for(var U=0;U<16;++U)Z[U]=B.charCodeAt(D++)|B.charCodeAt(D++)<<8|B.charCodeAt(D++)<<16|B.charCodeAt(D++)<<24;else for(U=0;U<16;++U)Z[U]=B[D++]|B[D++]<<8|B[D++]<<16|B[D++]<<24;B=F.g[0],D=F.g[1],U=F.g[2];let H=F.g[3],X;X=B+(H^D&(U^H))+Z[0]+3614090360&4294967295,B=D+(X<<7&4294967295|X>>>25),X=H+(U^B&(D^U))+Z[1]+3905402710&4294967295,H=B+(X<<12&4294967295|X>>>20),X=U+(D^H&(B^D))+Z[2]+606105819&4294967295,U=H+(X<<17&4294967295|X>>>15),X=D+(B^U&(H^B))+Z[3]+3250441966&4294967295,D=U+(X<<22&4294967295|X>>>10),X=B+(H^D&(U^H))+Z[4]+4118548399&4294967295,B=D+(X<<7&4294967295|X>>>25),X=H+(U^B&(D^U))+Z[5]+1200080426&4294967295,H=B+(X<<12&4294967295|X>>>20),X=U+(D^H&(B^D))+Z[6]+2821735955&4294967295,U=H+(X<<17&4294967295|X>>>15),X=D+(B^U&(H^B))+Z[7]+4249261313&4294967295,D=U+(X<<22&4294967295|X>>>10),X=B+(H^D&(U^H))+Z[8]+1770035416&4294967295,B=D+(X<<7&4294967295|X>>>25),X=H+(U^B&(D^U))+Z[9]+2336552879&4294967295,H=B+(X<<12&4294967295|X>>>20),X=U+(D^H&(B^D))+Z[10]+4294925233&4294967295,U=H+(X<<17&4294967295|X>>>15),X=D+(B^U&(H^B))+Z[11]+2304563134&4294967295,D=U+(X<<22&4294967295|X>>>10),X=B+(H^D&(U^H))+Z[12]+1804603682&4294967295,B=D+(X<<7&4294967295|X>>>25),X=H+(U^B&(D^U))+Z[13]+4254626195&4294967295,H=B+(X<<12&4294967295|X>>>20),X=U+(D^H&(B^D))+Z[14]+2792965006&4294967295,U=H+(X<<17&4294967295|X>>>15),X=D+(B^U&(H^B))+Z[15]+1236535329&4294967295,D=U+(X<<22&4294967295|X>>>10),X=B+(U^H&(D^U))+Z[1]+4129170786&4294967295,B=D+(X<<5&4294967295|X>>>27),X=H+(D^U&(B^D))+Z[6]+3225465664&4294967295,H=B+(X<<9&4294967295|X>>>23),X=U+(B^D&(H^B))+Z[11]+643717713&4294967295,U=H+(X<<14&4294967295|X>>>18),X=D+(H^B&(U^H))+Z[0]+3921069994&4294967295,D=U+(X<<20&4294967295|X>>>12),X=B+(U^H&(D^U))+Z[5]+3593408605&4294967295,B=D+(X<<5&4294967295|X>>>27),X=H+(D^U&(B^D))+Z[10]+38016083&4294967295,H=B+(X<<9&4294967295|X>>>23),X=U+(B^D&(H^B))+Z[15]+3634488961&4294967295,U=H+(X<<14&4294967295|X>>>18),X=D+(H^B&(U^H))+Z[4]+3889429448&4294967295,D=U+(X<<20&4294967295|X>>>12),X=B+(U^H&(D^U))+Z[9]+568446438&4294967295,B=D+(X<<5&4294967295|X>>>27),X=H+(D^U&(B^D))+Z[14]+3275163606&4294967295,H=B+(X<<9&4294967295|X>>>23),X=U+(B^D&(H^B))+Z[3]+4107603335&4294967295,U=H+(X<<14&4294967295|X>>>18),X=D+(H^B&(U^H))+Z[8]+1163531501&4294967295,D=U+(X<<20&4294967295|X>>>12),X=B+(U^H&(D^U))+Z[13]+2850285829&4294967295,B=D+(X<<5&4294967295|X>>>27),X=H+(D^U&(B^D))+Z[2]+4243563512&4294967295,H=B+(X<<9&4294967295|X>>>23),X=U+(B^D&(H^B))+Z[7]+1735328473&4294967295,U=H+(X<<14&4294967295|X>>>18),X=D+(H^B&(U^H))+Z[12]+2368359562&4294967295,D=U+(X<<20&4294967295|X>>>12),X=B+(D^U^H)+Z[5]+4294588738&4294967295,B=D+(X<<4&4294967295|X>>>28),X=H+(B^D^U)+Z[8]+2272392833&4294967295,H=B+(X<<11&4294967295|X>>>21),X=U+(H^B^D)+Z[11]+1839030562&4294967295,U=H+(X<<16&4294967295|X>>>16),X=D+(U^H^B)+Z[14]+4259657740&4294967295,D=U+(X<<23&4294967295|X>>>9),X=B+(D^U^H)+Z[1]+2763975236&4294967295,B=D+(X<<4&4294967295|X>>>28),X=H+(B^D^U)+Z[4]+1272893353&4294967295,H=B+(X<<11&4294967295|X>>>21),X=U+(H^B^D)+Z[7]+4139469664&4294967295,U=H+(X<<16&4294967295|X>>>16),X=D+(U^H^B)+Z[10]+3200236656&4294967295,D=U+(X<<23&4294967295|X>>>9),X=B+(D^U^H)+Z[13]+681279174&4294967295,B=D+(X<<4&4294967295|X>>>28),X=H+(B^D^U)+Z[0]+3936430074&4294967295,H=B+(X<<11&4294967295|X>>>21),X=U+(H^B^D)+Z[3]+3572445317&4294967295,U=H+(X<<16&4294967295|X>>>16),X=D+(U^H^B)+Z[6]+76029189&4294967295,D=U+(X<<23&4294967295|X>>>9),X=B+(D^U^H)+Z[9]+3654602809&4294967295,B=D+(X<<4&4294967295|X>>>28),X=H+(B^D^U)+Z[12]+3873151461&4294967295,H=B+(X<<11&4294967295|X>>>21),X=U+(H^B^D)+Z[15]+530742520&4294967295,U=H+(X<<16&4294967295|X>>>16),X=D+(U^H^B)+Z[2]+3299628645&4294967295,D=U+(X<<23&4294967295|X>>>9),X=B+(U^(D|~H))+Z[0]+4096336452&4294967295,B=D+(X<<6&4294967295|X>>>26),X=H+(D^(B|~U))+Z[7]+1126891415&4294967295,H=B+(X<<10&4294967295|X>>>22),X=U+(B^(H|~D))+Z[14]+2878612391&4294967295,U=H+(X<<15&4294967295|X>>>17),X=D+(H^(U|~B))+Z[5]+4237533241&4294967295,D=U+(X<<21&4294967295|X>>>11),X=B+(U^(D|~H))+Z[12]+1700485571&4294967295,B=D+(X<<6&4294967295|X>>>26),X=H+(D^(B|~U))+Z[3]+2399980690&4294967295,H=B+(X<<10&4294967295|X>>>22),X=U+(B^(H|~D))+Z[10]+4293915773&4294967295,U=H+(X<<15&4294967295|X>>>17),X=D+(H^(U|~B))+Z[1]+2240044497&4294967295,D=U+(X<<21&4294967295|X>>>11),X=B+(U^(D|~H))+Z[8]+1873313359&4294967295,B=D+(X<<6&4294967295|X>>>26),X=H+(D^(B|~U))+Z[15]+4264355552&4294967295,H=B+(X<<10&4294967295|X>>>22),X=U+(B^(H|~D))+Z[6]+2734768916&4294967295,U=H+(X<<15&4294967295|X>>>17),X=D+(H^(U|~B))+Z[13]+1309151649&4294967295,D=U+(X<<21&4294967295|X>>>11),X=B+(U^(D|~H))+Z[4]+4149444226&4294967295,B=D+(X<<6&4294967295|X>>>26),X=H+(D^(B|~U))+Z[11]+3174756917&4294967295,H=B+(X<<10&4294967295|X>>>22),X=U+(B^(H|~D))+Z[2]+718787259&4294967295,U=H+(X<<15&4294967295|X>>>17),X=D+(H^(U|~B))+Z[9]+3951481745&4294967295,F.g[0]=F.g[0]+B&4294967295,F.g[1]=F.g[1]+(U+(X<<21&4294967295|X>>>11))&4294967295,F.g[2]=F.g[2]+U&4294967295,F.g[3]=F.g[3]+H&4294967295}r.prototype.v=function(F,B){B===void 0&&(B=F.length);const D=B-this.blockSize,Z=this.C;let U=this.h,H=0;for(;H<B;){if(U==0)for(;H<=D;)i(this,F,H),H+=this.blockSize;if(typeof F=="string"){for(;H<B;)if(Z[U++]=F.charCodeAt(H++),U==this.blockSize){i(this,Z),U=0;break}}else for(;H<B;)if(Z[U++]=F[H++],U==this.blockSize){i(this,Z),U=0;break}}this.h=U,this.o+=B},r.prototype.A=function(){var F=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);F[0]=128;for(var B=1;B<F.length-8;++B)F[B]=0;B=this.o*8;for(var D=F.length-8;D<F.length;++D)F[D]=B&255,B/=256;for(this.v(F),F=Array(16),B=0,D=0;D<4;++D)for(let Z=0;Z<32;Z+=8)F[B++]=this.g[D]>>>Z&255;return F};function s(F,B){var D=u;return Object.prototype.hasOwnProperty.call(D,F)?D[F]:D[F]=B(F)}function o(F,B){this.h=B;const D=[];let Z=!0;for(let U=F.length-1;U>=0;U--){const H=F[U]|0;Z&&H==B||(D[U]=H,Z=!1)}this.g=D}var u={};function f(F){return-128<=F&&F<128?s(F,function(B){return new o([B|0],B<0?-1:0)}):new o([F|0],F<0?-1:0)}function d(F){if(isNaN(F)||!isFinite(F))return w;if(F<0)return L(d(-F));const B=[];let D=1;for(let Z=0;F>=D;Z++)B[Z]=F/D|0,D*=4294967296;return new o(B,0)}function x(F,B){if(F.length==0)throw Error("number format error: empty string");if(B=B||10,B<2||36<B)throw Error("radix out of range: "+B);if(F.charAt(0)=="-")return L(x(F.substring(1),B));if(F.indexOf("-")>=0)throw Error('number format error: interior "-" character');const D=d(Math.pow(B,8));let Z=w;for(let H=0;H<F.length;H+=8){var U=Math.min(8,F.length-H);const X=parseInt(F.substring(H,H+U),B);U<8?(U=d(Math.pow(B,U)),Z=Z.j(U).add(d(X))):(Z=Z.j(D),Z=Z.add(d(X)))}return Z}var w=f(0),A=f(1),E=f(16777216);n=o.prototype,n.m=function(){if(C(this))return-L(this).m();let F=0,B=1;for(let D=0;D<this.g.length;D++){const Z=this.i(D);F+=(Z>=0?Z:4294967296+Z)*B,B*=4294967296}return F},n.toString=function(F){if(F=F||10,F<2||36<F)throw Error("radix out of range: "+F);if(I(this))return"0";if(C(this))return"-"+L(this).toString(F);const B=d(Math.pow(F,6));var D=this;let Z="";for(;;){const U=G(D,B).g;D=j(D,U.j(B));let H=((D.g.length>0?D.g[0]:D.h)>>>0).toString(F);if(D=U,I(D))return H+Z;for(;H.length<6;)H="0"+H;Z=H+Z}},n.i=function(F){return F<0?0:F<this.g.length?this.g[F]:this.h};function I(F){if(F.h!=0)return!1;for(let B=0;B<F.g.length;B++)if(F.g[B]!=0)return!1;return!0}function C(F){return F.h==-1}n.l=function(F){return F=j(this,F),C(F)?-1:I(F)?0:1};function L(F){const B=F.g.length,D=[];for(let Z=0;Z<B;Z++)D[Z]=~F.g[Z];return new o(D,~F.h).add(A)}n.abs=function(){return C(this)?L(this):this},n.add=function(F){const B=Math.max(this.g.length,F.g.length),D=[];let Z=0;for(let U=0;U<=B;U++){let H=Z+(this.i(U)&65535)+(F.i(U)&65535),X=(H>>>16)+(this.i(U)>>>16)+(F.i(U)>>>16);Z=X>>>16,H&=65535,X&=65535,D[U]=X<<16|H}return new o(D,D[D.length-1]&-2147483648?-1:0)};function j(F,B){return F.add(L(B))}n.j=function(F){if(I(this)||I(F))return w;if(C(this))return C(F)?L(this).j(L(F)):L(L(this).j(F));if(C(F))return L(this.j(L(F)));if(this.l(E)<0&&F.l(E)<0)return d(this.m()*F.m());const B=this.g.length+F.g.length,D=[];for(var Z=0;Z<2*B;Z++)D[Z]=0;for(Z=0;Z<this.g.length;Z++)for(let U=0;U<F.g.length;U++){const H=this.i(Z)>>>16,X=this.i(Z)&65535,ne=F.i(U)>>>16,pe=F.i(U)&65535;D[2*Z+2*U]+=X*pe,W(D,2*Z+2*U),D[2*Z+2*U+1]+=H*pe,W(D,2*Z+2*U+1),D[2*Z+2*U+1]+=X*ne,W(D,2*Z+2*U+1),D[2*Z+2*U+2]+=H*ne,W(D,2*Z+2*U+2)}for(F=0;F<B;F++)D[F]=D[2*F+1]<<16|D[2*F];for(F=B;F<2*B;F++)D[F]=0;return new o(D,0)};function W(F,B){for(;(F[B]&65535)!=F[B];)F[B+1]+=F[B]>>>16,F[B]&=65535,B++}function M(F,B){this.g=F,this.h=B}function G(F,B){if(I(B))throw Error("division by zero");if(I(F))return new M(w,w);if(C(F))return B=G(L(F),B),new M(L(B.g),L(B.h));if(C(B))return B=G(F,L(B)),new M(L(B.g),B.h);if(F.g.length>30){if(C(F)||C(B))throw Error("slowDivide_ only works with positive integers.");for(var D=A,Z=B;Z.l(F)<=0;)D=ce(D),Z=ce(Z);var U=re(D,1),H=re(Z,1);for(Z=re(Z,2),D=re(D,2);!I(Z);){var X=H.add(Z);X.l(F)<=0&&(U=U.add(D),H=X),Z=re(Z,1),D=re(D,1)}return B=j(F,U.j(B)),new M(U,B)}for(U=w;F.l(B)>=0;){for(D=Math.max(1,Math.floor(F.m()/B.m())),Z=Math.ceil(Math.log(D)/Math.LN2),Z=Z<=48?1:Math.pow(2,Z-48),H=d(D),X=H.j(B);C(X)||X.l(F)>0;)D-=Z,H=d(D),X=H.j(B);I(H)&&(H=A),U=U.add(H),F=j(F,X)}return new M(U,F)}n.B=function(F){return G(this,F).h},n.and=function(F){const B=Math.max(this.g.length,F.g.length),D=[];for(let Z=0;Z<B;Z++)D[Z]=this.i(Z)&F.i(Z);return new o(D,this.h&F.h)},n.or=function(F){const B=Math.max(this.g.length,F.g.length),D=[];for(let Z=0;Z<B;Z++)D[Z]=this.i(Z)|F.i(Z);return new o(D,this.h|F.h)},n.xor=function(F){const B=Math.max(this.g.length,F.g.length),D=[];for(let Z=0;Z<B;Z++)D[Z]=this.i(Z)^F.i(Z);return new o(D,this.h^F.h)};function ce(F){const B=F.g.length+1,D=[];for(let Z=0;Z<B;Z++)D[Z]=F.i(Z)<<1|F.i(Z-1)>>>31;return new o(D,F.h)}function re(F,B){const D=B>>5;B%=32;const Z=F.g.length-D,U=[];for(let H=0;H<Z;H++)U[H]=B>0?F.i(H+D)>>>B|F.i(H+D+1)<<32-B:F.i(H+D);return new o(U,F.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,AN=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=x,Ph=o}).apply(typeof gE<"u"?gE:typeof self<"u"?self:typeof window<"u"?window:{});var Pg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var SN,O1,TN,xp,py,NN,CN,IN;(function(){var n,e=Object.defineProperty;function t(S){S=[typeof globalThis=="object"&&globalThis,S,typeof window=="object"&&window,typeof self=="object"&&self,typeof Pg=="object"&&Pg];for(var K=0;K<S.length;++K){var ie=S[K];if(ie&&ie.Math==Math)return ie}throw Error("Cannot find global object")}var r=t(this);function i(S,K){if(K)e:{var ie=r;S=S.split(".");for(var Se=0;Se<S.length-1;Se++){var it=S[Se];if(!(it in ie))break e;ie=ie[it]}S=S[S.length-1],Se=ie[S],K=K(Se),K!=Se&&K!=null&&e(ie,S,{configurable:!0,writable:!0,value:K})}}i("Symbol.dispose",function(S){return S||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(S){return S||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(S){return S||function(K){var ie=[],Se;for(Se in K)Object.prototype.hasOwnProperty.call(K,Se)&&ie.push([Se,K[Se]]);return ie}});var s=s||{},o=this||self;function u(S){var K=typeof S;return K=="object"&&S!=null||K=="function"}function f(S,K,ie){return S.call.apply(S.bind,arguments)}function d(S,K,ie){return d=f,d.apply(null,arguments)}function x(S,K){var ie=Array.prototype.slice.call(arguments,1);return function(){var Se=ie.slice();return Se.push.apply(Se,arguments),S.apply(this,Se)}}function w(S,K){function ie(){}ie.prototype=K.prototype,S.Z=K.prototype,S.prototype=new ie,S.prototype.constructor=S,S.Ob=function(Se,it,_t){for(var sn=Array(arguments.length-2),rr=2;rr<arguments.length;rr++)sn[rr-2]=arguments[rr];return K.prototype[it].apply(Se,sn)}}var A=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?S=>S&&AsyncContext.Snapshot.wrap(S):S=>S;function E(S){const K=S.length;if(K>0){const ie=Array(K);for(let Se=0;Se<K;Se++)ie[Se]=S[Se];return ie}return[]}function I(S,K){for(let Se=1;Se<arguments.length;Se++){const it=arguments[Se];var ie=typeof it;if(ie=ie!="object"?ie:it?Array.isArray(it)?"array":ie:"null",ie=="array"||ie=="object"&&typeof it.length=="number"){ie=S.length||0;const _t=it.length||0;S.length=ie+_t;for(let sn=0;sn<_t;sn++)S[ie+sn]=it[sn]}else S.push(it)}}class C{constructor(K,ie){this.i=K,this.j=ie,this.h=0,this.g=null}get(){let K;return this.h>0?(this.h--,K=this.g,this.g=K.next,K.next=null):K=this.i(),K}}function L(S){o.setTimeout(()=>{throw S},0)}function j(){var S=F;let K=null;return S.g&&(K=S.g,S.g=S.g.next,S.g||(S.h=null),K.next=null),K}class W{constructor(){this.h=this.g=null}add(K,ie){const Se=M.get();Se.set(K,ie),this.h?this.h.next=Se:this.g=Se,this.h=Se}}var M=new C(()=>new G,S=>S.reset());class G{constructor(){this.next=this.g=this.h=null}set(K,ie){this.h=K,this.g=ie,this.next=null}reset(){this.next=this.g=this.h=null}}let ce,re=!1,F=new W,B=()=>{const S=Promise.resolve(void 0);ce=()=>{S.then(D)}};function D(){for(var S;S=j();){try{S.h.call(S.g)}catch(ie){L(ie)}var K=M;K.j(S),K.h<100&&(K.h++,S.next=K.g,K.g=S)}re=!1}function Z(){this.u=this.u,this.C=this.C}Z.prototype.u=!1,Z.prototype.dispose=function(){this.u||(this.u=!0,this.N())},Z.prototype[Symbol.dispose]=function(){this.dispose()},Z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function U(S,K){this.type=S,this.g=this.target=K,this.defaultPrevented=!1}U.prototype.h=function(){this.defaultPrevented=!0};var H=(function(){if(!o.addEventListener||!Object.defineProperty)return!1;var S=!1,K=Object.defineProperty({},"passive",{get:function(){S=!0}});try{const ie=()=>{};o.addEventListener("test",ie,K),o.removeEventListener("test",ie,K)}catch{}return S})();function X(S){return/^[\s\xa0]*$/.test(S)}function ne(S,K){U.call(this,S?S.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,S&&this.init(S,K)}w(ne,U),ne.prototype.init=function(S,K){const ie=this.type=S.type,Se=S.changedTouches&&S.changedTouches.length?S.changedTouches[0]:null;this.target=S.target||S.srcElement,this.g=K,K=S.relatedTarget,K||(ie=="mouseover"?K=S.fromElement:ie=="mouseout"&&(K=S.toElement)),this.relatedTarget=K,Se?(this.clientX=Se.clientX!==void 0?Se.clientX:Se.pageX,this.clientY=Se.clientY!==void 0?Se.clientY:Se.pageY,this.screenX=Se.screenX||0,this.screenY=Se.screenY||0):(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0),this.button=S.button,this.key=S.key||"",this.ctrlKey=S.ctrlKey,this.altKey=S.altKey,this.shiftKey=S.shiftKey,this.metaKey=S.metaKey,this.pointerId=S.pointerId||0,this.pointerType=S.pointerType,this.state=S.state,this.i=S,S.defaultPrevented&&ne.Z.h.call(this)},ne.prototype.h=function(){ne.Z.h.call(this);const S=this.i;S.preventDefault?S.preventDefault():S.returnValue=!1};var pe="closure_listenable_"+(Math.random()*1e6|0),Ae=0;function xe(S,K,ie,Se,it){this.listener=S,this.proxy=null,this.src=K,this.type=ie,this.capture=!!Se,this.ha=it,this.key=++Ae,this.da=this.fa=!1}function Re(S){S.da=!0,S.listener=null,S.proxy=null,S.src=null,S.ha=null}function He(S,K,ie){for(const Se in S)K.call(ie,S[Se],Se,S)}function ze(S,K){for(const ie in S)K.call(void 0,S[ie],ie,S)}function ve(S){const K={};for(const ie in S)K[ie]=S[ie];return K}const q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function J(S,K){let ie,Se;for(let it=1;it<arguments.length;it++){Se=arguments[it];for(ie in Se)S[ie]=Se[ie];for(let _t=0;_t<q.length;_t++)ie=q[_t],Object.prototype.hasOwnProperty.call(Se,ie)&&(S[ie]=Se[ie])}}function Q(S){this.src=S,this.g={},this.h=0}Q.prototype.add=function(S,K,ie,Se,it){const _t=S.toString();S=this.g[_t],S||(S=this.g[_t]=[],this.h++);const sn=de(S,K,Se,it);return sn>-1?(K=S[sn],ie||(K.fa=!1)):(K=new xe(K,this.src,_t,!!Se,it),K.fa=ie,S.push(K)),K};function oe(S,K){const ie=K.type;if(ie in S.g){var Se=S.g[ie],it=Array.prototype.indexOf.call(Se,K,void 0),_t;(_t=it>=0)&&Array.prototype.splice.call(Se,it,1),_t&&(Re(K),S.g[ie].length==0&&(delete S.g[ie],S.h--))}}function de(S,K,ie,Se){for(let it=0;it<S.length;++it){const _t=S[it];if(!_t.da&&_t.listener==K&&_t.capture==!!ie&&_t.ha==Se)return it}return-1}var De="closure_lm_"+(Math.random()*1e6|0),Ve={};function Fe(S,K,ie,Se,it){if(Array.isArray(K)){for(let _t=0;_t<K.length;_t++)Fe(S,K[_t],ie,Se,it);return null}return ie=zt(ie),S&&S[pe]?S.J(K,ie,u(Se)?!!Se.capture:!1,it):Ie(S,K,ie,!1,Se,it)}function Ie(S,K,ie,Se,it,_t){if(!K)throw Error("Invalid event type");const sn=u(it)?!!it.capture:!!it;let rr=ot(S);if(rr||(S[De]=rr=new Q(S)),ie=rr.add(K,ie,Se,sn,_t),ie.proxy)return ie;if(Se=Qe(),ie.proxy=Se,Se.src=S,Se.listener=ie,S.addEventListener)H||(it=sn),it===void 0&&(it=!1),S.addEventListener(K.toString(),Se,it);else if(S.attachEvent)S.attachEvent(Rt(K.toString()),Se);else if(S.addListener&&S.removeListener)S.addListener(Se);else throw Error("addEventListener and attachEvent are unavailable.");return ie}function Qe(){function S(ie){return K.call(S.src,S.listener,ie)}const K=le;return S}function St(S,K,ie,Se,it){if(Array.isArray(K))for(var _t=0;_t<K.length;_t++)St(S,K[_t],ie,Se,it);else Se=u(Se)?!!Se.capture:!!Se,ie=zt(ie),S&&S[pe]?(S=S.i,_t=String(K).toString(),_t in S.g&&(K=S.g[_t],ie=de(K,ie,Se,it),ie>-1&&(Re(K[ie]),Array.prototype.splice.call(K,ie,1),K.length==0&&(delete S.g[_t],S.h--)))):S&&(S=ot(S))&&(K=S.g[K.toString()],S=-1,K&&(S=de(K,ie,Se,it)),(ie=S>-1?K[S]:null)&&Tt(ie))}function Tt(S){if(typeof S!="number"&&S&&!S.da){var K=S.src;if(K&&K[pe])oe(K.i,S);else{var ie=S.type,Se=S.proxy;K.removeEventListener?K.removeEventListener(ie,Se,S.capture):K.detachEvent?K.detachEvent(Rt(ie),Se):K.addListener&&K.removeListener&&K.removeListener(Se),(ie=ot(K))?(oe(ie,S),ie.h==0&&(ie.src=null,K[De]=null)):Re(S)}}}function Rt(S){return S in Ve?Ve[S]:Ve[S]="on"+S}function le(S,K){if(S.da)S=!0;else{K=new ne(K,this);const ie=S.listener,Se=S.ha||S.src;S.fa&&Tt(S),S=ie.call(Se,K)}return S}function ot(S){return S=S[De],S instanceof Q?S:null}var pt="__closure_events_fn_"+(Math.random()*1e9>>>0);function zt(S){return typeof S=="function"?S:(S[pt]||(S[pt]=function(K){return S.handleEvent(K)}),S[pt])}function tt(){Z.call(this),this.i=new Q(this),this.M=this,this.G=null}w(tt,Z),tt.prototype[pe]=!0,tt.prototype.removeEventListener=function(S,K,ie,Se){St(this,S,K,ie,Se)};function tn(S,K){var ie,Se=S.G;if(Se)for(ie=[];Se;Se=Se.G)ie.push(Se);if(S=S.M,Se=K.type||K,typeof K=="string")K=new U(K,S);else if(K instanceof U)K.target=K.target||S;else{var it=K;K=new U(Se,S),J(K,it)}it=!0;let _t,sn;if(ie)for(sn=ie.length-1;sn>=0;sn--)_t=K.g=ie[sn],it=Xe(_t,Se,!0,K)&&it;if(_t=K.g=S,it=Xe(_t,Se,!0,K)&&it,it=Xe(_t,Se,!1,K)&&it,ie)for(sn=0;sn<ie.length;sn++)_t=K.g=ie[sn],it=Xe(_t,Se,!1,K)&&it}tt.prototype.N=function(){if(tt.Z.N.call(this),this.i){var S=this.i;for(const K in S.g){const ie=S.g[K];for(let Se=0;Se<ie.length;Se++)Re(ie[Se]);delete S.g[K],S.h--}}this.G=null},tt.prototype.J=function(S,K,ie,Se){return this.i.add(String(S),K,!1,ie,Se)},tt.prototype.K=function(S,K,ie,Se){return this.i.add(String(S),K,!0,ie,Se)};function Xe(S,K,ie,Se){if(K=S.i.g[String(K)],!K)return!0;K=K.concat();let it=!0;for(let _t=0;_t<K.length;++_t){const sn=K[_t];if(sn&&!sn.da&&sn.capture==ie){const rr=sn.listener,hi=sn.ha||sn.src;sn.fa&&oe(S.i,sn),it=rr.call(hi,Se)!==!1&&it}}return it&&!Se.defaultPrevented}function Lt(S,K){if(typeof S!="function")if(S&&typeof S.handleEvent=="function")S=d(S.handleEvent,S);else throw Error("Invalid listener argument");return Number(K)>2147483647?-1:o.setTimeout(S,K||0)}function fn(S){S.g=Lt(()=>{S.g=null,S.i&&(S.i=!1,fn(S))},S.l);const K=S.h;S.h=null,S.m.apply(null,K)}class st extends Z{constructor(K,ie){super(),this.m=K,this.l=ie,this.h=null,this.i=!1,this.g=null}j(K){this.h=arguments,this.g?this.i=!0:fn(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Yt(S){Z.call(this),this.h=S,this.g={}}w(Yt,Z);var rn=[];function hn(S){He(S.g,function(K,ie){this.g.hasOwnProperty(ie)&&Tt(K)},S),S.g={}}Yt.prototype.N=function(){Yt.Z.N.call(this),hn(this)},Yt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var xn=o.JSON.stringify,on=o.JSON.parse,bn=class{stringify(S){return o.JSON.stringify(S,void 0)}parse(S){return o.JSON.parse(S,void 0)}};function dn(){}function nr(){}var an={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function dt(){U.call(this,"d")}w(dt,U);function Wt(){U.call(this,"c")}w(Wt,U);var It={},un=null;function Yn(){return un=un||new tt}It.Ia="serverreachability";function mt(S){U.call(this,It.Ia,S)}w(mt,U);function $t(S){const K=Yn();tn(K,new mt(K))}It.STAT_EVENT="statevent";function cn(S,K){U.call(this,It.STAT_EVENT,S),this.stat=K}w(cn,U);function mn(S){const K=Yn();tn(K,new cn(K,S))}It.Ja="timingevent";function gn(S,K){U.call(this,It.Ja,S),this.size=K}w(gn,U);function Qn(S,K){if(typeof S!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){S()},K)}function kr(){this.g=!0}kr.prototype.ua=function(){this.g=!1};function li(S,K,ie,Se,it,_t){S.info(function(){if(S.g)if(_t){var sn="",rr=_t.split("&");for(let _r=0;_r<rr.length;_r++){var hi=rr[_r].split("=");if(hi.length>1){const Xr=hi[0];hi=hi[1];const gs=Xr.split("_");sn=gs.length>=2&&gs[1]=="type"?sn+(Xr+"="+hi+"&"):sn+(Xr+"=redacted&")}}}else sn=null;else sn=_t;return"XMLHTTP REQ ("+Se+") [attempt "+it+"]: "+K+`
`+ie+`
`+sn})}function Lr(S,K,ie,Se,it,_t,sn){S.info(function(){return"XMLHTTP RESP ("+Se+") [ attempt "+it+"]: "+K+`
`+ie+`
`+_t+" "+sn})}function Kr(S,K,ie,Se){S.info(function(){return"XMLHTTP TEXT ("+K+"): "+Ni(S,ie)+(Se?" "+Se:"")})}function On(S,K){S.info(function(){return"TIMEOUT: "+K})}kr.prototype.info=function(){};function Ni(S,K){if(!S.g)return K;if(!K)return null;try{const _t=JSON.parse(K);if(_t){for(S=0;S<_t.length;S++)if(Array.isArray(_t[S])){var ie=_t[S];if(!(ie.length<2)){var Se=ie[1];if(Array.isArray(Se)&&!(Se.length<1)){var it=Se[0];if(it!="noop"&&it!="stop"&&it!="close")for(let sn=1;sn<Se.length;sn++)Se[sn]=""}}}}return xn(_t)}catch{return K}}var Ki={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},$r={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},zi;function lr(){}w(lr,dn),lr.prototype.g=function(){return new XMLHttpRequest},zi=new lr;function Rr(S){return encodeURIComponent(String(S))}function ge(S){var K=1;S=S.split(":");const ie=[];for(;K>0&&S.length;)ie.push(S.shift()),K--;return S.length&&ie.push(S.join(":")),ie}function be(S,K,ie,Se){this.j=S,this.i=K,this.l=ie,this.S=Se||1,this.V=new Yt(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Te}function Te(){this.i=null,this.g="",this.h=!1}var Ce={},Oe={};function Me(S,K,ie){S.M=1,S.A=Us(Ii(K)),S.u=ie,S.R=!0,rt(S,null)}function rt(S,K){S.F=Date.now(),ht(S),S.B=Ii(S.A);var ie=S.B,Se=S.S;Array.isArray(Se)||(Se=[String(Se)]),Qr(ie.i,"t",Se),S.C=0,ie=S.j.L,S.h=new Te,S.g=Nn(S.j,ie?K:null,!S.u),S.P>0&&(S.O=new st(d(S.Y,S,S.g),S.P)),K=S.V,ie=S.g,Se=S.ba;var it="readystatechange";Array.isArray(it)||(it&&(rn[0]=it.toString()),it=rn);for(let _t=0;_t<it.length;_t++){const sn=Fe(ie,it[_t],Se||K.handleEvent,!1,K.h||K);if(!sn)break;K.g[sn.key]=sn}K=S.J?ve(S.J):{},S.u?(S.v||(S.v="POST"),K["Content-Type"]="application/x-www-form-urlencoded",S.g.ea(S.B,S.v,S.u,K)):(S.v="GET",S.g.ea(S.B,S.v,null,K)),$t(),li(S.i,S.v,S.B,S.l,S.S,S.u)}be.prototype.ba=function(S){S=S.target;const K=this.O;K&&ra(S)==3?K.j():this.Y(S)},be.prototype.Y=function(S){try{if(S==this.g)e:{const rr=ra(this.g),hi=this.g.ya(),_r=this.g.ca();if(!(rr<3)&&(rr!=3||this.g&&(this.h.h||this.g.la()||xi(this.g)))){this.K||rr!=4||hi==7||(hi==8||_r<=0?$t(3):$t(2)),Ot(this);var K=this.g.ca();this.X=K;var ie=At(this);if(this.o=K==200,Lr(this.i,this.v,this.B,this.l,this.S,rr,K),this.o){if(this.U&&!this.L){t:{if(this.g){var Se,it=this.g;if((Se=it.g?it.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!X(Se)){var _t=Se;break t}}_t=null}if(S=_t)Kr(this.i,this.l,S,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,nn(this,S);else{this.o=!1,this.m=3,mn(12),wt(this),Mt(this);break e}}if(this.R){S=!0;let Xr;for(;!this.K&&this.C<ie.length;)if(Xr=lt(this,ie),Xr==Oe){rr==4&&(this.m=4,mn(14),S=!1),Kr(this.i,this.l,null,"[Incomplete Response]");break}else if(Xr==Ce){this.m=4,mn(15),Kr(this.i,this.l,ie,"[Invalid Chunk]"),S=!1;break}else Kr(this.i,this.l,Xr,null),nn(this,Xr);if(Je(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),rr!=4||ie.length!=0||this.h.h||(this.m=1,mn(16),S=!1),this.o=this.o&&S,!S)Kr(this.i,this.l,ie,"[Invalid Chunked Response]"),wt(this),Mt(this);else if(ie.length>0&&!this.W){this.W=!0;var sn=this.j;sn.g==this&&sn.aa&&!sn.P&&(sn.j.info("Great, no buffering proxy detected. Bytes received: "+ie.length),bt(sn),sn.P=!0,mn(11))}}else Kr(this.i,this.l,ie,null),nn(this,ie);rr==4&&wt(this),this.o&&!this.K&&(rr==4?je(this.j,this):(this.o=!1,ht(this)))}else ia(this.g),K==400&&ie.indexOf("Unknown SID")>0?(this.m=3,mn(12)):(this.m=0,mn(13)),wt(this),Mt(this)}}}catch{}finally{}};function At(S){if(!Je(S))return S.g.la();const K=xi(S.g);if(K==="")return"";let ie="";const Se=K.length,it=ra(S.g)==4;if(!S.h.i){if(typeof TextDecoder>"u")return wt(S),Mt(S),"";S.h.i=new o.TextDecoder}for(let _t=0;_t<Se;_t++)S.h.h=!0,ie+=S.h.i.decode(K[_t],{stream:!(it&&_t==Se-1)});return K.length=0,S.h.g+=ie,S.C=0,S.h.g}function Je(S){return S.g?S.v=="GET"&&S.M!=2&&S.j.Aa:!1}function lt(S,K){var ie=S.C,Se=K.indexOf(`
`,ie);return Se==-1?Oe:(ie=Number(K.substring(ie,Se)),isNaN(ie)?Ce:(Se+=1,Se+ie>K.length?Oe:(K=K.slice(Se,Se+ie),S.C=Se+ie,K)))}be.prototype.cancel=function(){this.K=!0,wt(this)};function ht(S){S.T=Date.now()+S.H,qt(S,S.H)}function qt(S,K){if(S.D!=null)throw Error("WatchDog timer not null");S.D=Qn(d(S.aa,S),K)}function Ot(S){S.D&&(o.clearTimeout(S.D),S.D=null)}be.prototype.aa=function(){this.D=null;const S=Date.now();S-this.T>=0?(On(this.i,this.B),this.M!=2&&($t(),mn(17)),wt(this),this.m=2,Mt(this)):qt(this,this.T-S)};function Mt(S){S.j.I==0||S.K||je(S.j,S)}function wt(S){Ot(S);var K=S.O;K&&typeof K.dispose=="function"&&K.dispose(),S.O=null,hn(S.V),S.g&&(K=S.g,S.g=null,K.abort(),K.dispose())}function nn(S,K){try{var ie=S.j;if(ie.I!=0&&(ie.g==S||Ci(ie.h,S))){if(!S.L&&Ci(ie.h,S)&&ie.I==3){try{var Se=ie.Ba.g.parse(K)}catch{Se=null}if(Array.isArray(Se)&&Se.length==3){var it=Se;if(it[0]==0){e:if(!ie.v){if(ie.g)if(ie.g.F+3e3<S.F)ue(ie),no(ie);else break e;ro(ie),mn(18)}}else ie.xa=it[1],0<ie.xa-ie.K&&it[2]<37500&&ie.F&&ie.A==0&&!ie.C&&(ie.C=Qn(d(ie.Va,ie),6e3));Kn(ie.h)<=1&&ie.ta&&(ie.ta=void 0)}else et(ie,11)}else if((S.L||ie.g==S)&&ue(ie),!X(K))for(it=ie.Ba.g.parse(K),K=0;K<it.length;K++){let _r=it[K];const Xr=_r[0];if(!(Xr<=ie.K))if(ie.K=Xr,_r=_r[1],ie.I==2)if(_r[0]=="c"){ie.M=_r[1],ie.ba=_r[2];const gs=_r[3];gs!=null&&(ie.ka=gs,ie.j.info("VER="+ie.ka));const Vs=_r[4];Vs!=null&&(ie.za=Vs,ie.j.info("SVER="+ie.za));const Ur=_r[5];Ur!=null&&typeof Ur=="number"&&Ur>0&&(Se=1.5*Ur,ie.O=Se,ie.j.info("backChannelRequestTimeoutMs_="+Se)),Se=ie;const ps=S.g;if(ps){const io=ps.g?ps.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(io){var _t=Se.h;_t.g||io.indexOf("spdy")==-1&&io.indexOf("quic")==-1&&io.indexOf("h2")==-1||(_t.j=_t.l,_t.g=new Set,_t.h&&(pa(_t,_t.h),_t.h=null))}if(Se.G){const Ma=ps.g?ps.g.getResponseHeader("X-HTTP-Session-Id"):null;Ma&&(Se.wa=Ma,Gn(Se.J,Se.G,Ma))}}ie.I=3,ie.l&&ie.l.ra(),ie.aa&&(ie.T=Date.now()-S.F,ie.j.info("Handshake RTT: "+ie.T+"ms")),Se=ie;var sn=S;if(Se.na=Zt(Se,Se.L?Se.ba:null,Se.W),sn.L){fr(Se.h,sn);var rr=sn,hi=Se.O;hi&&(rr.H=hi),rr.D&&(Ot(rr),ht(rr)),Se.g=sn}else La(Se);ie.i.length>0&&Da(ie)}else _r[0]!="stop"&&_r[0]!="close"||et(ie,7);else ie.I==3&&(_r[0]=="stop"||_r[0]=="close"?_r[0]=="stop"?et(ie,7):jo(ie):_r[0]!="noop"&&ie.l&&ie.l.qa(_r),ie.A=0)}}$t(4)}catch{}}var Tn=class{constructor(S,K){this.g=S,this.map=K}};function Nt(S){this.l=S||10,o.PerformanceNavigationTiming?(S=o.performance.getEntriesByType("navigation"),S=S.length>0&&(S[0].nextHopProtocol=="hq"||S[0].nextHopProtocol=="h2")):S=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=S?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function vr(S){return S.h?!0:S.g?S.g.size>=S.j:!1}function Kn(S){return S.h?1:S.g?S.g.size:0}function Ci(S,K){return S.h?S.h==K:S.g?S.g.has(K):!1}function pa(S,K){S.g?S.g.add(K):S.h=K}function fr(S,K){S.h&&S.h==K?S.h=null:S.g&&S.g.has(K)&&S.g.delete(K)}Nt.prototype.cancel=function(){if(this.i=or(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const S of this.g.values())S.cancel();this.g.clear()}};function or(S){if(S.h!=null)return S.i.concat(S.h.G);if(S.g!=null&&S.g.size!==0){let K=S.i;for(const ie of S.g.values())K=K.concat(ie.G);return K}return E(S.i)}var cr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ci(S,K){if(S){S=S.split("&");for(let ie=0;ie<S.length;ie++){const Se=S[ie].indexOf("=");let it,_t=null;Se>=0?(it=S[ie].substring(0,Se),_t=S[ie].substring(Se+1)):it=S[ie],K(it,_t?decodeURIComponent(_t.replace(/\+/g," ")):"")}}}function as(S){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let K;S instanceof as?(this.l=S.l,Hn(this,S.j),this.o=S.o,this.g=S.g,Es(this,S.u),this.h=S.h,ka(this,xl(S.i)),this.m=S.m):S&&(K=String(S).match(cr))?(this.l=!1,Hn(this,K[1]||"",!0),this.o=$i(K[2]||""),this.g=$i(K[3]||"",!0),Es(this,K[4]),this.h=$i(K[5]||"",!0),ka(this,K[6]||"",!0),this.m=$i(K[7]||"")):(this.l=!1,this.i=new Hi(null,this.l))}as.prototype.toString=function(){const S=[];var K=this.j;K&&S.push(Zr(K,Ri,!0),":");var ie=this.g;return(ie||K=="file")&&(S.push("//"),(K=this.o)&&S.push(Zr(K,Ri,!0),"@"),S.push(Rr(ie).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),ie=this.u,ie!=null&&S.push(":",String(ie))),(ie=this.h)&&(this.g&&ie.charAt(0)!="/"&&S.push("/"),S.push(Zr(ie,ie.charAt(0)=="/"?Le:ut,!0))),(ie=this.i.toString())&&S.push("?",ie),(ie=this.m)&&S.push("#",Zr(ie,Oi)),S.join("")},as.prototype.resolve=function(S){const K=Ii(this);let ie=!!S.j;ie?Hn(K,S.j):ie=!!S.o,ie?K.o=S.o:ie=!!S.g,ie?K.g=S.g:ie=S.u!=null;var Se=S.h;if(ie)Es(K,S.u);else if(ie=!!S.h){if(Se.charAt(0)!="/")if(this.g&&!this.h)Se="/"+Se;else{var it=K.h.lastIndexOf("/");it!=-1&&(Se=K.h.slice(0,it+1)+Se)}if(it=Se,it==".."||it==".")Se="";else if(it.indexOf("./")!=-1||it.indexOf("/.")!=-1){Se=it.lastIndexOf("/",0)==0,it=it.split("/");const _t=[];for(let sn=0;sn<it.length;){const rr=it[sn++];rr=="."?Se&&sn==it.length&&_t.push(""):rr==".."?((_t.length>1||_t.length==1&&_t[0]!="")&&_t.pop(),Se&&sn==it.length&&_t.push("")):(_t.push(rr),Se=!0)}Se=_t.join("/")}else Se=it}return ie?K.h=Se:ie=S.i.toString()!=="",ie?ka(K,xl(S.i)):ie=!!S.m,ie&&(K.m=S.m),K};function Ii(S){return new as(S)}function Hn(S,K,ie){S.j=ie?$i(K,!0):K,S.j&&(S.j=S.j.replace(/:$/,""))}function Es(S,K){if(K){if(K=Number(K),isNaN(K)||K<0)throw Error("Bad port number "+K);S.u=K}else S.u=null}function ka(S,K,ie){K instanceof Hi?(S.i=K,Ss(S.i,S.l)):(ie||(K=Zr(K,En)),S.i=new Hi(K,S.l))}function Gn(S,K,ie){S.i.set(K,ie)}function Us(S){return Gn(S,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),S}function $i(S,K){return S?K?decodeURI(S.replace(/%25/g,"%2525")):decodeURIComponent(S):""}function Zr(S,K,ie){return typeof S=="string"?(S=encodeURI(S).replace(K,sr),ie&&(S=S.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S):null}function sr(S){return S=S.charCodeAt(0),"%"+(S>>4&15).toString(16)+(S&15).toString(16)}var Ri=/[#\/\?@]/g,ut=/[#\?:]/g,Le=/[#\?]/g,En=/[#\?@]/g,Oi=/#/g;function Hi(S,K){this.h=this.g=null,this.i=S||null,this.j=!!K}function ds(S){S.g||(S.g=new Map,S.h=0,S.i&&ci(S.i,function(K,ie){S.add(decodeURIComponent(K.replace(/\+/g," ")),ie)}))}n=Hi.prototype,n.add=function(S,K){ds(this),this.i=null,S=Mo(this,S);let ie=this.g.get(S);return ie||this.g.set(S,ie=[]),ie.push(K),this.h+=1,this};function xo(S,K){ds(S),K=Mo(S,K),S.g.has(K)&&(S.i=null,S.h-=S.g.get(K).length,S.g.delete(K))}function As(S,K){return ds(S),K=Mo(S,K),S.g.has(K)}n.forEach=function(S,K){ds(this),this.g.forEach(function(ie,Se){ie.forEach(function(it){S.call(K,it,Se,this)},this)},this)};function jn(S,K){ds(S);let ie=[];if(typeof K=="string")As(S,K)&&(ie=ie.concat(S.g.get(Mo(S,K))));else for(S=Array.from(S.g.values()),K=0;K<S.length;K++)ie=ie.concat(S[K]);return ie}n.set=function(S,K){return ds(this),this.i=null,S=Mo(this,S),As(this,S)&&(this.h-=this.g.get(S).length),this.g.set(S,[K]),this.h+=1,this},n.get=function(S,K){return S?(S=jn(this,S),S.length>0?String(S[0]):K):K};function Qr(S,K,ie){xo(S,K),ie.length>0&&(S.i=null,S.g.set(Mo(S,K),E(ie)),S.h+=ie.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const S=[],K=Array.from(this.g.keys());for(let Se=0;Se<K.length;Se++){var ie=K[Se];const it=Rr(ie);ie=jn(this,ie);for(let _t=0;_t<ie.length;_t++){let sn=it;ie[_t]!==""&&(sn+="="+Rr(ie[_t])),S.push(sn)}}return this.i=S.join("&")};function xl(S){const K=new Hi;return K.i=S.i,S.g&&(K.g=new Map(S.g),K.h=S.h),K}function Mo(S,K){return K=String(K),S.j&&(K=K.toLowerCase()),K}function Ss(S,K){K&&!S.j&&(ds(S),S.i=null,S.g.forEach(function(ie,Se){const it=Se.toLowerCase();Se!=it&&(xo(this,Se),Qr(this,it,ie))},S)),S.j=K}function Js(S,K){const ie=new kr;if(o.Image){const Se=new Image;Se.onload=x(ea,ie,"TestLoadImage: loaded",!0,K,Se),Se.onerror=x(ea,ie,"TestLoadImage: error",!1,K,Se),Se.onabort=x(ea,ie,"TestLoadImage: abort",!1,K,Se),Se.ontimeout=x(ea,ie,"TestLoadImage: timeout",!1,K,Se),o.setTimeout(function(){Se.ontimeout&&Se.ontimeout()},1e4),Se.src=S}else K(!1)}function Ja(S,K){const ie=new kr,Se=new AbortController,it=setTimeout(()=>{Se.abort(),ea(ie,"TestPingServer: timeout",!1,K)},1e4);fetch(S,{signal:Se.signal}).then(_t=>{clearTimeout(it),_t.ok?ea(ie,"TestPingServer: ok",!0,K):ea(ie,"TestPingServer: server error",!1,K)}).catch(()=>{clearTimeout(it),ea(ie,"TestPingServer: error",!1,K)})}function ea(S,K,ie,Se,it){try{it&&(it.onload=null,it.onerror=null,it.onabort=null,it.ontimeout=null),Se(ie)}catch{}}function ui(){this.g=new bn}function Fn(S){this.i=S.Sb||null,this.h=S.ab||!1}w(Fn,dn),Fn.prototype.g=function(){return new ta(this.i,this.h)};function ta(S,K){tt.call(this),this.H=S,this.o=K,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(ta,tt),n=ta.prototype,n.open=function(S,K){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=S,this.D=K,this.readyState=1,Bn(this)},n.send=function(S){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const K={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};S&&(K.body=S),(this.H||o).fetch(new Request(this.D,K)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ko(this)),this.readyState=0},n.Pa=function(S){if(this.g&&(this.l=S,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=S.headers,this.readyState=2,Bn(this)),this.g&&(this.readyState=3,Bn(this),this.g)))if(this.responseType==="arraybuffer")S.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in S){if(this.j=S.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Vn(this)}else S.text().then(this.Oa.bind(this),this.ga.bind(this))};function Vn(S){S.j.read().then(S.Ma.bind(S)).catch(S.ga.bind(S))}n.Ma=function(S){if(this.g){if(this.o&&S.value)this.response.push(S.value);else if(!this.o){var K=S.value?S.value:new Uint8Array(0);(K=this.B.decode(K,{stream:!S.done}))&&(this.response=this.responseText+=K)}S.done?Ko(this):Bn(this),this.readyState==3&&Vn(this)}},n.Oa=function(S){this.g&&(this.response=this.responseText=S,Ko(this))},n.Na=function(S){this.g&&(this.response=S,Ko(this))},n.ga=function(){this.g&&Ko(this)};function Ko(S){S.readyState=4,S.l=null,S.j=null,S.B=null,Bn(S)}n.setRequestHeader=function(S,K){this.A.append(S,K)},n.getResponseHeader=function(S){return this.h&&this.h.get(S.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const S=[],K=this.h.entries();for(var ie=K.next();!ie.done;)ie=ie.value,S.push(ie[0]+": "+ie[1]),ie=K.next();return S.join(`\r
`)};function Bn(S){S.onreadystatechange&&S.onreadystatechange.call(S)}Object.defineProperty(ta.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(S){this.m=S?"include":"same-origin"}});function Nr(S){let K="";return He(S,function(ie,Se){K+=Se,K+=":",K+=ie,K+=`\r
`}),K}function vl(S,K,ie){e:{for(Se in ie){var Se=!1;break e}Se=!0}Se||(ie=Nr(ie),typeof S=="string"?ie!=null&&Rr(ie):Gn(S,K,ie))}function Fr(S){tt.call(this),this.headers=new Map,this.L=S||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(Fr,tt);var na=/^https?$/i,xa=["POST","PUT"];n=Fr.prototype,n.Fa=function(S){this.H=S},n.ea=function(S,K,ie,Se){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+S);K=K?K.toUpperCase():"GET",this.D=S,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():zi.g(),this.g.onreadystatechange=A(d(this.Ca,this));try{this.B=!0,this.g.open(K,String(S),!0),this.B=!1}catch(_t){eo(this,_t);return}if(S=ie||"",ie=new Map(this.headers),Se)if(Object.getPrototypeOf(Se)===Object.prototype)for(var it in Se)ie.set(it,Se[it]);else if(typeof Se.keys=="function"&&typeof Se.get=="function")for(const _t of Se.keys())ie.set(_t,Se.get(_t));else throw Error("Unknown input type for opt_headers: "+String(Se));Se=Array.from(ie.keys()).find(_t=>_t.toLowerCase()=="content-type"),it=o.FormData&&S instanceof o.FormData,!(Array.prototype.indexOf.call(xa,K,void 0)>=0)||Se||it||ie.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[_t,sn]of ie)this.g.setRequestHeader(_t,sn);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(S),this.v=!1}catch(_t){eo(this,_t)}};function eo(S,K){S.h=!1,S.g&&(S.j=!0,S.g.abort(),S.j=!1),S.l=K,S.o=5,Po(S),va(S)}function Po(S){S.A||(S.A=!0,tn(S,"complete"),tn(S,"error"))}n.abort=function(S){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=S||7,tn(this,"complete"),tn(this,"abort"),va(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),va(this,!0)),Fr.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?ms(this):this.Xa())},n.Xa=function(){ms(this)};function ms(S){if(S.h&&typeof s<"u"){if(S.v&&ra(S)==4)setTimeout(S.Ca.bind(S),0);else if(tn(S,"readystatechange"),ra(S)==4){S.h=!1;try{const _t=S.ca();e:switch(_t){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var K=!0;break e;default:K=!1}var ie;if(!(ie=K)){var Se;if(Se=_t===0){let sn=String(S.D).match(cr)[1]||null;!sn&&o.self&&o.self.location&&(sn=o.self.location.protocol.slice(0,-1)),Se=!na.test(sn?sn.toLowerCase():"")}ie=Se}if(ie)tn(S,"complete"),tn(S,"success");else{S.o=6;try{var it=ra(S)>2?S.g.statusText:""}catch{it=""}S.l=it+" ["+S.ca()+"]",Po(S)}}finally{va(S)}}}}function va(S,K){if(S.g){S.m&&(clearTimeout(S.m),S.m=null);const ie=S.g;S.g=null,K||tn(S,"ready");try{ie.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function ra(S){return S.g?S.g.readyState:0}n.ca=function(){try{return ra(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(S){if(this.g){var K=this.g.responseText;return S&&K.indexOf(S)==0&&(K=K.substring(S.length)),on(K)}};function xi(S){try{if(!S.g)return null;if("response"in S.g)return S.g.response;switch(S.F){case"":case"text":return S.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in S.g)return S.g.mozResponseArrayBuffer}return null}catch{return null}}function ia(S){const K={};S=(S.g&&ra(S)>=2&&S.g.getAllResponseHeaders()||"").split(`\r
`);for(let Se=0;Se<S.length;Se++){if(X(S[Se]))continue;var ie=ge(S[Se]);const it=ie[0];if(ie=ie[1],typeof ie!="string")continue;ie=ie.trim();const _t=K[it]||[];K[it]=_t,_t.push(ie)}ze(K,function(Se){return Se.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Wr(S,K,ie){return ie&&ie.internalChannelParams&&ie.internalChannelParams[S]||K}function to(S){this.za=0,this.i=[],this.j=new kr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Wr("failFast",!1,S),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Wr("baseRetryDelayMs",5e3,S),this.Za=Wr("retryDelaySeedMs",1e4,S),this.Ta=Wr("forwardChannelMaxRetries",2,S),this.va=Wr("forwardChannelRequestTimeoutMs",2e4,S),this.ma=S&&S.xmlHttpFactory||void 0,this.Ua=S&&S.Rb||void 0,this.Aa=S&&S.useFetchStreams||!1,this.O=void 0,this.L=S&&S.supportsCrossDomainXhr||!1,this.M="",this.h=new Nt(S&&S.concurrentRequestLimit),this.Ba=new ui,this.S=S&&S.fastHandshake||!1,this.R=S&&S.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=S&&S.Pb||!1,S&&S.ua&&this.j.ua(),S&&S.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&S&&S.detectBufferingProxy||!1,this.ia=void 0,S&&S.longPollingTimeout&&S.longPollingTimeout>0&&(this.ia=S.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=to.prototype,n.ka=8,n.I=1,n.connect=function(S,K,ie,Se){mn(0),this.W=S,this.H=K||{},ie&&Se!==void 0&&(this.H.OSID=ie,this.H.OAID=Se),this.F=this.X,this.J=Zt(this,null,this.W),Da(this)};function jo(S){if(vo(S),S.I==3){var K=S.V++,ie=Ii(S.J);if(Gn(ie,"SID",S.M),Gn(ie,"RID",K),Gn(ie,"TYPE","terminate"),sa(S,ie),K=new be(S,S.j,K),K.M=2,K.A=Us(Ii(ie)),ie=!1,o.navigator&&o.navigator.sendBeacon)try{ie=o.navigator.sendBeacon(K.A.toString(),"")}catch{}!ie&&o.Image&&(new Image().src=K.A,ie=!0),ie||(K.g=Nn(K.j,null),K.g.ea(K.A)),K.F=Date.now(),ht(K)}Pt(S)}function no(S){S.g&&(bt(S),S.g.cancel(),S.g=null)}function vo(S){no(S),S.v&&(o.clearTimeout(S.v),S.v=null),ue(S),S.h.cancel(),S.m&&(typeof S.m=="number"&&o.clearTimeout(S.m),S.m=null)}function Da(S){if(!vr(S.h)&&!S.m){S.m=!0;var K=S.Ea;ce||B(),re||(ce(),re=!0),F.add(K,S),S.D=0}}function _l(S,K){return Kn(S.h)>=S.h.j-(S.m?1:0)?!1:S.m?(S.i=K.G.concat(S.i),!0):S.I==1||S.I==2||S.D>=(S.Sa?0:S.Ta)?!1:(S.m=Qn(d(S.Ea,S,K),We(S,S.D)),S.D++,!0)}n.Ea=function(S){if(this.m)if(this.m=null,this.I==1){if(!S){this.V=Math.floor(Math.random()*1e5),S=this.V++;const it=new be(this,this.j,S);let _t=this.o;if(this.U&&(_t?(_t=ve(_t),J(_t,this.U)):_t=this.U),this.u!==null||this.R||(it.J=_t,_t=null),this.S)e:{for(var K=0,ie=0;ie<this.i.length;ie++){t:{var Se=this.i[ie];if("__data__"in Se.map&&(Se=Se.map.__data__,typeof Se=="string")){Se=Se.length;break t}Se=void 0}if(Se===void 0)break;if(K+=Se,K>4096){K=ie;break e}if(K===4096||ie===this.i.length-1){K=ie+1;break e}}K=1e3}else K=1e3;K=_a(this,it,K),ie=Ii(this.J),Gn(ie,"RID",S),Gn(ie,"CVER",22),this.G&&Gn(ie,"X-HTTP-Session-Id",this.G),sa(this,ie),_t&&(this.R?K="headers="+Rr(Nr(_t))+"&"+K:this.u&&vl(ie,this.u,_t)),pa(this.h,it),this.Ra&&Gn(ie,"TYPE","init"),this.S?(Gn(ie,"$req",K),Gn(ie,"SID","null"),it.U=!0,Me(it,ie,null)):Me(it,ie,K),this.I=2}}else this.I==3&&(S?Or(this,S):this.i.length==0||vr(this.h)||Or(this))};function Or(S,K){var ie;K?ie=K.l:ie=S.V++;const Se=Ii(S.J);Gn(Se,"SID",S.M),Gn(Se,"RID",ie),Gn(Se,"AID",S.K),sa(S,Se),S.u&&S.o&&vl(Se,S.u,S.o),ie=new be(S,S.j,ie,S.D+1),S.u===null&&(ie.J=S.o),K&&(S.i=K.G.concat(S.i)),K=_a(S,ie,1e3),ie.H=Math.round(S.va*.5)+Math.round(S.va*.5*Math.random()),pa(S.h,ie),Me(ie,Se,K)}function sa(S,K){S.H&&He(S.H,function(ie,Se){Gn(K,Se,ie)}),S.l&&He({},function(ie,Se){Gn(K,Se,ie)})}function _a(S,K,ie){ie=Math.min(S.i.length,ie);const Se=S.l?d(S.l.Ka,S.l,S):null;e:{var it=S.i;let rr=-1;for(;;){const hi=["count="+ie];rr==-1?ie>0?(rr=it[0].g,hi.push("ofs="+rr)):rr=0:hi.push("ofs="+rr);let _r=!0;for(let Xr=0;Xr<ie;Xr++){var _t=it[Xr].g;const gs=it[Xr].map;if(_t-=rr,_t<0)rr=Math.max(0,it[Xr].g-100),_r=!1;else try{_t="req"+_t+"_"||"";try{var sn=gs instanceof Map?gs:Object.entries(gs);for(const[Vs,Ur]of sn){let ps=Ur;u(Ur)&&(ps=xn(Ur)),hi.push(_t+Vs+"="+encodeURIComponent(ps))}}catch(Vs){throw hi.push(_t+"type="+encodeURIComponent("_badmap")),Vs}}catch{Se&&Se(gs)}}if(_r){sn=hi.join("&");break e}}sn=void 0}return S=S.i.splice(0,ie),K.G=S,sn}function La(S){if(!S.g&&!S.v){S.Y=1;var K=S.Da;ce||B(),re||(ce(),re=!0),F.add(K,S),S.A=0}}function ro(S){return S.g||S.v||S.A>=3?!1:(S.Y++,S.v=Qn(d(S.Da,S),We(S,S.A)),S.A++,!0)}n.Da=function(){if(this.v=null,V(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var S=4*this.T;this.j.info("BP detection timer enabled: "+S),this.B=Qn(d(this.Wa,this),S)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,mn(10),no(this),V(this))};function bt(S){S.B!=null&&(o.clearTimeout(S.B),S.B=null)}function V(S){S.g=new be(S,S.j,"rpc",S.Y),S.u===null&&(S.g.J=S.o),S.g.P=0;var K=Ii(S.na);Gn(K,"RID","rpc"),Gn(K,"SID",S.M),Gn(K,"AID",S.K),Gn(K,"CI",S.F?"0":"1"),!S.F&&S.ia&&Gn(K,"TO",S.ia),Gn(K,"TYPE","xmlhttp"),sa(S,K),S.u&&S.o&&vl(K,S.u,S.o),S.O&&(S.g.H=S.O);var ie=S.g;S=S.ba,ie.M=1,ie.A=Us(Ii(K)),ie.u=null,ie.R=!0,rt(ie,S)}n.Va=function(){this.C!=null&&(this.C=null,no(this),ro(this),mn(19))};function ue(S){S.C!=null&&(o.clearTimeout(S.C),S.C=null)}function je(S,K){var ie=null;if(S.g==K){ue(S),bt(S),S.g=null;var Se=2}else if(Ci(S.h,K))ie=K.G,fr(S.h,K),Se=1;else return;if(S.I!=0){if(K.o)if(Se==1){ie=K.u?K.u.length:0,K=Date.now()-K.F;var it=S.D;Se=Yn(),tn(Se,new gn(Se,ie)),Da(S)}else La(S);else if(it=K.m,it==3||it==0&&K.X>0||!(Se==1&&_l(S,K)||Se==2&&ro(S)))switch(ie&&ie.length>0&&(K=S.h,K.i=K.i.concat(ie)),it){case 1:et(S,5);break;case 4:et(S,10);break;case 3:et(S,6);break;default:et(S,2)}}}function We(S,K){let ie=S.Qa+Math.floor(Math.random()*S.Za);return S.isActive()||(ie*=2),ie*K}function et(S,K){if(S.j.info("Error code "+K),K==2){var ie=d(S.bb,S),Se=S.Ua;const it=!Se;Se=new as(Se||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Hn(Se,"https"),Us(Se),it?Js(Se.toString(),ie):Ja(Se.toString(),ie)}else mn(2);S.I=0,S.l&&S.l.pa(K),Pt(S),vo(S)}n.bb=function(S){S?(this.j.info("Successfully pinged google.com"),mn(2)):(this.j.info("Failed to ping google.com"),mn(1))};function Pt(S){if(S.I=0,S.ja=[],S.l){const K=or(S.h);(K.length!=0||S.i.length!=0)&&(I(S.ja,K),I(S.ja,S.i),S.h.i.length=0,E(S.i),S.i.length=0),S.l.oa()}}function Zt(S,K,ie){var Se=ie instanceof as?Ii(ie):new as(ie);if(Se.g!="")K&&(Se.g=K+"."+Se.g),Es(Se,Se.u);else{var it=o.location;Se=it.protocol,K=K?K+"."+it.hostname:it.hostname,it=+it.port;const _t=new as(null);Se&&Hn(_t,Se),K&&(_t.g=K),it&&Es(_t,it),ie&&(_t.h=ie),Se=_t}return ie=S.G,K=S.wa,ie&&K&&Gn(Se,ie,K),Gn(Se,"VER",S.ka),sa(S,Se),Se}function Nn(S,K,ie){if(K&&!S.L)throw Error("Can't create secondary domain capable XhrIo object.");return K=S.Aa&&!S.ma?new Fr(new Fn({ab:ie})):new Fr(S.ma),K.Fa(S.L),K}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function vn(){}n=vn.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function qn(){}qn.prototype.g=function(S,K){return new wn(S,K)};function wn(S,K){tt.call(this),this.g=new to(K),this.l=S,this.h=K&&K.messageUrlParams||null,S=K&&K.messageHeaders||null,K&&K.clientProtocolHeaderRequired&&(S?S["X-Client-Protocol"]="webchannel":S={"X-Client-Protocol":"webchannel"}),this.g.o=S,S=K&&K.initMessageHeaders||null,K&&K.messageContentType&&(S?S["X-WebChannel-Content-Type"]=K.messageContentType:S={"X-WebChannel-Content-Type":K.messageContentType}),K&&K.sa&&(S?S["X-WebChannel-Client-Profile"]=K.sa:S={"X-WebChannel-Client-Profile":K.sa}),this.g.U=S,(S=K&&K.Qb)&&!X(S)&&(this.g.u=S),this.A=K&&K.supportsCrossDomainXhr||!1,this.v=K&&K.sendRawJson||!1,(K=K&&K.httpSessionIdParam)&&!X(K)&&(this.g.G=K,S=this.h,S!==null&&K in S&&(S=this.h,K in S&&delete S[K])),this.j=new Wn(this)}w(wn,tt),wn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},wn.prototype.close=function(){jo(this.g)},wn.prototype.o=function(S){var K=this.g;if(typeof S=="string"){var ie={};ie.__data__=S,S=ie}else this.v&&(ie={},ie.__data__=xn(S),S=ie);K.i.push(new Tn(K.Ya++,S)),K.I==3&&Da(K)},wn.prototype.N=function(){this.g.l=null,delete this.j,jo(this.g),delete this.g,wn.Z.N.call(this)};function Ar(S){dt.call(this),S.__headers__&&(this.headers=S.__headers__,this.statusCode=S.__status__,delete S.__headers__,delete S.__status__);var K=S.__sm__;if(K){e:{for(const ie in K){S=ie;break e}S=void 0}(this.i=S)&&(S=this.i,K=K!==null&&S in K?K[S]:void 0),this.data=K}else this.data=S}w(Ar,dt);function Br(){Wt.call(this),this.status=1}w(Br,Wt);function Wn(S){this.g=S}w(Wn,vn),Wn.prototype.ra=function(){tn(this.g,"a")},Wn.prototype.qa=function(S){tn(this.g,new Ar(S))},Wn.prototype.pa=function(S){tn(this.g,new Br)},Wn.prototype.oa=function(){tn(this.g,"b")},qn.prototype.createWebChannel=qn.prototype.g,wn.prototype.send=wn.prototype.o,wn.prototype.open=wn.prototype.m,wn.prototype.close=wn.prototype.close,IN=function(){return new qn},CN=function(){return Yn()},NN=It,py={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ki.NO_ERROR=0,Ki.TIMEOUT=8,Ki.HTTP_ERROR=6,xp=Ki,$r.COMPLETE="complete",TN=$r,nr.EventType=an,an.OPEN="a",an.CLOSE="b",an.ERROR="c",an.MESSAGE="d",tt.prototype.listen=tt.prototype.J,O1=nr,Fr.prototype.listenOnce=Fr.prototype.K,Fr.prototype.getLastError=Fr.prototype.Ha,Fr.prototype.getLastErrorCode=Fr.prototype.ya,Fr.prototype.getStatus=Fr.prototype.ca,Fr.prototype.getResponseJson=Fr.prototype.La,Fr.prototype.getResponseText=Fr.prototype.la,Fr.prototype.send=Fr.prototype.ea,Fr.prototype.setWithCredentials=Fr.prototype.Fa,SN=Fr}).apply(typeof Pg<"u"?Pg:typeof self<"u"?self:typeof window<"u"?window:{});const pE="@firebase/firestore",xE="4.9.3";class Io{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Io.UNAUTHENTICATED=new Io(null),Io.GOOGLE_CREDENTIALS=new Io("google-credentials-uid"),Io.FIRST_PARTY=new Io("first-party-uid"),Io.MOCK_USER=new Io("mock-user");let R0="12.7.0";const Of=new Ew("@firebase/firestore");function Wd(){return Of.logLevel}function Rn(n,...e){if(Of.logLevel<=Hr.DEBUG){const t=e.map(Sw);Of.debug(`Firestore (${R0}): ${n}`,...t)}}function Hu(n,...e){if(Of.logLevel<=Hr.ERROR){const t=e.map(Sw);Of.error(`Firestore (${R0}): ${n}`,...t)}}function kf(n,...e){if(Of.logLevel<=Hr.WARN){const t=e.map(Sw);Of.warn(`Firestore (${R0}): ${n}`,...t)}}function Sw(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function ur(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,RN(n,r,t)}function RN(n,e,t){let r=`FIRESTORE (${R0}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Hu(r),new Error(r)}function pi(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||RN(e,i,r)}function Er(n,e){return n}const Xt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Sn extends au{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Mu{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class ON{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class kN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Io.UNAUTHENTICATED)))}shutdown(){}}class PP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class jP{constructor(e){this.t=e,this.currentUser=Io.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){pi(this.o===void 0,42304);let r=this.i;const i=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let s=new Mu;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Mu,e.enqueueRetryable((()=>i(this.currentUser)))};const o=()=>{const f=s;e.enqueueRetryable((async()=>{await f.promise,await i(this.currentUser)}))},u=f=>{Rn("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((f=>u(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?u(f):(Rn("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Mu)}}),0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(Rn("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(pi(typeof r.accessToken=="string",31837,{l:r}),new ON(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return pi(e===null||typeof e=="string",2055,{h:e}),new Io(e)}}class FP{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Io.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class BP{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new FP(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Io.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class vE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class UP{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Kl(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){pi(this.o===void 0,3512);const r=s=>{s.error!=null&&Rn("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,Rn("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable((()=>r(s)))};const i=s=>{Rn("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((s=>i(s))),setTimeout((()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):Rn("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new vE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(pi(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new vE(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function VP(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class L2{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=VP(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%62))}return r}}function qr(n,e){return n<e?-1:n>e?1:0}function xy(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const i=n.charAt(r),s=e.charAt(r);if(i!==s)return Xv(i)===Xv(s)?qr(i,s):Xv(i)?1:-1}return qr(n.length,e.length)}const zP=55296,HP=57343;function Xv(n){const e=n.charCodeAt(0);return e>=zP&&e<=HP}function x0(n,e,t){return n.length===e.length&&n.every(((r,i)=>t(r,e[i])))}const _E="__name__";class Wc{constructor(e,t,r){t===void 0?t=0:t>e.length&&ur(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&ur(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Wc.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Wc?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=Wc.compareSegments(e.get(i),t.get(i));if(s!==0)return s}return qr(e.length,t.length)}static compareSegments(e,t){const r=Wc.isNumericId(e),i=Wc.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?Wc.extractNumericId(e).compare(Wc.extractNumericId(t)):xy(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ph.fromString(e.substring(4,e.length-2))}}class Xi extends Wc{construct(e,t,r){return new Xi(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Sn(Xt.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((i=>i.length>0)))}return new Xi(t)}static emptyPath(){return new Xi([])}}const qP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xa extends Wc{construct(e,t,r){return new Xa(e,t,r)}static isValidIdentifier(e){return qP.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xa.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===_E}static keyField(){return new Xa([_E])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Sn(Xt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let o=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new Sn(Xt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[i+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new Sn(Xt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,i+=2}else u==="`"?(o=!o,i++):u!=="."||o?(r+=u,i++):(s(),i++)}if(s(),o)throw new Sn(Xt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xa(t)}static emptyPath(){return new Xa([])}}class Zn{constructor(e){this.path=e}static fromPath(e){return new Zn(Xi.fromString(e))}static fromName(e){return new Zn(Xi.fromString(e).popFirst(5))}static empty(){return new Zn(Xi.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Xi.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Xi.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Zn(new Xi(e.slice()))}}function DN(n,e,t){if(!t)throw new Sn(Xt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function LN(n,e,t,r){if(e===!0&&r===!0)throw new Sn(Xt.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function yE(n){if(!Zn.isDocumentKey(n))throw new Sn(Xt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function wE(n){if(Zn.isDocumentKey(n))throw new Sn(Xt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function MN(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function M2(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":ur(12329,{type:typeof n})}function Wo(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Sn(Xt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=M2(n);throw new Sn(Xt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function da(n,e){const t={typeString:n};return e&&(t.value=e),t}function bm(n,e){if(!MN(n))throw new Sn(Xt.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const o=n[r];if(i&&typeof o!==i){t=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&o!==s.value){t=`Expected '${r}' field to equal '${s.value}'`;break}}if(t)throw new Sn(Xt.INVALID_ARGUMENT,t);return!0}const bE=-62135596800,EE=1e6;class Yi{static now(){return Yi.fromMillis(Date.now())}static fromDate(e){return Yi.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*EE);return new Yi(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Sn(Xt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Sn(Xt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<bE)throw new Sn(Xt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Sn(Xt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/EE}_compareTo(e){return this.seconds===e.seconds?qr(this.nanoseconds,e.nanoseconds):qr(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Yi._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(bm(e,Yi._jsonSchema))return new Yi(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-bE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Yi._jsonSchemaVersion="firestore/timestamp/1.0",Yi._jsonSchema={type:da("string",Yi._jsonSchemaVersion),seconds:da("number"),nanoseconds:da("number")};class xr{static fromTimestamp(e){return new xr(e)}static min(){return new xr(new Yi(0,0))}static max(){return new xr(new Yi(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const nm=-1;function GP(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=xr.fromTimestamp(r===1e9?new Yi(t+1,0):new Yi(t,r));return new Uh(i,Zn.empty(),e)}function WP(n){return new Uh(n.readTime,n.key,nm)}class Uh{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Uh(xr.min(),Zn.empty(),nm)}static max(){return new Uh(xr.max(),Zn.empty(),nm)}}function XP(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Zn.comparator(n.documentKey,e.documentKey),t!==0?t:qr(n.largestBatchId,e.largestBatchId))}const YP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class KP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function O0(n){if(n.code!==Xt.FAILED_PRECONDITION||n.message!==YP)throw n;Rn("LocalStore","Unexpectedly lost primary lease")}class Jt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ur(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Jt(((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Jt?t:Jt.resolve(t)}catch(t){return Jt.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Jt.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Jt.reject(t)}static resolve(e){return new Jt(((t,r)=>{t(e)}))}static reject(e){return new Jt(((t,r)=>{r(e)}))}static waitFor(e){return new Jt(((t,r)=>{let i=0,s=0,o=!1;e.forEach((u=>{++i,u.next((()=>{++s,o&&s===i&&t()}),(f=>r(f)))})),o=!0,s===i&&t()}))}static or(e){let t=Jt.resolve(!1);for(const r of e)t=t.next((i=>i?Jt.resolve(i):r()));return t}static forEach(e,t){const r=[];return e.forEach(((i,s)=>{r.push(t.call(this,i,s))})),this.waitFor(r)}static mapArray(e,t){return new Jt(((r,i)=>{const s=e.length,o=new Array(s);let u=0;for(let f=0;f<s;f++){const d=f;t(e[d]).next((x=>{o[d]=x,++u,u===s&&r(o)}),(x=>i(x)))}}))}static doWhile(e,t){return new Jt(((r,i)=>{const s=()=>{e()===!0?t().next((()=>{s()}),i):r()};s()}))}}function $P(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function k0(n){return n.name==="IndexedDbTransactionError"}class P2{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}P2.ce=-1;const Tw=-1;function j2(n){return n==null}function jp(n){return n===0&&1/n==-1/0}function ZP(n){return typeof n=="number"&&Number.isInteger(n)&&!jp(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const PN="";function QP(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=AE(e)),e=JP(n.get(t),e);return AE(e)}function JP(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const s=n.charAt(i);switch(s){case"\0":t+="";break;case PN:t+="";break;default:t+=s}}return t}function AE(n){return n+PN+""}function SE(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Zh(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function jN(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class bs{constructor(e,t){this.comparator=e,this.root=t||ho.EMPTY}insert(e,t){return new bs(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ho.BLACK,null,null))}remove(e){return new bs(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ho.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new jg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new jg(this.root,e,this.comparator,!1)}getReverseIterator(){return new jg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new jg(this.root,e,this.comparator,!0)}}class jg{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ho{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??ho.RED,this.left=i??ho.EMPTY,this.right=s??ho.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new ho(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):s===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ho.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return ho.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ho.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ho.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ur(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ur(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ur(27949);return e+(this.isRed()?0:1)}}ho.EMPTY=null,ho.RED=!0,ho.BLACK=!1;ho.EMPTY=new class{constructor(){this.size=0}get key(){throw ur(57766)}get value(){throw ur(16141)}get color(){throw ur(16727)}get left(){throw ur(29726)}get right(){throw ur(36894)}copy(e,t,r,i,s){return this}insert(e,t,r){return new ho(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ia{constructor(e){this.comparator=e,this.data=new bs(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new TE(this.data.getIterator())}getIteratorFrom(e){return new TE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof Ia)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Ia(this.comparator);return t.data=e,t}}class TE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ol{constructor(e){this.fields=e,e.sort(Xa.comparator)}static empty(){return new Ol([])}unionWith(e){let t=new Ia(Xa.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Ol(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return x0(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}class FN extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Za{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new FN("Invalid base64 string: "+s):s}})(e);return new Za(t)}static fromUint8Array(e){const t=(function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s})(e);return new Za(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qr(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Za.EMPTY_BYTE_STRING=new Za("");const ej=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Vh(n){if(pi(!!n,39018),typeof n=="string"){let e=0;const t=ej.exec(n);if(pi(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ys(n.seconds),nanos:Ys(n.nanos)}}function Ys(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function zh(n){return typeof n=="string"?Za.fromBase64String(n):Za.fromUint8Array(n)}const BN="server_timestamp",UN="__type__",VN="__previous_value__",zN="__local_write_time__";function Nw(n){return(n?.mapValue?.fields||{})[UN]?.stringValue===BN}function F2(n){const e=n.mapValue.fields[VN];return Nw(e)?F2(e):e}function rm(n){const e=Vh(n.mapValue.fields[zN].timestampValue);return new Yi(e.seconds,e.nanos)}class tj{constructor(e,t,r,i,s,o,u,f,d,x){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.longPollingOptions=f,this.useFetchStreams=d,this.isUsingEmulator=x}}const Fp="(default)";class v0{constructor(e,t){this.projectId=e,this.database=t||Fp}static empty(){return new v0("","")}get isDefaultDatabase(){return this.database===Fp}isEqual(e){return e instanceof v0&&e.projectId===this.projectId&&e.database===this.database}}const HN="__type__",nj="__max__",Fg={mapValue:{}},qN="__vector__",Bp="value";function Hh(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Nw(n)?4:ij(n)?9007199254740991:rj(n)?10:11:ur(28295,{value:n})}function Jc(n,e){if(n===e)return!0;const t=Hh(n);if(t!==Hh(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return rm(n).isEqual(rm(e));case 3:return(function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Vh(i.timestampValue),u=Vh(s.timestampValue);return o.seconds===u.seconds&&o.nanos===u.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(i,s){return zh(i.bytesValue).isEqual(zh(s.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(i,s){return Ys(i.geoPointValue.latitude)===Ys(s.geoPointValue.latitude)&&Ys(i.geoPointValue.longitude)===Ys(s.geoPointValue.longitude)})(n,e);case 2:return(function(i,s){if("integerValue"in i&&"integerValue"in s)return Ys(i.integerValue)===Ys(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Ys(i.doubleValue),u=Ys(s.doubleValue);return o===u?jp(o)===jp(u):isNaN(o)&&isNaN(u)}return!1})(n,e);case 9:return x0(n.arrayValue.values||[],e.arrayValue.values||[],Jc);case 10:case 11:return(function(i,s){const o=i.mapValue.fields||{},u=s.mapValue.fields||{};if(SE(o)!==SE(u))return!1;for(const f in o)if(o.hasOwnProperty(f)&&(u[f]===void 0||!Jc(o[f],u[f])))return!1;return!0})(n,e);default:return ur(52216,{left:n})}}function im(n,e){return(n.values||[]).find((t=>Jc(t,e)))!==void 0}function _0(n,e){if(n===e)return 0;const t=Hh(n),r=Hh(e);if(t!==r)return qr(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return qr(n.booleanValue,e.booleanValue);case 2:return(function(s,o){const u=Ys(s.integerValue||s.doubleValue),f=Ys(o.integerValue||o.doubleValue);return u<f?-1:u>f?1:u===f?0:isNaN(u)?isNaN(f)?0:-1:1})(n,e);case 3:return NE(n.timestampValue,e.timestampValue);case 4:return NE(rm(n),rm(e));case 5:return xy(n.stringValue,e.stringValue);case 6:return(function(s,o){const u=zh(s),f=zh(o);return u.compareTo(f)})(n.bytesValue,e.bytesValue);case 7:return(function(s,o){const u=s.split("/"),f=o.split("/");for(let d=0;d<u.length&&d<f.length;d++){const x=qr(u[d],f[d]);if(x!==0)return x}return qr(u.length,f.length)})(n.referenceValue,e.referenceValue);case 8:return(function(s,o){const u=qr(Ys(s.latitude),Ys(o.latitude));return u!==0?u:qr(Ys(s.longitude),Ys(o.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return CE(n.arrayValue,e.arrayValue);case 10:return(function(s,o){const u=s.fields||{},f=o.fields||{},d=u[Bp]?.arrayValue,x=f[Bp]?.arrayValue,w=qr(d?.values?.length||0,x?.values?.length||0);return w!==0?w:CE(d,x)})(n.mapValue,e.mapValue);case 11:return(function(s,o){if(s===Fg.mapValue&&o===Fg.mapValue)return 0;if(s===Fg.mapValue)return 1;if(o===Fg.mapValue)return-1;const u=s.fields||{},f=Object.keys(u),d=o.fields||{},x=Object.keys(d);f.sort(),x.sort();for(let w=0;w<f.length&&w<x.length;++w){const A=xy(f[w],x[w]);if(A!==0)return A;const E=_0(u[f[w]],d[x[w]]);if(E!==0)return E}return qr(f.length,x.length)})(n.mapValue,e.mapValue);default:throw ur(23264,{he:t})}}function NE(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return qr(n,e);const t=Vh(n),r=Vh(e),i=qr(t.seconds,r.seconds);return i!==0?i:qr(t.nanos,r.nanos)}function CE(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const s=_0(t[i],r[i]);if(s)return s}return qr(t.length,r.length)}function y0(n){return vy(n)}function vy(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=Vh(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return zh(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return Zn.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",i=!0;for(const s of t.values||[])i?i=!1:r+=",",r+=vy(s);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${vy(t.fields[o])}`;return i+"}"})(n.mapValue):ur(61005,{value:n})}function vp(n){switch(Hh(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=F2(n);return e?16+vp(e):16;case 5:return 2*n.stringValue.length;case 6:return zh(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,s)=>i+vp(s)),0)})(n.arrayValue);case 10:case 11:return(function(r){let i=0;return Zh(r.fields,((s,o)=>{i+=s.length+vp(o)})),i})(n.mapValue);default:throw ur(13486,{value:n})}}function IE(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function _y(n){return!!n&&"integerValue"in n}function Cw(n){return!!n&&"arrayValue"in n}function RE(n){return!!n&&"nullValue"in n}function OE(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function _p(n){return!!n&&"mapValue"in n}function rj(n){return(n?.mapValue?.fields||{})[HN]?.stringValue===qN}function F1(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return Zh(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=F1(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=F1(n.arrayValue.values[t]);return e}return{...n}}function ij(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===nj}class fl{constructor(e){this.value=e}static empty(){return new fl({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!_p(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=F1(t)}setAll(e){let t=Xa.emptyPath(),r={},i=[];e.forEach(((o,u)=>{if(!t.isImmediateParentOf(u)){const f=this.getFieldsMap(t);this.applyChanges(f,r,i),r={},i=[],t=u.popLast()}o?r[u.lastSegment()]=F1(o):i.push(u.lastSegment())}));const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());_p(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Jc(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];_p(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Zh(t,((i,s)=>e[i]=s));for(const i of r)delete e[i]}clone(){return new fl(F1(this.value))}}function GN(n){const e=[];return Zh(n.fields,((t,r)=>{const i=new Xa([t]);if(_p(r)){const s=GN(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)})),new Ol(e)}class Ro{constructor(e,t,r,i,s,o,u){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=u}static newInvalidDocument(e){return new Ro(e,0,xr.min(),xr.min(),xr.min(),fl.empty(),0)}static newFoundDocument(e,t,r,i){return new Ro(e,1,t,xr.min(),r,i,0)}static newNoDocument(e,t){return new Ro(e,2,t,xr.min(),xr.min(),fl.empty(),0)}static newUnknownDocument(e,t){return new Ro(e,3,t,xr.min(),xr.min(),fl.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(xr.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=fl.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=fl.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xr.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ro&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ro(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Up{constructor(e,t){this.position=e,this.inclusive=t}}function kE(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],o=n.position[i];if(s.field.isKeyField()?r=Zn.comparator(Zn.fromName(o.referenceValue),t.key):r=_0(o,t.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function DE(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Jc(n.position[t],e.position[t]))return!1;return!0}class sm{constructor(e,t="asc"){this.field=e,this.dir=t}}function sj(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class WN{}class fa extends WN{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new oj(e,t,r):t==="array-contains"?new uj(e,r):t==="in"?new hj(e,r):t==="not-in"?new fj(e,r):t==="array-contains-any"?new dj(e,r):new fa(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new lj(e,r):new cj(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(_0(t,this.value)):t!==null&&Hh(this.value)===Hh(t)&&this.matchesComparison(_0(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ur(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class bc extends WN{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new bc(e,t)}matches(e){return XN(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function XN(n){return n.op==="and"}function YN(n){return aj(n)&&XN(n)}function aj(n){for(const e of n.filters)if(e instanceof bc)return!1;return!0}function yy(n){if(n instanceof fa)return n.field.canonicalString()+n.op.toString()+y0(n.value);if(YN(n))return n.filters.map((e=>yy(e))).join(",");{const e=n.filters.map((t=>yy(t))).join(",");return`${n.op}(${e})`}}function KN(n,e){return n instanceof fa?(function(r,i){return i instanceof fa&&r.op===i.op&&r.field.isEqual(i.field)&&Jc(r.value,i.value)})(n,e):n instanceof bc?(function(r,i){return i instanceof bc&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((s,o,u)=>s&&KN(o,i.filters[u])),!0):!1})(n,e):void ur(19439)}function $N(n){return n instanceof fa?(function(t){return`${t.field.canonicalString()} ${t.op} ${y0(t.value)}`})(n):n instanceof bc?(function(t){return t.op.toString()+" {"+t.getFilters().map($N).join(" ,")+"}"})(n):"Filter"}class oj extends fa{constructor(e,t,r){super(e,t,r),this.key=Zn.fromName(r.referenceValue)}matches(e){const t=Zn.comparator(e.key,this.key);return this.matchesComparison(t)}}class lj extends fa{constructor(e,t){super(e,"in",t),this.keys=ZN("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class cj extends fa{constructor(e,t){super(e,"not-in",t),this.keys=ZN("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function ZN(n,e){return(e.arrayValue?.values||[]).map((t=>Zn.fromName(t.referenceValue)))}class uj extends fa{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Cw(t)&&im(t.arrayValue,this.value)}}class hj extends fa{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&im(this.value.arrayValue,t)}}class fj extends fa{constructor(e,t){super(e,"not-in",t)}matches(e){if(im(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!im(this.value.arrayValue,t)}}class dj extends fa{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Cw(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>im(this.value.arrayValue,r)))}}class mj{constructor(e,t=null,r=[],i=[],s=null,o=null,u=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=u,this.Te=null}}function LE(n,e=null,t=[],r=[],i=null,s=null,o=null){return new mj(n,e,t,r,i,s,o)}function Iw(n){const e=Er(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>yy(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(s){return s.field.canonicalString()+s.dir})(r))).join(","),j2(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>y0(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>y0(r))).join(",")),e.Te=t}return e.Te}function Rw(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!sj(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!KN(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!DE(n.startAt,e.startAt)&&DE(n.endAt,e.endAt)}function wy(n){return Zn.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class D0{constructor(e,t=null,r=[],i=[],s=null,o="F",u=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=u,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function gj(n,e,t,r,i,s,o,u){return new D0(n,e,t,r,i,s,o,u)}function B2(n){return new D0(n)}function ME(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function QN(n){return n.collectionGroup!==null}function B1(n){const e=Er(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),t.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let u=new Ia(Xa.comparator);return o.filters.forEach((f=>{f.getFlattenedFilters().forEach((d=>{d.isInequality()&&(u=u.add(d.field))}))})),u})(e).forEach((s=>{t.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new sm(s,r))})),t.has(Xa.keyField().canonicalString())||e.Ie.push(new sm(Xa.keyField(),r))}return e.Ie}function $c(n){const e=Er(n);return e.Ee||(e.Ee=pj(e,B1(n))),e.Ee}function pj(n,e){if(n.limitType==="F")return LE(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((i=>{const s=i.dir==="desc"?"asc":"desc";return new sm(i.field,s)}));const t=n.endAt?new Up(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Up(n.startAt.position,n.startAt.inclusive):null;return LE(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function by(n,e){const t=n.filters.concat([e]);return new D0(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Ey(n,e,t){return new D0(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function U2(n,e){return Rw($c(n),$c(e))&&n.limitType===e.limitType}function JN(n){return`${Iw($c(n))}|lt:${n.limitType}`}function Xd(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((i=>$N(i))).join(", ")}]`),j2(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((i=>(function(o){return`${o.field.canonicalString()} (${o.dir})`})(i))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((i=>y0(i))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((i=>y0(i))).join(",")),`Target(${r})`})($c(n))}; limitType=${n.limitType})`}function V2(n,e){return e.isFoundDocument()&&(function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Zn.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)})(n,e)&&(function(r,i){for(const s of B1(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0})(n,e)&&(function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0})(n,e)&&(function(r,i){return!(r.startAt&&!(function(o,u,f){const d=kE(o,u,f);return o.inclusive?d<=0:d<0})(r.startAt,B1(r),i)||r.endAt&&!(function(o,u,f){const d=kE(o,u,f);return o.inclusive?d>=0:d>0})(r.endAt,B1(r),i))})(n,e)}function xj(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function eC(n){return(e,t)=>{let r=!1;for(const i of B1(n)){const s=vj(i,e,t);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function vj(n,e,t){const r=n.field.isKeyField()?Zn.comparator(e.key,t.key):(function(s,o,u){const f=o.data.field(s),d=u.data.field(s);return f!==null&&d!==null?_0(f,d):ur(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ur(19790,{direction:n.dir})}}class Hf{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Zh(this.inner,((t,r)=>{for(const[i,s]of r)e(i,s)}))}isEmpty(){return jN(this.inner)}size(){return this.innerSize}}const _j=new bs(Zn.comparator);function qu(){return _j}const tC=new bs(Zn.comparator);function k1(...n){let e=tC;for(const t of n)e=e.insert(t.key,t);return e}function nC(n){let e=tC;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function bf(){return U1()}function rC(){return U1()}function U1(){return new Hf((n=>n.toString()),((n,e)=>n.isEqual(e)))}const yj=new bs(Zn.comparator),wj=new Ia(Zn.comparator);function Gr(...n){let e=wj;for(const t of n)e=e.add(t);return e}const bj=new Ia(qr);function Ej(){return bj}function Ow(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:jp(e)?"-0":e}}function iC(n){return{integerValue:""+n}}function Aj(n,e){return ZP(e)?iC(e):Ow(n,e)}class z2{constructor(){this._=void 0}}function Sj(n,e,t){return n instanceof am?(function(i,s){const o={fields:{[UN]:{stringValue:BN},[zN]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Nw(s)&&(s=F2(s)),s&&(o.fields[VN]=s),{mapValue:o}})(t,e):n instanceof w0?aC(n,e):n instanceof b0?oC(n,e):(function(i,s){const o=sC(i,s),u=PE(o)+PE(i.Ae);return _y(o)&&_y(i.Ae)?iC(u):Ow(i.serializer,u)})(n,e)}function Tj(n,e,t){return n instanceof w0?aC(n,e):n instanceof b0?oC(n,e):t}function sC(n,e){return n instanceof Vp?(function(r){return _y(r)||(function(s){return!!s&&"doubleValue"in s})(r)})(e)?e:{integerValue:0}:null}class am extends z2{}class w0 extends z2{constructor(e){super(),this.elements=e}}function aC(n,e){const t=lC(e);for(const r of n.elements)t.some((i=>Jc(i,r)))||t.push(r);return{arrayValue:{values:t}}}class b0 extends z2{constructor(e){super(),this.elements=e}}function oC(n,e){let t=lC(e);for(const r of n.elements)t=t.filter((i=>!Jc(i,r)));return{arrayValue:{values:t}}}class Vp extends z2{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function PE(n){return Ys(n.integerValue||n.doubleValue)}function lC(n){return Cw(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class kw{constructor(e,t){this.field=e,this.transform=t}}function Nj(n,e){return n.field.isEqual(e.field)&&(function(r,i){return r instanceof w0&&i instanceof w0||r instanceof b0&&i instanceof b0?x0(r.elements,i.elements,Jc):r instanceof Vp&&i instanceof Vp?Jc(r.Ae,i.Ae):r instanceof am&&i instanceof am})(n.transform,e.transform)}class Cj{constructor(e,t){this.version=e,this.transformResults=t}}class $l{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new $l}static exists(e){return new $l(void 0,e)}static updateTime(e){return new $l(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function yp(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class H2{}function cC(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Dw(n.key,$l.none()):new Em(n.key,n.data,$l.none());{const t=n.data,r=fl.empty();let i=new Ia(Xa.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);o===null&&s.length>1&&(s=s.popLast(),o=t.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Qh(n.key,r,new Ol(i.toArray()),$l.none())}}function Ij(n,e,t){n instanceof Em?(function(i,s,o){const u=i.value.clone(),f=FE(i.fieldTransforms,s,o.transformResults);u.setAll(f),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()})(n,e,t):n instanceof Qh?(function(i,s,o){if(!yp(i.precondition,s))return void s.convertToUnknownDocument(o.version);const u=FE(i.fieldTransforms,s,o.transformResults),f=s.data;f.setAll(uC(i)),f.setAll(u),s.convertToFoundDocument(o.version,f).setHasCommittedMutations()})(n,e,t):(function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()})(0,e,t)}function V1(n,e,t,r){return n instanceof Em?(function(s,o,u,f){if(!yp(s.precondition,o))return u;const d=s.value.clone(),x=BE(s.fieldTransforms,f,o);return d.setAll(x),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null})(n,e,t,r):n instanceof Qh?(function(s,o,u,f){if(!yp(s.precondition,o))return u;const d=BE(s.fieldTransforms,f,o),x=o.data;return x.setAll(uC(s)),x.setAll(d),o.convertToFoundDocument(o.version,x).setHasLocalMutations(),u===null?null:u.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((w=>w.field)))})(n,e,t,r):(function(s,o,u){return yp(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):u})(n,e,t)}function Rj(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=sC(r.transform,i||null);s!=null&&(t===null&&(t=fl.empty()),t.set(r.field,s))}return t||null}function jE(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&x0(r,i,((s,o)=>Nj(s,o)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Em extends H2{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Qh extends H2{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function uC(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function FE(n,e,t){const r=new Map;pi(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let i=0;i<t.length;i++){const s=n[i],o=s.transform,u=e.data.field(s.field);r.set(s.field,Tj(o,u,t[i]))}return r}function BE(n,e,t){const r=new Map;for(const i of n){const s=i.transform,o=t.data.field(i.field);r.set(i.field,Sj(s,o,e))}return r}class Dw extends H2{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Oj extends H2{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class kj{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Ij(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=V1(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=V1(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=rC();return this.mutations.forEach((i=>{const s=e.get(i.key),o=s.overlayedDocument;let u=this.applyToLocalView(o,s.mutatedFields);u=t.has(i.key)?null:u;const f=cC(o,u);f!==null&&r.set(i.key,f),o.isValidDocument()||o.convertToNoDocument(xr.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Gr())}isEqual(e){return this.batchId===e.batchId&&x0(this.mutations,e.mutations,((t,r)=>jE(t,r)))&&x0(this.baseMutations,e.baseMutations,((t,r)=>jE(t,r)))}}class Lw{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){pi(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return yj})();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Lw(e,t,r,i)}}class Dj{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Lj{constructor(e,t){this.count=e,this.unchangedNames=t}}var ua,ni;function Mj(n){switch(n){case Xt.OK:return ur(64938);case Xt.CANCELLED:case Xt.UNKNOWN:case Xt.DEADLINE_EXCEEDED:case Xt.RESOURCE_EXHAUSTED:case Xt.INTERNAL:case Xt.UNAVAILABLE:case Xt.UNAUTHENTICATED:return!1;case Xt.INVALID_ARGUMENT:case Xt.NOT_FOUND:case Xt.ALREADY_EXISTS:case Xt.PERMISSION_DENIED:case Xt.FAILED_PRECONDITION:case Xt.ABORTED:case Xt.OUT_OF_RANGE:case Xt.UNIMPLEMENTED:case Xt.DATA_LOSS:return!0;default:return ur(15467,{code:n})}}function hC(n){if(n===void 0)return Hu("GRPC error has no .code"),Xt.UNKNOWN;switch(n){case ua.OK:return Xt.OK;case ua.CANCELLED:return Xt.CANCELLED;case ua.UNKNOWN:return Xt.UNKNOWN;case ua.DEADLINE_EXCEEDED:return Xt.DEADLINE_EXCEEDED;case ua.RESOURCE_EXHAUSTED:return Xt.RESOURCE_EXHAUSTED;case ua.INTERNAL:return Xt.INTERNAL;case ua.UNAVAILABLE:return Xt.UNAVAILABLE;case ua.UNAUTHENTICATED:return Xt.UNAUTHENTICATED;case ua.INVALID_ARGUMENT:return Xt.INVALID_ARGUMENT;case ua.NOT_FOUND:return Xt.NOT_FOUND;case ua.ALREADY_EXISTS:return Xt.ALREADY_EXISTS;case ua.PERMISSION_DENIED:return Xt.PERMISSION_DENIED;case ua.FAILED_PRECONDITION:return Xt.FAILED_PRECONDITION;case ua.ABORTED:return Xt.ABORTED;case ua.OUT_OF_RANGE:return Xt.OUT_OF_RANGE;case ua.UNIMPLEMENTED:return Xt.UNIMPLEMENTED;case ua.DATA_LOSS:return Xt.DATA_LOSS;default:return ur(39323,{code:n})}}(ni=ua||(ua={}))[ni.OK=0]="OK",ni[ni.CANCELLED=1]="CANCELLED",ni[ni.UNKNOWN=2]="UNKNOWN",ni[ni.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ni[ni.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ni[ni.NOT_FOUND=5]="NOT_FOUND",ni[ni.ALREADY_EXISTS=6]="ALREADY_EXISTS",ni[ni.PERMISSION_DENIED=7]="PERMISSION_DENIED",ni[ni.UNAUTHENTICATED=16]="UNAUTHENTICATED",ni[ni.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ni[ni.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ni[ni.ABORTED=10]="ABORTED",ni[ni.OUT_OF_RANGE=11]="OUT_OF_RANGE",ni[ni.UNIMPLEMENTED=12]="UNIMPLEMENTED",ni[ni.INTERNAL=13]="INTERNAL",ni[ni.UNAVAILABLE=14]="UNAVAILABLE",ni[ni.DATA_LOSS=15]="DATA_LOSS";function Pj(){return new TextEncoder}const jj=new Ph([4294967295,4294967295],0);function UE(n){const e=Pj().encode(n),t=new AN;return t.update(e),new Uint8Array(t.digest())}function VE(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Ph([t,r],0),new Ph([i,s],0)]}class Mw{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new D1(`Invalid padding: ${t}`);if(r<0)throw new D1(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new D1(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new D1(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Ph.fromNumber(this.ge)}ye(e,t,r){let i=e.add(t.multiply(Ph.fromNumber(r)));return i.compare(jj)===1&&(i=new Ph([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=UE(e),[r,i]=VE(t);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);if(!this.we(o))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Mw(s,i,t);return r.forEach((u=>o.insert(u))),o}insert(e){if(this.ge===0)return;const t=UE(e),[r,i]=VE(t);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);this.Se(o)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class D1 extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class q2{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,Am.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new q2(xr.min(),i,new bs(qr),qu(),Gr())}}class Am{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Am(r,t,Gr(),Gr(),Gr())}}class wp{constructor(e,t,r,i){this.be=e,this.removedTargetIds=t,this.key=r,this.De=i}}class fC{constructor(e,t){this.targetId=e,this.Ce=t}}class dC{constructor(e,t,r=Za.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class zE{constructor(){this.ve=0,this.Fe=HE(),this.Me=Za.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Gr(),t=Gr(),r=Gr();return this.Fe.forEach(((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:ur(38017,{changeType:s})}})),new Am(this.Me,this.xe,e,t,r)}qe(){this.Oe=!1,this.Fe=HE()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,pi(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Fj{constructor(e){this.Ge=e,this.ze=new Map,this.je=qu(),this.Je=Bg(),this.He=Bg(),this.Ye=new bs(qr)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:ur(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,i)=>{this.rt(i)&&t(i)}))}st(e){const t=e.targetId,r=e.Ce.count,i=this.ot(t);if(i){const s=i.target;if(wy(s))if(r===0){const o=new Zn(s.path);this.et(t,o,Ro.newNoDocument(o,xr.min()))}else pi(r===1,20013,{expectedCount:r});else{const o=this._t(t);if(o!==r){const u=this.ut(e),f=u?this.ct(u,e,o):1;if(f!==0){this.it(t);const d=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,d)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=t;let o,u;try{o=zh(r).toUint8Array()}catch(f){if(f instanceof FN)return kf("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{u=new Mw(o,i,s)}catch(f){return kf(f instanceof D1?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return u.ge===0?null:u}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let i=0;return r.forEach((s=>{const o=this.Ge.ht(),u=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(u)||(this.et(t,s,null),i++)})),i}Tt(e){const t=new Map;this.ze.forEach(((s,o)=>{const u=this.ot(o);if(u){if(s.current&&wy(u.target)){const f=new Zn(u.target.path);this.It(f).has(o)||this.Et(o,f)||this.et(o,f,Ro.newNoDocument(f,e))}s.Be&&(t.set(o,s.ke()),s.qe())}}));let r=Gr();this.He.forEach(((s,o)=>{let u=!0;o.forEachWhile((f=>{const d=this.ot(f);return!d||d.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(r=r.add(s))})),this.je.forEach(((s,o)=>o.setReadTime(e)));const i=new q2(e,t,this.Ye,this.je,r);return this.je=qu(),this.Je=Bg(),this.He=Bg(),this.Ye=new bs(qr),i}Xe(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,r),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,t)?i.Qe(t,1):i.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new zE,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Ia(qr),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Ia(qr),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||Rn("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new zE),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Bg(){return new bs(Zn.comparator)}function HE(){return new bs(Zn.comparator)}const Bj={asc:"ASCENDING",desc:"DESCENDING"},Uj={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Vj={and:"AND",or:"OR"};class zj{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Ay(n,e){return n.useProto3Json||j2(e)?e:{value:e}}function zp(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function mC(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Hj(n,e){return zp(n,e.toTimestamp())}function Zc(n){return pi(!!n,49232),xr.fromTimestamp((function(t){const r=Vh(t);return new Yi(r.seconds,r.nanos)})(n))}function Pw(n,e){return Sy(n,e).canonicalString()}function Sy(n,e){const t=(function(i){return new Xi(["projects",i.projectId,"databases",i.database])})(n).child("documents");return e===void 0?t:t.child(e)}function gC(n){const e=Xi.fromString(n);return pi(yC(e),10190,{key:e.toString()}),e}function Ty(n,e){return Pw(n.databaseId,e.path)}function Yv(n,e){const t=gC(e);if(t.get(1)!==n.databaseId.projectId)throw new Sn(Xt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Sn(Xt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Zn(xC(t))}function pC(n,e){return Pw(n.databaseId,e)}function qj(n){const e=gC(n);return e.length===4?Xi.emptyPath():xC(e)}function Ny(n){return new Xi(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function xC(n){return pi(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function qE(n,e,t){return{name:Ty(n,e),fields:t.value.mapValue.fields}}function Gj(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:ur(39313,{state:d})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=(function(d,x){return d.useProto3Json?(pi(x===void 0||typeof x=="string",58123),Za.fromBase64String(x||"")):(pi(x===void 0||x instanceof Buffer||x instanceof Uint8Array,16193),Za.fromUint8Array(x||new Uint8Array))})(n,e.targetChange.resumeToken),o=e.targetChange.cause,u=o&&(function(d){const x=d.code===void 0?Xt.UNKNOWN:hC(d.code);return new Sn(x,d.message||"")})(o);t=new dC(r,i,s,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Yv(n,r.document.name),s=Zc(r.document.updateTime),o=r.document.createTime?Zc(r.document.createTime):xr.min(),u=new fl({mapValue:{fields:r.document.fields}}),f=Ro.newFoundDocument(i,s,o,u),d=r.targetIds||[],x=r.removedTargetIds||[];t=new wp(d,x,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Yv(n,r.document),s=r.readTime?Zc(r.readTime):xr.min(),o=Ro.newNoDocument(i,s),u=r.removedTargetIds||[];t=new wp([],u,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Yv(n,r.document),s=r.removedTargetIds||[];t=new wp([],s,i,null)}else{if(!("filter"in e))return ur(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new Lj(i,s),u=r.targetId;t=new fC(u,o)}}return t}function Wj(n,e){let t;if(e instanceof Em)t={update:qE(n,e.key,e.value)};else if(e instanceof Dw)t={delete:Ty(n,e.key)};else if(e instanceof Qh)t={update:qE(n,e.key,e.data),updateMask:tF(e.fieldMask)};else{if(!(e instanceof Oj))return ur(16599,{Vt:e.type});t={verify:Ty(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(s,o){const u=o.transform;if(u instanceof am)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof w0)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof b0)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Vp)return{fieldPath:o.field.canonicalString(),increment:u.Ae};throw ur(20930,{transform:o.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(i,s){return s.updateTime!==void 0?{updateTime:Hj(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ur(27497)})(n,e.precondition)),t}function Xj(n,e){return n&&n.length>0?(pi(e!==void 0,14353),n.map((t=>(function(i,s){let o=i.updateTime?Zc(i.updateTime):Zc(s);return o.isEqual(xr.min())&&(o=Zc(s)),new Cj(o,i.transformResults||[])})(t,e)))):[]}function Yj(n,e){return{documents:[pC(n,e.path)]}}function Kj(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=pC(n,i);const s=(function(d){if(d.length!==0)return _C(bc.create(d,"and"))})(e.filters);s&&(t.structuredQuery.where=s);const o=(function(d){if(d.length!==0)return d.map((x=>(function(A){return{field:Yd(A.field),direction:Qj(A.dir)}})(x)))})(e.orderBy);o&&(t.structuredQuery.orderBy=o);const u=Ay(n,e.limit);return u!==null&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(e.endAt)),{ft:t,parent:i}}function $j(n){let e=qj(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){pi(r===1,65062);const x=t.from[0];x.allDescendants?i=x.collectionId:e=e.child(x.collectionId)}let s=[];t.where&&(s=(function(w){const A=vC(w);return A instanceof bc&&YN(A)?A.getFilters():[A]})(t.where));let o=[];t.orderBy&&(o=(function(w){return w.map((A=>(function(I){return new sm(Kd(I.field),(function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(I.direction))})(A)))})(t.orderBy));let u=null;t.limit&&(u=(function(w){let A;return A=typeof w=="object"?w.value:w,j2(A)?null:A})(t.limit));let f=null;t.startAt&&(f=(function(w){const A=!!w.before,E=w.values||[];return new Up(E,A)})(t.startAt));let d=null;return t.endAt&&(d=(function(w){const A=!w.before,E=w.values||[];return new Up(E,A)})(t.endAt)),gj(e,i,o,s,u,"F",f,d)}function Zj(n,e){const t=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ur(28987,{purpose:i})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function vC(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Kd(t.unaryFilter.field);return fa.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Kd(t.unaryFilter.field);return fa.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Kd(t.unaryFilter.field);return fa.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Kd(t.unaryFilter.field);return fa.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ur(61313);default:return ur(60726)}})(n):n.fieldFilter!==void 0?(function(t){return fa.create(Kd(t.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ur(58110);default:return ur(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return bc.create(t.compositeFilter.filters.map((r=>vC(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ur(1026)}})(t.compositeFilter.op))})(n):ur(30097,{filter:n})}function Qj(n){return Bj[n]}function Jj(n){return Uj[n]}function eF(n){return Vj[n]}function Yd(n){return{fieldPath:n.canonicalString()}}function Kd(n){return Xa.fromServerFormat(n.fieldPath)}function _C(n){return n instanceof fa?(function(t){if(t.op==="=="){if(OE(t.value))return{unaryFilter:{field:Yd(t.field),op:"IS_NAN"}};if(RE(t.value))return{unaryFilter:{field:Yd(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(OE(t.value))return{unaryFilter:{field:Yd(t.field),op:"IS_NOT_NAN"}};if(RE(t.value))return{unaryFilter:{field:Yd(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Yd(t.field),op:Jj(t.op),value:t.value}}})(n):n instanceof bc?(function(t){const r=t.getFilters().map((i=>_C(i)));return r.length===1?r[0]:{compositeFilter:{op:eF(t.op),filters:r}}})(n):ur(54877,{filter:n})}function tF(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function yC(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}class Rh{constructor(e,t,r,i,s=xr.min(),o=xr.min(),u=Za.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u,this.expectedCount=f}withSequenceNumber(e){return new Rh(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Rh(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Rh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Rh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class nF{constructor(e){this.yt=e}}function rF(n){const e=$j({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Ey(e,e.limit,"L"):e}class iF{constructor(){this.Cn=new sF}addToCollectionParentIndex(e,t){return this.Cn.add(t),Jt.resolve()}getCollectionParents(e,t){return Jt.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return Jt.resolve()}deleteFieldIndex(e,t){return Jt.resolve()}deleteAllFieldIndexes(e){return Jt.resolve()}createTargetIndexes(e,t){return Jt.resolve()}getDocumentsMatchingTarget(e,t){return Jt.resolve(null)}getIndexType(e,t){return Jt.resolve(0)}getFieldIndexes(e,t){return Jt.resolve([])}getNextCollectionGroupToUpdate(e){return Jt.resolve(null)}getMinOffset(e,t){return Jt.resolve(Uh.min())}getMinOffsetFromCollectionGroup(e,t){return Jt.resolve(Uh.min())}updateCollectionGroup(e,t,r){return Jt.resolve()}updateIndexEntries(e,t){return Jt.resolve()}}class sF{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Ia(Xi.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ia(Xi.comparator)).toArray()}}const GE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},wC=41943040;class hl{static withCacheSize(e){return new hl(e,hl.DEFAULT_COLLECTION_PERCENTILE,hl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}hl.DEFAULT_COLLECTION_PERCENTILE=10,hl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hl.DEFAULT=new hl(wC,hl.DEFAULT_COLLECTION_PERCENTILE,hl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hl.DISABLED=new hl(-1,0,0);class E0{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new E0(0)}static cr(){return new E0(-1)}}const WE="LruGarbageCollector",aF=1048576;function XE([n,e],[t,r]){const i=qr(n,t);return i===0?qr(e,r):i}class oF{constructor(e){this.Ir=e,this.buffer=new Ia(XE),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();XE(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class lF{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Rn(WE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){k0(t)?Rn(WE,"Ignoring IndexedDB error during garbage collection: ",t):await O0(t)}await this.Vr(3e5)}))}}class cF{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return Jt.resolve(P2.ce);const r=new oF(t);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.mr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Rn("LruGarbageCollector","Garbage collection skipped; disabled"),Jt.resolve(GE)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Rn("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),GE):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let r,i,s,o,u,f,d;const x=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(Rn("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),i=this.params.maximumSequenceNumbersToCollect):i=w,o=Date.now(),this.nthSequenceNumber(e,i)))).next((w=>(r=w,u=Date.now(),this.removeTargets(e,r,t)))).next((w=>(s=w,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((w=>(d=Date.now(),Wd()<=Hr.DEBUG&&Rn("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-x}ms
	Determined least recently used ${i} in `+(u-o)+`ms
	Removed ${s} targets in `+(f-u)+`ms
	Removed ${w} documents in `+(d-f)+`ms
Total Duration: ${d-x}ms`),Jt.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:w}))))}}function uF(n,e){return new cF(n,e)}class hF{constructor(){this.changes=new Hf((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ro.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?Jt.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class fF{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class dF{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,t)))).next((i=>(r!==null&&V1(r.mutation,i,Ol.empty(),Yi.now()),i)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,Gr()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=Gr()){const i=bf();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,r).next((s=>{let o=k1();return s.forEach(((u,f)=>{o=o.insert(u,f.overlayedDocument)})),o}))))}getOverlayedDocuments(e,t){const r=bf();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,Gr())))}populateOverlays(e,t,r){const i=[];return r.forEach((s=>{t.has(s)||i.push(s)})),this.documentOverlayCache.getOverlays(e,i).next((s=>{s.forEach(((o,u)=>{t.set(o,u)}))}))}computeViews(e,t,r,i){let s=qu();const o=U1(),u=(function(){return U1()})();return t.forEach(((f,d)=>{const x=r.get(d.key);i.has(d.key)&&(x===void 0||x.mutation instanceof Qh)?s=s.insert(d.key,d):x!==void 0?(o.set(d.key,x.mutation.getFieldMask()),V1(x.mutation,d,x.mutation.getFieldMask(),Yi.now())):o.set(d.key,Ol.empty())})),this.recalculateAndSaveOverlays(e,s).next((f=>(f.forEach(((d,x)=>o.set(d,x))),t.forEach(((d,x)=>u.set(d,new fF(x,o.get(d)??null)))),u)))}recalculateAndSaveOverlays(e,t){const r=U1();let i=new bs(((o,u)=>o-u)),s=Gr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((o=>{for(const u of o)u.keys().forEach((f=>{const d=t.get(f);if(d===null)return;let x=r.get(f)||Ol.empty();x=u.applyToLocalView(d,x),r.set(f,x);const w=(i.get(u.batchId)||Gr()).add(f);i=i.insert(u.batchId,w)}))})).next((()=>{const o=[],u=i.getReverseIterator();for(;u.hasNext();){const f=u.getNext(),d=f.key,x=f.value,w=rC();x.forEach((A=>{if(!s.has(A)){const E=cC(t.get(A),r.get(A));E!==null&&w.set(A,E),s=s.add(A)}})),o.push(this.documentOverlayCache.saveOverlays(e,d,w))}return Jt.waitFor(o)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,i){return(function(o){return Zn.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):QN(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next((s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):Jt.resolve(bf());let u=nm,f=s;return o.next((d=>Jt.forEach(d,((x,w)=>(u<w.largestBatchId&&(u=w.largestBatchId),s.get(x)?Jt.resolve():this.remoteDocumentCache.getEntry(e,x).next((A=>{f=f.insert(x,A)}))))).next((()=>this.populateOverlays(e,d,s))).next((()=>this.computeViews(e,f,d,Gr()))).next((x=>({batchId:u,changes:nC(x)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Zn(t)).next((r=>{let i=k1();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const s=t.collectionGroup;let o=k1();return this.indexManager.getCollectionParents(e,s).next((u=>Jt.forEach(u,(f=>{const d=(function(w,A){return new D0(A,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(t,f.child(s));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next((x=>{x.forEach(((w,A)=>{o=o.insert(w,A)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,t,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s,i)))).next((o=>{s.forEach(((f,d)=>{const x=d.getKey();o.get(x)===null&&(o=o.insert(x,Ro.newInvalidDocument(x)))}));let u=k1();return o.forEach(((f,d)=>{const x=s.get(f);x!==void 0&&V1(x.mutation,d,Ol.empty(),Yi.now()),V2(t,d)&&(u=u.insert(f,d))})),u}))}}class mF{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return Jt.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(i){return{id:i.id,version:i.version,createTime:Zc(i.createTime)}})(t)),Jt.resolve()}getNamedQuery(e,t){return Jt.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(i){return{name:i.name,query:rF(i.bundledQuery),readTime:Zc(i.readTime)}})(t)),Jt.resolve()}}class gF{constructor(){this.overlays=new bs(Zn.comparator),this.qr=new Map}getOverlay(e,t){return Jt.resolve(this.overlays.get(t))}getOverlays(e,t){const r=bf();return Jt.forEach(t,(i=>this.getOverlay(e,i).next((s=>{s!==null&&r.set(i,s)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((i,s)=>{this.St(e,t,s)})),Jt.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((s=>this.overlays=this.overlays.remove(s))),this.qr.delete(r)),Jt.resolve()}getOverlaysForCollection(e,t,r){const i=bf(),s=t.length+1,o=new Zn(t.child("")),u=this.overlays.getIteratorFrom(o);for(;u.hasNext();){const f=u.getNext().value,d=f.getKey();if(!t.isPrefixOf(d.path))break;d.path.length===s&&f.largestBatchId>r&&i.set(f.getKey(),f)}return Jt.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new bs(((d,x)=>d-x));const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===t&&d.largestBatchId>r){let x=s.get(d.largestBatchId);x===null&&(x=bf(),s=s.insert(d.largestBatchId,x)),x.set(d.getKey(),d)}}const u=bf(),f=s.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((d,x)=>u.set(d,x))),!(u.size()>=i)););return Jt.resolve(u)}St(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Dj(t,r));let s=this.qr.get(t);s===void 0&&(s=Gr(),this.qr.set(t,s)),this.qr.set(t,s.add(r.key))}}class pF{constructor(){this.sessionToken=Za.EMPTY_BYTE_STRING}getSessionToken(e){return Jt.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Jt.resolve()}}class jw{constructor(){this.Qr=new Ia(qa.$r),this.Ur=new Ia(qa.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const r=new qa(e,t);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Gr(new qa(e,t))}zr(e,t){e.forEach((r=>this.removeReference(r,t)))}jr(e){const t=new Zn(new Xi([])),r=new qa(t,e),i=new qa(t,e+1),s=[];return this.Ur.forEachInRange([r,i],(o=>{this.Gr(o),s.push(o.key)})),s}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Zn(new Xi([])),r=new qa(t,e),i=new qa(t,e+1);let s=Gr();return this.Ur.forEachInRange([r,i],(o=>{s=s.add(o.key)})),s}containsKey(e){const t=new qa(e,0),r=this.Qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class qa{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Zn.comparator(e.key,t.key)||qr(e.Yr,t.Yr)}static Kr(e,t){return qr(e.Yr,t.Yr)||Zn.comparator(e.key,t.key)}}class xF{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Ia(qa.$r)}checkEmpty(e){return Jt.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new kj(s,t,r,i);this.mutationQueue.push(o);for(const u of i)this.Zr=this.Zr.add(new qa(u.key,s)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return Jt.resolve(o)}lookupMutationBatch(e,t){return Jt.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.ei(r),s=i<0?0:i;return Jt.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Jt.resolve(this.mutationQueue.length===0?Tw:this.tr-1)}getAllMutationBatches(e){return Jt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new qa(t,0),i=new qa(t,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,i],(o=>{const u=this.Xr(o.Yr);s.push(u)})),Jt.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Ia(qr);return t.forEach((i=>{const s=new qa(i,0),o=new qa(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,o],(u=>{r=r.add(u.Yr)}))})),Jt.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;Zn.isDocumentKey(s)||(s=s.child(""));const o=new qa(new Zn(s),0);let u=new Ia(qr);return this.Zr.forEachWhile((f=>{const d=f.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(u=u.add(f.Yr)),!0)}),o),Jt.resolve(this.ti(u))}ti(e){const t=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&t.push(i)})),t}removeMutationBatch(e,t){pi(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Jt.forEach(t.mutations,(i=>{const s=new qa(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,t){const r=new qa(t,0),i=this.Zr.firstAfterOrEqual(r);return Jt.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Jt.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class vF{constructor(e){this.ri=e,this.docs=(function(){return new bs(Zn.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.ri(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Jt.resolve(r?r.document.mutableCopy():Ro.newInvalidDocument(t))}getEntries(e,t){let r=qu();return t.forEach((i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Ro.newInvalidDocument(i))})),Jt.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=qu();const o=t.path,u=new Zn(o.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(u);for(;f.hasNext();){const{key:d,value:{document:x}}=f.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||XP(WP(x),r)<=0||(i.has(x.key)||V2(t,x))&&(s=s.insert(x.key,x.mutableCopy()))}return Jt.resolve(s)}getAllFromCollectionGroup(e,t,r,i){ur(9500)}ii(e,t){return Jt.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new _F(this)}getSize(e){return Jt.resolve(this.size)}}class _F extends hF{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?t.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),Jt.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class yF{constructor(e){this.persistence=e,this.si=new Hf((t=>Iw(t)),Rw),this.lastRemoteSnapshotVersion=xr.min(),this.highestTargetId=0,this.oi=0,this._i=new jw,this.targetCount=0,this.ai=E0.ur()}forEachTarget(e,t){return this.si.forEach(((r,i)=>t(i))),Jt.resolve()}getLastRemoteSnapshotVersion(e){return Jt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Jt.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Jt.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.oi&&(this.oi=t),Jt.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new E0(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,Jt.resolve()}updateTargetData(e,t){return this.Pr(t),Jt.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,Jt.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.si.forEach(((o,u)=>{u.sequenceNumber<=t&&r.get(u.targetId)===null&&(this.si.delete(o),s.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),Jt.waitFor(s).next((()=>i))}getTargetCount(e){return Jt.resolve(this.targetCount)}getTargetData(e,t){const r=this.si.get(t)||null;return Jt.resolve(r)}addMatchingKeys(e,t,r){return this._i.Wr(t,r),Jt.resolve()}removeMatchingKeys(e,t,r){this._i.zr(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach((o=>{s.push(i.markPotentiallyOrphaned(e,o))})),Jt.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),Jt.resolve()}getMatchingKeysForTargetId(e,t){const r=this._i.Hr(t);return Jt.resolve(r)}containsKey(e,t){return Jt.resolve(this._i.containsKey(t))}}class bC{constructor(e,t){this.ui={},this.overlays={},this.ci=new P2(0),this.li=!1,this.li=!0,this.hi=new pF,this.referenceDelegate=e(this),this.Pi=new yF(this),this.indexManager=new iF,this.remoteDocumentCache=(function(i){return new vF(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new nF(t),this.Ii=new mF(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new gF,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ui[e.toKey()];return r||(r=new xF(t,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,r){Rn("MemoryPersistence","Starting transaction:",e);const i=new wF(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((s=>this.referenceDelegate.di(i).next((()=>s)))).toPromise().then((s=>(i.raiseOnCommittedEvent(),s)))}Ai(e,t){return Jt.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,t))))}}class wF extends KP{constructor(e){super(),this.currentSequenceNumber=e}}class Fw{constructor(e){this.persistence=e,this.Ri=new jw,this.Vi=null}static mi(e){return new Fw(e)}get fi(){if(this.Vi)return this.Vi;throw ur(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.fi.delete(r.toString()),Jt.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.fi.add(r.toString()),Jt.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),Jt.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((i=>{i.forEach((s=>this.fi.add(s.toString())))})).next((()=>r.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Jt.forEach(this.fi,(r=>{const i=Zn.fromPath(r);return this.gi(e,i).next((s=>{s||t.removeEntry(i,xr.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((r=>{r?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return Jt.or([()=>Jt.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Hp{constructor(e,t){this.persistence=e,this.pi=new Hf((r=>QP(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=uF(this,t)}static mi(e,t){return new Hp(e,t)}Ei(){}di(e){return Jt.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((i=>r+i))))}wr(e){let t=0;return this.pr(e,(r=>{t++})).next((()=>t))}pr(e,t){return Jt.forEach(this.pi,((r,i)=>this.br(e,r,i).next((s=>s?Jt.resolve():t(i)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,(o=>this.br(e,o,t).next((u=>{u||(r++,s.removeEntry(o,xr.min()))})))).next((()=>s.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),Jt.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),Jt.resolve()}removeReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),Jt.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),Jt.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=vp(e.data.value)),t}br(e,t,r){return Jt.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.pi.get(t);return Jt.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Bw{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Es=r,this.ds=i}static As(e,t){let r=Gr(),i=Gr();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Bw(e,t.fromCache,r,i)}}class bF{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class EF{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return xM()?8:$P(Do())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,i){const s={result:null};return this.ys(e,t).next((o=>{s.result=o})).next((()=>{if(!s.result)return this.ws(e,t,i,r).next((o=>{s.result=o}))})).next((()=>{if(s.result)return;const o=new bF;return this.Ss(e,t,o).next((u=>{if(s.result=u,this.Vs)return this.bs(e,t,o,u.size)}))})).next((()=>s.result))}bs(e,t,r,i){return r.documentReadCount<this.fs?(Wd()<=Hr.DEBUG&&Rn("QueryEngine","SDK will not create cache indexes for query:",Xd(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Jt.resolve()):(Wd()<=Hr.DEBUG&&Rn("QueryEngine","Query:",Xd(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Wd()<=Hr.DEBUG&&Rn("QueryEngine","The SDK decides to create cache indexes for query:",Xd(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,$c(t))):Jt.resolve())}ys(e,t){if(ME(t))return Jt.resolve(null);let r=$c(t);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(t.limit!==null&&i===1&&(t=Ey(t,null,"F"),r=$c(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((s=>{const o=Gr(...s);return this.ps.getDocuments(e,o).next((u=>this.indexManager.getMinOffset(e,r).next((f=>{const d=this.Ds(t,u);return this.Cs(t,d,o,f.readTime)?this.ys(e,Ey(t,null,"F")):this.vs(e,d,t,f)}))))})))))}ws(e,t,r,i){return ME(t)||i.isEqual(xr.min())?Jt.resolve(null):this.ps.getDocuments(e,r).next((s=>{const o=this.Ds(t,s);return this.Cs(t,o,r,i)?Jt.resolve(null):(Wd()<=Hr.DEBUG&&Rn("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Xd(t)),this.vs(e,o,t,GP(i,nm)).next((u=>u)))}))}Ds(e,t){let r=new Ia(eC(e));return t.forEach(((i,s)=>{V2(e,s)&&(r=r.add(s))})),r}Cs(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,t,r){return Wd()<=Hr.DEBUG&&Rn("QueryEngine","Using full collection scan to execute query:",Xd(t)),this.ps.getDocumentsMatchingQuery(e,t,Uh.min(),r)}vs(e,t,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((s=>(t.forEach((o=>{s=s.insert(o.key,o)})),s)))}}const Uw="LocalStore",AF=3e8;class SF{constructor(e,t,r,i){this.persistence=e,this.Fs=t,this.serializer=i,this.Ms=new bs(qr),this.xs=new Hf((s=>Iw(s)),Rw),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new dF(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function TF(n,e,t,r){return new SF(n,e,t,r)}async function EC(n,e){const t=Er(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next((s=>(i=s,t.Bs(e),t.mutationQueue.getAllMutationBatches(r)))).next((s=>{const o=[],u=[];let f=Gr();for(const d of i){o.push(d.batchId);for(const x of d.mutations)f=f.add(x.key)}for(const d of s){u.push(d.batchId);for(const x of d.mutations)f=f.add(x.key)}return t.localDocuments.getDocuments(r,f).next((d=>({Ls:d,removedBatchIds:o,addedBatchIds:u})))}))}))}function NF(n,e){const t=Er(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),s=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(u,f,d,x){const w=d.batch,A=w.keys();let E=Jt.resolve();return A.forEach((I=>{E=E.next((()=>x.getEntry(f,I))).next((C=>{const L=d.docVersions.get(I);pi(L!==null,48541),C.version.compareTo(L)<0&&(w.applyToRemoteDocument(C,d),C.isValidDocument()&&(C.setReadTime(d.commitVersion),x.addEntry(C)))}))})),E.next((()=>u.mutationQueue.removeMutationBatch(f,w)))})(t,r,e,s).next((()=>s.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(u){let f=Gr();for(let d=0;d<u.mutationResults.length;++d)u.mutationResults[d].transformResults.length>0&&(f=f.add(u.batch.mutations[d].key));return f})(e)))).next((()=>t.localDocuments.getDocuments(r,i)))}))}function AC(n){const e=Er(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function CF(n,e){const t=Er(n),r=e.snapshotVersion;let i=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(s=>{const o=t.Ns.newChangeBuffer({trackRemovals:!0});i=t.Ms;const u=[];e.targetChanges.forEach(((x,w)=>{const A=i.get(w);if(!A)return;u.push(t.Pi.removeMatchingKeys(s,x.removedDocuments,w).next((()=>t.Pi.addMatchingKeys(s,x.addedDocuments,w))));let E=A.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(w)!==null?E=E.withResumeToken(Za.EMPTY_BYTE_STRING,xr.min()).withLastLimboFreeSnapshotVersion(xr.min()):x.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(x.resumeToken,r)),i=i.insert(w,E),(function(C,L,j){return C.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=AF?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0})(A,E,x)&&u.push(t.Pi.updateTargetData(s,E))}));let f=qu(),d=Gr();if(e.documentUpdates.forEach((x=>{e.resolvedLimboDocuments.has(x)&&u.push(t.persistence.referenceDelegate.updateLimboDocument(s,x))})),u.push(IF(s,o,e.documentUpdates).next((x=>{f=x.ks,d=x.qs}))),!r.isEqual(xr.min())){const x=t.Pi.getLastRemoteSnapshotVersion(s).next((w=>t.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r)));u.push(x)}return Jt.waitFor(u).next((()=>o.apply(s))).next((()=>t.localDocuments.getLocalViewOfDocuments(s,f,d))).next((()=>f))})).then((s=>(t.Ms=i,s)))}function IF(n,e,t){let r=Gr(),i=Gr();return t.forEach((s=>r=r.add(s))),e.getEntries(n,r).next((s=>{let o=qu();return t.forEach(((u,f)=>{const d=s.get(u);f.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(u)),f.isNoDocument()&&f.version.isEqual(xr.min())?(e.removeEntry(u,f.readTime),o=o.insert(u,f)):!d.isValidDocument()||f.version.compareTo(d.version)>0||f.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(f),o=o.insert(u,f)):Rn(Uw,"Ignoring outdated watch update for ",u,". Current version:",d.version," Watch version:",f.version)})),{ks:o,qs:i}}))}function RF(n,e){const t=Er(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Tw),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function OF(n,e){const t=Er(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return t.Pi.getTargetData(r,e).next((s=>s?(i=s,Jt.resolve(i)):t.Pi.allocateTargetId(r).next((o=>(i=new Rh(e,o,"TargetPurposeListen",r.currentSequenceNumber),t.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=t.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.xs.set(e,r.targetId)),r}))}async function Cy(n,e,t){const r=Er(n),i=r.Ms.get(e),s=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",s,(o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!k0(o))throw o;Rn(Uw,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function YE(n,e,t){const r=Er(n);let i=xr.min(),s=Gr();return r.persistence.runTransaction("Execute query","readwrite",(o=>(function(f,d,x){const w=Er(f),A=w.xs.get(x);return A!==void 0?Jt.resolve(w.Ms.get(A)):w.Pi.getTargetData(d,x)})(r,o,$c(e)).next((u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,u.targetId).next((f=>{s=f}))})).next((()=>r.Fs.getDocumentsMatchingQuery(o,e,t?i:xr.min(),t?s:Gr()))).next((u=>(kF(r,xj(e),u),{documents:u,Qs:s})))))}function kF(n,e,t){let r=n.Os.get(e)||xr.min();t.forEach(((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)})),n.Os.set(e,r)}class KE{constructor(){this.activeTargetIds=Ej()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class DF{constructor(){this.Mo=new KE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,r){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new KE,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class LF{Oo(e){}shutdown(){}}const $E="ConnectivityMonitor";class ZE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Rn($E,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Rn($E,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Ug=null;function Iy(){return Ug===null?Ug=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ug++,"0x"+Ug.toString(16)}const Kv="RestConnection",MF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class PF{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===Fp?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,t,r,i,s){const o=Iy(),u=this.zo(e,t.toUriEncodedString());Rn(Kv,`Sending RPC '${e}' ${o}:`,u,r);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,i,s);const{host:d}=new URL(u),x=$h(d);return this.Jo(e,u,f,r,x).then((w=>(Rn(Kv,`Received RPC '${e}' ${o}: `,w),w)),(w=>{throw kf(Kv,`RPC '${e}' ${o} failed with error: `,w,"url: ",u,"request:",r),w}))}Ho(e,t,r,i,s,o){return this.Go(e,t,r,i,s)}jo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+R0})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((i,s)=>e[s]=i)),r&&r.headers.forEach(((i,s)=>e[s]=i))}zo(e,t){const r=MF[e];return`${this.Uo}/v1/${t}:${r}`}terminate(){}}class jF{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Ao="WebChannelConnection";class FF extends PF{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,i,s){const o=Iy();return new Promise(((u,f)=>{const d=new SN;d.setWithCredentials(!0),d.listenOnce(TN.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case xp.NO_ERROR:const w=d.getResponseJson();Rn(Ao,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(w)),u(w);break;case xp.TIMEOUT:Rn(Ao,`RPC '${e}' ${o} timed out`),f(new Sn(Xt.DEADLINE_EXCEEDED,"Request time out"));break;case xp.HTTP_ERROR:const A=d.getStatus();if(Rn(Ao,`RPC '${e}' ${o} failed with status:`,A,"response text:",d.getResponseText()),A>0){let E=d.getResponseJson();Array.isArray(E)&&(E=E[0]);const I=E?.error;if(I&&I.status&&I.message){const C=(function(j){const W=j.toLowerCase().replace(/_/g,"-");return Object.values(Xt).indexOf(W)>=0?W:Xt.UNKNOWN})(I.status);f(new Sn(C,I.message))}else f(new Sn(Xt.UNKNOWN,"Server responded with status "+d.getStatus()))}else f(new Sn(Xt.UNAVAILABLE,"Connection failed."));break;default:ur(9055,{l_:e,streamId:o,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{Rn(Ao,`RPC '${e}' ${o} completed.`)}}));const x=JSON.stringify(i);Rn(Ao,`RPC '${e}' ${o} sending request:`,i),d.send(t,"POST",x,r,15)}))}T_(e,t,r){const i=Iy(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=IN(),u=CN(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(f.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const x=s.join("");Rn(Ao,`Creating RPC '${e}' stream ${i}: ${x}`,f);const w=o.createWebChannel(x,f);this.I_(w);let A=!1,E=!1;const I=new jF({Yo:L=>{E?Rn(Ao,`Not sending because RPC '${e}' stream ${i} is closed:`,L):(A||(Rn(Ao,`Opening RPC '${e}' stream ${i} transport.`),w.open(),A=!0),Rn(Ao,`RPC '${e}' stream ${i} sending:`,L),w.send(L))},Zo:()=>w.close()}),C=(L,j,W)=>{L.listen(j,(M=>{try{W(M)}catch(G){setTimeout((()=>{throw G}),0)}}))};return C(w,O1.EventType.OPEN,(()=>{E||(Rn(Ao,`RPC '${e}' stream ${i} transport opened.`),I.o_())})),C(w,O1.EventType.CLOSE,(()=>{E||(E=!0,Rn(Ao,`RPC '${e}' stream ${i} transport closed`),I.a_(),this.E_(w))})),C(w,O1.EventType.ERROR,(L=>{E||(E=!0,kf(Ao,`RPC '${e}' stream ${i} transport errored. Name:`,L.name,"Message:",L.message),I.a_(new Sn(Xt.UNAVAILABLE,"The operation could not be completed")))})),C(w,O1.EventType.MESSAGE,(L=>{if(!E){const j=L.data[0];pi(!!j,16349);const W=j,M=W?.error||W[0]?.error;if(M){Rn(Ao,`RPC '${e}' stream ${i} received error:`,M);const G=M.status;let ce=(function(B){const D=ua[B];if(D!==void 0)return hC(D)})(G),re=M.message;ce===void 0&&(ce=Xt.INTERNAL,re="Unknown error status: "+G+" with message "+M.message),E=!0,I.a_(new Sn(ce,re)),w.close()}else Rn(Ao,`RPC '${e}' stream ${i} received:`,j),I.u_(j)}})),C(u,NN.STAT_EVENT,(L=>{L.stat===py.PROXY?Rn(Ao,`RPC '${e}' stream ${i} detected buffering proxy`):L.stat===py.NOPROXY&&Rn(Ao,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{I.__()}),0),I}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function $v(){return typeof document<"u"?document:null}function G2(n){return new zj(n,!0)}class SC{constructor(e,t,r=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=t,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,t-r);i>0&&Rn("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const QE="PersistentStream";class TC{constructor(e,t,r,i,s,o,u,f){this.Mi=e,this.S_=r,this.b_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new SC(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===Xt.RESOURCE_EXHAUSTED?(Hu(t.toString()),Hu("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===Xt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===t&&this.G_(r,i)}),(r=>{e((()=>{const i=new Sn(Xt.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,t){const r=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Rn(QE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(Rn(QE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class BF extends TC{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=Gj(this.serializer,e),r=(function(s){if(!("targetChange"in s))return xr.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?xr.min():o.readTime?Zc(o.readTime):xr.min()})(e);return this.listener.H_(t,r)}Y_(e){const t={};t.database=Ny(this.serializer),t.addTarget=(function(s,o){let u;const f=o.target;if(u=wy(f)?{documents:Yj(s,f)}:{query:Kj(s,f).ft},u.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){u.resumeToken=mC(s,o.resumeToken);const d=Ay(s,o.expectedCount);d!==null&&(u.expectedCount=d)}else if(o.snapshotVersion.compareTo(xr.min())>0){u.readTime=zp(s,o.snapshotVersion.toTimestamp());const d=Ay(s,o.expectedCount);d!==null&&(u.expectedCount=d)}return u})(this.serializer,e);const r=Zj(this.serializer,e);r&&(t.labels=r),this.q_(t)}Z_(e){const t={};t.database=Ny(this.serializer),t.removeTarget=e,this.q_(t)}}class UF extends TC{constructor(e,t,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return pi(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,pi(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){pi(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=Xj(e.writeResults,e.commitTime),r=Zc(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=Ny(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>Wj(this.serializer,r)))};this.q_(t)}}class VF{}class zF extends VF{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Sn(Xt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,o])=>this.connection.Go(e,Sy(t,r),i,s,o))).catch((s=>{throw s.name==="FirebaseError"?(s.code===Xt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Sn(Xt.UNKNOWN,s.toString())}))}Ho(e,t,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,u])=>this.connection.Ho(e,Sy(t,r),i,o,u,s))).catch((o=>{throw o.name==="FirebaseError"?(o.code===Xt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Sn(Xt.UNKNOWN,o.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class HF{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Hu(t),this.aa=!1):Rn("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Df="RemoteStore";class qF{constructor(e,t,r,i,s){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo((o=>{r.enqueueAndForget((async()=>{qf(this)&&(Rn(Df,"Restarting streams for network reachability change."),await(async function(f){const d=Er(f);d.Ea.add(4),await Sm(d),d.Ra.set("Unknown"),d.Ea.delete(4),await W2(d)})(this))}))})),this.Ra=new HF(r,i)}}async function W2(n){if(qf(n))for(const e of n.da)await e(!0)}async function Sm(n){for(const e of n.da)await e(!1)}function NC(n,e){const t=Er(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),qw(t)?Hw(t):L0(t).O_()&&zw(t,e))}function Vw(n,e){const t=Er(n),r=L0(t);t.Ia.delete(e),r.O_()&&CC(t,e),t.Ia.size===0&&(r.O_()?r.L_():qf(t)&&t.Ra.set("Unknown"))}function zw(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(xr.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}L0(n).Y_(e)}function CC(n,e){n.Va.Ue(e),L0(n).Z_(e)}function Hw(n){n.Va=new Fj({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),L0(n).start(),n.Ra.ua()}function qw(n){return qf(n)&&!L0(n).x_()&&n.Ia.size>0}function qf(n){return Er(n).Ea.size===0}function IC(n){n.Va=void 0}async function GF(n){n.Ra.set("Online")}async function WF(n){n.Ia.forEach(((e,t)=>{zw(n,e)}))}async function XF(n,e){IC(n),qw(n)?(n.Ra.ha(e),Hw(n)):n.Ra.set("Unknown")}async function YF(n,e,t){if(n.Ra.set("Online"),e instanceof dC&&e.state===2&&e.cause)try{await(async function(i,s){const o=s.cause;for(const u of s.targetIds)i.Ia.has(u)&&(await i.remoteSyncer.rejectListen(u,o),i.Ia.delete(u),i.Va.removeTarget(u))})(n,e)}catch(r){Rn(Df,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await qp(n,r)}else if(e instanceof wp?n.Va.Ze(e):e instanceof fC?n.Va.st(e):n.Va.tt(e),!t.isEqual(xr.min()))try{const r=await AC(n.localStore);t.compareTo(r)>=0&&await(function(s,o){const u=s.Va.Tt(o);return u.targetChanges.forEach(((f,d)=>{if(f.resumeToken.approximateByteSize()>0){const x=s.Ia.get(d);x&&s.Ia.set(d,x.withResumeToken(f.resumeToken,o))}})),u.targetMismatches.forEach(((f,d)=>{const x=s.Ia.get(f);if(!x)return;s.Ia.set(f,x.withResumeToken(Za.EMPTY_BYTE_STRING,x.snapshotVersion)),CC(s,f);const w=new Rh(x.target,f,d,x.sequenceNumber);zw(s,w)})),s.remoteSyncer.applyRemoteEvent(u)})(n,t)}catch(r){Rn(Df,"Failed to raise snapshot:",r),await qp(n,r)}}async function qp(n,e,t){if(!k0(e))throw e;n.Ea.add(1),await Sm(n),n.Ra.set("Offline"),t||(t=()=>AC(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{Rn(Df,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await W2(n)}))}function RC(n,e){return e().catch((t=>qp(n,t,e)))}async function X2(n){const e=Er(n),t=qh(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Tw;for(;KF(e);)try{const i=await RF(e.localStore,r);if(i===null){e.Ta.length===0&&t.L_();break}r=i.batchId,$F(e,i)}catch(i){await qp(e,i)}OC(e)&&kC(e)}function KF(n){return qf(n)&&n.Ta.length<10}function $F(n,e){n.Ta.push(e);const t=qh(n);t.O_()&&t.X_&&t.ea(e.mutations)}function OC(n){return qf(n)&&!qh(n).x_()&&n.Ta.length>0}function kC(n){qh(n).start()}async function ZF(n){qh(n).ra()}async function QF(n){const e=qh(n);for(const t of n.Ta)e.ea(t.mutations)}async function JF(n,e,t){const r=n.Ta.shift(),i=Lw.from(r,e,t);await RC(n,(()=>n.remoteSyncer.applySuccessfulWrite(i))),await X2(n)}async function eB(n,e){e&&qh(n).X_&&await(async function(r,i){if((function(o){return Mj(o)&&o!==Xt.ABORTED})(i.code)){const s=r.Ta.shift();qh(r).B_(),await RC(r,(()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i))),await X2(r)}})(n,e),OC(n)&&kC(n)}async function JE(n,e){const t=Er(n);t.asyncQueue.verifyOperationInProgress(),Rn(Df,"RemoteStore received new credentials");const r=qf(t);t.Ea.add(3),await Sm(t),r&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await W2(t)}async function tB(n,e){const t=Er(n);e?(t.Ea.delete(2),await W2(t)):e||(t.Ea.add(2),await Sm(t),t.Ra.set("Unknown"))}function L0(n){return n.ma||(n.ma=(function(t,r,i){const s=Er(t);return s.sa(),new BF(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(n.datastore,n.asyncQueue,{Xo:GF.bind(null,n),t_:WF.bind(null,n),r_:XF.bind(null,n),H_:YF.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),qw(n)?Hw(n):n.Ra.set("Unknown")):(await n.ma.stop(),IC(n))}))),n.ma}function qh(n){return n.fa||(n.fa=(function(t,r,i){const s=Er(t);return s.sa(),new UF(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:ZF.bind(null,n),r_:eB.bind(null,n),ta:QF.bind(null,n),na:JF.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await X2(n)):(await n.fa.stop(),n.Ta.length>0&&(Rn(Df,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class Gw{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Mu,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((o=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){const o=Date.now()+r,u=new Gw(e,t,o,i,s);return u.start(r),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Sn(Xt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ww(n,e){if(Hu("AsyncQueue",`${e}: ${n}`),k0(n))return new Sn(Xt.UNAVAILABLE,`${e}: ${n}`);throw n}class r0{static emptySet(e){return new r0(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Zn.comparator(t.key,r.key):(t,r)=>Zn.comparator(t.key,r.key),this.keyedMap=k1(),this.sortedSet=new bs(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof r0)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new r0;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class eA{constructor(){this.ga=new bs(Zn.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):ur(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class A0{constructor(e,t,r,i,s,o,u,f,d){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=f,this.hasCachedResults=d}static fromInitialDocuments(e,t,r,i,s){const o=[];return t.forEach((u=>{o.push({type:0,doc:u})})),new A0(e,t,r0.emptySet(t),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&U2(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class nB{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class rB{constructor(){this.queries=tA(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const i=Er(t),s=i.queries;i.queries=tA(),s.forEach(((o,u)=>{for(const f of u.Sa)f.onError(r)}))})(this,new Sn(Xt.ABORTED,"Firestore shutting down"))}}function tA(){return new Hf((n=>JN(n)),U2)}async function Xw(n,e){const t=Er(n);let r=3;const i=e.query;let s=t.queries.get(i);s?!s.ba()&&e.Da()&&(r=2):(s=new nB,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await t.onListen(i,!0);break;case 1:s.wa=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(o){const u=Ww(o,`Initialization of query '${Xd(e.query)}' failed`);return void e.onError(u)}t.queries.set(i,s),s.Sa.push(e),e.va(t.onlineState),s.wa&&e.Fa(s.wa)&&Kw(t)}async function Yw(n,e){const t=Er(n),r=e.query;let i=3;const s=t.queries.get(r);if(s){const o=s.Sa.indexOf(e);o>=0&&(s.Sa.splice(o,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function iB(n,e){const t=Er(n);let r=!1;for(const i of e){const s=i.query,o=t.queries.get(s);if(o){for(const u of o.Sa)u.Fa(i)&&(r=!0);o.wa=i}}r&&Kw(t)}function sB(n,e,t){const r=Er(n),i=r.queries.get(e);if(i)for(const s of i.Sa)s.onError(t);r.queries.delete(e)}function Kw(n){n.Ca.forEach((e=>{e.next()}))}var Ry,nA;(nA=Ry||(Ry={})).Ma="default",nA.Cache="cache";class $w{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new A0(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=A0.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Ry.Cache}}class DC{constructor(e){this.key=e}}class LC{constructor(e){this.key=e}}class aB{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Gr(),this.mutatedKeys=Gr(),this.eu=eC(e),this.tu=new r0(this.eu)}get nu(){return this.Ya}ru(e,t){const r=t?t.iu:new eA,i=t?t.tu:this.tu;let s=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1;const f=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((x,w)=>{const A=i.get(x),E=V2(this.query,w)?w:null,I=!!A&&this.mutatedKeys.has(A.key),C=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let L=!1;A&&E?A.data.isEqual(E.data)?I!==C&&(r.track({type:3,doc:E}),L=!0):this.su(A,E)||(r.track({type:2,doc:E}),L=!0,(f&&this.eu(E,f)>0||d&&this.eu(E,d)<0)&&(u=!0)):!A&&E?(r.track({type:0,doc:E}),L=!0):A&&!E&&(r.track({type:1,doc:A}),L=!0,(f||d)&&(u=!0)),L&&(E?(o=o.add(E),s=C?s.add(x):s.delete(x)):(o=o.delete(x),s=s.delete(x)))})),this.query.limit!==null)for(;o.size>this.query.limit;){const x=this.query.limitType==="F"?o.last():o.first();o=o.delete(x.key),s=s.delete(x.key),r.track({type:1,doc:x})}return{tu:o,iu:r,Cs:u,mutatedKeys:s}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort(((x,w)=>(function(E,I){const C=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ur(20277,{Rt:L})}};return C(E)-C(I)})(x.type,w.type)||this.eu(x.doc,w.doc))),this.ou(r),i=i??!1;const u=t&&!i?this._u():[],f=this.Xa.size===0&&this.current&&!i?1:0,d=f!==this.Za;return this.Za=f,o.length!==0||d?{snapshot:new A0(this.query,e.tu,s,o,e.mutatedKeys,f===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new eA,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Gr(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const t=[];return e.forEach((r=>{this.Xa.has(r)||t.push(new LC(r))})),this.Xa.forEach((r=>{e.has(r)||t.push(new DC(r))})),t}cu(e){this.Ya=e.Qs,this.Xa=Gr();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return A0.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Zw="SyncEngine";class oB{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class lB{constructor(e){this.key=e,this.hu=!1}}class cB{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Hf((u=>JN(u)),U2),this.Iu=new Map,this.Eu=new Set,this.du=new bs(Zn.comparator),this.Au=new Map,this.Ru=new jw,this.Vu={},this.mu=new Map,this.fu=E0.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function uB(n,e,t=!0){const r=UC(n);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await MC(r,e,t,!0),i}async function hB(n,e){const t=UC(n);await MC(t,e,!0,!1)}async function MC(n,e,t,r){const i=await OF(n.localStore,$c(e)),s=i.targetId,o=n.sharedClientState.addLocalQueryTarget(s,t);let u;return r&&(u=await fB(n,e,s,o==="current",i.resumeToken)),n.isPrimaryClient&&t&&NC(n.remoteStore,i),u}async function fB(n,e,t,r,i){n.pu=(w,A,E)=>(async function(C,L,j,W){let M=L.view.ru(j);M.Cs&&(M=await YE(C.localStore,L.query,!1).then((({documents:F})=>L.view.ru(F,M))));const G=W&&W.targetChanges.get(L.targetId),ce=W&&W.targetMismatches.get(L.targetId)!=null,re=L.view.applyChanges(M,C.isPrimaryClient,G,ce);return iA(C,L.targetId,re.au),re.snapshot})(n,w,A,E);const s=await YE(n.localStore,e,!0),o=new aB(e,s.Qs),u=o.ru(s.documents),f=Am.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),d=o.applyChanges(u,n.isPrimaryClient,f);iA(n,t,d.au);const x=new oB(e,t,o);return n.Tu.set(e,x),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),d.snapshot}async function dB(n,e,t){const r=Er(n),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter((o=>!U2(o,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Cy(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),t&&Vw(r.remoteStore,i.targetId),Oy(r,i.targetId)})).catch(O0)):(Oy(r,i.targetId),await Cy(r.localStore,i.targetId,!0))}async function mB(n,e){const t=Er(n),r=t.Tu.get(e),i=t.Iu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Vw(t.remoteStore,r.targetId))}async function gB(n,e,t){const r=bB(n);try{const i=await(function(o,u){const f=Er(o),d=Yi.now(),x=u.reduce(((E,I)=>E.add(I.key)),Gr());let w,A;return f.persistence.runTransaction("Locally write mutations","readwrite",(E=>{let I=qu(),C=Gr();return f.Ns.getEntries(E,x).next((L=>{I=L,I.forEach(((j,W)=>{W.isValidDocument()||(C=C.add(j))}))})).next((()=>f.localDocuments.getOverlayedDocuments(E,I))).next((L=>{w=L;const j=[];for(const W of u){const M=Rj(W,w.get(W.key).overlayedDocument);M!=null&&j.push(new Qh(W.key,M,GN(M.value.mapValue),$l.exists(!0)))}return f.mutationQueue.addMutationBatch(E,d,j,u)})).next((L=>{A=L;const j=L.applyToLocalDocumentSet(w,C);return f.documentOverlayCache.saveOverlays(E,L.batchId,j)}))})).then((()=>({batchId:A.batchId,changes:nC(w)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(o,u,f){let d=o.Vu[o.currentUser.toKey()];d||(d=new bs(qr)),d=d.insert(u,f),o.Vu[o.currentUser.toKey()]=d})(r,i.batchId,t),await Tm(r,i.changes),await X2(r.remoteStore)}catch(i){const s=Ww(i,"Failed to persist write");t.reject(s)}}async function PC(n,e){const t=Er(n);try{const r=await CF(t.localStore,e);e.targetChanges.forEach(((i,s)=>{const o=t.Au.get(s);o&&(pi(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?pi(o.hu,14607):i.removedDocuments.size>0&&(pi(o.hu,42227),o.hu=!1))})),await Tm(t,r,e)}catch(r){await O0(r)}}function rA(n,e,t){const r=Er(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.Tu.forEach(((s,o)=>{const u=o.view.va(e);u.snapshot&&i.push(u.snapshot)})),(function(o,u){const f=Er(o);f.onlineState=u;let d=!1;f.queries.forEach(((x,w)=>{for(const A of w.Sa)A.va(u)&&(d=!0)})),d&&Kw(f)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function pB(n,e,t){const r=Er(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Au.get(e),s=i&&i.key;if(s){let o=new bs(Zn.comparator);o=o.insert(s,Ro.newNoDocument(s,xr.min()));const u=Gr().add(s),f=new q2(xr.min(),new Map,new bs(qr),o,u);await PC(r,f),r.du=r.du.remove(s),r.Au.delete(e),Qw(r)}else await Cy(r.localStore,e,!1).then((()=>Oy(r,e,t))).catch(O0)}async function xB(n,e){const t=Er(n),r=e.batch.batchId;try{const i=await NF(t.localStore,e);FC(t,r,null),jC(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Tm(t,i)}catch(i){await O0(i)}}async function vB(n,e,t){const r=Er(n);try{const i=await(function(o,u){const f=Er(o);return f.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let x;return f.mutationQueue.lookupMutationBatch(d,u).next((w=>(pi(w!==null,37113),x=w.keys(),f.mutationQueue.removeMutationBatch(d,w)))).next((()=>f.mutationQueue.performConsistencyCheck(d))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(d,x,u))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,x))).next((()=>f.localDocuments.getDocuments(d,x)))}))})(r.localStore,e);FC(r,e,t),jC(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Tm(r,i)}catch(i){await O0(i)}}function jC(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function FC(n,e,t){const r=Er(n);let i=r.Vu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function Oy(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((r=>{n.Ru.containsKey(r)||BC(n,r)}))}function BC(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(Vw(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),Qw(n))}function iA(n,e,t){for(const r of t)r instanceof DC?(n.Ru.addReference(r.key,e),_B(n,r)):r instanceof LC?(Rn(Zw,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,e),n.Ru.containsKey(r.key)||BC(n,r.key)):ur(19791,{wu:r})}function _B(n,e){const t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Eu.has(r)||(Rn(Zw,"New document in limbo: "+t),n.Eu.add(r),Qw(n))}function Qw(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new Zn(Xi.fromString(e)),r=n.fu.next();n.Au.set(r,new lB(t)),n.du=n.du.insert(t,r),NC(n.remoteStore,new Rh($c(B2(t.path)),r,"TargetPurposeLimboResolution",P2.ce))}}async function Tm(n,e,t){const r=Er(n),i=[],s=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach(((u,f)=>{o.push(r.pu(f,e,t).then((d=>{if((d||t)&&r.isPrimaryClient){const x=d?!d.fromCache:t?.targetChanges.get(f.targetId)?.current;r.sharedClientState.updateQueryState(f.targetId,x?"current":"not-current")}if(d){i.push(d);const x=Bw.As(f.targetId,d);s.push(x)}})))})),await Promise.all(o),r.Pu.H_(i),await(async function(f,d){const x=Er(f);try{await x.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>Jt.forEach(d,(A=>Jt.forEach(A.Es,(E=>x.persistence.referenceDelegate.addReference(w,A.targetId,E))).next((()=>Jt.forEach(A.ds,(E=>x.persistence.referenceDelegate.removeReference(w,A.targetId,E)))))))))}catch(w){if(!k0(w))throw w;Rn(Uw,"Failed to update sequence numbers: "+w)}for(const w of d){const A=w.targetId;if(!w.fromCache){const E=x.Ms.get(A),I=E.snapshotVersion,C=E.withLastLimboFreeSnapshotVersion(I);x.Ms=x.Ms.insert(A,C)}}})(r.localStore,s))}async function yB(n,e){const t=Er(n);if(!t.currentUser.isEqual(e)){Rn(Zw,"User change. New user:",e.toKey());const r=await EC(t.localStore,e);t.currentUser=e,(function(s,o){s.mu.forEach((u=>{u.forEach((f=>{f.reject(new Sn(Xt.CANCELLED,o))}))})),s.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Tm(t,r.Ls)}}function wB(n,e){const t=Er(n),r=t.Au.get(e);if(r&&r.hu)return Gr().add(r.key);{let i=Gr();const s=t.Iu.get(e);if(!s)return i;for(const o of s){const u=t.Tu.get(o);i=i.unionWith(u.view.nu)}return i}}function UC(n){const e=Er(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=PC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=wB.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=pB.bind(null,e),e.Pu.H_=iB.bind(null,e.eventManager),e.Pu.yu=sB.bind(null,e.eventManager),e}function bB(n){const e=Er(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=xB.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=vB.bind(null,e),e}class Gp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=G2(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return TF(this.persistence,new EF,e.initialUser,this.serializer)}Cu(e){return new bC(Fw.mi,this.serializer)}Du(e){return new DF}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Gp.provider={build:()=>new Gp};class EB extends Gp{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){pi(this.persistence.referenceDelegate instanceof Hp,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new lF(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?hl.withCacheSize(this.cacheSizeBytes):hl.DEFAULT;return new bC((r=>Hp.mi(r,t)),this.serializer)}}class ky{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>rA(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=yB.bind(null,this.syncEngine),await tB(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new rB})()}createDatastore(e){const t=G2(e.databaseInfo.databaseId),r=(function(s){return new FF(s)})(e.databaseInfo);return(function(s,o,u,f){return new zF(s,o,u,f)})(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,i,s,o,u){return new qF(r,i,s,o,u)})(this.localStore,this.datastore,e.asyncQueue,(t=>rA(this.syncEngine,t,0)),(function(){return ZE.v()?new ZE:new LF})())}createSyncEngine(e,t){return(function(i,s,o,u,f,d,x){const w=new cB(i,s,o,u,f,d);return x&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const r=Er(t);Rn(Df,"RemoteStore shutting down."),r.Ea.add(5),await Sm(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}ky.provider={build:()=>new ky};class Jw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Hu("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const Gh="FirestoreClient";class AB{constructor(e,t,r,i,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Io.UNAUTHENTICATED,this.clientId=L2.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,(async o=>{Rn(Gh,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,(o=>(Rn(Gh,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Mu;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Ww(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Zv(n,e){n.asyncQueue.verifyOperationInProgress(),Rn(Gh,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async i=>{r.isEqual(i)||(await EC(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function sA(n,e){n.asyncQueue.verifyOperationInProgress();const t=await SB(n);Rn(Gh,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>JE(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,i)=>JE(e.remoteStore,i))),n._onlineComponents=e}async function SB(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Rn(Gh,"Using user provided OfflineComponentProvider");try{await Zv(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(i){return i.name==="FirebaseError"?i.code===Xt.FAILED_PRECONDITION||i.code===Xt.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(t))throw t;kf("Error using user provided cache. Falling back to memory cache: "+t),await Zv(n,new Gp)}}else Rn(Gh,"Using default OfflineComponentProvider"),await Zv(n,new EB(void 0));return n._offlineComponents}async function VC(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Rn(Gh,"Using user provided OnlineComponentProvider"),await sA(n,n._uninitializedComponentsProvider._online)):(Rn(Gh,"Using default OnlineComponentProvider"),await sA(n,new ky))),n._onlineComponents}function TB(n){return VC(n).then((e=>e.syncEngine))}async function Wp(n){const e=await VC(n),t=e.eventManager;return t.onListen=uB.bind(null,e.syncEngine),t.onUnlisten=dB.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=hB.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=mB.bind(null,e.syncEngine),t}function NB(n,e,t={}){const r=new Mu;return n.asyncQueue.enqueueAndForget((async()=>(function(s,o,u,f,d){const x=new Jw({next:A=>{x.Nu(),o.enqueueAndForget((()=>Yw(s,w)));const E=A.docs.has(u);!E&&A.fromCache?d.reject(new Sn(Xt.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&A.fromCache&&f&&f.source==="server"?d.reject(new Sn(Xt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(A)},error:A=>d.reject(A)}),w=new $w(B2(u.path),x,{includeMetadataChanges:!0,qa:!0});return Xw(s,w)})(await Wp(n),n.asyncQueue,e,t,r))),r.promise}function CB(n,e,t={}){const r=new Mu;return n.asyncQueue.enqueueAndForget((async()=>(function(s,o,u,f,d){const x=new Jw({next:A=>{x.Nu(),o.enqueueAndForget((()=>Yw(s,w))),A.fromCache&&f.source==="server"?d.reject(new Sn(Xt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(A)},error:A=>d.reject(A)}),w=new $w(u,x,{includeMetadataChanges:!0,qa:!0});return Xw(s,w)})(await Wp(n),n.asyncQueue,e,t,r))),r.promise}function zC(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}const aA=new Map;const HC="firestore.googleapis.com",oA=!0;class lA{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Sn(Xt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=HC,this.ssl=oA}else this.host=e.host,this.ssl=e.ssl??oA;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=wC;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<aF)throw new Sn(Xt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}LN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=zC(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Sn(Xt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Sn(Xt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Sn(Xt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Y2{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new lA({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Sn(Xt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Sn(Xt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new lA(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new kN;switch(r.type){case"firstParty":return new BP(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Sn(Xt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=aA.get(t);r&&(Rn("ComponentProvider","Removing Datastore"),aA.delete(t),r.terminate())})(this),Promise.resolve()}}function qC(n,e,t,r={}){n=Wo(n,Y2);const i=$h(e),s=n._getSettings(),o={...s,emulatorOptions:n._getEmulatorOptions()},u=`${e}:${t}`;i&&(ww(`https://${u}`),bw("Firestore",!0)),s.host!==HC&&s.host!==u&&kf("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...s,host:u,ssl:i,emulatorOptions:r};if(!Vu(f,o)&&(n._setSettings(f),r.mockUserToken)){let d,x;if(typeof r.mockUserToken=="string")d=r.mockUserToken,x=Io.MOCK_USER;else{d=vN(r.mockUserToken,n._app?.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new Sn(Xt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new Io(w)}n._authCredentials=new PP(new ON(d,x))}}class Yu{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Yu(this.firestore,e,this._query)}}class _s{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Pu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new _s(this.firestore,e,this._key)}toJSON(){return{type:_s._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(bm(t,_s._jsonSchema))return new _s(e,r||null,new Zn(Xi.fromString(t.referencePath)))}}_s._jsonSchemaVersion="firestore/documentReference/1.0",_s._jsonSchema={type:da("string",_s._jsonSchemaVersion),referencePath:da("string")};class Pu extends Yu{constructor(e,t,r){super(e,t,B2(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new _s(this.firestore,null,new Zn(e))}withConverter(e){return new Pu(this.firestore,e,this._path)}}function Si(n,e,...t){if(n=ws(n),DN("collection","path",e),n instanceof Y2){const r=Xi.fromString(e,...t);return wE(r),new Pu(n,null,r)}{if(!(n instanceof _s||n instanceof Pu))throw new Sn(Xt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Xi.fromString(e,...t));return wE(r),new Pu(n.firestore,null,r)}}function hr(n,e,...t){if(n=ws(n),arguments.length===1&&(e=L2.newId()),DN("doc","path",e),n instanceof Y2){const r=Xi.fromString(e,...t);return yE(r),new _s(n,null,new Zn(r))}{if(!(n instanceof _s||n instanceof Pu))throw new Sn(Xt.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Xi.fromString(e,...t));return yE(r),new _s(n.firestore,n instanceof Pu?n.converter:null,new Zn(r))}}const cA="AsyncQueue";class uA{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new SC(this,"async_queue_retry"),this._c=()=>{const r=$v();r&&Rn(cA,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=$v();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=$v();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Mu;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!k0(e))throw e;Rn(cA,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Hu("INTERNAL UNHANDLED ERROR: ",hA(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const i=Gw.createAndSchedule(this,e,t,r,(s=>this.hc(s)));return this.tc.push(i),i}uc(){this.nc&&ur(47125,{Pc:hA(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function hA(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}function fA(n){return(function(t,r){if(typeof t!="object"||t===null)return!1;const i=t;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1})(n,["next","error","complete"])}class eu extends Y2{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new uA,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new uA(e),this._firestoreClient=void 0,await e}}}function GC(n,e){const t=typeof n=="object"?n:D2(),r=typeof n=="string"?n:Fp,i=k2(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=gN("firestore");s&&qC(i,...s)}return i}function Nm(n){if(n._terminated)throw new Sn(Xt.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||IB(n),n._firestoreClient}function IB(n){const e=n._freezeSettings(),t=(function(i,s,o,u){return new tj(i,s,o,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,zC(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new AB(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(i){const s=i?._online.build();return{_offline:i?._offline.build(s),_online:s}})(n._componentsProvider))}class Rl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Rl(Za.fromBase64String(e))}catch(t){throw new Sn(Xt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Rl(Za.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Rl._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(bm(e,Rl._jsonSchema))return Rl.fromBase64String(e.bytes)}}Rl._jsonSchemaVersion="firestore/bytes/1.0",Rl._jsonSchema={type:da("string",Rl._jsonSchemaVersion),bytes:da("string")};class Cm{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Sn(Xt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xa(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Gf{constructor(e){this._methodName=e}}class vc{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Sn(Xt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Sn(Xt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return qr(this._lat,e._lat)||qr(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:vc._jsonSchemaVersion}}static fromJSON(e){if(bm(e,vc._jsonSchema))return new vc(e.latitude,e.longitude)}}vc._jsonSchemaVersion="firestore/geoPoint/1.0",vc._jsonSchema={type:da("string",vc._jsonSchemaVersion),latitude:da("number"),longitude:da("number")};class _c{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:_c._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(bm(e,_c._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new _c(e.vectorValues);throw new Sn(Xt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}_c._jsonSchemaVersion="firestore/vectorValue/1.0",_c._jsonSchema={type:da("string",_c._jsonSchemaVersion),vectorValues:da("object")};const RB=/^__.*__$/;class OB{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Qh(e,this.data,this.fieldMask,t,this.fieldTransforms):new Em(e,this.data,t,this.fieldTransforms)}}class WC{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Qh(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function XC(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ur(40011,{Ac:n})}}class K2{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new K2({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.gc(e),r}yc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Xp(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(XC(this.Ac)&&RB.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class kB{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||G2(e)}Cc(e,t,r,i=!1){return new K2({Ac:e,methodName:t,Dc:r,path:Xa.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function $2(n){const e=n._freezeSettings(),t=G2(n._databaseId);return new kB(n._databaseId,!!e.ignoreUndefinedProperties,t)}function YC(n,e,t,r,i,s={}){const o=n.Cc(s.merge||s.mergeFields?2:0,e,t,i);r5("Data must be an object, but it was:",o,r);const u=$C(r,o);let f,d;if(s.merge)f=new Ol(o.fieldMask),d=o.fieldTransforms;else if(s.mergeFields){const x=[];for(const w of s.mergeFields){const A=Dy(e,w,t);if(!o.contains(A))throw new Sn(Xt.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);QC(x,A)||x.push(A)}f=new Ol(x),d=o.fieldTransforms.filter((w=>f.covers(w.field)))}else f=null,d=o.fieldTransforms;return new OB(new fl(u),f,d)}class Z2 extends Gf{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Z2}}function KC(n,e,t){return new K2({Ac:3,Dc:e.settings.Dc,methodName:n._methodName,fc:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class e5 extends Gf{_toFieldTransform(e){return new kw(e.path,new am)}isEqual(e){return e instanceof e5}}class t5 extends Gf{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=KC(this,e,!0),r=this.vc.map((s=>Wf(s,t))),i=new w0(r);return new kw(e.path,i)}isEqual(e){return e instanceof t5&&Vu(this.vc,e.vc)}}class n5 extends Gf{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=KC(this,e,!0),r=this.vc.map((s=>Wf(s,t))),i=new b0(r);return new kw(e.path,i)}isEqual(e){return e instanceof n5&&Vu(this.vc,e.vc)}}function DB(n,e,t,r){const i=n.Cc(1,e,t);r5("Data must be an object, but it was:",i,r);const s=[],o=fl.empty();Zh(r,((f,d)=>{const x=i5(e,f,t);d=ws(d);const w=i.yc(x);if(d instanceof Z2)s.push(x);else{const A=Wf(d,w);A!=null&&(s.push(x),o.set(x,A))}}));const u=new Ol(s);return new WC(o,u,i.fieldTransforms)}function LB(n,e,t,r,i,s){const o=n.Cc(1,e,t),u=[Dy(e,r,t)],f=[i];if(s.length%2!=0)throw new Sn(Xt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<s.length;A+=2)u.push(Dy(e,s[A])),f.push(s[A+1]);const d=[],x=fl.empty();for(let A=u.length-1;A>=0;--A)if(!QC(d,u[A])){const E=u[A];let I=f[A];I=ws(I);const C=o.yc(E);if(I instanceof Z2)d.push(E);else{const L=Wf(I,C);L!=null&&(d.push(E),x.set(E,L))}}const w=new Ol(d);return new WC(x,w,o.fieldTransforms)}function MB(n,e,t,r=!1){return Wf(t,n.Cc(r?4:3,e))}function Wf(n,e){if(ZC(n=ws(n)))return r5("Unsupported field value:",e,n),$C(n,e);if(n instanceof Gf)return(function(r,i){if(!XC(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const s=[];let o=0;for(const u of r){let f=Wf(u,i.wc(o));f==null&&(f={nullValue:"NULL_VALUE"}),s.push(f),o++}return{arrayValue:{values:s}}})(n,e)}return(function(r,i){if((r=ws(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Aj(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Yi.fromDate(r);return{timestampValue:zp(i.serializer,s)}}if(r instanceof Yi){const s=new Yi(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:zp(i.serializer,s)}}if(r instanceof vc)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Rl)return{bytesValue:mC(i.serializer,r._byteString)};if(r instanceof _s){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Pw(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof _c)return(function(o,u){return{mapValue:{fields:{[HN]:{stringValue:qN},[Bp]:{arrayValue:{values:o.toArray().map((d=>{if(typeof d!="number")throw u.Sc("VectorValues must only contain numeric values.");return Ow(u.serializer,d)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${M2(r)}`)})(n,e)}function $C(n,e){const t={};return jN(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Zh(n,((r,i)=>{const s=Wf(i,e.mc(r));s!=null&&(t[r]=s)})),{mapValue:{fields:t}}}function ZC(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Yi||n instanceof vc||n instanceof Rl||n instanceof _s||n instanceof Gf||n instanceof _c)}function r5(n,e,t){if(!ZC(t)||!MN(t)){const r=M2(t);throw r==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+r)}}function Dy(n,e,t){if((e=ws(e))instanceof Cm)return e._internalPath;if(typeof e=="string")return i5(n,e);throw Xp("Field path arguments must be of type string or ",n,!1,void 0,t)}const PB=new RegExp("[~\\*/\\[\\]]");function i5(n,e,t){if(e.search(PB)>=0)throw Xp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Cm(...e.split("."))._internalPath}catch{throw Xp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Xp(n,e,t,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let u=`Function ${e}() called with invalid data`;t&&(u+=" (via `toFirestore()`)"),u+=". ";let f="";return(s||o)&&(f+=" (found",s&&(f+=` in field ${r}`),o&&(f+=` in document ${i}`),f+=")"),new Sn(Xt.INVALID_ARGUMENT,u+n+f)}function QC(n,e){return n.some((t=>t.isEqual(e)))}class JC{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new _s(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new jB(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Q2("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class jB extends JC{data(){return super.data()}}function Q2(n,e){return typeof e=="string"?i5(n,e):e instanceof Cm?e._internalPath:e._delegate._internalPath}function e8(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Sn(Xt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class s5{}class a5 extends s5{}function Ra(n,e,...t){let r=[];e instanceof s5&&r.push(e),r=r.concat(t),(function(s){const o=s.filter((f=>f instanceof J2)).length,u=s.filter((f=>f instanceof Im)).length;if(o>1||o>0&&u>0)throw new Sn(Xt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)n=i._apply(n);return n}class Im extends a5{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Im(e,t,r)}_apply(e){const t=this._parse(e);return t8(e._query,t),new Yu(e.firestore,e.converter,by(e._query,t))}_parse(e){const t=$2(e.firestore);return(function(s,o,u,f,d,x,w){let A;if(d.isKeyField()){if(x==="array-contains"||x==="array-contains-any")throw new Sn(Xt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${x}' queries on documentId().`);if(x==="in"||x==="not-in"){mA(w,x);const I=[];for(const C of w)I.push(dA(f,s,C));A={arrayValue:{values:I}}}else A=dA(f,s,w)}else x!=="in"&&x!=="not-in"&&x!=="array-contains-any"||mA(w,x),A=MB(u,o,w,x==="in"||x==="not-in");return fa.create(d,x,A)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Ll(n,e,t){const r=e,i=Q2("where",n);return Im._create(i,r,t)}class J2 extends s5{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new J2(e,t)}_parse(e){const t=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return t.length===1?t[0]:bc.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(i,s){let o=i;const u=s.getFlattenedFilters();for(const f of u)t8(o,f),o=by(o,f)})(e._query,t),new Yu(e.firestore,e.converter,by(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ex extends a5{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new ex(e,t)}_apply(e){const t=(function(i,s,o){if(i.startAt!==null)throw new Sn(Xt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Sn(Xt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new sm(s,o)})(e._query,this._field,this._direction);return new Yu(e.firestore,e.converter,(function(i,s){const o=i.explicitOrderBy.concat([s]);return new D0(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,t))}}function ou(n,e="asc"){const t=e,r=Q2("orderBy",n);return ex._create(r,t)}function dA(n,e,t){if(typeof(t=ws(t))=="string"){if(t==="")throw new Sn(Xt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!QN(e)&&t.indexOf("/")!==-1)throw new Sn(Xt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Xi.fromString(t));if(!Zn.isDocumentKey(r))throw new Sn(Xt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return IE(n,new Zn(r))}if(t instanceof _s)return IE(n,t._key);throw new Sn(Xt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${M2(t)}.`)}function mA(n,e){if(!Array.isArray(n)||n.length===0)throw new Sn(Xt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function t8(n,e){const t=(function(i,s){for(const o of i)for(const u of o.getFlattenedFilters())if(s.indexOf(u.op)>=0)return u.op;return null})(n.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new Sn(Xt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Sn(Xt.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class n8{convertValue(e,t="none"){switch(Hh(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ys(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(zh(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ur(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Zh(e,((i,s)=>{r[i]=this.convertValue(s,t)})),r}convertVectorValue(e){const t=e.fields?.[Bp].arrayValue?.values?.map((r=>Ys(r.doubleValue)));return new _c(t)}convertGeoPoint(e){return new vc(Ys(e.latitude),Ys(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=F2(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(rm(e));default:return null}}convertTimestamp(e){const t=Vh(e);return new Yi(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Xi.fromString(e);pi(yC(r),9688,{name:e});const i=new v0(r.get(1),r.get(3)),s=new Zn(r.popFirst(5));return i.isEqual(t)||Hu(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}function r8(n,e,t){let r;return r=n?n.toFirestore(e):e,r}class Jd{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class jh extends JC{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new z1(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Q2("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Sn(Xt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=jh._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}jh._jsonSchemaVersion="firestore/documentSnapshot/1.0",jh._jsonSchema={type:da("string",jh._jsonSchemaVersion),bundleSource:da("string","DocumentSnapshot"),bundleName:da("string"),bundle:da("string")};class z1 extends jh{data(e={}){return super.data(e)}}class Fh{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Jd(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new z1(this._firestore,this._userDataWriter,r.key,r,new Jd(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Sn(Xt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map((u=>{const f=new z1(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Jd(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:f,oldIndex:-1,newIndex:o++}}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((u=>s||u.type!==3)).map((u=>{const f=new z1(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Jd(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let d=-1,x=-1;return u.type!==0&&(d=o.indexOf(u.doc.key),o=o.delete(u.doc.key)),u.type!==1&&(o=o.add(u.doc),x=o.indexOf(u.doc.key)),{type:FB(u.type),doc:f,oldIndex:d,newIndex:x}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Sn(Xt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Fh._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=L2.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],i=[];return this.docs.forEach((s=>{s._document!==null&&(t.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function FB(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ur(61501,{type:n})}}function Qs(n){n=Wo(n,_s);const e=Wo(n.firestore,eu);return NB(Nm(e),n._key).then((t=>i8(e,n,t)))}Fh._jsonSchemaVersion="firestore/querySnapshot/1.0",Fh._jsonSchema={type:da("string",Fh._jsonSchemaVersion),bundleSource:da("string","QuerySnapshot"),bundleName:da("string"),bundle:da("string")};class o5 extends n8{constructor(e){super(),this.firestore=e}convertBytes(e){return new Rl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new _s(this.firestore,null,t)}}function tu(n){n=Wo(n,Yu);const e=Wo(n.firestore,eu),t=Nm(e),r=new o5(e);return e8(n._query),CB(t,n._query).then((i=>new Fh(e,r,n,i)))}function nu(n,e,t){n=Wo(n,_s);const r=Wo(n.firestore,eu),i=r8(n.converter,e);return Rm(r,[YC($2(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,$l.none())])}function Go(n,e,t,...r){n=Wo(n,_s);const i=Wo(n.firestore,eu),s=$2(i);let o;return o=typeof(e=ws(e))=="string"||e instanceof Cm?LB(s,"updateDoc",n._key,e,t,r):DB(s,"updateDoc",n._key,e),Rm(i,[o.toMutation(n._key,$l.exists(!0))])}function lu(n){return Rm(Wo(n.firestore,eu),[new Dw(n._key,$l.none())])}function Jh(n,e){const t=Wo(n.firestore,eu),r=hr(n),i=r8(n.converter,e);return Rm(t,[YC($2(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,$l.exists(!1))]).then((()=>r))}function Jl(n,...e){n=ws(n);let t={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||fA(e[r])||(t=e[r++]);const i={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(fA(e[r])){const f=e[r];e[r]=f.next?.bind(f),e[r+1]=f.error?.bind(f),e[r+2]=f.complete?.bind(f)}let s,o,u;if(n instanceof _s)o=Wo(n.firestore,eu),u=B2(n._key.path),s={next:f=>{e[r]&&e[r](i8(o,n,f))},error:e[r+1],complete:e[r+2]};else{const f=Wo(n,Yu);o=Wo(f.firestore,eu),u=f._query;const d=new o5(o);s={next:x=>{e[r]&&e[r](new Fh(o,d,f,x))},error:e[r+1],complete:e[r+2]},e8(n._query)}return(function(d,x,w,A){const E=new Jw(A),I=new $w(x,E,w);return d.asyncQueue.enqueueAndForget((async()=>Xw(await Wp(d),I))),()=>{E.Nu(),d.asyncQueue.enqueueAndForget((async()=>Yw(await Wp(d),I)))}})(Nm(o),u,i,s)}function Rm(n,e){return(function(r,i){const s=new Mu;return r.asyncQueue.enqueueAndForget((async()=>gB(await TB(r),i,s))),s.promise})(Nm(n),e)}function i8(n,e,t){const r=t.docs.get(e._key),i=new o5(n);return new jh(n,i,e._key,r,new Jd(t.hasPendingWrites,t.fromCache),e.converter)}function om(){return new e5("serverTimestamp")}function s8(...n){return new t5("arrayUnion",n)}function a8(...n){return new n5("arrayRemove",n)}(function(e,t=!0){(function(i){R0=i})(zf),Rf(new Bh("firestore",((r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),u=new eu(new jP(r.getProvider("auth-internal")),new UP(o,r.getProvider("app-check-internal")),(function(d,x){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new Sn(Xt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new v0(d.options.projectId,x)})(o,i),o);return s={useFetchStreams:t,...s},u._setSettings(s),u}),"PUBLIC").setMultipleInstances(!0)),Kc(pE,xE,e),Kc(pE,xE,"esm2020")})();const o8=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:n8,Bytes:Rl,CollectionReference:Pu,DocumentReference:_s,DocumentSnapshot:jh,FieldPath:Cm,FieldValue:Gf,Firestore:eu,FirestoreError:Sn,GeoPoint:vc,Query:Yu,QueryCompositeFilterConstraint:J2,QueryConstraint:a5,QueryDocumentSnapshot:z1,QueryFieldFilterConstraint:Im,QueryOrderByConstraint:ex,QuerySnapshot:Fh,SnapshotMetadata:Jd,Timestamp:Yi,VectorValue:_c,_AutoId:L2,_ByteString:Za,_DatabaseId:v0,_DocumentKey:Zn,_EmptyAuthCredentialsProvider:kN,_FieldPath:Xa,_cast:Wo,_logWarn:kf,_validateIsNotUsedTogether:LN,addDoc:Jh,arrayRemove:a8,arrayUnion:s8,collection:Si,connectFirestoreEmulator:qC,deleteDoc:lu,doc:hr,ensureFirestoreConfigured:Nm,executeWrite:Rm,getDoc:Qs,getDocs:tu,getFirestore:GC,onSnapshot:Jl,orderBy:ou,query:Ra,serverTimestamp:om,setDoc:nu,updateDoc:Go,where:Ll},Symbol.toStringTag,{value:"Module"}));var BB="firebase",UB="12.7.0";Kc(BB,UB,"app");function l8(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const VB=l8,c8=new ym("auth","Firebase",l8());const Yp=new Ew("@firebase/auth");function zB(n,...e){Yp.logLevel<=Hr.WARN&&Yp.warn(`Auth (${zf}): ${n}`,...e)}function bp(n,...e){Yp.logLevel<=Hr.ERROR&&Yp.error(`Auth (${zf}): ${n}`,...e)}function ru(n,...e){throw c5(n,...e)}function yc(n,...e){return c5(n,...e)}function l5(n,e,t){const r={...VB(),[e]:t};return new ym("auth","Firebase",r).create(e,{appName:n.name})}function Sf(n){return l5(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function HB(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&ru(n,"argument-error"),l5(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function c5(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return c8.create(n,...e)}function gr(n,e,...t){if(!n)throw c5(e,...t)}function ku(n){const e="INTERNAL ASSERTION FAILED: "+n;throw bp(e),new Error(e)}function Gu(n,e){n||ku(e)}function Ly(){return typeof self<"u"&&self.location?.href||""}function qB(){return gA()==="http:"||gA()==="https:"}function gA(){return typeof self<"u"&&self.location?.protocol||null}function GB(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(qB()||mM()||"connection"in navigator)?navigator.onLine:!0}function WB(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class Om{constructor(e,t){this.shortDelay=e,this.longDelay=t,Gu(t>e,"Short delay should be less than long delay!"),this.isMobile=hM()||gM()}get(){return GB()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function u5(n,e){Gu(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class u8{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ku("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ku("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ku("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const XB={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const YB=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],KB=new Om(3e4,6e4);function h5(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function M0(n,e,t,r,i={}){return h8(n,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const u=wm({key:n.config.apiKey,...o}).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const d={method:e,headers:f,...s};return dM()||(d.referrerPolicy="no-referrer"),n.emulatorConfig&&$h(n.emulatorConfig.host)&&(d.credentials="include"),u8.fetch()(await f8(n,n.config.apiHost,t,u),d)})}async function h8(n,e,t){n._canInitEmulator=!1;const r={...XB,...e};try{const i=new ZB(n),s=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Vg(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const u=s.ok?o.errorMessage:o.error.message,[f,d]=u.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Vg(n,"credential-already-in-use",o);if(f==="EMAIL_EXISTS")throw Vg(n,"email-already-in-use",o);if(f==="USER_DISABLED")throw Vg(n,"user-disabled",o);const x=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw l5(n,x,d);ru(n,x)}}catch(i){if(i instanceof au)throw i;ru(n,"network-request-failed",{message:String(i)})}}async function $B(n,e,t,r,i={}){const s=await M0(n,e,t,r,i);return"mfaPendingCredential"in s&&ru(n,"multi-factor-auth-required",{_serverResponse:s}),s}async function f8(n,e,t,r){const i=`${e}${t}?${r}`,s=n,o=s.config.emulator?u5(n.config,i):`${n.config.apiScheme}://${i}`;return YB.includes(t)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}class ZB{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(yc(this.auth,"network-request-failed")),KB.get())})}}function Vg(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=yc(n,e,r);return i.customData._tokenResponse=t,i}async function QB(n,e){return M0(n,"POST","/v1/accounts:delete",e)}async function Kp(n,e){return M0(n,"POST","/v1/accounts:lookup",e)}function H1(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function JB(n,e=!1){const t=ws(n),r=await t.getIdToken(e),i=f5(r);gr(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:H1(Qv(i.auth_time)),issuedAtTime:H1(Qv(i.iat)),expirationTime:H1(Qv(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}}function Qv(n){return Number(n)*1e3}function f5(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return bp("JWT malformed, contained fewer than 3 sections"),null;try{const i=dN(t);return i?JSON.parse(i):(bp("Failed to decode base64 JWT payload"),null)}catch(i){return bp("Caught error parsing JWT payload as JSON",i?.toString()),null}}function pA(n){const e=f5(n);return gr(e,"internal-error"),gr(typeof e.exp<"u","internal-error"),gr(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function lm(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof au&&eU(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function eU({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class tU{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class My{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=H1(this.lastLoginAt),this.creationTime=H1(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function $p(n){const e=n.auth,t=await n.getIdToken(),r=await lm(n,Kp(e,{idToken:t}));gr(r?.users.length,e,"internal-error");const i=r.users[0];n._notifyReloadListener(i);const s=i.providerUserInfo?.length?d8(i.providerUserInfo):[],o=rU(n.providerData,s),u=n.isAnonymous,f=!(n.email&&i.passwordHash)&&!o?.length,d=u?f:!1,x={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new My(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(n,x)}async function nU(n){const e=ws(n);await $p(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function rU(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function d8(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function iU(n,e){const t=await h8(n,{},async()=>{const r=wm({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=await f8(n,i,"/v1/token",`key=${s}`),u=await n._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:u,body:r};return n.emulatorConfig&&$h(n.emulatorConfig.host)&&(f.credentials="include"),u8.fetch()(o,f)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function sU(n,e){return M0(n,"POST","/v2/accounts:revokeToken",h5(n,e))}class i0{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){gr(e.idToken,"internal-error"),gr(typeof e.idToken<"u","internal-error"),gr(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):pA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){gr(e.length!==0,"internal-error");const t=pA(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(gr(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:s}=await iU(e,t);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new i0;return r&&(gr(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(gr(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(gr(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new i0,this.toJSON())}_performRefresh(){return ku("not implemented")}}function yh(n,e){gr(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class pc{constructor({uid:e,auth:t,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new tU(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new My(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await lm(this,this.stsTokenManager.getToken(this.auth,e));return gr(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return JB(this,e)}reload(){return nU(this)}_assign(e){this!==e&&(gr(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new pc({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){gr(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await $p(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Kl(this.auth.app))return Promise.reject(Sf(this.auth));const e=await this.getIdToken();return await lm(this,QB(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,i=t.email??void 0,s=t.phoneNumber??void 0,o=t.photoURL??void 0,u=t.tenantId??void 0,f=t._redirectEventId??void 0,d=t.createdAt??void 0,x=t.lastLoginAt??void 0,{uid:w,emailVerified:A,isAnonymous:E,providerData:I,stsTokenManager:C}=t;gr(w&&C,e,"internal-error");const L=i0.fromJSON(this.name,C);gr(typeof w=="string",e,"internal-error"),yh(r,e.name),yh(i,e.name),gr(typeof A=="boolean",e,"internal-error"),gr(typeof E=="boolean",e,"internal-error"),yh(s,e.name),yh(o,e.name),yh(u,e.name),yh(f,e.name),yh(d,e.name),yh(x,e.name);const j=new pc({uid:w,auth:e,email:i,emailVerified:A,displayName:r,isAnonymous:E,photoURL:o,phoneNumber:s,tenantId:u,stsTokenManager:L,createdAt:d,lastLoginAt:x});return I&&Array.isArray(I)&&(j.providerData=I.map(W=>({...W}))),f&&(j._redirectEventId=f),j}static async _fromIdTokenResponse(e,t,r=!1){const i=new i0;i.updateFromServerResponse(t);const s=new pc({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await $p(s),s}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];gr(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?d8(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,u=new i0;u.updateFromIdToken(r);const f=new pc({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:o}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new My(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(f,d),f}}const xA=new Map;function Du(n){Gu(n instanceof Function,"Expected a class definition");let e=xA.get(n);return e?(Gu(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,xA.set(n,e),e)}class m8{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}m8.type="NONE";const vA=m8;function Ep(n,e,t){return`firebase:${n}:${e}:${t}`}class s0{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Ep(this.userKey,i.apiKey,s),this.fullPersistenceKey=Ep("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Kp(this.auth,{idToken:e}).catch(()=>{});return t?pc._fromGetAccountInfoResponse(this.auth,t,e):null}return pc._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new s0(Du(vA),e,r);const i=(await Promise.all(t.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let s=i[0]||Du(vA);const o=Ep(r,e.config.apiKey,e.name);let u=null;for(const d of t)try{const x=await d._get(o);if(x){let w;if(typeof x=="string"){const A=await Kp(e,{idToken:x}).catch(()=>{});if(!A)break;w=await pc._fromGetAccountInfoResponse(e,A,x)}else w=pc._fromJSON(e,x);d!==s&&(u=w),s=d;break}}catch{}const f=i.filter(d=>d._shouldAllowMigration);return!s._shouldAllowMigration||!f.length?new s0(s,e,r):(s=f[0],u&&await s._set(o,u.toJSON()),await Promise.all(t.map(async d=>{if(d!==s)try{await d._remove(o)}catch{}})),new s0(s,e,r))}}function _A(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(v8(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(g8(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(y8(e))return"Blackberry";if(w8(e))return"Webos";if(p8(e))return"Safari";if((e.includes("chrome/")||x8(e))&&!e.includes("edge/"))return"Chrome";if(_8(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function g8(n=Do()){return/firefox\//i.test(n)}function p8(n=Do()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function x8(n=Do()){return/crios\//i.test(n)}function v8(n=Do()){return/iemobile/i.test(n)}function _8(n=Do()){return/android/i.test(n)}function y8(n=Do()){return/blackberry/i.test(n)}function w8(n=Do()){return/webos/i.test(n)}function d5(n=Do()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function aU(n=Do()){return d5(n)&&!!window.navigator?.standalone}function oU(){return pM()&&document.documentMode===10}function b8(n=Do()){return d5(n)||_8(n)||w8(n)||y8(n)||/windows phone/i.test(n)||v8(n)}function E8(n,e=[]){let t;switch(n){case"Browser":t=_A(Do());break;case"Worker":t=`${_A(Do())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${zf}/${r}`}class lU{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=s=>new Promise((o,u)=>{try{const f=e(s);o(f)}catch(f){u(f)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function cU(n,e={}){return M0(n,"GET","/v2/passwordPolicy",h5(n,e))}const uU=6;class hU{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??uU,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}class fU{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new yA(this),this.idTokenSubscription=new yA(this),this.beforeStateQueue=new lU(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=c8,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Du(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await s0.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Kp(this,{idToken:e}),r=await pc._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Kl(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(o,o))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=this.redirectUser?._redirectEventId,o=r?._redirectEventId,u=await this.tryRedirectSignIn(e);(!s||s===o)&&u?.user&&(r=u.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return gr(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await $p(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=WB()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Kl(this.app))return Promise.reject(Sf(this));const t=e?ws(e):null;return t&&gr(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&gr(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Kl(this.app)?Promise.reject(Sf(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Kl(this.app)?Promise.reject(Sf(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Du(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await cU(this),t=new hU(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ym("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await sU(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Du(e)||this._popupRedirectResolver;gr(t,this,"argument-error"),this.redirectPersistenceManager=await s0.create(this,[Du(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const s=typeof t=="function"?t:t.next.bind(t);let o=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(gr(u,this,"internal-error"),u.then(()=>{o||s(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,r,i);return()=>{o=!0,f()}}else{const f=e.addObserver(t);return()=>{o=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return gr(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=E8(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Kl(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&zB(`Error while retrieving App Check token: ${e.error}`),e?.token}}function tx(n){return ws(n)}class yA{constructor(e){this.auth=e,this.observer=null,this.addObserver=AM(t=>this.observer=t)}get next(){return gr(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let m5={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function dU(n){m5=n}function mU(n){return m5.loadJS(n)}function gU(){return m5.gapiScript}function pU(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function xU(n,e){const t=k2(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),s=t.getOptions();if(Vu(s,e??{}))return i;ru(i,"already-initialized")}return t.initialize({options:e})}function vU(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Du);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function _U(n,e,t){const r=tx(n);gr(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=A8(e),{host:o,port:u}=yU(e),f=u===null?"":`:${u}`,d={url:`${s}//${o}${f}/`},x=Object.freeze({host:o,port:u,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){gr(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),gr(Vu(d,r.config.emulator)&&Vu(x,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=x,r.settings.appVerificationDisabledForTesting=!0,$h(o)?(ww(`${s}//${o}${f}`),bw("Auth",!0)):wU()}function A8(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function yU(n){const e=A8(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:wA(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:wA(o)}}}function wA(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function wU(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class S8{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ku("not implemented")}_getIdTokenResponse(e){return ku("not implemented")}_linkToIdToken(e,t){return ku("not implemented")}_getReauthenticationResolver(e){return ku("not implemented")}}async function a0(n,e){return $B(n,"POST","/v1/accounts:signInWithIdp",h5(n,e))}const bU="http://localhost";class Lf extends S8{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Lf(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ru("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...s}=t;if(!r||!i)return null;const o=new Lf(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const t=this.buildRequest();return a0(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,a0(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,a0(e,t)}buildRequest(){const e={requestUri:bU,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=wm(t)}return e}}class g5{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class km extends g5{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Th extends km{constructor(){super("facebook.com")}static credential(e){return Lf._fromParams({providerId:Th.PROVIDER_ID,signInMethod:Th.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Th.credentialFromTaggedObject(e)}static credentialFromError(e){return Th.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Th.credential(e.oauthAccessToken)}catch{return null}}}Th.FACEBOOK_SIGN_IN_METHOD="facebook.com";Th.PROVIDER_ID="facebook.com";class Ou extends km{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Lf._fromParams({providerId:Ou.PROVIDER_ID,signInMethod:Ou.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ou.credentialFromTaggedObject(e)}static credentialFromError(e){return Ou.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Ou.credential(t,r)}catch{return null}}}Ou.GOOGLE_SIGN_IN_METHOD="google.com";Ou.PROVIDER_ID="google.com";class Nh extends km{constructor(){super("github.com")}static credential(e){return Lf._fromParams({providerId:Nh.PROVIDER_ID,signInMethod:Nh.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Nh.credentialFromTaggedObject(e)}static credentialFromError(e){return Nh.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Nh.credential(e.oauthAccessToken)}catch{return null}}}Nh.GITHUB_SIGN_IN_METHOD="github.com";Nh.PROVIDER_ID="github.com";class Ch extends km{constructor(){super("twitter.com")}static credential(e,t){return Lf._fromParams({providerId:Ch.PROVIDER_ID,signInMethod:Ch.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ch.credentialFromTaggedObject(e)}static credentialFromError(e){return Ch.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Ch.credential(t,r)}catch{return null}}}Ch.TWITTER_SIGN_IN_METHOD="twitter.com";Ch.PROVIDER_ID="twitter.com";class S0{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const s=await pc._fromIdTokenResponse(e,r,i),o=bA(r);return new S0({user:s,providerId:o,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=bA(r);return new S0({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function bA(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class Zp extends au{constructor(e,t,r,i){super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Zp.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new Zp(e,t,r,i)}}function T8(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Zp._fromErrorAndOperation(n,s,e,r):s})}async function EU(n,e,t=!1){const r=await lm(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return S0._forOperation(n,"link",r)}async function AU(n,e,t=!1){const{auth:r}=n;if(Kl(r.app))return Promise.reject(Sf(r));const i="reauthenticate";try{const s=await lm(n,T8(r,i,e,n),t);gr(s.idToken,r,"internal-error");const o=f5(s.idToken);gr(o,r,"internal-error");const{sub:u}=o;return gr(n.uid===u,r,"user-mismatch"),S0._forOperation(n,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&ru(r,"user-mismatch"),s}}async function SU(n,e,t=!1){if(Kl(n.app))return Promise.reject(Sf(n));const r="signIn",i=await T8(n,r,e),s=await S0._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(s.user),s}function TU(n,e,t,r){return ws(n).onIdTokenChanged(e,t,r)}function NU(n,e,t){return ws(n).beforeAuthStateChanged(e,t)}function CU(n,e,t,r){return ws(n).onAuthStateChanged(e,t,r)}function IU(n){return ws(n).signOut()}async function RU(n){return ws(n).delete()}const Qp="__sak";class N8{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Qp,"1"),this.storage.removeItem(Qp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const OU=1e3,kU=10;class C8 extends N8{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=b8(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((o,u,f)=>{this.notifyListeners(o,f)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!t&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);oU()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,kU):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},OU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}C8.type="LOCAL";const DU=C8;class I8 extends N8{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}I8.type="SESSION";const R8=I8;function LU(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class nx{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new nx(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:s}=t.data,o=this.handlersMap[i];if(!o?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(o).map(async d=>d(t.origin,s)),f=await LU(u);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}nx.receivers=[];function p5(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}class MU{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((u,f)=>{const d=p5("",20);i.port1.start();const x=setTimeout(()=>{f(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(w){const A=w;if(A.data.eventId===d)switch(A.data.status){case"ack":clearTimeout(x),s=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),u(A.data.response);break;default:clearTimeout(x),clearTimeout(s),f(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:t},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}function Qc(){return window}function PU(n){Qc().location.href=n}function O8(){return typeof Qc().WorkerGlobalScope<"u"&&typeof Qc().importScripts=="function"}async function jU(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function FU(){return navigator?.serviceWorker?.controller||null}function BU(){return O8()?self:null}const k8="firebaseLocalStorageDb",UU=1,Jp="firebaseLocalStorage",D8="fbase_key";class Dm{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function rx(n,e){return n.transaction([Jp],e?"readwrite":"readonly").objectStore(Jp)}function VU(){const n=indexedDB.deleteDatabase(k8);return new Dm(n).toPromise()}function Py(){const n=indexedDB.open(k8,UU);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Jp,{keyPath:D8})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Jp)?e(r):(r.close(),await VU(),e(await Py()))})})}async function EA(n,e,t){const r=rx(n,!0).put({[D8]:e,value:t});return new Dm(r).toPromise()}async function zU(n,e){const t=rx(n,!1).get(e),r=await new Dm(t).toPromise();return r===void 0?null:r.value}function AA(n,e){const t=rx(n,!0).delete(e);return new Dm(t).toPromise()}const HU=800,qU=3;class L8{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Py(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>qU)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return O8()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=nx._getInstance(BU()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await jU(),!this.activeServiceWorker)return;this.sender=new MU(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||FU()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Py();return await EA(e,Qp,"1"),await AA(e,Qp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>EA(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>zU(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>AA(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=rx(i,!1).getAll();return new Dm(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),HU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}L8.type="LOCAL";const GU=L8;new Om(3e4,6e4);function M8(n,e){return e?Du(e):(gr(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class x5 extends S8{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return a0(e,this._buildIdpRequest())}_linkToIdToken(e,t){return a0(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return a0(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function WU(n){return SU(n.auth,new x5(n),n.bypassAuthState)}function XU(n){const{auth:e,user:t}=n;return gr(t,e,"internal-error"),AU(t,new x5(n),n.bypassAuthState)}async function YU(n){const{auth:e,user:t}=n;return gr(t,e,"internal-error"),EU(t,new x5(n),n.bypassAuthState)}class P8{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:s,error:o,type:u}=e;if(o){this.reject(o);return}const f={auth:this.auth,requestUri:t,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(f))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return WU;case"linkViaPopup":case"linkViaRedirect":return YU;case"reauthViaPopup":case"reauthViaRedirect":return XU;default:ru(this.auth,"internal-error")}}resolve(e){Gu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Gu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const KU=new Om(2e3,1e4);async function $U(n,e,t){if(Kl(n.app))return Promise.reject(yc(n,"operation-not-supported-in-this-environment"));const r=tx(n);HB(n,e,g5);const i=M8(r,t);return new Ef(r,"signInViaPopup",e,i).executeNotNull()}class Ef extends P8{constructor(e,t,r,i,s){super(e,t,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Ef.currentPopupAction&&Ef.currentPopupAction.cancel(),Ef.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return gr(e,this.auth,"internal-error"),e}async onExecution(){Gu(this.filter.length===1,"Popup operations only handle one event");const e=p5();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(yc(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(yc(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ef.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(yc(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,KU.get())};e()}}Ef.currentPopupAction=null;const ZU="pendingRedirect",Ap=new Map;class QU extends P8{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Ap.get(this.auth._key());if(!e){try{const r=await JU(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Ap.set(this.auth._key(),e)}return this.bypassAuthState||Ap.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function JU(n,e){const t=nV(e),r=tV(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}function eV(n,e){Ap.set(n._key(),e)}function tV(n){return Du(n._redirectPersistence)}function nV(n){return Ep(ZU,n.config.apiKey,n.name)}async function rV(n,e,t=!1){if(Kl(n.app))return Promise.reject(Sf(n));const r=tx(n),i=M8(r,e),o=await new QU(r,i,t).execute();return o&&!t&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}const iV=600*1e3;class sV{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!aV(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!j8(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(yc(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=iV&&this.cachedEventUids.clear(),this.cachedEventUids.has(SA(e))}saveEventToCache(e){this.cachedEventUids.add(SA(e)),this.lastProcessedEventTime=Date.now()}}function SA(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function j8({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function aV(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return j8(n);default:return!1}}async function oV(n,e={}){return M0(n,"GET","/v1/projects",e)}const lV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,cV=/^https?/;async function uV(n){if(n.config.emulator)return;const{authorizedDomains:e}=await oV(n);for(const t of e)try{if(hV(t))return}catch{}ru(n,"unauthorized-domain")}function hV(n){const e=Ly(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const o=new URL(n);return o.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&o.hostname===r}if(!cV.test(t))return!1;if(lV.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const fV=new Om(3e4,6e4);function TA(){const n=Qc().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function dV(n){return new Promise((e,t)=>{function r(){TA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{TA(),t(yc(n,"network-request-failed"))},timeout:fV.get()})}if(Qc().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Qc().gapi?.load)r();else{const i=pU("iframefcb");return Qc()[i]=()=>{gapi.load?r():t(yc(n,"network-request-failed"))},mU(`${gU()}?onload=${i}`).catch(s=>t(s))}}).catch(e=>{throw Sp=null,e})}let Sp=null;function mV(n){return Sp=Sp||dV(n),Sp}const gV=new Om(5e3,15e3),pV="__/auth/iframe",xV="emulator/auth/iframe",vV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_V=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function yV(n){const e=n.config;gr(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?u5(e,xV):`https://${n.config.authDomain}/${pV}`,r={apiKey:e.apiKey,appName:n.name,v:zf},i=_V.get(n.config.apiHost);i&&(r.eid=i);const s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${wm(r).slice(1)}`}async function wV(n){const e=await mV(n),t=Qc().gapi;return gr(t,n,"internal-error"),e.open({where:document.body,url:yV(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:vV,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=yc(n,"network-request-failed"),u=Qc().setTimeout(()=>{s(o)},gV.get());function f(){Qc().clearTimeout(u),i(r)}r.ping(f).then(f,()=>{s(o)})}))}const bV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},EV=500,AV=600,SV="_blank",TV="http://localhost";class NA{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function NV(n,e,t,r=EV,i=AV){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const f={...bV,width:r.toString(),height:i.toString(),top:s,left:o},d=Do().toLowerCase();t&&(u=x8(d)?SV:t),g8(d)&&(e=e||TV,f.scrollbars="yes");const x=Object.entries(f).reduce((A,[E,I])=>`${A}${E}=${I},`,"");if(aU(d)&&u!=="_self")return CV(e||"",u),new NA(null);const w=window.open(e||"",u,x);gr(w,n,"popup-blocked");try{w.focus()}catch{}return new NA(w)}function CV(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}const IV="__/auth/handler",RV="emulator/auth/handler",OV=encodeURIComponent("fac");async function CA(n,e,t,r,i,s){gr(n.config.authDomain,n,"auth-domain-config-required"),gr(n.config.apiKey,n,"invalid-api-key");const o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:zf,eventId:i};if(e instanceof g5){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",EM(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[x,w]of Object.entries({}))o[x]=w}if(e instanceof km){const x=e.getScopes().filter(w=>w!=="");x.length>0&&(o.scopes=x.join(","))}n.tenantId&&(o.tid=n.tenantId);const u=o;for(const x of Object.keys(u))u[x]===void 0&&delete u[x];const f=await n._getAppCheckToken(),d=f?`#${OV}=${encodeURIComponent(f)}`:"";return`${kV(n)}?${wm(u).slice(1)}${d}`}function kV({config:n}){return n.emulator?u5(n,RV):`https://${n.authDomain}/${IV}`}const Jv="webStorageSupport";class DV{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=R8,this._completeRedirectFn=rV,this._overrideRedirectResult=eV}async _openPopup(e,t,r,i){Gu(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const s=await CA(e,t,r,Ly(),i);return NV(e,s,p5())}async _openRedirect(e,t,r,i){await this._originValidation(e);const s=await CA(e,t,r,Ly(),i);return PU(s),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(Gu(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await wV(e),r=new sV(e);return t.register("authEvent",i=>(gr(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Jv,{type:Jv},i=>{const s=i?.[0]?.[Jv];s!==void 0&&t(!!s),ru(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=uV(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return b8()||p8()||d5()}}const LV=DV;var IA="@firebase/auth",RA="1.12.0";class MV{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){gr(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function PV(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function jV(n){Rf(new Bh("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:u}=r.options;gr(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:o,authDomain:u,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:E8(n)},d=new fU(r,i,s,f);return vU(d,t),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Rf(new Bh("auth-internal",e=>{const t=tx(e.getProvider("auth").getImmediate());return(r=>new MV(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Kc(IA,RA,PV(n)),Kc(IA,RA,"esm2020")}const FV=300,BV=xN("authIdTokenMaxAge")||FV;let OA=null;const UV=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>BV)return;const i=t?.token;OA!==i&&(OA=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function VV(n=D2()){const e=k2(n,"auth");if(e.isInitialized())return e.getImmediate();const t=xU(n,{popupRedirectResolver:LV,persistence:[GU,DU,R8]}),r=xN("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=UV(s.toString());NU(t,o,()=>o(t.currentUser)),TU(t,u=>o(u))}}const i=mN("auth");return i&&_U(t,`http://${i}`),t}function zV(){return document.getElementsByTagName("head")?.[0]??document}dU({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const s=yc("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",zV().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});jV("Browser");const F8="firebasestorage.googleapis.com",B8="storageBucket",HV=120*1e3,qV=600*1e3;class Bs extends au{constructor(e,t,r=0){super(e_(e),`Firebase Storage: ${t} (${e_(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Bs.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return e_(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Fs;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Fs||(Fs={}));function e_(n){return"storage/"+n}function v5(){const n="An unknown error occurred, please check the error payload for server response.";return new Bs(Fs.UNKNOWN,n)}function GV(n){return new Bs(Fs.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function WV(n){return new Bs(Fs.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function XV(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Bs(Fs.UNAUTHENTICATED,n)}function YV(){return new Bs(Fs.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function KV(n){return new Bs(Fs.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function $V(){return new Bs(Fs.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function ZV(){return new Bs(Fs.CANCELED,"User canceled the upload/download.")}function QV(n){return new Bs(Fs.INVALID_URL,"Invalid URL '"+n+"'.")}function JV(n){return new Bs(Fs.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function ez(){return new Bs(Fs.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+B8+"' property when initializing the app?")}function tz(){return new Bs(Fs.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function nz(){return new Bs(Fs.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function rz(n){return new Bs(Fs.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function jy(n){return new Bs(Fs.INVALID_ARGUMENT,n)}function U8(){return new Bs(Fs.APP_DELETED,"The Firebase app was deleted.")}function iz(n){return new Bs(Fs.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function q1(n,e){return new Bs(Fs.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function E1(n){throw new Bs(Fs.INTERNAL_ERROR,"Internal error: "+n)}class kl{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=kl.makeFromUrl(e,t)}catch{return new kl(e,"")}if(r.path==="")return r;throw JV(e)}static makeFromUrl(e,t){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(G){G.path.charAt(G.path.length-1)==="/"&&(G.path_=G.path_.slice(0,-1))}const o="(/(.*))?$",u=new RegExp("^gs://"+i+o,"i"),f={bucket:1,path:3};function d(G){G.path_=decodeURIComponent(G.path)}const x="v[A-Za-z0-9_]+",w=t.replace(/[.]/g,"\\."),A="(/([^?#]*).*)?$",E=new RegExp(`^https?://${w}/${x}/b/${i}/o${A}`,"i"),I={bucket:1,path:3},C=t===F8?"(?:storage.googleapis.com|storage.cloud.google.com)":t,L="([^?#]*)",j=new RegExp(`^https?://${C}/${i}/${L}`,"i"),M=[{regex:u,indices:f,postModify:s},{regex:E,indices:I,postModify:d},{regex:j,indices:{bucket:1,path:2},postModify:d}];for(let G=0;G<M.length;G++){const ce=M[G],re=ce.regex.exec(e);if(re){const F=re[ce.indices.bucket];let B=re[ce.indices.path];B||(B=""),r=new kl(F,B),ce.postModify(r);break}}if(r==null)throw QV(e);return r}}class sz{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function az(n,e,t){let r=1,i=null,s=null,o=!1,u=0;function f(){return u===2}let d=!1;function x(...L){d||(d=!0,e.apply(null,L))}function w(L){i=setTimeout(()=>{i=null,n(E,f())},L)}function A(){s&&clearTimeout(s)}function E(L,...j){if(d){A();return}if(L){A(),x.call(null,L,...j);return}if(f()||o){A(),x.call(null,L,...j);return}r<64&&(r*=2);let M;u===1?(u=2,M=0):M=(r+Math.random())*1e3,w(M)}let I=!1;function C(L){I||(I=!0,A(),!d&&(i!==null?(L||(u=2),clearTimeout(i),w(0)):L||(u=1)))}return w(0),s=setTimeout(()=>{o=!0,C(!0)},t),C}function oz(n){n(!1)}function lz(n){return n!==void 0}function cz(n){return typeof n=="object"&&!Array.isArray(n)}function _5(n){return typeof n=="string"||n instanceof String}function kA(n){return y5()&&n instanceof Blob}function y5(){return typeof Blob<"u"}function DA(n,e,t,r){if(r<e)throw jy(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw jy(`Invalid value for '${n}'. Expected ${t} or less.`)}function w5(n,e,t){let r=e;return t==null&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function V8(n){const e=encodeURIComponent;let t="?";for(const r in n)if(n.hasOwnProperty(r)){const i=e(r)+"="+e(n[r]);t=t+i+"&"}return t=t.slice(0,-1),t}var Tf;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Tf||(Tf={}));function uz(n,e){const t=n>=500&&n<600,i=[408,429].indexOf(n)!==-1,s=e.indexOf(n)!==-1;return t||i||s}class hz{constructor(e,t,r,i,s,o,u,f,d,x,w,A=!0,E=!1){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=u,this.errorCallback_=f,this.timeout_=d,this.progressCallback_=x,this.connectionFactory_=w,this.retry=A,this.isUsingEmulator=E,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((I,C)=>{this.resolve_=I,this.reject_=C,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new zg(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=u=>{const f=u.loaded,d=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,d)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const u=s.getErrorCode()===Tf.NO_ERROR,f=s.getStatus();if(!u||uz(f,this.additionalRetryCodes_)&&this.retry){const x=s.getErrorCode()===Tf.ABORT;r(!1,new zg(!1,null,x));return}const d=this.successCodes_.indexOf(f)!==-1;r(!0,new zg(d,s))})},t=(r,i)=>{const s=this.resolve_,o=this.reject_,u=i.connection;if(i.wasSuccessCode)try{const f=this.callback_(u,u.getResponse());lz(f)?s(f):s()}catch(f){o(f)}else if(u!==null){const f=v5();f.serverResponse=u.getErrorText(),this.errorCallback_?o(this.errorCallback_(u,f)):o(f)}else if(i.canceled){const f=this.appDelete_?U8():ZV();o(f)}else{const f=$V();o(f)}};this.canceled_?t(!1,new zg(!1,null,!0)):this.backoffId_=az(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&oz(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class zg{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function fz(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function dz(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function mz(n,e){e&&(n["X-Firebase-GMPID"]=e)}function gz(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function pz(n,e,t,r,i,s,o=!0,u=!1){const f=V8(n.urlParams),d=n.url+f,x=Object.assign({},n.headers);return mz(x,e),fz(x,t),dz(x,s),gz(x,r),new hz(d,n.method,x,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,o,u)}function xz(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function vz(...n){const e=xz();if(e!==void 0){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}else{if(y5())return new Blob(n);throw new Bs(Fs.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function _z(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}function yz(n){if(typeof atob>"u")throw rz("base-64");return atob(n)}const Xc={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class t_{constructor(e,t){this.data=e,this.contentType=t||null}}function wz(n,e){switch(n){case Xc.RAW:return new t_(z8(e));case Xc.BASE64:case Xc.BASE64URL:return new t_(H8(n,e));case Xc.DATA_URL:return new t_(Ez(e),Az(e))}throw v5()}function z8(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=n.charCodeAt(++t);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function bz(n){let e;try{e=decodeURIComponent(n)}catch{throw q1(Xc.DATA_URL,"Malformed data URL.")}return z8(e)}function H8(n,e){switch(n){case Xc.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw q1(n,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Xc.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw q1(n,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=yz(e)}catch(i){throw i.message.includes("polyfill")?i:q1(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}class q8{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw q1(Xc.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;r!=null&&(this.base64=Sz(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function Ez(n){const e=new q8(n);return e.base64?H8(Xc.BASE64,e.rest):bz(e.rest)}function Az(n){return new q8(n).contentType}function Sz(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}class Ih{constructor(e,t){let r=0,i="";kA(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if(kA(this.data_)){const r=this.data_,i=_z(r,e,t);return i===null?null:new Ih(i)}else{const r=new Uint8Array(this.data_.buffer,e,t-e);return new Ih(r,!0)}}static getBlob(...e){if(y5()){const t=e.map(r=>r instanceof Ih?r.data_:r);return new Ih(vz.apply(null,t))}else{const t=e.map(o=>_5(o)?wz(Xc.RAW,o).data:o.data_);let r=0;t.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return t.forEach(o=>{for(let u=0;u<o.length;u++)i[s++]=o[u]}),new Ih(i,!0)}}uploadData(){return this.data_}}function G8(n){let e;try{e=JSON.parse(n)}catch{return null}return cz(e)?e:null}function Tz(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function Nz(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return n.length===0?t:n+"/"+t}function W8(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}function Cz(n,e){return e}class zo{constructor(e,t,r,i){this.server=e,this.local=t||e,this.writable=!!r,this.xform=i||Cz}}let Hg=null;function Iz(n){return!_5(n)||n.length<2?n:W8(n)}function X8(){if(Hg)return Hg;const n=[];n.push(new zo("bucket")),n.push(new zo("generation")),n.push(new zo("metageneration")),n.push(new zo("name","fullPath",!0));function e(s,o){return Iz(o)}const t=new zo("name");t.xform=e,n.push(t);function r(s,o){return o!==void 0?Number(o):o}const i=new zo("size");return i.xform=r,n.push(i),n.push(new zo("timeCreated")),n.push(new zo("updated")),n.push(new zo("md5Hash",null,!0)),n.push(new zo("cacheControl",null,!0)),n.push(new zo("contentDisposition",null,!0)),n.push(new zo("contentEncoding",null,!0)),n.push(new zo("contentLanguage",null,!0)),n.push(new zo("contentType",null,!0)),n.push(new zo("metadata","customMetadata",!0)),Hg=n,Hg}function Rz(n,e){function t(){const r=n.bucket,i=n.fullPath,s=new kl(r,i);return e._makeStorageReference(s)}Object.defineProperty(n,"ref",{get:t})}function Oz(n,e,t){const r={};r.type="file";const i=t.length;for(let s=0;s<i;s++){const o=t[s];r[o.local]=o.xform(r,e[o.server])}return Rz(r,n),r}function Y8(n,e,t){const r=G8(e);return r===null?null:Oz(n,r,t)}function kz(n,e,t,r){const i=G8(e);if(i===null||!_5(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(d=>{const x=n.bucket,w=n.fullPath,A="/b/"+o(x)+"/o/"+o(w),E=w5(A,t,r),I=V8({alt:"media",token:d});return E+I})[0]}function Dz(n,e){const t={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(t[s.server]=n[s.local])}return JSON.stringify(t)}class K8{constructor(e,t,r,i){this.url=e,this.method=t,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function $8(n){if(!n)throw v5()}function Lz(n,e){function t(r,i){const s=Y8(n,i,e);return $8(s!==null),s}return t}function Mz(n,e){function t(r,i){const s=Y8(n,i,e);return $8(s!==null),kz(s,i,n.host,n._protocol)}return t}function Z8(n){function e(t,r){let i;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?i=YV():i=XV():t.getStatus()===402?i=WV(n.bucket):t.getStatus()===403?i=KV(n.path):i=r,i.status=t.getStatus(),i.serverResponse=r.serverResponse,i}return e}function Pz(n){const e=Z8(n);function t(r,i){let s=e(r,i);return r.getStatus()===404&&(s=GV(n.path)),s.serverResponse=i.serverResponse,s}return t}function jz(n,e,t){const r=e.fullServerUrl(),i=w5(r,n.host,n._protocol),s="GET",o=n.maxOperationRetryTime,u=new K8(i,s,Mz(n,t),o);return u.errorHandler=Pz(e),u}function Fz(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function Bz(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=Fz(null,e)),r}function Uz(n,e,t,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function u(){let M="";for(let G=0;G<2;G++)M=M+Math.random().toString().slice(2);return M}const f=u();o["Content-Type"]="multipart/related; boundary="+f;const d=Bz(e,r,i),x=Dz(d,t),w="--"+f+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+x+`\r
--`+f+`\r
Content-Type: `+d.contentType+`\r
\r
`,A=`\r
--`+f+"--",E=Ih.getBlob(w,r,A);if(E===null)throw tz();const I={name:d.fullPath},C=w5(s,n.host,n._protocol),L="POST",j=n.maxUploadRetryTime,W=new K8(C,L,Lz(n,t),j);return W.urlParams=I,W.headers=o,W.body=E.uploadData(),W.errorHandler=Z8(e),W}class Vz{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Tf.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Tf.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Tf.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,i,s){if(this.sent_)throw E1("cannot .send() more than once");if($h(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),s!==void 0)for(const o in s)s.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,s[o].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw E1("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw E1("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw E1("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw E1("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class zz extends Vz{initXhr(){this.xhr_.responseType="text"}}function Q8(){return new zz}class Mf{constructor(e,t){this._service=e,t instanceof kl?this._location=t:this._location=kl.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Mf(e,t)}get root(){const e=new kl(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return W8(this._location.path)}get storage(){return this._service}get parent(){const e=Tz(this._location.path);if(e===null)return null;const t=new kl(this._location.bucket,e);return new Mf(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw iz(e)}}function Hz(n,e,t){n._throwIfRoot("uploadBytes");const r=Uz(n.storage,n._location,X8(),new Ih(e,!0),t);return n.storage.makeRequestWithTokens(r,Q8).then(i=>({metadata:i,ref:n}))}function qz(n){n._throwIfRoot("getDownloadURL");const e=jz(n.storage,n._location,X8());return n.storage.makeRequestWithTokens(e,Q8).then(t=>{if(t===null)throw nz();return t})}function Gz(n,e){const t=Nz(n._location.path,e),r=new kl(n._location.bucket,t);return new Mf(n.storage,r)}function Wz(n){return/^[A-Za-z]+:\/\//.test(n)}function Xz(n,e){return new Mf(n,e)}function J8(n,e){if(n instanceof b5){const t=n;if(t._bucket==null)throw ez();const r=new Mf(t,t._bucket);return e!=null?J8(r,e):r}else return e!==void 0?Gz(n,e):n}function Yz(n,e){if(e&&Wz(e)){if(n instanceof b5)return Xz(n,e);throw jy("To use ref(service, url), the first argument must be a Storage instance.")}else return J8(n,e)}function LA(n,e){const t=e?.[B8];return t==null?null:kl.makeFromBucketSpec(t,n)}function Kz(n,e,t,r={}){n.host=`${e}:${t}`;const i=$h(e);i&&(ww(`https://${n.host}/b`),bw("Storage",!0)),n._isUsingEmulator=!0,n._protocol=i?"https":"http";const{mockUserToken:s}=r;s&&(n._overrideAuthToken=typeof s=="string"?s:vN(s,n.app.options.projectId))}class b5{constructor(e,t,r,i,s,o=!1){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._isUsingEmulator=o,this._bucket=null,this._host=F8,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=HV,this._maxUploadRetryTime=qV,this._requests=new Set,i!=null?this._bucket=kl.makeFromBucketSpec(i,this._host):this._bucket=LA(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=kl.makeFromBucketSpec(this._url,e):this._bucket=LA(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){DA("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){DA("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Kl(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Mf(this,e)}_makeRequest(e,t,r,i,s=!0){if(this._deleted)return new sz(U8());{const o=pz(e,this._appId,r,i,t,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,t){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,i).getPromise()}}const MA="@firebase/storage",PA="0.14.0";const eI="storage";function $z(n,e,t){return n=ws(n),Hz(n,e,t)}function Zz(n){return n=ws(n),qz(n)}function Qz(n,e){return n=ws(n),Yz(n,e)}function Jz(n=D2(),e){n=ws(n);const r=k2(n,eI).getImmediate({identifier:e}),i=gN("storage");return i&&eH(r,...i),r}function eH(n,e,t,r={}){Kz(n,e,t,r)}function tH(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new b5(t,r,i,e,zf)}function nH(){Rf(new Bh(eI,tH,"PUBLIC").setMultipleInstances(!0)),Kc(MA,PA,""),Kc(MA,PA,"esm2020")}nH();const rH={apiKey:"AIzaSyCIrgKsX5jAq83K9xBi5ECztkq-vLb4FaY",authDomain:"orbitx-zcoer.firebaseapp.com",projectId:"orbitx-zcoer",storageBucket:"orbitx-zcoer.firebasestorage.app",messagingSenderId:"155824164336",appId:"1:155824164336:web:5f285699497ececf446135"},E5=SP().length===0?wN(rH):D2(),Pl=VV(E5),An=GC(E5),iH=Jz(E5),tI=new Ou;tI.setCustomParameters({prompt:"select_account"});const nI=ae.createContext(void 0);function sH({children:n}){const[e,t]=ae.useState(!1),[r,i]=ae.useState(!0);ae.useEffect(()=>{const o=Jl(hr(An,"settings","recruitment"),u=>{u.exists()?t(u.data().isOpen??!1):t(!1),i(!1)},u=>{console.error("Error fetching recruitment status:",u),t(!1),i(!1)});return()=>o()},[]);const s=async()=>{try{await nu(hr(An,"settings","recruitment"),{isOpen:!e,updatedAt:new Date().toISOString()})}catch(o){throw console.error("Error toggling recruitment:",o),o}};return m.jsx(nI.Provider,{value:{isRecruitmentOpen:e,isLoading:r,toggleRecruitment:s},children:n})}function Xf(){const n=ae.useContext(nI);if(n===void 0)throw new Error("useRecruitment must be used within a RecruitmentProvider");return n}function aH(){const{toggleSnow:n}=QL(),{isRecruitmentOpen:e}=Xf(),t=ae.useRef(0),r=ae.useRef(0),[i,s]=ae.useState(!1),o=f=>{const d=Date.now();d-r.current>1500&&(t.current=0),t.current++,r.current=d,t.current>=3&&(f.preventDefault(),n(),t.current=0)},u=f=>{e||(f.preventDefault(),s(!0),setTimeout(()=>s(!1),5e3))};return m.jsxs("nav",{className:"navbar",children:[m.jsxs("ul",{className:"navbar__links navbar__links--left",children:[m.jsx("li",{className:"navbar__item",children:m.jsx(Wi,{to:"/",className:"navbar__link",children:"Home"})}),m.jsx("li",{className:"navbar__item",children:m.jsx(Wi,{to:"/about",className:"navbar__link",children:"About"})}),m.jsx("li",{className:"navbar__item",children:m.jsx(Wi,{to:"/events",className:"navbar__link",children:"Events"})})]}),m.jsx(Wi,{to:"/",className:"navbar__logo",onClick:o,children:m.jsx("img",{src:yw,alt:"OrbitX",className:"navbar__logo-img"})}),m.jsxs("ul",{className:"navbar__links navbar__links--right",children:[m.jsx("li",{className:"navbar__item",children:m.jsx(Wi,{to:"/members",className:"navbar__link",children:"Members"})}),m.jsxs("li",{className:"navbar__item navbar__item--join",children:[m.jsx(Wi,{to:e?"/join":"#",className:`navbar__link ${e?"":"navbar__link--disabled"}`,onClick:u,children:"Join"}),i&&m.jsxs("div",{className:"navbar__tooltip",children:[m.jsx("span",{children:"Recruitment is closed"}),m.jsx("span",{className:"navbar__tooltip-sub",children:"Check back later!"})]})]}),m.jsx("li",{className:"navbar__item",children:m.jsx(Wi,{to:"/merch",className:"navbar__link",children:"Merch"})})]})]})}const rI=n=>{let e=n.substring(0,3).toUpperCase();for(;e.length<3;)e+="X";return e.substring(0,3)},oH=n=>{if(n.length===0)return 1;const e=[...n].sort((t,r)=>t-r);for(let t=1;t<=e.length+1;t++)if(!e.includes(t))return t;return e[e.length-1]+1},lH=async()=>{const n=hr(An,"system","orbitIdRegistry"),e=await Qs(n);let t=[];if(!e.exists())return await nu(n,{usedIds:[1]}),"0001";t=e.data().usedIds||[];const r=oH(t);return await Go(n,{usedIds:s8(r)}),String(r).padStart(4,"0")},cH=async n=>{const e=rI(n),t=await lH();return`ORB-${e}-${t}`},uH=async n=>{const e=n.split("-");if(e.length===3){const t=parseInt(e[2],10);if(!isNaN(t)){const r=hr(An,"system","orbitIdRegistry");await Go(r,{usedIds:a8(t)})}}},hH=async()=>{const n=Pl.currentUser;if(!n)throw new Error("No authenticated user found");try{const e=hr(An,"users",n.uid),t=await Qs(e);if(t.exists()){const i=t.data().orbitId;await lu(e),i&&await uH(i)}await RU(n)}catch(e){throw e.code==="auth/requires-recent-login"?new Error("For security, please log out and log back in before deleting your account."):e}},iI=async()=>{const e=(await $U(Pl,tI)).user,t=await Qs(hr(An,"users",e.uid));if(t.exists())return{isNewUser:!1,profile:t.data()};const r=await Qs(hr(An,"admins",e.uid));return r.exists()?{isNewUser:!1,profile:r.data()}:{isNewUser:!0,email:e.email||void 0,uid:e.uid}},fH=async n=>{const e=Pl.currentUser;if(!e)throw new Error("No authenticated user found. Please sign in with Google again.");if(e.email!==n.email)throw new Error("Email mismatch. Please sign in with Google again.");const t=await cH(n.firstName),r={uid:e.uid,orbitId:t,email:n.email,firstName:n.firstName,lastName:n.lastName,mobile:n.mobile,dateOfBirth:n.dateOfBirth,gender:n.gender,qualificationLevel:n.qualificationLevel,stream:n.stream,collegeName:n.collegeName,courseName:n.courseName,yearOfStudy:n.yearOfStudy,yearOfGraduation:n.yearOfGraduation,role:"user",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),isActive:!0,googleLinked:!0};return await nu(hr(An,"users",e.uid),r),r},Tp=async()=>{await IU(Pl)},jA=async()=>{const n=Pl.currentUser;if(!n)return null;const e=await Qs(hr(An,"users",n.uid));if(e.exists())return e.data();const t=await Qs(hr(An,"admins",n.uid));return t.exists()?t.data():null},dH=n=>CU(Pl,n),mH=(n,e)=>n==="leadership"?{president:"PR",chairman:"CH",secretary:"SC",treasurer:"TR",co_treasurer:"CT"}[e]||"LD":{technical:"TE",public_outreach:"PO",documentation:"DC",social_media_editing:"SM",design_innovation:"DI",management_operations:"MO"}[n]||"XX",gH={technical:{start:6,end:15},public_outreach:{start:16,end:25},documentation:{start:26,end:35},social_media_editing:{start:36,end:45},design_innovation:{start:46,end:55},management_operations:{start:56,end:65}},pH={president:1,chairman:2,secretary:3,treasurer:4,co_treasurer:5},xH=async(n,e)=>{const t=hr(An,"system","adminOrbitIdRegistry"),r=await Qs(t);let i={usedNumbers:[],teamCounters:{}};r.exists()&&(i=r.data());let s;if(n==="leadership"){if(s=pH[e],!s)throw new Error(`Invalid leadership position: ${e}`);if(i.usedNumbers?.includes(s))throw{code:"position-taken",message:`The ${e} position is already filled.`}}else{const f=gH[n];if(!f)throw new Error(`Invalid team: ${n}`);if(e==="team_leader"){if(s=f.start,i.usedNumbers?.includes(s))throw{code:"position-taken",message:"The Team Leader position for this team is already filled."}}else{for(s=(i.teamCounters?.[n]||f.start)+1,s===f.start&&(s=f.start+1);i.usedNumbers?.includes(s)&&s<=f.end;)s++;if(s>f.end)throw{code:"team-full",message:"This team has reached its maximum capacity of 10 members."}}}const o=[...i.usedNumbers||[],s],u={...i.teamCounters||{},[n]:s};return await nu(t,{usedNumbers:o,teamCounters:u}),String(s).padStart(4,"0")},vH=async(n,e,t)=>{const r=rI(n),i=mH(e,t),s=await xH(e,t);return`ORB-${r}-${i}-${s}`},_H=async n=>{const e=Pl.currentUser;if(!e)throw new Error("No authenticated user found. Please sign in with Google first.");if((await Qs(hr(An,"users",e.uid))).exists())throw{code:"already-registered-user",message:"This email is already registered as a regular user."};if((await Qs(hr(An,"admins",e.uid))).exists())throw{code:"already-registered-admin",message:"This email is already registered as an admin."};if(e.email!==n.email)throw new Error("Email mismatch. Please sign in with Google again.");const i=await vH(n.firstName,n.team,n.position),s={leadership:"LEADERSHIP",design_innovation:"DESIGN_INNOVATION",technical:"TECHNICAL",management_operations:"MANAGEMENT_OPERATIONS",public_outreach:"PUBLIC_OUTREACH",documentation:"DOCUMENTATION",social_media_editing:"SOCIAL_MEDIA"},o={uid:e.uid,orbitId:i,email:n.email,firstName:n.firstName,lastName:n.lastName,mobile:n.mobile,dateOfBirth:n.dateOfBirth,gender:n.gender,team:n.team,position:n.position,adminRole:[s[n.team]||"MEMBER"],permissions:[],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),isActive:!0,googleLinked:!0};return await nu(hr(An,"admins",e.uid),o),o},sI=ae.createContext(null);function yH({children:n}){const[e,t]=ae.useState(null),[r,i]=ae.useState(null),[s,o]=ae.useState(!0);ae.useEffect(()=>{const E=dH(async I=>{if(t(I),I)try{const C=await jA();i(C)}catch(C){console.error("Error fetching user profile:",C),i(null)}else i(null);o(!1)});return()=>E()},[]);const u=async()=>{try{await Tp(),t(null),i(null)}catch(E){throw console.error("Error logging out:",E),E}},f=async()=>{if(e)try{const E=await jA();i(E)}catch(E){console.error("Error refreshing profile:",E)}},d=!!e&&!!r,x=ae.useMemo(()=>!!(r&&"team"in r&&r.team),[r]),w=ae.useCallback(E=>!x||!r?!1:r.permissions?.includes(E)||!1,[x,r]),A={user:e,profile:r,loading:s,isAuthenticated:d,isAdmin:x,logout:u,refreshProfile:f,hasPermission:w};return m.jsx(sI.Provider,{value:A,children:n})}function Lo(){const n=ae.useContext(sI);if(!n)throw new Error("useAuth must be used within an AuthProvider");return n}const wH=[{id:"home",label:"Home",path:"/",icon:m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),m.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]})},{id:"about",label:"About",path:"/about",icon:m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("circle",{cx:"12",cy:"12",r:"10"}),m.jsx("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),m.jsx("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]})},{id:"events",label:"Events",path:"/events",icon:m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),m.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),m.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),m.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]})},{id:"members",label:"Members",path:"/members",icon:m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),m.jsx("circle",{cx:"9",cy:"7",r:"4"}),m.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),m.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]})},{id:"join",label:"Join",path:"/join",requiresRecruitment:!0,fallbackPath:"/contact",fallbackLabel:"Contact",icon:m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),m.jsx("circle",{cx:"8.5",cy:"7",r:"4"}),m.jsx("line",{x1:"20",y1:"8",x2:"20",y2:"14"}),m.jsx("line",{x1:"23",y1:"11",x2:"17",y2:"11"})]}),fallbackIcon:m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("path",{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}),m.jsx("polyline",{points:"22,6 12,13 2,6"})]})},{id:"merch",label:"Merch",path:"/merch",icon:m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("circle",{cx:"9",cy:"21",r:"1"}),m.jsx("circle",{cx:"20",cy:"21",r:"1"}),m.jsx("path",{d:"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"})]})},{id:"dashboard",label:"Dashboard",path:"/user-dashboard",requiresAuth:!0,icon:m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("rect",{x:"3",y:"3",width:"7",height:"7"}),m.jsx("rect",{x:"14",y:"3",width:"7",height:"7"}),m.jsx("rect",{x:"14",y:"14",width:"7",height:"7"}),m.jsx("rect",{x:"3",y:"14",width:"7",height:"7"})]})}];function bH(){const n=Yo(),{user:e}=Lo(),{isRecruitmentOpen:t}=Xf(),[r,i]=ae.useState(null),[s,o]=ae.useState(!1),u=ae.useRef(null);ae.useEffect(()=>{const w=()=>{o(window.innerWidth<=768)};return w(),window.addEventListener("resize",w),()=>window.removeEventListener("resize",w)},[]);const f=w=>{u.current=setTimeout(()=>{i(w)},500)},d=()=>{u.current&&clearTimeout(u.current),setTimeout(()=>i(null),1500)};if(!s)return null;const x=wH.filter(w=>!(w.requiresAuth&&!e));return m.jsx("nav",{className:"mobile-nav",children:m.jsx("div",{className:"mobile-nav__container",children:x.map(w=>{const A=w.requiresRecruitment&&!t&&w.fallbackPath||w.path,E=w.requiresRecruitment&&!t&&w.fallbackLabel||w.label,I=w.requiresRecruitment&&!t&&w.fallbackIcon?w.fallbackIcon:w.icon,C=n.pathname===A||A==="/"&&n.pathname==="/";return m.jsxs(Wi,{to:A,className:`mobile-nav__item ${C?"mobile-nav__item--active":""}`,onTouchStart:()=>f(w.id),onTouchEnd:d,onTouchCancel:d,children:[m.jsx("span",{className:"mobile-nav__icon",children:I}),r===w.id&&m.jsx("span",{className:"mobile-nav__tooltip",children:E})]},w.id)})})})}const EH=[{id:"home",label:"Home",path:"/"},{id:"about",label:"About",path:"/about"},{id:"events",label:"Events",path:"/events"},{id:"members",label:"Members",path:"/members"},{id:"join",label:"Join OrbitX",path:"/join",requiresRecruitment:!0,fallbackPath:"/contact",fallbackLabel:"Contact Us"},{id:"merch",label:"Merchandise",path:"/merch"}];function AH(){const n=Yo(),{isAuthenticated:e,logout:t}=Lo(),{isRecruitmentOpen:r}=Xf(),[i,s]=ae.useState(!1),[o,u]=ae.useState(!1);ae.useEffect(()=>{const x=()=>{u(window.innerWidth<=768)};return x(),window.addEventListener("resize",x),()=>window.removeEventListener("resize",x)},[]),ae.useEffect(()=>{s(!1)},[n.pathname]),ae.useEffect(()=>(i?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[i]);const f=()=>{s(!i)},d=async()=>{await t(),s(!1)};return o?m.jsxs(m.Fragment,{children:[m.jsxs("button",{className:`mobile-hamburger ${i?"mobile-hamburger--open":""}`,onClick:f,"aria-label":"Toggle menu",children:[m.jsx("span",{}),m.jsx("span",{}),m.jsx("span",{})]}),m.jsx("div",{className:`mobile-menu ${i?"mobile-menu--open":""}`,children:m.jsxs("div",{className:"mobile-menu__content",children:[m.jsx("nav",{className:"mobile-menu__nav",children:EH.map(x=>{const w=x.requiresRecruitment&&!r&&x.fallbackPath||x.path,A=x.requiresRecruitment&&!r&&x.fallbackLabel||x.label,E=n.pathname===w;return m.jsx(Wi,{to:w,className:`mobile-menu__link ${E?"mobile-menu__link--active":""}`,onClick:()=>s(!1),children:A},x.id)})}),m.jsx("div",{className:"mobile-menu__auth",children:e?m.jsxs(m.Fragment,{children:[m.jsx(Wi,{to:"/user-dashboard",className:"mobile-menu__auth-btn mobile-menu__auth-btn--primary",onClick:()=>s(!1),children:"Dashboard"}),m.jsx("button",{className:"mobile-menu__auth-btn mobile-menu__auth-btn--secondary",onClick:d,children:"Logout"})]}):m.jsx(Wi,{to:"/login",className:"mobile-menu__auth-btn mobile-menu__auth-btn--primary",onClick:()=>s(!1),children:"Login / Sign Up"})}),m.jsxs("div",{className:"mobile-menu__social",children:[m.jsx("a",{href:"https://www.instagram.com/orbitx_zcoer/",target:"_blank",rel:"noopener noreferrer",children:m.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:m.jsx("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"})})}),m.jsx("a",{href:"https://www.linkedin.com/company/orbitx-zcoer/",target:"_blank",rel:"noopener noreferrer",children:m.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:m.jsx("path",{d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"})})}),m.jsx("a",{href:"mailto:contact@orbitxzcoer.club",children:m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("path",{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}),m.jsx("polyline",{points:"22,6 12,13 2,6"})]})})]})]})})]}):null}function SH(){const n=Qa(),{isAuthenticated:e,loading:t}=Lo();return t?m.jsx("button",{className:"login-button login-button--loading",disabled:!0,children:"..."}):e?m.jsx("button",{className:"login-button",onClick:()=>n("/user-dashboard"),children:"Dashboard"}):m.jsx("button",{className:"login-button",onClick:()=>n("/login"),children:"Login"})}function TH(){return m.jsxs("section",{className:"hero",children:[m.jsxs("div",{className:"hero__container",children:[m.jsx("div",{className:"hero__logo-wrapper",children:m.jsx("img",{src:yw,alt:"OrbitX",className:"hero__logo"})}),m.jsx("h1",{className:"hero__headline",children:"Where Curiosity Meets The Cosmos"}),m.jsxs("p",{className:"hero__subheading",children:["Join us in pushing the boundaries of space exploration, innovation, and collaborative learning.",m.jsx("br",{}),"Together, we reach for the stars."]})]}),m.jsx("div",{className:"hero__scroll-indicator",children:m.jsx("svg",{className:"hero__arrow",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:m.jsx("path",{d:"M7 10L12 15L17 10",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})})]})}function NH(){return m.jsxs("section",{className:"about-teaser",children:[m.jsx("div",{className:"about-teaser__fade"}),m.jsxs("div",{className:"about-teaser__container",children:[m.jsx("div",{className:"about-teaser__image",children:m.jsx("div",{className:"about-teaser__placeholder"})}),m.jsxs("div",{className:"about-teaser__content",children:[m.jsx("h2",{className:"about-teaser__heading",children:"What is OrbitX?"}),m.jsxs("p",{className:"about-teaser__body",children:["OrbitX is a student-driven space and astronomy club focused on exploration, innovation, and hands-on learning.",m.jsx("br",{}),"We bring together curious minds to experiment, collaborate, and push beyond the classroom."]}),m.jsxs(Wi,{to:"/about",className:"about-teaser__button",children:["Explore More ",m.jsx("span",{className:"about-teaser__arrow",children:""})]})]})]})]})}const CH="modulepreload",IH=function(n){return"/orbitx-zcoer-website/"+n},FA={},o0=function(e,t,r){let i=Promise.resolve();if(t&&t.length>0){let f=function(d){return Promise.all(d.map(x=>Promise.resolve(x).then(w=>({status:"fulfilled",value:w}),w=>({status:"rejected",reason:w}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),u=o?.nonce||o?.getAttribute("nonce");i=f(t.map(d=>{if(d=IH(d),d in FA)return;FA[d]=!0;const x=d.endsWith(".css"),w=x?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${w}`))return;const A=document.createElement("link");if(A.rel=x?"stylesheet":CH,x||(A.as="script"),A.crossOrigin="",A.href=d,u&&A.setAttribute("nonce",u),document.head.appendChild(A),x)return new Promise((E,I)=>{A.addEventListener("load",E),A.addEventListener("error",()=>I(new Error(`Unable to preload CSS for ${d}`)))})}))}function s(o){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=o,window.dispatchEvent(u),!u.defaultPrevented)throw o}return i.then(o=>{for(const u of o||[])u.status==="rejected"&&s(u.reason);return e().catch(s)})},RH=n=>{if(!n)return"";try{const[e,t,r]=n.split("-").map(Number);return new Date(e,t-1,r).toLocaleDateString("en-IN",{day:"numeric",month:"long",year:"numeric"})}catch{return n}},OH=n=>{switch(n){case"Workshop":return"event-modal__badge--workshop";case"Talk":return"event-modal__badge--talk";case"Competition":return"event-modal__badge--competition";case"Outreach":return"event-modal__badge--outreach";default:return""}},kH=n=>n.isPast?"Past":n.type||"Event",DH=n=>!n||n===0?"event-modal__price--free":n<=100?"event-modal__price--low":n<=300?"event-modal__price--medium":n<=500?"event-modal__price--high":"event-modal__price--premium";function A5({event:n,isClosing:e,onClose:t,formatDate:r,onRegisterClick:i,isRegistered:s,onDownloadPass:o}){const[u,f]=ae.useState(0),[d,x]=ae.useState(!1),w=r||RH,A=G=>{G.target===G.currentTarget&&t()},E=G=>{const ce=D=>{const Z=D.trim().match(/(\d{1,2}):(\d{2})\s*(AM|PM)/i);if(!Z)return{hour:0,min:0};let U=parseInt(Z[1],10);const H=parseInt(Z[2],10),X=Z[3].toUpperCase();return X==="PM"&&U!==12&&(U+=12),X==="AM"&&U===12&&(U=0),{hour:U,min:H}},re=G.split(" - "),F=ce(re[0]||""),B=re[1]?ce(re[1]):{hour:F.hour+2,min:F.min};return{startHour:F.hour,startMin:F.min,endHour:B.hour,endMin:B.min}},I=()=>{const G=n.date.replace(/-/g,"");let ce="000000",re="235959";if(n.time){const B=E(n.time);ce=`${String(B.startHour).padStart(2,"0")}${String(B.startMin).padStart(2,"0")}00`,re=`${String(B.endHour).padStart(2,"0")}${String(B.endMin).padStart(2,"0")}00`}const F=new URL("https://calendar.google.com/calendar/render");F.searchParams.set("action","TEMPLATE"),F.searchParams.set("text",n.title),F.searchParams.set("dates",`${G}T${ce}/${G}T${re}`),F.searchParams.set("details",n.description),n.venue&&F.searchParams.set("location",n.venue),window.open(F.toString(),"_blank"),x(!1)},C=()=>{const[G,ce,re]=n.date.split("-").map(Number);let F=0,B=0,D=23,Z=59;if(n.time){const Re=E(n.time);F=Re.startHour,B=Re.startMin,D=Re.endHour,Z=Re.endMin}const U=(Re,He,ze,ve,q)=>`${Re}${String(He).padStart(2,"0")}${String(ze).padStart(2,"0")}T${String(ve).padStart(2,"0")}${String(q).padStart(2,"0")}00`,H=U(G,ce,re,F,B),X=U(G,ce,re,D,Z),ne=["BEGIN:VCALENDAR","VERSION:2.0","PRODID:-//OrbitX//Event//EN","BEGIN:VEVENT",`DTSTART:${H}`,`DTEND:${X}`,`SUMMARY:${n.title}`,`DESCRIPTION:${n.description.replace(/\n/g,"\\n")}`,`LOCATION:${n.venue||""}`,`UID:${n.id}@orbitx`,"END:VEVENT","END:VCALENDAR"].join(`\r
`),pe=new Blob([ne],{type:"text/calendar;charset=utf-8"}),Ae=URL.createObjectURL(pe),xe=document.createElement("a");xe.href=Ae,xe.download=`${n.title.replace(/[^a-z0-9]/gi,"_")}.ics`,document.body.appendChild(xe),xe.click(),document.body.removeChild(xe),URL.revokeObjectURL(Ae),x(!1)},L=n.images&&n.images.length>0,j=n.images&&n.images.length>1,W=()=>{n.images&&f(G=>G===n.images.length-1?0:G+1)},M=()=>{n.images&&f(G=>G===0?n.images.length-1:G-1)};return m.jsx("div",{className:`event-modal-overlay ${e?"event-modal-overlay--closing":""}`,onClick:A,children:m.jsxs("div",{className:`event-modal ${e?"event-modal--closing":""}`,children:[m.jsx("button",{className:"event-modal__close",onClick:t,children:""}),m.jsx("div",{className:"event-modal__image",children:L?m.jsxs(m.Fragment,{children:[j&&m.jsx("button",{className:"event-modal__nav event-modal__nav--prev",onClick:M,children:""}),m.jsx("img",{src:n.images[u],alt:n.title}),j&&m.jsx("button",{className:"event-modal__nav event-modal__nav--next",onClick:W,children:""}),j&&m.jsx("div",{className:"event-modal__dots",children:n.images.map((G,ce)=>m.jsx("span",{className:`event-modal__dot ${ce===u?"event-modal__dot--active":""}`,onClick:()=>f(ce)},ce))})]}):null}),m.jsxs("div",{className:"event-modal__content",children:[m.jsxs("div",{className:"event-modal__header-row",children:[m.jsx("span",{className:`event-modal__tag ${n.isPast?"event-modal__tag--past":OH(n.type)}`,children:kH(n)}),m.jsx("span",{className:`event-modal__price ${DH(n.amount)}`,children:n.amount&&n.amount>0?`${n.amount}`:"Free"})]}),m.jsx("h3",{className:"event-modal__title",children:n.title}),m.jsx("p",{className:"event-modal__desc",children:n.description}),m.jsxs("div",{className:"event-modal__details",children:[m.jsxs("div",{className:"event-modal__detail",children:[m.jsx("span",{className:"event-modal__label",children:"Date"}),m.jsx("span",{className:"event-modal__value",children:w(n.date)})]}),n.time&&m.jsxs("div",{className:"event-modal__detail",children:[m.jsx("span",{className:"event-modal__label",children:"Time"}),m.jsx("span",{className:"event-modal__value",children:n.time})]}),m.jsxs("div",{className:"event-modal__detail",children:[m.jsx("span",{className:"event-modal__label",children:"Location"}),n.venueUrl?m.jsxs("a",{href:n.venueUrl,target:"_blank",rel:"noopener noreferrer",className:"event-modal__value event-modal__value--link",children:[n.venue||"TBA",m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"}),m.jsx("polyline",{points:"15 3 21 3 21 9"}),m.jsx("line",{x1:"10",y1:"14",x2:"21",y2:"3"})]})]}):m.jsx("span",{className:"event-modal__value",children:n.venue||"TBA"})]})]}),n.isPast?m.jsx("span",{className:"event-modal__past-label",children:"This event has ended"}):m.jsxs("div",{className:"event-modal__actions",children:[s?m.jsx("button",{className:"event-modal__register-btn event-modal__register-btn--download",onClick:()=>o?.(n),children:"Download Pass"}):m.jsx("button",{className:`event-modal__register-btn ${n.registrationOpen?"":"event-modal__register-btn--disabled"}`,disabled:!n.registrationOpen,onClick:()=>n.registrationOpen&&i?.(n),children:n.registrationOpen?"Register Now ":"Registration Closed"}),m.jsxs("div",{className:"event-modal__calendar-wrapper",children:[m.jsxs("button",{className:"event-modal__calendar-btn",onClick:()=>x(!d),children:[m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),m.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),m.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),m.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),"Add to Calendar",m.jsx("svg",{className:"event-modal__calendar-arrow",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:m.jsx("polyline",{points:"6 9 12 15 18 9"})})]}),d&&m.jsxs("div",{className:"event-modal__calendar-menu",children:[m.jsxs("button",{onClick:I,className:"event-modal__calendar-option",children:[m.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:m.jsx("path",{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"})}),"Google Calendar"]}),m.jsxs("button",{onClick:C,className:"event-modal__calendar-option",children:[m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),m.jsx("polyline",{points:"7 10 12 15 17 10"}),m.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),"Download (.ics)"]})]})]})]})]})]})})}const LH=n=>{switch(n){case"Workshop":return"event-card__badge--workshop";case"Talk":return"event-card__badge--talk";case"Competition":return"event-card__badge--competition";case"Outreach":return"event-card__badge--outreach";default:return""}},MH=n=>n.type||"Event",PH=n=>!n||n===0?"event-card__price--free":n<=100?"event-card__price--low":n<=300?"event-card__price--medium":n<=500?"event-card__price--high":"event-card__price--premium";function Fy({event:n,onClick:e,variant:t="full",getTypeBadgeClass:r,onRegisterClick:i,isRegistered:s,onDownloadPass:o}){const u=r||LH,f=t==="teaser",d=()=>{e(n)},x=E=>{E.stopPropagation(),n.registrationOpen&&i&&i(n)},w=E=>{E.stopPropagation(),o&&o(n)},A=()=>n.isPast?m.jsx("span",{className:"event-card__status event-card__status--closed",children:"Event Completed"}):s?m.jsxs(m.Fragment,{children:[m.jsx("span",{className:"event-card__status event-card__status--registered",children:"Registered "}),m.jsx("button",{className:"event-card__cta event-card__cta--download",onClick:w,children:"Download Pass"})]}):m.jsxs(m.Fragment,{children:[m.jsx("span",{className:`event-card__status ${n.registrationOpen?"event-card__status--open":"event-card__status--closed"}`,children:n.registrationOpen?"Registration Open":"Closed"}),m.jsx("button",{className:`event-card__cta ${n.registrationOpen?"":"event-card__cta--disabled"}`,onClick:x,disabled:!n.registrationOpen,children:n.registrationOpen?"Register ":"Closed"})]});return m.jsxs("div",{className:"event-card",onClick:d,children:[m.jsx("div",{className:"event-card__image",children:n.images&&n.images.length>0&&m.jsx("img",{src:n.images[0],alt:n.title})}),m.jsxs("div",{className:"event-card__content",children:[m.jsxs("div",{className:"event-card__header",children:[m.jsx("span",{className:`event-card__tag ${u(n.type)}`,children:MH(n)}),m.jsx("span",{className:`event-card__price ${PH(n.amount)}`,children:n.amount&&n.amount>0?`${n.amount}`:"Free"})]}),m.jsx("h3",{className:"event-card__title",children:n.title}),f?m.jsxs("p",{className:"event-card__desc",children:[n.description.substring(0,100),n.description.length>100?"...":""]}):m.jsxs(m.Fragment,{children:[m.jsx("p",{className:"event-card__desc",children:n.date}),m.jsx("div",{className:"event-card__footer",children:A()})]})]})]})}const jH=n=>/^\d{4}$/.test(n),FH=n=>/^\d{3}[A-Za-z]$/.test(n),BH=n=>jH(n)?"aadhar":FH(n)?"pan":null,UH=n=>{if(!n)return"";try{const[e,t,r]=n.split("-").map(Number);return new Date(e,t-1,r).toLocaleDateString("en-IN",{day:"numeric",month:"long",year:"numeric"})}catch{return n}},n_=(n,e)=>`registration_${n}_${e}`;function VH({event:n,isOpen:e,onClose:t,userProfile:r,onRegisterComplete:i}){const[s,o]=ae.useState(""),[u,f]=ae.useState(null),[d,x]=ae.useState(!1),[w,A]=ae.useState(!1),[E,I]=ae.useState(""),[C,L]=ae.useState(!1),j=n.amount&&n.amount>0;ae.useEffect(()=>{if(e&&r&&n.id){const F=n_(n.id,r.orbitId),B=localStorage.getItem(F);if(B)try{const D=JSON.parse(B);o(D.govIdLast4||""),f(D.detectedIdType||null),x(D.agreedToTerms||!1)}catch{}}},[e,r,n.id]),ae.useEffect(()=>{if(r&&n.id&&(s||d)){const F=n_(n.id,r.orbitId);localStorage.setItem(F,JSON.stringify({govIdLast4:s,detectedIdType:u,agreedToTerms:d}))}},[s,u,d,r,n.id]);const W=F=>{const B=F.slice(0,4).toUpperCase();if(o(B),I(""),B.length===4){const D=BH(B);f(D),D||I("Invalid format. Enter 4 digits for Aadhar or 3 digits + 1 letter for PAN.")}else f(null)},M=()=>{L(!0),setTimeout(()=>{L(!1),t()},200)},G=F=>{F.target===F.currentTarget&&M()},ce=async()=>{if(!r){I("Please log in to register");return}if(s.length!==4){I("Please enter last 4 characters of your Government ID");return}if(!u){I("Invalid Government ID format");return}if(!d){I("Please agree to the terms and conditions");return}A(!0),I("");try{const F={orbitId:r.orbitId,fullName:`${r.firstName} ${r.lastName}`,email:r.email,mobile:r.mobile,collegeName:r.collegeName,eventId:n.id,eventName:n.title,eventDate:n.date,govIdType:u,govIdLast4:s,registeredAt:new Date().toISOString()},B=n_(n.id,r.orbitId);localStorage.removeItem(B),i(F)}catch{I("Registration failed. Please try again.")}finally{A(!1)}},re=()=>{if(!d){I("Please agree to the terms and conditions");return}if(s.length!==4||!u){I("Please enter valid Government ID");return}alert("Payment integration coming soon!")};return e?m.jsx("div",{className:`registration-modal-overlay ${C?"registration-modal-overlay--closing":""}`,onClick:G,children:m.jsxs("div",{className:`registration-modal ${C?"registration-modal--closing":""}`,children:[m.jsxs("div",{className:"registration-modal__header",children:[m.jsx("h2",{className:"registration-modal__title",children:"Event Registration"}),m.jsx("button",{className:"registration-modal__close",onClick:M,children:m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),m.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),m.jsxs("div",{className:"registration-modal__content",children:[m.jsxs("div",{className:"registration-modal__event-info",children:[m.jsx("h3",{className:"registration-modal__event-name",children:n.title}),m.jsx("p",{className:"registration-modal__event-date",children:UH(n.date)}),j&&m.jsxs("span",{className:"registration-modal__event-fee",children:["",n.amount]})]}),m.jsxs("div",{className:"registration-modal__section",children:[m.jsx("h4",{className:"registration-modal__section-title",children:"Your Details"}),m.jsxs("div",{className:"registration-modal__field",children:[m.jsx("label",{className:"registration-modal__label",children:"Orbit ID"}),m.jsx("input",{type:"text",className:"registration-modal__input registration-modal__input--readonly",value:r?.orbitId||"",readOnly:!0})]}),m.jsxs("div",{className:"registration-modal__field",children:[m.jsx("label",{className:"registration-modal__label",children:"Full Name"}),m.jsx("input",{type:"text",className:"registration-modal__input registration-modal__input--readonly",value:r?`${r.firstName} ${r.lastName}`:"",readOnly:!0})]}),m.jsxs("div",{className:"registration-modal__row",children:[m.jsxs("div",{className:"registration-modal__field",children:[m.jsx("label",{className:"registration-modal__label",children:"Email Address"}),m.jsx("input",{type:"email",className:"registration-modal__input registration-modal__input--readonly",value:r?.email||"",readOnly:!0})]}),m.jsxs("div",{className:"registration-modal__field",children:[m.jsx("label",{className:"registration-modal__label",children:"Mobile Number"}),m.jsx("input",{type:"tel",className:"registration-modal__input registration-modal__input--readonly",value:r?.mobile||"",readOnly:!0})]})]}),m.jsxs("div",{className:"registration-modal__field",children:[m.jsx("label",{className:"registration-modal__label",children:"College Name"}),m.jsx("input",{type:"text",className:"registration-modal__input registration-modal__input--readonly",value:r?.collegeName||"",readOnly:!0})]})]}),m.jsxs("div",{className:"registration-modal__section",children:[m.jsx("h4",{className:"registration-modal__section-title",children:"Identity Verification"}),m.jsxs("div",{className:"registration-modal__field",children:[m.jsx("label",{className:"registration-modal__label",children:"Government ID (Last 4 characters) *"}),m.jsx("input",{type:"text",className:"registration-modal__input",value:s,onChange:F=>W(F.target.value),placeholder:"e.g., 1234 for Aadhar or 123A for PAN",maxLength:4}),u&&m.jsxs("span",{className:"registration-modal__id-detected",children:["Detected: ",u==="aadhar"?"Aadhar Card":"PAN Card"]}),m.jsx("p",{className:"registration-modal__hint",children:"Enter last 4 digits of Aadhar (e.g., 1234) or last 4 characters of PAN (e.g., 123A)"})]})]}),m.jsx("div",{className:"registration-modal__terms",children:m.jsxs("label",{className:"registration-modal__checkbox-label",children:[m.jsx("input",{type:"checkbox",checked:d,onChange:F=>{x(F.target.checked),I("")}}),m.jsxs("span",{className:"registration-modal__checkbox-text",children:["I agree to the ",m.jsx("a",{href:"/terms",target:"_blank",children:"Terms and Conditions"})," and confirm that the information provided is accurate."]})]})}),E&&m.jsx("p",{className:"registration-modal__error",children:E}),m.jsx("div",{className:"registration-modal__actions",children:j?m.jsxs("button",{className:"registration-modal__btn registration-modal__btn--pay",onClick:re,disabled:w,children:["Pay ",n.amount]}):m.jsx("button",{className:"registration-modal__btn registration-modal__btn--register",onClick:ce,disabled:w,children:w?"Registering...":"Register"})})]})]})}):null}var jd={},r_,BA;function zH(){return BA||(BA=1,r_=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),r_}var i_={},wh={},UA;function Yf(){if(UA)return wh;UA=1;let n;const e=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return wh.getSymbolSize=function(r){if(!r)throw new Error('"version" cannot be null or undefined');if(r<1||r>40)throw new Error('"version" should be in range from 1 to 40');return r*4+17},wh.getSymbolTotalCodewords=function(r){return e[r]},wh.getBCHDigit=function(t){let r=0;for(;t!==0;)r++,t>>>=1;return r},wh.setToSJISFunction=function(r){if(typeof r!="function")throw new Error('"toSJISFunc" is not a valid function.');n=r},wh.isKanjiModeEnabled=function(){return typeof n<"u"},wh.toSJIS=function(r){return n(r)},wh}var s_={},VA;function S5(){return VA||(VA=1,(function(n){n.L={bit:1},n.M={bit:0},n.Q={bit:3},n.H={bit:2};function e(t){if(typeof t!="string")throw new Error("Param is not a string");switch(t.toLowerCase()){case"l":case"low":return n.L;case"m":case"medium":return n.M;case"q":case"quartile":return n.Q;case"h":case"high":return n.H;default:throw new Error("Unknown EC Level: "+t)}}n.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},n.from=function(r,i){if(n.isValid(r))return r;try{return e(r)}catch{return i}}})(s_)),s_}var a_,zA;function HH(){if(zA)return a_;zA=1;function n(){this.buffer=[],this.length=0}return n.prototype={get:function(e){const t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)===1},put:function(e,t){for(let r=0;r<t;r++)this.putBit((e>>>t-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},a_=n,a_}var o_,HA;function qH(){if(HA)return o_;HA=1;function n(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}return n.prototype.set=function(e,t,r,i){const s=e*this.size+t;this.data[s]=r,i&&(this.reservedBit[s]=!0)},n.prototype.get=function(e,t){return this.data[e*this.size+t]},n.prototype.xor=function(e,t,r){this.data[e*this.size+t]^=r},n.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]},o_=n,o_}var l_={},qA;function GH(){return qA||(qA=1,(function(n){const e=Yf().getSymbolSize;n.getRowColCoords=function(r){if(r===1)return[];const i=Math.floor(r/7)+2,s=e(r),o=s===145?26:Math.ceil((s-13)/(2*i-2))*2,u=[s-7];for(let f=1;f<i-1;f++)u[f]=u[f-1]-o;return u.push(6),u.reverse()},n.getPositions=function(r){const i=[],s=n.getRowColCoords(r),o=s.length;for(let u=0;u<o;u++)for(let f=0;f<o;f++)u===0&&f===0||u===0&&f===o-1||u===o-1&&f===0||i.push([s[u],s[f]]);return i}})(l_)),l_}var c_={},GA;function WH(){if(GA)return c_;GA=1;const n=Yf().getSymbolSize,e=7;return c_.getPositions=function(r){const i=n(r);return[[0,0],[i-e,0],[0,i-e]]},c_}var u_={},WA;function XH(){return WA||(WA=1,(function(n){n.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};n.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},n.from=function(i){return n.isValid(i)?parseInt(i,10):void 0},n.getPenaltyN1=function(i){const s=i.size;let o=0,u=0,f=0,d=null,x=null;for(let w=0;w<s;w++){u=f=0,d=x=null;for(let A=0;A<s;A++){let E=i.get(w,A);E===d?u++:(u>=5&&(o+=e.N1+(u-5)),d=E,u=1),E=i.get(A,w),E===x?f++:(f>=5&&(o+=e.N1+(f-5)),x=E,f=1)}u>=5&&(o+=e.N1+(u-5)),f>=5&&(o+=e.N1+(f-5))}return o},n.getPenaltyN2=function(i){const s=i.size;let o=0;for(let u=0;u<s-1;u++)for(let f=0;f<s-1;f++){const d=i.get(u,f)+i.get(u,f+1)+i.get(u+1,f)+i.get(u+1,f+1);(d===4||d===0)&&o++}return o*e.N2},n.getPenaltyN3=function(i){const s=i.size;let o=0,u=0,f=0;for(let d=0;d<s;d++){u=f=0;for(let x=0;x<s;x++)u=u<<1&2047|i.get(d,x),x>=10&&(u===1488||u===93)&&o++,f=f<<1&2047|i.get(x,d),x>=10&&(f===1488||f===93)&&o++}return o*e.N3},n.getPenaltyN4=function(i){let s=0;const o=i.data.length;for(let f=0;f<o;f++)s+=i.data[f];return Math.abs(Math.ceil(s*100/o/5)-10)*e.N4};function t(r,i,s){switch(r){case n.Patterns.PATTERN000:return(i+s)%2===0;case n.Patterns.PATTERN001:return i%2===0;case n.Patterns.PATTERN010:return s%3===0;case n.Patterns.PATTERN011:return(i+s)%3===0;case n.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(s/3))%2===0;case n.Patterns.PATTERN101:return i*s%2+i*s%3===0;case n.Patterns.PATTERN110:return(i*s%2+i*s%3)%2===0;case n.Patterns.PATTERN111:return(i*s%3+(i+s)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}n.applyMask=function(i,s){const o=s.size;for(let u=0;u<o;u++)for(let f=0;f<o;f++)s.isReserved(f,u)||s.xor(f,u,t(i,f,u))},n.getBestMask=function(i,s){const o=Object.keys(n.Patterns).length;let u=0,f=1/0;for(let d=0;d<o;d++){s(d),n.applyMask(d,i);const x=n.getPenaltyN1(i)+n.getPenaltyN2(i)+n.getPenaltyN3(i)+n.getPenaltyN4(i);n.applyMask(d,i),x<f&&(f=x,u=d)}return u}})(u_)),u_}var qg={},XA;function aI(){if(XA)return qg;XA=1;const n=S5(),e=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],t=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return qg.getBlocksCount=function(i,s){switch(s){case n.L:return e[(i-1)*4+0];case n.M:return e[(i-1)*4+1];case n.Q:return e[(i-1)*4+2];case n.H:return e[(i-1)*4+3];default:return}},qg.getTotalCodewordsCount=function(i,s){switch(s){case n.L:return t[(i-1)*4+0];case n.M:return t[(i-1)*4+1];case n.Q:return t[(i-1)*4+2];case n.H:return t[(i-1)*4+3];default:return}},qg}var h_={},A1={},YA;function YH(){if(YA)return A1;YA=1;const n=new Uint8Array(512),e=new Uint8Array(256);return(function(){let r=1;for(let i=0;i<255;i++)n[i]=r,e[r]=i,r<<=1,r&256&&(r^=285);for(let i=255;i<512;i++)n[i]=n[i-255]})(),A1.log=function(r){if(r<1)throw new Error("log("+r+")");return e[r]},A1.exp=function(r){return n[r]},A1.mul=function(r,i){return r===0||i===0?0:n[e[r]+e[i]]},A1}var KA;function KH(){return KA||(KA=1,(function(n){const e=YH();n.mul=function(r,i){const s=new Uint8Array(r.length+i.length-1);for(let o=0;o<r.length;o++)for(let u=0;u<i.length;u++)s[o+u]^=e.mul(r[o],i[u]);return s},n.mod=function(r,i){let s=new Uint8Array(r);for(;s.length-i.length>=0;){const o=s[0];for(let f=0;f<i.length;f++)s[f]^=e.mul(i[f],o);let u=0;for(;u<s.length&&s[u]===0;)u++;s=s.slice(u)}return s},n.generateECPolynomial=function(r){let i=new Uint8Array([1]);for(let s=0;s<r;s++)i=n.mul(i,new Uint8Array([1,e.exp(s)]));return i}})(h_)),h_}var f_,$A;function $H(){if($A)return f_;$A=1;const n=KH();function e(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}return e.prototype.initialize=function(r){this.degree=r,this.genPoly=n.generateECPolynomial(this.degree)},e.prototype.encode=function(r){if(!this.genPoly)throw new Error("Encoder not initialized");const i=new Uint8Array(r.length+this.degree);i.set(r);const s=n.mod(i,this.genPoly),o=this.degree-s.length;if(o>0){const u=new Uint8Array(this.degree);return u.set(s,o),u}return s},f_=e,f_}var d_={},m_={},g_={},ZA;function oI(){return ZA||(ZA=1,g_.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}),g_}var Uc={},QA;function lI(){if(QA)return Uc;QA=1;const n="[0-9]+",e="[A-Z $%*+\\-./:]+";let t="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";t=t.replace(/u/g,"\\u");const r="(?:(?![A-Z0-9 $%*+\\-./:]|"+t+`)(?:.|[\r
]))+`;Uc.KANJI=new RegExp(t,"g"),Uc.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),Uc.BYTE=new RegExp(r,"g"),Uc.NUMERIC=new RegExp(n,"g"),Uc.ALPHANUMERIC=new RegExp(e,"g");const i=new RegExp("^"+t+"$"),s=new RegExp("^"+n+"$"),o=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return Uc.testKanji=function(f){return i.test(f)},Uc.testNumeric=function(f){return s.test(f)},Uc.testAlphanumeric=function(f){return o.test(f)},Uc}var JA;function Kf(){return JA||(JA=1,(function(n){const e=oI(),t=lI();n.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},n.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},n.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},n.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},n.MIXED={bit:-1},n.getCharCountIndicator=function(s,o){if(!s.ccBits)throw new Error("Invalid mode: "+s);if(!e.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?s.ccBits[0]:o<27?s.ccBits[1]:s.ccBits[2]},n.getBestModeForData=function(s){return t.testNumeric(s)?n.NUMERIC:t.testAlphanumeric(s)?n.ALPHANUMERIC:t.testKanji(s)?n.KANJI:n.BYTE},n.toString=function(s){if(s&&s.id)return s.id;throw new Error("Invalid mode")},n.isValid=function(s){return s&&s.bit&&s.ccBits};function r(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return n.NUMERIC;case"alphanumeric":return n.ALPHANUMERIC;case"kanji":return n.KANJI;case"byte":return n.BYTE;default:throw new Error("Unknown mode: "+i)}}n.from=function(s,o){if(n.isValid(s))return s;try{return r(s)}catch{return o}}})(m_)),m_}var eS;function ZH(){return eS||(eS=1,(function(n){const e=Yf(),t=aI(),r=S5(),i=Kf(),s=oI(),o=7973,u=e.getBCHDigit(o);function f(A,E,I){for(let C=1;C<=40;C++)if(E<=n.getCapacity(C,I,A))return C}function d(A,E){return i.getCharCountIndicator(A,E)+4}function x(A,E){let I=0;return A.forEach(function(C){const L=d(C.mode,E);I+=L+C.getBitsLength()}),I}function w(A,E){for(let I=1;I<=40;I++)if(x(A,I)<=n.getCapacity(I,E,i.MIXED))return I}n.from=function(E,I){return s.isValid(E)?parseInt(E,10):I},n.getCapacity=function(E,I,C){if(!s.isValid(E))throw new Error("Invalid QR Code version");typeof C>"u"&&(C=i.BYTE);const L=e.getSymbolTotalCodewords(E),j=t.getTotalCodewordsCount(E,I),W=(L-j)*8;if(C===i.MIXED)return W;const M=W-d(C,E);switch(C){case i.NUMERIC:return Math.floor(M/10*3);case i.ALPHANUMERIC:return Math.floor(M/11*2);case i.KANJI:return Math.floor(M/13);case i.BYTE:default:return Math.floor(M/8)}},n.getBestVersionForData=function(E,I){let C;const L=r.from(I,r.M);if(Array.isArray(E)){if(E.length>1)return w(E,L);if(E.length===0)return 1;C=E[0]}else C=E;return f(C.mode,C.getLength(),L)},n.getEncodedBits=function(E){if(!s.isValid(E)||E<7)throw new Error("Invalid QR Code version");let I=E<<12;for(;e.getBCHDigit(I)-u>=0;)I^=o<<e.getBCHDigit(I)-u;return E<<12|I}})(d_)),d_}var p_={},tS;function QH(){if(tS)return p_;tS=1;const n=Yf(),e=1335,t=21522,r=n.getBCHDigit(e);return p_.getEncodedBits=function(s,o){const u=s.bit<<3|o;let f=u<<10;for(;n.getBCHDigit(f)-r>=0;)f^=e<<n.getBCHDigit(f)-r;return(u<<10|f)^t},p_}var x_={},v_,nS;function JH(){if(nS)return v_;nS=1;const n=Kf();function e(t){this.mode=n.NUMERIC,this.data=t.toString()}return e.getBitsLength=function(r){return 10*Math.floor(r/3)+(r%3?r%3*3+1:0)},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(r){let i,s,o;for(i=0;i+3<=this.data.length;i+=3)s=this.data.substr(i,3),o=parseInt(s,10),r.put(o,10);const u=this.data.length-i;u>0&&(s=this.data.substr(i),o=parseInt(s,10),r.put(o,u*3+1))},v_=e,v_}var __,rS;function eq(){if(rS)return __;rS=1;const n=Kf(),e=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function t(r){this.mode=n.ALPHANUMERIC,this.data=r}return t.getBitsLength=function(i){return 11*Math.floor(i/2)+6*(i%2)},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(i){let s;for(s=0;s+2<=this.data.length;s+=2){let o=e.indexOf(this.data[s])*45;o+=e.indexOf(this.data[s+1]),i.put(o,11)}this.data.length%2&&i.put(e.indexOf(this.data[s]),6)},__=t,__}var y_,iS;function tq(){if(iS)return y_;iS=1;const n=Kf();function e(t){this.mode=n.BYTE,typeof t=="string"?this.data=new TextEncoder().encode(t):this.data=new Uint8Array(t)}return e.getBitsLength=function(r){return r*8},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(t){for(let r=0,i=this.data.length;r<i;r++)t.put(this.data[r],8)},y_=e,y_}var w_,sS;function nq(){if(sS)return w_;sS=1;const n=Kf(),e=Yf();function t(r){this.mode=n.KANJI,this.data=r}return t.getBitsLength=function(i){return i*13},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(r){let i;for(i=0;i<this.data.length;i++){let s=e.toSJIS(this.data[i]);if(s>=33088&&s<=40956)s-=33088;else if(s>=57408&&s<=60351)s-=49472;else throw new Error("Invalid SJIS character: "+this.data[i]+`
Make sure your charset is UTF-8`);s=(s>>>8&255)*192+(s&255),r.put(s,13)}},w_=t,w_}var b_={exports:{}},aS;function rq(){return aS||(aS=1,(function(n){var e={single_source_shortest_paths:function(t,r,i){var s={},o={};o[r]=0;var u=e.PriorityQueue.make();u.push(r,0);for(var f,d,x,w,A,E,I,C,L;!u.empty();){f=u.pop(),d=f.value,w=f.cost,A=t[d]||{};for(x in A)A.hasOwnProperty(x)&&(E=A[x],I=w+E,C=o[x],L=typeof o[x]>"u",(L||C>I)&&(o[x]=I,u.push(x,I),s[x]=d))}if(typeof i<"u"&&typeof o[i]>"u"){var j=["Could not find a path from ",r," to ",i,"."].join("");throw new Error(j)}return s},extract_shortest_path_from_predecessor_list:function(t,r){for(var i=[],s=r;s;)i.push(s),t[s],s=t[s];return i.reverse(),i},find_path:function(t,r,i){var s=e.single_source_shortest_paths(t,r,i);return e.extract_shortest_path_from_predecessor_list(s,i)},PriorityQueue:{make:function(t){var r=e.PriorityQueue,i={},s;t=t||{};for(s in r)r.hasOwnProperty(s)&&(i[s]=r[s]);return i.queue=[],i.sorter=t.sorter||r.default_sorter,i},default_sorter:function(t,r){return t.cost-r.cost},push:function(t,r){var i={value:t,cost:r};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};n.exports=e})(b_)),b_.exports}var oS;function iq(){return oS||(oS=1,(function(n){const e=Kf(),t=JH(),r=eq(),i=tq(),s=nq(),o=lI(),u=Yf(),f=rq();function d(j){return unescape(encodeURIComponent(j)).length}function x(j,W,M){const G=[];let ce;for(;(ce=j.exec(M))!==null;)G.push({data:ce[0],index:ce.index,mode:W,length:ce[0].length});return G}function w(j){const W=x(o.NUMERIC,e.NUMERIC,j),M=x(o.ALPHANUMERIC,e.ALPHANUMERIC,j);let G,ce;return u.isKanjiModeEnabled()?(G=x(o.BYTE,e.BYTE,j),ce=x(o.KANJI,e.KANJI,j)):(G=x(o.BYTE_KANJI,e.BYTE,j),ce=[]),W.concat(M,G,ce).sort(function(F,B){return F.index-B.index}).map(function(F){return{data:F.data,mode:F.mode,length:F.length}})}function A(j,W){switch(W){case e.NUMERIC:return t.getBitsLength(j);case e.ALPHANUMERIC:return r.getBitsLength(j);case e.KANJI:return s.getBitsLength(j);case e.BYTE:return i.getBitsLength(j)}}function E(j){return j.reduce(function(W,M){const G=W.length-1>=0?W[W.length-1]:null;return G&&G.mode===M.mode?(W[W.length-1].data+=M.data,W):(W.push(M),W)},[])}function I(j){const W=[];for(let M=0;M<j.length;M++){const G=j[M];switch(G.mode){case e.NUMERIC:W.push([G,{data:G.data,mode:e.ALPHANUMERIC,length:G.length},{data:G.data,mode:e.BYTE,length:G.length}]);break;case e.ALPHANUMERIC:W.push([G,{data:G.data,mode:e.BYTE,length:G.length}]);break;case e.KANJI:W.push([G,{data:G.data,mode:e.BYTE,length:d(G.data)}]);break;case e.BYTE:W.push([{data:G.data,mode:e.BYTE,length:d(G.data)}])}}return W}function C(j,W){const M={},G={start:{}};let ce=["start"];for(let re=0;re<j.length;re++){const F=j[re],B=[];for(let D=0;D<F.length;D++){const Z=F[D],U=""+re+D;B.push(U),M[U]={node:Z,lastCount:0},G[U]={};for(let H=0;H<ce.length;H++){const X=ce[H];M[X]&&M[X].node.mode===Z.mode?(G[X][U]=A(M[X].lastCount+Z.length,Z.mode)-A(M[X].lastCount,Z.mode),M[X].lastCount+=Z.length):(M[X]&&(M[X].lastCount=Z.length),G[X][U]=A(Z.length,Z.mode)+4+e.getCharCountIndicator(Z.mode,W))}}ce=B}for(let re=0;re<ce.length;re++)G[ce[re]].end=0;return{map:G,table:M}}function L(j,W){let M;const G=e.getBestModeForData(j);if(M=e.from(W,G),M!==e.BYTE&&M.bit<G.bit)throw new Error('"'+j+'" cannot be encoded with mode '+e.toString(M)+`.
 Suggested mode is: `+e.toString(G));switch(M===e.KANJI&&!u.isKanjiModeEnabled()&&(M=e.BYTE),M){case e.NUMERIC:return new t(j);case e.ALPHANUMERIC:return new r(j);case e.KANJI:return new s(j);case e.BYTE:return new i(j)}}n.fromArray=function(W){return W.reduce(function(M,G){return typeof G=="string"?M.push(L(G,null)):G.data&&M.push(L(G.data,G.mode)),M},[])},n.fromString=function(W,M){const G=w(W,u.isKanjiModeEnabled()),ce=I(G),re=C(ce,M),F=f.find_path(re.map,"start","end"),B=[];for(let D=1;D<F.length-1;D++)B.push(re.table[F[D]].node);return n.fromArray(E(B))},n.rawSplit=function(W){return n.fromArray(w(W,u.isKanjiModeEnabled()))}})(x_)),x_}var lS;function sq(){if(lS)return i_;lS=1;const n=Yf(),e=S5(),t=HH(),r=qH(),i=GH(),s=WH(),o=XH(),u=aI(),f=$H(),d=ZH(),x=QH(),w=Kf(),A=iq();function E(re,F){const B=re.size,D=s.getPositions(F);for(let Z=0;Z<D.length;Z++){const U=D[Z][0],H=D[Z][1];for(let X=-1;X<=7;X++)if(!(U+X<=-1||B<=U+X))for(let ne=-1;ne<=7;ne++)H+ne<=-1||B<=H+ne||(X>=0&&X<=6&&(ne===0||ne===6)||ne>=0&&ne<=6&&(X===0||X===6)||X>=2&&X<=4&&ne>=2&&ne<=4?re.set(U+X,H+ne,!0,!0):re.set(U+X,H+ne,!1,!0))}}function I(re){const F=re.size;for(let B=8;B<F-8;B++){const D=B%2===0;re.set(B,6,D,!0),re.set(6,B,D,!0)}}function C(re,F){const B=i.getPositions(F);for(let D=0;D<B.length;D++){const Z=B[D][0],U=B[D][1];for(let H=-2;H<=2;H++)for(let X=-2;X<=2;X++)H===-2||H===2||X===-2||X===2||H===0&&X===0?re.set(Z+H,U+X,!0,!0):re.set(Z+H,U+X,!1,!0)}}function L(re,F){const B=re.size,D=d.getEncodedBits(F);let Z,U,H;for(let X=0;X<18;X++)Z=Math.floor(X/3),U=X%3+B-8-3,H=(D>>X&1)===1,re.set(Z,U,H,!0),re.set(U,Z,H,!0)}function j(re,F,B){const D=re.size,Z=x.getEncodedBits(F,B);let U,H;for(U=0;U<15;U++)H=(Z>>U&1)===1,U<6?re.set(U,8,H,!0):U<8?re.set(U+1,8,H,!0):re.set(D-15+U,8,H,!0),U<8?re.set(8,D-U-1,H,!0):U<9?re.set(8,15-U-1+1,H,!0):re.set(8,15-U-1,H,!0);re.set(D-8,8,1,!0)}function W(re,F){const B=re.size;let D=-1,Z=B-1,U=7,H=0;for(let X=B-1;X>0;X-=2)for(X===6&&X--;;){for(let ne=0;ne<2;ne++)if(!re.isReserved(Z,X-ne)){let pe=!1;H<F.length&&(pe=(F[H]>>>U&1)===1),re.set(Z,X-ne,pe),U--,U===-1&&(H++,U=7)}if(Z+=D,Z<0||B<=Z){Z-=D,D=-D;break}}}function M(re,F,B){const D=new t;B.forEach(function(ne){D.put(ne.mode.bit,4),D.put(ne.getLength(),w.getCharCountIndicator(ne.mode,re)),ne.write(D)});const Z=n.getSymbolTotalCodewords(re),U=u.getTotalCodewordsCount(re,F),H=(Z-U)*8;for(D.getLengthInBits()+4<=H&&D.put(0,4);D.getLengthInBits()%8!==0;)D.putBit(0);const X=(H-D.getLengthInBits())/8;for(let ne=0;ne<X;ne++)D.put(ne%2?17:236,8);return G(D,re,F)}function G(re,F,B){const D=n.getSymbolTotalCodewords(F),Z=u.getTotalCodewordsCount(F,B),U=D-Z,H=u.getBlocksCount(F,B),X=D%H,ne=H-X,pe=Math.floor(D/H),Ae=Math.floor(U/H),xe=Ae+1,Re=pe-Ae,He=new f(Re);let ze=0;const ve=new Array(H),q=new Array(H);let J=0;const Q=new Uint8Array(re.buffer);for(let Fe=0;Fe<H;Fe++){const Ie=Fe<ne?Ae:xe;ve[Fe]=Q.slice(ze,ze+Ie),q[Fe]=He.encode(ve[Fe]),ze+=Ie,J=Math.max(J,Ie)}const oe=new Uint8Array(D);let de=0,De,Ve;for(De=0;De<J;De++)for(Ve=0;Ve<H;Ve++)De<ve[Ve].length&&(oe[de++]=ve[Ve][De]);for(De=0;De<Re;De++)for(Ve=0;Ve<H;Ve++)oe[de++]=q[Ve][De];return oe}function ce(re,F,B,D){let Z;if(Array.isArray(re))Z=A.fromArray(re);else if(typeof re=="string"){let pe=F;if(!pe){const Ae=A.rawSplit(re);pe=d.getBestVersionForData(Ae,B)}Z=A.fromString(re,pe||40)}else throw new Error("Invalid data");const U=d.getBestVersionForData(Z,B);if(!U)throw new Error("The amount of data is too big to be stored in a QR Code");if(!F)F=U;else if(F<U)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+U+`.
`);const H=M(F,B,Z),X=n.getSymbolSize(F),ne=new r(X);return E(ne,F),I(ne),C(ne,F),j(ne,B,0),F>=7&&L(ne,F),W(ne,H),isNaN(D)&&(D=o.getBestMask(ne,j.bind(null,ne,B))),o.applyMask(D,ne),j(ne,B,D),{modules:ne,version:F,errorCorrectionLevel:B,maskPattern:D,segments:Z}}return i_.create=function(F,B){if(typeof F>"u"||F==="")throw new Error("No input text");let D=e.M,Z,U;return typeof B<"u"&&(D=e.from(B.errorCorrectionLevel,e.M),Z=d.from(B.version),U=o.from(B.maskPattern),B.toSJISFunc&&n.setToSJISFunction(B.toSJISFunc)),ce(F,Z,D,U)},i_}var E_={},A_={},cS;function cI(){return cS||(cS=1,(function(n){function e(t){if(typeof t=="number"&&(t=t.toString()),typeof t!="string")throw new Error("Color should be defined as hex string");let r=t.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+t);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(s){return[s,s]}))),r.length===6&&r.push("F","F");const i=parseInt(r.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+r.slice(0,6).join("")}}n.getOptions=function(r){r||(r={}),r.color||(r.color={});const i=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,s=r.width&&r.width>=21?r.width:void 0,o=r.scale||4;return{width:s,scale:s?4:o,margin:i,color:{dark:e(r.color.dark||"#000000ff"),light:e(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},n.getScale=function(r,i){return i.width&&i.width>=r+i.margin*2?i.width/(r+i.margin*2):i.scale},n.getImageWidth=function(r,i){const s=n.getScale(r,i);return Math.floor((r+i.margin*2)*s)},n.qrToImageData=function(r,i,s){const o=i.modules.size,u=i.modules.data,f=n.getScale(o,s),d=Math.floor((o+s.margin*2)*f),x=s.margin*f,w=[s.color.light,s.color.dark];for(let A=0;A<d;A++)for(let E=0;E<d;E++){let I=(A*d+E)*4,C=s.color.light;if(A>=x&&E>=x&&A<d-x&&E<d-x){const L=Math.floor((A-x)/f),j=Math.floor((E-x)/f);C=w[u[L*o+j]?1:0]}r[I++]=C.r,r[I++]=C.g,r[I++]=C.b,r[I]=C.a}}})(A_)),A_}var uS;function aq(){return uS||(uS=1,(function(n){const e=cI();function t(i,s,o){i.clearRect(0,0,s.width,s.height),s.style||(s.style={}),s.height=o,s.width=o,s.style.height=o+"px",s.style.width=o+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}n.render=function(s,o,u){let f=u,d=o;typeof f>"u"&&(!o||!o.getContext)&&(f=o,o=void 0),o||(d=r()),f=e.getOptions(f);const x=e.getImageWidth(s.modules.size,f),w=d.getContext("2d"),A=w.createImageData(x,x);return e.qrToImageData(A.data,s,f),t(w,d,x),w.putImageData(A,0,0),d},n.renderToDataURL=function(s,o,u){let f=u;typeof f>"u"&&(!o||!o.getContext)&&(f=o,o=void 0),f||(f={});const d=n.render(s,o,f),x=f.type||"image/png",w=f.rendererOpts||{};return d.toDataURL(x,w.quality)}})(E_)),E_}var S_={},hS;function oq(){if(hS)return S_;hS=1;const n=cI();function e(i,s){const o=i.a/255,u=s+'="'+i.hex+'"';return o<1?u+" "+s+'-opacity="'+o.toFixed(2).slice(1)+'"':u}function t(i,s,o){let u=i+s;return typeof o<"u"&&(u+=" "+o),u}function r(i,s,o){let u="",f=0,d=!1,x=0;for(let w=0;w<i.length;w++){const A=Math.floor(w%s),E=Math.floor(w/s);!A&&!d&&(d=!0),i[w]?(x++,w>0&&A>0&&i[w-1]||(u+=d?t("M",A+o,.5+E+o):t("m",f,0),f=0,d=!1),A+1<s&&i[w+1]||(u+=t("h",x),x=0)):f++}return u}return S_.render=function(s,o,u){const f=n.getOptions(o),d=s.modules.size,x=s.modules.data,w=d+f.margin*2,A=f.color.light.a?"<path "+e(f.color.light,"fill")+' d="M0 0h'+w+"v"+w+'H0z"/>':"",E="<path "+e(f.color.dark,"stroke")+' d="'+r(x,d,f.margin)+'"/>',I='viewBox="0 0 '+w+" "+w+'"',L='<svg xmlns="http://www.w3.org/2000/svg" '+(f.width?'width="'+f.width+'" height="'+f.width+'" ':"")+I+' shape-rendering="crispEdges">'+A+E+`</svg>
`;return typeof u=="function"&&u(null,L),L},S_}var fS;function lq(){if(fS)return jd;fS=1;const n=zH(),e=sq(),t=aq(),r=oq();function i(s,o,u,f,d){const x=[].slice.call(arguments,1),w=x.length,A=typeof x[w-1]=="function";if(!A&&!n())throw new Error("Callback required as last argument");if(A){if(w<2)throw new Error("Too few arguments provided");w===2?(d=u,u=o,o=f=void 0):w===3&&(o.getContext&&typeof d>"u"?(d=f,f=void 0):(d=f,f=u,u=o,o=void 0))}else{if(w<1)throw new Error("Too few arguments provided");return w===1?(u=o,o=f=void 0):w===2&&!o.getContext&&(f=u,u=o,o=void 0),new Promise(function(E,I){try{const C=e.create(u,f);E(s(C,o,f))}catch(C){I(C)}})}try{const E=e.create(u,f);d(null,s(E,o,f))}catch(E){d(E)}}return jd.create=e.create,jd.toCanvas=i.bind(null,t.render),jd.toDataURL=i.bind(null,t.renderToDataURL),jd.toString=i.bind(null,function(s,o,u){return r.render(s,u)}),jd}var cq=lq();const uq=C2(cq);function Ei(n){"@babel/helpers - typeof";return Ei=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ei(n)}var Ec=Uint8Array,Dl=Uint16Array,T5=Int32Array,N5=new Ec([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),C5=new Ec([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),dS=new Ec([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),uI=function(n,e){for(var t=new Dl(31),r=0;r<31;++r)t[r]=e+=1<<n[r-1];for(var i=new T5(t[30]),r=1;r<30;++r)for(var s=t[r];s<t[r+1];++s)i[s]=s-t[r]<<5|r;return{b:t,r:i}},hI=uI(N5,2),hq=hI.b,By=hI.r;hq[28]=258,By[258]=28;var fq=uI(C5,0),mS=fq.r,Uy=new Dl(32768);for(var rs=0;rs<32768;++rs){var bh=(rs&43690)>>1|(rs&21845)<<1;bh=(bh&52428)>>2|(bh&13107)<<2,bh=(bh&61680)>>4|(bh&3855)<<4,Uy[rs]=((bh&65280)>>8|(bh&255)<<8)>>1}var G1=(function(n,e,t){for(var r=n.length,i=0,s=new Dl(e);i<r;++i)n[i]&&++s[n[i]-1];var o=new Dl(e);for(i=1;i<e;++i)o[i]=o[i-1]+s[i-1]<<1;var u;if(t){u=new Dl(1<<e);var f=15-e;for(i=0;i<r;++i)if(n[i])for(var d=i<<4|n[i],x=e-n[i],w=o[n[i]-1]++<<x,A=w|(1<<x)-1;w<=A;++w)u[Uy[w]>>f]=d}else for(u=new Dl(r),i=0;i<r;++i)n[i]&&(u[i]=Uy[o[n[i]-1]++]>>15-n[i]);return u}),Pf=new Ec(288);for(var rs=0;rs<144;++rs)Pf[rs]=8;for(var rs=144;rs<256;++rs)Pf[rs]=9;for(var rs=256;rs<280;++rs)Pf[rs]=7;for(var rs=280;rs<288;++rs)Pf[rs]=8;var e2=new Ec(32);for(var rs=0;rs<32;++rs)e2[rs]=5;var dq=G1(Pf,9,0),mq=G1(e2,5,0),fI=function(n){return(n+7)/8|0},gq=function(n,e,t){return(t==null||t>n.length)&&(t=n.length),new Ec(n.subarray(e,t))},Nu=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8},S1=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8,n[r+2]|=t>>16},T_=function(n,e){for(var t=[],r=0;r<n.length;++r)n[r]&&t.push({s:r,f:n[r]});var i=t.length,s=t.slice();if(!i)return{t:mI,l:0};if(i==1){var o=new Ec(t[0].s+1);return o[t[0].s]=1,{t:o,l:1}}t.sort(function(ce,re){return ce.f-re.f}),t.push({s:-1,f:25001});var u=t[0],f=t[1],d=0,x=1,w=2;for(t[0]={s:-1,f:u.f+f.f,l:u,r:f};x!=i-1;)u=t[t[d].f<t[w].f?d++:w++],f=t[d!=x&&t[d].f<t[w].f?d++:w++],t[x++]={s:-1,f:u.f+f.f,l:u,r:f};for(var A=s[0].s,r=1;r<i;++r)s[r].s>A&&(A=s[r].s);var E=new Dl(A+1),I=Vy(t[x-1],E,0);if(I>e){var r=0,C=0,L=I-e,j=1<<L;for(s.sort(function(re,F){return E[F.s]-E[re.s]||re.f-F.f});r<i;++r){var W=s[r].s;if(E[W]>e)C+=j-(1<<I-E[W]),E[W]=e;else break}for(C>>=L;C>0;){var M=s[r].s;E[M]<e?C-=1<<e-E[M]++-1:++r}for(;r>=0&&C;--r){var G=s[r].s;E[G]==e&&(--E[G],++C)}I=e}return{t:new Ec(E),l:I}},Vy=function(n,e,t){return n.s==-1?Math.max(Vy(n.l,e,t+1),Vy(n.r,e,t+1)):e[n.s]=t},gS=function(n){for(var e=n.length;e&&!n[--e];);for(var t=new Dl(++e),r=0,i=n[0],s=1,o=function(f){t[r++]=f},u=1;u<=e;++u)if(n[u]==i&&u!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(i),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(i);s=1,i=n[u]}return{c:t.subarray(0,r),n:e}},T1=function(n,e){for(var t=0,r=0;r<e.length;++r)t+=n[r]*e[r];return t},dI=function(n,e,t){var r=t.length,i=fI(e+2);n[i]=r&255,n[i+1]=r>>8,n[i+2]=n[i]^255,n[i+3]=n[i+1]^255;for(var s=0;s<r;++s)n[i+s+4]=t[s];return(i+4+r)*8},pS=function(n,e,t,r,i,s,o,u,f,d,x){Nu(e,x++,t),++i[256];for(var w=T_(i,15),A=w.t,E=w.l,I=T_(s,15),C=I.t,L=I.l,j=gS(A),W=j.c,M=j.n,G=gS(C),ce=G.c,re=G.n,F=new Dl(19),B=0;B<W.length;++B)++F[W[B]&31];for(var B=0;B<ce.length;++B)++F[ce[B]&31];for(var D=T_(F,7),Z=D.t,U=D.l,H=19;H>4&&!Z[dS[H-1]];--H);var X=d+5<<3,ne=T1(i,Pf)+T1(s,e2)+o,pe=T1(i,A)+T1(s,C)+o+14+3*H+T1(F,Z)+2*F[16]+3*F[17]+7*F[18];if(f>=0&&X<=ne&&X<=pe)return dI(e,x,n.subarray(f,f+d));var Ae,xe,Re,He;if(Nu(e,x,1+(pe<ne)),x+=2,pe<ne){Ae=G1(A,E,0),xe=A,Re=G1(C,L,0),He=C;var ze=G1(Z,U,0);Nu(e,x,M-257),Nu(e,x+5,re-1),Nu(e,x+10,H-4),x+=14;for(var B=0;B<H;++B)Nu(e,x+3*B,Z[dS[B]]);x+=3*H;for(var ve=[W,ce],q=0;q<2;++q)for(var J=ve[q],B=0;B<J.length;++B){var Q=J[B]&31;Nu(e,x,ze[Q]),x+=Z[Q],Q>15&&(Nu(e,x,J[B]>>5&127),x+=J[B]>>12)}}else Ae=dq,xe=Pf,Re=mq,He=e2;for(var B=0;B<u;++B){var oe=r[B];if(oe>255){var Q=oe>>18&31;S1(e,x,Ae[Q+257]),x+=xe[Q+257],Q>7&&(Nu(e,x,oe>>23&31),x+=N5[Q]);var de=oe&31;S1(e,x,Re[de]),x+=He[de],de>3&&(S1(e,x,oe>>5&8191),x+=C5[de])}else S1(e,x,Ae[oe]),x+=xe[oe]}return S1(e,x,Ae[256]),x+xe[256]},pq=new T5([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),mI=new Ec(0),xq=function(n,e,t,r,i,s){var o=s.z||n.length,u=new Ec(r+o+5*(1+Math.ceil(o/7e3))+i),f=u.subarray(r,u.length-i),d=s.l,x=(s.r||0)&7;if(e){x&&(f[0]=s.r>>3);for(var w=pq[e-1],A=w>>13,E=w&8191,I=(1<<t)-1,C=s.p||new Dl(32768),L=s.h||new Dl(I+1),j=Math.ceil(t/3),W=2*j,M=function(Rt){return(n[Rt]^n[Rt+1]<<j^n[Rt+2]<<W)&I},G=new T5(25e3),ce=new Dl(288),re=new Dl(32),F=0,B=0,D=s.i||0,Z=0,U=s.w||0,H=0;D+2<o;++D){var X=M(D),ne=D&32767,pe=L[X];if(C[ne]=pe,L[X]=ne,U<=D){var Ae=o-D;if((F>7e3||Z>24576)&&(Ae>423||!d)){x=pS(n,f,0,G,ce,re,B,Z,H,D-H,x),Z=F=B=0,H=D;for(var xe=0;xe<286;++xe)ce[xe]=0;for(var xe=0;xe<30;++xe)re[xe]=0}var Re=2,He=0,ze=E,ve=ne-pe&32767;if(Ae>2&&X==M(D-ve))for(var q=Math.min(A,Ae)-1,J=Math.min(32767,D),Q=Math.min(258,Ae);ve<=J&&--ze&&ne!=pe;){if(n[D+Re]==n[D+Re-ve]){for(var oe=0;oe<Q&&n[D+oe]==n[D+oe-ve];++oe);if(oe>Re){if(Re=oe,He=ve,oe>q)break;for(var de=Math.min(ve,oe-2),De=0,xe=0;xe<de;++xe){var Ve=D-ve+xe&32767,Fe=C[Ve],Ie=Ve-Fe&32767;Ie>De&&(De=Ie,pe=Ve)}}}ne=pe,pe=C[ne],ve+=ne-pe&32767}if(He){G[Z++]=268435456|By[Re]<<18|mS[He];var Qe=By[Re]&31,St=mS[He]&31;B+=N5[Qe]+C5[St],++ce[257+Qe],++re[St],U=D+Re,++F}else G[Z++]=n[D],++ce[n[D]]}}for(D=Math.max(D,U);D<o;++D)G[Z++]=n[D],++ce[n[D]];x=pS(n,f,d,G,ce,re,B,Z,H,D-H,x),d||(s.r=x&7|f[x/8|0]<<3,x-=7,s.h=L,s.p=C,s.i=D,s.w=U)}else{for(var D=s.w||0;D<o+d;D+=65535){var Tt=D+65535;Tt>=o&&(f[x/8|0]=d,Tt=o),x=dI(f,x+1,n.subarray(D,Tt))}s.i=o}return gq(u,0,r+fI(x)+i)},gI=function(){var n=1,e=0;return{p:function(t){for(var r=n,i=e,s=t.length|0,o=0;o!=s;){for(var u=Math.min(o+2655,s);o<u;++o)i+=r+=t[o];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}n=r,e=i},d:function(){return n%=65521,e%=65521,(n&255)<<24|(n&65280)<<8|(e&255)<<8|e>>8}}},vq=function(n,e,t,r,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),o=new Ec(s.length+n.length);o.set(s),o.set(n,s.length),n=o,i.w=s.length}return xq(n,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+e.mem,t,r,i)},pI=function(n,e,t){for(;t;++e)n[e]=t,t>>>=8},_q=function(n,e){var t=e.level,r=t==0?0:t<6?1:t==9?3:2;if(n[0]=120,n[1]=r<<6|(e.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,e.dictionary){var i=gI();i.p(e.dictionary),pI(n,2,i.d())}};function zy(n,e){e||(e={});var t=gI();t.p(n);var r=vq(n,e,e.dictionary?6:2,4);return _q(r,e),pI(r,r.length-4,t.d()),r}var yq=typeof TextDecoder<"u"&&new TextDecoder,wq=0;try{yq.decode(mI,{stream:!0}),wq=1}catch{}function bq(n){if(Array.isArray(n))return n}function Eq(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,i,s,o,u=[],f=!0,d=!1;try{if(s=(t=t.call(n)).next,e!==0)for(;!(f=(r=s.call(t)).done)&&(u.push(r.value),u.length!==e);f=!0);}catch(x){d=!0,i=x}finally{try{if(!f&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(d)throw i}}return u}}function xS(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function Aq(n,e){if(n){if(typeof n=="string")return xS(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?xS(n,e):void 0}}function Sq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vS(n,e){return bq(n)||Eq(n,e)||Aq(n,e)||Sq()}function _S(n,e="utf8"){return new TextDecoder(e).decode(n)}const Tq=new TextEncoder;function Nq(n){return Tq.encode(n)}const Cq=1024*8,Iq=(()=>{const n=new Uint8Array(4),e=new Uint32Array(n.buffer);return!((e[0]=1)&n[0])})(),N_={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class I5{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=Cq,t={}){let r=!1;typeof e=="number"?e=new ArrayBuffer(e):(r=!0,this.lastWrittenByte=e.byteLength);const i=t.offset?t.offset>>>0:0,s=e.byteLength-i;let o=i;(ArrayBuffer.isView(e)||e instanceof I5)&&(e.byteLength!==e.buffer.byteLength&&(o=e.byteOffset+i),e=e.buffer),r?this.lastWrittenByte=s:this.lastWrittenByte=0,this.buffer=e,this.length=s,this.byteLength=s,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,s),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const r=(this.offset+e)*2,i=new Uint8Array(r);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,t){const r=N_[t].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,s=this.buffer.slice(i,i+r);if(this.littleEndian===Iq&&t!=="uint8"&&t!=="int8"){const u=new Uint8Array(this.buffer.slice(i,i+r));u.reverse();const f=new N_[t](u.buffer);return this.offset+=r,f.reverse(),f}const o=new N_[t](s);return this.offset+=r,o}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let t="";for(let r=0;r<e;r++)t+=this.readChar();return t}readUtf8(e=1){return _S(this.readBytes(e))}decodeText(e=1,t="utf8"){return _S(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(Nq(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function P0(n){let e=n.length;for(;--e>=0;)n[e]=0}const Rq=3,Oq=258,xI=29,kq=256,Dq=kq+1+xI,vI=30,Lq=512,Mq=new Array((Dq+2)*2);P0(Mq);const Pq=new Array(vI*2);P0(Pq);const jq=new Array(Lq);P0(jq);const Fq=new Array(Oq-Rq+1);P0(Fq);const Bq=new Array(xI);P0(Bq);const Uq=new Array(vI);P0(Uq);const Vq=(n,e,t,r)=>{let i=n&65535|0,s=n>>>16&65535|0,o=0;for(;t!==0;){o=t>2e3?2e3:t,t-=o;do i=i+e[r++]|0,s=s+i|0;while(--o);i%=65521,s%=65521}return i|s<<16|0};var Hy=Vq;const zq=()=>{let n,e=[];for(var t=0;t<256;t++){n=t;for(var r=0;r<8;r++)n=n&1?3988292384^n>>>1:n>>>1;e[t]=n}return e},Hq=new Uint32Array(zq()),qq=(n,e,t,r)=>{const i=Hq,s=r+t;n^=-1;for(let o=r;o<s;o++)n=n>>>8^i[(n^e[o])&255];return n^-1};var Vc=qq,qy={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},_I={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const Gq=(n,e)=>Object.prototype.hasOwnProperty.call(n,e);var Wq=function(n){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const t=e.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const r in t)Gq(t,r)&&(n[r]=t[r])}}return n},Xq=n=>{let e=0;for(let r=0,i=n.length;r<i;r++)e+=n[r].length;const t=new Uint8Array(e);for(let r=0,i=0,s=n.length;r<s;r++){let o=n[r];t.set(o,i),i+=o.length}return t},yI={assign:Wq,flattenChunks:Xq};let wI=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{wI=!1}const cm=new Uint8Array(256);for(let n=0;n<256;n++)cm[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;cm[254]=cm[254]=1;var Yq=n=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(n);let e,t,r,i,s,o=n.length,u=0;for(i=0;i<o;i++)t=n.charCodeAt(i),(t&64512)===55296&&i+1<o&&(r=n.charCodeAt(i+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),i++)),u+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(u),s=0,i=0;s<u;i++)t=n.charCodeAt(i),(t&64512)===55296&&i+1<o&&(r=n.charCodeAt(i+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),i++)),t<128?e[s++]=t:t<2048?(e[s++]=192|t>>>6,e[s++]=128|t&63):t<65536?(e[s++]=224|t>>>12,e[s++]=128|t>>>6&63,e[s++]=128|t&63):(e[s++]=240|t>>>18,e[s++]=128|t>>>12&63,e[s++]=128|t>>>6&63,e[s++]=128|t&63);return e};const Kq=(n,e)=>{if(e<65534&&n.subarray&&wI)return String.fromCharCode.apply(null,n.length===e?n:n.subarray(0,e));let t="";for(let r=0;r<e;r++)t+=String.fromCharCode(n[r]);return t};var $q=(n,e)=>{const t=e||n.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(n.subarray(0,e));let r,i;const s=new Array(t*2);for(i=0,r=0;r<t;){let o=n[r++];if(o<128){s[i++]=o;continue}let u=cm[o];if(u>4){s[i++]=65533,r+=u-1;continue}for(o&=u===2?31:u===3?15:7;u>1&&r<t;)o=o<<6|n[r++]&63,u--;if(u>1){s[i++]=65533;continue}o<65536?s[i++]=o:(o-=65536,s[i++]=55296|o>>10&1023,s[i++]=56320|o&1023)}return Kq(s,i)},Zq=(n,e)=>{e=e||n.length,e>n.length&&(e=n.length);let t=e-1;for(;t>=0&&(n[t]&192)===128;)t--;return t<0||t===0?e:t+cm[n[t]]>e?t:e},Gy={string2buf:Yq,buf2string:$q,utf8border:Zq};function Qq(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var Jq=Qq;const Gg=16209,eG=16191;var tG=function(e,t){let r,i,s,o,u,f,d,x,w,A,E,I,C,L,j,W,M,G,ce,re,F,B,D,Z;const U=e.state;r=e.next_in,D=e.input,i=r+(e.avail_in-5),s=e.next_out,Z=e.output,o=s-(t-e.avail_out),u=s+(e.avail_out-257),f=U.dmax,d=U.wsize,x=U.whave,w=U.wnext,A=U.window,E=U.hold,I=U.bits,C=U.lencode,L=U.distcode,j=(1<<U.lenbits)-1,W=(1<<U.distbits)-1;e:do{I<15&&(E+=D[r++]<<I,I+=8,E+=D[r++]<<I,I+=8),M=C[E&j];t:for(;;){if(G=M>>>24,E>>>=G,I-=G,G=M>>>16&255,G===0)Z[s++]=M&65535;else if(G&16){ce=M&65535,G&=15,G&&(I<G&&(E+=D[r++]<<I,I+=8),ce+=E&(1<<G)-1,E>>>=G,I-=G),I<15&&(E+=D[r++]<<I,I+=8,E+=D[r++]<<I,I+=8),M=L[E&W];n:for(;;){if(G=M>>>24,E>>>=G,I-=G,G=M>>>16&255,G&16){if(re=M&65535,G&=15,I<G&&(E+=D[r++]<<I,I+=8,I<G&&(E+=D[r++]<<I,I+=8)),re+=E&(1<<G)-1,re>f){e.msg="invalid distance too far back",U.mode=Gg;break e}if(E>>>=G,I-=G,G=s-o,re>G){if(G=re-G,G>x&&U.sane){e.msg="invalid distance too far back",U.mode=Gg;break e}if(F=0,B=A,w===0){if(F+=d-G,G<ce){ce-=G;do Z[s++]=A[F++];while(--G);F=s-re,B=Z}}else if(w<G){if(F+=d+w-G,G-=w,G<ce){ce-=G;do Z[s++]=A[F++];while(--G);if(F=0,w<ce){G=w,ce-=G;do Z[s++]=A[F++];while(--G);F=s-re,B=Z}}}else if(F+=w-G,G<ce){ce-=G;do Z[s++]=A[F++];while(--G);F=s-re,B=Z}for(;ce>2;)Z[s++]=B[F++],Z[s++]=B[F++],Z[s++]=B[F++],ce-=3;ce&&(Z[s++]=B[F++],ce>1&&(Z[s++]=B[F++]))}else{F=s-re;do Z[s++]=Z[F++],Z[s++]=Z[F++],Z[s++]=Z[F++],ce-=3;while(ce>2);ce&&(Z[s++]=Z[F++],ce>1&&(Z[s++]=Z[F++]))}}else if((G&64)===0){M=L[(M&65535)+(E&(1<<G)-1)];continue n}else{e.msg="invalid distance code",U.mode=Gg;break e}break}}else if((G&64)===0){M=C[(M&65535)+(E&(1<<G)-1)];continue t}else if(G&32){U.mode=eG;break e}else{e.msg="invalid literal/length code",U.mode=Gg;break e}break}}while(r<i&&s<u);ce=I>>3,r-=ce,I-=ce<<3,E&=(1<<I)-1,e.next_in=r,e.next_out=s,e.avail_in=r<i?5+(i-r):5-(r-i),e.avail_out=s<u?257+(u-s):257-(s-u),U.hold=E,U.bits=I};const Fd=15,yS=852,wS=592,bS=0,C_=1,ES=2,nG=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),rG=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),iG=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),sG=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),aG=(n,e,t,r,i,s,o,u)=>{const f=u.bits;let d=0,x=0,w=0,A=0,E=0,I=0,C=0,L=0,j=0,W=0,M,G,ce,re,F,B=null,D;const Z=new Uint16Array(Fd+1),U=new Uint16Array(Fd+1);let H=null,X,ne,pe;for(d=0;d<=Fd;d++)Z[d]=0;for(x=0;x<r;x++)Z[e[t+x]]++;for(E=f,A=Fd;A>=1&&Z[A]===0;A--);if(E>A&&(E=A),A===0)return i[s++]=1<<24|64<<16|0,i[s++]=1<<24|64<<16|0,u.bits=1,0;for(w=1;w<A&&Z[w]===0;w++);for(E<w&&(E=w),L=1,d=1;d<=Fd;d++)if(L<<=1,L-=Z[d],L<0)return-1;if(L>0&&(n===bS||A!==1))return-1;for(U[1]=0,d=1;d<Fd;d++)U[d+1]=U[d]+Z[d];for(x=0;x<r;x++)e[t+x]!==0&&(o[U[e[t+x]]++]=x);if(n===bS?(B=H=o,D=20):n===C_?(B=nG,H=rG,D=257):(B=iG,H=sG,D=0),W=0,x=0,d=w,F=s,I=E,C=0,ce=-1,j=1<<E,re=j-1,n===C_&&j>yS||n===ES&&j>wS)return 1;for(;;){X=d-C,o[x]+1<D?(ne=0,pe=o[x]):o[x]>=D?(ne=H[o[x]-D],pe=B[o[x]-D]):(ne=96,pe=0),M=1<<d-C,G=1<<I,w=G;do G-=M,i[F+(W>>C)+G]=X<<24|ne<<16|pe|0;while(G!==0);for(M=1<<d-1;W&M;)M>>=1;if(M!==0?(W&=M-1,W+=M):W=0,x++,--Z[d]===0){if(d===A)break;d=e[t+o[x]]}if(d>E&&(W&re)!==ce){for(C===0&&(C=E),F+=w,I=d-C,L=1<<I;I+C<A&&(L-=Z[I+C],!(L<=0));)I++,L<<=1;if(j+=1<<I,n===C_&&j>yS||n===ES&&j>wS)return 1;ce=W&re,i[ce]=E<<24|I<<16|F-s|0}}return W!==0&&(i[F+W]=d-C<<24|64<<16|0),u.bits=E,0};var W1=aG;const oG=0,bI=1,EI=2,{Z_FINISH:AS,Z_BLOCK:lG,Z_TREES:Wg,Z_OK:jf,Z_STREAM_END:cG,Z_NEED_DICT:uG,Z_STREAM_ERROR:Zl,Z_DATA_ERROR:AI,Z_MEM_ERROR:SI,Z_BUF_ERROR:hG,Z_DEFLATED:SS}=_I,ix=16180,TS=16181,NS=16182,CS=16183,IS=16184,RS=16185,OS=16186,kS=16187,DS=16188,LS=16189,t2=16190,Cu=16191,I_=16192,MS=16193,R_=16194,PS=16195,jS=16196,FS=16197,BS=16198,Xg=16199,Yg=16200,US=16201,VS=16202,zS=16203,HS=16204,qS=16205,O_=16206,GS=16207,WS=16208,hs=16209,TI=16210,NI=16211,fG=852,dG=592,mG=15,gG=mG,XS=n=>(n>>>24&255)+(n>>>8&65280)+((n&65280)<<8)+((n&255)<<24);function pG(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const $f=n=>{if(!n)return 1;const e=n.state;return!e||e.strm!==n||e.mode<ix||e.mode>NI?1:0},CI=n=>{if($f(n))return Zl;const e=n.state;return n.total_in=n.total_out=e.total=0,n.msg="",e.wrap&&(n.adler=e.wrap&1),e.mode=ix,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(fG),e.distcode=e.distdyn=new Int32Array(dG),e.sane=1,e.back=-1,jf},II=n=>{if($f(n))return Zl;const e=n.state;return e.wsize=0,e.whave=0,e.wnext=0,CI(n)},RI=(n,e)=>{let t;if($f(n))return Zl;const r=n.state;return e<0?(t=0,e=-e):(t=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Zl:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=t,r.wbits=e,II(n))},OI=(n,e)=>{if(!n)return Zl;const t=new pG;n.state=t,t.strm=n,t.window=null,t.mode=ix;const r=RI(n,e);return r!==jf&&(n.state=null),r},xG=n=>OI(n,gG);let YS=!0,k_,D_;const vG=n=>{if(YS){k_=new Int32Array(512),D_=new Int32Array(32);let e=0;for(;e<144;)n.lens[e++]=8;for(;e<256;)n.lens[e++]=9;for(;e<280;)n.lens[e++]=7;for(;e<288;)n.lens[e++]=8;for(W1(bI,n.lens,0,288,k_,0,n.work,{bits:9}),e=0;e<32;)n.lens[e++]=5;W1(EI,n.lens,0,32,D_,0,n.work,{bits:5}),YS=!1}n.lencode=k_,n.lenbits=9,n.distcode=D_,n.distbits=5},kI=(n,e,t,r)=>{let i;const s=n.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),r>=s.wsize?(s.window.set(e.subarray(t-s.wsize,t),0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>r&&(i=r),s.window.set(e.subarray(t-r,t-r+i),s.wnext),r-=i,r?(s.window.set(e.subarray(t-r,t),0),s.wnext=r,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0},_G=(n,e)=>{let t,r,i,s,o,u,f,d,x,w,A,E,I,C,L=0,j,W,M,G,ce,re,F,B;const D=new Uint8Array(4);let Z,U;const H=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if($f(n)||!n.output||!n.input&&n.avail_in!==0)return Zl;t=n.state,t.mode===Cu&&(t.mode=I_),o=n.next_out,i=n.output,f=n.avail_out,s=n.next_in,r=n.input,u=n.avail_in,d=t.hold,x=t.bits,w=u,A=f,B=jf;e:for(;;)switch(t.mode){case ix:if(t.wrap===0){t.mode=I_;break}for(;x<16;){if(u===0)break e;u--,d+=r[s++]<<x,x+=8}if(t.wrap&2&&d===35615){t.wbits===0&&(t.wbits=15),t.check=0,D[0]=d&255,D[1]=d>>>8&255,t.check=Vc(t.check,D,2,0),d=0,x=0,t.mode=TS;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((d&255)<<8)+(d>>8))%31){n.msg="incorrect header check",t.mode=hs;break}if((d&15)!==SS){n.msg="unknown compression method",t.mode=hs;break}if(d>>>=4,x-=4,F=(d&15)+8,t.wbits===0&&(t.wbits=F),F>15||F>t.wbits){n.msg="invalid window size",t.mode=hs;break}t.dmax=1<<t.wbits,t.flags=0,n.adler=t.check=1,t.mode=d&512?LS:Cu,d=0,x=0;break;case TS:for(;x<16;){if(u===0)break e;u--,d+=r[s++]<<x,x+=8}if(t.flags=d,(t.flags&255)!==SS){n.msg="unknown compression method",t.mode=hs;break}if(t.flags&57344){n.msg="unknown header flags set",t.mode=hs;break}t.head&&(t.head.text=d>>8&1),t.flags&512&&t.wrap&4&&(D[0]=d&255,D[1]=d>>>8&255,t.check=Vc(t.check,D,2,0)),d=0,x=0,t.mode=NS;case NS:for(;x<32;){if(u===0)break e;u--,d+=r[s++]<<x,x+=8}t.head&&(t.head.time=d),t.flags&512&&t.wrap&4&&(D[0]=d&255,D[1]=d>>>8&255,D[2]=d>>>16&255,D[3]=d>>>24&255,t.check=Vc(t.check,D,4,0)),d=0,x=0,t.mode=CS;case CS:for(;x<16;){if(u===0)break e;u--,d+=r[s++]<<x,x+=8}t.head&&(t.head.xflags=d&255,t.head.os=d>>8),t.flags&512&&t.wrap&4&&(D[0]=d&255,D[1]=d>>>8&255,t.check=Vc(t.check,D,2,0)),d=0,x=0,t.mode=IS;case IS:if(t.flags&1024){for(;x<16;){if(u===0)break e;u--,d+=r[s++]<<x,x+=8}t.length=d,t.head&&(t.head.extra_len=d),t.flags&512&&t.wrap&4&&(D[0]=d&255,D[1]=d>>>8&255,t.check=Vc(t.check,D,2,0)),d=0,x=0}else t.head&&(t.head.extra=null);t.mode=RS;case RS:if(t.flags&1024&&(E=t.length,E>u&&(E=u),E&&(t.head&&(F=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(r.subarray(s,s+E),F)),t.flags&512&&t.wrap&4&&(t.check=Vc(t.check,r,E,s)),u-=E,s+=E,t.length-=E),t.length))break e;t.length=0,t.mode=OS;case OS:if(t.flags&2048){if(u===0)break e;E=0;do F=r[s+E++],t.head&&F&&t.length<65536&&(t.head.name+=String.fromCharCode(F));while(F&&E<u);if(t.flags&512&&t.wrap&4&&(t.check=Vc(t.check,r,E,s)),u-=E,s+=E,F)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=kS;case kS:if(t.flags&4096){if(u===0)break e;E=0;do F=r[s+E++],t.head&&F&&t.length<65536&&(t.head.comment+=String.fromCharCode(F));while(F&&E<u);if(t.flags&512&&t.wrap&4&&(t.check=Vc(t.check,r,E,s)),u-=E,s+=E,F)break e}else t.head&&(t.head.comment=null);t.mode=DS;case DS:if(t.flags&512){for(;x<16;){if(u===0)break e;u--,d+=r[s++]<<x,x+=8}if(t.wrap&4&&d!==(t.check&65535)){n.msg="header crc mismatch",t.mode=hs;break}d=0,x=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),n.adler=t.check=0,t.mode=Cu;break;case LS:for(;x<32;){if(u===0)break e;u--,d+=r[s++]<<x,x+=8}n.adler=t.check=XS(d),d=0,x=0,t.mode=t2;case t2:if(t.havedict===0)return n.next_out=o,n.avail_out=f,n.next_in=s,n.avail_in=u,t.hold=d,t.bits=x,uG;n.adler=t.check=1,t.mode=Cu;case Cu:if(e===lG||e===Wg)break e;case I_:if(t.last){d>>>=x&7,x-=x&7,t.mode=O_;break}for(;x<3;){if(u===0)break e;u--,d+=r[s++]<<x,x+=8}switch(t.last=d&1,d>>>=1,x-=1,d&3){case 0:t.mode=MS;break;case 1:if(vG(t),t.mode=Xg,e===Wg){d>>>=2,x-=2;break e}break;case 2:t.mode=jS;break;case 3:n.msg="invalid block type",t.mode=hs}d>>>=2,x-=2;break;case MS:for(d>>>=x&7,x-=x&7;x<32;){if(u===0)break e;u--,d+=r[s++]<<x,x+=8}if((d&65535)!==(d>>>16^65535)){n.msg="invalid stored block lengths",t.mode=hs;break}if(t.length=d&65535,d=0,x=0,t.mode=R_,e===Wg)break e;case R_:t.mode=PS;case PS:if(E=t.length,E){if(E>u&&(E=u),E>f&&(E=f),E===0)break e;i.set(r.subarray(s,s+E),o),u-=E,s+=E,f-=E,o+=E,t.length-=E;break}t.mode=Cu;break;case jS:for(;x<14;){if(u===0)break e;u--,d+=r[s++]<<x,x+=8}if(t.nlen=(d&31)+257,d>>>=5,x-=5,t.ndist=(d&31)+1,d>>>=5,x-=5,t.ncode=(d&15)+4,d>>>=4,x-=4,t.nlen>286||t.ndist>30){n.msg="too many length or distance symbols",t.mode=hs;break}t.have=0,t.mode=FS;case FS:for(;t.have<t.ncode;){for(;x<3;){if(u===0)break e;u--,d+=r[s++]<<x,x+=8}t.lens[H[t.have++]]=d&7,d>>>=3,x-=3}for(;t.have<19;)t.lens[H[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,Z={bits:t.lenbits},B=W1(oG,t.lens,0,19,t.lencode,0,t.work,Z),t.lenbits=Z.bits,B){n.msg="invalid code lengths set",t.mode=hs;break}t.have=0,t.mode=BS;case BS:for(;t.have<t.nlen+t.ndist;){for(;L=t.lencode[d&(1<<t.lenbits)-1],j=L>>>24,W=L>>>16&255,M=L&65535,!(j<=x);){if(u===0)break e;u--,d+=r[s++]<<x,x+=8}if(M<16)d>>>=j,x-=j,t.lens[t.have++]=M;else{if(M===16){for(U=j+2;x<U;){if(u===0)break e;u--,d+=r[s++]<<x,x+=8}if(d>>>=j,x-=j,t.have===0){n.msg="invalid bit length repeat",t.mode=hs;break}F=t.lens[t.have-1],E=3+(d&3),d>>>=2,x-=2}else if(M===17){for(U=j+3;x<U;){if(u===0)break e;u--,d+=r[s++]<<x,x+=8}d>>>=j,x-=j,F=0,E=3+(d&7),d>>>=3,x-=3}else{for(U=j+7;x<U;){if(u===0)break e;u--,d+=r[s++]<<x,x+=8}d>>>=j,x-=j,F=0,E=11+(d&127),d>>>=7,x-=7}if(t.have+E>t.nlen+t.ndist){n.msg="invalid bit length repeat",t.mode=hs;break}for(;E--;)t.lens[t.have++]=F}}if(t.mode===hs)break;if(t.lens[256]===0){n.msg="invalid code -- missing end-of-block",t.mode=hs;break}if(t.lenbits=9,Z={bits:t.lenbits},B=W1(bI,t.lens,0,t.nlen,t.lencode,0,t.work,Z),t.lenbits=Z.bits,B){n.msg="invalid literal/lengths set",t.mode=hs;break}if(t.distbits=6,t.distcode=t.distdyn,Z={bits:t.distbits},B=W1(EI,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,Z),t.distbits=Z.bits,B){n.msg="invalid distances set",t.mode=hs;break}if(t.mode=Xg,e===Wg)break e;case Xg:t.mode=Yg;case Yg:if(u>=6&&f>=258){n.next_out=o,n.avail_out=f,n.next_in=s,n.avail_in=u,t.hold=d,t.bits=x,tG(n,A),o=n.next_out,i=n.output,f=n.avail_out,s=n.next_in,r=n.input,u=n.avail_in,d=t.hold,x=t.bits,t.mode===Cu&&(t.back=-1);break}for(t.back=0;L=t.lencode[d&(1<<t.lenbits)-1],j=L>>>24,W=L>>>16&255,M=L&65535,!(j<=x);){if(u===0)break e;u--,d+=r[s++]<<x,x+=8}if(W&&(W&240)===0){for(G=j,ce=W,re=M;L=t.lencode[re+((d&(1<<G+ce)-1)>>G)],j=L>>>24,W=L>>>16&255,M=L&65535,!(G+j<=x);){if(u===0)break e;u--,d+=r[s++]<<x,x+=8}d>>>=G,x-=G,t.back+=G}if(d>>>=j,x-=j,t.back+=j,t.length=M,W===0){t.mode=qS;break}if(W&32){t.back=-1,t.mode=Cu;break}if(W&64){n.msg="invalid literal/length code",t.mode=hs;break}t.extra=W&15,t.mode=US;case US:if(t.extra){for(U=t.extra;x<U;){if(u===0)break e;u--,d+=r[s++]<<x,x+=8}t.length+=d&(1<<t.extra)-1,d>>>=t.extra,x-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=VS;case VS:for(;L=t.distcode[d&(1<<t.distbits)-1],j=L>>>24,W=L>>>16&255,M=L&65535,!(j<=x);){if(u===0)break e;u--,d+=r[s++]<<x,x+=8}if((W&240)===0){for(G=j,ce=W,re=M;L=t.distcode[re+((d&(1<<G+ce)-1)>>G)],j=L>>>24,W=L>>>16&255,M=L&65535,!(G+j<=x);){if(u===0)break e;u--,d+=r[s++]<<x,x+=8}d>>>=G,x-=G,t.back+=G}if(d>>>=j,x-=j,t.back+=j,W&64){n.msg="invalid distance code",t.mode=hs;break}t.offset=M,t.extra=W&15,t.mode=zS;case zS:if(t.extra){for(U=t.extra;x<U;){if(u===0)break e;u--,d+=r[s++]<<x,x+=8}t.offset+=d&(1<<t.extra)-1,d>>>=t.extra,x-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){n.msg="invalid distance too far back",t.mode=hs;break}t.mode=HS;case HS:if(f===0)break e;if(E=A-f,t.offset>E){if(E=t.offset-E,E>t.whave&&t.sane){n.msg="invalid distance too far back",t.mode=hs;break}E>t.wnext?(E-=t.wnext,I=t.wsize-E):I=t.wnext-E,E>t.length&&(E=t.length),C=t.window}else C=i,I=o-t.offset,E=t.length;E>f&&(E=f),f-=E,t.length-=E;do i[o++]=C[I++];while(--E);t.length===0&&(t.mode=Yg);break;case qS:if(f===0)break e;i[o++]=t.length,f--,t.mode=Yg;break;case O_:if(t.wrap){for(;x<32;){if(u===0)break e;u--,d|=r[s++]<<x,x+=8}if(A-=f,n.total_out+=A,t.total+=A,t.wrap&4&&A&&(n.adler=t.check=t.flags?Vc(t.check,i,A,o-A):Hy(t.check,i,A,o-A)),A=f,t.wrap&4&&(t.flags?d:XS(d))!==t.check){n.msg="incorrect data check",t.mode=hs;break}d=0,x=0}t.mode=GS;case GS:if(t.wrap&&t.flags){for(;x<32;){if(u===0)break e;u--,d+=r[s++]<<x,x+=8}if(t.wrap&4&&d!==(t.total&4294967295)){n.msg="incorrect length check",t.mode=hs;break}d=0,x=0}t.mode=WS;case WS:B=cG;break e;case hs:B=AI;break e;case TI:return SI;case NI:default:return Zl}return n.next_out=o,n.avail_out=f,n.next_in=s,n.avail_in=u,t.hold=d,t.bits=x,(t.wsize||A!==n.avail_out&&t.mode<hs&&(t.mode<O_||e!==AS))&&kI(n,n.output,n.next_out,A-n.avail_out),w-=n.avail_in,A-=n.avail_out,n.total_in+=w,n.total_out+=A,t.total+=A,t.wrap&4&&A&&(n.adler=t.check=t.flags?Vc(t.check,i,A,n.next_out-A):Hy(t.check,i,A,n.next_out-A)),n.data_type=t.bits+(t.last?64:0)+(t.mode===Cu?128:0)+(t.mode===Xg||t.mode===R_?256:0),(w===0&&A===0||e===AS)&&B===jf&&(B=hG),B},yG=n=>{if($f(n))return Zl;let e=n.state;return e.window&&(e.window=null),n.state=null,jf},wG=(n,e)=>{if($f(n))return Zl;const t=n.state;return(t.wrap&2)===0?Zl:(t.head=e,e.done=!1,jf)},bG=(n,e)=>{const t=e.length;let r,i,s;return $f(n)||(r=n.state,r.wrap!==0&&r.mode!==t2)?Zl:r.mode===t2&&(i=1,i=Hy(i,e,t,0),i!==r.check)?AI:(s=kI(n,e,t,t),s?(r.mode=TI,SI):(r.havedict=1,jf))};var EG=II,AG=RI,SG=CI,TG=xG,NG=OI,CG=_G,IG=yG,RG=wG,OG=bG,kG="pako inflate (from Nodeca project)",Ru={inflateReset:EG,inflateReset2:AG,inflateResetKeep:SG,inflateInit:TG,inflateInit2:NG,inflate:CG,inflateEnd:IG,inflateGetHeader:RG,inflateSetDictionary:OG,inflateInfo:kG};function DG(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var LG=DG;const DI=Object.prototype.toString,{Z_NO_FLUSH:MG,Z_FINISH:PG,Z_OK:um,Z_STREAM_END:L_,Z_NEED_DICT:M_,Z_STREAM_ERROR:jG,Z_DATA_ERROR:KS,Z_MEM_ERROR:FG}=_I;function Lm(n){this.options=yI.assign({chunkSize:1024*64,windowBits:15,to:""},n||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(n&&n.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Jq,this.strm.avail_out=0;let t=Ru.inflateInit2(this.strm,e.windowBits);if(t!==um)throw new Error(qy[t]);if(this.header=new LG,Ru.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=Gy.string2buf(e.dictionary):DI.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=Ru.inflateSetDictionary(this.strm,e.dictionary),t!==um)))throw new Error(qy[t])}Lm.prototype.push=function(n,e){const t=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let s,o,u;if(this.ended)return!1;for(e===~~e?o=e:o=e===!0?PG:MG,DI.call(n)==="[object ArrayBuffer]"?t.input=new Uint8Array(n):t.input=n,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(r),t.next_out=0,t.avail_out=r),s=Ru.inflate(t,o),s===M_&&i&&(s=Ru.inflateSetDictionary(t,i),s===um?s=Ru.inflate(t,o):s===KS&&(s=M_));t.avail_in>0&&s===L_&&t.state.wrap>0&&n[t.next_in]!==0;)Ru.inflateReset(t),s=Ru.inflate(t,o);switch(s){case jG:case KS:case M_:case FG:return this.onEnd(s),this.ended=!0,!1}if(u=t.avail_out,t.next_out&&(t.avail_out===0||s===L_))if(this.options.to==="string"){let f=Gy.utf8border(t.output,t.next_out),d=t.next_out-f,x=Gy.buf2string(t.output,f);t.next_out=d,t.avail_out=r-d,d&&t.output.set(t.output.subarray(f,f+d),0),this.onData(x)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(s===um&&u===0)){if(s===L_)return s=Ru.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};Lm.prototype.onData=function(n){this.chunks.push(n)};Lm.prototype.onEnd=function(n){n===um&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=yI.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};function BG(n,e){const t=new Lm(e);if(t.push(n),t.err)throw t.msg||qy[t.err];return t.result}var UG=Lm,VG=BG,zG={Inflate:UG,inflate:VG};const{Inflate:HG,inflate:qG}=zG;var $S=HG,GG=qG;const LI=[];for(let n=0;n<256;n++){let e=n;for(let t=0;t<8;t++)e&1?e=3988292384^e>>>1:e=e>>>1;LI[n]=e}const ZS=4294967295;function WG(n,e,t){let r=n;for(let i=0;i<t;i++)r=LI[(r^e[i])&255]^r>>>8;return r}function XG(n,e){return(WG(ZS,n,e)^ZS)>>>0}function QS(n,e,t){const r=n.readUint32(),i=XG(new Uint8Array(n.buffer,n.byteOffset+n.offset-e-4,e),e);if(i!==r)throw new Error(`CRC mismatch for chunk ${t}. Expected ${r}, found ${i}`)}function MI(n,e,t){for(let r=0;r<t;r++)e[r]=n[r]}function PI(n,e,t,r){let i=0;for(;i<r;i++)e[i]=n[i];for(;i<t;i++)e[i]=n[i]+e[i-r]&255}function jI(n,e,t,r){let i=0;if(t.length===0)for(;i<r;i++)e[i]=n[i];else for(;i<r;i++)e[i]=n[i]+t[i]&255}function FI(n,e,t,r,i){let s=0;if(t.length===0){for(;s<i;s++)e[s]=n[s];for(;s<r;s++)e[s]=n[s]+(e[s-i]>>1)&255}else{for(;s<i;s++)e[s]=n[s]+(t[s]>>1)&255;for(;s<r;s++)e[s]=n[s]+(e[s-i]+t[s]>>1)&255}}function BI(n,e,t,r,i){let s=0;if(t.length===0){for(;s<i;s++)e[s]=n[s];for(;s<r;s++)e[s]=n[s]+e[s-i]&255}else{for(;s<i;s++)e[s]=n[s]+t[s]&255;for(;s<r;s++)e[s]=n[s]+YG(e[s-i],t[s],t[s-i])&255}}function YG(n,e,t){const r=n+e-t,i=Math.abs(r-n),s=Math.abs(r-e),o=Math.abs(r-t);return i<=s&&i<=o?n:s<=o?e:t}function KG(n,e,t,r,i,s){switch(n){case 0:MI(e,t,i);break;case 1:PI(e,t,i,s);break;case 2:jI(e,t,r,i);break;case 3:FI(e,t,r,i,s);break;case 4:BI(e,t,r,i,s);break;default:throw new Error(`Unsupported filter: ${n}`)}}const $G=new Uint16Array([255]),ZG=new Uint8Array($G.buffer),QG=ZG[0]===255;function JG(n){const{data:e,width:t,height:r,channels:i,depth:s}=n,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],u=Math.ceil(s/8)*i,f=new Uint8Array(r*t*u);let d=0;for(let x=0;x<7;x++){const w=o[x],A=Math.ceil((t-w.x)/w.xStep),E=Math.ceil((r-w.y)/w.yStep);if(A<=0||E<=0)continue;const I=A*u,C=new Uint8Array(I);for(let L=0;L<E;L++){const j=e[d++],W=e.subarray(d,d+I);d+=I;const M=new Uint8Array(I);KG(j,W,M,C,I,u),C.set(M);for(let G=0;G<A;G++){const ce=w.x+G*w.xStep,re=w.y+L*w.yStep;if(!(ce>=t||re>=r))for(let F=0;F<u;F++)f[(re*t+ce)*u+F]=M[G*u+F]}}}if(s===16){const x=new Uint16Array(f.buffer);if(QG)for(let w=0;w<x.length;w++)x[w]=eW(x[w]);return x}else return f}function eW(n){return(n&255)<<8|n>>8&255}const tW=new Uint16Array([255]),nW=new Uint8Array(tW.buffer),rW=nW[0]===255,iW=new Uint8Array(0);function JS(n){const{data:e,width:t,height:r,channels:i,depth:s}=n,o=Math.ceil(s/8)*i,u=Math.ceil(s/8*i*t),f=new Uint8Array(r*u);let d=iW,x=0,w,A;for(let E=0;E<r;E++){switch(w=e.subarray(x+1,x+1+u),A=f.subarray(E*u,(E+1)*u),e[x]){case 0:MI(w,A,u);break;case 1:PI(w,A,u,o);break;case 2:jI(w,A,d,u);break;case 3:FI(w,A,d,u,o);break;case 4:BI(w,A,d,u,o);break;default:throw new Error(`Unsupported filter: ${e[x]}`)}d=A,x+=u+1}if(s===16){const E=new Uint16Array(f.buffer);if(rW)for(let I=0;I<E.length;I++)E[I]=sW(E[I]);return E}else return f}function sW(n){return(n&255)<<8|n>>8&255}const Np=Uint8Array.of(137,80,78,71,13,10,26,10);function eT(n){if(!aW(n.readBytes(Np.length)))throw new Error("wrong PNG signature")}function aW(n){if(n.length<Np.length)return!1;for(let e=0;e<Np.length;e++)if(n[e]!==Np[e])return!1;return!0}const oW="tEXt",lW=0,UI=new TextDecoder("latin1");function cW(n){if(hW(n),n.length===0||n.length>79)throw new Error("keyword length must be between 1 and 79")}const uW=/^[\u0000-\u00FF]*$/;function hW(n){if(!uW.test(n))throw new Error("invalid latin1 text")}function fW(n,e,t){const r=VI(e);n[r]=dW(e,t-r.length-1)}function VI(n){for(n.mark();n.readByte()!==lW;);const e=n.offset;n.reset();const t=UI.decode(n.readBytes(e-n.offset-1));return n.skip(1),cW(t),t}function dW(n,e){return UI.decode(n.readBytes(e))}const Al={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},P_={UNKNOWN:-1,DEFLATE:0},tT={UNKNOWN:-1,ADAPTIVE:0},j_={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Kg={NONE:0,BACKGROUND:1,PREVIOUS:2},F_={SOURCE:0,OVER:1};class mW extends I5{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,t={}){super(e);const{checkCrc:r=!1}=t;this._checkCrc=r,this._inflator=new $S,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=P_.UNKNOWN,this._filterMethod=tT.UNKNOWN,this._interlaceMethod=j_.UNKNOWN,this._colorType=Al.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(eT(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeChunk(e,t)}return this.decodeImage(),this._png}decodeApng(){for(eT(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeApngChunk(e,t)}return this.decodeApngImage(),this._apng}decodeChunk(e,t){const r=this.offset;switch(t){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case oW:fW(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?QS(this,e+4,t):this.skip(4)}decodeApngChunk(e,t){const r=this.offset;switch(t!=="fdAT"&&t!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),t){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,t),this.offset=r+e;break}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?QS(this,e+4,t):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=gW(this.readUint8());const t=this.readUint8();this._colorType=t;let r;switch(t){case Al.GREYSCALE:r=1;break;case Al.TRUECOLOUR:r=3;break;case Al.INDEXED_COLOUR:r=1;break;case Al.GREYSCALE_ALPHA:r=2;break;case Al.TRUECOLOUR_ALPHA:r=4;break;case Al.UNKNOWN:default:throw new Error(`Unknown color type: ${t}`)}if(this._png.channels=r,this._compressionMethod=this.readUint8(),this._compressionMethod!==P_.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const t=e/3;this._hasPalette=!0;const r=[];this._palette=r;for(let i=0;i<t;i++)r.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const t=e,r=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,r,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let t=e,r=this.offset+this.byteOffset;if(r+=4,t-=4,this._inflator.push(new Uint8Array(this.buffer,r,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case Al.GREYSCALE:case Al.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let t=0;t<e/2;t++)this._transparency[t]=this.readUint16();break}case Al.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let t=0;for(;t<e;t++){const r=this.readByte();this._palette[t].push(r)}for(;t<this._palette.length;t++)this._palette[t].push(255);break}case Al.UNKNOWN:case Al.GREYSCALE_ALPHA:case Al.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const t=VI(this),r=this.readUint8();if(r!==P_.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${r}`);const i=this.readBytes(e-t.length-2);this._png.iccEmbeddedProfile={name:t,profile:GG(i)}}decodepHYs(){const e=this.readUint32(),t=this.readUint32(),r=this.readByte();this._png.resolution={x:e,y:t,unit:r}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const t={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},r=this._frames.at(e);if(r){if(r.data=JS({data:r.data,width:r.width,height:r.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||r.xOffset===0&&r.yOffset===0&&r.width===this._png.width&&r.height===this._png.height)t.data=r.data;else{const i=this._apng.frames.at(e-1);this.disposeFrame(r,i,t),this.addFrameDataToCanvas(t,r)}this._apng.frames.push(t)}}return this._apng}disposeFrame(e,t,r){switch(e.disposeOp){case Kg.NONE:break;case Kg.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let s=0;s<this._png.width;s++){const o=(i*e.width+s)*this._png.channels;for(let u=0;u<this._png.channels;u++)r.data[o+u]=0}break;case Kg.PREVIOUS:r.data.set(t.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,t){const r=1<<this._png.depth,i=(s,o)=>{const u=((s+t.yOffset)*this._png.width+t.xOffset+o)*this._png.channels,f=(s*t.width+o)*this._png.channels;return{index:u,frameIndex:f}};switch(t.blendOp){case F_.SOURCE:for(let s=0;s<t.height;s++)for(let o=0;o<t.width;o++){const{index:u,frameIndex:f}=i(s,o);for(let d=0;d<this._png.channels;d++)e.data[u+d]=t.data[f+d]}break;case F_.OVER:for(let s=0;s<t.height;s++)for(let o=0;o<t.width;o++){const{index:u,frameIndex:f}=i(s,o);for(let d=0;d<this._png.channels;d++){const x=t.data[f+this._png.channels-1]/r,w=d%(this._png.channels-1)===0?1:t.data[f+d],A=Math.floor(x*w+(1-x)*e.data[u+d]);e.data[u+d]+=A}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==tT.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===j_.NO_INTERLACE)this._png.data=JS({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===j_.ADAM7)this._png.data=JG({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,t=this._frames.at(-1);t?t.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Kg.NONE,blendOp:F_.SOURCE,data:e}),this._inflator=new $S,this._writingDataChunks=!1}}function gW(n){if(n!==1&&n!==2&&n!==4&&n!==8&&n!==16)throw new Error(`invalid bit depth: ${n}`);return n}var nT;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.METRE=1]="METRE"})(nT||(nT={}));function pW(n,e){return new mW(n,e).decode()}var mr=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function B_(){mr.console&&typeof mr.console.log=="function"&&mr.console.log.apply(mr.console,arguments)}var Vi={log:B_,warn:function(n){mr.console&&(typeof mr.console.warn=="function"?mr.console.warn.apply(mr.console,arguments):B_.call(null,arguments))},error:function(n){mr.console&&(typeof mr.console.error=="function"?mr.console.error.apply(mr.console,arguments):B_(n))}};function U_(n,e,t){var r=new XMLHttpRequest;r.open("GET",n),r.responseType="blob",r.onload=function(){_f(r.response,e,t)},r.onerror=function(){Vi.error("could not download file")},r.send()}function rT(n){var e=new XMLHttpRequest;e.open("HEAD",n,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function $g(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(e)}}var _f=mr.saveAs||((typeof window>"u"?"undefined":Ei(window))!=="object"||window!==mr?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,e,t){var r=mr.URL||mr.webkitURL,i=document.createElement("a");e=e||n.name||"download",i.download=e,i.rel="noopener",typeof n=="string"?(i.href=n,i.origin!==location.origin?rT(i.href)?U_(n,e,t):$g(i,i.target="_blank"):$g(i)):(i.href=r.createObjectURL(n),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){$g(i)},0))}:"msSaveOrOpenBlob"in navigator?function(n,e,t){if(e=e||n.name||"download",typeof n=="string")if(rT(n))U_(n,e,t);else{var r=document.createElement("a");r.href=n,r.target="_blank",setTimeout(function(){$g(r)})}else navigator.msSaveOrOpenBlob((function(i,s){return s===void 0?s={autoBom:!1}:Ei(s)!=="object"&&(Vi.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i})(n,t),e)}:function(n,e,t,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof n=="string")return U_(n,e,t);var i=n.type==="application/octet-stream",s=/constructor/i.test(mr.HTMLElement)||mr.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&s)&&(typeof FileReader>"u"?"undefined":Ei(FileReader))==="object"){var u=new FileReader;u.onloadend=function(){var x=u.result;x=o?x:x.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=x:location=x,r=null},u.readAsDataURL(n)}else{var f=mr.URL||mr.webkitURL,d=f.createObjectURL(n);r?r.location=d:location.href=d,r=null,setTimeout(function(){f.revokeObjectURL(d)},4e4)}});function zI(n){var e;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(u){return[parseInt(u[1]),parseInt(u[2]),parseInt(u[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(u){return[parseInt(u[1],16),parseInt(u[2],16),parseInt(u[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(u){return[parseInt(u[1]+u[1],16),parseInt(u[2]+u[2],16),parseInt(u[3]+u[3],16)]}}],r=0;r<t.length;r++){var i=t[r].re,s=t[r].process,o=i.exec(n);o&&(e=s(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var u=this.r.toString(16),f=this.g.toString(16),d=this.b.toString(16);return u.length==1&&(u="0"+u),f.length==1&&(f="0"+f),d.length==1&&(d="0"+d),"#"+u+f+d}}var Cp=mr.atob.bind(mr),iT=mr.btoa.bind(mr);function V_(n,e){var t=n[0],r=n[1],i=n[2],s=n[3];t=So(t,r,i,s,e[0],7,-680876936),s=So(s,t,r,i,e[1],12,-389564586),i=So(i,s,t,r,e[2],17,606105819),r=So(r,i,s,t,e[3],22,-1044525330),t=So(t,r,i,s,e[4],7,-176418897),s=So(s,t,r,i,e[5],12,1200080426),i=So(i,s,t,r,e[6],17,-1473231341),r=So(r,i,s,t,e[7],22,-45705983),t=So(t,r,i,s,e[8],7,1770035416),s=So(s,t,r,i,e[9],12,-1958414417),i=So(i,s,t,r,e[10],17,-42063),r=So(r,i,s,t,e[11],22,-1990404162),t=So(t,r,i,s,e[12],7,1804603682),s=So(s,t,r,i,e[13],12,-40341101),i=So(i,s,t,r,e[14],17,-1502002290),t=To(t,r=So(r,i,s,t,e[15],22,1236535329),i,s,e[1],5,-165796510),s=To(s,t,r,i,e[6],9,-1069501632),i=To(i,s,t,r,e[11],14,643717713),r=To(r,i,s,t,e[0],20,-373897302),t=To(t,r,i,s,e[5],5,-701558691),s=To(s,t,r,i,e[10],9,38016083),i=To(i,s,t,r,e[15],14,-660478335),r=To(r,i,s,t,e[4],20,-405537848),t=To(t,r,i,s,e[9],5,568446438),s=To(s,t,r,i,e[14],9,-1019803690),i=To(i,s,t,r,e[3],14,-187363961),r=To(r,i,s,t,e[8],20,1163531501),t=To(t,r,i,s,e[13],5,-1444681467),s=To(s,t,r,i,e[2],9,-51403784),i=To(i,s,t,r,e[7],14,1735328473),t=No(t,r=To(r,i,s,t,e[12],20,-1926607734),i,s,e[5],4,-378558),s=No(s,t,r,i,e[8],11,-2022574463),i=No(i,s,t,r,e[11],16,1839030562),r=No(r,i,s,t,e[14],23,-35309556),t=No(t,r,i,s,e[1],4,-1530992060),s=No(s,t,r,i,e[4],11,1272893353),i=No(i,s,t,r,e[7],16,-155497632),r=No(r,i,s,t,e[10],23,-1094730640),t=No(t,r,i,s,e[13],4,681279174),s=No(s,t,r,i,e[0],11,-358537222),i=No(i,s,t,r,e[3],16,-722521979),r=No(r,i,s,t,e[6],23,76029189),t=No(t,r,i,s,e[9],4,-640364487),s=No(s,t,r,i,e[12],11,-421815835),i=No(i,s,t,r,e[15],16,530742520),t=Co(t,r=No(r,i,s,t,e[2],23,-995338651),i,s,e[0],6,-198630844),s=Co(s,t,r,i,e[7],10,1126891415),i=Co(i,s,t,r,e[14],15,-1416354905),r=Co(r,i,s,t,e[5],21,-57434055),t=Co(t,r,i,s,e[12],6,1700485571),s=Co(s,t,r,i,e[3],10,-1894986606),i=Co(i,s,t,r,e[10],15,-1051523),r=Co(r,i,s,t,e[1],21,-2054922799),t=Co(t,r,i,s,e[8],6,1873313359),s=Co(s,t,r,i,e[15],10,-30611744),i=Co(i,s,t,r,e[6],15,-1560198380),r=Co(r,i,s,t,e[13],21,1309151649),t=Co(t,r,i,s,e[4],6,-145523070),s=Co(s,t,r,i,e[11],10,-1120210379),i=Co(i,s,t,r,e[2],15,718787259),r=Co(r,i,s,t,e[9],21,-343485551),n[0]=Oh(t,n[0]),n[1]=Oh(r,n[1]),n[2]=Oh(i,n[2]),n[3]=Oh(s,n[3])}function sx(n,e,t,r,i,s){return e=Oh(Oh(e,n),Oh(r,s)),Oh(e<<i|e>>>32-i,t)}function So(n,e,t,r,i,s,o){return sx(e&t|~e&r,n,e,i,s,o)}function To(n,e,t,r,i,s,o){return sx(e&r|t&~r,n,e,i,s,o)}function No(n,e,t,r,i,s,o){return sx(e^t^r,n,e,i,s,o)}function Co(n,e,t,r,i,s,o){return sx(t^(e|~r),n,e,i,s,o)}function HI(n){var e,t=n.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=n.length;e+=64)V_(r,xW(n.substring(e-64,e)));n=n.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<n.length;e++)i[e>>2]|=n.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(V_(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*t,V_(r,i),r}function xW(n){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=n.charCodeAt(e)+(n.charCodeAt(e+1)<<8)+(n.charCodeAt(e+2)<<16)+(n.charCodeAt(e+3)<<24);return t}var sT="0123456789abcdef".split("");function vW(n){for(var e="",t=0;t<4;t++)e+=sT[n>>8*t+4&15]+sT[n>>8*t&15];return e}function _W(n){return String.fromCharCode(255&n,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function Wy(n){return HI(n).map(_W).join("")}var yW=(function(n){for(var e=0;e<n.length;e++)n[e]=vW(n[e]);return n.join("")})(HI("hello"))!="5d41402abc4b2a76b9719d911017c592";function Oh(n,e){if(yW){var t=(65535&n)+(65535&e);return(n>>16)+(e>>16)+(t>>16)<<16|65535&t}return n+e&4294967295}function Xy(n,e){var t,r,i,s;if(n!==t){for(var o=(i=n,s=1+(256/n.length|0),new Array(s+1).join(i)),u=[],f=0;f<256;f++)u[f]=f;var d=0;for(f=0;f<256;f++){var x=u[f];d=(d+x+o.charCodeAt(f))%256,u[f]=u[d],u[d]=x}t=n,r=u}else u=r;var w=e.length,A=0,E=0,I="";for(f=0;f<w;f++)E=(E+(x=u[A=(A+1)%256]))%256,u[A]=u[E],u[E]=x,o=u[(u[A]+u[E])%256],I+=String.fromCharCode(e.charCodeAt(f)^o);return I}var aT={print:4,modify:8,copy:16,"annot-forms":32};function $d(n,e,t,r){this.v=1,this.r=2;var i=192;n.forEach(function(u){if(aT.perm!==void 0)throw new Error("Invalid permission: "+u);i+=aT[u]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),o=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^i)),this.encryptionKey=Wy(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=Xy(this.encryptionKey,this.padding)}function Zd(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var e="",t=n.length,r=0;r<t;r++){var i=n.charCodeAt(r);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):n[r]}return e}function oT(n){if(Ei(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,r,i){if(i=i||!1,typeof t!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var s=Math.random().toString(35);return e[t][s]=[r,!!i],s},this.unsubscribe=function(t){for(var r in e)if(e[r][t])return delete e[r][t],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[t]){var o=e[t][s];try{o[0].apply(n,r)}catch(u){mr.console&&Vi.error("jsPDF PubSub Error",u.message,u)}o[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function n2(n){if(!(this instanceof n2))return new n2(n);var e="opacity,stroke-opacity".split(",");for(var t in n)n.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=n[t]);this.id="",this.objectNumber=-1}function qI(n,e){this.gState=n,this.matrix=e,this.id="",this.objectNumber=-1}function yf(n,e,t,r,i){if(!(this instanceof yf))return new yf(n,e,t,r,i);this.type=n==="axial"?2:3,this.coords=e,this.colors=t,qI.call(this,r,i)}function e0(n,e,t,r,i){if(!(this instanceof e0))return new e0(n,e,t,r,i);this.boundingBox=n,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,qI.call(this,r,i)}function Xn(n){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],o=[],u=1,f=16,d="S",x=null;Ei(n=n||{})==="object"&&(t=n.orientation,r=n.unit||r,i=n.format||i,s=n.compress||n.compressPdf||s,(x=n.encryption||null)!==null&&(x.userPassword=x.userPassword||"",x.ownerPassword=x.ownerPassword||"",x.userPermissions=x.userPermissions||[]),u=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(e=n.precision),n.floatPrecision!==void 0&&(f=n.floatPrecision),d=n.defaultPathOperation||"S"),o=n.filters||(s===!0?["FlateEncode"]:o),r=r||"mm",t=(""+(t||"P")).toLowerCase();var w=n.putOnlyUsedFonts||!1,A={},E={internal:{},__private__:{}};E.__private__.PubSub=oT;var I="1.3",C=E.__private__.getPdfVersion=function(){return I};E.__private__.setPdfVersion=function(V){I=V};var L={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};E.__private__.getPageFormats=function(){return L};var j=E.__private__.getPageFormat=function(V){return L[V]};i=i||"a4";var W="compat",M="advanced",G=W;function ce(){this.saveGraphicsState(),le(new On(bn,0,0,-bn,0,ro()*bn).toString()+" cm"),this.setFontSize(this.getFontSize()/bn),d="n",G=M}function re(){this.restoreGraphicsState(),d="S",G=W}var F=E.__private__.combineFontStyleAndFontWeight=function(V,ue){if(V=="bold"&&ue=="normal"||V=="bold"&&ue==400||V=="normal"&&ue=="italic"||V=="bold"&&ue=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return ue&&(V=ue==400||ue==="normal"?V==="italic"?"italic":"normal":ue!=700&&ue!=="bold"||V!=="normal"?(ue==700?"bold":ue)+""+V:"bold"),V};E.advancedAPI=function(V){var ue=G===W;return ue&&ce.call(this),typeof V!="function"||(V(this),ue&&re.call(this)),this},E.compatAPI=function(V){var ue=G===M;return ue&&re.call(this),typeof V!="function"||(V(this),ue&&ce.call(this)),this},E.isAdvancedAPI=function(){return G===M};var B,D=function(V){if(G!==M)throw new Error(V+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},Z=E.roundToPrecision=E.__private__.roundToPrecision=function(V,ue){var je=e||ue;if(isNaN(V)||isNaN(je))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return V.toFixed(je).replace(/0+$/,"")};B=E.hpf=E.__private__.hpf=typeof f=="number"?function(V){if(isNaN(V))throw new Error("Invalid argument passed to jsPDF.hpf");return Z(V,f)}:f==="smart"?function(V){if(isNaN(V))throw new Error("Invalid argument passed to jsPDF.hpf");return Z(V,V>-1&&V<1?16:5)}:function(V){if(isNaN(V))throw new Error("Invalid argument passed to jsPDF.hpf");return Z(V,16)};var U=E.f2=E.__private__.f2=function(V){if(isNaN(V))throw new Error("Invalid argument passed to jsPDF.f2");return Z(V,2)},H=E.__private__.f3=function(V){if(isNaN(V))throw new Error("Invalid argument passed to jsPDF.f3");return Z(V,3)},X=E.scale=E.__private__.scale=function(V){if(isNaN(V))throw new Error("Invalid argument passed to jsPDF.scale");return G===W?V*bn:G===M?V:void 0},ne=function(V){return X((function(ue){return G===W?ro()-ue:G===M?ue:void 0})(V))};E.__private__.setPrecision=E.setPrecision=function(V){typeof parseInt(V,10)=="number"&&(e=parseInt(V,10))};var pe,Ae="00000000000000000000000000000000",xe=E.__private__.getFileId=function(){return Ae},Re=E.__private__.setFileId=function(V){return Ae=V!==void 0&&/^[a-fA-F0-9]{32}$/.test(V)?V.toUpperCase():Ae.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),x!==null&&(Zr=new $d(x.userPermissions,x.userPassword,x.ownerPassword,Ae)),Ae};E.setFileId=function(V){return Re(V),this},E.getFileId=function(){return xe()};var He=E.__private__.convertDateToPDFDate=function(V){var ue=V.getTimezoneOffset(),je=ue<0?"+":"-",We=Math.floor(Math.abs(ue/60)),et=Math.abs(ue%60),Pt=[je,Q(We),"'",Q(et),"'"].join("");return["D:",V.getFullYear(),Q(V.getMonth()+1),Q(V.getDate()),Q(V.getHours()),Q(V.getMinutes()),Q(V.getSeconds()),Pt].join("")},ze=E.__private__.convertPDFDateToDate=function(V){var ue=parseInt(V.substr(2,4),10),je=parseInt(V.substr(6,2),10)-1,We=parseInt(V.substr(8,2),10),et=parseInt(V.substr(10,2),10),Pt=parseInt(V.substr(12,2),10),Zt=parseInt(V.substr(14,2),10);return new Date(ue,je,We,et,Pt,Zt,0)},ve=E.__private__.setCreationDate=function(V){var ue;if(V===void 0&&(V=new Date),V instanceof Date)ue=He(V);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(V))throw new Error("Invalid argument passed to jsPDF.setCreationDate");ue=V}return pe=ue},q=E.__private__.getCreationDate=function(V){var ue=pe;return V==="jsDate"&&(ue=ze(pe)),ue};E.setCreationDate=function(V){return ve(V),this},E.getCreationDate=function(V){return q(V)};var J,Q=E.__private__.padd2=function(V){return("0"+parseInt(V)).slice(-2)},oe=E.__private__.padd2Hex=function(V){return("00"+(V=V.toString())).substr(V.length)},de=0,De=[],Ve=[],Fe=0,Ie=[],Qe=[],St=!1,Tt=Ve;E.__private__.setCustomOutputDestination=function(V){St=!0,Tt=V};var Rt=function(V){St||(Tt=V)};E.__private__.resetCustomOutputDestination=function(){St=!1,Tt=Ve};var le=E.__private__.out=function(V){return V=V.toString(),Fe+=V.length+1,Tt.push(V),Tt},ot=E.__private__.write=function(V){return le(arguments.length===1?V.toString():Array.prototype.join.call(arguments," "))},pt=E.__private__.getArrayBuffer=function(V){for(var ue=V.length,je=new ArrayBuffer(ue),We=new Uint8Array(je);ue--;)We[ue]=V.charCodeAt(ue);return je},zt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];E.__private__.getStandardFonts=function(){return zt};var tt=n.fontSize||16;E.__private__.setFontSize=E.setFontSize=function(V){return tt=G===M?V/bn:V,this};var tn,Xe=E.__private__.getFontSize=E.getFontSize=function(){return G===W?tt:tt*bn},Lt=n.R2L||!1;E.__private__.setR2L=E.setR2L=function(V){return Lt=V,this},E.__private__.getR2L=E.getR2L=function(){return Lt};var fn,st=E.__private__.setZoomMode=function(V){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(V))tn=V;else if(isNaN(V)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(V)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+V+'" is not recognized.');tn=V}else tn=parseInt(V,10)};E.__private__.getZoomMode=function(){return tn};var Yt,rn=E.__private__.setPageMode=function(V){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(V)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+V+'" is not recognized.');fn=V};E.__private__.getPageMode=function(){return fn};var hn=E.__private__.setLayoutMode=function(V){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(V)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+V+'" is not recognized.');Yt=V};E.__private__.getLayoutMode=function(){return Yt},E.__private__.setDisplayMode=E.setDisplayMode=function(V,ue,je){return st(V),hn(ue),rn(je),this};var xn={title:"",subject:"",author:"",keywords:"",creator:""};E.__private__.getDocumentProperty=function(V){if(Object.keys(xn).indexOf(V)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return xn[V]},E.__private__.getDocumentProperties=function(){return xn},E.__private__.setDocumentProperties=E.setProperties=E.setDocumentProperties=function(V){for(var ue in xn)xn.hasOwnProperty(ue)&&V[ue]&&(xn[ue]=V[ue]);return this},E.__private__.setDocumentProperty=function(V,ue){if(Object.keys(xn).indexOf(V)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return xn[V]=ue};var on,bn,dn,nr,an,dt={},Wt={},It=[],un={},Yn={},mt={},$t={},cn=null,mn=0,gn=[],Qn=new oT(E),kr=n.hotfixes||[],li={},Lr={},Kr=[],On=function V(ue,je,We,et,Pt,Zt){if(!(this instanceof V))return new V(ue,je,We,et,Pt,Zt);isNaN(ue)&&(ue=1),isNaN(je)&&(je=0),isNaN(We)&&(We=0),isNaN(et)&&(et=1),isNaN(Pt)&&(Pt=0),isNaN(Zt)&&(Zt=0),this._matrix=[ue,je,We,et,Pt,Zt]};Object.defineProperty(On.prototype,"sx",{get:function(){return this._matrix[0]},set:function(V){this._matrix[0]=V}}),Object.defineProperty(On.prototype,"shy",{get:function(){return this._matrix[1]},set:function(V){this._matrix[1]=V}}),Object.defineProperty(On.prototype,"shx",{get:function(){return this._matrix[2]},set:function(V){this._matrix[2]=V}}),Object.defineProperty(On.prototype,"sy",{get:function(){return this._matrix[3]},set:function(V){this._matrix[3]=V}}),Object.defineProperty(On.prototype,"tx",{get:function(){return this._matrix[4]},set:function(V){this._matrix[4]=V}}),Object.defineProperty(On.prototype,"ty",{get:function(){return this._matrix[5]},set:function(V){this._matrix[5]=V}}),Object.defineProperty(On.prototype,"a",{get:function(){return this._matrix[0]},set:function(V){this._matrix[0]=V}}),Object.defineProperty(On.prototype,"b",{get:function(){return this._matrix[1]},set:function(V){this._matrix[1]=V}}),Object.defineProperty(On.prototype,"c",{get:function(){return this._matrix[2]},set:function(V){this._matrix[2]=V}}),Object.defineProperty(On.prototype,"d",{get:function(){return this._matrix[3]},set:function(V){this._matrix[3]=V}}),Object.defineProperty(On.prototype,"e",{get:function(){return this._matrix[4]},set:function(V){this._matrix[4]=V}}),Object.defineProperty(On.prototype,"f",{get:function(){return this._matrix[5]},set:function(V){this._matrix[5]=V}}),Object.defineProperty(On.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(On.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(On.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(On.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),On.prototype.join=function(V){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(B).join(V)},On.prototype.multiply=function(V){var ue=V.sx*this.sx+V.shy*this.shx,je=V.sx*this.shy+V.shy*this.sy,We=V.shx*this.sx+V.sy*this.shx,et=V.shx*this.shy+V.sy*this.sy,Pt=V.tx*this.sx+V.ty*this.shx+this.tx,Zt=V.tx*this.shy+V.ty*this.sy+this.ty;return new On(ue,je,We,et,Pt,Zt)},On.prototype.decompose=function(){var V=this.sx,ue=this.shy,je=this.shx,We=this.sy,et=this.tx,Pt=this.ty,Zt=Math.sqrt(V*V+ue*ue),Nn=(V/=Zt)*je+(ue/=Zt)*We;je-=V*Nn,We-=ue*Nn;var vn=Math.sqrt(je*je+We*We);return Nn/=vn,V*(We/=vn)<ue*(je/=vn)&&(V=-V,ue=-ue,Nn=-Nn,Zt=-Zt),{scale:new On(Zt,0,0,vn,0,0),translate:new On(1,0,0,1,et,Pt),rotate:new On(V,ue,-ue,V,0,0),skew:new On(1,0,Nn,1,0,0)}},On.prototype.toString=function(V){return this.join(" ")},On.prototype.inversed=function(){var V=this.sx,ue=this.shy,je=this.shx,We=this.sy,et=this.tx,Pt=this.ty,Zt=1/(V*We-ue*je),Nn=We*Zt,vn=-ue*Zt,qn=-je*Zt,wn=V*Zt;return new On(Nn,vn,qn,wn,-Nn*et-qn*Pt,-vn*et-wn*Pt)},On.prototype.applyToPoint=function(V){var ue=V.x*this.sx+V.y*this.shx+this.tx,je=V.x*this.shy+V.y*this.sy+this.ty;return new Wr(ue,je)},On.prototype.applyToRectangle=function(V){var ue=this.applyToPoint(V),je=this.applyToPoint(new Wr(V.x+V.w,V.y+V.h));return new to(ue.x,ue.y,je.x-ue.x,je.y-ue.y)},On.prototype.clone=function(){var V=this.sx,ue=this.shy,je=this.shx,We=this.sy,et=this.tx,Pt=this.ty;return new On(V,ue,je,We,et,Pt)},E.Matrix=On;var Ni=E.matrixMult=function(V,ue){return ue.multiply(V)},Ki=new On(1,0,0,1,0,0);E.unitMatrix=E.identityMatrix=Ki;var $r=function(V,ue){if(!Yn[V]){var je=(ue instanceof yf?"Sh":"P")+(Object.keys(un).length+1).toString(10);ue.id=je,Yn[V]=je,un[je]=ue,Qn.publish("addPattern",ue)}};E.ShadingPattern=yf,E.TilingPattern=e0,E.addShadingPattern=function(V,ue){return D("addShadingPattern()"),$r(V,ue),this},E.beginTilingPattern=function(V){D("beginTilingPattern()"),no(V.boundingBox[0],V.boundingBox[1],V.boundingBox[2]-V.boundingBox[0],V.boundingBox[3]-V.boundingBox[1],V.matrix)},E.endTilingPattern=function(V,ue){D("endTilingPattern()"),ue.stream=Qe[J].join(`
`),$r(V,ue),Qn.publish("endTilingPattern",ue),Kr.pop().restore()};var zi,lr=E.__private__.newObject=function(){var V=Rr();return ge(V,!0),V},Rr=E.__private__.newObjectDeferred=function(){return de++,De[de]=function(){return Fe},de},ge=function(V,ue){return ue=typeof ue=="boolean"&&ue,De[V]=Fe,ue&&le(V+" 0 obj"),V},be=E.__private__.newAdditionalObject=function(){var V={objId:Rr(),content:""};return Ie.push(V),V},Te=Rr(),Ce=Rr(),Oe=E.__private__.decodeColorString=function(V){var ue=V.split(" ");if(ue.length!==2||ue[1]!=="g"&&ue[1]!=="G")ue.length!==5||ue[4]!=="k"&&ue[4]!=="K"||(ue=[(1-ue[0])*(1-ue[3]),(1-ue[1])*(1-ue[3]),(1-ue[2])*(1-ue[3]),"r"]);else{var je=parseFloat(ue[0]);ue=[je,je,je,"r"]}for(var We="#",et=0;et<3;et++)We+=("0"+Math.floor(255*parseFloat(ue[et])).toString(16)).slice(-2);return We},Me=E.__private__.encodeColorString=function(V){var ue;typeof V=="string"&&(V={ch1:V});var je=V.ch1,We=V.ch2,et=V.ch3,Pt=V.ch4,Zt=V.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof je=="string"&&je.charAt(0)!=="#"){var Nn=new zI(je);if(Nn.ok)je=Nn.toHex();else if(!/^\d*\.?\d*$/.test(je))throw new Error('Invalid color "'+je+'" passed to jsPDF.encodeColorString.')}if(typeof je=="string"&&/^#[0-9A-Fa-f]{3}$/.test(je)&&(je="#"+je[1]+je[1]+je[2]+je[2]+je[3]+je[3]),typeof je=="string"&&/^#[0-9A-Fa-f]{6}$/.test(je)){var vn=parseInt(je.substr(1),16);je=vn>>16&255,We=vn>>8&255,et=255&vn}if(We===void 0||Pt===void 0&&je===We&&We===et)ue=typeof je=="string"?je+" "+Zt[0]:V.precision===2?U(je/255)+" "+Zt[0]:H(je/255)+" "+Zt[0];else if(Pt===void 0||Ei(Pt)==="object"){if(Pt&&!isNaN(Pt.a)&&Pt.a===0)return["1.","1.","1.",Zt[1]].join(" ");ue=typeof je=="string"?[je,We,et,Zt[1]].join(" "):V.precision===2?[U(je/255),U(We/255),U(et/255),Zt[1]].join(" "):[H(je/255),H(We/255),H(et/255),Zt[1]].join(" ")}else ue=typeof je=="string"?[je,We,et,Pt,Zt[2]].join(" "):V.precision===2?[U(je),U(We),U(et),U(Pt),Zt[2]].join(" "):[H(je),H(We),H(et),H(Pt),Zt[2]].join(" ");return ue},rt=E.__private__.getFilters=function(){return o},At=E.__private__.putStream=function(V){var ue=(V=V||{}).data||"",je=V.filters||rt(),We=V.alreadyAppliedFilters||[],et=V.addLength1||!1,Pt=ue.length,Zt=V.objectId,Nn=function(K){return K};if(x!==null&&Zt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");x!==null&&(Nn=Zr.encryptor(Zt,0));var vn={};je===!0&&(je=["FlateEncode"]);var qn=V.additionalKeyValues||[],wn=(vn=Xn.API.processDataByFilters!==void 0?Xn.API.processDataByFilters(ue,je):{data:ue,reverseChain:[]}).reverseChain+(Array.isArray(We)?We.join(" "):We.toString());if(vn.data.length!==0&&(qn.push({key:"Length",value:vn.data.length}),et===!0&&qn.push({key:"Length1",value:Pt})),wn.length!=0)if(wn.split("/").length-1==1)qn.push({key:"Filter",value:wn});else{qn.push({key:"Filter",value:"["+wn+"]"});for(var Ar=0;Ar<qn.length;Ar+=1)if(qn[Ar].key==="DecodeParms"){for(var Br=[],Wn=0;Wn<vn.reverseChain.split("/").length-1;Wn+=1)Br.push("null");Br.push(qn[Ar].value),qn[Ar].value="["+Br.join(" ")+"]"}}le("<<");for(var S=0;S<qn.length;S++)le("/"+qn[S].key+" "+qn[S].value);le(">>"),vn.data.length!==0&&(le("stream"),le(Nn(vn.data)),le("endstream"))},Je=E.__private__.putPage=function(V){var ue=V.number,je=V.data,We=V.objId,et=V.contentsObjId;ge(We,!0),le("<</Type /Page"),le("/Parent "+V.rootDictionaryObjId+" 0 R"),le("/Resources "+V.resourceDictionaryObjId+" 0 R"),le("/MediaBox ["+parseFloat(B(V.mediaBox.bottomLeftX))+" "+parseFloat(B(V.mediaBox.bottomLeftY))+" "+B(V.mediaBox.topRightX)+" "+B(V.mediaBox.topRightY)+"]"),V.cropBox!==null&&le("/CropBox ["+B(V.cropBox.bottomLeftX)+" "+B(V.cropBox.bottomLeftY)+" "+B(V.cropBox.topRightX)+" "+B(V.cropBox.topRightY)+"]"),V.bleedBox!==null&&le("/BleedBox ["+B(V.bleedBox.bottomLeftX)+" "+B(V.bleedBox.bottomLeftY)+" "+B(V.bleedBox.topRightX)+" "+B(V.bleedBox.topRightY)+"]"),V.trimBox!==null&&le("/TrimBox ["+B(V.trimBox.bottomLeftX)+" "+B(V.trimBox.bottomLeftY)+" "+B(V.trimBox.topRightX)+" "+B(V.trimBox.topRightY)+"]"),V.artBox!==null&&le("/ArtBox ["+B(V.artBox.bottomLeftX)+" "+B(V.artBox.bottomLeftY)+" "+B(V.artBox.topRightX)+" "+B(V.artBox.topRightY)+"]"),typeof V.userUnit=="number"&&V.userUnit!==1&&le("/UserUnit "+V.userUnit),Qn.publish("putPage",{objId:We,pageContext:gn[ue],pageNumber:ue,page:je}),le("/Contents "+et+" 0 R"),le(">>"),le("endobj");var Pt=je.join(`
`);return G===M&&(Pt+=`
Q`),ge(et,!0),At({data:Pt,filters:rt(),objectId:et}),le("endobj"),We},lt=E.__private__.putPages=function(){var V,ue,je=[];for(V=1;V<=mn;V++)gn[V].objId=Rr(),gn[V].contentsObjId=Rr();for(V=1;V<=mn;V++)je.push(Je({number:V,data:Qe[V],objId:gn[V].objId,contentsObjId:gn[V].contentsObjId,mediaBox:gn[V].mediaBox,cropBox:gn[V].cropBox,bleedBox:gn[V].bleedBox,trimBox:gn[V].trimBox,artBox:gn[V].artBox,userUnit:gn[V].userUnit,rootDictionaryObjId:Te,resourceDictionaryObjId:Ce}));ge(Te,!0),le("<</Type /Pages");var We="/Kids [";for(ue=0;ue<mn;ue++)We+=je[ue]+" 0 R ";le(We+"]"),le("/Count "+mn),le(">>"),le("endobj"),Qn.publish("postPutPages")},ht=function(V){Qn.publish("putFont",{font:V,out:le,newObject:lr,putStream:At}),V.isAlreadyPutted!==!0&&(V.objectNumber=lr(),le("<<"),le("/Type /Font"),le("/BaseFont /"+Zd(V.postScriptName)),le("/Subtype /Type1"),typeof V.encoding=="string"&&le("/Encoding /"+V.encoding),le("/FirstChar 32"),le("/LastChar 255"),le(">>"),le("endobj"))},qt=function(V){V.objectNumber=lr();var ue=[];ue.push({key:"Type",value:"/XObject"}),ue.push({key:"Subtype",value:"/Form"}),ue.push({key:"BBox",value:"["+[B(V.x),B(V.y),B(V.x+V.width),B(V.y+V.height)].join(" ")+"]"}),ue.push({key:"Matrix",value:"["+V.matrix.toString()+"]"});var je=V.pages[1].join(`
`);At({data:je,additionalKeyValues:ue,objectId:V.objectNumber}),le("endobj")},Ot=function(V,ue){ue||(ue=21);var je=lr(),We=(function(Zt,Nn){var vn,qn=[],wn=1/(Nn-1);for(vn=0;vn<1;vn+=wn)qn.push(vn);if(qn.push(1),Zt[0].offset!=0){var Ar={offset:0,color:Zt[0].color};Zt.unshift(Ar)}if(Zt[Zt.length-1].offset!=1){var Br={offset:1,color:Zt[Zt.length-1].color};Zt.push(Br)}for(var Wn="",S=0,K=0;K<qn.length;K++){for(vn=qn[K];vn>Zt[S+1].offset;)S++;var ie=Zt[S].offset,Se=(vn-ie)/(Zt[S+1].offset-ie),it=Zt[S].color,_t=Zt[S+1].color;Wn+=oe(Math.round((1-Se)*it[0]+Se*_t[0]).toString(16))+oe(Math.round((1-Se)*it[1]+Se*_t[1]).toString(16))+oe(Math.round((1-Se)*it[2]+Se*_t[2]).toString(16))}return Wn.trim()})(V.colors,ue),et=[];et.push({key:"FunctionType",value:"0"}),et.push({key:"Domain",value:"[0.0 1.0]"}),et.push({key:"Size",value:"["+ue+"]"}),et.push({key:"BitsPerSample",value:"8"}),et.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),et.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),At({data:We,additionalKeyValues:et,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:je}),le("endobj"),V.objectNumber=lr(),le("<< /ShadingType "+V.type),le("/ColorSpace /DeviceRGB");var Pt="/Coords ["+B(parseFloat(V.coords[0]))+" "+B(parseFloat(V.coords[1]))+" ";V.type===2?Pt+=B(parseFloat(V.coords[2]))+" "+B(parseFloat(V.coords[3])):Pt+=B(parseFloat(V.coords[2]))+" "+B(parseFloat(V.coords[3]))+" "+B(parseFloat(V.coords[4]))+" "+B(parseFloat(V.coords[5])),le(Pt+="]"),V.matrix&&le("/Matrix ["+V.matrix.toString()+"]"),le("/Function "+je+" 0 R"),le("/Extend [true true]"),le(">>"),le("endobj")},Mt=function(V,ue){var je=Rr(),We=lr();ue.push({resourcesOid:je,objectOid:We}),V.objectNumber=We;var et=[];et.push({key:"Type",value:"/Pattern"}),et.push({key:"PatternType",value:"1"}),et.push({key:"PaintType",value:"1"}),et.push({key:"TilingType",value:"1"}),et.push({key:"BBox",value:"["+V.boundingBox.map(B).join(" ")+"]"}),et.push({key:"XStep",value:B(V.xStep)}),et.push({key:"YStep",value:B(V.yStep)}),et.push({key:"Resources",value:je+" 0 R"}),V.matrix&&et.push({key:"Matrix",value:"["+V.matrix.toString()+"]"}),At({data:V.stream,additionalKeyValues:et,objectId:V.objectNumber}),le("endobj")},wt=function(V){for(var ue in V.objectNumber=lr(),le("<<"),V)switch(ue){case"opacity":le("/ca "+U(V[ue]));break;case"stroke-opacity":le("/CA "+U(V[ue]))}le(">>"),le("endobj")},nn=function(V){ge(V.resourcesOid,!0),le("<<"),le("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var ue in le("/Font <<"),dt)dt.hasOwnProperty(ue)&&(w===!1||w===!0&&A.hasOwnProperty(ue))&&le("/"+ue+" "+dt[ue].objectNumber+" 0 R");le(">>")})(),(function(){if(Object.keys(un).length>0){for(var ue in le("/Shading <<"),un)un.hasOwnProperty(ue)&&un[ue]instanceof yf&&un[ue].objectNumber>=0&&le("/"+ue+" "+un[ue].objectNumber+" 0 R");Qn.publish("putShadingPatternDict"),le(">>")}})(),(function(ue){if(Object.keys(un).length>0){for(var je in le("/Pattern <<"),un)un.hasOwnProperty(je)&&un[je]instanceof E.TilingPattern&&un[je].objectNumber>=0&&un[je].objectNumber<ue&&le("/"+je+" "+un[je].objectNumber+" 0 R");Qn.publish("putTilingPatternDict"),le(">>")}})(V.objectOid),(function(){if(Object.keys(mt).length>0){var ue;for(ue in le("/ExtGState <<"),mt)mt.hasOwnProperty(ue)&&mt[ue].objectNumber>=0&&le("/"+ue+" "+mt[ue].objectNumber+" 0 R");Qn.publish("putGStateDict"),le(">>")}})(),(function(){for(var ue in le("/XObject <<"),li)li.hasOwnProperty(ue)&&li[ue].objectNumber>=0&&le("/"+ue+" "+li[ue].objectNumber+" 0 R");Qn.publish("putXobjectDict"),le(">>")})(),le(">>"),le("endobj")},Tn=function(V){Wt[V.fontName]=Wt[V.fontName]||{},Wt[V.fontName][V.fontStyle]=V.id},Nt=function(V,ue,je,We,et){var Pt={id:"F"+(Object.keys(dt).length+1).toString(10),postScriptName:V,fontName:ue,fontStyle:je,encoding:We,isStandardFont:et||!1,metadata:{}};return Qn.publish("addFont",{font:Pt,instance:this}),dt[Pt.id]=Pt,Tn(Pt),Pt.id},vr=E.__private__.pdfEscape=E.pdfEscape=function(V,ue){return(function(je,We){var et,Pt,Zt,Nn,vn,qn,wn,Ar,Br;if(Zt=(We=We||{}).sourceEncoding||"Unicode",vn=We.outputEncoding,(We.autoencode||vn)&&dt[on].metadata&&dt[on].metadata[Zt]&&dt[on].metadata[Zt].encoding&&(Nn=dt[on].metadata[Zt].encoding,!vn&&dt[on].encoding&&(vn=dt[on].encoding),!vn&&Nn.codePages&&(vn=Nn.codePages[0]),typeof vn=="string"&&(vn=Nn[vn]),vn)){for(wn=!1,qn=[],et=0,Pt=je.length;et<Pt;et++)(Ar=vn[je.charCodeAt(et)])?qn.push(String.fromCharCode(Ar)):qn.push(je[et]),qn[et].charCodeAt(0)>>8&&(wn=!0);je=qn.join("")}for(et=je.length;wn===void 0&&et!==0;)je.charCodeAt(et-1)>>8&&(wn=!0),et--;if(!wn)return je;for(qn=We.noBOM?[]:[254,255],et=0,Pt=je.length;et<Pt;et++){if((Br=(Ar=je.charCodeAt(et))>>8)>>8)throw new Error("Character at position "+et+" of string '"+je+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");qn.push(Br),qn.push(Ar-(Br<<8))}return String.fromCharCode.apply(void 0,qn)})(V,ue).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Kn=E.__private__.beginPage=function(V){Qe[++mn]=[],gn[mn]={objId:0,contentsObjId:0,userUnit:Number(u),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(V[0]),topRightY:Number(V[1])}},fr(mn),Rt(Qe[J])},Ci=function(V,ue){var je,We,et;switch(t=ue||t,typeof V=="string"&&(je=j(V.toLowerCase()),Array.isArray(je)&&(We=je[0],et=je[1])),Array.isArray(V)&&(We=V[0]*bn,et=V[1]*bn),isNaN(We)&&(We=i[0],et=i[1]),(We>14400||et>14400)&&(Vi.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),We=Math.min(14400,We),et=Math.min(14400,et)),i=[We,et],t.substr(0,1)){case"l":et>We&&(i=[et,We]);break;case"p":We>et&&(i=[et,We])}Kn(i),Fn(ea),le(na),ra!==0&&le(ra+" J"),xi!==0&&le(xi+" j"),Qn.publish("addPage",{pageNumber:mn})},pa=function(V){V>0&&V<=mn&&(Qe.splice(V,1),gn.splice(V,1),mn--,J>mn&&(J=mn),this.setPage(J))},fr=function(V){V>0&&V<=mn&&(J=V)},or=E.__private__.getNumberOfPages=E.getNumberOfPages=function(){return Qe.length-1},cr=function(V,ue,je){var We,et=void 0;return je=je||{},V=V!==void 0?V:dt[on].fontName,ue=ue!==void 0?ue:dt[on].fontStyle,We=V.toLowerCase(),Wt[We]!==void 0&&Wt[We][ue]!==void 0?et=Wt[We][ue]:Wt[V]!==void 0&&Wt[V][ue]!==void 0?et=Wt[V][ue]:je.disableWarning===!1&&Vi.warn("Unable to look up font label for font '"+V+"', '"+ue+"'. Refer to getFontList() for available fonts."),et||je.noFallback||(et=Wt.times[ue])==null&&(et=Wt.times.normal),et},ci=E.__private__.putInfo=function(){var V=lr(),ue=function(We){return We};for(var je in x!==null&&(ue=Zr.encryptor(V,0)),le("<<"),le("/Producer ("+vr(ue("jsPDF "+Xn.version))+")"),xn)xn.hasOwnProperty(je)&&xn[je]&&le("/"+je.substr(0,1).toUpperCase()+je.substr(1)+" ("+vr(ue(xn[je]))+")");le("/CreationDate ("+vr(ue(pe))+")"),le(">>"),le("endobj")},as=E.__private__.putCatalog=function(V){var ue=(V=V||{}).rootDictionaryObjId||Te;switch(lr(),le("<<"),le("/Type /Catalog"),le("/Pages "+ue+" 0 R"),tn||(tn="fullwidth"),tn){case"fullwidth":le("/OpenAction [3 0 R /FitH null]");break;case"fullheight":le("/OpenAction [3 0 R /FitV null]");break;case"fullpage":le("/OpenAction [3 0 R /Fit]");break;case"original":le("/OpenAction [3 0 R /XYZ null null 1]");break;default:var je=""+tn;je.substr(je.length-1)==="%"&&(tn=parseInt(tn)/100),typeof tn=="number"&&le("/OpenAction [3 0 R /XYZ null null "+U(tn)+"]")}switch(Yt||(Yt="continuous"),Yt){case"continuous":le("/PageLayout /OneColumn");break;case"single":le("/PageLayout /SinglePage");break;case"two":case"twoleft":le("/PageLayout /TwoColumnLeft");break;case"tworight":le("/PageLayout /TwoColumnRight")}fn&&le("/PageMode /"+fn),Qn.publish("putCatalog"),le(">>"),le("endobj")},Ii=E.__private__.putTrailer=function(){le("trailer"),le("<<"),le("/Size "+(de+1)),le("/Root "+de+" 0 R"),le("/Info "+(de-1)+" 0 R"),x!==null&&le("/Encrypt "+Zr.oid+" 0 R"),le("/ID [ <"+Ae+"> <"+Ae+"> ]"),le(">>")},Hn=E.__private__.putHeader=function(){le("%PDF-"+I),le("%")},Es=E.__private__.putXRef=function(){var V="0000000000";le("xref"),le("0 "+(de+1)),le("0000000000 65535 f ");for(var ue=1;ue<=de;ue++)typeof De[ue]=="function"?le((V+De[ue]()).slice(-10)+" 00000 n "):De[ue]!==void 0?le((V+De[ue]).slice(-10)+" 00000 n "):le("0000000000 00000 n ")},ka=E.__private__.buildDocument=function(){var V;de=0,Fe=0,Ve=[],De=[],Ie=[],Te=Rr(),Ce=Rr(),Rt(Ve),Qn.publish("buildDocument"),Hn(),lt(),(function(){Qn.publish("putAdditionalObjects");for(var je=0;je<Ie.length;je++){var We=Ie[je];ge(We.objId,!0),le(We.content),le("endobj")}Qn.publish("postPutAdditionalObjects")})(),V=[],(function(){for(var je in dt)dt.hasOwnProperty(je)&&(w===!1||w===!0&&A.hasOwnProperty(je))&&ht(dt[je])})(),(function(){var je;for(je in mt)mt.hasOwnProperty(je)&&wt(mt[je])})(),(function(){for(var je in li)li.hasOwnProperty(je)&&qt(li[je])})(),(function(je){var We;for(We in un)un.hasOwnProperty(We)&&(un[We]instanceof yf?Ot(un[We]):un[We]instanceof e0&&Mt(un[We],je))})(V),Qn.publish("putResources"),V.forEach(nn),nn({resourcesOid:Ce,objectOid:Number.MAX_SAFE_INTEGER}),Qn.publish("postPutResources"),x!==null&&(Zr.oid=lr(),le("<<"),le("/Filter /Standard"),le("/V "+Zr.v),le("/R "+Zr.r),le("/U <"+Zr.toHexString(Zr.U)+">"),le("/O <"+Zr.toHexString(Zr.O)+">"),le("/P "+Zr.P),le(">>"),le("endobj")),ci(),as();var ue=Fe;return Es(),Ii(),le("startxref"),le(""+ue),le("%%EOF"),Rt(Qe[J]),Ve.join(`
`)},Gn=E.__private__.getBlob=function(V){return new Blob([pt(V)],{type:"application/pdf"})},Us=E.output=E.__private__.output=(zi=function(V,ue){switch(typeof(ue=ue||{})=="string"?ue={filename:ue}:ue.filename=ue.filename||"generated.pdf",V){case void 0:return ka();case"save":E.save(ue.filename);break;case"arraybuffer":return pt(ka());case"blob":return Gn(ka());case"bloburi":case"bloburl":if(mr.URL!==void 0&&typeof mr.URL.createObjectURL=="function")return mr.URL&&mr.URL.createObjectURL(Gn(ka()))||void 0;Vi.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var je="",We=ka();try{je=iT(We)}catch{je=iT(unescape(encodeURIComponent(We)))}return"data:application/pdf;filename="+ue.filename+";base64,"+je;case"pdfobjectnewwindow":if(Object.prototype.toString.call(mr)==="[object Window]"){var et="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Pt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';ue.pdfObjectUrl&&(et=ue.pdfObjectUrl,Pt="");var Zt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+et+'"'+Pt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(ue)+");<\/script></body></html>",Nn=mr.open();return Nn!==null&&Nn.document.write(Zt),Nn}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(mr)==="[object Window]"){var vn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(ue.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+ue.filename+'" width="500px" height="400px" /></body></html>',qn=mr.open();if(qn!==null){qn.document.write(vn);var wn=this;qn.document.documentElement.querySelector("#pdfViewer").onload=function(){qn.document.title=ue.filename,qn.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(wn.output("bloburl"))}}return qn}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(mr)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Ar='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",ue)+'"></iframe></body></html>',Br=mr.open();if(Br!==null&&(Br.document.write(Ar),Br.document.title=ue.filename),Br||typeof safari>"u")return Br;break;case"datauri":case"dataurl":return mr.document.location.href=this.output("datauristring",ue);default:return null}},zi.foo=function(){try{return zi.apply(this,arguments)}catch(je){var V=je.stack||"";~V.indexOf(" at ")&&(V=V.split(" at ")[1]);var ue="Error in function "+V.split(`
`)[0].split("<")[0]+": "+je.message;if(!mr.console)throw new Error(ue);mr.console.error(ue,je),mr.alert&&alert(ue)}},zi.foo.bar=zi,zi.foo),$i=function(V){return Array.isArray(kr)===!0&&kr.indexOf(V)>-1};switch(r){case"pt":bn=1;break;case"mm":bn=72/25.4;break;case"cm":bn=72/2.54;break;case"in":bn=72;break;case"px":bn=$i("px_scaling")==1?.75:96/72;break;case"pc":case"em":bn=12;break;case"ex":bn=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);bn=r}var Zr=null;ve(),Re();var sr=E.__private__.getPageInfo=E.getPageInfo=function(V){if(isNaN(V)||V%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:gn[V].objId,pageNumber:V,pageContext:gn[V]}},Ri=E.__private__.getPageInfoByObjId=function(V){if(isNaN(V)||V%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var ue in gn)if(gn[ue].objId===V)break;return sr(ue)},ut=E.__private__.getCurrentPageInfo=E.getCurrentPageInfo=function(){return{objId:gn[J].objId,pageNumber:J,pageContext:gn[J]}};E.addPage=function(){return Ci.apply(this,arguments),this},E.setPage=function(){return fr.apply(this,arguments),Rt.call(this,Qe[J]),this},E.insertPage=function(V){return this.addPage(),this.movePage(J,V),this},E.movePage=function(V,ue){var je,We;if(V>ue){je=Qe[V],We=gn[V];for(var et=V;et>ue;et--)Qe[et]=Qe[et-1],gn[et]=gn[et-1];Qe[ue]=je,gn[ue]=We,this.setPage(ue)}else if(V<ue){je=Qe[V],We=gn[V];for(var Pt=V;Pt<ue;Pt++)Qe[Pt]=Qe[Pt+1],gn[Pt]=gn[Pt+1];Qe[ue]=je,gn[ue]=We,this.setPage(ue)}return this},E.deletePage=function(){return pa.apply(this,arguments),this},E.__private__.text=E.text=function(V,ue,je,We,et){var Pt,Zt,Nn,vn,qn,wn,Ar,Br,Wn,S=(We=We||{}).scope||this;if(typeof V=="number"&&typeof ue=="number"&&(typeof je=="string"||Array.isArray(je))){var K=je;je=ue,ue=V,V=K}if(arguments[3]instanceof On==0?(Nn=arguments[4],vn=arguments[5],Ei(Ar=arguments[3])==="object"&&Ar!==null||(typeof Nn=="string"&&(vn=Nn,Nn=null),typeof Ar=="string"&&(vn=Ar,Ar=null),typeof Ar=="number"&&(Nn=Ar,Ar=null),We={flags:Ar,angle:Nn,align:vn})):(D("The transform parameter of text() with a Matrix value"),Wn=et),isNaN(ue)||isNaN(je)||V==null)throw new Error("Invalid arguments passed to jsPDF.text");if(V.length===0)return S;var ie,Se="",it=typeof We.lineHeightFactor=="number"?We.lineHeightFactor:Ja,_t=S.internal.scaleFactor;function sn(Bt){return Bt=Bt.split("	").join(Array(We.TabLen||9).join(" ")),vr(Bt,Ar)}function rr(Bt){for(var Ut,jt=Bt.concat(),zn=[],Jn=jt.length;Jn--;)typeof(Ut=jt.shift())=="string"?zn.push(Ut):Array.isArray(Bt)&&(Ut.length===1||Ut[1]===void 0&&Ut[2]===void 0)?zn.push(Ut[0]):zn.push([Ut[0],Ut[1],Ut[2]]);return zn}function hi(Bt,Ut){var jt;if(typeof Bt=="string")jt=Ut(Bt)[0];else if(Array.isArray(Bt)){for(var zn,Jn,ki=Bt.concat(),Gs=[],Ts=ki.length;Ts--;)typeof(zn=ki.shift())=="string"?Gs.push(Ut(zn)[0]):Array.isArray(zn)&&typeof zn[0]=="string"&&(Jn=Ut(zn[0],zn[1],zn[2]),Gs.push([Jn[0],Jn[1],Jn[2]]));jt=Gs}return jt}var _r=!1,Xr=!0;if(typeof V=="string")_r=!0;else if(Array.isArray(V)){var gs=V.concat();Zt=[];for(var Vs,Ur=gs.length;Ur--;)(typeof(Vs=gs.shift())!="string"||Array.isArray(Vs)&&typeof Vs[0]!="string")&&(Xr=!1);_r=Xr}if(_r===!1)throw new Error('Type of text must be string or Array. "'+V+'" is not recognized.');typeof V=="string"&&(V=V.match(/[\r?\n]/)?V.split(/\r\n|\r|\n/g):[V]);var ps=tt/S.internal.scaleFactor,io=ps*(it-1);switch(We.baseline){case"bottom":je-=io;break;case"top":je+=ps-io;break;case"hanging":je+=ps-2*io;break;case"middle":je+=ps/2-io}if((wn=We.maxWidth||0)>0&&(typeof V=="string"?V=S.splitTextToSize(V,wn):Object.prototype.toString.call(V)==="[object Array]"&&(V=V.reduce(function(Bt,Ut){return Bt.concat(S.splitTextToSize(Ut,wn))},[]))),Pt={text:V,x:ue,y:je,options:We,mutex:{pdfEscape:vr,activeFontKey:on,fonts:dt,activeFontSize:tt}},Qn.publish("preProcessText",Pt),V=Pt.text,Nn=(We=Pt.options).angle,Wn instanceof On==0&&Nn&&typeof Nn=="number"){Nn*=Math.PI/180,We.rotationDirection===0&&(Nn=-Nn),G===M&&(Nn=-Nn);var Ma=Math.cos(Nn),$o=Math.sin(Nn);Wn=new On(Ma,$o,-$o,Ma,0,0)}else Nn&&Nn instanceof On&&(Wn=Nn);G!==M||Wn||(Wn=Ki),(qn=We.charSpace||ms)!==void 0&&(Se+=B(X(qn))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Br=We.horizontalScale)!==void 0&&(Se+=B(100*Br)+` Tz
`),We.lang;var qi=-1,_o=We.renderingMode!==void 0?We.renderingMode:We.stroke,zs=S.internal.getCurrentPageInfo().pageContext;switch(_o){case 0:case!1:case"fill":qi=0;break;case 1:case!0:case"stroke":qi=1;break;case 2:case"fillThenStroke":qi=2;break;case 3:case"invisible":qi=3;break;case 4:case"fillAndAddForClipping":qi=4;break;case 5:case"strokeAndAddPathForClipping":qi=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":qi=6;break;case 7:case"addToPathForClipping":qi=7}var Tc=zs.usedRenderingMode!==void 0?zs.usedRenderingMode:-1;qi!==-1?Se+=qi+` Tr
`:Tc!==-1&&(Se+=`0 Tr
`),qi!==-1&&(zs.usedRenderingMode=qi),vn=We.align||"left";var Gi,Fo=tt*it,Bo=S.internal.pageSize.getWidth(),uu=dt[on];qn=We.charSpace||ms,wn=We.maxWidth||0,Ar=Object.assign({autoencode:!0,noBOM:!0},We.flags);var yo=[],Hs=function(Bt){return S.getStringUnitWidth(Bt,{font:uu,charSpace:qn,fontSize:tt,doKerning:!1})*tt/_t};if(Object.prototype.toString.call(V)==="[object Array]"){var Pa;Zt=rr(V),vn!=="left"&&(Gi=Zt.map(Hs));var qs,ja=0;if(vn==="right"){ue-=Gi[0],V=[],Ur=Zt.length;for(var pr=0;pr<Ur;pr++)pr===0?(qs=Bn(ue),Pa=Nr(je)):(qs=X(ja-Gi[pr]),Pa=-Fo),V.push([Zt[pr],qs,Pa]),ja=Gi[pr]}else if(vn==="center"){ue-=Gi[0]/2,V=[],Ur=Zt.length;for(var wo=0;wo<Ur;wo++)wo===0?(qs=Bn(ue),Pa=Nr(je)):(qs=X((ja-Gi[wo])/2),Pa=-Fo),V.push([Zt[wo],qs,Pa]),ja=Gi[wo]}else if(vn==="left"){V=[],Ur=Zt.length;for(var he=0;he<Ur;he++)V.push(Zt[he])}else if(vn==="justify"&&uu.encoding==="Identity-H"){V=[],Ur=Zt.length,wn=wn!==0?wn:Bo;for(var l=0,h=0;h<Ur;h++)if(Pa=h===0?Nr(je):-Fo,qs=h===0?Bn(ue):l,h<Ur-1){var g=X((wn-Gi[h])/(Zt[h].split(" ").length-1)),v=Zt[h].split(" ");V.push([v[0]+" ",qs,Pa]),l=0;for(var _=1;_<v.length;_++){var b=(Hs(v[_-1]+" "+v[_])-Hs(v[_]))*_t+g;_==v.length-1?V.push([v[_],b,0]):V.push([v[_]+" ",b,0]),l-=b}}else V.push([Zt[h],qs,Pa]);V.push(["",l,0])}else{if(vn!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(V=[],Ur=Zt.length,wn=wn!==0?wn:Bo,h=0;h<Ur;h++){Pa=h===0?Nr(je):-Fo,qs=h===0?Bn(ue):0;var N=Zt[h].split(" ").length-1,k=N>0?(wn-Gi[h])/N:0;h<Ur-1?yo.push(B(X(k))):yo.push(0),V.push([Zt[h],qs,Pa])}}}(typeof We.R2L=="boolean"?We.R2L:Lt)===!0&&(V=hi(V,function(Bt,Ut,jt){return[Bt.split("").reverse().join(""),Ut,jt]})),Pt={text:V,x:ue,y:je,options:We,mutex:{pdfEscape:vr,activeFontKey:on,fonts:dt,activeFontSize:tt}},Qn.publish("postProcessText",Pt),V=Pt.text,ie=Pt.mutex.isHex||!1;var z=dt[on].encoding;z!=="WinAnsiEncoding"&&z!=="StandardEncoding"||(V=hi(V,function(Bt,Ut,jt){return[sn(Bt),Ut,jt]})),Zt=rr(V),V=[];for(var ee,fe,_e,Pe=Array.isArray(Zt[0])?1:0,qe="",Ye=function(Bt,Ut,jt){var zn="";return jt instanceof On?(jt=typeof We.angle=="number"?Ni(jt,new On(1,0,0,1,Bt,Ut)):Ni(new On(1,0,0,1,Bt,Ut),jt),G===M&&(jt=Ni(new On(1,0,0,-1,0,0),jt)),zn=jt.join(" ")+` Tm
`):zn=B(Bt)+" "+B(Ut)+` Td
`,zn},nt=0;nt<Zt.length;nt++){switch(qe="",Pe){case 1:_e=(ie?"<":"(")+Zt[nt][0]+(ie?">":")"),ee=parseFloat(Zt[nt][1]),fe=parseFloat(Zt[nt][2]);break;case 0:_e=(ie?"<":"(")+Zt[nt]+(ie?">":")"),ee=Bn(ue),fe=Nr(je)}yo!==void 0&&yo[nt]!==void 0&&(qe=yo[nt]+` Tw
`),nt===0?V.push(qe+Ye(ee,fe,Wn)+_e):Pe===0?V.push(qe+_e):Pe===1&&V.push(qe+Ye(ee,fe,Wn)+_e)}V=Pe===0?V.join(` Tj
T* `):V.join(` Tj
`),V+=` Tj
`;var yt=`BT
/`;return yt+=on+" "+tt+` Tf
`,yt+=B(tt*it)+` TL
`,yt+=eo+`
`,yt+=Se,yt+=V,le(yt+="ET"),A[on]=!0,S};var Le=E.__private__.clip=E.clip=function(V){return le(V==="evenodd"?"W*":"W"),this};E.clipEvenOdd=function(){return Le("evenodd")},E.__private__.discardPath=E.discardPath=function(){return le("n"),this};var En=E.__private__.isValidStyle=function(V){var ue=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(V)!==-1&&(ue=!0),ue};E.__private__.setDefaultPathOperation=E.setDefaultPathOperation=function(V){return En(V)&&(d=V),this};var Oi=E.__private__.getStyle=E.getStyle=function(V){var ue=d;switch(V){case"D":case"S":ue="S";break;case"F":ue="f";break;case"FD":case"DF":ue="B";break;case"f":case"f*":case"B":case"B*":ue=V}return ue},Hi=E.close=function(){return le("h"),this};E.stroke=function(){return le("S"),this},E.fill=function(V){return ds("f",V),this},E.fillEvenOdd=function(V){return ds("f*",V),this},E.fillStroke=function(V){return ds("B",V),this},E.fillStrokeEvenOdd=function(V){return ds("B*",V),this};var ds=function(V,ue){Ei(ue)==="object"?jn(ue,V):le(V)},xo=function(V){V===null||G===M&&V===void 0||(V=Oi(V),le(V))};function As(V,ue,je,We,et){var Pt=new e0(ue||this.boundingBox,je||this.xStep,We||this.yStep,this.gState,et||this.matrix);Pt.stream=this.stream;var Zt=V+"$$"+this.cloneIndex+++"$$";return $r(Zt,Pt),Pt}var jn=function(V,ue){var je=Yn[V.key],We=un[je];if(We instanceof yf)le("q"),le(Qr(ue)),We.gState&&E.setGState(We.gState),le(V.matrix.toString()+" cm"),le("/"+je+" sh"),le("Q");else if(We instanceof e0){var et=new On(1,0,0,-1,0,ro());V.matrix&&(et=et.multiply(V.matrix||Ki),je=As.call(We,V.key,V.boundingBox,V.xStep,V.yStep,et).id),le("q"),le("/Pattern cs"),le("/"+je+" scn"),We.gState&&E.setGState(We.gState),le(ue),le("Q")}},Qr=function(V){switch(V){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},xl=E.moveTo=function(V,ue){return le(B(X(V))+" "+B(ne(ue))+" m"),this},Mo=E.lineTo=function(V,ue){return le(B(X(V))+" "+B(ne(ue))+" l"),this},Ss=E.curveTo=function(V,ue,je,We,et,Pt){return le([B(X(V)),B(ne(ue)),B(X(je)),B(ne(We)),B(X(et)),B(ne(Pt)),"c"].join(" ")),this};E.__private__.line=E.line=function(V,ue,je,We,et){if(isNaN(V)||isNaN(ue)||isNaN(je)||isNaN(We)||!En(et))throw new Error("Invalid arguments passed to jsPDF.line");return G===W?this.lines([[je-V,We-ue]],V,ue,[1,1],et||"S"):this.lines([[je-V,We-ue]],V,ue,[1,1]).stroke()},E.__private__.lines=E.lines=function(V,ue,je,We,et,Pt){var Zt,Nn,vn,qn,wn,Ar,Br,Wn,S,K,ie,Se;if(typeof V=="number"&&(Se=je,je=ue,ue=V,V=Se),We=We||[1,1],Pt=Pt||!1,isNaN(ue)||isNaN(je)||!Array.isArray(V)||!Array.isArray(We)||!En(et)||typeof Pt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(xl(ue,je),Zt=We[0],Nn=We[1],qn=V.length,K=ue,ie=je,vn=0;vn<qn;vn++)(wn=V[vn]).length===2?(K=wn[0]*Zt+K,ie=wn[1]*Nn+ie,Mo(K,ie)):(Ar=wn[0]*Zt+K,Br=wn[1]*Nn+ie,Wn=wn[2]*Zt+K,S=wn[3]*Nn+ie,K=wn[4]*Zt+K,ie=wn[5]*Nn+ie,Ss(Ar,Br,Wn,S,K,ie));return Pt&&Hi(),xo(et),this},E.path=function(V){for(var ue=0;ue<V.length;ue++){var je=V[ue],We=je.c;switch(je.op){case"m":xl(We[0],We[1]);break;case"l":Mo(We[0],We[1]);break;case"c":Ss.apply(this,We);break;case"h":Hi()}}return this},E.__private__.rect=E.rect=function(V,ue,je,We,et){if(isNaN(V)||isNaN(ue)||isNaN(je)||isNaN(We)||!En(et))throw new Error("Invalid arguments passed to jsPDF.rect");return G===W&&(We=-We),le([B(X(V)),B(ne(ue)),B(X(je)),B(X(We)),"re"].join(" ")),xo(et),this},E.__private__.triangle=E.triangle=function(V,ue,je,We,et,Pt,Zt){if(isNaN(V)||isNaN(ue)||isNaN(je)||isNaN(We)||isNaN(et)||isNaN(Pt)||!En(Zt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[je-V,We-ue],[et-je,Pt-We],[V-et,ue-Pt]],V,ue,[1,1],Zt,!0),this},E.__private__.roundedRect=E.roundedRect=function(V,ue,je,We,et,Pt,Zt){if(isNaN(V)||isNaN(ue)||isNaN(je)||isNaN(We)||isNaN(et)||isNaN(Pt)||!En(Zt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Nn=4/3*(Math.SQRT2-1);return et=Math.min(et,.5*je),Pt=Math.min(Pt,.5*We),this.lines([[je-2*et,0],[et*Nn,0,et,Pt-Pt*Nn,et,Pt],[0,We-2*Pt],[0,Pt*Nn,-et*Nn,Pt,-et,Pt],[2*et-je,0],[-et*Nn,0,-et,-Pt*Nn,-et,-Pt],[0,2*Pt-We],[0,-Pt*Nn,et*Nn,-Pt,et,-Pt]],V+et,ue,[1,1],Zt,!0),this},E.__private__.ellipse=E.ellipse=function(V,ue,je,We,et){if(isNaN(V)||isNaN(ue)||isNaN(je)||isNaN(We)||!En(et))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Pt=4/3*(Math.SQRT2-1)*je,Zt=4/3*(Math.SQRT2-1)*We;return xl(V+je,ue),Ss(V+je,ue-Zt,V+Pt,ue-We,V,ue-We),Ss(V-Pt,ue-We,V-je,ue-Zt,V-je,ue),Ss(V-je,ue+Zt,V-Pt,ue+We,V,ue+We),Ss(V+Pt,ue+We,V+je,ue+Zt,V+je,ue),xo(et),this},E.__private__.circle=E.circle=function(V,ue,je,We){if(isNaN(V)||isNaN(ue)||isNaN(je)||!En(We))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(V,ue,je,je,We)},E.setFont=function(V,ue,je){return je&&(ue=F(ue,je)),on=cr(V,ue,{disableWarning:!1}),this};var Js=E.__private__.getFont=E.getFont=function(){return dt[cr.apply(E,arguments)]};E.__private__.getFontList=E.getFontList=function(){var V,ue,je={};for(V in Wt)if(Wt.hasOwnProperty(V))for(ue in je[V]=[],Wt[V])Wt[V].hasOwnProperty(ue)&&je[V].push(ue);return je},E.addFont=function(V,ue,je,We,et){var Pt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Pt.indexOf(arguments[3])!==-1?et=arguments[3]:arguments[3]&&Pt.indexOf(arguments[3])==-1&&(je=F(je,We)),Nt.call(this,V,ue,je,et=et||"Identity-H")};var Ja,ea=n.lineWidth||.200025,ui=E.__private__.getLineWidth=E.getLineWidth=function(){return ea},Fn=E.__private__.setLineWidth=E.setLineWidth=function(V){return ea=V,le(B(X(V))+" w"),this};E.__private__.setLineDash=Xn.API.setLineDash=Xn.API.setLineDashPattern=function(V,ue){if(V=V||[],ue=ue||0,isNaN(ue)||!Array.isArray(V))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return V=V.map(function(je){return B(X(je))}).join(" "),ue=B(X(ue)),le("["+V+"] "+ue+" d"),this};var ta=E.__private__.getLineHeight=E.getLineHeight=function(){return tt*Ja};E.__private__.getLineHeight=E.getLineHeight=function(){return tt*Ja};var Vn=E.__private__.setLineHeightFactor=E.setLineHeightFactor=function(V){return typeof(V=V||1.15)=="number"&&(Ja=V),this},Ko=E.__private__.getLineHeightFactor=E.getLineHeightFactor=function(){return Ja};Vn(n.lineHeight);var Bn=E.__private__.getHorizontalCoordinate=function(V){return X(V)},Nr=E.__private__.getVerticalCoordinate=function(V){return G===M?V:gn[J].mediaBox.topRightY-gn[J].mediaBox.bottomLeftY-X(V)},vl=E.__private__.getHorizontalCoordinateString=E.getHorizontalCoordinateString=function(V){return B(Bn(V))},Fr=E.__private__.getVerticalCoordinateString=E.getVerticalCoordinateString=function(V){return B(Nr(V))},na=n.strokeColor||"0 G";E.__private__.getStrokeColor=E.getDrawColor=function(){return Oe(na)},E.__private__.setStrokeColor=E.setDrawColor=function(V,ue,je,We){return na=Me({ch1:V,ch2:ue,ch3:je,ch4:We,pdfColorType:"draw",precision:2}),le(na),this};var xa=n.fillColor||"0 g";E.__private__.getFillColor=E.getFillColor=function(){return Oe(xa)},E.__private__.setFillColor=E.setFillColor=function(V,ue,je,We){return xa=Me({ch1:V,ch2:ue,ch3:je,ch4:We,pdfColorType:"fill",precision:2}),le(xa),this};var eo=n.textColor||"0 g",Po=E.__private__.getTextColor=E.getTextColor=function(){return Oe(eo)};E.__private__.setTextColor=E.setTextColor=function(V,ue,je,We){return eo=Me({ch1:V,ch2:ue,ch3:je,ch4:We,pdfColorType:"text",precision:3}),this};var ms=n.charSpace,va=E.__private__.getCharSpace=E.getCharSpace=function(){return parseFloat(ms||0)};E.__private__.setCharSpace=E.setCharSpace=function(V){if(isNaN(V))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return ms=V,this};var ra=0;E.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},E.__private__.setLineCap=E.setLineCap=function(V){var ue=E.CapJoinStyles[V];if(ue===void 0)throw new Error("Line cap style of '"+V+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ra=ue,le(ue+" J"),this};var xi=0;E.__private__.setLineJoin=E.setLineJoin=function(V){var ue=E.CapJoinStyles[V];if(ue===void 0)throw new Error("Line join style of '"+V+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return xi=ue,le(ue+" j"),this},E.__private__.setLineMiterLimit=E.__private__.setMiterLimit=E.setLineMiterLimit=E.setMiterLimit=function(V){if(V=V||0,isNaN(V))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return le(B(X(V))+" M"),this},E.GState=n2,E.setGState=function(V){(V=typeof V=="string"?mt[$t[V]]:ia(null,V)).equals(cn)||(le("/"+V.id+" gs"),cn=V)};var ia=function(V,ue){if(!V||!$t[V]){var je=!1;for(var We in mt)if(mt.hasOwnProperty(We)&&mt[We].equals(ue)){je=!0;break}if(je)ue=mt[We];else{var et="GS"+(Object.keys(mt).length+1).toString(10);mt[et]=ue,ue.id=et}return V&&($t[V]=ue.id),Qn.publish("addGState",ue),ue}};E.addGState=function(V,ue){return ia(V,ue),this},E.saveGraphicsState=function(){return le("q"),It.push({key:on,size:tt,color:eo}),this},E.restoreGraphicsState=function(){le("Q");var V=It.pop();return on=V.key,tt=V.size,eo=V.color,cn=null,this},E.setCurrentTransformationMatrix=function(V){return le(V.toString()+" cm"),this},E.comment=function(V){return le("#"+V),this};var Wr=function(V,ue){var je=V||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return je},set:function(Pt){isNaN(Pt)||(je=parseFloat(Pt))}});var We=ue||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return We},set:function(Pt){isNaN(Pt)||(We=parseFloat(Pt))}});var et="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return et},set:function(Pt){et=Pt.toString()}}),this},to=function(V,ue,je,We){Wr.call(this,V,ue),this.type="rect";var et=je||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return et},set:function(Zt){isNaN(Zt)||(et=parseFloat(Zt))}});var Pt=We||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Pt},set:function(Zt){isNaN(Zt)||(Pt=parseFloat(Zt))}}),this},jo=function(){this.page=mn,this.currentPage=J,this.pages=Qe.slice(0),this.pagesContext=gn.slice(0),this.x=dn,this.y=nr,this.matrix=an,this.width=Da(J),this.height=Or(J),this.outputDestination=Tt,this.id="",this.objectNumber=-1};jo.prototype.restore=function(){mn=this.page,J=this.currentPage,gn=this.pagesContext,Qe=this.pages,dn=this.x,nr=this.y,an=this.matrix,_l(J,this.width),sa(J,this.height),Tt=this.outputDestination};var no=function(V,ue,je,We,et){Kr.push(new jo),mn=J=0,Qe=[],dn=V,nr=ue,an=et,Kn([je,We])};for(var vo in E.beginFormObject=function(V,ue,je,We,et){return no(V,ue,je,We,et),this},E.endFormObject=function(V){return(function(ue){if(Lr[ue])Kr.pop().restore();else{var je=new jo,We="Xo"+(Object.keys(li).length+1).toString(10);je.id=We,Lr[ue]=We,li[We]=je,Qn.publish("addFormObject",je),Kr.pop().restore()}})(V),this},E.doFormObject=function(V,ue){var je=li[Lr[V]];return le("q"),le(ue.toString()+" cm"),le("/"+je.id+" Do"),le("Q"),this},E.getFormObject=function(V){var ue=li[Lr[V]];return{x:ue.x,y:ue.y,width:ue.width,height:ue.height,matrix:ue.matrix}},E.save=function(V,ue){return V=V||"generated.pdf",(ue=ue||{}).returnPromise=ue.returnPromise||!1,ue.returnPromise===!1?(_f(Gn(ka()),V),typeof _f.unload=="function"&&mr.setTimeout&&setTimeout(_f.unload,911),this):new Promise(function(je,We){try{var et=_f(Gn(ka()),V);typeof _f.unload=="function"&&mr.setTimeout&&setTimeout(_f.unload,911),je(et)}catch(Pt){We(Pt.message)}})},Xn.API)Xn.API.hasOwnProperty(vo)&&(vo==="events"&&Xn.API.events.length?(function(V,ue){var je,We,et;for(et=ue.length-1;et!==-1;et--)je=ue[et][0],We=ue[et][1],V.subscribe.apply(V,[je].concat(typeof We=="function"?[We]:We))})(Qn,Xn.API.events):E[vo]=Xn.API[vo]);function Da(V){return gn[V].mediaBox.topRightX-gn[V].mediaBox.bottomLeftX}function _l(V,ue){gn[V].mediaBox.topRightX=ue+gn[V].mediaBox.bottomLeftX}function Or(V){return gn[V].mediaBox.topRightY-gn[V].mediaBox.bottomLeftY}function sa(V,ue){gn[V].mediaBox.topRightY=ue+gn[V].mediaBox.bottomLeftY}var _a=E.getPageWidth=function(V){return Da(V=V||J)/bn},La=E.setPageWidth=function(V,ue){_l(V,ue*bn)},ro=E.getPageHeight=function(V){return Or(V=V||J)/bn},bt=E.setPageHeight=function(V,ue){sa(V,ue*bn)};return E.internal={pdfEscape:vr,getStyle:Oi,getFont:Js,getFontSize:Xe,getCharSpace:va,getTextColor:Po,getLineHeight:ta,getLineHeightFactor:Ko,getLineWidth:ui,write:ot,getHorizontalCoordinate:Bn,getVerticalCoordinate:Nr,getCoordinateString:vl,getVerticalCoordinateString:Fr,collections:{},newObject:lr,newAdditionalObject:be,newObjectDeferred:Rr,newObjectDeferredBegin:ge,getFilters:rt,putStream:At,events:Qn,scaleFactor:bn,pageSize:{getWidth:function(){return _a(J)},setWidth:function(V){La(J,V)},getHeight:function(){return ro(J)},setHeight:function(V){bt(J,V)}},encryptionOptions:x,encryption:Zr,getEncryptor:function(V){return x!==null?Zr.encryptor(V,0):function(ue){return ue}},output:Us,getNumberOfPages:or,get pages(){return Qe},out:le,f2:U,f3:H,getPageInfo:sr,getPageInfoByObjId:Ri,getCurrentPageInfo:ut,getPDFVersion:C,Point:Wr,Rectangle:to,Matrix:On,hasHotfix:$i},Object.defineProperty(E.internal.pageSize,"width",{get:function(){return _a(J)},set:function(V){La(J,V)},enumerable:!0,configurable:!0}),Object.defineProperty(E.internal.pageSize,"height",{get:function(){return ro(J)},set:function(V){bt(J,V)},enumerable:!0,configurable:!0}),(function(V){for(var ue=0,je=zt.length;ue<je;ue++){var We=Nt.call(this,V[ue][0],V[ue][1],V[ue][2],zt[ue][3],!0);w===!1&&(A[We]=!0);var et=V[ue][0].split("-");Tn({id:We,fontName:et[0],fontStyle:et[1]||""})}Qn.publish("addFonts",{fonts:dt,dictionary:Wt})}).call(E,zt),on="F1",Ci(i,t),Qn.publish("initialized"),E}$d.prototype.lsbFirstWord=function(n){return String.fromCharCode(255&n,n>>8&255,n>>16&255,n>>24&255)},$d.prototype.toHexString=function(n){return n.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},$d.prototype.hexToBytes=function(n){for(var e=[],t=0;t<n.length;t+=2)e.push(String.fromCharCode(parseInt(n.substr(t,2),16)));return e.join("")},$d.prototype.processOwnerPassword=function(n,e){return Xy(Wy(e).substr(0,5),n)},$d.prototype.encryptor=function(n,e){var t=Wy(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return Xy(t,r)}},n2.prototype.equals=function(n){var e,t="id,objectNumber,equals";if(!n||Ei(n)!==Ei(this))return!1;var r=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!n.hasOwnProperty(e)||this[e]!==n[e])return!1;r++}for(e in n)n.hasOwnProperty(e)&&t.indexOf(e)<0&&r--;return r===0},Xn.API={events:[]},Xn.version="3.0.4";var Ls=Xn.API,R5=1,Zf=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Bd=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},br=function(n){return n.toFixed(2)},Eh=function(n){return n.toFixed(5)};Ls.__acroform__={};var pl=function(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n},lT=function(n){return n*R5},zc=function(n){var e=new WI,t=Pn.internal.getHeight(n)||0,r=Pn.internal.getWidth(n)||0;return e.BBox=[0,0,Number(br(r)),Number(br(t))],e},wW=Ls.__acroform__.setBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|1<<e},bW=Ls.__acroform__.clearBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&~(1<<e)},EW=Ls.__acroform__.getBit=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return n&1<<e?1:0},Ks=Ls.__acroform__.getBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return EW(n,e-1)},$s=Ls.__acroform__.setBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return wW(n,e-1)},Zs=Ls.__acroform__.clearBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return bW(n,e-1)},AW=Ls.__acroform__.calculateCoordinates=function(n,e){var t=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=n[0],s=n[1],o=n[2],u=n[3],f={};return f.lowerLeft_X=t(i)||0,f.lowerLeft_Y=r(s+u)||0,f.upperRight_X=t(i+o)||0,f.upperRight_Y=r(s)||0,[Number(br(f.lowerLeft_X)),Number(br(f.lowerLeft_Y)),Number(br(f.upperRight_X)),Number(br(f.upperRight_Y))]},SW=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var e=[],t=n._V||n.DV,r=Yy(n,t),i=n.scope.internal.getFont(n.fontName,n.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(n.scope.__private__.encodeColorString(n.color)),e.push("/"+i+" "+br(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=zc(n);return s.scope=n.scope,s.stream=e.join(`
`),s}},Yy=function(n,e){var t=n.fontSize===0?n.maxFontSize:n.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=n.multiline?i.map(function(U){return U.split(`
`)}):i.map(function(U){return[U]});var s=t,o=Pn.internal.getHeight(n)||0;o=o<0?-o:o;var u=Pn.internal.getWidth(n)||0;u=u<0?-u:u;var f=function(U,H,X){if(U+1<i.length){var ne=H+" "+i[U+1][0];return Zg(ne,n,X).width<=u-4}return!1};s++;e:for(;s>0;){e="",s--;var d,x,w=Zg("3",n,s).height,A=n.multiline?o-s:(o-w)/2,E=A+=2,I=0,C=0,L=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+Zg(e,n,s=12).width+", FieldWidth:"+u+`
`;break}for(var j="",W=0,M=0;M<i.length;M++)if(i.hasOwnProperty(M)){var G=!1;if(i[M].length!==1&&L!==i[M].length-1){if((w+2)*(W+2)+2>o)continue e;j+=i[M][L],G=!0,C=M,M--}else{j=(j+=i[M][L]+" ").substr(j.length-1)==" "?j.substr(0,j.length-1):j;var ce=parseInt(M),re=f(ce,j,s),F=M>=i.length-1;if(re&&!F){j+=" ",L=0;continue}if(re||F){if(F)C=ce;else if(n.multiline&&(w+2)*(W+2)+2>o)continue e}else{if(!n.multiline||(w+2)*(W+2)+2>o)continue e;C=ce}}for(var B="",D=I;D<=C;D++){var Z=i[D];if(n.multiline){if(D===C){B+=Z[L]+" ",L=(L+1)%Z.length;continue}if(D===I){B+=Z[Z.length-1]+" ";continue}}B+=Z[0]+" "}switch(B=B.substr(B.length-1)==" "?B.substr(0,B.length-1):B,x=Zg(B,n,s).width,n.textAlign){case"right":d=u-x-2;break;case"center":d=(u-x)/2;break;default:d=2}e+=br(d)+" "+br(E)+` Td
`,e+="("+Zf(B)+`) Tj
`,e+=-br(d)+` 0 Td
`,E=-(s+2),x=0,I=G?C:C+1,W++,j=""}break}return r.text=e,r.fontSize=s,r},Zg=function(n,e,t){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(n,{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:i}},TW={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},NW=function(n,e){var t={type:"reference",object:n};e.internal.getPageInfo(n.page).pageContext.annotations.find(function(r){return r.type===t.type&&r.object===t.object})===void 0&&e.internal.getPageInfo(n.page).pageContext.annotations.push(t)},CW=function(n,e){if(e.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(Ac.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(TW)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");R5=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new XI,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&NW(s,t)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(t){(function(r,i){var s=!r;for(var o in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(o)){var u=r[o],f=[],d=u.Rect;if(u.Rect&&(u.Rect=AW(u.Rect,i)),i.internal.newObjectDeferredBegin(u.objId,!0),u.DA=Pn.createDefaultAppearanceStream(u),Ei(u)==="object"&&typeof u.getKeyValueListForStream=="function"&&(f=u.getKeyValueListForStream()),u.Rect=d,u.hasAppearanceStream&&!u.appearanceStreamContent){var x=SW(u);f.push({key:"AP",value:"<</N "+x+">>"}),i.internal.acroformPlugin.xForms.push(x)}if(u.appearanceStreamContent){var w="";for(var A in u.appearanceStreamContent)if(u.appearanceStreamContent.hasOwnProperty(A)){var E=u.appearanceStreamContent[A];if(w+="/"+A+" ",w+="<<",Object.keys(E).length>=1||Array.isArray(E)){for(var o in E)if(E.hasOwnProperty(o)){var I=E[o];typeof I=="function"&&(I=I.call(i,u)),w+="/"+o+" "+I+" ",i.internal.acroformPlugin.xForms.indexOf(I)>=0||i.internal.acroformPlugin.xForms.push(I)}}else typeof(I=E)=="function"&&(I=I.call(i,u)),w+="/"+o+" "+I,i.internal.acroformPlugin.xForms.indexOf(I)>=0||i.internal.acroformPlugin.xForms.push(I);w+=">>"}f.push({key:"AP",value:`<<
`+w+">>"})}i.internal.putStream({additionalKeyValues:f,objectId:u.objId}),i.internal.out("endobj")}s&&(function(C,L){for(var j in C)if(C.hasOwnProperty(j)){var W=j,M=C[j];L.internal.newObjectDeferredBegin(M.objId,!0),Ei(M)==="object"&&typeof M.putStream=="function"&&M.putStream(),delete C[W]}})(i.internal.acroformPlugin.xForms,i)})(t,n)}),n.internal.acroformPlugin.isInitialized=!0}},GI=Ls.__acroform__.arrayToPdfArray=function(n,e,t){var r=function(o){return o};if(Array.isArray(n)){for(var i="[",s=0;s<n.length;s++)switch(s!==0&&(i+=" "),Ei(n[s])){case"boolean":case"number":case"object":i+=n[s].toString();break;case"string":n[s].substr(0,1)!=="/"?(e!==void 0&&t&&(r=t.internal.getEncryptor(e)),i+="("+Zf(r(n[s].toString()))+")"):i+=n[s].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},z_=function(n,e,t){var r=function(i){return i};return e!==void 0&&t&&(r=t.internal.getEncryptor(e)),(n=n||"").toString(),"("+Zf(r(n))+")"},Yc=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Yc.prototype.toString=function(){return this.objId+" 0 R"},Yc.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},Yc.prototype.getKeyValueListForStream=function(){var n=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var r=e[t],i=this[r];i&&(Array.isArray(i)?n.push({key:r,value:GI(i,this.objId,this.scope)}):i instanceof Yc?(i.scope=this.scope,n.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&n.push({key:r,value:i}))}return n};var WI=function(){Yc.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){n=t.trim()},get:function(){return n||null}})};pl(WI,Yc);var XI=function(){Yc.call(this);var n,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var t=function(r){return r};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+Zf(t(n))+")"}},set:function(t){n=t}})};pl(XI,Yc);var Ac=function n(){Yc.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(j){if(isNaN(j))throw new Error('Invalid value "'+j+'" for attribute F supplied.');e=j}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Ks(e,3)},set:function(j){j?this.F=$s(e,3):this.F=Zs(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(j){if(isNaN(j))throw new Error('Invalid value "'+j+'" for attribute Ff supplied.');t=j}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(j){r=j!==void 0?j:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(j){r[0]=j}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(j){r[1]=j}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(j){r[2]=j}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(j){r[3]=j}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(j){switch(j){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=j;break;default:throw new Error('Invalid value "'+j+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof r2)return;s="FieldObject"+n.FieldNum++}var j=function(W){return W};return this.scope&&(j=this.scope.internal.getEncryptor(this.objId)),"("+Zf(j(s))+")"},set:function(j){s=j.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(j){s=j}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(j){o=j}});var u="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return u},set:function(j){u=j}});var f=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return f},set:function(j){f=j}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/R5:d},set:function(j){d=j}});var x="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return x},set:function(j){x=j}});var w="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!w||this instanceof r2||this instanceof Nf))return z_(w,this.objId,this.scope)},set:function(j){j=j.toString(),w=j}});var A=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(A)return this instanceof Ga==0?z_(A,this.objId,this.scope):A},set:function(j){j=j.toString(),A=this instanceof Ga==0?j.substr(0,1)==="("?Bd(j.substr(1,j.length-2)):Bd(j):j}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ga==1?Bd(A.substr(1,A.length-1)):A},set:function(j){j=j.toString(),A=this instanceof Ga==1?"/"+j:j}});var E=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(E)return E},set:function(j){this.V=j}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(E)return this instanceof Ga==0?z_(E,this.objId,this.scope):E},set:function(j){j=j.toString(),E=this instanceof Ga==0?j.substr(0,1)==="("?Bd(j.substr(1,j.length-2)):Bd(j):j}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ga==1?Bd(E.substr(1,E.length-1)):E},set:function(j){j=j.toString(),E=this instanceof Ga==1?"/"+j:j}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var I,C=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return C},set:function(j){j=!!j,C=j}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(I)return I},set:function(j){I=j}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Ks(this.Ff,1)},set:function(j){j?this.Ff=$s(this.Ff,1):this.Ff=Zs(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Ks(this.Ff,2)},set:function(j){j?this.Ff=$s(this.Ff,2):this.Ff=Zs(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Ks(this.Ff,3)},set:function(j){j?this.Ff=$s(this.Ff,3):this.Ff=Zs(this.Ff,3)}});var L=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(L!==null)return L},set:function(j){if([0,1,2].indexOf(j)===-1)throw new Error('Invalid value "'+j+'" for attribute Q supplied.');L=j}}),Object.defineProperty(this,"textAlign",{get:function(){var j;switch(L){case 0:default:j="left";break;case 1:j="center";break;case 2:j="right"}return j},configurable:!0,enumerable:!0,set:function(j){switch(j){case"right":case 2:L=2;break;case"center":case 1:L=1;break;default:L=0}}})};pl(Ac,Yc);var l0=function(){Ac.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){n=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return GI(e,this.objId,this.scope)},set:function(t){var r,i;i=[],typeof(r=t)=="string"&&(i=(function(s,o,u){u||(u=1);for(var f,d=[];f=o.exec(s);)d.push(f[u]);return d})(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,r){for(r=r||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Ks(this.Ff,18)},set:function(t){t?this.Ff=$s(this.Ff,18):this.Ff=Zs(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Ks(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=$s(this.Ff,19):this.Ff=Zs(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Ks(this.Ff,20)},set:function(t){t?(this.Ff=$s(this.Ff,20),e.sort()):this.Ff=Zs(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ks(this.Ff,22)},set:function(t){t?this.Ff=$s(this.Ff,22):this.Ff=Zs(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ks(this.Ff,23)},set:function(t){t?this.Ff=$s(this.Ff,23):this.Ff=Zs(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Ks(this.Ff,27)},set:function(t){t?this.Ff=$s(this.Ff,27):this.Ff=Zs(this.Ff,27)}}),this.hasAppearanceStream=!1};pl(l0,Ac);var c0=function(){l0.call(this),this.fontName="helvetica",this.combo=!1};pl(c0,l0);var u0=function(){c0.call(this),this.combo=!0};pl(u0,c0);var Ip=function(){u0.call(this),this.edit=!0};pl(Ip,u0);var Ga=function(){Ac.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Ks(this.Ff,15)},set:function(t){t?this.Ff=$s(this.Ff,15):this.Ff=Zs(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Ks(this.Ff,16)},set:function(t){t?this.Ff=$s(this.Ff,16):this.Ff=Zs(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Ks(this.Ff,17)},set:function(t){t?this.Ff=$s(this.Ff,17):this.Ff=Zs(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Ks(this.Ff,26)},set:function(t){t?this.Ff=$s(this.Ff,26):this.Ff=Zs(this.Ff,26)}});var n,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(s){return s};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+Zf(t(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(t){Ei(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(t){n="/"+t}})};pl(Ga,Ac);var Rp=function(){Ga.call(this),this.pushButton=!0};pl(Rp,Ga);var h0=function(){Ga.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e!==void 0?e:[]}})};pl(h0,Ga);var r2=function(){var n,e;Ac.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var t,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(u){return u};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),r)o.push("/"+s+" ("+Zf(i(r[s]))+")");return o.push(">>"),o.join(`
`)},set:function(i){Ei(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(i){t="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Pn.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};pl(r2,Ac),h0.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=n.createAppearanceStream(t.optionName),t.caption=n.getCA()}},h0.prototype.createOption=function(n){var e=new r2;return e.Parent=this,e.optionName=n,this.Kids.push(e),IW.call(this.scope,e),e};var Op=function(){Ga.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Pn.CheckBox.createAppearanceStream()};pl(Op,Ga);var Nf=function(){Ac.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Ks(this.Ff,13)},set:function(e){e?this.Ff=$s(this.Ff,13):this.Ff=Zs(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ks(this.Ff,21)},set:function(e){e?this.Ff=$s(this.Ff,21):this.Ff=Zs(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ks(this.Ff,23)},set:function(e){e?this.Ff=$s(this.Ff,23):this.Ff=Zs(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Ks(this.Ff,24)},set:function(e){e?this.Ff=$s(this.Ff,24):this.Ff=Zs(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Ks(this.Ff,25)},set:function(e){e?this.Ff=$s(this.Ff,25):this.Ff=Zs(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Ks(this.Ff,26)},set:function(e){e?this.Ff=$s(this.Ff,26):this.Ff=Zs(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){Number.isInteger(e)&&(n=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};pl(Nf,Ac);var kp=function(){Nf.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Ks(this.Ff,14)},set:function(n){n?this.Ff=$s(this.Ff,14):this.Ff=Zs(this.Ff,14)}}),this.password=!0};pl(kp,Nf);var Pn={CheckBox:{createAppearanceStream:function(){return{N:{On:Pn.CheckBox.YesNormal},D:{On:Pn.CheckBox.YesPushDown,Off:Pn.CheckBox.OffPushDown}}},YesPushDown:function(n){var e=zc(n);e.scope=n.scope;var t=[],r=n.scope.internal.getFont(n.fontName,n.fontStyle).id,i=n.scope.__private__.encodeColorString(n.color),s=Yy(n,n.caption);return t.push("0.749023 g"),t.push("0 0 "+br(Pn.internal.getWidth(n))+" "+br(Pn.internal.getHeight(n))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+r+" "+br(s.fontSize)+" Tf "+i),t.push("BT"),t.push(s.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(n){var e=zc(n);e.scope=n.scope;var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),i=[],s=Pn.internal.getHeight(n),o=Pn.internal.getWidth(n),u=Yy(n,n.caption);return i.push("1 g"),i.push("0 0 "+br(o)+" "+br(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+br(o-1)+" "+br(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+t+" "+br(u.fontSize)+" Tf "+r),i.push(u.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(n){var e=zc(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+br(Pn.internal.getWidth(n))+" "+br(Pn.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(n){var e={D:{Off:Pn.RadioButton.Circle.OffPushDown},N:{}};return e.N[n]=Pn.RadioButton.Circle.YesNormal,e.D[n]=Pn.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(n){var e=zc(n);e.scope=n.scope;var t=[],r=Pn.internal.getWidth(n)<=Pn.internal.getHeight(n)?Pn.internal.getWidth(n)/4:Pn.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Pn.internal.Bezier_C,s=Number((r*i).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+Eh(Pn.internal.getWidth(n)/2)+" "+Eh(Pn.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),t.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),t.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),t.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=zc(n);e.scope=n.scope;var t=[],r=Pn.internal.getWidth(n)<=Pn.internal.getHeight(n)?Pn.internal.getWidth(n)/4:Pn.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*Pn.internal.Bezier_C).toFixed(5)),o=Number((r*Pn.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Eh(Pn.internal.getWidth(n)/2)+" "+Eh(Pn.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),t.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),t.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),t.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+Eh(Pn.internal.getWidth(n)/2)+" "+Eh(Pn.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),t.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),t.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),t.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(n){var e=zc(n);e.scope=n.scope;var t=[],r=Pn.internal.getWidth(n)<=Pn.internal.getHeight(n)?Pn.internal.getWidth(n)/4:Pn.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*Pn.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Eh(Pn.internal.getWidth(n)/2)+" "+Eh(Pn.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),t.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),t.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),t.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(n){var e={D:{Off:Pn.RadioButton.Cross.OffPushDown},N:{}};return e.N[n]=Pn.RadioButton.Cross.YesNormal,e.D[n]=Pn.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(n){var e=zc(n);e.scope=n.scope;var t=[],r=Pn.internal.calculateCross(n);return t.push("q"),t.push("1 1 "+br(Pn.internal.getWidth(n)-2)+" "+br(Pn.internal.getHeight(n)-2)+" re"),t.push("W"),t.push("n"),t.push(br(r.x1.x)+" "+br(r.x1.y)+" m"),t.push(br(r.x2.x)+" "+br(r.x2.y)+" l"),t.push(br(r.x4.x)+" "+br(r.x4.y)+" m"),t.push(br(r.x3.x)+" "+br(r.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=zc(n);e.scope=n.scope;var t=Pn.internal.calculateCross(n),r=[];return r.push("0.749023 g"),r.push("0 0 "+br(Pn.internal.getWidth(n))+" "+br(Pn.internal.getHeight(n))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+br(Pn.internal.getWidth(n)-2)+" "+br(Pn.internal.getHeight(n)-2)+" re"),r.push("W"),r.push("n"),r.push(br(t.x1.x)+" "+br(t.x1.y)+" m"),r.push(br(t.x2.x)+" "+br(t.x2.y)+" l"),r.push(br(t.x4.x)+" "+br(t.x4.y)+" m"),r.push(br(t.x3.x)+" "+br(t.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(n){var e=zc(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+br(Pn.internal.getWidth(n))+" "+br(Pn.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(n){var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,t=n.scope.__private__.encodeColorString(n.color);return"/"+e+" "+n.fontSize+" Tf "+t}};Pn.internal={Bezier_C:.551915024494,calculateCross:function(n){var e=Pn.internal.getWidth(n),t=Pn.internal.getHeight(n),r=Math.min(e,t);return{x1:{x:(e-r)/2,y:(t-r)/2+r},x2:{x:(e-r)/2+r,y:(t-r)/2},x3:{x:(e-r)/2,y:(t-r)/2},x4:{x:(e-r)/2+r,y:(t-r)/2+r}}}},Pn.internal.getWidth=function(n){var e=0;return Ei(n)==="object"&&(e=lT(n.Rect[2])),e},Pn.internal.getHeight=function(n){var e=0;return Ei(n)==="object"&&(e=lT(n.Rect[3])),e};var IW=Ls.addField=function(n){if(CW(this,n),!(n instanceof Ac))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=n).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};Ls.AcroFormChoiceField=l0,Ls.AcroFormListBox=c0,Ls.AcroFormComboBox=u0,Ls.AcroFormEditBox=Ip,Ls.AcroFormButton=Ga,Ls.AcroFormPushButton=Rp,Ls.AcroFormRadioButton=h0,Ls.AcroFormCheckBox=Op,Ls.AcroFormTextField=Nf,Ls.AcroFormPasswordField=kp,Ls.AcroFormAppearance=Pn,Ls.AcroForm={ChoiceField:l0,ListBox:c0,ComboBox:u0,EditBox:Ip,Button:Ga,PushButton:Rp,RadioButton:h0,CheckBox:Op,TextField:Nf,PasswordField:kp,Appearance:Pn},Xn.AcroForm={ChoiceField:l0,ListBox:c0,ComboBox:u0,EditBox:Ip,Button:Ga,PushButton:Rp,RadioButton:h0,CheckBox:Op,TextField:Nf,PasswordField:kp,Appearance:Pn};Xn.AcroForm;function YI(n){return n.reduce(function(e,t,r){return e[t]=r,e},{})}(function(n){var e="addImage_";n.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=n.__addimage__.getImageFileTypeByImageData=function(U,H){var X,ne,pe,Ae,xe,Re=t;if((H=H||t)==="RGBA"||U.data!==void 0&&U.data instanceof Uint8ClampedArray&&"height"in U&&"width"in U)return"RGBA";if(re(U))for(xe in r)for(pe=r[xe],X=0;X<pe.length;X+=1){for(Ae=!0,ne=0;ne<pe[X].length;ne+=1)if(pe[X][ne]!==void 0&&pe[X][ne]!==U[ne]){Ae=!1;break}if(Ae===!0){Re=xe;break}}else for(xe in r)for(pe=r[xe],X=0;X<pe.length;X+=1){for(Ae=!0,ne=0;ne<pe[X].length;ne+=1)if(pe[X][ne]!==void 0&&pe[X][ne]!==U.charCodeAt(ne)){Ae=!1;break}if(Ae===!0){Re=xe;break}}return Re===t&&H!==t&&(Re=H),Re},s=function U(H){for(var X=this.internal.write,ne=this.internal.putStream,pe=(0,this.internal.getFilters)();pe.indexOf("FlateEncode")!==-1;)pe.splice(pe.indexOf("FlateEncode"),1);H.objectId=this.internal.newObject();var Ae=[];if(Ae.push({key:"Type",value:"/XObject"}),Ae.push({key:"Subtype",value:"/Image"}),Ae.push({key:"Width",value:H.width}),Ae.push({key:"Height",value:H.height}),H.colorSpace===j.INDEXED?Ae.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(H.palette.length/3-1)+" "+("sMask"in H&&H.sMask!==void 0?H.objectId+2:H.objectId+1)+" 0 R]"}):(Ae.push({key:"ColorSpace",value:"/"+H.colorSpace}),H.colorSpace===j.DEVICE_CMYK&&Ae.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Ae.push({key:"BitsPerComponent",value:H.bitsPerComponent}),"decodeParameters"in H&&H.decodeParameters!==void 0&&Ae.push({key:"DecodeParms",value:"<<"+H.decodeParameters+">>"}),"transparency"in H&&Array.isArray(H.transparency)&&H.transparency.length>0){for(var xe="",Re=0,He=H.transparency.length;Re<He;Re++)xe+=H.transparency[Re]+" "+H.transparency[Re]+" ";Ae.push({key:"Mask",value:"["+xe+"]"})}H.sMask!==void 0&&Ae.push({key:"SMask",value:H.objectId+1+" 0 R"});var ze=H.filter!==void 0?["/"+H.filter]:void 0;if(ne({data:H.data,additionalKeyValues:Ae,alreadyAppliedFilters:ze,objectId:H.objectId}),X("endobj"),"sMask"in H&&H.sMask!==void 0){var ve,q=(ve=H.sMaskBitsPerComponent)!==null&&ve!==void 0?ve:H.bitsPerComponent,J={width:H.width,height:H.height,colorSpace:"DeviceGray",bitsPerComponent:q,data:H.sMask};"filter"in H&&(J.decodeParameters="/Predictor ".concat(H.predictor," /Colors 1 /BitsPerComponent ").concat(q," /Columns ").concat(H.width),J.filter=H.filter),U.call(this,J)}if(H.colorSpace===j.INDEXED){var Q=this.internal.newObject();ne({data:B(new Uint8Array(H.palette)),objectId:Q}),X("endobj")}},o=function(){var U=this.internal.collections[e+"images"];for(var H in U)s.call(this,U[H])},u=function(){var U,H=this.internal.collections[e+"images"],X=this.internal.write;for(var ne in H)X("/I"+(U=H[ne]).index,U.objectId,"0","R")},f=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",u))},d=function(){var U=this.internal.collections[e+"images"];return f.call(this),U},x=function(){return Object.keys(this.internal.collections[e+"images"]).length},w=function(U){return typeof n["process"+U.toUpperCase()]=="function"},A=function(U){return Ei(U)==="object"&&U.nodeType===1},E=function(U,H){if(U.nodeName==="IMG"&&U.hasAttribute("src")){var X=""+U.getAttribute("src");if(X.indexOf("data:image/")===0)return Cp(unescape(X).split("base64,").pop());var ne=n.loadFile(X,!0);if(ne!==void 0)return ne}if(U.nodeName==="CANVAS"){if(U.width===0||U.height===0)throw new Error("Given canvas must have data. Canvas width: "+U.width+", height: "+U.height);var pe;switch(H){case"PNG":pe="image/png";break;case"WEBP":pe="image/webp";break;default:pe="image/jpeg"}return Cp(U.toDataURL(pe,1).split("base64,").pop())}},I=function(U){var H=this.internal.collections[e+"images"];if(H){for(var X in H)if(U===H[X].alias)return H[X]}},C=function(U,H,X){return U||H||(U=-96,H=-96),U<0&&(U=-1*X.width*72/U/this.internal.scaleFactor),H<0&&(H=-1*X.height*72/H/this.internal.scaleFactor),U===0&&(U=H*X.width/X.height),H===0&&(H=U*X.height/X.width),[U,H]},L=function(U,H,X,ne,pe,Ae){var xe=C.call(this,X,ne,pe),Re=this.internal.getCoordinateString,He=this.internal.getVerticalCoordinateString,ze=d.call(this);if(X=xe[0],ne=xe[1],ze[pe.index]=pe,Ae){Ae*=Math.PI/180;var ve=Math.cos(Ae),q=Math.sin(Ae),J=function(oe){return oe.toFixed(4)},Q=[J(ve),J(q),J(-1*q),J(ve),0,0,"cm"]}this.internal.write("q"),Ae?(this.internal.write([1,"0","0",1,Re(U),He(H+ne),"cm"].join(" ")),this.internal.write(Q.join(" ")),this.internal.write([Re(X),"0","0",Re(ne),"0","0","cm"].join(" "))):this.internal.write([Re(X),"0","0",Re(ne),Re(U),He(H+ne),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+pe.index+" Do"),this.internal.write("Q")},j=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var W=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},M=n.__addimage__.sHashCode=function(U){var H,X,ne=0;if(typeof U=="string")for(X=U.length,H=0;H<X;H++)ne=(ne<<5)-ne+U.charCodeAt(H),ne|=0;else if(re(U))for(X=U.byteLength/2,H=0;H<X;H++)ne=(ne<<5)-ne+U[H],ne|=0;return ne},G=n.__addimage__.validateStringAsBase64=function(U){(U=U||"").toString().trim();var H=!0;return U.length===0&&(H=!1),U.length%4!=0&&(H=!1),/^[A-Za-z0-9+/]+$/.test(U.substr(0,U.length-2))===!1&&(H=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(U.substr(-2))===!1&&(H=!1),H},ce=n.__addimage__.extractImageFromDataUrl=function(U){if(U==null||!(U=U.trim()).startsWith("data:"))return null;var H=U.indexOf(",");return H<0?null:U.substring(0,H).trim().endsWith("base64")?U.substring(H+1):null};n.__addimage__.isArrayBuffer=function(U){return U instanceof ArrayBuffer};var re=n.__addimage__.isArrayBufferView=function(U){return U instanceof Int8Array||U instanceof Uint8Array||U instanceof Uint8ClampedArray||U instanceof Int16Array||U instanceof Uint16Array||U instanceof Int32Array||U instanceof Uint32Array||U instanceof Float32Array||U instanceof Float64Array},F=n.__addimage__.binaryStringToUint8Array=function(U){for(var H=U.length,X=new Uint8Array(H),ne=0;ne<H;ne++)X[ne]=U.charCodeAt(ne);return X},B=n.__addimage__.arrayBufferToBinaryString=function(U){for(var H="",X=re(U)?U:new Uint8Array(U),ne=0;ne<X.length;ne+=8192)H+=String.fromCharCode.apply(null,X.subarray(ne,ne+8192));return H};n.addImage=function(){var U,H,X,ne,pe,Ae,xe,Re,He;if(typeof arguments[1]=="number"?(H=t,X=arguments[1],ne=arguments[2],pe=arguments[3],Ae=arguments[4],xe=arguments[5],Re=arguments[6],He=arguments[7]):(H=arguments[1],X=arguments[2],ne=arguments[3],pe=arguments[4],Ae=arguments[5],xe=arguments[6],Re=arguments[7],He=arguments[8]),Ei(U=arguments[0])==="object"&&!A(U)&&"imageData"in U){var ze=U;U=ze.imageData,H=ze.format||H||t,X=ze.x||X||0,ne=ze.y||ne||0,pe=ze.w||ze.width||pe,Ae=ze.h||ze.height||Ae,xe=ze.alias||xe,Re=ze.compression||Re,He=ze.rotation||ze.angle||He}var ve=this.internal.getFilters();if(Re===void 0&&ve.indexOf("FlateEncode")!==-1&&(Re="SLOW"),isNaN(X)||isNaN(ne))throw new Error("Invalid coordinates passed to jsPDF.addImage");f.call(this);var q=D.call(this,U,H,xe,Re);return L.call(this,X,ne,pe,Ae,q,He),this};var D=function(U,H,X,ne){var pe,Ae,xe;if(typeof U=="string"&&i(U)===t){U=unescape(U);var Re=Z(U,!1);(Re!==""||(Re=n.loadFile(U,!0))!==void 0)&&(U=Re)}if(A(U)&&(U=E(U,H)),H=i(U,H),!w(H))throw new Error("addImage does not support files of type '"+H+"', please ensure that a plugin for '"+H+"' support is added.");if(((xe=X)==null||xe.length===0)&&(X=(function(He){return typeof He=="string"||re(He)?M(He):re(He.data)?M(He.data):null})(U)),(pe=I.call(this,X))||(U instanceof Uint8Array||H==="RGBA"||(Ae=U,U=F(U)),pe=this["process"+H.toUpperCase()](U,x.call(this),X,(function(He){return He&&typeof He=="string"&&(He=He.toUpperCase()),He in n.image_compression?He:W.NONE})(ne),Ae)),!pe)throw new Error("An unknown error occurred whilst processing the image.");return pe},Z=n.__addimage__.convertBase64ToBinaryString=function(U,H){H=typeof H!="boolean"||H;var X,ne="";if(typeof U=="string"){var pe;X=(pe=ce(U))!==null&&pe!==void 0?pe:U;try{ne=Cp(X)}catch(Ae){if(H)throw G(X)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Ae.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ne};n.getImageProperties=function(U){var H,X,ne="";if(A(U)&&(U=E(U)),typeof U=="string"&&i(U)===t&&((ne=Z(U,!1))===""&&(ne=n.loadFile(U)||""),U=ne),X=i(U),!w(X))throw new Error("addImage does not support files of type '"+X+"', please ensure that a plugin for '"+X+"' support is added.");if(U instanceof Uint8Array||(U=F(U)),!(H=this["process"+X.toUpperCase()](U)))throw new Error("An unknown error occurred whilst processing the image");return H.fileType=X,H}})(Xn.API),(function(n){var e=function(t){if(t!==void 0&&t!="")return!0};Xn.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(t){for(var r,i,s,o=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString,f=this.internal.getPageInfoByObjId(t.objId),d=t.pageContext.annotations,x=!1,w=0;w<d.length&&!x;w++)switch((r=d[w]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(x=!0);break;case"reference":case"text":case"freetext":x=!0}if(x!=0){this.internal.write("/Annots [");for(var A=0;A<d.length;A++){r=d[A];var E=this.internal.pdfEscape,I=this.internal.getEncryptor(t.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var C=this.internal.newAdditionalObject(),L=this.internal.newAdditionalObject(),j=this.internal.getEncryptor(C.objId),W=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(r.bounds.x)+" "+u(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w)+" "+u(r.bounds.y)+"] ")+"/Contents ("+E(j(r.contents))+")",s+=" /Popup "+L.objId+" 0 R",s+=" /P "+f.objId+" 0 R",s+=" /T ("+E(j(W))+") >>",C.content=s;var M=C.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(r.bounds.x+30)+" "+u(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w+30)+" "+u(r.bounds.y)+"] ")+" /Parent "+M,r.open&&(s+=" /Open true"),s+=" >>",L.content=s,this.internal.write(C.objId,"0 R",L.objId,"0 R");break;case"freetext":i="/Rect ["+o(r.bounds.x)+" "+u(r.bounds.y)+" "+o(r.bounds.x+r.bounds.w)+" "+u(r.bounds.y+r.bounds.h)+"] ";var G=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+E(I(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+G+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var ce=this.annotations._nameMap[r.options.name];r.options.pageNumber=ce.page,r.options.top=ce.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+E(I(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;default:var re=u(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+re+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),n.createAnnotation=function(t){var r=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":r.pageContext.annotations.push(t)}},n.link=function(t,r,i,s,o){var u=this.internal.getCurrentPageInfo(),f=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;u.pageContext.annotations.push({finalBounds:{x:f(t),y:d(r),w:f(t+i),h:d(r+s)},options:o,type:"link"})},n.textWithLink=function(t,r,i,s){var o,u,f=this.getTextWidth(t),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){u=s.maxWidth;var x=this.splitTextToSize(t,u).length;o=Math.ceil(d*x)}else u=f,o=d;return this.text(t,r,i,s),i+=.2*d,s.align==="center"&&(r-=f/2),s.align==="right"&&(r-=f),this.link(r,i-d,u,o,s),f},n.getTextWidth=function(t){var r=this.internal.getFontSize();return this.getStringUnitWidth(t)*r/this.internal.scaleFactor}})(Xn.API),(function(n){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];n.__arabicParser__={};var s=n.__arabicParser__.isInArabicSubstitutionA=function(C){return e[C.charCodeAt(0)]!==void 0},o=n.__arabicParser__.isArabicLetter=function(C){return typeof C=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(C)},u=n.__arabicParser__.isArabicEndLetter=function(C){return o(C)&&s(C)&&e[C.charCodeAt(0)].length<=2},f=n.__arabicParser__.isArabicAlfLetter=function(C){return o(C)&&i.indexOf(C.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(C){return o(C)&&s(C)&&e[C.charCodeAt(0)].length>=1};var d=n.__arabicParser__.arabicLetterHasFinalForm=function(C){return o(C)&&s(C)&&e[C.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(C){return o(C)&&s(C)&&e[C.charCodeAt(0)].length>=3};var x=n.__arabicParser__.arabicLetterHasMedialForm=function(C){return o(C)&&s(C)&&e[C.charCodeAt(0)].length==4},w=n.__arabicParser__.resolveLigatures=function(C){var L=0,j=t,W="",M=0;for(L=0;L<C.length;L+=1)j[C.charCodeAt(L)]!==void 0?(M++,typeof(j=j[C.charCodeAt(L)])=="number"&&(W+=String.fromCharCode(j),j=t,M=0),L===C.length-1&&(j=t,W+=C.charAt(L-(M-1)),L-=M-1,M=0)):(j=t,W+=C.charAt(L-M),L-=M,M=0);return W};n.__arabicParser__.isArabicDiacritic=function(C){return C!==void 0&&r[C.charCodeAt(0)]!==void 0};var A=n.__arabicParser__.getCorrectForm=function(C,L,j){return o(C)?s(C)===!1?-1:!d(C)||!o(L)&&!o(j)||!o(j)&&u(L)||u(C)&&!o(L)||u(C)&&f(L)||u(C)&&u(L)?0:x(C)&&o(L)&&!u(L)&&o(j)&&d(j)?3:u(C)||!o(j)?1:2:-1},E=function(C){var L=0,j=0,W=0,M="",G="",ce="",re=(C=C||"").split("\\s+"),F=[];for(L=0;L<re.length;L+=1){for(F.push(""),j=0;j<re[L].length;j+=1)M=re[L][j],G=re[L][j-1],ce=re[L][j+1],o(M)?(W=A(M,G,ce),F[L]+=W!==-1?String.fromCharCode(e[M.charCodeAt(0)][W]):M):F[L]+=M;F[L]=w(F[L])}return F.join(" ")},I=n.__arabicParser__.processArabic=n.processArabic=function(){var C,L=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,j=[];if(Array.isArray(L)){var W=0;for(j=[],W=0;W<L.length;W+=1)Array.isArray(L[W])?j.push([E(L[W][0]),L[W][1],L[W][2]]):j.push([E(L[W])]);C=j}else C=E(L);return typeof arguments[0]=="string"?C:(arguments[0].text=C,arguments[0])};n.events.push(["preProcessText",I])})(Xn.API),Xn.API.autoPrint=function(n){var e;return(n=n||{}).variant=n.variant||"non-conform",n.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(n){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(u){t=u}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(u){r=isNaN(u)||Number.isInteger(u)===!1||u<0?150:u,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(u){i=isNaN(u)||Number.isInteger(u)===!1||u<0?300:u,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(u){s=u}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(u){o=u}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,r){var i;if((t=t||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(Xn.API),(function(n){var e={left:0,top:0,bottom:0,right:0},t=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var f=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return f},set:function(C){f=C}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(C){d=C}});var x=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return x},set:function(C){x=C}});var w=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return w},set:function(C){w=C}});var A=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return A},set:function(C){A=C}});var E=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return E},set:function(C){E=C}});var I=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return I},set:function(C){I=C}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(f){return r.call(this),this.internal.__cell__.headerFunction=typeof f=="function"?f:void 0,this},n.getTextDimensions=function(f,d){r.call(this);var x=(d=d||{}).fontSize||this.getFontSize(),w=d.font||this.getFont(),A=d.scaleFactor||this.internal.scaleFactor,E=0,I=0,C=0,L=this;if(!Array.isArray(f)&&typeof f!="string"){if(typeof f!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");f=String(f)}var j=d.maxWidth;j>0?typeof f=="string"?f=this.splitTextToSize(f,j):Object.prototype.toString.call(f)==="[object Array]"&&(f=f.reduce(function(M,G){return M.concat(L.splitTextToSize(G,j))},[])):f=Array.isArray(f)?f:[f];for(var W=0;W<f.length;W++)E<(C=this.getStringUnitWidth(f[W],{font:w})*x)&&(E=C);return E!==0&&(I=f.length),{w:E/=A,h:Math.max((I*x*this.getLineHeightFactor()-x*(this.getLineHeightFactor()-1))/A,0)}},n.cellAddPage=function(){r.call(this),this.addPage();var f=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(f.left,f.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=n.cell=function(){var f;f=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),r.call(this);var d=this.internal.__cell__.lastCell,x=this.internal.__cell__.padding,w=this.internal.__cell__.margins||e,A=this.internal.__cell__.tableHeaderRow,E=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===f.lineNumber?(f.x=(d.x||0)+(d.width||0),f.y=d.y||0):d.y+d.height+f.height+w.bottom>this.getPageHeight()?(this.cellAddPage(),f.y=w.top,E&&A&&(this.printHeaderRow(f.lineNumber,!0),f.y+=A[0].height)):f.y=d.y+d.height||f.y),f.text[0]!==void 0&&(this.rect(f.x,f.y,f.width,f.height,t===!0?"FD":void 0),f.align==="right"?this.text(f.text,f.x+f.width-x,f.y+x,{align:"right",baseline:"top"}):f.align==="center"?this.text(f.text,f.x+f.width/2,f.y+x,{align:"center",baseline:"top",maxWidth:f.width-x-x}):this.text(f.text,f.x+x,f.y+x,{align:"left",baseline:"top",maxWidth:f.width-x-x})),this.internal.__cell__.lastCell=f,this};n.table=function(f,d,x,w,A){if(r.call(this),!x)throw new Error("No data for PDF table.");var E,I,C,L,j=[],W=[],M=[],G={},ce={},re=[],F=[],B=(A=A||{}).autoSize||!1,D=A.printHeaders!==!1,Z=A.css&&A.css["font-size"]!==void 0?16*A.css["font-size"]:A.fontSize||12,U=A.margins||Object.assign({width:this.getPageWidth()},e),H=typeof A.padding=="number"?A.padding:3,X=A.headerBackgroundColor||"#c8c8c8",ne=A.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=D,this.internal.__cell__.margins=U,this.internal.__cell__.table_font_size=Z,this.internal.__cell__.padding=H,this.internal.__cell__.headerBackgroundColor=X,this.internal.__cell__.headerTextColor=ne,this.setFontSize(Z),w==null)W=j=Object.keys(x[0]),M=j.map(function(){return"left"});else if(Array.isArray(w)&&Ei(w[0])==="object")for(j=w.map(function(ze){return ze.name}),W=w.map(function(ze){return ze.prompt||ze.name||""}),M=w.map(function(ze){return ze.align||"left"}),E=0;E<w.length;E+=1)ce[w[E].name]=.7499990551181103*w[E].width;else Array.isArray(w)&&typeof w[0]=="string"&&(W=j=w,M=j.map(function(){return"left"}));if(B||Array.isArray(w)&&typeof w[0]=="string")for(E=0;E<j.length;E+=1){for(G[L=j[E]]=x.map(function(ze){return ze[L]}),this.setFont(void 0,"bold"),re.push(this.getTextDimensions(W[E],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),I=G[L],this.setFont(void 0,"normal"),C=0;C<I.length;C+=1)re.push(this.getTextDimensions(I[C],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);ce[L]=Math.max.apply(null,re)+H+H,re=[]}if(D){var pe={};for(E=0;E<j.length;E+=1)pe[j[E]]={},pe[j[E]].text=W[E],pe[j[E]].align=M[E];var Ae=u.call(this,pe,ce);F=j.map(function(ze){return new s(f,d,ce[ze],Ae,pe[ze].text,void 0,pe[ze].align)}),this.setTableHeaderRow(F),this.printHeaderRow(1,!1)}var xe=w.reduce(function(ze,ve){return ze[ve.name]=ve.align,ze},{});for(E=0;E<x.length;E+=1){"rowStart"in A&&A.rowStart instanceof Function&&A.rowStart({row:E,data:x[E]},this);var Re=u.call(this,x[E],ce);for(C=0;C<j.length;C+=1){var He=x[E][j[C]];"cellStart"in A&&A.cellStart instanceof Function&&A.cellStart({row:E,col:C,data:He},this),o.call(this,new s(f,d,ce[j[C]],Re,He,E+2,xe[j[C]]))}}return this.internal.__cell__.table_x=f,this.internal.__cell__.table_y=d,this};var u=function(f,d){var x=this.internal.__cell__.padding,w=this.internal.__cell__.table_font_size,A=this.internal.scaleFactor;return Object.keys(f).map(function(E){var I=f[E];return this.splitTextToSize(I.hasOwnProperty("text")?I.text:I,d[E]-x-x)},this).map(function(E){return this.getLineHeightFactor()*E.length*w/A+x+x},this).reduce(function(E,I){return Math.max(E,I)},0)};n.setTableHeaderRow=function(f){r.call(this),this.internal.__cell__.tableHeaderRow=f},n.printHeaderRow=function(f,d){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var x;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var w=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(w[0],w[1],w[2],w[3],void 0,-1)}this.setFont(void 0,"bold");for(var A=[],E=0;E<this.internal.__cell__.tableHeaderRow.length;E+=1){x=this.internal.__cell__.tableHeaderRow[E].clone(),d&&(x.y=this.internal.__cell__.margins.top||0,A.push(x)),x.lineNumber=f;var I=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,x),this.setTextColor(I)}A.length>0&&this.setTableHeaderRow(A),this.setFont(void 0,"normal"),t=!1}})(Xn.API);var KI={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},$I=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Ky=YI($I),ZI=[100,200,300,400,500,600,700,800,900],RW=YI(ZI);function H_(n){var e=n.family.replace(/"|'/g,"").toLowerCase(),t=(function(s){return KI[s=s||"normal"]?s:"normal"})(n.style),r=(function(s){return s?typeof s=="number"?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):s==="bold"?700:400:400})(n.weight),i=(function(s){return typeof Ky[s=s||"normal"]=="number"?s:"normal"})(n.stretch);return{family:e,style:t,weight:r,stretch:i,src:n.src||[],ref:n.ref||{name:e,style:[i,t,r].join(" ")}}}function cT(n,e,t,r){var i;for(i=t;i>=0&&i<e.length;i+=r)if(n[e[i]])return n[e[i]];for(i=t;i>=0&&i<e.length;i-=r)if(n[e[i]])return n[e[i]]}var OW={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},uT={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function hT(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function fT(n){return n.trimLeft()}function kW(n,e){for(var t=0;t<n.length;){if(n.charAt(t)===e)return[n.substring(0,t),n.substring(t+1)];t+=1}return null}function DW(n){var e=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],n.substring(e[0].length)]}var Qg,dT,mT,Ud,Jg,gT,pT,xT,q_=["times"];function vT(n,e,t,r,i){var s=4,o=yT;switch(i){case Xn.API.image_compression.FAST:s=1,o=_T;break;case Xn.API.image_compression.MEDIUM:s=6,o=wT;break;case Xn.API.image_compression.SLOW:s=9,o=bT}n=(function(f,d,x,w){for(var A,E=f.length/d,I=new Uint8Array(f.length+E),C=[LW,_T,yT,wT,bT],L=0;L<E;L+=1){var j=L*d,W=f.subarray(j,j+d);if(w)I.set(w(W,x,A),j+L);else{for(var M=C.length,G=[],ce=0;ce<M;ce+=1)G[ce]=C[ce](W,x,A);var re=PW(G.concat());I.set(G[re],j+L)}A=W}return I})(n,e,Math.ceil(t*r/8),o);var u=zy(n,{level:s});return Xn.API.__addimage__.arrayBufferToBinaryString(u)}function LW(n){var e=Array.apply([],n);return e.unshift(0),e}function _T(n,e){var t=n.length,r=[];r[0]=1;for(var i=0;i<t;i+=1){var s=n[i-e]||0;r[i+1]=n[i]-s+256&255}return r}function yT(n,e,t){var r=n.length,i=[];i[0]=2;for(var s=0;s<r;s+=1){var o=t&&t[s]||0;i[s+1]=n[s]-o+256&255}return i}function wT(n,e,t){var r=n.length,i=[];i[0]=3;for(var s=0;s<r;s+=1){var o=n[s-e]||0,u=t&&t[s]||0;i[s+1]=n[s]+256-(o+u>>>1)&255}return i}function bT(n,e,t){var r=n.length,i=[];i[0]=4;for(var s=0;s<r;s+=1){var o=MW(n[s-e]||0,t&&t[s]||0,t&&t[s-e]||0);i[s+1]=n[s]-o+256&255}return i}function MW(n,e,t){if(n===e&&e===t)return n;var r=Math.abs(e-t),i=Math.abs(n-t),s=Math.abs(n+e-t-t);return r<=i&&r<=s?n:i<=s?e:t}function PW(n){var e=n.map(function(t){return t.reduce(function(r,i){return r+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function G_(n,e,t){var r=e*t,i=Math.floor(r/8),s=16-(r-8*i+t),o=(1<<t)-1;return QI(n,i)>>s&o}function ET(n,e,t,r){var i=t*r,s=Math.floor(i/8),o=16-(i-8*s+r),u=(1<<r)-1,f=(e&u)<<o;(function(d,x,w){if(x+1<d.byteLength)d.setUint16(x,w,!1);else{var A=w>>8&255;d.setUint8(x,A)}})(n,s,QI(n,s)&~(u<<o)&65535|f)}function QI(n,e){return e+1<n.byteLength?n.getUint16(e,!1):n.getUint8(e)<<8}function jW(n){var e=0;if(n[e++]!==71||n[e++]!==73||n[e++]!==70||n[e++]!==56||(n[e++]+1&253)!=56||n[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=n[e++]|n[e++]<<8,r=n[e++]|n[e++]<<8,i=n[e++],s=i>>7,o=1<<1+(7&i);n[e++],n[e++];var u=null,f=null;s&&(u=e,f=o,e+=3*o);var d=!0,x=[],w=0,A=null,E=0,I=null;for(this.width=t,this.height=r;d&&e<n.length;)switch(n[e++]){case 33:switch(n[e++]){case 255:if(n[e]!==11||n[e+1]==78&&n[e+2]==69&&n[e+3]==84&&n[e+4]==83&&n[e+5]==67&&n[e+6]==65&&n[e+7]==80&&n[e+8]==69&&n[e+9]==50&&n[e+10]==46&&n[e+11]==48&&n[e+12]==3&&n[e+13]==1&&n[e+16]==0)e+=14,I=n[e++]|n[e++]<<8,e++;else for(e+=12;;){if(!((U=n[e++])>=0))throw Error("Invalid block size");if(U===0)break;e+=U}break;case 249:if(n[e++]!==4||n[e+4]!==0)throw new Error("Invalid graphics extension block.");var C=n[e++];w=n[e++]|n[e++]<<8,A=n[e++],1&C||(A=null),E=C>>2&7,e++;break;case 254:for(;;){if(!((U=n[e++])>=0))throw Error("Invalid block size");if(U===0)break;e+=U}break;default:throw new Error("Unknown graphic control label: 0x"+n[e-1].toString(16))}break;case 44:var L=n[e++]|n[e++]<<8,j=n[e++]|n[e++]<<8,W=n[e++]|n[e++]<<8,M=n[e++]|n[e++]<<8,G=n[e++],ce=G>>6&1,re=1<<1+(7&G),F=u,B=f,D=!1;G>>7&&(D=!0,F=e,B=re,e+=3*re);var Z=e;for(e++;;){var U;if(!((U=n[e++])>=0))throw Error("Invalid block size");if(U===0)break;e+=U}x.push({x:L,y:j,width:W,height:M,has_local_palette:D,palette_offset:F,palette_size:B,data_offset:Z,data_length:e-Z,transparent_index:A,interlaced:!!ce,delay:w,disposal:E});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+n[e-1].toString(16))}this.numFrames=function(){return x.length},this.loopCount=function(){return I},this.frameInfo=function(H){if(H<0||H>=x.length)throw new Error("Frame index out of range.");return x[H]},this.decodeAndBlitFrameBGRA=function(H,X){var ne=this.frameInfo(H),pe=ne.width*ne.height,Ae=new Uint8Array(pe);AT(n,ne.data_offset,Ae,pe);var xe=ne.palette_offset,Re=ne.transparent_index;Re===null&&(Re=256);var He=ne.width,ze=t-He,ve=He,q=4*(ne.y*t+ne.x),J=4*((ne.y+ne.height)*t+ne.x),Q=q,oe=4*ze;ne.interlaced===!0&&(oe+=4*t*7);for(var de=8,De=0,Ve=Ae.length;De<Ve;++De){var Fe=Ae[De];if(ve===0&&(ve=He,(Q+=oe)>=J&&(oe=4*ze+4*t*(de-1),Q=q+(He+ze)*(de<<1),de>>=1)),Fe===Re)Q+=4;else{var Ie=n[xe+3*Fe],Qe=n[xe+3*Fe+1],St=n[xe+3*Fe+2];X[Q++]=St,X[Q++]=Qe,X[Q++]=Ie,X[Q++]=255}--ve}},this.decodeAndBlitFrameRGBA=function(H,X){var ne=this.frameInfo(H),pe=ne.width*ne.height,Ae=new Uint8Array(pe);AT(n,ne.data_offset,Ae,pe);var xe=ne.palette_offset,Re=ne.transparent_index;Re===null&&(Re=256);var He=ne.width,ze=t-He,ve=He,q=4*(ne.y*t+ne.x),J=4*((ne.y+ne.height)*t+ne.x),Q=q,oe=4*ze;ne.interlaced===!0&&(oe+=4*t*7);for(var de=8,De=0,Ve=Ae.length;De<Ve;++De){var Fe=Ae[De];if(ve===0&&(ve=He,(Q+=oe)>=J&&(oe=4*ze+4*t*(de-1),Q=q+(He+ze)*(de<<1),de>>=1)),Fe===Re)Q+=4;else{var Ie=n[xe+3*Fe],Qe=n[xe+3*Fe+1],St=n[xe+3*Fe+2];X[Q++]=Ie,X[Q++]=Qe,X[Q++]=St,X[Q++]=255}--ve}}}function AT(n,e,t,r){for(var i=n[e++],s=1<<i,o=s+1,u=o+1,f=i+1,d=(1<<f)-1,x=0,w=0,A=0,E=n[e++],I=new Int32Array(4096),C=null;;){for(;x<16&&E!==0;)w|=n[e++]<<x,x+=8,E===1?E=n[e++]:--E;if(x<f)break;var L=w&d;if(w>>=f,x-=f,L!==s){if(L===o)break;for(var j=L<u?L:C,W=0,M=j;M>s;)M=I[M]>>8,++W;var G=M;if(A+W+(j!==L?1:0)>r)return void Vi.log("Warning, gif stream longer than expected.");t[A++]=G;var ce=A+=W;for(j!==L&&(t[A++]=G),M=j;W--;)M=I[M],t[--ce]=255&M,M>>=8;C!==null&&u<4096&&(I[u++]=C<<8|G,u>=d+1&&f<12&&(++f,d=d<<1|1)),C=L}else u=o+1,d=(1<<(f=i+1))-1,C=null}return A!==r&&Vi.log("Warning, gif stream shorter than expected."),t}function W_(n){var e,t,r,i,s,o=Math.floor,u=new Array(64),f=new Array(64),d=new Array(64),x=new Array(64),w=new Array(65535),A=new Array(65535),E=new Array(64),I=new Array(64),C=[],L=0,j=7,W=new Array(64),M=new Array(64),G=new Array(64),ce=new Array(256),re=new Array(2048),F=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],B=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],D=[0,1,2,3,4,5,6,7,8,9,10,11],Z=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],U=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],H=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],X=[0,1,2,3,4,5,6,7,8,9,10,11],ne=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],pe=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Ae(q,J){for(var Q=0,oe=0,de=new Array,De=1;De<=16;De++){for(var Ve=1;Ve<=q[De];Ve++)de[J[oe]]=[],de[J[oe]][0]=Q,de[J[oe]][1]=De,oe++,Q++;Q*=2}return de}function xe(q){for(var J=q[0],Q=q[1]-1;Q>=0;)J&1<<Q&&(L|=1<<j),Q--,--j<0&&(L==255?(Re(255),Re(0)):Re(L),j=7,L=0)}function Re(q){C.push(q)}function He(q){Re(q>>8&255),Re(255&q)}function ze(q,J,Q,oe,de){for(var De,Ve=de[0],Fe=de[240],Ie=(function(tt,tn){var Xe,Lt,fn,st,Yt,rn,hn,xn,on,bn,dn=0;for(on=0;on<8;++on){Xe=tt[dn],Lt=tt[dn+1],fn=tt[dn+2],st=tt[dn+3],Yt=tt[dn+4],rn=tt[dn+5],hn=tt[dn+6];var nr=Xe+(xn=tt[dn+7]),an=Xe-xn,dt=Lt+hn,Wt=Lt-hn,It=fn+rn,un=fn-rn,Yn=st+Yt,mt=st-Yt,$t=nr+Yn,cn=nr-Yn,mn=dt+It,gn=dt-It;tt[dn]=$t+mn,tt[dn+4]=$t-mn;var Qn=.707106781*(gn+cn);tt[dn+2]=cn+Qn,tt[dn+6]=cn-Qn;var kr=.382683433*(($t=mt+un)-(gn=Wt+an)),li=.5411961*$t+kr,Lr=1.306562965*gn+kr,Kr=.707106781*(mn=un+Wt),On=an+Kr,Ni=an-Kr;tt[dn+5]=Ni+li,tt[dn+3]=Ni-li,tt[dn+1]=On+Lr,tt[dn+7]=On-Lr,dn+=8}for(dn=0,on=0;on<8;++on){Xe=tt[dn],Lt=tt[dn+8],fn=tt[dn+16],st=tt[dn+24],Yt=tt[dn+32],rn=tt[dn+40],hn=tt[dn+48];var Ki=Xe+(xn=tt[dn+56]),$r=Xe-xn,zi=Lt+hn,lr=Lt-hn,Rr=fn+rn,ge=fn-rn,be=st+Yt,Te=st-Yt,Ce=Ki+be,Oe=Ki-be,Me=zi+Rr,rt=zi-Rr;tt[dn]=Ce+Me,tt[dn+32]=Ce-Me;var At=.707106781*(rt+Oe);tt[dn+16]=Oe+At,tt[dn+48]=Oe-At;var Je=.382683433*((Ce=Te+ge)-(rt=lr+$r)),lt=.5411961*Ce+Je,ht=1.306562965*rt+Je,qt=.707106781*(Me=ge+lr),Ot=$r+qt,Mt=$r-qt;tt[dn+40]=Mt+lt,tt[dn+24]=Mt-lt,tt[dn+8]=Ot+ht,tt[dn+56]=Ot-ht,dn++}for(on=0;on<64;++on)bn=tt[on]*tn[on],E[on]=bn>0?bn+.5|0:bn-.5|0;return E})(q,J),Qe=0;Qe<64;++Qe)I[F[Qe]]=Ie[Qe];var St=I[0]-Q;Q=I[0],St==0?xe(oe[0]):(xe(oe[A[De=32767+St]]),xe(w[De]));for(var Tt=63;Tt>0&&I[Tt]==0;)Tt--;if(Tt==0)return xe(Ve),Q;for(var Rt,le=1;le<=Tt;){for(var ot=le;I[le]==0&&le<=Tt;)++le;var pt=le-ot;if(pt>=16){Rt=pt>>4;for(var zt=1;zt<=Rt;++zt)xe(Fe);pt&=15}De=32767+I[le],xe(de[(pt<<4)+A[De]]),xe(w[De]),le++}return Tt!=63&&xe(Ve),Q}function ve(q){q=Math.min(Math.max(q,1),100),s!=q&&((function(J){for(var Q=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],oe=0;oe<64;oe++){var de=o((Q[oe]*J+50)/100);de=Math.min(Math.max(de,1),255),u[F[oe]]=de}for(var De=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Ve=0;Ve<64;Ve++){var Fe=o((De[Ve]*J+50)/100);Fe=Math.min(Math.max(Fe,1),255),f[F[Ve]]=Fe}for(var Ie=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Qe=0,St=0;St<8;St++)for(var Tt=0;Tt<8;Tt++)d[Qe]=1/(u[F[Qe]]*Ie[St]*Ie[Tt]*8),x[Qe]=1/(f[F[Qe]]*Ie[St]*Ie[Tt]*8),Qe++})(q<50?Math.floor(5e3/q):Math.floor(200-2*q)),s=q)}this.encode=function(q,J){J&&ve(J),C=new Array,L=0,j=7,He(65496),He(65504),He(16),Re(74),Re(70),Re(73),Re(70),Re(0),Re(1),Re(1),Re(0),He(1),He(1),Re(0),Re(0),(function(){He(65499),He(132),Re(0);for(var Lt=0;Lt<64;Lt++)Re(u[Lt]);Re(1);for(var fn=0;fn<64;fn++)Re(f[fn])})(),(function(Lt,fn){He(65472),He(17),Re(8),He(fn),He(Lt),Re(3),Re(1),Re(17),Re(0),Re(2),Re(17),Re(1),Re(3),Re(17),Re(1)})(q.width,q.height),(function(){He(65476),He(418),Re(0);for(var Lt=0;Lt<16;Lt++)Re(B[Lt+1]);for(var fn=0;fn<=11;fn++)Re(D[fn]);Re(16);for(var st=0;st<16;st++)Re(Z[st+1]);for(var Yt=0;Yt<=161;Yt++)Re(U[Yt]);Re(1);for(var rn=0;rn<16;rn++)Re(H[rn+1]);for(var hn=0;hn<=11;hn++)Re(X[hn]);Re(17);for(var xn=0;xn<16;xn++)Re(ne[xn+1]);for(var on=0;on<=161;on++)Re(pe[on])})(),He(65498),He(12),Re(3),Re(1),Re(0),Re(2),Re(17),Re(3),Re(17),Re(0),Re(63),Re(0);var Q=0,oe=0,de=0;L=0,j=7,this.encode.displayName="_encode_";for(var De,Ve,Fe,Ie,Qe,St,Tt,Rt,le,ot=q.data,pt=q.width,zt=q.height,tt=4*pt,tn=0;tn<zt;){for(De=0;De<tt;){for(Qe=tt*tn+De,Tt=-1,Rt=0,le=0;le<64;le++)St=Qe+(Rt=le>>3)*tt+(Tt=4*(7&le)),tn+Rt>=zt&&(St-=tt*(tn+1+Rt-zt)),De+Tt>=tt&&(St-=De+Tt-tt+4),Ve=ot[St++],Fe=ot[St++],Ie=ot[St++],W[le]=(re[Ve]+re[Fe+256|0]+re[Ie+512|0]>>16)-128,M[le]=(re[Ve+768|0]+re[Fe+1024|0]+re[Ie+1280|0]>>16)-128,G[le]=(re[Ve+1280|0]+re[Fe+1536|0]+re[Ie+1792|0]>>16)-128;Q=ze(W,d,Q,e,r),oe=ze(M,x,oe,t,i),de=ze(G,x,de,t,i),De+=32}tn+=8}if(j>=0){var Xe=[];Xe[1]=j+1,Xe[0]=(1<<j+1)-1,xe(Xe)}return He(65497),new Uint8Array(C)},n=n||50,(function(){for(var q=String.fromCharCode,J=0;J<256;J++)ce[J]=q(J)})(),e=Ae(B,D),t=Ae(H,X),r=Ae(Z,U),i=Ae(ne,pe),(function(){for(var q=1,J=2,Q=1;Q<=15;Q++){for(var oe=q;oe<J;oe++)A[32767+oe]=Q,w[32767+oe]=[],w[32767+oe][1]=Q,w[32767+oe][0]=oe;for(var de=-(J-1);de<=-q;de++)A[32767+de]=Q,w[32767+de]=[],w[32767+de][1]=Q,w[32767+de][0]=J-1+de;q<<=1,J<<=1}})(),(function(){for(var q=0;q<256;q++)re[q]=19595*q,re[q+256|0]=38470*q,re[q+512|0]=7471*q+32768,re[q+768|0]=-11059*q,re[q+1024|0]=-21709*q,re[q+1280|0]=32768*q+8421375,re[q+1536|0]=-27439*q,re[q+1792|0]=-5329*q})(),ve(n)}function hc(n,e){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function ST(n){function e(D){if(!D)throw Error("assert :P")}function t(D,Z,U){for(var H=0;4>H;H++)if(D[Z+H]!=U.charCodeAt(H))return!0;return!1}function r(D,Z,U,H,X){for(var ne=0;ne<X;ne++)D[Z+ne]=U[H+ne]}function i(D,Z,U,H){for(var X=0;X<H;X++)D[Z+X]=U}function s(D){return new Int32Array(D)}function o(D,Z){for(var U=[],H=0;H<D;H++)U.push(new Z);return U}function u(D,Z){var U=[];return(function H(X,ne,pe){for(var Ae=pe[ne],xe=0;xe<Ae&&(X.push(pe.length>ne+1?[]:new Z),!(pe.length<ne+1));xe++)H(X[xe],ne+1,pe)})(U,0,D),U}var f=function(){var D=this;function Z(T,O){for(var Y=1<<O-1>>>0;T&Y;)Y>>>=1;return Y?(T&Y-1)+Y:T}function U(T,O,Y,te,me){e(!(te%Y));do T[O+(te-=Y)]=me;while(0<te)}function H(T,O,Y,te,me){if(e(2328>=me),512>=me)var ye=s(512);else if((ye=s(me))==null)return 0;return(function(we,Ne,ke,Ue,Ke,gt){var Be,Ze,ct=Ne,Dt=1<<ke,ft=s(16),kt=s(16);for(e(Ke!=0),e(Ue!=null),e(we!=null),e(0<ke),Ze=0;Ze<Ke;++Ze){if(15<Ue[Ze])return 0;++ft[Ue[Ze]]}if(ft[0]==Ke)return 0;for(kt[1]=0,Be=1;15>Be;++Be){if(ft[Be]>1<<Be)return 0;kt[Be+1]=kt[Be]+ft[Be]}for(Ze=0;Ze<Ke;++Ze)Be=Ue[Ze],0<Ue[Ze]&&(gt[kt[Be]++]=Ze);if(kt[15]==1)return(Ue=new X).g=0,Ue.value=gt[0],U(we,ct,1,Dt,Ue),Dt;var Ht,ln=-1,Qt=Dt-1,Mn=0,Cn=1,dr=1,Dn=1<<ke;for(Ze=0,Be=1,Ke=2;Be<=ke;++Be,Ke<<=1){if(Cn+=dr<<=1,0>(dr-=ft[Be]))return 0;for(;0<ft[Be];--ft[Be])(Ue=new X).g=Be,Ue.value=gt[Ze++],U(we,ct+Mn,Ke,Dn,Ue),Mn=Z(Mn,Be)}for(Be=ke+1,Ke=2;15>=Be;++Be,Ke<<=1){if(Cn+=dr<<=1,0>(dr-=ft[Be]))return 0;for(;0<ft[Be];--ft[Be]){if(Ue=new X,(Mn&Qt)!=ln){for(ct+=Dn,Ht=1<<(ln=Be)-ke;15>ln&&!(0>=(Ht-=ft[ln]));)++ln,Ht<<=1;Dt+=Dn=1<<(Ht=ln-ke),we[Ne+(ln=Mn&Qt)].g=Ht+ke,we[Ne+ln].value=ct-Ne-ln}Ue.g=Be-ke,Ue.value=gt[Ze++],U(we,ct+(Mn>>ke),Ke,Dn,Ue),Mn=Z(Mn,Be)}}return Cn!=2*kt[15]-1?0:Dt})(T,O,Y,te,me,ye)}function X(){this.value=this.g=0}function ne(){this.value=this.g=0}function pe(){this.G=o(5,X),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Hs,ne)}function Ae(T,O,Y,te){e(T!=null),e(O!=null),e(2147483648>te),T.Ca=254,T.I=0,T.b=-8,T.Ka=0,T.oa=O,T.pa=Y,T.Jd=O,T.Yc=Y+te,T.Zc=4<=te?Y+te-4+1:Y,Ve(T)}function xe(T,O){for(var Y=0;0<O--;)Y|=Ie(T,128)<<O;return Y}function Re(T,O){var Y=xe(T,O);return Fe(T)?-Y:Y}function He(T,O,Y,te){var me,ye=0;for(e(T!=null),e(O!=null),e(4294967288>te),T.Sb=te,T.Ra=0,T.u=0,T.h=0,4<te&&(te=4),me=0;me<te;++me)ye+=O[Y+me]<<8*me;T.Ra=ye,T.bb=te,T.oa=O,T.pa=Y}function ze(T){for(;8<=T.u&&T.bb<T.Sb;)T.Ra>>>=8,T.Ra+=T.oa[T.pa+T.bb]<<ja-8>>>0,++T.bb,T.u-=8;oe(T)&&(T.h=1,T.u=0)}function ve(T,O){if(e(0<=O),!T.h&&O<=qs){var Y=Q(T)&Pa[O];return T.u+=O,ze(T),Y}return T.h=1,T.u=0}function q(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function J(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Q(T){return T.Ra>>>(T.u&ja-1)>>>0}function oe(T){return e(T.bb<=T.Sb),T.h||T.bb==T.Sb&&T.u>ja}function de(T,O){T.u=O,T.h=oe(T)}function De(T){T.u>=pr&&(e(T.u>=pr),ze(T))}function Ve(T){e(T!=null&&T.oa!=null),T.pa<T.Zc?(T.I=(T.oa[T.pa++]|T.I<<8)>>>0,T.b+=8):(e(T!=null&&T.oa!=null),T.pa<T.Yc?(T.b+=8,T.I=T.oa[T.pa++]|T.I<<8):T.Ka?T.b=0:(T.I<<=8,T.b+=8,T.Ka=1))}function Fe(T){return xe(T,1)}function Ie(T,O){var Y=T.Ca;0>T.b&&Ve(T);var te=T.b,me=Y*O>>>8,ye=(T.I>>>te>me)+0;for(ye?(Y-=me,T.I-=me+1<<te>>>0):Y=me+1,te=Y,me=0;256<=te;)me+=8,te>>=8;return te=7^me+wo[te],T.b-=te,T.Ca=(Y<<te)-1,ye}function Qe(T,O,Y){T[O+0]=Y>>24&255,T[O+1]=Y>>16&255,T[O+2]=Y>>8&255,T[O+3]=255&Y}function St(T,O){return T[O+0]|T[O+1]<<8}function Tt(T,O){return St(T,O)|T[O+2]<<16}function Rt(T,O){return St(T,O)|St(T,O+2)<<16}function le(T,O){var Y=1<<O;return e(T!=null),e(0<O),T.X=s(Y),T.X==null?0:(T.Mb=32-O,T.Xa=O,1)}function ot(T,O){e(T!=null),e(O!=null),e(T.Xa==O.Xa),r(O.X,0,T.X,0,1<<O.Xa)}function pt(){this.X=[],this.Xa=this.Mb=0}function zt(T,O,Y,te){e(Y!=null),e(te!=null);var me=Y[0],ye=te[0];return me==0&&(me=(T*ye+O/2)/O),ye==0&&(ye=(O*me+T/2)/T),0>=me||0>=ye?0:(Y[0]=me,te[0]=ye,1)}function tt(T,O){return T+(1<<O)-1>>>O}function tn(T,O){return((4278255360&T)+(4278255360&O)>>>0&4278255360)+((16711935&T)+(16711935&O)>>>0&16711935)>>>0}function Xe(T,O){D[O]=function(Y,te,me,ye,we,Ne,ke){var Ue;for(Ue=0;Ue<we;++Ue){var Ke=D[T](Ne[ke+Ue-1],me,ye+Ue);Ne[ke+Ue]=tn(Y[te+Ue],Ke)}}}function Lt(){this.ud=this.hd=this.jd=0}function fn(T,O){return((4278124286&(T^O))>>>1)+(T&O)>>>0}function st(T){return 0<=T&&256>T?T:0>T?0:255<T?255:void 0}function Yt(T,O){return st(T+(T-O+.5>>1))}function rn(T,O,Y){return Math.abs(O-Y)-Math.abs(T-Y)}function hn(T,O,Y,te,me,ye,we){for(te=ye[we-1],Y=0;Y<me;++Y)ye[we+Y]=te=tn(T[O+Y],te)}function xn(T,O,Y,te,me){var ye;for(ye=0;ye<Y;++ye){var we=T[O+ye],Ne=we>>8&255,ke=16711935&(ke=(ke=16711935&we)+((Ne<<16)+Ne));te[me+ye]=(4278255360&we)+ke>>>0}}function on(T,O){O.jd=255&T,O.hd=T>>8&255,O.ud=T>>16&255}function bn(T,O,Y,te,me,ye){var we;for(we=0;we<te;++we){var Ne=O[Y+we],ke=Ne>>>8,Ue=Ne,Ke=255&(Ke=(Ke=Ne>>>16)+((T.jd<<24>>24)*(ke<<24>>24)>>>5));Ue=255&(Ue=(Ue+=(T.hd<<24>>24)*(ke<<24>>24)>>>5)+((T.ud<<24>>24)*(Ke<<24>>24)>>>5)),me[ye+we]=(4278255360&Ne)+(Ke<<16)+Ue}}function dn(T,O,Y,te,me){D[O]=function(ye,we,Ne,ke,Ue,Ke,gt,Be,Ze){for(ke=gt;ke<Be;++ke)for(gt=0;gt<Ze;++gt)Ue[Ke++]=me(Ne[te(ye[we++])])},D[T]=function(ye,we,Ne,ke,Ue,Ke,gt){var Be=8>>ye.b,Ze=ye.Ea,ct=ye.K[0],Dt=ye.w;if(8>Be)for(ye=(1<<ye.b)-1,Dt=(1<<Be)-1;we<Ne;++we){var ft,kt=0;for(ft=0;ft<Ze;++ft)ft&ye||(kt=te(ke[Ue++])),Ke[gt++]=me(ct[kt&Dt]),kt>>=Be}else D["VP8LMapColor"+Y](ke,Ue,ct,Dt,Ke,gt,we,Ne,Ze)}}function nr(T,O,Y,te,me){for(Y=O+Y;O<Y;){var ye=T[O++];te[me++]=ye>>16&255,te[me++]=ye>>8&255,te[me++]=255&ye}}function an(T,O,Y,te,me){for(Y=O+Y;O<Y;){var ye=T[O++];te[me++]=ye>>16&255,te[me++]=ye>>8&255,te[me++]=255&ye,te[me++]=ye>>24&255}}function dt(T,O,Y,te,me){for(Y=O+Y;O<Y;){var ye=(we=T[O++])>>16&240|we>>12&15,we=240&we|we>>28&15;te[me++]=ye,te[me++]=we}}function Wt(T,O,Y,te,me){for(Y=O+Y;O<Y;){var ye=(we=T[O++])>>16&248|we>>13&7,we=we>>5&224|we>>3&31;te[me++]=ye,te[me++]=we}}function It(T,O,Y,te,me){for(Y=O+Y;O<Y;){var ye=T[O++];te[me++]=255&ye,te[me++]=ye>>8&255,te[me++]=ye>>16&255}}function un(T,O,Y,te,me,ye){if(ye==0)for(Y=O+Y;O<Y;)Qe(te,((ye=T[O++])[0]>>24|ye[1]>>8&65280|ye[2]<<8&16711680|ye[3]<<24)>>>0),me+=32;else r(te,me,T,O,Y)}function Yn(T,O){D[O][0]=D[T+"0"],D[O][1]=D[T+"1"],D[O][2]=D[T+"2"],D[O][3]=D[T+"3"],D[O][4]=D[T+"4"],D[O][5]=D[T+"5"],D[O][6]=D[T+"6"],D[O][7]=D[T+"7"],D[O][8]=D[T+"8"],D[O][9]=D[T+"9"],D[O][10]=D[T+"10"],D[O][11]=D[T+"11"],D[O][12]=D[T+"12"],D[O][13]=D[T+"13"],D[O][14]=D[T+"0"],D[O][15]=D[T+"0"]}function mt(T){return T==lf||T==ld||T==Qu||T==cd}function $t(){this.eb=[],this.size=this.A=this.fb=0}function cn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function mn(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new $t,this.f.kb=new cn,this.sd=null}function gn(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Qn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function kr(T){return alert("todo:WebPSamplerProcessPlane"),T.T}function li(T,O){var Y=T.T,te=O.ba.f.RGBA,me=te.eb,ye=te.fb+T.ka*te.A,we=ba[O.ba.S],Ne=T.y,ke=T.O,Ue=T.f,Ke=T.N,gt=T.ea,Be=T.W,Ze=O.cc,ct=O.dc,Dt=O.Mc,ft=O.Nc,kt=T.ka,Ht=T.ka+T.T,ln=T.U,Qt=ln+1>>1;for(kt==0?we(Ne,ke,null,null,Ue,Ke,gt,Be,Ue,Ke,gt,Be,me,ye,null,null,ln):(we(O.ec,O.fc,Ne,ke,Ze,ct,Dt,ft,Ue,Ke,gt,Be,me,ye-te.A,me,ye,ln),++Y);kt+2<Ht;kt+=2)Ze=Ue,ct=Ke,Dt=gt,ft=Be,Ke+=T.Rc,Be+=T.Rc,ye+=2*te.A,we(Ne,(ke+=2*T.fa)-T.fa,Ne,ke,Ze,ct,Dt,ft,Ue,Ke,gt,Be,me,ye-te.A,me,ye,ln);return ke+=T.fa,T.j+Ht<T.o?(r(O.ec,O.fc,Ne,ke,ln),r(O.cc,O.dc,Ue,Ke,Qt),r(O.Mc,O.Nc,gt,Be,Qt),Y--):1&Ht||we(Ne,ke,null,null,Ue,Ke,gt,Be,Ue,Ke,gt,Be,me,ye+te.A,null,null,ln),Y}function Lr(T,O,Y){var te=T.F,me=[T.J];if(te!=null){var ye=T.U,we=O.ba.S,Ne=we==of||we==Qu;O=O.ba.f.RGBA;var ke=[0],Ue=T.ka;ke[0]=T.T,T.Kb&&(Ue==0?--ke[0]:(--Ue,me[0]-=T.width),T.j+T.ka+T.T==T.o&&(ke[0]=T.o-T.j-Ue));var Ke=O.eb;Ue=O.fb+Ue*O.A,T=nf(te,me[0],T.width,ye,ke,Ke,Ue+(Ne?0:3),O.A),e(Y==ke),T&&mt(we)&&nc(Ke,Ue,Ne,ye,ke,O.A)}return 0}function Kr(T){var O=T.ma,Y=O.ba.S,te=11>Y,me=Y==Ua||Y==Qo||Y==of||Y==Zu||Y==12||mt(Y);if(O.memory=null,O.Ib=null,O.Jb=null,O.Nd=null,!Bo(O.Oa,T,me?11:12))return 0;if(me&&mt(Y)&&rr(),T.da)alert("todo:use_scaling");else{if(te){if(O.Ib=kr,T.Kb){if(Y=T.U+1>>1,O.memory=s(T.U+2*Y),O.memory==null)return 0;O.ec=O.memory,O.fc=0,O.cc=O.ec,O.dc=O.fc+T.U,O.Mc=O.cc,O.Nc=O.dc+Y,O.Ib=li,rr()}}else alert("todo:EmitYUV");me&&(O.Jb=Lr,te&&_t())}if(te&&!Dc){for(T=0;256>T;++T)Ea[T]=89858*(T-128)+th>>il,xx[T]=-22014*(T-128)+th,Gm[T]=-45773*(T-128),md[T]=113618*(T-128)+th>>il;for(T=mu;T<kc;++T)O=76283*(T-16)+th>>il,vx[T-mu]=ci(O,255),_x[T-mu]=ci(O+8>>4,15);Dc=1}return 1}function On(T){var O=T.ma,Y=T.U,te=T.T;return e(!(1&T.ka)),0>=Y||0>=te?0:(Y=O.Ib(T,O),O.Jb!=null&&O.Jb(T,O,Y),O.Dc+=Y,1)}function Ni(T){T.ma.memory=null}function Ki(T,O,Y,te){return ve(T,8)!=47?0:(O[0]=ve(T,14)+1,Y[0]=ve(T,14)+1,te[0]=ve(T,1),ve(T,3)!=0?0:!T.h)}function $r(T,O){if(4>T)return T+1;var Y=T-2>>1;return(2+(1&T)<<Y)+ve(O,Y)+1}function zi(T,O){return 120<O?O-120:1<=(Y=((Y=el[O-1])>>4)*T+(8-(15&Y)))?Y:1;var Y}function lr(T,O,Y){var te=Q(Y),me=T[O+=255&te].g-8;return 0<me&&(de(Y,Y.u+8),te=Q(Y),O+=T[O].value,O+=te&(1<<me)-1),de(Y,Y.u+T[O].g),T[O].value}function Rr(T,O,Y){return Y.g+=T.g,Y.value+=T.value<<O>>>0,e(8>=Y.g),T.g}function ge(T,O,Y){var te=T.xc;return e((O=te==0?0:T.vc[T.md*(Y>>te)+(O>>te)])<T.Wb),T.Ya[O]}function be(T,O,Y,te){var me=T.ab,ye=T.c*O,we=T.C;O=we+O;var Ne=Y,ke=te;for(te=T.Ta,Y=T.Ua;0<me--;){var Ue=T.gc[me],Ke=we,gt=O,Be=Ne,Ze=ke,ct=(ke=te,Ne=Y,Ue.Ea);switch(e(Ke<gt),e(gt<=Ue.nc),Ue.hc){case 2:h(Be,Ze,(gt-Ke)*ct,ke,Ne);break;case 0:var Dt=Ke,ft=gt,kt=ke,Ht=Ne,ln=(Dn=Ue).Ea;Dt==0&&(he(Be,Ze,null,null,1,kt,Ht),hn(Be,Ze+1,0,0,ln-1,kt,Ht+1),Ze+=ln,Ht+=ln,++Dt);for(var Qt=1<<Dn.b,Mn=Qt-1,Cn=tt(ln,Dn.b),dr=Dn.K,Dn=Dn.w+(Dt>>Dn.b)*Cn;Dt<ft;){var Dr=dr,Bi=Dn,yr=1;for(l(Be,Ze,kt,Ht-ln,1,kt,Ht);yr<ln;){var In=(yr&~Mn)+Qt;In>ln&&(In=ln),(0,N[Dr[Bi++]>>8&15])(Be,Ze+ +yr,kt,Ht+yr-ln,In-yr,kt,Ht+yr),yr=In}Ze+=ln,Ht+=ln,++Dt&Mn||(Dn+=Cn)}gt!=Ue.nc&&r(ke,Ne-ct,ke,Ne+(gt-Ke-1)*ct,ct);break;case 1:for(ct=Be,ft=Ze,ln=(Be=Ue.Ea)-(Ht=Be&~(kt=(Ze=1<<Ue.b)-1)),Dt=tt(Be,Ue.b),Qt=Ue.K,Ue=Ue.w+(Ke>>Ue.b)*Dt;Ke<gt;){for(Mn=Qt,Cn=Ue,dr=new Lt,Dn=ft+Ht,Dr=ft+Be;ft<Dn;)on(Mn[Cn++],dr),k(dr,ct,ft,Ze,ke,Ne),ft+=Ze,Ne+=Ze;ft<Dr&&(on(Mn[Cn++],dr),k(dr,ct,ft,ln,ke,Ne),ft+=ln,Ne+=ln),++Ke&kt||(Ue+=Dt)}break;case 3:if(Be==ke&&Ze==Ne&&0<Ue.b){for(ft=ke,Be=ct=Ne+(gt-Ke)*ct-(Ht=(gt-Ke)*tt(Ue.Ea,Ue.b)),Ze=ke,kt=Ne,Dt=[],Ht=(ln=Ht)-1;0<=Ht;--Ht)Dt[Ht]=Ze[kt+Ht];for(Ht=ln-1;0<=Ht;--Ht)ft[Be+Ht]=Dt[Ht];g(Ue,Ke,gt,ke,ct,ke,Ne)}else g(Ue,Ke,gt,Be,Ze,ke,Ne)}Ne=te,ke=Y}ke!=Y&&r(te,Y,Ne,ke,ye)}function Te(T,O){var Y=T.V,te=T.Ba+T.c*T.C,me=O-T.C;if(e(O<=T.l.o),e(16>=me),0<me){var ye=T.l,we=T.Ta,Ne=T.Ua,ke=ye.width;if(be(T,me,Y,te),me=Ne=[Ne],e((Y=T.C)<(te=O)),e(ye.v<ye.va),te>ye.o&&(te=ye.o),Y<ye.j){var Ue=ye.j-Y;Y=ye.j,me[0]+=Ue*ke}if(Y>=te?Y=0:(me[0]+=4*ye.v,ye.ka=Y-ye.j,ye.U=ye.va-ye.v,ye.T=te-Y,Y=1),Y){if(Ne=Ne[0],11>(Y=T.ca).S){var Ke=Y.f.RGBA,gt=(te=Y.S,me=ye.U,ye=ye.T,Ue=Ke.eb,Ke.A),Be=ye;for(Ke=Ke.fb+T.Ma*Ke.A;0<Be--;){var Ze=we,ct=Ne,Dt=me,ft=Ue,kt=Ke;switch(te){case ad:z(Ze,ct,Dt,ft,kt);break;case Ua:ee(Ze,ct,Dt,ft,kt);break;case lf:ee(Ze,ct,Dt,ft,kt),nc(ft,kt,0,Dt,1,0);break;case od:Pe(Ze,ct,Dt,ft,kt);break;case Qo:un(Ze,ct,Dt,ft,kt,1);break;case ld:un(Ze,ct,Dt,ft,kt,1),nc(ft,kt,0,Dt,1,0);break;case of:un(Ze,ct,Dt,ft,kt,0);break;case Qu:un(Ze,ct,Dt,ft,kt,0),nc(ft,kt,1,Dt,1,0);break;case Zu:fe(Ze,ct,Dt,ft,kt);break;case cd:fe(Ze,ct,Dt,ft,kt),Zo(ft,kt,Dt,1,0);break;case Nc:_e(Ze,ct,Dt,ft,kt);break;default:e(0)}Ne+=ke,Ke+=gt}T.Ma+=ye}else alert("todo:EmitRescaledRowsYUVA");e(T.Ma<=Y.height)}}T.C=O,e(T.C<=T.i)}function Ce(T){var O;if(0<T.ua)return 0;for(O=0;O<T.Wb;++O){var Y=T.Ya[O].G,te=T.Ya[O].H;if(0<Y[1][te[1]+0].g||0<Y[2][te[2]+0].g||0<Y[3][te[3]+0].g)return 0}return 1}function Oe(T,O,Y,te,me,ye){if(T.Z!=0){var we=T.qd,Ne=T.rd;for(e(ic[T.Z]!=null);O<Y;++O)ic[T.Z](we,Ne,te,me,te,me,ye),we=te,Ne=me,me+=ye;T.qd=we,T.rd=Ne}}function Me(T,O){var Y=T.l.ma,te=Y.Z==0||Y.Z==1?T.l.j:T.C;if(te=T.C<te?te:T.C,e(O<=T.l.o),O>te){var me=T.l.width,ye=Y.ca,we=Y.tb+me*te,Ne=T.V,ke=T.Ba+T.c*te,Ue=T.gc;e(T.ab==1),e(Ue[0].hc==3),_(Ue[0],te,O,Ne,ke,ye,we),Oe(Y,te,O,ye,we,me)}T.C=T.Ma=O}function rt(T,O,Y,te,me,ye,we){var Ne=T.$/te,ke=T.$%te,Ue=T.m,Ke=T.s,gt=Y+T.$,Be=gt;me=Y+te*me;var Ze=Y+te*ye,ct=280+Ke.ua,Dt=T.Pb?Ne:16777216,ft=0<Ke.ua?Ke.Wa:null,kt=Ke.wc,Ht=gt<Ze?ge(Ke,ke,Ne):null;e(T.C<ye),e(Ze<=me);var ln=!1;e:for(;;){for(;ln||gt<Ze;){var Qt=0;if(Ne>=Dt){var Mn=gt-Y;e((Dt=T).Pb),Dt.wd=Dt.m,Dt.xd=Mn,0<Dt.s.ua&&ot(Dt.s.Wa,Dt.s.vb),Dt=Ne+Cc}if(ke&kt||(Ht=ge(Ke,ke,Ne)),e(Ht!=null),Ht.Qb&&(O[gt]=Ht.qb,ln=!0),!ln)if(De(Ue),Ht.jc){Qt=Ue,Mn=O;var Cn=gt,dr=Ht.pd[Q(Qt)&Hs-1];e(Ht.jc),256>dr.g?(de(Qt,Qt.u+dr.g),Mn[Cn]=dr.value,Qt=0):(de(Qt,Qt.u+dr.g-256),e(256<=dr.value),Qt=dr.value),Qt==0&&(ln=!0)}else Qt=lr(Ht.G[0],Ht.H[0],Ue);if(Ue.h)break;if(ln||256>Qt){if(!ln)if(Ht.nd)O[gt]=(Ht.qb|Qt<<8)>>>0;else{if(De(Ue),ln=lr(Ht.G[1],Ht.H[1],Ue),De(Ue),Mn=lr(Ht.G[2],Ht.H[2],Ue),Cn=lr(Ht.G[3],Ht.H[3],Ue),Ue.h)break;O[gt]=(Cn<<24|ln<<16|Qt<<8|Mn)>>>0}if(ln=!1,++gt,++ke>=te&&(ke=0,++Ne,we!=null&&Ne<=ye&&!(Ne%16)&&we(T,Ne),ft!=null))for(;Be<gt;)Qt=O[Be++],ft.X[(506832829*Qt&4294967295)>>>ft.Mb]=Qt}else if(280>Qt){if(Qt=$r(Qt-256,Ue),Mn=lr(Ht.G[4],Ht.H[4],Ue),De(Ue),Mn=zi(te,Mn=$r(Mn,Ue)),Ue.h)break;if(gt-Y<Mn||me-gt<Qt)break e;for(Cn=0;Cn<Qt;++Cn)O[gt+Cn]=O[gt+Cn-Mn];for(gt+=Qt,ke+=Qt;ke>=te;)ke-=te,++Ne,we!=null&&Ne<=ye&&!(Ne%16)&&we(T,Ne);if(e(gt<=me),ke&kt&&(Ht=ge(Ke,ke,Ne)),ft!=null)for(;Be<gt;)Qt=O[Be++],ft.X[(506832829*Qt&4294967295)>>>ft.Mb]=Qt}else{if(!(Qt<ct))break e;for(ln=Qt-280,e(ft!=null);Be<gt;)Qt=O[Be++],ft.X[(506832829*Qt&4294967295)>>>ft.Mb]=Qt;Qt=gt,e(!(ln>>>(Mn=ft).Xa)),O[Qt]=Mn.X[ln],ln=!0}ln||e(Ue.h==oe(Ue))}if(T.Pb&&Ue.h&&gt<me)e(T.m.h),T.a=5,T.m=T.wd,T.$=T.xd,0<T.s.ua&&ot(T.s.vb,T.s.Wa);else{if(Ue.h)break e;we?.(T,Ne>ye?ye:Ne),T.a=0,T.$=gt-Y}return 1}return T.a=3,0}function At(T){e(T!=null),T.vc=null,T.yc=null,T.Ya=null;var O=T.Wa;O!=null&&(O.X=null),T.vb=null,e(T!=null)}function Je(){var T=new qn;return T==null?null:(T.a=0,T.xb=z0,Yn("Predictor","VP8LPredictors"),Yn("Predictor","VP8LPredictors_C"),Yn("PredictorAdd","VP8LPredictorsAdd"),Yn("PredictorAdd","VP8LPredictorsAdd_C"),h=xn,k=bn,z=nr,ee=an,fe=dt,_e=Wt,Pe=It,D.VP8LMapColor32b=v,D.VP8LMapColor8b=b,T)}function lt(T,O,Y,te,me){var ye=1,we=[T],Ne=[O],ke=te.m,Ue=te.s,Ke=null,gt=0;e:for(;;){if(Y)for(;ye&&ve(ke,1);){var Be=we,Ze=Ne,ct=te,Dt=1,ft=ct.m,kt=ct.gc[ct.ab],Ht=ve(ft,2);if(ct.Oc&1<<Ht)ye=0;else{switch(ct.Oc|=1<<Ht,kt.hc=Ht,kt.Ea=Be[0],kt.nc=Ze[0],kt.K=[null],++ct.ab,e(4>=ct.ab),Ht){case 0:case 1:kt.b=ve(ft,3)+2,Dt=lt(tt(kt.Ea,kt.b),tt(kt.nc,kt.b),0,ct,kt.K),kt.K=kt.K[0];break;case 3:var ln,Qt=ve(ft,8)+1,Mn=16<Qt?0:4<Qt?1:2<Qt?2:3;if(Be[0]=tt(kt.Ea,Mn),kt.b=Mn,ln=Dt=lt(Qt,1,0,ct,kt.K)){var Cn,dr=Qt,Dn=kt,Dr=1<<(8>>Dn.b),Bi=s(Dr);if(Bi==null)ln=0;else{var yr=Dn.K[0],In=Dn.w;for(Bi[0]=Dn.K[0][0],Cn=1;Cn<1*dr;++Cn)Bi[Cn]=tn(yr[In+Cn],Bi[Cn-1]);for(;Cn<4*Dr;++Cn)Bi[Cn]=0;Dn.K[0]=null,Dn.K[0]=Bi,ln=1}}Dt=ln;break;case 2:break;default:e(0)}ye=Dt}}if(we=we[0],Ne=Ne[0],ye&&ve(ke,1)&&!(ye=1<=(gt=ve(ke,4))&&11>=gt)){te.a=3;break e}var yn;if(yn=ye)t:{var Zi,ir,Sr,fi=te,Ws=we,Aa=Ne,Di=gt,Cs=Y,Va=fi.m,Is=fi.s,Cr=[null],Jr=1,Qi=0,ii=tl[Di];n:for(;;){if(Cs&&ve(Va,1)){var Xs=ve(Va,3)+2,Ji=tt(Ws,Xs),ei=tt(Aa,Xs),vs=Ji*ei;if(!lt(Ji,ei,0,fi,Cr))break n;for(Cr=Cr[0],Is.xc=Xs,Zi=0;Zi<vs;++Zi){var di=Cr[Zi]>>8&65535;Cr[Zi]=di,di>=Jr&&(Jr=di+1)}}if(Va.h)break n;for(ir=0;5>ir;++ir){var Rs=fu[ir];!ir&&0<Di&&(Rs+=1<<Di),Qi<Rs&&(Qi=Rs)}var Os=o(Jr*ii,X),vi=Jr,Yr=o(vi,pe);if(Yr==null)var za=null;else e(65536>=vi),za=Yr;var ls=s(Qi);if(za==null||ls==null||Os==null){fi.a=1;break n}var $n=Os;for(Zi=Sr=0;Zi<Jr;++Zi){var er=za[Zi],ti=er.G,bo=er.H,sl=0,ao=1,ks=0;for(ir=0;5>ir;++ir){Rs=fu[ir],ti[ir]=$n,bo[ir]=Sr,!ir&&0<Di&&(Rs+=1<<Di);i:{var Lc,Mc=Rs,pd=fi,Li=ls,q0=$n,G0=Sr,xd=0,sc=pd.m,yx=ve(sc,1);if(i(Li,0,0,Mc),yx){var W0=ve(sc,1)+1,X0=ve(sc,1),vd=ve(sc,X0==0?1:8);Li[vd]=1,W0==2&&(Li[vd=ve(sc,8)]=1);var aa=1}else{var cs=s(19),ff=ve(sc,4)+4;if(19<ff){pd.a=3;var Pc=0;break i}for(Lc=0;Lc<ff;++Lc)cs[cf[Lc]]=ve(sc,3);var rh=void 0,gu=void 0,Vl=pd,_d=cs,ih=Mc,yd=Li,wd=0,ac=Vl.m,Y0=8,K0=o(128,X);r:for(;H(K0,0,7,_d,19);){if(ve(ac,1)){var Wm=2+2*ve(ac,3);if((rh=2+ve(ac,Wm))>ih)break r}else rh=ih;for(gu=0;gu<ih&&rh--;){De(ac);var $0=K0[0+(127&Q(ac))];de(ac,ac.u+$0.g);var jc=$0.value;if(16>jc)yd[gu++]=jc,jc!=0&&(Y0=jc);else{var Xm=jc==16,Ym=jc-16,Km=Ju[Ym],Z0=ve(ac,Jo[Ym])+Km;if(gu+Z0>ih)break r;for(var $m=Xm?Y0:0;0<Z0--;)yd[gu++]=$m}}wd=1;break r}wd||(Vl.a=3),aa=wd}(aa=aa&&!sc.h)&&(xd=H(q0,G0,8,Li,Mc)),aa&&xd!=0?Pc=xd:(pd.a=3,Pc=0)}if(Pc==0)break n;if(ao&&ud[ir]==1&&(ao=$n[Sr].g==0),sl+=$n[Sr].g,Sr+=Pc,3>=ir){var pu,bd=ls[0];for(pu=1;pu<Rs;++pu)ls[pu]>bd&&(bd=ls[pu]);ks+=bd}}if(er.nd=ao,er.Qb=0,ao&&(er.qb=(ti[3][bo[3]+0].value<<24|ti[1][bo[1]+0].value<<16|ti[2][bo[2]+0].value)>>>0,sl==0&&256>ti[0][bo[0]+0].value&&(er.Qb=1,er.qb+=ti[0][bo[0]+0].value<<8)),er.jc=!er.Qb&&6>ks,er.jc){var df,zl=er;for(df=0;df<Hs;++df){var oc=df,lc=zl.pd[oc],Ed=zl.G[0][zl.H[0]+oc];256<=Ed.value?(lc.g=Ed.g+256,lc.value=Ed.value):(lc.g=0,lc.value=0,oc>>=Rr(Ed,8,lc),oc>>=Rr(zl.G[1][zl.H[1]+oc],16,lc),oc>>=Rr(zl.G[2][zl.H[2]+oc],0,lc),Rr(zl.G[3][zl.H[3]+oc],24,lc))}}}Is.vc=Cr,Is.Wb=Jr,Is.Ya=za,Is.yc=Os,yn=1;break t}yn=0}if(!(ye=yn)){te.a=3;break e}if(0<gt){if(Ue.ua=1<<gt,!le(Ue.Wa,gt)){te.a=1,ye=0;break e}}else Ue.ua=0;var Ad=te,xu=we,Zm=Ne,sh=Ad.s,ah=sh.xc;if(Ad.c=xu,Ad.i=Zm,sh.md=tt(xu,ah),sh.wc=ah==0?-1:(1<<ah)-1,Y){te.xb=Ic;break e}if((Ke=s(we*Ne))==null){te.a=1,ye=0;break e}ye=(ye=rt(te,Ke,0,we,Ne,Ne,null))&&!ke.h;break e}return ye?(me!=null?me[0]=Ke:(e(Ke==null),e(Y)),te.$=0,Y||At(Ue)):At(Ue),ye}function ht(T,O){var Y=T.c*T.i,te=Y+O+16*O;return e(T.c<=O),T.V=s(te),T.V==null?(T.Ta=null,T.Ua=0,T.a=1,0):(T.Ta=T.V,T.Ua=T.Ba+Y+O,1)}function qt(T,O){var Y=T.C,te=O-Y,me=T.V,ye=T.Ba+T.c*Y;for(e(O<=T.l.o);0<te;){var we=16<te?16:te,Ne=T.l.ma,ke=T.l.width,Ue=ke*we,Ke=Ne.ca,gt=Ne.tb+ke*Y,Be=T.Ta,Ze=T.Ua;be(T,we,me,ye),Uo(Be,Ze,Ke,gt,Ue),Oe(Ne,Y,Y+we,Ke,gt,ke),te-=we,me+=we*T.c,Y+=we}e(Y==O),T.C=T.Ma=O}function Ot(){this.ub=this.yd=this.td=this.Rb=0}function Mt(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function wt(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function nn(){this.Yb=(function(){var T=[];return(function O(Y,te,me){for(var ye=me[te],we=0;we<ye&&(Y.push(me.length>te+1?[]:0),!(me.length<te+1));we++)O(Y[we],te+1,me)})(T,0,[3,11]),T})()}function Tn(){this.jb=s(3),this.Wc=u([4,8],nn),this.Xc=u([4,17],nn)}function Nt(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function vr(){this.ld=this.La=this.dd=this.tc=0}function Kn(){this.Na=this.la=0}function Ci(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function pa(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function fr(){this.uc=this.M=this.Nb=0,this.wa=Array(new vr),this.Y=0,this.ya=Array(new pa),this.aa=0,this.l=new as}function or(){this.y=s(16),this.f=s(8),this.ea=s(8)}function cr(){this.cb=this.a=0,this.sc="",this.m=new q,this.Od=new Ot,this.Kc=new Mt,this.ed=new Nt,this.Qa=new wt,this.Ic=this.$c=this.Aa=0,this.D=new fr,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,q),this.ia=0,this.pb=o(4,Ci),this.Pa=new Tn,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new or),this.Hd=0,this.rb=Array(new Kn),this.sb=0,this.wa=Array(new vr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new pa),this.L=this.aa=0,this.gd=u([4,2],vr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function ci(T,O){return 0>T?0:T>O?O:T}function as(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Ii(){var T=new cr;return T!=null&&(T.a=0,T.sc="OK",T.cb=0,T.Xb=0,Vo||(Vo=Gn)),T}function Hn(T,O,Y){return T.a==0&&(T.a=O,T.sc=Y,T.cb=0),0}function Es(T,O,Y){return 3<=Y&&T[O+0]==157&&T[O+1]==1&&T[O+2]==42}function ka(T,O){if(T==null)return 0;if(T.a=0,T.sc="OK",O==null)return Hn(T,2,"null VP8Io passed to VP8GetHeaders()");var Y=O.data,te=O.w,me=O.ha;if(4>me)return Hn(T,7,"Truncated header.");var ye=Y[te+0]|Y[te+1]<<8|Y[te+2]<<16,we=T.Od;if(we.Rb=!(1&ye),we.td=ye>>1&7,we.yd=ye>>4&1,we.ub=ye>>5,3<we.td)return Hn(T,3,"Incorrect keyframe parameters.");if(!we.yd)return Hn(T,4,"Frame not displayable.");te+=3,me-=3;var Ne=T.Kc;if(we.Rb){if(7>me)return Hn(T,7,"cannot parse picture header");if(!Es(Y,te,me))return Hn(T,3,"Bad code word");Ne.c=16383&(Y[te+4]<<8|Y[te+3]),Ne.Td=Y[te+4]>>6,Ne.i=16383&(Y[te+6]<<8|Y[te+5]),Ne.Ud=Y[te+6]>>6,te+=7,me-=7,T.za=Ne.c+15>>4,T.Ub=Ne.i+15>>4,O.width=Ne.c,O.height=Ne.i,O.Da=0,O.j=0,O.v=0,O.va=O.width,O.o=O.height,O.da=0,O.ib=O.width,O.hb=O.height,O.U=O.width,O.T=O.height,i((ye=T.Pa).jb,0,255,ye.jb.length),e((ye=T.Qa)!=null),ye.Cb=0,ye.Bb=0,ye.Fb=1,i(ye.Zb,0,0,ye.Zb.length),i(ye.Lb,0,0,ye.Lb)}if(we.ub>me)return Hn(T,7,"bad partition length");Ae(ye=T.m,Y,te,we.ub),te+=we.ub,me-=we.ub,we.Rb&&(Ne.Ld=Fe(ye),Ne.Kd=Fe(ye)),Ne=T.Qa;var ke,Ue=T.Pa;if(e(ye!=null),e(Ne!=null),Ne.Cb=Fe(ye),Ne.Cb){if(Ne.Bb=Fe(ye),Fe(ye)){for(Ne.Fb=Fe(ye),ke=0;4>ke;++ke)Ne.Zb[ke]=Fe(ye)?Re(ye,7):0;for(ke=0;4>ke;++ke)Ne.Lb[ke]=Fe(ye)?Re(ye,6):0}if(Ne.Bb)for(ke=0;3>ke;++ke)Ue.jb[ke]=Fe(ye)?xe(ye,8):255}else Ne.Bb=0;if(ye.Ka)return Hn(T,3,"cannot parse segment header");if((Ne=T.ed).zd=Fe(ye),Ne.Tb=xe(ye,6),Ne.wb=xe(ye,3),Ne.Pc=Fe(ye),Ne.Pc&&Fe(ye)){for(Ue=0;4>Ue;++Ue)Fe(ye)&&(Ne.vd[Ue]=Re(ye,6));for(Ue=0;4>Ue;++Ue)Fe(ye)&&(Ne.od[Ue]=Re(ye,6))}if(T.L=Ne.Tb==0?0:Ne.zd?1:2,ye.Ka)return Hn(T,3,"cannot parse filter header");var Ke=me;if(me=ke=te,te=ke+Ke,Ne=Ke,T.Xb=(1<<xe(T.m,2))-1,Ke<3*(Ue=T.Xb))Y=7;else{for(ke+=3*Ue,Ne-=3*Ue,Ke=0;Ke<Ue;++Ke){var gt=Y[me+0]|Y[me+1]<<8|Y[me+2]<<16;gt>Ne&&(gt=Ne),Ae(T.Jc[+Ke],Y,ke,gt),ke+=gt,Ne-=gt,me+=3}Ae(T.Jc[+Ue],Y,ke,Ne),Y=ke<te?0:5}if(Y!=0)return Hn(T,Y,"cannot parse partitions");for(Y=xe(ke=T.m,7),me=Fe(ke)?Re(ke,4):0,te=Fe(ke)?Re(ke,4):0,Ne=Fe(ke)?Re(ke,4):0,Ue=Fe(ke)?Re(ke,4):0,ke=Fe(ke)?Re(ke,4):0,Ke=T.Qa,gt=0;4>gt;++gt){if(Ke.Cb){var Be=Ke.Zb[gt];Ke.Fb||(Be+=Y)}else{if(0<gt){T.pb[gt]=T.pb[0];continue}Be=Y}var Ze=T.pb[gt];Ze.Sc[0]=nl[ci(Be+me,127)],Ze.Sc[1]=rl[ci(Be+0,127)],Ze.Eb[0]=2*nl[ci(Be+te,127)],Ze.Eb[1]=101581*rl[ci(Be+Ne,127)]>>16,8>Ze.Eb[1]&&(Ze.Eb[1]=8),Ze.Qc[0]=nl[ci(Be+Ue,117)],Ze.Qc[1]=rl[ci(Be+ke,127)],Ze.lc=Be+ke}if(!we.Rb)return Hn(T,4,"Not a key frame.");for(Fe(ye),we=T.Pa,Y=0;4>Y;++Y){for(me=0;8>me;++me)for(te=0;3>te;++te)for(Ne=0;11>Ne;++Ne)Ue=Ie(ye,Fi[Y][me][te][Ne])?xe(ye,8):qm[Y][me][te][Ne],we.Wc[Y][me].Yb[te][Ne]=Ue;for(me=0;17>me;++me)we.Xc[Y][me]=we.Wc[Y][Mr[me]]}return T.kc=Fe(ye),T.kc&&(T.Bd=xe(ye,8)),T.cb=1}function Gn(T,O,Y,te,me,ye,we){var Ne=O[me].Yb[Y];for(Y=0;16>me;++me){if(!Ie(T,Ne[Y+0]))return me;for(;!Ie(T,Ne[Y+1]);)if(Ne=O[++me].Yb[0],Y=0,me==16)return 16;var ke=O[me+1].Yb;if(Ie(T,Ne[Y+2])){var Ue=T,Ke=0;if(Ie(Ue,(Be=Ne)[(gt=Y)+3]))if(Ie(Ue,Be[gt+6])){for(Ne=0,gt=2*(Ke=Ie(Ue,Be[gt+8]))+(Be=Ie(Ue,Be[gt+9+Ke])),Ke=0,Be=Hm[gt];Be[Ne];++Ne)Ke+=Ke+Ie(Ue,Be[Ne]);Ke+=3+(8<<gt)}else Ie(Ue,Be[gt+7])?(Ke=7+2*Ie(Ue,165),Ke+=Ie(Ue,145)):Ke=5+Ie(Ue,159);else Ke=Ie(Ue,Be[gt+4])?3+Ie(Ue,Be[gt+5]):2;Ne=ke[2]}else Ke=1,Ne=ke[1];ke=we+V0[me],0>(Ue=T).b&&Ve(Ue);var gt,Be=Ue.b,Ze=(gt=Ue.Ca>>1)-(Ue.I>>Be)>>31;--Ue.b,Ue.Ca+=Ze,Ue.Ca|=1,Ue.I-=(gt+1&Ze)<<Be,ye[ke]=((Ke^Ze)-Ze)*te[(0<me)+0]}return 16}function Us(T){var O=T.rb[T.sb-1];O.la=0,O.Na=0,i(T.zc,0,0,T.zc.length),T.ja=0}function $i(T,O,Y,te,me){me=T[O+Y+32*te]+(me>>3),T[O+Y+32*te]=-256&me?0>me?0:255:me}function Zr(T,O,Y,te,me,ye){$i(T,O,0,Y,te+me),$i(T,O,1,Y,te+ye),$i(T,O,2,Y,te-ye),$i(T,O,3,Y,te-me)}function sr(T){return(20091*T>>16)+T}function Ri(T,O,Y,te){var me,ye=0,we=s(16);for(me=0;4>me;++me){var Ne=T[O+0]+T[O+8],ke=T[O+0]-T[O+8],Ue=(35468*T[O+4]>>16)-sr(T[O+12]),Ke=sr(T[O+4])+(35468*T[O+12]>>16);we[ye+0]=Ne+Ke,we[ye+1]=ke+Ue,we[ye+2]=ke-Ue,we[ye+3]=Ne-Ke,ye+=4,O++}for(me=ye=0;4>me;++me)Ne=(T=we[ye+0]+4)+we[ye+8],ke=T-we[ye+8],Ue=(35468*we[ye+4]>>16)-sr(we[ye+12]),$i(Y,te,0,0,Ne+(Ke=sr(we[ye+4])+(35468*we[ye+12]>>16))),$i(Y,te,1,0,ke+Ue),$i(Y,te,2,0,ke-Ue),$i(Y,te,3,0,Ne-Ke),ye++,te+=32}function ut(T,O,Y,te){var me=T[O+0]+4,ye=35468*T[O+4]>>16,we=sr(T[O+4]),Ne=35468*T[O+1]>>16;Zr(Y,te,0,me+we,T=sr(T[O+1]),Ne),Zr(Y,te,1,me+ye,T,Ne),Zr(Y,te,2,me-ye,T,Ne),Zr(Y,te,3,me-we,T,Ne)}function Le(T,O,Y,te,me){Ri(T,O,Y,te),me&&Ri(T,O+16,Y,te+4)}function En(T,O,Y,te){Ye(T,O+0,Y,te,1),Ye(T,O+32,Y,te+128,1)}function Oi(T,O,Y,te){var me;for(T=T[O+0]+4,me=0;4>me;++me)for(O=0;4>O;++O)$i(Y,te,O,me,T)}function Hi(T,O,Y,te){T[O+0]&&Bt(T,O+0,Y,te),T[O+16]&&Bt(T,O+16,Y,te+4),T[O+32]&&Bt(T,O+32,Y,te+128),T[O+48]&&Bt(T,O+48,Y,te+128+4)}function ds(T,O,Y,te){var me,ye=s(16);for(me=0;4>me;++me){var we=T[O+0+me]+T[O+12+me],Ne=T[O+4+me]+T[O+8+me],ke=T[O+4+me]-T[O+8+me],Ue=T[O+0+me]-T[O+12+me];ye[0+me]=we+Ne,ye[8+me]=we-Ne,ye[4+me]=Ue+ke,ye[12+me]=Ue-ke}for(me=0;4>me;++me)we=(T=ye[0+4*me]+3)+ye[3+4*me],Ne=ye[1+4*me]+ye[2+4*me],ke=ye[1+4*me]-ye[2+4*me],Ue=T-ye[3+4*me],Y[te+0]=we+Ne>>3,Y[te+16]=Ue+ke>>3,Y[te+32]=we-Ne>>3,Y[te+48]=Ue-ke>>3,te+=64}function xo(T,O,Y){var te,me=O-32,ye=Ba,we=255-T[me-1];for(te=0;te<Y;++te){var Ne,ke=ye,Ue=we+T[O-1];for(Ne=0;Ne<Y;++Ne)T[O+Ne]=ke[Ue+T[me+Ne]];O+=32}}function As(T,O){xo(T,O,4)}function jn(T,O){xo(T,O,8)}function Qr(T,O){xo(T,O,16)}function xl(T,O){var Y;for(Y=0;16>Y;++Y)r(T,O+32*Y,T,O-32,16)}function Mo(T,O){var Y;for(Y=16;0<Y;--Y)i(T,O,T[O-1],16),O+=32}function Ss(T,O,Y){var te;for(te=0;16>te;++te)i(O,Y+32*te,T,16)}function Js(T,O){var Y,te=16;for(Y=0;16>Y;++Y)te+=T[O-1+32*Y]+T[O+Y-32];Ss(te>>5,T,O)}function Ja(T,O){var Y,te=8;for(Y=0;16>Y;++Y)te+=T[O-1+32*Y];Ss(te>>4,T,O)}function ea(T,O){var Y,te=8;for(Y=0;16>Y;++Y)te+=T[O+Y-32];Ss(te>>4,T,O)}function ui(T,O){Ss(128,T,O)}function Fn(T,O,Y){return T+2*O+Y+2>>2}function ta(T,O){var Y,te=O-32;for(te=new Uint8Array([Fn(T[te-1],T[te+0],T[te+1]),Fn(T[te+0],T[te+1],T[te+2]),Fn(T[te+1],T[te+2],T[te+3]),Fn(T[te+2],T[te+3],T[te+4])]),Y=0;4>Y;++Y)r(T,O+32*Y,te,0,te.length)}function Vn(T,O){var Y=T[O-1],te=T[O-1+32],me=T[O-1+64],ye=T[O-1+96];Qe(T,O+0,16843009*Fn(T[O-1-32],Y,te)),Qe(T,O+32,16843009*Fn(Y,te,me)),Qe(T,O+64,16843009*Fn(te,me,ye)),Qe(T,O+96,16843009*Fn(me,ye,ye))}function Ko(T,O){var Y,te=4;for(Y=0;4>Y;++Y)te+=T[O+Y-32]+T[O-1+32*Y];for(te>>=3,Y=0;4>Y;++Y)i(T,O+32*Y,te,4)}function Bn(T,O){var Y=T[O-1+0],te=T[O-1+32],me=T[O-1+64],ye=T[O-1-32],we=T[O+0-32],Ne=T[O+1-32],ke=T[O+2-32],Ue=T[O+3-32];T[O+0+96]=Fn(te,me,T[O-1+96]),T[O+1+96]=T[O+0+64]=Fn(Y,te,me),T[O+2+96]=T[O+1+64]=T[O+0+32]=Fn(ye,Y,te),T[O+3+96]=T[O+2+64]=T[O+1+32]=T[O+0+0]=Fn(we,ye,Y),T[O+3+64]=T[O+2+32]=T[O+1+0]=Fn(Ne,we,ye),T[O+3+32]=T[O+2+0]=Fn(ke,Ne,we),T[O+3+0]=Fn(Ue,ke,Ne)}function Nr(T,O){var Y=T[O+1-32],te=T[O+2-32],me=T[O+3-32],ye=T[O+4-32],we=T[O+5-32],Ne=T[O+6-32],ke=T[O+7-32];T[O+0+0]=Fn(T[O+0-32],Y,te),T[O+1+0]=T[O+0+32]=Fn(Y,te,me),T[O+2+0]=T[O+1+32]=T[O+0+64]=Fn(te,me,ye),T[O+3+0]=T[O+2+32]=T[O+1+64]=T[O+0+96]=Fn(me,ye,we),T[O+3+32]=T[O+2+64]=T[O+1+96]=Fn(ye,we,Ne),T[O+3+64]=T[O+2+96]=Fn(we,Ne,ke),T[O+3+96]=Fn(Ne,ke,ke)}function vl(T,O){var Y=T[O-1+0],te=T[O-1+32],me=T[O-1+64],ye=T[O-1-32],we=T[O+0-32],Ne=T[O+1-32],ke=T[O+2-32],Ue=T[O+3-32];T[O+0+0]=T[O+1+64]=ye+we+1>>1,T[O+1+0]=T[O+2+64]=we+Ne+1>>1,T[O+2+0]=T[O+3+64]=Ne+ke+1>>1,T[O+3+0]=ke+Ue+1>>1,T[O+0+96]=Fn(me,te,Y),T[O+0+64]=Fn(te,Y,ye),T[O+0+32]=T[O+1+96]=Fn(Y,ye,we),T[O+1+32]=T[O+2+96]=Fn(ye,we,Ne),T[O+2+32]=T[O+3+96]=Fn(we,Ne,ke),T[O+3+32]=Fn(Ne,ke,Ue)}function Fr(T,O){var Y=T[O+0-32],te=T[O+1-32],me=T[O+2-32],ye=T[O+3-32],we=T[O+4-32],Ne=T[O+5-32],ke=T[O+6-32],Ue=T[O+7-32];T[O+0+0]=Y+te+1>>1,T[O+1+0]=T[O+0+64]=te+me+1>>1,T[O+2+0]=T[O+1+64]=me+ye+1>>1,T[O+3+0]=T[O+2+64]=ye+we+1>>1,T[O+0+32]=Fn(Y,te,me),T[O+1+32]=T[O+0+96]=Fn(te,me,ye),T[O+2+32]=T[O+1+96]=Fn(me,ye,we),T[O+3+32]=T[O+2+96]=Fn(ye,we,Ne),T[O+3+64]=Fn(we,Ne,ke),T[O+3+96]=Fn(Ne,ke,Ue)}function na(T,O){var Y=T[O-1+0],te=T[O-1+32],me=T[O-1+64],ye=T[O-1+96];T[O+0+0]=Y+te+1>>1,T[O+2+0]=T[O+0+32]=te+me+1>>1,T[O+2+32]=T[O+0+64]=me+ye+1>>1,T[O+1+0]=Fn(Y,te,me),T[O+3+0]=T[O+1+32]=Fn(te,me,ye),T[O+3+32]=T[O+1+64]=Fn(me,ye,ye),T[O+3+64]=T[O+2+64]=T[O+0+96]=T[O+1+96]=T[O+2+96]=T[O+3+96]=ye}function xa(T,O){var Y=T[O-1+0],te=T[O-1+32],me=T[O-1+64],ye=T[O-1+96],we=T[O-1-32],Ne=T[O+0-32],ke=T[O+1-32],Ue=T[O+2-32];T[O+0+0]=T[O+2+32]=Y+we+1>>1,T[O+0+32]=T[O+2+64]=te+Y+1>>1,T[O+0+64]=T[O+2+96]=me+te+1>>1,T[O+0+96]=ye+me+1>>1,T[O+3+0]=Fn(Ne,ke,Ue),T[O+2+0]=Fn(we,Ne,ke),T[O+1+0]=T[O+3+32]=Fn(Y,we,Ne),T[O+1+32]=T[O+3+64]=Fn(te,Y,we),T[O+1+64]=T[O+3+96]=Fn(me,te,Y),T[O+1+96]=Fn(ye,me,te)}function eo(T,O){var Y;for(Y=0;8>Y;++Y)r(T,O+32*Y,T,O-32,8)}function Po(T,O){var Y;for(Y=0;8>Y;++Y)i(T,O,T[O-1],8),O+=32}function ms(T,O,Y){var te;for(te=0;8>te;++te)i(O,Y+32*te,T,8)}function va(T,O){var Y,te=8;for(Y=0;8>Y;++Y)te+=T[O+Y-32]+T[O-1+32*Y];ms(te>>4,T,O)}function ra(T,O){var Y,te=4;for(Y=0;8>Y;++Y)te+=T[O+Y-32];ms(te>>3,T,O)}function xi(T,O){var Y,te=4;for(Y=0;8>Y;++Y)te+=T[O-1+32*Y];ms(te>>3,T,O)}function ia(T,O){ms(128,T,O)}function Wr(T,O,Y){var te=T[O-Y],me=T[O+0],ye=3*(me-te)+rc[1020+T[O-2*Y]-T[O+Y]],we=af[112+(ye+4>>3)];T[O-Y]=Ba[255+te+af[112+(ye+3>>3)]],T[O+0]=Ba[255+me-we]}function to(T,O,Y,te){var me=T[O+0],ye=T[O+Y];return ya[255+T[O-2*Y]-T[O-Y]]>te||ya[255+ye-me]>te}function jo(T,O,Y,te){return 4*ya[255+T[O-Y]-T[O+0]]+ya[255+T[O-2*Y]-T[O+Y]]<=te}function no(T,O,Y,te,me){var ye=T[O-3*Y],we=T[O-2*Y],Ne=T[O-Y],ke=T[O+0],Ue=T[O+Y],Ke=T[O+2*Y],gt=T[O+3*Y];return 4*ya[255+Ne-ke]+ya[255+we-Ue]>te?0:ya[255+T[O-4*Y]-ye]<=me&&ya[255+ye-we]<=me&&ya[255+we-Ne]<=me&&ya[255+gt-Ke]<=me&&ya[255+Ke-Ue]<=me&&ya[255+Ue-ke]<=me}function vo(T,O,Y,te){var me=2*te+1;for(te=0;16>te;++te)jo(T,O+te,Y,me)&&Wr(T,O+te,Y)}function Da(T,O,Y,te){var me=2*te+1;for(te=0;16>te;++te)jo(T,O+te*Y,1,me)&&Wr(T,O+te*Y,1)}function _l(T,O,Y,te){var me;for(me=3;0<me;--me)vo(T,O+=4*Y,Y,te)}function Or(T,O,Y,te){var me;for(me=3;0<me;--me)Da(T,O+=4,Y,te)}function sa(T,O,Y,te,me,ye,we,Ne){for(ye=2*ye+1;0<me--;){if(no(T,O,Y,ye,we))if(to(T,O,Y,Ne))Wr(T,O,Y);else{var ke=T,Ue=O,Ke=Y,gt=ke[Ue-2*Ke],Be=ke[Ue-Ke],Ze=ke[Ue+0],ct=ke[Ue+Ke],Dt=ke[Ue+2*Ke],ft=27*(Ht=rc[1020+3*(Ze-Be)+rc[1020+gt-ct]])+63>>7,kt=18*Ht+63>>7,Ht=9*Ht+63>>7;ke[Ue-3*Ke]=Ba[255+ke[Ue-3*Ke]+Ht],ke[Ue-2*Ke]=Ba[255+gt+kt],ke[Ue-Ke]=Ba[255+Be+ft],ke[Ue+0]=Ba[255+Ze-ft],ke[Ue+Ke]=Ba[255+ct-kt],ke[Ue+2*Ke]=Ba[255+Dt-Ht]}O+=te}}function _a(T,O,Y,te,me,ye,we,Ne){for(ye=2*ye+1;0<me--;){if(no(T,O,Y,ye,we))if(to(T,O,Y,Ne))Wr(T,O,Y);else{var ke=T,Ue=O,Ke=Y,gt=ke[Ue-Ke],Be=ke[Ue+0],Ze=ke[Ue+Ke],ct=af[112+(4+(Dt=3*(Be-gt))>>3)],Dt=af[112+(Dt+3>>3)],ft=ct+1>>1;ke[Ue-2*Ke]=Ba[255+ke[Ue-2*Ke]+ft],ke[Ue-Ke]=Ba[255+gt+Dt],ke[Ue+0]=Ba[255+Be-ct],ke[Ue+Ke]=Ba[255+Ze-ft]}O+=te}}function La(T,O,Y,te,me,ye){sa(T,O,Y,1,16,te,me,ye)}function ro(T,O,Y,te,me,ye){sa(T,O,1,Y,16,te,me,ye)}function bt(T,O,Y,te,me,ye){var we;for(we=3;0<we;--we)_a(T,O+=4*Y,Y,1,16,te,me,ye)}function V(T,O,Y,te,me,ye){var we;for(we=3;0<we;--we)_a(T,O+=4,1,Y,16,te,me,ye)}function ue(T,O,Y,te,me,ye,we,Ne){sa(T,O,me,1,8,ye,we,Ne),sa(Y,te,me,1,8,ye,we,Ne)}function je(T,O,Y,te,me,ye,we,Ne){sa(T,O,1,me,8,ye,we,Ne),sa(Y,te,1,me,8,ye,we,Ne)}function We(T,O,Y,te,me,ye,we,Ne){_a(T,O+4*me,me,1,8,ye,we,Ne),_a(Y,te+4*me,me,1,8,ye,we,Ne)}function et(T,O,Y,te,me,ye,we,Ne){_a(T,O+4,1,me,8,ye,we,Ne),_a(Y,te+4,1,me,8,ye,we,Ne)}function Pt(){this.ba=new mn,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Qn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Zt(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Nn(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function vn(){this.ua=0,this.Wa=new pt,this.vb=new pt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new pe,this.yc=new X}function qn(){this.xb=this.a=0,this.l=new as,this.ca=new mn,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new J,this.Pb=0,this.wd=new J,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new vn,this.ab=0,this.gc=o(4,Nn),this.Oc=0}function wn(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new as,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Ar(T,O,Y,te,me,ye,we){for(T=T==null?0:T[O+0],O=0;O<we;++O)me[ye+O]=T+Y[te+O]&255,T=me[ye+O]}function Br(T,O,Y,te,me,ye,we){var Ne;if(T==null)Ar(null,null,Y,te,me,ye,we);else for(Ne=0;Ne<we;++Ne)me[ye+Ne]=T[O+Ne]+Y[te+Ne]&255}function Wn(T,O,Y,te,me,ye,we){if(T==null)Ar(null,null,Y,te,me,ye,we);else{var Ne,ke=T[O+0],Ue=ke,Ke=ke;for(Ne=0;Ne<we;++Ne)Ue=Ke+(ke=T[O+Ne])-Ue,Ke=Y[te+Ne]+(-256&Ue?0>Ue?0:255:Ue)&255,Ue=ke,me[ye+Ne]=Ke}}function S(T,O,Y,te){var me=O.width,ye=O.o;if(e(T!=null&&O!=null),0>Y||0>=te||Y+te>ye)return null;if(!T.Cc){if(T.ga==null){var we;if(T.ga=new wn,(we=T.ga==null)||(we=O.width*O.o,e(T.Gb.length==0),T.Gb=s(we),T.Uc=0,T.Gb==null?we=0:(T.mb=T.Gb,T.nb=T.Uc,T.rc=null,we=1),we=!we),!we){we=T.ga;var Ne=T.Fa,ke=T.P,Ue=T.qc,Ke=T.mb,gt=T.nb,Be=ke+1,Ze=Ue-1,ct=we.l;if(e(Ne!=null&&Ke!=null&&O!=null),ic[0]=null,ic[1]=Ar,ic[2]=Br,ic[3]=Wn,we.ca=Ke,we.tb=gt,we.c=O.width,we.i=O.height,e(0<we.c&&0<we.i),1>=Ue)O=0;else if(we.$a=3&Ne[ke+0],we.Z=Ne[ke+0]>>2&3,we.Lc=Ne[ke+0]>>4&3,ke=Ne[ke+0]>>6&3,0>we.$a||1<we.$a||4<=we.Z||1<we.Lc||ke)O=0;else if(ct.put=On,ct.ac=Kr,ct.bc=Ni,ct.ma=we,ct.width=O.width,ct.height=O.height,ct.Da=O.Da,ct.v=O.v,ct.va=O.va,ct.j=O.j,ct.o=O.o,we.$a)e:{e(we.$a==1),O=Je();t:for(;;){if(O==null){O=0;break e}if(e(we!=null),we.mc=O,O.c=we.c,O.i=we.i,O.l=we.l,O.l.ma=we,O.l.width=we.c,O.l.height=we.i,O.a=0,He(O.m,Ne,Be,Ze),!lt(we.c,we.i,1,O,null)||(O.ab==1&&O.gc[0].hc==3&&Ce(O.s)?(we.ic=1,Ne=O.c*O.i,O.Ta=null,O.Ua=0,O.V=s(Ne),O.Ba=0,O.V==null?(O.a=1,O=0):O=1):(we.ic=0,O=ht(O,we.c)),!O))break t;O=1;break e}we.mc=null,O=0}else O=Ze>=we.c*we.i;we=!O}if(we)return null;T.ga.Lc!=1?T.Ga=0:te=ye-Y}e(T.ga!=null),e(Y+te<=ye);e:{if(O=(Ne=T.ga).c,ye=Ne.l.o,Ne.$a==0){if(Be=T.rc,Ze=T.Vc,ct=T.Fa,ke=T.P+1+Y*O,Ue=T.mb,Ke=T.nb+Y*O,e(ke<=T.P+T.qc),Ne.Z!=0)for(e(ic[Ne.Z]!=null),we=0;we<te;++we)ic[Ne.Z](Be,Ze,ct,ke,Ue,Ke,O),Be=Ue,Ze=Ke,Ke+=O,ke+=O;else for(we=0;we<te;++we)r(Ue,Ke,ct,ke,O),Be=Ue,Ze=Ke,Ke+=O,ke+=O;T.rc=Be,T.Vc=Ze}else{if(e(Ne.mc!=null),O=Y+te,e((we=Ne.mc)!=null),e(O<=we.i),we.C>=O)O=1;else if(Ne.ic||_t(),Ne.ic){Ne=we.V,Be=we.Ba,Ze=we.c;var Dt=we.i,ft=(ct=1,ke=we.$/Ze,Ue=we.$%Ze,Ke=we.m,gt=we.s,we.$),kt=Ze*Dt,Ht=Ze*O,ln=gt.wc,Qt=ft<Ht?ge(gt,Ue,ke):null;e(ft<=kt),e(O<=Dt),e(Ce(gt));t:for(;;){for(;!Ke.h&&ft<Ht;){if(Ue&ln||(Qt=ge(gt,Ue,ke)),e(Qt!=null),De(Ke),256>(Dt=lr(Qt.G[0],Qt.H[0],Ke)))Ne[Be+ft]=Dt,++ft,++Ue>=Ze&&(Ue=0,++ke<=O&&!(ke%16)&&Me(we,ke));else{if(!(280>Dt)){ct=0;break t}Dt=$r(Dt-256,Ke);var Mn,Cn=lr(Qt.G[4],Qt.H[4],Ke);if(De(Ke),!(ft>=(Cn=zi(Ze,Cn=$r(Cn,Ke)))&&kt-ft>=Dt)){ct=0;break t}for(Mn=0;Mn<Dt;++Mn)Ne[Be+ft+Mn]=Ne[Be+ft+Mn-Cn];for(ft+=Dt,Ue+=Dt;Ue>=Ze;)Ue-=Ze,++ke<=O&&!(ke%16)&&Me(we,ke);ft<Ht&&Ue&ln&&(Qt=ge(gt,Ue,ke))}e(Ke.h==oe(Ke))}Me(we,ke>O?O:ke);break t}!ct||Ke.h&&ft<kt?(ct=0,we.a=Ke.h?5:3):we.$=ft,O=ct}else O=rt(we,we.V,we.Ba,we.c,we.i,O,qt);if(!O){te=0;break e}}Y+te>=ye&&(T.Cc=1),te=1}if(!te)return null;if(T.Cc&&((te=T.ga)!=null&&(te.mc=null),T.ga=null,0<T.Ga))return alert("todo:WebPDequantizeLevels"),null}return T.nb+Y*me}function K(T,O,Y,te,me,ye){for(;0<me--;){var we,Ne=T,ke=O+(Y?1:0),Ue=T,Ke=O+(Y?0:3);for(we=0;we<te;++we){var gt=Ue[Ke+4*we];gt!=255&&(gt*=32897,Ne[ke+4*we+0]=Ne[ke+4*we+0]*gt>>23,Ne[ke+4*we+1]=Ne[ke+4*we+1]*gt>>23,Ne[ke+4*we+2]=Ne[ke+4*we+2]*gt>>23)}O+=ye}}function ie(T,O,Y,te,me){for(;0<te--;){var ye;for(ye=0;ye<Y;++ye){var we=T[O+2*ye+0],Ne=15&(Ue=T[O+2*ye+1]),ke=4369*Ne,Ue=(240&Ue|Ue>>4)*ke>>16;T[O+2*ye+0]=(240&we|we>>4)*ke>>16&240|(15&we|we<<4)*ke>>16>>4&15,T[O+2*ye+1]=240&Ue|Ne}O+=me}}function Se(T,O,Y,te,me,ye,we,Ne){var ke,Ue,Ke=255;for(Ue=0;Ue<me;++Ue){for(ke=0;ke<te;++ke){var gt=T[O+ke];ye[we+4*ke]=gt,Ke&=gt}O+=Y,we+=Ne}return Ke!=255}function it(T,O,Y,te,me){var ye;for(ye=0;ye<me;++ye)Y[te+ye]=T[O+ye]>>8}function _t(){nc=K,Zo=ie,nf=Se,Uo=it}function sn(T,O,Y){D[T]=function(te,me,ye,we,Ne,ke,Ue,Ke,gt,Be,Ze,ct,Dt,ft,kt,Ht,ln){var Qt,Mn=ln-1>>1,Cn=Ne[ke+0]|Ue[Ke+0]<<16,dr=gt[Be+0]|Ze[ct+0]<<16;e(te!=null);var Dn=3*Cn+dr+131074>>2;for(O(te[me+0],255&Dn,Dn>>16,Dt,ft),ye!=null&&(Dn=3*dr+Cn+131074>>2,O(ye[we+0],255&Dn,Dn>>16,kt,Ht)),Qt=1;Qt<=Mn;++Qt){var Dr=Ne[ke+Qt]|Ue[Ke+Qt]<<16,Bi=gt[Be+Qt]|Ze[ct+Qt]<<16,yr=Cn+Dr+dr+Bi+524296,In=yr+2*(Dr+dr)>>3;Dn=In+Cn>>1,Cn=(yr=yr+2*(Cn+Bi)>>3)+Dr>>1,O(te[me+2*Qt-1],255&Dn,Dn>>16,Dt,ft+(2*Qt-1)*Y),O(te[me+2*Qt-0],255&Cn,Cn>>16,Dt,ft+(2*Qt-0)*Y),ye!=null&&(Dn=yr+dr>>1,Cn=In+Bi>>1,O(ye[we+2*Qt-1],255&Dn,Dn>>16,kt,Ht+(2*Qt-1)*Y),O(ye[we+2*Qt+0],255&Cn,Cn>>16,kt,Ht+(2*Qt+0)*Y)),Cn=Dr,dr=Bi}1&ln||(Dn=3*Cn+dr+131074>>2,O(te[me+ln-1],255&Dn,Dn>>16,Dt,ft+(ln-1)*Y),ye!=null&&(Dn=3*dr+Cn+131074>>2,O(ye[we+ln-1],255&Dn,Dn>>16,kt,Ht+(ln-1)*Y)))}}function rr(){ba[ad]=du,ba[Ua]=eh,ba[od]=H0,ba[Qo]=fd,ba[of]=Rc,ba[Zu]=Ul,ba[Nc]=Oc,ba[lf]=eh,ba[ld]=fd,ba[Qu]=Rc,ba[cd]=Ul}function hi(T){return T&-16384?0>T?0:255:T>>dd}function _r(T,O){return hi((19077*T>>8)+(26149*O>>8)-14234)}function Xr(T,O,Y){return hi((19077*T>>8)-(6419*O>>8)-(13320*Y>>8)+8708)}function gs(T,O){return hi((19077*T>>8)+(33050*O>>8)-17685)}function Vs(T,O,Y,te,me){te[me+0]=_r(T,Y),te[me+1]=Xr(T,O,Y),te[me+2]=gs(T,O)}function Ur(T,O,Y,te,me){te[me+0]=gs(T,O),te[me+1]=Xr(T,O,Y),te[me+2]=_r(T,Y)}function ps(T,O,Y,te,me){var ye=Xr(T,O,Y);O=ye<<3&224|gs(T,O)>>3,te[me+0]=248&_r(T,Y)|ye>>5,te[me+1]=O}function io(T,O,Y,te,me){var ye=240&gs(T,O)|15;te[me+0]=240&_r(T,Y)|Xr(T,O,Y)>>4,te[me+1]=ye}function Ma(T,O,Y,te,me){te[me+0]=255,Vs(T,O,Y,te,me+1)}function $o(T,O,Y,te,me){Ur(T,O,Y,te,me),te[me+3]=255}function qi(T,O,Y,te,me){Vs(T,O,Y,te,me),te[me+3]=255}function _o(T,O,Y){D[T]=function(te,me,ye,we,Ne,ke,Ue,Ke,gt){for(var Be=Ke+(-2&gt)*Y;Ke!=Be;)O(te[me+0],ye[we+0],Ne[ke+0],Ue,Ke),O(te[me+1],ye[we+0],Ne[ke+0],Ue,Ke+Y),me+=2,++we,++ke,Ke+=2*Y;1&gt&&O(te[me+0],ye[we+0],Ne[ke+0],Ue,Ke)}}function zs(T,O,Y){return Y==0?T==0?O==0?6:5:O==0?4:0:Y}function Tc(T,O,Y,te,me){switch(T>>>30){case 3:Ye(O,Y,te,me,0);break;case 2:nt(O,Y,te,me);break;case 1:Bt(O,Y,te,me)}}function Gi(T,O){var Y,te,me=O.M,ye=O.Nb,we=T.oc,Ne=T.pc+40,ke=T.oc,Ue=T.pc+584,Ke=T.oc,gt=T.pc+600;for(Y=0;16>Y;++Y)we[Ne+32*Y-1]=129;for(Y=0;8>Y;++Y)ke[Ue+32*Y-1]=129,Ke[gt+32*Y-1]=129;for(0<me?we[Ne-1-32]=ke[Ue-1-32]=Ke[gt-1-32]=129:(i(we,Ne-32-1,127,21),i(ke,Ue-32-1,127,9),i(Ke,gt-32-1,127,9)),te=0;te<T.za;++te){var Be=O.ya[O.aa+te];if(0<te){for(Y=-1;16>Y;++Y)r(we,Ne+32*Y-4,we,Ne+32*Y+12,4);for(Y=-1;8>Y;++Y)r(ke,Ue+32*Y-4,ke,Ue+32*Y+4,4),r(Ke,gt+32*Y-4,Ke,gt+32*Y+4,4)}var Ze=T.Gd,ct=T.Hd+te,Dt=Be.ad,ft=Be.Hc;if(0<me&&(r(we,Ne-32,Ze[ct].y,0,16),r(ke,Ue-32,Ze[ct].f,0,8),r(Ke,gt-32,Ze[ct].ea,0,8)),Be.Za){var kt=we,Ht=Ne-32+16;for(0<me&&(te>=T.za-1?i(kt,Ht,Ze[ct].y[15],4):r(kt,Ht,Ze[ct+1].y,0,4)),Y=0;4>Y;Y++)kt[Ht+128+Y]=kt[Ht+256+Y]=kt[Ht+384+Y]=kt[Ht+0+Y];for(Y=0;16>Y;++Y,ft<<=2)kt=we,Ht=Ne+xs[Y],os[Be.Ob[Y]](kt,Ht),Tc(ft,Dt,16*+Y,kt,Ht)}else if(kt=zs(te,me,Be.Ob[0]),so[kt](we,Ne),ft!=0)for(Y=0;16>Y;++Y,ft<<=2)Tc(ft,Dt,16*+Y,we,Ne+xs[Y]);for(Y=Be.Gc,kt=zs(te,me,Be.Dd),yl[kt](ke,Ue),yl[kt](Ke,gt),ft=Dt,kt=ke,Ht=Ue,255&(Be=0|Y)&&(170&Be?yt(ft,256,kt,Ht):Ut(ft,256,kt,Ht)),Be=Ke,ft=gt,255&(Y>>=8)&&(170&Y?yt(Dt,320,Be,ft):Ut(Dt,320,Be,ft)),me<T.Ub-1&&(r(Ze[ct].y,0,we,Ne+480,16),r(Ze[ct].f,0,ke,Ue+224,8),r(Ze[ct].ea,0,Ke,gt+224,8)),Y=8*ye*T.B,Ze=T.sa,ct=T.ta+16*te+16*ye*T.R,Dt=T.qa,Be=T.ra+8*te+Y,ft=T.Ha,kt=T.Ia+8*te+Y,Y=0;16>Y;++Y)r(Ze,ct+Y*T.R,we,Ne+32*Y,16);for(Y=0;8>Y;++Y)r(Dt,Be+Y*T.B,ke,Ue+32*Y,8),r(ft,kt+Y*T.B,Ke,gt+32*Y,8)}}function Fo(T,O,Y,te,me,ye,we,Ne,ke){var Ue=[0],Ke=[0],gt=0,Be=ke!=null?ke.kd:0,Ze=ke??new Zt;if(T==null||12>Y)return 7;Ze.data=T,Ze.w=O,Ze.ha=Y,O=[O],Y=[Y],Ze.gb=[Ze.gb];e:{var ct=O,Dt=Y,ft=Ze.gb;if(e(T!=null),e(Dt!=null),e(ft!=null),ft[0]=0,12<=Dt[0]&&!t(T,ct[0],"RIFF")){if(t(T,ct[0]+8,"WEBP")){ft=3;break e}var kt=Rt(T,ct[0]+4);if(12>kt||4294967286<kt){ft=3;break e}if(Be&&kt>Dt[0]-8){ft=7;break e}ft[0]=kt,ct[0]+=12,Dt[0]-=12}ft=0}if(ft!=0)return ft;for(kt=0<Ze.gb[0],Y=Y[0];;){e:{var Ht=T;Dt=O,ft=Y;var ln=Ue,Qt=Ke,Mn=ct=[0];if((Dn=gt=[gt])[0]=0,8>ft[0])ft=7;else{if(!t(Ht,Dt[0],"VP8X")){if(Rt(Ht,Dt[0]+4)!=10){ft=3;break e}if(18>ft[0]){ft=7;break e}var Cn=Rt(Ht,Dt[0]+8),dr=1+Tt(Ht,Dt[0]+12);if(2147483648<=dr*(Ht=1+Tt(Ht,Dt[0]+15))){ft=3;break e}Mn!=null&&(Mn[0]=Cn),ln!=null&&(ln[0]=dr),Qt!=null&&(Qt[0]=Ht),Dt[0]+=18,ft[0]-=18,Dn[0]=1}ft=0}}if(gt=gt[0],ct=ct[0],ft!=0)return ft;if(Dt=!!(2&ct),!kt&&gt)return 3;if(ye!=null&&(ye[0]=!!(16&ct)),we!=null&&(we[0]=Dt),Ne!=null&&(Ne[0]=0),we=Ue[0],ct=Ke[0],gt&&Dt&&ke==null){ft=0;break}if(4>Y){ft=7;break}if(kt&&gt||!kt&&!gt&&!t(T,O[0],"ALPH")){Y=[Y],Ze.na=[Ze.na],Ze.P=[Ze.P],Ze.Sa=[Ze.Sa];e:{Cn=T,ft=O,kt=Y;var Dn=Ze.gb;ln=Ze.na,Qt=Ze.P,Mn=Ze.Sa,dr=22,e(Cn!=null),e(kt!=null),Ht=ft[0];var Dr=kt[0];for(e(ln!=null),e(Mn!=null),ln[0]=null,Qt[0]=null,Mn[0]=0;;){if(ft[0]=Ht,kt[0]=Dr,8>Dr){ft=7;break e}var Bi=Rt(Cn,Ht+4);if(4294967286<Bi){ft=3;break e}var yr=8+Bi+1&-2;if(dr+=yr,0<Dn&&dr>Dn){ft=3;break e}if(!t(Cn,Ht,"VP8 ")||!t(Cn,Ht,"VP8L")){ft=0;break e}if(Dr[0]<yr){ft=7;break e}t(Cn,Ht,"ALPH")||(ln[0]=Cn,Qt[0]=Ht+8,Mn[0]=Bi),Ht+=yr,Dr-=yr}}if(Y=Y[0],Ze.na=Ze.na[0],Ze.P=Ze.P[0],Ze.Sa=Ze.Sa[0],ft!=0)break}Y=[Y],Ze.Ja=[Ze.Ja],Ze.xa=[Ze.xa];e:if(Dn=T,ft=O,kt=Y,ln=Ze.gb[0],Qt=Ze.Ja,Mn=Ze.xa,Cn=ft[0],Ht=!t(Dn,Cn,"VP8 "),dr=!t(Dn,Cn,"VP8L"),e(Dn!=null),e(kt!=null),e(Qt!=null),e(Mn!=null),8>kt[0])ft=7;else{if(Ht||dr){if(Dn=Rt(Dn,Cn+4),12<=ln&&Dn>ln-12){ft=3;break e}if(Be&&Dn>kt[0]-8){ft=7;break e}Qt[0]=Dn,ft[0]+=8,kt[0]-=8,Mn[0]=dr}else Mn[0]=5<=kt[0]&&Dn[Cn+0]==47&&!(Dn[Cn+4]>>5),Qt[0]=kt[0];ft=0}if(Y=Y[0],Ze.Ja=Ze.Ja[0],Ze.xa=Ze.xa[0],O=O[0],ft!=0)break;if(4294967286<Ze.Ja)return 3;if(Ne==null||Dt||(Ne[0]=Ze.xa?2:1),we=[we],ct=[ct],Ze.xa){if(5>Y){ft=7;break}Ne=we,Be=ct,Dt=ye,T==null||5>Y?T=0:5<=Y&&T[O+0]==47&&!(T[O+4]>>5)?(kt=[0],Dn=[0],ln=[0],He(Qt=new J,T,O,Y),Ki(Qt,kt,Dn,ln)?(Ne!=null&&(Ne[0]=kt[0]),Be!=null&&(Be[0]=Dn[0]),Dt!=null&&(Dt[0]=ln[0]),T=1):T=0):T=0}else{if(10>Y){ft=7;break}Ne=ct,T==null||10>Y||!Es(T,O+3,Y-3)?T=0:(Be=T[O+0]|T[O+1]<<8|T[O+2]<<16,Dt=16383&(T[O+7]<<8|T[O+6]),T=16383&(T[O+9]<<8|T[O+8]),1&Be||3<(Be>>1&7)||!(Be>>4&1)||Be>>5>=Ze.Ja||!Dt||!T?T=0:(we&&(we[0]=Dt),Ne&&(Ne[0]=T),T=1))}if(!T||(we=we[0],ct=ct[0],gt&&(Ue[0]!=we||Ke[0]!=ct)))return 3;ke!=null&&(ke[0]=Ze,ke.offset=O-ke.w,e(4294967286>O-ke.w),e(ke.offset==ke.ha-Y));break}return ft==0||ft==7&&gt&&ke==null?(ye!=null&&(ye[0]|=Ze.na!=null&&0<Ze.na.length),te!=null&&(te[0]=we),me!=null&&(me[0]=ct),0):ft}function Bo(T,O,Y){var te=O.width,me=O.height,ye=0,we=0,Ne=te,ke=me;if(O.Da=T!=null&&0<T.Da,O.Da&&(Ne=T.cd,ke=T.bd,ye=T.v,we=T.j,11>Y||(ye&=-2,we&=-2),0>ye||0>we||0>=Ne||0>=ke||ye+Ne>te||we+ke>me))return 0;if(O.v=ye,O.j=we,O.va=ye+Ne,O.o=we+ke,O.U=Ne,O.T=ke,O.da=T!=null&&0<T.da,O.da){if(!zt(Ne,ke,Y=[T.ib],ye=[T.hb]))return 0;O.ib=Y[0],O.hb=ye[0]}return O.ob=T!=null&&T.ob,O.Kb=T==null||!T.Sd,O.da&&(O.ob=O.ib<3*te/4&&O.hb<3*me/4,O.Kb=0),1}function uu(T){if(T==null)return 2;if(11>T.S){var O=T.f.RGBA;O.fb+=(T.height-1)*O.A,O.A=-O.A}else O=T.f.kb,T=T.height,O.O+=(T-1)*O.fa,O.fa=-O.fa,O.N+=(T-1>>1)*O.Ab,O.Ab=-O.Ab,O.W+=(T-1>>1)*O.Db,O.Db=-O.Db,O.F!=null&&(O.J+=(T-1)*O.lb,O.lb=-O.lb);return 0}function yo(T,O,Y,te){if(te==null||0>=T||0>=O)return 2;if(Y!=null){if(Y.Da){var me=Y.cd,ye=Y.bd,we=-2&Y.v,Ne=-2&Y.j;if(0>we||0>Ne||0>=me||0>=ye||we+me>T||Ne+ye>O)return 2;T=me,O=ye}if(Y.da){if(!zt(T,O,me=[Y.ib],ye=[Y.hb]))return 2;T=me[0],O=ye[0]}}te.width=T,te.height=O;e:{var ke=te.width,Ue=te.height;if(T=te.S,0>=ke||0>=Ue||!(T>=ad&&13>T))T=2;else{if(0>=te.Rd&&te.sd==null){we=ye=me=O=0;var Ke=(Ne=ke*gd[T])*Ue;if(11>T||(ye=(Ue+1)/2*(O=(ke+1)/2),T==12&&(we=(me=ke)*Ue)),(Ue=s(Ke+2*ye+we))==null){T=1;break e}te.sd=Ue,11>T?((ke=te.f.RGBA).eb=Ue,ke.fb=0,ke.A=Ne,ke.size=Ke):((ke=te.f.kb).y=Ue,ke.O=0,ke.fa=Ne,ke.Fd=Ke,ke.f=Ue,ke.N=0+Ke,ke.Ab=O,ke.Cd=ye,ke.ea=Ue,ke.W=0+Ke+ye,ke.Db=O,ke.Ed=ye,T==12&&(ke.F=Ue,ke.J=0+Ke+2*ye),ke.Tc=we,ke.lb=me)}if(O=1,me=te.S,ye=te.width,we=te.height,me>=ad&&13>me)if(11>me)T=te.f.RGBA,O&=(Ne=Math.abs(T.A))*(we-1)+ye<=T.size,O&=Ne>=ye*gd[me],O&=T.eb!=null;else{T=te.f.kb,Ne=(ye+1)/2,Ke=(we+1)/2,ke=Math.abs(T.fa),Ue=Math.abs(T.Ab);var gt=Math.abs(T.Db),Be=Math.abs(T.lb),Ze=Be*(we-1)+ye;O&=ke*(we-1)+ye<=T.Fd,O&=Ue*(Ke-1)+Ne<=T.Cd,O=(O&=gt*(Ke-1)+Ne<=T.Ed)&ke>=ye&Ue>=Ne&gt>=Ne,O&=T.y!=null,O&=T.f!=null,O&=T.ea!=null,me==12&&(O&=Be>=ye,O&=Ze<=T.Tc,O&=T.F!=null)}else O=0;T=O?0:2}}return T!=0||Y!=null&&Y.fd&&(T=uu(te)),T}var Hs=64,Pa=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],qs=24,ja=32,pr=8,wo=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Xe("Predictor0","PredictorAdd0"),D.Predictor0=function(){return 4278190080},D.Predictor1=function(T){return T},D.Predictor2=function(T,O,Y){return O[Y+0]},D.Predictor3=function(T,O,Y){return O[Y+1]},D.Predictor4=function(T,O,Y){return O[Y-1]},D.Predictor5=function(T,O,Y){return fn(fn(T,O[Y+1]),O[Y+0])},D.Predictor6=function(T,O,Y){return fn(T,O[Y-1])},D.Predictor7=function(T,O,Y){return fn(T,O[Y+0])},D.Predictor8=function(T,O,Y){return fn(O[Y-1],O[Y+0])},D.Predictor9=function(T,O,Y){return fn(O[Y+0],O[Y+1])},D.Predictor10=function(T,O,Y){return fn(fn(T,O[Y-1]),fn(O[Y+0],O[Y+1]))},D.Predictor11=function(T,O,Y){var te=O[Y+0];return 0>=rn(te>>24&255,T>>24&255,(O=O[Y-1])>>24&255)+rn(te>>16&255,T>>16&255,O>>16&255)+rn(te>>8&255,T>>8&255,O>>8&255)+rn(255&te,255&T,255&O)?te:T},D.Predictor12=function(T,O,Y){var te=O[Y+0];return(st((T>>24&255)+(te>>24&255)-((O=O[Y-1])>>24&255))<<24|st((T>>16&255)+(te>>16&255)-(O>>16&255))<<16|st((T>>8&255)+(te>>8&255)-(O>>8&255))<<8|st((255&T)+(255&te)-(255&O)))>>>0},D.Predictor13=function(T,O,Y){var te=O[Y-1];return(Yt((T=fn(T,O[Y+0]))>>24&255,te>>24&255)<<24|Yt(T>>16&255,te>>16&255)<<16|Yt(T>>8&255,te>>8&255)<<8|Yt(255&T,255&te))>>>0};var he=D.PredictorAdd0;D.PredictorAdd1=hn,Xe("Predictor2","PredictorAdd2"),Xe("Predictor3","PredictorAdd3"),Xe("Predictor4","PredictorAdd4"),Xe("Predictor5","PredictorAdd5"),Xe("Predictor6","PredictorAdd6"),Xe("Predictor7","PredictorAdd7"),Xe("Predictor8","PredictorAdd8"),Xe("Predictor9","PredictorAdd9"),Xe("Predictor10","PredictorAdd10"),Xe("Predictor11","PredictorAdd11"),Xe("Predictor12","PredictorAdd12"),Xe("Predictor13","PredictorAdd13");var l=D.PredictorAdd2;dn("ColorIndexInverseTransform","MapARGB","32b",function(T){return T>>8&255},function(T){return T}),dn("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(T){return T},function(T){return T>>8&255});var h,g=D.ColorIndexInverseTransform,v=D.MapARGB,_=D.VP8LColorIndexInverseTransformAlpha,b=D.MapAlpha,N=D.VP8LPredictorsAdd=[];N.length=16,(D.VP8LPredictors=[]).length=16,(D.VP8LPredictorsAdd_C=[]).length=16,(D.VP8LPredictors_C=[]).length=16;var k,z,ee,fe,_e,Pe,qe,Ye,nt,yt,Bt,Ut,jt,zn,Jn,ki,Gs,Ts,ri,Ns,Fa,tc,Bl,tf,nc,Zo,nf,Uo,hu=s(511),id=s(2041),rf=s(225),sf=s(767),sd=0,rc=id,af=rf,Ba=sf,ya=hu,ad=0,Ua=1,od=2,Qo=3,of=4,Zu=5,Nc=6,lf=7,ld=8,Qu=9,cd=10,Jo=[2,3,7],Ju=[3,3,11],fu=[280,256,256,256,40],ud=[0,1,1,1,0],cf=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],el=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],tl=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Cc=8,nl=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],rl=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Vo=null,Hm=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],V0=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],hd=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],qm=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],wa=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Fi=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Mr=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],so=[],os=[],yl=[],Ic=1,z0=2,ic=[],ba=[];sn("UpsampleRgbLinePair",Vs,3),sn("UpsampleBgrLinePair",Ur,3),sn("UpsampleRgbaLinePair",qi,4),sn("UpsampleBgraLinePair",$o,4),sn("UpsampleArgbLinePair",Ma,4),sn("UpsampleRgba4444LinePair",io,2),sn("UpsampleRgb565LinePair",ps,2);var du=D.UpsampleRgbLinePair,H0=D.UpsampleBgrLinePair,eh=D.UpsampleRgbaLinePair,fd=D.UpsampleBgraLinePair,Rc=D.UpsampleArgbLinePair,Ul=D.UpsampleRgba4444LinePair,Oc=D.UpsampleRgb565LinePair,il=16,th=1<<il-1,mu=-227,kc=482,dd=6,Dc=0,Ea=s(256),md=s(256),Gm=s(256),xx=s(256),vx=s(kc-mu),_x=s(kc-mu);_o("YuvToRgbRow",Vs,3),_o("YuvToBgrRow",Ur,3),_o("YuvToRgbaRow",qi,4),_o("YuvToBgraRow",$o,4),_o("YuvToArgbRow",Ma,4),_o("YuvToRgba4444Row",io,2),_o("YuvToRgb565Row",ps,2);var xs=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],nh=[0,2,8],uf=[8,7,6,4,4,2,2,2,1,1,1,1],hf=1;this.WebPDecodeRGBA=function(T,O,Y,te,me){var ye=Ua,we=new Pt,Ne=new mn;we.ba=Ne,Ne.S=ye,Ne.width=[Ne.width],Ne.height=[Ne.height];var ke=Ne.width,Ue=Ne.height,Ke=new gn;if(Ke==null||T==null)var gt=2;else e(Ke!=null),gt=Fo(T,O,Y,Ke.width,Ke.height,Ke.Pd,Ke.Qd,Ke.format,null);if(gt!=0?ke=0:(ke!=null&&(ke[0]=Ke.width[0]),Ue!=null&&(Ue[0]=Ke.height[0]),ke=1),ke){Ne.width=Ne.width[0],Ne.height=Ne.height[0],te!=null&&(te[0]=Ne.width),me!=null&&(me[0]=Ne.height);e:{if(te=new as,(me=new Zt).data=T,me.w=O,me.ha=Y,me.kd=1,O=[0],e(me!=null),((T=Fo(me.data,me.w,me.ha,null,null,null,O,null,me))==0||T==7)&&O[0]&&(T=4),(O=T)==0){if(e(we!=null),te.data=me.data,te.w=me.w+me.offset,te.ha=me.ha-me.offset,te.put=On,te.ac=Kr,te.bc=Ni,te.ma=we,me.xa){if((T=Je())==null){we=1;break e}if((function(Be,Ze){var ct=[0],Dt=[0],ft=[0];t:for(;;){if(Be==null)return 0;if(Ze==null)return Be.a=2,0;if(Be.l=Ze,Be.a=0,He(Be.m,Ze.data,Ze.w,Ze.ha),!Ki(Be.m,ct,Dt,ft)){Be.a=3;break t}if(Be.xb=z0,Ze.width=ct[0],Ze.height=Dt[0],!lt(ct[0],Dt[0],1,Be,null))break t;return 1}return e(Be.a!=0),0})(T,te)){if(te=(O=yo(te.width,te.height,we.Oa,we.ba))==0){t:{te=T;n:for(;;){if(te==null){te=0;break t}if(e(te.s.yc!=null),e(te.s.Ya!=null),e(0<te.s.Wb),e((Y=te.l)!=null),e((me=Y.ma)!=null),te.xb!=0){if(te.ca=me.ba,te.tb=me.tb,e(te.ca!=null),!Bo(me.Oa,Y,Qo)){te.a=2;break n}if(!ht(te,Y.width)||Y.da)break n;if((Y.da||mt(te.ca.S))&&_t(),11>te.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),te.ca.f.kb.F!=null&&_t()),te.Pb&&0<te.s.ua&&te.s.vb.X==null&&!le(te.s.vb,te.s.Wa.Xa)){te.a=1;break n}te.xb=0}if(!rt(te,te.V,te.Ba,te.c,te.i,Y.o,Te))break n;me.Dc=te.Ma,te=1;break t}e(te.a!=0),te=0}te=!te}te&&(O=T.a)}else O=T.a}else{if((T=new Ii)==null){we=1;break e}if(T.Fa=me.na,T.P=me.P,T.qc=me.Sa,ka(T,te)){if((O=yo(te.width,te.height,we.Oa,we.ba))==0){if(T.Aa=0,Y=we.Oa,e((me=T)!=null),Y!=null){if(0<(ke=0>(ke=Y.Md)?0:100<ke?255:255*ke/100)){for(Ue=Ke=0;4>Ue;++Ue)12>(gt=me.pb[Ue]).lc&&(gt.ia=ke*uf[0>gt.lc?0:gt.lc]>>3),Ke|=gt.ia;Ke&&(alert("todo:VP8InitRandom"),me.ia=1)}me.Ga=Y.Id,100<me.Ga?me.Ga=100:0>me.Ga&&(me.Ga=0)}(function(Be,Ze){if(Be==null)return 0;if(Ze==null)return Hn(Be,2,"NULL VP8Io parameter in VP8Decode().");if(!Be.cb&&!ka(Be,Ze))return 0;if(e(Be.cb),Ze.ac==null||Ze.ac(Ze)){Ze.ob&&(Be.L=0);var ct=nh[Be.L];if(Be.L==2?(Be.yb=0,Be.zb=0):(Be.yb=Ze.v-ct>>4,Be.zb=Ze.j-ct>>4,0>Be.yb&&(Be.yb=0),0>Be.zb&&(Be.zb=0)),Be.Va=Ze.o+15+ct>>4,Be.Hb=Ze.va+15+ct>>4,Be.Hb>Be.za&&(Be.Hb=Be.za),Be.Va>Be.Ub&&(Be.Va=Be.Ub),0<Be.L){var Dt=Be.ed;for(ct=0;4>ct;++ct){var ft;if(Be.Qa.Cb){var kt=Be.Qa.Lb[ct];Be.Qa.Fb||(kt+=Dt.Tb)}else kt=Dt.Tb;for(ft=0;1>=ft;++ft){var Ht=Be.gd[ct][ft],ln=kt;if(Dt.Pc&&(ln+=Dt.vd[0],ft&&(ln+=Dt.od[0])),0<(ln=0>ln?0:63<ln?63:ln)){var Qt=ln;0<Dt.wb&&(Qt=4<Dt.wb?Qt>>2:Qt>>1)>9-Dt.wb&&(Qt=9-Dt.wb),1>Qt&&(Qt=1),Ht.dd=Qt,Ht.tc=2*ln+Qt,Ht.ld=40<=ln?2:15<=ln?1:0}else Ht.tc=0;Ht.La=ft}}}ct=0}else Hn(Be,6,"Frame setup failed"),ct=Be.a;if(ct=ct==0){if(ct){Be.$c=0,0<Be.Aa||(Be.Ic=hf);t:{ct=Be.Ic,Dt=4*(Qt=Be.za);var Mn=32*Qt,Cn=Qt+1,dr=0<Be.L?Qt*(0<Be.Aa?2:1):0,Dn=(Be.Aa==2?2:1)*Qt;if((Ht=Dt+832+(ft=3*(16*ct+nh[Be.L])/2*Mn)+(kt=Be.Fa!=null&&0<Be.Fa.length?Be.Kc.c*Be.Kc.i:0))!=Ht)ct=0;else{if(Ht>Be.Vb){if(Be.Vb=0,Be.Ec=s(Ht),Be.Fc=0,Be.Ec==null){ct=Hn(Be,1,"no memory during frame initialization.");break t}Be.Vb=Ht}Ht=Be.Ec,ln=Be.Fc,Be.Ac=Ht,Be.Bc=ln,ln+=Dt,Be.Gd=o(Mn,or),Be.Hd=0,Be.rb=o(Cn+1,Kn),Be.sb=1,Be.wa=dr?o(dr,vr):null,Be.Y=0,Be.D.Nb=0,Be.D.wa=Be.wa,Be.D.Y=Be.Y,0<Be.Aa&&(Be.D.Y+=Qt),e(!0),Be.oc=Ht,Be.pc=ln,ln+=832,Be.ya=o(Dn,pa),Be.aa=0,Be.D.ya=Be.ya,Be.D.aa=Be.aa,Be.Aa==2&&(Be.D.aa+=Qt),Be.R=16*Qt,Be.B=8*Qt,Qt=(Mn=nh[Be.L])*Be.R,Mn=Mn/2*Be.B,Be.sa=Ht,Be.ta=ln+Qt,Be.qa=Be.sa,Be.ra=Be.ta+16*ct*Be.R+Mn,Be.Ha=Be.qa,Be.Ia=Be.ra+8*ct*Be.B+Mn,Be.$c=0,ln+=ft,Be.mb=kt?Ht:null,Be.nb=kt?ln:null,e(ln+kt<=Be.Fc+Be.Vb),Us(Be),i(Be.Ac,Be.Bc,0,Dt),ct=1}}if(ct){if(Ze.ka=0,Ze.y=Be.sa,Ze.O=Be.ta,Ze.f=Be.qa,Ze.N=Be.ra,Ze.ea=Be.Ha,Ze.Vd=Be.Ia,Ze.fa=Be.R,Ze.Rc=Be.B,Ze.F=null,Ze.J=0,!sd){for(ct=-255;255>=ct;++ct)hu[255+ct]=0>ct?-ct:ct;for(ct=-1020;1020>=ct;++ct)id[1020+ct]=-128>ct?-128:127<ct?127:ct;for(ct=-112;112>=ct;++ct)rf[112+ct]=-16>ct?-16:15<ct?15:ct;for(ct=-255;510>=ct;++ct)sf[255+ct]=0>ct?0:255<ct?255:ct;sd=1}qe=ds,Ye=Le,yt=En,Bt=Oi,Ut=Hi,nt=ut,jt=La,zn=ro,Jn=ue,ki=je,Gs=bt,Ts=V,ri=We,Ns=et,Fa=vo,tc=Da,Bl=_l,tf=Or,os[0]=Ko,os[1]=As,os[2]=ta,os[3]=Vn,os[4]=Bn,os[5]=vl,os[6]=Nr,os[7]=Fr,os[8]=xa,os[9]=na,so[0]=Js,so[1]=Qr,so[2]=xl,so[3]=Mo,so[4]=Ja,so[5]=ea,so[6]=ui,yl[0]=va,yl[1]=jn,yl[2]=eo,yl[3]=Po,yl[4]=xi,yl[5]=ra,yl[6]=ia,ct=1}else ct=0}ct&&(ct=(function(Dr,Bi){for(Dr.M=0;Dr.M<Dr.Va;++Dr.M){var yr,In=Dr.Jc[Dr.M&Dr.Xb],yn=Dr.m,Zi=Dr;for(yr=0;yr<Zi.za;++yr){var ir=yn,Sr=Zi,fi=Sr.Ac,Ws=Sr.Bc+4*yr,Aa=Sr.zc,Di=Sr.ya[Sr.aa+yr];if(Sr.Qa.Bb?Di.$b=Ie(ir,Sr.Pa.jb[0])?2+Ie(ir,Sr.Pa.jb[2]):Ie(ir,Sr.Pa.jb[1]):Di.$b=0,Sr.kc&&(Di.Ad=Ie(ir,Sr.Bd)),Di.Za=!Ie(ir,145)+0,Di.Za){var Cs=Di.Ob,Va=0;for(Sr=0;4>Sr;++Sr){var Is,Cr=Aa[0+Sr];for(Is=0;4>Is;++Is){Cr=wa[fi[Ws+Is]][Cr];for(var Jr=hd[Ie(ir,Cr[0])];0<Jr;)Jr=hd[2*Jr+Ie(ir,Cr[Jr])];Cr=-Jr,fi[Ws+Is]=Cr}r(Cs,Va,fi,Ws,4),Va+=4,Aa[0+Sr]=Cr}}else Cr=Ie(ir,156)?Ie(ir,128)?1:3:Ie(ir,163)?2:0,Di.Ob[0]=Cr,i(fi,Ws,Cr,4),i(Aa,0,Cr,4);Di.Dd=Ie(ir,142)?Ie(ir,114)?Ie(ir,183)?1:3:2:0}if(Zi.m.Ka)return Hn(Dr,7,"Premature end-of-partition0 encountered.");for(;Dr.ja<Dr.za;++Dr.ja){if(Zi=In,ir=(yn=Dr).rb[yn.sb-1],fi=yn.rb[yn.sb+yn.ja],yr=yn.ya[yn.aa+yn.ja],Ws=yn.kc?yr.Ad:0)ir.la=fi.la=0,yr.Za||(ir.Na=fi.Na=0),yr.Hc=0,yr.Gc=0,yr.ia=0;else{var Qi,ii;if(ir=fi,fi=Zi,Ws=yn.Pa.Xc,Aa=yn.ya[yn.aa+yn.ja],Di=yn.pb[Aa.$b],Sr=Aa.ad,Cs=0,Va=yn.rb[yn.sb-1],Cr=Is=0,i(Sr,Cs,0,384),Aa.Za)var Xs=0,Ji=Ws[3];else{Jr=s(16);var ei=ir.Na+Va.Na;if(ei=Vo(fi,Ws[1],ei,Di.Eb,0,Jr,0),ir.Na=Va.Na=(0<ei)+0,1<ei)qe(Jr,0,Sr,Cs);else{var vs=Jr[0]+3>>3;for(Jr=0;256>Jr;Jr+=16)Sr[Cs+Jr]=vs}Xs=1,Ji=Ws[0]}var di=15&ir.la,Rs=15&Va.la;for(Jr=0;4>Jr;++Jr){var Os=1&Rs;for(vs=ii=0;4>vs;++vs)di=di>>1|(Os=(ei=Vo(fi,Ji,ei=Os+(1&di),Di.Sc,Xs,Sr,Cs))>Xs)<<7,ii=ii<<2|(3<ei?3:1<ei?2:Sr[Cs+0]!=0),Cs+=16;di>>=4,Rs=Rs>>1|Os<<7,Is=(Is<<8|ii)>>>0}for(Ji=di,Xs=Rs>>4,Qi=0;4>Qi;Qi+=2){for(ii=0,di=ir.la>>4+Qi,Rs=Va.la>>4+Qi,Jr=0;2>Jr;++Jr){for(Os=1&Rs,vs=0;2>vs;++vs)ei=Os+(1&di),di=di>>1|(Os=0<(ei=Vo(fi,Ws[2],ei,Di.Qc,0,Sr,Cs)))<<3,ii=ii<<2|(3<ei?3:1<ei?2:Sr[Cs+0]!=0),Cs+=16;di>>=2,Rs=Rs>>1|Os<<5}Cr|=ii<<4*Qi,Ji|=di<<4<<Qi,Xs|=(240&Rs)<<Qi}ir.la=Ji,Va.la=Xs,Aa.Hc=Is,Aa.Gc=Cr,Aa.ia=43690&Cr?0:Di.ia,Ws=!(Is|Cr)}if(0<yn.L&&(yn.wa[yn.Y+yn.ja]=yn.gd[yr.$b][yr.Za],yn.wa[yn.Y+yn.ja].La|=!Ws),Zi.Ka)return Hn(Dr,7,"Premature end-of-file encountered.")}if(Us(Dr),yn=Bi,Zi=1,yr=(In=Dr).D,ir=0<In.L&&In.M>=In.zb&&In.M<=In.Va,In.Aa==0)t:{if(yr.M=In.M,yr.uc=ir,Gi(In,yr),Zi=1,yr=(ii=In.D).Nb,ir=(Cr=nh[In.L])*In.R,fi=Cr/2*In.B,Jr=16*yr*In.R,vs=8*yr*In.B,Ws=In.sa,Aa=In.ta-ir+Jr,Di=In.qa,Sr=In.ra-fi+vs,Cs=In.Ha,Va=In.Ia-fi+vs,Rs=(di=ii.M)==0,Is=di>=In.Va-1,In.Aa==2&&Gi(In,ii),ii.uc)for(Os=(ei=In).D.M,e(ei.D.uc),ii=ei.yb;ii<ei.Hb;++ii){Xs=ii,Ji=Os;var vi=(Yr=(ks=ei).D).Nb;Qi=ks.R;var Yr=Yr.wa[Yr.Y+Xs],za=ks.sa,ls=ks.ta+16*vi*Qi+16*Xs,$n=Yr.dd,er=Yr.tc;if(er!=0)if(e(3<=er),ks.L==1)0<Xs&&tc(za,ls,Qi,er+4),Yr.La&&tf(za,ls,Qi,er),0<Ji&&Fa(za,ls,Qi,er+4),Yr.La&&Bl(za,ls,Qi,er);else{var ti=ks.B,bo=ks.qa,sl=ks.ra+8*vi*ti+8*Xs,ao=ks.Ha,ks=ks.Ia+8*vi*ti+8*Xs;vi=Yr.ld,0<Xs&&(zn(za,ls,Qi,er+4,$n,vi),ki(bo,sl,ao,ks,ti,er+4,$n,vi)),Yr.La&&(Ts(za,ls,Qi,er,$n,vi),Ns(bo,sl,ao,ks,ti,er,$n,vi)),0<Ji&&(jt(za,ls,Qi,er+4,$n,vi),Jn(bo,sl,ao,ks,ti,er+4,$n,vi)),Yr.La&&(Gs(za,ls,Qi,er,$n,vi),ri(bo,sl,ao,ks,ti,er,$n,vi))}}if(In.ia&&alert("todo:DitherRow"),yn.put!=null){if(ii=16*di,di=16*(di+1),Rs?(yn.y=In.sa,yn.O=In.ta+Jr,yn.f=In.qa,yn.N=In.ra+vs,yn.ea=In.Ha,yn.W=In.Ia+vs):(ii-=Cr,yn.y=Ws,yn.O=Aa,yn.f=Di,yn.N=Sr,yn.ea=Cs,yn.W=Va),Is||(di-=Cr),di>yn.o&&(di=yn.o),yn.F=null,yn.J=null,In.Fa!=null&&0<In.Fa.length&&ii<di&&(yn.J=S(In,yn,ii,di-ii),yn.F=In.mb,yn.F==null&&yn.F.length==0)){Zi=Hn(In,3,"Could not decode alpha data.");break t}ii<yn.j&&(Cr=yn.j-ii,ii=yn.j,e(!(1&Cr)),yn.O+=In.R*Cr,yn.N+=In.B*(Cr>>1),yn.W+=In.B*(Cr>>1),yn.F!=null&&(yn.J+=yn.width*Cr)),ii<di&&(yn.O+=yn.v,yn.N+=yn.v>>1,yn.W+=yn.v>>1,yn.F!=null&&(yn.J+=yn.v),yn.ka=ii-yn.j,yn.U=yn.va-yn.v,yn.T=di-ii,Zi=yn.put(yn))}yr+1!=In.Ic||Is||(r(In.sa,In.ta-ir,Ws,Aa+16*In.R,ir),r(In.qa,In.ra-fi,Di,Sr+8*In.B,fi),r(In.Ha,In.Ia-fi,Cs,Va+8*In.B,fi))}if(!Zi)return Hn(Dr,6,"Output aborted.")}return 1})(Be,Ze)),Ze.bc!=null&&Ze.bc(Ze),ct&=1}return ct?(Be.cb=0,ct):0})(T,te)||(O=T.a)}}else O=T.a}O==0&&we.Oa!=null&&we.Oa.fd&&(O=uu(we.ba))}we=O}ye=we!=0?null:11>ye?Ne.f.RGBA.eb:Ne.f.kb.y}else ye=null;return ye};var gd=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(D,Z){for(var U="",H=0;H<4;H++)U+=String.fromCharCode(D[Z++]);return U}function x(D,Z){return D[Z+0]|D[Z+1]<<8}function w(D,Z){return(D[Z+0]|D[Z+1]<<8|D[Z+2]<<16)>>>0}function A(D,Z){return(D[Z+0]|D[Z+1]<<8|D[Z+2]<<16|D[Z+3]<<24)>>>0}new f;var E=[0],I=[0],C=[],L=new f,j=n,W=(function(D,Z){var U={},H=0,X=!1,ne=0,pe=0;if(U.frames=[],!(function(q,J){for(var Q=0;Q<4;Q++)if(q[J+Q]!="RIFF".charCodeAt(Q))return!0;return!1})(D,Z)){for(A(D,Z+=4),Z+=8;Z<D.length;){var Ae=d(D,Z),xe=A(D,Z+=4);Z+=4;var Re=xe+(1&xe);switch(Ae){case"VP8 ":case"VP8L":U.frames[H]===void 0&&(U.frames[H]={}),(ve=U.frames[H]).src_off=X?pe:Z-8,ve.src_size=ne+xe+8,H++,X&&(X=!1,ne=0,pe=0);break;case"VP8X":(ve=U.header={}).feature_flags=D[Z];var He=Z+4;ve.canvas_width=1+w(D,He),He+=3,ve.canvas_height=1+w(D,He),He+=3;break;case"ALPH":X=!0,ne=Re+8,pe=Z-8;break;case"ANIM":(ve=U.header).bgcolor=A(D,Z),He=Z+4,ve.loop_count=x(D,He),He+=2;break;case"ANMF":var ze,ve;(ve=U.frames[H]={}).offset_x=2*w(D,Z),Z+=3,ve.offset_y=2*w(D,Z),Z+=3,ve.width=1+w(D,Z),Z+=3,ve.height=1+w(D,Z),Z+=3,ve.duration=w(D,Z),Z+=3,ze=D[Z++],ve.dispose=1&ze,ve.blend=ze>>1&1}Ae!="ANMF"&&(Z+=Re)}return U}})(j,0);W.response=j,W.rgbaoutput=!0,W.dataurl=!1;var M=W.header?W.header:null,G=W.frames?W.frames:null;if(M){M.loop_counter=M.loop_count,E=[M.canvas_height],I=[M.canvas_width];for(var ce=0;ce<G.length&&G[ce].blend!=0;ce++);}var re=G[0],F=L.WebPDecodeRGBA(j,re.src_off,re.src_size,I,E);re.rgba=F,re.imgwidth=I[0],re.imgheight=E[0];for(var B=0;B<I[0]*E[0]*4;B++)C[B]=F[B];return this.width=I,this.height=E,this.data=C,this}(function(n){var e,t,r,i,s,o,u,f,d,x=function(q){return q=q||{},this.isStrokeTransparent=q.isStrokeTransparent||!1,this.strokeOpacity=q.strokeOpacity||1,this.strokeStyle=q.strokeStyle||"#000000",this.fillStyle=q.fillStyle||"#000000",this.isFillTransparent=q.isFillTransparent||!1,this.fillOpacity=q.fillOpacity||1,this.font=q.font||"10px sans-serif",this.textBaseline=q.textBaseline||"alphabetic",this.textAlign=q.textAlign||"left",this.lineWidth=q.lineWidth||1,this.lineJoin=q.lineJoin||"miter",this.lineCap=q.lineCap||"butt",this.path=q.path||[],this.transform=q.transform!==void 0?q.transform.clone():new f,this.globalCompositeOperation=q.globalCompositeOperation||"normal",this.globalAlpha=q.globalAlpha||1,this.clip_path=q.clip_path||[],this.currentPoint=q.currentPoint||new o,this.miterLimit=q.miterLimit||10,this.lastPoint=q.lastPoint||new o,this.lineDashOffset=q.lineDashOffset||0,this.lineDash=q.lineDash||[],this.margin=q.margin||[0,0,0,0],this.prevPageLastElemOffset=q.prevPageLastElemOffset||0,this.ignoreClearRect=typeof q.ignoreClearRect!="boolean"||q.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new w(this),e=this.internal.f2,t=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,u=this.internal.Rectangle,f=this.internal.Matrix,d=new x}]);var w=function(q){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var J=q;Object.defineProperty(this,"pdf",{get:function(){return J}});var Q=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Q},set:function(le){Q=!!le}});var oe=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return oe},set:function(le){oe=!!le}});var de=0;Object.defineProperty(this,"posX",{get:function(){return de},set:function(le){isNaN(le)||(de=le)}});var De=0;Object.defineProperty(this,"posY",{get:function(){return De},set:function(le){isNaN(le)||(De=le)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(le){var ot;typeof le=="number"?ot=[le,le,le,le]:((ot=new Array(4))[0]=le[0],ot[1]=le.length>=2?le[1]:ot[0],ot[2]=le.length>=3?le[2]:ot[0],ot[3]=le.length>=4?le[3]:ot[1]),d.margin=ot}});var Ve=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Ve},set:function(le){Ve=le}});var Fe=0;Object.defineProperty(this,"lastBreak",{get:function(){return Fe},set:function(le){Fe=le}});var Ie=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ie},set:function(le){Ie=le}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(le){le instanceof x&&(d=le)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(le){d.path=le}});var Qe=[];Object.defineProperty(this,"ctxStack",{get:function(){return Qe},set:function(le){Qe=le}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(le){var ot;ot=A(le),this.ctx.fillStyle=ot.style,this.ctx.isFillTransparent=ot.a===0,this.ctx.fillOpacity=ot.a,this.pdf.setFillColor(ot.r,ot.g,ot.b,{a:ot.a}),this.pdf.setTextColor(ot.r,ot.g,ot.b,{a:ot.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(le){var ot=A(le);this.ctx.strokeStyle=ot.style,this.ctx.isStrokeTransparent=ot.a===0,this.ctx.strokeOpacity=ot.a,ot.a===0?this.pdf.setDrawColor(255,255,255):(ot.a,this.pdf.setDrawColor(ot.r,ot.g,ot.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(le){["butt","round","square"].indexOf(le)!==-1&&(this.ctx.lineCap=le,this.pdf.setLineCap(le))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(le){isNaN(le)||(this.ctx.lineWidth=le,this.pdf.setLineWidth(le))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(le){["bevel","round","miter"].indexOf(le)!==-1&&(this.ctx.lineJoin=le,this.pdf.setLineJoin(le))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(le){isNaN(le)||(this.ctx.miterLimit=le,this.pdf.setMiterLimit(le))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(le){this.ctx.textBaseline=le}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(le){["right","end","center","left","start"].indexOf(le)!==-1&&(this.ctx.textAlign=le)}});var St=null,Tt=null,Rt=null;Object.defineProperty(this,"fontFaces",{get:function(){return Rt},set:function(le){St=null,Tt=null,Rt=le}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(le){var ot;if(this.ctx.font=le,(ot=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(le))!==null){var pt=ot[1];ot[2];var zt=ot[3],tt=ot[4];ot[5];var tn=ot[6],Xe=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(tt)[2];tt=Math.floor(Xe==="px"?parseFloat(tt)*this.pdf.internal.scaleFactor:Xe==="em"?parseFloat(tt)*this.pdf.getFontSize():parseFloat(tt)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(tt);var Lt=(function(dn){var nr,an,dt=[],Wt=dn.trim();if(Wt==="")return q_;if(Wt in uT)return[uT[Wt]];for(;Wt!=="";){switch(an=null,nr=(Wt=fT(Wt)).charAt(0)){case'"':case"'":an=kW(Wt.substring(1),nr);break;default:an=DW(Wt)}if(an===null||(dt.push(an[0]),(Wt=fT(an[1]))!==""&&Wt.charAt(0)!==","))return q_;Wt=Wt.replace(/^,/,"")}return dt})(tn);if(this.fontFaces){var fn=(function(dn,nr){var an=dn.getFontList(),dt=JSON.stringify(an);if(St===null||Tt!==dt){var Wt=(function(It){var un=[];return Object.keys(It).forEach(function(Yn){It[Yn].forEach(function(mt){var $t=null;switch(mt){case"bold":$t={family:Yn,weight:"bold"};break;case"italic":$t={family:Yn,style:"italic"};break;case"bolditalic":$t={family:Yn,weight:"bold",style:"italic"};break;case"":case"normal":$t={family:Yn}}$t!==null&&($t.ref={name:Yn,style:mt},un.push($t))})}),un})(an);St=(function(It){for(var un={},Yn=0;Yn<It.length;++Yn){var mt=H_(It[Yn]),$t=mt.family,cn=mt.stretch,mn=mt.style,gn=mt.weight;un[$t]=un[$t]||{},un[$t][cn]=un[$t][cn]||{},un[$t][cn][mn]=un[$t][cn][mn]||{},un[$t][cn][mn][gn]=mt}return un})(Wt.concat(nr)),Tt=dt}return St})(this.pdf,this.fontFaces),st=Lt.map(function(dn){return{family:dn,stretch:"normal",weight:zt,style:pt}}),Yt=(function(dn,nr,an){for(var dt=(an=an||{}).defaultFontFamily||"times",Wt=Object.assign({},OW,an.genericFontFamilies||{}),It=null,un=null,Yn=0;Yn<nr.length;++Yn)if(Wt[(It=H_(nr[Yn])).family]&&(It.family=Wt[It.family]),dn.hasOwnProperty(It.family)){un=dn[It.family];break}if(!(un=un||dn[dt]))throw new Error("Could not find a font-family for the rule '"+hT(It)+"' and default family '"+dt+"'.");if(un=(function(mt,$t){if($t[mt])return $t[mt];var cn=Ky[mt],mn=cn<=Ky.normal?-1:1,gn=cT($t,$I,cn,mn);if(!gn)throw new Error("Could not find a matching font-stretch value for "+mt);return gn})(It.stretch,un),un=(function(mt,$t){if($t[mt])return $t[mt];for(var cn=KI[mt],mn=0;mn<cn.length;++mn)if($t[cn[mn]])return $t[cn[mn]];throw new Error("Could not find a matching font-style for "+mt)})(It.style,un),!(un=(function(mt,$t){if($t[mt])return $t[mt];if(mt===400&&$t[500])return $t[500];if(mt===500&&$t[400])return $t[400];var cn=RW[mt],mn=cT($t,ZI,cn,mt<400?-1:1);if(!mn)throw new Error("Could not find a matching font-weight for value "+mt);return mn})(It.weight,un)))throw new Error("Failed to resolve a font for the rule '"+hT(It)+"'.");return un})(fn,st);this.pdf.setFont(Yt.ref.name,Yt.ref.style)}else{var rn="";(zt==="bold"||parseInt(zt,10)>=700||pt==="bold")&&(rn="bold"),pt==="italic"&&(rn+="italic"),rn.length===0&&(rn="normal");for(var hn="",xn={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},on=0;on<Lt.length;on++){if(this.pdf.internal.getFont(Lt[on],rn,{noFallback:!0,disableWarning:!0})!==void 0){hn=Lt[on];break}if(rn==="bolditalic"&&this.pdf.internal.getFont(Lt[on],"bold",{noFallback:!0,disableWarning:!0})!==void 0)hn=Lt[on],rn="bold";else if(this.pdf.internal.getFont(Lt[on],"normal",{noFallback:!0,disableWarning:!0})!==void 0){hn=Lt[on],rn="normal";break}}if(hn===""){for(var bn=0;bn<Lt.length;bn++)if(xn[Lt[bn]]){hn=xn[Lt[bn]];break}}hn=hn===""?"Times":hn,this.pdf.setFont(hn,rn)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(le){this.ctx.globalCompositeOperation=le}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(le){this.ctx.globalAlpha=le}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(le){this.ctx.lineDashOffset=le,ve.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(le){this.ctx.lineDash=le,ve.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(le){this.ctx.ignoreClearRect=!!le}})};w.prototype.setLineDash=function(q){this.lineDash=q},w.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},w.prototype.fill=function(){G.call(this,"fill",!1)},w.prototype.stroke=function(){G.call(this,"stroke",!1)},w.prototype.beginPath=function(){this.path=[{type:"begin"}]},w.prototype.moveTo=function(q,J){if(isNaN(q)||isNaN(J))throw Vi.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Q=this.ctx.transform.applyToPoint(new o(q,J));this.path.push({type:"mt",x:Q.x,y:Q.y}),this.ctx.lastPoint=new o(q,J)},w.prototype.closePath=function(){var q=new o(0,0),J=0;for(J=this.path.length-1;J!==-1;J--)if(this.path[J].type==="begin"&&Ei(this.path[J+1])==="object"&&typeof this.path[J+1].x=="number"){q=new o(this.path[J+1].x,this.path[J+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(q.x,q.y)},w.prototype.lineTo=function(q,J){if(isNaN(q)||isNaN(J))throw Vi.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Q=this.ctx.transform.applyToPoint(new o(q,J));this.path.push({type:"lt",x:Q.x,y:Q.y}),this.ctx.lastPoint=new o(Q.x,Q.y)},w.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),G.call(this,null,!0)},w.prototype.quadraticCurveTo=function(q,J,Q,oe){if(isNaN(Q)||isNaN(oe)||isNaN(q)||isNaN(J))throw Vi.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var de=this.ctx.transform.applyToPoint(new o(Q,oe)),De=this.ctx.transform.applyToPoint(new o(q,J));this.path.push({type:"qct",x1:De.x,y1:De.y,x:de.x,y:de.y}),this.ctx.lastPoint=new o(de.x,de.y)},w.prototype.bezierCurveTo=function(q,J,Q,oe,de,De){if(isNaN(de)||isNaN(De)||isNaN(q)||isNaN(J)||isNaN(Q)||isNaN(oe))throw Vi.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Ve=this.ctx.transform.applyToPoint(new o(de,De)),Fe=this.ctx.transform.applyToPoint(new o(q,J)),Ie=this.ctx.transform.applyToPoint(new o(Q,oe));this.path.push({type:"bct",x1:Fe.x,y1:Fe.y,x2:Ie.x,y2:Ie.y,x:Ve.x,y:Ve.y}),this.ctx.lastPoint=new o(Ve.x,Ve.y)},w.prototype.arc=function(q,J,Q,oe,de,De){if(isNaN(q)||isNaN(J)||isNaN(Q)||isNaN(oe)||isNaN(de))throw Vi.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(De=!!De,!this.ctx.transform.isIdentity){var Ve=this.ctx.transform.applyToPoint(new o(q,J));q=Ve.x,J=Ve.y;var Fe=this.ctx.transform.applyToPoint(new o(0,Q)),Ie=this.ctx.transform.applyToPoint(new o(0,0));Q=Math.sqrt(Math.pow(Fe.x-Ie.x,2)+Math.pow(Fe.y-Ie.y,2))}Math.abs(de-oe)>=2*Math.PI&&(oe=0,de=2*Math.PI),this.path.push({type:"arc",x:q,y:J,radius:Q,startAngle:oe,endAngle:de,counterclockwise:De})},w.prototype.arcTo=function(q,J,Q,oe,de){throw new Error("arcTo not implemented.")},w.prototype.rect=function(q,J,Q,oe){if(isNaN(q)||isNaN(J)||isNaN(Q)||isNaN(oe))throw Vi.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(q,J),this.lineTo(q+Q,J),this.lineTo(q+Q,J+oe),this.lineTo(q,J+oe),this.lineTo(q,J),this.lineTo(q+Q,J),this.lineTo(q,J)},w.prototype.fillRect=function(q,J,Q,oe){if(isNaN(q)||isNaN(J)||isNaN(Q)||isNaN(oe))throw Vi.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!E.call(this)){var de={};this.lineCap!=="butt"&&(de.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(de.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(q,J,Q,oe),this.fill(),de.hasOwnProperty("lineCap")&&(this.lineCap=de.lineCap),de.hasOwnProperty("lineJoin")&&(this.lineJoin=de.lineJoin)}},w.prototype.strokeRect=function(q,J,Q,oe){if(isNaN(q)||isNaN(J)||isNaN(Q)||isNaN(oe))throw Vi.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");I.call(this)||(this.beginPath(),this.rect(q,J,Q,oe),this.stroke())},w.prototype.clearRect=function(q,J,Q,oe){if(isNaN(q)||isNaN(J)||isNaN(Q)||isNaN(oe))throw Vi.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(q,J,Q,oe))},w.prototype.save=function(q){q=typeof q!="boolean"||q;for(var J=this.pdf.internal.getCurrentPageInfo().pageNumber,Q=0;Q<this.pdf.internal.getNumberOfPages();Q++)this.pdf.setPage(Q+1),this.pdf.internal.out("q");if(this.pdf.setPage(J),q){this.ctx.fontSize=this.pdf.internal.getFontSize();var oe=new x(this.ctx);this.ctxStack.push(this.ctx),this.ctx=oe}},w.prototype.restore=function(q){q=typeof q!="boolean"||q;for(var J=this.pdf.internal.getCurrentPageInfo().pageNumber,Q=0;Q<this.pdf.internal.getNumberOfPages();Q++)this.pdf.setPage(Q+1),this.pdf.internal.out("Q");this.pdf.setPage(J),q&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},w.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var A=function(q){var J,Q,oe,de;if(q.isCanvasGradient===!0&&(q=q.getColor()),!q)return{r:0,g:0,b:0,a:0,style:q};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(q))J=0,Q=0,oe=0,de=0;else{var De=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(q);if(De!==null)J=parseInt(De[1]),Q=parseInt(De[2]),oe=parseInt(De[3]),de=1;else if((De=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(q))!==null)J=parseInt(De[1]),Q=parseInt(De[2]),oe=parseInt(De[3]),de=parseFloat(De[4]);else{if(de=1,typeof q=="string"&&q.charAt(0)!=="#"){var Ve=new zI(q);q=Ve.ok?Ve.toHex():"#000000"}q.length===4?(J=q.substring(1,2),J+=J,Q=q.substring(2,3),Q+=Q,oe=q.substring(3,4),oe+=oe):(J=q.substring(1,3),Q=q.substring(3,5),oe=q.substring(5,7)),J=parseInt(J,16),Q=parseInt(Q,16),oe=parseInt(oe,16)}}return{r:J,g:Q,b:oe,a:de,style:q}},E=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},I=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};w.prototype.fillText=function(q,J,Q,oe){if(isNaN(J)||isNaN(Q)||typeof q!="string")throw Vi.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(oe=isNaN(oe)?void 0:oe,!E.call(this)){var de=Re(this.ctx.transform.rotation),De=this.ctx.transform.scaleX;H.call(this,{text:q,x:J,y:Q,scale:De,angle:de,align:this.textAlign,maxWidth:oe})}},w.prototype.strokeText=function(q,J,Q,oe){if(isNaN(J)||isNaN(Q)||typeof q!="string")throw Vi.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!I.call(this)){oe=isNaN(oe)?void 0:oe;var de=Re(this.ctx.transform.rotation),De=this.ctx.transform.scaleX;H.call(this,{text:q,x:J,y:Q,scale:De,renderingMode:"stroke",angle:de,align:this.textAlign,maxWidth:oe})}},w.prototype.measureText=function(q){if(typeof q!="string")throw Vi.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var J=this.pdf,Q=this.pdf.internal.scaleFactor,oe=J.internal.getFontSize(),de=J.getStringUnitWidth(q)*oe/J.internal.scaleFactor;return new function(De){var Ve=(De=De||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Ve}}),this}({width:de*=Math.round(96*Q/72*1e4)/1e4})},w.prototype.scale=function(q,J){if(isNaN(q)||isNaN(J))throw Vi.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Q=new f(q,0,0,J,0,0);this.ctx.transform=this.ctx.transform.multiply(Q)},w.prototype.rotate=function(q){if(isNaN(q))throw Vi.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var J=new f(Math.cos(q),Math.sin(q),-Math.sin(q),Math.cos(q),0,0);this.ctx.transform=this.ctx.transform.multiply(J)},w.prototype.translate=function(q,J){if(isNaN(q)||isNaN(J))throw Vi.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Q=new f(1,0,0,1,q,J);this.ctx.transform=this.ctx.transform.multiply(Q)},w.prototype.transform=function(q,J,Q,oe,de,De){if(isNaN(q)||isNaN(J)||isNaN(Q)||isNaN(oe)||isNaN(de)||isNaN(De))throw Vi.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Ve=new f(q,J,Q,oe,de,De);this.ctx.transform=this.ctx.transform.multiply(Ve)},w.prototype.setTransform=function(q,J,Q,oe,de,De){q=isNaN(q)?1:q,J=isNaN(J)?0:J,Q=isNaN(Q)?0:Q,oe=isNaN(oe)?1:oe,de=isNaN(de)?0:de,De=isNaN(De)?0:De,this.ctx.transform=new f(q,J,Q,oe,de,De)};var C=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};w.prototype.drawImage=function(q,J,Q,oe,de,De,Ve,Fe,Ie){var Qe=this.pdf.getImageProperties(q),St=1,Tt=1,Rt=1,le=1;oe!==void 0&&Fe!==void 0&&(Rt=Fe/oe,le=Ie/de,St=Qe.width/oe*Fe/oe,Tt=Qe.height/de*Ie/de),De===void 0&&(De=J,Ve=Q,J=0,Q=0),oe!==void 0&&Fe===void 0&&(Fe=oe,Ie=de),oe===void 0&&Fe===void 0&&(Fe=Qe.width,Ie=Qe.height);var ot=this.ctx.transform.decompose(),pt=Re(ot.rotate.shx),zt=new f,tt=(zt=(zt=(zt=zt.multiply(ot.translate)).multiply(ot.skew)).multiply(ot.scale)).applyToRectangle(new u(De-J*Rt,Ve-Q*le,oe*St,de*Tt));if(this.autoPaging){for(var tn,Xe=L.call(this,tt),Lt=[],fn=0;fn<Xe.length;fn+=1)Lt.indexOf(Xe[fn])===-1&&Lt.push(Xe[fn]);M(Lt);for(var st=Lt[0],Yt=Lt[Lt.length-1],rn=st;rn<Yt+1;rn++){this.pdf.setPage(rn);var hn=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],xn=rn===1?this.posY+this.margin[0]:this.margin[0],on=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],bn=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],dn=rn===1?0:on+(rn-2)*bn;if(this.ctx.clip_path.length!==0){var nr=this.path;tn=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=W(tn,this.posX+this.margin[3],-dn+xn+this.ctx.prevPageLastElemOffset),ce.call(this,"fill",!0),this.path=nr}var an=JSON.parse(JSON.stringify(tt));an=W([an],this.posX+this.margin[3],-dn+xn+this.ctx.prevPageLastElemOffset)[0];var dt=(rn>st||rn<Yt)&&C.call(this);dt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],hn,bn,null).clip().discardPath()),this.pdf.addImage(q,"JPEG",an.x,an.y,an.w,an.h,null,null,pt),dt&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(q,"JPEG",tt.x,tt.y,tt.w,tt.h,null,null,pt)};var L=function(q,J,Q){var oe=[];J=J||this.pdf.internal.pageSize.width,Q=Q||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var de=this.posY+this.ctx.prevPageLastElemOffset;switch(q.type){default:case"mt":case"lt":oe.push(Math.floor((q.y+de)/Q)+1);break;case"arc":oe.push(Math.floor((q.y+de-q.radius)/Q)+1),oe.push(Math.floor((q.y+de+q.radius)/Q)+1);break;case"qct":var De=He(this.ctx.lastPoint.x,this.ctx.lastPoint.y,q.x1,q.y1,q.x,q.y);oe.push(Math.floor((De.y+de)/Q)+1),oe.push(Math.floor((De.y+De.h+de)/Q)+1);break;case"bct":var Ve=ze(this.ctx.lastPoint.x,this.ctx.lastPoint.y,q.x1,q.y1,q.x2,q.y2,q.x,q.y);oe.push(Math.floor((Ve.y+de)/Q)+1),oe.push(Math.floor((Ve.y+Ve.h+de)/Q)+1);break;case"rect":oe.push(Math.floor((q.y+de)/Q)+1),oe.push(Math.floor((q.y+q.h+de)/Q)+1)}for(var Fe=0;Fe<oe.length;Fe+=1)for(;this.pdf.internal.getNumberOfPages()<oe[Fe];)j.call(this);return oe},j=function(){var q=this.fillStyle,J=this.strokeStyle,Q=this.font,oe=this.lineCap,de=this.lineWidth,De=this.lineJoin;this.pdf.addPage(),this.fillStyle=q,this.strokeStyle=J,this.font=Q,this.lineCap=oe,this.lineWidth=de,this.lineJoin=De},W=function(q,J,Q){for(var oe=0;oe<q.length;oe++)switch(q[oe].type){case"bct":q[oe].x2+=J,q[oe].y2+=Q;case"qct":q[oe].x1+=J,q[oe].y1+=Q;default:q[oe].x+=J,q[oe].y+=Q}return q},M=function(q){return q.sort(function(J,Q){return J-Q})},G=function(q,J){var Q=this.fillStyle,oe=this.strokeStyle,de=this.lineCap,De=this.lineWidth,Ve=Math.abs(De*this.ctx.transform.scaleX),Fe=this.lineJoin;if(this.autoPaging){for(var Ie,Qe,St=JSON.parse(JSON.stringify(this.path)),Tt=JSON.parse(JSON.stringify(this.path)),Rt=[],le=0;le<Tt.length;le++)if(Tt[le].x!==void 0)for(var ot=L.call(this,Tt[le]),pt=0;pt<ot.length;pt+=1)Rt.indexOf(ot[pt])===-1&&Rt.push(ot[pt]);for(var zt=0;zt<Rt.length;zt++)for(;this.pdf.internal.getNumberOfPages()<Rt[zt];)j.call(this);M(Rt);for(var tt=Rt[0],tn=Rt[Rt.length-1],Xe=tt;Xe<tn+1;Xe++){this.pdf.setPage(Xe),this.fillStyle=Q,this.strokeStyle=oe,this.lineCap=de,this.lineWidth=Ve,this.lineJoin=Fe;var Lt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],fn=Xe===1?this.posY+this.margin[0]:this.margin[0],st=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Yt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],rn=Xe===1?0:st+(Xe-2)*Yt;if(this.ctx.clip_path.length!==0){var hn=this.path;Ie=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=W(Ie,this.posX+this.margin[3],-rn+fn+this.ctx.prevPageLastElemOffset),ce.call(this,q,!0),this.path=hn}if(Qe=JSON.parse(JSON.stringify(St)),this.path=W(Qe,this.posX+this.margin[3],-rn+fn+this.ctx.prevPageLastElemOffset),J===!1||Xe===0){var xn=(Xe>tt||Xe<tn)&&C.call(this);xn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Lt,Yt,null).clip().discardPath()),ce.call(this,q,J),xn&&this.pdf.restoreGraphicsState()}this.lineWidth=De}this.path=St}else this.lineWidth=Ve,ce.call(this,q,J),this.lineWidth=De},ce=function(q,J){if((q!=="stroke"||J||!I.call(this))&&(q==="stroke"||J||!E.call(this))){for(var Q,oe,de=[],De=this.path,Ve=0;Ve<De.length;Ve++){var Fe=De[Ve];switch(Fe.type){case"begin":de.push({begin:!0});break;case"close":de.push({close:!0});break;case"mt":de.push({start:Fe,deltas:[],abs:[]});break;case"lt":var Ie=de.length;if(De[Ve-1]&&!isNaN(De[Ve-1].x)&&(Q=[Fe.x-De[Ve-1].x,Fe.y-De[Ve-1].y],Ie>0)){for(;Ie>=0;Ie--)if(de[Ie-1].close!==!0&&de[Ie-1].begin!==!0){de[Ie-1].deltas.push(Q),de[Ie-1].abs.push(Fe);break}}break;case"bct":Q=[Fe.x1-De[Ve-1].x,Fe.y1-De[Ve-1].y,Fe.x2-De[Ve-1].x,Fe.y2-De[Ve-1].y,Fe.x-De[Ve-1].x,Fe.y-De[Ve-1].y],de[de.length-1].deltas.push(Q);break;case"qct":var Qe=De[Ve-1].x+2/3*(Fe.x1-De[Ve-1].x),St=De[Ve-1].y+2/3*(Fe.y1-De[Ve-1].y),Tt=Fe.x+2/3*(Fe.x1-Fe.x),Rt=Fe.y+2/3*(Fe.y1-Fe.y),le=Fe.x,ot=Fe.y;Q=[Qe-De[Ve-1].x,St-De[Ve-1].y,Tt-De[Ve-1].x,Rt-De[Ve-1].y,le-De[Ve-1].x,ot-De[Ve-1].y],de[de.length-1].deltas.push(Q);break;case"arc":de.push({deltas:[],abs:[],arc:!0}),Array.isArray(de[de.length-1].abs)&&de[de.length-1].abs.push(Fe)}}oe=J?null:q==="stroke"?"stroke":"fill";for(var pt=!1,zt=0;zt<de.length;zt++)if(de[zt].arc)for(var tt=de[zt].abs,tn=0;tn<tt.length;tn++){var Xe=tt[tn];Xe.type==="arc"?B.call(this,Xe.x,Xe.y,Xe.radius,Xe.startAngle,Xe.endAngle,Xe.counterclockwise,void 0,J,!pt):X.call(this,Xe.x,Xe.y),pt=!0}else if(de[zt].close===!0)this.pdf.internal.out("h"),pt=!1;else if(de[zt].begin!==!0){var Lt=de[zt].start.x,fn=de[zt].start.y;ne.call(this,de[zt].deltas,Lt,fn),pt=!0}oe&&D.call(this,oe),J&&Z.call(this)}},re=function(q){var J=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Q=J*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return q-Q;case"top":return q+J-Q;case"hanging":return q+J-2*Q;case"middle":return q+J/2-Q;default:return q}},F=function(q){return q+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};w.prototype.createLinearGradient=function(){var q=function(){};return q.colorStops=[],q.addColorStop=function(J,Q){this.colorStops.push([J,Q])},q.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},q.isCanvasGradient=!0,q},w.prototype.createPattern=function(){return this.createLinearGradient()},w.prototype.createRadialGradient=function(){return this.createLinearGradient()};var B=function(q,J,Q,oe,de,De,Ve,Fe,Ie){for(var Qe=Ae.call(this,Q,oe,de,De),St=0;St<Qe.length;St++){var Tt=Qe[St];St===0&&(Ie?U.call(this,Tt.x1+q,Tt.y1+J):X.call(this,Tt.x1+q,Tt.y1+J)),pe.call(this,q,J,Tt.x2,Tt.y2,Tt.x3,Tt.y3,Tt.x4,Tt.y4)}Fe?Z.call(this):D.call(this,Ve)},D=function(q){switch(q){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},Z=function(){this.pdf.clip(),this.pdf.discardPath()},U=function(q,J){this.pdf.internal.out(t(q)+" "+r(J)+" m")},H=function(q){var J;switch(q.align){case"right":case"end":J="right";break;case"center":J="center";break;default:J="left"}var Q,oe,de,De=this.pdf.getTextDimensions(q.text),Ve=re.call(this,q.y),Fe=F.call(this,Ve)-De.h,Ie=this.ctx.transform.applyToPoint(new o(q.x,Ve));if(this.autoPaging){var Qe=this.ctx.transform.decompose(),St=new f;St=(St=(St=St.multiply(Qe.translate)).multiply(Qe.skew)).multiply(Qe.scale);for(var Tt=this.ctx.transform.applyToRectangle(new u(q.x,Ve,De.w,De.h)),Rt=St.applyToRectangle(new u(q.x,Fe,De.w,De.h)),le=L.call(this,Rt),ot=[],pt=0;pt<le.length;pt+=1)ot.indexOf(le[pt])===-1&&ot.push(le[pt]);M(ot);for(var zt=ot[0],tt=ot[ot.length-1],tn=zt;tn<tt+1;tn++){this.pdf.setPage(tn);var Xe=tn===1?this.posY+this.margin[0]:this.margin[0],Lt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],fn=this.pdf.internal.pageSize.height-this.margin[2],st=fn-this.margin[0],Yt=this.pdf.internal.pageSize.width-this.margin[1],rn=Yt-this.margin[3],hn=tn===1?0:Lt+(tn-2)*st;if(this.ctx.clip_path.length!==0){var xn=this.path;Q=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=W(Q,this.posX+this.margin[3],-1*hn+Xe),ce.call(this,"fill",!0),this.path=xn}var on=W([JSON.parse(JSON.stringify(Rt))],this.posX+this.margin[3],-hn+Xe+this.ctx.prevPageLastElemOffset)[0];q.scale>=.01&&(oe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(oe*q.scale),de=this.lineWidth,this.lineWidth=de*q.scale);var bn=this.autoPaging!=="text";if(bn||on.y+on.h<=fn){if(bn||on.y>=Xe&&on.x<=Yt){var dn=bn?q.text:this.pdf.splitTextToSize(q.text,q.maxWidth||Yt-on.x)[0],nr=W([JSON.parse(JSON.stringify(Tt))],this.posX+this.margin[3],-hn+Xe+this.ctx.prevPageLastElemOffset)[0],an=bn&&(tn>zt||tn<tt)&&C.call(this);an&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],rn,st,null).clip().discardPath()),this.pdf.text(dn,nr.x,nr.y,{angle:q.angle,align:J,renderingMode:q.renderingMode}),an&&this.pdf.restoreGraphicsState()}}else on.y<fn&&(this.ctx.prevPageLastElemOffset+=fn-on.y);q.scale>=.01&&(this.pdf.setFontSize(oe),this.lineWidth=de)}}else q.scale>=.01&&(oe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(oe*q.scale),de=this.lineWidth,this.lineWidth=de*q.scale),this.pdf.text(q.text,Ie.x+this.posX,Ie.y+this.posY,{angle:q.angle,align:J,renderingMode:q.renderingMode,maxWidth:q.maxWidth}),q.scale>=.01&&(this.pdf.setFontSize(oe),this.lineWidth=de)},X=function(q,J,Q,oe){Q=Q||0,oe=oe||0,this.pdf.internal.out(t(q+Q)+" "+r(J+oe)+" l")},ne=function(q,J,Q){return this.pdf.lines(q,J,Q,null,null)},pe=function(q,J,Q,oe,de,De,Ve,Fe){this.pdf.internal.out([e(i(Q+q)),e(s(oe+J)),e(i(de+q)),e(s(De+J)),e(i(Ve+q)),e(s(Fe+J)),"c"].join(" "))},Ae=function(q,J,Q,oe){for(var de=2*Math.PI,De=Math.PI/2;J>Q;)J-=de;var Ve=Math.abs(Q-J);Ve<de&&oe&&(Ve=de-Ve);for(var Fe=[],Ie=oe?-1:1,Qe=J;Ve>1e-5;){var St=Qe+Ie*Math.min(Ve,De);Fe.push(xe.call(this,q,Qe,St)),Ve-=Math.abs(St-Qe),Qe=St}return Fe},xe=function(q,J,Q){var oe=(Q-J)/2,de=q*Math.cos(oe),De=q*Math.sin(oe),Ve=de,Fe=-De,Ie=Ve*Ve+Fe*Fe,Qe=Ie+Ve*de+Fe*De,St=4/3*(Math.sqrt(2*Ie*Qe)-Qe)/(Ve*De-Fe*de),Tt=Ve-St*Fe,Rt=Fe+St*Ve,le=Tt,ot=-Rt,pt=oe+J,zt=Math.cos(pt),tt=Math.sin(pt);return{x1:q*Math.cos(J),y1:q*Math.sin(J),x2:Tt*zt-Rt*tt,y2:Tt*tt+Rt*zt,x3:le*zt-ot*tt,y3:le*tt+ot*zt,x4:q*Math.cos(Q),y4:q*Math.sin(Q)}},Re=function(q){return 180*q/Math.PI},He=function(q,J,Q,oe,de,De){var Ve=q+.5*(Q-q),Fe=J+.5*(oe-J),Ie=de+.5*(Q-de),Qe=De+.5*(oe-De),St=Math.min(q,de,Ve,Ie),Tt=Math.max(q,de,Ve,Ie),Rt=Math.min(J,De,Fe,Qe),le=Math.max(J,De,Fe,Qe);return new u(St,Rt,Tt-St,le-Rt)},ze=function(q,J,Q,oe,de,De,Ve,Fe){var Ie,Qe,St,Tt,Rt,le,ot,pt,zt,tt,tn,Xe,Lt,fn,st=Q-q,Yt=oe-J,rn=de-Q,hn=De-oe,xn=Ve-de,on=Fe-De;for(Qe=0;Qe<41;Qe++)zt=(ot=(St=q+(Ie=Qe/40)*st)+Ie*((Rt=Q+Ie*rn)-St))+Ie*(Rt+Ie*(de+Ie*xn-Rt)-ot),tt=(pt=(Tt=J+Ie*Yt)+Ie*((le=oe+Ie*hn)-Tt))+Ie*(le+Ie*(De+Ie*on-le)-pt),Qe==0?(tn=zt,Xe=tt,Lt=zt,fn=tt):(tn=Math.min(tn,zt),Xe=Math.min(Xe,tt),Lt=Math.max(Lt,zt),fn=Math.max(fn,tt));return new u(Math.round(tn),Math.round(Xe),Math.round(Lt-tn),Math.round(fn-Xe))},ve=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var q,J,Q=(q=this.ctx.lineDash,J=this.ctx.lineDashOffset,JSON.stringify({lineDash:q,lineDashOffset:J}));this.prevLineDash!==Q&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Q)}}})(Xn.API),(function(n){var e=function(o){var u,f,d,x,w,A,E,I,C,L;for(f=[],d=0,x=(o+=u="\0\0\0\0".slice(o.length%4||4)).length;x>d;d+=4)(w=(o.charCodeAt(d)<<24)+(o.charCodeAt(d+1)<<16)+(o.charCodeAt(d+2)<<8)+o.charCodeAt(d+3))!==0?(A=(w=((w=((w=((w=(w-(L=w%85))/85)-(C=w%85))/85)-(I=w%85))/85)-(E=w%85))/85)%85,f.push(A+33,E+33,I+33,C+33,L+33)):f.push(122);return(function(j,W){for(var M=W;M>0;M--)j.pop()})(f,u.length),String.fromCharCode.apply(String,f)+"~>"},t=function(o){var u,f,d,x,w,A=String,E="length",I=255,C="charCodeAt",L="slice",j="replace";for(o[L](-2),o=o[L](0,-2)[j](/\s/g,"")[j]("z","!!!!!"),d=[],x=0,w=(o+=u="uuuuu"[L](o[E]%5||5))[E];w>x;x+=5)f=52200625*(o[C](x)-33)+614125*(o[C](x+1)-33)+7225*(o[C](x+2)-33)+85*(o[C](x+3)-33)+(o[C](x+4)-33),d.push(I&f>>24,I&f>>16,I&f>>8,I&f);return(function(W,M){for(var G=M;G>0;G--)W.pop()})(d,u[E]),A.fromCharCode.apply(A,d)},r=function(o){return o.split("").map(function(u){return("0"+u.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(o){var u=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),u.test(o)===!1)return"";for(var f="",d=0;d<o.length;d+=2)f+=String.fromCharCode("0x"+(o[d]+o[d+1]));return f},s=function(o){for(var u=new Uint8Array(o.length),f=o.length;f--;)u[f]=o.charCodeAt(f);return(u=zy(u)).reduce(function(d,x){return d+String.fromCharCode(x)},"")};n.processDataByFilters=function(o,u){var f=0,d=o||"",x=[];for(typeof(u=u||[])=="string"&&(u=[u]),f=0;f<u.length;f+=1)switch(u[f]){case"ASCII85Decode":case"/ASCII85Decode":d=t(d),x.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":d=e(d),x.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":d=i(d),x.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":d=r(d),x.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":d=s(d),x.push("/FlateDecode");break;default:throw new Error('The filter: "'+u[f]+'" is not implemented')}return{data:d,reverseChain:x.reverse().join(" ")}}})(Xn.API),(function(n){n.loadFile=function(e,t,r){return(function(i,s,o){s=s!==!1,o=typeof o=="function"?o:function(){};var u=void 0;try{u=(function(f,d,x){var w=new XMLHttpRequest,A=0,E=function(I){var C=I.length,L=[],j=String.fromCharCode;for(A=0;A<C;A+=1)L.push(j(255&I.charCodeAt(A)));return L.join("")};if(w.open("GET",f,!d),w.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(w.onload=function(){w.status===200?x(E(this.responseText)):x(void 0)}),w.send(null),d&&w.status===200)return E(w.responseText)})(i,s,o)}catch{}return u})(e,t,r)},n.loadImageFile=n.loadFile})(Xn.API),(function(n){function e(){return(mr.html2canvas?Promise.resolve(mr.html2canvas):o0(()=>import("./html2canvas.esm-Ge7aVWlp.js"),[])).catch(function(u){return Promise.reject(new Error("Could not load html2canvas: "+u))}).then(function(u){return u.default?u.default:u})}function t(){return(mr.DOMPurify?Promise.resolve(mr.DOMPurify):o0(()=>import("./purify.es-Bzr520pe.js"),[])).catch(function(u){return Promise.reject(new Error("Could not load dompurify: "+u))}).then(function(u){return u.default?u.default:u})}var r=function(u){var f=Ei(u);return f==="undefined"?"undefined":f==="string"||u instanceof String?"string":f==="number"||u instanceof Number?"number":f==="function"||u instanceof Function?"function":u&&u.constructor===Array?"array":u&&u.nodeType===1?"element":f==="object"?"object":"unknown"},i=function(u,f){var d=document.createElement(u);for(var x in f.className&&(d.className=f.className),f.innerHTML&&f.dompurify&&(d.innerHTML=f.dompurify.sanitize(f.innerHTML)),f.style)d.style[x]=f.style[x];return d},s=function u(f,d){for(var x=f.nodeType===3?document.createTextNode(f.nodeValue):f.cloneNode(!1),w=f.firstChild;w;w=w.nextSibling)d!==!0&&w.nodeType===1&&w.nodeName==="SCRIPT"||x.appendChild(u(w,d));return f.nodeType===1&&(f.nodeName==="CANVAS"?(x.width=f.width,x.height=f.height,x.getContext("2d").drawImage(f,0,0)):f.nodeName!=="TEXTAREA"&&f.nodeName!=="SELECT"||(x.value=f.value),x.addEventListener("load",function(){x.scrollTop=f.scrollTop,x.scrollLeft=f.scrollLeft},!0)),x},o=function u(f){var d=Object.assign(u.convert(Promise.resolve()),JSON.parse(JSON.stringify(u.template))),x=u.convert(Promise.resolve(),d);return(x=x.setProgress(1,u,1,[u])).set(f)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(u,f){return u.__proto__=f||o.prototype,u},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(u,f){return this.then(function(){switch(f=f||(function(d){switch(r(d)){case"string":return"string";case"element":return d.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(u),f){case"string":return this.then(t).then(function(d){return this.set({src:i("div",{innerHTML:u,dompurify:d})})});case"element":return this.set({src:u});case"canvas":return this.set({canvas:u});case"img":return this.set({img:u});default:return this.error("Unknown source type.")}})},o.prototype.to=function(u){switch(u){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var u={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},f=s(this.prop.src,this.opt.html2canvas.javascriptEnabled);f.tagName==="BODY"&&(u.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:u}),this.prop.container.appendChild(f),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var u=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(u).then(e).then(function(f){var d=Object.assign({},this.opt.html2canvas);return delete d.onrendered,f(this.prop.container,d)}).then(function(f){(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var u=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(u).then(e).then(function(f){var d=this.opt.jsPDF,x=this.opt.fontFaces,w=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,A=Object.assign({async:!0,allowTaint:!0,scale:w,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete A.onrendered,d.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,d.context2d.posX=this.opt.x,d.context2d.posY=this.opt.y,d.context2d.margin=this.opt.margin,d.context2d.fontFaces=x,x)for(var E=0;E<x.length;++E){var I=x[E],C=I.src.find(function(L){return L.format==="truetype"});C&&d.addFont(C.url,I.ref.name,I.ref.style)}return A.windowHeight=A.windowHeight||0,A.windowHeight=A.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):A.windowHeight,d.context2d.save(!0),f(this.prop.container,A)}).then(function(f){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var u=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=u})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(u,f,d){return(d=d||"pdf").toLowerCase()==="img"||d.toLowerCase()==="image"?this.outputImg(u,f):this.outputPdf(u,f)},o.prototype.outputPdf=function(u,f){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(u,f)})},o.prototype.outputImg=function(u){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(u){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+u+'" is not supported.'}})},o.prototype.save=function(u){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(u?{filename:u}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(u){if(r(u)!=="object")return this;var f=Object.keys(u||{}).map(function(d){if(d in o.template.prop)return function(){this.prop[d]=u[d]};switch(d){case"margin":return this.setMargin.bind(this,u.margin);case"jsPDF":return function(){return this.opt.jsPDF=u.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,u.pageSize);default:return function(){this.opt[d]=u[d]}}},this);return this.then(function(){return this.thenList(f)})},o.prototype.get=function(u,f){return this.then(function(){var d=u in o.template.prop?this.prop[u]:this.opt[u];return f?f(d):d})},o.prototype.setMargin=function(u){return this.then(function(){switch(r(u)){case"number":u=[u,u,u,u];case"array":if(u.length===2&&(u=[u[0],u[1],u[0],u[1]]),u.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=u}).then(this.setPageSize)},o.prototype.setPageSize=function(u){function f(d,x){return Math.floor(d*x/72*96)}return this.then(function(){(u=u||Xn.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(u.inner={width:u.width-this.opt.margin[1]-this.opt.margin[3],height:u.height-this.opt.margin[0]-this.opt.margin[2]},u.inner.px={width:f(u.inner.width,u.k),height:f(u.inner.height,u.k)},u.inner.ratio=u.inner.height/u.inner.width),this.prop.pageSize=u})},o.prototype.setProgress=function(u,f,d,x){return u!=null&&(this.progress.val=u),f!=null&&(this.progress.state=f),d!=null&&(this.progress.n=d),x!=null&&(this.progress.stack=x),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(u,f,d,x){return this.setProgress(u?this.progress.val+u:null,f||null,d?this.progress.n+d:null,x?this.progress.stack.concat(x):null)},o.prototype.then=function(u,f){var d=this;return this.thenCore(u,f,function(x,w){return d.updateProgress(null,null,1,[x]),Promise.prototype.then.call(this,function(A){return d.updateProgress(null,x),A}).then(x,w).then(function(A){return d.updateProgress(1),A})})},o.prototype.thenCore=function(u,f,d){d=d||Promise.prototype.then;var x=this;u&&(u=u.bind(x)),f&&(f=f.bind(x));var w=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?x:o.convert(Object.assign({},x),Promise.prototype),A=d.call(w,u,f);return o.convert(A,x.__proto__)},o.prototype.thenExternal=function(u,f){return Promise.prototype.then.call(this,u,f)},o.prototype.thenList=function(u){var f=this;return u.forEach(function(d){f=f.thenCore(d)}),f},o.prototype.catch=function(u){u&&(u=u.bind(this));var f=Promise.prototype.catch.call(this,u);return o.convert(f,this)},o.prototype.catchExternal=function(u){return Promise.prototype.catch.call(this,u)},o.prototype.error=function(u){return this.then(function(){throw new Error(u)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,Xn.getPageSize=function(u,f,d){if(Ei(u)==="object"){var x=u;u=x.orientation,f=x.unit||f,d=x.format||d}f=f||"mm",d=d||"a4",u=(""+(u||"P")).toLowerCase();var w,A=(""+d).toLowerCase(),E={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(f){case"pt":w=1;break;case"mm":w=72/25.4;break;case"cm":w=72/2.54;break;case"in":w=72;break;case"px":w=.75;break;case"pc":case"em":w=12;break;case"ex":w=6;break;default:throw"Invalid unit: "+f}var I,C=0,L=0;if(E.hasOwnProperty(A))C=E[A][1]/w,L=E[A][0]/w;else try{C=d[1],L=d[0]}catch{throw new Error("Invalid format: "+d)}if(u==="p"||u==="portrait")u="p",L>C&&(I=L,L=C,C=I);else{if(u!=="l"&&u!=="landscape")throw"Invalid orientation: "+u;u="l",C>L&&(I=L,L=C,C=I)}return{width:L,height:C,unit:f,k:w,orientation:u}},n.html=function(u,f){(f=f||{}).callback=f.callback||function(){},f.html2canvas=f.html2canvas||{},f.html2canvas.canvas=f.html2canvas.canvas||this.canvas,f.jsPDF=f.jsPDF||this,f.fontFaces=f.fontFaces?f.fontFaces.map(H_):null;var d=new o(f);return f.worker?d:d.from(u).doCallback()}})(Xn.API),Xn.API.addJS=function(n){return mT=n,this.internal.events.subscribe("postPutResources",function(){Qg=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Qg+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),dT=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+mT+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Qg!==void 0&&dT!==void 0&&this.internal.out("/Names <</JavaScript "+Qg+" 0 R>>")}),this},(function(n){var e;n.events.push(["postPutResources",function(){var t=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=t.outline.render().split(/\r\n/),s=0;s<i.length;s++){var o=i[s],u=r.exec(o);if(u!=null){var f=u[1];t.internal.newObjectDeferredBegin(f,!1)}t.internal.write(o)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,x=[];for(s=0;s<d;s++){var w=t.internal.newObject();x.push(w);var A=t.internal.getPageInfo(s+1);t.internal.write("<< /D["+A.objId+" 0 R /XYZ null null null]>> endobj")}var E=t.internal.newObject();for(t.internal.write("<< /Names [ "),s=0;s<x.length;s++)t.internal.write("(page_"+(s+1)+")"+x[s]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+E+" 0 R"),t.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){var t=this;t.outline.root.children.length>0&&(t.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&t.internal.write("/Names "+e+" 0 R"))}]),n.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(r,i,s){var o={title:i,options:s,children:[]};return r==null&&(r=this.root),r.children.push(o),o},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(r){r.id=t.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},t.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},t.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var o=r.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var u=this.count=this.count_r({count:0},o);if(u>0&&this.line("/Count "+u),o.options&&o.options.pageNumber){var f=t.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+f.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var d=0;d<r.children.length;d++)this.renderItems(r.children[d])},t.outline.line=function(r){this.ctx.val+=r+`\r
`},t.outline.makeRef=function(r){return r.id+" 0 R"},t.outline.makeString=function(r){return"("+t.internal.pdfEscape(r)+")"},t.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])})(Xn.API),(function(n){var e=[192,193,194,195,196,197,198,199];n.processJPEG=function(t,r,i,s,o,u){var f,d=this.decode.DCT_DECODE,x=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=o||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,f=(function(w){for(var A,E=256*w.charCodeAt(4)+w.charCodeAt(5),I=w.length,C={width:0,height:0,numcomponents:1},L=4;L<I;L+=2){if(L+=E,e.indexOf(w.charCodeAt(L+1))!==-1){A=256*w.charCodeAt(L+5)+w.charCodeAt(L+6),C={width:256*w.charCodeAt(L+7)+w.charCodeAt(L+8),height:A,numcomponents:w.charCodeAt(L+9)};break}E=256*w.charCodeAt(L+2)+w.charCodeAt(L+3)}return C})(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t),f.numcomponents){case 1:u=this.color_spaces.DEVICE_GRAY;break;case 4:u=this.color_spaces.DEVICE_CMYK;break;case 3:u=this.color_spaces.DEVICE_RGB}x={data:t,width:f.width,height:f.height,colorSpace:u,bitsPerComponent:8,filter:d,index:r,alias:i}}return x}})(Xn.API),Xn.API.processPNG=function(n,e,t,r){if(this.__addimage__.isArrayBuffer(n)&&(n=new Uint8Array(n)),this.__addimage__.isArrayBufferView(n)){var i,s=pW(n,{checkCrc:!0}),o=s.width,u=s.height,f=s.channels,d=s.palette,x=s.depth;i=d&&f===1?(function(B){for(var D=B.width,Z=B.height,U=B.data,H=B.palette,X=B.depth,ne=!1,pe=[],Ae=[],xe=void 0,Re=!1,He=0,ze=0;ze<H.length;ze++){var ve=vS(H[ze],4),q=ve[0],J=ve[1],Q=ve[2],oe=ve[3];pe.push(q,J,Q),oe!=null&&(oe===0?(He++,Ae.length<1&&Ae.push(ze)):oe<255&&(Re=!0))}if(Re||He>1){ne=!0,Ae=void 0;var de=D*Z;xe=new Uint8Array(de);for(var De=new DataView(U.buffer),Ve=0;Ve<de;Ve++){var Fe=G_(De,Ve,X),Ie=vS(H[Fe],4)[3];xe[Ve]=Ie}}else He===0&&(Ae=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:ne?8:void 0,colorBytes:U,alphaBytes:xe,needSMask:ne,palette:pe,mask:Ae}})(s):f===2||f===4?(function(B){for(var D=B.data,Z=B.width,U=B.height,H=B.channels,X=B.depth,ne=H===2?"DeviceGray":"DeviceRGB",pe=H-1,Ae=Z*U,xe=pe,Re=Ae*xe,He=1*Ae,ze=Math.ceil(Re*X/8),ve=Math.ceil(He*X/8),q=new Uint8Array(ze),J=new Uint8Array(ve),Q=new DataView(D.buffer),oe=new DataView(q.buffer),de=new DataView(J.buffer),De=!1,Ve=0;Ve<Ae;Ve++){for(var Fe=Ve*H,Ie=0;Ie<xe;Ie++)ET(oe,G_(Q,Fe+Ie,X),Ve*xe+Ie,X);var Qe=G_(Q,Fe+xe,X);Qe<(1<<X)-1&&(De=!0),ET(de,Qe,1*Ve,X)}return{colorSpace:ne,colorsPerPixel:pe,sMaskBitsPerComponent:De?X:void 0,colorBytes:q,alphaBytes:J,needSMask:De}})(s):(function(B){var D=B.data,Z=B.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:Z,colorsPerPixel:Z==="DeviceGray"?1:3,colorBytes:D instanceof Uint16Array?(function(U){for(var H=U.length,X=new Uint8Array(2*H),ne=new DataView(X.buffer,X.byteOffset,X.byteLength),pe=0;pe<H;pe++)ne.setUint16(2*pe,U[pe],!1);return X})(D):D,needSMask:!1}})(s);var w,A,E,I=i,C=I.colorSpace,L=I.colorsPerPixel,j=I.sMaskBitsPerComponent,W=I.colorBytes,M=I.alphaBytes,G=I.needSMask,ce=I.palette,re=I.mask,F=null;return r!==Xn.API.image_compression.NONE&&typeof zy=="function"?(F=(function(B){var D;switch(B){case Xn.API.image_compression.FAST:D=11;break;case Xn.API.image_compression.MEDIUM:D=13;break;case Xn.API.image_compression.SLOW:D=14;break;default:D=12}return D})(r),w=this.decode.FLATE_DECODE,A="/Predictor ".concat(F," /Colors ").concat(L," /BitsPerComponent ").concat(x," /Columns ").concat(o),n=vT(W,Math.ceil(o*L*x/8),L,x,r),G&&(E=vT(M,Math.ceil(o*j/8),1,j,r))):(w=void 0,A=void 0,n=W,G&&(E=M)),(this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n))&&(n=this.__addimage__.arrayBufferToBinaryString(n)),(E&&this.__addimage__.isArrayBuffer(E)||this.__addimage__.isArrayBufferView(E))&&(E=this.__addimage__.arrayBufferToBinaryString(E)),{alias:t,data:n,index:e,filter:w,decodeParameters:A,transparency:re,palette:ce,sMask:E,predictor:F,width:o,height:u,bitsPerComponent:x,sMaskBitsPerComponent:j,colorSpace:C}}},(function(n){n.processGIF89A=function(e,t,r,i){var s=new jW(e),o=s.width,u=s.height,f=[];s.decodeAndBlitFrameRGBA(0,f);var d={data:f,width:o,height:u},x=new W_(100).encode(d,100);return n.processJPEG.call(this,x,t,r,i)},n.processGIF87A=n.processGIF89A})(Xn.API),hc.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var e=0;e<n;e++){var t=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:t,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},hc.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[n]()}catch(t){Vi.log("bit decode error:"+t)}},hc.prototype.bit1=function(){var n,e=Math.ceil(this.width/8),t=e%4;for(n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*i*4,u=0;u<8&&8*i+u<this.width;u++){var f=this.palette[s>>7-u&1];this.data[o+4*u]=f.blue,this.data[o+4*u+1]=f.green,this.data[o+4*u+2]=f.red,this.data[o+4*u+3]=255}t!==0&&(this.pos+=4-t)}},hc.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),e=n%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<n;i++){var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*i*4,u=s>>4,f=15&s,d=this.palette[u];if(this.data[o]=d.blue,this.data[o+1]=d.green,this.data[o+2]=d.red,this.data[o+3]=255,2*i+1>=this.width)break;d=this.palette[f],this.data[o+4]=d.blue,this.data[o+4+1]=d.green,this.data[o+4+2]=d.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},hc.prototype.bit8=function(){for(var n=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*r;if(i<this.palette.length){var o=this.palette[i];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}n!==0&&(this.pos+=4-n)}},hc.prototype.bit15=function(){for(var n=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&e)/e*255|0,u=(s>>5&e)/e*255|0,f=(s>>10&e)/e*255|0,d=s>>15?255:0,x=r*this.width*4+4*i;this.data[x]=f,this.data[x+1]=u,this.data[x+2]=o,this.data[x+3]=d}this.pos+=n}},hc.prototype.bit16=function(){for(var n=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var u=(o&e)/e*255|0,f=(o>>5&t)/t*255|0,d=(o>>11)/e*255|0,x=i*this.width*4+4*s;this.data[x]=d,this.data[x+1]=f,this.data[x+2]=u,this.data[x+3]=255}this.pos+=n}},hc.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*t;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},hc.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),u=e*this.width*4+4*t;this.data[u]=s,this.data[u+1]=i,this.data[u+2]=r,this.data[u+3]=o}},hc.prototype.getData=function(){return this.data},(function(n){n.processBMP=function(e,t,r,i){var s=new hc(e,!1),o=s.width,u=s.height,f={data:s.getData(),width:o,height:u},d=new W_(100).encode(f,100);return n.processJPEG.call(this,d,t,r,i)}})(Xn.API),ST.prototype.getData=function(){return this.data},(function(n){n.processWEBP=function(e,t,r,i){var s=new ST(e),o=s.width,u=s.height,f={data:s.getData(),width:o,height:u},d=new W_(100).encode(f,100);return n.processJPEG.call(this,d,t,r,i)}})(Xn.API),Xn.API.processRGBA=function(n,e,t){for(var r=n.data,i=r.length,s=new Uint8Array(i/4*3),o=new Uint8Array(i/4),u=0,f=0,d=0;d<i;d+=4){var x=r[d],w=r[d+1],A=r[d+2],E=r[d+3];s[u++]=x,s[u++]=w,s[u++]=A,o[f++]=E}var I=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:I,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},Xn.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Ud=Xn.API,Jg=Ud.getCharWidthsArray=function(n,e){var t,r,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),u=e.widths?e.widths:i.metadata.Unicode.widths,f=u.fof?u.fof:1,d=e.kerning?e.kerning:i.metadata.Unicode.kerning,x=d.fof?d.fof:1,w=e.doKerning!==!1,A=0,E=n.length,I=0,C=u[0]||f,L=[];for(t=0;t<E;t++)r=n.charCodeAt(t),typeof i.metadata.widthOfString=="function"?L.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+o*(1e3/s)||0)/1e3):(A=w&&Ei(d[r])==="object"&&!isNaN(parseInt(d[r][I],10))?d[r][I]/x:0,L.push((u[r]||C)/f+A)),I=r;return L},gT=Ud.getStringUnitWidth=function(n,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return Ud.processArabic&&(n=Ud.processArabic(n)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(n,t,i)/t:Jg.apply(this,arguments).reduce(function(s,o){return s+o},0)},pT=function(n,e,t,r){for(var i=[],s=0,o=n.length,u=0;s!==o&&u+e[s]<t;)u+=e[s],s++;i.push(n.slice(0,s));var f=s;for(u=0;s!==o;)u+e[s]>r&&(i.push(n.slice(f,s)),u=0,f=s),u+=e[s],s++;return f!==s&&i.push(n.slice(f,s)),i},xT=function(n,e,t){t||(t={});var r,i,s,o,u,f,d,x=[],w=[x],A=t.textIndent||0,E=0,I=0,C=n.split(" "),L=Jg.apply(this,[" ",t])[0];if(f=t.lineIndent===-1?C[0].length+2:t.lineIndent||0){var j=Array(f).join(" "),W=[];C.map(function(G){(G=G.split(/\s*\n/)).length>1?W=W.concat(G.map(function(ce,re){return(re&&ce.length?`
`:"")+ce})):W.push(G[0])}),C=W,f=gT.apply(this,[j,t])}for(s=0,o=C.length;s<o;s++){var M=0;if(r=C[s],f&&r[0]==`
`&&(r=r.substr(1),M=1),A+E+(I=(i=Jg.apply(this,[r,t])).reduce(function(G,ce){return G+ce},0))>e||M){if(I>e){for(u=pT.apply(this,[r,i,e-(A+E),e]),x.push(u.shift()),x=[u.pop()];u.length;)w.push([u.shift()]);I=i.slice(r.length-(x[0]?x[0].length:0)).reduce(function(G,ce){return G+ce},0)}else x=[r];w.push(x),A=I+f,E=L}else x.push(r),A+=E+I,E=L}return d=f?function(G,ce){return(ce?j:"")+G.join(" ")}:function(G){return G.join(" ")},w.map(d)},Ud.splitTextToSize=function(n,e,t){var r,i=(t=t||{}).fontSize||this.internal.getFontSize(),s=(function(x){if(x.widths&&x.kerning)return{widths:x.widths,kerning:x.kerning};var w=this.internal.getFont(x.fontName,x.fontStyle),A="Unicode";return w.metadata[A]?{widths:w.metadata[A].widths||{0:1},kerning:w.metadata[A].kerning||{}}:{font:w.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);r=Array.isArray(n)?n:String(n).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/i;s.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=t.lineIndent;var u,f,d=[];for(u=0,f=r.length;u<f;u++)d=d.concat(xT.apply(this,[r[u],o,s]));return d},(function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var e="0123456789abcdef",t="klmnopqrstuvwxyz",r={},i={},s=0;s<16;s++)r[t[s]]=e[s],i[e[s]]=t[s];var o=function(A){return"0x"+parseInt(A,10).toString(16)},u=n.__fontmetrics__.compress=function(A){var E,I,C,L,j=["{"];for(var W in A){if(E=A[W],isNaN(parseInt(W,10))?I="'"+W+"'":(W=parseInt(W,10),I=(I=o(W).slice(2)).slice(0,-1)+i[I.slice(-1)]),typeof E=="number")E<0?(C=o(E).slice(3),L="-"):(C=o(E).slice(2),L=""),C=L+C.slice(0,-1)+i[C.slice(-1)];else{if(Ei(E)!=="object")throw new Error("Don't know what to do with value type "+Ei(E)+".");C=u(E)}j.push(I+C)}return j.push("}"),j.join("")},f=n.__fontmetrics__.uncompress=function(A){if(typeof A!="string")throw new Error("Invalid argument passed to uncompress.");for(var E,I,C,L,j={},W=1,M=j,G=[],ce="",re="",F=A.length-1,B=1;B<F;B+=1)(L=A[B])=="'"?E?(C=E.join(""),E=void 0):E=[]:E?E.push(L):L=="{"?(G.push([M,C]),M={},C=void 0):L=="}"?((I=G.pop())[0][I[1]]=M,C=void 0,M=I[0]):L=="-"?W=-1:C===void 0?r.hasOwnProperty(L)?(ce+=r[L],C=parseInt(ce,16)*W,W=1,ce=""):ce+=L:r.hasOwnProperty(L)?(re+=r[L],M[C]=parseInt(re,16)*W,W=1,C=void 0,re=""):re+=L;return j},d={codePages:["WinAnsiEncoding"],WinAnsiEncoding:f("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},x={Unicode:{Courier:d,"Courier-Bold":d,"Courier-BoldOblique":d,"Courier-Oblique":d,Helvetica:d,"Helvetica-Bold":d,"Helvetica-BoldOblique":d,"Helvetica-Oblique":d,"Times-Roman":d,"Times-Bold":d,"Times-BoldItalic":d,"Times-Italic":d}},w={Unicode:{"Courier-Oblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":f("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":f("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:f("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:f("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":f("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":f("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(A){var E=A.font,I=w.Unicode[E.postScriptName];I&&(E.metadata.Unicode={},E.metadata.Unicode.widths=I.widths,E.metadata.Unicode.kerning=I.kerning);var C=x.Unicode[E.postScriptName];C&&(E.metadata.Unicode.encoding=C,E.encoding=C.codePages[0])}])})(Xn.API),(function(n){var e=function(t){for(var r=t.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=t.charCodeAt(s);return i};n.API.events.push(["addFont",function(t){var r=void 0,i=t.font,s=t.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,u){u=/^\x00\x01\x00\x00/.test(u)?e(u):e(Cp(u)),o.metadata=n.API.TTFFont.open(u),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,r)}}])})(Xn),Xn.API.addSvgAsImage=function(n,e,t,r,i,s,o,u){if(isNaN(e)||isNaN(t))throw Vi.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(i))throw Vi.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var f=document.createElement("canvas");f.width=r,f.height=i;var d=f.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,f.width,f.height);var x={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},w=this;return(mr.canvg?Promise.resolve(mr.canvg):o0(()=>import("./index.es-BHNtAalG.js"),[])).catch(function(A){return Promise.reject(new Error("Could not load canvg: "+A))}).then(function(A){return A.default?A.default:A}).then(function(A){return A.fromString(d,n,x)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(A){return A.render(x)}).then(function(){w.addImage(f.toDataURL("image/jpeg",1),e,t,r,i,o,u)})},Xn.API.putTotalPages=function(n){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(n,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,t);return this},Xn.API.viewerPreferences=function(n,e){var t;n=n||{},e=e||!1;var r,i,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},u=Object.keys(o),f=[],d=0,x=0,w=0;function A(I,C){var L,j=!1;for(L=0;L<I.length;L+=1)I[L]===C&&(j=!0);return j}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,n==="reset"||e===!0){var E=u.length;for(w=0;w<E;w+=1)t[u[w]].value=t[u[w]].defaultValue,t[u[w]].explicitSet=!1}if(Ei(n)==="object"){for(i in n)if(s=n[i],A(u,i)&&s!==void 0){if(t[i].type==="boolean"&&typeof s=="boolean")t[i].value=s;else if(t[i].type==="name"&&A(t[i].valueSet,s))t[i].value=s;else if(t[i].type==="integer"&&Number.isInteger(s))t[i].value=s;else if(t[i].type==="array"){for(d=0;d<s.length;d+=1)if(r=!0,s[d].length===1&&typeof s[d][0]=="number")f.push(String(s[d]-1));else if(s[d].length>1){for(x=0;x<s[d].length;x+=1)typeof s[d][x]!="number"&&(r=!1);r===!0&&f.push([s[d][0]-1,s[d][1]-1].join(" "))}t[i].value="["+f.join(" ")+"]"}else t[i].value=t[i].defaultValue;t[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var I,C=[];for(I in t)t[I].explicitSet===!0&&(t[I].type==="name"?C.push("/"+I+" /"+t[I].value):C.push("/"+I+" "+t[I].value));C.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+C.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},(function(n){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),u=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),f=unescape(encodeURIComponent("</x:xmpmeta>")),d=s.length+o.length+u.length+i.length+f.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(i+s+o+u+f),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}})(Xn.API),(function(n){var e=n.API,t=e.pdfEscape16=function(s,o){for(var u,f=o.metadata.Unicode.widths,d=["","0","00","000","0000"],x=[""],w=0,A=s.length;w<A;++w){if(u=o.metadata.characterToGlyph(s.charCodeAt(w)),o.metadata.glyIdsUsed.push(u),o.metadata.toUnicode[u]=s.charCodeAt(w),f.indexOf(u)==-1&&(f.push(u),f.push([parseInt(o.metadata.widthOfGlyph(u),10)])),u=="0")return x.join("");u=u.toString(16),x.push(d[4-u.length],u)}return x.join("")},r=function(s){var o,u,f,d,x,w,A;for(x=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,f=[],w=0,A=(u=Object.keys(s).sort(function(E,I){return E-I})).length;w<A;w++)o=u[w],f.length>=100&&(x+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar`,f=[]),s[o]!==void 0&&s[o]!==null&&typeof s[o].toString=="function"&&(d=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),f.push("<"+o+"><"+d+">"));return f.length&&(x+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar
`),x+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(o){var u=o.font,f=o.out,d=o.newObject,x=o.putStream;if(u.metadata instanceof n.API.TTFFont&&u.encoding==="Identity-H"){for(var w=u.metadata.Unicode.widths,A=u.metadata.subset.encode(u.metadata.glyIdsUsed,1),E="",I=0;I<A.length;I++)E+=String.fromCharCode(A[I]);var C=d();x({data:E,addLength1:!0,objectId:C}),f("endobj");var L=d();x({data:r(u.metadata.toUnicode),addLength1:!0,objectId:L}),f("endobj");var j=d();f("<<"),f("/Type /FontDescriptor"),f("/FontName /"+Zd(u.fontName)),f("/FontFile2 "+C+" 0 R"),f("/FontBBox "+n.API.PDFObject.convert(u.metadata.bbox)),f("/Flags "+u.metadata.flags),f("/StemV "+u.metadata.stemV),f("/ItalicAngle "+u.metadata.italicAngle),f("/Ascent "+u.metadata.ascender),f("/Descent "+u.metadata.decender),f("/CapHeight "+u.metadata.capHeight),f(">>"),f("endobj");var W=d();f("<<"),f("/Type /Font"),f("/BaseFont /"+Zd(u.fontName)),f("/FontDescriptor "+j+" 0 R"),f("/W "+n.API.PDFObject.convert(w)),f("/CIDToGIDMap /Identity"),f("/DW 1000"),f("/Subtype /CIDFontType2"),f("/CIDSystemInfo"),f("<<"),f("/Supplement 0"),f("/Registry (Adobe)"),f("/Ordering ("+u.encoding+")"),f(">>"),f(">>"),f("endobj"),u.objectNumber=d(),f("<<"),f("/Type /Font"),f("/Subtype /Type0"),f("/ToUnicode "+L+" 0 R"),f("/BaseFont /"+Zd(u.fontName)),f("/Encoding /"+u.encoding),f("/DescendantFonts ["+W+" 0 R]"),f(">>"),f("endobj"),u.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(o){var u=o.font,f=o.out,d=o.newObject,x=o.putStream;if(u.metadata instanceof n.API.TTFFont&&u.encoding==="WinAnsiEncoding"){for(var w=u.metadata.rawData,A="",E=0;E<w.length;E++)A+=String.fromCharCode(w[E]);var I=d();x({data:A,addLength1:!0,objectId:I}),f("endobj");var C=d();x({data:r(u.metadata.toUnicode),addLength1:!0,objectId:C}),f("endobj");var L=d();f("<<"),f("/Descent "+u.metadata.decender),f("/CapHeight "+u.metadata.capHeight),f("/StemV "+u.metadata.stemV),f("/Type /FontDescriptor"),f("/FontFile2 "+I+" 0 R"),f("/Flags 96"),f("/FontBBox "+n.API.PDFObject.convert(u.metadata.bbox)),f("/FontName /"+Zd(u.fontName)),f("/ItalicAngle "+u.metadata.italicAngle),f("/Ascent "+u.metadata.ascender),f(">>"),f("endobj"),u.objectNumber=d();for(var j=0;j<u.metadata.hmtx.widths.length;j++)u.metadata.hmtx.widths[j]=parseInt(u.metadata.hmtx.widths[j]*(1e3/u.metadata.head.unitsPerEm));f("<</Subtype/TrueType/Type/Font/ToUnicode "+C+" 0 R/BaseFont/"+Zd(u.fontName)+"/FontDescriptor "+L+" 0 R/Encoding/"+u.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(u.metadata.hmtx.widths)+">>"),f("endobj"),u.isAlreadyPutted=!0}})(s)}]);var i=function(s){var o,u=s.text||"",f=s.x,d=s.y,x=s.options||{},w=s.mutex||{},A=w.pdfEscape,E=w.activeFontKey,I=w.fonts,C=E,L="",j=0,W="",M=I[C].encoding;if(I[C].encoding!=="Identity-H")return{text:u,x:f,y:d,options:x,mutex:w};for(W=u,C=E,Array.isArray(u)&&(W=u[0]),j=0;j<W.length;j+=1)I[C].metadata.hasOwnProperty("cmap")&&(o=I[C].metadata.cmap.unicode.codeMap[W[j].charCodeAt(0)]),o||W[j].charCodeAt(0)<256&&I[C].metadata.hasOwnProperty("Unicode")?L+=W[j]:L+="";var G="";return parseInt(C.slice(1))<14||M==="WinAnsiEncoding"?G=A(L,C).split("").map(function(ce){return ce.charCodeAt(0).toString(16)}).join(""):M==="Identity-H"&&(G=t(L,I[C])),w.isHex=!0,{text:G,x:f,y:d,options:x,mutex:w}};e.events.push(["postProcessText",function(s){var o=s.text||"",u=[],f={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var d=0;for(d=0;d<o.length;d+=1)Array.isArray(o[d])&&o[d].length===3?u.push([i(Object.assign({},f,{text:o[d][0]})).text,o[d][1],o[d][2]]):u.push(i(Object.assign({},f,{text:o[d]})).text);s.text=u}else s.text=i(Object.assign({},f,{text:o})).text}])})(Xn),(function(n){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},n.addFileToVFS=function(t,r){return e.call(this),this.internal.vFS[t]=r,this},n.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}})(Xn.API),(function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(r){var i,s,o,u,f,d,x,w=e,A=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],E=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],I={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},C={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},L=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],j=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),W=!1,M=0;this.__bidiEngine__={};var G=function(U){var H=U.charCodeAt(),X=H>>8,ne=C[X];return ne!==void 0?w[256*ne+(255&H)]:X===252||X===253?"AL":j.test(X)?"L":X===8?"R":"N"},ce=function(U){for(var H,X=0;X<U.length;X++){if((H=G(U.charAt(X)))==="L")return!1;if(H==="R")return!0}return!1},re=function(U,H,X,ne){var pe,Ae,xe,Re,He=H[ne];switch(He){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":W=!1;break;case"N":case"AN":break;case"EN":W&&(He="AN");break;case"AL":W=!0,He="R";break;case"WS":case"BN":He="N";break;case"CS":ne<1||ne+1>=H.length||(pe=X[ne-1])!=="EN"&&pe!=="AN"||(Ae=H[ne+1])!=="EN"&&Ae!=="AN"?He="N":W&&(Ae="AN"),He=Ae===pe?Ae:"N";break;case"ES":He=(pe=ne>0?X[ne-1]:"B")==="EN"&&ne+1<H.length&&H[ne+1]==="EN"?"EN":"N";break;case"ET":if(ne>0&&X[ne-1]==="EN"){He="EN";break}if(W){He="N";break}for(xe=ne+1,Re=H.length;xe<Re&&H[xe]==="ET";)xe++;He=xe<Re&&H[xe]==="EN"?"EN":"N";break;case"NSM":if(o&&!u){for(Re=H.length,xe=ne+1;xe<Re&&H[xe]==="NSM";)xe++;if(xe<Re){var ze=U[ne],ve=ze>=1425&&ze<=2303||ze===64286;if(pe=H[xe],ve&&(pe==="R"||pe==="AL")){He="R";break}}}He=ne<1||(pe=H[ne-1])==="B"?"N":X[ne-1];break;case"B":W=!1,i=!0,He=M;break;case"S":s=!0,He="N"}return He},F=function(U,H,X){var ne=U.split("");return X&&B(ne,X,{hiLevel:M}),ne.reverse(),H&&H.reverse(),ne.join("")},B=function(U,H,X){var ne,pe,Ae,xe,Re,He=-1,ze=U.length,ve=0,q=[],J=M?E:A,Q=[];for(W=!1,i=!1,s=!1,pe=0;pe<ze;pe++)Q[pe]=G(U[pe]);for(Ae=0;Ae<ze;Ae++){if(Re=ve,q[Ae]=re(U,Q,q,Ae),ne=240&(ve=J[Re][I[q[Ae]]]),ve&=15,H[Ae]=xe=J[ve][5],ne>0)if(ne===16){for(pe=He;pe<Ae;pe++)H[pe]=1;He=-1}else He=-1;if(J[ve][6])He===-1&&(He=Ae);else if(He>-1){for(pe=He;pe<Ae;pe++)H[pe]=xe;He=-1}Q[Ae]==="B"&&(H[Ae]=0),X.hiLevel|=xe}s&&(function(oe,de,De){for(var Ve=0;Ve<De;Ve++)if(oe[Ve]==="S"){de[Ve]=M;for(var Fe=Ve-1;Fe>=0&&oe[Fe]==="WS";Fe--)de[Fe]=M}})(Q,H,ze)},D=function(U,H,X,ne,pe){if(!(pe.hiLevel<U)){if(U===1&&M===1&&!i)return H.reverse(),void(X&&X.reverse());for(var Ae,xe,Re,He,ze=H.length,ve=0;ve<ze;){if(ne[ve]>=U){for(Re=ve+1;Re<ze&&ne[Re]>=U;)Re++;for(He=ve,xe=Re-1;He<xe;He++,xe--)Ae=H[He],H[He]=H[xe],H[xe]=Ae,X&&(Ae=X[He],X[He]=X[xe],X[xe]=Ae);ve=Re}ve++}}},Z=function(U,H,X){var ne=U.split(""),pe={hiLevel:M};return X||(X=[]),B(ne,X,pe),(function(Ae,xe,Re){if(Re.hiLevel!==0&&x)for(var He,ze=0;ze<Ae.length;ze++)xe[ze]===1&&(He=L.indexOf(Ae[ze]))>=0&&(Ae[ze]=L[He+1])})(ne,X,pe),D(2,ne,H,X,pe),D(1,ne,H,X,pe),ne.join("")};return this.__bidiEngine__.doBidiReorder=function(U,H,X){if((function(pe,Ae){if(Ae)for(var xe=0;xe<pe.length;xe++)Ae[xe]=xe;u===void 0&&(u=ce(pe)),d===void 0&&(d=ce(pe))})(U,H),o||!f||d)if(o&&f&&u^d)M=u?1:0,U=F(U,H,X);else if(!o&&f&&d)M=u?1:0,U=Z(U,H,X),U=F(U,H);else if(!o||u||f||d){if(o&&!f&&u^d)U=F(U,H),u?(M=0,U=Z(U,H,X)):(M=1,U=Z(U,H,X),U=F(U,H));else if(o&&u&&!f&&d)M=1,U=Z(U,H,X),U=F(U,H);else if(!o&&!f&&u^d){var ne=x;u?(M=1,U=Z(U,H,X),M=0,x=!1,U=Z(U,H,X),x=ne):(M=0,U=Z(U,H,X),U=F(U,H),M=1,x=!1,U=Z(U,H,X),x=ne,U=F(U,H))}}else M=0,U=Z(U,H,X);else M=u?1:0,U=Z(U,H,X);return U},this.__bidiEngine__.setOptions=function(U){U&&(o=U.isInputVisual,f=U.isOutputVisual,u=U.isInputRtl,d=U.isOutputRtl,x=U.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var s=r.options||{};r.mutex,s.lang;var o=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,t.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var u=0;for(o=[],u=0;u<i.length;u+=1)Object.prototype.toString.call(i[u])==="[object Array]"?o.push([t.doBidiReorder(i[u][0]),i[u][1],i[u][2]]):o.push([t.doBidiReorder(i[u])]);r.text=o}else r.text=t.doBidiReorder(i);t.setOptions({isInputVisual:!0})}])})(Xn),Xn.API.TTFFont=(function(){function n(e){var t;if(this.rawData=e,t=this.contents=new Wh(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new QW(this),this.registerTTF()}return n.open=function(e){return new n(e)},n.prototype.parse=function(){return this.directory=new FW(this.contents),this.head=new UW(this),this.name=new GW(this),this.cmap=new JI(this),this.toUnicode={},this.hhea=new VW(this),this.maxp=new WW(this),this.hmtx=new XW(this),this.post=new HW(this),this.os2=new zW(this),this.loca=new ZW(this),this.glyf=new YW(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var e,t,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,u,f,d;for(d=[],o=0,u=(f=this.bbox).length;o<u;o++)e=f[o],d.push(Math.round(e*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(t=i>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},n.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},n.prototype.widthOfString=function(e,t,r){var i,s,o,u;for(o=0,s=0,u=(e=""+e).length;0<=u?s<u:s>u;s=0<=u?++s:--s)i=e.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/t)||0;return o*(t/1e3)},n.prototype.lineHeight=function(e,t){var r;return t==null&&(t=!1),r=t?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},n})();var Sc,Wh=(function(){function n(e){this.data=e??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(e){return this.data[this.pos++]=e},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},n.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},n.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},n.prototype.readString=function(e){var t,r;for(r=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)r[t]=String.fromCharCode(this.readByte());return r.join("")},n.prototype.writeString=function(e){var t,r,i;for(i=[],t=0,r=e.length;0<=r?t<r:t>r;t=0<=r?++t:--t)i.push(this.writeByte(e.charCodeAt(t)));return i},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(e){return this.writeInt16(e)},n.prototype.readLongLong=function(){var e,t,r,i,s,o,u,f;return e=this.readByte(),t=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),u=this.readByte(),f=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^o)+256*(255^u)+(255^f)+1):72057594037927940*e+281474976710656*t+1099511627776*r+4294967296*i+16777216*s+65536*o+256*u+f},n.prototype.writeLongLong=function(e){var t,r;return t=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(e){return this.writeInt32(e)},n.prototype.read=function(e){var t,r;for(t=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)t.push(this.readByte());return t},n.prototype.write=function(e){var t,r,i,s;for(s=[],r=0,i=e.length;r<i;r++)t=e[r],s.push(this.writeByte(t));return s},n})(),FW=(function(){var n;function e(t){var r,i,s;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(t){var r,i,s,o,u,f,d,x,w,A,E,I,C;for(C in E=Object.keys(t).length,f=Math.log(2),w=16*Math.floor(Math.log(E)/f),o=Math.floor(w/f),x=16*E-w,(i=new Wh).writeInt(this.scalarType),i.writeShort(E),i.writeShort(w),i.writeShort(o),i.writeShort(x),s=16*E,d=i.pos+s,u=null,I=[],t)for(A=t[C],i.writeString(C),i.writeInt(n(A)),i.writeInt(d),i.writeInt(A.length),I=I.concat(A),C==="head"&&(u=d),d+=A.length;d%4;)I.push(0),d++;return i.write(I),r=2981146554-n(i.data),i.pos=u+8,i.writeUInt32(r),i.data},n=function(t){var r,i,s,o;for(t=eR.call(t);t.length%4;)t.push(0);for(s=new Wh(t),i=0,r=0,o=t.length;r<o;r=r+=4)i+=s.readUInt32();return 4294967295&i},e})(),BW={}.hasOwnProperty,cu=function(n,e){for(var t in e)BW.call(e,t)&&(n[t]=e[t]);function r(){this.constructor=n}return r.prototype=e.prototype,n.prototype=new r,n.__super__=e.prototype,n};Sc=(function(){function n(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n})();var UW=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return cu(n,Sc),n.prototype.tag="head",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},n.prototype.encode=function(e){var t;return(t=new Wh).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},n})(),TT=(function(){function n(e,t){var r,i,s,o,u,f,d,x,w,A,E,I,C,L,j,W,M;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),w=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(f=0;f<256;++f)this.codeMap[f]=e.readByte();break;case 4:for(E=e.readUInt16(),A=E/2,e.pos+=6,s=(function(){var G,ce;for(ce=[],f=G=0;0<=A?G<A:G>A;f=0<=A?++G:--G)ce.push(e.readUInt16());return ce})(),e.pos+=2,C=(function(){var G,ce;for(ce=[],f=G=0;0<=A?G<A:G>A;f=0<=A?++G:--G)ce.push(e.readUInt16());return ce})(),d=(function(){var G,ce;for(ce=[],f=G=0;0<=A?G<A:G>A;f=0<=A?++G:--G)ce.push(e.readUInt16());return ce})(),x=(function(){var G,ce;for(ce=[],f=G=0;0<=A?G<A:G>A;f=0<=A?++G:--G)ce.push(e.readUInt16());return ce})(),i=(this.length-e.pos+this.offset)/2,u=(function(){var G,ce;for(ce=[],f=G=0;0<=i?G<i:G>i;f=0<=i?++G:--G)ce.push(e.readUInt16());return ce})(),f=j=0,M=s.length;j<M;f=++j)for(L=s[f],r=W=I=C[f];I<=L?W<=L:W>=L;r=I<=L?++W:--W)x[f]===0?o=r+d[f]:(o=u[x[f]/2+(r-I)-(A-f)]||0)!==0&&(o+=d[f]),this.codeMap[r]=65535&o}e.pos=w}return n.encode=function(e,t){var r,i,s,o,u,f,d,x,w,A,E,I,C,L,j,W,M,G,ce,re,F,B,D,Z,U,H,X,ne,pe,Ae,xe,Re,He,ze,ve,q,J,Q,oe,de,De,Ve,Fe,Ie,Qe,St;switch(ne=new Wh,o=Object.keys(e).sort(function(Tt,Rt){return Tt-Rt}),t){case"macroman":for(C=0,L=(function(){var Tt=[];for(I=0;I<256;++I)Tt.push(0);return Tt})(),W={0:0},s={},pe=0,He=o.length;pe<He;pe++)W[Fe=e[i=o[pe]]]==null&&(W[Fe]=++C),s[i]={old:e[i],new:W[e[i]]},L[i]=W[e[i]];return ne.writeUInt16(1),ne.writeUInt16(0),ne.writeUInt32(12),ne.writeUInt16(0),ne.writeUInt16(262),ne.writeUInt16(0),ne.write(L),{charMap:s,subtable:ne.data,maxGlyphID:C+1};case"unicode":for(H=[],w=[],M=0,W={},r={},j=d=null,Ae=0,ze=o.length;Ae<ze;Ae++)W[ce=e[i=o[Ae]]]==null&&(W[ce]=++M),r[i]={old:ce,new:W[ce]},u=W[ce]-i,j!=null&&u===d||(j&&w.push(j),H.push(i),d=u),j=i;for(j&&w.push(j),w.push(65535),H.push(65535),Z=2*(D=H.length),B=2*Math.pow(Math.log(D)/Math.LN2,2),A=Math.log(B/2)/Math.LN2,F=2*D-B,f=[],re=[],E=[],I=xe=0,ve=H.length;xe<ve;I=++xe){if(U=H[I],x=w[I],U===65535){f.push(0),re.push(0);break}if(U-(X=r[U].new)>=32768)for(f.push(0),re.push(2*(E.length+D-I)),i=Re=U;U<=x?Re<=x:Re>=x;i=U<=x?++Re:--Re)E.push(r[i].new);else f.push(X-U),re.push(0)}for(ne.writeUInt16(3),ne.writeUInt16(1),ne.writeUInt32(12),ne.writeUInt16(4),ne.writeUInt16(16+8*D+2*E.length),ne.writeUInt16(0),ne.writeUInt16(Z),ne.writeUInt16(B),ne.writeUInt16(A),ne.writeUInt16(F),De=0,q=w.length;De<q;De++)i=w[De],ne.writeUInt16(i);for(ne.writeUInt16(0),Ve=0,J=H.length;Ve<J;Ve++)i=H[Ve],ne.writeUInt16(i);for(Ie=0,Q=f.length;Ie<Q;Ie++)u=f[Ie],ne.writeUInt16(u);for(Qe=0,oe=re.length;Qe<oe;Qe++)G=re[Qe],ne.writeUInt16(G);for(St=0,de=E.length;St<de;St++)C=E[St],ne.writeUInt16(C);return{charMap:r,subtable:ne.data,maxGlyphID:M+1}}},n})(),JI=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return cu(n,Sc),n.prototype.tag="cmap",n.prototype.parse=function(e){var t,r,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=i?r<i:r>i;r=0<=i?++r:--r)t=new TT(e,this.offset),this.tables.push(t),t.isUnicode&&this.unicode==null&&(this.unicode=t);return!0},n.encode=function(e,t){var r,i;return t==null&&(t="macroman"),r=TT.encode(e,t),(i=new Wh).writeUInt16(0),i.writeUInt16(1),r.table=i.data.concat(r.subtable),r},n})(),VW=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return cu(n,Sc),n.prototype.tag="hhea",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},n})(),zW=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return cu(n,Sc),n.prototype.tag="OS/2",n.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var t,r;for(r=[],t=0;t<10;++t)r.push(e.readByte());return r})(),this.charRange=(function(){var t,r;for(r=[],t=0;t<4;++t)r.push(e.readInt());return r})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var t,r;for(r=[],t=0;t<2;t=++t)r.push(e.readInt());return r})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},n})(),HW=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return cu(n,Sc),n.prototype.tag="post",n.prototype.parse=function(e){var t,r,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(r=e.readUInt16(),this.glyphNameIndex=[],s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)t=e.readByte(),i.push(this.names.push(e.readString(t)));return i;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=(function(){var o,u,f;for(f=[],s=o=0,u=this.file.maxp.numGlyphs;0<=u?o<u:o>u;s=0<=u?++o:--o)f.push(e.readUInt32());return f}).call(this)}},n})(),qW=function(n,e){this.raw=n,this.length=n.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},GW=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return cu(n,Sc),n.prototype.tag="name",n.prototype.parse=function(e){var t,r,i,s,o,u,f,d,x,w,A;for(e.pos=this.offset,e.readShort(),t=e.readShort(),u=e.readShort(),r=[],s=0;0<=t?s<t:s>t;s=0<=t?++s:--s)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+u+e.readShort()});for(f={},s=x=0,w=r.length;x<w;s=++x)i=r[s],e.pos=i.offset,d=e.readString(i.length),o=new qW(d,i),f[A=i.nameID]==null&&(f[A]=[]),f[i.nameID].push(o);this.strings=f,this.copyright=f[0],this.fontFamily=f[1],this.fontSubfamily=f[2],this.uniqueSubfamily=f[3],this.fontName=f[4],this.version=f[5];try{this.postscriptName=f[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=f[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=f[7],this.manufacturer=f[8],this.designer=f[9],this.description=f[10],this.vendorUrl=f[11],this.designerUrl=f[12],this.license=f[13],this.licenseUrl=f[14],this.preferredFamily=f[15],this.preferredSubfamily=f[17],this.compatibleFull=f[18],this.sampleText=f[19]},n})(),WW=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return cu(n,Sc),n.prototype.tag="maxp",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},n})(),XW=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return cu(n,Sc),n.prototype.tag="hmtx",n.prototype.parse=function(e){var t,r,i,s,o,u,f;for(e.pos=this.offset,this.metrics=[],t=0,u=this.file.hhea.numberOfMetrics;0<=u?t<u:t>u;t=0<=u?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var d,x;for(x=[],t=d=0;0<=i?d<i:d>i;t=0<=i?++d:--d)x.push(e.readInt16());return x})(),this.widths=(function(){var d,x,w,A;for(A=[],d=0,x=(w=this.metrics).length;d<x;d++)s=w[d],A.push(s.advance);return A}).call(this),r=this.widths[this.widths.length-1],f=[],t=o=0;0<=i?o<i:o>i;t=0<=i?++o:--o)f.push(this.widths.push(r));return f},n.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},n})(),eR=[].slice,YW=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return cu(n,Sc),n.prototype.tag="glyf",n.prototype.parse=function(){return this.cache={}},n.prototype.glyphFor=function(e){var t,r,i,s,o,u,f,d,x,w;return e in this.cache?this.cache[e]:(s=this.file.loca,t=this.file.contents,r=s.indexOf(e),(i=s.lengthOf(e))===0?this.cache[e]=null:(t.pos=this.offset+r,o=(u=new Wh(t.read(i))).readShort(),d=u.readShort(),w=u.readShort(),f=u.readShort(),x=u.readShort(),this.cache[e]=o===-1?new $W(u,d,w,f,x):new KW(u,o,d,w,f,x),this.cache[e]))},n.prototype.encode=function(e,t,r){var i,s,o,u,f;for(o=[],s=[],u=0,f=t.length;u<f;u++)i=e[t[u]],s.push(o.length),i&&(o=o.concat(i.encode(r)));return s.push(o.length),{table:o,offsets:s}},n})(),KW=(function(){function n(e,t,r,i,s,o){this.raw=e,this.numberOfContours=t,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=o,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n})(),$W=(function(){function n(e,t,r,i,s){var o,u;for(this.raw=e,this.xMin=t,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;u=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&u;)o.pos+=1&u?4:2,128&u?o.pos+=8:64&u?o.pos+=4:8&u&&(o.pos+=2)}return n.prototype.encode=function(){var e,t,r;for(t=new Wh(eR.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)t.pos=this.glyphOffsets[e];return t.data},n})(),ZW=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return cu(n,Sc),n.prototype.tag="loca",n.prototype.parse=function(e){var t,r;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=t===0?(function(){var i,s;for(s=[],r=0,i=this.length;r<i;r+=2)s.push(2*e.readUInt16());return s}).call(this):(function(){var i,s;for(s=[],r=0,i=this.length;r<i;r+=4)s.push(e.readUInt32());return s}).call(this)},n.prototype.indexOf=function(e){return this.offsets[e]},n.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},n.prototype.encode=function(e,t){for(var r=new Uint32Array(this.offsets.length),i=0,s=0,o=0;o<r.length;++o)if(r[o]=i,s<t.length&&t[s]==o){++s,r[o]=i;var u=this.offsets[o],f=this.offsets[o+1]-u;f>0&&(i+=f)}for(var d=new Array(4*r.length),x=0;x<r.length;++x)d[4*x+3]=255&r[x],d[4*x+2]=(65280&r[x])>>8,d[4*x+1]=(16711680&r[x])>>16,d[4*x]=(4278190080&r[x])>>24;return d},n})(),QW=(function(){function n(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var e,t,r,i,s;for(t in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)r=s[t],e[t]=i[r];return e},n.prototype.glyphsFor=function(e){var t,r,i,s,o,u,f;for(i={},o=0,u=e.length;o<u;o++)i[s=e[o]]=this.font.glyf.glyphFor(s);for(s in t=[],i)(r=i[s])!=null&&r.compound&&t.push.apply(t,r.glyphIDs);if(t.length>0)for(s in f=this.glyphsFor(t))r=f[s],i[s]=r;return i},n.prototype.encode=function(e,t){var r,i,s,o,u,f,d,x,w,A,E,I,C,L,j;for(i in r=JI.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),E={0:0},j=r.charMap)E[(f=j[i]).old]=f.new;for(I in A=r.maxGlyphID,o)I in E||(E[I]=A++);return x=(function(W){var M,G;for(M in G={},W)G[W[M]]=M;return G})(E),w=Object.keys(x).sort(function(W,M){return W-M}),C=(function(){var W,M,G;for(G=[],W=0,M=w.length;W<M;W++)u=w[W],G.push(x[u]);return G})(),s=this.font.glyf.encode(o,C,E),d=this.font.loca.encode(s.offsets,C),L={cmap:this.font.cmap.raw(),glyf:s.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(L["OS/2"]=this.font.os2.raw()),this.font.directory.encode(L)},n})();Xn.API.PDFObject=(function(){var n;function e(){}return n=function(t,r){return(Array(r+1).join("0")+t).slice(-r)},e.convert=function(t){var r,i,s,o;if(Array.isArray(t))return"["+(function(){var u,f,d;for(d=[],u=0,f=t.length;u<f;u++)r=t[u],d.push(e.convert(r));return d})().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t?.isString)return"("+t+")";if(t instanceof Date)return"(D:"+n(t.getUTCFullYear(),4)+n(t.getUTCMonth(),2)+n(t.getUTCDate(),2)+n(t.getUTCHours(),2)+n(t.getUTCMinutes(),2)+n(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(i in s=["<<"],t)o=t[i],s.push("/"+i+" "+e.convert(o));return s.push(">>"),s.join(`
`)}return""+t},e})();const tR=(n=16)=>{const e=new Uint8Array(n);return crypto.getRandomValues(e),btoa(String.fromCharCode(...e)).replace(/[+/=]/g,"").slice(0,n)},JW=async(n,e,t,r,i)=>{const s=`${n}|${e}|${t}|${r}|${i}`,u=new TextEncoder().encode(s),f=await crypto.subtle.digest("SHA-256",u);return Array.from(new Uint8Array(f)).map(w=>w.toString(16).padStart(2,"0")).join("")},eX=()=>{const e=new Date().toISOString().slice(0,10).replace(/-/g,""),t=tR(6).toUpperCase();return`REG-${e}-${t}`},tX=async n=>{try{return await uq.toDataURL(n,{errorCorrectionLevel:"H",margin:2,width:200,color:{dark:"#000000",light:"#FFFFFF"}})}catch(e){throw console.error("Error generating QR code:",e),new Error("Failed to generate QR code")}},nX=n=>{try{const[e,t,r]=n.split("-").map(Number);return new Date(e,t-1,r).toLocaleDateString("en-IN",{day:"numeric",month:"long",year:"numeric"})}catch{return n}},rX=async(n,e,t)=>{const r=new Xn({orientation:"portrait",unit:"mm",format:[100,150]}),i=100,s=150,o=8;r.setFillColor(15,15,20),r.rect(0,0,i,s,"F"),r.setFillColor(78,255,159),r.rect(0,0,i,20,"F"),r.setTextColor(10,10,15),r.setFontSize(10),r.setFont("helvetica","bold");const u=n.eventName.length>30?n.eventName.slice(0,27)+"...":n.eventName;r.text(u,i/2,10,{align:"center"}),r.setFontSize(7),r.setFont("helvetica","normal"),r.text(nX(n.eventDate),i/2,16,{align:"center"}),r.setTextColor(255,255,255),r.setFontSize(12),r.setFont("helvetica","bold"),r.text("EVENT PASS",i/2,32,{align:"center"});const f=45,d=(i-f)/2,x=38;r.setFillColor(255,255,255),r.roundedRect(d-3,x-3,f+6,f+6,3,3,"F"),r.addImage(e,"PNG",d,x,f,f);let w=x+f+12;const A=[150,150,160],E=[255,255,255],I=(C,L,j)=>{r.setTextColor(A[0],A[1],A[2]),r.setFontSize(6),r.setFont("helvetica","normal"),r.text(C,o,j),r.setTextColor(E[0],E[1],E[2]),r.setFontSize(8),r.setFont("helvetica","bold");const W=L.length>35?L.slice(0,32)+"...":L;return r.text(W,o,j+4),j+11};if(w=I("FULL NAME",`${n.firstName} ${n.lastName}`,w),w=I("ORBIT ID",n.orbitId,w),w=I("EMAIL",n.email,w),w=I("COLLEGE",n.collegeName,w),t){r.setTextColor(A[0],A[1],A[2]),r.setFontSize(6),r.text("VENUE",o,w),r.setTextColor(E[0],E[1],E[2]),r.setFontSize(7),r.setFont("helvetica","normal");const C=t.length>40?t.slice(0,37)+"...":t;r.text(C,o,w+4)}return r.setTextColor(80,80,90),r.setFontSize(5),r.setFont("helvetica","normal"),r.text(`ID: ${n.registrationId}`,i/2,s-5,{align:"center"}),r.output("blob")},nR=async n=>{try{const e=tR(16),t=await JW(n.orbitId,n.govIdLast4,n.firstName,n.eventId,e),r=eX(),i={registrationId:r,orbitId:n.orbitId,eventId:n.eventId,eventName:n.eventName,eventDate:n.eventDate,qrSignature:t,firstName:n.firstName,lastName:n.lastName,email:n.email,collegeName:n.collegeName,gender:n.gender,govIdType:n.govIdType,attendanceStatus:!1,checkInTime:null,createdAt:new Date().toISOString()},s=`${n.eventId}_${r}`,o=hr(An,"event_reg",s);await nu(o,i);const u=hr(An,"qr_lookup",t);return await nu(u,{registrationId:r,eventId:n.eventId,docId:s,createdAt:i.createdAt}),{registrationId:r,registration:i,qrSignature:t}}catch(e){throw console.error("Error registering for event:",e),e}},i2=async(n,e)=>{try{const t=await tX(n.qrSignature);return await rX(n,t,e)}catch(t){throw console.error("Error generating pass PDF:",t),t}},s2=(n,e,t)=>{const r=URL.createObjectURL(n),i=document.createElement("a");i.href=r,i.download=`EventPass_${e.replace(/[^a-z0-9]/gi,"_")}_${t}.pdf`,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(r)},rR=async(n,e)=>{try{const t=Si(An,"event_reg"),{getDocs:r,query:i,where:s}=await o0(async()=>{const{getDocs:f,query:d,where:x}=await Promise.resolve().then(()=>o8);return{getDocs:f,query:d,where:x}},void 0),o=i(t,s("orbitId","==",e),s("eventId","==",n)),u=await r(o);return u.empty?null:u.docs[0].data()}catch(t){return console.error("Error checking existing registration:",t),null}},ax=async n=>{try{console.log("Fetching registrations for orbitId:",n);const e=Si(An,"event_reg"),{getDocs:t,query:r,where:i}=await o0(async()=>{const{getDocs:f,query:d,where:x}=await Promise.resolve().then(()=>o8);return{getDocs:f,query:d,where:x}},void 0),s=r(e,i("orbitId","==",n)),o=await t(s);console.log("Found registrations:",o.size);const u=o.docs.map(f=>(console.log("Registration doc:",f.id,f.data()),f.data()));return u.sort((f,d)=>new Date(d.createdAt).getTime()-new Date(f.createdAt).getTime()),u}catch(e){return console.error("Error fetching user registrations:",e),[]}},iX=Object.freeze(Object.defineProperty({__proto__:null,checkExistingRegistration:rR,downloadPass:s2,generateEventPass:nR,generatePassPdfForRegistration:i2,getUserRegistrations:ax},Symbol.toStringTag,{value:"Module"}));function sX(){const n=Qa(),[e,t]=ae.useState([]),[r,i]=ae.useState(!0),[s,o]=ae.useState(null),[u,f]=ae.useState(!1),[d,x]=ae.useState(new Set);ae.useEffect(()=>{const I=Pl.onAuthStateChanged(async C=>{if(C){let L=await Qs(hr(An,"users",C.uid));if(L.exists()||(L=await Qs(hr(An,"admins",C.uid))),L.exists()){const j=L.data()?.orbitId;if(j){const W=await ax(j);x(new Set(W.map(M=>M.eventId)))}}}else x(new Set)});return()=>I()},[]),ae.useEffect(()=>{(async()=>{try{const C=Ra(Si(An,"events"),ou("date","desc")),L=await tu(C),j=[];L.forEach(ce=>{const re=ce.data();j.push({id:ce.id,type:re.type||"Event",title:re.title||"",description:re.description||"",date:re.date||"",venue:re.venue||"",venueUrl:re.venueUrl,time:re.time||"",registrationOpen:re.registrationOpen??!1,isPast:re.isPast??!1,images:re.images||[],amount:re.amount})});const W=j.filter(ce=>!ce.isPast),M=j.filter(ce=>ce.isPast);W.sort((ce,re)=>ce.date.localeCompare(re.date)),M.sort((ce,re)=>re.date.localeCompare(ce.date));const G=[];for(const ce of W){if(G.length>=3)break;G.push(ce)}for(const ce of M){if(G.length>=3)break;G.push(ce)}t(G)}catch(C){console.error("Error fetching events:",C)}finally{i(!1)}})()},[]);const w=I=>{o(I),f(!1)},A=()=>{f(!0),setTimeout(()=>{o(null),f(!1)},300)},E=()=>{n("/events")};return r?m.jsxs("section",{className:"events-teaser",children:[m.jsxs("div",{className:"events-teaser__header",children:[m.jsx("h2",{className:"events-teaser__heading",children:"Events & Activities"}),m.jsx("p",{className:"events-teaser__subtext",children:"Participate in workshops, stargazing sessions, and hands-on experiments that bring space science to life."})]}),m.jsx("div",{className:"events-teaser__loading",children:"Loading events..."})]}):e.length===0?m.jsxs("section",{className:"events-teaser",children:[m.jsxs("div",{className:"events-teaser__header",children:[m.jsx("h2",{className:"events-teaser__heading",children:"Events & Activities"}),m.jsx("p",{className:"events-teaser__subtext",children:"Participate in workshops, stargazing sessions, and hands-on experiments that bring space science to life."})]}),m.jsxs("div",{className:"events-teaser__empty",children:[m.jsx("p",{children:"No events at the moment."}),m.jsx("span",{children:"Check back soon for exciting activities!"})]})]}):m.jsxs("section",{className:"events-teaser",children:[m.jsxs("div",{className:"events-teaser__header",children:[m.jsx("h2",{className:"events-teaser__heading",children:"Events & Activities"}),m.jsx("p",{className:"events-teaser__subtext",children:"Participate in workshops, stargazing sessions, and hands-on experiments that bring space science to life."})]}),m.jsx("div",{className:"events-teaser__grid",children:e.map(I=>m.jsx(Fy,{event:I,onClick:w,variant:"teaser",isRegistered:d.has(I.id)},I.id))}),m.jsx("button",{onClick:E,className:"events-teaser__cta",children:"View All Events "}),s&&m.jsx(A5,{event:s,isClosing:u,onClose:A,isRegistered:d.has(s.id),onDownloadPass:async I=>{try{const C=Pl.currentUser;if(!C)return;let L=await Qs(hr(An,"users",C.uid));L.exists()||(L=await Qs(hr(An,"admins",C.uid)));const j=L.data()?.orbitId;if(j){const{checkExistingRegistration:W,generatePassPdfForRegistration:M,downloadPass:G}=await o0(async()=>{const{checkExistingRegistration:re,generatePassPdfForRegistration:F,downloadPass:B}=await Promise.resolve().then(()=>iX);return{checkExistingRegistration:re,generatePassPdfForRegistration:F,downloadPass:B}},void 0),ce=await W(I.id,j);if(ce){const re=await M(ce,I.venue);G(re,I.title,j)}}}catch(C){console.error("Error downloading pass:",C)}},onRegisterClick:()=>n("/events")})]})}function aX(n,e,t){return Math.max(e,Math.min(n,t))}const is={toVector(n,e){return n===void 0&&(n=e),Array.isArray(n)?n:[n,n]},add(n,e){return[n[0]+e[0],n[1]+e[1]]},sub(n,e){return[n[0]-e[0],n[1]-e[1]]},addTo(n,e){n[0]+=e[0],n[1]+=e[1]},subTo(n,e){n[0]-=e[0],n[1]-=e[1]}};function NT(n,e,t){return e===0||Math.abs(e)===1/0?Math.pow(n,t*5):n*e*t/(e+t*n)}function CT(n,e,t,r=.15){return r===0?aX(n,e,t):n<e?-NT(e-n,t-e,r)+e:n>t?+NT(n-t,t-e,r)+t:n}function oX(n,[e,t],[r,i]){const[[s,o],[u,f]]=n;return[CT(e,s,o,r),CT(t,u,f,i)]}function lX(n,e){if(typeof n!="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function cX(n){var e=lX(n,"string");return typeof e=="symbol"?e:String(e)}function ha(n,e,t){return e=cX(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function IT(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function ys(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?IT(Object(t),!0).forEach(function(r){ha(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):IT(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}const iR={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function RT(n){return n?n[0].toUpperCase()+n.slice(1):""}const uX=["enter","leave"];function hX(n=!1,e){return n&&!uX.includes(e)}function fX(n,e="",t=!1){const r=iR[n],i=r&&r[e]||e;return"on"+RT(n)+RT(i)+(hX(t,i)?"Capture":"")}const dX=["gotpointercapture","lostpointercapture"];function mX(n){let e=n.substring(2).toLowerCase();const t=!!~e.indexOf("passive");t&&(e=e.replace("passive",""));const r=dX.includes(e)?"capturecapture":"capture",i=!!~e.indexOf(r);return i&&(e=e.replace("capture","")),{device:e,capture:i,passive:t}}function gX(n,e=""){const t=iR[n],r=t&&t[e]||e;return n+r}function ox(n){return"touches"in n}function sR(n){return ox(n)?"touch":"pointerType"in n?n.pointerType:"mouse"}function pX(n){return Array.from(n.touches).filter(e=>{var t,r;return e.target===n.currentTarget||((t=n.currentTarget)===null||t===void 0||(r=t.contains)===null||r===void 0?void 0:r.call(t,e.target))})}function xX(n){return n.type==="touchend"||n.type==="touchcancel"?n.changedTouches:n.targetTouches}function aR(n){return ox(n)?xX(n)[0]:n}function $y(n,e){try{const t=e.clientX-n.clientX,r=e.clientY-n.clientY,i=(e.clientX+n.clientX)/2,s=(e.clientY+n.clientY)/2,o=Math.hypot(t,r);return{angle:-(Math.atan2(t,r)*180)/Math.PI,distance:o,origin:[i,s]}}catch{}return null}function vX(n){return pX(n).map(e=>e.identifier)}function OT(n,e){const[t,r]=Array.from(n.touches).filter(i=>e.includes(i.identifier));return $y(t,r)}function X_(n){const e=aR(n);return ox(n)?e.identifier:e.pointerId}function T0(n){const e=aR(n);return[e.clientX,e.clientY]}const kT=40,DT=800;function oR(n){let{deltaX:e,deltaY:t,deltaMode:r}=n;return r===1?(e*=kT,t*=kT):r===2&&(e*=DT,t*=DT),[e,t]}function _X(n){var e,t;const{scrollX:r,scrollY:i,scrollLeft:s,scrollTop:o}=n.currentTarget;return[(e=r??s)!==null&&e!==void 0?e:0,(t=i??o)!==null&&t!==void 0?t:0]}function yX(n){const e={};if("buttons"in n&&(e.buttons=n.buttons),"shiftKey"in n){const{shiftKey:t,altKey:r,metaKey:i,ctrlKey:s}=n;Object.assign(e,{shiftKey:t,altKey:r,metaKey:i,ctrlKey:s})}return e}function a2(n,...e){return typeof n=="function"?n(...e):n}function wX(){}function bX(...n){return n.length===0?wX:n.length===1?n[0]:function(){let e;for(const t of n)e=t.apply(this,arguments)||e;return e}}function LT(n,e){return Object.assign({},e,n||{})}const EX=32;class lR{constructor(e,t,r){this.ctrl=e,this.args=t,this.key=r,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(e){this.ctrl.state[this.key]=e}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){const{state:e,shared:t,ingKey:r,args:i}=this;t[r]=e._active=e.active=e._blocked=e._force=!1,e._step=[!1,!1],e.intentional=!1,e._movement=[0,0],e._distance=[0,0],e._direction=[0,0],e._delta=[0,0],e._bounds=[[-1/0,1/0],[-1/0,1/0]],e.args=i,e.axis=void 0,e.memo=void 0,e.elapsedTime=e.timeDelta=0,e.direction=[0,0],e.distance=[0,0],e.overflow=[0,0],e._movementBound=[!1,!1],e.velocity=[0,0],e.movement=[0,0],e.delta=[0,0],e.timeStamp=0}start(e){const t=this.state,r=this.config;t._active||(this.reset(),this.computeInitial(),t._active=!0,t.target=e.target,t.currentTarget=e.currentTarget,t.lastOffset=r.from?a2(r.from,t):t.offset,t.offset=t.lastOffset,t.startTime=t.timeStamp=e.timeStamp)}computeValues(e){const t=this.state;t._values=e,t.values=this.config.transform(e)}computeInitial(){const e=this.state;e._initial=e._values,e.initial=e.values}compute(e){const{state:t,config:r,shared:i}=this;t.args=this.args;let s=0;if(e&&(t.event=e,r.preventDefault&&e.cancelable&&t.event.preventDefault(),t.type=e.type,i.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,i.locked=!!document.pointerLockElement,Object.assign(i,yX(e)),i.down=i.pressed=i.buttons%2===1||i.touches>0,s=e.timeStamp-t.timeStamp,t.timeStamp=e.timeStamp,t.elapsedTime=t.timeStamp-t.startTime),t._active){const re=t._delta.map(Math.abs);is.addTo(t._distance,re)}this.axisIntent&&this.axisIntent(e);const[o,u]=t._movement,[f,d]=r.threshold,{_step:x,values:w}=t;if(r.hasCustomTransform?(x[0]===!1&&(x[0]=Math.abs(o)>=f&&w[0]),x[1]===!1&&(x[1]=Math.abs(u)>=d&&w[1])):(x[0]===!1&&(x[0]=Math.abs(o)>=f&&Math.sign(o)*f),x[1]===!1&&(x[1]=Math.abs(u)>=d&&Math.sign(u)*d)),t.intentional=x[0]!==!1||x[1]!==!1,!t.intentional)return;const A=[0,0];if(r.hasCustomTransform){const[re,F]=w;A[0]=x[0]!==!1?re-x[0]:0,A[1]=x[1]!==!1?F-x[1]:0}else A[0]=x[0]!==!1?o-x[0]:0,A[1]=x[1]!==!1?u-x[1]:0;this.restrictToAxis&&!t._blocked&&this.restrictToAxis(A);const E=t.offset,I=t._active&&!t._blocked||t.active;I&&(t.first=t._active&&!t.active,t.last=!t._active&&t.active,t.active=i[this.ingKey]=t._active,e&&(t.first&&("bounds"in r&&(t._bounds=a2(r.bounds,t)),this.setup&&this.setup()),t.movement=A,this.computeOffset()));const[C,L]=t.offset,[[j,W],[M,G]]=t._bounds;t.overflow=[C<j?-1:C>W?1:0,L<M?-1:L>G?1:0],t._movementBound[0]=t.overflow[0]?t._movementBound[0]===!1?t._movement[0]:t._movementBound[0]:!1,t._movementBound[1]=t.overflow[1]?t._movementBound[1]===!1?t._movement[1]:t._movementBound[1]:!1;const ce=t._active?r.rubberband||[0,0]:[0,0];if(t.offset=oX(t._bounds,t.offset,ce),t.delta=is.sub(t.offset,E),this.computeMovement(),I&&(!t.last||s>EX)){t.delta=is.sub(t.offset,E);const re=t.delta.map(Math.abs);is.addTo(t.distance,re),t.direction=t.delta.map(Math.sign),t._direction=t._delta.map(Math.sign),!t.first&&s>0&&(t.velocity=[re[0]/s,re[1]/s],t.timeDelta=s)}}emit(){const e=this.state,t=this.shared,r=this.config;if(e._active||this.clean(),(e._blocked||!e.intentional)&&!e._force&&!r.triggerAllEvents)return;const i=this.handler(ys(ys(ys({},t),e),{},{[this.aliasKey]:e.values}));i!==void 0&&(e.memo=i)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}}function AX([n,e],t){const r=Math.abs(n),i=Math.abs(e);if(r>i&&r>t)return"x";if(i>r&&i>t)return"y"}class Mm extends lR{constructor(...e){super(...e),ha(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=is.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=is.sub(this.state.offset,this.state.lastOffset)}axisIntent(e){const t=this.state,r=this.config;if(!t.axis&&e){const i=typeof r.axisThreshold=="object"?r.axisThreshold[sR(e)]:r.axisThreshold;t.axis=AX(t._movement,i)}t._blocked=(r.lockDirection||!!r.axis)&&!t.axis||!!r.axis&&r.axis!==t.axis}restrictToAxis(e){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":e[1]=0;break;case"y":e[0]=0;break}}}const SX=n=>n,MT=.15,cR={enabled(n=!0){return n},eventOptions(n,e,t){return ys(ys({},t.shared.eventOptions),n)},preventDefault(n=!1){return n},triggerAllEvents(n=!1){return n},rubberband(n=0){switch(n){case!0:return[MT,MT];case!1:return[0,0];default:return is.toVector(n)}},from(n){if(typeof n=="function")return n;if(n!=null)return is.toVector(n)},transform(n,e,t){const r=n||t.shared.transform;return this.hasCustomTransform=!!r,r||SX},threshold(n){return is.toVector(n,0)}},TX=0,Qf=ys(ys({},cR),{},{axis(n,e,{axis:t}){if(this.lockDirection=t==="lock",!this.lockDirection)return t},axisThreshold(n=TX){return n},bounds(n={}){if(typeof n=="function")return s=>Qf.bounds(n(s));if("current"in n)return()=>n.current;if(typeof HTMLElement=="function"&&n instanceof HTMLElement)return n;const{left:e=-1/0,right:t=1/0,top:r=-1/0,bottom:i=1/0}=n;return[[e,t],[r,i]]}}),PT={ArrowRight:(n,e=1)=>[n*e,0],ArrowLeft:(n,e=1)=>[-1*n*e,0],ArrowUp:(n,e=1)=>[0,-1*n*e],ArrowDown:(n,e=1)=>[0,n*e]};class NX extends Mm{constructor(...e){super(...e),ha(this,"ingKey","dragging")}reset(){super.reset();const e=this.state;e._pointerId=void 0,e._pointerActive=!1,e._keyboardActive=!1,e._preventScroll=!1,e._delayed=!1,e.swipe=[0,0],e.tap=!1,e.canceled=!1,e.cancel=this.cancel.bind(this)}setup(){const e=this.state;if(e._bounds instanceof HTMLElement){const t=e._bounds.getBoundingClientRect(),r=e.currentTarget.getBoundingClientRect(),i={left:t.left-r.left+e.offset[0],right:t.right-r.right+e.offset[0],top:t.top-r.top+e.offset[1],bottom:t.bottom-r.bottom+e.offset[1]};e._bounds=Qf.bounds(i)}}cancel(){const e=this.state;e.canceled||(e.canceled=!0,e._active=!1,setTimeout(()=>{this.compute(),this.emit()},0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,super.clean()}pointerDown(e){const t=this.config,r=this.state;if(e.buttons!=null&&(Array.isArray(t.pointerButtons)?!t.pointerButtons.includes(e.buttons):t.pointerButtons!==-1&&t.pointerButtons!==e.buttons))return;const i=this.ctrl.setEventIds(e);t.pointerCapture&&e.target.setPointerCapture(e.pointerId),!(i&&i.size>1&&r._pointerActive)&&(this.start(e),this.setupPointer(e),r._pointerId=X_(e),r._pointerActive=!0,this.computeValues(T0(e)),this.computeInitial(),t.preventScrollAxis&&sR(e)!=="mouse"?(r._active=!1,this.setupScrollPrevention(e)):t.delay>0?(this.setupDelayTrigger(e),t.triggerAllEvents&&(this.compute(e),this.emit())):this.startPointerDrag(e))}startPointerDrag(e){const t=this.state;t._active=!0,t._preventScroll=!0,t._delayed=!1,this.compute(e),this.emit()}pointerMove(e){const t=this.state,r=this.config;if(!t._pointerActive)return;const i=X_(e);if(t._pointerId!==void 0&&i!==t._pointerId)return;const s=T0(e);if(document.pointerLockElement===e.target?t._delta=[e.movementX,e.movementY]:(t._delta=is.sub(s,t._values),this.computeValues(s)),is.addTo(t._movement,t._delta),this.compute(e),t._delayed&&t.intentional){this.timeoutStore.remove("dragDelay"),t.active=!1,this.startPointerDrag(e);return}if(r.preventScrollAxis&&!t._preventScroll)if(t.axis)if(t.axis===r.preventScrollAxis||r.preventScrollAxis==="xy"){t._active=!1,this.clean();return}else{this.timeoutStore.remove("startPointerDrag"),this.startPointerDrag(e);return}else return;this.emit()}pointerUp(e){this.ctrl.setEventIds(e);try{this.config.pointerCapture&&e.target.hasPointerCapture(e.pointerId)&&e.target.releasePointerCapture(e.pointerId)}catch{}const t=this.state,r=this.config;if(!t._active||!t._pointerActive)return;const i=X_(e);if(t._pointerId!==void 0&&i!==t._pointerId)return;this.state._pointerActive=!1,this.setActive(),this.compute(e);const[s,o]=t._distance;if(t.tap=s<=r.tapsThreshold&&o<=r.tapsThreshold,t.tap&&r.filterTaps)t._force=!0;else{const[u,f]=t._delta,[d,x]=t._movement,[w,A]=r.swipe.velocity,[E,I]=r.swipe.distance,C=r.swipe.duration;if(t.elapsedTime<C){const L=Math.abs(u/t.timeDelta),j=Math.abs(f/t.timeDelta);L>w&&Math.abs(d)>E&&(t.swipe[0]=Math.sign(u)),j>A&&Math.abs(x)>I&&(t.swipe[1]=Math.sign(f))}}this.emit()}pointerClick(e){!this.state.tap&&e.detail>0&&(e.preventDefault(),e.stopPropagation())}setupPointer(e){const t=this.config,r=t.device;t.pointerLock&&e.currentTarget.requestPointerLock(),t.pointerCapture||(this.eventStore.add(this.sharedConfig.window,r,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,r,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,r,"cancel",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(e){this.state._preventScroll&&e.cancelable&&e.preventDefault()}setupScrollPrevention(e){this.state._preventScroll=!1,CX(e);const t=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",t),this.eventStore.add(this.sharedConfig.window,"touch","cancel",t),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,e)}setupDelayTrigger(e){this.state._delayed=!0,this.timeoutStore.add("dragDelay",()=>{this.state._step=[0,0],this.startPointerDrag(e)},this.config.delay)}keyDown(e){const t=PT[e.key];if(t){const r=this.state,i=e.shiftKey?10:e.altKey?.1:1;this.start(e),r._delta=t(this.config.keyboardDisplacement,i),r._keyboardActive=!0,is.addTo(r._movement,r._delta),this.compute(e),this.emit()}}keyUp(e){e.key in PT&&(this.state._keyboardActive=!1,this.setActive(),this.compute(e),this.emit())}bind(e){const t=this.config.device;e(t,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(e(t,"change",this.pointerMove.bind(this)),e(t,"end",this.pointerUp.bind(this)),e(t,"cancel",this.pointerUp.bind(this)),e("lostPointerCapture","",this.pointerUp.bind(this))),this.config.keys&&(e("key","down",this.keyDown.bind(this)),e("key","up",this.keyUp.bind(this))),this.config.filterTaps&&e("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}}function CX(n){"persist"in n&&typeof n.persist=="function"&&n.persist()}const Pm=typeof window<"u"&&window.document&&window.document.createElement;function uR(){return Pm&&"ontouchstart"in window}function IX(){return uR()||Pm&&window.navigator.maxTouchPoints>1}function RX(){return Pm&&"onpointerdown"in window}function OX(){return Pm&&"exitPointerLock"in window.document}function kX(){try{return"constructor"in GestureEvent}catch{return!1}}const Yl={isBrowser:Pm,gesture:kX(),touch:uR(),touchscreen:IX(),pointer:RX(),pointerLock:OX()},DX=250,LX=180,MX=.5,PX=50,jX=250,FX=10,jT={mouse:0,touch:0,pen:8},BX=ys(ys({},Qf),{},{device(n,e,{pointer:{touch:t=!1,lock:r=!1,mouse:i=!1}={}}){return this.pointerLock=r&&Yl.pointerLock,Yl.touch&&t?"touch":this.pointerLock?"mouse":Yl.pointer&&!i?"pointer":Yl.touch?"touch":"mouse"},preventScrollAxis(n,e,{preventScroll:t}){if(this.preventScrollDelay=typeof t=="number"?t:t||t===void 0&&n?DX:void 0,!(!Yl.touchscreen||t===!1))return n||(t!==void 0?"y":void 0)},pointerCapture(n,e,{pointer:{capture:t=!0,buttons:r=1,keys:i=!0}={}}){return this.pointerButtons=r,this.keys=i,!this.pointerLock&&this.device==="pointer"&&t},threshold(n,e,{filterTaps:t=!1,tapsThreshold:r=3,axis:i=void 0}){const s=is.toVector(n,t?r:i?1:0);return this.filterTaps=t,this.tapsThreshold=r,s},swipe({velocity:n=MX,distance:e=PX,duration:t=jX}={}){return{velocity:this.transform(is.toVector(n)),distance:this.transform(is.toVector(e)),duration:t}},delay(n=0){switch(n){case!0:return LX;case!1:return 0;default:return n}},axisThreshold(n){return n?ys(ys({},jT),n):jT},keyboardDisplacement(n=FX){return n}});function hR(n){const[e,t]=n.overflow,[r,i]=n._delta,[s,o]=n._direction;(e<0&&r>0&&s<0||e>0&&r<0&&s>0)&&(n._movement[0]=n._movementBound[0]),(t<0&&i>0&&o<0||t>0&&i<0&&o>0)&&(n._movement[1]=n._movementBound[1])}const UX=30,VX=100;class zX extends lR{constructor(...e){super(...e),ha(this,"ingKey","pinching"),ha(this,"aliasKey","da")}init(){this.state.offset=[1,0],this.state.lastOffset=[1,0],this.state._pointerEvents=new Map}reset(){super.reset();const e=this.state;e._touchIds=[],e.canceled=!1,e.cancel=this.cancel.bind(this),e.turns=0}computeOffset(){const{type:e,movement:t,lastOffset:r}=this.state;e==="wheel"?this.state.offset=is.add(t,r):this.state.offset=[(1+t[0])*r[0],t[1]+r[1]]}computeMovement(){const{offset:e,lastOffset:t}=this.state;this.state.movement=[e[0]/t[0],e[1]-t[1]]}axisIntent(){const e=this.state,[t,r]=e._movement;if(!e.axis){const i=Math.abs(t)*UX-Math.abs(r);i<0?e.axis="angle":i>0&&(e.axis="scale")}}restrictToAxis(e){this.config.lockDirection&&(this.state.axis==="scale"?e[1]=0:this.state.axis==="angle"&&(e[0]=0))}cancel(){const e=this.state;e.canceled||setTimeout(()=>{e.canceled=!0,e._active=!1,this.compute(),this.emit()},0)}touchStart(e){this.ctrl.setEventIds(e);const t=this.state,r=this.ctrl.touchIds;if(t._active&&t._touchIds.every(s=>r.has(s))||r.size<2)return;this.start(e),t._touchIds=Array.from(r).slice(0,2);const i=OT(e,t._touchIds);i&&this.pinchStart(e,i)}pointerStart(e){if(e.buttons!=null&&e.buttons%2!==1)return;this.ctrl.setEventIds(e),e.target.setPointerCapture(e.pointerId);const t=this.state,r=t._pointerEvents,i=this.ctrl.pointerIds;if(t._active&&Array.from(r.keys()).every(o=>i.has(o))||(r.size<2&&r.set(e.pointerId,e),t._pointerEvents.size<2))return;this.start(e);const s=$y(...Array.from(r.values()));s&&this.pinchStart(e,s)}pinchStart(e,t){const r=this.state;r.origin=t.origin,this.computeValues([t.distance,t.angle]),this.computeInitial(),this.compute(e),this.emit()}touchMove(e){if(!this.state._active)return;const t=OT(e,this.state._touchIds);t&&this.pinchMove(e,t)}pointerMove(e){const t=this.state._pointerEvents;if(t.has(e.pointerId)&&t.set(e.pointerId,e),!this.state._active)return;const r=$y(...Array.from(t.values()));r&&this.pinchMove(e,r)}pinchMove(e,t){const r=this.state,i=r._values[1],s=t.angle-i;let o=0;Math.abs(s)>270&&(o+=Math.sign(s)),this.computeValues([t.distance,t.angle-360*o]),r.origin=t.origin,r.turns=o,r._movement=[r._values[0]/r._initial[0]-1,r._values[1]-r._initial[1]],this.compute(e),this.emit()}touchEnd(e){this.ctrl.setEventIds(e),this.state._active&&this.state._touchIds.some(t=>!this.ctrl.touchIds.has(t))&&(this.state._active=!1,this.compute(e),this.emit())}pointerEnd(e){const t=this.state;this.ctrl.setEventIds(e);try{e.target.releasePointerCapture(e.pointerId)}catch{}t._pointerEvents.has(e.pointerId)&&t._pointerEvents.delete(e.pointerId),t._active&&t._pointerEvents.size<2&&(t._active=!1,this.compute(e),this.emit())}gestureStart(e){e.cancelable&&e.preventDefault();const t=this.state;t._active||(this.start(e),this.computeValues([e.scale,e.rotation]),t.origin=[e.clientX,e.clientY],this.compute(e),this.emit())}gestureMove(e){if(e.cancelable&&e.preventDefault(),!this.state._active)return;const t=this.state;this.computeValues([e.scale,e.rotation]),t.origin=[e.clientX,e.clientY];const r=t._movement;t._movement=[e.scale-1,e.rotation],t._delta=is.sub(t._movement,r),this.compute(e),this.emit()}gestureEnd(e){this.state._active&&(this.state._active=!1,this.compute(e),this.emit())}wheel(e){const t=this.config.modifierKey;t&&(Array.isArray(t)?!t.find(r=>e[r]):!e[t])||(this.state._active?this.wheelChange(e):this.wheelStart(e),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this)))}wheelStart(e){this.start(e),this.wheelChange(e)}wheelChange(e){"uv"in e||e.cancelable&&e.preventDefault();const r=this.state;r._delta=[-oR(e)[1]/VX*r.offset[0],0],is.addTo(r._movement,r._delta),hR(r),this.state.origin=[e.clientX,e.clientY],this.compute(e),this.emit()}wheelEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(e){const t=this.config.device;t&&(e(t,"start",this[t+"Start"].bind(this)),e(t,"change",this[t+"Move"].bind(this)),e(t,"end",this[t+"End"].bind(this)),e(t,"cancel",this[t+"End"].bind(this)),e("lostPointerCapture","",this[t+"End"].bind(this))),this.config.pinchOnWheel&&e("wheel","",this.wheel.bind(this),{passive:!1})}}const HX=ys(ys({},cR),{},{device(n,e,{shared:t,pointer:{touch:r=!1}={}}){if(t.target&&!Yl.touch&&Yl.gesture)return"gesture";if(Yl.touch&&r)return"touch";if(Yl.touchscreen){if(Yl.pointer)return"pointer";if(Yl.touch)return"touch"}},bounds(n,e,{scaleBounds:t={},angleBounds:r={}}){const i=o=>{const u=LT(a2(t,o),{min:-1/0,max:1/0});return[u.min,u.max]},s=o=>{const u=LT(a2(r,o),{min:-1/0,max:1/0});return[u.min,u.max]};return typeof t!="function"&&typeof r!="function"?[i(),s()]:o=>[i(o),s(o)]},threshold(n,e,t){return this.lockDirection=t.axis==="lock",is.toVector(n,this.lockDirection?[.1,3]:0)},modifierKey(n){return n===void 0?"ctrlKey":n},pinchOnWheel(n=!0){return n}});class qX extends Mm{constructor(...e){super(...e),ha(this,"ingKey","moving")}move(e){this.config.mouseOnly&&e.pointerType!=="mouse"||(this.state._active?this.moveChange(e):this.moveStart(e),this.timeoutStore.add("moveEnd",this.moveEnd.bind(this)))}moveStart(e){this.start(e),this.computeValues(T0(e)),this.compute(e),this.computeInitial(),this.emit()}moveChange(e){if(!this.state._active)return;const t=T0(e),r=this.state;r._delta=is.sub(t,r._values),is.addTo(r._movement,r._delta),this.computeValues(t),this.compute(e),this.emit()}moveEnd(e){this.state._active&&(this.state._active=!1,this.compute(e),this.emit())}bind(e){e("pointer","change",this.move.bind(this)),e("pointer","leave",this.moveEnd.bind(this))}}const GX=ys(ys({},Qf),{},{mouseOnly:(n=!0)=>n});class WX extends Mm{constructor(...e){super(...e),ha(this,"ingKey","scrolling")}scroll(e){this.state._active||this.start(e),this.scrollChange(e),this.timeoutStore.add("scrollEnd",this.scrollEnd.bind(this))}scrollChange(e){e.cancelable&&e.preventDefault();const t=this.state,r=_X(e);t._delta=is.sub(r,t._values),is.addTo(t._movement,t._delta),this.computeValues(r),this.compute(e),this.emit()}scrollEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(e){e("scroll","",this.scroll.bind(this))}}const XX=Qf;class YX extends Mm{constructor(...e){super(...e),ha(this,"ingKey","wheeling")}wheel(e){this.state._active||this.start(e),this.wheelChange(e),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this))}wheelChange(e){const t=this.state;t._delta=oR(e),is.addTo(t._movement,t._delta),hR(t),this.compute(e),this.emit()}wheelEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(e){e("wheel","",this.wheel.bind(this))}}const KX=Qf;class $X extends Mm{constructor(...e){super(...e),ha(this,"ingKey","hovering")}enter(e){this.config.mouseOnly&&e.pointerType!=="mouse"||(this.start(e),this.computeValues(T0(e)),this.compute(e),this.emit())}leave(e){if(this.config.mouseOnly&&e.pointerType!=="mouse")return;const t=this.state;if(!t._active)return;t._active=!1;const r=T0(e);t._movement=t._delta=is.sub(r,t._values),this.computeValues(r),this.compute(e),t.delta=t.movement,this.emit()}bind(e){e("pointer","enter",this.enter.bind(this)),e("pointer","leave",this.leave.bind(this))}}const ZX=ys(ys({},Qf),{},{mouseOnly:(n=!0)=>n}),O5=new Map,Zy=new Map;function QX(n){O5.set(n.key,n.engine),Zy.set(n.key,n.resolver)}const JX={key:"drag",engine:NX,resolver:BX},eY={key:"hover",engine:$X,resolver:ZX},tY={key:"move",engine:qX,resolver:GX},nY={key:"pinch",engine:zX,resolver:HX},rY={key:"scroll",engine:WX,resolver:XX},iY={key:"wheel",engine:YX,resolver:KX};function sY(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function aY(n,e){if(n==null)return{};var t=sY(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}const oY={target(n){if(n)return()=>"current"in n?n.current:n},enabled(n=!0){return n},window(n=Yl.isBrowser?window:void 0){return n},eventOptions({passive:n=!0,capture:e=!1}={}){return{passive:n,capture:e}},transform(n){return n}},lY=["target","eventOptions","window","enabled","transform"];function Dp(n={},e){const t={};for(const[r,i]of Object.entries(e))switch(typeof i){case"function":t[r]=i.call(t,n[r],r,n);break;case"object":t[r]=Dp(n[r],i);break;case"boolean":i&&(t[r]=n[r]);break}return t}function cY(n,e,t={}){const r=n,{target:i,eventOptions:s,window:o,enabled:u,transform:f}=r,d=aY(r,lY);if(t.shared=Dp({target:i,eventOptions:s,window:o,enabled:u,transform:f},oY),e){const x=Zy.get(e);t[e]=Dp(ys({shared:t.shared},d),x)}else for(const x in d){const w=Zy.get(x);w&&(t[x]=Dp(ys({shared:t.shared},d[x]),w))}return t}class fR{constructor(e,t){ha(this,"_listeners",new Set),this._ctrl=e,this._gestureKey=t}add(e,t,r,i,s){const o=this._listeners,u=gX(t,r),f=this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{},d=ys(ys({},f),s);e.addEventListener(u,i,d);const x=()=>{e.removeEventListener(u,i,d),o.delete(x)};return o.add(x),x}clean(){this._listeners.forEach(e=>e()),this._listeners.clear()}}class uY{constructor(){ha(this,"_timeouts",new Map)}add(e,t,r=140,...i){this.remove(e),this._timeouts.set(e,window.setTimeout(t,r,...i))}remove(e){const t=this._timeouts.get(e);t&&window.clearTimeout(t)}clean(){this._timeouts.forEach(e=>void window.clearTimeout(e)),this._timeouts.clear()}}class hY{constructor(e){ha(this,"gestures",new Set),ha(this,"_targetEventStore",new fR(this)),ha(this,"gestureEventStores",{}),ha(this,"gestureTimeoutStores",{}),ha(this,"handlers",{}),ha(this,"config",{}),ha(this,"pointerIds",new Set),ha(this,"touchIds",new Set),ha(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),fY(this,e)}setEventIds(e){if(ox(e))return this.touchIds=new Set(vX(e)),this.touchIds;if("pointerId"in e)return e.type==="pointerup"||e.type==="pointercancel"?this.pointerIds.delete(e.pointerId):e.type==="pointerdown"&&this.pointerIds.add(e.pointerId),this.pointerIds}applyHandlers(e,t){this.handlers=e,this.nativeHandlers=t}applyConfig(e,t){this.config=cY(e,t,this.config)}clean(){this._targetEventStore.clean();for(const e of this.gestures)this.gestureEventStores[e].clean(),this.gestureTimeoutStores[e].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(...e){const t=this.config.shared,r={};let i;if(!(t.target&&(i=t.target(),!i))){if(t.enabled){for(const o of this.gestures){const u=this.config[o],f=FT(r,u.eventOptions,!!i);if(u.enabled){const d=O5.get(o);new d(this,e,o).bind(f)}}const s=FT(r,t.eventOptions,!!i);for(const o in this.nativeHandlers)s(o,"",u=>this.nativeHandlers[o](ys(ys({},this.state.shared),{},{event:u,args:e})),void 0,!0)}for(const s in r)r[s]=bX(...r[s]);if(!i)return r;for(const s in r){const{device:o,capture:u,passive:f}=mX(s);this._targetEventStore.add(i,o,"",r[s],{capture:u,passive:f})}}}}function Vd(n,e){n.gestures.add(e),n.gestureEventStores[e]=new fR(n,e),n.gestureTimeoutStores[e]=new uY}function fY(n,e){e.drag&&Vd(n,"drag"),e.wheel&&Vd(n,"wheel"),e.scroll&&Vd(n,"scroll"),e.move&&Vd(n,"move"),e.pinch&&Vd(n,"pinch"),e.hover&&Vd(n,"hover")}const FT=(n,e,t)=>(r,i,s,o={},u=!1)=>{var f,d;const x=(f=o.capture)!==null&&f!==void 0?f:e.capture,w=(d=o.passive)!==null&&d!==void 0?d:e.passive;let A=u?r:fX(r,i,x);t&&w&&(A+="Passive"),n[A]=n[A]||[],n[A].push(s)},dY=/^on(Drag|Wheel|Scroll|Move|Pinch|Hover)/;function mY(n){const e={},t={},r=new Set;for(let i in n)dY.test(i)?(r.add(RegExp.lastMatch),t[i]=n[i]):e[i]=n[i];return[t,e,r]}function zd(n,e,t,r,i,s){if(!n.has(t)||!O5.has(r))return;const o=t+"Start",u=t+"End",f=d=>{let x;return d.first&&o in e&&e[o](d),t in e&&(x=e[t](d)),d.last&&u in e&&e[u](d),x};i[r]=f,s[r]=s[r]||{}}function gY(n,e){const[t,r,i]=mY(n),s={};return zd(i,t,"onDrag","drag",s,e),zd(i,t,"onWheel","wheel",s,e),zd(i,t,"onScroll","scroll",s,e),zd(i,t,"onPinch","pinch",s,e),zd(i,t,"onMove","move",s,e),zd(i,t,"onHover","hover",s,e),{handlers:s,config:e,nativeHandlers:r}}function pY(n,e={},t,r){const i=dp.useMemo(()=>new hY(n),[]);if(i.applyHandlers(n,r),i.applyConfig(e,t),dp.useEffect(i.effect.bind(i)),dp.useEffect(()=>i.clean.bind(i),[]),e.target===void 0)return i.bind.bind(i)}function xY(n){return n.forEach(QX),function(t,r){const{handlers:i,nativeHandlers:s,config:o}=gY(t,r||{});return pY(i,o,void 0,s)}}function vY(n,e){return xY([JX,nY,rY,iY,tY,eY])(n,e||{})}const _Y=[{id:"president",firstName:"Gauri",lastName:"Kshirsagar",dateOfBirth:"18 May 2004",team:"Leadership",position:"President",academics:{year:"4th Year",branch:"Computer Engineering",division:"B",yearOfGraduation:"2026"},socialLinks:{instagram:"",linkedin:"",github:"",twitter:""},image:"Gauri.jpg"},{id:"chairman",firstName:"Antriksh",lastName:"Shah",dateOfBirth:"22 Dec 2004",team:"Leadership",position:"Chairman",academics:{year:"4th Year",branch:"Computer Engineering",division:"C",yearOfGraduation:"2026"},socialLinks:{instagram:"",linkedin:"",github:"",twitter:""},image:"Antriksh.jpeg"},{id:"secretary",firstName:"Devashree",lastName:"Pate",dateOfBirth:"26 Oct 2004",team:"Leadership",position:"Secretary",academics:{year:"4th Year",branch:"Computer Engineering",division:"A",yearOfGraduation:"2026"},socialLinks:{instagram:"",linkedin:"",github:"",twitter:""},image:"Devashree.jpg"},{id:"treasurer",firstName:"Vivek",lastName:"Jadhav",dateOfBirth:"18 Aug 2004",team:"Leadership",position:"Treasurer",academics:{year:"4th Year",branch:"Computer Engineering",division:"B",yearOfGraduation:"2026"},socialLinks:{instagram:"",linkedin:"",github:"",twitter:""},image:"Vivek.jpg"},{id:"co_treasurer",firstName:"Asmit",lastName:"Rajaramkar",dateOfBirth:"27 Aug 2006",team:"Leadership",position:"Co-Treasurer",academics:{year:"2nd Year",branch:"Computer Engineering",division:"C",yearOfGraduation:"2028"},socialLinks:{instagram:"",linkedin:"",github:"",twitter:""},image:"Asmit.png"},{id:"technical_lead",firstName:"",lastName:"",dateOfBirth:"",team:"Technical Team",position:"Team Leader",academics:{year:"",branch:"",division:"",yearOfGraduation:""},socialLinks:{instagram:"",linkedin:"",github:"",twitter:""},image:"technical_lead.jpg"},{id:"technical_member_1",firstName:"",lastName:"",dateOfBirth:"",team:"Technical Team",position:"Member",academics:{year:"",branch:"",division:"",yearOfGraduation:""},socialLinks:{instagram:"",linkedin:"",github:"",twitter:""},image:"technical_member_1.jpg"},{id:"technical_member_2",firstName:"",lastName:"",dateOfBirth:"",team:"Technical Team",position:"Member",academics:{year:"",branch:"",division:"",yearOfGraduation:""},socialLinks:{instagram:"",linkedin:"",github:"",twitter:""},image:"technical_member_2.jpg"},{id:"technical_member_3",firstName:"",lastName:"",dateOfBirth:"",team:"Technical Team",position:"Member",academics:{year:"",branch:"",division:"",yearOfGraduation:""},socialLinks:{instagram:"",linkedin:"",github:"",twitter:""},image:"technical_member_3.jpg"},{id:"public_outreach_lead",firstName:"",lastName:"",dateOfBirth:"",team:"Public Outreach Team",position:"Team Leader",academics:{year:"",branch:"",division:"",yearOfGraduation:""},socialLinks:{instagram:"",linkedin:"",github:"",twitter:""},image:"public_outreach_lead.jpg"},{id:"public_outreach_member_1",firstName:"Vidhita",lastName:"Kirtani",dateOfBirth:"26 Nov 2005",team:"Public Outreach Team",position:"Member",academics:{year:"2nd Year",branch:"Computer Engineering",division:"B",yearOfGraduation:"2028"},socialLinks:{instagram:"",linkedin:"",github:"",twitter:""},image:"Vidhita.png"},{id:"public_outreach_member_2",firstName:"Shravan",lastName:"Ghuge",dateOfBirth:"04 Feb 2005",team:"Public Outreach Team",position:"Member",academics:{year:"3rd Year",branch:"Computer Engineering",division:"A",yearOfGraduation:"2027"},socialLinks:{instagram:"https://www.instagram.com/shravan45x/",linkedin:"",github:"https://github.com/shravan4507",twitter:"https://x.com/shravan45z"},image:"Shravan.png"},{id:"documentation_lead",firstName:"Janhavi",lastName:"Danve",dateOfBirth:"17 Oct 2005",team:"Documentation Team",position:"Team Leader",academics:{year:"3rd Year",branch:"Computer Engineering",division:"A",yearOfGraduation:"2027"},socialLinks:{instagram:"",linkedin:"",github:"",twitter:""},image:"Janhavi.png"},{id:"documentation_member_1",firstName:"",lastName:"",dateOfBirth:"",team:"Documentation Team",position:"Member",academics:{year:"",branch:"",division:"",yearOfGraduation:""},socialLinks:{instagram:"",linkedin:"",github:"",twitter:""},image:"documentation_member_1.jpg"},{id:"documentation_member_2",firstName:"",lastName:"",dateOfBirth:"",team:"Documentation Team",position:"Member",academics:{year:"",branch:"",division:"",yearOfGraduation:""},socialLinks:{instagram:"",linkedin:"",github:"",twitter:""},image:"documentation_member_2.jpg"},{id:"social_media_lead",firstName:"",lastName:"",dateOfBirth:"",team:"Social Media & Editing Team",position:"Team Leader",academics:{year:"",branch:"",division:"",yearOfGraduation:""},socialLinks:{instagram:"",linkedin:"",github:"",twitter:""},image:"social_media_lead.jpg"},{id:"social_media_member_1",firstName:"",lastName:"",dateOfBirth:"",team:"Social Media & Editing Team",position:"Member",academics:{year:"",branch:"",division:"",yearOfGraduation:""},socialLinks:{instagram:"",linkedin:"",github:"",twitter:""},image:"social_media_member_1.jpg"},{id:"social_media_member_2",firstName:"",lastName:"",dateOfBirth:"",team:"Social Media & Editing Team",position:"Member",academics:{year:"",branch:"",division:"",yearOfGraduation:""},socialLinks:{instagram:"",linkedin:"",github:"",twitter:""},image:"social_media_member_2.jpg"},{id:"social_media_member_3",firstName:"",lastName:"",dateOfBirth:"",team:"Social Media & Editing Team",position:"Member",academics:{year:"",branch:"",division:"",yearOfGraduation:""},socialLinks:{instagram:"",linkedin:"",github:"",twitter:""},image:"social_media_member_3.jpg"},{id:"design_innovation_lead",firstName:"",lastName:"",dateOfBirth:"",team:"Design & Innovation Team",position:"Team Leader",academics:{year:"",branch:"",division:"",yearOfGraduation:""},socialLinks:{instagram:"",linkedin:"",github:"",twitter:""},image:"design_innovation_lead.jpg"},{id:"design_innovation_member_1",firstName:"Sampada",lastName:"Bari",dateOfBirth:"02 Feb 2006",team:"Design & Innovation Team",position:"Member",academics:{year:"2nd Year",branch:"Computer Engineering",division:"A",yearOfGraduation:"2028"},socialLinks:{instagram:"",linkedin:"",github:"",twitter:""},image:"Sampada.webp"},{id:"design_innovation_member_2",firstName:"",lastName:"",dateOfBirth:"",team:"Design & Innovation Team",position:"Member",academics:{year:"",branch:"",division:"",yearOfGraduation:""},socialLinks:{instagram:"",linkedin:"",github:"",twitter:""},image:"design_innovation_member_2.jpg"},{id:"design_innovation_member_3",firstName:"",lastName:"",dateOfBirth:"",team:"Design & Innovation Team",position:"Member",academics:{year:"",branch:"",division:"",yearOfGraduation:""},socialLinks:{instagram:"",linkedin:"",github:"",twitter:""},image:"design_innovation_member_3.jpg"},{id:"management_operations_lead",firstName:"",lastName:"",dateOfBirth:"",team:"Management & Operations Team",position:"Team Leader",academics:{year:"",branch:"",division:"",yearOfGraduation:""},socialLinks:{instagram:"",linkedin:"",github:"",twitter:""},image:"management_operations_lead.jpg"},{id:"management_operations_member_1",firstName:"",lastName:"",dateOfBirth:"",team:"Management & Operations Team",position:"Member",academics:{year:"",branch:"",division:"",yearOfGraduation:""},socialLinks:{instagram:"",linkedin:"",github:"",twitter:""},image:"management_operations_member_1.jpg"},{id:"management_operations_member_2",firstName:"",lastName:"",dateOfBirth:"",team:"Management & Operations Team",position:"Member",academics:{year:"",branch:"",division:"",yearOfGraduation:""},socialLinks:{instagram:"",linkedin:"",github:"",twitter:""},image:"management_operations_member_2.jpg"},{id:"management_operations_member_3",firstName:"",lastName:"",dateOfBirth:"",team:"Management & Operations Team",position:"Member",academics:{year:"",branch:"",division:"",yearOfGraduation:""},socialLinks:{instagram:"",linkedin:"",github:"",twitter:""},image:"management_operations_member_3.jpg"},{id:"management_operations_member_4",firstName:"",lastName:"",dateOfBirth:"",team:"Management & Operations Team",position:"Member",academics:{year:"",branch:"",division:"",yearOfGraduation:""},socialLinks:{instagram:"",linkedin:"",github:"",twitter:""},image:"management_operations_member_4.jpg"}],Qy={members:_Y},yY=n=>{const e="/orbitx-zcoer-website/";return n.filter(t=>t.firstName&&t.lastName).map(t=>{let r="";return t.image&&(t.image.startsWith("http")?r=t.image:t.image.startsWith("/")?r=e+t.image.slice(1):r=`${e}members/${t.image}`),{src:r,alt:`${t.firstName} ${t.lastName}`,name:`${t.firstName} ${t.lastName}`,role:t.position,team:t.team,bio:"",academics:t.academics,socialLinks:t.socialLinks,dateOfBirth:t.dateOfBirth}})},wY=yY(Qy.members),ep={maxVerticalRotationDeg:5,dragSensitivity:20,enlargeTransitionMs:300,segments:35},Ah=(n,e,t)=>Math.min(Math.max(n,e),t),BT=n=>(n%360+360)%360,tp=n=>((n+180)%360+360)%360-180,np=(n,e,t)=>{const r=n.dataset[e]??n.getAttribute(`data-${e}`),i=r==null?NaN:parseFloat(r);return Number.isFinite(i)?i:t};function bY(n,e){const t=Array.from({length:e},(d,x)=>-37+x*2),r=[-4,-2,0,2,4],i=[-3,-1,1,3,5],s=t.flatMap((d,x)=>(x%2===0?r:i).map(A=>({x:d,y:A,sizeX:2,sizeY:2}))),o=s.length;if(n.length===0)return s.map(d=>({...d,src:"",alt:"",name:"",role:"",bio:"",team:"",academics:void 0,socialLinks:void 0,dateOfBirth:void 0}));n.length>o&&console.warn(`[DomeGallery] Provided image count (${n.length}) exceeds available tiles (${o}). Some images will not be shown.`);const u=n.map(d=>typeof d=="string"?{src:d,alt:"",name:"",role:"",bio:"",team:"",academics:void 0,socialLinks:void 0,dateOfBirth:void 0}:{src:d.src||"",alt:d.alt||"",name:d.name||"",role:d.role||"",bio:d.bio||"",team:d.team||"",academics:d.academics,socialLinks:d.socialLinks,dateOfBirth:d.dateOfBirth}),f=Array.from({length:o},(d,x)=>u[x%u.length]);for(let d=1;d<f.length;d++)if(f[d].src===f[d-1].src){for(let x=d+1;x<f.length;x++)if(f[x].src!==f[d].src){const w=f[d];f[d]=f[x],f[x]=w;break}}return s.map((d,x)=>({...d,src:f[x].src,alt:f[x].alt,name:f[x].name,role:f[x].role,bio:f[x].bio,team:f[x].team,academics:f[x].academics,socialLinks:f[x].socialLinks,dateOfBirth:f[x].dateOfBirth}))}function UT(n,e,t,r,i){const s=360/i/2,o=s*(n+(t-1)/2);return{rotateX:s*(e-(r-1)/2),rotateY:o}}function EY({images:n=wY,fit:e=.5,fitBasis:t="auto",minRadius:r=600,maxRadius:i=1/0,padFactor:s=.25,overlayBlurColor:o="#060010",maxVerticalRotationDeg:u=ep.maxVerticalRotationDeg,dragSensitivity:f=ep.dragSensitivity,enlargeTransitionMs:d=ep.enlargeTransitionMs,segments:x=ep.segments,dragDampening:w=2,openedImageWidth:A="400px",openedImageHeight:E="400px",imageBorderRadius:I="30px",openedImageBorderRadius:C="30px",grayscale:L=!0,autoRotate:j=!1,autoRotateSpeed:W=.15,searchQuery:M="",teamFilter:G="",onExplore:ce}){const re=ae.useRef(null),F=ae.useRef(null),B=ae.useRef(null),D=ae.useRef(null),Z=ae.useRef(null),U=ae.useRef(null),H=ae.useRef(null),X=ae.useRef(null),ne=ae.useRef({x:0,y:0}),pe=ae.useRef({x:0,y:0}),Ae=ae.useRef(null),xe=ae.useRef(!1),Re=ae.useRef(!1),He=ae.useRef(null),ze=ae.useRef(!1),ve=ae.useRef(0),q=ae.useRef(0),J=ae.useRef(!1),Q=ae.useCallback(()=>{J.current||(J.current=!0,document.body.classList.add("dg-scroll-lock"))},[]),oe=ae.useCallback(()=>{J.current&&re.current?.getAttribute("data-enlarging")!=="true"&&(J.current=!1,document.body.classList.remove("dg-scroll-lock"))},[]),de=ae.useMemo(()=>{if(!G)return n;const Xe=["President","Chairman","Secretary","Treasurer","Co-Treasurer"];return n.filter(Lt=>typeof Lt=="string"?!1:Xe.includes(G)?Lt.role===G:Lt.team===G)},[n,G]),De=ae.useMemo(()=>bY(de.length>0?de:n,x),[de,n,x]),Ve=ae.useMemo(()=>M?De.filter(Xe=>Xe.name&&Xe.name.toLowerCase().includes(M)):[],[De,M]),Ie=ae.useMemo(()=>{const Xe=new Set(Ve.map(Lt=>Lt.name));return Array.from(Xe)},[Ve]).length===1?Ve[0]:null,Qe=Ve.length>0,St=(Xe,Lt)=>{const fn=B.current;fn&&(fn.style.transform=`translateZ(calc(var(--radius) * -1)) rotateX(${Xe}deg) rotateY(${Lt}deg)`)},Tt=ae.useRef(null);ae.useEffect(()=>{const Xe=re.current;if(!Xe)return;const Lt=new ResizeObserver(fn=>{const st=fn[0].contentRect,Yt=Math.max(1,st.width),rn=Math.max(1,st.height),hn=Math.min(Yt,rn),xn=Math.max(Yt,rn),on=Yt/rn;let bn;switch(t){case"min":bn=hn;break;case"max":bn=xn;break;case"width":bn=Yt;break;case"height":bn=rn;break;default:bn=on>=1.3?Yt:hn}let dn=bn*e;const nr=rn*1.35;dn=Math.min(dn,nr),dn=Ah(dn,r,i),Tt.current=Math.round(dn);const an=Math.max(8,Math.round(hn*s));Xe.style.setProperty("--radius",`${Tt.current}px`),Xe.style.setProperty("--viewer-pad",`${an}px`),Xe.style.setProperty("--overlay-blur-color",o),Xe.style.setProperty("--tile-radius",I),Xe.style.setProperty("--enlarge-radius",C),Xe.style.setProperty("--image-filter",L?"grayscale(1)":"none"),St(ne.current.x,ne.current.y);const dt=Z.current?.querySelector(".enlarge");if(dt&&D.current&&F.current){const Wt=D.current.getBoundingClientRect(),It=F.current.getBoundingClientRect();if(A&&E){const Yn=document.createElement("div");Yn.style.cssText=`position: absolute; width: ${A}; height: ${E}; visibility: hidden;`,document.body.appendChild(Yn);const mt=Yn.getBoundingClientRect();document.body.removeChild(Yn);const $t=Wt.left-It.left+(Wt.width-mt.width)/2,cn=Wt.top-It.top+(Wt.height-mt.height)/2;dt.style.left=`${$t}px`,dt.style.top=`${cn}px`}else dt.style.left=`${Wt.left-It.left}px`,dt.style.top=`${Wt.top-It.top}px`,dt.style.width=`${Wt.width}px`,dt.style.height=`${Wt.height}px`}});return Lt.observe(Xe),()=>Lt.disconnect()},[e,t,r,i,s,o,L,I,C,A,E]),ae.useEffect(()=>{St(ne.current.x,ne.current.y)},[]);const Rt=ae.useRef(null),le=ae.useRef(!1);ae.useEffect(()=>{if(!j){Rt.current&&(cancelAnimationFrame(Rt.current),Rt.current=null);return}if(Ie&&!H.current){if(Rt.current&&(cancelAnimationFrame(Rt.current),Rt.current=null),!le.current){le.current=!0;const{rotateY:Lt}=UT(Ie.x,Ie.y,Ie.sizeX,Ie.sizeY,x),fn=-Lt;ne.current.y;const st=()=>{let rn=fn-ne.current.y;if(rn>180&&(rn-=360),rn<-180&&(rn+=360),Math.abs(rn)<.1){ne.current={x:ne.current.x,y:fn},St(ne.current.x,fn),le.current=!1;return}const hn=rn*.08,xn=tp(ne.current.y+hn);ne.current={x:ne.current.x,y:xn},St(ne.current.x,xn),Rt.current=requestAnimationFrame(st)};Rt.current=requestAnimationFrame(st)}return}le.current=!1;const Xe=()=>{if(xe.current||H.current||Ie){Rt.current=requestAnimationFrame(Xe);return}const Lt=tp(ne.current.y-W);ne.current={x:ne.current.x,y:Lt},St(ne.current.x,Lt),Rt.current=requestAnimationFrame(Xe)};return Rt.current=requestAnimationFrame(Xe),()=>{Rt.current&&(cancelAnimationFrame(Rt.current),Rt.current=null)}},[j,W,Ie,x]);const ot=ae.useCallback(()=>{He.current&&(cancelAnimationFrame(He.current),He.current=null)},[]),pt=ae.useCallback((Xe,Lt)=>{let st=Ah(Xe,-1.4,1.4)*80,Yt=Ah(Lt,-1.4,1.4)*80,rn=0;const hn=Ah(w??.6,0,1),xn=.94+.055*hn,on=.015-.01*hn,bn=Math.round(90+270*hn),dn=()=>{if(st*=xn,Yt*=xn,Math.abs(st)<on&&Math.abs(Yt)<on){He.current=null;return}if(++rn>bn){He.current=null;return}const nr=Ah(ne.current.x-Yt/200,-u,u),an=tp(ne.current.y+st/200);ne.current={x:nr,y:an},St(nr,an),He.current=requestAnimationFrame(dn)};ot(),He.current=requestAnimationFrame(dn)},[w,u,ot]);vY({onDragStart:({event:Xe})=>{if(H.current)return;ot();const Lt=Xe;xe.current=!0,Re.current=!1,pe.current={...ne.current},Ae.current={x:Lt.clientX,y:Lt.clientY}},onDrag:({event:Xe,last:Lt,velocity:fn=[0,0],direction:st=[0,0],movement:Yt})=>{if(H.current||!xe.current||!Ae.current)return;const rn=Xe,hn=rn.clientX-Ae.current.x,xn=rn.clientY-Ae.current.y;Re.current||hn*hn+xn*xn>16&&(Re.current=!0);const on=Ah(pe.current.x-xn/f,-u,u),bn=tp(pe.current.y+hn/f);if((ne.current.x!==on||ne.current.y!==bn)&&(ne.current={x:on,y:bn},St(on,bn)),Lt){xe.current=!1;let[dn,nr]=fn;const[an,dt]=st;let Wt=dn*an,It=nr*dt;if(Math.abs(Wt)<.001&&Math.abs(It)<.001&&Array.isArray(Yt)){const[un,Yn]=Yt;Wt=Ah(un/f*.02,-1.2,1.2),It=Ah(Yn/f*.02,-1.2,1.2)}(Math.abs(Wt)>.005||Math.abs(It)>.005)&&pt(Wt,It),Re.current&&(q.current=performance.now()),Re.current=!1}}},{target:F,eventOptions:{passive:!0}});const zt=ae.useCallback(Xe=>{if(ze.current)return;ze.current=!0,ve.current=performance.now(),Q();const Lt=Xe.parentElement;H.current=Xe,Xe.setAttribute("data-focused","true");const fn=np(Lt,"offsetX",0),st=np(Lt,"offsetY",0),Yt=np(Lt,"sizeX",2),rn=np(Lt,"sizeY",2),hn=UT(fn,st,Yt,rn,x),xn=BT(hn.rotateY),on=BT(ne.current.y);let bn=-(xn+on)%360;bn<-180&&(bn+=360);const dn=-hn.rotateX-ne.current.x;Lt.style.setProperty("--rot-y-delta",`${bn}deg`),Lt.style.setProperty("--rot-x-delta",`${dn}deg`);const nr=document.createElement("div");nr.className="item__image item__image--reference",nr.style.opacity="0",nr.style.transform=`rotateX(${-hn.rotateX}deg) rotateY(${-hn.rotateY}deg)`,Lt.appendChild(nr),nr.offsetHeight;const an=nr.getBoundingClientRect(),dt=F.current?.getBoundingClientRect(),Wt=D.current?.getBoundingClientRect();if(!dt||!Wt||an.width<=0||an.height<=0){ze.current=!1,H.current=null,Lt.removeChild(nr),oe();return}X.current={left:an.left,top:an.top,width:an.width,height:an.height},Xe.style.visibility="hidden",Xe.style.zIndex=0;const It=document.createElement("div");It.className="enlarge",It.style.position="absolute",It.style.left=Wt.left-dt.left+"px",It.style.top=Wt.top-dt.top+"px",It.style.width=Wt.width+"px",It.style.height=Wt.height+"px",It.style.opacity="0",It.style.zIndex="30",It.style.willChange="transform, opacity",It.style.transformOrigin="top left",It.style.transition=`transform ${d}ms ease, opacity ${d}ms ease`;const un=Lt.dataset.src||Xe.querySelector("img")?.src||"",Yn=Lt.dataset.name||"",mt=Lt.dataset.role||"",$t=Lt.dataset.team||"",cn=Lt.dataset.dateOfBirth||"";let mn={},gn={};try{Lt.dataset.academics&&(mn=JSON.parse(Lt.dataset.academics))}catch{}try{Lt.dataset.socialLinks&&(gn=JSON.parse(Lt.dataset.socialLinks))}catch{}const Qn=document.createElement("img");Qn.src=un,Qn.className="enlarge__img",It.appendChild(Qn);const kr=document.createElement("div");kr.className="enlarge__info";const li=document.createElement("div");li.className="enlarge__info-content";const Lr=document.createElement("div");Lr.className="enlarge__name",Lr.textContent=Yn;const Kr=document.createElement("div");if(Kr.className="enlarge__role",Kr.textContent=mt,li.appendChild(Lr),li.appendChild(Kr),kr.appendChild(li),Yn){const ge=document.createElement("button");ge.className="enlarge__explore-btn",ge.textContent="Explore",ge.onclick=be=>{be.stopPropagation(),It.classList.add("enlarge--expanded"),ge.style.display="none";const Te=document.createElement("div");Te.className="enlarge__expanded";const Ce=document.createElement("div");Ce.className="enlarge__expanded-left";const Oe=document.createElement("img");Oe.src=un,Oe.className="enlarge__expanded-img",Ce.appendChild(Oe);const Me=document.createElement("div");Me.className="enlarge__expanded-info";const rt=document.createElement("div");rt.className="enlarge__expanded-name",rt.textContent=Yn;const At=document.createElement("div");At.className="enlarge__expanded-role",At.textContent=mt,Me.appendChild(rt),Me.appendChild(At),Ce.appendChild(Me);const Je=document.createElement("div");Je.className="enlarge__expanded-right";const lt=document.createElement("div");if(lt.className="enlarge__details-section",$t){const Ot=document.createElement("div");Ot.className="enlarge__detail-row",Ot.innerHTML=`<span class="enlarge__detail-label">Team</span><span class="enlarge__detail-value">${$t}</span>`,lt.appendChild(Ot)}if(cn){const Ot=document.createElement("div");Ot.className="enlarge__detail-row",Ot.innerHTML=`<span class="enlarge__detail-label">Date of Birth</span><span class="enlarge__detail-value">${cn}</span>`,lt.appendChild(Ot)}if(Je.appendChild(lt),mn.year||mn.branch||mn.division||mn.yearOfGraduation){const Ot=document.createElement("div");Ot.className="enlarge__expanded-title",Ot.textContent="Academic Details",Je.appendChild(Ot);const Mt=document.createElement("div");if(Mt.className="enlarge__academics-grid",mn.year){const wt=document.createElement("div");wt.className="enlarge__academic-item",wt.innerHTML=`<span class="enlarge__academic-label">Year</span><span class="enlarge__academic-value">${mn.year}</span>`,Mt.appendChild(wt)}if(mn.branch){const wt=document.createElement("div");wt.className="enlarge__academic-item",wt.innerHTML=`<span class="enlarge__academic-label">Branch</span><span class="enlarge__academic-value">${mn.branch}</span>`,Mt.appendChild(wt)}if(mn.division){const wt=document.createElement("div");wt.className="enlarge__academic-item",wt.innerHTML=`<span class="enlarge__academic-label">Division</span><span class="enlarge__academic-value">${mn.division}</span>`,Mt.appendChild(wt)}if(mn.yearOfGraduation){const wt=document.createElement("div");wt.className="enlarge__academic-item",wt.innerHTML=`<span class="enlarge__academic-label">Graduation</span><span class="enlarge__academic-value">${mn.yearOfGraduation}</span>`,Mt.appendChild(wt)}Je.appendChild(Mt)}if(gn.instagram||gn.linkedin||gn.github||gn.twitter){const Ot=document.createElement("div");Ot.className="enlarge__expanded-title",Ot.textContent="Connect",Je.appendChild(Ot);const Mt=document.createElement("div");if(Mt.className="enlarge__social-links",gn.instagram){const wt=document.createElement("a");wt.href=gn.instagram,wt.target="_blank",wt.rel="noopener noreferrer",wt.className="enlarge__social-link enlarge__social-link--instagram",wt.innerHTML='<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="2" y="2" width="20" height="20" rx="5" ry="5"/><path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"/><line x1="17.5" y1="6.5" x2="17.51" y2="6.5"/></svg>',wt.onclick=nn=>nn.stopPropagation(),Mt.appendChild(wt)}if(gn.linkedin){const wt=document.createElement("a");wt.href=gn.linkedin,wt.target="_blank",wt.rel="noopener noreferrer",wt.className="enlarge__social-link enlarge__social-link--linkedin",wt.innerHTML='<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"/><rect x="2" y="9" width="4" height="12"/><circle cx="4" cy="4" r="2"/></svg>',wt.onclick=nn=>nn.stopPropagation(),Mt.appendChild(wt)}if(gn.github){const wt=document.createElement("a");wt.href=gn.github,wt.target="_blank",wt.rel="noopener noreferrer",wt.className="enlarge__social-link enlarge__social-link--github",wt.innerHTML='<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"/></svg>',wt.onclick=nn=>nn.stopPropagation(),Mt.appendChild(wt)}if(gn.twitter){const wt=document.createElement("a");wt.href=gn.twitter,wt.target="_blank",wt.rel="noopener noreferrer",wt.className="enlarge__social-link enlarge__social-link--x",wt.innerHTML='<svg viewBox="0 0 24 24" fill="currentColor"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg>',wt.onclick=nn=>nn.stopPropagation(),Mt.appendChild(wt)}Je.appendChild(Mt)}if(ce){const Ot=document.createElement("button");Ot.className="enlarge__profile-btn",Ot.textContent="View Full Profile",Ot.onclick=Mt=>{Mt.stopPropagation(),ce({name:Yn,role:mt,src:un,bio:""})},Je.appendChild(Ot)}Te.appendChild(Ce),Te.appendChild(Je),It.appendChild(Te)},kr.appendChild(ge)}It.appendChild(kr),Z.current.appendChild(It);const On=an.left-Wt.left,Ni=an.top-Wt.top,Ki=an.width/Wt.width,$r=an.height/Wt.height,zi=isFinite(Ki)&&Ki>0?Ki:1,lr=isFinite($r)&&$r>0?$r:1;if(It.style.transform=`translate(${On}px, ${Ni}px) scale(${zi}, ${lr})`,setTimeout(()=>{It.parentElement&&(It.style.opacity="1",It.style.transform="translate(0px, 0px) scale(1, 1)",re.current?.setAttribute("data-enlarging","true"))},16),A||E){const ge=be=>{if(be.propertyName!=="transform")return;It.removeEventListener("transitionend",ge);const Te=It.style.transition;It.style.transition="none";const Ce=A||`${Wt.width}px`,Oe=E||`${Wt.height}px`;It.style.width=Ce,It.style.height=Oe;const Me=It.getBoundingClientRect();It.style.width=Wt.width+"px",It.style.height=Wt.height+"px",It.offsetWidth,It.style.transition=`left ${d}ms ease, top ${d}ms ease, width ${d}ms ease, height ${d}ms ease`;const rt=Wt.left-dt.left+(Wt.width-Me.width)/2,At=Wt.top-dt.top+(Wt.height-Me.height)/2;requestAnimationFrame(()=>{It.style.left=`${rt}px`,It.style.top=`${At}px`,It.style.width=Ce,It.style.height=Oe});const Je=()=>{It.removeEventListener("transitionend",Je),It.style.transition=Te};It.addEventListener("transitionend",Je,{once:!0})};It.addEventListener("transitionend",ge)}},[x,d,A,E,Q,oe]),tt=ae.useCallback(Xe=>{xe.current||Re.current||performance.now()-q.current<80||ze.current||zt(Xe.currentTarget)},[zt]),tn=ae.useCallback(Xe=>{Xe.pointerType==="touch"&&(xe.current||Re.current||performance.now()-q.current<80||ze.current||zt(Xe.currentTarget))},[zt]);return ae.useEffect(()=>{const Xe=U.current;if(!Xe)return;const Lt=()=>{if(performance.now()-ve.current<250)return;const st=H.current;if(!st)return;const Yt=st.parentElement,rn=Z.current?.querySelector(".enlarge");if(!rn)return;const hn=Yt.querySelector(".item__image--reference"),xn=X.current;if(!xn){rn.remove(),hn&&hn.remove(),Yt.style.setProperty("--rot-y-delta","0deg"),Yt.style.setProperty("--rot-x-delta","0deg"),st.style.visibility="",st.style.zIndex=0,H.current=null,re.current?.removeAttribute("data-enlarging"),ze.current=!1,oe();return}const on=rn.getBoundingClientRect(),bn=re.current.getBoundingClientRect(),dn={left:xn.left-bn.left,top:xn.top-bn.top,width:xn.width,height:xn.height},nr={left:on.left-bn.left,top:on.top-bn.top,width:on.width,height:on.height},an=document.createElement("div");an.className="enlarge-closing",an.style.cssText=`
        position: absolute;
        left: ${nr.left}px;
        top: ${nr.top}px;
        width: ${nr.width}px;
        height: ${nr.height}px;
        z-index: 9999;
        border-radius: var(--enlarge-radius, 32px);
        overflow: hidden;
        box-shadow: 0 10px 30px rgba(0,0,0,.35);
        transition: all ${d}ms ease-out;
        pointer-events: none;
        margin: 0;
        transform: none;
      `;const dt=rn.querySelector("img");if(dt){const It=dt.cloneNode();It.style.cssText="width: 100%; height: 100%; object-fit: cover;",an.appendChild(It)}rn.remove(),re.current.appendChild(an),an.getBoundingClientRect(),requestAnimationFrame(()=>{an.style.left=dn.left+"px",an.style.top=dn.top+"px",an.style.width=dn.width+"px",an.style.height=dn.height+"px",an.style.opacity="0"});const Wt=()=>{an.remove(),X.current=null,hn&&hn.remove(),Yt.style.transition="none",st.style.transition="none",Yt.style.setProperty("--rot-y-delta","0deg"),Yt.style.setProperty("--rot-x-delta","0deg"),requestAnimationFrame(()=>{st.style.visibility="",st.style.opacity="0",st.style.zIndex=0,H.current=null,re.current?.removeAttribute("data-enlarging"),requestAnimationFrame(()=>{Yt.style.transition="",st.style.transition="opacity 300ms ease-out",requestAnimationFrame(()=>{st.style.opacity="1",setTimeout(()=>{st.style.transition="",st.style.opacity="",ze.current=!1,!xe.current&&re.current?.getAttribute("data-enlarging")!=="true"&&document.body.classList.remove("dg-scroll-lock")},300)})})})};an.addEventListener("transitionend",Wt,{once:!0})};Xe.addEventListener("click",Lt);const fn=st=>{st.key==="Escape"&&Lt()};return window.addEventListener("keydown",fn),()=>{Xe.removeEventListener("click",Lt),window.removeEventListener("keydown",fn)}},[d,oe]),ae.useEffect(()=>()=>{document.body.classList.remove("dg-scroll-lock")},[]),m.jsx("div",{ref:re,className:"sphere-root",style:{"--segments-x":x,"--segments-y":x,"--overlay-blur-color":o,"--tile-radius":I,"--enlarge-radius":C,"--image-filter":L?"grayscale(1)":"none"},children:m.jsxs("main",{ref:F,className:"sphere-main",children:[m.jsx("div",{className:"stage",children:m.jsx("div",{ref:B,className:"sphere",children:De.map((Xe,Lt)=>m.jsx("div",{className:"item","data-src":Xe.src,"data-name":Xe.name,"data-role":Xe.role,"data-bio":Xe.bio,"data-team":Xe.team,"data-academics":Xe.academics?JSON.stringify(Xe.academics):"","data-social-links":Xe.socialLinks?JSON.stringify(Xe.socialLinks):"","data-date-of-birth":Xe.dateOfBirth||"","data-offset-x":Xe.x,"data-offset-y":Xe.y,"data-size-x":Xe.sizeX,"data-size-y":Xe.sizeY,style:{"--offset-x":Xe.x,"--offset-y":Xe.y,"--item-size-x":Xe.sizeX,"--item-size-y":Xe.sizeY},children:m.jsx("div",{className:`item__image${Qe&&Ve.some(fn=>fn.name===Xe.name&&fn.src===Xe.src)?" item__image--glow":""}`,role:"button",tabIndex:0,"aria-label":Xe.alt||"Open image",onClick:tt,onPointerUp:tn,children:m.jsx("img",{src:Xe.src,draggable:!1,alt:Xe.alt})})},`${Xe.x},${Xe.y},${Lt}`))})}),m.jsx("div",{className:"overlay"}),m.jsx("div",{className:"overlay overlay--blur"}),m.jsx("div",{className:"edge-fade edge-fade--top"}),m.jsx("div",{className:"edge-fade edge-fade--bottom"}),m.jsxs("div",{className:"viewer",ref:Z,children:[m.jsx("div",{ref:U,className:"scrim"}),m.jsx("div",{ref:D,className:"frame"})]})]})})}function AY({searchQuery:n="",teamFilter:e="",maxItems:t,showExploreMore:r=!1}){const[i,s]=ae.useState(null),[o,u]=ae.useState(!1),f=ae.useRef(null),d="/orbitx-zcoer-website/",x=ae.useMemo(()=>{let W=Qy.members.filter(M=>M.firstName&&M.lastName);if(n){const M=n.toLowerCase();W=W.filter(G=>`${G.firstName} ${G.lastName}`.toLowerCase().includes(M)||G.position?.toLowerCase().includes(M)||G.team?.toLowerCase().includes(M))}return e&&(W=W.filter(M=>M.team===e||M.position===e)),t&&(W=W.slice(0,t)),W},[n,e,t]),w=W=>W?W.startsWith("http")?W:W.startsWith("/")?d+W.slice(1):`${d}members/${W}`:"",A=W=>{s(W),u(!1)},E=()=>{s(null),u(!1)},I=()=>{u(!o)},C=W=>{const M=W.academics&&(W.academics.branch||W.academics.year||W.academics.division||W.academics.yearOfGraduation),G=W.socialLinks&&Object.values(W.socialLinks).some(ce=>ce);return M||G};ae.useEffect(()=>(i&&f.current?(setTimeout(()=>{f.current?.scrollIntoView({behavior:"smooth",block:"center"})},100),document.body.style.overflow="hidden"):document.body.style.overflow="",()=>{document.body.style.overflow=""}),[i]);const L=Qy.members.filter(W=>W.firstName&&W.lastName).length,j=t&&L>t;return x.length===0?m.jsxs("div",{className:"mobile-gallery__empty",children:[m.jsx("p",{children:"No members found"}),m.jsx("span",{children:"Try adjusting your search or filter"})]}):m.jsxs("div",{className:"mobile-gallery",children:[m.jsx("div",{className:"mobile-gallery__grid",children:x.map(W=>m.jsxs("div",{className:"mobile-gallery__card",onClick:()=>A(W),children:[m.jsx("div",{className:"mobile-gallery__image-wrapper",children:W.image?m.jsx("img",{src:w(W.image),alt:`${W.firstName} ${W.lastName}`,className:"mobile-gallery__image",loading:"lazy"}):m.jsxs("div",{className:"mobile-gallery__placeholder",children:[W.firstName[0],W.lastName[0]]})}),m.jsxs("div",{className:"mobile-gallery__info",children:[m.jsxs("h3",{className:"mobile-gallery__name",children:[W.firstName," ",W.lastName]}),m.jsx("p",{className:"mobile-gallery__role",children:W.position})]})]},W.id))}),r&&j&&m.jsxs("div",{className:"mobile-gallery__explore",children:[m.jsxs(Wi,{to:"/members",className:"mobile-gallery__explore-btn",children:[m.jsx("span",{children:"Explore All Members"}),m.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:m.jsx("path",{d:"M5 12h14M12 5l7 7-7 7"})})]}),m.jsxs("p",{className:"mobile-gallery__explore-count",children:["Showing ",x.length," of ",L," members"]})]}),i&&m.jsx("div",{className:"mobile-gallery__modal-overlay",onClick:E,children:m.jsxs("div",{ref:f,className:`mobile-gallery__modal ${o?"mobile-gallery__modal--expanded":""}`,onClick:W=>W.stopPropagation(),children:[m.jsx("button",{className:"mobile-gallery__modal-close",onClick:E,children:""}),m.jsx("div",{className:"mobile-gallery__modal-image",children:i.image?m.jsx("img",{src:w(i.image),alt:`${i.firstName} ${i.lastName}`}):m.jsxs("div",{className:"mobile-gallery__modal-placeholder",children:[i.firstName[0],i.lastName[0]]})}),m.jsxs("div",{className:"mobile-gallery__modal-content",children:[m.jsxs("h2",{className:"mobile-gallery__modal-name",children:[i.firstName," ",i.lastName]}),m.jsx("span",{className:"mobile-gallery__modal-badge",children:i.position}),m.jsx("p",{className:"mobile-gallery__modal-team",children:i.team}),C(i)&&m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:`mobile-gallery__modal-extra ${o?"mobile-gallery__modal-extra--visible":""}`,children:[i.academics&&m.jsxs("div",{className:"mobile-gallery__modal-section",children:[m.jsx("h4",{className:"mobile-gallery__modal-label",children:"Academics"}),m.jsxs("div",{className:"mobile-gallery__modal-academics",children:[i.academics.branch&&m.jsx("span",{className:"mobile-gallery__modal-tag",children:i.academics.branch}),i.academics.year&&m.jsx("span",{className:"mobile-gallery__modal-tag",children:i.academics.year}),i.academics.division&&m.jsxs("span",{className:"mobile-gallery__modal-tag",children:["Div ",i.academics.division]}),i.academics.yearOfGraduation&&m.jsxs("span",{className:"mobile-gallery__modal-tag",children:["Batch ",i.academics.yearOfGraduation]})]})]}),i.socialLinks&&Object.values(i.socialLinks).some(W=>W)&&m.jsxs("div",{className:"mobile-gallery__modal-section",children:[m.jsx("h4",{className:"mobile-gallery__modal-label",children:"Connect"}),m.jsxs("div",{className:"mobile-gallery__modal-socials",children:[i.socialLinks.instagram&&m.jsxs("a",{href:i.socialLinks.instagram,target:"_blank",rel:"noopener noreferrer",className:"mobile-gallery__social-btn mobile-gallery__social-btn--instagram",children:[m.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:m.jsx("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"})}),m.jsx("span",{children:"Instagram"})]}),i.socialLinks.linkedin&&m.jsxs("a",{href:i.socialLinks.linkedin,target:"_blank",rel:"noopener noreferrer",className:"mobile-gallery__social-btn mobile-gallery__social-btn--linkedin",children:[m.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:m.jsx("path",{d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"})}),m.jsx("span",{children:"LinkedIn"})]}),i.socialLinks.github&&m.jsxs("a",{href:i.socialLinks.github,target:"_blank",rel:"noopener noreferrer",className:"mobile-gallery__social-btn mobile-gallery__social-btn--github",children:[m.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:m.jsx("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"})}),m.jsx("span",{children:"GitHub"})]}),i.socialLinks.twitter&&m.jsxs("a",{href:i.socialLinks.twitter,target:"_blank",rel:"noopener noreferrer",className:"mobile-gallery__social-btn mobile-gallery__social-btn--twitter",children:[m.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:m.jsx("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})}),m.jsx("span",{children:"Twitter"})]})]})]})]}),m.jsxs("button",{className:`mobile-gallery__modal-expand ${o?"mobile-gallery__modal-expand--active":""}`,onClick:I,children:[m.jsx("span",{children:o?"Show Less":"Explore More"}),m.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:m.jsx("polyline",{points:"6 9 12 15 18 9"})})]})]})]})]})})]})}function dR({autoRotate:n=!1,autoRotateSpeed:e=.15,grayscale:t=!0,maxVerticalRotationDeg:r=5,overlayBlurColor:i="#060010",imageBorderRadius:s="30px",openedImageBorderRadius:o="30px",fit:u=.5,minRadius:f=600,searchQuery:d="",teamFilter:x="",maxItems:w,showExploreMore:A=!1}){const[E,I]=ae.useState(!1);return ae.useEffect(()=>{const C=()=>{I(window.innerWidth<=768)};return C(),window.addEventListener("resize",C),()=>window.removeEventListener("resize",C)},[]),E?m.jsx(AY,{searchQuery:d,teamFilter:x,maxItems:w,showExploreMore:A}):m.jsx(EY,{autoRotate:n,autoRotateSpeed:e,grayscale:t,maxVerticalRotationDeg:r,overlayBlurColor:i,imageBorderRadius:s,openedImageBorderRadius:o,fit:u,minRadius:f,searchQuery:d,teamFilter:x})}function SY(){return m.jsxs("section",{className:"members-glimpse",children:[m.jsxs("div",{className:"members-glimpse__header",children:[m.jsx("h2",{className:"members-glimpse__heading",children:"Members Glimpse"}),m.jsx("p",{className:"members-glimpse__subheading",children:"The People Behind OrbitX"})]}),m.jsx("div",{className:"members-glimpse__container",children:m.jsx(dR,{overlayBlurColor:"#000000",grayscale:!1,imageBorderRadius:"20px",openedImageBorderRadius:"24px",fit:.6,minRadius:400,maxVerticalRotationDeg:0,autoRotate:!0,autoRotateSpeed:.05,maxItems:12,showExploreMore:!0})})]})}function TY(){const{isRecruitmentOpen:n}=Xf();return m.jsxs("section",{className:"join-cta",children:[m.jsx("div",{className:"join-cta__glow"}),m.jsxs("div",{className:"join-cta__content",children:[m.jsx("h2",{className:"join-cta__heading",children:"Ready to Explore the Cosmos?"}),m.jsx("p",{className:"join-cta__subheading",children:"Join OrbitX and become part of a community passionate about space, science, and discovery."}),m.jsxs("div",{className:"join-cta__buttons",children:[n?m.jsxs(Wi,{to:"/join",className:"join-cta__btn join-cta__btn--primary",children:["Join OrbitX",m.jsx("span",{className:"join-cta__btn-arrow",children:""})]}):m.jsxs(Wi,{to:"/contact",className:"join-cta__btn join-cta__btn--primary",children:["Get in Touch",m.jsx("span",{className:"join-cta__btn-arrow",children:""})]}),m.jsx(Wi,{to:"/about",className:"join-cta__btn join-cta__btn--secondary",children:"Learn More"})]})]})]})}const Y_=[{id:1,name:"OrbitX Classic Tee",price:"599",description:"Premium cotton t-shirt featuring the iconic OrbitX logo. Perfect for stargazing sessions and everyday wear.",images:["https://images.unsplash.com/photo-1521572163474-6864f9cf17ab?w=400&h=400&fit=crop","https://images.unsplash.com/photo-1583743814966-8936f5b7be1a?w=400&h=400&fit=crop"]},{id:2,name:"Cosmic Hoodie",price:"1,299",description:"Stay warm under the night sky with our cozy space-themed hoodie. Features constellation embroidery.",images:["https://images.unsplash.com/photo-1556821840-3a63f95609a7?w=400&h=400&fit=crop","https://images.unsplash.com/photo-1578768079052-aa76e52ff62e?w=400&h=400&fit=crop"]},{id:3,name:"Stellar Cap",price:"399",description:"Embroidered cap with OrbitX branding. Adjustable strap for the perfect fit.",images:["https://images.unsplash.com/photo-1588850561407-ed78c282e89b?w=400&h=400&fit=crop","https://images.unsplash.com/photo-1534215754734-18e55d13e346?w=400&h=400&fit=crop"]},{id:4,name:"Galaxy Mug",price:"349",description:"Ceramic mug with a stunning galaxy print. Perfect for your morning coffee before a launch.",images:["https://images.unsplash.com/photo-1514228742587-6b1558fcca3d?w=400&h=400&fit=crop","https://images.unsplash.com/photo-1577937927133-66ef06acdf18?w=400&h=400&fit=crop"]},{id:5,name:"Astronaut Stickers",price:"149",description:"Pack of 10 vinyl stickers featuring space-themed designs. Waterproof and durable.",images:["https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=400&h=400&fit=crop","https://images.unsplash.com/photo-1553729784-e91953dec042?w=400&h=400&fit=crop"]},{id:6,name:"Nebula Poster",price:"499",description:"High-quality print of the Orion Nebula. Perfect for decorating your room or study.",images:["https://images.unsplash.com/photo-1462332420958-a05d1e002413?w=400&h=400&fit=crop","https://images.unsplash.com/photo-1419242902214-272b3f66ee7a?w=400&h=400&fit=crop"]}];function NY(){const[n,e]=ae.useState(null),[t,r]=ae.useState(0),[i,s]=ae.useState(!1),[o,u]=ae.useState(!1),[f,d]=ae.useState(0),[x,w]=ae.useState(0),A=ae.useRef(null),E=[...Y_,...Y_,...Y_];ae.useEffect(()=>(n?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[n]),ae.useEffect(()=>{const B=A.current;if(!B)return;const D=sessionStorage.getItem("merchCarouselPosition"),Z=B.scrollWidth/3;D?B.scrollLeft=parseFloat(D):B.scrollLeft=Z;const U=()=>{const H=B.scrollWidth/3;B.scrollLeft<10?B.scrollLeft=H+B.scrollLeft:B.scrollLeft>=H*2-10&&(B.scrollLeft=B.scrollLeft-H),sessionStorage.setItem("merchCarouselPosition",String(B.scrollLeft))};return B.addEventListener("scroll",U),()=>B.removeEventListener("scroll",U)},[]);const I=B=>{A.current&&(u(!0),d(B.pageX-A.current.offsetLeft),w(A.current.scrollLeft),A.current.style.cursor="grabbing")},C=()=>{u(!1),A.current&&(A.current.style.cursor="grab")},L=B=>{if(!o||!A.current)return;B.preventDefault();const Z=(B.pageX-A.current.offsetLeft-f)*1.5;A.current.scrollLeft=x-Z},j=()=>{o&&(u(!1),A.current&&(A.current.style.cursor="grab"))},W=B=>{o||(e(B),r(0),s(!1))},M=()=>{s(!0),setTimeout(()=>{e(null),s(!1)},200)},G=B=>{B.target===B.currentTarget&&M()},ce=()=>{n&&r(B=>B===0?n.images.length-1:B-1)},re=()=>{n&&r(B=>B===n.images.length-1?0:B+1)},F=B=>{A.current&&A.current.scrollBy({left:B==="left"?-320:320,behavior:"smooth"})};return m.jsxs("section",{className:"merch-teaser",children:[m.jsxs("div",{className:"merch-teaser__header",children:[m.jsx("h2",{className:"merch-teaser__heading",children:"OrbitX Merchandise"}),m.jsx("p",{className:"merch-teaser__subheading",children:"Wear your passion. Support the mission."})]}),m.jsxs("div",{className:"merch-teaser__carousel-wrapper",children:[m.jsx("button",{className:"merch-teaser__nav merch-teaser__nav--left",onClick:()=>F("left"),"aria-label":"Scroll left",children:""}),m.jsx("div",{className:`merch-teaser__carousel ${o?"merch-teaser__carousel--dragging":""}`,ref:A,onMouseDown:I,onMouseUp:C,onMouseMove:L,onMouseLeave:j,children:E.map((B,D)=>m.jsxs("div",{className:"merch-teaser__card",onClick:()=>W(B),children:[m.jsx("div",{className:"merch-teaser__card-image",children:m.jsx("img",{src:B.images[0],alt:B.name,draggable:!1})}),m.jsxs("div",{className:"merch-teaser__card-info",children:[m.jsx("h3",{className:"merch-teaser__card-name",children:B.name}),m.jsx("span",{className:"merch-teaser__card-price",children:B.price})]})]},`${B.id}-${D}`))}),m.jsx("button",{className:"merch-teaser__nav merch-teaser__nav--right",onClick:()=>F("right"),"aria-label":"Scroll right",children:""})]}),n&&m.jsx("div",{className:`merch-teaser__overlay ${i?"merch-teaser__overlay--closing":""}`,onClick:G,children:m.jsxs("div",{className:`merch-teaser__modal ${i?"merch-teaser__modal--closing":""}`,children:[m.jsx("button",{className:"merch-teaser__modal-close",onClick:M,children:""}),m.jsxs("div",{className:"merch-teaser__modal-content",children:[m.jsxs("div",{className:"merch-teaser__modal-gallery",children:[m.jsx("button",{className:"merch-teaser__gallery-nav merch-teaser__gallery-nav--prev",onClick:ce,children:""}),m.jsx("div",{className:"merch-teaser__gallery-image",children:m.jsx("img",{src:n.images[t],alt:n.name})}),m.jsx("button",{className:"merch-teaser__gallery-nav merch-teaser__gallery-nav--next",onClick:re,children:""}),m.jsx("div",{className:"merch-teaser__gallery-dots",children:n.images.map((B,D)=>m.jsx("span",{className:`merch-teaser__gallery-dot ${D===t?"merch-teaser__gallery-dot--active":""}`,onClick:()=>r(D)},D))})]}),m.jsxs("div",{className:"merch-teaser__modal-details",children:[m.jsx("h3",{className:"merch-teaser__modal-name",children:n.name}),m.jsx("span",{className:"merch-teaser__modal-price",children:n.price}),m.jsx("p",{className:"merch-teaser__modal-description",children:n.description}),m.jsxs("div",{className:"merch-teaser__modal-actions",children:[m.jsx("button",{className:"merch-teaser__btn merch-teaser__btn--primary",children:"Buy Now"}),m.jsx("a",{href:"#merch",className:"merch-teaser__btn merch-teaser__btn--secondary",children:"View All Products"})]})]})]})]})})]})}function jl(){const{isRecruitmentOpen:n}=Xf();return m.jsxs("footer",{className:"footer",children:[m.jsxs("div",{className:"footer-container",children:[m.jsxs("div",{className:"footer-column footer-brand",children:[m.jsx("img",{src:yw,alt:"OrbitX",className:"footer-logo"}),m.jsx("p",{children:"Student-driven space and astronomy club focused on exploration, innovation, and hands-on learning."})]}),m.jsxs("div",{className:"footer-column",children:[m.jsx("h4",{children:"Quick Links"}),m.jsxs("ul",{children:[m.jsx("li",{children:m.jsx(Wi,{to:"/",children:"Home"})}),m.jsx("li",{children:m.jsx(Wi,{to:"/about",children:"About"})}),m.jsx("li",{children:m.jsx(Wi,{to:"/events",children:"Events"})}),m.jsx("li",{children:m.jsx(Wi,{to:"/members",children:"Members"})})]})]}),m.jsxs("div",{className:"footer-column",children:[m.jsx("h4",{children:"Get Involved"}),m.jsxs("ul",{children:[n?m.jsx("li",{children:m.jsx(Wi,{to:"/join",children:"Join OrbitX"})}):m.jsx("li",{children:m.jsx(Wi,{to:"/contact",children:"Get in Touch"})}),m.jsx("li",{children:m.jsx(Wi,{to:"/merch",children:"Merchandise"})}),m.jsx("li",{children:m.jsx(Wi,{to:"/contact",children:"Contact Us"})})]})]}),m.jsxs("div",{className:"footer-column",children:[m.jsx("h4",{children:"Connect"}),m.jsxs("ul",{children:[m.jsx("li",{children:m.jsx("a",{href:"https://www.instagram.com/orbitx_zcoer/",target:"_blank",rel:"noopener noreferrer",children:"Instagram"})}),m.jsx("li",{children:m.jsx("a",{href:"https://www.linkedin.com/company/orbitx-zcoer/",target:"_blank",rel:"noopener noreferrer",children:"LinkedIn"})}),m.jsx("li",{children:m.jsx("a",{href:"mailto:contact@orbitxzcoer.club",children:"E-mail"})})]})]}),m.jsxs("div",{className:"footer-column",children:[m.jsx("h4",{children:"Location"}),m.jsx("p",{children:m.jsxs("a",{href:"https://maps.app.goo.gl/zr4Yg3uhrYabnjH49",target:"_blank",rel:"noopener noreferrer",className:"location-link",children:["Department Of Computer Engineering,",m.jsx("br",{}),"Zeal College of Engineering and Research,",m.jsx("br",{}),"Pune, Maharashtra 411041"]})})]})]}),m.jsxs("div",{className:"footer-bottom",children:[m.jsx("p",{children:" 2025 OrbitX. All rights reserved."}),m.jsxs("p",{className:"footer-tagline",children:[m.jsx("a",{href:"https://www.instagram.com/shravan45x/",target:"_blank",rel:"noopener noreferrer",className:"creator-link",children:"Creator - "}),m.jsx("span",{className:"tooltip-wrapper","data-tooltip":"@shravan45x",children:m.jsx("a",{href:"https://www.instagram.com/shravan45x/",target:"_blank",rel:"noopener noreferrer",className:"spinning-dollar",children:"$"})})]})]})]})}function Ca({children:n,direction:e="up",delay:t=0,duration:r=.6,threshold:i=.1,className:s=""}){const[o,u]=ae.useState(!1),f=ae.useRef(null);ae.useEffect(()=>{const x=new IntersectionObserver(([w])=>{w.isIntersecting&&(u(!0),x.unobserve(w.target))},{threshold:i});return f.current&&x.observe(f.current),()=>x.disconnect()},[i]);const d={"--reveal-delay":`${t}s`,"--reveal-duration":`${r}s`};return m.jsx("div",{ref:f,className:`scroll-reveal scroll-reveal--${e} ${o?"scroll-reveal--visible":""} ${s}`,style:d,children:n})}function CY(){return m.jsxs(m.Fragment,{children:[m.jsx(TH,{}),m.jsx(Ca,{direction:"up",children:m.jsx(NH,{})}),m.jsx(Ca,{direction:"up",delay:.1,children:m.jsx(sX,{})}),m.jsx(Ca,{direction:"up",delay:.1,children:m.jsx(SY,{})}),m.jsx(Ca,{direction:"up",delay:.1,children:m.jsx(TY,{})}),m.jsx(Ca,{direction:"up",delay:.1,children:m.jsx(NY,{})}),m.jsx(jl,{})]})}function IY(){return m.jsxs(m.Fragment,{children:[m.jsxs("main",{className:"about-page",children:[m.jsx(Ca,{direction:"fade",children:m.jsxs("section",{className:"about-hero",children:[m.jsxs("div",{className:"about-hero__content",children:[m.jsx("h1",{className:"about-hero__title",children:"About OrbitX"}),m.jsx("p",{className:"about-hero__text",children:"OrbitX is a student-driven space and astronomy organization focused on exploring space technology, fostering innovation, and building a community of curious learners and creators. We bring together students passionate about space science, engineering, and research to learn, collaborate, and create beyond the classroom."})]}),m.jsx("div",{className:"about-hero__image",children:m.jsx("div",{className:"about-hero__placeholder",children:m.jsx("span",{children:"Team Photo"})})})]})}),m.jsx(Ca,{direction:"up",delay:.1,children:m.jsxs("section",{className:"about-stats",children:[m.jsxs("div",{className:"about-stats__item",children:[m.jsx("span",{className:"about-stats__number",children:"28+"}),m.jsx("span",{className:"about-stats__label",children:"Active Members"})]}),m.jsxs("div",{className:"about-stats__item",children:[m.jsx("span",{className:"about-stats__number",children:"1+"}),m.jsx("span",{className:"about-stats__label",children:"Projects"})]}),m.jsxs("div",{className:"about-stats__item",children:[m.jsx("span",{className:"about-stats__number",children:"2+"}),m.jsx("span",{className:"about-stats__label",children:"Events Conducted"})]}),m.jsxs("div",{className:"about-stats__item",children:[m.jsx("span",{className:"about-stats__number",children:"8+"}),m.jsx("span",{className:"about-stats__label",children:"Achievements"})]})]})}),m.jsx(Ca,{direction:"up",delay:.1,children:m.jsxs("section",{className:"about-mission-vision",children:[m.jsxs("div",{className:"about-card about-card--mission",children:[m.jsx("h2",{className:"about-card__title",children:"Our Mission"}),m.jsx("p",{className:"about-card__text",children:"To inspire and empower students to explore space technology through hands-on projects, collaborative learning, and innovative research. We aim to bridge the gap between theoretical knowledge and practical application in aerospace engineering and space sciences."})]}),m.jsxs("div",{className:"about-card about-card--vision",children:[m.jsx("h2",{className:"about-card__title",children:"Our Vision"}),m.jsx("p",{className:"about-card__text",children:"To become a leading student organization contributing to the advancement of space technology and exploration. We envision a future where our members emerge as pioneers in the space industry, driving innovation and pushing the boundaries beyond Earth's horizons."})]})]})}),m.jsx(Ca,{direction:"up",delay:.1,children:m.jsxs("section",{className:"about-values",children:[m.jsx("h2",{className:"about-values__heading",children:"Our Core Values"}),m.jsxs("div",{className:"about-values__grid",children:[m.jsxs("div",{className:"about-value-card",children:[m.jsx("h3",{className:"about-value-card__title",children:"Innovation"}),m.jsx("p",{className:"about-value-card__text",children:"Pushing boundaries through creative problem-solving and emerging technologies."})]}),m.jsxs("div",{className:"about-value-card",children:[m.jsx("h3",{className:"about-value-card__title",children:"Collaboration"}),m.jsx("p",{className:"about-value-card__text",children:"Working together as teams to achieve meaningful outcomes in space exploration."})]}),m.jsxs("div",{className:"about-value-card",children:[m.jsx("h3",{className:"about-value-card__title",children:"Learning"}),m.jsx("p",{className:"about-value-card__text",children:"Continuous growth through hands-on experience, experimentation, and knowledge sharing."})]}),m.jsxs("div",{className:"about-value-card",children:[m.jsx("h3",{className:"about-value-card__title",children:"Excellence"}),m.jsx("p",{className:"about-value-card__text",children:"Striving for high standards, precision, and impact in everything we build."})]})]})]})}),m.jsx(Ca,{direction:"up",delay:.1,children:m.jsxs("section",{className:"about-journey",children:[m.jsx("h2",{className:"about-journey__heading",children:"Our Journey"}),m.jsxs("div",{className:"about-journey__container",children:[m.jsxs("div",{className:"about-journey__gallery",children:[m.jsx("div",{className:"about-journey__image-placeholder",children:m.jsx("span",{children:"Event Photo 1"})}),m.jsx("div",{className:"about-journey__image-placeholder",children:m.jsx("span",{children:"Event Photo 2"})}),m.jsx("div",{className:"about-journey__image-placeholder about-journey__image-placeholder--large",children:m.jsx("span",{children:"Workshop / Session Photo"})})]}),m.jsxs("div",{className:"about-journey__content",children:[m.jsx("p",{className:"about-journey__text",children:"Founded at Zeal College of Engineering and Research (ZCOER), OrbitX began as a small group of students fascinated by space exploration and technology. What started as informal discussions about rockets and satellites gradually evolved into a structured and purpose-driven organization."}),m.jsx("p",{className:"about-journey__text",children:"Today, OrbitX comprises six dedicated teams working across multiple domains of space technology, including satellite development, research, and exploration concepts. Our members collaborate on real-world projects, participate in national-level competitions, and actively contribute to India's growing space technology ecosystem."}),m.jsx("p",{className:"about-journey__text",children:"We believe the future of space exploration lies in the hands of today's students. Through OrbitX, we provide a platform for learning, experimentation, and innovationpreparing our members for careers in the rapidly expanding space and aerospace industry."})]})]})]})})]}),m.jsx(jl,{})]})}const mR=ae.createContext(null);function Oa(){const n=ae.useContext(mR);if(!n)throw new Error("useToast must be used within a ToastProvider");return n}function RY({children:n}){const[e,t]=ae.useState([]),r=ae.useCallback((s,o="info")=>{const u=Date.now().toString();t(f=>[...f,{id:u,message:s,type:o}]),setTimeout(()=>{t(f=>f.filter(d=>d.id!==u))},4e3)},[]),i=s=>{t(o=>o.filter(u=>u.id!==s))};return m.jsxs(mR.Provider,{value:{showToast:r},children:[n,m.jsx("div",{className:"toast-container",children:e.map(s=>m.jsxs("div",{className:`toast toast--${s.type}`,onClick:()=>i(s.id),children:[m.jsxs("div",{className:"toast__icon",children:[s.type==="success"&&m.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:m.jsx("polyline",{points:"20 6 9 17 4 12"})}),s.type==="error"&&m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("circle",{cx:"12",cy:"12",r:"10"}),m.jsx("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),m.jsx("line",{x1:"9",y1:"9",x2:"15",y2:"15"})]}),s.type==="info"&&m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("circle",{cx:"12",cy:"12",r:"10"}),m.jsx("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),m.jsx("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]})]}),m.jsx("span",{className:"toast__message",children:s.message}),m.jsx("button",{className:"toast__close",children:m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),m.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]},s.id))})]})}function Wa({options:n,value:e,onChange:t,placeholder:r="Select an option",error:i=!1,searchable:s=!1,name:o,disabled:u=!1}){const[f,d]=ae.useState(!1),[x,w]=ae.useState(""),[A,E]=ae.useState(-1),I=ae.useRef(null),C=ae.useRef(null),L=ae.useRef(null),j=n.find(re=>re.value===e),W=s&&x?n.filter(re=>re.label.toLowerCase().includes(x.toLowerCase())):n;ae.useEffect(()=>{const re=F=>{I.current&&!I.current.contains(F.target)&&(d(!1),w(""))};return document.addEventListener("mousedown",re),()=>document.removeEventListener("mousedown",re)},[]),ae.useEffect(()=>{f&&s&&C.current&&C.current.focus()},[f,s]),ae.useEffect(()=>{if(f&&A>=0&&L.current){const re=L.current.children[A];re&&re.scrollIntoView({block:"nearest"})}},[A,f]);const M=re=>{t(re),d(!1),w(""),E(-1)},G=re=>{if(!u){if(!f){(re.key==="Enter"||re.key===" "||re.key==="ArrowDown")&&(re.preventDefault(),d(!0));return}switch(re.key){case"ArrowDown":re.preventDefault(),E(F=>F<W.length-1?F+1:F);break;case"ArrowUp":re.preventDefault(),E(F=>F>0?F-1:F);break;case"Enter":re.preventDefault(),A>=0&&W[A]&&M(W[A].value);break;case"Escape":d(!1),w(""),E(-1);break}}},ce=()=>{u||d(!f)};return m.jsxs("div",{className:`custom-select ${f?"custom-select--open":""} ${i?"custom-select--error":""} ${u?"custom-select--disabled":""}`,ref:I,onKeyDown:G,children:[m.jsxs("button",{type:"button",className:"custom-select__trigger",onClick:ce,"aria-haspopup":"listbox","aria-expanded":f,disabled:u,children:[m.jsx("span",{className:`custom-select__value ${j?"":"custom-select__value--placeholder"}`,children:j?j.label:r}),m.jsx("svg",{className:`custom-select__arrow ${f?"custom-select__arrow--open":""}`,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:m.jsx("polyline",{points:"6 9 12 15 18 9"})})]}),f&&m.jsxs("div",{className:"custom-select__dropdown",children:[s&&m.jsxs("div",{className:"custom-select__search",children:[m.jsx("input",{ref:C,type:"text",className:"custom-select__search-input",placeholder:"Search...",value:x,onChange:re=>{w(re.target.value),E(-1)},onClick:re=>re.stopPropagation()}),m.jsxs("svg",{className:"custom-select__search-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("circle",{cx:"11",cy:"11",r:"8"}),m.jsx("path",{d:"m21 21-4.3-4.3"})]})]}),m.jsx("div",{className:"custom-select__options",role:"listbox",ref:L,children:W.length>0?W.map((re,F)=>m.jsxs("div",{className:`custom-select__option 
                                        ${re.value===e?"custom-select__option--selected":""} 
                                        ${F===A?"custom-select__option--highlighted":""}`,onClick:()=>M(re.value),role:"option","aria-selected":re.value===e,children:[re.label,re.value===e&&m.jsx("svg",{className:"custom-select__check",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:m.jsx("polyline",{points:"20 6 9 17 4 12"})})]},re.value)):m.jsx("div",{className:"custom-select__no-results",children:"No options found"})})]}),o&&m.jsx("input",{type:"hidden",name:o,value:e})]})}const OY=["January","February","March","April","May","June","July","August","September","October","November","December"],kY=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];function o2({value:n,onChange:e,placeholder:t="Select date",error:r=!1,minDate:i,maxDate:s,name:o}){const[u,f]=ae.useState(!1),[d,x]=ae.useState(()=>{if(n){const[Re,He]=n.split("-").map(Number);return{month:He-1,year:Re}}const xe=new Date;return{month:xe.getMonth(),year:xe.getFullYear()}}),w=ae.useRef(null),A=xe=>{const[Re,He,ze]=xe.split("-").map(Number);return{year:Re,month:He-1,day:ze}},E=n?A(n):null,I=i?A(i):null,C=s?A(s):null;ae.useEffect(()=>{const xe=Re=>{w.current&&!w.current.contains(Re.target)&&f(!1)};return document.addEventListener("mousedown",xe),()=>document.removeEventListener("mousedown",xe)},[]);const L=xe=>{const[Re,He,ze]=xe.split("-").map(Number),ve=new Date(Re,He-1,ze);return new Intl.DateTimeFormat("en-IN",{day:"numeric",month:"long",year:"numeric"}).format(ve)},j=(xe,Re,He)=>{const ze=String(Re+1).padStart(2,"0"),ve=String(He).padStart(2,"0");return`${xe}-${ze}-${ve}`},W=(xe,Re)=>new Date(Re,xe+1,0).getDate(),M=(xe,Re)=>new Date(Re,xe,1).getDay(),G=xe=>{const Re=d.year,He=d.month;return!!(I&&(Re<I.year||Re===I.year&&He<I.month||Re===I.year&&He===I.month&&xe<I.day)||C&&(Re>C.year||Re===C.year&&He>C.month||Re===C.year&&He===C.month&&xe>C.day))},ce=xe=>E?E.day===xe&&E.month===d.month&&E.year===d.year:!1,re=xe=>{const Re=new Date;return Re.getDate()===xe&&Re.getMonth()===d.month&&Re.getFullYear()===d.year},F=xe=>{if(G(xe))return;const Re=j(d.year,d.month,xe);e(Re),f(!1)},B=()=>{x(xe=>xe.month===0?{month:11,year:xe.year-1}:{month:xe.month-1,year:xe.year})},D=()=>{x(xe=>xe.month===11?{month:0,year:xe.year+1}:{month:xe.month+1,year:xe.year})},Z=xe=>{x(Re=>({...Re,year:parseInt(xe.target.value)}))},U=xe=>{x(Re=>({...Re,month:parseInt(xe.target.value)}))},H=new Date().getFullYear(),X=Array.from({length:100},(xe,Re)=>H-80+Re),ne=W(d.month,d.year),pe=M(d.month,d.year),Ae=[];for(let xe=0;xe<pe;xe++)Ae.push(null);for(let xe=1;xe<=ne;xe++)Ae.push(xe);return m.jsxs("div",{className:`custom-datepicker ${u?"custom-datepicker--open":""} ${r?"custom-datepicker--error":""}`,ref:w,children:[m.jsxs("button",{type:"button",className:"custom-datepicker__trigger",onClick:()=>f(!u),children:[m.jsx("span",{className:`custom-datepicker__value ${n?"":"custom-datepicker__value--placeholder"}`,children:n?L(n):t}),m.jsxs("svg",{className:"custom-datepicker__icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),m.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),m.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),m.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]})]}),u&&m.jsxs("div",{className:"custom-datepicker__dropdown",children:[m.jsxs("div",{className:"custom-datepicker__header",children:[m.jsx("button",{type:"button",className:"custom-datepicker__nav-btn",onClick:B,children:m.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:m.jsx("polyline",{points:"15 18 9 12 15 6"})})}),m.jsxs("div",{className:"custom-datepicker__selectors",children:[m.jsx("select",{className:"custom-datepicker__month-select",value:d.month,onChange:U,children:OY.map((xe,Re)=>m.jsx("option",{value:Re,children:xe},xe))}),m.jsx("select",{className:"custom-datepicker__year-select",value:d.year,onChange:Z,children:X.map(xe=>m.jsx("option",{value:xe,children:xe},xe))})]}),m.jsx("button",{type:"button",className:"custom-datepicker__nav-btn",onClick:D,children:m.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:m.jsx("polyline",{points:"9 18 15 12 9 6"})})})]}),m.jsx("div",{className:"custom-datepicker__days-header",children:kY.map(xe=>m.jsx("span",{className:"custom-datepicker__day-label",children:xe},xe))}),m.jsx("div",{className:"custom-datepicker__calendar",children:Ae.map((xe,Re)=>m.jsx("div",{className:"custom-datepicker__cell",children:xe!==null&&m.jsx("button",{type:"button",className:`custom-datepicker__day 
                                            ${ce(xe)?"custom-datepicker__day--selected":""} 
                                            ${re(xe)?"custom-datepicker__day--today":""}
                                            ${G(xe)?"custom-datepicker__day--disabled":""}`,onClick:()=>F(xe),disabled:G(xe),children:xe})},Re))}),m.jsx("div",{className:"custom-datepicker__footer",children:m.jsx("button",{type:"button",className:"custom-datepicker__today-btn",onClick:()=>{const xe=new Date,Re=j(xe.getFullYear(),xe.getMonth(),xe.getDate());x({month:xe.getMonth(),year:xe.getFullYear()}),G(xe.getDate())||(e(Re),f(!1))},children:"Today"})})]}),o&&m.jsx("input",{type:"hidden",name:o,value:n})]})}function k5({value:n,onChange:e,placeholder:t="Search...",className:r=""}){return m.jsxs("div",{className:`search-input ${r}`,children:[m.jsx("input",{type:"text",className:"search-input__field",placeholder:t,value:n,onChange:i=>e(i.target.value)}),n&&m.jsx("button",{className:"search-input__clear",onClick:()=>e(""),"aria-label":"Clear search",children:m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),m.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})}function gR({options:n,value:e,onChange:t,className:r="",showBadge:i=!0}){const[s,o]=ae.useState(!1),u=ae.useRef(null);ae.useEffect(()=>{const d=x=>{u.current&&!u.current.contains(x.target)&&o(!1)};return s&&document.addEventListener("mousedown",d),()=>document.removeEventListener("mousedown",d)},[s]);const f=e!==""&&e!==n[0]?.value;return m.jsxs("div",{className:`filter-dropdown ${r}`,ref:u,children:[m.jsxs("button",{className:`filter-dropdown__trigger ${s?"filter-dropdown__trigger--active":""}`,onClick:()=>o(!s),"aria-label":"Filter options",children:[m.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:m.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),i&&f&&m.jsx("span",{className:"filter-dropdown__badge"})]}),s&&m.jsx("div",{className:"filter-dropdown__menu",children:n.map(d=>m.jsx("button",{className:`filter-dropdown__item ${e===d.value?"filter-dropdown__item--active":""}`,onClick:()=>{t(d.value),o(!1)},children:d.label},d.value))})]})}function DY({sections:n,className:e=""}){const[t,r]=ae.useState(!1),i=ae.useRef(null);ae.useEffect(()=>{const o=u=>{i.current&&!i.current.contains(u.target)&&r(!1)};return t&&document.addEventListener("mousedown",o),()=>document.removeEventListener("mousedown",o)},[t]);const s=n.some(o=>o.value!==""&&o.value!==o.options[0]?.value);return m.jsxs("div",{className:`filter-dropdown ${e}`,ref:i,children:[m.jsxs("button",{className:`filter-dropdown__trigger ${t?"filter-dropdown__trigger--active":""}`,onClick:()=>r(!t),"aria-label":"Filter options",children:[m.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:m.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),s&&m.jsx("span",{className:"filter-dropdown__badge"})]}),t&&m.jsx("div",{className:"filter-dropdown__menu",children:n.map((o,u)=>m.jsxs("div",{children:[u>0&&m.jsx("div",{className:"filter-dropdown__divider"}),o.title&&m.jsx("span",{className:"filter-dropdown__section-title",children:o.title}),o.options.map(f=>m.jsx("button",{className:`filter-dropdown__item ${o.value===f.value?"filter-dropdown__item--active":""}`,onClick:()=>o.onChange(f.value),children:f.label},f.value))]},u))})]})}function l2({options:n,value:e,onChange:t,placeholder:r="Select an option",className:i="",required:s=!1}){const[o,u]=ae.useState(!1),f=ae.useRef(null);ae.useEffect(()=>{const x=w=>{f.current&&!f.current.contains(w.target)&&u(!1)};return o&&document.addEventListener("mousedown",x),()=>document.removeEventListener("mousedown",x)},[o]);const d=n.find(x=>x.value===e);return m.jsxs("div",{className:`select-dropdown ${i}`,ref:f,children:[m.jsxs("button",{type:"button",className:`select-dropdown__trigger ${o?"select-dropdown__trigger--open":""} ${e?"select-dropdown__trigger--selected":""}`,onClick:()=>u(!o),"aria-required":s,children:[m.jsx("span",{className:e?"":"select-dropdown__placeholder",children:d?.label||r}),m.jsx("svg",{className:`select-dropdown__arrow ${o?"select-dropdown__arrow--open":""}`,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:m.jsx("polyline",{points:"6 9 12 15 18 9"})})]}),o&&m.jsx("div",{className:"select-dropdown__menu",children:n.map(x=>m.jsx("button",{type:"button",className:`select-dropdown__item ${e===x.value?"select-dropdown__item--active":""}`,onClick:()=>{t(x.value),u(!1)},children:x.label},x.value))})]})}function D5({children:n,className:e=""}){return m.jsx("div",{className:`toolbar-wrapper ${e}`,children:m.jsx("div",{className:"toolbar",children:n})})}function LY(){const{showToast:n}=Oa(),[e,t]=ae.useState([]),[r,i]=ae.useState(!0),[s,o]=ae.useState(""),[u,f]=ae.useState(""),[d,x]=ae.useState(null),[w,A]=ae.useState(!1),[E,I]=ae.useState(!1),[C,L]=ae.useState(!1),[j,W]=ae.useState(null),[M,G]=ae.useState(null),[ce,re]=ae.useState(!1),[F,B]=ae.useState(new Set),[D,Z]=ae.useState(new Map),[U,H]=ae.useState(!1),[X,ne]=ae.useState(null);ae.useEffect(()=>{const Q=Pl.onAuthStateChanged(async oe=>{if(oe){let de=await Qs(hr(An,"users",oe.uid));if(de.exists()||(de=await Qs(hr(An,"admins",oe.uid))),de.exists()){const De=de.data();G({orbitId:De.orbitId||"",firstName:De.firstName||"",lastName:De.lastName||"",email:De.email||"",mobile:De.mobile||"",collegeName:De.collegeName||"",gender:De.gender||""})}}else G(null)});return()=>Q()},[]),ae.useEffect(()=>{(async()=>{if(M?.orbitId){const oe=await ax(M.orbitId),de=new Set(oe.map(Ve=>Ve.eventId)),De=new Map;oe.forEach(Ve=>De.set(Ve.eventId,Ve)),B(de),Z(De)}else B(new Set),Z(new Map)})()},[M]),ae.useEffect(()=>{const Q=Ra(Si(An,"events"),ou("date","desc")),oe=Jl(Q,de=>{const De=[];de.forEach(Ve=>{const Fe=Ve.data();De.push({id:Ve.id,type:Fe.type||"Event",title:Fe.title||"",description:Fe.description||"",date:Fe.date||"",venue:Fe.venue||"",venueUrl:Fe.venueUrl,time:Fe.time||"",registrationOpen:Fe.registrationOpen??!1,isPast:Fe.isPast??!1,mode:Fe.mode,registrationDeadline:Fe.registrationDeadline,eligibility:Fe.eligibility,speakers:Fe.speakers,images:Fe.images||[],amount:Fe.amount})}),t(De),i(!1)},de=>{console.error("Error fetching events:",de),i(!1)});return()=>oe()},[]);const pe=e.filter(Q=>!(Q.isPast||s&&!Q.title.toLowerCase().includes(s.toLowerCase())||u&&Q.type!==u)),Ae=e.filter(Q=>!(!Q.isPast||s&&!Q.title.toLowerCase().includes(s.toLowerCase())||u&&Q.type!==u)),xe=Q=>{x(Q),A(!1),document.body.style.overflow="hidden"},Re=()=>{A(!0),setTimeout(()=>{x(null),A(!1),document.body.style.overflow=""},200)},He=async Q=>{if(!M){n("Please log in to register for events","error");return}if(await rR(Q.id,M.orbitId)){n("You are already registered for this event","info");return}W(Q),L(!0)},ze=async Q=>{if(!(!M||!j)){re(!0),L(!1);try{const{registration:oe}=await nR({orbitId:M.orbitId,firstName:M.firstName,lastName:M.lastName,email:M.email,collegeName:M.collegeName,gender:M.gender,govIdLast4:Q.govIdLast4,govIdType:Q.govIdType,eventId:j.id,eventName:j.title,eventDate:j.date,eventVenue:j.venue});ne({registration:oe,eventVenue:j.venue,eventName:j.title}),B(de=>new Set([...de,j.id])),Z(de=>{const De=new Map(de);return De.set(j.id,oe),De}),H(!0),n("Registration Successful!","success")}catch(oe){console.error("Error registering:",oe),n("Registration failed. Please try again.","error")}finally{re(!1),W(null)}}},ve=async()=>{if(!(!X||!M))try{re(!0);const Q=await i2(X.registration,X.eventVenue);s2(Q,X.eventName,M.orbitId),n("Pass downloaded!","success")}catch(Q){console.error("Error downloading pass:",Q),n("Download failed. Try from Dashboard.","error")}finally{re(!1),H(!1),ne(null)}},q=()=>{H(!1),ne(null),n("Collect your pass from My Events in Dashboard","info")},J=async Q=>{if(!M)return;const oe=D.get(Q.id);if(!oe){n("Registration not found","error");return}try{re(!0);const de=await i2(oe,Q.venue);s2(de,Q.title,M.orbitId),n("Pass downloaded!","success")}catch(de){console.error("Error downloading pass:",de),n("Download failed. Try from Dashboard.","error")}finally{re(!1)}};return m.jsxs(m.Fragment,{children:[m.jsxs("main",{className:"events-page",children:[m.jsx(Ca,{direction:"fade",children:m.jsxs("section",{className:"events-hero",children:[m.jsx("h1",{className:"events-hero__title",children:"Events & Activities"}),m.jsx("p",{className:"events-hero__subtitle",children:"Workshops, talks, competitions, and stargazing sessions to fuel your curiosity."})]})}),m.jsx(Ca,{direction:"up",delay:.1,className:"scroll-reveal--z-high",children:m.jsxs(D5,{children:[m.jsx(k5,{value:s,onChange:o,placeholder:"Search events..."}),m.jsx(gR,{options:[{value:"",label:"All Types"},{value:"Workshop",label:"Workshop"},{value:"Talk",label:"Talk"},{value:"Competition",label:"Competition"},{value:"Outreach",label:"Outreach"}],value:u,onChange:f})]})}),m.jsx(Ca,{direction:"up",delay:.15,children:m.jsxs("section",{className:"events-section",children:[m.jsx("h2",{className:"events-section__heading",children:"Upcoming Events"}),r?m.jsx("p",{className:"events-empty",children:"Loading events..."}):pe.length>0?m.jsx("div",{className:"events-grid",children:pe.map(Q=>m.jsx(Fy,{event:Q,onClick:xe,variant:"full",onRegisterClick:He,isRegistered:F.has(Q.id),onDownloadPass:J},Q.id))}):m.jsx("p",{className:"events-empty",children:"No upcoming events match your search."})]})}),m.jsxs("section",{className:"events-section events-section--past",children:[m.jsxs("button",{className:"events-toggle",onClick:()=>I(!E),children:[E?"Hide Past Events":"View Past Events",m.jsx("span",{className:`events-toggle__arrow ${E?"events-toggle__arrow--up":""}`,children:""})]}),E&&m.jsx("div",{className:"events-grid events-grid--past",children:Ae.length>0?Ae.map(Q=>m.jsx(Fy,{event:Q,onClick:xe,variant:"full",isRegistered:F.has(Q.id),onDownloadPass:J},Q.id)):m.jsx("p",{className:"events-empty",children:"No past events match your search."})})]})]}),d&&m.jsx(A5,{event:d,isClosing:w,onClose:Re,onRegisterClick:He,isRegistered:F.has(d.id),onDownloadPass:J}),j&&m.jsx(VH,{event:j,isOpen:C,onClose:()=>{L(!1),W(null)},userProfile:M,onRegisterComplete:ze}),ce&&m.jsx("div",{className:"pass-generating-overlay",children:m.jsxs("div",{className:"pass-generating-content",children:[m.jsx("div",{className:"pass-generating-spinner"}),m.jsx("p",{children:"Generating your pass..."})]})}),U&&m.jsx("div",{className:"success-modal-overlay",children:m.jsxs("div",{className:"success-modal",children:[m.jsx("div",{className:"success-modal__icon",children:m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",strokeLinecap:"round",strokeLinejoin:"round"}),m.jsx("polyline",{points:"22 4 12 14.01 9 11.01",strokeLinecap:"round",strokeLinejoin:"round"})]})}),m.jsx("h3",{className:"success-modal__title",children:"Registration Successful!"}),m.jsx("p",{className:"success-modal__text",children:"Would you like to download your event pass now?"}),m.jsxs("div",{className:"success-modal__actions",children:[m.jsx("button",{className:"success-modal__btn success-modal__btn--primary",onClick:ve,children:"Download Pass"}),m.jsx("button",{className:"success-modal__btn success-modal__btn--secondary",onClick:q,children:"Get it later from Dashboard"})]})]})}),m.jsx(jl,{})]})}const MY=[{value:"All Teams",label:"All Teams"},{value:"President",label:"President"},{value:"Chairman",label:"Chairman"},{value:"Secretary",label:"Secretary"},{value:"Treasurer",label:"Treasurer"},{value:"Co-Treasurer",label:"Co-Treasurer"},{value:"Technical Team",label:"Technical Team"},{value:"Public Outreach Team",label:"Public Outreach Team"},{value:"Documentation Team",label:"Documentation Team"},{value:"Social Media & Editing Team",label:"Social Media & Editing"},{value:"Design & Innovation Team",label:"Design & Innovation"},{value:"Management & Operations Team",label:"Management & Operations"}];function PY(){const[n,e]=ae.useState(""),[t,r]=ae.useState(""),[i,s]=ae.useState("All Teams");return ae.useEffect(()=>{const o=setTimeout(()=>{r(n.trim().toLowerCase())},500);return()=>clearTimeout(o)},[n]),m.jsxs(m.Fragment,{children:[m.jsxs("main",{className:"members-page",children:[m.jsx(Ca,{direction:"fade",children:m.jsxs("section",{className:"members-hero",children:[m.jsx("h1",{className:"members-hero__title",children:"Our Members"}),m.jsx("p",{className:"members-hero__subtitle",children:"Meet the passionate individuals who make OrbitX thrive."})]})}),m.jsx(Ca,{direction:"up",delay:.1,className:"scroll-reveal--z-high",children:m.jsxs(D5,{children:[m.jsx(k5,{value:n,onChange:e,placeholder:"Search members..."}),m.jsx(gR,{options:MY,value:i,onChange:s})]})}),m.jsx(Ca,{direction:"up",delay:.2,children:m.jsx("section",{className:"members-gallery",children:m.jsx(dR,{autoRotate:!0,autoRotateSpeed:.05,grayscale:!1,maxVerticalRotationDeg:0,searchQuery:t,teamFilter:i==="All Teams"?"":i})})})]}),m.jsx(jl,{})]})}const jY=["Technical Team","Design & Innovation Team","Public Outreach Team","Documentation Team","Social Media & Editing Team","Management & Operations Team","Not sure yet"],FY=["Computer Engineering","Mechanical Engineering","Electronics Engineering","Civil Engineering","Information Technology","Other"],BY=["1st Year","2nd Year","3rd Year","4th Year"];function UY(n){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let t="";for(let i=0;i<3;i++)t+=e.charAt(Math.floor(Math.random()*e.length));const r=n.slice(-2).padStart(2,"0");return t+r}function VY(){const{showToast:n}=Oa(),{user:e,profile:t}=Lo(),[r,i]=ae.useState(!1),[s,o]=ae.useState(!0),[u,f]=ae.useState([]),[d,x]=ae.useState(!1),[w,A]=ae.useState({firstName:"",lastName:"",email:"",phone:"",whatsapp:"",college:"",department:"",year:"",interests:[],whyJoin:"",experience:""}),E=u[0],I=E&&(E.status==="pending"||E.status==="reviewed"||E.status==="accepted"),C=E?.status==="rejected",L=I&&!d;ae.useEffect(()=>{if(!e?.email){o(!1);return}const F=Ra(Si(An,"applications"),Ll("email","==",e.email.toLowerCase())),B=Jl(F,async D=>{const Z=D.docs.map(ne=>({id:ne.id,...ne.data()})),U=20,H=new Date;H.setDate(H.getDate()-U);const X=[];for(const ne of Z)if(ne.status==="rejected"&&new Date(ne.submittedAt)<H)try{await lu(hr(An,"applications",ne.id)),console.log(`Deleted expired rejected application: ${ne.applicationId}`)}catch(pe){console.error("Error deleting expired application:",pe),X.push(ne)}else X.push(ne);if(X.sort((ne,pe)=>new Date(pe.submittedAt).getTime()-new Date(ne.submittedAt).getTime()),f(X),X.length>0){const ne=X[0];A({firstName:ne.firstName||"",lastName:ne.lastName||"",email:ne.email||"",phone:ne.phone||"",whatsapp:ne.whatsapp||"",college:ne.college||"",department:ne.course||"",year:ne.year||"",interests:ne.interests||[],whyJoin:ne.whyJoin||"",experience:ne.experience||""})}else t&&A(ne=>({...ne,firstName:t.firstName||"",lastName:t.lastName||"",email:e.email||""}));o(!1)},D=>{console.error("Error fetching applications:",D),o(!1)});return()=>B()},[e,t]);const j=F=>{if(L)return;const{name:B,value:D}=F.target;A(Z=>({...Z,[B]:D}))},W=F=>{L&&!d||A(B=>({...B,interests:B.interests.includes(F)?B.interests.filter(D=>D!==F):[...B.interests,F]}))},M=()=>{x(!0),A(F=>({...F,interests:[],whyJoin:"",experience:""}))},G=async F=>{if(F.preventDefault(),w.interests.length===0){n("Please select at least one area of interest","error");return}if(!w.firstName||!w.lastName||!w.email||!w.phone){n("Please fill in all required fields","error");return}i(!0);try{const B=UY(w.phone);await Jh(Si(An,"applications"),{applicationId:B,firstName:w.firstName.trim(),lastName:w.lastName.trim(),email:w.email.trim().toLowerCase(),phone:w.phone.trim(),whatsapp:w.whatsapp.trim()||w.phone.trim(),college:w.college.trim(),course:w.department,year:w.year,interests:w.interests,whyJoin:w.whyJoin.trim(),experience:w.experience.trim(),status:"pending",remark:"",submittedAt:new Date().toISOString(),createdAt:om()}),n("Application submitted successfully!","success"),x(!1)}catch(B){console.error("Error submitting application:",B),n("Failed to submit application. Please try again.","error")}finally{i(!1)}},ce=F=>{switch(F){case"pending":case"reviewed":return"Approval Pending";case"accepted":return"Approved";case"rejected":return"Application Rejected";default:return F}},re=F=>{switch(F){case"pending":case"reviewed":return"status--pending";case"accepted":return"status--approved";case"rejected":return"status--rejected";default:return""}};return s?m.jsxs(m.Fragment,{children:[m.jsx("main",{className:"join-page",children:m.jsx("div",{className:"join-loading",children:"Loading..."})}),m.jsx(jl,{})]}):m.jsxs(m.Fragment,{children:[m.jsxs("main",{className:"join-page",children:[m.jsxs("section",{className:"join-hero",children:[m.jsx("h1",{className:"join-hero__title",children:"Join OrbitX"}),m.jsx("p",{className:"join-hero__subtitle",children:E?.status==="accepted"?"Your application has been approved! You will be contacted for an interview soon.":E?.status==="rejected"?"Your previous application was not selected. You may re-apply below.":I?"Your application is being reviewed. Thank you for your interest!":"Be part of our journey to explore the cosmos. Fill out the form below and take your first step towards the stars."})]}),E?.status!=="accepted"&&m.jsx("section",{className:"join-form-container",children:m.jsxs("form",{className:`join-form ${L?"join-form--readonly":""}`,onSubmit:G,children:[m.jsxs("div",{className:"join-form__row",children:[m.jsxs("div",{className:"join-form__group",children:[m.jsxs("label",{className:"join-form__label",children:["First Name ",m.jsx("span",{className:"join-form__required",children:"*"})]}),m.jsx("input",{type:"text",name:"firstName",className:"join-form__input join-form__input--locked",placeholder:"Enter your first name",value:w.firstName,onChange:j,required:!0,readOnly:!0})]}),m.jsxs("div",{className:"join-form__group",children:[m.jsxs("label",{className:"join-form__label",children:["Last Name ",m.jsx("span",{className:"join-form__required",children:"*"})]}),m.jsx("input",{type:"text",name:"lastName",className:"join-form__input join-form__input--locked",placeholder:"Enter your last name",value:w.lastName,onChange:j,required:!0,readOnly:!0})]})]}),m.jsxs("div",{className:"join-form__group",children:[m.jsxs("label",{className:"join-form__label",children:["Email ",m.jsx("span",{className:"join-form__required",children:"*"})]}),m.jsx("input",{type:"email",name:"email",className:"join-form__input join-form__input--locked",placeholder:"Enter your email address",value:w.email,onChange:j,required:!0,readOnly:!0})]}),m.jsxs("div",{className:"join-form__row",children:[m.jsxs("div",{className:"join-form__group",children:[m.jsxs("label",{className:"join-form__label",children:["Phone Number ",m.jsx("span",{className:"join-form__required",children:"*"})]}),m.jsx("input",{type:"tel",name:"phone",className:"join-form__input",placeholder:"Enter your phone number",value:w.phone,onChange:j,required:!0,readOnly:L||d})]}),m.jsxs("div",{className:"join-form__group",children:[m.jsx("label",{className:"join-form__label",children:"WhatsApp Number"}),m.jsx("input",{type:"tel",name:"whatsapp",className:"join-form__input",placeholder:"WhatsApp number (if different)",value:w.whatsapp,onChange:j,readOnly:L||d})]})]}),m.jsxs("div",{className:"join-form__group",children:[m.jsxs("label",{className:"join-form__label",children:["College/University ",m.jsx("span",{className:"join-form__required",children:"*"})]}),m.jsx("input",{type:"text",name:"college",className:"join-form__input",placeholder:"Enter your college or university name",value:w.college,onChange:j,required:!0,readOnly:L||d})]}),m.jsxs("div",{className:"join-form__row",children:[m.jsxs("div",{className:"join-form__group",children:[m.jsxs("label",{className:"join-form__label",children:["Department ",m.jsx("span",{className:"join-form__required",children:"*"})]}),L||d?m.jsx("input",{type:"text",className:"join-form__input",value:w.department,readOnly:!0}):m.jsx(l2,{options:FY.map(F=>({value:F,label:F})),value:w.department,onChange:F=>A(B=>({...B,department:F})),placeholder:"Select department",required:!0})]}),m.jsxs("div",{className:"join-form__group",children:[m.jsxs("label",{className:"join-form__label",children:["Year ",m.jsx("span",{className:"join-form__required",children:"*"})]}),L||d?m.jsx("input",{type:"text",className:"join-form__input",value:w.year,readOnly:!0}):m.jsx(l2,{options:BY.map(F=>({value:F,label:F})),value:w.year,onChange:F=>A(B=>({...B,year:F})),placeholder:"Select year",required:!0})]})]}),m.jsxs("div",{className:"join-form__group",children:[m.jsxs("label",{className:"join-form__label",children:["Areas of Interest ",m.jsx("span",{className:"join-form__required",children:"*"}),m.jsx("span",{className:"join-form__hint",children:"Select all teams you'd like to be part of"})]}),m.jsx("div",{className:"join-form__interests",children:jY.map(F=>m.jsx("button",{type:"button",className:`join-form__interest-btn ${w.interests.includes(F)?"join-form__interest-btn--active":""} ${L&&!d?"join-form__interest-btn--disabled":""}`,onClick:()=>W(F),disabled:L&&!d,children:F},F))})]}),m.jsxs("div",{className:"join-form__group",children:[m.jsxs("label",{className:"join-form__label",children:["Why do you want to join OrbitX? ",m.jsx("span",{className:"join-form__required",children:"*"})]}),m.jsx("textarea",{name:"whyJoin",className:"join-form__textarea",placeholder:"Tell us about your motivation and what excites you about space...",value:w.whyJoin,onChange:j,rows:4,required:!0,readOnly:L&&!d})]}),m.jsxs("div",{className:"join-form__group",children:[m.jsx("label",{className:"join-form__label",children:"Prior Experience"}),m.jsx("textarea",{name:"experience",className:"join-form__textarea",placeholder:"Any relevant experience, projects, or skills? (Optional)",value:w.experience,onChange:j,rows:3,readOnly:L&&!d})]}),(!I||d)&&m.jsx("button",{type:"submit",className:"join-form__submit",disabled:r,children:r?"Submitting...":d?"Submit Re-Application":"Submit Application"})]})}),u.length>0&&m.jsxs("section",{className:"join-history",children:[m.jsx("h2",{className:"join-history__title",children:"Application History"}),m.jsx("div",{className:"join-history__table-wrapper",children:m.jsxs("table",{className:"join-history__table",children:[m.jsx("thead",{children:m.jsxs("tr",{children:[m.jsx("th",{children:"Sr. No."}),m.jsx("th",{children:"Application ID"}),m.jsx("th",{children:"Remark"}),m.jsx("th",{children:"Status"}),m.jsx("th",{children:"Action"})]})}),m.jsx("tbody",{children:u.map((F,B)=>m.jsxs("tr",{className:`join-history__row ${B>0?"join-history__row--past":""}`,children:[m.jsx("td",{children:u.length-B}),m.jsx("td",{className:"join-history__app-id",children:F.applicationId||"N/A"}),m.jsx("td",{className:"join-history__remark",children:F.remark||"-"}),m.jsx("td",{children:m.jsx("span",{className:`join-history__status ${re(F.status)}`,children:ce(F.status)})}),m.jsx("td",{children:B===0&&C&&!d?m.jsx("button",{className:"join-history__action-btn",onClick:M,children:"Re-Apply"}):m.jsx("span",{className:"join-history__no-action",children:"-"})})]},F.id))})]})})]})]}),m.jsx(jl,{})]})}const zY=[{question:"How can I join OrbitX?",answer:"You can apply to join OrbitX by visiting our Join page and filling out the application form. We review applications regularly and will contact you if your application is approved."},{question:"What activities does OrbitX organize?",answer:"OrbitX organizes various activities including stargazing sessions, astronomy workshops, guest lectures, telescope building workshops, and participation in national/international astronomy events."},{question:"Do I need prior astronomy knowledge to join?",answer:"No prior knowledge is required! We welcome anyone with a passion for space and astronomy. We provide learning resources and mentorship to help you grow."},{question:"How often do you conduct events?",answer:"We conduct regular weekly meetings and monthly stargazing sessions. Special events and workshops are organized throughout the academic year."},{question:"Can I volunteer for OrbitX events?",answer:"Yes! We're always looking for enthusiastic volunteers. Members can volunteer for event organization, content creation, and outreach activities."}];function HY(){const{showToast:n}=Oa(),[e,t]=ae.useState(!1),[r,i]=ae.useState(null),[s,o]=ae.useState({name:"",email:"",subject:"",message:""}),u=x=>{const{name:w,value:A}=x.target;o(E=>({...E,[w]:A}))},f=async x=>{if(x.preventDefault(),!e){if(!s.name||!s.email||!s.subject){n("Please fill in all mandatory fields (*)","error");return}t(!0);try{const w=s.name.trim().toLowerCase(),A=s.email.trim().toLowerCase(),E=btoa(`${w}:${A}`).substring(0,12);let I=localStorage.getItem("orbitx_device_id");I||(I=Math.random().toString(36).substring(2,15),localStorage.setItem("orbitx_device_id",I));const C=Math.floor(1e5+Math.random()*9e5);await Jh(Si(An,"contactMessages"),{...s,userHash:E,deviceId:I,queryId:C,createdAt:om(),status:"unread"}),n("Message sent successfully! We'll get back to you soon.","success"),o({name:"",email:"",subject:"",message:""})}catch(w){console.error("Error sending message:",w),n("Failed to send message. Please try again.","error")}finally{t(!1)}}},d=x=>{i(r===x?null:x)};return m.jsxs(m.Fragment,{children:[m.jsxs("main",{className:"contact-page",children:[m.jsxs("section",{className:"contact-hero",children:[m.jsx("h1",{className:"contact-hero__title",children:"Get in Touch"}),m.jsx("p",{className:"contact-hero__subtitle",children:"Have questions or want to collaborate? We'd love to hear from you."})]}),m.jsxs("section",{className:"contact-grid",children:[m.jsxs("div",{className:"contact-form-wrapper",children:[m.jsx("h2",{className:"contact-section-title",children:"Send us a Message"}),m.jsxs("form",{className:"contact-form",onSubmit:f,children:[m.jsxs("div",{className:"contact-form__group",children:[m.jsx("label",{className:"contact-form__label",children:"Name *"}),m.jsx("input",{type:"text",name:"name",className:"contact-form__input",placeholder:"Your name",value:s.name,onChange:u,required:!0})]}),m.jsxs("div",{className:"contact-form__group",children:[m.jsx("label",{className:"contact-form__label",children:"Email *"}),m.jsx("input",{type:"email",name:"email",className:"contact-form__input",placeholder:"your@email.com",value:s.email,onChange:u,required:!0})]}),m.jsxs("div",{className:"contact-form__group",children:[m.jsx("label",{className:"contact-form__label",children:"Subject *"}),m.jsxs("select",{name:"subject",className:"contact-form__select",value:s.subject,onChange:u,required:!0,children:[m.jsx("option",{value:"",children:"Select a subject"}),m.jsx("option",{value:"General Inquiry",children:"General Inquiry"}),m.jsx("option",{value:"Membership",children:"Membership"}),m.jsx("option",{value:"Events",children:"Events & Workshops"}),m.jsx("option",{value:"Collaboration",children:"Collaboration"}),m.jsx("option",{value:"Sponsorship",children:"Sponsorship"}),m.jsx("option",{value:"Other",children:"Other"})]})]}),m.jsxs("div",{className:"contact-form__group",children:[m.jsx("label",{className:"contact-form__label",children:"Message"}),m.jsx("textarea",{name:"message",className:"contact-form__textarea",placeholder:"Write your message here...",rows:5,value:s.message,onChange:u})]}),m.jsx("button",{type:"submit",className:"contact-form__submit",disabled:e,children:e?"Sending...":"Send Message"})]})]}),m.jsxs("div",{className:"contact-info-wrapper",children:[m.jsx("h2",{className:"contact-section-title",children:"Contact Information"}),m.jsxs("div",{className:"contact-cards",children:[m.jsxs("a",{href:"mailto:contact@orbitxzcoer.club",className:"contact-card",children:[m.jsx("div",{className:"contact-card__icon",children:m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("path",{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}),m.jsx("polyline",{points:"22,6 12,13 2,6"})]})}),m.jsxs("div",{className:"contact-card__content",children:[m.jsx("h3",{children:"Email"}),m.jsx("p",{children:"contact@orbitxzcoer.club"})]})]}),m.jsxs("a",{href:"https://maps.app.goo.gl/zr4Yg3uhrYabnjH49",target:"_blank",rel:"noopener noreferrer",className:"contact-card",children:[m.jsx("div",{className:"contact-card__icon",children:m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),m.jsx("circle",{cx:"12",cy:"10",r:"3"})]})}),m.jsxs("div",{className:"contact-card__content",children:[m.jsx("h3",{children:"Location"}),m.jsx("p",{children:"Dept. of Computer Engineering, Zeal College of Engineering and Research, Pune 411041"})]})]})]}),m.jsxs("div",{className:"contact-socials",children:[m.jsx("h3",{className:"contact-socials__title",children:"Follow Us"}),m.jsxs("div",{className:"contact-socials__links",children:[m.jsx("a",{href:"https://www.instagram.com/orbitx_zcoer/",target:"_blank",rel:"noopener noreferrer",className:"social-link","aria-label":"Instagram",children:m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("rect",{x:"2",y:"2",width:"20",height:"20",rx:"5",ry:"5"}),m.jsx("path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"}),m.jsx("line",{x1:"17.5",y1:"6.5",x2:"17.51",y2:"6.5"})]})}),m.jsx("a",{href:"https://www.linkedin.com/company/orbitx-zcoer/",target:"_blank",rel:"noopener noreferrer",className:"social-link","aria-label":"LinkedIn",children:m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"}),m.jsx("rect",{x:"2",y:"9",width:"4",height:"12"}),m.jsx("circle",{cx:"4",cy:"4",r:"2"})]})})]})]})]})]}),m.jsxs("section",{className:"contact-map-section",children:[m.jsx("h2",{className:"contact-section-title",children:"Find Us"}),m.jsx("div",{className:"contact-map",children:m.jsx("iframe",{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2909.1004240421184!2d73.82559228870227!3d18.44842178988876!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3bc2be933201c149%3A0x1c055d83993ff72b!2sZeal%20College%20of%20Engineering%20and%20Research!5e1!3m2!1sen!2sus!4v1766668761486!5m2!1sen!2sus",width:"100%",height:"400",style:{border:0},allowFullScreen:!0,loading:"lazy",referrerPolicy:"no-referrer-when-downgrade",title:"OrbitX Location"})})]}),m.jsxs("section",{className:"contact-faq-section",children:[m.jsx("h2",{className:"contact-section-title",children:"Frequently Asked Questions"}),m.jsx("div",{className:"contact-faq",children:zY.map((x,w)=>m.jsxs("div",{className:`faq-item ${r===w?"faq-item--expanded":""}`,children:[m.jsxs("button",{className:"faq-item__question",onClick:()=>d(w),children:[m.jsx("span",{children:x.question}),m.jsx("svg",{className:"faq-item__icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:m.jsx("polyline",{points:"6 9 12 15 18 9"})})]}),m.jsx("div",{className:"faq-item__answer",children:m.jsx("p",{children:x.answer})})]},w))})]})]}),m.jsx(jl,{})]})}const qY=async n=>{try{return(await Jh(Si(An,"merchOrders"),{...n,createdAt:om(),updatedAt:om()})).id}catch(e){throw console.error("Error creating order:",e),new Error(e.message||"Failed to create order")}},GY=()=>{const n=Date.now().toString(36),e=Math.random().toString(36).substring(2,7);return`ORD-${n}-${e}`.toUpperCase()},rp=100,WY="Zeal College of Engineering and Research",XY=["All","T-Shirts","Hoodies","Stickers","Accessories"],YY=["All","In Stock","Out of Stock"];function KY(){const n=Qa(),{user:e,profile:t}=Lo(),{showToast:r}=Oa(),[i,s]=ae.useState([]),[o,u]=ae.useState(!0),[f,d]=ae.useState(""),[x,w]=ae.useState("All"),[A,E]=ae.useState("All"),[I,C]=ae.useState(null),[L,j]=ae.useState(""),[W,M]=ae.useState(1),[G,ce]=ae.useState(0),[re,F]=ae.useState([]),[B,D]=ae.useState(!1);ae.useEffect(()=>{const Ie=Ra(Si(An,"merch"),ou("createdAt","desc")),Qe=Jl(Ie,St=>{const Tt=St.docs.map(Rt=>({id:Rt.id,...Rt.data()}));s(Tt),u(!1)},St=>{console.error("Error fetching products:",St),r("Failed to load products","error"),u(!1)});return()=>Qe()},[r]);const[Z,U]=ae.useState(!1),[H,X]=ae.useState(1),[ne,pe]=ae.useState({line1:"",line2:"",city:"",state:"",pincode:""}),[Ae,xe]=ae.useState(!1),[Re,He]=ae.useState(!1);ae.useEffect(()=>(I?(document.body.classList.add("merch-modal-open"),j(I.sizes?.[0]||""),M(1),ce(0)):document.body.classList.remove("merch-modal-open"),()=>document.body.classList.remove("merch-modal-open")),[I]),ae.useEffect(()=>(B?document.body.classList.add("merch-cart-open"):document.body.classList.remove("merch-cart-open"),()=>document.body.classList.remove("merch-cart-open")),[B]);const ze=i.filter(Ie=>{const Qe=Ie.name.toLowerCase().includes(f.toLowerCase())||Ie.description.toLowerCase().includes(f.toLowerCase()),St=x==="All"||Ie.category===x,Tt=A==="All"||A==="In Stock"&&Ie.inStock||A==="Out of Stock"&&!Ie.inStock;return Qe&&St&&Tt}),ve=()=>{if(!I)return;const Ie=re.findIndex(Qe=>Qe.product.id===I.id&&Qe.size===L);if(Ie>=0){const Qe=[...re];Qe[Ie].quantity+=W,F(Qe)}else F([...re,{product:I,quantity:W,size:L}]);D(!0),C(null)},q=Ie=>{const Qe=re.filter((St,Tt)=>Tt!==Ie);F(Qe),Qe.length===0&&Z&&(U(!1),r("Cart is empty","info"))},J=(Ie,Qe)=>{if(Qe<1)return;const St=[...re];St[Ie].quantity=Qe,F(St)},Q=()=>{if(!e){r("Please login to continue","info"),n("/login",{state:{from:"/merch"}});return}D(!1),X(1),xe(!1),U(!0)},oe=()=>{if(!e){r("Please login to continue","info"),n("/login",{state:{from:"/merch"}});return}if(I){if(I.sizes&&I.sizes.length>0&&!L){r("Please select a size","info");return}ve(),X(1),xe(!1),U(!0)}},de=async()=>{if(!(!e||!t||re.length===0)){He(!0);try{const Ie=re.map(le=>({productId:le.product.id,productName:le.product.name,price:le.product.price,quantity:le.quantity,size:le.size||"",category:le.product.category})),Qe=re.reduce((le,ot)=>le+ot.product.price*ot.quantity,0),St=Ae?"delivery":"pickup",Tt=Ae&&!Fe?rp:0,Rt={orderId:GY(),userId:e.uid,orbitId:t.orbitId||"N/A",customerName:`${t.firstName} ${t.lastName}`,customerEmail:e.email||"",customerPhone:t.mobile||"",collegeName:t.collegeName||"N/A",items:Ie,subtotal:Qe,deliveryCharge:Tt,totalAmount:Qe+Tt,deliveryMethod:St,orderStatus:"pending",paymentStatus:"pending"};St==="delivery"&&(Rt.deliveryAddress=ne),await qY(Rt),r("Order placed successfully! Check your dashboard for updates.","success"),F([]),U(!1)}catch(Ie){console.error("Order error:",Ie),r(Ie.message||"Failed to place order. Please try again.","error")}finally{He(!1)}}},De=re.reduce((Ie,Qe)=>Ie+Qe.product.price*Qe.quantity,0),Ve=re.reduce((Ie,Qe)=>Ie+Qe.quantity,0),Fe=t?.collegeName===WY;return m.jsxs(m.Fragment,{children:[m.jsxs("main",{className:"merch-page",children:[m.jsx(Ca,{direction:"fade",children:m.jsxs("section",{className:"merch-hero",children:[m.jsx("h1",{className:"merch-hero__title",children:"OrbitX Merchandise"}),m.jsx("p",{className:"merch-hero__subtitle",children:"Support our community while showcasing your passion for space. Every purchase helps fund our events, workshops, and outreach programs."})]})}),m.jsx(Ca,{direction:"up",delay:.1,className:"scroll-reveal--z-high",children:m.jsx("div",{className:"merch-toolbar-wrapper",children:m.jsxs(D5,{children:[m.jsx(k5,{value:f,onChange:d,placeholder:"Search products..."}),m.jsx(DY,{sections:[{title:"Category",options:XY.map(Ie=>({value:Ie,label:Ie})),value:x,onChange:w},{title:"Availability",options:YY.map(Ie=>({value:Ie,label:Ie})),value:A,onChange:E}]}),m.jsxs("button",{className:"merch-cart-btn",onClick:()=>D(!0),children:[m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("circle",{cx:"9",cy:"21",r:"1"}),m.jsx("circle",{cx:"20",cy:"21",r:"1"}),m.jsx("path",{d:"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 0 0 0 2-1.61L23 6H6"})]}),Ve>0&&m.jsx("span",{className:"merch-cart-btn__count",children:Ve})]})]})})}),m.jsx(Ca,{direction:"up",delay:.15,children:m.jsx("section",{className:"merch-grid",children:o?m.jsx("div",{className:"merch-loading",style:{gridColumn:"1/-1",textAlign:"center",padding:"4rem",opacity:.5},children:"Loading cosmic gear..."}):ze.map(Ie=>m.jsxs("article",{className:"merch-card",onClick:()=>C(Ie),children:[m.jsxs("div",{className:"merch-card__image",children:[m.jsx("img",{src:Ie.images[0],alt:Ie.name,loading:"lazy"}),m.jsx("span",{className:`merch-card__badge ${Ie.inStock?"merch-card__badge--in-stock":"merch-card__badge--out-of-stock"}`,children:Ie.inStock?"In Stock":"Out of Stock"})]}),m.jsxs("div",{className:"merch-card__content",children:[m.jsx("span",{className:"merch-card__category",children:Ie.category}),m.jsx("h3",{className:"merch-card__name",children:Ie.name}),m.jsxs("span",{className:"merch-card__price",children:["",Ie.price]})]})]},Ie.id))})}),ze.length===0&&m.jsx("div",{className:"merch-empty",children:m.jsx("p",{children:"No products found matching your criteria."})})]}),I&&m.jsx("div",{className:"merch-modal-overlay",onClick:()=>C(null),children:m.jsxs("div",{className:"merch-modal",onClick:Ie=>Ie.stopPropagation(),children:[m.jsx("button",{className:"merch-modal__close",onClick:()=>C(null),children:m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),m.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})}),m.jsxs("div",{className:"merch-modal__gallery",children:[m.jsx("div",{className:"merch-modal__image",children:m.jsx("img",{src:I.images[G],alt:I.name})}),I.images.length>1&&m.jsxs(m.Fragment,{children:[m.jsx("button",{className:"merch-modal__nav merch-modal__nav--prev",onClick:()=>ce(Ie=>Ie===0?I.images.length-1:Ie-1),children:m.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:m.jsx("polyline",{points:"15 18 9 12 15 6"})})}),m.jsx("button",{className:"merch-modal__nav merch-modal__nav--next",onClick:()=>ce(Ie=>Ie===I.images.length-1?0:Ie+1),children:m.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:m.jsx("polyline",{points:"9 18 15 12 9 6"})})}),m.jsx("div",{className:"merch-modal__dots",children:I.images.map((Ie,Qe)=>m.jsx("button",{className:`merch-modal__dot ${Qe===G?"merch-modal__dot--active":""}`,onClick:()=>ce(Qe)},Qe))})]})]}),m.jsxs("div",{className:"merch-modal__content",children:[m.jsx("span",{className:"merch-modal__category",children:I.category}),m.jsx("h2",{className:"merch-modal__name",children:I.name}),m.jsxs("span",{className:"merch-modal__price",children:["",I.price]}),m.jsx("p",{className:"merch-modal__desc",children:I.description}),I.sizes&&I.sizes.length>0&&m.jsxs("div",{className:"merch-modal__sizes",children:[m.jsx("span",{className:"merch-modal__label",children:"Size"}),m.jsx("div",{className:"merch-modal__size-options",children:I.sizes.map(Ie=>m.jsx("button",{className:`merch-modal__size-btn ${L===Ie?"merch-modal__size-btn--active":""}`,onClick:()=>j(Ie),children:Ie},Ie))})]}),m.jsxs("div",{className:"merch-modal__quantity",children:[m.jsx("span",{className:"merch-modal__label",children:"Quantity"}),m.jsxs("div",{className:"merch-modal__quantity-controls",children:[m.jsx("button",{onClick:()=>M(Ie=>Math.max(1,Ie-1)),children:""}),m.jsx("span",{children:W}),m.jsx("button",{onClick:()=>M(Ie=>Ie+1),children:"+"})]})]}),m.jsxs("div",{className:"merch-modal__actions",children:[m.jsx("button",{className:"merch-modal__btn merch-modal__btn--primary",disabled:!I.inStock,onClick:oe,children:"Buy Now"}),m.jsx("button",{className:"merch-modal__btn merch-modal__btn--secondary",onClick:ve,disabled:!I.inStock,children:"Add to Cart"})]})]})]})}),B&&m.jsx("div",{className:"merch-cart-overlay",onClick:()=>D(!1)}),m.jsxs("div",{className:`merch-cart-drawer ${B?"merch-cart-drawer--open":""}`,children:[m.jsxs("div",{className:"merch-cart-drawer__header",children:[m.jsxs("h3",{children:["Your Cart (",Ve,")"]}),m.jsx("button",{className:"merch-cart-drawer__close",onClick:()=>D(!1),children:m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),m.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),m.jsx("div",{className:"merch-cart-drawer__content",children:re.length===0?m.jsx("div",{className:"merch-cart-drawer__empty",children:m.jsx("p",{children:"Your cart is empty"})}):m.jsx("div",{className:"merch-cart-drawer__items",children:re.map((Ie,Qe)=>m.jsxs("div",{className:"merch-cart-item",children:[m.jsx("img",{src:Ie.product.images[0],alt:Ie.product.name}),m.jsxs("div",{className:"merch-cart-item__details",children:[m.jsx("span",{className:"merch-cart-item__name",children:Ie.product.name}),Ie.size&&m.jsxs("span",{className:"merch-cart-item__size",children:["Size: ",Ie.size]}),m.jsxs("span",{className:"merch-cart-item__price",children:["",Ie.product.price]})]}),m.jsxs("div",{className:"merch-cart-item__controls",children:[m.jsxs("div",{className:"merch-cart-item__quantity",children:[m.jsx("button",{onClick:()=>J(Qe,Ie.quantity-1),children:""}),m.jsx("span",{children:Ie.quantity}),m.jsx("button",{onClick:()=>J(Qe,Ie.quantity+1),children:"+"})]}),m.jsx("button",{className:"merch-cart-item__remove",onClick:()=>q(Qe),children:"Remove"})]})]},`${Ie.product.id}-${Ie.size}`))})}),re.length>0&&m.jsxs("div",{className:"merch-cart-drawer__footer",children:[m.jsxs("div",{className:"merch-cart-drawer__total",children:[m.jsx("span",{children:"Subtotal"}),m.jsxs("span",{children:["",De]})]}),m.jsx("button",{className:"merch-cart-drawer__checkout",onClick:Q,children:"Proceed to Checkout"})]})]}),Z&&m.jsx("div",{className:"merch-checkout-modal-overlay",children:m.jsxs("div",{className:"merch-checkout-modal",onClick:Ie=>Ie.stopPropagation(),children:[m.jsxs("header",{className:"checkout-header",children:[m.jsxs("div",{className:"checkout-step-info",children:[m.jsx("h2",{children:"Checkout"}),m.jsxs("div",{className:"step-indicator",children:["Step ",H," of 3"]})]}),m.jsx("button",{className:"checkout-close",onClick:()=>!Re&&U(!1),children:m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),m.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),m.jsxs("div",{className:"checkout-sections",children:[H===1&&m.jsxs("div",{className:"checkout-section fade-in",children:[m.jsx("h3",{children:"Confirm Your Details"}),m.jsxs("div",{className:"details-confirm-grid",children:[m.jsxs("div",{className:"detail-item",children:[m.jsx("label",{children:"First Name"}),m.jsx("input",{type:"text",value:t?.firstName||"",readOnly:!0})]}),m.jsxs("div",{className:"detail-item",children:[m.jsx("label",{children:"Last Name"}),m.jsx("input",{type:"text",value:t?.lastName||"",readOnly:!0})]}),m.jsxs("div",{className:"detail-item",children:[m.jsx("label",{children:"Email Address"}),m.jsx("input",{type:"email",value:e?.email||"",readOnly:!0})]}),m.jsxs("div",{className:"detail-item",children:[m.jsx("label",{children:"Phone Number"}),m.jsx("input",{type:"text",value:t?.mobile||"",readOnly:!0})]}),m.jsxs("div",{className:"detail-item",children:[m.jsx("label",{children:"Orbit ID"}),m.jsx("input",{type:"text",value:t?.orbitId||"",readOnly:!0})]}),m.jsxs("div",{className:"detail-item",children:[m.jsx("label",{children:"College"}),m.jsx("input",{type:"text",value:t?.collegeName||"N/A",title:t?.collegeName,readOnly:!0})]})]}),m.jsx("p",{className:"details-help-text",children:"These details are fetched from your profile. If they are incorrect, please update your profile settings."})]}),H===2&&m.jsxs("div",{className:"checkout-section fade-in",children:[m.jsx("h3",{children:"Delivery Preference"}),m.jsx("div",{className:"delivery-option-card",children:m.jsxs("label",{className:"checkbox-container",children:[m.jsx("input",{type:"checkbox",checked:Ae,onChange:Ie=>xe(Ie.target.checked)}),m.jsx("span",{className:"checkbox-checkmark"}),m.jsx("span",{className:"checkbox-label",children:"Would you like this to be delivered to your home?"})]})}),Ae?m.jsxs("div",{className:"address-form fade-in",children:[m.jsx("h3",{children:"Shipping Address"}),m.jsx("input",{type:"text",placeholder:"House No., Street Name *",value:ne.line1,onChange:Ie=>pe({...ne,line1:Ie.target.value}),required:!0}),m.jsx("input",{type:"text",placeholder:"Apartment, suite, etc. (optional)",value:ne.line2,onChange:Ie=>pe({...ne,line2:Ie.target.value})}),m.jsxs("div",{className:"form-row",children:[m.jsx("input",{type:"text",placeholder:"City *",value:ne.city,onChange:Ie=>pe({...ne,city:Ie.target.value}),required:!0}),m.jsx("input",{type:"text",placeholder:"Pincode *",value:ne.pincode,onChange:Ie=>pe({...ne,pincode:Ie.target.value}),required:!0})]}),m.jsx("input",{type:"text",placeholder:"State *",value:ne.state,onChange:Ie=>pe({...ne,state:Ie.target.value}),required:!0})]}):m.jsx("div",{className:"pickup-instruction fade-in",children:m.jsxs("p",{children:["If no shipping address is provided then you have to collect your order from ",m.jsx("a",{href:"https://maps.app.goo.gl/zr4Yg3uhrYabnjH49",target:"_blank",rel:"noopener noreferrer",className:"college-map-link",children:"Zeal College of Engineering and Research, Pune"})]})})]}),H===3&&m.jsxs("div",{className:"checkout-section fade-in",children:[m.jsx("h3",{children:"Order Summary"}),m.jsxs("div",{className:"checkout-summary",children:[m.jsxs("div",{className:"summary-row",children:[m.jsxs("span",{children:["Subtotal (",re.length," ",re.length===1?"item":"items",")"]}),m.jsxs("span",{children:["",De]})]}),m.jsxs("div",{className:"summary-row",children:[m.jsx("span",{children:"Delivery Charge"}),m.jsxs("span",{children:["",Ae&&!Fe?rp:0]})]}),m.jsxs("div",{className:"summary-row total",children:[m.jsx("span",{children:"Total Amount"}),m.jsxs("span",{children:["",De+(Ae&&!Fe?rp:0)]})]})]}),m.jsx("div",{className:"order-items-preview",children:re.map((Ie,Qe)=>m.jsxs("div",{className:"preview-item",children:[m.jsx("img",{src:Ie.product.images[0],alt:Ie.product.name}),m.jsxs("div",{className:"preview-details",children:[m.jsx("span",{className:"preview-name",children:Ie.product.name}),m.jsxs("span",{className:"preview-meta",children:["Size: ",Ie.size,"  Qty: ",Ie.quantity]})]}),m.jsxs("div",{className:"preview-actions",children:[m.jsxs("span",{className:"preview-price",children:["",Ie.product.price*Ie.quantity]}),m.jsx("button",{className:"merch-cart-item__remove",onClick:()=>q(Qe),children:"Remove"})]})]},Qe))})]})]}),m.jsx("footer",{className:"checkout-footer",children:m.jsxs("div",{className:"footer-actions",children:[H>1&&m.jsx("button",{className:"checkout-back-btn",onClick:()=>X(Ie=>Ie-1),disabled:Re,children:"Back"}),H<3?m.jsx("button",{className:"checkout-next-btn",onClick:()=>{if(H===2&&Ae&&(!ne.line1||!ne.city||!ne.pincode||!ne.state)){r("Please fill all required address fields","info");return}X(Ie=>Ie+1)},children:"Continue"}):m.jsx("button",{className:"process-order-btn",onClick:de,disabled:Re,children:Re?"Processing...":`Place Order  ${De+(Ae&&!Fe?rp:0)}`})]})})]})}),B&&m.jsx("div",{className:"merch-cart-overlay",onClick:()=>D(!1)}),m.jsx(jl,{})]})}function $Y(){const n=Qa(),{showToast:e}=Oa(),{refreshProfile:t}=Lo(),[r,i]=ae.useState(!1),s=async()=>{i(!0);try{const o=await iI();o.isNewUser?(e("Please complete your profile to continue.","info"),n("/signup",{state:{email:o.email,isGoogleSignup:!0}})):o.profile&&(localStorage.getItem("orbitx_first_login")?(e(`Welcome, ${o.profile.firstName}!`,"success"),localStorage.removeItem("orbitx_first_login")):e(`Welcome back, ${o.profile.firstName}!`,"success"),await t(),setTimeout(()=>{n("/user-dashboard",{replace:!0})},100))}catch(o){console.error("Google sign-in error:",o),o.code==="auth/popup-closed-by-user"||o.code==="auth/cancelled-popup-request"||e("Failed to sign in with Google. Please try again.","error")}finally{i(!1)}};return m.jsx("main",{className:"login-page page-transition",children:m.jsxs("div",{className:"login-container login-container--compact",children:[m.jsxs("div",{className:"login-header",children:[m.jsx("h1",{className:"login-title",children:"Welcome to OrbitX"}),m.jsx("p",{className:"login-subtitle",children:"Sign in or create an account to continue"})]}),m.jsxs("div",{className:"login-google-section",children:[m.jsxs("button",{className:"login-google-btn",onClick:s,disabled:r,children:[m.jsxs("svg",{viewBox:"0 0 24 24",children:[m.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),m.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),m.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),m.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),r?"Please wait...":"Continue with Google"]}),m.jsx("p",{className:"login-info",children:"By continuing, you agree to our Terms of Service and Privacy Policy"})]})]})})}const pR=[{value:"male",label:"Male"},{value:"female",label:"Female"},{value:"other",label:"Other"},{value:"prefer_not_to_say",label:"Prefer not to say"}],xR=[{value:"certificate",label:"Certificate Course"},{value:"diploma",label:"Diploma Course"},{value:"dual_degree",label:"DUAL Degree"},{value:"fyjc",label:"F.Y.J.C. (11th std)"},{value:"hsc",label:"H.S.C. (12th std)"},{value:"phd",label:"Ph.D"},{value:"pg_certificate",label:"Post Graduate Certificate"},{value:"pg_course",label:"Post Graduate Course"},{value:"pg_diploma",label:"Post Graduate Diploma Course"},{value:"ug_course",label:"Under Graduate Course"},{value:"ug_sainiki",label:"Under Graduate Course for Sainiki"},{value:"vocational",label:"Vocational Course"}],vR=[{value:"agriculture",label:"Agriculture"},{value:"architecture",label:"Architecture and Town Planning"},{value:"arts",label:"Arts"},{value:"commerce",label:"Commerce"},{value:"commerce_management",label:"Commerce & Management"},{value:"commerce_mgmt",label:"Commerce Management"},{value:"design",label:"Design"},{value:"education",label:"Education"},{value:"engineering",label:"Engineering"},{value:"engineering_machine",label:"Engineering Machine Group"},{value:"engineering_non_machine",label:"Engineering Non Machine Group"},{value:"eye_care",label:"Eye Care Optometrists"},{value:"fine_art",label:"Fine Art (Visual Art)"},{value:"health_science",label:"Health Science"},{value:"hotel_management",label:"Hotel Management and Catering"},{value:"humanities",label:"Humanities and Social Sciences"},{value:"interdisciplinary",label:"Interdisciplinary"},{value:"law",label:"Law"},{value:"management",label:"Management"},{value:"mca",label:"MCA"},{value:"non_engineering",label:"Non Engineering Group"},{value:"non_aicte",label:"Non-AICTE"},{value:"nursing",label:"Nursing"},{value:"other",label:"Other"},{value:"pharmacy",label:"Pharmacy"},{value:"physical_education",label:"Physical Education"},{value:"science",label:"Science"},{value:"science_technology",label:"Science Technology"},{value:"social_work",label:"Social Work"},{value:"veterinary",label:"Veterinary"}],_R=[{value:"be_ce",label:"B.E. Computer Engineering"},{value:"be_cse",label:"B.E. Computer Science and Engineering"},{value:"be_it",label:"B.E. Information Technology"},{value:"be_entc",label:"B.E. Electronics and Telecommunication Engineering"},{value:"be_electronics",label:"B.E. Electronics Engineering"},{value:"be_electrical",label:"B.E. Electrical Engineering"},{value:"be_mech",label:"B.E. Mechanical Engineering"},{value:"be_civil",label:"B.E. Civil Engineering"},{value:"be_aids",label:"B.E. Artificial Intelligence & Data Science"},{value:"be_aiml",label:"B.E. Artificial Intelligence & Machine Learning"},{value:"be_robotics",label:"B.E. Robotics and Automation"},{value:"be_mechatronics",label:"B.E. Mechatronics Engineering"},{value:"be_instrumentation",label:"B.E. Instrumentation Engineering"},{value:"be_chemical",label:"B.E. Chemical Engineering"},{value:"be_production",label:"B.E. Production Engineering"},{value:"be_industrial",label:"B.E. Industrial Engineering"},{value:"btech_cse",label:"B.Tech. Computer Science and Engineering"},{value:"btech_cse_aiml",label:"B.Tech. Computer Science and Engineering (AI & ML)"},{value:"btech_cse_ds",label:"B.Tech. Computer Science and Engineering (Data Science)"},{value:"btech_it",label:"B.Tech. Information Technology"},{value:"btech_ai",label:"B.Tech. Artificial Intelligence"},{value:"btech_aids",label:"B.Tech. Artificial Intelligence & Data Science"},{value:"btech_ece",label:"B.Tech. Electronics and Communication Engineering"},{value:"btech_electrical",label:"B.Tech. Electrical Engineering"},{value:"btech_mech",label:"B.Tech. Mechanical Engineering"},{value:"btech_civil",label:"B.Tech. Civil Engineering"},{value:"btech_robotics",label:"B.Tech. Robotics and Automation"},{value:"btech_mechatronics",label:"B.Tech. Mechatronics Engineering"},{value:"btech_iot",label:"B.Tech. Internet of Things (IoT)"},{value:"btech_cybersecurity",label:"B.Tech. Cyber Security"},{value:"btech_cloud",label:"B.Tech. Cloud Computing"},{value:"btech_blockchain",label:"B.Tech. Blockchain Technology"},{value:"btech_aerospace",label:"B.Tech. Aerospace Engineering"},{value:"btech_chemical",label:"B.Tech. Chemical Engineering"},{value:"other",label:"Other"}],yR=[{value:"1",label:"1st Year"},{value:"2",label:"2nd Year"},{value:"3",label:"3rd Year"},{value:"4",label:"4th Year"},{value:"5",label:"5th Year"},{value:"6",label:"6th Year"},{value:"completed",label:"Completed"}],wR=()=>{const n=new Date().getFullYear(),e=[];for(let t=n+10;t>=n-10;t--)e.push({value:t.toString(),label:t.toString()});return e},ZY=[{value:"leadership",label:"Leadership"},{value:"design_innovation",label:"Design & Innovation Team"},{value:"technical",label:"Technical Team"},{value:"management_operations",label:"Management & Operations Team"},{value:"public_outreach",label:"Public Outreach Team"},{value:"documentation",label:"Documentation Team"},{value:"social_media_editing",label:"Social Media & Editing Team"}],QY=[{value:"president",label:"President"},{value:"chairman",label:"Chairman"},{value:"secretary",label:"Secretary"},{value:"treasurer",label:"Treasurer"},{value:"co_treasurer",label:"Co-Treasurer"}],JY=[{value:"team_leader",label:"Team Leader"},{value:"member",label:"Member"}],Wl={MANAGE_PROMOS:"manage_promos",MANAGE_EVENTS:"manage_events",MANAGE_JOIN:"manage_join",MANAGE_APPLICATIONS:"manage_applications",MANAGE_QUERIES:"manage_queries",MANAGE_MERCH:"manage_merch",MANAGE_MERCH_ORDERS:"manage_merch_orders",SCAN_QR:"scan_qr"};function eK(){const n=Qa(),e=Yo(),{showToast:t}=Oa(),r=e.state?.email||"",i=e.state?.isGoogleSignup||!1,[s,o]=ae.useState({firstName:"",lastName:"",mobile:"",email:r,dateOfBirth:"",gender:"",qualificationLevel:"",stream:"",collegeName:"",courseName:"",yearOfStudy:"",yearOfGraduation:""}),[u,f]=ae.useState({}),[d,x]=ae.useState(!1),[w,A]=ae.useState(1);ae.useEffect(()=>{(!i||!Pl.currentUser)&&(t("Please sign in with Google to create an account","info"),n("/login"))},[i,n,t]);const E=wR(),I=()=>{const D=new Date;return D.setFullYear(D.getFullYear()-13),D.toISOString().split("T")[0]},C=()=>{const D=new Date;return D.setFullYear(D.getFullYear()-100),D.toISOString().split("T")[0]},L=()=>{const D={};return s.firstName.trim()?s.firstName.length<2&&(D.firstName="First name must be at least 2 characters"):D.firstName="First name is required",s.lastName.trim()?s.lastName.length<2&&(D.lastName="Last name must be at least 2 characters"):D.lastName="Last name is required",s.mobile.trim()?/^[6-9]\d{9}$/.test(s.mobile)||(D.mobile="Please enter a valid 10-digit mobile number"):D.mobile="Mobile number is required",s.email.trim()?/\S+@\S+\.\S+/.test(s.email)||(D.email="Please enter a valid email"):D.email="Email is required",s.dateOfBirth||(D.dateOfBirth="Date of birth is required"),s.gender||(D.gender="Please select your gender"),f(D),Object.keys(D).length===0},j=()=>{const D={};return s.qualificationLevel||(D.qualificationLevel="Please select qualification level"),s.stream||(D.stream="Please select your stream"),s.collegeName.trim()||(D.collegeName="College name is required"),s.courseName||(D.courseName="Please select your course"),s.yearOfStudy||(D.yearOfStudy="Please select year of study"),s.yearOfGraduation||(D.yearOfGraduation="Please select graduation year"),f(D),Object.keys(D).length===0},W=D=>{const{name:Z,value:U}=D.target;o(H=>({...H,[Z]:U})),u[Z]&&f(H=>({...H,[Z]:""}))},M=(D,Z)=>{o(U=>({...U,[D]:Z})),u[D]&&f(U=>({...U,[D]:""}))},G=()=>{w===1&&L()&&A(2)},ce=()=>{w>1&&A(w-1)},re=async D=>{if(D.preventDefault(),!j()){t("Please fix the errors in the form","error");return}x(!0);try{const Z=await fH(s);localStorage.setItem("orbitx_first_login",Z.firstName),t("Account created successfully!","success"),setTimeout(()=>{t("Please login again!","info")},500),setTimeout(()=>{n("/login")},1500)}catch(Z){console.error("Registration error:",Z),Z.code==="auth/email-already-in-use"?(t("This email is already registered. Please login instead.","error"),n("/login")):Z.message?.includes("No authenticated user")?(t("Session expired. Please sign in with Google again.","error"),n("/login")):t("Failed to create account. Please try again.","error")}finally{x(!1)}},F=()=>m.jsxs("div",{className:"signup-step",children:[m.jsx("h3",{className:"signup-step__title",children:"Personal Information"}),m.jsxs("div",{className:"signup-form__row",children:[m.jsxs("div",{className:"signup-form__group",children:[m.jsx("label",{className:"signup-form__label",children:"First Name *"}),m.jsx("input",{type:"text",name:"firstName",className:`signup-form__input ${u.firstName?"signup-form__input--error":""}`,placeholder:"Enter your first name",value:s.firstName,onChange:W}),u.firstName&&m.jsx("span",{className:"signup-form__error",children:u.firstName})]}),m.jsxs("div",{className:"signup-form__group",children:[m.jsx("label",{className:"signup-form__label",children:"Last Name *"}),m.jsx("input",{type:"text",name:"lastName",className:`signup-form__input ${u.lastName?"signup-form__input--error":""}`,placeholder:"Enter your last name",value:s.lastName,onChange:W}),u.lastName&&m.jsx("span",{className:"signup-form__error",children:u.lastName})]})]}),m.jsxs("div",{className:"signup-form__group",children:[m.jsx("label",{className:"signup-form__label",children:"Mobile Number *"}),m.jsx("input",{type:"tel",name:"mobile",className:`signup-form__input ${u.mobile?"signup-form__input--error":""}`,placeholder:"Enter your 10-digit mobile number",value:s.mobile,onChange:W,maxLength:10}),u.mobile&&m.jsx("span",{className:"signup-form__error",children:u.mobile})]}),m.jsxs("div",{className:"signup-form__group",children:[m.jsx("label",{className:"signup-form__label",children:"Email *"}),m.jsx("input",{type:"email",name:"email",className:`signup-form__input ${u.email?"signup-form__input--error":""}`,placeholder:"Enter your email",value:s.email,onChange:W,readOnly:i}),u.email&&m.jsx("span",{className:"signup-form__error",children:u.email})]}),m.jsxs("div",{className:"signup-form__row",children:[m.jsxs("div",{className:"signup-form__group",children:[m.jsx("label",{className:"signup-form__label",children:"Date of Birth *"}),m.jsx(o2,{value:s.dateOfBirth,onChange:D=>M("dateOfBirth",D),minDate:C(),maxDate:I(),placeholder:"Select Date",error:!!u.dateOfBirth}),u.dateOfBirth&&m.jsx("span",{className:"signup-form__error",children:u.dateOfBirth})]}),m.jsxs("div",{className:"signup-form__group",children:[m.jsx("label",{className:"signup-form__label",children:"Gender *"}),m.jsx(Wa,{options:pR,value:s.gender,onChange:D=>M("gender",D),placeholder:"Select Gender",error:!!u.gender}),u.gender&&m.jsx("span",{className:"signup-form__error",children:u.gender})]})]})]}),B=()=>m.jsxs("div",{className:"signup-step",children:[m.jsx("h3",{className:"signup-step__title",children:"Academic Information"}),m.jsxs("div",{className:"signup-form__row",children:[m.jsxs("div",{className:"signup-form__group",children:[m.jsx("label",{className:"signup-form__label",children:"Qualification Level *"}),m.jsx(Wa,{options:xR,value:s.qualificationLevel,onChange:D=>M("qualificationLevel",D),placeholder:"Select Level",error:!!u.qualificationLevel}),u.qualificationLevel&&m.jsx("span",{className:"signup-form__error",children:u.qualificationLevel})]}),m.jsxs("div",{className:"signup-form__group",children:[m.jsx("label",{className:"signup-form__label",children:"Stream *"}),m.jsx(Wa,{options:vR,value:s.stream,onChange:D=>M("stream",D),placeholder:"Select Stream",error:!!u.stream}),u.stream&&m.jsx("span",{className:"signup-form__error",children:u.stream})]})]}),m.jsxs("div",{className:"signup-form__group",children:[m.jsx("label",{className:"signup-form__label",children:"College/University Name *"}),m.jsx("input",{type:"text",name:"collegeName",className:`signup-form__input ${u.collegeName?"signup-form__input--error":""}`,placeholder:"Enter your college name",value:s.collegeName,onChange:W}),u.collegeName&&m.jsx("span",{className:"signup-form__error",children:u.collegeName})]}),m.jsxs("div",{className:"signup-form__group",children:[m.jsx("label",{className:"signup-form__label",children:"Course *"}),m.jsx(Wa,{options:_R,value:s.courseName,onChange:D=>M("courseName",D),placeholder:"Select Course",error:!!u.courseName}),u.courseName&&m.jsx("span",{className:"signup-form__error",children:u.courseName})]}),m.jsxs("div",{className:"signup-form__row",children:[m.jsxs("div",{className:"signup-form__group",children:[m.jsx("label",{className:"signup-form__label",children:"Year of Study *"}),m.jsx(Wa,{options:yR,value:s.yearOfStudy,onChange:D=>M("yearOfStudy",D),placeholder:"Select Year",error:!!u.yearOfStudy}),u.yearOfStudy&&m.jsx("span",{className:"signup-form__error",children:u.yearOfStudy})]}),m.jsxs("div",{className:"signup-form__group",children:[m.jsx("label",{className:"signup-form__label",children:"Year of Graduation *"}),m.jsx(Wa,{options:E,value:s.yearOfGraduation,onChange:D=>M("yearOfGraduation",D),placeholder:"Select Year",error:!!u.yearOfGraduation}),u.yearOfGraduation&&m.jsx("span",{className:"signup-form__error",children:u.yearOfGraduation})]})]})]});return m.jsx("main",{className:"signup-page page-transition",children:m.jsxs("div",{className:"signup-container",children:[m.jsxs("div",{className:"signup-header",children:[m.jsx("h1",{className:"signup-title",children:"Create Account"}),m.jsx("p",{className:"signup-subtitle",children:"Complete your profile to join OrbitX"})]}),m.jsxs("div",{className:"signup-progress",children:[m.jsxs("div",{className:`signup-progress__step ${w>=1?"active":""} ${w>1?"completed":""}`,children:[m.jsx("div",{className:"signup-progress__circle",children:w>1?"":"1"}),m.jsx("span",{className:"signup-progress__label",children:"Personal"})]}),m.jsx("div",{className:"signup-progress__line"}),m.jsxs("div",{className:`signup-progress__step ${w>=2?"active":""}`,children:[m.jsx("div",{className:"signup-progress__circle",children:"2"}),m.jsx("span",{className:"signup-progress__label",children:"Academic"})]})]}),m.jsxs("form",{className:"signup-form",onSubmit:re,children:[w===1&&F(),w===2&&B(),m.jsxs("div",{className:"signup-form__actions",children:[w>1&&m.jsx("button",{type:"button",className:"signup-form__btn signup-form__btn--secondary",onClick:ce,children:"Back"}),w<2?m.jsx("button",{type:"button",className:"signup-form__btn signup-form__btn--primary",onClick:G,children:"Continue"}):m.jsx("button",{type:"submit",className:"signup-form__btn signup-form__btn--primary",disabled:d,children:d?m.jsxs(m.Fragment,{children:[m.jsx("span",{className:"signup-form__spinner"}),"Creating Account..."]}):"Create Account"})]})]}),m.jsxs("div",{className:"signup-footer",children:[m.jsx("span",{children:"Already have an account?"}),m.jsx("button",{type:"button",className:"signup-footer__login",onClick:()=>n("/login"),children:"Sign In"})]})]})})}function tK(){const n=Qa(),{showToast:e}=Oa(),[t,r]=ae.useState(""),[i,s]=ae.useState(!1),[o,u]=ae.useState(""),f=d=>{if(d.preventDefault(),u(""),!t.trim()){u("Email is required");return}if(!/\S+@\S+\.\S+/.test(t)){u("Please enter a valid email");return}s(!0),e("Reset link sent to your email","success")};return m.jsx("main",{className:"forgot-password-page page-transition",children:m.jsx("div",{className:"forgot-password-container",children:i?m.jsxs("div",{className:"forgot-password-success",children:[m.jsx("div",{className:"forgot-password-success__icon",children:m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),m.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]})}),m.jsx("h2",{className:"forgot-password-success__title",children:"Check Your Email"}),m.jsxs("p",{className:"forgot-password-success__text",children:["We've sent a password reset link to",m.jsx("br",{}),m.jsx("strong",{children:t})]}),m.jsx("p",{className:"forgot-password-success__hint",children:"Didn't receive the email? Check your spam folder."}),m.jsx("button",{className:"forgot-password-success__btn",onClick:()=>n("/login"),children:"Back to Login"})]}):m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"forgot-password-header",children:[m.jsx("div",{className:"forgot-password-icon",children:m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[m.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),m.jsx("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})]})}),m.jsx("h1",{className:"forgot-password-title",children:"Forgot Password?"}),m.jsx("p",{className:"forgot-password-subtitle",children:"No worries! Enter your email and we'll send you a reset link."})]}),m.jsxs("form",{className:"forgot-password-form",onSubmit:f,children:[m.jsxs("div",{className:"forgot-password-form__group",children:[m.jsx("label",{className:"forgot-password-form__label",children:"Email Address"}),m.jsx("input",{type:"email",className:`forgot-password-form__input ${o?"forgot-password-form__input--error":""}`,value:t,onChange:d=>{r(d.target.value),u("")}}),o&&m.jsx("span",{className:"forgot-password-form__error",children:o})]}),m.jsx("button",{type:"submit",className:"forgot-password-form__submit",children:"Send Reset Link"})]}),m.jsxs("button",{className:"forgot-password-back",onClick:()=>n("/login"),children:[m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("line",{x1:"19",y1:"12",x2:"5",y2:"12"}),m.jsx("polyline",{points:"12 19 5 12 12 5"})]}),"Back to Login"]})]})})})}function nK({text:n,label:e}){const[t,r]=ae.useState(!1),i=async()=>{try{await navigator.clipboard.writeText(n),r(!0),setTimeout(()=>r(!1),2e3)}catch(s){console.error("Failed to copy:",s)}};return m.jsxs("button",{className:"copy-button",onClick:i,title:"Copy to clipboard",children:[e&&m.jsx("span",{className:"copy-button__label",children:e}),m.jsx("span",{className:"copy-button__text",children:n}),m.jsx("span",{className:`copy-button__icon ${t?"copy-button__icon--copied":""}`,children:t?m.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:m.jsx("polyline",{points:"20 6 9 17 4 12"})}):m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),m.jsx("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})]})}),t&&m.jsx("span",{className:"copy-button__feedback",children:"Copied!"})]})}function rK({isOpen:n,onClose:e}){const{showToast:t}=Oa(),{profile:r}=Lo(),[i,s]=ae.useState(!1),[o,u]=ae.useState(!1),[f,d]=ae.useState({firstName:"",lastName:"",qualificationLevel:"",stream:"",collegeName:"",courseName:"",yearOfStudy:"",yearOfGraduation:""});ae.useEffect(()=>{r&&d({firstName:r.firstName||"",lastName:r.lastName||"",qualificationLevel:r.qualificationLevel||"",stream:r.stream||"",collegeName:r.collegeName||"",courseName:r.courseName||"",yearOfStudy:r.yearOfStudy||"",yearOfGraduation:r.yearOfGraduation||""})},[r]),ae.useEffect(()=>(n?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[n]);const x=()=>{s(!0),setTimeout(()=>{s(!1),u(!1),e()},300)},w=M=>{M.target===M.currentTarget&&x()},A=async()=>{t("Profile update coming soon!","info"),u(!1)},E=()=>{r&&d({firstName:r.firstName||"",lastName:r.lastName||"",qualificationLevel:r.qualificationLevel||"",stream:r.stream||"",collegeName:r.collegeName||"",courseName:r.courseName||"",yearOfStudy:r.yearOfStudy||"",yearOfGraduation:r.yearOfGraduation||""}),u(!1)},I=()=>{const M=r?.firstName?.charAt(0)?.toUpperCase()||"",G=r?.lastName?.charAt(0)?.toUpperCase()||"";return`${M}${G}`},C=M=>M?new Date(M).toLocaleDateString("en-US",{month:"long",year:"numeric"}):"N/A",L=M=>{if(!M)return"N/A";const[G,ce,re]=M.split("-");return new Date(parseInt(G),parseInt(ce)-1,parseInt(re)).toLocaleDateString("en-US",{day:"numeric",month:"long",year:"numeric"})},j=M=>{if(!M)return"N/A";const G={ug_course:"Undergraduate",pg_course:"Postgraduate",diploma:"Diploma",be_cse:"B.E. Computer Science",be_it:"B.E. Information Technology",be_extc:"B.E. Electronics & Telecom",be_mech:"B.E. Mechanical",be_civil:"B.E. Civil",be_electrical:"B.E. Electrical",btech_cse:"B.Tech Computer Science",btech_it:"B.Tech Information Technology",bca:"BCA",bsc_cs:"B.Sc. Computer Science",bsc_it:"B.Sc. Information Technology",mca:"MCA",mtech:"M.Tech",msc:"M.Sc.",engineering:"Engineering",science:"Science",commerce:"Commerce",arts:"Arts",medical:"Medical",male:"Male",female:"Female",other:"Other",prefer_not_to_say:"Prefer Not to Say"},ce=M.toLowerCase();return G[ce]?G[ce]:M.split("_").map(re=>re.charAt(0).toUpperCase()+re.slice(1).toLowerCase()).join(" ")},W=M=>{if(!M)return"N/A";const G=parseInt(M);if(isNaN(G))return M;const ce=["th","st","nd","rd"],re=G%100;return G+(ce[(re-20)%10]||ce[re]||ce[0])+" Year"};return!n||!r?null:m.jsx("div",{className:`profile-overlay ${i?"profile-overlay--closing":""}`,onClick:w,children:m.jsxs("div",{className:"profile-overlay__modal",children:[m.jsx("button",{className:"profile-overlay__close",onClick:x,children:m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),m.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})}),m.jsxs("div",{className:"profile-overlay__sidebar",children:[m.jsx("div",{className:"profile-overlay__avatar-wrapper",children:r.avatar?m.jsx("img",{src:r.avatar,alt:r.firstName,className:"profile-overlay__avatar"}):m.jsx("div",{className:"profile-overlay__avatar profile-overlay__avatar--initials",children:I()})}),m.jsxs("h2",{className:"profile-overlay__name",children:[r.firstName," ",r.lastName]}),m.jsx(nK,{text:r.orbitId}),m.jsxs("div",{className:"profile-overlay__sidebar-info",children:[m.jsxs("div",{className:"profile-overlay__sidebar-item",children:[m.jsx("span",{className:"profile-overlay__sidebar-label",children:"Member Since"}),m.jsx("span",{className:"profile-overlay__sidebar-value",children:C(r.createdAt)})]}),m.jsxs("div",{className:"profile-overlay__sidebar-item",children:[m.jsx("span",{className:"profile-overlay__sidebar-label",children:"Status"}),m.jsx("span",{className:`profile-overlay__sidebar-value profile-overlay__status--${r.isActive?"active":"inactive"}`,children:r.isActive?"Active":"Inactive"})]}),r.googleLinked&&m.jsxs("div",{className:"profile-overlay__sidebar-item",children:[m.jsx("span",{className:"profile-overlay__sidebar-label",children:"Google"}),m.jsx("span",{className:"profile-overlay__sidebar-value profile-overlay__status--linked",children:"Linked "})]})]})]}),m.jsxs("div",{className:"profile-overlay__main",children:[m.jsx("div",{className:"profile-overlay__content",children:o?m.jsxs("div",{className:"profile-overlay__edit-form",children:[m.jsxs("div",{className:"profile-overlay__form-grid",children:[m.jsxs("div",{className:"profile-overlay__form-group",children:[m.jsx("label",{className:"profile-overlay__form-label",children:"First Name"}),m.jsx("input",{type:"text",className:"profile-overlay__form-input",value:f.firstName,onChange:M=>d(G=>({...G,firstName:M.target.value}))})]}),m.jsxs("div",{className:"profile-overlay__form-group",children:[m.jsx("label",{className:"profile-overlay__form-label",children:"Last Name"}),m.jsx("input",{type:"text",className:"profile-overlay__form-input",value:f.lastName,onChange:M=>d(G=>({...G,lastName:M.target.value}))})]}),m.jsxs("div",{className:"profile-overlay__form-group",children:[m.jsx("label",{className:"profile-overlay__form-label",children:"Qualification"}),m.jsx(Wa,{options:xR,value:f.qualificationLevel,onChange:M=>d(G=>({...G,qualificationLevel:M})),placeholder:"Select Qualification"})]}),m.jsxs("div",{className:"profile-overlay__form-group",children:[m.jsx("label",{className:"profile-overlay__form-label",children:"Stream"}),m.jsx(Wa,{options:vR,value:f.stream,onChange:M=>d(G=>({...G,stream:M})),placeholder:"Select Stream"})]}),m.jsxs("div",{className:"profile-overlay__form-group",children:[m.jsx("label",{className:"profile-overlay__form-label",children:"College"}),m.jsx("input",{type:"text",className:"profile-overlay__form-input",value:f.collegeName,onChange:M=>d(G=>({...G,collegeName:M.target.value}))})]}),m.jsxs("div",{className:"profile-overlay__form-group",children:[m.jsx("label",{className:"profile-overlay__form-label",children:"Course"}),m.jsx(Wa,{options:_R,value:f.courseName,onChange:M=>d(G=>({...G,courseName:M})),placeholder:"Select Course"})]}),m.jsxs("div",{className:"profile-overlay__form-group",children:[m.jsx("label",{className:"profile-overlay__form-label",children:"Year of Study"}),m.jsx(Wa,{options:yR,value:f.yearOfStudy,onChange:M=>d(G=>({...G,yearOfStudy:M})),placeholder:"Select Year"})]}),m.jsxs("div",{className:"profile-overlay__form-group",children:[m.jsx("label",{className:"profile-overlay__form-label",children:"Graduation Year"}),m.jsx(Wa,{options:wR(),value:f.yearOfGraduation,onChange:M=>d(G=>({...G,yearOfGraduation:M})),placeholder:"Select Year"})]})]}),m.jsx("p",{className:"profile-overlay__form-note",children:"Note: Email, Mobile, Date of Birth, and Gender cannot be changed."})]}):m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"profile-overlay__section",children:[m.jsx("h3",{className:"profile-overlay__section-title",children:"Personal Information"}),m.jsxs("div",{className:"profile-overlay__info-grid",children:[m.jsxs("div",{className:"profile-overlay__info-item",children:[m.jsx("span",{className:"profile-overlay__info-label",children:"Email"}),m.jsx("span",{className:"profile-overlay__info-value",children:r.email})]}),m.jsxs("div",{className:"profile-overlay__info-item",children:[m.jsx("span",{className:"profile-overlay__info-label",children:"Mobile"}),m.jsx("span",{className:"profile-overlay__info-value",children:r.mobile||"Not provided"})]}),m.jsxs("div",{className:"profile-overlay__info-item",children:[m.jsx("span",{className:"profile-overlay__info-label",children:"Date of Birth"}),m.jsx("span",{className:"profile-overlay__info-value",children:L(r.dateOfBirth)})]}),m.jsxs("div",{className:"profile-overlay__info-item",children:[m.jsx("span",{className:"profile-overlay__info-label",children:"Gender"}),m.jsx("span",{className:"profile-overlay__info-value",children:j(r.gender)})]})]})]}),m.jsxs("div",{className:"profile-overlay__section",children:[m.jsx("h3",{className:"profile-overlay__section-title",children:"Academic Information"}),m.jsxs("div",{className:"profile-overlay__info-grid",children:[m.jsxs("div",{className:"profile-overlay__info-item",children:[m.jsx("span",{className:"profile-overlay__info-label",children:"Qualification"}),m.jsx("span",{className:"profile-overlay__info-value",children:j(r.qualificationLevel)})]}),m.jsxs("div",{className:"profile-overlay__info-item",children:[m.jsx("span",{className:"profile-overlay__info-label",children:"Stream"}),m.jsx("span",{className:"profile-overlay__info-value",children:j(r.stream)})]}),m.jsxs("div",{className:"profile-overlay__info-item",children:[m.jsx("span",{className:"profile-overlay__info-label",children:"College"}),m.jsx("span",{className:"profile-overlay__info-value",children:r.collegeName||"N/A"})]}),m.jsxs("div",{className:"profile-overlay__info-item",children:[m.jsx("span",{className:"profile-overlay__info-label",children:"Course"}),m.jsx("span",{className:"profile-overlay__info-value",children:j(r.courseName)})]}),m.jsxs("div",{className:"profile-overlay__info-item",children:[m.jsx("span",{className:"profile-overlay__info-label",children:"Year of Study"}),m.jsx("span",{className:"profile-overlay__info-value",children:W(r.yearOfStudy)})]}),m.jsxs("div",{className:"profile-overlay__info-item",children:[m.jsx("span",{className:"profile-overlay__info-label",children:"Graduation"}),m.jsx("span",{className:"profile-overlay__info-value",children:r.yearOfGraduation||"N/A"})]})]})]})]})}),m.jsx("div",{className:"profile-overlay__actions",children:o?m.jsxs(m.Fragment,{children:[m.jsx("button",{className:"profile-overlay__cancel-btn",onClick:E,children:"Cancel"}),m.jsx("button",{className:"profile-overlay__save-btn",onClick:A,children:"Save Changes"})]}):m.jsx("button",{className:"profile-overlay__edit-btn",onClick:()=>u(!0),children:"Edit Profile"})})]})]})})}const VT=[{code:"en",name:"English"},{code:"es",name:"Espaol"},{code:"fr",name:"Franais"},{code:"de",name:"Deutsch"},{code:"hi",name:""},{code:"ja",name:""}];function iK({isOpen:n,onClose:e}){const t=Qa(),{showToast:r}=Oa(),{profile:i}=Lo(),[s,o]=ae.useState(!1),[u,f]=ae.useState("en"),[d,x]=ae.useState(!1),[w,A]=ae.useState(!1),[E,I]=ae.useState(""),C=()=>{w||(o(!0),setTimeout(()=>{o(!1),x(!1),I(""),e()},300))},L=G=>{G.target===G.currentTarget&&!w&&C()},j=G=>{f(G);const ce=VT.find(re=>re.code===G);r(`Language changed to ${ce?.name}`,"success")},W=async()=>{if(E!=="DELETE"){r("Please type DELETE to confirm","error");return}A(!0);try{await hH(),r("Your account has been deleted","info"),setTimeout(()=>{t("/")},500)}catch(G){console.error("Delete account error:",G),G.message?.includes("log out and log back in")?r("Please log out and log back in, then try again","error"):r("Failed to delete account. Please try again.","error"),A(!1)}},M=()=>{x(!1),I("")};return n?m.jsx("div",{className:`settings-overlay ${s?"settings-overlay--closing":""}`,onClick:L,children:m.jsxs("div",{className:"settings-overlay__modal",children:[m.jsx("button",{className:"settings-overlay__close",onClick:C,disabled:w,children:m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),m.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})}),m.jsx("div",{className:"settings-overlay__header",children:m.jsx("h2",{className:"settings-overlay__title",children:"Settings"})}),m.jsxs("div",{className:"settings-overlay__content",children:[m.jsxs("div",{className:"settings-overlay__section",children:[m.jsx("h3",{className:"settings-overlay__section-title",children:"Language"}),m.jsx("p",{className:"settings-overlay__section-desc",children:"Select your preferred language"}),m.jsx("div",{className:"settings-overlay__language-grid",children:VT.map(G=>m.jsx("button",{className:`settings-overlay__language-btn ${u===G.code?"settings-overlay__language-btn--active":""}`,onClick:()=>j(G.code),children:G.name},G.code))})]}),m.jsxs("div",{className:"settings-overlay__section settings-overlay__section--danger",children:[m.jsx("h3",{className:"settings-overlay__section-title",children:"Danger Zone"}),m.jsx("p",{className:"settings-overlay__section-desc",children:"This action cannot be undone. All your data will be permanently deleted."}),d?m.jsxs("div",{className:"settings-overlay__delete-confirm",children:[m.jsxs("div",{className:"settings-overlay__delete-info",children:[m.jsx("p",{className:"settings-overlay__delete-warning",children:" You are about to delete your account"}),m.jsxs("p",{className:"settings-overlay__delete-details",children:[m.jsx("strong",{children:"Orbit ID:"})," ",i?.orbitId,m.jsx("br",{}),m.jsx("strong",{children:"Email:"})," ",i?.email]})]}),m.jsxs("div",{className:"settings-overlay__confirm-input-group",children:[m.jsxs("label",{className:"settings-overlay__confirm-label",children:["Type ",m.jsx("strong",{children:"DELETE"})," to confirm:"]}),m.jsx("input",{type:"text",className:"settings-overlay__confirm-input",value:E,onChange:G=>I(G.target.value.toUpperCase()),placeholder:"Type DELETE here",disabled:w})]}),m.jsxs("div",{className:"settings-overlay__delete-actions",children:[m.jsx("button",{className:"settings-overlay__cancel-delete",onClick:M,disabled:w,children:"Cancel"}),m.jsx("button",{className:"settings-overlay__confirm-delete",onClick:W,disabled:w||E!=="DELETE",children:w?"Deleting...":"Delete Forever"})]})]}):m.jsx("button",{className:"settings-overlay__delete-btn",onClick:()=>x(!0),children:"Delete Account"})]})]})]})}):null}const sK=[{key:"Esc",description:"Close any open overlay"},{key:"?",description:"Show this help"}];function aK({isOpen:n,onClose:e}){const[t,r]=ae.useState(!1),i=()=>{r(!0),setTimeout(()=>{r(!1),e()},200)},s=o=>{o.target===o.currentTarget&&i()};return n?m.jsx("div",{className:`shortcuts-overlay ${t?"shortcuts-overlay--closing":""}`,onClick:s,children:m.jsxs("div",{className:"shortcuts-modal",children:[m.jsxs("div",{className:"shortcuts-header",children:[m.jsx("h2",{className:"shortcuts-title",children:"Keyboard Shortcuts"}),m.jsx("button",{className:"shortcuts-close",onClick:i,children:m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),m.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),m.jsx("div",{className:"shortcuts-list",children:sK.map((o,u)=>m.jsxs("div",{className:"shortcuts-item",children:[m.jsx("kbd",{className:"shortcuts-key",children:o.key}),m.jsx("span",{className:"shortcuts-desc",children:o.description})]},u))}),m.jsxs("p",{className:"shortcuts-hint",children:["Press ",m.jsx("kbd",{children:"?"})," anytime to see shortcuts"]})]})}):null}function oK({isOpen:n,onClose:e,adminOrbitId:t}){const{showToast:r}=Oa(),[i,s]=ae.useState([]),[o,u]=ae.useState(!0),[f,d]=ae.useState(!1),[x,w]=ae.useState(!1),[A,E]=ae.useState(!1),[I,C]=ae.useState({title:"",file:null,fileName:"",mediaType:"image",previewUrl:"",linkUrl:""}),L=ae.useRef(null),j=ae.useRef(null);ae.useEffect(()=>{if(!n)return;const ne=Ra(Si(An,"promotions"),ou("priority","asc")),pe=Jl(ne,Ae=>{const xe=[];Ae.forEach(Re=>{xe.push({id:Re.id,...Re.data()})}),s(xe),u(!1)},Ae=>{console.error("Error fetching promotions:",Ae),r("Failed to load promotions","error"),u(!1)});return()=>pe()},[n,r]);const W=()=>{d(!0),setTimeout(()=>{d(!1),w(!1),G(),e()},300)},M=ne=>{ne.target===ne.currentTarget&&W()},G=()=>{C({title:"",file:null,fileName:"",mediaType:"image",previewUrl:"",linkUrl:""})},ce=ne=>ne.type.startsWith("video/")?"video":ne.type==="image/gif"?"gif":"image",re=ne=>{if(!["image/jpeg","image/png","image/gif","image/webp","video/mp4","video/webm"].includes(ne.type)){r("Invalid file type. Please upload an image, GIF, or video.","error");return}if(ne.size>10*1024*1024){r("File is too large. Maximum size is 10MB.","error");return}const Ae=URL.createObjectURL(ne);C({...I,file:ne,fileName:ne.name,mediaType:ce(ne),previewUrl:Ae})},F=ne=>{ne.preventDefault(),ne.stopPropagation(),j.current?.classList.add("promo-manager__dropzone--active")},B=ne=>{ne.preventDefault(),ne.stopPropagation(),j.current?.classList.remove("promo-manager__dropzone--active")},D=ne=>{ne.preventDefault(),ne.stopPropagation(),j.current?.classList.remove("promo-manager__dropzone--active");const pe=ne.dataTransfer.files[0];pe&&re(pe)},Z=ne=>{const pe=ne.target.files?.[0];pe&&re(pe)},U=async()=>{if(!I.title.trim()){r("Please enter a title","error");return}if(!I.fileName){r("Please select a file","error");return}E(!0);try{const ne={title:I.title.trim(),mediaUrl:I.previewUrl,mediaType:I.mediaType,isActive:!0,priority:i.length+1,createdBy:t,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),fileName:I.fileName};I.linkUrl.trim()&&(ne.linkUrl=I.linkUrl.trim()),await Jh(Si(An,"promotions"),ne),r("Promotion created successfully!","success"),w(!1),G()}catch(ne){console.error("Error creating promotion:",ne),r("Failed to create promotion","error")}finally{E(!1)}},H=async ne=>{try{await Go(hr(An,"promotions",ne.id),{isActive:!ne.isActive,updatedAt:new Date().toISOString()}),r(`Promotion ${ne.isActive?"deactivated":"activated"}`,"success")}catch(pe){console.error("Error updating promotion:",pe),r("Failed to update promotion","error")}},X=async ne=>{if(confirm(`Are you sure you want to delete "${ne.title}"?`))try{await lu(hr(An,"promotions",ne.id)),r("Promotion deleted","success")}catch(pe){console.error("Error deleting promotion:",pe),r("Failed to delete promotion","error")}};return n?m.jsx("div",{className:`promo-manager ${f?"promo-manager--closing":""}`,onClick:M,children:m.jsxs("div",{className:"promo-manager__modal",children:[m.jsxs("div",{className:"promo-manager__header",children:[m.jsx("h2",{className:"promo-manager__title",children:"Promotional Screen Manager"}),m.jsx("button",{className:"promo-manager__close",onClick:W,children:m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),m.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),m.jsx("div",{className:"promo-manager__content",children:x?m.jsxs("div",{className:"promo-manager__create-form",children:[m.jsxs("button",{className:"promo-manager__back-btn",onClick:()=>{w(!1),G()},children:[m.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:m.jsx("polyline",{points:"15 18 9 12 15 6"})}),"Back to list"]}),m.jsxs("div",{className:"promo-manager__form-grid",children:[m.jsxs("div",{className:"promo-manager__form-left",children:[m.jsxs("div",{className:"promo-manager__form-group",children:[m.jsx("label",{className:"promo-manager__label",children:"Title *"}),m.jsx("input",{type:"text",className:"promo-manager__input",value:I.title,onChange:ne=>C({...I,title:ne.target.value}),placeholder:"Enter promotion title"})]}),m.jsxs("div",{className:"promo-manager__form-group",children:[m.jsx("label",{className:"promo-manager__label",children:"Media *"}),m.jsx("div",{ref:j,className:"promo-manager__dropzone",onDragOver:F,onDragLeave:B,onDrop:D,onClick:()=>L.current?.click(),children:I.previewUrl?m.jsxs("div",{className:"promo-manager__dropzone-preview",children:[I.mediaType==="video"?m.jsx("video",{src:I.previewUrl,muted:!0,autoPlay:!0,loop:!0}):m.jsx("img",{src:I.previewUrl,alt:"Preview"}),m.jsx("div",{className:"promo-manager__dropzone-filename",children:I.fileName}),m.jsx("button",{className:"promo-manager__dropzone-remove",onClick:ne=>{ne.stopPropagation(),C({...I,file:null,fileName:"",previewUrl:""})},children:"Remove"})]}):m.jsxs("div",{className:"promo-manager__dropzone-content",children:[m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[m.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),m.jsx("polyline",{points:"17 8 12 3 7 8"}),m.jsx("line",{x1:"12",y1:"3",x2:"12",y2:"15"})]}),m.jsx("p",{children:"Drag & drop or click to upload"}),m.jsx("span",{children:"Image, GIF, or Video (max 10MB)"})]})}),m.jsx("input",{ref:L,type:"file",accept:"image/*,video/mp4,video/webm",onChange:Z,style:{display:"none"}})]}),m.jsxs("div",{className:"promo-manager__form-group",children:[m.jsx("label",{className:"promo-manager__label",children:"Link URL (Optional)"}),m.jsx("input",{type:"url",className:"promo-manager__input",value:I.linkUrl,onChange:ne=>C({...I,linkUrl:ne.target.value}),placeholder:"https://example.com (leave empty for no link)"}),m.jsx("span",{className:"promo-manager__hint",children:"If provided, clicking the promo will open this URL"})]}),m.jsx("button",{className:"promo-manager__submit-btn",onClick:U,disabled:A,children:A?"Saving...":"Create Promotion"})]}),m.jsxs("div",{className:"promo-manager__form-right",children:[m.jsx("label",{className:"promo-manager__label",children:"Live Preview"}),m.jsx("div",{className:"promo-manager__live-preview",children:I.previewUrl?m.jsx("div",{className:"promo-manager__preview-container",children:I.mediaType==="video"?m.jsx("video",{src:I.previewUrl,muted:!0,autoPlay:!0,loop:!0}):m.jsx("img",{src:I.previewUrl,alt:"Live Preview"})}):m.jsx("div",{className:"promo-manager__preview-placeholder",children:m.jsx("span",{children:"Preview will appear here"})})})]})]})]}):m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"promo-manager__toolbar",children:m.jsxs("button",{className:"promo-manager__create-btn",onClick:()=>w(!0),children:[m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),m.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Create Ad"]})}),m.jsx("div",{className:"promo-manager__list",children:o?m.jsx("div",{className:"promo-manager__loading",children:"Loading promotions..."}):i.length===0?m.jsxs("div",{className:"promo-manager__empty",children:[m.jsx("p",{children:"No promotions yet"}),m.jsx("span",{children:'Click "Create Ad" to add your first promotion'})]}):i.map(ne=>m.jsxs("div",{className:`promo-manager__item ${ne.isActive?"":"promo-manager__item--inactive"}`,children:[m.jsx("div",{className:"promo-manager__item-preview",children:m.jsx("div",{className:"promo-manager__item-placeholder",children:m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[m.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),m.jsx("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),m.jsx("polyline",{points:"21 15 16 10 5 21"})]})})}),m.jsxs("div",{className:"promo-manager__item-info",children:[m.jsx("h4",{className:"promo-manager__item-title",children:ne.title}),m.jsx("span",{className:"promo-manager__item-type",children:ne.mediaType?.toUpperCase()||"IMAGE"}),m.jsx("span",{className:`promo-manager__item-status ${ne.isActive?"promo-manager__item-status--active":""}`,children:ne.isActive?"Active":"Inactive"}),ne.linkUrl&&m.jsx("span",{className:"promo-manager__item-link",title:ne.linkUrl,children:m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"}),m.jsx("path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"})]})})]}),m.jsxs("div",{className:"promo-manager__item-actions",children:[m.jsx("button",{className:"promo-manager__item-btn",onClick:()=>H(ne),title:ne.isActive?"Deactivate":"Activate",children:m.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:ne.isActive?m.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24M1 1l22 22"}):m.jsxs(m.Fragment,{children:[m.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),m.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})}),m.jsx("button",{className:"promo-manager__item-btn promo-manager__item-btn--delete",onClick:()=>X(ne),title:"Delete",children:m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("polyline",{points:"3 6 5 6 21 6"}),m.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})]},ne.id))})]})})]})}):null}const lK=Array.from({length:12},(n,e)=>String(e+1).padStart(2,"0")),cK=Array.from({length:60},(n,e)=>String(e).padStart(2,"0")),uK=["AM","PM"];function zT({value:n,onChange:e,placeholder:t="Select time",error:r=!1,name:i}){const[s,o]=ae.useState(!1),u=ae.useRef(null),f=M=>{if(!M)return{hour:"12",minute:"00",period:"AM"};const[G,ce]=M.split(":"),re=parseInt(G,10),F=re>=12?"PM":"AM",B=re%12||12;return{hour:String(B).padStart(2,"0"),minute:ce||"00",period:F}},d=f(n),[x,w]=ae.useState(d.hour),[A,E]=ae.useState(d.minute),[I,C]=ae.useState(d.period);ae.useEffect(()=>{const M=f(n);w(M.hour),E(M.minute),C(M.period)},[n]),ae.useEffect(()=>{const M=G=>{u.current&&!u.current.contains(G.target)&&o(!1)};return document.addEventListener("mousedown",M),()=>document.removeEventListener("mousedown",M)},[]);const L=()=>n?`${x}:${A} ${I}`:"",j=()=>{let M=parseInt(x,10);I==="PM"&&M!==12?M+=12:I==="AM"&&M===12&&(M=0);const G=`${String(M).padStart(2,"0")}:${A}`;e(G),o(!1)},W=()=>{e(""),o(!1)};return m.jsxs("div",{className:`custom-time-picker ${s?"custom-time-picker--open":""} ${r?"custom-time-picker--error":""}`,ref:u,children:[m.jsx("input",{type:"hidden",name:i,value:n}),m.jsxs("button",{type:"button",className:"custom-time-picker__trigger",onClick:()=>o(!s),children:[m.jsx("span",{className:n?"":"custom-time-picker__placeholder",children:n?L():t}),m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("circle",{cx:"12",cy:"12",r:"10"}),m.jsx("polyline",{points:"12 6 12 12 16 14"})]})]}),s&&m.jsxs("div",{className:"custom-time-picker__dropdown",children:[m.jsxs("div",{className:"custom-time-picker__columns",children:[m.jsxs("div",{className:"custom-time-picker__column",children:[m.jsx("span",{className:"custom-time-picker__column-label",children:"Hour"}),m.jsx("div",{className:"custom-time-picker__scroll",children:lK.map(M=>m.jsx("button",{type:"button",className:`custom-time-picker__option ${x===M?"custom-time-picker__option--selected":""}`,onClick:()=>w(M),children:M},M))})]}),m.jsxs("div",{className:"custom-time-picker__column",children:[m.jsx("span",{className:"custom-time-picker__column-label",children:"Min"}),m.jsx("div",{className:"custom-time-picker__scroll",children:cK.map(M=>m.jsx("button",{type:"button",className:`custom-time-picker__option ${A===M?"custom-time-picker__option--selected":""}`,onClick:()=>E(M),children:M},M))})]}),m.jsxs("div",{className:"custom-time-picker__column custom-time-picker__column--period",children:[m.jsx("span",{className:"custom-time-picker__column-label",children:"Period"}),m.jsx("div",{className:"custom-time-picker__scroll",children:uK.map(M=>m.jsx("button",{type:"button",className:`custom-time-picker__option ${I===M?"custom-time-picker__option--selected":""}`,onClick:()=>C(M),children:M},M))})]})]}),m.jsxs("div",{className:"custom-time-picker__actions",children:[m.jsx("button",{type:"button",className:"custom-time-picker__btn custom-time-picker__btn--clear",onClick:W,children:"Clear"}),m.jsx("button",{type:"button",className:"custom-time-picker__btn custom-time-picker__btn--confirm",onClick:j,children:"Confirm"})]})]})]})}const hK=[{value:"Workshop",label:"Workshop"},{value:"Talk",label:"Talk"},{value:"Competition",label:"Competition"},{value:"Outreach",label:"Outreach"}],fK=[{value:"Online",label:"Online"},{value:"Offline",label:"Offline"}],dK=[{value:"Open to all",label:"Open to all"},{value:"Open to all students",label:"Open to all students"},{value:"Open to all engineering students",label:"Open to all engineering students"},{value:"First year students only",label:"First year students only"},{value:"Second year students only",label:"Second year students only"},{value:"Third year students only",label:"Third year students only"},{value:"Final year students only",label:"Final year students only"},{value:"Teams of 2-3 members",label:"Teams of 2-3 members"},{value:"Teams of 3-5 members",label:"Teams of 3-5 members"},{value:"OrbitX members only",label:"OrbitX members only"},{value:"Faculty and students",label:"Faculty and students"}],K_=n=>{if(!n)return!1;const e=new Date(n),t=new Date;return t.setHours(0,0,0,0),e<t},HT=n=>{if(!n)return"";const[e,t]=n.split(":"),r=parseInt(e,10),i=r>=12?"PM":"AM";return`${r%12||12}:${t} ${i}`},mK=async()=>{try{const n=new Date().getFullYear(),e=hr(An,"system","eventIdRegistry"),t=await Qs(e);let r=0;if(t.exists()){const s=t.data();s.year===n&&(r=s.counter||0)}const i=r+1;return await nu(e,{year:n,counter:i,lastUpdated:new Date().toISOString()}),`EVT-${n}-${String(i).padStart(4,"0")}`}catch(n){console.error("Error generating eventId from registry, using fallback:",n);const e=new Date().getFullYear(),t=Date.now().toString().slice(-6);return`EVT-${e}-${t}`}};function gK({isOpen:n,onClose:e,adminOrbitId:t}){const{showToast:r}=Oa(),[i,s]=ae.useState([]),[o,u]=ae.useState(!0),[f,d]=ae.useState(!1),[x,w]=ae.useState(!1),[A,E]=ae.useState("details"),[I,C]=ae.useState(!1),[L,j]=ae.useState(null),W=ae.useRef(null),[M,G]=ae.useState({title:"",description:"",date:"",startTime:"",endTime:"",type:"Workshop",mode:"Offline",venue:"",venueUrl:"",registrationDeadline:"",eligibility:"Open to all",speakers:"",amount:""}),[ce,re]=ae.useState([]),[F,B]=ae.useState([]),[D,Z]=ae.useState(!1),[U,H]=ae.useState({x:50,y:50}),[X,ne]=ae.useState(!1),pe=ae.useRef(null);ae.useEffect(()=>{if(!n)return;const le=Ra(Si(An,"events"),ou("date","desc")),ot=Jl(le,async pt=>{const zt=[],tt=[];pt.forEach(tn=>{const Lt={...tn.data(),id:tn.id};!Lt.isPast&&K_(Lt.date)&&(tt.push(Go(hr(An,"events",tn.id),{isPast:!0,registrationOpen:!1,updatedAt:new Date().toISOString()})),Lt.isPast=!0,Lt.registrationOpen=!1),Lt.registrationOpen&&Lt.registrationDeadline&&K_(Lt.registrationDeadline)&&(tt.push(Go(hr(An,"events",tn.id),{registrationOpen:!1,updatedAt:new Date().toISOString()})),Lt.registrationOpen=!1),zt.push(Lt)}),tt.length>0&&await Promise.all(tt),s(zt),u(!1)},pt=>{console.error("Error fetching events:",pt),r("Failed to load events","error"),u(!1)});return()=>ot()},[n,r]);const Ae=()=>{d(!0),setTimeout(()=>{d(!1),w(!1),j(null),E("details"),Re(),e()},300)},xe=le=>{le.target===le.currentTarget&&Ae()},Re=()=>{G({title:"",description:"",date:"",startTime:"",endTime:"",type:"Workshop",mode:"Offline",venue:"",venueUrl:"",registrationDeadline:"",eligibility:"Open to all",speakers:"",amount:""}),F.forEach(le=>URL.revokeObjectURL(le)),re([]),B([]),E("details"),H({x:50,y:50}),j(null)},He=le=>{if(!le)return{start:"",end:""};const ot=zt=>{const tt=zt.trim().match(/(\d{1,2}):(\d{2})\s*(AM|PM)/i);if(!tt)return"";let tn=parseInt(tt[1],10);const Xe=tt[2],Lt=tt[3].toUpperCase();return Lt==="PM"&&tn!==12&&(tn+=12),Lt==="AM"&&tn===12&&(tn=0),`${String(tn).padStart(2,"0")}:${Xe}`},pt=le.split(" - ");return{start:ot(pt[0]||""),end:pt[1]?ot(pt[1]):""}},ze=le=>{const ot=He(le.time);G({title:le.title,description:le.description,date:le.date,startTime:ot.start,endTime:ot.end,type:le.type,mode:le.mode,venue:le.venue,venueUrl:le.venueUrl||"",registrationDeadline:le.registrationDeadline,eligibility:le.eligibility,speakers:le.speakers.join(", "),amount:le.amount?String(le.amount):""}),le.imagePositions&&le.imagePositions[0]&&H(le.imagePositions[0]),j(le),w(!0),E("details")},ve=le=>{le.preventDefault(),Z(!0)},q=()=>{Z(!1)},J=le=>{le.preventDefault(),Z(!1);const ot=Array.from(le.dataTransfer.files).filter(pt=>pt.type.startsWith("image/"));ot.length>0?Q(ot):r("Please select image files","error")},Q=le=>{const ot=[...ce,...le],pt=le.map(zt=>URL.createObjectURL(zt));re(ot),B([...F,...pt])},oe=le=>{const ot=Array.from(le.target.files||[]);ot.length>0&&Q(ot),W.current&&(W.current.value="")},de=le=>{URL.revokeObjectURL(F[le]),re(ot=>ot.filter((pt,zt)=>zt!==le)),B(ot=>ot.filter((pt,zt)=>zt!==le))},De=le=>{le.preventDefault(),ne(!0)},Ve=le=>{if(!X||!pe.current)return;const ot=pe.current.getBoundingClientRect(),pt=(le.clientX-ot.left)/ot.width*100,zt=(le.clientY-ot.top)/ot.height*100;H({x:Math.max(0,Math.min(100,pt)),y:Math.max(0,Math.min(100,zt))})},Fe=()=>{ne(!1)};ae.useEffect(()=>{if(X){const le=()=>ne(!1);return window.addEventListener("mouseup",le),()=>window.removeEventListener("mouseup",le)}},[X]);const Ie=async()=>{if(!M.title.trim()){r("Please enter a title","error"),E("details");return}if(!M.date){r("Please select a date","error"),E("details");return}C(!0);try{let le="";if(M.startTime&&(le=HT(M.startTime),M.endTime&&(le+=` - ${HT(M.endTime)}`)),L){const ot=M.amount?parseInt(M.amount,10):void 0;await Go(hr(An,"events",L.id),{title:M.title.trim(),description:M.description.trim(),date:M.date,time:le,type:M.type,mode:M.mode,venue:M.venue.trim(),venueUrl:M.venueUrl.trim()||null,registrationDeadline:M.registrationDeadline,eligibility:M.eligibility,speakers:M.speakers.split(",").map(pt=>pt.trim()).filter(Boolean),imagePositions:F.length>0||L.images.length>0?{0:U}:void 0,amount:ot&&ot>0?ot:null,updatedAt:new Date().toISOString()}),r("Event updated successfully!","success")}else{const ot=M.amount?parseInt(M.amount,10):void 0,zt={eventId:await mK(),title:M.title.trim(),description:M.description.trim(),date:M.date,time:le,type:M.type,mode:M.mode,venue:M.venue.trim(),registrationDeadline:M.registrationDeadline,eligibility:M.eligibility,speakers:M.speakers.split(",").map(tt=>tt.trim()).filter(Boolean),images:ce.map(tt=>tt.name),registrationOpen:!0,isPast:!1,createdBy:t,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),...M.venueUrl.trim()&&{venueUrl:M.venueUrl.trim()},...F.length>0&&{imagePositions:{0:U}},...ot&&ot>0&&{amount:ot}};await Jh(Si(An,"events"),zt),r("Event created successfully!","success")}w(!1),Re()}catch(le){console.error("Error saving event:",le);const ot=le?.message||le?.code||"Unknown error";r(`Failed to ${L?"update":"create"} event: ${ot}`,"error")}finally{C(!1)}},Qe=async le=>{if(le.isPast&&!le.registrationOpen){r("Cannot open registration for past events","error");return}if(!le.registrationOpen&&le.registrationDeadline&&K_(le.registrationDeadline)){r("Registration deadline has passed","error");return}try{await Go(hr(An,"events",le.id),{registrationOpen:!le.registrationOpen,updatedAt:new Date().toISOString()}),r(`Registration ${le.registrationOpen?"closed":"opened"}`,"success")}catch(ot){console.error("Error updating event:",ot),r("Failed to update event","error")}},St=async le=>{try{await Go(hr(An,"events",le.id),{isPast:!le.isPast,registrationOpen:!1,updatedAt:new Date().toISOString()}),r(`Event marked as ${le.isPast?"upcoming":"past"}`,"success")}catch(ot){console.error("Error updating event:",ot),r("Failed to update event","error")}},Tt=async le=>{if(confirm(`Are you sure you want to delete "${le.title}"?`))try{await lu(hr(An,"events",le.id)),r("Event deleted","success")}catch(ot){console.error("Error deleting event:",ot),r("Failed to delete event","error")}},Rt=le=>{switch(le){case"Workshop":return"event-manager__badge--workshop";case"Talk":return"event-manager__badge--talk";case"Competition":return"event-manager__badge--competition";case"Outreach":return"event-manager__badge--outreach";default:return""}};return n?m.jsx("div",{className:`event-manager ${f?"event-manager--closing":""}`,onClick:xe,children:m.jsxs("div",{className:"event-manager__modal",children:[m.jsxs("div",{className:"event-manager__header",children:[m.jsx("h2",{className:"event-manager__title",children:"Event Manager"}),m.jsx("button",{className:"event-manager__close",onClick:Ae,children:m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),m.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),m.jsx("div",{className:"event-manager__content",children:x?m.jsxs("div",{className:"event-manager__create-form",children:[m.jsxs("div",{className:"event-manager__form-header",children:[m.jsxs("button",{className:"event-manager__back-btn",onClick:()=>{w(!1),Re()},children:[m.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:m.jsx("polyline",{points:"15 18 9 12 15 6"})}),L?"Cancel":"Back"]}),m.jsxs("div",{className:"event-manager__tabs",children:[m.jsx("button",{className:`event-manager__tab ${A==="details"?"event-manager__tab--active":""}`,onClick:()=>E("details"),children:"Details"}),m.jsx("button",{className:`event-manager__tab ${A==="images"?"event-manager__tab--active":""}`,onClick:()=>E("images"),children:"Images"})]})]}),A==="details"&&m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"event-manager__form-grid",children:[m.jsxs("div",{className:"event-manager__form-group event-manager__form-group--full",children:[m.jsx("label",{className:"event-manager__label",children:"Title *"}),m.jsx("input",{type:"text",className:"event-manager__input",value:M.title,onChange:le=>G({...M,title:le.target.value}),placeholder:"Event title"})]}),m.jsxs("div",{className:"event-manager__form-group event-manager__form-group--full",children:[m.jsx("label",{className:"event-manager__label",children:"Description"}),m.jsx("textarea",{className:"event-manager__textarea",value:M.description,onChange:le=>G({...M,description:le.target.value}),placeholder:"Event description...",rows:3})]}),m.jsxs("div",{className:"event-manager__form-group",children:[m.jsx("label",{className:"event-manager__label",children:"Event Date *"}),m.jsx(o2,{value:M.date,onChange:le=>G({...M,date:le}),placeholder:"Select date"})]}),m.jsxs("div",{className:"event-manager__form-group",children:[m.jsx("label",{className:"event-manager__label",children:"Registration Deadline"}),m.jsx(o2,{value:M.registrationDeadline,onChange:le=>G({...M,registrationDeadline:le}),placeholder:"Select deadline"})]}),m.jsxs("div",{className:"event-manager__form-group",children:[m.jsx("label",{className:"event-manager__label",children:"Start Time"}),m.jsx(zT,{value:M.startTime,onChange:le=>G({...M,startTime:le}),placeholder:"Select start time"})]}),m.jsxs("div",{className:"event-manager__form-group",children:[m.jsx("label",{className:"event-manager__label",children:"End Time"}),m.jsx(zT,{value:M.endTime,onChange:le=>G({...M,endTime:le}),placeholder:"Select end time"})]}),m.jsxs("div",{className:"event-manager__form-group",children:[m.jsx("label",{className:"event-manager__label",children:"Type"}),m.jsx(Wa,{options:hK,value:M.type,onChange:le=>G({...M,type:le}),placeholder:"Select type"})]}),m.jsxs("div",{className:"event-manager__form-group",children:[m.jsx("label",{className:"event-manager__label",children:"Mode"}),m.jsx(Wa,{options:fK,value:M.mode,onChange:le=>G({...M,mode:le}),placeholder:"Select mode"})]}),m.jsxs("div",{className:"event-manager__form-group event-manager__form-group--full",children:[m.jsx("label",{className:"event-manager__label",children:"Venue"}),m.jsx("input",{type:"text",className:"event-manager__input",value:M.venue,onChange:le=>G({...M,venue:le.target.value}),placeholder:"Event location (e.g., IIT Delhi)"})]}),m.jsxs("div",{className:"event-manager__form-group event-manager__form-group--full",children:[m.jsx("label",{className:"event-manager__label",children:"Venue URL (Optional)"}),m.jsx("input",{type:"url",className:"event-manager__input",value:M.venueUrl,onChange:le=>G({...M,venueUrl:le.target.value}),placeholder:"Google Maps link (e.g., https://maps.app.goo.gl/...)"})]}),m.jsxs("div",{className:"event-manager__form-group",children:[m.jsx("label",{className:"event-manager__label",children:"Eligibility"}),m.jsx(Wa,{options:dK,value:M.eligibility,onChange:le=>G({...M,eligibility:le}),placeholder:"Select eligibility"})]}),m.jsxs("div",{className:"event-manager__form-group",children:[m.jsx("label",{className:"event-manager__label",children:"Speakers"}),m.jsx("input",{type:"text",className:"event-manager__input",value:M.speakers,onChange:le=>G({...M,speakers:le.target.value}),placeholder:"Comma separated names"})]}),m.jsxs("div",{className:"event-manager__form-group",children:[m.jsx("label",{className:"event-manager__label",children:"Amount ()"}),m.jsx("input",{type:"number",className:"event-manager__input event-manager__input--amount",value:M.amount,onChange:le=>G({...M,amount:le.target.value}),onWheel:le=>{le.currentTarget.focus(),le.stopPropagation()},onFocus:le=>{const ot=le.currentTarget.closest(".event-manager__content");if(ot){const pt=zt=>zt.preventDefault();ot.addEventListener("wheel",pt,{passive:!1}),le.currentTarget.addEventListener("blur",()=>{ot.removeEventListener("wheel",pt)},{once:!0})}},placeholder:"Leave empty for free event",min:"0"})]})]}),m.jsxs("button",{className:"event-manager__next-btn",onClick:()=>E("images"),children:["Next: Add Images",m.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:m.jsx("polyline",{points:"9 18 15 12 9 6"})})]})]}),A==="images"&&m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"event-manager__images-section",children:[m.jsxs("div",{className:"event-manager__images-upload",children:[m.jsx("input",{type:"file",ref:W,onChange:oe,accept:"image/*",multiple:!0,style:{display:"none"}}),m.jsx("div",{className:`event-manager__dropzone ${D?"event-manager__dropzone--active":""}`,onDragOver:ve,onDragLeave:q,onDrop:J,onClick:()=>W.current?.click(),children:m.jsxs("div",{className:"event-manager__dropzone-content",children:[m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),m.jsx("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),m.jsx("polyline",{points:"21 15 16 10 5 21"})]}),m.jsx("p",{children:"Drag & drop images here"}),m.jsx("span",{children:"or click to browse"})]})}),F.length>0&&m.jsx("div",{className:"event-manager__images-list",children:F.map((le,ot)=>m.jsxs("div",{className:"event-manager__image-item",children:[m.jsx("img",{src:le,alt:`Upload ${ot+1}`}),ot===0&&m.jsx("span",{className:"event-manager__image-badge",children:"Thumbnail"}),m.jsx("button",{className:"event-manager__image-remove",onClick:()=>de(ot),children:""})]},ot))}),m.jsx("p",{className:"event-manager__hint",children:"First image will be used as thumbnail. Drag to reposition."})]}),m.jsxs("div",{className:"event-manager__images-preview",children:[m.jsx("h4",{className:"event-manager__preview-title",children:"Card Preview"}),m.jsxs("div",{className:"event-manager__preview-card",children:[F.length>0?m.jsxs("div",{ref:pe,className:"event-manager__preview-image",onMouseDown:De,onMouseMove:Ve,onMouseUp:Fe,onMouseLeave:Fe,style:{cursor:X?"grabbing":"grab"},children:[m.jsx("img",{src:F[0],alt:"Event preview",style:{objectPosition:`${U.x}% ${U.y}%`},draggable:!1}),m.jsx("div",{className:"event-manager__preview-hint",children:"Drag to adjust position"})]}):m.jsx("div",{className:"event-manager__preview-placeholder",children:m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[m.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),m.jsx("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),m.jsx("polyline",{points:"21 15 16 10 5 21"})]})}),m.jsxs("div",{className:"event-manager__preview-content",children:[m.jsx("span",{className:`event-manager__badge ${Rt(M.type)}`,children:M.type}),m.jsx("h5",{children:M.title||"Event Title"}),m.jsx("p",{children:M.date||"Event Date"})]})]})]})]}),m.jsx("button",{className:"event-manager__submit-btn",onClick:Ie,disabled:I,children:I?L?"Updating...":"Creating...":L?"Update Event":"Create Event"})]})]}):m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"event-manager__toolbar",children:m.jsxs("button",{className:"event-manager__create-btn",onClick:()=>w(!0),children:[m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),m.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Create Event"]})}),m.jsx("div",{className:"event-manager__list",children:o?m.jsx("div",{className:"event-manager__loading",children:"Loading events..."}):i.length===0?m.jsxs("div",{className:"event-manager__empty",children:[m.jsx("p",{children:"No events yet"}),m.jsx("span",{children:'Click "Create Event" to add your first event'})]}):i.map(le=>m.jsxs("div",{className:`event-manager__item ${le.isPast?"event-manager__item--past":""}`,children:[m.jsx("div",{className:"event-manager__item-preview",children:m.jsx("div",{className:"event-manager__item-placeholder",children:m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[m.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),m.jsx("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),m.jsx("polyline",{points:"21 15 16 10 5 21"})]})})}),m.jsxs("div",{className:"event-manager__item-info",children:[m.jsxs("div",{className:"event-manager__item-header",children:[m.jsx("h4",{className:"event-manager__item-title",children:le.title}),m.jsx("span",{className:`event-manager__badge ${Rt(le.type)}`,children:le.type})]}),m.jsxs("div",{className:"event-manager__item-meta",children:[m.jsx("span",{children:le.date}),m.jsx("span",{children:""}),m.jsx("span",{children:le.mode}),m.jsx("span",{children:""}),m.jsx("span",{className:le.registrationOpen?"event-manager__status--open":"event-manager__status--closed",children:le.registrationOpen?"Open":"Closed"}),m.jsx("span",{children:""}),m.jsx("span",{className:"event-manager__item-price",children:le.amount&&le.amount>0?`${le.amount}`:"Free"})]})]}),m.jsxs("div",{className:"event-manager__item-actions",children:[m.jsx("button",{className:"event-manager__item-btn event-manager__item-btn--edit",onClick:()=>ze(le),title:"Edit Event",children:m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),m.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),m.jsx("button",{className:"event-manager__item-btn",onClick:()=>Qe(le),title:le.registrationOpen?"Close Registration":"Open Registration",children:m.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:le.registrationOpen?m.jsx("path",{d:"M18 6L6 18M6 6l12 12"}):m.jsx("path",{d:"M20 6L9 17l-5-5"})})}),m.jsx("button",{className:"event-manager__item-btn",onClick:()=>St(le),title:le.isPast?"Mark as Upcoming":"Mark as Past",children:m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("circle",{cx:"12",cy:"12",r:"10"}),m.jsx("polyline",{points:"12 6 12 12 16 14"})]})}),m.jsx("button",{className:"event-manager__item-btn event-manager__item-btn--delete",onClick:()=>Tt(le),title:"Delete",children:m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("polyline",{points:"3 6 5 6 21 6"}),m.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})]},le.id))})]})})]})}):null}function N1({variant:n="rectangular",width:e,height:t,borderRadius:r}){const i={width:e||(n==="text"?"100%":void 0),height:t||(n==="text"?"1rem":void 0),borderRadius:r||(n==="circular"?"50%":n==="card"?"24px":"8px")};return m.jsx("div",{className:`skeleton skeleton--${n}`,style:i})}function pK(){return m.jsx("div",{className:"skeleton-event-list",children:[1,2,3].map(n=>m.jsxs("div",{className:"skeleton-event",children:[m.jsx(N1,{variant:"rectangular",width:90,height:60,borderRadius:10}),m.jsxs("div",{className:"skeleton-event__content",children:[m.jsx(N1,{variant:"text",width:"70%",height:16}),m.jsx(N1,{variant:"text",width:"50%",height:12}),m.jsx(N1,{variant:"text",width:"30%",height:10})]}),m.jsx(N1,{variant:"rectangular",width:60,height:32,borderRadius:8})]},n))})}function xK({onEscape:n,onShowHelp:e,enabled:t=!0}){const r=ae.useCallback(i=>{if(!t)return;const s=i.target,o=s.tagName==="INPUT"||s.tagName==="TEXTAREA"||s.isContentEditable;if(i.key==="Escape"&&n){i.preventDefault(),n();return}o||i.key==="?"&&e&&(i.preventDefault(),e())},[t,n,e]);ae.useEffect(()=>(document.addEventListener("keydown",r),()=>document.removeEventListener("keydown",r)),[r])}const vK=async(n,e,t,r,i)=>{try{if(await wK(n,r))return{success:!1,error:"This user is already assigned to this event"};let o=r;const u=Si(An,"users"),f=Ra(u,Ll("orbitId","==",r)),d=await tu(f);if(d.empty){const A=Si(An,"admins"),E=Ra(A,Ll("orbitId","==",r)),I=await tu(E);if(I.empty)return{success:!1,error:"OrbitX ID not found. User must be registered."};{const C=I.docs[0].data();o=`${C.firstName||""} ${C.lastName||""}`.trim()||r}}else{const A=d.docs[0].data();o=`${A.firstName||""} ${A.lastName||""}`.trim()||r}const x={eventId:n,eventName:e,eventDate:t,volunteerOrbitId:r,volunteerName:o,assignedBy:i,assignedAt:new Date().toISOString(),isActive:!0};return{success:!0,volunteer:{id:(await Jh(Si(An,"event_volunteers"),x)).id,...x}}}catch(s){return console.error("Error assigning volunteer:",s),{success:!1,error:"Failed to assign volunteer"}}},_K=async n=>{try{return await lu(hr(An,"event_volunteers",n)),!0}catch(e){return console.error("Error removing volunteer:",e),!1}},yK=async n=>{try{const e=Si(An,"event_volunteers"),t=Ra(e,Ll("eventId","==",n),Ll("isActive","==",!0));return(await tu(t)).docs.map(i=>({id:i.id,...i.data()}))}catch(e){return console.error("Error fetching volunteers:",e),[]}},wK=async(n,e)=>{try{const t=Si(An,"event_volunteers"),r=Ra(t,Ll("eventId","==",n),Ll("volunteerOrbitId","==",e),Ll("isActive","==",!0)),i=await tu(r);return i.empty?null:{id:i.docs[0].id,...i.docs[0].data()}}catch(t){return console.error("Error fetching volunteer:",t),null}},bR=async n=>{try{const e=Si(An,"event_volunteers"),t=Ra(e,Ll("volunteerOrbitId","==",n),Ll("isActive","==",!0)),r=await tu(t);if(r.empty)return[];const i=[],s=new Date().toISOString().split("T")[0];for(const o of r.docs){const u=o.data();u.eventDate&&u.eventDate>=s&&i.push({eventId:u.eventId,eventName:u.eventName,eventDate:u.eventDate,assignedBy:u.assignedBy,assignedAt:u.assignedAt})}return i}catch(e){return console.error("Error checking volunteer status:",e),[]}},bK=async n=>(await bR(n)).length>0;function EK(){const n=Qa(),{showToast:e}=Oa(),{logout:t,profile:r,isAdmin:i,hasPermission:s}=Lo(),o=r?.firstName||"User",u=r?.lastName||"",f=r?.orbitId||"ORB-XXX-0000",d=r?.avatar,x=()=>{const mt=o.charAt(0).toUpperCase(),$t=u.charAt(0).toUpperCase();return`${mt}${$t}`},[w,A]=ae.useState(null),[E,I]=ae.useState(!1),[C,L]=ae.useState(!1),[j,W]=ae.useState(0),[M,G]=ae.useState(!1),[ce,re]=ae.useState(!1),[F,B]=ae.useState(!1),[D,Z]=ae.useState(!1),U=ae.useRef(null),H=ae.useRef(null),[X,ne]=ae.useState([]),[pe,Ae]=ae.useState(null),[xe,Re]=ae.useState(null),[He,ze]=ae.useState(!1),[ve,q]=ae.useState(null),[J,Q]=ae.useState(!1),[oe,de]=ae.useState(!1),[De,Ve]=ae.useState(!1),Fe=ae.useRef(null),Ie=i&&s(Wl.MANAGE_PROMOS),Qe=i&&s(Wl.MANAGE_EVENTS),St=i&&s(Wl.MANAGE_JOIN),Tt=i&&s(Wl.MANAGE_APPLICATIONS),Rt=i&&s(Wl.MANAGE_QUERIES),le=i&&s(Wl.MANAGE_MERCH_ORDERS),ot=i&&s(Wl.MANAGE_MERCH),pt=i&&s(Wl.SCAN_QR),[zt,tt]=ae.useState(!1),{isRecruitmentOpen:tn,toggleRecruitment:Xe}=Xf(),[Lt,fn]=ae.useState(!1);ae.useEffect(()=>{if(J&&Fe.current){const mt=setTimeout(()=>{const $t=Fe.current?.closest(".sidebar-zone--middle");$t&&$t.scrollTo({top:$t.scrollHeight,behavior:"smooth"})},100);return()=>clearTimeout(mt)}},[J]),ae.useEffect(()=>{(async()=>{if(r?.orbitId&&!pt){const $t=await bK(r.orbitId);tt($t)}})()},[r?.orbitId,pt]);const[st,Yt]=ae.useState([]);ae.useEffect(()=>{const mt=Ra(Si(An,"promotions")),$t=Jl(mt,cn=>{const mn=[];cn.forEach(gn=>{const Qn=gn.data();Qn.isActive&&mn.push({...Qn,id:gn.id})}),mn.sort((gn,Qn)=>(gn.priority||0)-(Qn.priority||0)),Yt(mn)},cn=>{console.error("Error fetching promotions:",cn)});return()=>$t()},[]),ae.useEffect(()=>{f!=="ORB-XXX-0000"&&(console.log("Fetching registrations for user:",f),B(!0),ax(f).then(mt=>{console.log("Dashboard received registrations:",mt),ne(mt)}).catch(mt=>{console.error("Error fetching registrations:",mt)}).finally(()=>{B(!1)}))},[f]),xK({onEscape:()=>{D?Z(!1):M?G(!1):ce?re(!1):oe?de(!1):De?Ve(!1):J?Q(!1):E&&I(!1)},onShowHelp:()=>Z(!0)});const rn=[{id:"action-my-events",label:"My Events",action:()=>A(w==="events"?null:"events")},{id:"action-browse-events",label:"Browse Events",action:()=>n("/events")},{id:"action-explore-merch",label:"Explore Merch",action:()=>n("/merch")},{id:"action-members",label:"Members",action:()=>n("/members")}];ae.useEffect(()=>{const mt=$t=>{J&&Fe.current&&!Fe.current.contains($t.target)&&Q(!1)};return document.addEventListener("mousedown",mt),()=>document.removeEventListener("mousedown",mt)},[J]);const hn=()=>{L(!0),setTimeout(()=>{I(!1),L(!1)},300)},xn=()=>{E?hn():I(!0)};ae.useEffect(()=>{if(st.length<=1)return;const mt=setInterval(()=>{W($t=>($t+1)%st.length)},6e3);return()=>clearInterval(mt)},[st.length]),ae.useEffect(()=>{const mt=$t=>{E&&U.current&&H.current&&!U.current.contains($t.target)&&!H.current.contains($t.target)&&hn()};return document.addEventListener("mousedown",mt),()=>document.removeEventListener("mousedown",mt)},[E]);const on=()=>{const mt=new Date().getHours();return mt>=5&&mt<12?"Good Morning":mt>=12&&mt<17?"Good Afternoon":"Good Evening"},bn=async()=>{try{await t(),e("Logged out successfully","info"),n("/login")}catch(mt){console.error("Logout error:",mt),e("Failed to logout","error")}},dn=mt=>{mt.linkUrl&&window.open(mt.linkUrl,"_blank")},nr=async mt=>{if(mt)try{Ae(mt.registrationId);const $t=await i2(mt);s2($t,mt.eventName,f),e("Pass downloaded!","success")}catch($t){console.error("Error downloading pass:",$t),e("Failed to download pass","error")}finally{Ae(null)}},an=mt=>{const $t=X.find(cn=>cn.eventId===mt.id);$t?nr($t):e("Registration details not found","error")},dt=mt=>{if(!mt)return"";try{const[$t,cn,mn]=mt.split("-").map(Number);return new Date($t,cn-1,mn).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"})}catch{return mt}},Wt=mt=>{if(!mt)return!1;const $t=new Date(mt),cn=new Date;return cn.setHours(0,0,0,0),$t>=cn},It=X.filter(mt=>Wt(mt.eventDate)).sort((mt,$t)=>new Date(mt.eventDate).getTime()-new Date($t.eventDate).getTime())[0]||null;ae.useEffect(()=>{(async()=>{if(It)try{const $t=await Qs(hr(An,"events",It.eventId));if($t.exists()){const cn=$t.data();cn.images&&cn.images.length>0?q(cn.images[0]):q(null)}}catch($t){console.error("Error fetching highlight event image:",$t),q(null)}else q(null)})()},[It?.eventId]);const un=async mt=>{try{const $t=await Qs(hr(An,"events",mt.eventId));if($t.exists()){const cn=$t.data(),mn={id:$t.id,title:cn.title||mt.eventName,description:cn.description||"",date:cn.date||mt.eventDate,time:cn.time||"",venue:cn.venue||"",type:cn.type||"workshop",isPast:!Wt(cn.date||mt.eventDate),registrationOpen:cn.registrationOpen??!1,images:cn.images||[],amount:cn.amount};Re(mn)}else Re({id:mt.eventId,title:mt.eventName,description:"",date:mt.eventDate,time:"",venue:"",type:"workshop",isPast:!Wt(mt.eventDate),registrationOpen:!1,images:[]})}catch($t){console.error("Error fetching event:",$t),e("Could not load event details","error")}},Yn=()=>{ze(!0),setTimeout(()=>{Re(null),ze(!1)},200)};return m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"dashboard-page page-transition",children:[m.jsx("div",{className:"dashboard-sidebar",children:m.jsxs("div",{className:"dashboard-sidebar-container",children:[m.jsx("div",{className:"sidebar-zone sidebar-zone--top",children:m.jsx("div",{className:"promo-screen",children:st.length>0?m.jsxs(m.Fragment,{children:[st.map((mt,$t)=>m.jsx("div",{className:`promo-screen__item ${$t===j?"promo-screen__item--active":""}`,onClick:()=>dn(mt),style:{cursor:mt.linkUrl?"pointer":"default"},children:mt.mediaType==="video"?m.jsx("video",{src:mt.mediaUrl,autoPlay:!0,muted:!0,loop:!0,playsInline:!0}):m.jsx("img",{src:mt.mediaUrl,alt:mt.title})},mt.id)),st.length>1&&m.jsx("div",{className:"promo-screen__indicators",children:st.map((mt,$t)=>m.jsx("span",{className:`promo-screen__indicator ${$t===j?"promo-screen__indicator--active":""}`},$t))})]}):m.jsx("div",{className:"promo-screen__empty",children:m.jsx("span",{children:"No promotions"})})})}),m.jsx("div",{className:"sidebar-zone sidebar-zone--middle",children:m.jsxs("div",{className:"sidebar-actions",children:[rn.map(mt=>m.jsx("button",{className:`sidebar-action-btn ${mt.id==="action-my-events"&&w==="events"?"sidebar-action-btn--active":""}`,onClick:mt.action,children:mt.label},mt.id)),zt&&!pt&&m.jsx("button",{className:"sidebar-action-btn sidebar-action-btn--volunteer",onClick:()=>n("/scan-qrs"),children:" Scan QRs"}),(Ie||Qe||St||Tt||Rt||le||ot)&&m.jsxs("div",{className:"manage-dropdown",ref:Fe,children:[m.jsxs("button",{className:`sidebar-action-btn sidebar-action-btn--manage ${J?"sidebar-action-btn--active":""}`,onClick:()=>Q(!J),children:[m.jsx("span",{children:"Manage"}),m.jsx("svg",{className:`manage-dropdown__arrow ${J?"manage-dropdown__arrow--open":""}`,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:m.jsx("polyline",{points:"6 9 12 15 18 9"})})]}),J&&m.jsxs("div",{className:"manage-dropdown__menu",children:[Ie&&m.jsxs("button",{className:"manage-dropdown__item",onClick:()=>{Q(!1),de(!0)},children:[m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),m.jsx("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),m.jsx("polyline",{points:"21 15 16 10 5 21"})]}),m.jsx("span",{children:"Promotional Screen"})]}),Qe&&m.jsxs("button",{className:"manage-dropdown__item",onClick:()=>{Q(!1),Ve(!0)},children:[m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),m.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),m.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),m.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),m.jsx("span",{children:"Events"})]}),St&&m.jsxs("button",{className:`manage-dropdown__item manage-dropdown__item--toggle ${tn?"manage-dropdown__item--active":""}`,onClick:async()=>{if(!Lt){fn(!0);try{await Xe(),e(tn?"Recruitment closed":"Recruitment opened","success")}catch{e("Failed to toggle recruitment","error")}finally{fn(!1)}}},disabled:Lt,children:[m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),m.jsx("circle",{cx:"8.5",cy:"7",r:"4"}),m.jsx("line",{x1:"20",y1:"8",x2:"20",y2:"14"}),m.jsx("line",{x1:"23",y1:"11",x2:"17",y2:"11"})]}),m.jsx("span",{children:"Recruitment"}),m.jsx("span",{className:`recruitment-status ${tn?"recruitment-status--open":"recruitment-status--closed"}`,children:tn?"Open":"Closed"})]}),Tt&&m.jsxs("button",{className:"manage-dropdown__item",onClick:()=>{Q(!1),n("/manage-user-applications")},children:[m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),m.jsx("polyline",{points:"14 2 14 8 20 8"}),m.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),m.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),m.jsx("polyline",{points:"10 9 9 9 8 9"})]}),m.jsx("span",{children:"Applications"})]}),Rt&&m.jsxs("button",{className:"manage-dropdown__item",onClick:()=>{Q(!1),n("/manage-user-queries")},children:[m.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:m.jsx("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})}),m.jsx("span",{children:"Queries"})]}),le&&m.jsxs("button",{className:"manage-dropdown__item",onClick:()=>{Q(!1),n("/manage-merch-orders")},children:[m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("path",{d:"M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z"}),m.jsx("path",{d:"M3 6h18"}),m.jsx("path",{d:"M16 10a4 4 0 0 1-8 0"})]}),m.jsx("span",{children:"Merch Orders"})]}),ot&&m.jsxs("button",{className:"manage-dropdown__item",onClick:()=>{Q(!1),n("/manage-merch")},children:[m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("path",{d:"M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"}),m.jsx("line",{x1:"7",y1:"7",x2:"7.01",y2:"7"})]}),m.jsx("span",{children:"Manage Merch"})]}),pt&&m.jsxs("button",{className:"manage-dropdown__item",onClick:()=>{Q(!1),n("/event-scanner")},children:[m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("rect",{x:"3",y:"3",width:"7",height:"7"}),m.jsx("rect",{x:"14",y:"3",width:"7",height:"7"}),m.jsx("rect",{x:"3",y:"14",width:"7",height:"7"}),m.jsx("rect",{x:"14",y:"14",width:"7",height:"7"})]}),m.jsx("span",{children:"Event Scanner"})]})]})]})]})}),m.jsxs("div",{className:"sidebar-zone sidebar-zone--bottom",children:[m.jsx("div",{className:"member-id-display",children:m.jsx("span",{className:"member-id-value",children:f})}),m.jsxs("div",{className:"user-profile-section",children:[d?m.jsx("img",{src:d,alt:o,className:"user-avatar"}):m.jsx("div",{className:"user-avatar user-avatar--initials",children:x()}),m.jsx("div",{className:"user-info",children:m.jsx("span",{className:"user-name",children:o})}),m.jsx("button",{ref:H,className:"user-menu-btn",onClick:xn,children:""}),E&&m.jsxs("div",{ref:U,className:`user-dropdown-menu ${C?"closing":""}`,children:[m.jsx("button",{onClick:()=>{hn(),G(!0)},children:"Profile"}),m.jsx("button",{onClick:()=>{hn(),re(!0)},children:"Settings"}),m.jsx("button",{onClick:bn,children:"Logout"})]})]})]})]})}),m.jsxs("div",{className:"dashboard-main-content",children:[w==="events"&&m.jsxs("div",{className:"content-container",children:[m.jsx("h2",{className:"content-title",children:"My Events"}),F?m.jsxs(m.Fragment,{children:[m.jsx("h3",{className:"dashboard-events__section-title",children:"Upcoming"}),m.jsx(pK,{})]}):X.length>0?m.jsxs(m.Fragment,{children:[X.filter(mt=>Wt(mt.eventDate)).length>0&&m.jsxs("div",{className:"dashboard-events__section",children:[m.jsx("h3",{className:"dashboard-events__section-title",children:"Upcoming"}),m.jsx("div",{className:"dashboard-events__list",children:X.filter(mt=>Wt(mt.eventDate)).map(mt=>m.jsxs("div",{className:"my-event-card",children:[m.jsxs("div",{className:"my-event-card__info my-event-card__info--clickable",onClick:()=>un(mt),children:[m.jsx("h4",{className:"my-event-card__title",children:mt.eventName}),m.jsx("p",{className:"my-event-card__date",children:dt(mt.eventDate)})]}),m.jsx("button",{className:"my-event-card__download",onClick:$t=>{$t.stopPropagation(),nr(mt)},disabled:pe===mt.registrationId,children:pe===mt.registrationId?"Downloading...":m.jsxs(m.Fragment,{children:[m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),m.jsx("polyline",{points:"7 10 12 15 17 10"}),m.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),"Pass"]})})]},mt.registrationId))})]}),X.filter(mt=>!Wt(mt.eventDate)).length>0&&m.jsxs("div",{className:"dashboard-events__section",children:[m.jsx("h3",{className:"dashboard-events__section-title",children:"Past"}),m.jsx("div",{className:"dashboard-events__list",children:X.filter(mt=>!Wt(mt.eventDate)).map(mt=>m.jsx("div",{className:"my-event-card my-event-card--past my-event-card--clickable",onClick:()=>un(mt),children:m.jsxs("div",{className:"my-event-card__info",children:[m.jsx("h4",{className:"my-event-card__title",children:mt.eventName}),m.jsx("p",{className:"my-event-card__date",children:dt(mt.eventDate)}),mt.attendanceStatus&&m.jsx("span",{className:"my-event-card__attended",children:" Attended"})]})},mt.registrationId))})]})]}):m.jsx(m.Fragment,{children:m.jsxs("div",{className:"dashboard-events__section",children:[m.jsx("h3",{className:"dashboard-events__section-title",children:"Upcoming"}),m.jsxs("div",{className:"dashboard-events__empty",children:[m.jsx("p",{children:"You haven't registered for any events yet."}),m.jsx("button",{className:"dashboard-events__cta",onClick:()=>n("/events"),children:"Browse Events"})]})]})})]}),w==="merch"&&m.jsxs("div",{className:"content-container",children:[m.jsx("h2",{className:"content-title",children:"Merchandise"}),m.jsx("p",{className:"content-placeholder",children:"Your merch orders and wishlist will appear here."}),m.jsx("button",{className:"content-cta",onClick:()=>n("/merch"),children:"Browse Merch"})]}),!w&&m.jsxs("div",{className:"dashboard-welcome-section",children:[m.jsx("h1",{className:"welcome-heading",children:m.jsxs("span",{className:"typewriter",style:{"--char-count":`${on().length+o.length+5}`},children:[on(),", ",m.jsx("span",{children:o}),"..."]})}),m.jsx("p",{className:"welcome-tagline",children:"The cosmos awaitsyour next adventure is just a click away."}),m.jsx("div",{className:"dashboard-highlight",children:It?m.jsxs("div",{className:"dashboard-highlight__card",onClick:()=>un(It),style:{cursor:"pointer"},children:[m.jsx("span",{className:"dashboard-highlight__badge",children:"Up Next"}),m.jsx("div",{className:"dashboard-highlight__image",children:ve?m.jsx("img",{src:ve,alt:It.eventName}):m.jsx("div",{style:{width:"100%",height:"100%",background:"linear-gradient(135deg, rgba(169, 78, 255, 0.3) 0%, rgba(124, 58, 237, 0.3) 100%)",display:"flex",alignItems:"center",justifyContent:"center"},children:m.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"rgba(255,255,255,0.3)",strokeWidth:"1.5",children:[m.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),m.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),m.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),m.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]})})}),m.jsxs("div",{className:"dashboard-highlight__content",children:[m.jsx("h3",{className:"dashboard-highlight__title",children:It.eventName}),m.jsx("div",{className:"dashboard-highlight__meta",children:m.jsxs("span",{children:[" ",dt(It.eventDate)]})}),m.jsx("span",{className:"dashboard-highlight__status dashboard-event__status--registered",children:" Registered"}),m.jsx("button",{className:"dashboard-highlight__btn",onClick:mt=>{mt.stopPropagation(),un(It)},children:"View Details"})]})]}):m.jsxs("div",{className:"dashboard-highlight__empty",children:[m.jsx("p",{children:"You haven't registered for any upcoming events yet."}),m.jsx("button",{className:"dashboard-highlight__btn",onClick:()=>n("/events"),children:"Explore Events"})]})})]})]})]}),m.jsx(jl,{}),m.jsx(rK,{isOpen:M,onClose:()=>G(!1)}),m.jsx(iK,{isOpen:ce,onClose:()=>re(!1)}),m.jsx(aK,{isOpen:D,onClose:()=>Z(!1)}),Ie&&m.jsx(oK,{isOpen:oe,onClose:()=>de(!1),adminOrbitId:f}),Qe&&m.jsx(gK,{isOpen:De,onClose:()=>Ve(!1),adminOrbitId:f}),xe&&m.jsx(A5,{event:xe,isClosing:He,onClose:Yn,isRegistered:!0,onDownloadPass:an})]})}function AK(){const n=Qa(),{showToast:e}=Oa(),[t,r]=ae.useState(!1),[i,s]=ae.useState(!1),[o,u]=ae.useState(!1),[f,d]=ae.useState({firstName:"",lastName:"",mobile:"",email:"",dateOfBirth:"",gender:"",team:"",position:""}),[x,w]=ae.useState({});ae.useEffect(()=>{(async()=>{Pl.currentUser&&await Tp()})()},[]);const A=()=>f.team==="leadership"?QY:JY;ae.useEffect(()=>{f.team&&d(j=>({...j,position:""}))},[f.team]);const E=async()=>{r(!0);try{const j=await iI();j.isNewUser?(d(W=>({...W,email:j.email||""})),s(!0),e("Please complete your admin profile","info")):j.profile&&(e("You already have an account. Please use the login page.","error"),await Tp(),setTimeout(()=>n("/login"),1500))}catch(j){console.error("Google sign-up error:",j),j.code==="auth/popup-closed-by-user"||j.code==="auth/cancelled-popup-request"||e("Failed to sign up with Google. Please try again.","error")}finally{r(!1)}},I=()=>{const j={};return f.firstName.trim()||(j.firstName="First name is required"),f.lastName.trim()||(j.lastName="Last name is required"),f.mobile.trim()?/^[6-9]\d{9}$/.test(f.mobile)||(j.mobile="Enter a valid 10-digit mobile number"):j.mobile="Mobile number is required",f.dateOfBirth||(j.dateOfBirth="Date of birth is required"),f.gender||(j.gender="Gender is required"),f.team||(j.team="Team is required"),f.position||(j.position="Position is required"),w(j),Object.keys(j).length===0},C=async j=>{if(j.preventDefault(),!I()){e("Please fill all required fields correctly","error");return}u(!0);try{await _H(f),e("Admin account created successfully!","success"),setTimeout(()=>{e("Please login to continue!","info")},500),await Tp(),setTimeout(()=>{n("/login",{replace:!0})},1500)}catch(W){console.error("Admin signup error:",W),W.code==="already-registered-user"?e("This email is already registered as a user.","error"):W.code==="already-registered-admin"?e("This email is already registered as an admin.","error"):e(W.message||"Failed to create admin account","error")}finally{u(!1)}},L=(j,W)=>{d(M=>({...M,[j]:W})),x[j]&&w(M=>({...M,[j]:void 0}))};return m.jsx("div",{className:"admin-setup",children:m.jsxs("div",{className:"admin-setup__container",children:[m.jsxs("div",{className:"admin-setup__header",children:[m.jsx("div",{className:"admin-setup__badge",children:"Admin Portal"}),m.jsx("h1",{className:"admin-setup__title",children:"Admin Setup"}),m.jsx("p",{className:"admin-setup__subtitle",children:i?"Complete your admin profile to get started":"Create your OrbitX Admin account"})]}),i?m.jsxs("form",{className:"admin-setup__form",onSubmit:C,children:[m.jsxs("div",{className:"admin-setup__section",children:[m.jsx("h2",{className:"admin-setup__section-title",children:"Personal Information"}),m.jsxs("div",{className:"admin-setup__form-grid",children:[m.jsxs("div",{className:"admin-setup__form-group",children:[m.jsx("label",{className:"admin-setup__label",children:"First Name *"}),m.jsx("input",{type:"text",className:`admin-setup__input ${x.firstName?"admin-setup__input--error":""}`,value:f.firstName,onChange:j=>L("firstName",j.target.value),placeholder:"Enter first name"}),x.firstName&&m.jsx("span",{className:"admin-setup__error",children:x.firstName})]}),m.jsxs("div",{className:"admin-setup__form-group",children:[m.jsx("label",{className:"admin-setup__label",children:"Last Name *"}),m.jsx("input",{type:"text",className:`admin-setup__input ${x.lastName?"admin-setup__input--error":""}`,value:f.lastName,onChange:j=>L("lastName",j.target.value),placeholder:"Enter last name"}),x.lastName&&m.jsx("span",{className:"admin-setup__error",children:x.lastName})]}),m.jsxs("div",{className:"admin-setup__form-group",children:[m.jsx("label",{className:"admin-setup__label",children:"Mobile Number *"}),m.jsx("input",{type:"tel",className:`admin-setup__input ${x.mobile?"admin-setup__input--error":""}`,value:f.mobile,onChange:j=>L("mobile",j.target.value.replace(/\D/g,"").slice(0,10)),placeholder:"10-digit mobile number"}),x.mobile&&m.jsx("span",{className:"admin-setup__error",children:x.mobile})]}),m.jsxs("div",{className:"admin-setup__form-group",children:[m.jsx("label",{className:"admin-setup__label",children:"Email *"}),m.jsx("input",{type:"email",className:"admin-setup__input admin-setup__input--readonly",value:f.email,readOnly:!0})]}),m.jsxs("div",{className:"admin-setup__form-group",children:[m.jsx("label",{className:"admin-setup__label",children:"Date of Birth *"}),m.jsx(o2,{value:f.dateOfBirth,onChange:j=>L("dateOfBirth",j),error:!!x.dateOfBirth}),x.dateOfBirth&&m.jsx("span",{className:"admin-setup__error",children:x.dateOfBirth})]}),m.jsxs("div",{className:"admin-setup__form-group",children:[m.jsx("label",{className:"admin-setup__label",children:"Gender *"}),m.jsx(Wa,{options:pR,value:f.gender,onChange:j=>L("gender",j),placeholder:"Select gender"}),x.gender&&m.jsx("span",{className:"admin-setup__error",children:x.gender})]})]})]}),m.jsxs("div",{className:"admin-setup__section",children:[m.jsx("h2",{className:"admin-setup__section-title",children:"Team Information"}),m.jsxs("div",{className:"admin-setup__form-grid",children:[m.jsxs("div",{className:"admin-setup__form-group",children:[m.jsx("label",{className:"admin-setup__label",children:"Team *"}),m.jsx(Wa,{options:ZY,value:f.team,onChange:j=>L("team",j),placeholder:"Select your team"}),x.team&&m.jsx("span",{className:"admin-setup__error",children:x.team})]}),m.jsxs("div",{className:"admin-setup__form-group",children:[m.jsx("label",{className:"admin-setup__label",children:"Position *"}),m.jsx(Wa,{options:A(),value:f.position,onChange:j=>L("position",j),placeholder:"Select your position",disabled:!f.team}),x.position&&m.jsx("span",{className:"admin-setup__error",children:x.position})]})]})]}),m.jsx("button",{type:"submit",className:"admin-setup__submit-btn",disabled:o,children:o?"Creating Account...":"Create Admin Account"})]}):m.jsxs("div",{className:"admin-setup__initial",children:[m.jsx("button",{className:"admin-setup__google-btn",onClick:E,disabled:t,children:t?m.jsx("span",{className:"admin-setup__loading",children:"Setting up..."}):m.jsxs(m.Fragment,{children:[m.jsxs("svg",{viewBox:"0 0 24 24",className:"admin-setup__google-icon",children:[m.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),m.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),m.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),m.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),m.jsx("span",{children:"Sign Up with Google"})]})}),m.jsxs("p",{className:"admin-setup__note",children:["This page is for admin account creation only.",m.jsx("br",{}),"Regular users should use the main signup page."]})]})]})})}var c2={};c2.version="0.18.5";var ER=1252,SK=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],AR=function(n){SK.indexOf(n)!=-1&&(ER=n)};function TK(){AR(1252)}var hm=function(n){AR(n)};function NK(){hm(1200),TK()}var ip=function(e){return String.fromCharCode(e)},qT=function(e){return String.fromCharCode(e)},u2,kh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function fm(n){for(var e="",t=0,r=0,i=0,s=0,o=0,u=0,f=0,d=0;d<n.length;)t=n.charCodeAt(d++),s=t>>2,r=n.charCodeAt(d++),o=(t&3)<<4|r>>4,i=n.charCodeAt(d++),u=(r&15)<<2|i>>6,f=i&63,isNaN(r)?u=f=64:isNaN(i)&&(f=64),e+=kh.charAt(s)+kh.charAt(o)+kh.charAt(u)+kh.charAt(f);return e}function Wu(n){var e="",t=0,r=0,i=0,s=0,o=0,u=0,f=0;n=n.replace(/[^\w\+\/\=]/g,"");for(var d=0;d<n.length;)s=kh.indexOf(n.charAt(d++)),o=kh.indexOf(n.charAt(d++)),t=s<<2|o>>4,e+=String.fromCharCode(t),u=kh.indexOf(n.charAt(d++)),r=(o&15)<<4|u>>2,u!==64&&(e+=String.fromCharCode(r)),f=kh.indexOf(n.charAt(d++)),i=(u&3)<<6|f,f!==64&&(e+=String.fromCharCode(i));return e}var gi=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),Ku=(function(){if(typeof Buffer<"u"){var n=!Buffer.from;if(!n)try{Buffer.from("foo","utf8")}catch{n=!0}return n?function(e,t){return t?new Buffer(e,t):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}})();function Ff(n){return gi?Buffer.alloc?Buffer.alloc(n):new Buffer(n):typeof Uint8Array<"u"?new Uint8Array(n):new Array(n)}function GT(n){return gi?Buffer.allocUnsafe?Buffer.allocUnsafe(n):new Buffer(n):typeof Uint8Array<"u"?new Uint8Array(n):new Array(n)}var mc=function(e){return gi?Ku(e,"binary"):e.split("").map(function(t){return t.charCodeAt(0)&255})};function lx(n){if(typeof ArrayBuffer>"u")return mc(n);for(var e=new ArrayBuffer(n.length),t=new Uint8Array(e),r=0;r!=n.length;++r)t[r]=n.charCodeAt(r)&255;return e}function jm(n){if(Array.isArray(n))return n.map(function(r){return String.fromCharCode(r)}).join("");for(var e=[],t=0;t<n.length;++t)e[t]=String.fromCharCode(n[t]);return e.join("")}function CK(n){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(n)}var fo=gi?function(n){return Buffer.concat(n.map(function(e){return Buffer.isBuffer(e)?e:Ku(e)}))}:function(n){if(typeof Uint8Array<"u"){var e=0,t=0;for(e=0;e<n.length;++e)t+=n[e].length;var r=new Uint8Array(t),i=0;for(e=0,t=0;e<n.length;t+=i,++e)if(i=n[e].length,n[e]instanceof Uint8Array)r.set(n[e],t);else{if(typeof n[e]=="string")throw"wtf";r.set(new Uint8Array(n[e]),t)}return r}return[].concat.apply([],n.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function IK(n){for(var e=[],t=0,r=n.length+250,i=Ff(n.length+255),s=0;s<n.length;++s){var o=n.charCodeAt(s);if(o<128)i[t++]=o;else if(o<2048)i[t++]=192|o>>6&31,i[t++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var u=n.charCodeAt(++s)&1023;i[t++]=240|o>>8&7,i[t++]=128|o>>2&63,i[t++]=128|u>>6&15|(o&3)<<4,i[t++]=128|u&63}else i[t++]=224|o>>12&15,i[t++]=128|o>>6&63,i[t++]=128|o&63;t>r&&(e.push(i.slice(0,t)),t=0,i=Ff(65535),r=65530)}return e.push(i.slice(0,t)),fo(e)}var X1=/\u0000/g,sp=/[\u0001-\u0006]/g;function f0(n){for(var e="",t=n.length-1;t>=0;)e+=n.charAt(t--);return e}function xc(n,e){var t=""+n;return t.length>=e?t:Ps("0",e-t.length)+t}function L5(n,e){var t=""+n;return t.length>=e?t:Ps(" ",e-t.length)+t}function h2(n,e){var t=""+n;return t.length>=e?t:t+Ps(" ",e-t.length)}function RK(n,e){var t=""+Math.round(n);return t.length>=e?t:Ps("0",e-t.length)+t}function OK(n,e){var t=""+n;return t.length>=e?t:Ps("0",e-t.length)+t}var WT=Math.pow(2,32);function Hd(n,e){if(n>WT||n<-WT)return RK(n,e);var t=Math.round(n);return OK(t,e)}function f2(n,e){return e=e||0,n.length>=7+e&&(n.charCodeAt(e)|32)===103&&(n.charCodeAt(e+1)|32)===101&&(n.charCodeAt(e+2)|32)===110&&(n.charCodeAt(e+3)|32)===101&&(n.charCodeAt(e+4)|32)===114&&(n.charCodeAt(e+5)|32)===97&&(n.charCodeAt(e+6)|32)===108}var XT=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],$_=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function kK(n){return n||(n={}),n[0]="General",n[1]="0",n[2]="0.00",n[3]="#,##0",n[4]="#,##0.00",n[9]="0%",n[10]="0.00%",n[11]="0.00E+00",n[12]="# ?/?",n[13]="# ??/??",n[14]="m/d/yy",n[15]="d-mmm-yy",n[16]="d-mmm",n[17]="mmm-yy",n[18]="h:mm AM/PM",n[19]="h:mm:ss AM/PM",n[20]="h:mm",n[21]="h:mm:ss",n[22]="m/d/yy h:mm",n[37]="#,##0 ;(#,##0)",n[38]="#,##0 ;[Red](#,##0)",n[39]="#,##0.00;(#,##0.00)",n[40]="#,##0.00;[Red](#,##0.00)",n[45]="mm:ss",n[46]="[h]:mm:ss",n[47]="mmss.0",n[48]="##0.0E+0",n[49]="@",n[56]='"/ "hh""mm""ss" "',n}var js={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},YT={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},DK={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function d2(n,e,t){for(var r=n<0?-1:1,i=n*r,s=0,o=1,u=0,f=1,d=0,x=0,w=Math.floor(i);d<e&&(w=Math.floor(i),u=w*o+s,x=w*d+f,!(i-w<5e-8));)i=1/(i-w),s=o,o=u,f=d,d=x;if(x>e&&(d>e?(x=f,u=s):(x=d,u=o)),!t)return[0,r*u,x];var A=Math.floor(r*u/x);return[A,r*u-A*x,x]}function ap(n,e,t){if(n>2958465||n<0)return null;var r=n|0,i=Math.floor(86400*(n-r)),s=0,o=[],u={D:r,T:i,u:86400*(n-r)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(u.u)<1e-6&&(u.u=0),e&&e.date1904&&(r+=1462),u.u>.9999&&(u.u=0,++i==86400&&(u.T=i=0,++r,++u.D)),r===60)o=t?[1317,10,29]:[1900,2,29],s=3;else if(r===0)o=t?[1317,8,29]:[1900,1,0],s=6;else{r>60&&--r;var f=new Date(1900,0,1);f.setDate(f.getDate()+r-1),o=[f.getFullYear(),f.getMonth()+1,f.getDate()],s=f.getDay(),r<60&&(s=(s+6)%7),t&&(s=UK(f,o))}return u.y=o[0],u.m=o[1],u.d=o[2],u.S=i%60,i=Math.floor(i/60),u.M=i%60,i=Math.floor(i/60),u.H=i,u.q=s,u}var SR=new Date(1899,11,31,0,0,0),LK=SR.getTime(),MK=new Date(1900,2,1,0,0,0);function TR(n,e){var t=n.getTime();return e?t-=1461*24*60*60*1e3:n>=MK&&(t+=1440*60*1e3),(t-(LK+(n.getTimezoneOffset()-SR.getTimezoneOffset())*6e4))/(1440*60*1e3)}function M5(n){return n.indexOf(".")==-1?n:n.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function PK(n){return n.indexOf("E")==-1?n:n.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function jK(n){var e=n<0?12:11,t=M5(n.toFixed(12));return t.length<=e||(t=n.toPrecision(10),t.length<=e)?t:n.toExponential(5)}function FK(n){var e=M5(n.toFixed(11));return e.length>(n<0?12:11)||e==="0"||e==="-0"?n.toPrecision(6):e}function BK(n){var e=Math.floor(Math.log(Math.abs(n))*Math.LOG10E),t;return e>=-4&&e<=-1?t=n.toPrecision(10+e):Math.abs(e)<=9?t=jK(n):e===10?t=n.toFixed(10).substr(0,12):t=FK(n),M5(PK(t.toUpperCase()))}function Jy(n,e){switch(typeof n){case"string":return n;case"boolean":return n?"TRUE":"FALSE";case"number":return(n|0)===n?n.toString(10):BK(n);case"undefined":return"";case"object":if(n==null)return"";if(n instanceof Date)return Xh(14,TR(n,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+n)}function UK(n,e){e[0]-=581;var t=n.getDay();return n<60&&(t=(t+6)%7),t}function VK(n,e,t,r){var i="",s=0,o=0,u=t.y,f,d=0;switch(n){case 98:u=t.y+543;case 121:switch(e.length){case 1:case 2:f=u%100,d=2;break;default:f=u%1e4,d=4;break}break;case 109:switch(e.length){case 1:case 2:f=t.m,d=e.length;break;case 3:return $_[t.m-1][1];case 5:return $_[t.m-1][0];default:return $_[t.m-1][2]}break;case 100:switch(e.length){case 1:case 2:f=t.d,d=e.length;break;case 3:return XT[t.q][0];default:return XT[t.q][1]}break;case 104:switch(e.length){case 1:case 2:f=1+(t.H+11)%12,d=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:f=t.H,d=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:f=t.M,d=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return t.u===0&&(e=="s"||e=="ss")?xc(t.S,e.length):(r>=2?o=r===3?1e3:100:o=r===1?10:1,s=Math.round(o*(t.S+t.u)),s>=60*o&&(s=0),e==="s"?s===0?"0":""+s/o:(i=xc(s,2+r),e==="ss"?i.substr(0,2):"."+i.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":f=t.D*24+t.H;break;case"[m]":case"[mm]":f=(t.D*24+t.H)*60+t.M;break;case"[s]":case"[ss]":f=((t.D*24+t.H)*60+t.M)*60+Math.round(t.S+t.u);break;default:throw"bad abstime format: "+e}d=e.length===3?1:2;break;case 101:f=u,d=1;break}var x=d>0?xc(f,d):"";return x}function Dh(n){var e=3;if(n.length<=e)return n;for(var t=n.length%e,r=n.substr(0,t);t!=n.length;t+=e)r+=(r.length>0?",":"")+n.substr(t,e);return r}var NR=/%/g;function zK(n,e,t){var r=e.replace(NR,""),i=e.length-r.length;return ju(n,r,t*Math.pow(10,2*i))+Ps("%",i)}function HK(n,e,t){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return ju(n,e.substr(0,r),t/Math.pow(10,3*(e.length-r)))}function CR(n,e){var t,r=n.indexOf("E")-n.indexOf(".")-1;if(n.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+CR(n,-e);var i=n.indexOf(".");i===-1&&(i=n.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),t=(e/Math.pow(10,s)).toPrecision(r+1+(i+s)%i),t.indexOf("e")===-1){var o=Math.floor(Math.log(e)*Math.LOG10E);for(t.indexOf(".")===-1?t=t.charAt(0)+"."+t.substr(1)+"E+"+(o-t.length+s):t+="E+"+(o-s);t.substr(0,2)==="0.";)t=t.charAt(0)+t.substr(2,i)+"."+t.substr(2+i),t=t.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(u,f,d,x){return f+d+x.substr(0,(i+s)%i)+"."+x.substr(s)+"E"})}else t=e.toExponential(r);return n.match(/E\+00$/)&&t.match(/e[+-]\d$/)&&(t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1)),n.match(/E\-/)&&t.match(/e\+/)&&(t=t.replace(/e\+/,"e")),t.replace("e","E")}var IR=/# (\?+)( ?)\/( ?)(\d+)/;function qK(n,e,t){var r=parseInt(n[4],10),i=Math.round(e*r),s=Math.floor(i/r),o=i-s*r,u=r;return t+(s===0?"":""+s)+" "+(o===0?Ps(" ",n[1].length+1+n[4].length):L5(o,n[1].length)+n[2]+"/"+n[3]+xc(u,n[4].length))}function GK(n,e,t){return t+(e===0?"":""+e)+Ps(" ",n[1].length+2+n[4].length)}var RR=/^#*0*\.([0#]+)/,OR=/\).*[0#]/,kR=/\(###\) ###\\?-####/;function Ho(n){for(var e="",t,r=0;r!=n.length;++r)switch(t=n.charCodeAt(r)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(t)}return e}function KT(n,e){var t=Math.pow(10,e);return""+Math.round(n*t)/t}function $T(n,e){var t=n-Math.floor(n),r=Math.pow(10,e);return e<(""+Math.round(t*r)).length?0:Math.round(t*r)}function WK(n,e){return e<(""+Math.round((n-Math.floor(n))*Math.pow(10,e))).length?1:0}function XK(n){return n<2147483647&&n>-2147483648?""+(n>=0?n|0:n-1|0):""+Math.floor(n)}function Gl(n,e,t){if(n.charCodeAt(0)===40&&!e.match(OR)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return t>=0?Gl("n",r,t):"("+Gl("n",r,-t)+")"}if(e.charCodeAt(e.length-1)===44)return HK(n,e,t);if(e.indexOf("%")!==-1)return zK(n,e,t);if(e.indexOf("E")!==-1)return CR(e,t);if(e.charCodeAt(0)===36)return"$"+Gl(n,e.substr(e.charAt(1)==" "?2:1),t);var i,s,o,u,f=Math.abs(t),d=t<0?"-":"";if(e.match(/^00+$/))return d+Hd(f,e.length);if(e.match(/^[#?]+$/))return i=Hd(t,0),i==="0"&&(i=""),i.length>e.length?i:Ho(e.substr(0,e.length-i.length))+i;if(s=e.match(IR))return qK(s,f,d);if(e.match(/^#+0+$/))return d+Hd(f,e.length-e.indexOf("0"));if(s=e.match(RR))return i=KT(t,s[1].length).replace(/^([^\.]+)$/,"$1."+Ho(s[1])).replace(/\.$/,"."+Ho(s[1])).replace(/\.(\d*)$/,function(I,C){return"."+C+Ps("0",Ho(s[1]).length-C.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return d+KT(f,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return d+Dh(Hd(f,0));if(s=e.match(/^#,##0\.([#0]*0)$/))return t<0?"-"+Gl(n,e,-t):Dh(""+(Math.floor(t)+WK(t,s[1].length)))+"."+xc($T(t,s[1].length),s[1].length);if(s=e.match(/^#,#*,#0/))return Gl(n,e.replace(/^#,#*,/,""),t);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=f0(Gl(n,e.replace(/[\\-]/g,""),t)),o=0,f0(f0(e.replace(/\\/g,"")).replace(/[0#]/g,function(I){return o<i.length?i.charAt(o++):I==="0"?"0":""}));if(e.match(kR))return i=Gl(n,"##########",t),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var x="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(s[4].length,7),u=d2(f,Math.pow(10,o)-1,!1),i=""+d,x=ju("n",s[1],u[1]),x.charAt(x.length-1)==" "&&(x=x.substr(0,x.length-1)+"0"),i+=x+s[2]+"/"+s[3],x=h2(u[2],o),x.length<s[4].length&&(x=Ho(s[4].substr(s[4].length-x.length))+x),i+=x,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(s[1].length,s[4].length),7),u=d2(f,Math.pow(10,o)-1,!0),d+(u[0]||(u[1]?"":"0"))+" "+(u[1]?L5(u[1],o)+s[2]+"/"+s[3]+h2(u[2],o):Ps(" ",2*o+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=Hd(t,0),e.length<=i.length?i:Ho(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0?]+)\.([#0]+)$/)){i=""+t.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),o=i.indexOf(".");var w=e.indexOf(".")-o,A=e.length-i.length-w;return Ho(e.substr(0,w)+i+e.substr(e.length-A))}if(s=e.match(/^00,000\.([#0]*0)$/))return o=$T(t,s[1].length),t<0?"-"+Gl(n,e,-t):Dh(XK(t)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(I){return"00,"+(I.length<3?xc(0,3-I.length):"")+I})+"."+xc(o,s[1].length);switch(e){case"###,##0.00":return Gl(n,"#,##0.00",t);case"###,###":case"##,###":case"#,###":var E=Dh(Hd(f,0));return E!=="0"?d+E:"";case"###,###.00":return Gl(n,"###,##0.00",t).replace(/^0\./,".");case"#,###.00":return Gl(n,"#,##0.00",t).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function YK(n,e,t){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return ju(n,e.substr(0,r),t/Math.pow(10,3*(e.length-r)))}function KK(n,e,t){var r=e.replace(NR,""),i=e.length-r.length;return ju(n,r,t*Math.pow(10,2*i))+Ps("%",i)}function DR(n,e){var t,r=n.indexOf("E")-n.indexOf(".")-1;if(n.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+DR(n,-e);var i=n.indexOf(".");i===-1&&(i=n.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),t=(e/Math.pow(10,s)).toPrecision(r+1+(i+s)%i),!t.match(/[Ee]/)){var o=Math.floor(Math.log(e)*Math.LOG10E);t.indexOf(".")===-1?t=t.charAt(0)+"."+t.substr(1)+"E+"+(o-t.length+s):t+="E+"+(o-s),t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(u,f,d,x){return f+d+x.substr(0,(i+s)%i)+"."+x.substr(s)+"E"})}else t=e.toExponential(r);return n.match(/E\+00$/)&&t.match(/e[+-]\d$/)&&(t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1)),n.match(/E\-/)&&t.match(/e\+/)&&(t=t.replace(/e\+/,"e")),t.replace("e","E")}function Hc(n,e,t){if(n.charCodeAt(0)===40&&!e.match(OR)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return t>=0?Hc("n",r,t):"("+Hc("n",r,-t)+")"}if(e.charCodeAt(e.length-1)===44)return YK(n,e,t);if(e.indexOf("%")!==-1)return KK(n,e,t);if(e.indexOf("E")!==-1)return DR(e,t);if(e.charCodeAt(0)===36)return"$"+Hc(n,e.substr(e.charAt(1)==" "?2:1),t);var i,s,o,u,f=Math.abs(t),d=t<0?"-":"";if(e.match(/^00+$/))return d+xc(f,e.length);if(e.match(/^[#?]+$/))return i=""+t,t===0&&(i=""),i.length>e.length?i:Ho(e.substr(0,e.length-i.length))+i;if(s=e.match(IR))return GK(s,f,d);if(e.match(/^#+0+$/))return d+xc(f,e.length-e.indexOf("0"));if(s=e.match(RR))return i=(""+t).replace(/^([^\.]+)$/,"$1."+Ho(s[1])).replace(/\.$/,"."+Ho(s[1])),i=i.replace(/\.(\d*)$/,function(I,C){return"."+C+Ps("0",Ho(s[1]).length-C.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return d+(""+f).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return d+Dh(""+f);if(s=e.match(/^#,##0\.([#0]*0)$/))return t<0?"-"+Hc(n,e,-t):Dh(""+t)+"."+Ps("0",s[1].length);if(s=e.match(/^#,#*,#0/))return Hc(n,e.replace(/^#,#*,/,""),t);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=f0(Hc(n,e.replace(/[\\-]/g,""),t)),o=0,f0(f0(e.replace(/\\/g,"")).replace(/[0#]/g,function(I){return o<i.length?i.charAt(o++):I==="0"?"0":""}));if(e.match(kR))return i=Hc(n,"##########",t),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var x="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(s[4].length,7),u=d2(f,Math.pow(10,o)-1,!1),i=""+d,x=ju("n",s[1],u[1]),x.charAt(x.length-1)==" "&&(x=x.substr(0,x.length-1)+"0"),i+=x+s[2]+"/"+s[3],x=h2(u[2],o),x.length<s[4].length&&(x=Ho(s[4].substr(s[4].length-x.length))+x),i+=x,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(s[1].length,s[4].length),7),u=d2(f,Math.pow(10,o)-1,!0),d+(u[0]||(u[1]?"":"0"))+" "+(u[1]?L5(u[1],o)+s[2]+"/"+s[3]+h2(u[2],o):Ps(" ",2*o+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=""+t,e.length<=i.length?i:Ho(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0]+)\.([#0]+)$/)){i=""+t.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),o=i.indexOf(".");var w=e.indexOf(".")-o,A=e.length-i.length-w;return Ho(e.substr(0,w)+i+e.substr(e.length-A))}if(s=e.match(/^00,000\.([#0]*0)$/))return t<0?"-"+Hc(n,e,-t):Dh(""+t).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(I){return"00,"+(I.length<3?xc(0,3-I.length):"")+I})+"."+xc(0,s[1].length);switch(e){case"###,###":case"##,###":case"#,###":var E=Dh(""+f);return E!=="0"?d+E:"";default:if(e.match(/\.[0#?]*$/))return Hc(n,e.slice(0,e.lastIndexOf(".")),t)+Ho(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function ju(n,e,t){return(t|0)===t?Hc(n,e,t):Gl(n,e,t)}function $K(n){for(var e=[],t=!1,r=0,i=0;r<n.length;++r)switch(n.charCodeAt(r)){case 34:t=!t;break;case 95:case 42:case 92:++r;break;case 59:e[e.length]=n.substr(i,r-i),i=r+1}if(e[e.length]=n.substr(i),t===!0)throw new Error("Format |"+n+"| unterminated string ");return e}var LR=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function MR(n){for(var e=0,t="",r="";e<n.length;)switch(t=n.charAt(e)){case"G":f2(n,e)&&(e+=6),e++;break;case'"':for(;n.charCodeAt(++e)!==34&&e<n.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(n.charAt(e+1)==="1"||n.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(n.substr(e,3).toUpperCase()==="A/P"||n.substr(e,5).toUpperCase()==="AM/PM"||n.substr(e,5).toUpperCase()==="/")return!0;++e;break;case"[":for(r=t;n.charAt(e++)!=="]"&&e<n.length;)r+=n.charAt(e);if(r.match(LR))return!0;break;case".":case"0":case"#":for(;e<n.length&&("0#?.,E+-%".indexOf(t=n.charAt(++e))>-1||t=="\\"&&n.charAt(e+1)=="-"&&"0#".indexOf(n.charAt(e+2))>-1););break;case"?":for(;n.charAt(++e)===t;);break;case"*":++e,(n.charAt(e)==" "||n.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<n.length&&"0123456789".indexOf(n.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function ZK(n,e,t,r){for(var i=[],s="",o=0,u="",f="t",d,x,w,A="H";o<n.length;)switch(u=n.charAt(o)){case"G":if(!f2(n,o))throw new Error("unrecognized character "+u+" in "+n);i[i.length]={t:"G",v:"General"},o+=7;break;case'"':for(s="";(w=n.charCodeAt(++o))!==34&&o<n.length;)s+=String.fromCharCode(w);i[i.length]={t:"t",v:s},++o;break;case"\\":var E=n.charAt(++o),I=E==="("||E===")"?E:"t";i[i.length]={t:I,v:E},++o;break;case"_":i[i.length]={t:"t",v:" "},o+=2;break;case"@":i[i.length]={t:"T",v:e},++o;break;case"B":case"b":if(n.charAt(o+1)==="1"||n.charAt(o+1)==="2"){if(d==null&&(d=ap(e,t,n.charAt(o+1)==="2"),d==null))return"";i[i.length]={t:"X",v:n.substr(o,2)},f=u,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":u=u.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||d==null&&(d=ap(e,t),d==null))return"";for(s=u;++o<n.length&&n.charAt(o).toLowerCase()===u;)s+=u;u==="m"&&f.toLowerCase()==="h"&&(u="M"),u==="h"&&(u=A),i[i.length]={t:u,v:s},f=u;break;case"A":case"a":case"":var C={t:u,v:u};if(d==null&&(d=ap(e,t)),n.substr(o,3).toUpperCase()==="A/P"?(d!=null&&(C.v=d.H>=12?"P":"A"),C.t="T",A="h",o+=3):n.substr(o,5).toUpperCase()==="AM/PM"?(d!=null&&(C.v=d.H>=12?"PM":"AM"),C.t="T",o+=5,A="h"):n.substr(o,5).toUpperCase()==="/"?(d!=null&&(C.v=d.H>=12?"":""),C.t="T",o+=5,A="h"):(C.t="t",++o),d==null&&C.t==="T")return"";i[i.length]=C,f=u;break;case"[":for(s=u;n.charAt(o++)!=="]"&&o<n.length;)s+=n.charAt(o);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(LR)){if(d==null&&(d=ap(e,t),d==null))return"";i[i.length]={t:"Z",v:s.toLowerCase()},f=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",MR(n)||(i[i.length]={t:"t",v:s}));break;case".":if(d!=null){for(s=u;++o<n.length&&(u=n.charAt(o))==="0";)s+=u;i[i.length]={t:"s",v:s};break}case"0":case"#":for(s=u;++o<n.length&&"0#?.,E+-%".indexOf(u=n.charAt(o))>-1;)s+=u;i[i.length]={t:"n",v:s};break;case"?":for(s=u;n.charAt(++o)===u;)s+=u;i[i.length]={t:u,v:s},f=u;break;case"*":++o,(n.charAt(o)==" "||n.charAt(o)=="*")&&++o;break;case"(":case")":i[i.length]={t:r===1?"t":u,v:u},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=u;o<n.length&&"0123456789".indexOf(n.charAt(++o))>-1;)s+=n.charAt(o);i[i.length]={t:"D",v:s};break;case" ":i[i.length]={t:u,v:u},++o;break;case"$":i[i.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(u)===-1)throw new Error("unrecognized character "+u+" in "+n);i[i.length]={t:"t",v:u},++o;break}var L=0,j=0,W;for(o=i.length-1,f="t";o>=0;--o)switch(i[o].t){case"h":case"H":i[o].t=A,f="h",L<1&&(L=1);break;case"s":(W=i[o].v.match(/\.0+$/))&&(j=Math.max(j,W[0].length-1)),L<3&&(L=3);case"d":case"y":case"M":case"e":f=i[o].t;break;case"m":f==="s"&&(i[o].t="M",L<2&&(L=2));break;case"X":break;case"Z":L<1&&i[o].v.match(/[Hh]/)&&(L=1),L<2&&i[o].v.match(/[Mm]/)&&(L=2),L<3&&i[o].v.match(/[Ss]/)&&(L=3)}switch(L){case 0:break;case 1:d.u>=.5&&(d.u=0,++d.S),d.S>=60&&(d.S=0,++d.M),d.M>=60&&(d.M=0,++d.H);break;case 2:d.u>=.5&&(d.u=0,++d.S),d.S>=60&&(d.S=0,++d.M);break}var M="",G;for(o=0;o<i.length;++o)switch(i[o].t){case"t":case"T":case" ":case"D":break;case"X":i[o].v="",i[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[o].v=VK(i[o].t.charCodeAt(0),i[o].v,d,j),i[o].t="t";break;case"n":case"?":for(G=o+1;i[G]!=null&&((u=i[G].t)==="?"||u==="D"||(u===" "||u==="t")&&i[G+1]!=null&&(i[G+1].t==="?"||i[G+1].t==="t"&&i[G+1].v==="/")||i[o].t==="("&&(u===" "||u==="n"||u===")")||u==="t"&&(i[G].v==="/"||i[G].v===" "&&i[G+1]!=null&&i[G+1].t=="?"));)i[o].v+=i[G].v,i[G]={v:"",t:";"},++G;M+=i[o].v,o=G-1;break;case"G":i[o].t="t",i[o].v=Jy(e,t);break}var ce="",re,F;if(M.length>0){M.charCodeAt(0)==40?(re=e<0&&M.charCodeAt(0)===45?-e:e,F=ju("n",M,re)):(re=e<0&&r>1?-e:e,F=ju("n",M,re),re<0&&i[0]&&i[0].t=="t"&&(F=F.substr(1),i[0].v="-"+i[0].v)),G=F.length-1;var B=i.length;for(o=0;o<i.length;++o)if(i[o]!=null&&i[o].t!="t"&&i[o].v.indexOf(".")>-1){B=o;break}var D=i.length;if(B===i.length&&F.indexOf("E")===-1){for(o=i.length-1;o>=0;--o)i[o]==null||"n?".indexOf(i[o].t)===-1||(G>=i[o].v.length-1?(G-=i[o].v.length,i[o].v=F.substr(G+1,i[o].v.length)):G<0?i[o].v="":(i[o].v=F.substr(0,G+1),G=-1),i[o].t="t",D=o);G>=0&&D<i.length&&(i[D].v=F.substr(0,G+1)+i[D].v)}else if(B!==i.length&&F.indexOf("E")===-1){for(G=F.indexOf(".")-1,o=B;o>=0;--o)if(!(i[o]==null||"n?".indexOf(i[o].t)===-1)){for(x=i[o].v.indexOf(".")>-1&&o===B?i[o].v.indexOf(".")-1:i[o].v.length-1,ce=i[o].v.substr(x+1);x>=0;--x)G>=0&&(i[o].v.charAt(x)==="0"||i[o].v.charAt(x)==="#")&&(ce=F.charAt(G--)+ce);i[o].v=ce,i[o].t="t",D=o}for(G>=0&&D<i.length&&(i[D].v=F.substr(0,G+1)+i[D].v),G=F.indexOf(".")+1,o=B;o<i.length;++o)if(!(i[o]==null||"n?(".indexOf(i[o].t)===-1&&o!==B)){for(x=i[o].v.indexOf(".")>-1&&o===B?i[o].v.indexOf(".")+1:0,ce=i[o].v.substr(0,x);x<i[o].v.length;++x)G<F.length&&(ce+=F.charAt(G++));i[o].v=ce,i[o].t="t",D=o}}}for(o=0;o<i.length;++o)i[o]!=null&&"n?".indexOf(i[o].t)>-1&&(re=r>1&&e<0&&o>0&&i[o-1].v==="-"?-e:e,i[o].v=ju(i[o].t,i[o].v,re),i[o].t="t");var Z="";for(o=0;o!==i.length;++o)i[o]!=null&&(Z+=i[o].v);return Z}var ZT=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function QT(n,e){if(e==null)return!1;var t=parseFloat(e[2]);switch(e[1]){case"=":if(n==t)return!0;break;case">":if(n>t)return!0;break;case"<":if(n<t)return!0;break;case"<>":if(n!=t)return!0;break;case">=":if(n>=t)return!0;break;case"<=":if(n<=t)return!0;break}return!1}function QK(n,e){var t=$K(n),r=t.length,i=t[r-1].indexOf("@");if(r<4&&i>-1&&--r,t.length>4)throw new Error("cannot find right format for |"+t.join("|")+"|");if(typeof e!="number")return[4,t.length===4||i>-1?t[t.length-1]:"@"];switch(t.length){case 1:t=i>-1?["General","General","General",t[0]]:[t[0],t[0],t[0],"@"];break;case 2:t=i>-1?[t[0],t[0],t[0],t[1]]:[t[0],t[1],t[0],"@"];break;case 3:t=i>-1?[t[0],t[1],t[0],t[2]]:[t[0],t[1],t[2],"@"];break}var s=e>0?t[0]:e<0?t[1]:t[2];if(t[0].indexOf("[")===-1&&t[1].indexOf("[")===-1)return[r,s];if(t[0].match(/\[[=<>]/)!=null||t[1].match(/\[[=<>]/)!=null){var o=t[0].match(ZT),u=t[1].match(ZT);return QT(e,o)?[r,t[0]]:QT(e,u)?[r,t[1]]:[r,t[o!=null&&u!=null?2:1]]}return[r,s]}function Xh(n,e,t){t==null&&(t={});var r="";switch(typeof n){case"string":n=="m/d/yy"&&t.dateNF?r=t.dateNF:r=n;break;case"number":n==14&&t.dateNF?r=t.dateNF:r=(t.table!=null?t.table:js)[n],r==null&&(r=t.table&&t.table[YT[n]]||js[YT[n]]),r==null&&(r=DK[n]||"General");break}if(f2(r,0))return Jy(e,t);e instanceof Date&&(e=TR(e,t.date1904));var i=QK(r,e);if(f2(i[1]))return Jy(e,t);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return ZK(i[1],e,t,i[0])}function PR(n,e){if(typeof e!="number"){e=+e||-1;for(var t=0;t<392;++t){if(js[t]==null){e<0&&(e=t);continue}if(js[t]==n){e=t;break}}e<0&&(e=391)}return js[e]=n,e}function cx(n){for(var e=0;e!=392;++e)n[e]!==void 0&&PR(n[e],e)}function ux(){js=kK()}var jR=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function JK(n){var e=typeof n=="number"?js[n]:n;return e=e.replace(jR,"(\\d+)"),new RegExp("^"+e+"$")}function e$(n,e,t){var r=-1,i=-1,s=-1,o=-1,u=-1,f=-1;(e.match(jR)||[]).forEach(function(w,A){var E=parseInt(t[A+1],10);switch(w.toLowerCase().charAt(0)){case"y":r=E;break;case"d":s=E;break;case"h":o=E;break;case"s":f=E;break;case"m":o>=0?u=E:i=E;break}}),f>=0&&u==-1&&i>=0&&(u=i,i=-1);var d=(""+(r>=0?r:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);d.length==7&&(d="0"+d),d.length==8&&(d="20"+d);var x=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(u>=0?u:0)).slice(-2)+":"+("00"+(f>=0?f:0)).slice(-2);return o==-1&&u==-1&&f==-1?d:r==-1&&i==-1&&s==-1?x:d+"T"+x}var t$=(function(){var n={};n.version="1.2.0";function e(){for(var F=0,B=new Array(256),D=0;D!=256;++D)F=D,F=F&1?-306674912^F>>>1:F>>>1,F=F&1?-306674912^F>>>1:F>>>1,F=F&1?-306674912^F>>>1:F>>>1,F=F&1?-306674912^F>>>1:F>>>1,F=F&1?-306674912^F>>>1:F>>>1,F=F&1?-306674912^F>>>1:F>>>1,F=F&1?-306674912^F>>>1:F>>>1,F=F&1?-306674912^F>>>1:F>>>1,B[D]=F;return typeof Int32Array<"u"?new Int32Array(B):B}var t=e();function r(F){var B=0,D=0,Z=0,U=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(Z=0;Z!=256;++Z)U[Z]=F[Z];for(Z=0;Z!=256;++Z)for(D=F[Z],B=256+Z;B<4096;B+=256)D=U[B]=D>>>8^F[D&255];var H=[];for(Z=1;Z!=16;++Z)H[Z-1]=typeof Int32Array<"u"?U.subarray(Z*256,Z*256+256):U.slice(Z*256,Z*256+256);return H}var i=r(t),s=i[0],o=i[1],u=i[2],f=i[3],d=i[4],x=i[5],w=i[6],A=i[7],E=i[8],I=i[9],C=i[10],L=i[11],j=i[12],W=i[13],M=i[14];function G(F,B){for(var D=B^-1,Z=0,U=F.length;Z<U;)D=D>>>8^t[(D^F.charCodeAt(Z++))&255];return~D}function ce(F,B){for(var D=B^-1,Z=F.length-15,U=0;U<Z;)D=M[F[U++]^D&255]^W[F[U++]^D>>8&255]^j[F[U++]^D>>16&255]^L[F[U++]^D>>>24]^C[F[U++]]^I[F[U++]]^E[F[U++]]^A[F[U++]]^w[F[U++]]^x[F[U++]]^d[F[U++]]^f[F[U++]]^u[F[U++]]^o[F[U++]]^s[F[U++]]^t[F[U++]];for(Z+=15;U<Z;)D=D>>>8^t[(D^F[U++])&255];return~D}function re(F,B){for(var D=B^-1,Z=0,U=F.length,H=0,X=0;Z<U;)H=F.charCodeAt(Z++),H<128?D=D>>>8^t[(D^H)&255]:H<2048?(D=D>>>8^t[(D^(192|H>>6&31))&255],D=D>>>8^t[(D^(128|H&63))&255]):H>=55296&&H<57344?(H=(H&1023)+64,X=F.charCodeAt(Z++)&1023,D=D>>>8^t[(D^(240|H>>8&7))&255],D=D>>>8^t[(D^(128|H>>2&63))&255],D=D>>>8^t[(D^(128|X>>6&15|(H&3)<<4))&255],D=D>>>8^t[(D^(128|X&63))&255]):(D=D>>>8^t[(D^(224|H>>12&15))&255],D=D>>>8^t[(D^(128|H>>6&63))&255],D=D>>>8^t[(D^(128|H&63))&255]);return~D}return n.table=t,n.bstr=G,n.buf=ce,n.str=re,n})(),ji=(function(){var e={};e.version="1.2.1";function t(ge,be){for(var Te=ge.split("/"),Ce=be.split("/"),Oe=0,Me=0,rt=Math.min(Te.length,Ce.length);Oe<rt;++Oe){if(Me=Te[Oe].length-Ce[Oe].length)return Me;if(Te[Oe]!=Ce[Oe])return Te[Oe]<Ce[Oe]?-1:1}return Te.length-Ce.length}function r(ge){if(ge.charAt(ge.length-1)=="/")return ge.slice(0,-1).indexOf("/")===-1?ge:r(ge.slice(0,-1));var be=ge.lastIndexOf("/");return be===-1?ge:ge.slice(0,be+1)}function i(ge){if(ge.charAt(ge.length-1)=="/")return i(ge.slice(0,-1));var be=ge.lastIndexOf("/");return be===-1?ge:ge.slice(be+1)}function s(ge,be){typeof be=="string"&&(be=new Date(be));var Te=be.getHours();Te=Te<<6|be.getMinutes(),Te=Te<<5|be.getSeconds()>>>1,ge.write_shift(2,Te);var Ce=be.getFullYear()-1980;Ce=Ce<<4|be.getMonth()+1,Ce=Ce<<5|be.getDate(),ge.write_shift(2,Ce)}function o(ge){var be=ge.read_shift(2)&65535,Te=ge.read_shift(2)&65535,Ce=new Date,Oe=Te&31;Te>>>=5;var Me=Te&15;Te>>>=4,Ce.setMilliseconds(0),Ce.setFullYear(Te+1980),Ce.setMonth(Me-1),Ce.setDate(Oe);var rt=be&31;be>>>=5;var At=be&63;return be>>>=6,Ce.setHours(be),Ce.setMinutes(At),Ce.setSeconds(rt<<1),Ce}function u(ge){Nl(ge,0);for(var be={},Te=0;ge.l<=ge.length-4;){var Ce=ge.read_shift(2),Oe=ge.read_shift(2),Me=ge.l+Oe,rt={};switch(Ce){case 21589:Te=ge.read_shift(1),Te&1&&(rt.mtime=ge.read_shift(4)),Oe>5&&(Te&2&&(rt.atime=ge.read_shift(4)),Te&4&&(rt.ctime=ge.read_shift(4))),rt.mtime&&(rt.mt=new Date(rt.mtime*1e3));break}ge.l=Me,be[Ce]=rt}return be}var f;function d(){return f||(f={})}function x(ge,be){if(ge[0]==80&&ge[1]==75)return $t(ge,be);if((ge[0]|32)==109&&(ge[1]|32)==105)return On(ge,be);if(ge.length<512)throw new Error("CFB file size "+ge.length+" < 512");var Te=3,Ce=512,Oe=0,Me=0,rt=0,At=0,Je=0,lt=[],ht=ge.slice(0,512);Nl(ht,0);var qt=w(ht);switch(Te=qt[0],Te){case 3:Ce=512;break;case 4:Ce=4096;break;case 0:if(qt[1]==0)return $t(ge,be);default:throw new Error("Major Version: Expected 3 or 4 saw "+Te)}Ce!==512&&(ht=ge.slice(0,Ce),Nl(ht,28));var Ot=ge.slice(0,Ce);A(ht,Te);var Mt=ht.read_shift(4,"i");if(Te===3&&Mt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Mt);ht.l+=4,rt=ht.read_shift(4,"i"),ht.l+=4,ht.chk("00100000","Mini Stream Cutoff Size: "),At=ht.read_shift(4,"i"),Oe=ht.read_shift(4,"i"),Je=ht.read_shift(4,"i"),Me=ht.read_shift(4,"i");for(var wt=-1,nn=0;nn<109&&(wt=ht.read_shift(4,"i"),!(wt<0));++nn)lt[nn]=wt;var Tn=E(ge,Ce);L(Je,Me,Tn,Ce,lt);var Nt=W(Tn,rt,lt,Ce);Nt[rt].name="!Directory",Oe>0&&At!==X&&(Nt[At].name="!MiniFAT"),Nt[lt[0]].name="!FAT",Nt.fat_addrs=lt,Nt.ssz=Ce;var vr={},Kn=[],Ci=[],pa=[];M(rt,Nt,Tn,Kn,Oe,vr,Ci,At),I(Ci,pa,Kn),Kn.shift();var fr={FileIndex:Ci,FullPaths:pa};return be&&be.raw&&(fr.raw={header:Ot,sectors:Tn}),fr}function w(ge){if(ge[ge.l]==80&&ge[ge.l+1]==75)return[0,0];ge.chk(ne,"Header Signature: "),ge.l+=16;var be=ge.read_shift(2,"u");return[ge.read_shift(2,"u"),be]}function A(ge,be){var Te=9;switch(ge.l+=2,Te=ge.read_shift(2)){case 9:if(be!=3)throw new Error("Sector Shift: Expected 9 saw "+Te);break;case 12:if(be!=4)throw new Error("Sector Shift: Expected 12 saw "+Te);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+Te)}ge.chk("0600","Mini Sector Shift: "),ge.chk("000000000000","Reserved: ")}function E(ge,be){for(var Te=Math.ceil(ge.length/be)-1,Ce=[],Oe=1;Oe<Te;++Oe)Ce[Oe-1]=ge.slice(Oe*be,(Oe+1)*be);return Ce[Te-1]=ge.slice(Te*be),Ce}function I(ge,be,Te){for(var Ce=0,Oe=0,Me=0,rt=0,At=0,Je=Te.length,lt=[],ht=[];Ce<Je;++Ce)lt[Ce]=ht[Ce]=Ce,be[Ce]=Te[Ce];for(;At<ht.length;++At)Ce=ht[At],Oe=ge[Ce].L,Me=ge[Ce].R,rt=ge[Ce].C,lt[Ce]===Ce&&(Oe!==-1&&lt[Oe]!==Oe&&(lt[Ce]=lt[Oe]),Me!==-1&&lt[Me]!==Me&&(lt[Ce]=lt[Me])),rt!==-1&&(lt[rt]=Ce),Oe!==-1&&Ce!=lt[Ce]&&(lt[Oe]=lt[Ce],ht.lastIndexOf(Oe)<At&&ht.push(Oe)),Me!==-1&&Ce!=lt[Ce]&&(lt[Me]=lt[Ce],ht.lastIndexOf(Me)<At&&ht.push(Me));for(Ce=1;Ce<Je;++Ce)lt[Ce]===Ce&&(Me!==-1&&lt[Me]!==Me?lt[Ce]=lt[Me]:Oe!==-1&&lt[Oe]!==Oe&&(lt[Ce]=lt[Oe]));for(Ce=1;Ce<Je;++Ce)if(ge[Ce].type!==0){if(At=Ce,At!=lt[At])do At=lt[At],be[Ce]=be[At]+"/"+be[Ce];while(At!==0&&lt[At]!==-1&&At!=lt[At]);lt[Ce]=-1}for(be[0]+="/",Ce=1;Ce<Je;++Ce)ge[Ce].type!==2&&(be[Ce]+="/")}function C(ge,be,Te){for(var Ce=ge.start,Oe=ge.size,Me=[],rt=Ce;Te&&Oe>0&&rt>=0;)Me.push(be.slice(rt*H,rt*H+H)),Oe-=H,rt=wf(Te,rt*4);return Me.length===0?Ft(0):fo(Me).slice(0,ge.size)}function L(ge,be,Te,Ce,Oe){var Me=X;if(ge===X){if(be!==0)throw new Error("DIFAT chain shorter than expected")}else if(ge!==-1){var rt=Te[ge],At=(Ce>>>2)-1;if(!rt)return;for(var Je=0;Je<At&&(Me=wf(rt,Je*4))!==X;++Je)Oe.push(Me);L(wf(rt,Ce-4),be-1,Te,Ce,Oe)}}function j(ge,be,Te,Ce,Oe){var Me=[],rt=[];Oe||(Oe=[]);var At=Ce-1,Je=0,lt=0;for(Je=be;Je>=0;){Oe[Je]=!0,Me[Me.length]=Je,rt.push(ge[Je]);var ht=Te[Math.floor(Je*4/Ce)];if(lt=Je*4&At,Ce<4+lt)throw new Error("FAT boundary crossed: "+Je+" 4 "+Ce);if(!ge[ht])break;Je=wf(ge[ht],lt)}return{nodes:Me,data:a6([rt])}}function W(ge,be,Te,Ce){var Oe=ge.length,Me=[],rt=[],At=[],Je=[],lt=Ce-1,ht=0,qt=0,Ot=0,Mt=0;for(ht=0;ht<Oe;++ht)if(At=[],Ot=ht+be,Ot>=Oe&&(Ot-=Oe),!rt[Ot]){Je=[];var wt=[];for(qt=Ot;qt>=0;){wt[qt]=!0,rt[qt]=!0,At[At.length]=qt,Je.push(ge[qt]);var nn=Te[Math.floor(qt*4/Ce)];if(Mt=qt*4&lt,Ce<4+Mt)throw new Error("FAT boundary crossed: "+qt+" 4 "+Ce);if(!ge[nn]||(qt=wf(ge[nn],Mt),wt[qt]))break}Me[Ot]={nodes:At,data:a6([Je])}}return Me}function M(ge,be,Te,Ce,Oe,Me,rt,At){for(var Je=0,lt=Ce.length?2:0,ht=be[ge].data,qt=0,Ot=0,Mt;qt<ht.length;qt+=128){var wt=ht.slice(qt,qt+128);Nl(wt,64),Ot=wt.read_shift(2),Mt=U5(wt,0,Ot-lt),Ce.push(Mt);var nn={name:Mt,type:wt.read_shift(1),color:wt.read_shift(1),L:wt.read_shift(4,"i"),R:wt.read_shift(4,"i"),C:wt.read_shift(4,"i"),clsid:wt.read_shift(16),state:wt.read_shift(4,"i"),start:0,size:0},Tn=wt.read_shift(2)+wt.read_shift(2)+wt.read_shift(2)+wt.read_shift(2);Tn!==0&&(nn.ct=G(wt,wt.l-8));var Nt=wt.read_shift(2)+wt.read_shift(2)+wt.read_shift(2)+wt.read_shift(2);Nt!==0&&(nn.mt=G(wt,wt.l-8)),nn.start=wt.read_shift(4,"i"),nn.size=wt.read_shift(4,"i"),nn.size<0&&nn.start<0&&(nn.size=nn.type=0,nn.start=X,nn.name=""),nn.type===5?(Je=nn.start,Oe>0&&Je!==X&&(be[Je].name="!StreamData")):nn.size>=4096?(nn.storage="fat",be[nn.start]===void 0&&(be[nn.start]=j(Te,nn.start,be.fat_addrs,be.ssz)),be[nn.start].name=nn.name,nn.content=be[nn.start].data.slice(0,nn.size)):(nn.storage="minifat",nn.size<0?nn.size=0:Je!==X&&nn.start!==X&&be[Je]&&(nn.content=C(nn,be[Je].data,(be[At]||{}).data))),nn.content&&Nl(nn.content,0),Me[Mt]=nn,rt.push(nn)}}function G(ge,be){return new Date((Il(ge,be+4)/1e7*Math.pow(2,32)+Il(ge,be)/1e7-11644473600)*1e3)}function ce(ge,be){return d(),x(f.readFileSync(ge),be)}function re(ge,be){var Te=be&&be.type;switch(Te||gi&&Buffer.isBuffer(ge)&&(Te="buffer"),Te||"base64"){case"file":return ce(ge,be);case"base64":return x(mc(Wu(ge)),be);case"binary":return x(mc(ge),be)}return x(ge,be)}function F(ge,be){var Te=be||{},Ce=Te.root||"Root Entry";if(ge.FullPaths||(ge.FullPaths=[]),ge.FileIndex||(ge.FileIndex=[]),ge.FullPaths.length!==ge.FileIndex.length)throw new Error("inconsistent CFB structure");ge.FullPaths.length===0&&(ge.FullPaths[0]=Ce+"/",ge.FileIndex[0]={name:Ce,type:5}),Te.CLSID&&(ge.FileIndex[0].clsid=Te.CLSID),B(ge)}function B(ge){var be="Sh33tJ5";if(!ji.find(ge,"/"+be)){var Te=Ft(4);Te[0]=55,Te[1]=Te[3]=50,Te[2]=54,ge.FileIndex.push({name:be,type:2,content:Te,size:4,L:69,R:69,C:69}),ge.FullPaths.push(ge.FullPaths[0]+be),D(ge)}}function D(ge,be){F(ge);for(var Te=!1,Ce=!1,Oe=ge.FullPaths.length-1;Oe>=0;--Oe){var Me=ge.FileIndex[Oe];switch(Me.type){case 0:Ce?Te=!0:(ge.FileIndex.pop(),ge.FullPaths.pop());break;case 1:case 2:case 5:Ce=!0,isNaN(Me.R*Me.L*Me.C)&&(Te=!0),Me.R>-1&&Me.L>-1&&Me.R==Me.L&&(Te=!0);break;default:Te=!0;break}}if(!(!Te&&!be)){var rt=new Date(1987,1,19),At=0,Je=Object.create?Object.create(null):{},lt=[];for(Oe=0;Oe<ge.FullPaths.length;++Oe)Je[ge.FullPaths[Oe]]=!0,ge.FileIndex[Oe].type!==0&&lt.push([ge.FullPaths[Oe],ge.FileIndex[Oe]]);for(Oe=0;Oe<lt.length;++Oe){var ht=r(lt[Oe][0]);Ce=Je[ht],Ce||(lt.push([ht,{name:i(ht).replace("/",""),type:1,clsid:Ae,ct:rt,mt:rt,content:null}]),Je[ht]=!0)}for(lt.sort(function(Mt,wt){return t(Mt[0],wt[0])}),ge.FullPaths=[],ge.FileIndex=[],Oe=0;Oe<lt.length;++Oe)ge.FullPaths[Oe]=lt[Oe][0],ge.FileIndex[Oe]=lt[Oe][1];for(Oe=0;Oe<lt.length;++Oe){var qt=ge.FileIndex[Oe],Ot=ge.FullPaths[Oe];if(qt.name=i(Ot).replace("/",""),qt.L=qt.R=qt.C=-(qt.color=1),qt.size=qt.content?qt.content.length:0,qt.start=0,qt.clsid=qt.clsid||Ae,Oe===0)qt.C=lt.length>1?1:-1,qt.size=0,qt.type=5;else if(Ot.slice(-1)=="/"){for(At=Oe+1;At<lt.length&&r(ge.FullPaths[At])!=Ot;++At);for(qt.C=At>=lt.length?-1:At,At=Oe+1;At<lt.length&&r(ge.FullPaths[At])!=r(Ot);++At);qt.R=At>=lt.length?-1:At,qt.type=1}else r(ge.FullPaths[Oe+1]||"")==r(Ot)&&(qt.R=Oe+1),qt.type=2}}}function Z(ge,be){var Te=be||{};if(Te.fileType=="mad")return Ni(ge,Te);switch(D(ge),Te.fileType){case"zip":return mn(ge,Te)}var Ce=(function(Mt){for(var wt=0,nn=0,Tn=0;Tn<Mt.FileIndex.length;++Tn){var Nt=Mt.FileIndex[Tn];if(Nt.content){var vr=Nt.content.length;vr>0&&(vr<4096?wt+=vr+63>>6:nn+=vr+511>>9)}}for(var Kn=Mt.FullPaths.length+3>>2,Ci=wt+7>>3,pa=wt+127>>7,fr=Ci+nn+Kn+pa,or=fr+127>>7,cr=or<=109?0:Math.ceil((or-109)/127);fr+or+cr+127>>7>or;)cr=++or<=109?0:Math.ceil((or-109)/127);var ci=[1,cr,or,pa,Kn,nn,wt,0];return Mt.FileIndex[0].size=wt<<6,ci[7]=(Mt.FileIndex[0].start=ci[0]+ci[1]+ci[2]+ci[3]+ci[4]+ci[5])+(ci[6]+7>>3),ci})(ge),Oe=Ft(Ce[7]<<9),Me=0,rt=0;{for(Me=0;Me<8;++Me)Oe.write_shift(1,pe[Me]);for(Me=0;Me<8;++Me)Oe.write_shift(2,0);for(Oe.write_shift(2,62),Oe.write_shift(2,3),Oe.write_shift(2,65534),Oe.write_shift(2,9),Oe.write_shift(2,6),Me=0;Me<3;++Me)Oe.write_shift(2,0);for(Oe.write_shift(4,0),Oe.write_shift(4,Ce[2]),Oe.write_shift(4,Ce[0]+Ce[1]+Ce[2]+Ce[3]-1),Oe.write_shift(4,0),Oe.write_shift(4,4096),Oe.write_shift(4,Ce[3]?Ce[0]+Ce[1]+Ce[2]-1:X),Oe.write_shift(4,Ce[3]),Oe.write_shift(-4,Ce[1]?Ce[0]-1:X),Oe.write_shift(4,Ce[1]),Me=0;Me<109;++Me)Oe.write_shift(-4,Me<Ce[2]?Ce[1]+Me:-1)}if(Ce[1])for(rt=0;rt<Ce[1];++rt){for(;Me<236+rt*127;++Me)Oe.write_shift(-4,Me<Ce[2]?Ce[1]+Me:-1);Oe.write_shift(-4,rt===Ce[1]-1?X:rt+1)}var At=function(Mt){for(rt+=Mt;Me<rt-1;++Me)Oe.write_shift(-4,Me+1);Mt&&(++Me,Oe.write_shift(-4,X))};for(rt=Me=0,rt+=Ce[1];Me<rt;++Me)Oe.write_shift(-4,xe.DIFSECT);for(rt+=Ce[2];Me<rt;++Me)Oe.write_shift(-4,xe.FATSECT);At(Ce[3]),At(Ce[4]);for(var Je=0,lt=0,ht=ge.FileIndex[0];Je<ge.FileIndex.length;++Je)ht=ge.FileIndex[Je],ht.content&&(lt=ht.content.length,!(lt<4096)&&(ht.start=rt,At(lt+511>>9)));for(At(Ce[6]+7>>3);Oe.l&511;)Oe.write_shift(-4,xe.ENDOFCHAIN);for(rt=Me=0,Je=0;Je<ge.FileIndex.length;++Je)ht=ge.FileIndex[Je],ht.content&&(lt=ht.content.length,!(!lt||lt>=4096)&&(ht.start=rt,At(lt+63>>6)));for(;Oe.l&511;)Oe.write_shift(-4,xe.ENDOFCHAIN);for(Me=0;Me<Ce[4]<<2;++Me){var qt=ge.FullPaths[Me];if(!qt||qt.length===0){for(Je=0;Je<17;++Je)Oe.write_shift(4,0);for(Je=0;Je<3;++Je)Oe.write_shift(4,-1);for(Je=0;Je<12;++Je)Oe.write_shift(4,0);continue}ht=ge.FileIndex[Me],Me===0&&(ht.start=ht.size?ht.start-1:X);var Ot=Me===0&&Te.root||ht.name;if(lt=2*(Ot.length+1),Oe.write_shift(64,Ot,"utf16le"),Oe.write_shift(2,lt),Oe.write_shift(1,ht.type),Oe.write_shift(1,ht.color),Oe.write_shift(-4,ht.L),Oe.write_shift(-4,ht.R),Oe.write_shift(-4,ht.C),ht.clsid)Oe.write_shift(16,ht.clsid,"hex");else for(Je=0;Je<4;++Je)Oe.write_shift(4,0);Oe.write_shift(4,ht.state||0),Oe.write_shift(4,0),Oe.write_shift(4,0),Oe.write_shift(4,0),Oe.write_shift(4,0),Oe.write_shift(4,ht.start),Oe.write_shift(4,ht.size),Oe.write_shift(4,0)}for(Me=1;Me<ge.FileIndex.length;++Me)if(ht=ge.FileIndex[Me],ht.size>=4096)if(Oe.l=ht.start+1<<9,gi&&Buffer.isBuffer(ht.content))ht.content.copy(Oe,Oe.l,0,ht.size),Oe.l+=ht.size+511&-512;else{for(Je=0;Je<ht.size;++Je)Oe.write_shift(1,ht.content[Je]);for(;Je&511;++Je)Oe.write_shift(1,0)}for(Me=1;Me<ge.FileIndex.length;++Me)if(ht=ge.FileIndex[Me],ht.size>0&&ht.size<4096)if(gi&&Buffer.isBuffer(ht.content))ht.content.copy(Oe,Oe.l,0,ht.size),Oe.l+=ht.size+63&-64;else{for(Je=0;Je<ht.size;++Je)Oe.write_shift(1,ht.content[Je]);for(;Je&63;++Je)Oe.write_shift(1,0)}if(gi)Oe.l=Oe.length;else for(;Oe.l<Oe.length;)Oe.write_shift(1,0);return Oe}function U(ge,be){var Te=ge.FullPaths.map(function(Je){return Je.toUpperCase()}),Ce=Te.map(function(Je){var lt=Je.split("/");return lt[lt.length-(Je.slice(-1)=="/"?2:1)]}),Oe=!1;be.charCodeAt(0)===47?(Oe=!0,be=Te[0].slice(0,-1)+be):Oe=be.indexOf("/")!==-1;var Me=be.toUpperCase(),rt=Oe===!0?Te.indexOf(Me):Ce.indexOf(Me);if(rt!==-1)return ge.FileIndex[rt];var At=!Me.match(sp);for(Me=Me.replace(X1,""),At&&(Me=Me.replace(sp,"!")),rt=0;rt<Te.length;++rt)if((At?Te[rt].replace(sp,"!"):Te[rt]).replace(X1,"")==Me||(At?Ce[rt].replace(sp,"!"):Ce[rt]).replace(X1,"")==Me)return ge.FileIndex[rt];return null}var H=64,X=-2,ne="d0cf11e0a1b11ae1",pe=[208,207,17,224,161,177,26,225],Ae="00000000000000000000000000000000",xe={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:X,FREESECT:-1,HEADER_SIGNATURE:ne,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:Ae,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function Re(ge,be,Te){d();var Ce=Z(ge,Te);f.writeFileSync(be,Ce)}function He(ge){for(var be=new Array(ge.length),Te=0;Te<ge.length;++Te)be[Te]=String.fromCharCode(ge[Te]);return be.join("")}function ze(ge,be){var Te=Z(ge,be);switch(be&&be.type||"buffer"){case"file":return d(),f.writeFileSync(be.filename,Te),Te;case"binary":return typeof Te=="string"?Te:He(Te);case"base64":return fm(typeof Te=="string"?Te:He(Te));case"buffer":if(gi)return Buffer.isBuffer(Te)?Te:Ku(Te);case"array":return typeof Te=="string"?mc(Te):Te}return Te}var ve;function q(ge){try{var be=ge.InflateRaw,Te=new be;if(Te._processChunk(new Uint8Array([3,0]),Te._finishFlushFlag),Te.bytesRead)ve=ge;else throw new Error("zlib does not expose bytesRead")}catch(Ce){console.error("cannot use native zlib: "+(Ce.message||Ce))}}function J(ge,be){if(!ve)return Yn(ge,be);var Te=ve.InflateRaw,Ce=new Te,Oe=Ce._processChunk(ge.slice(ge.l),Ce._finishFlushFlag);return ge.l+=Ce.bytesRead,Oe}function Q(ge){return ve?ve.deflateRawSync(ge):bn(ge)}var oe=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],de=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],De=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function Ve(ge){var be=(ge<<1|ge<<11)&139536|(ge<<5|ge<<15)&558144;return(be>>16|be>>8|be)&255}for(var Fe=typeof Uint8Array<"u",Ie=Fe?new Uint8Array(256):[],Qe=0;Qe<256;++Qe)Ie[Qe]=Ve(Qe);function St(ge,be){var Te=Ie[ge&255];return be<=8?Te>>>8-be:(Te=Te<<8|Ie[ge>>8&255],be<=16?Te>>>16-be:(Te=Te<<8|Ie[ge>>16&255],Te>>>24-be))}function Tt(ge,be){var Te=be&7,Ce=be>>>3;return(ge[Ce]|(Te<=6?0:ge[Ce+1]<<8))>>>Te&3}function Rt(ge,be){var Te=be&7,Ce=be>>>3;return(ge[Ce]|(Te<=5?0:ge[Ce+1]<<8))>>>Te&7}function le(ge,be){var Te=be&7,Ce=be>>>3;return(ge[Ce]|(Te<=4?0:ge[Ce+1]<<8))>>>Te&15}function ot(ge,be){var Te=be&7,Ce=be>>>3;return(ge[Ce]|(Te<=3?0:ge[Ce+1]<<8))>>>Te&31}function pt(ge,be){var Te=be&7,Ce=be>>>3;return(ge[Ce]|(Te<=1?0:ge[Ce+1]<<8))>>>Te&127}function zt(ge,be,Te){var Ce=be&7,Oe=be>>>3,Me=(1<<Te)-1,rt=ge[Oe]>>>Ce;return Te<8-Ce||(rt|=ge[Oe+1]<<8-Ce,Te<16-Ce)||(rt|=ge[Oe+2]<<16-Ce,Te<24-Ce)||(rt|=ge[Oe+3]<<24-Ce),rt&Me}function tt(ge,be,Te){var Ce=be&7,Oe=be>>>3;return Ce<=5?ge[Oe]|=(Te&7)<<Ce:(ge[Oe]|=Te<<Ce&255,ge[Oe+1]=(Te&7)>>8-Ce),be+3}function tn(ge,be,Te){var Ce=be&7,Oe=be>>>3;return Te=(Te&1)<<Ce,ge[Oe]|=Te,be+1}function Xe(ge,be,Te){var Ce=be&7,Oe=be>>>3;return Te<<=Ce,ge[Oe]|=Te&255,Te>>>=8,ge[Oe+1]=Te,be+8}function Lt(ge,be,Te){var Ce=be&7,Oe=be>>>3;return Te<<=Ce,ge[Oe]|=Te&255,Te>>>=8,ge[Oe+1]=Te&255,ge[Oe+2]=Te>>>8,be+16}function fn(ge,be){var Te=ge.length,Ce=2*Te>be?2*Te:be+5,Oe=0;if(Te>=be)return ge;if(gi){var Me=GT(Ce);if(ge.copy)ge.copy(Me);else for(;Oe<ge.length;++Oe)Me[Oe]=ge[Oe];return Me}else if(Fe){var rt=new Uint8Array(Ce);if(rt.set)rt.set(ge);else for(;Oe<Te;++Oe)rt[Oe]=ge[Oe];return rt}return ge.length=Ce,ge}function st(ge){for(var be=new Array(ge),Te=0;Te<ge;++Te)be[Te]=0;return be}function Yt(ge,be,Te){var Ce=1,Oe=0,Me=0,rt=0,At=0,Je=ge.length,lt=Fe?new Uint16Array(32):st(32);for(Me=0;Me<32;++Me)lt[Me]=0;for(Me=Je;Me<Te;++Me)ge[Me]=0;Je=ge.length;var ht=Fe?new Uint16Array(Je):st(Je);for(Me=0;Me<Je;++Me)lt[Oe=ge[Me]]++,Ce<Oe&&(Ce=Oe),ht[Me]=0;for(lt[0]=0,Me=1;Me<=Ce;++Me)lt[Me+16]=At=At+lt[Me-1]<<1;for(Me=0;Me<Je;++Me)At=ge[Me],At!=0&&(ht[Me]=lt[At+16]++);var qt=0;for(Me=0;Me<Je;++Me)if(qt=ge[Me],qt!=0)for(At=St(ht[Me],Ce)>>Ce-qt,rt=(1<<Ce+4-qt)-1;rt>=0;--rt)be[At|rt<<qt]=qt&15|Me<<4;return Ce}var rn=Fe?new Uint16Array(512):st(512),hn=Fe?new Uint16Array(32):st(32);if(!Fe){for(var xn=0;xn<512;++xn)rn[xn]=0;for(xn=0;xn<32;++xn)hn[xn]=0}(function(){for(var ge=[],be=0;be<32;be++)ge.push(5);Yt(ge,hn,32);var Te=[];for(be=0;be<=143;be++)Te.push(8);for(;be<=255;be++)Te.push(9);for(;be<=279;be++)Te.push(7);for(;be<=287;be++)Te.push(8);Yt(Te,rn,288)})();var on=(function(){for(var be=Fe?new Uint8Array(32768):[],Te=0,Ce=0;Te<De.length-1;++Te)for(;Ce<De[Te+1];++Ce)be[Ce]=Te;for(;Ce<32768;++Ce)be[Ce]=29;var Oe=Fe?new Uint8Array(259):[];for(Te=0,Ce=0;Te<de.length-1;++Te)for(;Ce<de[Te+1];++Ce)Oe[Ce]=Te;function Me(At,Je){for(var lt=0;lt<At.length;){var ht=Math.min(65535,At.length-lt),qt=lt+ht==At.length;for(Je.write_shift(1,+qt),Je.write_shift(2,ht),Je.write_shift(2,~ht&65535);ht-- >0;)Je[Je.l++]=At[lt++]}return Je.l}function rt(At,Je){for(var lt=0,ht=0,qt=Fe?new Uint16Array(32768):[];ht<At.length;){var Ot=Math.min(65535,At.length-ht);if(Ot<10){for(lt=tt(Je,lt,+(ht+Ot==At.length)),lt&7&&(lt+=8-(lt&7)),Je.l=lt/8|0,Je.write_shift(2,Ot),Je.write_shift(2,~Ot&65535);Ot-- >0;)Je[Je.l++]=At[ht++];lt=Je.l*8;continue}lt=tt(Je,lt,+(ht+Ot==At.length)+2);for(var Mt=0;Ot-- >0;){var wt=At[ht];Mt=(Mt<<5^wt)&32767;var nn=-1,Tn=0;if((nn=qt[Mt])&&(nn|=ht&-32768,nn>ht&&(nn-=32768),nn<ht))for(;At[nn+Tn]==At[ht+Tn]&&Tn<250;)++Tn;if(Tn>2){wt=Oe[Tn],wt<=22?lt=Xe(Je,lt,Ie[wt+1]>>1)-1:(Xe(Je,lt,3),lt+=5,Xe(Je,lt,Ie[wt-23]>>5),lt+=3);var Nt=wt<8?0:wt-4>>2;Nt>0&&(Lt(Je,lt,Tn-de[wt]),lt+=Nt),wt=be[ht-nn],lt=Xe(Je,lt,Ie[wt]>>3),lt-=3;var vr=wt<4?0:wt-2>>1;vr>0&&(Lt(Je,lt,ht-nn-De[wt]),lt+=vr);for(var Kn=0;Kn<Tn;++Kn)qt[Mt]=ht&32767,Mt=(Mt<<5^At[ht])&32767,++ht;Ot-=Tn-1}else wt<=143?wt=wt+48:lt=tn(Je,lt,1),lt=Xe(Je,lt,Ie[wt]),qt[Mt]=ht&32767,++ht}lt=Xe(Je,lt,0)-1}return Je.l=(lt+7)/8|0,Je.l}return function(Je,lt){return Je.length<8?Me(Je,lt):rt(Je,lt)}})();function bn(ge){var be=Ft(50+Math.floor(ge.length*1.1)),Te=on(ge,be);return be.slice(0,Te)}var dn=Fe?new Uint16Array(32768):st(32768),nr=Fe?new Uint16Array(32768):st(32768),an=Fe?new Uint16Array(128):st(128),dt=1,Wt=1;function It(ge,be){var Te=ot(ge,be)+257;be+=5;var Ce=ot(ge,be)+1;be+=5;var Oe=le(ge,be)+4;be+=4;for(var Me=0,rt=Fe?new Uint8Array(19):st(19),At=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Je=1,lt=Fe?new Uint8Array(8):st(8),ht=Fe?new Uint8Array(8):st(8),qt=rt.length,Ot=0;Ot<Oe;++Ot)rt[oe[Ot]]=Me=Rt(ge,be),Je<Me&&(Je=Me),lt[Me]++,be+=3;var Mt=0;for(lt[0]=0,Ot=1;Ot<=Je;++Ot)ht[Ot]=Mt=Mt+lt[Ot-1]<<1;for(Ot=0;Ot<qt;++Ot)(Mt=rt[Ot])!=0&&(At[Ot]=ht[Mt]++);var wt=0;for(Ot=0;Ot<qt;++Ot)if(wt=rt[Ot],wt!=0){Mt=Ie[At[Ot]]>>8-wt;for(var nn=(1<<7-wt)-1;nn>=0;--nn)an[Mt|nn<<wt]=wt&7|Ot<<3}var Tn=[];for(Je=1;Tn.length<Te+Ce;)switch(Mt=an[pt(ge,be)],be+=Mt&7,Mt>>>=3){case 16:for(Me=3+Tt(ge,be),be+=2,Mt=Tn[Tn.length-1];Me-- >0;)Tn.push(Mt);break;case 17:for(Me=3+Rt(ge,be),be+=3;Me-- >0;)Tn.push(0);break;case 18:for(Me=11+pt(ge,be),be+=7;Me-- >0;)Tn.push(0);break;default:Tn.push(Mt),Je<Mt&&(Je=Mt);break}var Nt=Tn.slice(0,Te),vr=Tn.slice(Te);for(Ot=Te;Ot<286;++Ot)Nt[Ot]=0;for(Ot=Ce;Ot<30;++Ot)vr[Ot]=0;return dt=Yt(Nt,dn,286),Wt=Yt(vr,nr,30),be}function un(ge,be){if(ge[0]==3&&!(ge[1]&3))return[Ff(be),2];for(var Te=0,Ce=0,Oe=GT(be||1<<18),Me=0,rt=Oe.length>>>0,At=0,Je=0;(Ce&1)==0;){if(Ce=Rt(ge,Te),Te+=3,Ce>>>1)Ce>>1==1?(At=9,Je=5):(Te=It(ge,Te),At=dt,Je=Wt);else{Te&7&&(Te+=8-(Te&7));var lt=ge[Te>>>3]|ge[(Te>>>3)+1]<<8;if(Te+=32,lt>0)for(!be&&rt<Me+lt&&(Oe=fn(Oe,Me+lt),rt=Oe.length);lt-- >0;)Oe[Me++]=ge[Te>>>3],Te+=8;continue}for(;;){!be&&rt<Me+32767&&(Oe=fn(Oe,Me+32767),rt=Oe.length);var ht=zt(ge,Te,At),qt=Ce>>>1==1?rn[ht]:dn[ht];if(Te+=qt&15,qt>>>=4,(qt>>>8&255)===0)Oe[Me++]=qt;else{if(qt==256)break;qt-=257;var Ot=qt<8?0:qt-4>>2;Ot>5&&(Ot=0);var Mt=Me+de[qt];Ot>0&&(Mt+=zt(ge,Te,Ot),Te+=Ot),ht=zt(ge,Te,Je),qt=Ce>>>1==1?hn[ht]:nr[ht],Te+=qt&15,qt>>>=4;var wt=qt<4?0:qt-2>>1,nn=De[qt];for(wt>0&&(nn+=zt(ge,Te,wt),Te+=wt),!be&&rt<Mt&&(Oe=fn(Oe,Mt+100),rt=Oe.length);Me<Mt;)Oe[Me]=Oe[Me-nn],++Me}}}return be?[Oe,Te+7>>>3]:[Oe.slice(0,Me),Te+7>>>3]}function Yn(ge,be){var Te=ge.slice(ge.l||0),Ce=un(Te,be);return ge.l+=Ce[1],Ce[0]}function mt(ge,be){if(ge)typeof console<"u"&&console.error(be);else throw new Error(be)}function $t(ge,be){var Te=ge;Nl(Te,0);var Ce=[],Oe=[],Me={FileIndex:Ce,FullPaths:Oe};F(Me,{root:be.root});for(var rt=Te.length-4;(Te[rt]!=80||Te[rt+1]!=75||Te[rt+2]!=5||Te[rt+3]!=6)&&rt>=0;)--rt;Te.l=rt+4,Te.l+=4;var At=Te.read_shift(2);Te.l+=6;var Je=Te.read_shift(4);for(Te.l=Je,rt=0;rt<At;++rt){Te.l+=20;var lt=Te.read_shift(4),ht=Te.read_shift(4),qt=Te.read_shift(2),Ot=Te.read_shift(2),Mt=Te.read_shift(2);Te.l+=8;var wt=Te.read_shift(4),nn=u(Te.slice(Te.l+qt,Te.l+qt+Ot));Te.l+=qt+Ot+Mt;var Tn=Te.l;Te.l=wt+4,cn(Te,lt,ht,Me,nn),Te.l=Tn}return Me}function cn(ge,be,Te,Ce,Oe){ge.l+=2;var Me=ge.read_shift(2),rt=ge.read_shift(2),At=o(ge);if(Me&8257)throw new Error("Unsupported ZIP encryption");for(var Je=ge.read_shift(4),lt=ge.read_shift(4),ht=ge.read_shift(4),qt=ge.read_shift(2),Ot=ge.read_shift(2),Mt="",wt=0;wt<qt;++wt)Mt+=String.fromCharCode(ge[ge.l++]);if(Ot){var nn=u(ge.slice(ge.l,ge.l+Ot));(nn[21589]||{}).mt&&(At=nn[21589].mt),((Oe||{})[21589]||{}).mt&&(At=Oe[21589].mt)}ge.l+=Ot;var Tn=ge.slice(ge.l,ge.l+lt);switch(rt){case 8:Tn=J(ge,ht);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+rt)}var Nt=!1;Me&8&&(Je=ge.read_shift(4),Je==134695760&&(Je=ge.read_shift(4),Nt=!0),lt=ge.read_shift(4),ht=ge.read_shift(4)),lt!=be&&mt(Nt,"Bad compressed size: "+be+" != "+lt),ht!=Te&&mt(Nt,"Bad uncompressed size: "+Te+" != "+ht),$r(Ce,Mt,Tn,{unsafe:!0,mt:At})}function mn(ge,be){var Te=be||{},Ce=[],Oe=[],Me=Ft(1),rt=Te.compression?8:0,At=0,Je=0,lt=0,ht=0,qt=0,Ot=ge.FullPaths[0],Mt=Ot,wt=ge.FileIndex[0],nn=[],Tn=0;for(Je=1;Je<ge.FullPaths.length;++Je)if(Mt=ge.FullPaths[Je].slice(Ot.length),wt=ge.FileIndex[Je],!(!wt.size||!wt.content||Mt=="Sh33tJ5")){var Nt=ht,vr=Ft(Mt.length);for(lt=0;lt<Mt.length;++lt)vr.write_shift(1,Mt.charCodeAt(lt)&127);vr=vr.slice(0,vr.l),nn[qt]=t$.buf(wt.content,0);var Kn=wt.content;rt==8&&(Kn=Q(Kn)),Me=Ft(30),Me.write_shift(4,67324752),Me.write_shift(2,20),Me.write_shift(2,At),Me.write_shift(2,rt),wt.mt?s(Me,wt.mt):Me.write_shift(4,0),Me.write_shift(-4,nn[qt]),Me.write_shift(4,Kn.length),Me.write_shift(4,wt.content.length),Me.write_shift(2,vr.length),Me.write_shift(2,0),ht+=Me.length,Ce.push(Me),ht+=vr.length,Ce.push(vr),ht+=Kn.length,Ce.push(Kn),Me=Ft(46),Me.write_shift(4,33639248),Me.write_shift(2,0),Me.write_shift(2,20),Me.write_shift(2,At),Me.write_shift(2,rt),Me.write_shift(4,0),Me.write_shift(-4,nn[qt]),Me.write_shift(4,Kn.length),Me.write_shift(4,wt.content.length),Me.write_shift(2,vr.length),Me.write_shift(2,0),Me.write_shift(2,0),Me.write_shift(2,0),Me.write_shift(2,0),Me.write_shift(4,0),Me.write_shift(4,Nt),Tn+=Me.l,Oe.push(Me),Tn+=vr.length,Oe.push(vr),++qt}return Me=Ft(22),Me.write_shift(4,101010256),Me.write_shift(2,0),Me.write_shift(2,0),Me.write_shift(2,qt),Me.write_shift(2,qt),Me.write_shift(4,Tn),Me.write_shift(4,ht),Me.write_shift(2,0),fo([fo(Ce),fo(Oe),Me])}var gn={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Qn(ge,be){if(ge.ctype)return ge.ctype;var Te=ge.name||"",Ce=Te.match(/\.([^\.]+)$/);return Ce&&gn[Ce[1]]||be&&(Ce=(Te=be).match(/[\.\\]([^\.\\])+$/),Ce&&gn[Ce[1]])?gn[Ce[1]]:"application/octet-stream"}function kr(ge){for(var be=fm(ge),Te=[],Ce=0;Ce<be.length;Ce+=76)Te.push(be.slice(Ce,Ce+76));return Te.join(`\r
`)+`\r
`}function li(ge){var be=ge.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(lt){var ht=lt.charCodeAt(0).toString(16).toUpperCase();return"="+(ht.length==1?"0"+ht:ht)});be=be.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),be.charAt(0)==`
`&&(be="=0D"+be.slice(1)),be=be.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var Te=[],Ce=be.split(`\r
`),Oe=0;Oe<Ce.length;++Oe){var Me=Ce[Oe];if(Me.length==0){Te.push("");continue}for(var rt=0;rt<Me.length;){var At=76,Je=Me.slice(rt,rt+At);Je.charAt(At-1)=="="?At--:Je.charAt(At-2)=="="?At-=2:Je.charAt(At-3)=="="&&(At-=3),Je=Me.slice(rt,rt+At),rt+=At,rt<Me.length&&(Je+="="),Te.push(Je)}}return Te.join(`\r
`)}function Lr(ge){for(var be=[],Te=0;Te<ge.length;++Te){for(var Ce=ge[Te];Te<=ge.length&&Ce.charAt(Ce.length-1)=="=";)Ce=Ce.slice(0,Ce.length-1)+ge[++Te];be.push(Ce)}for(var Oe=0;Oe<be.length;++Oe)be[Oe]=be[Oe].replace(/[=][0-9A-Fa-f]{2}/g,function(Me){return String.fromCharCode(parseInt(Me.slice(1),16))});return mc(be.join(`\r
`))}function Kr(ge,be,Te){for(var Ce="",Oe="",Me="",rt,At=0;At<10;++At){var Je=be[At];if(!Je||Je.match(/^\s*$/))break;var lt=Je.match(/^(.*?):\s*([^\s].*)$/);if(lt)switch(lt[1].toLowerCase()){case"content-location":Ce=lt[2].trim();break;case"content-type":Me=lt[2].trim();break;case"content-transfer-encoding":Oe=lt[2].trim();break}}switch(++At,Oe.toLowerCase()){case"base64":rt=mc(Wu(be.slice(At).join("")));break;case"quoted-printable":rt=Lr(be.slice(At));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+Oe)}var ht=$r(ge,Ce.slice(Te.length),rt,{unsafe:!0});Me&&(ht.ctype=Me)}function On(ge,be){if(He(ge.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var Te=be&&be.root||"",Ce=(gi&&Buffer.isBuffer(ge)?ge.toString("binary"):He(ge)).split(`\r
`),Oe=0,Me="";for(Oe=0;Oe<Ce.length;++Oe)if(Me=Ce[Oe],!!/^Content-Location:/i.test(Me)&&(Me=Me.slice(Me.indexOf("file")),Te||(Te=Me.slice(0,Me.lastIndexOf("/")+1)),Me.slice(0,Te.length)!=Te))for(;Te.length>0&&(Te=Te.slice(0,Te.length-1),Te=Te.slice(0,Te.lastIndexOf("/")+1),Me.slice(0,Te.length)!=Te););var rt=(Ce[1]||"").match(/boundary="(.*?)"/);if(!rt)throw new Error("MAD cannot find boundary");var At="--"+(rt[1]||""),Je=[],lt=[],ht={FileIndex:Je,FullPaths:lt};F(ht);var qt,Ot=0;for(Oe=0;Oe<Ce.length;++Oe){var Mt=Ce[Oe];Mt!==At&&Mt!==At+"--"||(Ot++&&Kr(ht,Ce.slice(qt,Oe),Te),qt=Oe)}return ht}function Ni(ge,be){var Te=be||{},Ce=Te.boundary||"SheetJS";Ce="------="+Ce;for(var Oe=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+Ce.slice(2)+'"',"","",""],Me=ge.FullPaths[0],rt=Me,At=ge.FileIndex[0],Je=1;Je<ge.FullPaths.length;++Je)if(rt=ge.FullPaths[Je].slice(Me.length),At=ge.FileIndex[Je],!(!At.size||!At.content||rt=="Sh33tJ5")){rt=rt.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Tn){return"_x"+Tn.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Tn){return"_u"+Tn.charCodeAt(0).toString(16)+"_"});for(var lt=At.content,ht=gi&&Buffer.isBuffer(lt)?lt.toString("binary"):He(lt),qt=0,Ot=Math.min(1024,ht.length),Mt=0,wt=0;wt<=Ot;++wt)(Mt=ht.charCodeAt(wt))>=32&&Mt<128&&++qt;var nn=qt>=Ot*4/5;Oe.push(Ce),Oe.push("Content-Location: "+(Te.root||"file:///C:/SheetJS/")+rt),Oe.push("Content-Transfer-Encoding: "+(nn?"quoted-printable":"base64")),Oe.push("Content-Type: "+Qn(At,rt)),Oe.push(""),Oe.push(nn?li(ht):kr(ht))}return Oe.push(Ce+`--\r
`),Oe.join(`\r
`)}function Ki(ge){var be={};return F(be,ge),be}function $r(ge,be,Te,Ce){var Oe=Ce&&Ce.unsafe;Oe||F(ge);var Me=!Oe&&ji.find(ge,be);if(!Me){var rt=ge.FullPaths[0];be.slice(0,rt.length)==rt?rt=be:(rt.slice(-1)!="/"&&(rt+="/"),rt=(rt+be).replace("//","/")),Me={name:i(be),type:2},ge.FileIndex.push(Me),ge.FullPaths.push(rt),Oe||ji.utils.cfb_gc(ge)}return Me.content=Te,Me.size=Te?Te.length:0,Ce&&(Ce.CLSID&&(Me.clsid=Ce.CLSID),Ce.mt&&(Me.mt=Ce.mt),Ce.ct&&(Me.ct=Ce.ct)),Me}function zi(ge,be){F(ge);var Te=ji.find(ge,be);if(Te){for(var Ce=0;Ce<ge.FileIndex.length;++Ce)if(ge.FileIndex[Ce]==Te)return ge.FileIndex.splice(Ce,1),ge.FullPaths.splice(Ce,1),!0}return!1}function lr(ge,be,Te){F(ge);var Ce=ji.find(ge,be);if(Ce){for(var Oe=0;Oe<ge.FileIndex.length;++Oe)if(ge.FileIndex[Oe]==Ce)return ge.FileIndex[Oe].name=i(Te),ge.FullPaths[Oe]=Te,!0}return!1}function Rr(ge){D(ge,!0)}return e.find=U,e.read=re,e.parse=x,e.write=ze,e.writeFile=Re,e.utils={cfb_new:Ki,cfb_add:$r,cfb_del:zi,cfb_mov:lr,cfb_gc:Rr,ReadShift:K1,CheckField:t7,prep_blob:Nl,bconcat:fo,use_zlib:q,_deflateRaw:bn,_inflateRaw:Yn,consts:xe},e})();function n$(n){return typeof n=="string"?lx(n):Array.isArray(n)?CK(n):n}function Fm(n,e,t){if(typeof Deno<"u"){if(t&&typeof e=="string")switch(t){case"utf8":e=new TextEncoder(t).encode(e);break;case"binary":e=lx(e);break;default:throw new Error("Unsupported encoding "+t)}return Deno.writeFileSync(n,e)}var r=t=="utf8"?mm(e):e;if(typeof IE_SaveFile<"u")return IE_SaveFile(r,n);if(typeof Blob<"u"){var i=new Blob([n$(r)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(i,n);if(typeof saveAs<"u")return saveAs(i,n);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var s=URL.createObjectURL(i);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),chrome.downloads.download({url:s,filename:n,saveAs:!0});var o=document.createElement("a");if(o.download!=null)return o.download=n,o.href=s,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),s}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var u=File(n);return u.open("w"),u.encoding="binary",Array.isArray(e)&&(e=jm(e)),u.write(e),u.close(),e}catch(f){if(!f.message||!f.message.match(/onstruct/))throw f}throw new Error("cannot save file "+n)}function po(n){for(var e=Object.keys(n),t=[],r=0;r<e.length;++r)Object.prototype.hasOwnProperty.call(n,e[r])&&t.push(e[r]);return t}function JT(n,e){for(var t=[],r=po(n),i=0;i!==r.length;++i)t[n[r[i]][e]]==null&&(t[n[r[i]][e]]=r[i]);return t}function P5(n){for(var e=[],t=po(n),r=0;r!==t.length;++r)e[n[t[r]]]=t[r];return e}function hx(n){for(var e=[],t=po(n),r=0;r!==t.length;++r)e[n[t[r]]]=parseInt(t[r],10);return e}function r$(n){for(var e=[],t=po(n),r=0;r!==t.length;++r)e[n[t[r]]]==null&&(e[n[t[r]]]=[]),e[n[t[r]]].push(t[r]);return e}var m2=new Date(1899,11,30,0,0,0);function ml(n,e){var t=n.getTime(),r=m2.getTime()+(n.getTimezoneOffset()-m2.getTimezoneOffset())*6e4;return(t-r)/(1440*60*1e3)}var FR=new Date,i$=m2.getTime()+(FR.getTimezoneOffset()-m2.getTimezoneOffset())*6e4,e6=FR.getTimezoneOffset();function BR(n){var e=new Date;return e.setTime(n*24*60*60*1e3+i$),e.getTimezoneOffset()!==e6&&e.setTime(e.getTime()+(e.getTimezoneOffset()-e6)*6e4),e}var t6=new Date("2017-02-19T19:06:09.000Z"),UR=isNaN(t6.getFullYear())?new Date("2/19/17"):t6,s$=UR.getFullYear()==2017;function Xo(n,e){var t=new Date(n);if(s$)return e>0?t.setTime(t.getTime()+t.getTimezoneOffset()*60*1e3):e<0&&t.setTime(t.getTime()-t.getTimezoneOffset()*60*1e3),t;if(n instanceof Date)return n;if(UR.getFullYear()==1917&&!isNaN(t.getFullYear())){var r=t.getFullYear();return n.indexOf(""+r)>-1||t.setFullYear(t.getFullYear()+100),t}var i=n.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return n.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function fx(n,e){if(gi&&Buffer.isBuffer(n))return n.toString("binary");if(typeof TextDecoder<"u")try{var t={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(n)&&(n=new Uint8Array(n)),new TextDecoder("latin1").decode(n).replace(/[]/g,function(s){return t[s]||s})}catch{}for(var r=[],i=0;i!=n.length;++i)r.push(String.fromCharCode(n[i]));return r.join("")}function gl(n){if(typeof JSON<"u"&&!Array.isArray(n))return JSON.parse(JSON.stringify(n));if(typeof n!="object"||n==null)return n;if(n instanceof Date)return new Date(n.getTime());var e={};for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=gl(n[t]));return e}function Ps(n,e){for(var t="";t.length<e;)t+=n;return t}function Fu(n){var e=Number(n);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(n))return e;var t=1,r=n.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return t*=100,""});return!isNaN(e=Number(r))||(r=r.replace(/[(](.*)[)]/,function(i,s){return t=-t,s}),!isNaN(e=Number(r)))?e/t:e}var a$=["january","february","march","april","may","june","july","august","september","october","november","december"];function dm(n){var e=new Date(n),t=new Date(NaN),r=e.getYear(),i=e.getMonth(),s=e.getDate();if(isNaN(s))return t;var o=n.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&a$.indexOf(o)==-1)return t}else if(o.match(/[a-z]/))return t;return r<0||r>8099?t:(i>0||s>1)&&r!=101?e:n.match(/[^-0-9:,\/\\]/)?t:e}function Ir(n,e,t){if(n.FullPaths){if(typeof t=="string"){var r;return gi?r=Ku(t):r=IK(t),ji.utils.cfb_add(n,e,r)}ji.utils.cfb_add(n,e,t)}else n.file(e,t)}function j5(){return ji.utils.cfb_new()}var ga=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,o$={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},F5=P5(o$),B5=/[&<>'"]/g,l$=/[\u0000-\u0008\u000b-\u001f]/g;function Ai(n){var e=n+"";return e.replace(B5,function(t){return F5[t]}).replace(l$,function(t){return"_x"+("000"+t.charCodeAt(0).toString(16)).slice(-4)+"_"})}function n6(n){return Ai(n).replace(/ /g,"_x0020_")}var VR=/[\u0000-\u001f]/g;function c$(n){var e=n+"";return e.replace(B5,function(t){return F5[t]}).replace(/\n/g,"<br/>").replace(VR,function(t){return"&#x"+("000"+t.charCodeAt(0).toString(16)).slice(-4)+";"})}function u$(n){var e=n+"";return e.replace(B5,function(t){return F5[t]}).replace(VR,function(t){return"&#x"+t.charCodeAt(0).toString(16).toUpperCase()+";"})}function h$(n){return n.replace(/(\r\n|[\r\n])/g,"&#10;")}function f$(n){switch(n){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function Z_(n){for(var e="",t=0,r=0,i=0,s=0,o=0,u=0;t<n.length;){if(r=n.charCodeAt(t++),r<128){e+=String.fromCharCode(r);continue}if(i=n.charCodeAt(t++),r>191&&r<224){o=(r&31)<<6,o|=i&63,e+=String.fromCharCode(o);continue}if(s=n.charCodeAt(t++),r<240){e+=String.fromCharCode((r&15)<<12|(i&63)<<6|s&63);continue}o=n.charCodeAt(t++),u=((r&7)<<18|(i&63)<<12|(s&63)<<6|o&63)-65536,e+=String.fromCharCode(55296+(u>>>10&1023)),e+=String.fromCharCode(56320+(u&1023))}return e}function r6(n){var e=Ff(2*n.length),t,r,i=1,s=0,o=0,u;for(r=0;r<n.length;r+=i)i=1,(u=n.charCodeAt(r))<128?t=u:u<224?(t=(u&31)*64+(n.charCodeAt(r+1)&63),i=2):u<240?(t=(u&15)*4096+(n.charCodeAt(r+1)&63)*64+(n.charCodeAt(r+2)&63),i=3):(i=4,t=(u&7)*262144+(n.charCodeAt(r+1)&63)*4096+(n.charCodeAt(r+2)&63)*64+(n.charCodeAt(r+3)&63),t-=65536,o=55296+(t>>>10&1023),t=56320+(t&1023)),o!==0&&(e[s++]=o&255,e[s++]=o>>>8,o=0),e[s++]=t%256,e[s++]=t>>>8;return e.slice(0,s).toString("ucs2")}function i6(n){return Ku(n,"binary").toString("utf8")}var op="foo bar baz",Y1=gi&&(i6(op)==Z_(op)&&i6||r6(op)==Z_(op)&&r6)||Z_,mm=gi?function(n){return Ku(n,"utf8").toString("binary")}:function(n){for(var e=[],t=0,r=0,i=0;t<n.length;)switch(r=n.charCodeAt(t++),!0){case r<128:e.push(String.fromCharCode(r));break;case r<2048:e.push(String.fromCharCode(192+(r>>6))),e.push(String.fromCharCode(128+(r&63)));break;case(r>=55296&&r<57344):r-=55296,i=n.charCodeAt(t++)-56320+(r<<10),e.push(String.fromCharCode(240+(i>>18&7))),e.push(String.fromCharCode(144+(i>>12&63))),e.push(String.fromCharCode(128+(i>>6&63))),e.push(String.fromCharCode(128+(i&63)));break;default:e.push(String.fromCharCode(224+(r>>12))),e.push(String.fromCharCode(128+(r>>6&63))),e.push(String.fromCharCode(128+(r&63)))}return e.join("")},d$=(function(){var n=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(t){for(var r=t.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<n.length;++i)r=r.replace(n[i][0],n[i][1]);return r}})(),zR=/(^\s|\s$|\n)/;function mo(n,e){return"<"+n+(e.match(zR)?' xml:space="preserve"':"")+">"+e+"</"+n+">"}function gm(n){return po(n).map(function(e){return" "+e+'="'+n[e]+'"'}).join("")}function pn(n,e,t){return"<"+n+(t!=null?gm(t):"")+(e!=null?(e.match(zR)?' xml:space="preserve"':"")+">"+e+"</"+n:"/")+">"}function ew(n,e){try{return n.toISOString().replace(/\.\d*/,"")}catch(t){if(e)throw t}return""}function m$(n,e){switch(typeof n){case"string":var t=pn("vt:lpwstr",Ai(n));return t=t.replace(/&quot;/g,"_x0022_"),t;case"number":return pn((n|0)==n?"vt:i4":"vt:r8",Ai(String(n)));case"boolean":return pn("vt:bool",n?"true":"false")}if(n instanceof Date)return pn("vt:filetime",ew(n));throw new Error("Unable to serialize "+n)}var Ya={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},j0=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Cl={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function g$(n,e){for(var t=1-2*(n[e+7]>>>7),r=((n[e+7]&127)<<4)+(n[e+6]>>>4&15),i=n[e+6]&15,s=5;s>=0;--s)i=i*256+n[e+s];return r==2047?i==0?t*(1/0):NaN:(r==0?r=-1022:(r-=1023,i+=Math.pow(2,52)),t*Math.pow(2,r-52)*i)}function p$(n,e,t){var r=(e<0||1/e==-1/0?1:0)<<7,i=0,s=0,o=r?-e:e;isFinite(o)?o==0?i=s=0:(i=Math.floor(Math.log(o)/Math.LN2),s=o*Math.pow(2,52-i),i<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?i=-1022:(s-=Math.pow(2,52),i+=1023)):(i=2047,s=isNaN(e)?26985:0);for(var u=0;u<=5;++u,s/=256)n[t+u]=s&255;n[t+6]=(i&15)<<4|s&15,n[t+7]=i>>4|r}var s6=function(n){for(var e=[],t=10240,r=0;r<n[0].length;++r)if(n[0][r])for(var i=0,s=n[0][r].length;i<s;i+=t)e.push.apply(e,n[0][r].slice(i,i+t));return e},a6=gi?function(n){return n[0].length>0&&Buffer.isBuffer(n[0][0])?Buffer.concat(n[0].map(function(e){return Buffer.isBuffer(e)?e:Ku(e)})):s6(n)}:s6,o6=function(n,e,t){for(var r=[],i=e;i<t;i+=2)r.push(String.fromCharCode(L1(n,i)));return r.join("").replace(X1,"")},U5=gi?function(n,e,t){return Buffer.isBuffer(n)?n.toString("utf16le",e,t).replace(X1,""):o6(n,e,t)}:o6,l6=function(n,e,t){for(var r=[],i=e;i<e+t;++i)r.push(("0"+n[i].toString(16)).slice(-2));return r.join("")},HR=gi?function(n,e,t){return Buffer.isBuffer(n)?n.toString("hex",e,e+t):l6(n,e,t)}:l6,c6=function(n,e,t){for(var r=[],i=e;i<t;i++)r.push(String.fromCharCode(Qd(n,i)));return r.join("")},Bm=gi?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf8",t,r):c6(e,t,r)}:c6,qR=function(n,e){var t=Il(n,e);return t>0?Bm(n,e+4,e+4+t-1):""},GR=qR,WR=function(n,e){var t=Il(n,e);return t>0?Bm(n,e+4,e+4+t-1):""},XR=WR,YR=function(n,e){var t=2*Il(n,e);return t>0?Bm(n,e+4,e+4+t-1):""},KR=YR,$R=function(e,t){var r=Il(e,t);return r>0?U5(e,t+4,t+4+r):""},ZR=$R,QR=function(n,e){var t=Il(n,e);return t>0?Bm(n,e+4,e+4+t):""},JR=QR,e7=function(n,e){return g$(n,e)},g2=e7,V5=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};gi&&(GR=function(e,t){if(!Buffer.isBuffer(e))return qR(e,t);var r=e.readUInt32LE(t);return r>0?e.toString("utf8",t+4,t+4+r-1):""},XR=function(e,t){if(!Buffer.isBuffer(e))return WR(e,t);var r=e.readUInt32LE(t);return r>0?e.toString("utf8",t+4,t+4+r-1):""},KR=function(e,t){if(!Buffer.isBuffer(e))return YR(e,t);var r=2*e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+r-1)},ZR=function(e,t){if(!Buffer.isBuffer(e))return $R(e,t);var r=e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+r)},JR=function(e,t){if(!Buffer.isBuffer(e))return QR(e,t);var r=e.readUInt32LE(t);return e.toString("utf8",t+4,t+4+r)},g2=function(e,t){return Buffer.isBuffer(e)?e.readDoubleLE(t):e7(e,t)},V5=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var Qd=function(n,e){return n[e]},L1=function(n,e){return n[e+1]*256+n[e]},x$=function(n,e){var t=n[e+1]*256+n[e];return t<32768?t:(65535-t+1)*-1},Il=function(n,e){return n[e+3]*(1<<24)+(n[e+2]<<16)+(n[e+1]<<8)+n[e]},wf=function(n,e){return n[e+3]<<24|n[e+2]<<16|n[e+1]<<8|n[e]},v$=function(n,e){return n[e]<<24|n[e+1]<<16|n[e+2]<<8|n[e+3]};function K1(n,e){var t="",r,i,s=[],o,u,f,d;switch(e){case"dbcs":if(d=this.l,gi&&Buffer.isBuffer(this))t=this.slice(this.l,this.l+2*n).toString("utf16le");else for(f=0;f<n;++f)t+=String.fromCharCode(L1(this,d)),d+=2;n*=2;break;case"utf8":t=Bm(this,this.l,this.l+n);break;case"utf16le":n*=2,t=U5(this,this.l,this.l+n);break;case"wstr":return K1.call(this,n,"dbcs");case"lpstr-ansi":t=GR(this,this.l),n=4+Il(this,this.l);break;case"lpstr-cp":t=XR(this,this.l),n=4+Il(this,this.l);break;case"lpwstr":t=KR(this,this.l),n=4+2*Il(this,this.l);break;case"lpp4":n=4+Il(this,this.l),t=ZR(this,this.l),n&2&&(n+=2);break;case"8lpp4":n=4+Il(this,this.l),t=JR(this,this.l),n&3&&(n+=4-(n&3));break;case"cstr":for(n=0,t="";(o=Qd(this,this.l+n++))!==0;)s.push(ip(o));t=s.join("");break;case"_wstr":for(n=0,t="";(o=L1(this,this.l+n))!==0;)s.push(ip(o)),n+=2;n+=2,t=s.join("");break;case"dbcs-cont":for(t="",d=this.l,f=0;f<n;++f){if(this.lens&&this.lens.indexOf(d)!==-1)return o=Qd(this,d),this.l=d+1,u=K1.call(this,n-f,o?"dbcs-cont":"sbcs-cont"),s.join("")+u;s.push(ip(L1(this,d))),d+=2}t=s.join(""),n*=2;break;case"cpstr":case"sbcs-cont":for(t="",d=this.l,f=0;f!=n;++f){if(this.lens&&this.lens.indexOf(d)!==-1)return o=Qd(this,d),this.l=d+1,u=K1.call(this,n-f,o?"dbcs-cont":"sbcs-cont"),s.join("")+u;s.push(ip(Qd(this,d))),d+=1}t=s.join("");break;default:switch(n){case 1:return r=Qd(this,this.l),this.l++,r;case 2:return r=(e==="i"?x$:L1)(this,this.l),this.l+=2,r;case 4:case-4:return e==="i"||(this[this.l+3]&128)===0?(r=(n>0?wf:v$)(this,this.l),this.l+=4,r):(i=Il(this,this.l),this.l+=4,i);case 8:case-8:if(e==="f")return n==8?i=g2(this,this.l):i=g2([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;n=8;case 16:t=HR(this,this.l,n);break}}return this.l+=n,t}var _$=function(n,e,t){n[t]=e&255,n[t+1]=e>>>8&255,n[t+2]=e>>>16&255,n[t+3]=e>>>24&255},y$=function(n,e,t){n[t]=e&255,n[t+1]=e>>8&255,n[t+2]=e>>16&255,n[t+3]=e>>24&255},w$=function(n,e,t){n[t]=e&255,n[t+1]=e>>>8&255};function b$(n,e,t){var r=0,i=0;if(t==="dbcs"){for(i=0;i!=e.length;++i)w$(this,e.charCodeAt(i),this.l+2*i);r=2*e.length}else if(t==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=e.length;++i)this[this.l+i]=e.charCodeAt(i)&255;r=e.length}else if(t==="hex"){for(;i<n;++i)this[this.l++]=parseInt(e.slice(2*i,2*i+2),16)||0;return this}else if(t==="utf16le"){var s=Math.min(this.l+n,this.length);for(i=0;i<Math.min(e.length,n);++i){var o=e.charCodeAt(i);this[this.l++]=o&255,this[this.l++]=o>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(n){case 1:r=1,this[this.l]=e&255;break;case 2:r=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:r=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:r=4,_$(this,e,this.l);break;case 8:if(r=8,t==="f"){p$(this,e,this.l);break}case 16:break;case-4:r=4,y$(this,e,this.l);break}return this.l+=r,this}function t7(n,e){var t=HR(this,this.l,n.length>>1);if(t!==n)throw new Error(e+"Expected "+n+" saw "+t);this.l+=n.length>>1}function Nl(n,e){n.l=e,n.read_shift=K1,n.chk=t7,n.write_shift=b$}function iu(n,e){n.l+=e}function Ft(n){var e=Ff(n);return Nl(e,0),e}function dl(){var n=[],e=gi?256:2048,t=function(d){var x=Ft(d);return Nl(x,0),x},r=t(e),i=function(){r&&(r.length>r.l&&(r=r.slice(0,r.l),r.l=r.length),r.length>0&&n.push(r),r=null)},s=function(d){return r&&d<r.length-r.l?r:(i(),r=t(Math.max(d+1,e)))},o=function(){return i(),fo(n)},u=function(d){i(),r=d,r.l==null&&(r.l=r.length),s(e)};return{next:s,push:u,end:o,_bufs:n}}function en(n,e,t,r){var i=+e,s;if(!isNaN(i)){r||(r=gne[i].p||(t||[]).length||0),s=1+(i>=128?1:0)+1,r>=128&&++s,r>=16384&&++s,r>=2097152&&++s;var o=n.next(s);i<=127?o.write_shift(1,i):(o.write_shift(1,(i&127)+128),o.write_shift(1,i>>7));for(var u=0;u!=4;++u)if(r>=128)o.write_shift(1,(r&127)+128),r>>=7;else{o.write_shift(1,r);break}r>0&&V5(t)&&n.push(t)}}function $1(n,e,t){var r=gl(n);if(e.s?(r.cRel&&(r.c+=e.s.c),r.rRel&&(r.r+=e.s.r)):(r.cRel&&(r.c+=e.c),r.rRel&&(r.r+=e.r)),!t||t.biff<12){for(;r.c>=256;)r.c-=256;for(;r.r>=65536;)r.r-=65536}return r}function u6(n,e,t){var r=gl(n);return r.s=$1(r.s,e.s,t),r.e=$1(r.e,e.s,t),r}function Z1(n,e){if(n.cRel&&n.c<0)for(n=gl(n);n.c<0;)n.c+=e>8?16384:256;if(n.rRel&&n.r<0)for(n=gl(n);n.r<0;)n.r+=e>8?1048576:e>5?65536:16384;var t=Ti(n);return!n.cRel&&n.cRel!=null&&(t=S$(t)),!n.rRel&&n.rRel!=null&&(t=E$(t)),t}function Q_(n,e){return n.s.r==0&&!n.s.rRel&&n.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!n.e.rRel?(n.s.cRel?"":"$")+Oo(n.s.c)+":"+(n.e.cRel?"":"$")+Oo(n.e.c):n.s.c==0&&!n.s.cRel&&n.e.c==(e.biff>=12?16383:255)&&!n.e.cRel?(n.s.rRel?"":"$")+go(n.s.r)+":"+(n.e.rRel?"":"$")+go(n.e.r):Z1(n.s,e.biff)+":"+Z1(n.e,e.biff)}function z5(n){return parseInt(A$(n),10)-1}function go(n){return""+(n+1)}function E$(n){return n.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function A$(n){return n.replace(/\$(\d+)$/,"$1")}function H5(n){for(var e=T$(n),t=0,r=0;r!==e.length;++r)t=26*t+e.charCodeAt(r)-64;return t-1}function Oo(n){if(n<0)throw new Error("invalid column "+n);var e="";for(++n;n;n=Math.floor((n-1)/26))e=String.fromCharCode((n-1)%26+65)+e;return e}function S$(n){return n.replace(/^([A-Z])/,"$$$1")}function T$(n){return n.replace(/^\$([A-Z])/,"$1")}function N$(n){return n.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Ka(n){for(var e=0,t=0,r=0;r<n.length;++r){var i=n.charCodeAt(r);i>=48&&i<=57?e=10*e+(i-48):i>=65&&i<=90&&(t=26*t+(i-64))}return{c:t-1,r:e-1}}function Ti(n){for(var e=n.c+1,t="";e;e=(e-1)/26|0)t=String.fromCharCode((e-1)%26+65)+t;return t+(n.r+1)}function Fl(n){var e=n.indexOf(":");return e==-1?{s:Ka(n),e:Ka(n)}:{s:Ka(n.slice(0,e)),e:Ka(n.slice(e+1))}}function ma(n,e){return typeof e>"u"||typeof e=="number"?ma(n.s,n.e):(typeof n!="string"&&(n=Ti(n)),typeof e!="string"&&(e=Ti(e)),n==e?n:n+":"+e)}function ss(n){var e={s:{c:0,r:0},e:{c:0,r:0}},t=0,r=0,i=0,s=n.length;for(t=0;r<s&&!((i=n.charCodeAt(r)-64)<1||i>26);++r)t=26*t+i;for(e.s.c=--t,t=0;r<s&&!((i=n.charCodeAt(r)-48)<0||i>9);++r)t=10*t+i;if(e.s.r=--t,r===s||i!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++r,t=0;r!=s&&!((i=n.charCodeAt(r)-64)<1||i>26);++r)t=26*t+i;for(e.e.c=--t,t=0;r!=s&&!((i=n.charCodeAt(r)-48)<0||i>9);++r)t=10*t+i;return e.e.r=--t,e}function h6(n,e){var t=n.t=="d"&&e instanceof Date;if(n.z!=null)try{return n.w=Xh(n.z,t?ml(e):e)}catch{}try{return n.w=Xh((n.XF||{}).numFmtId||(t?14:0),t?ml(e):e)}catch{return""+e}}function Xu(n,e,t){return n==null||n.t==null||n.t=="z"?"":n.w!==void 0?n.w:(n.t=="d"&&!n.z&&t&&t.dateNF&&(n.z=t.dateNF),n.t=="e"?Um[n.v]||n.v:e==null?h6(n,n.v):h6(n,e))}function Jf(n,e){var t=e&&e.sheet?e.sheet:"Sheet1",r={};return r[t]=n,{SheetNames:[t],Sheets:r}}function n7(n,e,t){var r=t||{},i=n?Array.isArray(n):r.dense,s=n||(i?[]:{}),o=0,u=0;if(s&&r.origin!=null){if(typeof r.origin=="number")o=r.origin;else{var f=typeof r.origin=="string"?Ka(r.origin):r.origin;o=f.r,u=f.c}s["!ref"]||(s["!ref"]="A1:A1")}var d={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var x=ss(s["!ref"]);d.s.c=x.s.c,d.s.r=x.s.r,d.e.c=Math.max(d.e.c,x.e.c),d.e.r=Math.max(d.e.r,x.e.r),o==-1&&(d.e.r=o=x.e.r+1)}for(var w=0;w!=e.length;++w)if(e[w]){if(!Array.isArray(e[w]))throw new Error("aoa_to_sheet expects an array of arrays");for(var A=0;A!=e[w].length;++A)if(!(typeof e[w][A]>"u")){var E={v:e[w][A]},I=o+w,C=u+A;if(d.s.r>I&&(d.s.r=I),d.s.c>C&&(d.s.c=C),d.e.r<I&&(d.e.r=I),d.e.c<C&&(d.e.c=C),e[w][A]&&typeof e[w][A]=="object"&&!Array.isArray(e[w][A])&&!(e[w][A]instanceof Date))E=e[w][A];else if(Array.isArray(E.v)&&(E.f=e[w][A][1],E.v=E.v[0]),E.v===null)if(E.f)E.t="n";else if(r.nullError)E.t="e",E.v=0;else if(r.sheetStubs)E.t="z";else continue;else typeof E.v=="number"?E.t="n":typeof E.v=="boolean"?E.t="b":E.v instanceof Date?(E.z=r.dateNF||js[14],r.cellDates?(E.t="d",E.w=Xh(E.z,ml(E.v))):(E.t="n",E.v=ml(E.v),E.w=Xh(E.z,E.v))):E.t="s";if(i)s[I]||(s[I]=[]),s[I][C]&&s[I][C].z&&(E.z=s[I][C].z),s[I][C]=E;else{var L=Ti({c:C,r:I});s[L]&&s[L].z&&(E.z=s[L].z),s[L]=E}}}return d.s.c<1e7&&(s["!ref"]=ma(d)),s}function F0(n,e){return n7(null,n,e)}function C$(n){return n.read_shift(4,"i")}function wc(n,e){return e||(e=Ft(4)),e.write_shift(4,n),e}function ko(n){var e=n.read_shift(4);return e===0?"":n.read_shift(e,"dbcs")}function $a(n,e){var t=!1;return e==null&&(t=!0,e=Ft(4+2*n.length)),e.write_shift(4,n.length),n.length>0&&e.write_shift(0,n,"dbcs"),t?e.slice(0,e.l):e}function I$(n){return{ich:n.read_shift(2),ifnt:n.read_shift(2)}}function R$(n,e){return e||(e=Ft(4)),e.write_shift(2,0),e.write_shift(2,0),e}function q5(n,e){var t=n.l,r=n.read_shift(1),i=ko(n),s=[],o={t:i,h:i};if((r&1)!==0){for(var u=n.read_shift(4),f=0;f!=u;++f)s.push(I$(n));o.r=s}else o.r=[{ich:0,ifnt:0}];return n.l=t+e,o}function O$(n,e){var t=!1;return e==null&&(t=!0,e=Ft(15+4*n.t.length)),e.write_shift(1,0),$a(n.t,e),t?e.slice(0,e.l):e}var k$=q5;function D$(n,e){var t=!1;return e==null&&(t=!0,e=Ft(23+4*n.t.length)),e.write_shift(1,1),$a(n.t,e),e.write_shift(4,1),R$({},e),t?e.slice(0,e.l):e}function ec(n){var e=n.read_shift(4),t=n.read_shift(2);return t+=n.read_shift(1)<<16,n.l++,{c:e,iStyleRef:t}}function ed(n,e){return e==null&&(e=Ft(8)),e.write_shift(-4,n.c),e.write_shift(3,n.iStyleRef||n.s),e.write_shift(1,0),e}function td(n){var e=n.read_shift(2);return e+=n.read_shift(1)<<16,n.l++,{c:-1,iStyleRef:e}}function nd(n,e){return e==null&&(e=Ft(4)),e.write_shift(3,n.iStyleRef||n.s),e.write_shift(1,0),e}var L$=ko,r7=$a;function G5(n){var e=n.read_shift(4);return e===0||e===4294967295?"":n.read_shift(e,"dbcs")}function p2(n,e){var t=!1;return e==null&&(t=!0,e=Ft(127)),e.write_shift(4,n.length>0?n.length:4294967295),n.length>0&&e.write_shift(0,n,"dbcs"),t?e.slice(0,e.l):e}var M$=ko,tw=G5,W5=p2;function i7(n){var e=n.slice(n.l,n.l+4),t=e[0]&1,r=e[0]&2;n.l+=4;var i=r===0?g2([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):wf(e,0)>>2;return t?i/100:i}function s7(n,e){e==null&&(e=Ft(4));var t=0,r=0,i=n*100;if(n==(n|0)&&n>=-536870912&&n<1<<29?r=1:i==(i|0)&&i>=-536870912&&i<1<<29&&(r=1,t=1),r)e.write_shift(-4,((t?i:n)<<2)+(t+2));else throw new Error("unsupported RkNumber "+n)}function a7(n){var e={s:{},e:{}};return e.s.r=n.read_shift(4),e.e.r=n.read_shift(4),e.s.c=n.read_shift(4),e.e.c=n.read_shift(4),e}function P$(n,e){return e||(e=Ft(16)),e.write_shift(4,n.s.r),e.write_shift(4,n.e.r),e.write_shift(4,n.s.c),e.write_shift(4,n.e.c),e}var rd=a7,B0=P$;function U0(n){if(n.length-n.l<8)throw"XLS Xnum Buffer underflow";return n.read_shift(8,"f")}function Bf(n,e){return(e||Ft(8)).write_shift(8,n,"f")}function j$(n){var e={},t=n.read_shift(1),r=t>>>1,i=n.read_shift(1),s=n.read_shift(2,"i"),o=n.read_shift(1),u=n.read_shift(1),f=n.read_shift(1);switch(n.l++,r){case 0:e.auto=1;break;case 1:e.index=i;var d=W$[i];d&&(e.rgb=b6(d));break;case 2:e.rgb=b6([o,u,f]);break;case 3:e.theme=i;break}return s!=0&&(e.tint=s>0?s/32767:s/32768),e}function x2(n,e){if(e||(e=Ft(8)),!n||n.auto)return e.write_shift(4,0),e.write_shift(4,0),e;n.index!=null?(e.write_shift(1,2),e.write_shift(1,n.index)):n.theme!=null?(e.write_shift(1,6),e.write_shift(1,n.theme)):(e.write_shift(1,5),e.write_shift(1,0));var t=n.tint||0;if(t>0?t*=32767:t<0&&(t*=32768),e.write_shift(2,t),!n.rgb||n.theme!=null)e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);else{var r=n.rgb||"FFFFFF";typeof r=="number"&&(r=("000000"+r.toString(16)).slice(-6)),e.write_shift(1,parseInt(r.slice(0,2),16)),e.write_shift(1,parseInt(r.slice(2,4),16)),e.write_shift(1,parseInt(r.slice(4,6),16)),e.write_shift(1,255)}return e}function F$(n){var e=n.read_shift(1);n.l++;var t={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return t}function B$(n,e){e||(e=Ft(2));var t=(n.italic?2:0)|(n.strike?8:0)|(n.outline?16:0)|(n.shadow?32:0)|(n.condense?64:0)|(n.extend?128:0);return e.write_shift(1,t),e.write_shift(1,0),e}var o7=2,Tl=3,lp=11,v2=19,cp=64,U$=65,V$=71,z$=4108,H$=4126,uo=80,f6={1:{n:"CodePage",t:o7},2:{n:"Category",t:uo},3:{n:"PresentationFormat",t:uo},4:{n:"ByteCount",t:Tl},5:{n:"LineCount",t:Tl},6:{n:"ParagraphCount",t:Tl},7:{n:"SlideCount",t:Tl},8:{n:"NoteCount",t:Tl},9:{n:"HiddenCount",t:Tl},10:{n:"MultimediaClipCount",t:Tl},11:{n:"ScaleCrop",t:lp},12:{n:"HeadingPairs",t:z$},13:{n:"TitlesOfParts",t:H$},14:{n:"Manager",t:uo},15:{n:"Company",t:uo},16:{n:"LinksUpToDate",t:lp},17:{n:"CharacterCount",t:Tl},19:{n:"SharedDoc",t:lp},22:{n:"HyperlinksChanged",t:lp},23:{n:"AppVersion",t:Tl,p:"version"},24:{n:"DigSig",t:U$},26:{n:"ContentType",t:uo},27:{n:"ContentStatus",t:uo},28:{n:"Language",t:uo},29:{n:"Version",t:uo},255:{},2147483648:{n:"Locale",t:v2},2147483651:{n:"Behavior",t:v2},1919054434:{}},d6={1:{n:"CodePage",t:o7},2:{n:"Title",t:uo},3:{n:"Subject",t:uo},4:{n:"Author",t:uo},5:{n:"Keywords",t:uo},6:{n:"Comments",t:uo},7:{n:"Template",t:uo},8:{n:"LastAuthor",t:uo},9:{n:"RevNumber",t:uo},10:{n:"EditTime",t:cp},11:{n:"LastPrinted",t:cp},12:{n:"CreatedDate",t:cp},13:{n:"ModifiedDate",t:cp},14:{n:"PageCount",t:Tl},15:{n:"WordCount",t:Tl},16:{n:"CharCount",t:Tl},17:{n:"Thumbnail",t:V$},18:{n:"Application",t:uo},19:{n:"DocSecurity",t:Tl},255:{},2147483648:{n:"Locale",t:v2},2147483651:{n:"Behavior",t:v2},1919054434:{}};function q$(n){return n.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var G$=q$([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),W$=gl(G$),Um={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},X$={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},up={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function l7(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function c7(n,e){var t=r$(X$),r=[],i;r[r.length]=ga,r[r.length]=pn("Types",null,{xmlns:Ya.CT,"xmlns:xsd":Ya.xsd,"xmlns:xsi":Ya.xsi}),r=r.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(f){return pn("Default",null,{Extension:f[0],ContentType:f[1]})}));var s=function(f){n[f]&&n[f].length>0&&(i=n[f][0],r[r.length]=pn("Override",null,{PartName:(i[0]=="/"?"":"/")+i,ContentType:up[f][e.bookType]||up[f].xlsx}))},o=function(f){(n[f]||[]).forEach(function(d){r[r.length]=pn("Override",null,{PartName:(d[0]=="/"?"":"/")+d,ContentType:up[f][e.bookType]||up[f].xlsx})})},u=function(f){(n[f]||[]).forEach(function(d){r[r.length]=pn("Override",null,{PartName:(d[0]=="/"?"":"/")+d,ContentType:t[f][0]})})};return s("workbooks"),o("sheets"),o("charts"),u("themes"),["strs","styles"].forEach(s),["coreprops","extprops","custprops"].forEach(u),u("vba"),u("comments"),u("threadedcomments"),u("drawings"),o("metadata"),u("people"),r.length>2&&(r[r.length]="</Types>",r[1]=r[1].replace("/>",">")),r.join("")}var oi={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function u7(n){var e=n.lastIndexOf("/");return n.slice(0,e+1)+"_rels/"+n.slice(e+1)+".rels"}function d0(n){var e=[ga,pn("Relationships",null,{xmlns:Ya.RELS})];return po(n["!id"]).forEach(function(t){e[e.length]=pn("Relationship",null,n["!id"][t])}),e.length>2&&(e[e.length]="</Relationships>",e[1]=e[1].replace("/>",">")),e.join("")}function bi(n,e,t,r,i,s){if(i||(i={}),n["!id"]||(n["!id"]={}),n["!idx"]||(n["!idx"]=1),e<0)for(e=n["!idx"];n["!id"]["rId"+e];++e);if(n["!idx"]=e+1,i.Id="rId"+e,i.Type=r,i.Target=t,[oi.HLINK,oi.XPATH,oi.XMISS].indexOf(i.Type)>-1&&(i.TargetMode="External"),n["!id"][i.Id])throw new Error("Cannot rewrite rId "+e);return n["!id"][i.Id]=i,n[("/"+i.Target).replace("//","/")]=i,e}function Y$(n){var e=[ga];e.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),e.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var t=0;t<n.length;++t)e.push('  <manifest:file-entry manifest:full-path="'+n[t][0]+'" manifest:media-type="'+n[t][1]+`"/>
`);return e.push("</manifest:manifest>"),e.join("")}function m6(n,e,t){return['  <rdf:Description rdf:about="'+n+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(t||"odf")+"#"+e+`"/>
`,`  </rdf:Description>
`].join("")}function K$(n,e){return['  <rdf:Description rdf:about="'+n+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+e+`"/>
`,`  </rdf:Description>
`].join("")}function $$(n){var e=[ga];e.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var t=0;t!=n.length;++t)e.push(m6(n[t][0],n[t][1])),e.push(K$("",n[t][0]));return e.push(m6("","Document","pkg")),e.push("</rdf:RDF>"),e.join("")}function h7(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+c2.version+"</meta:generator></office:meta></office:document-meta>"}var Cf=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function J_(n,e,t,r,i){i[n]!=null||e==null||e===""||(i[n]=e,e=Ai(e),r[r.length]=t?pn(n,e,t):mo(n,e))}function f7(n,e){var t=e||{},r=[ga,pn("cp:coreProperties",null,{"xmlns:cp":Ya.CORE_PROPS,"xmlns:dc":Ya.dc,"xmlns:dcterms":Ya.dcterms,"xmlns:dcmitype":Ya.dcmitype,"xmlns:xsi":Ya.xsi})],i={};if(!n&&!t.Props)return r.join("");n&&(n.CreatedDate!=null&&J_("dcterms:created",typeof n.CreatedDate=="string"?n.CreatedDate:ew(n.CreatedDate,t.WTF),{"xsi:type":"dcterms:W3CDTF"},r,i),n.ModifiedDate!=null&&J_("dcterms:modified",typeof n.ModifiedDate=="string"?n.ModifiedDate:ew(n.ModifiedDate,t.WTF),{"xsi:type":"dcterms:W3CDTF"},r,i));for(var s=0;s!=Cf.length;++s){var o=Cf[s],u=t.Props&&t.Props[o[1]]!=null?t.Props[o[1]]:n?n[o[1]]:null;u===!0?u="1":u===!1?u="0":typeof u=="number"&&(u=String(u)),u!=null&&J_(o[0],u,null,r,i)}return r.length>2&&(r[r.length]="</cp:coreProperties>",r[1]=r[1].replace("/>",">")),r.join("")}var m0=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],d7=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function m7(n){var e=[],t=pn;return n||(n={}),n.Application="SheetJS",e[e.length]=ga,e[e.length]=pn("Properties",null,{xmlns:Ya.EXT_PROPS,"xmlns:vt":Ya.vt}),m0.forEach(function(r){if(n[r[1]]!==void 0){var i;switch(r[2]){case"string":i=Ai(String(n[r[1]]));break;case"bool":i=n[r[1]]?"true":"false";break}i!==void 0&&(e[e.length]=t(r[0],i))}}),e[e.length]=t("HeadingPairs",t("vt:vector",t("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+t("vt:variant",t("vt:i4",String(n.Worksheets))),{size:2,baseType:"variant"})),e[e.length]=t("TitlesOfParts",t("vt:vector",n.SheetNames.map(function(r){return"<vt:lpstr>"+Ai(r)+"</vt:lpstr>"}).join(""),{size:n.Worksheets,baseType:"lpstr"})),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}function g7(n){var e=[ga,pn("Properties",null,{xmlns:Ya.CUST_PROPS,"xmlns:vt":Ya.vt})];if(!n)return e.join("");var t=1;return po(n).forEach(function(i){++t,e[e.length]=pn("property",m$(n[i]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:t,name:Ai(i)})}),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var g6={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function Z$(n,e){var t=[];return po(g6).map(function(r){for(var i=0;i<Cf.length;++i)if(Cf[i][1]==r)return Cf[i];for(i=0;i<m0.length;++i)if(m0[i][1]==r)return m0[i];throw r}).forEach(function(r){if(n[r[1]]!=null){var i=e&&e.Props&&e.Props[r[1]]!=null?e.Props[r[1]]:n[r[1]];switch(r[2]){case"date":i=new Date(i).toISOString().replace(/\.\d*Z/,"Z");break}typeof i=="number"?i=String(i):i===!0||i===!1?i=i?"1":"0":i instanceof Date&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"")),t.push(mo(g6[r[1]]||r[1],i))}}),pn("DocumentProperties",t.join(""),{xmlns:Cl.o})}function Q$(n,e){var t=["Worksheets","SheetNames"],r="CustomDocumentProperties",i=[];return n&&po(n).forEach(function(s){if(Object.prototype.hasOwnProperty.call(n,s)){for(var o=0;o<Cf.length;++o)if(s==Cf[o][1])return;for(o=0;o<m0.length;++o)if(s==m0[o][1])return;for(o=0;o<t.length;++o)if(s==t[o])return;var u=n[s],f="string";typeof u=="number"?(f="float",u=String(u)):u===!0||u===!1?(f="boolean",u=u?"1":"0"):u=String(u),i.push(pn(n6(s),u,{"dt:dt":f}))}}),e&&po(e).forEach(function(s){if(Object.prototype.hasOwnProperty.call(e,s)&&!(n&&Object.prototype.hasOwnProperty.call(n,s))){var o=e[s],u="string";typeof o=="number"?(u="float",o=String(o)):o===!0||o===!1?(u="boolean",o=o?"1":"0"):o instanceof Date?(u="dateTime.tz",o=o.toISOString()):o=String(o),i.push(pn(n6(s),o,{"dt:dt":u}))}}),"<"+r+' xmlns="'+Cl.o+'">'+i.join("")+"</"+r+">"}function J$(n){var e=typeof n=="string"?new Date(Date.parse(n)):n,t=e.getTime()/1e3+11644473600,r=t%Math.pow(2,32),i=(t-r)/Math.pow(2,32);r*=1e7,i*=1e7;var s=r/Math.pow(2,32)|0;s>0&&(r=r%Math.pow(2,32),i+=s);var o=Ft(8);return o.write_shift(4,r),o.write_shift(4,i),o}function p6(n,e){var t=Ft(4),r=Ft(4);switch(t.write_shift(4,n==80?31:n),n){case 3:r.write_shift(-4,e);break;case 5:r=Ft(8),r.write_shift(8,e,"f");break;case 11:r.write_shift(4,e?1:0);break;case 64:r=J$(e);break;case 31:case 80:for(r=Ft(4+2*(e.length+1)+(e.length%2?0:2)),r.write_shift(4,e.length+1),r.write_shift(0,e,"dbcs");r.l!=r.length;)r.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+n+" "+e)}return fo([t,r])}var p7=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function eZ(n){switch(typeof n){case"boolean":return 11;case"number":return(n|0)==n?3:5;case"string":return 31;case"object":if(n instanceof Date)return 64;break}return-1}function x6(n,e,t){var r=Ft(8),i=[],s=[],o=8,u=0,f=Ft(8),d=Ft(8);if(f.write_shift(4,2),f.write_shift(4,1200),d.write_shift(4,1),s.push(f),i.push(d),o+=8+f.length,!e){d=Ft(8),d.write_shift(4,0),i.unshift(d);var x=[Ft(4)];for(x[0].write_shift(4,n.length),u=0;u<n.length;++u){var w=n[u][0];for(f=Ft(8+2*(w.length+1)+(w.length%2?0:2)),f.write_shift(4,u+2),f.write_shift(4,w.length+1),f.write_shift(0,w,"dbcs");f.l!=f.length;)f.write_shift(1,0);x.push(f)}f=fo(x),s.unshift(f),o+=8+f.length}for(u=0;u<n.length;++u)if(!(e&&!e[n[u][0]])&&!(p7.indexOf(n[u][0])>-1||d7.indexOf(n[u][0])>-1)&&n[u][1]!=null){var A=n[u][1],E=0;if(e){E=+e[n[u][0]];var I=t[E];if(I.p=="version"&&typeof A=="string"){var C=A.split(".");A=(+C[0]<<16)+(+C[1]||0)}f=p6(I.t,A)}else{var L=eZ(A);L==-1&&(L=31,A=String(A)),f=p6(L,A)}s.push(f),d=Ft(8),d.write_shift(4,e?E:2+u),i.push(d),o+=8+f.length}var j=8*(s.length+1);for(u=0;u<s.length;++u)i[u].write_shift(4,j),j+=s[u].length;return r.write_shift(4,o),r.write_shift(4,s.length),fo([r].concat(i).concat(s))}function v6(n,e,t,r,i,s){var o=Ft(i?68:48),u=[o];o.write_shift(2,65534),o.write_shift(2,0),o.write_shift(4,842412599),o.write_shift(16,ji.utils.consts.HEADER_CLSID,"hex"),o.write_shift(4,i?2:1),o.write_shift(16,e,"hex"),o.write_shift(4,i?68:48);var f=x6(n,t,r);if(u.push(f),i){var d=x6(i,null,null);o.write_shift(16,s,"hex"),o.write_shift(4,68+f.length),u.push(d)}return fo(u)}function tZ(n,e){e||(e=Ft(n));for(var t=0;t<n;++t)e.write_shift(1,0);return e}function nZ(n,e){return n.read_shift(e)===1}function qo(n,e){return e||(e=Ft(2)),e.write_shift(2,+!!n),e}function x7(n){return n.read_shift(2,"u")}function Xl(n,e){return e||(e=Ft(2)),e.write_shift(2,n),e}function v7(n,e,t){return t||(t=Ft(2)),t.write_shift(1,e=="e"?+n:+!!n),t.write_shift(1,e=="e"?1:0),t}function _7(n,e,t){var r=n.read_shift(t&&t.biff>=12?2:1),i="sbcs-cont";if(t&&t.biff>=8,!t||t.biff==8){var s=n.read_shift(1);s&&(i="dbcs-cont")}else t.biff==12&&(i="wstr");t.biff>=2&&t.biff<=5&&(i="cpstr");var o=r?n.read_shift(r,i):"";return o}function rZ(n){var e=n.t||"",t=Ft(3);t.write_shift(2,e.length),t.write_shift(1,1);var r=Ft(2*e.length);r.write_shift(2*e.length,e,"utf16le");var i=[t,r];return fo(i)}function iZ(n,e,t){var r;if(t){if(t.biff>=2&&t.biff<=5)return n.read_shift(e,"cpstr");if(t.biff>=12)return n.read_shift(e,"dbcs-cont")}var i=n.read_shift(1);return i===0?r=n.read_shift(e,"sbcs-cont"):r=n.read_shift(e,"dbcs-cont"),r}function sZ(n,e,t){var r=n.read_shift(t&&t.biff==2?1:2);return r===0?(n.l++,""):iZ(n,r,t)}function aZ(n,e,t){if(t.biff>5)return sZ(n,e,t);var r=n.read_shift(1);return r===0?(n.l++,""):n.read_shift(r,t.biff<=4||!n.lens?"cpstr":"sbcs-cont")}function y7(n,e,t){return t||(t=Ft(3+2*n.length)),t.write_shift(2,n.length),t.write_shift(1,1),t.write_shift(31,n,"utf16le"),t}function _6(n,e){e||(e=Ft(6+n.length*2)),e.write_shift(4,1+n.length);for(var t=0;t<n.length;++t)e.write_shift(2,n.charCodeAt(t));return e.write_shift(2,0),e}function oZ(n){var e=Ft(512),t=0,r=n.Target;r.slice(0,7)=="file://"&&(r=r.slice(7));var i=r.indexOf("#"),s=i>-1?31:23;switch(r.charAt(0)){case"#":s=28;break;case".":s&=-3;break}e.write_shift(4,2),e.write_shift(4,s);var o=[8,6815827,6619237,4849780,83];for(t=0;t<o.length;++t)e.write_shift(4,o[t]);if(s==28)r=r.slice(1),_6(r,e);else if(s&2){for(o="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),t=0;t<o.length;++t)e.write_shift(1,parseInt(o[t],16));var u=i>-1?r.slice(0,i):r;for(e.write_shift(4,2*(u.length+1)),t=0;t<u.length;++t)e.write_shift(2,u.charCodeAt(t));e.write_shift(2,0),s&8&&_6(i>-1?r.slice(i+1):"",e)}else{for(o="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),t=0;t<o.length;++t)e.write_shift(1,parseInt(o[t],16));for(var f=0;r.slice(f*3,f*3+3)=="../"||r.slice(f*3,f*3+3)=="..\\";)++f;for(e.write_shift(2,f),e.write_shift(4,r.length-3*f+1),t=0;t<r.length-3*f;++t)e.write_shift(1,r.charCodeAt(t+3*f)&255);for(e.write_shift(1,0),e.write_shift(2,65535),e.write_shift(2,57005),t=0;t<6;++t)e.write_shift(4,0)}return e.slice(0,e.l)}function Uf(n,e,t,r){return r||(r=Ft(6)),r.write_shift(2,n),r.write_shift(2,e),r.write_shift(2,t||0),r}function lZ(n,e,t){var r=t.biff>8?4:2,i=n.read_shift(r),s=n.read_shift(r,"i"),o=n.read_shift(r,"i");return[i,s,o]}function cZ(n){var e=n.read_shift(2),t=n.read_shift(2),r=n.read_shift(2),i=n.read_shift(2);return{s:{c:r,r:e},e:{c:i,r:t}}}function w7(n,e){return e||(e=Ft(8)),e.write_shift(2,n.s.r),e.write_shift(2,n.e.r),e.write_shift(2,n.s.c),e.write_shift(2,n.e.c),e}function X5(n,e,t){var r=1536,i=16;switch(t.bookType){case"biff8":break;case"biff5":r=1280,i=8;break;case"biff4":r=4,i=6;break;case"biff3":r=3,i=6;break;case"biff2":r=2,i=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var s=Ft(i);return s.write_shift(2,r),s.write_shift(2,e),i>4&&s.write_shift(2,29282),i>6&&s.write_shift(2,1997),i>8&&(s.write_shift(2,49161),s.write_shift(2,1),s.write_shift(2,1798),s.write_shift(2,0)),s}function uZ(n,e){var t=!e||e.biff==8,r=Ft(t?112:54);for(r.write_shift(e.biff==8?2:1,7),t&&r.write_shift(1,0),r.write_shift(4,859007059),r.write_shift(4,5458548|(t?0:536870912));r.l<r.length;)r.write_shift(1,t?0:32);return r}function hZ(n,e){var t=!e||e.biff>=8?2:1,r=Ft(8+t*n.name.length);r.write_shift(4,n.pos),r.write_shift(1,n.hs||0),r.write_shift(1,n.dt),r.write_shift(1,n.name.length),e.biff>=8&&r.write_shift(1,1),r.write_shift(t*n.name.length,n.name,e.biff<8?"sbcs":"utf16le");var i=r.slice(0,r.l);return i.l=r.l,i}function fZ(n,e){var t=Ft(8);t.write_shift(4,n.Count),t.write_shift(4,n.Unique);for(var r=[],i=0;i<n.length;++i)r[i]=rZ(n[i]);var s=fo([t].concat(r));return s.parts=[t.length].concat(r.map(function(o){return o.length})),s}function dZ(){var n=Ft(18);return n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,29280),n.write_shift(2,17600),n.write_shift(2,56),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,1),n.write_shift(2,500),n}function mZ(n){var e=Ft(18),t=1718;return n&&n.RTL&&(t|=64),e.write_shift(2,t),e.write_shift(4,0),e.write_shift(4,64),e.write_shift(4,0),e.write_shift(4,0),e}function gZ(n,e){var t=n.name||"Arial",r=e&&e.biff==5,i=r?15+t.length:16+2*t.length,s=Ft(i);return s.write_shift(2,n.sz*20),s.write_shift(4,0),s.write_shift(2,400),s.write_shift(4,0),s.write_shift(2,0),s.write_shift(1,t.length),r||s.write_shift(1,1),s.write_shift((r?1:2)*t.length,t,r?"sbcs":"utf16le"),s}function pZ(n,e,t,r){var i=Ft(10);return Uf(n,e,r,i),i.write_shift(4,t),i}function xZ(n,e,t,r,i){var s=!i||i.biff==8,o=Ft(8+ +s+(1+s)*t.length);return Uf(n,e,r,o),o.write_shift(2,t.length),s&&o.write_shift(1,1),o.write_shift((1+s)*t.length,t,s?"utf16le":"sbcs"),o}function vZ(n,e,t,r){var i=t&&t.biff==5;r||(r=Ft(i?3+e.length:5+2*e.length)),r.write_shift(2,n),r.write_shift(i?1:2,e.length),i||r.write_shift(1,1),r.write_shift((i?1:2)*e.length,e,i?"sbcs":"utf16le");var s=r.length>r.l?r.slice(0,r.l):r;return s.l==null&&(s.l=s.length),s}function _Z(n,e){var t=e.biff==8||!e.biff?4:2,r=Ft(2*t+6);return r.write_shift(t,n.s.r),r.write_shift(t,n.e.r+1),r.write_shift(2,n.s.c),r.write_shift(2,n.e.c+1),r.write_shift(2,0),r}function y6(n,e,t,r){var i=t&&t.biff==5;r||(r=Ft(i?16:20)),r.write_shift(2,0),n.style?(r.write_shift(2,n.numFmtId||0),r.write_shift(2,65524)):(r.write_shift(2,n.numFmtId||0),r.write_shift(2,e<<4));var s=0;return n.numFmtId>0&&i&&(s|=1024),r.write_shift(4,s),r.write_shift(4,0),i||r.write_shift(4,0),r.write_shift(2,0),r}function yZ(n){var e=Ft(8);return e.write_shift(4,0),e.write_shift(2,0),e.write_shift(2,0),e}function wZ(n,e,t,r,i,s){var o=Ft(8);return Uf(n,e,r,o),v7(t,s,o),o}function bZ(n,e,t,r){var i=Ft(14);return Uf(n,e,r,i),Bf(t,i),i}function EZ(n,e,t){if(t.biff<8)return AZ(n,e,t);for(var r=[],i=n.l+e,s=n.read_shift(t.biff>8?4:2);s--!==0;)r.push(lZ(n,t.biff>8?12:6,t));if(n.l!=i)throw new Error("Bad ExternSheet: "+n.l+" != "+i);return r}function AZ(n,e,t){n[n.l+1]==3&&n[n.l]++;var r=_7(n,e,t);return r.charCodeAt(0)==3?r.slice(1):r}function SZ(n){var e=Ft(2+n.length*8);e.write_shift(2,n.length);for(var t=0;t<n.length;++t)w7(n[t],e);return e}function TZ(n){var e=Ft(24),t=Ka(n[0]);e.write_shift(2,t.r),e.write_shift(2,t.r),e.write_shift(2,t.c),e.write_shift(2,t.c);for(var r="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),i=0;i<16;++i)e.write_shift(1,parseInt(r[i],16));return fo([e,oZ(n[1])])}function NZ(n){var e=n[1].Tooltip,t=Ft(10+2*(e.length+1));t.write_shift(2,2048);var r=Ka(n[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var i=0;i<e.length;++i)t.write_shift(2,e.charCodeAt(i));return t.write_shift(2,0),t}function CZ(n){return n||(n=Ft(4)),n.write_shift(2,1),n.write_shift(2,1),n}function IZ(n,e,t){if(!t.cellStyles)return iu(n,e);var r=t&&t.biff>=12?4:2,i=n.read_shift(r),s=n.read_shift(r),o=n.read_shift(r),u=n.read_shift(r),f=n.read_shift(2);r==2&&(n.l+=2);var d={s:i,e:s,w:o,ixfe:u,flags:f};return(t.biff>=5||!t.biff)&&(d.level=f>>8&7),d}function RZ(n,e){var t=Ft(12);t.write_shift(2,e),t.write_shift(2,e),t.write_shift(2,n.width*256),t.write_shift(2,0);var r=0;return n.hidden&&(r|=1),t.write_shift(1,r),r=n.level||0,t.write_shift(1,r),t.write_shift(2,0),t}function OZ(n){for(var e=Ft(2*n),t=0;t<n;++t)e.write_shift(2,t+1);return e}function kZ(n,e,t){var r=Ft(15);return zm(r,n,e),r.write_shift(8,t,"f"),r}function DZ(n,e,t){var r=Ft(9);return zm(r,n,e),r.write_shift(2,t),r}var LZ=(function(){var n={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=P5({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function t(u,f){var d=[],x=Ff(1);switch(f.type){case"base64":x=mc(Wu(u));break;case"binary":x=mc(u);break;case"buffer":case"array":x=u;break}Nl(x,0);var w=x.read_shift(1),A=!!(w&136),E=!1,I=!1;switch(w){case 2:break;case 3:break;case 48:E=!0,A=!0;break;case 49:E=!0,A=!0;break;case 131:break;case 139:break;case 140:I=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+w.toString(16))}var C=0,L=521;w==2&&(C=x.read_shift(2)),x.l+=3,w!=2&&(C=x.read_shift(4)),C>1048576&&(C=1e6),w!=2&&(L=x.read_shift(2));var j=x.read_shift(2),W=f.codepage||1252;w!=2&&(x.l+=16,x.read_shift(1),x[x.l]!==0&&(W=n[x[x.l]]),x.l+=1,x.l+=2),I&&(x.l+=36);for(var M=[],G={},ce=Math.min(x.length,w==2?521:L-10-(E?264:0)),re=I?32:11;x.l<ce&&x[x.l]!=13;)switch(G={},G.name=u2.utils.decode(W,x.slice(x.l,x.l+re)).replace(/[\u0000\r\n].*$/g,""),x.l+=re,G.type=String.fromCharCode(x.read_shift(1)),w!=2&&!I&&(G.offset=x.read_shift(4)),G.len=x.read_shift(1),w==2&&(G.offset=x.read_shift(2)),G.dec=x.read_shift(1),G.name.length&&M.push(G),w!=2&&(x.l+=I?13:14),G.type){case"B":(!E||G.len!=8)&&f.WTF&&console.log("Skipping "+G.name+":"+G.type);break;case"G":case"P":f.WTF&&console.log("Skipping "+G.name+":"+G.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+G.type)}if(x[x.l]!==13&&(x.l=L-1),x.read_shift(1)!==13)throw new Error("DBF Terminator not found "+x.l+" "+x[x.l]);x.l=L;var F=0,B=0;for(d[0]=[],B=0;B!=M.length;++B)d[0][B]=M[B].name;for(;C-- >0;){if(x[x.l]===42){x.l+=j;continue}for(++x.l,d[++F]=[],B=0,B=0;B!=M.length;++B){var D=x.slice(x.l,x.l+M[B].len);x.l+=M[B].len,Nl(D,0);var Z=u2.utils.decode(W,D);switch(M[B].type){case"C":Z.trim().length&&(d[F][B]=Z.replace(/\s+$/,""));break;case"D":Z.length===8?d[F][B]=new Date(+Z.slice(0,4),+Z.slice(4,6)-1,+Z.slice(6,8)):d[F][B]=Z;break;case"F":d[F][B]=parseFloat(Z.trim());break;case"+":case"I":d[F][B]=I?D.read_shift(-4,"i")^2147483648:D.read_shift(4,"i");break;case"L":switch(Z.trim().toUpperCase()){case"Y":case"T":d[F][B]=!0;break;case"N":case"F":d[F][B]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+Z+"|")}break;case"M":if(!A)throw new Error("DBF Unexpected MEMO for type "+w.toString(16));d[F][B]="##MEMO##"+(I?parseInt(Z.trim(),10):D.read_shift(4));break;case"N":Z=Z.replace(/\u0000/g,"").trim(),Z&&Z!="."&&(d[F][B]=+Z||0);break;case"@":d[F][B]=new Date(D.read_shift(-8,"f")-621356832e5);break;case"T":d[F][B]=new Date((D.read_shift(4)-2440588)*864e5+D.read_shift(4));break;case"Y":d[F][B]=D.read_shift(4,"i")/1e4+D.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":d[F][B]=-D.read_shift(-8,"f");break;case"B":if(E&&M[B].len==8){d[F][B]=D.read_shift(8,"f");break}case"G":case"P":D.l+=M[B].len;break;case"0":if(M[B].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+M[B].type)}}}if(w!=2&&x.l<x.length&&x[x.l++]!=26)throw new Error("DBF EOF Marker missing "+(x.l-1)+" of "+x.length+" "+x[x.l-1].toString(16));return f&&f.sheetRows&&(d=d.slice(0,f.sheetRows)),f.DBF=M,d}function r(u,f){var d=f||{};d.dateNF||(d.dateNF="yyyymmdd");var x=F0(t(u,d),d);return x["!cols"]=d.DBF.map(function(w){return{wch:w.len,DBF:w}}),delete d.DBF,x}function i(u,f){try{return Jf(r(u,f),f)}catch(d){if(f&&f.WTF)throw d}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function o(u,f){var d=f||{};if(+d.codepage>=0&&hm(+d.codepage),d.type=="string")throw new Error("Cannot write DBF to JS string");var x=dl(),w=E2(u,{header:1,raw:!0,cellDates:!0}),A=w[0],E=w.slice(1),I=u["!cols"]||[],C=0,L=0,j=0,W=1;for(C=0;C<A.length;++C){if(((I[C]||{}).DBF||{}).name){A[C]=I[C].DBF.name,++j;continue}if(A[C]!=null){if(++j,typeof A[C]=="number"&&(A[C]=A[C].toString(10)),typeof A[C]!="string")throw new Error("DBF Invalid column name "+A[C]+" |"+typeof A[C]+"|");if(A.indexOf(A[C])!==C){for(L=0;L<1024;++L)if(A.indexOf(A[C]+"_"+L)==-1){A[C]+="_"+L;break}}}}var M=ss(u["!ref"]),G=[],ce=[],re=[];for(C=0;C<=M.e.c-M.s.c;++C){var F="",B="",D=0,Z=[];for(L=0;L<E.length;++L)E[L][C]!=null&&Z.push(E[L][C]);if(Z.length==0||A[C]==null){G[C]="?";continue}for(L=0;L<Z.length;++L){switch(typeof Z[L]){case"number":B="B";break;case"string":B="C";break;case"boolean":B="L";break;case"object":B=Z[L]instanceof Date?"D":"C";break;default:B="C"}D=Math.max(D,String(Z[L]).length),F=F&&F!=B?"C":B}D>250&&(D=250),B=((I[C]||{}).DBF||{}).type,B=="C"&&I[C].DBF.len>D&&(D=I[C].DBF.len),F=="B"&&B=="N"&&(F="N",re[C]=I[C].DBF.dec,D=I[C].DBF.len),ce[C]=F=="C"||B=="N"?D:s[F]||0,W+=ce[C],G[C]=F}var U=x.next(32);for(U.write_shift(4,318902576),U.write_shift(4,E.length),U.write_shift(2,296+32*j),U.write_shift(2,W),C=0;C<4;++C)U.write_shift(4,0);for(U.write_shift(4,0|(+e[ER]||3)<<8),C=0,L=0;C<A.length;++C)if(A[C]!=null){var H=x.next(32),X=(A[C].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);H.write_shift(1,X,"sbcs"),H.write_shift(1,G[C]=="?"?"C":G[C],"sbcs"),H.write_shift(4,L),H.write_shift(1,ce[C]||s[G[C]]||0),H.write_shift(1,re[C]||0),H.write_shift(1,2),H.write_shift(4,0),H.write_shift(1,0),H.write_shift(4,0),H.write_shift(4,0),L+=ce[C]||s[G[C]]||0}var ne=x.next(264);for(ne.write_shift(4,13),C=0;C<65;++C)ne.write_shift(4,0);for(C=0;C<E.length;++C){var pe=x.next(W);for(pe.write_shift(1,0),L=0;L<A.length;++L)if(A[L]!=null)switch(G[L]){case"L":pe.write_shift(1,E[C][L]==null?63:E[C][L]?84:70);break;case"B":pe.write_shift(8,E[C][L]||0,"f");break;case"N":var Ae="0";for(typeof E[C][L]=="number"&&(Ae=E[C][L].toFixed(re[L]||0)),j=0;j<ce[L]-Ae.length;++j)pe.write_shift(1,32);pe.write_shift(1,Ae,"sbcs");break;case"D":E[C][L]?(pe.write_shift(4,("0000"+E[C][L].getFullYear()).slice(-4),"sbcs"),pe.write_shift(2,("00"+(E[C][L].getMonth()+1)).slice(-2),"sbcs"),pe.write_shift(2,("00"+E[C][L].getDate()).slice(-2),"sbcs")):pe.write_shift(8,"00000000","sbcs");break;case"C":var xe=String(E[C][L]!=null?E[C][L]:"").slice(0,ce[L]);for(pe.write_shift(1,xe,"sbcs"),j=0;j<ce[L]-xe.length;++j)pe.write_shift(1,32);break}}return x.next(1).write_shift(1,26),x.end()}return{to_workbook:i,to_sheet:r,from_sheet:o}})(),MZ=(function(){var n={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+po(n).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),t=function(A,E){var I=n[E];return typeof I=="number"?qT(I):I},r=function(A,E,I){var C=E.charCodeAt(0)-32<<4|I.charCodeAt(0)-48;return C==59?A:qT(C)};n["|"]=254;function i(A,E){switch(E.type){case"base64":return s(Wu(A),E);case"binary":return s(A,E);case"buffer":return s(gi&&Buffer.isBuffer(A)?A.toString("binary"):jm(A),E);case"array":return s(fx(A),E)}throw new Error("Unrecognized type "+E.type)}function s(A,E){var I=A.split(/[\n\r]+/),C=-1,L=-1,j=0,W=0,M=[],G=[],ce=null,re={},F=[],B=[],D=[],Z=0,U;for(+E.codepage>=0&&hm(+E.codepage);j!==I.length;++j){Z=0;var H=I[j].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,r).replace(e,t),X=H.replace(/;;/g,"\0").split(";").map(function(oe){return oe.replace(/\u0000/g,";")}),ne=X[0],pe;if(H.length>0)switch(ne){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":X[1].charAt(0)=="P"&&G.push(H.slice(3).replace(/;;/g,";"));break;case"C":var Ae=!1,xe=!1,Re=!1,He=!1,ze=-1,ve=-1;for(W=1;W<X.length;++W)switch(X[W].charAt(0)){case"A":break;case"X":L=parseInt(X[W].slice(1))-1,xe=!0;break;case"Y":for(C=parseInt(X[W].slice(1))-1,xe||(L=0),U=M.length;U<=C;++U)M[U]=[];break;case"K":pe=X[W].slice(1),pe.charAt(0)==='"'?pe=pe.slice(1,pe.length-1):pe==="TRUE"?pe=!0:pe==="FALSE"?pe=!1:isNaN(Fu(pe))?isNaN(dm(pe).getDate())||(pe=Xo(pe)):(pe=Fu(pe),ce!==null&&MR(ce)&&(pe=BR(pe))),Ae=!0;break;case"E":He=!0;var q=DQ(X[W].slice(1),{r:C,c:L});M[C][L]=[M[C][L],q];break;case"S":Re=!0,M[C][L]=[M[C][L],"S5S"];break;case"G":break;case"R":ze=parseInt(X[W].slice(1))-1;break;case"C":ve=parseInt(X[W].slice(1))-1;break;default:if(E&&E.WTF)throw new Error("SYLK bad record "+H)}if(Ae&&(M[C][L]&&M[C][L].length==2?M[C][L][0]=pe:M[C][L]=pe,ce=null),Re){if(He)throw new Error("SYLK shared formula cannot have own formula");var J=ze>-1&&M[ze][ve];if(!J||!J[1])throw new Error("SYLK shared formula cannot find base");M[C][L][1]=LQ(J[1],{r:C-ze,c:L-ve})}break;case"F":var Q=0;for(W=1;W<X.length;++W)switch(X[W].charAt(0)){case"X":L=parseInt(X[W].slice(1))-1,++Q;break;case"Y":for(C=parseInt(X[W].slice(1))-1,U=M.length;U<=C;++U)M[U]=[];break;case"M":Z=parseInt(X[W].slice(1))/20;break;case"F":break;case"G":break;case"P":ce=G[parseInt(X[W].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(D=X[W].slice(1).split(" "),U=parseInt(D[0],10);U<=parseInt(D[1],10);++U)Z=parseInt(D[2],10),B[U-1]=Z===0?{hidden:!0}:{wch:Z},Y5(B[U-1]);break;case"C":L=parseInt(X[W].slice(1))-1,B[L]||(B[L]={});break;case"R":C=parseInt(X[W].slice(1))-1,F[C]||(F[C]={}),Z>0?(F[C].hpt=Z,F[C].hpx=T7(Z)):Z===0&&(F[C].hidden=!0);break;default:if(E&&E.WTF)throw new Error("SYLK bad record "+H)}Q<1&&(ce=null);break;default:if(E&&E.WTF)throw new Error("SYLK bad record "+H)}}return F.length>0&&(re["!rows"]=F),B.length>0&&(re["!cols"]=B),E&&E.sheetRows&&(M=M.slice(0,E.sheetRows)),[M,re]}function o(A,E){var I=i(A,E),C=I[0],L=I[1],j=F0(C,E);return po(L).forEach(function(W){j[W]=L[W]}),j}function u(A,E){return Jf(o(A,E),E)}function f(A,E,I,C){var L="C;Y"+(I+1)+";X"+(C+1)+";K";switch(A.t){case"n":L+=A.v||0,A.f&&!A.F&&(L+=";E"+$5(A.f,{r:I,c:C}));break;case"b":L+=A.v?"TRUE":"FALSE";break;case"e":L+=A.w||A.v;break;case"d":L+='"'+(A.w||A.v)+'"';break;case"s":L+='"'+A.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return L}function d(A,E){E.forEach(function(I,C){var L="F;W"+(C+1)+" "+(C+1)+" ";I.hidden?L+="0":(typeof I.width=="number"&&!I.wpx&&(I.wpx=_2(I.width)),typeof I.wpx=="number"&&!I.wch&&(I.wch=y2(I.wpx)),typeof I.wch=="number"&&(L+=Math.round(I.wch))),L.charAt(L.length-1)!=" "&&A.push(L)})}function x(A,E){E.forEach(function(I,C){var L="F;";I.hidden?L+="M0;":I.hpt?L+="M"+20*I.hpt+";":I.hpx&&(L+="M"+20*w2(I.hpx)+";"),L.length>2&&A.push(L+"R"+(C+1))})}function w(A,E){var I=["ID;PWXL;N;E"],C=[],L=ss(A["!ref"]),j,W=Array.isArray(A),M=`\r
`;I.push("P;PGeneral"),I.push("F;P0;DG0G8;M255"),A["!cols"]&&d(I,A["!cols"]),A["!rows"]&&x(I,A["!rows"]),I.push("B;Y"+(L.e.r-L.s.r+1)+";X"+(L.e.c-L.s.c+1)+";D"+[L.s.c,L.s.r,L.e.c,L.e.r].join(" "));for(var G=L.s.r;G<=L.e.r;++G)for(var ce=L.s.c;ce<=L.e.c;++ce){var re=Ti({r:G,c:ce});j=W?(A[G]||[])[ce]:A[re],!(!j||j.v==null&&(!j.f||j.F))&&C.push(f(j,A,G,ce))}return I.join(M)+M+C.join(M)+M+"E"+M}return{to_workbook:u,to_sheet:o,from_sheet:w}})(),PZ=(function(){function n(s,o){switch(o.type){case"base64":return e(Wu(s),o);case"binary":return e(s,o);case"buffer":return e(gi&&Buffer.isBuffer(s)?s.toString("binary"):jm(s),o);case"array":return e(fx(s),o)}throw new Error("Unrecognized type "+o.type)}function e(s,o){for(var u=s.split(`
`),f=-1,d=-1,x=0,w=[];x!==u.length;++x){if(u[x].trim()==="BOT"){w[++f]=[],d=0;continue}if(!(f<0)){var A=u[x].trim().split(","),E=A[0],I=A[1];++x;for(var C=u[x]||"";(C.match(/["]/g)||[]).length&1&&x<u.length-1;)C+=`
`+u[++x];switch(C=C.trim(),+E){case-1:if(C==="BOT"){w[++f]=[],d=0;continue}else if(C!=="EOD")throw new Error("Unrecognized DIF special command "+C);break;case 0:C==="TRUE"?w[f][d]=!0:C==="FALSE"?w[f][d]=!1:isNaN(Fu(I))?isNaN(dm(I).getDate())?w[f][d]=I:w[f][d]=Xo(I):w[f][d]=Fu(I),++d;break;case 1:C=C.slice(1,C.length-1),C=C.replace(/""/g,'"'),C&&C.match(/^=".*"$/)&&(C=C.slice(2,-1)),w[f][d++]=C!==""?C:null;break}if(C==="EOD")break}}return o&&o.sheetRows&&(w=w.slice(0,o.sheetRows)),w}function t(s,o){return F0(n(s,o),o)}function r(s,o){return Jf(t(s,o),o)}var i=(function(){var s=function(f,d,x,w,A){f.push(d),f.push(x+","+w),f.push('"'+A.replace(/"/g,'""')+'"')},o=function(f,d,x,w){f.push(d+","+x),f.push(d==1?'"'+w.replace(/"/g,'""')+'"':w)};return function(f){var d=[],x=ss(f["!ref"]),w,A=Array.isArray(f);s(d,"TABLE",0,1,"sheetjs"),s(d,"VECTORS",0,x.e.r-x.s.r+1,""),s(d,"TUPLES",0,x.e.c-x.s.c+1,""),s(d,"DATA",0,0,"");for(var E=x.s.r;E<=x.e.r;++E){o(d,-1,0,"BOT");for(var I=x.s.c;I<=x.e.c;++I){var C=Ti({r:E,c:I});if(w=A?(f[E]||[])[I]:f[C],!w){o(d,1,0,"");continue}switch(w.t){case"n":var L=w.w;!L&&w.v!=null&&(L=w.v),L==null?w.f&&!w.F?o(d,1,0,"="+w.f):o(d,1,0,""):o(d,0,L,"V");break;case"b":o(d,0,w.v?1:0,w.v?"TRUE":"FALSE");break;case"s":o(d,1,0,isNaN(w.v)?w.v:'="'+w.v+'"');break;case"d":w.w||(w.w=Xh(w.z||js[14],ml(Xo(w.v)))),o(d,0,w.w,"V");break;default:o(d,1,0,"")}}}o(d,-1,0,"EOD");var j=`\r
`,W=d.join(j);return W}})();return{to_workbook:r,to_sheet:t,from_sheet:i}})(),b7=(function(){function n(w){return w.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(w){return w.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function t(w,A){for(var E=w.split(`
`),I=-1,C=-1,L=0,j=[];L!==E.length;++L){var W=E[L].trim().split(":");if(W[0]==="cell"){var M=Ka(W[1]);if(j.length<=M.r)for(I=j.length;I<=M.r;++I)j[I]||(j[I]=[]);switch(I=M.r,C=M.c,W[2]){case"t":j[I][C]=n(W[3]);break;case"v":j[I][C]=+W[3];break;case"vtf":var G=W[W.length-1];case"vtc":switch(W[3]){case"nl":j[I][C]=!!+W[4];break;default:j[I][C]=+W[4];break}W[2]=="vtf"&&(j[I][C]=[j[I][C],G])}}}return A&&A.sheetRows&&(j=j.slice(0,A.sheetRows)),j}function r(w,A){return F0(t(w,A),A)}function i(w,A){return Jf(r(w,A),A)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,u=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),f="--SocialCalcSpreadsheetControlSave--";function d(w){if(!w||!w["!ref"])return"";for(var A=[],E=[],I,C="",L=Fl(w["!ref"]),j=Array.isArray(w),W=L.s.r;W<=L.e.r;++W)for(var M=L.s.c;M<=L.e.c;++M)if(C=Ti({r:W,c:M}),I=j?(w[W]||[])[M]:w[C],!(!I||I.v==null||I.t==="z")){switch(E=["cell",C,"t"],I.t){case"s":case"str":E.push(e(I.v));break;case"n":I.f?(E[2]="vtf",E[3]="n",E[4]=I.v,E[5]=e(I.f)):(E[2]="v",E[3]=I.v);break;case"b":E[2]="vt"+(I.f?"f":"c"),E[3]="nl",E[4]=I.v?"1":"0",E[5]=e(I.f||(I.v?"TRUE":"FALSE"));break;case"d":var G=ml(Xo(I.v));E[2]="vtc",E[3]="nd",E[4]=""+G,E[5]=I.w||Xh(I.z||js[14],G);break;case"e":continue}A.push(E.join(":"))}return A.push("sheet:c:"+(L.e.c-L.s.c+1)+":r:"+(L.e.r-L.s.r+1)+":tvf:1"),A.push("valueformat:1:text-wiki"),A.join(`
`)}function x(w){return[s,o,u,o,d(w),f].join(`
`)}return{to_workbook:i,to_sheet:r,from_sheet:x}})(),jZ=(function(){function n(x,w,A,E,I){I.raw?w[A][E]=x:x===""||(x==="TRUE"?w[A][E]=!0:x==="FALSE"?w[A][E]=!1:isNaN(Fu(x))?isNaN(dm(x).getDate())?w[A][E]=x:w[A][E]=Xo(x):w[A][E]=Fu(x))}function e(x,w){var A=w||{},E=[];if(!x||x.length===0)return E;for(var I=x.split(/[\r\n]/),C=I.length-1;C>=0&&I[C].length===0;)--C;for(var L=10,j=0,W=0;W<=C;++W)j=I[W].indexOf(" "),j==-1?j=I[W].length:j++,L=Math.max(L,j);for(W=0;W<=C;++W){E[W]=[];var M=0;for(n(I[W].slice(0,L).trim(),E,W,M,A),M=1;M<=(I[W].length-L)/10+1;++M)n(I[W].slice(L+(M-1)*10,L+M*10).trim(),E,W,M,A)}return A.sheetRows&&(E=E.slice(0,A.sheetRows)),E}var t={44:",",9:"	",59:";",124:"|"},r={44:3,9:2,59:1,124:0};function i(x){for(var w={},A=!1,E=0,I=0;E<x.length;++E)(I=x.charCodeAt(E))==34?A=!A:!A&&I in t&&(w[I]=(w[I]||0)+1);I=[];for(E in w)Object.prototype.hasOwnProperty.call(w,E)&&I.push([w[E],E]);if(!I.length){w=r;for(E in w)Object.prototype.hasOwnProperty.call(w,E)&&I.push([w[E],E])}return I.sort(function(C,L){return C[0]-L[0]||r[C[1]]-r[L[1]]}),t[I.pop()[1]]||44}function s(x,w){var A=w||{},E="",I=A.dense?[]:{},C={s:{c:0,r:0},e:{c:0,r:0}};x.slice(0,4)=="sep="?x.charCodeAt(5)==13&&x.charCodeAt(6)==10?(E=x.charAt(4),x=x.slice(7)):x.charCodeAt(5)==13||x.charCodeAt(5)==10?(E=x.charAt(4),x=x.slice(6)):E=i(x.slice(0,1024)):A&&A.FS?E=A.FS:E=i(x.slice(0,1024));var L=0,j=0,W=0,M=0,G=0,ce=E.charCodeAt(0),re=!1,F=0,B=x.charCodeAt(0);x=x.replace(/\r\n/mg,`
`);var D=A.dateNF!=null?JK(A.dateNF):null;function Z(){var U=x.slice(M,G),H={};if(U.charAt(0)=='"'&&U.charAt(U.length-1)=='"'&&(U=U.slice(1,-1).replace(/""/g,'"')),U.length===0)H.t="z";else if(A.raw)H.t="s",H.v=U;else if(U.trim().length===0)H.t="s",H.v=U;else if(U.charCodeAt(0)==61)U.charCodeAt(1)==34&&U.charCodeAt(U.length-1)==34?(H.t="s",H.v=U.slice(2,-1).replace(/""/g,'"')):MQ(U)?(H.t="n",H.f=U.slice(1)):(H.t="s",H.v=U);else if(U=="TRUE")H.t="b",H.v=!0;else if(U=="FALSE")H.t="b",H.v=!1;else if(!isNaN(W=Fu(U)))H.t="n",A.cellText!==!1&&(H.w=U),H.v=W;else if(!isNaN(dm(U).getDate())||D&&U.match(D)){H.z=A.dateNF||js[14];var X=0;D&&U.match(D)&&(U=e$(U,A.dateNF,U.match(D)||[]),X=1),A.cellDates?(H.t="d",H.v=Xo(U,X)):(H.t="n",H.v=ml(Xo(U,X))),A.cellText!==!1&&(H.w=Xh(H.z,H.v instanceof Date?ml(H.v):H.v)),A.cellNF||delete H.z}else H.t="s",H.v=U;if(H.t=="z"||(A.dense?(I[L]||(I[L]=[]),I[L][j]=H):I[Ti({c:j,r:L})]=H),M=G+1,B=x.charCodeAt(M),C.e.c<j&&(C.e.c=j),C.e.r<L&&(C.e.r=L),F==ce)++j;else if(j=0,++L,A.sheetRows&&A.sheetRows<=L)return!0}e:for(;G<x.length;++G)switch(F=x.charCodeAt(G)){case 34:B===34&&(re=!re);break;case ce:case 10:case 13:if(!re&&Z())break e;break}return G-M>0&&Z(),I["!ref"]=ma(C),I}function o(x,w){return!(w&&w.PRN)||w.FS||x.slice(0,4)=="sep="||x.indexOf("	")>=0||x.indexOf(",")>=0||x.indexOf(";")>=0?s(x,w):F0(e(x,w),w)}function u(x,w){var A="",E=w.type=="string"?[0,0,0,0]:Kne(x,w);switch(w.type){case"base64":A=Wu(x);break;case"binary":A=x;break;case"buffer":w.codepage==65001?A=x.toString("utf8"):w.codepage&&typeof u2<"u"||(A=gi&&Buffer.isBuffer(x)?x.toString("binary"):jm(x));break;case"array":A=fx(x);break;case"string":A=x;break;default:throw new Error("Unrecognized type "+w.type)}return E[0]==239&&E[1]==187&&E[2]==191?A=Y1(A.slice(3)):w.type!="string"&&w.type!="buffer"&&w.codepage==65001?A=Y1(A):w.type=="binary"&&typeof u2<"u",A.slice(0,19)=="socialcalc:version:"?b7.to_sheet(w.type=="string"?A:Y1(A),w):o(A,w)}function f(x,w){return Jf(u(x,w),w)}function d(x){for(var w=[],A=ss(x["!ref"]),E,I=Array.isArray(x),C=A.s.r;C<=A.e.r;++C){for(var L=[],j=A.s.c;j<=A.e.c;++j){var W=Ti({r:C,c:j});if(E=I?(x[C]||[])[j]:x[W],!E||E.v==null){L.push("          ");continue}for(var M=(E.w||(Xu(E),E.w)||"").slice(0,10);M.length<10;)M+=" ";L.push(M+(j===0?" ":""))}w.push(L.join(""))}return w.join(`
`)}return{to_workbook:f,to_sheet:u,from_sheet:d}})(),w6=(function(){function n(q,J,Q){if(q){Nl(q,q.l||0);for(var oe=Q.Enum||ze;q.l<q.length;){var de=q.read_shift(2),De=oe[de]||oe[65535],Ve=q.read_shift(2),Fe=q.l+Ve,Ie=De.f&&De.f(q,Ve,Q);if(q.l=Fe,J(Ie,De,de))return}}}function e(q,J){switch(J.type){case"base64":return t(mc(Wu(q)),J);case"binary":return t(mc(q),J);case"buffer":case"array":return t(q,J)}throw"Unsupported type "+J.type}function t(q,J){if(!q)return q;var Q=J||{},oe=Q.dense?[]:{},de="Sheet1",De="",Ve=0,Fe={},Ie=[],Qe=[],St={s:{r:0,c:0},e:{r:0,c:0}},Tt=Q.sheetRows||0;if(q[2]==0&&(q[3]==8||q[3]==9)&&q.length>=16&&q[14]==5&&q[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(q[2]==2)Q.Enum=ze,n(q,function(pt,zt,tt){switch(tt){case 0:Q.vers=pt,pt>=4096&&(Q.qpro=!0);break;case 6:St=pt;break;case 204:pt&&(De=pt);break;case 222:De=pt;break;case 15:case 51:Q.qpro||(pt[1].v=pt[1].v.slice(1));case 13:case 14:case 16:tt==14&&(pt[2]&112)==112&&(pt[2]&15)>1&&(pt[2]&15)<15&&(pt[1].z=Q.dateNF||js[14],Q.cellDates&&(pt[1].t="d",pt[1].v=BR(pt[1].v))),Q.qpro&&pt[3]>Ve&&(oe["!ref"]=ma(St),Fe[de]=oe,Ie.push(de),oe=Q.dense?[]:{},St={s:{r:0,c:0},e:{r:0,c:0}},Ve=pt[3],de=De||"Sheet"+(Ve+1),De="");var tn=Q.dense?(oe[pt[0].r]||[])[pt[0].c]:oe[Ti(pt[0])];if(tn){tn.t=pt[1].t,tn.v=pt[1].v,pt[1].z!=null&&(tn.z=pt[1].z),pt[1].f!=null&&(tn.f=pt[1].f);break}Q.dense?(oe[pt[0].r]||(oe[pt[0].r]=[]),oe[pt[0].r][pt[0].c]=pt[1]):oe[Ti(pt[0])]=pt[1];break}},Q);else if(q[2]==26||q[2]==14)Q.Enum=ve,q[2]==14&&(Q.qpro=!0,q.l=0),n(q,function(pt,zt,tt){switch(tt){case 204:de=pt;break;case 22:pt[1].v=pt[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(pt[3]>Ve&&(oe["!ref"]=ma(St),Fe[de]=oe,Ie.push(de),oe=Q.dense?[]:{},St={s:{r:0,c:0},e:{r:0,c:0}},Ve=pt[3],de="Sheet"+(Ve+1)),Tt>0&&pt[0].r>=Tt)break;Q.dense?(oe[pt[0].r]||(oe[pt[0].r]=[]),oe[pt[0].r][pt[0].c]=pt[1]):oe[Ti(pt[0])]=pt[1],St.e.c<pt[0].c&&(St.e.c=pt[0].c),St.e.r<pt[0].r&&(St.e.r=pt[0].r);break;case 27:pt[14e3]&&(Qe[pt[14e3][0]]=pt[14e3][1]);break;case 1537:Qe[pt[0]]=pt[1],pt[0]==Ve&&(de=pt[1]);break}},Q);else throw new Error("Unrecognized LOTUS BOF "+q[2]);if(oe["!ref"]=ma(St),Fe[De||de]=oe,Ie.push(De||de),!Qe.length)return{SheetNames:Ie,Sheets:Fe};for(var Rt={},le=[],ot=0;ot<Qe.length;++ot)Fe[Ie[ot]]?(le.push(Qe[ot]||Ie[ot]),Rt[Qe[ot]]=Fe[Qe[ot]]||Fe[Ie[ot]]):(le.push(Qe[ot]),Rt[Qe[ot]]={"!ref":"A1"});return{SheetNames:le,Sheets:Rt}}function r(q,J){var Q=J||{};if(+Q.codepage>=0&&hm(+Q.codepage),Q.type=="string")throw new Error("Cannot write WK1 to JS string");var oe=dl(),de=ss(q["!ref"]),De=Array.isArray(q),Ve=[];_n(oe,0,s(1030)),_n(oe,6,f(de));for(var Fe=Math.min(de.e.r,8191),Ie=de.s.r;Ie<=Fe;++Ie)for(var Qe=go(Ie),St=de.s.c;St<=de.e.c;++St){Ie===de.s.r&&(Ve[St]=Oo(St));var Tt=Ve[St]+Qe,Rt=De?(q[Ie]||[])[St]:q[Tt];if(!(!Rt||Rt.t=="z"))if(Rt.t=="n")(Rt.v|0)==Rt.v&&Rt.v>=-32768&&Rt.v<=32767?_n(oe,13,E(Ie,St,Rt.v)):_n(oe,14,C(Ie,St,Rt.v));else{var le=Xu(Rt);_n(oe,15,w(Ie,St,le.slice(0,239)))}}return _n(oe,1),oe.end()}function i(q,J){var Q=J||{};if(+Q.codepage>=0&&hm(+Q.codepage),Q.type=="string")throw new Error("Cannot write WK3 to JS string");var oe=dl();_n(oe,0,o(q));for(var de=0,De=0;de<q.SheetNames.length;++de)(q.Sheets[q.SheetNames[de]]||{})["!ref"]&&_n(oe,27,He(q.SheetNames[de],De++));var Ve=0;for(de=0;de<q.SheetNames.length;++de){var Fe=q.Sheets[q.SheetNames[de]];if(!(!Fe||!Fe["!ref"])){for(var Ie=ss(Fe["!ref"]),Qe=Array.isArray(Fe),St=[],Tt=Math.min(Ie.e.r,8191),Rt=Ie.s.r;Rt<=Tt;++Rt)for(var le=go(Rt),ot=Ie.s.c;ot<=Ie.e.c;++ot){Rt===Ie.s.r&&(St[ot]=Oo(ot));var pt=St[ot]+le,zt=Qe?(Fe[Rt]||[])[ot]:Fe[pt];if(!(!zt||zt.t=="z"))if(zt.t=="n")_n(oe,23,Z(Rt,ot,Ve,zt.v));else{var tt=Xu(zt);_n(oe,22,F(Rt,ot,Ve,tt.slice(0,239)))}}++Ve}}return _n(oe,1),oe.end()}function s(q){var J=Ft(2);return J.write_shift(2,q),J}function o(q){var J=Ft(26);J.write_shift(2,4096),J.write_shift(2,4),J.write_shift(4,0);for(var Q=0,oe=0,de=0,De=0;De<q.SheetNames.length;++De){var Ve=q.SheetNames[De],Fe=q.Sheets[Ve];if(!(!Fe||!Fe["!ref"])){++de;var Ie=Fl(Fe["!ref"]);Q<Ie.e.r&&(Q=Ie.e.r),oe<Ie.e.c&&(oe=Ie.e.c)}}return Q>8191&&(Q=8191),J.write_shift(2,Q),J.write_shift(1,de),J.write_shift(1,oe),J.write_shift(2,0),J.write_shift(2,0),J.write_shift(1,1),J.write_shift(1,2),J.write_shift(4,0),J.write_shift(4,0),J}function u(q,J,Q){var oe={s:{c:0,r:0},e:{c:0,r:0}};return J==8&&Q.qpro?(oe.s.c=q.read_shift(1),q.l++,oe.s.r=q.read_shift(2),oe.e.c=q.read_shift(1),q.l++,oe.e.r=q.read_shift(2),oe):(oe.s.c=q.read_shift(2),oe.s.r=q.read_shift(2),J==12&&Q.qpro&&(q.l+=2),oe.e.c=q.read_shift(2),oe.e.r=q.read_shift(2),J==12&&Q.qpro&&(q.l+=2),oe.s.c==65535&&(oe.s.c=oe.e.c=oe.s.r=oe.e.r=0),oe)}function f(q){var J=Ft(8);return J.write_shift(2,q.s.c),J.write_shift(2,q.s.r),J.write_shift(2,q.e.c),J.write_shift(2,q.e.r),J}function d(q,J,Q){var oe=[{c:0,r:0},{t:"n",v:0},0,0];return Q.qpro&&Q.vers!=20768?(oe[0].c=q.read_shift(1),oe[3]=q.read_shift(1),oe[0].r=q.read_shift(2),q.l+=2):(oe[2]=q.read_shift(1),oe[0].c=q.read_shift(2),oe[0].r=q.read_shift(2)),oe}function x(q,J,Q){var oe=q.l+J,de=d(q,J,Q);if(de[1].t="s",Q.vers==20768){q.l++;var De=q.read_shift(1);return de[1].v=q.read_shift(De,"utf8"),de}return Q.qpro&&q.l++,de[1].v=q.read_shift(oe-q.l,"cstr"),de}function w(q,J,Q){var oe=Ft(7+Q.length);oe.write_shift(1,255),oe.write_shift(2,J),oe.write_shift(2,q),oe.write_shift(1,39);for(var de=0;de<oe.length;++de){var De=Q.charCodeAt(de);oe.write_shift(1,De>=128?95:De)}return oe.write_shift(1,0),oe}function A(q,J,Q){var oe=d(q,J,Q);return oe[1].v=q.read_shift(2,"i"),oe}function E(q,J,Q){var oe=Ft(7);return oe.write_shift(1,255),oe.write_shift(2,J),oe.write_shift(2,q),oe.write_shift(2,Q,"i"),oe}function I(q,J,Q){var oe=d(q,J,Q);return oe[1].v=q.read_shift(8,"f"),oe}function C(q,J,Q){var oe=Ft(13);return oe.write_shift(1,255),oe.write_shift(2,J),oe.write_shift(2,q),oe.write_shift(8,Q,"f"),oe}function L(q,J,Q){var oe=q.l+J,de=d(q,J,Q);if(de[1].v=q.read_shift(8,"f"),Q.qpro)q.l=oe;else{var De=q.read_shift(2);G(q.slice(q.l,q.l+De),de),q.l+=De}return de}function j(q,J,Q){var oe=J&32768;return J&=-32769,J=(oe?q:0)+(J>=8192?J-16384:J),(oe?"":"$")+(Q?Oo(J):go(J))}var W={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},M=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function G(q,J){Nl(q,0);for(var Q=[],oe=0,de="",De="",Ve="",Fe="";q.l<q.length;){var Ie=q[q.l++];switch(Ie){case 0:Q.push(q.read_shift(8,"f"));break;case 1:De=j(J[0].c,q.read_shift(2),!0),de=j(J[0].r,q.read_shift(2),!1),Q.push(De+de);break;case 2:{var Qe=j(J[0].c,q.read_shift(2),!0),St=j(J[0].r,q.read_shift(2),!1);De=j(J[0].c,q.read_shift(2),!0),de=j(J[0].r,q.read_shift(2),!1),Q.push(Qe+St+":"+De+de)}break;case 3:if(q.l<q.length){console.error("WK1 premature formula end");return}break;case 4:Q.push("("+Q.pop()+")");break;case 5:Q.push(q.read_shift(2));break;case 6:{for(var Tt="";Ie=q[q.l++];)Tt+=String.fromCharCode(Ie);Q.push('"'+Tt.replace(/"/g,'""')+'"')}break;case 8:Q.push("-"+Q.pop());break;case 23:Q.push("+"+Q.pop());break;case 22:Q.push("NOT("+Q.pop()+")");break;case 20:case 21:Fe=Q.pop(),Ve=Q.pop(),Q.push(["AND","OR"][Ie-20]+"("+Ve+","+Fe+")");break;default:if(Ie<32&&M[Ie])Fe=Q.pop(),Ve=Q.pop(),Q.push(Ve+M[Ie]+Fe);else if(W[Ie]){if(oe=W[Ie][1],oe==69&&(oe=q[q.l++]),oe>Q.length){console.error("WK1 bad formula parse 0x"+Ie.toString(16)+":|"+Q.join("|")+"|");return}var Rt=Q.slice(-oe);Q.length-=oe,Q.push(W[Ie][0]+"("+Rt.join(",")+")")}else return Ie<=7?console.error("WK1 invalid opcode "+Ie.toString(16)):Ie<=24?console.error("WK1 unsupported op "+Ie.toString(16)):Ie<=30?console.error("WK1 invalid opcode "+Ie.toString(16)):Ie<=115?console.error("WK1 unsupported function opcode "+Ie.toString(16)):console.error("WK1 unrecognized opcode "+Ie.toString(16))}}Q.length==1?J[1].f=""+Q[0]:console.error("WK1 bad formula parse |"+Q.join("|")+"|")}function ce(q){var J=[{c:0,r:0},{t:"n",v:0},0];return J[0].r=q.read_shift(2),J[3]=q[q.l++],J[0].c=q[q.l++],J}function re(q,J){var Q=ce(q);return Q[1].t="s",Q[1].v=q.read_shift(J-4,"cstr"),Q}function F(q,J,Q,oe){var de=Ft(6+oe.length);de.write_shift(2,q),de.write_shift(1,Q),de.write_shift(1,J),de.write_shift(1,39);for(var De=0;De<oe.length;++De){var Ve=oe.charCodeAt(De);de.write_shift(1,Ve>=128?95:Ve)}return de.write_shift(1,0),de}function B(q,J){var Q=ce(q);Q[1].v=q.read_shift(2);var oe=Q[1].v>>1;if(Q[1].v&1)switch(oe&7){case 0:oe=(oe>>3)*5e3;break;case 1:oe=(oe>>3)*500;break;case 2:oe=(oe>>3)/20;break;case 3:oe=(oe>>3)/200;break;case 4:oe=(oe>>3)/2e3;break;case 5:oe=(oe>>3)/2e4;break;case 6:oe=(oe>>3)/16;break;case 7:oe=(oe>>3)/64;break}return Q[1].v=oe,Q}function D(q,J){var Q=ce(q),oe=q.read_shift(4),de=q.read_shift(4),De=q.read_shift(2);if(De==65535)return oe===0&&de===3221225472?(Q[1].t="e",Q[1].v=15):oe===0&&de===3489660928?(Q[1].t="e",Q[1].v=42):Q[1].v=0,Q;var Ve=De&32768;return De=(De&32767)-16446,Q[1].v=(1-Ve*2)*(de*Math.pow(2,De+32)+oe*Math.pow(2,De)),Q}function Z(q,J,Q,oe){var de=Ft(14);if(de.write_shift(2,q),de.write_shift(1,Q),de.write_shift(1,J),oe==0)return de.write_shift(4,0),de.write_shift(4,0),de.write_shift(2,65535),de;var De=0,Ve=0,Fe=0,Ie=0;return oe<0&&(De=1,oe=-oe),Ve=Math.log2(oe)|0,oe/=Math.pow(2,Ve-31),Ie=oe>>>0,(Ie&2147483648)==0&&(oe/=2,++Ve,Ie=oe>>>0),oe-=Ie,Ie|=2147483648,Ie>>>=0,oe*=Math.pow(2,32),Fe=oe>>>0,de.write_shift(4,Fe),de.write_shift(4,Ie),Ve+=16383+(De?32768:0),de.write_shift(2,Ve),de}function U(q,J){var Q=D(q);return q.l+=J-14,Q}function H(q,J){var Q=ce(q),oe=q.read_shift(4);return Q[1].v=oe>>6,Q}function X(q,J){var Q=ce(q),oe=q.read_shift(8,"f");return Q[1].v=oe,Q}function ne(q,J){var Q=X(q);return q.l+=J-10,Q}function pe(q,J){return q[q.l+J-1]==0?q.read_shift(J,"cstr"):""}function Ae(q,J){var Q=q[q.l++];Q>J-1&&(Q=J-1);for(var oe="";oe.length<Q;)oe+=String.fromCharCode(q[q.l++]);return oe}function xe(q,J,Q){if(!(!Q.qpro||J<21)){var oe=q.read_shift(1);q.l+=17,q.l+=1,q.l+=2;var de=q.read_shift(J-21,"cstr");return[oe,de]}}function Re(q,J){for(var Q={},oe=q.l+J;q.l<oe;){var de=q.read_shift(2);if(de==14e3){for(Q[de]=[0,""],Q[de][0]=q.read_shift(2);q[q.l];)Q[de][1]+=String.fromCharCode(q[q.l]),q.l++;q.l++}}return Q}function He(q,J){var Q=Ft(5+q.length);Q.write_shift(2,14e3),Q.write_shift(2,J);for(var oe=0;oe<q.length;++oe){var de=q.charCodeAt(oe);Q[Q.l++]=de>127?95:de}return Q[Q.l++]=0,Q}var ze={0:{n:"BOF",f:x7},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:u},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:A},14:{n:"NUMBER",f:I},15:{n:"LABEL",f:x},16:{n:"FORMULA",f:L},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:x},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:pe},222:{n:"SHEETNAMELP",f:Ae},65535:{n:""}},ve={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:re},23:{n:"NUMBER17",f:D},24:{n:"NUMBER18",f:B},25:{n:"FORMULA19",f:U},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:Re},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:H},38:{n:"??"},39:{n:"NUMBER27",f:X},40:{n:"FORMULA28",f:ne},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:pe},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:xe},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:r,book_to_wk3:i,to_workbook:e}})(),FZ=/^\s|\s$|[\t\n\r]/;function E7(n,e){if(!e.bookSST)return"";var t=[ga];t[t.length]=pn("sst",null,{xmlns:j0[0],count:n.Count,uniqueCount:n.Unique});for(var r=0;r!=n.length;++r)if(n[r]!=null){var i=n[r],s="<si>";i.r?s+=i.r:(s+="<t",i.t||(i.t=""),i.t.match(FZ)&&(s+=' xml:space="preserve"'),s+=">"+Ai(i.t)+"</t>"),s+="</si>",t[t.length]=s}return t.length>2&&(t[t.length]="</sst>",t[1]=t[1].replace("/>",">")),t.join("")}function BZ(n){return[n.read_shift(4),n.read_shift(4)]}function UZ(n,e){return e||(e=Ft(8)),e.write_shift(4,n.Count),e.write_shift(4,n.Unique),e}var VZ=O$;function zZ(n){var e=dl();en(e,159,UZ(n));for(var t=0;t<n.length;++t)en(e,19,VZ(n[t]));return en(e,160),e.end()}function HZ(n){for(var e=[],t=n.split(""),r=0;r<t.length;++r)e[r]=t[r].charCodeAt(0);return e}function A7(n){var e=0,t,r=HZ(n),i=r.length+1,s,o,u,f,d;for(t=Ff(i),t[0]=r.length,s=1;s!=i;++s)t[s]=r[s-1];for(s=i-1;s>=0;--s)o=t[s],u=(e&16384)===0?0:1,f=e<<1&32767,d=u|f,e=d^o;return e^52811}var qZ=(function(){function n(i,s){switch(s.type){case"base64":return e(Wu(i),s);case"binary":return e(i,s);case"buffer":return e(gi&&Buffer.isBuffer(i)?i.toString("binary"):jm(i),s);case"array":return e(fx(i),s)}throw new Error("Unrecognized type "+s.type)}function e(i,s){var o=s||{},u=o.dense?[]:{},f=i.match(/\\trowd.*?\\row\b/g);if(!f.length)throw new Error("RTF missing table");var d={s:{c:0,r:0},e:{c:0,r:f.length-1}};return f.forEach(function(x,w){Array.isArray(u)&&(u[w]=[]);for(var A=/\\\w+\b/g,E=0,I,C=-1;I=A.exec(x);){switch(I[0]){case"\\cell":var L=x.slice(E,A.lastIndex-I[0].length);if(L[0]==" "&&(L=L.slice(1)),++C,L.length){var j={v:L,t:"s"};Array.isArray(u)?u[w][C]=j:u[Ti({r:w,c:C})]=j}break}E=A.lastIndex}C>d.e.c&&(d.e.c=C)}),u["!ref"]=ma(d),u}function t(i,s){return Jf(n(i,s),s)}function r(i){for(var s=["{\\rtf1\\ansi"],o=ss(i["!ref"]),u,f=Array.isArray(i),d=o.s.r;d<=o.e.r;++d){s.push("\\trowd\\trautofit1");for(var x=o.s.c;x<=o.e.c;++x)s.push("\\cellx"+(x+1));for(s.push("\\pard\\intbl"),x=o.s.c;x<=o.e.c;++x){var w=Ti({r:d,c:x});u=f?(i[d]||[])[x]:i[w],!(!u||u.v==null&&(!u.f||u.F))&&(s.push(" "+(u.w||(Xu(u),u.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:t,to_sheet:n,from_sheet:r}})();function b6(n){for(var e=0,t=1;e!=3;++e)t=t*256+(n[e]>255?255:n[e]<0?0:n[e]);return t.toString(16).toUpperCase().slice(1)}var GZ=6,Bu=GZ;function _2(n){return Math.floor((n+Math.round(128/Bu)/256)*Bu)}function y2(n){return Math.floor((n-5)/Bu*100+.5)/100}function nw(n){return Math.round((n*Bu+5)/Bu*256)/256}function Y5(n){n.width?(n.wpx=_2(n.width),n.wch=y2(n.wpx),n.MDW=Bu):n.wpx?(n.wch=y2(n.wpx),n.width=nw(n.wch),n.MDW=Bu):typeof n.wch=="number"&&(n.width=nw(n.wch),n.wpx=_2(n.width),n.MDW=Bu),n.customWidth&&delete n.customWidth}var WZ=96,S7=WZ;function w2(n){return n*96/S7}function T7(n){return n*S7/96}function XZ(n){var e=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(t){for(var r=t[0];r<=t[1];++r)n[r]!=null&&(e[e.length]=pn("numFmt",null,{numFmtId:r,formatCode:Ai(n[r])}))}),e.length===1?"":(e[e.length]="</numFmts>",e[0]=pn("numFmts",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function YZ(n){var e=[];return e[e.length]=pn("cellXfs",null),n.forEach(function(t){e[e.length]=pn("xf",null,t)}),e[e.length]="</cellXfs>",e.length===2?"":(e[0]=pn("cellXfs",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function N7(n,e){var t=[ga,pn("styleSheet",null,{xmlns:j0[0],"xmlns:vt":Ya.vt})],r;return n.SSF&&(r=XZ(n.SSF))!=null&&(t[t.length]=r),t[t.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',t[t.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',t[t.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',t[t.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(r=YZ(e.cellXfs))&&(t[t.length]=r),t[t.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',t[t.length]='<dxfs count="0"/>',t[t.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',t.length>2&&(t[t.length]="</styleSheet>",t[1]=t[1].replace("/>",">")),t.join("")}function KZ(n,e){var t=n.read_shift(2),r=ko(n);return[t,r]}function $Z(n,e,t){t||(t=Ft(6+4*e.length)),t.write_shift(2,n),$a(e,t);var r=t.length>t.l?t.slice(0,t.l):t;return t.l==null&&(t.l=t.length),r}function ZZ(n,e,t){var r={};r.sz=n.read_shift(2)/20;var i=F$(n);i.fItalic&&(r.italic=1),i.fCondense&&(r.condense=1),i.fExtend&&(r.extend=1),i.fShadow&&(r.shadow=1),i.fOutline&&(r.outline=1),i.fStrikeout&&(r.strike=1);var s=n.read_shift(2);switch(s===700&&(r.bold=1),n.read_shift(2)){case 1:r.vertAlign="superscript";break;case 2:r.vertAlign="subscript";break}var o=n.read_shift(1);o!=0&&(r.underline=o);var u=n.read_shift(1);u>0&&(r.family=u);var f=n.read_shift(1);switch(f>0&&(r.charset=f),n.l++,r.color=j$(n),n.read_shift(1)){case 1:r.scheme="major";break;case 2:r.scheme="minor";break}return r.name=ko(n),r}function QZ(n,e){e||(e=Ft(153)),e.write_shift(2,n.sz*20),B$(n,e),e.write_shift(2,n.bold?700:400);var t=0;n.vertAlign=="superscript"?t=1:n.vertAlign=="subscript"&&(t=2),e.write_shift(2,t),e.write_shift(1,n.underline||0),e.write_shift(1,n.family||0),e.write_shift(1,n.charset||0),e.write_shift(1,0),x2(n.color,e);var r=0;return r=2,e.write_shift(1,r),$a(n.name,e),e.length>e.l?e.slice(0,e.l):e}var JZ=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],ey,eQ=iu;function E6(n,e){e||(e=Ft(84)),ey||(ey=P5(JZ));var t=ey[n.patternType];t==null&&(t=40),e.write_shift(4,t);var r=0;if(t!=40)for(x2({auto:1},e),x2({auto:1},e);r<12;++r)e.write_shift(4,0);else{for(;r<4;++r)e.write_shift(4,0);for(;r<12;++r)e.write_shift(4,0)}return e.length>e.l?e.slice(0,e.l):e}function tQ(n,e){var t=n.l+e,r=n.read_shift(2),i=n.read_shift(2);return n.l=t,{ixfe:r,numFmtId:i}}function C7(n,e,t){t||(t=Ft(16)),t.write_shift(2,e||0),t.write_shift(2,n.numFmtId||0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);var r=0;return t.write_shift(1,r),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(1,0),t}function C1(n,e){return e||(e=Ft(10)),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(4,0),e}var nQ=iu;function rQ(n,e){return e||(e=Ft(51)),e.write_shift(1,0),C1(null,e),C1(null,e),C1(null,e),C1(null,e),C1(null,e),e.length>e.l?e.slice(0,e.l):e}function iQ(n,e){return e||(e=Ft(52)),e.write_shift(4,n.xfId),e.write_shift(2,1),e.write_shift(1,0),e.write_shift(1,0),p2(n.name||"",e),e.length>e.l?e.slice(0,e.l):e}function sQ(n,e,t){var r=Ft(2052);return r.write_shift(4,n),p2(e,r),p2(t,r),r.length>r.l?r.slice(0,r.l):r}function aQ(n,e){if(e){var t=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)e[i]!=null&&++t}),t!=0&&(en(n,615,wc(t)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)e[i]!=null&&en(n,44,$Z(i,e[i]))}),en(n,616))}}function oQ(n){var e=1;en(n,611,wc(e)),en(n,43,QZ({sz:12,color:{theme:1},name:"Calibri",family:2})),en(n,612)}function lQ(n){var e=2;en(n,603,wc(e)),en(n,45,E6({patternType:"none"})),en(n,45,E6({patternType:"gray125"})),en(n,604)}function cQ(n){var e=1;en(n,613,wc(e)),en(n,46,rQ()),en(n,614)}function uQ(n){var e=1;en(n,626,wc(e)),en(n,47,C7({numFmtId:0},65535)),en(n,627)}function hQ(n,e){en(n,617,wc(e.length)),e.forEach(function(t){en(n,47,C7(t,0))}),en(n,618)}function fQ(n){var e=1;en(n,619,wc(e)),en(n,48,iQ({xfId:0,name:"Normal"})),en(n,620)}function dQ(n){var e=0;en(n,505,wc(e)),en(n,506)}function mQ(n){var e=0;en(n,508,sQ(e,"TableStyleMedium9","PivotStyleMedium4")),en(n,509)}function gQ(n,e){var t=dl();return en(t,278),aQ(t,n.SSF),oQ(t),lQ(t),cQ(t),uQ(t),hQ(t,e.cellXfs),fQ(t),dQ(t),mQ(t),en(t,279),t.end()}function I7(n,e){if(e&&e.themeXLSX)return e.themeXLSX;if(n&&typeof n.raw=="string")return n.raw;var t=[ga];return t[t.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',t[t.length]="<a:themeElements>",t[t.length]='<a:clrScheme name="Office">',t[t.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',t[t.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',t[t.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',t[t.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',t[t.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',t[t.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',t[t.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',t[t.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',t[t.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',t[t.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',t[t.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',t[t.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',t[t.length]="</a:clrScheme>",t[t.length]='<a:fontScheme name="Office">',t[t.length]="<a:majorFont>",t[t.length]='<a:latin typeface="Cambria"/>',t[t.length]='<a:ea typeface=""/>',t[t.length]='<a:cs typeface=""/>',t[t.length]='<a:font script="Jpan" typeface=" "/>',t[t.length]='<a:font script="Hang" typeface=" "/>',t[t.length]='<a:font script="Hans" typeface=""/>',t[t.length]='<a:font script="Hant" typeface=""/>',t[t.length]='<a:font script="Arab" typeface="Times New Roman"/>',t[t.length]='<a:font script="Hebr" typeface="Times New Roman"/>',t[t.length]='<a:font script="Thai" typeface="Tahoma"/>',t[t.length]='<a:font script="Ethi" typeface="Nyala"/>',t[t.length]='<a:font script="Beng" typeface="Vrinda"/>',t[t.length]='<a:font script="Gujr" typeface="Shruti"/>',t[t.length]='<a:font script="Khmr" typeface="MoolBoran"/>',t[t.length]='<a:font script="Knda" typeface="Tunga"/>',t[t.length]='<a:font script="Guru" typeface="Raavi"/>',t[t.length]='<a:font script="Cans" typeface="Euphemia"/>',t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>',t[t.length]='<a:font script="Deva" typeface="Mangal"/>',t[t.length]='<a:font script="Telu" typeface="Gautami"/>',t[t.length]='<a:font script="Taml" typeface="Latha"/>',t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',t[t.length]='<a:font script="Orya" typeface="Kalinga"/>',t[t.length]='<a:font script="Mlym" typeface="Kartika"/>',t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>',t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',t[t.length]='<a:font script="Viet" typeface="Times New Roman"/>',t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>',t[t.length]="</a:majorFont>",t[t.length]="<a:minorFont>",t[t.length]='<a:latin typeface="Calibri"/>',t[t.length]='<a:ea typeface=""/>',t[t.length]='<a:cs typeface=""/>',t[t.length]='<a:font script="Jpan" typeface=" "/>',t[t.length]='<a:font script="Hang" typeface=" "/>',t[t.length]='<a:font script="Hans" typeface=""/>',t[t.length]='<a:font script="Hant" typeface=""/>',t[t.length]='<a:font script="Arab" typeface="Arial"/>',t[t.length]='<a:font script="Hebr" typeface="Arial"/>',t[t.length]='<a:font script="Thai" typeface="Tahoma"/>',t[t.length]='<a:font script="Ethi" typeface="Nyala"/>',t[t.length]='<a:font script="Beng" typeface="Vrinda"/>',t[t.length]='<a:font script="Gujr" typeface="Shruti"/>',t[t.length]='<a:font script="Khmr" typeface="DaunPenh"/>',t[t.length]='<a:font script="Knda" typeface="Tunga"/>',t[t.length]='<a:font script="Guru" typeface="Raavi"/>',t[t.length]='<a:font script="Cans" typeface="Euphemia"/>',t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>',t[t.length]='<a:font script="Deva" typeface="Mangal"/>',t[t.length]='<a:font script="Telu" typeface="Gautami"/>',t[t.length]='<a:font script="Taml" typeface="Latha"/>',t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',t[t.length]='<a:font script="Orya" typeface="Kalinga"/>',t[t.length]='<a:font script="Mlym" typeface="Kartika"/>',t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>',t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',t[t.length]='<a:font script="Viet" typeface="Arial"/>',t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>',t[t.length]="</a:minorFont>",t[t.length]="</a:fontScheme>",t[t.length]='<a:fmtScheme name="Office">',t[t.length]="<a:fillStyleLst>",t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:lin ang="16200000" scaled="1"/>',t[t.length]="</a:gradFill>",t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:lin ang="16200000" scaled="0"/>',t[t.length]="</a:gradFill>",t[t.length]="</a:fillStyleLst>",t[t.length]="<a:lnStyleLst>",t[t.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]="</a:lnStyleLst>",t[t.length]="<a:effectStyleLst>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]="</a:effectStyle>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]="</a:effectStyle>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',t[t.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',t[t.length]="</a:effectStyle>",t[t.length]="</a:effectStyleLst>",t[t.length]="<a:bgFillStyleLst>",t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',t[t.length]="</a:gradFill>",t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',t[t.length]="</a:gradFill>",t[t.length]="</a:bgFillStyleLst>",t[t.length]="</a:fmtScheme>",t[t.length]="</a:themeElements>",t[t.length]="<a:objectDefaults>",t[t.length]="<a:spDef>",t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',t[t.length]="</a:spDef>",t[t.length]="<a:lnDef>",t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',t[t.length]="</a:lnDef>",t[t.length]="</a:objectDefaults>",t[t.length]="<a:extraClrSchemeLst/>",t[t.length]="</a:theme>",t.join("")}function pQ(n,e){return{flags:n.read_shift(4),version:n.read_shift(4),name:ko(n)}}function xQ(n){var e=Ft(12+2*n.name.length);return e.write_shift(4,n.flags),e.write_shift(4,n.version),$a(n.name,e),e.slice(0,e.l)}function vQ(n){for(var e=[],t=n.read_shift(4);t-- >0;)e.push([n.read_shift(4),n.read_shift(4)]);return e}function _Q(n){var e=Ft(4+8*n.length);e.write_shift(4,n.length);for(var t=0;t<n.length;++t)e.write_shift(4,n[t][0]),e.write_shift(4,n[t][1]);return e}function yQ(n,e){var t=Ft(8+2*e.length);return t.write_shift(4,n),$a(e,t),t.slice(0,t.l)}function wQ(n){return n.l+=4,n.read_shift(4)!=0}function bQ(n,e){var t=Ft(8);return t.write_shift(4,n),t.write_shift(4,1),t}function EQ(){var n=dl();return en(n,332),en(n,334,wc(1)),en(n,335,xQ({name:"XLDAPR",version:12e4,flags:3496657072})),en(n,336),en(n,339,yQ(1,"XLDAPR")),en(n,52),en(n,35,wc(514)),en(n,4096,wc(0)),en(n,4097,Xl(1)),en(n,36),en(n,53),en(n,340),en(n,337,bQ(1)),en(n,51,_Q([[1,0]])),en(n,338),en(n,333),n.end()}function R7(){var n=[ga];return n.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),n.join("")}function AQ(n){var e={};e.i=n.read_shift(4);var t={};t.r=n.read_shift(4),t.c=n.read_shift(4),e.r=Ti(t);var r=n.read_shift(1);return r&2&&(e.l="1"),r&8&&(e.a="1"),e}var t0=1024;function O7(n,e){for(var t=[21600,21600],r=["m0,0l0",t[1],t[0],t[1],t[0],"0xe"].join(","),i=[pn("xml",null,{"xmlns:v":Cl.v,"xmlns:o":Cl.o,"xmlns:x":Cl.x,"xmlns:mv":Cl.mv}).replace(/\/>/,">"),pn("o:shapelayout",pn("o:idmap",null,{"v:ext":"edit",data:n}),{"v:ext":"edit"}),pn("v:shapetype",[pn("v:stroke",null,{joinstyle:"miter"}),pn("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:t.join(","),path:r})];t0<n*1e3;)t0+=1e3;return e.forEach(function(s){var o=Ka(s[0]),u={color2:"#BEFF82",type:"gradient"};u.type=="gradient"&&(u.angle="-180");var f=u.type=="gradient"?pn("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,d=pn("v:fill",f,u),x={on:"t",obscured:"t"};++t0,i=i.concat(["<v:shape"+gm({id:"_x0000_s"+t0,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(s[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",d,pn("v:shadow",null,x),pn("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",mo("x:Anchor",[o.c+1,0,o.r+1,0,o.c+3,20,o.r+5,20].join(",")),mo("x:AutoFill","False"),mo("x:Row",String(o.r)),mo("x:Column",String(o.c)),s[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),i.push("</xml>"),i.join("")}function k7(n){var e=[ga,pn("comments",null,{xmlns:j0[0]})],t=[];return e.push("<authors>"),n.forEach(function(r){r[1].forEach(function(i){var s=Ai(i.a);t.indexOf(s)==-1&&(t.push(s),e.push("<author>"+s+"</author>")),i.T&&i.ID&&t.indexOf("tc="+i.ID)==-1&&(t.push("tc="+i.ID),e.push("<author>tc="+i.ID+"</author>"))})}),t.length==0&&(t.push("SheetJ5"),e.push("<author>SheetJ5</author>")),e.push("</authors>"),e.push("<commentList>"),n.forEach(function(r){var i=0,s=[];if(r[1][0]&&r[1][0].T&&r[1][0].ID?i=t.indexOf("tc="+r[1][0].ID):r[1].forEach(function(f){f.a&&(i=t.indexOf(Ai(f.a))),s.push(f.t||"")}),e.push('<comment ref="'+r[0]+'" authorId="'+i+'"><text>'),s.length<=1)e.push(mo("t",Ai(s[0]||"")));else{for(var o=`Comment:
    `+s[0]+`
`,u=1;u<s.length;++u)o+=`Reply:
    `+s[u]+`
`;e.push(mo("t",Ai(o)))}e.push("</text></comment>")}),e.push("</commentList>"),e.length>2&&(e[e.length]="</comments>",e[1]=e[1].replace("/>",">")),e.join("")}function SQ(n,e,t){var r=[ga,pn("ThreadedComments",null,{xmlns:Ya.TCMNT}).replace(/[\/]>/,">")];return n.forEach(function(i){var s="";(i[1]||[]).forEach(function(o,u){if(!o.T){delete o.ID;return}o.a&&e.indexOf(o.a)==-1&&e.push(o.a);var f={ref:i[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+t.tcid++).slice(-12)+"}"};u==0?s=f.id:f.parentId=s,o.ID=f.id,o.a&&(f.personId="{54EE7950-7262-4200-6969-"+("000000000000"+e.indexOf(o.a)).slice(-12)+"}"),r.push(pn("threadedComment",mo("text",o.t||""),f))})}),r.push("</ThreadedComments>"),r.join("")}function TQ(n){var e=[ga,pn("personList",null,{xmlns:Ya.TCMNT,"xmlns:x":j0[0]}).replace(/[\/]>/,">")];return n.forEach(function(t,r){e.push(pn("person",null,{displayName:t,id:"{54EE7950-7262-4200-6969-"+("000000000000"+r).slice(-12)+"}",userId:t,providerId:"None"}))}),e.push("</personList>"),e.join("")}function NQ(n){var e={};e.iauthor=n.read_shift(4);var t=rd(n);return e.rfx=t.s,e.ref=Ti(t.s),n.l+=16,e}function CQ(n,e){return e==null&&(e=Ft(36)),e.write_shift(4,n[1].iauthor),B0(n[0],e),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e}var IQ=ko;function RQ(n){return $a(n.slice(0,54))}function OQ(n){var e=dl(),t=[];return en(e,628),en(e,630),n.forEach(function(r){r[1].forEach(function(i){t.indexOf(i.a)>-1||(t.push(i.a.slice(0,54)),en(e,632,RQ(i.a)))})}),en(e,631),en(e,633),n.forEach(function(r){r[1].forEach(function(i){i.iauthor=t.indexOf(i.a);var s={s:Ka(r[0]),e:Ka(r[0])};en(e,635,CQ([s,i])),i.t&&i.t.length>0&&en(e,637,D$(i)),en(e,636),delete i.iauthor})}),en(e,634),en(e,629),e.end()}function kQ(n,e){e.FullPaths.forEach(function(t,r){if(r!=0){var i=t.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");i.slice(-1)!=="/"&&ji.utils.cfb_add(n,i,e.FileIndex[r].content)}})}var D7=["xlsb","xlsm","xlam","biff8","xla"],DQ=(function(){var n=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function t(r,i,s,o){var u=!1,f=!1;s.length==0?f=!0:s.charAt(0)=="["&&(f=!0,s=s.slice(1,-1)),o.length==0?u=!0:o.charAt(0)=="["&&(u=!0,o=o.slice(1,-1));var d=s.length>0?parseInt(s,10)|0:0,x=o.length>0?parseInt(o,10)|0:0;return u?x+=e.c:--x,f?d+=e.r:--d,i+(u?"":"$")+Oo(x)+(f?"":"$")+go(d)}return function(i,s){return e=s,i.replace(n,t)}})(),K5=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,$5=(function(){return function(e,t){return e.replace(K5,function(r,i,s,o,u,f){var d=H5(o)-(s?0:t.c),x=z5(f)-(u?0:t.r),w=x==0?"":u?x+1:"["+x+"]",A=d==0?"":s?d+1:"["+d+"]";return i+"R"+w+"C"+A})}})();function LQ(n,e){return n.replace(K5,function(t,r,i,s,o,u){return r+(i=="$"?i+s:Oo(H5(s)+e.c))+(o=="$"?o+u:go(z5(u)+e.r))})}function MQ(n){return n.length!=1}function ca(n){n.l+=1}function Yh(n,e){var t=n.read_shift(2);return[t&16383,t>>14&1,t>>15&1]}function L7(n,e,t){var r=2;if(t){if(t.biff>=2&&t.biff<=5)return M7(n);t.biff==12&&(r=4)}var i=n.read_shift(r),s=n.read_shift(r),o=Yh(n),u=Yh(n);return{s:{r:i,c:o[0],cRel:o[1],rRel:o[2]},e:{r:s,c:u[0],cRel:u[1],rRel:u[2]}}}function M7(n){var e=Yh(n),t=Yh(n),r=n.read_shift(1),i=n.read_shift(1);return{s:{r:e[0],c:r,cRel:e[1],rRel:e[2]},e:{r:t[0],c:i,cRel:t[1],rRel:t[2]}}}function PQ(n,e,t){if(t.biff<8)return M7(n);var r=n.read_shift(t.biff==12?4:2),i=n.read_shift(t.biff==12?4:2),s=Yh(n),o=Yh(n);return{s:{r,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:o[0],cRel:o[1],rRel:o[2]}}}function P7(n,e,t){if(t&&t.biff>=2&&t.biff<=5)return jQ(n);var r=n.read_shift(t&&t.biff==12?4:2),i=Yh(n);return{r,c:i[0],cRel:i[1],rRel:i[2]}}function jQ(n){var e=Yh(n),t=n.read_shift(1);return{r:e[0],c:t,cRel:e[1],rRel:e[2]}}function FQ(n){var e=n.read_shift(2),t=n.read_shift(2);return{r:e,c:t&255,fQuoted:!!(t&16384),cRel:t>>15,rRel:t>>15}}function BQ(n,e,t){var r=t&&t.biff?t.biff:8;if(r>=2&&r<=5)return UQ(n);var i=n.read_shift(r>=12?4:2),s=n.read_shift(2),o=(s&16384)>>14,u=(s&32768)>>15;if(s&=16383,u==1)for(;i>524287;)i-=1048576;if(o==1)for(;s>8191;)s=s-16384;return{r:i,c:s,cRel:o,rRel:u}}function UQ(n){var e=n.read_shift(2),t=n.read_shift(1),r=(e&32768)>>15,i=(e&16384)>>14;return e&=16383,r==1&&e>=8192&&(e=e-16384),i==1&&t>=128&&(t=t-256),{r:e,c:t,cRel:i,rRel:r}}function VQ(n,e,t){var r=(n[n.l++]&96)>>5,i=L7(n,t.biff>=2&&t.biff<=5?6:8,t);return[r,i]}function zQ(n,e,t){var r=(n[n.l++]&96)>>5,i=n.read_shift(2,"i"),s=8;if(t)switch(t.biff){case 5:n.l+=12,s=6;break;case 12:s=12;break}var o=L7(n,s,t);return[r,i,o]}function HQ(n,e,t){var r=(n[n.l++]&96)>>5;return n.l+=t&&t.biff>8?12:t.biff<8?6:8,[r]}function qQ(n,e,t){var r=(n[n.l++]&96)>>5,i=n.read_shift(2),s=8;if(t)switch(t.biff){case 5:n.l+=12,s=6;break;case 12:s=12;break}return n.l+=s,[r,i]}function GQ(n,e,t){var r=(n[n.l++]&96)>>5,i=PQ(n,e-1,t);return[r,i]}function WQ(n,e,t){var r=(n[n.l++]&96)>>5;return n.l+=t.biff==2?6:t.biff==12?14:7,[r]}function A6(n){var e=n[n.l+1]&1,t=1;return n.l+=4,[e,t]}function XQ(n,e,t){n.l+=2;for(var r=n.read_shift(t&&t.biff==2?1:2),i=[],s=0;s<=r;++s)i.push(n.read_shift(t&&t.biff==2?1:2));return i}function YQ(n,e,t){var r=n[n.l+1]&255?1:0;return n.l+=2,[r,n.read_shift(t&&t.biff==2?1:2)]}function KQ(n,e,t){var r=n[n.l+1]&255?1:0;return n.l+=2,[r,n.read_shift(t&&t.biff==2?1:2)]}function $Q(n){var e=n[n.l+1]&255?1:0;return n.l+=2,[e,n.read_shift(2)]}function ZQ(n,e,t){var r=n[n.l+1]&255?1:0;return n.l+=t&&t.biff==2?3:4,[r]}function j7(n){var e=n.read_shift(1),t=n.read_shift(1);return[e,t]}function QQ(n){return n.read_shift(2),j7(n)}function JQ(n){return n.read_shift(2),j7(n)}function eJ(n,e,t){var r=(n[n.l]&96)>>5;n.l+=1;var i=P7(n,0,t);return[r,i]}function tJ(n,e,t){var r=(n[n.l]&96)>>5;n.l+=1;var i=BQ(n,0,t);return[r,i]}function nJ(n,e,t){var r=(n[n.l]&96)>>5;n.l+=1;var i=n.read_shift(2);t&&t.biff==5&&(n.l+=12);var s=P7(n,0,t);return[r,i,s]}function rJ(n,e,t){var r=(n[n.l]&96)>>5;n.l+=1;var i=n.read_shift(t&&t.biff<=3?1:2);return[ree[i],U7[i],r]}function iJ(n,e,t){var r=n[n.l++],i=n.read_shift(1),s=t&&t.biff<=3?[r==88?-1:0,n.read_shift(1)]:sJ(n);return[i,(s[0]===0?U7:nee)[s[1]]]}function sJ(n){return[n[n.l+1]>>7,n.read_shift(2)&32767]}function aJ(n,e,t){n.l+=t&&t.biff==2?3:4}function oJ(n,e,t){if(n.l++,t&&t.biff==12)return[n.read_shift(4,"i"),0];var r=n.read_shift(2),i=n.read_shift(t&&t.biff==2?1:2);return[r,i]}function lJ(n){return n.l++,Um[n.read_shift(1)]}function cJ(n){return n.l++,n.read_shift(2)}function uJ(n){return n.l++,n.read_shift(1)!==0}function hJ(n){return n.l++,U0(n)}function fJ(n,e,t){return n.l++,_7(n,e-1,t)}function dJ(n,e){var t=[n.read_shift(1)];if(e==12)switch(t[0]){case 2:t[0]=4;break;case 4:t[0]=16;break;case 0:t[0]=1;break;case 1:t[0]=2;break}switch(t[0]){case 4:t[1]=nZ(n,1)?"TRUE":"FALSE",e!=12&&(n.l+=7);break;case 37:case 16:t[1]=Um[n[n.l]],n.l+=e==12?4:8;break;case 0:n.l+=8;break;case 1:t[1]=U0(n);break;case 2:t[1]=aZ(n,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+t[0])}return t}function mJ(n,e,t){for(var r=n.read_shift(t.biff==12?4:2),i=[],s=0;s!=r;++s)i.push((t.biff==12?rd:cZ)(n));return i}function gJ(n,e,t){var r=0,i=0;t.biff==12?(r=n.read_shift(4),i=n.read_shift(4)):(i=1+n.read_shift(1),r=1+n.read_shift(2)),t.biff>=2&&t.biff<8&&(--r,--i==0&&(i=256));for(var s=0,o=[];s!=r&&(o[s]=[]);++s)for(var u=0;u!=i;++u)o[s][u]=dJ(n,t.biff);return o}function pJ(n,e,t){var r=n.read_shift(1)>>>5&3,i=!t||t.biff>=8?4:2,s=n.read_shift(i);switch(t.biff){case 2:n.l+=5;break;case 3:case 4:n.l+=8;break;case 5:n.l+=12;break}return[r,0,s]}function xJ(n,e,t){if(t.biff==5)return vJ(n);var r=n.read_shift(1)>>>5&3,i=n.read_shift(2),s=n.read_shift(4);return[r,i,s]}function vJ(n){var e=n.read_shift(1)>>>5&3,t=n.read_shift(2,"i");n.l+=8;var r=n.read_shift(2);return n.l+=12,[e,t,r]}function _J(n,e,t){var r=n.read_shift(1)>>>5&3;n.l+=t&&t.biff==2?3:4;var i=n.read_shift(t&&t.biff==2?1:2);return[r,i]}function yJ(n,e,t){var r=n.read_shift(1)>>>5&3,i=n.read_shift(t&&t.biff==2?1:2);return[r,i]}function wJ(n,e,t){var r=n.read_shift(1)>>>5&3;return n.l+=4,t.biff<8&&n.l--,t.biff==12&&(n.l+=2),[r]}function bJ(n,e,t){var r=(n[n.l++]&96)>>5,i=n.read_shift(2),s=4;if(t)switch(t.biff){case 5:s=15;break;case 12:s=6;break}return n.l+=s,[r,i]}var EJ=iu,AJ=iu,SJ=iu;function Vm(n,e,t){return n.l+=2,[FQ(n)]}function Z5(n){return n.l+=6,[]}var TJ=Vm,NJ=Z5,CJ=Z5,IJ=Vm;function F7(n){return n.l+=2,[x7(n),n.read_shift(2)&1]}var RJ=Vm,OJ=F7,kJ=Z5,DJ=Vm,LJ=Vm,MJ=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function PJ(n){n.l+=2;var e=n.read_shift(2),t=n.read_shift(2),r=n.read_shift(4),i=n.read_shift(2),s=n.read_shift(2),o=MJ[t>>2&31];return{ixti:e,coltype:t&3,rt:o,idx:r,c:i,C:s}}function jJ(n){return n.l+=2,[n.read_shift(4)]}function FJ(n,e,t){return n.l+=5,n.l+=2,n.l+=t.biff==2?1:4,["PTGSHEET"]}function BJ(n,e,t){return n.l+=t.biff==2?4:5,["PTGENDSHEET"]}function UJ(n){var e=n.read_shift(1)>>>5&3,t=n.read_shift(2);return[e,t]}function VJ(n){var e=n.read_shift(1)>>>5&3,t=n.read_shift(2);return[e,t]}function zJ(n){return n.l+=4,[0,0]}var S6={1:{n:"PtgExp",f:oJ},2:{n:"PtgTbl",f:SJ},3:{n:"PtgAdd",f:ca},4:{n:"PtgSub",f:ca},5:{n:"PtgMul",f:ca},6:{n:"PtgDiv",f:ca},7:{n:"PtgPower",f:ca},8:{n:"PtgConcat",f:ca},9:{n:"PtgLt",f:ca},10:{n:"PtgLe",f:ca},11:{n:"PtgEq",f:ca},12:{n:"PtgGe",f:ca},13:{n:"PtgGt",f:ca},14:{n:"PtgNe",f:ca},15:{n:"PtgIsect",f:ca},16:{n:"PtgUnion",f:ca},17:{n:"PtgRange",f:ca},18:{n:"PtgUplus",f:ca},19:{n:"PtgUminus",f:ca},20:{n:"PtgPercent",f:ca},21:{n:"PtgParen",f:ca},22:{n:"PtgMissArg",f:ca},23:{n:"PtgStr",f:fJ},26:{n:"PtgSheet",f:FJ},27:{n:"PtgEndSheet",f:BJ},28:{n:"PtgErr",f:lJ},29:{n:"PtgBool",f:uJ},30:{n:"PtgInt",f:cJ},31:{n:"PtgNum",f:hJ},32:{n:"PtgArray",f:WQ},33:{n:"PtgFunc",f:rJ},34:{n:"PtgFuncVar",f:iJ},35:{n:"PtgName",f:pJ},36:{n:"PtgRef",f:eJ},37:{n:"PtgArea",f:VQ},38:{n:"PtgMemArea",f:_J},39:{n:"PtgMemErr",f:EJ},40:{n:"PtgMemNoMem",f:AJ},41:{n:"PtgMemFunc",f:yJ},42:{n:"PtgRefErr",f:wJ},43:{n:"PtgAreaErr",f:HQ},44:{n:"PtgRefN",f:tJ},45:{n:"PtgAreaN",f:GQ},46:{n:"PtgMemAreaN",f:UJ},47:{n:"PtgMemNoMemN",f:VJ},57:{n:"PtgNameX",f:xJ},58:{n:"PtgRef3d",f:nJ},59:{n:"PtgArea3d",f:zQ},60:{n:"PtgRefErr3d",f:bJ},61:{n:"PtgAreaErr3d",f:qQ},255:{}},HJ={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},qJ={1:{n:"PtgElfLel",f:F7},2:{n:"PtgElfRw",f:DJ},3:{n:"PtgElfCol",f:TJ},6:{n:"PtgElfRwV",f:LJ},7:{n:"PtgElfColV",f:IJ},10:{n:"PtgElfRadical",f:RJ},11:{n:"PtgElfRadicalS",f:kJ},13:{n:"PtgElfColS",f:NJ},15:{n:"PtgElfColSV",f:CJ},16:{n:"PtgElfRadicalLel",f:OJ},25:{n:"PtgList",f:PJ},29:{n:"PtgSxName",f:jJ},255:{}},GJ={0:{n:"PtgAttrNoop",f:zJ},1:{n:"PtgAttrSemi",f:ZQ},2:{n:"PtgAttrIf",f:KQ},4:{n:"PtgAttrChoose",f:XQ},8:{n:"PtgAttrGoto",f:YQ},16:{n:"PtgAttrSum",f:aJ},32:{n:"PtgAttrBaxcel",f:A6},33:{n:"PtgAttrBaxcel",f:A6},64:{n:"PtgAttrSpace",f:QQ},65:{n:"PtgAttrSpaceSemi",f:JQ},128:{n:"PtgAttrIfError",f:$Q},255:{}};function WJ(n,e,t,r){if(r.biff<8)return iu(n,e);for(var i=n.l+e,s=[],o=0;o!==t.length;++o)switch(t[o][0]){case"PtgArray":t[o][1]=gJ(n,0,r),s.push(t[o][1]);break;case"PtgMemArea":t[o][2]=mJ(n,t[o][1],r),s.push(t[o][2]);break;case"PtgExp":r&&r.biff==12&&(t[o][1][1]=n.read_shift(4),s.push(t[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+t[o][0]}return e=i-n.l,e!==0&&s.push(iu(n,e)),s}function XJ(n,e,t){for(var r=n.l+e,i,s,o=[];r!=n.l;)e=r-n.l,s=n[n.l],i=S6[s]||S6[HJ[s]],(s===24||s===25)&&(i=(s===24?qJ:GJ)[n[n.l+1]]),!i||!i.f?iu(n,e):o.push([i.n,i.f(n,e,t)]);return o}function YJ(n){for(var e=[],t=0;t<n.length;++t){for(var r=n[t],i=[],s=0;s<r.length;++s){var o=r[s];if(o)switch(o[0]){case 2:i.push('"'+o[1].replace(/"/g,'""')+'"');break;default:i.push(o[1])}else i.push("")}e.push(i.join(","))}return e.join(";")}var KJ={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function $J(n,e){if(!n&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(n)?"'"+n+"'":n}function B7(n,e,t){if(!n)return"SH33TJSERR0";if(t.biff>8&&(!n.XTI||!n.XTI[e]))return n.SheetNames[e];if(!n.XTI)return"SH33TJSERR6";var r=n.XTI[e];if(t.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":n.XTI[e-1];if(!r)return"SH33TJSERR1";var i="";if(t.biff>8)switch(n[r[0]][0]){case 357:return i=r[1]==-1?"#REF":n.SheetNames[r[1]],r[1]==r[2]?i:i+":"+n.SheetNames[r[2]];case 358:return t.SID!=null?n.SheetNames[t.SID]:"SH33TJSSAME"+n[r[0]][0];case 355:default:return"SH33TJSSRC"+n[r[0]][0]}switch(n[r[0]][0][0]){case 1025:return i=r[1]==-1?"#REF":n.SheetNames[r[1]]||"SH33TJSERR3",r[1]==r[2]?i:i+":"+n.SheetNames[r[2]];case 14849:return n[r[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return n[r[0]][0][3]?(i=r[1]==-1?"#REF":n[r[0]][0][3][r[1]]||"SH33TJSERR4",r[1]==r[2]?i:i+":"+n[r[0]][0][3][r[2]]):"SH33TJSERR2"}}function T6(n,e,t){var r=B7(n,e,t);return r=="#REF"?r:$J(r,t)}function N0(n,e,t,r,i){var s=i&&i.biff||8,o={s:{c:0,r:0}},u=[],f,d,x,w=0,A=0,E,I="";if(!n[0]||!n[0][0])return"";for(var C=-1,L="",j=0,W=n[0].length;j<W;++j){var M=n[0][j];switch(M[0]){case"PtgUminus":u.push("-"+u.pop());break;case"PtgUplus":u.push("+"+u.pop());break;case"PtgPercent":u.push(u.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(f=u.pop(),d=u.pop(),C>=0){switch(n[0][C][1][0]){case 0:L=Ps(" ",n[0][C][1][1]);break;case 1:L=Ps("\r",n[0][C][1][1]);break;default:if(L="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+n[0][C][1][0])}d=d+L,C=-1}u.push(d+KJ[M[0]]+f);break;case"PtgIsect":f=u.pop(),d=u.pop(),u.push(d+" "+f);break;case"PtgUnion":f=u.pop(),d=u.pop(),u.push(d+","+f);break;case"PtgRange":f=u.pop(),d=u.pop(),u.push(d+":"+f);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":x=$1(M[1][1],o,i),u.push(Z1(x,s));break;case"PtgRefN":x=t?$1(M[1][1],t,i):M[1][1],u.push(Z1(x,s));break;case"PtgRef3d":w=M[1][1],x=$1(M[1][2],o,i),I=T6(r,w,i),u.push(I+"!"+Z1(x,s));break;case"PtgFunc":case"PtgFuncVar":var G=M[1][0],ce=M[1][1];G||(G=0),G&=127;var re=G==0?[]:u.slice(-G);u.length-=G,ce==="User"&&(ce=re.shift()),u.push(ce+"("+re.join(",")+")");break;case"PtgBool":u.push(M[1]?"TRUE":"FALSE");break;case"PtgInt":u.push(M[1]);break;case"PtgNum":u.push(String(M[1]));break;case"PtgStr":u.push('"'+M[1].replace(/"/g,'""')+'"');break;case"PtgErr":u.push(M[1]);break;case"PtgAreaN":E=u6(M[1][1],t?{s:t}:o,i),u.push(Q_(E,i));break;case"PtgArea":E=u6(M[1][1],o,i),u.push(Q_(E,i));break;case"PtgArea3d":w=M[1][1],E=M[1][2],I=T6(r,w,i),u.push(I+"!"+Q_(E,i));break;case"PtgAttrSum":u.push("SUM("+u.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":A=M[1][2];var F=(r.names||[])[A-1]||(r[0]||[])[A],B=F?F.Name:"SH33TJSNAME"+String(A);B&&B.slice(0,6)=="_xlfn."&&!i.xlfn&&(B=B.slice(6)),u.push(B);break;case"PtgNameX":var D=M[1][1];A=M[1][2];var Z;if(i.biff<=5)D<0&&(D=-D),r[D]&&(Z=r[D][A]);else{var U="";if(((r[D]||[])[0]||[])[0]==14849||(((r[D]||[])[0]||[])[0]==1025?r[D][A]&&r[D][A].itab>0&&(U=r.SheetNames[r[D][A].itab-1]+"!"):U=r.SheetNames[A-1]+"!"),r[D]&&r[D][A])U+=r[D][A].Name;else if(r[0]&&r[0][A])U+=r[0][A].Name;else{var H=(B7(r,D,i)||"").split(";;");H[A-1]?U=H[A-1]:U+="SH33TJSERRX"}u.push(U);break}Z||(Z={Name:"SH33TJSERRY"}),u.push(Z.Name);break;case"PtgParen":var X="(",ne=")";if(C>=0){switch(L="",n[0][C][1][0]){case 2:X=Ps(" ",n[0][C][1][1])+X;break;case 3:X=Ps("\r",n[0][C][1][1])+X;break;case 4:ne=Ps(" ",n[0][C][1][1])+ne;break;case 5:ne=Ps("\r",n[0][C][1][1])+ne;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+n[0][C][1][0])}C=-1}u.push(X+u.pop()+ne);break;case"PtgRefErr":u.push("#REF!");break;case"PtgRefErr3d":u.push("#REF!");break;case"PtgExp":x={c:M[1][1],r:M[1][0]};var pe={c:t.c,r:t.r};if(r.sharedf[Ti(x)]){var Ae=r.sharedf[Ti(x)];u.push(N0(Ae,o,pe,r,i))}else{var xe=!1;for(f=0;f!=r.arrayf.length;++f)if(d=r.arrayf[f],!(x.c<d[0].s.c||x.c>d[0].e.c)&&!(x.r<d[0].s.r||x.r>d[0].e.r)){u.push(N0(d[1],o,pe,r,i)),xe=!0;break}xe||u.push(M[1])}break;case"PtgArray":u.push("{"+YJ(M[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":C=j;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":u.push("");break;case"PtgAreaErr":u.push("#REF!");break;case"PtgAreaErr3d":u.push("#REF!");break;case"PtgList":u.push("Table"+M[1].idx+"[#"+M[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(M));default:throw new Error("Unrecognized Formula Token: "+String(M))}var Re=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&C>=0&&Re.indexOf(n[0][j][0])==-1){M=n[0][C];var He=!0;switch(M[1][0]){case 4:He=!1;case 0:L=Ps(" ",M[1][1]);break;case 5:He=!1;case 1:L=Ps("\r",M[1][1]);break;default:if(L="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+M[1][0])}u.push((He?L:"")+u.pop()+(He?"":L)),C=-1}}if(u.length>1&&i.WTF)throw new Error("bad formula stack");return u[0]}function ZJ(n){if(n==null){var e=Ft(8);return e.write_shift(1,3),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,65535),e}else if(typeof n=="number")return Bf(n);return Bf(0)}function QJ(n,e,t,r,i){var s=Uf(e,t,i),o=ZJ(n.v),u=Ft(6),f=33;u.write_shift(2,f),u.write_shift(4,0);for(var d=Ft(n.bf.length),x=0;x<n.bf.length;++x)d[x]=n.bf[x];var w=fo([s,o,u,d]);return w}function dx(n,e,t){var r=n.read_shift(4),i=XJ(n,r,t),s=n.read_shift(4),o=s>0?WJ(n,s,i,t):null;return[i,o]}var JJ=dx,mx=dx,eee=dx,tee=dx,nee={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},U7={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},ree={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function iee(n){var e="of:="+n.replace(K5,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return e.replace(/;/g,"|").replace(/,/g,";")}function see(n){return n.replace(/\./,"!")}var Q1=typeof Map<"u";function Q5(n,e,t){var r=0,i=n.length;if(t){if(Q1?t.has(e):Object.prototype.hasOwnProperty.call(t,e)){for(var s=Q1?t.get(e):t[e];r<s.length;++r)if(n[s[r]].t===e)return n.Count++,s[r]}}else for(;r<i;++r)if(n[r].t===e)return n.Count++,r;return n[i]={t:e},n.Count++,n.Unique++,t&&(Q1?(t.has(e)||t.set(e,[]),t.get(e).push(i)):(Object.prototype.hasOwnProperty.call(t,e)||(t[e]=[]),t[e].push(i))),i}function gx(n,e){var t={min:n+1,max:n+1},r=-1;return e.MDW&&(Bu=e.MDW),e.width!=null?t.customWidth=1:e.wpx!=null?r=y2(e.wpx):e.wch!=null&&(r=e.wch),r>-1?(t.width=nw(r),t.customWidth=1):e.width!=null&&(t.width=e.width),e.hidden&&(t.hidden=!0),e.level!=null&&(t.outlineLevel=t.level=e.level),t}function V7(n,e){if(n){var t=[.7,.7,.75,.75,.3,.3];n.left==null&&(n.left=t[0]),n.right==null&&(n.right=t[1]),n.top==null&&(n.top=t[2]),n.bottom==null&&(n.bottom=t[3]),n.header==null&&(n.header=t[4]),n.footer==null&&(n.footer=t[5])}}function ef(n,e,t){var r=t.revssf[e.z!=null?e.z:"General"],i=60,s=n.length;if(r==null&&t.ssf){for(;i<392;++i)if(t.ssf[i]==null){PR(e.z,i),t.ssf[i]=e.z,t.revssf[e.z]=r=i;break}}for(i=0;i!=s;++i)if(n[i].numFmtId===r)return i;return n[s]={numFmtId:r,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},s}function aee(n,e,t){if(n&&n["!ref"]){var r=ss(n["!ref"]);if(r.e.c<r.s.c||r.e.r<r.s.r)throw new Error("Bad range ("+t+"): "+n["!ref"])}}function oee(n){if(n.length===0)return"";for(var e='<mergeCells count="'+n.length+'">',t=0;t!=n.length;++t)e+='<mergeCell ref="'+ma(n[t])+'"/>';return e+"</mergeCells>"}function lee(n,e,t,r,i){var s=!1,o={},u=null;if(r.bookType!=="xlsx"&&e.vbaraw){var f=e.SheetNames[t];try{e.Workbook&&(f=e.Workbook.Sheets[t].CodeName||f)}catch{}s=!0,o.codeName=mm(Ai(f))}if(n&&n["!outline"]){var d={summaryBelow:1,summaryRight:1};n["!outline"].above&&(d.summaryBelow=0),n["!outline"].left&&(d.summaryRight=0),u=(u||"")+pn("outlinePr",null,d)}!s&&!u||(i[i.length]=pn("sheetPr",u,o))}var cee=["objects","scenarios","selectLockedCells","selectUnlockedCells"],uee=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function hee(n){var e={sheet:1};return cee.forEach(function(t){n[t]!=null&&n[t]&&(e[t]="1")}),uee.forEach(function(t){n[t]!=null&&!n[t]&&(e[t]="0")}),n.password&&(e.password=A7(n.password).toString(16).toUpperCase()),pn("sheetProtection",null,e)}function fee(n){return V7(n),pn("pageMargins",null,n)}function dee(n,e){for(var t=["<cols>"],r,i=0;i!=e.length;++i)(r=e[i])&&(t[t.length]=pn("col",null,gx(i,r)));return t[t.length]="</cols>",t.join("")}function mee(n,e,t,r){var i=typeof n.ref=="string"?n.ref:ma(n.ref);t.Workbook||(t.Workbook={Sheets:[]}),t.Workbook.Names||(t.Workbook.Names=[]);var s=t.Workbook.Names,o=Fl(i);o.s.r==o.e.r&&(o.e.r=Fl(e["!ref"]).e.r,i=ma(o));for(var u=0;u<s.length;++u){var f=s[u];if(f.Name=="_xlnm._FilterDatabase"&&f.Sheet==r){f.Ref="'"+t.SheetNames[r]+"'!"+i;break}}return u==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+t.SheetNames[r]+"'!"+i}),pn("autoFilter",null,{ref:i})}function gee(n,e,t,r){var i={workbookViewId:"0"};return(((r||{}).Workbook||{}).Views||[])[0]&&(i.rightToLeft=r.Workbook.Views[0].RTL?"1":"0"),pn("sheetViews",pn("sheetView",null,i),{})}function pee(n,e,t,r){if(n.c&&t["!comments"].push([e,n.c]),n.v===void 0&&typeof n.f!="string"||n.t==="z"&&!n.f)return"";var i="",s=n.t,o=n.v;if(n.t!=="z")switch(n.t){case"b":i=n.v?"1":"0";break;case"n":i=""+n.v;break;case"e":i=Um[n.v];break;case"d":r&&r.cellDates?i=Xo(n.v,-1).toISOString():(n=gl(n),n.t="n",i=""+(n.v=ml(Xo(n.v)))),typeof n.z>"u"&&(n.z=js[14]);break;default:i=n.v;break}var u=mo("v",Ai(i)),f={r:e},d=ef(r.cellXfs,n,r);switch(d!==0&&(f.s=d),n.t){case"n":break;case"d":f.t="d";break;case"b":f.t="b";break;case"e":f.t="e";break;case"z":break;default:if(n.v==null){delete n.t;break}if(n.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(r&&r.bookSST){u=mo("v",""+Q5(r.Strings,n.v,r.revStrings)),f.t="s";break}f.t="str";break}if(n.t!=s&&(n.t=s,n.v=o),typeof n.f=="string"&&n.f){var x=n.F&&n.F.slice(0,e.length)==e?{t:"array",ref:n.F}:null;u=pn("f",Ai(n.f),x)+(n.v!=null?u:"")}return n.l&&t["!links"].push([e,n.l]),n.D&&(f.cm=1),pn("c",u,f)}function xee(n,e,t,r){var i=[],s=[],o=ss(n["!ref"]),u="",f,d="",x=[],w=0,A=0,E=n["!rows"],I=Array.isArray(n),C={r:d},L,j=-1;for(A=o.s.c;A<=o.e.c;++A)x[A]=Oo(A);for(w=o.s.r;w<=o.e.r;++w){for(s=[],d=go(w),A=o.s.c;A<=o.e.c;++A){f=x[A]+d;var W=I?(n[w]||[])[A]:n[f];W!==void 0&&(u=pee(W,f,n,e))!=null&&s.push(u)}(s.length>0||E&&E[w])&&(C={r:d},E&&E[w]&&(L=E[w],L.hidden&&(C.hidden=1),j=-1,L.hpx?j=w2(L.hpx):L.hpt&&(j=L.hpt),j>-1&&(C.ht=j,C.customHeight=1),L.level&&(C.outlineLevel=L.level)),i[i.length]=pn("row",s.join(""),C))}if(E)for(;w<E.length;++w)E&&E[w]&&(C={r:w+1},L=E[w],L.hidden&&(C.hidden=1),j=-1,L.hpx?j=w2(L.hpx):L.hpt&&(j=L.hpt),j>-1&&(C.ht=j,C.customHeight=1),L.level&&(C.outlineLevel=L.level),i[i.length]=pn("row","",C));return i.join("")}function z7(n,e,t,r){var i=[ga,pn("worksheet",null,{xmlns:j0[0],"xmlns:r":Ya.r})],s=t.SheetNames[n],o=0,u="",f=t.Sheets[s];f==null&&(f={});var d=f["!ref"]||"A1",x=ss(d);if(x.e.c>16383||x.e.r>1048575){if(e.WTF)throw new Error("Range "+d+" exceeds format limit A1:XFD1048576");x.e.c=Math.min(x.e.c,16383),x.e.r=Math.min(x.e.c,1048575),d=ma(x)}r||(r={}),f["!comments"]=[];var w=[];lee(f,t,n,e,i),i[i.length]=pn("dimension",null,{ref:d}),i[i.length]=gee(f,e,n,t),e.sheetFormat&&(i[i.length]=pn("sheetFormatPr",null,{defaultRowHeight:e.sheetFormat.defaultRowHeight||"16",baseColWidth:e.sheetFormat.baseColWidth||"10",outlineLevelRow:e.sheetFormat.outlineLevelRow||"7"})),f["!cols"]!=null&&f["!cols"].length>0&&(i[i.length]=dee(f,f["!cols"])),i[o=i.length]="<sheetData/>",f["!links"]=[],f["!ref"]!=null&&(u=xee(f,e),u.length>0&&(i[i.length]=u)),i.length>o+1&&(i[i.length]="</sheetData>",i[o]=i[o].replace("/>",">")),f["!protect"]&&(i[i.length]=hee(f["!protect"])),f["!autofilter"]!=null&&(i[i.length]=mee(f["!autofilter"],f,t,n)),f["!merges"]!=null&&f["!merges"].length>0&&(i[i.length]=oee(f["!merges"]));var A=-1,E,I=-1;return f["!links"].length>0&&(i[i.length]="<hyperlinks>",f["!links"].forEach(function(C){C[1].Target&&(E={ref:C[0]},C[1].Target.charAt(0)!="#"&&(I=bi(r,-1,Ai(C[1].Target).replace(/#.*$/,""),oi.HLINK),E["r:id"]="rId"+I),(A=C[1].Target.indexOf("#"))>-1&&(E.location=Ai(C[1].Target.slice(A+1))),C[1].Tooltip&&(E.tooltip=Ai(C[1].Tooltip)),i[i.length]=pn("hyperlink",null,E))}),i[i.length]="</hyperlinks>"),delete f["!links"],f["!margins"]!=null&&(i[i.length]=fee(f["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&(i[i.length]=mo("ignoredErrors",pn("ignoredError",null,{numberStoredAsText:1,sqref:d}))),w.length>0&&(I=bi(r,-1,"../drawings/drawing"+(n+1)+".xml",oi.DRAW),i[i.length]=pn("drawing",null,{"r:id":"rId"+I}),f["!drawing"]=w),f["!comments"].length>0&&(I=bi(r,-1,"../drawings/vmlDrawing"+(n+1)+".vml",oi.VML),i[i.length]=pn("legacyDrawing",null,{"r:id":"rId"+I}),f["!legacy"]=I),i.length>1&&(i[i.length]="</worksheet>",i[1]=i[1].replace("/>",">")),i.join("")}function vee(n,e){var t={},r=n.l+e;t.r=n.read_shift(4),n.l+=4;var i=n.read_shift(2);n.l+=1;var s=n.read_shift(1);return n.l=r,s&7&&(t.level=s&7),s&16&&(t.hidden=!0),s&32&&(t.hpt=i/20),t}function _ee(n,e,t){var r=Ft(145),i=(t["!rows"]||[])[n]||{};r.write_shift(4,n),r.write_shift(4,0);var s=320;i.hpx?s=w2(i.hpx)*20:i.hpt&&(s=i.hpt*20),r.write_shift(2,s),r.write_shift(1,0);var o=0;i.level&&(o|=i.level),i.hidden&&(o|=16),(i.hpx||i.hpt)&&(o|=32),r.write_shift(1,o),r.write_shift(1,0);var u=0,f=r.l;r.l+=4;for(var d={r:n,c:0},x=0;x<16;++x)if(!(e.s.c>x+1<<10||e.e.c<x<<10)){for(var w=-1,A=-1,E=x<<10;E<x+1<<10;++E){d.c=E;var I=Array.isArray(t)?(t[d.r]||[])[d.c]:t[Ti(d)];I&&(w<0&&(w=E),A=E)}w<0||(++u,r.write_shift(4,w),r.write_shift(4,A))}var C=r.l;return r.l=f,r.write_shift(4,u),r.l=C,r.length>r.l?r.slice(0,r.l):r}function yee(n,e,t,r){var i=_ee(r,t,e);(i.length>17||(e["!rows"]||[])[r])&&en(n,0,i)}var wee=rd,bee=B0;function Eee(){}function Aee(n,e){var t={},r=n[n.l];return++n.l,t.above=!(r&64),t.left=!(r&128),n.l+=18,t.name=L$(n),t}function See(n,e,t){t==null&&(t=Ft(84+4*n.length));var r=192;e&&(e.above&&(r&=-65),e.left&&(r&=-129)),t.write_shift(1,r);for(var i=1;i<3;++i)t.write_shift(1,0);return x2({auto:1},t),t.write_shift(-4,-1),t.write_shift(-4,-1),r7(n,t),t.slice(0,t.l)}function Tee(n){var e=ec(n);return[e]}function Nee(n,e,t){return t==null&&(t=Ft(8)),ed(e,t)}function Cee(n){var e=td(n);return[e]}function Iee(n,e,t){return t==null&&(t=Ft(4)),nd(e,t)}function Ree(n){var e=ec(n),t=n.read_shift(1);return[e,t,"b"]}function Oee(n,e,t){return t==null&&(t=Ft(9)),ed(e,t),t.write_shift(1,n.v?1:0),t}function kee(n){var e=td(n),t=n.read_shift(1);return[e,t,"b"]}function Dee(n,e,t){return t==null&&(t=Ft(5)),nd(e,t),t.write_shift(1,n.v?1:0),t}function Lee(n){var e=ec(n),t=n.read_shift(1);return[e,t,"e"]}function Mee(n,e,t){return t==null&&(t=Ft(9)),ed(e,t),t.write_shift(1,n.v),t}function Pee(n){var e=td(n),t=n.read_shift(1);return[e,t,"e"]}function jee(n,e,t){return t==null&&(t=Ft(8)),nd(e,t),t.write_shift(1,n.v),t.write_shift(2,0),t.write_shift(1,0),t}function Fee(n){var e=ec(n),t=n.read_shift(4);return[e,t,"s"]}function Bee(n,e,t){return t==null&&(t=Ft(12)),ed(e,t),t.write_shift(4,e.v),t}function Uee(n){var e=td(n),t=n.read_shift(4);return[e,t,"s"]}function Vee(n,e,t){return t==null&&(t=Ft(8)),nd(e,t),t.write_shift(4,e.v),t}function zee(n){var e=ec(n),t=U0(n);return[e,t,"n"]}function Hee(n,e,t){return t==null&&(t=Ft(16)),ed(e,t),Bf(n.v,t),t}function qee(n){var e=td(n),t=U0(n);return[e,t,"n"]}function Gee(n,e,t){return t==null&&(t=Ft(12)),nd(e,t),Bf(n.v,t),t}function Wee(n){var e=ec(n),t=i7(n);return[e,t,"n"]}function Xee(n,e,t){return t==null&&(t=Ft(12)),ed(e,t),s7(n.v,t),t}function Yee(n){var e=td(n),t=i7(n);return[e,t,"n"]}function Kee(n,e,t){return t==null&&(t=Ft(8)),nd(e,t),s7(n.v,t),t}function $ee(n){var e=ec(n),t=q5(n);return[e,t,"is"]}function Zee(n){var e=ec(n),t=ko(n);return[e,t,"str"]}function Qee(n,e,t){return t==null&&(t=Ft(12+4*n.v.length)),ed(e,t),$a(n.v,t),t.length>t.l?t.slice(0,t.l):t}function Jee(n){var e=td(n),t=ko(n);return[e,t,"str"]}function ete(n,e,t){return t==null&&(t=Ft(8+4*n.v.length)),nd(e,t),$a(n.v,t),t.length>t.l?t.slice(0,t.l):t}function tte(n,e,t){var r=n.l+e,i=ec(n);i.r=t["!row"];var s=n.read_shift(1),o=[i,s,"b"];if(t.cellFormula){n.l+=2;var u=mx(n,r-n.l,t);o[3]=N0(u,null,i,t.supbooks,t)}else n.l=r;return o}function nte(n,e,t){var r=n.l+e,i=ec(n);i.r=t["!row"];var s=n.read_shift(1),o=[i,s,"e"];if(t.cellFormula){n.l+=2;var u=mx(n,r-n.l,t);o[3]=N0(u,null,i,t.supbooks,t)}else n.l=r;return o}function rte(n,e,t){var r=n.l+e,i=ec(n);i.r=t["!row"];var s=U0(n),o=[i,s,"n"];if(t.cellFormula){n.l+=2;var u=mx(n,r-n.l,t);o[3]=N0(u,null,i,t.supbooks,t)}else n.l=r;return o}function ite(n,e,t){var r=n.l+e,i=ec(n);i.r=t["!row"];var s=ko(n),o=[i,s,"str"];if(t.cellFormula){n.l+=2;var u=mx(n,r-n.l,t);o[3]=N0(u,null,i,t.supbooks,t)}else n.l=r;return o}var ste=rd,ate=B0;function ote(n,e){return e==null&&(e=Ft(4)),e.write_shift(4,n),e}function lte(n,e){var t=n.l+e,r=rd(n),i=G5(n),s=ko(n),o=ko(n),u=ko(n);n.l=t;var f={rfx:r,relId:i,loc:s,display:u};return o&&(f.Tooltip=o),f}function cte(n,e){var t=Ft(50+4*(n[1].Target.length+(n[1].Tooltip||"").length));B0({s:Ka(n[0]),e:Ka(n[0])},t),W5("rId"+e,t);var r=n[1].Target.indexOf("#"),i=r==-1?"":n[1].Target.slice(r+1);return $a(i||"",t),$a(n[1].Tooltip||"",t),$a("",t),t.slice(0,t.l)}function ute(){}function hte(n,e,t){var r=n.l+e,i=a7(n),s=n.read_shift(1),o=[i];if(o[2]=s,t.cellFormula){var u=JJ(n,r-n.l,t);o[1]=u}else n.l=r;return o}function fte(n,e,t){var r=n.l+e,i=rd(n),s=[i];if(t.cellFormula){var o=tee(n,r-n.l,t);s[1]=o,n.l=r}else n.l=r;return s}function dte(n,e,t){t==null&&(t=Ft(18));var r=gx(n,e);t.write_shift(-4,n),t.write_shift(-4,n),t.write_shift(4,(r.width||10)*256),t.write_shift(4,0);var i=0;return e.hidden&&(i|=1),typeof r.width=="number"&&(i|=2),e.level&&(i|=e.level<<8),t.write_shift(2,i),t}var H7=["left","right","top","bottom","header","footer"];function mte(n){var e={};return H7.forEach(function(t){e[t]=U0(n)}),e}function gte(n,e){return e==null&&(e=Ft(48)),V7(n),H7.forEach(function(t){Bf(n[t],e)}),e}function pte(n){var e=n.read_shift(2);return n.l+=28,{RTL:e&32}}function xte(n,e,t){t==null&&(t=Ft(30));var r=924;return(((e||{}).Views||[])[0]||{}).RTL&&(r|=32),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,100),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(4,0),t}function vte(n){var e=Ft(24);return e.write_shift(4,4),e.write_shift(4,1),B0(n,e),e}function _te(n,e){return e==null&&(e=Ft(66)),e.write_shift(2,n.password?A7(n.password):0),e.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(t){t[1]?e.write_shift(4,n[t[0]]!=null&&!n[t[0]]?1:0):e.write_shift(4,n[t[0]]!=null&&n[t[0]]?0:1)}),e}function yte(){}function wte(){}function bte(n,e,t,r,i,s,o){if(e.v===void 0)return!1;var u="";switch(e.t){case"b":u=e.v?"1":"0";break;case"d":e=gl(e),e.z=e.z||js[14],e.v=ml(Xo(e.v)),e.t="n";break;case"n":case"e":u=""+e.v;break;default:u=e.v;break}var f={r:t,c:r};switch(f.s=ef(i.cellXfs,e,i),e.l&&s["!links"].push([Ti(f),e.l]),e.c&&s["!comments"].push([Ti(f),e.c]),e.t){case"s":case"str":return i.bookSST?(u=Q5(i.Strings,e.v,i.revStrings),f.t="s",f.v=u,o?en(n,18,Vee(e,f)):en(n,7,Bee(e,f))):(f.t="str",o?en(n,17,ete(e,f)):en(n,6,Qee(e,f))),!0;case"n":return e.v==(e.v|0)&&e.v>-1e3&&e.v<1e3?o?en(n,13,Kee(e,f)):en(n,2,Xee(e,f)):o?en(n,16,Gee(e,f)):en(n,5,Hee(e,f)),!0;case"b":return f.t="b",o?en(n,15,Dee(e,f)):en(n,4,Oee(e,f)),!0;case"e":return f.t="e",o?en(n,14,jee(e,f)):en(n,3,Mee(e,f)),!0}return o?en(n,12,Iee(e,f)):en(n,1,Nee(e,f)),!0}function Ete(n,e,t,r){var i=ss(e["!ref"]||"A1"),s,o="",u=[];en(n,145);var f=Array.isArray(e),d=i.e.r;e["!rows"]&&(d=Math.max(i.e.r,e["!rows"].length-1));for(var x=i.s.r;x<=d;++x){o=go(x),yee(n,e,i,x);var w=!1;if(x<=i.e.r)for(var A=i.s.c;A<=i.e.c;++A){x===i.s.r&&(u[A]=Oo(A)),s=u[A]+o;var E=f?(e[x]||[])[A]:e[s];if(!E){w=!1;continue}w=bte(n,E,x,A,r,e,w)}}en(n,146)}function Ate(n,e){!e||!e["!merges"]||(en(n,177,ote(e["!merges"].length)),e["!merges"].forEach(function(t){en(n,176,ate(t))}),en(n,178))}function Ste(n,e){!e||!e["!cols"]||(en(n,390),e["!cols"].forEach(function(t,r){t&&en(n,60,dte(r,t))}),en(n,391))}function Tte(n,e){!e||!e["!ref"]||(en(n,648),en(n,649,vte(ss(e["!ref"]))),en(n,650))}function Nte(n,e,t){e["!links"].forEach(function(r){if(r[1].Target){var i=bi(t,-1,r[1].Target.replace(/#.*$/,""),oi.HLINK);en(n,494,cte(r,i))}}),delete e["!links"]}function Cte(n,e,t,r){if(e["!comments"].length>0){var i=bi(r,-1,"../drawings/vmlDrawing"+(t+1)+".vml",oi.VML);en(n,551,W5("rId"+i)),e["!legacy"]=i}}function Ite(n,e,t,r){if(e["!autofilter"]){var i=e["!autofilter"],s=typeof i.ref=="string"?i.ref:ma(i.ref);t.Workbook||(t.Workbook={Sheets:[]}),t.Workbook.Names||(t.Workbook.Names=[]);var o=t.Workbook.Names,u=Fl(s);u.s.r==u.e.r&&(u.e.r=Fl(e["!ref"]).e.r,s=ma(u));for(var f=0;f<o.length;++f){var d=o[f];if(d.Name=="_xlnm._FilterDatabase"&&d.Sheet==r){d.Ref="'"+t.SheetNames[r]+"'!"+s;break}}f==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+t.SheetNames[r]+"'!"+s}),en(n,161,B0(ss(s))),en(n,162)}}function Rte(n,e,t){en(n,133),en(n,137,xte(e,t)),en(n,138),en(n,134)}function Ote(n,e){e["!protect"]&&en(n,535,_te(e["!protect"]))}function kte(n,e,t,r){var i=dl(),s=t.SheetNames[n],o=t.Sheets[s]||{},u=s;try{t&&t.Workbook&&(u=t.Workbook.Sheets[n].CodeName||u)}catch{}var f=ss(o["!ref"]||"A1");if(f.e.c>16383||f.e.r>1048575){if(e.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");f.e.c=Math.min(f.e.c,16383),f.e.r=Math.min(f.e.c,1048575)}return o["!links"]=[],o["!comments"]=[],en(i,129),(t.vbaraw||o["!outline"])&&en(i,147,See(u,o["!outline"])),en(i,148,bee(f)),Rte(i,o,t.Workbook),Ste(i,o),Ete(i,o,n,e),Ote(i,o),Ite(i,o,t,n),Ate(i,o),Nte(i,o,r),o["!margins"]&&en(i,476,gte(o["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&Tte(i,o),Cte(i,o,n,r),en(i,130),i.end()}function Dte(n,e){n.l+=10;var t=ko(n);return{name:t}}var Lte=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function Mte(n){return!n.Workbook||!n.Workbook.WBProps?"false":f$(n.Workbook.WBProps.date1904)?"true":"false"}var Pte="][*?/\\".split("");function q7(n,e){if(n.length>31)throw new Error("Sheet names cannot exceed 31 chars");var t=!0;return Pte.forEach(function(r){if(n.indexOf(r)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),t}function jte(n,e,t){n.forEach(function(r,i){q7(r);for(var s=0;s<i;++s)if(r==n[s])throw new Error("Duplicate Sheet Name: "+r);if(t){var o=e&&e[i]&&e[i].CodeName||r;if(o.charCodeAt(0)==95&&o.length>22)throw new Error("Bad Code Name: Worksheet"+o)}})}function Fte(n){if(!n||!n.SheetNames||!n.Sheets)throw new Error("Invalid Workbook");if(!n.SheetNames.length)throw new Error("Workbook is empty");var e=n.Workbook&&n.Workbook.Sheets||[];jte(n.SheetNames,e,!!n.vbaraw);for(var t=0;t<n.SheetNames.length;++t)aee(n.Sheets[n.SheetNames[t]],n.SheetNames[t],t)}function G7(n){var e=[ga];e[e.length]=pn("workbook",null,{xmlns:j0[0],"xmlns:r":Ya.r});var t=n.Workbook&&(n.Workbook.Names||[]).length>0,r={codeName:"ThisWorkbook"};n.Workbook&&n.Workbook.WBProps&&(Lte.forEach(function(u){n.Workbook.WBProps[u[0]]!=null&&n.Workbook.WBProps[u[0]]!=u[1]&&(r[u[0]]=n.Workbook.WBProps[u[0]])}),n.Workbook.WBProps.CodeName&&(r.codeName=n.Workbook.WBProps.CodeName,delete r.CodeName)),e[e.length]=pn("workbookPr",null,r);var i=n.Workbook&&n.Workbook.Sheets||[],s=0;if(i&&i[0]&&i[0].Hidden){for(e[e.length]="<bookViews>",s=0;s!=n.SheetNames.length&&!(!i[s]||!i[s].Hidden);++s);s==n.SheetNames.length&&(s=0),e[e.length]='<workbookView firstSheet="'+s+'" activeTab="'+s+'"/>',e[e.length]="</bookViews>"}for(e[e.length]="<sheets>",s=0;s!=n.SheetNames.length;++s){var o={name:Ai(n.SheetNames[s].slice(0,31))};if(o.sheetId=""+(s+1),o["r:id"]="rId"+(s+1),i[s])switch(i[s].Hidden){case 1:o.state="hidden";break;case 2:o.state="veryHidden";break}e[e.length]=pn("sheet",null,o)}return e[e.length]="</sheets>",t&&(e[e.length]="<definedNames>",n.Workbook&&n.Workbook.Names&&n.Workbook.Names.forEach(function(u){var f={name:u.Name};u.Comment&&(f.comment=u.Comment),u.Sheet!=null&&(f.localSheetId=""+u.Sheet),u.Hidden&&(f.hidden="1"),u.Ref&&(e[e.length]=pn("definedName",Ai(u.Ref),f))}),e[e.length]="</definedNames>"),e.length>2&&(e[e.length]="</workbook>",e[1]=e[1].replace("/>",">")),e.join("")}function Bte(n,e){var t={};return t.Hidden=n.read_shift(4),t.iTabID=n.read_shift(4),t.strRelID=tw(n),t.name=ko(n),t}function Ute(n,e){return e||(e=Ft(127)),e.write_shift(4,n.Hidden),e.write_shift(4,n.iTabID),W5(n.strRelID,e),$a(n.name.slice(0,31),e),e.length>e.l?e.slice(0,e.l):e}function Vte(n,e){var t={},r=n.read_shift(4);t.defaultThemeVersion=n.read_shift(4);var i=e>8?ko(n):"";return i.length>0&&(t.CodeName=i),t.autoCompressPictures=!!(r&65536),t.backupFile=!!(r&64),t.checkCompatibility=!!(r&4096),t.date1904=!!(r&1),t.filterPrivacy=!!(r&8),t.hidePivotFieldList=!!(r&1024),t.promptedSolutions=!!(r&16),t.publishItems=!!(r&2048),t.refreshAllConnections=!!(r&262144),t.saveExternalLinkValues=!!(r&128),t.showBorderUnselectedTables=!!(r&4),t.showInkAnnotation=!!(r&32),t.showObjects=["all","placeholders","none"][r>>13&3],t.showPivotChartFilter=!!(r&32768),t.updateLinks=["userSet","never","always"][r>>8&3],t}function zte(n,e){e||(e=Ft(72));var t=0;return n&&n.filterPrivacy&&(t|=8),e.write_shift(4,t),e.write_shift(4,0),r7(n&&n.CodeName||"ThisWorkbook",e),e.slice(0,e.l)}function Hte(n,e,t){var r=n.l+e;n.l+=4,n.l+=1;var i=n.read_shift(4),s=M$(n),o=eee(n,0,t),u=G5(n);n.l=r;var f={Name:s,Ptg:o};return i<268435455&&(f.Sheet=i),u&&(f.Comment=u),f}function qte(n,e){en(n,143);for(var t=0;t!=e.SheetNames.length;++t){var r=e.Workbook&&e.Workbook.Sheets&&e.Workbook.Sheets[t]&&e.Workbook.Sheets[t].Hidden||0,i={Hidden:r,iTabID:t+1,strRelID:"rId"+(t+1),name:e.SheetNames[t]};en(n,156,Ute(i))}en(n,144)}function Gte(n,e){e||(e=Ft(127));for(var t=0;t!=4;++t)e.write_shift(4,0);return $a("SheetJS",e),$a(c2.version,e),$a(c2.version,e),$a("7262",e),e.length>e.l?e.slice(0,e.l):e}function Wte(n,e){e||(e=Ft(29)),e.write_shift(-4,0),e.write_shift(-4,460),e.write_shift(4,28800),e.write_shift(4,17600),e.write_shift(4,500),e.write_shift(4,n),e.write_shift(4,n);var t=120;return e.write_shift(1,t),e.length>e.l?e.slice(0,e.l):e}function Xte(n,e){if(!(!e.Workbook||!e.Workbook.Sheets)){for(var t=e.Workbook.Sheets,r=0,i=-1,s=-1;r<t.length;++r)!t[r]||!t[r].Hidden&&i==-1?i=r:t[r].Hidden==1&&s==-1&&(s=r);s>i||(en(n,135),en(n,158,Wte(i)),en(n,136))}}function Yte(n,e){var t=dl();return en(t,131),en(t,128,Gte()),en(t,153,zte(n.Workbook&&n.Workbook.WBProps||null)),Xte(t,n),qte(t,n),en(t,132),t.end()}function Kte(n,e,t){return(e.slice(-4)===".bin"?Yte:G7)(n)}function $te(n,e,t,r,i){return(e.slice(-4)===".bin"?kte:z7)(n,t,r,i)}function Zte(n,e,t){return(e.slice(-4)===".bin"?gQ:N7)(n,t)}function Qte(n,e,t){return(e.slice(-4)===".bin"?zZ:E7)(n,t)}function Jte(n,e,t){return(e.slice(-4)===".bin"?OQ:k7)(n)}function ene(n){return(n.slice(-4)===".bin"?EQ:R7)()}function tne(n,e){var t=[];return n.Props&&t.push(Z$(n.Props,e)),n.Custprops&&t.push(Q$(n.Props,n.Custprops)),t.join("")}function nne(){return""}function rne(n,e){var t=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return e.cellXfs.forEach(function(r,i){var s=[];s.push(pn("NumberFormat",null,{"ss:Format":Ai(js[r.numFmtId])}));var o={"ss:ID":"s"+(21+i)};t.push(pn("Style",s.join(""),o))}),pn("Styles",t.join(""))}function W7(n){return pn("NamedRange",null,{"ss:Name":n.Name,"ss:RefersTo":"="+$5(n.Ref,{r:0,c:0})})}function ine(n){if(!((n||{}).Workbook||{}).Names)return"";for(var e=n.Workbook.Names,t=[],r=0;r<e.length;++r){var i=e[r];i.Sheet==null&&(i.Name.match(/^_xlfn\./)||t.push(W7(i)))}return pn("Names",t.join(""))}function sne(n,e,t,r){if(!n||!((r||{}).Workbook||{}).Names)return"";for(var i=r.Workbook.Names,s=[],o=0;o<i.length;++o){var u=i[o];u.Sheet==t&&(u.Name.match(/^_xlfn\./)||s.push(W7(u)))}return s.join("")}function ane(n,e,t,r){if(!n)return"";var i=[];if(n["!margins"]&&(i.push("<PageSetup>"),n["!margins"].header&&i.push(pn("Header",null,{"x:Margin":n["!margins"].header})),n["!margins"].footer&&i.push(pn("Footer",null,{"x:Margin":n["!margins"].footer})),i.push(pn("PageMargins",null,{"x:Bottom":n["!margins"].bottom||"0.75","x:Left":n["!margins"].left||"0.7","x:Right":n["!margins"].right||"0.7","x:Top":n["!margins"].top||"0.75"})),i.push("</PageSetup>")),r&&r.Workbook&&r.Workbook.Sheets&&r.Workbook.Sheets[t])if(r.Workbook.Sheets[t].Hidden)i.push(pn("Visible",r.Workbook.Sheets[t].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var s=0;s<t&&!(r.Workbook.Sheets[s]&&!r.Workbook.Sheets[s].Hidden);++s);s==t&&i.push("<Selected/>")}return((((r||{}).Workbook||{}).Views||[])[0]||{}).RTL&&i.push("<DisplayRightToLeft/>"),n["!protect"]&&(i.push(mo("ProtectContents","True")),n["!protect"].objects&&i.push(mo("ProtectObjects","True")),n["!protect"].scenarios&&i.push(mo("ProtectScenarios","True")),n["!protect"].selectLockedCells!=null&&!n["!protect"].selectLockedCells?i.push(mo("EnableSelection","NoSelection")):n["!protect"].selectUnlockedCells!=null&&!n["!protect"].selectUnlockedCells&&i.push(mo("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(o){n["!protect"][o[0]]&&i.push("<"+o[1]+"/>")})),i.length==0?"":pn("WorksheetOptions",i.join(""),{xmlns:Cl.x})}function one(n){return n.map(function(e){var t=h$(e.t||""),r=pn("ss:Data",t,{xmlns:"http://www.w3.org/TR/REC-html40"});return pn("Comment",r,{"ss:Author":e.a})}).join("")}function lne(n,e,t,r,i,s,o){if(!n||n.v==null&&n.f==null)return"";var u={};if(n.f&&(u["ss:Formula"]="="+Ai($5(n.f,o))),n.F&&n.F.slice(0,e.length)==e){var f=Ka(n.F.slice(e.length+1));u["ss:ArrayRange"]="RC:R"+(f.r==o.r?"":"["+(f.r-o.r)+"]")+"C"+(f.c==o.c?"":"["+(f.c-o.c)+"]")}if(n.l&&n.l.Target&&(u["ss:HRef"]=Ai(n.l.Target),n.l.Tooltip&&(u["x:HRefScreenTip"]=Ai(n.l.Tooltip))),t["!merges"])for(var d=t["!merges"],x=0;x!=d.length;++x)d[x].s.c!=o.c||d[x].s.r!=o.r||(d[x].e.c>d[x].s.c&&(u["ss:MergeAcross"]=d[x].e.c-d[x].s.c),d[x].e.r>d[x].s.r&&(u["ss:MergeDown"]=d[x].e.r-d[x].s.r));var w="",A="";switch(n.t){case"z":if(!r.sheetStubs)return"";break;case"n":w="Number",A=String(n.v);break;case"b":w="Boolean",A=n.v?"1":"0";break;case"e":w="Error",A=Um[n.v];break;case"d":w="DateTime",A=new Date(n.v).toISOString(),n.z==null&&(n.z=n.z||js[14]);break;case"s":w="String",A=u$(n.v||"");break}var E=ef(r.cellXfs,n,r);u["ss:StyleID"]="s"+(21+E),u["ss:Index"]=o.c+1;var I=n.v!=null?A:"",C=n.t=="z"?"":'<Data ss:Type="'+w+'">'+I+"</Data>";return(n.c||[]).length>0&&(C+=one(n.c)),pn("Cell",C,u)}function cne(n,e){var t='<Row ss:Index="'+(n+1)+'"';return e&&(e.hpt&&!e.hpx&&(e.hpx=T7(e.hpt)),e.hpx&&(t+=' ss:AutoFitHeight="0" ss:Height="'+e.hpx+'"'),e.hidden&&(t+=' ss:Hidden="1"')),t+">"}function une(n,e,t,r){if(!n["!ref"])return"";var i=ss(n["!ref"]),s=n["!merges"]||[],o=0,u=[];n["!cols"]&&n["!cols"].forEach(function(L,j){Y5(L);var W=!!L.width,M=gx(j,L),G={"ss:Index":j+1};W&&(G["ss:Width"]=_2(M.width)),L.hidden&&(G["ss:Hidden"]="1"),u.push(pn("Column",null,G))});for(var f=Array.isArray(n),d=i.s.r;d<=i.e.r;++d){for(var x=[cne(d,(n["!rows"]||[])[d])],w=i.s.c;w<=i.e.c;++w){var A=!1;for(o=0;o!=s.length;++o)if(!(s[o].s.c>w)&&!(s[o].s.r>d)&&!(s[o].e.c<w)&&!(s[o].e.r<d)){(s[o].s.c!=w||s[o].s.r!=d)&&(A=!0);break}if(!A){var E={r:d,c:w},I=Ti(E),C=f?(n[d]||[])[w]:n[I];x.push(lne(C,I,n,e,t,r,E))}}x.push("</Row>"),x.length>2&&u.push(x.join(""))}return u.join("")}function hne(n,e,t){var r=[],i=t.SheetNames[n],s=t.Sheets[i],o=s?sne(s,e,n,t):"";return o.length>0&&r.push("<Names>"+o+"</Names>"),o=s?une(s,e,n,t):"",o.length>0&&r.push("<Table>"+o+"</Table>"),r.push(ane(s,e,n,t)),r.join("")}function fne(n,e){e||(e={}),n.SSF||(n.SSF=gl(js)),n.SSF&&(ux(),cx(n.SSF),e.revssf=hx(n.SSF),e.revssf[n.SSF[65535]]=0,e.ssf=n.SSF,e.cellXfs=[],ef(e.cellXfs,{},{revssf:{General:0}}));var t=[];t.push(tne(n,e)),t.push(nne()),t.push(""),t.push("");for(var r=0;r<n.SheetNames.length;++r)t.push(pn("Worksheet",hne(r,e,n),{"ss:Name":Ai(n.SheetNames[r])}));return t[2]=rne(n,e),t[3]=ine(n),ga+pn("Workbook",t.join(""),{xmlns:Cl.ss,"xmlns:o":Cl.o,"xmlns:x":Cl.x,"xmlns:ss":Cl.ss,"xmlns:dt":Cl.dt,"xmlns:html":Cl.html})}var ty={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function dne(n,e){var t=[],r=[],i=[],s=0,o,u=JT(f6,"n"),f=JT(d6,"n");if(n.Props)for(o=po(n.Props),s=0;s<o.length;++s)(Object.prototype.hasOwnProperty.call(u,o[s])?t:Object.prototype.hasOwnProperty.call(f,o[s])?r:i).push([o[s],n.Props[o[s]]]);if(n.Custprops)for(o=po(n.Custprops),s=0;s<o.length;++s)Object.prototype.hasOwnProperty.call(n.Props||{},o[s])||(Object.prototype.hasOwnProperty.call(u,o[s])?t:Object.prototype.hasOwnProperty.call(f,o[s])?r:i).push([o[s],n.Custprops[o[s]]]);var d=[];for(s=0;s<i.length;++s)p7.indexOf(i[s][0])>-1||d7.indexOf(i[s][0])>-1||i[s][1]!=null&&d.push(i[s]);r.length&&ji.utils.cfb_add(e,"/SummaryInformation",v6(r,ty.SI,f,d6)),(t.length||d.length)&&ji.utils.cfb_add(e,"/DocumentSummaryInformation",v6(t,ty.DSI,u,f6,d.length?d:null,ty.UDI))}function mne(n,e){var t=e||{},r=ji.utils.cfb_new({root:"R"}),i="/Workbook";switch(t.bookType||"xls"){case"xls":t.bookType="biff8";case"xla":t.bookType||(t.bookType="xla");case"biff8":i="/Workbook",t.biff=8;break;case"biff5":i="/Book",t.biff=5;break;default:throw new Error("invalid type "+t.bookType+" for XLS CFB")}return ji.utils.cfb_add(r,i,X7(n,t)),t.biff==8&&(n.Props||n.Custprops)&&dne(n,r),t.biff==8&&n.vbaraw&&kQ(r,ji.read(n.vbaraw,{type:typeof n.vbaraw=="string"?"binary":"buffer"})),r}var gne={0:{f:vee},1:{f:Tee},2:{f:Wee},3:{f:Lee},4:{f:Ree},5:{f:zee},6:{f:Zee},7:{f:Fee},8:{f:ite},9:{f:rte},10:{f:tte},11:{f:nte},12:{f:Cee},13:{f:Yee},14:{f:Pee},15:{f:kee},16:{f:qee},17:{f:Jee},18:{f:Uee},19:{f:q5},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:Hte},40:{},42:{},43:{f:ZZ},44:{f:KZ},45:{f:eQ},46:{f:nQ},47:{f:tQ},48:{},49:{f:C$},50:{},51:{f:vQ},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:IZ},62:{f:$ee},63:{f:AQ},64:{f:yte},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:iu,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:pte},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:Aee},148:{f:wee,p:16},151:{f:ute},152:{},153:{f:Vte},154:{},155:{},156:{f:Bte},157:{},158:{},159:{T:1,f:BZ},160:{T:-1},161:{T:1,f:rd},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:ste},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:pQ},336:{T:-1},337:{f:wQ,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:tw},357:{},358:{},359:{},360:{T:1},361:{},362:{f:EZ},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:hte},427:{f:fte},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:mte},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:Eee},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:lte},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:tw},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:IQ},633:{T:1},634:{T:-1},635:{T:1,f:NQ},636:{T:-1},637:{f:k$},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:Dte},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:wte},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function _n(n,e,t,r){var i=e;if(!isNaN(i)){var s=r||(t||[]).length||0,o=n.next(4);o.write_shift(2,i),o.write_shift(2,s),s>0&&V5(t)&&n.push(t)}}function pne(n,e,t,r){var i=(t||[]).length||0;if(i<=8224)return _n(n,e,t,i);var s=e;if(!isNaN(s)){for(var o=t.parts||[],u=0,f=0,d=0;d+(o[u]||8224)<=8224;)d+=o[u]||8224,u++;var x=n.next(4);for(x.write_shift(2,s),x.write_shift(2,d),n.push(t.slice(f,f+d)),f+=d;f<i;){for(x=n.next(4),x.write_shift(2,60),d=0;d+(o[u]||8224)<=8224;)d+=o[u]||8224,u++;x.write_shift(2,d),n.push(t.slice(f,f+d)),f+=d}}}function zm(n,e,t){return n||(n=Ft(7)),n.write_shift(2,e),n.write_shift(2,t),n.write_shift(2,0),n.write_shift(1,0),n}function xne(n,e,t,r){var i=Ft(9);return zm(i,n,e),v7(t,r||"b",i),i}function vne(n,e,t){var r=Ft(8+2*t.length);return zm(r,n,e),r.write_shift(1,t.length),r.write_shift(t.length,t,"sbcs"),r.l<r.length?r.slice(0,r.l):r}function _ne(n,e,t,r){if(e.v!=null)switch(e.t){case"d":case"n":var i=e.t=="d"?ml(Xo(e.v)):e.v;i==(i|0)&&i>=0&&i<65536?_n(n,2,DZ(t,r,i)):_n(n,3,kZ(t,r,i));return;case"b":case"e":_n(n,5,xne(t,r,e.v,e.t));return;case"s":case"str":_n(n,4,vne(t,r,(e.v||"").slice(0,255)));return}_n(n,1,zm(null,t,r))}function yne(n,e,t,r){var i=Array.isArray(e),s=ss(e["!ref"]||"A1"),o,u="",f=[];if(s.e.c>255||s.e.r>16383){if(r.WTF)throw new Error("Range "+(e["!ref"]||"A1")+" exceeds format limit A1:IV16384");s.e.c=Math.min(s.e.c,255),s.e.r=Math.min(s.e.c,16383),o=ma(s)}for(var d=s.s.r;d<=s.e.r;++d){u=go(d);for(var x=s.s.c;x<=s.e.c;++x){d===s.s.r&&(f[x]=Oo(x)),o=f[x]+u;var w=i?(e[d]||[])[x]:e[o];w&&_ne(n,w,d,x)}}}function wne(n,e){for(var t=e||{},r=dl(),i=0,s=0;s<n.SheetNames.length;++s)n.SheetNames[s]==t.sheet&&(i=s);if(i==0&&t.sheet&&n.SheetNames[0]!=t.sheet)throw new Error("Sheet not found: "+t.sheet);return _n(r,t.biff==4?1033:t.biff==3?521:9,X5(n,16,t)),yne(r,n.Sheets[n.SheetNames[i]],i,t),_n(r,10),r.end()}function bne(n,e,t){_n(n,49,gZ({sz:12,name:"Arial"},t))}function Ene(n,e,t){e&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)e[i]!=null&&_n(n,1054,vZ(i,e[i],t))})}function Ane(n,e){var t=Ft(19);t.write_shift(4,2151),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(2,3),t.write_shift(1,1),t.write_shift(4,0),_n(n,2151,t),t=Ft(39),t.write_shift(4,2152),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(2,3),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(2,1),t.write_shift(4,4),t.write_shift(2,0),w7(ss(e["!ref"]||"A1"),t),t.write_shift(4,4),_n(n,2152,t)}function Sne(n,e){for(var t=0;t<16;++t)_n(n,224,y6({numFmtId:0,style:!0},0,e));e.cellXfs.forEach(function(r){_n(n,224,y6(r,0,e))})}function Tne(n,e){for(var t=0;t<e["!links"].length;++t){var r=e["!links"][t];_n(n,440,TZ(r)),r[1].Tooltip&&_n(n,2048,NZ(r))}delete e["!links"]}function Nne(n,e){if(e){var t=0;e.forEach(function(r,i){++t<=256&&r&&_n(n,125,RZ(gx(i,r),i))})}}function Cne(n,e,t,r,i){var s=16+ef(i.cellXfs,e,i);if(e.v==null&&!e.bf){_n(n,513,Uf(t,r,s));return}if(e.bf)_n(n,6,QJ(e,t,r,i,s));else switch(e.t){case"d":case"n":var o=e.t=="d"?ml(Xo(e.v)):e.v;_n(n,515,bZ(t,r,o,s));break;case"b":case"e":_n(n,517,wZ(t,r,e.v,s,i,e.t));break;case"s":case"str":if(i.bookSST){var u=Q5(i.Strings,e.v,i.revStrings);_n(n,253,pZ(t,r,u,s))}else _n(n,516,xZ(t,r,(e.v||"").slice(0,255),s,i));break;default:_n(n,513,Uf(t,r,s))}}function Ine(n,e,t){var r=dl(),i=t.SheetNames[n],s=t.Sheets[i]||{},o=(t||{}).Workbook||{},u=(o.Sheets||[])[n]||{},f=Array.isArray(s),d=e.biff==8,x,w="",A=[],E=ss(s["!ref"]||"A1"),I=d?65536:16384;if(E.e.c>255||E.e.r>=I){if(e.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:IV16384");E.e.c=Math.min(E.e.c,255),E.e.r=Math.min(E.e.c,I-1)}_n(r,2057,X5(t,16,e)),_n(r,13,Xl(1)),_n(r,12,Xl(100)),_n(r,15,qo(!0)),_n(r,17,qo(!1)),_n(r,16,Bf(.001)),_n(r,95,qo(!0)),_n(r,42,qo(!1)),_n(r,43,qo(!1)),_n(r,130,Xl(1)),_n(r,128,yZ()),_n(r,131,qo(!1)),_n(r,132,qo(!1)),d&&Nne(r,s["!cols"]),_n(r,512,_Z(E,e)),d&&(s["!links"]=[]);for(var C=E.s.r;C<=E.e.r;++C){w=go(C);for(var L=E.s.c;L<=E.e.c;++L){C===E.s.r&&(A[L]=Oo(L)),x=A[L]+w;var j=f?(s[C]||[])[L]:s[x];j&&(Cne(r,j,C,L,e),d&&j.l&&s["!links"].push([x,j.l]))}}var W=u.CodeName||u.name||i;return d&&_n(r,574,mZ((o.Views||[])[0])),d&&(s["!merges"]||[]).length&&_n(r,229,SZ(s["!merges"])),d&&Tne(r,s),_n(r,442,y7(W)),d&&Ane(r,s),_n(r,10),r.end()}function Rne(n,e,t){var r=dl(),i=(n||{}).Workbook||{},s=i.Sheets||[],o=i.WBProps||{},u=t.biff==8,f=t.biff==5;if(_n(r,2057,X5(n,5,t)),t.bookType=="xla"&&_n(r,135),_n(r,225,u?Xl(1200):null),_n(r,193,tZ(2)),f&&_n(r,191),f&&_n(r,192),_n(r,226),_n(r,92,uZ("SheetJS",t)),_n(r,66,Xl(u?1200:1252)),u&&_n(r,353,Xl(0)),u&&_n(r,448),_n(r,317,OZ(n.SheetNames.length)),u&&n.vbaraw&&_n(r,211),u&&n.vbaraw){var d=o.CodeName||"ThisWorkbook";_n(r,442,y7(d))}_n(r,156,Xl(17)),_n(r,25,qo(!1)),_n(r,18,qo(!1)),_n(r,19,Xl(0)),u&&_n(r,431,qo(!1)),u&&_n(r,444,Xl(0)),_n(r,61,dZ()),_n(r,64,qo(!1)),_n(r,141,Xl(0)),_n(r,34,qo(Mte(n)=="true")),_n(r,14,qo(!0)),u&&_n(r,439,qo(!1)),_n(r,218,Xl(0)),bne(r,n,t),Ene(r,n.SSF,t),Sne(r,t),u&&_n(r,352,qo(!1));var x=r.end(),w=dl();u&&_n(w,140,CZ()),u&&t.Strings&&pne(w,252,fZ(t.Strings)),_n(w,10);var A=w.end(),E=dl(),I=0,C=0;for(C=0;C<n.SheetNames.length;++C)I+=(u?12:11)+(u?2:1)*n.SheetNames[C].length;var L=x.length+I+A.length;for(C=0;C<n.SheetNames.length;++C){var j=s[C]||{};_n(E,133,hZ({pos:L,hs:j.Hidden||0,dt:0,name:n.SheetNames[C]},t)),L+=e[C].length}var W=E.end();if(I!=W.length)throw new Error("BS8 "+I+" != "+W.length);var M=[];return x.length&&M.push(x),W.length&&M.push(W),A.length&&M.push(A),fo(M)}function One(n,e){var t=e||{},r=[];n&&!n.SSF&&(n.SSF=gl(js)),n&&n.SSF&&(ux(),cx(n.SSF),t.revssf=hx(n.SSF),t.revssf[n.SSF[65535]]=0,t.ssf=n.SSF),t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,J5(t),t.cellXfs=[],ef(t.cellXfs,{},{revssf:{General:0}}),n.Props||(n.Props={});for(var i=0;i<n.SheetNames.length;++i)r[r.length]=Ine(i,t,n);return r.unshift(Rne(n,r,t)),fo(r)}function X7(n,e){for(var t=0;t<=n.SheetNames.length;++t){var r=n.Sheets[n.SheetNames[t]];if(!(!r||!r["!ref"])){var i=Fl(r["!ref"]);i.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+n.SheetNames[t]+"' extends beyond column IV (255).  Data may be lost.")}}var s=e||{};switch(s.biff||2){case 8:case 5:return One(n,e);case 4:case 3:case 2:return wne(n,e)}throw new Error("invalid type "+s.bookType+" for BIFF")}function kne(n,e,t,r){for(var i=n["!merges"]||[],s=[],o=e.s.c;o<=e.e.c;++o){for(var u=0,f=0,d=0;d<i.length;++d)if(!(i[d].s.r>t||i[d].s.c>o)&&!(i[d].e.r<t||i[d].e.c<o)){if(i[d].s.r<t||i[d].s.c<o){u=-1;break}u=i[d].e.r-i[d].s.r+1,f=i[d].e.c-i[d].s.c+1;break}if(!(u<0)){var x=Ti({r:t,c:o}),w=r.dense?(n[t]||[])[o]:n[x],A=w&&w.v!=null&&(w.h||c$(w.w||(Xu(w),w.w)||""))||"",E={};u>1&&(E.rowspan=u),f>1&&(E.colspan=f),r.editable?A='<span contenteditable="true">'+A+"</span>":w&&(E["data-t"]=w&&w.t||"z",w.v!=null&&(E["data-v"]=w.v),w.z!=null&&(E["data-z"]=w.z),w.l&&(w.l.Target||"#").charAt(0)!="#"&&(A='<a href="'+w.l.Target+'">'+A+"</a>")),E.id=(r.id||"sjs")+"-"+x,s.push(pn("td",A,E))}}var I="<tr>";return I+s.join("")+"</tr>"}var Dne='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',Lne="</body></html>";function Mne(n,e,t){var r=[];return r.join("")+"<table"+(t&&t.id?' id="'+t.id+'"':"")+">"}function Y7(n,e){var t=e||{},r=t.header!=null?t.header:Dne,i=t.footer!=null?t.footer:Lne,s=[r],o=Fl(n["!ref"]);t.dense=Array.isArray(n),s.push(Mne(n,o,t));for(var u=o.s.r;u<=o.e.r;++u)s.push(kne(n,o,u,t));return s.push("</table>"+i),s.join("")}function K7(n,e,t){var r=t||{},i=0,s=0;if(r.origin!=null)if(typeof r.origin=="number")i=r.origin;else{var o=typeof r.origin=="string"?Ka(r.origin):r.origin;i=o.r,s=o.c}var u=e.getElementsByTagName("tr"),f=Math.min(r.sheetRows||1e7,u.length),d={s:{r:0,c:0},e:{r:i,c:s}};if(n["!ref"]){var x=Fl(n["!ref"]);d.s.r=Math.min(d.s.r,x.s.r),d.s.c=Math.min(d.s.c,x.s.c),d.e.r=Math.max(d.e.r,x.e.r),d.e.c=Math.max(d.e.c,x.e.c),i==-1&&(d.e.r=i=x.e.r+1)}var w=[],A=0,E=n["!rows"]||(n["!rows"]=[]),I=0,C=0,L=0,j=0,W=0,M=0;for(n["!cols"]||(n["!cols"]=[]);I<u.length&&C<f;++I){var G=u[I];if(N6(G)){if(r.display)continue;E[C]={hidden:!0}}var ce=G.children;for(L=j=0;L<ce.length;++L){var re=ce[L];if(!(r.display&&N6(re))){var F=re.hasAttribute("data-v")?re.getAttribute("data-v"):re.hasAttribute("v")?re.getAttribute("v"):d$(re.innerHTML),B=re.getAttribute("data-z")||re.getAttribute("z");for(A=0;A<w.length;++A){var D=w[A];D.s.c==j+s&&D.s.r<C+i&&C+i<=D.e.r&&(j=D.e.c+1-s,A=-1)}M=+re.getAttribute("colspan")||1,((W=+re.getAttribute("rowspan")||1)>1||M>1)&&w.push({s:{r:C+i,c:j+s},e:{r:C+i+(W||1)-1,c:j+s+(M||1)-1}});var Z={t:"s",v:F},U=re.getAttribute("data-t")||re.getAttribute("t")||"";F!=null&&(F.length==0?Z.t=U||"z":r.raw||F.trim().length==0||U=="s"||(F==="TRUE"?Z={t:"b",v:!0}:F==="FALSE"?Z={t:"b",v:!1}:isNaN(Fu(F))?isNaN(dm(F).getDate())||(Z={t:"d",v:Xo(F)},r.cellDates||(Z={t:"n",v:ml(Z.v)}),Z.z=r.dateNF||js[14]):Z={t:"n",v:Fu(F)})),Z.z===void 0&&B!=null&&(Z.z=B);var H="",X=re.getElementsByTagName("A");if(X&&X.length)for(var ne=0;ne<X.length&&!(X[ne].hasAttribute("href")&&(H=X[ne].getAttribute("href"),H.charAt(0)!="#"));++ne);H&&H.charAt(0)!="#"&&(Z.l={Target:H}),r.dense?(n[C+i]||(n[C+i]=[]),n[C+i][j+s]=Z):n[Ti({c:j+s,r:C+i})]=Z,d.e.c<j+s&&(d.e.c=j+s),j+=M}}++C}return w.length&&(n["!merges"]=(n["!merges"]||[]).concat(w)),d.e.r=Math.max(d.e.r,C-1+i),n["!ref"]=ma(d),C>=f&&(n["!fullref"]=ma((d.e.r=u.length-I+C-1+i,d))),n}function $7(n,e){var t=e||{},r=t.dense?[]:{};return K7(r,n,e)}function Pne(n,e){return Jf($7(n,e),e)}function N6(n){var e="",t=jne(n);return t&&(e=t(n).getPropertyValue("display")),e||(e=n.style&&n.style.display),e==="none"}function jne(n){return n.ownerDocument.defaultView&&typeof n.ownerDocument.defaultView.getComputedStyle=="function"?n.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var Fne=(function(){var n=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),e="<office:document-styles "+gm({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+n+"</office:document-styles>";return function(){return ga+e}})(),C6=(function(){var n=function(s){return Ai(s).replace(/  +/g,function(o){return'<text:s text:c="'+o.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},e=`          <table:table-cell />
`,t=`          <table:covered-table-cell/>
`,r=function(s,o,u){var f=[];f.push('      <table:table table:name="'+Ai(o.SheetNames[u])+`" table:style-name="ta1">
`);var d=0,x=0,w=Fl(s["!ref"]||"A1"),A=s["!merges"]||[],E=0,I=Array.isArray(s);if(s["!cols"])for(x=0;x<=w.e.c;++x)f.push("        <table:table-column"+(s["!cols"][x]?' table:style-name="co'+s["!cols"][x].ods+'"':"")+`></table:table-column>
`);var C="",L=s["!rows"]||[];for(d=0;d<w.s.r;++d)C=L[d]?' table:style-name="ro'+L[d].ods+'"':"",f.push("        <table:table-row"+C+`></table:table-row>
`);for(;d<=w.e.r;++d){for(C=L[d]?' table:style-name="ro'+L[d].ods+'"':"",f.push("        <table:table-row"+C+`>
`),x=0;x<w.s.c;++x)f.push(e);for(;x<=w.e.c;++x){var j=!1,W={},M="";for(E=0;E!=A.length;++E)if(!(A[E].s.c>x)&&!(A[E].s.r>d)&&!(A[E].e.c<x)&&!(A[E].e.r<d)){(A[E].s.c!=x||A[E].s.r!=d)&&(j=!0),W["table:number-columns-spanned"]=A[E].e.c-A[E].s.c+1,W["table:number-rows-spanned"]=A[E].e.r-A[E].s.r+1;break}if(j){f.push(t);continue}var G=Ti({r:d,c:x}),ce=I?(s[d]||[])[x]:s[G];if(ce&&ce.f&&(W["table:formula"]=Ai(iee(ce.f)),ce.F&&ce.F.slice(0,G.length)==G)){var re=Fl(ce.F);W["table:number-matrix-columns-spanned"]=re.e.c-re.s.c+1,W["table:number-matrix-rows-spanned"]=re.e.r-re.s.r+1}if(!ce){f.push(e);continue}switch(ce.t){case"b":M=ce.v?"TRUE":"FALSE",W["office:value-type"]="boolean",W["office:boolean-value"]=ce.v?"true":"false";break;case"n":M=ce.w||String(ce.v||0),W["office:value-type"]="float",W["office:value"]=ce.v||0;break;case"s":case"str":M=ce.v==null?"":ce.v,W["office:value-type"]="string";break;case"d":M=ce.w||Xo(ce.v).toISOString(),W["office:value-type"]="date",W["office:date-value"]=Xo(ce.v).toISOString(),W["table:style-name"]="ce1";break;default:f.push(e);continue}var F=n(M);if(ce.l&&ce.l.Target){var B=ce.l.Target;B=B.charAt(0)=="#"?"#"+see(B.slice(1)):B,B.charAt(0)!="#"&&!B.match(/^\w+:/)&&(B="../"+B),F=pn("text:a",F,{"xlink:href":B.replace(/&/g,"&amp;")})}f.push("          "+pn("table:table-cell",pn("text:p",F,{}),W)+`
`)}f.push(`        </table:table-row>
`)}return f.push(`      </table:table>
`),f.join("")},i=function(s,o){s.push(` <office:automatic-styles>
`),s.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),s.push(`   <number:month number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:day number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:year/>
`),s.push(`  </number:date-style>
`);var u=0;o.SheetNames.map(function(d){return o.Sheets[d]}).forEach(function(d){if(d&&d["!cols"]){for(var x=0;x<d["!cols"].length;++x)if(d["!cols"][x]){var w=d["!cols"][x];if(w.width==null&&w.wpx==null&&w.wch==null)continue;Y5(w),w.ods=u;var A=d["!cols"][x].wpx+"px";s.push('  <style:style style:name="co'+u+`" style:family="table-column">
`),s.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+A+`"/>
`),s.push(`  </style:style>
`),++u}}});var f=0;o.SheetNames.map(function(d){return o.Sheets[d]}).forEach(function(d){if(d&&d["!rows"]){for(var x=0;x<d["!rows"].length;++x)if(d["!rows"][x]){d["!rows"][x].ods=f;var w=d["!rows"][x].hpx+"px";s.push('  <style:style style:name="ro'+f+`" style:family="table-row">
`),s.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+w+`"/>
`),s.push(`  </style:style>
`),++f}}}),s.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),s.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),s.push(`  </style:style>
`),s.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),s.push(` </office:automatic-styles>
`)};return function(o,u){var f=[ga],d=gm({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),x=gm({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});u.bookType=="fods"?(f.push("<office:document"+d+x+`>
`),f.push(h7().replace(/office:document-meta/g,"office:meta"))):f.push("<office:document-content"+d+`>
`),i(f,o),f.push(`  <office:body>
`),f.push(`    <office:spreadsheet>
`);for(var w=0;w!=o.SheetNames.length;++w)f.push(r(o.Sheets[o.SheetNames[w]],o,w));return f.push(`    </office:spreadsheet>
`),f.push(`  </office:body>
`),u.bookType=="fods"?f.push("</office:document>"):f.push("</office:document-content>"),f.join("")}})();function Z7(n,e){if(e.bookType=="fods")return C6(n,e);var t=j5(),r="",i=[],s=[];return r="mimetype",Ir(t,r,"application/vnd.oasis.opendocument.spreadsheet"),r="content.xml",Ir(t,r,C6(n,e)),i.push([r,"text/xml"]),s.push([r,"ContentFile"]),r="styles.xml",Ir(t,r,Fne(n,e)),i.push([r,"text/xml"]),s.push([r,"StylesFile"]),r="meta.xml",Ir(t,r,ga+h7()),i.push([r,"text/xml"]),s.push([r,"MetadataFile"]),r="manifest.rdf",Ir(t,r,$$(s)),i.push([r,"application/rdf+xml"]),r="META-INF/manifest.xml",Ir(t,r,Y$(i)),t}function b2(n){return new DataView(n.buffer,n.byteOffset,n.byteLength)}function Bne(n){return typeof TextEncoder<"u"?new TextEncoder().encode(n):mc(mm(n))}function Une(n,e){e:for(var t=0;t<=n.length-e.length;++t){for(var r=0;r<e.length;++r)if(n[t+r]!=e[r])continue e;return!0}return!1}function Kh(n){var e=n.reduce(function(i,s){return i+s.length},0),t=new Uint8Array(e),r=0;return n.forEach(function(i){t.set(i,r),r+=i.length}),t}function Vne(n,e,t){var r=Math.floor(t==0?0:Math.LOG10E*Math.log(Math.abs(t)))+6176-20,i=t/Math.pow(10,r-6176);n[e+15]|=r>>7,n[e+14]|=(r&127)<<1;for(var s=0;i>=1;++s,i/=256)n[e+s]=i&255;n[e+15]|=t>=0?0:128}function pm(n,e){var t=e?e[0]:0,r=n[t]&127;e:if(n[t++]>=128&&(r|=(n[t]&127)<<7,n[t++]<128||(r|=(n[t]&127)<<14,n[t++]<128)||(r|=(n[t]&127)<<21,n[t++]<128)||(r+=(n[t]&127)*Math.pow(2,28),++t,n[t++]<128)||(r+=(n[t]&127)*Math.pow(2,35),++t,n[t++]<128)||(r+=(n[t]&127)*Math.pow(2,42),++t,n[t++]<128)))break e;return e&&(e[0]=t),r}function wi(n){var e=new Uint8Array(7);e[0]=n&127;var t=1;e:if(n>127){if(e[t-1]|=128,e[t]=n>>7&127,++t,n<=16383||(e[t-1]|=128,e[t]=n>>14&127,++t,n<=2097151)||(e[t-1]|=128,e[t]=n>>21&127,++t,n<=268435455)||(e[t-1]|=128,e[t]=n/256>>>21&127,++t,n<=34359738367)||(e[t-1]|=128,e[t]=n/65536>>>21&127,++t,n<=4398046511103))break e;e[t-1]|=128,e[t]=n/16777216>>>21&127,++t}return e.slice(0,t)}function g0(n){var e=0,t=n[e]&127;e:if(n[e++]>=128){if(t|=(n[e]&127)<<7,n[e++]<128||(t|=(n[e]&127)<<14,n[e++]<128)||(t|=(n[e]&127)<<21,n[e++]<128))break e;t|=(n[e]&127)<<28}return t}function Na(n){for(var e=[],t=[0];t[0]<n.length;){var r=t[0],i=pm(n,t),s=i&7;i=Math.floor(i/8);var o=0,u;if(i==0)break;switch(s){case 0:{for(var f=t[0];n[t[0]++]>=128;);u=n.slice(f,t[0])}break;case 5:o=4,u=n.slice(t[0],t[0]+o),t[0]+=o;break;case 1:o=8,u=n.slice(t[0],t[0]+o),t[0]+=o;break;case 2:o=pm(n,t),u=n.slice(t[0],t[0]+o),t[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(s," for Field ").concat(i," at offset ").concat(r))}var d={data:u,type:s};e[i]==null?e[i]=[d]:e[i].push(d)}return e}function co(n){var e=[];return n.forEach(function(t,r){t.forEach(function(i){i.data&&(e.push(wi(r*8+i.type)),i.type==2&&e.push(wi(i.data.length)),e.push(i.data))})}),Kh(e)}function fc(n){for(var e,t=[],r=[0];r[0]<n.length;){var i=pm(n,r),s=Na(n.slice(r[0],r[0]+i));r[0]+=i;var o={id:g0(s[1][0].data),messages:[]};s[2].forEach(function(u){var f=Na(u.data),d=g0(f[3][0].data);o.messages.push({meta:f,data:n.slice(r[0],r[0]+d)}),r[0]+=d}),(e=s[3])!=null&&e[0]&&(o.merge=g0(s[3][0].data)>>>0>0),t.push(o)}return t}function qd(n){var e=[];return n.forEach(function(t){var r=[];r[1]=[{data:wi(t.id),type:0}],r[2]=[],t.merge!=null&&(r[3]=[{data:wi(+!!t.merge),type:0}]);var i=[];t.messages.forEach(function(o){i.push(o.data),o.meta[3]=[{type:0,data:wi(o.data.length)}],r[2].push({data:co(o.meta),type:2})});var s=co(r);e.push(wi(s.length)),e.push(s),i.forEach(function(o){return e.push(o)})}),Kh(e)}function zne(n,e){if(n!=0)throw new Error("Unexpected Snappy chunk type ".concat(n));for(var t=[0],r=pm(e,t),i=[];t[0]<e.length;){var s=e[t[0]]&3;if(s==0){var o=e[t[0]++]>>2;if(o<60)++o;else{var u=o-59;o=e[t[0]],u>1&&(o|=e[t[0]+1]<<8),u>2&&(o|=e[t[0]+2]<<16),u>3&&(o|=e[t[0]+3]<<24),o>>>=0,o++,t[0]+=u}i.push(e.slice(t[0],t[0]+o)),t[0]+=o;continue}else{var f=0,d=0;if(s==1?(d=(e[t[0]]>>2&7)+4,f=(e[t[0]++]&224)<<3,f|=e[t[0]++]):(d=(e[t[0]++]>>2)+1,s==2?(f=e[t[0]]|e[t[0]+1]<<8,t[0]+=2):(f=(e[t[0]]|e[t[0]+1]<<8|e[t[0]+2]<<16|e[t[0]+3]<<24)>>>0,t[0]+=4)),i=[Kh(i)],f==0)throw new Error("Invalid offset 0");if(f>i[0].length)throw new Error("Invalid offset beyond length");if(d>=f)for(i.push(i[0].slice(-f)),d-=f;d>=i[i.length-1].length;)i.push(i[i.length-1]),d-=i[i.length-1].length;i.push(i[0].slice(-f,-f+d))}}var x=Kh(i);if(x.length!=r)throw new Error("Unexpected length: ".concat(x.length," != ").concat(r));return x}function dc(n){for(var e=[],t=0;t<n.length;){var r=n[t++],i=n[t]|n[t+1]<<8|n[t+2]<<16;t+=3,e.push(zne(r,n.slice(t,t+i))),t+=i}if(t!==n.length)throw new Error("data is not a valid framed stream!");return Kh(e)}function Gd(n){for(var e=[],t=0;t<n.length;){var r=Math.min(n.length-t,268435455),i=new Uint8Array(4);e.push(i);var s=wi(r),o=s.length;e.push(s),r<=60?(o++,e.push(new Uint8Array([r-1<<2]))):r<=256?(o+=2,e.push(new Uint8Array([240,r-1&255]))):r<=65536?(o+=3,e.push(new Uint8Array([244,r-1&255,r-1>>8&255]))):r<=16777216?(o+=4,e.push(new Uint8Array([248,r-1&255,r-1>>8&255,r-1>>16&255]))):r<=4294967296&&(o+=5,e.push(new Uint8Array([252,r-1&255,r-1>>8&255,r-1>>16&255,r-1>>>24&255]))),e.push(n.slice(t,t+r)),o+=r,i[0]=0,i[1]=o&255,i[2]=o>>8&255,i[3]=o>>16&255,t+=r}return Kh(e)}function ny(n,e){var t=new Uint8Array(32),r=b2(t),i=12,s=0;switch(t[0]=5,n.t){case"n":t[1]=2,Vne(t,i,n.v),s|=1,i+=16;break;case"b":t[1]=6,r.setFloat64(i,n.v?1:0,!0),s|=2,i+=8;break;case"s":if(e.indexOf(n.v)==-1)throw new Error("Value ".concat(n.v," missing from SST!"));t[1]=3,r.setUint32(i,e.indexOf(n.v),!0),s|=8,i+=4;break;default:throw"unsupported cell type "+n.t}return r.setUint32(8,s,!0),t.slice(0,i)}function ry(n,e){var t=new Uint8Array(32),r=b2(t),i=12,s=0;switch(t[0]=3,n.t){case"n":t[2]=2,r.setFloat64(i,n.v,!0),s|=32,i+=8;break;case"b":t[2]=6,r.setFloat64(i,n.v?1:0,!0),s|=32,i+=8;break;case"s":if(e.indexOf(n.v)==-1)throw new Error("Value ".concat(n.v," missing from SST!"));t[2]=3,r.setUint32(i,e.indexOf(n.v),!0),s|=16,i+=4;break;default:throw"unsupported cell type "+n.t}return r.setUint32(4,s,!0),t.slice(0,i)}function Sh(n){var e=Na(n);return pm(e[1][0].data)}function Hne(n,e,t){var r,i,s,o;if(!((r=n[6])!=null&&r[0])||!((i=n[7])!=null&&i[0]))throw"Mutation only works on post-BNC storages!";var u=((o=(s=n[8])==null?void 0:s[0])==null?void 0:o.data)&&g0(n[8][0].data)>0||!1;if(u)throw"Math only works with normal offsets";for(var f=0,d=b2(n[7][0].data),x=0,w=[],A=b2(n[4][0].data),E=0,I=[],C=0;C<e.length;++C){if(e[C]==null){d.setUint16(C*2,65535,!0),A.setUint16(C*2,65535);continue}d.setUint16(C*2,x,!0),A.setUint16(C*2,E,!0);var L,j;switch(typeof e[C]){case"string":L=ny({t:"s",v:e[C]},t),j=ry({t:"s",v:e[C]},t);break;case"number":L=ny({t:"n",v:e[C]},t),j=ry({t:"n",v:e[C]},t);break;case"boolean":L=ny({t:"b",v:e[C]},t),j=ry({t:"b",v:e[C]},t);break;default:throw new Error("Unsupported value "+e[C])}w.push(L),x+=L.length,I.push(j),E+=j.length,++f}for(n[2][0].data=wi(f);C<n[7][0].data.length/2;++C)d.setUint16(C*2,65535,!0),A.setUint16(C*2,65535,!0);return n[6][0].data=Kh(w),n[3][0].data=Kh(I),f}function qne(n,e){if(!e||!e.numbers)throw new Error("Must pass a `numbers` option -- check the README");var t=n.Sheets[n.SheetNames[0]];n.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var r=Fl(t["!ref"]);r.s.r=r.s.c=0;var i=!1;r.e.c>9&&(i=!0,r.e.c=9),r.e.r>49&&(i=!0,r.e.r=49),i&&console.error("The Numbers writer is currently limited to ".concat(ma(r)));var s=E2(t,{range:r,header:1}),o=["~Sh33tJ5~"];s.forEach(function(J){return J.forEach(function(Q){typeof Q=="string"&&o.push(Q)})});var u={},f=[],d=ji.read(e.numbers,{type:"base64"});d.FileIndex.map(function(J,Q){return[J,d.FullPaths[Q]]}).forEach(function(J){var Q=J[0],oe=J[1];if(Q.type==2&&Q.name.match(/\.iwa/)){var de=Q.content,De=dc(de),Ve=fc(De);Ve.forEach(function(Fe){f.push(Fe.id),u[Fe.id]={deps:[],location:oe,type:g0(Fe.messages[0].meta[1][0].data)}})}}),f.sort(function(J,Q){return J-Q});var x=f.filter(function(J){return J>1}).map(function(J){return[J,wi(J)]});d.FileIndex.map(function(J,Q){return[J,d.FullPaths[Q]]}).forEach(function(J){var Q=J[0];if(J[1],!!Q.name.match(/\.iwa/)){var oe=fc(dc(Q.content));oe.forEach(function(de){de.messages.forEach(function(De){x.forEach(function(Ve){de.messages.some(function(Fe){return g0(Fe.meta[1][0].data)!=11006&&Une(Fe.data,Ve[1])})&&u[Ve[0]].deps.push(de.id)})})})}});for(var w=ji.find(d,u[1].location),A=fc(dc(w.content)),E,I=0;I<A.length;++I){var C=A[I];C.id==1&&(E=C)}var L=Sh(Na(E.messages[0].data)[1][0].data);for(w=ji.find(d,u[L].location),A=fc(dc(w.content)),I=0;I<A.length;++I)C=A[I],C.id==L&&(E=C);for(L=Sh(Na(E.messages[0].data)[2][0].data),w=ji.find(d,u[L].location),A=fc(dc(w.content)),I=0;I<A.length;++I)C=A[I],C.id==L&&(E=C);for(L=Sh(Na(E.messages[0].data)[2][0].data),w=ji.find(d,u[L].location),A=fc(dc(w.content)),I=0;I<A.length;++I)C=A[I],C.id==L&&(E=C);var j=Na(E.messages[0].data);{j[6][0].data=wi(r.e.r+1),j[7][0].data=wi(r.e.c+1);var W=Sh(j[46][0].data),M=ji.find(d,u[W].location),G=fc(dc(M.content));{for(var ce=0;ce<G.length&&G[ce].id!=W;++ce);if(G[ce].id!=W)throw"Bad ColumnRowUIDMapArchive";var re=Na(G[ce].messages[0].data);re[1]=[],re[2]=[],re[3]=[];for(var F=0;F<=r.e.c;++F){var B=[];B[1]=B[2]=[{type:0,data:wi(F+420690)}],re[1].push({type:2,data:co(B)}),re[2].push({type:0,data:wi(F)}),re[3].push({type:0,data:wi(F)})}re[4]=[],re[5]=[],re[6]=[];for(var D=0;D<=r.e.r;++D)B=[],B[1]=B[2]=[{type:0,data:wi(D+726270)}],re[4].push({type:2,data:co(B)}),re[5].push({type:0,data:wi(D)}),re[6].push({type:0,data:wi(D)});G[ce].messages[0].data=co(re)}M.content=Gd(qd(G)),M.size=M.content.length,delete j[46];var Z=Na(j[4][0].data);{Z[7][0].data=wi(r.e.r+1);var U=Na(Z[1][0].data),H=Sh(U[2][0].data);M=ji.find(d,u[H].location),G=fc(dc(M.content));{if(G[0].id!=H)throw"Bad HeaderStorageBucket";var X=Na(G[0].messages[0].data);for(D=0;D<s.length;++D){var ne=Na(X[2][0].data);ne[1][0].data=wi(D),ne[4][0].data=wi(s[D].length),X[2][D]={type:X[2][0].type,data:co(ne)}}G[0].messages[0].data=co(X)}M.content=Gd(qd(G)),M.size=M.content.length;var pe=Sh(Z[2][0].data);M=ji.find(d,u[pe].location),G=fc(dc(M.content));{if(G[0].id!=pe)throw"Bad HeaderStorageBucket";for(X=Na(G[0].messages[0].data),F=0;F<=r.e.c;++F)ne=Na(X[2][0].data),ne[1][0].data=wi(F),ne[4][0].data=wi(r.e.r+1),X[2][F]={type:X[2][0].type,data:co(ne)};G[0].messages[0].data=co(X)}M.content=Gd(qd(G)),M.size=M.content.length;var Ae=Sh(Z[4][0].data);(function(){for(var J=ji.find(d,u[Ae].location),Q=fc(dc(J.content)),oe,de=0;de<Q.length;++de){var De=Q[de];De.id==Ae&&(oe=De)}var Ve=Na(oe.messages[0].data);{Ve[3]=[];var Fe=[];o.forEach(function(St,Tt){Fe[1]=[{type:0,data:wi(Tt)}],Fe[2]=[{type:0,data:wi(1)}],Fe[3]=[{type:2,data:Bne(St)}],Ve[3].push({type:2,data:co(Fe)})})}oe.messages[0].data=co(Ve);var Ie=qd(Q),Qe=Gd(Ie);J.content=Qe,J.size=J.content.length})();var xe=Na(Z[3][0].data);{var Re=xe[1][0];delete xe[2];var He=Na(Re.data);{var ze=Sh(He[2][0].data);(function(){for(var J=ji.find(d,u[ze].location),Q=fc(dc(J.content)),oe,de=0;de<Q.length;++de){var De=Q[de];De.id==ze&&(oe=De)}var Ve=Na(oe.messages[0].data);{delete Ve[6],delete xe[7];var Fe=new Uint8Array(Ve[5][0].data);Ve[5]=[];for(var Ie=0,Qe=0;Qe<=r.e.r;++Qe){var St=Na(Fe);Ie+=Hne(St,s[Qe],o),St[1][0].data=wi(Qe),Ve[5].push({data:co(St),type:2})}Ve[1]=[{type:0,data:wi(r.e.c+1)}],Ve[2]=[{type:0,data:wi(r.e.r+1)}],Ve[3]=[{type:0,data:wi(Ie)}],Ve[4]=[{type:0,data:wi(r.e.r+1)}]}oe.messages[0].data=co(Ve);var Tt=qd(Q),Rt=Gd(Tt);J.content=Rt,J.size=J.content.length})()}Re.data=co(He)}Z[3][0].data=co(xe)}j[4][0].data=co(Z)}E.messages[0].data=co(j);var ve=qd(A),q=Gd(ve);return w.content=q,w.size=w.content.length,d}function Gne(n){return function(t){for(var r=0;r!=n.length;++r){var i=n[r];t[i[0]]===void 0&&(t[i[0]]=i[1]),i[2]==="n"&&(t[i[0]]=Number(t[i[0]]))}}}function J5(n){Gne([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(n)}function Wne(n,e){return e.bookType=="ods"?Z7(n,e):e.bookType=="numbers"?qne(n,e):e.bookType=="xlsb"?Xne(n,e):Yne(n,e)}function Xne(n,e){t0=1024,n&&!n.SSF&&(n.SSF=gl(js)),n&&n.SSF&&(ux(),cx(n.SSF),e.revssf=hx(n.SSF),e.revssf[n.SSF[65535]]=0,e.ssf=n.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,Q1?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var t=e.bookType=="xlsb"?"bin":"xml",r=D7.indexOf(e.bookType)>-1,i=l7();J5(e=e||{});var s=j5(),o="",u=0;if(e.cellXfs=[],ef(e.cellXfs,{},{revssf:{General:0}}),n.Props||(n.Props={}),o="docProps/core.xml",Ir(s,o,f7(n.Props,e)),i.coreprops.push(o),bi(e.rels,2,o,oi.CORE_PROPS),o="docProps/app.xml",!(n.Props&&n.Props.SheetNames))if(!n.Workbook||!n.Workbook.Sheets)n.Props.SheetNames=n.SheetNames;else{for(var f=[],d=0;d<n.SheetNames.length;++d)(n.Workbook.Sheets[d]||{}).Hidden!=2&&f.push(n.SheetNames[d]);n.Props.SheetNames=f}for(n.Props.Worksheets=n.Props.SheetNames.length,Ir(s,o,m7(n.Props)),i.extprops.push(o),bi(e.rels,3,o,oi.EXT_PROPS),n.Custprops!==n.Props&&po(n.Custprops||{}).length>0&&(o="docProps/custom.xml",Ir(s,o,g7(n.Custprops)),i.custprops.push(o),bi(e.rels,4,o,oi.CUST_PROPS)),u=1;u<=n.SheetNames.length;++u){var x={"!id":{}},w=n.Sheets[n.SheetNames[u-1]],A=(w||{})["!type"]||"sheet";switch(A){case"chart":default:o="xl/worksheets/sheet"+u+"."+t,Ir(s,o,$te(u-1,o,e,n,x)),i.sheets.push(o),bi(e.wbrels,-1,"worksheets/sheet"+u+"."+t,oi.WS[0])}if(w){var E=w["!comments"],I=!1,C="";E&&E.length>0&&(C="xl/comments"+u+"."+t,Ir(s,C,Jte(E,C)),i.comments.push(C),bi(x,-1,"../comments"+u+"."+t,oi.CMNT),I=!0),w["!legacy"]&&I&&Ir(s,"xl/drawings/vmlDrawing"+u+".vml",O7(u,w["!comments"])),delete w["!comments"],delete w["!legacy"]}x["!id"].rId1&&Ir(s,u7(o),d0(x))}return e.Strings!=null&&e.Strings.length>0&&(o="xl/sharedStrings."+t,Ir(s,o,Qte(e.Strings,o,e)),i.strs.push(o),bi(e.wbrels,-1,"sharedStrings."+t,oi.SST)),o="xl/workbook."+t,Ir(s,o,Kte(n,o)),i.workbooks.push(o),bi(e.rels,1,o,oi.WB),o="xl/theme/theme1.xml",Ir(s,o,I7(n.Themes,e)),i.themes.push(o),bi(e.wbrels,-1,"theme/theme1.xml",oi.THEME),o="xl/styles."+t,Ir(s,o,Zte(n,o,e)),i.styles.push(o),bi(e.wbrels,-1,"styles."+t,oi.STY),n.vbaraw&&r&&(o="xl/vbaProject.bin",Ir(s,o,n.vbaraw),i.vba.push(o),bi(e.wbrels,-1,"vbaProject.bin",oi.VBA)),o="xl/metadata."+t,Ir(s,o,ene(o)),i.metadata.push(o),bi(e.wbrels,-1,"metadata."+t,oi.XLMETA),Ir(s,"[Content_Types].xml",c7(i,e)),Ir(s,"_rels/.rels",d0(e.rels)),Ir(s,"xl/_rels/workbook."+t+".rels",d0(e.wbrels)),delete e.revssf,delete e.ssf,s}function Yne(n,e){t0=1024,n&&!n.SSF&&(n.SSF=gl(js)),n&&n.SSF&&(ux(),cx(n.SSF),e.revssf=hx(n.SSF),e.revssf[n.SSF[65535]]=0,e.ssf=n.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,Q1?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var t="xml",r=D7.indexOf(e.bookType)>-1,i=l7();J5(e=e||{});var s=j5(),o="",u=0;if(e.cellXfs=[],ef(e.cellXfs,{},{revssf:{General:0}}),n.Props||(n.Props={}),o="docProps/core.xml",Ir(s,o,f7(n.Props,e)),i.coreprops.push(o),bi(e.rels,2,o,oi.CORE_PROPS),o="docProps/app.xml",!(n.Props&&n.Props.SheetNames))if(!n.Workbook||!n.Workbook.Sheets)n.Props.SheetNames=n.SheetNames;else{for(var f=[],d=0;d<n.SheetNames.length;++d)(n.Workbook.Sheets[d]||{}).Hidden!=2&&f.push(n.SheetNames[d]);n.Props.SheetNames=f}n.Props.Worksheets=n.Props.SheetNames.length,Ir(s,o,m7(n.Props)),i.extprops.push(o),bi(e.rels,3,o,oi.EXT_PROPS),n.Custprops!==n.Props&&po(n.Custprops||{}).length>0&&(o="docProps/custom.xml",Ir(s,o,g7(n.Custprops)),i.custprops.push(o),bi(e.rels,4,o,oi.CUST_PROPS));var x=["SheetJ5"];for(e.tcid=0,u=1;u<=n.SheetNames.length;++u){var w={"!id":{}},A=n.Sheets[n.SheetNames[u-1]],E=(A||{})["!type"]||"sheet";switch(E){case"chart":default:o="xl/worksheets/sheet"+u+"."+t,Ir(s,o,z7(u-1,e,n,w)),i.sheets.push(o),bi(e.wbrels,-1,"worksheets/sheet"+u+"."+t,oi.WS[0])}if(A){var I=A["!comments"],C=!1,L="";if(I&&I.length>0){var j=!1;I.forEach(function(W){W[1].forEach(function(M){M.T==!0&&(j=!0)})}),j&&(L="xl/threadedComments/threadedComment"+u+"."+t,Ir(s,L,SQ(I,x,e)),i.threadedcomments.push(L),bi(w,-1,"../threadedComments/threadedComment"+u+"."+t,oi.TCMNT)),L="xl/comments"+u+"."+t,Ir(s,L,k7(I)),i.comments.push(L),bi(w,-1,"../comments"+u+"."+t,oi.CMNT),C=!0}A["!legacy"]&&C&&Ir(s,"xl/drawings/vmlDrawing"+u+".vml",O7(u,A["!comments"])),delete A["!comments"],delete A["!legacy"]}w["!id"].rId1&&Ir(s,u7(o),d0(w))}return e.Strings!=null&&e.Strings.length>0&&(o="xl/sharedStrings."+t,Ir(s,o,E7(e.Strings,e)),i.strs.push(o),bi(e.wbrels,-1,"sharedStrings."+t,oi.SST)),o="xl/workbook."+t,Ir(s,o,G7(n)),i.workbooks.push(o),bi(e.rels,1,o,oi.WB),o="xl/theme/theme1.xml",Ir(s,o,I7(n.Themes,e)),i.themes.push(o),bi(e.wbrels,-1,"theme/theme1.xml",oi.THEME),o="xl/styles."+t,Ir(s,o,N7(n,e)),i.styles.push(o),bi(e.wbrels,-1,"styles."+t,oi.STY),n.vbaraw&&r&&(o="xl/vbaProject.bin",Ir(s,o,n.vbaraw),i.vba.push(o),bi(e.wbrels,-1,"vbaProject.bin",oi.VBA)),o="xl/metadata."+t,Ir(s,o,R7()),i.metadata.push(o),bi(e.wbrels,-1,"metadata."+t,oi.XLMETA),x.length>1&&(o="xl/persons/person.xml",Ir(s,o,TQ(x)),i.people.push(o),bi(e.wbrels,-1,"persons/person.xml",oi.PEOPLE)),Ir(s,"[Content_Types].xml",c7(i,e)),Ir(s,"_rels/.rels",d0(e.rels)),Ir(s,"xl/_rels/workbook."+t+".rels",d0(e.wbrels)),delete e.revssf,delete e.ssf,s}function Kne(n,e){var t="";switch((e||{}).type||"base64"){case"buffer":return[n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7]];case"base64":t=Wu(n.slice(0,12));break;case"binary":t=n;break;case"array":return[n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3),t.charCodeAt(4),t.charCodeAt(5),t.charCodeAt(6),t.charCodeAt(7)]}function Q7(n,e){switch(e.type){case"base64":case"binary":break;case"buffer":case"array":e.type="";break;case"file":return Fm(e.file,ji.write(n,{type:gi?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");default:throw new Error("Unrecognized type "+e.type)}return ji.write(n,e)}function $ne(n,e){var t=gl(e||{}),r=Wne(n,t);return Zne(r,t)}function Zne(n,e){var t={},r=gi?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(e.compression&&(t.compression="DEFLATE"),e.password)t.type=r;else switch(e.type){case"base64":t.type="base64";break;case"binary":t.type="string";break;case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");case"buffer":case"file":t.type=r;break;default:throw new Error("Unrecognized type "+e.type)}var i=n.FullPaths?ji.write(n,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[t.type]||t.type,compression:!!e.compression}):n.generate(t);if(typeof Deno<"u"&&typeof i=="string"){if(e.type=="binary"||e.type=="base64")return i;i=new Uint8Array(lx(i))}return e.password&&typeof encrypt_agile<"u"?Q7(encrypt_agile(i,e.password),e):e.type==="file"?Fm(e.file,i):e.type=="string"?Y1(i):i}function Qne(n,e){var t=e||{},r=mne(n,t);return Q7(r,t)}function qc(n,e,t){t||(t="");var r=t+n;switch(e.type){case"base64":return fm(mm(r));case"binary":return mm(r);case"string":return n;case"file":return Fm(e.file,r,"utf8");case"buffer":return gi?Ku(r,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(r):qc(r,{type:"binary"}).split("").map(function(i){return i.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function Jne(n,e){switch(e.type){case"base64":return fm(n);case"binary":return n;case"string":return n;case"file":return Fm(e.file,n,"binary");case"buffer":return gi?Ku(n,"binary"):n.split("").map(function(t){return t.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function hp(n,e){switch(e.type){case"string":case"base64":case"binary":for(var t="",r=0;r<n.length;++r)t+=String.fromCharCode(n[r]);return e.type=="base64"?fm(t):e.type=="string"?Y1(t):t;case"file":return Fm(e.file,n);case"buffer":return n;default:throw new Error("Unrecognized type "+e.type)}}function J7(n,e){NK(),Fte(n);var t=gl(e||{});if(t.cellStyles&&(t.cellNF=!0,t.sheetStubs=!0),t.type=="array"){t.type="binary";var r=J7(n,t);return t.type="array",lx(r)}var i=0;if(t.sheet&&(typeof t.sheet=="number"?i=t.sheet:i=n.SheetNames.indexOf(t.sheet),!n.SheetNames[i]))throw new Error("Sheet not found: "+t.sheet+" : "+typeof t.sheet);switch(t.bookType||"xlsb"){case"xml":case"xlml":return qc(fne(n,t),t);case"slk":case"sylk":return qc(MZ.from_sheet(n.Sheets[n.SheetNames[i]],t),t);case"htm":case"html":return qc(Y7(n.Sheets[n.SheetNames[i]],t),t);case"txt":return Jne(tO(n.Sheets[n.SheetNames[i]],t),t);case"csv":return qc(e3(n.Sheets[n.SheetNames[i]],t),t,"\uFEFF");case"dif":return qc(PZ.from_sheet(n.Sheets[n.SheetNames[i]],t),t);case"dbf":return hp(LZ.from_sheet(n.Sheets[n.SheetNames[i]],t),t);case"prn":return qc(jZ.from_sheet(n.Sheets[n.SheetNames[i]],t),t);case"rtf":return qc(qZ.from_sheet(n.Sheets[n.SheetNames[i]],t),t);case"eth":return qc(b7.from_sheet(n.Sheets[n.SheetNames[i]],t),t);case"fods":return qc(Z7(n,t),t);case"wk1":return hp(w6.sheet_to_wk1(n.Sheets[n.SheetNames[i]],t),t);case"wk3":return hp(w6.book_to_wk3(n,t),t);case"biff2":t.biff||(t.biff=2);case"biff3":t.biff||(t.biff=3);case"biff4":return t.biff||(t.biff=4),hp(X7(n,t),t);case"biff5":t.biff||(t.biff=5);case"biff8":case"xla":case"xls":return t.biff||(t.biff=8),Qne(n,t);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return $ne(n,t);default:throw new Error("Unrecognized bookType |"+t.bookType+"|")}}function ere(n){if(!n.bookType){var e={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},t=n.file.slice(n.file.lastIndexOf(".")).toLowerCase();t.match(/^\.[a-z]+$/)&&(n.bookType=t.slice(1)),n.bookType=e[n.bookType]||n.bookType}}function eO(n,e,t){var r={};return r.type="file",r.file=e,ere(r),J7(n,r)}function tre(n,e,t,r,i,s,o,u){var f=go(t),d=u.defval,x=u.raw||!Object.prototype.hasOwnProperty.call(u,"raw"),w=!0,A=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(A,"__rowNum__",{value:t,enumerable:!1})}catch{A.__rowNum__=t}else A.__rowNum__=t;if(!o||n[t])for(var E=e.s.c;E<=e.e.c;++E){var I=o?n[t][E]:n[r[E]+f];if(I===void 0||I.t===void 0){if(d===void 0)continue;s[E]!=null&&(A[s[E]]=d);continue}var C=I.v;switch(I.t){case"z":if(C==null)break;continue;case"e":C=C==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+I.t)}if(s[E]!=null){if(C==null)if(I.t=="e"&&C===null)A[s[E]]=null;else if(d!==void 0)A[s[E]]=d;else if(x&&C===null)A[s[E]]=null;else continue;else A[s[E]]=x&&(I.t!=="n"||I.t==="n"&&u.rawNumbers!==!1)?C:Xu(I,C,u);C!=null&&(w=!1)}}return{row:A,isempty:w}}function E2(n,e){if(n==null||n["!ref"]==null)return[];var t={t:"n",v:0},r=0,i=1,s=[],o=0,u="",f={s:{r:0,c:0},e:{r:0,c:0}},d=e||{},x=d.range!=null?d.range:n["!ref"];switch(d.header===1?r=1:d.header==="A"?r=2:Array.isArray(d.header)?r=3:d.header==null&&(r=0),typeof x){case"string":f=ss(x);break;case"number":f=ss(n["!ref"]),f.s.r=x;break;default:f=x}r>0&&(i=0);var w=go(f.s.r),A=[],E=[],I=0,C=0,L=Array.isArray(n),j=f.s.r,W=0,M={};L&&!n[j]&&(n[j]=[]);var G=d.skipHidden&&n["!cols"]||[],ce=d.skipHidden&&n["!rows"]||[];for(W=f.s.c;W<=f.e.c;++W)if(!(G[W]||{}).hidden)switch(A[W]=Oo(W),t=L?n[j][W]:n[A[W]+w],r){case 1:s[W]=W-f.s.c;break;case 2:s[W]=A[W];break;case 3:s[W]=d.header[W-f.s.c];break;default:if(t==null&&(t={w:"__EMPTY",t:"s"}),u=o=Xu(t,null,d),C=M[o]||0,!C)M[o]=1;else{do u=o+"_"+C++;while(M[u]);M[o]=C,M[u]=1}s[W]=u}for(j=f.s.r+i;j<=f.e.r;++j)if(!(ce[j]||{}).hidden){var re=tre(n,f,j,A,r,s,L,d);(re.isempty===!1||(r===1?d.blankrows!==!1:d.blankrows))&&(E[I++]=re.row)}return E.length=I,E}var I6=/"/g;function nre(n,e,t,r,i,s,o,u){for(var f=!0,d=[],x="",w=go(t),A=e.s.c;A<=e.e.c;++A)if(r[A]){var E=u.dense?(n[t]||[])[A]:n[r[A]+w];if(E==null)x="";else if(E.v!=null){f=!1,x=""+(u.rawNumbers&&E.t=="n"?E.v:Xu(E,null,u));for(var I=0,C=0;I!==x.length;++I)if((C=x.charCodeAt(I))===i||C===s||C===34||u.forceQuotes){x='"'+x.replace(I6,'""')+'"';break}x=="ID"&&(x='"ID"')}else E.f!=null&&!E.F?(f=!1,x="="+E.f,x.indexOf(",")>=0&&(x='"'+x.replace(I6,'""')+'"')):x="";d.push(x)}return u.blankrows===!1&&f?null:d.join(o)}function e3(n,e){var t=[],r=e??{};if(n==null||n["!ref"]==null)return"";var i=ss(n["!ref"]),s=r.FS!==void 0?r.FS:",",o=s.charCodeAt(0),u=r.RS!==void 0?r.RS:`
`,f=u.charCodeAt(0),d=new RegExp((s=="|"?"\\|":s)+"+$"),x="",w=[];r.dense=Array.isArray(n);for(var A=r.skipHidden&&n["!cols"]||[],E=r.skipHidden&&n["!rows"]||[],I=i.s.c;I<=i.e.c;++I)(A[I]||{}).hidden||(w[I]=Oo(I));for(var C=0,L=i.s.r;L<=i.e.r;++L)(E[L]||{}).hidden||(x=nre(n,i,L,w,o,f,s,r),x!=null&&(r.strip&&(x=x.replace(d,"")),(x||r.blankrows!==!1)&&t.push((C++?u:"")+x)));return delete r.dense,t.join("")}function tO(n,e){e||(e={}),e.FS="	",e.RS=`
`;var t=e3(n,e);return t}function rre(n){var e="",t,r="";if(n==null||n["!ref"]==null)return[];var i=ss(n["!ref"]),s="",o=[],u,f=[],d=Array.isArray(n);for(u=i.s.c;u<=i.e.c;++u)o[u]=Oo(u);for(var x=i.s.r;x<=i.e.r;++x)for(s=go(x),u=i.s.c;u<=i.e.c;++u)if(e=o[u]+s,t=d?(n[x]||[])[u]:n[e],r="",t!==void 0){if(t.F!=null){if(e=t.F,!t.f)continue;r=t.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(t.f!=null)r=t.f;else{if(t.t=="z")continue;if(t.t=="n"&&t.v!=null)r=""+t.v;else if(t.t=="b")r=t.v?"TRUE":"FALSE";else if(t.w!==void 0)r="'"+t.w;else{if(t.v===void 0)continue;t.t=="s"?r="'"+t.v:r=""+t.v}}f[f.length]=e+"="+r}return f}function nO(n,e,t){var r=t||{},i=+!r.skipHeader,s=n||{},o=0,u=0;if(s&&r.origin!=null)if(typeof r.origin=="number")o=r.origin;else{var f=typeof r.origin=="string"?Ka(r.origin):r.origin;o=f.r,u=f.c}var d,x={s:{c:0,r:0},e:{c:u,r:o+e.length-1+i}};if(s["!ref"]){var w=ss(s["!ref"]);x.e.c=Math.max(x.e.c,w.e.c),x.e.r=Math.max(x.e.r,w.e.r),o==-1&&(o=w.e.r+1,x.e.r=o+e.length-1+i)}else o==-1&&(o=0,x.e.r=e.length-1+i);var A=r.header||[],E=0;e.forEach(function(C,L){po(C).forEach(function(j){(E=A.indexOf(j))==-1&&(A[E=A.length]=j);var W=C[j],M="z",G="",ce=Ti({c:u+E,r:o+L+i});d=xm(s,ce),W&&typeof W=="object"&&!(W instanceof Date)?s[ce]=W:(typeof W=="number"?M="n":typeof W=="boolean"?M="b":typeof W=="string"?M="s":W instanceof Date?(M="d",r.cellDates||(M="n",W=ml(W)),G=r.dateNF||js[14]):W===null&&r.nullError&&(M="e",W=0),d?(d.t=M,d.v=W,delete d.w,delete d.R,G&&(d.z=G)):s[ce]=d={t:M,v:W},G&&(d.z=G))})}),x.e.c=Math.max(x.e.c,u+A.length-1);var I=go(o);if(i)for(E=0;E<A.length;++E)s[Oo(E+u)+I]={t:"s",v:A[E]};return s["!ref"]=ma(x),s}function ire(n,e){return nO(null,n,e)}function xm(n,e,t){if(typeof e=="string"){if(Array.isArray(n)){var r=Ka(e);return n[r.r]||(n[r.r]=[]),n[r.r][r.c]||(n[r.r][r.c]={t:"z"})}return n[e]||(n[e]={t:"z"})}return typeof e!="number"?xm(n,Ti(e)):xm(n,Ti({r:e,c:t||0}))}function sre(n,e){if(typeof e=="number"){if(e>=0&&n.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var t=n.SheetNames.indexOf(e);if(t>-1)return t;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function are(){return{SheetNames:[],Sheets:{}}}function ore(n,e,t,r){var i=1;if(!t)for(;i<=65535&&n.SheetNames.indexOf(t="Sheet"+i)!=-1;++i,t=void 0);if(!t||n.SheetNames.length>=65535)throw new Error("Too many worksheets");if(r&&n.SheetNames.indexOf(t)>=0){var s=t.match(/(^.*?)(\d+)$/);i=s&&+s[2]||0;var o=s&&s[1]||t;for(++i;i<=65535&&n.SheetNames.indexOf(t=o+i)!=-1;++i);}if(q7(t),n.SheetNames.indexOf(t)>=0)throw new Error("Worksheet with name |"+t+"| already exists!");return n.SheetNames.push(t),n.Sheets[t]=e,t}function lre(n,e,t){n.Workbook||(n.Workbook={}),n.Workbook.Sheets||(n.Workbook.Sheets=[]);var r=sre(n,e);switch(n.Workbook.Sheets[r]||(n.Workbook.Sheets[r]={}),t){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+t)}n.Workbook.Sheets[r].Hidden=t}function cre(n,e){return n.z=e,n}function rO(n,e,t){return e?(n.l={Target:e},t&&(n.l.Tooltip=t)):delete n.l,n}function ure(n,e,t){return rO(n,"#"+e,t)}function hre(n,e,t){n.c||(n.c=[]),n.c.push({t:e,a:t||"SheetJS"})}function fre(n,e,t,r){for(var i=typeof e!="string"?e:ss(e),s=typeof e=="string"?e:ma(e),o=i.s.r;o<=i.e.r;++o)for(var u=i.s.c;u<=i.e.c;++u){var f=xm(n,o,u);f.t="n",f.F=s,delete f.v,o==i.s.r&&u==i.s.c&&(f.f=t,r&&(f.D=!0))}return n}var p0={encode_col:Oo,encode_row:go,encode_cell:Ti,encode_range:ma,decode_col:H5,decode_row:z5,split_cell:N$,decode_cell:Ka,decode_range:Fl,format_cell:Xu,sheet_add_aoa:n7,sheet_add_json:nO,sheet_add_dom:K7,aoa_to_sheet:F0,json_to_sheet:ire,table_to_sheet:$7,table_to_book:Pne,sheet_to_csv:e3,sheet_to_txt:tO,sheet_to_json:E2,sheet_to_html:Y7,sheet_to_formulae:rre,sheet_to_row_object_array:E2,sheet_get_cell:xm,book_new:are,book_append_sheet:ore,book_set_sheet_visibility:lre,cell_set_number_format:cre,cell_set_hyperlink:rO,cell_set_internal_link:ure,cell_add_comment:hre,sheet_set_array_formula:fre,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};function dre(){const n=Qa(),{isAdmin:e,hasPermission:t}=Lo(),{showToast:r}=Oa(),[i,s]=ae.useState([]),[o,u]=ae.useState(!0),[f,d]=ae.useState(null),[x,w]=ae.useState("all"),[A,E]=ae.useState(""),I=ae.useRef(null),C=F=>{E(F.target.value),F.target.style.height="auto",F.target.style.height=`${F.target.scrollHeight}px`},L=e&&t(Wl.MANAGE_APPLICATIONS);ae.useEffect(()=>{if(!L){n("/user-dashboard");return}const F=Ra(Si(An,"applications"),ou("submittedAt","desc")),B=Jl(F,D=>{const Z=D.docs.map(U=>({id:U.id,...U.data()}));s(Z),u(!1)},D=>{console.error("Error fetching applications:",D),r("Failed to load applications","error"),u(!1)});return()=>B()},[L,n,r]);const j=async(F,B)=>{try{const D={status:B};B==="rejected"&&A.trim()&&(D.remark=A.trim()),await Go(hr(An,"applications",F),D),r(`Application ${B}`,"success"),E("")}catch(D){console.error("Error updating status:",D),r("Failed to update status","error")}},W=async F=>{if(confirm("Are you sure you want to delete this application?"))try{await lu(hr(An,"applications",F)),r("Application deleted","success"),d(null)}catch(B){console.error("Error deleting application:",B),r("Failed to delete application","error")}},M=i.filter(F=>x==="all"||F.status===x),G=F=>new Date(F).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}),ce=()=>{const F=M.map((H,X)=>({"Sr. No.":X+1,"Application ID":H.applicationId||"N/A","First Name":H.firstName,"Last Name":H.lastName,Email:H.email,Phone:H.phone,WhatsApp:H.whatsapp||H.phone,College:H.college,Course:H.course,Year:H.year,Interests:H.interests?.join(", ")||"","Why Join":H.whyJoin,Experience:H.experience||"",Status:H.status.charAt(0).toUpperCase()+H.status.slice(1),Remark:H.remark||"","Submitted At":G(H.submittedAt)})),B=p0.json_to_sheet(F),D=p0.book_new();p0.book_append_sheet(D,B,"Applications");const Z=new Date().toISOString().split("T")[0],U=`OrbitX_Applications_${x==="all"?"All":x}_${Z}.xlsx`;eO(D,U),r(`Exported ${M.length} applications`,"success")},re=F=>{switch(F){case"pending":return"status--pending";case"reviewed":return"status--reviewed";case"accepted":return"status--accepted";case"rejected":return"status--rejected";default:return""}};return L?m.jsxs(m.Fragment,{children:[m.jsxs("main",{className:"applications-page",children:[m.jsxs("section",{className:"applications-header",children:[m.jsx("h1",{className:"applications-title",children:"Join Applications"}),m.jsx("p",{className:"applications-subtitle",children:"Review and manage membership applications"})]}),m.jsxs("section",{className:"applications-toolbar",children:[m.jsxs("div",{className:"applications-stats",children:[m.jsxs("span",{className:"stat",children:[m.jsx("strong",{children:i.length})," Total"]}),m.jsxs("span",{className:"stat stat--pending",children:[m.jsx("strong",{children:i.filter(F=>F.status==="pending").length})," Pending"]}),m.jsxs("span",{className:"stat stat--accepted",children:[m.jsx("strong",{children:i.filter(F=>F.status==="accepted").length})," Accepted"]})]}),m.jsxs("div",{className:"applications-actions",children:[m.jsx(l2,{className:"applications-filter",value:x,onChange:F=>w(F),options:[{value:"all",label:"All Status"},{value:"pending",label:"Pending"},{value:"reviewed",label:"Reviewed"},{value:"accepted",label:"Accepted"},{value:"rejected",label:"Rejected"}]}),m.jsxs("button",{className:"applications-export",onClick:ce,disabled:M.length===0,children:[m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),m.jsx("polyline",{points:"7 10 12 15 17 10"}),m.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),"Export Excel"]})]})]}),m.jsxs("section",{className:"applications-content",children:[o?m.jsx("div",{className:"applications-loading",children:"Loading applications..."}):M.length===0?m.jsx("div",{className:"applications-empty",children:m.jsx("p",{children:"No applications found"})}):m.jsx("div",{className:"applications-list",children:M.map(F=>m.jsxs("div",{className:`application-card ${f?.id===F.id?"application-card--selected":""}`,onClick:()=>d(F),children:[m.jsxs("div",{className:"application-card__header",children:[m.jsxs("h3",{className:"application-card__name",children:[F.firstName," ",F.lastName]}),m.jsx("span",{className:`application-card__status ${re(F.status)}`,children:F.status})]}),m.jsx("p",{className:"application-card__email",children:F.email}),m.jsx("p",{className:"application-card__college",children:F.college}),m.jsx("p",{className:"application-card__date",children:G(F.submittedAt)})]},F.id))}),f&&m.jsxs("div",{className:"application-detail",children:[m.jsxs("div",{className:"application-detail__header",children:[m.jsxs("h2",{children:[f.firstName," ",f.lastName]}),m.jsx("button",{className:"application-detail__close",onClick:()=>d(null),children:m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),m.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),m.jsxs("div",{className:"application-detail__content",children:[m.jsxs("div",{className:"detail-group",children:[m.jsx("label",{children:"Email"}),m.jsx("p",{children:f.email})]}),m.jsxs("div",{className:"detail-group",children:[m.jsx("label",{children:"Phone"}),m.jsx("p",{children:f.phone})]}),m.jsxs("div",{className:"detail-group",children:[m.jsx("label",{children:"College"}),m.jsx("p",{children:f.college})]}),m.jsxs("div",{className:"detail-group",children:[m.jsx("label",{children:"Course & Year"}),m.jsxs("p",{children:[f.course," - ",f.year]})]}),m.jsxs("div",{className:"detail-group",children:[m.jsx("label",{children:"Interests"}),m.jsx("div",{className:"detail-tags",children:f.interests?.map((F,B)=>m.jsx("span",{className:"detail-tag",children:F},B))})]}),m.jsxs("div",{className:"detail-group",children:[m.jsx("label",{children:"Why do you want to join?"}),m.jsx("p",{children:f.whyJoin})]}),m.jsxs("div",{className:"detail-group",children:[m.jsx("label",{children:"Previous Experience"}),m.jsx("p",{children:f.experience||"Not provided"})]}),m.jsxs("div",{className:"detail-group",children:[m.jsx("label",{children:"Submitted"}),m.jsx("p",{children:G(f.submittedAt)})]})]}),m.jsxs("div",{className:"application-detail__actions",children:[m.jsx("button",{className:"action-btn action-btn--accept",onClick:()=>j(f.id,"accepted"),children:"Accept"}),m.jsx("button",{className:"action-btn action-btn--reject",onClick:()=>j(f.id,"rejected"),children:"Reject"}),m.jsx("button",{className:"action-btn action-btn--delete",onClick:()=>W(f.id),children:"Delete"})]}),m.jsx("textarea",{ref:I,className:"action-remark",placeholder:"Remark for rejection (optional)",value:A,onChange:C,rows:1})]})]})]}),m.jsx(jl,{})]}):null}function mre(){const n=Qa(),{isAdmin:e,hasPermission:t}=Lo(),{showToast:r}=Oa(),[i,s]=ae.useState([]),[o,u]=ae.useState(!0),[f,d]=ae.useState(null),x=e&&t(Wl.MANAGE_QUERIES);ae.useEffect(()=>{if(!x){n("/user-dashboard");return}const C=Ra(Si(An,"contactMessages"),ou("createdAt","desc")),L=Jl(C,j=>{const W=j.docs.map(ce=>({id:ce.id,...ce.data()})),M={};W.forEach(ce=>{M[ce.userHash]||(M[ce.userHash]={userHash:ce.userHash,name:ce.name,email:ce.email,deviceId:ce.deviceId,messages:[],lastMessageAt:ce.createdAt}),M[ce.userHash].messages.push(ce)});const G=Object.values(M).sort((ce,re)=>{const F=ce.lastMessageAt?.toMillis()||0;return(re.lastMessageAt?.toMillis()||0)-F});s(G),u(!1)},j=>{console.error("Error fetching queries:",j),r("Failed to load queries","error"),u(!1)});return()=>L()},[x,n,r]);const w=async C=>{try{await Go(hr(An,"contactMessages",C),{status:"read"})}catch(L){console.error("Error updating status:",L)}},A=async C=>{if(confirm("Are you sure you want to delete this specific message?"))try{await lu(hr(An,"contactMessages",C)),r("Message deleted","success")}catch(L){console.error("Error deleting message:",L),r("Failed to delete message","error")}},E=C=>C?C.toDate().toLocaleString("en-IN",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",I=i.find(C=>C.userHash===f);return m.jsxs(m.Fragment,{children:[m.jsxs("main",{className:"manage-queries",children:[m.jsxs("header",{className:"queries-header",children:[m.jsx("h1",{children:"User Queries"}),m.jsx("p",{children:"Manage and respond to contact submissions"})]}),m.jsxs("div",{className:"queries-container",children:[m.jsxs("aside",{className:"queries-sidebar",children:[m.jsxs("div",{className:"sidebar-title",children:["Conversations (",i.length,")"]}),o?m.jsx("div",{className:"queries-loading",children:"Loading..."}):m.jsxs("div",{className:"user-list",children:[i.map(C=>m.jsxs("button",{className:`user-item ${f===C.userHash?"active":""}`,onClick:()=>{d(C.userHash)},children:[m.jsxs("div",{className:"user-info",children:[m.jsx("span",{className:"user-name",children:C.name}),m.jsx("span",{className:"user-email",children:C.email})]}),C.messages.some(L=>L.status==="unread")&&m.jsx("span",{className:"unread-badge"})]},C.userHash)),i.length===0&&m.jsx("div",{className:"empty-state",children:"No queries found"})]})]}),m.jsx("section",{className:"queries-main",children:I?m.jsxs("div",{className:"group-detail",children:[m.jsxs("header",{className:"detail-header",children:[m.jsx("div",{className:"header-info",children:m.jsx("h2",{children:I.name})}),m.jsx("a",{href:`mailto:${I.email}`,className:"reply-button",children:"Reply via Email"})]}),m.jsx("div",{className:"messages-list",children:I.messages.map(C=>m.jsxs("div",{className:`message-card ${C.status}`,children:[m.jsx("div",{className:"card-header",children:m.jsxs("div",{className:"card-actions",children:[C.status==="unread"&&m.jsx("button",{onClick:()=>w(C.id),className:"action-btn read",children:"Mark Read"}),m.jsx("button",{onClick:()=>A(C.id),className:"action-btn delete",children:"Delete"})]})}),m.jsxs("div",{className:"message-subject",children:["Subject: ",C.subject]}),m.jsx("div",{className:"message-content",children:C.message||m.jsx("span",{className:"no-message-text",children:"(No message content)"})}),m.jsxs("div",{className:"message-footer",children:[m.jsx("span",{className:"message-date",children:E(C.createdAt)}),m.jsx("span",{className:`status-tag ${C.status}`,children:C.status})]})]},C.id))})]}):m.jsx("div",{className:"select-prompt",children:m.jsxs("div",{className:"prompt-content",children:[m.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:m.jsx("path",{d:"M7 8h10M7 12h10M7 16h10M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"})}),m.jsx("p",{children:"Select a conversation to view queries"})]})})})]})]}),m.jsx(jl,{})]})}function gre(){const n=Qa(),{isAdmin:e,hasPermission:t}=Lo(),{showToast:r}=Oa(),[i,s]=ae.useState([]),[o,u]=ae.useState(!0),[f,d]=ae.useState(null),[x,w]=ae.useState("all"),A=e&&t(Wl.MANAGE_MERCH_ORDERS);ae.useEffect(()=>{if(!A){n("/user-dashboard");return}const M=Ra(Si(An,"merchOrders"),ou("createdAt","desc")),G=Jl(M,ce=>{const re=ce.docs.map(F=>({id:F.id,...F.data()}));s(re),u(!1)},ce=>{console.error("Error fetching orders:",ce),r("Failed to load orders","error"),u(!1)});return()=>G()},[A,n,r]);const E=async(M,G)=>{try{await Go(hr(An,"merchOrders",M),{orderStatus:G,updatedAt:new Date().toISOString()}),r(`Order status updated to ${G}`,"success")}catch(ce){console.error("Error updating order status:",ce),r("Failed to update order status","error")}},I=async(M,G)=>{try{await Go(hr(An,"merchOrders",M),{paymentStatus:G,updatedAt:new Date().toISOString()}),r(`Payment status updated to ${G}`,"success")}catch(ce){console.error("Error updating payment status:",ce),r("Failed to update payment status","error")}},C=async M=>{if(confirm("Are you sure you want to delete this order?"))try{await lu(hr(An,"merchOrders",M)),r("Order deleted","success"),d(null)}catch(G){console.error("Error deleting order:",G),r("Failed to delete order","error")}},L=i.filter(M=>x==="all"||M.orderStatus===x),j=M=>M?(M.toDate?M.toDate():new Date(M)).toLocaleString("en-IN",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",W=()=>{const M=L.map((B,D)=>({"Sr. No.":D+1,"Order ID":B.orderId,"Orbit ID":B.orbitId,Customer:B.customerName,Email:B.customerEmail,Phone:B.customerPhone,College:B.collegeName,Items:B.items.map(Z=>`${Z.productName} (x${Z.quantity})`).join(", "),Subtotal:B.subtotal,Delivery:B.deliveryCharge,Total:B.totalAmount,Method:B.deliveryMethod,Address:B.deliveryAddress?`${B.deliveryAddress.line1}, ${B.deliveryAddress.city}`:"N/A","Order Status":B.orderStatus,"Payment Status":B.paymentStatus,"Ordered At":j(B.createdAt)})),G=p0.json_to_sheet(M),ce=p0.book_new();p0.book_append_sheet(ce,G,"Orders");const F=`OrbitX_Merch_Orders_${new Date().toISOString().split("T")[0]}.xlsx`;eO(ce,F),r(`Exported ${L.length} orders`,"success")};return A?m.jsxs(m.Fragment,{children:[m.jsxs("main",{className:"orders-manager",children:[m.jsxs("header",{className:"manager-header",children:[m.jsx("h1",{children:"Merch Orders"}),m.jsx("p",{children:"Track and manage merchandise orders and deliveries"})]}),m.jsxs("section",{className:"manager-toolbar",children:[m.jsxs("div",{className:"manager-stats",children:[m.jsxs("span",{className:"stat",children:[m.jsx("strong",{children:i.length})," Total"]}),m.jsxs("span",{className:"stat stat--pending",children:[m.jsx("strong",{children:i.filter(M=>M.orderStatus==="pending").length})," Pending"]}),m.jsxs("span",{className:"stat stat--shipped",children:[m.jsx("strong",{children:i.filter(M=>M.orderStatus==="shipped").length})," Shipped"]})]}),m.jsxs("div",{className:"manager-actions",children:[m.jsx(l2,{value:x,onChange:w,options:[{value:"all",label:"All Status"},{value:"pending",label:"Pending"},{value:"confirmed",label:"Confirmed"},{value:"processing",label:"Processing"},{value:"shipped",label:"Shipped"},{value:"delivered",label:"Delivered"},{value:"cancelled",label:"Cancelled"}]}),m.jsx("button",{className:"export-btn",onClick:W,disabled:L.length===0,children:"Export Excel"})]})]}),m.jsxs("section",{className:"manager-content",children:[o?m.jsx("div",{className:"manager-loading",children:"Loading orders..."}):L.length===0?m.jsx("div",{className:"manager-empty",children:"No orders found"}):m.jsx("div",{className:"orders-list",children:L.map(M=>m.jsxs("div",{className:`order-card ${f?.id===M.id?"active":""}`,onClick:()=>d(M),children:[m.jsxs("div",{className:"order-card__header",children:[m.jsx("span",{className:"order-id",children:M.orderId}),m.jsx("span",{className:`order-status status--${M.orderStatus}`,children:M.orderStatus})]}),m.jsxs("div",{className:"order-card__body",children:[m.jsx("h3",{className:"customer-name",children:M.customerName}),m.jsxs("p",{className:"order-total",children:["",M.totalAmount,"  ",M.items.length," items"]}),m.jsx("p",{className:"order-date",children:j(M.createdAt)})]})]},M.id))}),f&&m.jsxs("div",{className:"order-detail",children:[m.jsxs("div",{className:"detail-header",children:[m.jsx("h2",{children:"Order Details"}),m.jsx("button",{className:"close-detail",onClick:()=>d(null),children:""})]}),m.jsxs("div",{className:"detail-body",children:[m.jsxs("div",{className:"detail-section",children:[m.jsx("h3",{children:"Customer Info"}),m.jsxs("p",{children:[m.jsx("strong",{children:"Name:"})," ",f.customerName]}),m.jsxs("p",{children:[m.jsx("strong",{children:"Orbit ID:"})," ",f.orbitId]}),m.jsxs("p",{children:[m.jsx("strong",{children:"Email:"})," ",f.customerEmail]}),m.jsxs("p",{children:[m.jsx("strong",{children:"Phone:"})," ",f.customerPhone]}),m.jsxs("p",{children:[m.jsx("strong",{children:"College:"})," ",f.collegeName]})]}),m.jsxs("div",{className:"detail-section",children:[m.jsx("h3",{children:"Delivery Infomation"}),m.jsxs("p",{children:[m.jsx("strong",{children:"Method:"})," ",f.deliveryMethod==="pickup"?"Self Pickup (ZEAL)":"Home Delivery"]}),f.deliveryMethod==="delivery"&&f.deliveryAddress&&m.jsxs("p",{children:[m.jsx("strong",{children:"Address:"}),m.jsx("br",{}),f.deliveryAddress.line1,", ",f.deliveryAddress.line2&&`${f.deliveryAddress.line2}, `,f.deliveryAddress.city,", ",f.deliveryAddress.state," - ",f.deliveryAddress.pincode]})]}),m.jsxs("div",{className:"detail-section",children:[m.jsx("h3",{children:"Order Items"}),m.jsxs("div",{className:"order-items",children:[f.items.map((M,G)=>m.jsxs("div",{className:"order-item",children:[m.jsxs("span",{children:[M.productName," ",M.size&&`(${M.size})`," x ",M.quantity]}),m.jsxs("span",{children:["",M.price*M.quantity]})]},G)),m.jsxs("div",{className:"order-summary",children:[m.jsxs("div",{className:"summary-row",children:[m.jsx("span",{children:"Subtotal"}),m.jsxs("span",{children:["",f.subtotal]})]}),m.jsxs("div",{className:"summary-row",children:[m.jsx("span",{children:"Delivery"}),m.jsxs("span",{children:["",f.deliveryCharge]})]}),m.jsxs("div",{className:"summary-row total",children:[m.jsx("span",{children:"Total"}),m.jsxs("span",{children:["",f.totalAmount]})]})]})]})]}),m.jsxs("div",{className:"detail-section",children:[m.jsx("h3",{children:"Quick Actions"}),m.jsxs("div",{className:"action-groups",children:[m.jsxs("div",{className:"action-group",children:[m.jsx("label",{children:"Order Status"}),m.jsxs("div",{className:"btn-group",children:[m.jsx("button",{onClick:()=>E(f.id,"confirmed"),children:"Confirm"}),m.jsx("button",{onClick:()=>E(f.id,"processing"),children:"Process"}),m.jsx("button",{onClick:()=>E(f.id,"shipped"),children:"Ship"}),m.jsx("button",{onClick:()=>E(f.id,"delivered"),children:"Deliver"}),m.jsx("button",{className:"btn-cancel",onClick:()=>E(f.id,"cancelled"),children:"Cancel"})]})]}),m.jsxs("div",{className:"action-group",children:[m.jsx("label",{children:"Payment Status"}),m.jsxs("div",{className:"btn-group",children:[m.jsx("button",{onClick:()=>I(f.id,"completed"),children:"Paid"}),m.jsx("button",{className:"btn-failed",onClick:()=>I(f.id,"failed"),children:"Failed"})]})]})]})]}),m.jsx("button",{className:"btn-delete-order",onClick:()=>C(f.id),children:"Delete Order"})]})]})]})]}),m.jsx(jl,{})]}):null}const pre=[{value:"T-Shirts",label:"T-Shirts"},{value:"Hoodies",label:"Hoodies"},{value:"Stickers",label:"Stickers"},{value:"Accessories",label:"Accessories"}],xre=["S","M","L","XL","XXL"],iy=new WeakMap,vre=async()=>{try{const n=new Date().getFullYear(),e=hr(An,"system","productIdRegistry"),t=await Qs(e);let r=0;if(t.exists()){const s=t.data();s.year===n&&(r=s.counter||0)}const i=r+1;return await nu(e,{year:n,counter:i,lastUpdated:new Date().toISOString()}),`PRD-${n}-${String(i).padStart(4,"0")}`}catch(n){return console.error("Error generating productId, using fallback:",n),`PRD-${Date.now().toString().slice(-8)}`}};function _re(){const n=Qa(),{isAdmin:e,hasPermission:t}=Lo(),{showToast:r}=Oa(),[i,s]=ae.useState([]),[o,u]=ae.useState(!0),[f,d]=ae.useState(!1),[x,w]=ae.useState(!1),[A,E]=ae.useState(null),[I,C]=ae.useState({name:"",price:"",category:"T-Shirts",description:"",inStock:!0,sizes:[],images:[]}),[L,j]=ae.useState([]),[W,M]=ae.useState([]),[G,ce]=ae.useState(!1),re=e&&t(Wl.MANAGE_MERCH);ae.useEffect(()=>{if(!re){n("/user-dashboard");return}const ze=Ra(Si(An,"merch"),ou("createdAt","desc")),ve=Jl(ze,q=>{const J=q.docs.map(Q=>({id:Q.id,...Q.data()}));s(J),u(!1)},q=>{console.error("Error fetching products:",q),r("Failed to load products","error"),u(!1)});return()=>ve()},[re,n,r]);const F=()=>{C({name:"",price:"",category:"T-Shirts",description:"",inStock:!0,sizes:[],images:[]}),E(null)},B=ze=>{E(ze),C({name:ze.name,price:String(ze.price),category:ze.category,description:ze.description,inStock:ze.inStock,sizes:ze.sizes||[],images:ze.images||[]}),M(ze.images||[]),j([]),d(!0)},D=async(ze,ve)=>{const q=new Map,J=ve.map(async Q=>{const oe=Qz(iH,`merch/${ze}/${Date.now()}_${Q.name}`),de=await $z(oe,Q),De=await Zz(de.ref),Ve=iy.get(Q);return Ve&&q.set(Ve,De),De});return await Promise.all(J),q},Z=async ze=>{if(ze.preventDefault(),!I.name.trim()||!I.price){r("Please fill in required fields","error");return}if(W.length===0){r("Please add at least one image","error");return}w(!0);try{const ve=A?A.id:await vre(),q=await D(ve,L),J=W.map(oe=>q.has(oe)?q.get(oe):oe),Q={name:I.name.trim(),price:parseFloat(I.price),category:I.category,description:I.description.trim(),inStock:I.inStock,sizes:I.sizes,images:J,updatedAt:new Date().toISOString()};if(A)await Go(hr(An,"merch",A.id),Q),r("Product updated successfully","success");else{const oe={...Q,productId:ve,createdAt:new Date().toISOString()};await Jh(Si(An,"merch"),oe),r("Product created successfully","success")}d(!1),F(),M([]),j([])}catch(ve){console.error("Error saving product:",ve),r("Failed to save product","error")}finally{w(!1)}},U=async ze=>{if(confirm(`Are you sure you want to delete "${ze.name}"?`))try{await lu(hr(An,"merch",ze.id)),r("Product deleted successfully","success")}catch(ve){console.error("Error deleting product:",ve),r("Failed to delete product","error")}},H=ze=>{C(ve=>({...ve,sizes:ve.sizes.includes(ze)?ve.sizes.filter(q=>q!==ze):[...ve.sizes,ze]}))},X=ze=>{const ve=Array.from(ze.target.files||[]);ne(ve)},ne=ze=>{const ve=ze.map(q=>{const J=URL.createObjectURL(q);return iy.set(q,J),J});j(q=>[...q,...ze]),M(q=>[...q,...ve])},pe=ze=>{ze.preventDefault(),ce(!0)},Ae=ze=>{ze.preventDefault(),ce(!1)},xe=ze=>{ze.preventDefault(),ce(!1);const q=Array.from(ze.dataTransfer.files).filter(J=>J.type.startsWith("image/"));q.length>0?ne(q):r("Please drop image files only","error")},Re=ze=>{const ve=W[ze];I.images.includes(ve)?C(J=>({...J,images:J.images.filter(Q=>Q!==ve)})):(j(J=>J.filter(Q=>iy.get(Q)!==ve)),URL.revokeObjectURL(ve)),M(J=>J.filter((Q,oe)=>oe!==ze))},He=ze=>{ze!==0&&M(ve=>{const q=[...ve],[J]=q.splice(ze,1);return q.unshift(J),q})};return re?m.jsxs(m.Fragment,{children:[m.jsxs("main",{className:"merch-manager-page",children:[m.jsxs("header",{className:"manager-header",children:[m.jsx("h1",{children:"Merchandise Management"}),m.jsx("p",{children:"Add and update products in the OrbitX store"})]}),m.jsx("div",{className:"merch-manager-container",children:f?m.jsx("div",{className:"merch-manager__modal",children:m.jsxs("form",{className:"merch-manager__form",onSubmit:Z,children:[m.jsxs("div",{className:"merch-manager__form-header-row",children:[m.jsx("h2",{children:A?"Edit Product":"Create New Product"}),m.jsx("button",{type:"button",className:"merch-manager__close",onClick:()=>{d(!1),F()},children:""})]}),m.jsxs("div",{className:"merch-manager__form-grid",children:[m.jsxs("div",{className:"merch-manager__form-group--full",children:[m.jsx("label",{className:"merch-manager__label",children:"Product Name *"}),m.jsx("input",{type:"text",className:"merch-manager__input",value:I.name,onChange:ze=>C({...I,name:ze.target.value}),placeholder:"e.g. OrbitX Official T-Shirt",required:!0})]}),m.jsxs("div",{className:"merch-manager__form-group",children:[m.jsx("label",{className:"merch-manager__label",children:"Price () *"}),m.jsx("input",{type:"number",className:"merch-manager__input",value:I.price,onChange:ze=>C({...I,price:ze.target.value}),placeholder:"e.g. 599",required:!0})]}),m.jsxs("div",{className:"merch-manager__form-group",children:[m.jsx("label",{className:"merch-manager__label",children:"Category"}),m.jsx(Wa,{options:pre,value:I.category,onChange:ze=>C({...I,category:ze})})]}),m.jsxs("div",{className:"merch-manager__form-group--full",children:[m.jsx("label",{className:"merch-manager__label",children:"Description"}),m.jsx("textarea",{className:"merch-manager__textarea",value:I.description,onChange:ze=>C({...I,description:ze.target.value}),placeholder:"Product details, material, etc."})]}),(I.category==="T-Shirts"||I.category==="Hoodies")&&m.jsxs("div",{className:"merch-manager__form-group--full",children:[m.jsx("label",{className:"merch-manager__label",children:"Available Sizes"}),m.jsx("div",{className:"merch-manager__size-grid",children:xre.map(ze=>m.jsx("button",{type:"button",onClick:()=>H(ze),className:`merch-manager__size-btn ${I.sizes.includes(ze)?"merch-manager__size-btn--active":""}`,children:ze},ze))})]}),m.jsxs("div",{className:"merch-manager__form-group--full",children:[m.jsx("label",{className:"merch-manager__label",children:"Inventory Status"}),m.jsxs("label",{className:"merch-manager__checkbox-group",children:[m.jsx("input",{type:"checkbox",className:"merch-manager__checkbox",checked:I.inStock,onChange:ze=>C({...I,inStock:ze.target.checked})}),m.jsx("span",{children:"In Stock / Available for purchase"})]})]}),m.jsxs("div",{className:"merch-manager__form-group--full",children:[m.jsx("label",{className:"merch-manager__label",children:"Product Images *"}),m.jsxs("div",{className:`merch-manager__upload-area ${G?"merch-manager__upload-area--dragging":""}`,onDragOver:pe,onDragLeave:Ae,onDrop:xe,onClick:()=>document.getElementById("merch-file-input")?.click(),children:[m.jsx("input",{type:"file",id:"merch-file-input",multiple:!0,accept:"image/*",onChange:X,style:{display:"none"}}),m.jsx("div",{className:"merch-manager__upload-icon",children:m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),m.jsx("polyline",{points:"17 8 12 3 7 8"}),m.jsx("line",{x1:"12",y1:"3",x2:"12",y2:"15"})]})}),m.jsxs("div",{className:"merch-manager__upload-text",children:[m.jsx("span",{children:"Click to upload or drag and drop"}),m.jsx("p",{children:"Multiple images allowed (First will be thumbnail)"})]})]}),m.jsx("div",{className:"merch-manager__images-grid",children:W.map((ze,ve)=>m.jsxs("div",{className:`merch-manager__image-card ${ve===0?"merch-manager__image-card--thumbnail":""}`,children:[m.jsx("img",{src:ze,alt:""}),m.jsxs("div",{className:"merch-manager__image-overlay",children:[m.jsx("button",{type:"button",className:"merch-manager__image-action",onClick:q=>{q.stopPropagation(),He(ve)},title:"Set as Thumbnail",children:m.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:m.jsx("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})})}),m.jsx("button",{type:"button",className:"merch-manager__image-action merch-manager__image-action--delete",onClick:q=>{q.stopPropagation(),Re(ve)},title:"Remove Image",children:m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("polyline",{points:"3 6 5 6 21 6"}),m.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]}),ve===0&&m.jsx("span",{className:"merch-manager__thumbnail-badge",children:"Thumbnail"})]},ve))})]})]}),m.jsx("button",{type:"submit",className:"merch-manager__submit-btn",disabled:x,style:{marginTop:"1rem"},children:x?"Saving...":A?"Update Product":"Create Product"})]})}):m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"merch-manager__toolbar",children:[m.jsxs("span",{className:"merch-manager__items-count",children:[i.length," Products Found"]}),m.jsxs("button",{className:"merch-manager__create-btn",onClick:()=>d(!0),children:[m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",style:{width:18},children:[m.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),m.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add New Product"]})]}),m.jsx("div",{className:"merch-manager__list",children:o?m.jsx("div",{className:"merch-manager__loading-state",children:"Loading store items..."}):i.length===0?m.jsx("div",{className:"merch-manager__empty-state",children:'No products yet. Click "Add New Product" to start.'}):i.map(ze=>m.jsxs("div",{className:"merch-manager__item",children:[m.jsx("div",{className:"merch-manager__item-preview",children:ze.images[0]?m.jsx("img",{src:ze.images[0],alt:ze.name}):m.jsx("div",{style:{width:"100%",height:"100%",background:"rgba(255,255,255,0.05)",display:"flex",alignItems:"center",justifyContent:"center"},children:m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1",style:{width:24,opacity:.3},children:[m.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),m.jsx("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),m.jsx("polyline",{points:"21 15 16 10 5 21"})]})})}),m.jsxs("div",{className:"merch-manager__item-info",children:[m.jsxs("div",{className:"merch-manager__item-header",children:[m.jsx("h3",{className:"merch-manager__item-name",children:ze.name}),m.jsx("span",{className:"merch-manager__category-badge",children:ze.category})]}),m.jsxs("div",{className:"merch-manager__item-meta",children:[m.jsxs("span",{children:["",ze.price]}),m.jsx("span",{children:""}),m.jsx("span",{className:ze.inStock?"merch-status--in-stock":"merch-status--out-of-stock",children:ze.inStock?"In Stock":"Out of Stock"}),m.jsx("span",{children:""}),m.jsxs("span",{children:["ID: ",ze.productId]})]})]}),m.jsxs("div",{className:"merch-manager__item-actions",children:[m.jsx("button",{className:"merch-manager__action-btn",onClick:()=>B(ze),title:"Edit Product",children:m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",style:{width:16},children:[m.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),m.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),m.jsx("button",{className:"merch-manager__action-btn merch-manager__action-btn--delete",onClick:()=>U(ze),title:"Delete Product",children:m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",style:{width:16},children:[m.jsx("polyline",{points:"3 6 5 6 21 6"}),m.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})]},ze.id))})]})})]}),m.jsx(jl,{})]}):null}var kn;(function(n){n[n.QR_CODE=0]="QR_CODE",n[n.AZTEC=1]="AZTEC",n[n.CODABAR=2]="CODABAR",n[n.CODE_39=3]="CODE_39",n[n.CODE_93=4]="CODE_93",n[n.CODE_128=5]="CODE_128",n[n.DATA_MATRIX=6]="DATA_MATRIX",n[n.MAXICODE=7]="MAXICODE",n[n.ITF=8]="ITF",n[n.EAN_13=9]="EAN_13",n[n.EAN_8=10]="EAN_8",n[n.PDF_417=11]="PDF_417",n[n.RSS_14=12]="RSS_14",n[n.RSS_EXPANDED=13]="RSS_EXPANDED",n[n.UPC_A=14]="UPC_A",n[n.UPC_E=15]="UPC_E",n[n.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(kn||(kn={}));var R6=new Map([[kn.QR_CODE,"QR_CODE"],[kn.AZTEC,"AZTEC"],[kn.CODABAR,"CODABAR"],[kn.CODE_39,"CODE_39"],[kn.CODE_93,"CODE_93"],[kn.CODE_128,"CODE_128"],[kn.DATA_MATRIX,"DATA_MATRIX"],[kn.MAXICODE,"MAXICODE"],[kn.ITF,"ITF"],[kn.EAN_13,"EAN_13"],[kn.EAN_8,"EAN_8"],[kn.PDF_417,"PDF_417"],[kn.RSS_14,"RSS_14"],[kn.RSS_EXPANDED,"RSS_EXPANDED"],[kn.UPC_A,"UPC_A"],[kn.UPC_E,"UPC_E"],[kn.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),O6;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.URL=1]="URL"})(O6||(O6={}));function yre(n){return Object.values(kn).includes(n)}var A2;(function(n){n[n.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",n[n.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(A2||(A2={}));var wre=(function(){function n(){}return n.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",n.SCAN_DEFAULT_FPS=2,n.DEFAULT_DISABLE_FLIP=!1,n.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,n.DEFAULT_SUPPORTED_SCAN_TYPE=[A2.SCAN_TYPE_CAMERA,A2.SCAN_TYPE_FILE],n})(),iO=(function(){function n(e,t){this.format=e,this.formatName=t}return n.prototype.toString=function(){return this.formatName},n.create=function(e){if(!R6.has(e))throw"".concat(e," not in html5QrcodeSupportedFormatsTextMap");return new n(e,R6.get(e))},n})(),k6=(function(){function n(){}return n.createFromText=function(e){var t={text:e};return{decodedText:e,result:t}},n.createFromQrcodeResult=function(e){return{decodedText:e.text,result:e}},n})(),rw;(function(n){n[n.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",n[n.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",n[n.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(rw||(rw={}));var bre=(function(){function n(){}return n.createFrom=function(e){return{errorMessage:e,type:rw.UNKWOWN_ERROR}},n})(),Ere=(function(){function n(e){this.verbose=e}return n.prototype.log=function(e){this.verbose&&console.log(e)},n.prototype.warn=function(e){this.verbose&&console.warn(e)},n.prototype.logError=function(e,t){(this.verbose||t===!0)&&console.error(e)},n.prototype.logErrors=function(e){if(e.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(e)},n})();function Iu(n){return typeof n>"u"||n===null}var n0=(function(){function n(){}return n.codeParseError=function(e){return"QR code parse error, error = ".concat(e)},n.errorGettingUserMedia=function(e){return"Error getting userMedia, error = ".concat(e)},n.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},n.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},n.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},n.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},n.scannerPaused=function(){return"Scanner paused"},n})(),sO=(function(){function n(){}return n.isMediaStreamConstraintsValid=function(e,t){if(typeof e!="object"){var r=typeof e;return t.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(r,"."),!0),!1}for(var i=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],s=new Set(i),o=Object.keys(e),u=0,f=o;u<f.length;u++){var d=f[u];if(s.has(d))return t.logError("".concat(d," is not supported videoConstaints."),!0),!1}return!0},n})(),M1={exports:{}},Are=M1.exports,D6;function Sre(){return D6||(D6=1,(function(n,e){(function(t,r){r(e)})(Are,(function(t){function r(he){return he==null}var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(he,l){he.__proto__=l}||function(he,l){for(var h in l)l.hasOwnProperty(h)&&(he[h]=l[h])};function s(he,l){i(he,l);function h(){this.constructor=he}he.prototype=l===null?Object.create(l):(h.prototype=l.prototype,new h)}function o(he,l){var h=Object.setPrototypeOf;h?h(he,l):he.__proto__=l}function u(he,l){l===void 0&&(l=he.constructor);var h=Error.captureStackTrace;h&&h(he,l)}var f=(function(he){s(l,he);function l(h){var g=this.constructor,v=he.call(this,h)||this;return Object.defineProperty(v,"name",{value:g.name,enumerable:!1}),o(v,g.prototype),u(v),v}return l})(Error);class d extends f{constructor(l=void 0){super(l),this.message=l}getKind(){return this.constructor.kind}}d.kind="Exception";class x extends d{}x.kind="ArgumentException";class w extends d{}w.kind="IllegalArgumentException";class A{constructor(l){if(this.binarizer=l,l===null)throw new w("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(l,h){return this.binarizer.getBlackRow(l,h)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(l,h,g,v){const _=this.binarizer.getLuminanceSource().crop(l,h,g,v);return new A(this.binarizer.createBinarizer(_))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const l=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new A(this.binarizer.createBinarizer(l))}rotateCounterClockwise45(){const l=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new A(this.binarizer.createBinarizer(l))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class E extends d{static getChecksumInstance(){return new E}}E.kind="ChecksumException";class I{constructor(l){this.source=l}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class C{static arraycopy(l,h,g,v,_){for(;_--;)g[v++]=l[h++]}static currentTimeMillis(){return Date.now()}}class L extends d{}L.kind="IndexOutOfBoundsException";class j extends L{constructor(l=void 0,h=void 0){super(h),this.index=l,this.message=h}}j.kind="ArrayIndexOutOfBoundsException";class W{static fill(l,h){for(let g=0,v=l.length;g<v;g++)l[g]=h}static fillWithin(l,h,g,v){W.rangeCheck(l.length,h,g);for(let _=h;_<g;_++)l[_]=v}static rangeCheck(l,h,g){if(h>g)throw new w("fromIndex("+h+") > toIndex("+g+")");if(h<0)throw new j(h);if(g>l)throw new j(g)}static asList(...l){return l}static create(l,h,g){return Array.from({length:l}).map(_=>Array.from({length:h}).fill(g))}static createInt32Array(l,h,g){return Array.from({length:l}).map(_=>Int32Array.from({length:h}).fill(g))}static equals(l,h){if(!l||!h||!l.length||!h.length||l.length!==h.length)return!1;for(let g=0,v=l.length;g<v;g++)if(l[g]!==h[g])return!1;return!0}static hashCode(l){if(l===null)return 0;let h=1;for(const g of l)h=31*h+g;return h}static fillUint8Array(l,h){for(let g=0;g!==l.length;g++)l[g]=h}static copyOf(l,h){return l.slice(0,h)}static copyOfUint8Array(l,h){if(l.length<=h){const g=new Uint8Array(h);return g.set(l),g}return l.slice(0,h)}static copyOfRange(l,h,g){const v=g-h,_=new Int32Array(v);return C.arraycopy(l,h,_,0,v),_}static binarySearch(l,h,g){g===void 0&&(g=W.numberComparator);let v=0,_=l.length-1;for(;v<=_;){const b=_+v>>1,N=g(h,l[b]);if(N>0)v=b+1;else if(N<0)_=b-1;else return b}return-v-1}static numberComparator(l,h){return l-h}}class M{static numberOfTrailingZeros(l){let h;if(l===0)return 32;let g=31;return h=l<<16,h!==0&&(g-=16,l=h),h=l<<8,h!==0&&(g-=8,l=h),h=l<<4,h!==0&&(g-=4,l=h),h=l<<2,h!==0&&(g-=2,l=h),g-(l<<1>>>31)}static numberOfLeadingZeros(l){if(l===0)return 32;let h=1;return l>>>16||(h+=16,l<<=16),l>>>24||(h+=8,l<<=8),l>>>28||(h+=4,l<<=4),l>>>30||(h+=2,l<<=2),h-=l>>>31,h}static toHexString(l){return l.toString(16)}static toBinaryString(l){return String(parseInt(String(l),2))}static bitCount(l){return l=l-(l>>>1&1431655765),l=(l&858993459)+(l>>>2&858993459),l=l+(l>>>4)&252645135,l=l+(l>>>8),l=l+(l>>>16),l&63}static truncDivision(l,h){return Math.trunc(l/h)}static parseInt(l,h=void 0){return parseInt(l,h)}}M.MIN_VALUE_32_BITS=-2147483648,M.MAX_VALUE=Number.MAX_SAFE_INTEGER;class G{constructor(l,h){l===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=l,h==null?this.bits=G.makeArray(l):this.bits=h)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(l){if(l>this.bits.length*32){const h=G.makeArray(l);C.arraycopy(this.bits,0,h,0,this.bits.length),this.bits=h}}get(l){return(this.bits[Math.floor(l/32)]&1<<(l&31))!==0}set(l){this.bits[Math.floor(l/32)]|=1<<(l&31)}flip(l){this.bits[Math.floor(l/32)]^=1<<(l&31)}getNextSet(l){const h=this.size;if(l>=h)return h;const g=this.bits;let v=Math.floor(l/32),_=g[v];_&=~((1<<(l&31))-1);const b=g.length;for(;_===0;){if(++v===b)return h;_=g[v]}const N=v*32+M.numberOfTrailingZeros(_);return N>h?h:N}getNextUnset(l){const h=this.size;if(l>=h)return h;const g=this.bits;let v=Math.floor(l/32),_=~g[v];_&=~((1<<(l&31))-1);const b=g.length;for(;_===0;){if(++v===b)return h;_=~g[v]}const N=v*32+M.numberOfTrailingZeros(_);return N>h?h:N}setBulk(l,h){this.bits[Math.floor(l/32)]=h}setRange(l,h){if(h<l||l<0||h>this.size)throw new w;if(h===l)return;h--;const g=Math.floor(l/32),v=Math.floor(h/32),_=this.bits;for(let b=g;b<=v;b++){const N=b>g?0:l&31,z=(2<<(b<v?31:h&31))-(1<<N);_[b]|=z}}clear(){const l=this.bits.length,h=this.bits;for(let g=0;g<l;g++)h[g]=0}isRange(l,h,g){if(h<l||l<0||h>this.size)throw new w;if(h===l)return!0;h--;const v=Math.floor(l/32),_=Math.floor(h/32),b=this.bits;for(let N=v;N<=_;N++){const k=N>v?0:l&31,ee=(2<<(N<_?31:h&31))-(1<<k)&4294967295;if((b[N]&ee)!==(g?ee:0))return!1}return!0}appendBit(l){this.ensureCapacity(this.size+1),l&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(l,h){if(h<0||h>32)throw new w("Num bits must be between 0 and 32");this.ensureCapacity(this.size+h);for(let g=h;g>0;g--)this.appendBit((l>>g-1&1)===1)}appendBitArray(l){const h=l.size;this.ensureCapacity(this.size+h);for(let g=0;g<h;g++)this.appendBit(l.get(g))}xor(l){if(this.size!==l.size)throw new w("Sizes don't match");const h=this.bits;for(let g=0,v=h.length;g<v;g++)h[g]^=l.bits[g]}toBytes(l,h,g,v){for(let _=0;_<v;_++){let b=0;for(let N=0;N<8;N++)this.get(l)&&(b|=1<<7-N),l++;h[g+_]=b}}getBitArray(){return this.bits}reverse(){const l=new Int32Array(this.bits.length),h=Math.floor((this.size-1)/32),g=h+1,v=this.bits;for(let _=0;_<g;_++){let b=v[_];b=b>>1&1431655765|(b&1431655765)<<1,b=b>>2&858993459|(b&858993459)<<2,b=b>>4&252645135|(b&252645135)<<4,b=b>>8&16711935|(b&16711935)<<8,b=b>>16&65535|(b&65535)<<16,l[h-_]=b}if(this.size!==g*32){const _=g*32-this.size;let b=l[0]>>>_;for(let N=1;N<g;N++){const k=l[N];b|=k<<32-_,l[N-1]=b,b=k>>>_}l[g-1]=b}this.bits=l}static makeArray(l){return new Int32Array(Math.floor((l+31)/32))}equals(l){if(!(l instanceof G))return!1;const h=l;return this.size===h.size&&W.equals(this.bits,h.bits)}hashCode(){return 31*this.size+W.hashCode(this.bits)}toString(){let l="";for(let h=0,g=this.size;h<g;h++)(h&7)===0&&(l+=" "),l+=this.get(h)?"X":".";return l}clone(){return new G(this.size,this.bits.slice())}}var ce;(function(he){he[he.OTHER=0]="OTHER",he[he.PURE_BARCODE=1]="PURE_BARCODE",he[he.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",he[he.TRY_HARDER=3]="TRY_HARDER",he[he.CHARACTER_SET=4]="CHARACTER_SET",he[he.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",he[he.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",he[he.ASSUME_GS1=7]="ASSUME_GS1",he[he.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",he[he.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",he[he.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(ce||(ce={}));var re=ce;class F extends d{static getFormatInstance(){return new F}}F.kind="FormatException";var B;(function(he){he[he.Cp437=0]="Cp437",he[he.ISO8859_1=1]="ISO8859_1",he[he.ISO8859_2=2]="ISO8859_2",he[he.ISO8859_3=3]="ISO8859_3",he[he.ISO8859_4=4]="ISO8859_4",he[he.ISO8859_5=5]="ISO8859_5",he[he.ISO8859_6=6]="ISO8859_6",he[he.ISO8859_7=7]="ISO8859_7",he[he.ISO8859_8=8]="ISO8859_8",he[he.ISO8859_9=9]="ISO8859_9",he[he.ISO8859_10=10]="ISO8859_10",he[he.ISO8859_11=11]="ISO8859_11",he[he.ISO8859_13=12]="ISO8859_13",he[he.ISO8859_14=13]="ISO8859_14",he[he.ISO8859_15=14]="ISO8859_15",he[he.ISO8859_16=15]="ISO8859_16",he[he.SJIS=16]="SJIS",he[he.Cp1250=17]="Cp1250",he[he.Cp1251=18]="Cp1251",he[he.Cp1252=19]="Cp1252",he[he.Cp1256=20]="Cp1256",he[he.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",he[he.UTF8=22]="UTF8",he[he.ASCII=23]="ASCII",he[he.Big5=24]="Big5",he[he.GB18030=25]="GB18030",he[he.EUC_KR=26]="EUC_KR"})(B||(B={}));class D{constructor(l,h,g,...v){this.valueIdentifier=l,this.name=g,typeof h=="number"?this.values=Int32Array.from([h]):this.values=h,this.otherEncodingNames=v,D.VALUE_IDENTIFIER_TO_ECI.set(l,this),D.NAME_TO_ECI.set(g,this);const _=this.values;for(let b=0,N=_.length;b!==N;b++){const k=_[b];D.VALUES_TO_ECI.set(k,this)}for(const b of v)D.NAME_TO_ECI.set(b,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(l){if(l<0||l>=900)throw new F("incorect value");const h=D.VALUES_TO_ECI.get(l);if(h===void 0)throw new F("incorect value");return h}static getCharacterSetECIByName(l){const h=D.NAME_TO_ECI.get(l);if(h===void 0)throw new F("incorect value");return h}equals(l){if(!(l instanceof D))return!1;const h=l;return this.getName()===h.getName()}}D.VALUE_IDENTIFIER_TO_ECI=new Map,D.VALUES_TO_ECI=new Map,D.NAME_TO_ECI=new Map,D.Cp437=new D(B.Cp437,Int32Array.from([0,2]),"Cp437"),D.ISO8859_1=new D(B.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),D.ISO8859_2=new D(B.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),D.ISO8859_3=new D(B.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),D.ISO8859_4=new D(B.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),D.ISO8859_5=new D(B.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),D.ISO8859_6=new D(B.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),D.ISO8859_7=new D(B.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),D.ISO8859_8=new D(B.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),D.ISO8859_9=new D(B.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),D.ISO8859_10=new D(B.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),D.ISO8859_11=new D(B.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),D.ISO8859_13=new D(B.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),D.ISO8859_14=new D(B.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),D.ISO8859_15=new D(B.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),D.ISO8859_16=new D(B.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),D.SJIS=new D(B.SJIS,20,"SJIS","Shift_JIS"),D.Cp1250=new D(B.Cp1250,21,"Cp1250","windows-1250"),D.Cp1251=new D(B.Cp1251,22,"Cp1251","windows-1251"),D.Cp1252=new D(B.Cp1252,23,"Cp1252","windows-1252"),D.Cp1256=new D(B.Cp1256,24,"Cp1256","windows-1256"),D.UnicodeBigUnmarked=new D(B.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),D.UTF8=new D(B.UTF8,26,"UTF8","UTF-8"),D.ASCII=new D(B.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),D.Big5=new D(B.Big5,28,"Big5"),D.GB18030=new D(B.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),D.EUC_KR=new D(B.EUC_KR,30,"EUC_KR","EUC-KR");class Z extends d{}Z.kind="UnsupportedOperationException";class U{static decode(l,h){const g=this.encodingName(h);return this.customDecoder?this.customDecoder(l,g):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(g)?this.decodeFallback(l,g):new TextDecoder(g).decode(l)}static shouldDecodeOnFallback(l){return!U.isBrowser()&&l==="ISO-8859-1"}static encode(l,h){const g=this.encodingName(h);return this.customEncoder?this.customEncoder(l,g):typeof TextEncoder>"u"?this.encodeFallback(l):new TextEncoder().encode(l)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(l){return typeof l=="string"?l:l.getName()}static encodingCharacterSet(l){return l instanceof D?l:D.getCharacterSetECIByName(l)}static decodeFallback(l,h){const g=this.encodingCharacterSet(h);if(U.isDecodeFallbackSupported(g)){let v="";for(let _=0,b=l.length;_<b;_++){let N=l[_].toString(16);N.length<2&&(N="0"+N),v+="%"+N}return decodeURIComponent(v)}if(g.equals(D.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(l.buffer));throw new Z(`Encoding ${this.encodingName(h)} not supported by fallback.`)}static isDecodeFallbackSupported(l){return l.equals(D.UTF8)||l.equals(D.ISO8859_1)||l.equals(D.ASCII)}static encodeFallback(l){const g=btoa(unescape(encodeURIComponent(l))).split(""),v=[];for(let _=0;_<g.length;_++)v.push(g[_].charCodeAt(0));return new Uint8Array(v)}}class H{static castAsNonUtf8Char(l,h=null){const g=h?h.getName():this.ISO88591;return U.decode(new Uint8Array([l]),g)}static guessEncoding(l,h){if(h!=null&&h.get(re.CHARACTER_SET)!==void 0)return h.get(re.CHARACTER_SET).toString();const g=l.length;let v=!0,_=!0,b=!0,N=0,k=0,z=0,ee=0,fe=0,_e=0,Pe=0,qe=0,Ye=0,nt=0,yt=0;const Bt=l.length>3&&l[0]===239&&l[1]===187&&l[2]===191;for(let Ut=0;Ut<g&&(v||_||b);Ut++){const jt=l[Ut]&255;b&&(N>0?(jt&128)===0?b=!1:N--:(jt&128)!==0&&((jt&64)===0?b=!1:(N++,(jt&32)===0?k++:(N++,(jt&16)===0?z++:(N++,(jt&8)===0?ee++:b=!1))))),v&&(jt>127&&jt<160?v=!1:jt>159&&(jt<192||jt===215||jt===247)&&yt++),_&&(fe>0?jt<64||jt===127||jt>252?_=!1:fe--:jt===128||jt===160||jt>239?_=!1:jt>160&&jt<224?(_e++,qe=0,Pe++,Pe>Ye&&(Ye=Pe)):jt>127?(fe++,Pe=0,qe++,qe>nt&&(nt=qe)):(Pe=0,qe=0))}return b&&N>0&&(b=!1),_&&fe>0&&(_=!1),b&&(Bt||k+z+ee>0)?H.UTF8:_&&(H.ASSUME_SHIFT_JIS||Ye>=3||nt>=3)?H.SHIFT_JIS:v&&_?Ye===2&&_e===2||yt*10>=g?H.SHIFT_JIS:H.ISO88591:v?H.ISO88591:_?H.SHIFT_JIS:b?H.UTF8:H.PLATFORM_DEFAULT_ENCODING}static format(l,...h){let g=-1;function v(b,N,k,z,ee,fe){if(b==="%%")return"%";if(h[++g]===void 0)return;b=z?parseInt(z.substr(1)):void 0;let _e=ee?parseInt(ee.substr(1)):void 0,Pe;switch(fe){case"s":Pe=h[g];break;case"c":Pe=h[g][0];break;case"f":Pe=parseFloat(h[g]).toFixed(b);break;case"p":Pe=parseFloat(h[g]).toPrecision(b);break;case"e":Pe=parseFloat(h[g]).toExponential(b);break;case"x":Pe=parseInt(h[g]).toString(_e||16);break;case"d":Pe=parseFloat(parseInt(h[g],_e||10).toPrecision(b)).toFixed(0);break}Pe=typeof Pe=="object"?JSON.stringify(Pe):(+Pe).toString(_e);let qe=parseInt(k),Ye=k&&k[0]+""=="0"?"0":" ";for(;Pe.length<qe;)Pe=N!==void 0?Pe+Ye:Ye+Pe;return Pe}let _=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return l.replace(_,v)}static getBytes(l,h){return U.encode(l,h)}static getCharCode(l,h=0){return l.charCodeAt(h)}static getCharAt(l){return String.fromCharCode(l)}}H.SHIFT_JIS=D.SJIS.getName(),H.GB2312="GB2312",H.ISO88591=D.ISO8859_1.getName(),H.EUC_JP="EUC_JP",H.UTF8=D.UTF8.getName(),H.PLATFORM_DEFAULT_ENCODING=H.UTF8,H.ASSUME_SHIFT_JIS=!1;class X{constructor(l=""){this.value=l}enableDecoding(l){return this.encoding=l,this}append(l){return typeof l=="string"?this.value+=l.toString():this.encoding?this.value+=H.castAsNonUtf8Char(l,this.encoding):this.value+=String.fromCharCode(l),this}appendChars(l,h,g){for(let v=h;h<h+g;v++)this.append(l[v]);return this}length(){return this.value.length}charAt(l){return this.value.charAt(l)}deleteCharAt(l){this.value=this.value.substr(0,l)+this.value.substring(l+1)}setCharAt(l,h){this.value=this.value.substr(0,l)+h+this.value.substr(l+1)}substring(l,h){return this.value.substring(l,h)}setLengthToZero(){this.value=""}toString(){return this.value}insert(l,h){this.value=this.value.substr(0,l)+h+this.value.substr(l+h.length)}}class ne{constructor(l,h,g,v){if(this.width=l,this.height=h,this.rowSize=g,this.bits=v,h==null&&(h=l),this.height=h,l<1||h<1)throw new w("Both dimensions must be greater than 0");g==null&&(g=Math.floor((l+31)/32)),this.rowSize=g,v==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(l){const h=l.length,g=l[0].length,v=new ne(g,h);for(let _=0;_<h;_++){const b=l[_];for(let N=0;N<g;N++)b[N]&&v.set(N,_)}return v}static parseFromString(l,h,g){if(l===null)throw new w("stringRepresentation cannot be null");const v=new Array(l.length);let _=0,b=0,N=-1,k=0,z=0;for(;z<l.length;)if(l.charAt(z)===`
`||l.charAt(z)==="\r"){if(_>b){if(N===-1)N=_-b;else if(_-b!==N)throw new w("row lengths do not match");b=_,k++}z++}else if(l.substring(z,z+h.length)===h)z+=h.length,v[_]=!0,_++;else if(l.substring(z,z+g.length)===g)z+=g.length,v[_]=!1,_++;else throw new w("illegal character encountered: "+l.substring(z));if(_>b){if(N===-1)N=_-b;else if(_-b!==N)throw new w("row lengths do not match");k++}const ee=new ne(N,k);for(let fe=0;fe<_;fe++)v[fe]&&ee.set(Math.floor(fe%N),Math.floor(fe/N));return ee}get(l,h){const g=h*this.rowSize+Math.floor(l/32);return(this.bits[g]>>>(l&31)&1)!==0}set(l,h){const g=h*this.rowSize+Math.floor(l/32);this.bits[g]|=1<<(l&31)&4294967295}unset(l,h){const g=h*this.rowSize+Math.floor(l/32);this.bits[g]&=~(1<<(l&31)&4294967295)}flip(l,h){const g=h*this.rowSize+Math.floor(l/32);this.bits[g]^=1<<(l&31)&4294967295}xor(l){if(this.width!==l.getWidth()||this.height!==l.getHeight()||this.rowSize!==l.getRowSize())throw new w("input matrix dimensions do not match");const h=new G(Math.floor(this.width/32)+1),g=this.rowSize,v=this.bits;for(let _=0,b=this.height;_<b;_++){const N=_*g,k=l.getRow(_,h).getBitArray();for(let z=0;z<g;z++)v[N+z]^=k[z]}}clear(){const l=this.bits,h=l.length;for(let g=0;g<h;g++)l[g]=0}setRegion(l,h,g,v){if(h<0||l<0)throw new w("Left and top must be nonnegative");if(v<1||g<1)throw new w("Height and width must be at least 1");const _=l+g,b=h+v;if(b>this.height||_>this.width)throw new w("The region must fit inside the matrix");const N=this.rowSize,k=this.bits;for(let z=h;z<b;z++){const ee=z*N;for(let fe=l;fe<_;fe++)k[ee+Math.floor(fe/32)]|=1<<(fe&31)&4294967295}}getRow(l,h){h==null||h.getSize()<this.width?h=new G(this.width):h.clear();const g=this.rowSize,v=this.bits,_=l*g;for(let b=0;b<g;b++)h.setBulk(b*32,v[_+b]);return h}setRow(l,h){C.arraycopy(h.getBitArray(),0,this.bits,l*this.rowSize,this.rowSize)}rotate180(){const l=this.getWidth(),h=this.getHeight();let g=new G(l),v=new G(l);for(let _=0,b=Math.floor((h+1)/2);_<b;_++)g=this.getRow(_,g),v=this.getRow(h-1-_,v),g.reverse(),v.reverse(),this.setRow(_,v),this.setRow(h-1-_,g)}getEnclosingRectangle(){const l=this.width,h=this.height,g=this.rowSize,v=this.bits;let _=l,b=h,N=-1,k=-1;for(let z=0;z<h;z++)for(let ee=0;ee<g;ee++){const fe=v[z*g+ee];if(fe!==0){if(z<b&&(b=z),z>k&&(k=z),ee*32<_){let _e=0;for(;(fe<<31-_e&4294967295)===0;)_e++;ee*32+_e<_&&(_=ee*32+_e)}if(ee*32+31>N){let _e=31;for(;!(fe>>>_e);)_e--;ee*32+_e>N&&(N=ee*32+_e)}}}return N<_||k<b?null:Int32Array.from([_,b,N-_+1,k-b+1])}getTopLeftOnBit(){const l=this.rowSize,h=this.bits;let g=0;for(;g<h.length&&h[g]===0;)g++;if(g===h.length)return null;const v=g/l;let _=g%l*32;const b=h[g];let N=0;for(;(b<<31-N&4294967295)===0;)N++;return _+=N,Int32Array.from([_,v])}getBottomRightOnBit(){const l=this.rowSize,h=this.bits;let g=h.length-1;for(;g>=0&&h[g]===0;)g--;if(g<0)return null;const v=Math.floor(g/l);let _=Math.floor(g%l)*32;const b=h[g];let N=31;for(;!(b>>>N);)N--;return _+=N,Int32Array.from([_,v])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(l){if(!(l instanceof ne))return!1;const h=l;return this.width===h.width&&this.height===h.height&&this.rowSize===h.rowSize&&W.equals(this.bits,h.bits)}hashCode(){let l=this.width;return l=31*l+this.width,l=31*l+this.height,l=31*l+this.rowSize,l=31*l+W.hashCode(this.bits),l}toString(l="X ",h="  ",g=`
`){return this.buildToString(l,h,g)}buildToString(l,h,g){let v=new X;for(let _=0,b=this.height;_<b;_++){for(let N=0,k=this.width;N<k;N++)v.append(this.get(N,_)?l:h);v.append(g)}return v.toString()}clone(){return new ne(this.width,this.height,this.rowSize,this.bits.slice())}}class pe extends d{static getNotFoundInstance(){return new pe}}pe.kind="NotFoundException";class Ae extends I{constructor(l){super(l),this.luminances=Ae.EMPTY,this.buckets=new Int32Array(Ae.LUMINANCE_BUCKETS)}getBlackRow(l,h){const g=this.getLuminanceSource(),v=g.getWidth();h==null||h.getSize()<v?h=new G(v):h.clear(),this.initArrays(v);const _=g.getRow(l,this.luminances),b=this.buckets;for(let k=0;k<v;k++)b[(_[k]&255)>>Ae.LUMINANCE_SHIFT]++;const N=Ae.estimateBlackPoint(b);if(v<3)for(let k=0;k<v;k++)(_[k]&255)<N&&h.set(k);else{let k=_[0]&255,z=_[1]&255;for(let ee=1;ee<v-1;ee++){const fe=_[ee+1]&255;(z*4-k-fe)/2<N&&h.set(ee),k=z,z=fe}}return h}getBlackMatrix(){const l=this.getLuminanceSource(),h=l.getWidth(),g=l.getHeight(),v=new ne(h,g);this.initArrays(h);const _=this.buckets;for(let k=1;k<5;k++){const z=Math.floor(g*k/5),ee=l.getRow(z,this.luminances),fe=Math.floor(h*4/5);for(let _e=Math.floor(h/5);_e<fe;_e++){const Pe=ee[_e]&255;_[Pe>>Ae.LUMINANCE_SHIFT]++}}const b=Ae.estimateBlackPoint(_),N=l.getMatrix();for(let k=0;k<g;k++){const z=k*h;for(let ee=0;ee<h;ee++)(N[z+ee]&255)<b&&v.set(ee,k)}return v}createBinarizer(l){return new Ae(l)}initArrays(l){this.luminances.length<l&&(this.luminances=new Uint8ClampedArray(l));const h=this.buckets;for(let g=0;g<Ae.LUMINANCE_BUCKETS;g++)h[g]=0}static estimateBlackPoint(l){const h=l.length;let g=0,v=0,_=0;for(let ee=0;ee<h;ee++)l[ee]>_&&(v=ee,_=l[ee]),l[ee]>g&&(g=l[ee]);let b=0,N=0;for(let ee=0;ee<h;ee++){const fe=ee-v,_e=l[ee]*fe*fe;_e>N&&(b=ee,N=_e)}if(v>b){const ee=v;v=b,b=ee}if(b-v<=h/16)throw new pe;let k=b-1,z=-1;for(let ee=b-1;ee>v;ee--){const fe=ee-v,_e=fe*fe*(b-ee)*(g-l[ee]);_e>z&&(k=ee,z=_e)}return k<<Ae.LUMINANCE_SHIFT}}Ae.LUMINANCE_BITS=5,Ae.LUMINANCE_SHIFT=8-Ae.LUMINANCE_BITS,Ae.LUMINANCE_BUCKETS=1<<Ae.LUMINANCE_BITS,Ae.EMPTY=Uint8ClampedArray.from([0]);class xe extends Ae{constructor(l){super(l),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const l=this.getLuminanceSource(),h=l.getWidth(),g=l.getHeight();if(h>=xe.MINIMUM_DIMENSION&&g>=xe.MINIMUM_DIMENSION){const v=l.getMatrix();let _=h>>xe.BLOCK_SIZE_POWER;(h&xe.BLOCK_SIZE_MASK)!==0&&_++;let b=g>>xe.BLOCK_SIZE_POWER;(g&xe.BLOCK_SIZE_MASK)!==0&&b++;const N=xe.calculateBlackPoints(v,_,b,h,g),k=new ne(h,g);xe.calculateThresholdForBlock(v,_,b,h,g,N,k),this.matrix=k}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(l){return new xe(l)}static calculateThresholdForBlock(l,h,g,v,_,b,N){const k=_-xe.BLOCK_SIZE,z=v-xe.BLOCK_SIZE;for(let ee=0;ee<g;ee++){let fe=ee<<xe.BLOCK_SIZE_POWER;fe>k&&(fe=k);const _e=xe.cap(ee,2,g-3);for(let Pe=0;Pe<h;Pe++){let qe=Pe<<xe.BLOCK_SIZE_POWER;qe>z&&(qe=z);const Ye=xe.cap(Pe,2,h-3);let nt=0;for(let Bt=-2;Bt<=2;Bt++){const Ut=b[_e+Bt];nt+=Ut[Ye-2]+Ut[Ye-1]+Ut[Ye]+Ut[Ye+1]+Ut[Ye+2]}const yt=nt/25;xe.thresholdBlock(l,qe,fe,yt,v,N)}}}static cap(l,h,g){return l<h?h:l>g?g:l}static thresholdBlock(l,h,g,v,_,b){for(let N=0,k=g*_+h;N<xe.BLOCK_SIZE;N++,k+=_)for(let z=0;z<xe.BLOCK_SIZE;z++)(l[k+z]&255)<=v&&b.set(h+z,g+N)}static calculateBlackPoints(l,h,g,v,_){const b=_-xe.BLOCK_SIZE,N=v-xe.BLOCK_SIZE,k=new Array(g);for(let z=0;z<g;z++){k[z]=new Int32Array(h);let ee=z<<xe.BLOCK_SIZE_POWER;ee>b&&(ee=b);for(let fe=0;fe<h;fe++){let _e=fe<<xe.BLOCK_SIZE_POWER;_e>N&&(_e=N);let Pe=0,qe=255,Ye=0;for(let yt=0,Bt=ee*v+_e;yt<xe.BLOCK_SIZE;yt++,Bt+=v){for(let Ut=0;Ut<xe.BLOCK_SIZE;Ut++){const jt=l[Bt+Ut]&255;Pe+=jt,jt<qe&&(qe=jt),jt>Ye&&(Ye=jt)}if(Ye-qe>xe.MIN_DYNAMIC_RANGE)for(yt++,Bt+=v;yt<xe.BLOCK_SIZE;yt++,Bt+=v)for(let Ut=0;Ut<xe.BLOCK_SIZE;Ut++)Pe+=l[Bt+Ut]&255}let nt=Pe>>xe.BLOCK_SIZE_POWER*2;if(Ye-qe<=xe.MIN_DYNAMIC_RANGE&&(nt=qe/2,z>0&&fe>0)){const yt=(k[z-1][fe]+2*k[z][fe-1]+k[z-1][fe-1])/4;qe<yt&&(nt=yt)}k[z][fe]=nt}}return k}}xe.BLOCK_SIZE_POWER=3,xe.BLOCK_SIZE=1<<xe.BLOCK_SIZE_POWER,xe.BLOCK_SIZE_MASK=xe.BLOCK_SIZE-1,xe.MINIMUM_DIMENSION=xe.BLOCK_SIZE*5,xe.MIN_DYNAMIC_RANGE=24;class Re{constructor(l,h){this.width=l,this.height=h}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(l,h,g,v){throw new Z("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new Z("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new Z("This luminance source does not support rotation by 45 degrees.")}toString(){const l=new Uint8ClampedArray(this.width);let h=new X;for(let g=0;g<this.height;g++){const v=this.getRow(g,l);for(let _=0;_<this.width;_++){const b=v[_]&255;let N;b<64?N="#":b<128?N="+":b<192?N=".":N=" ",h.append(N)}h.append(`
`)}return h.toString()}}class He extends Re{constructor(l){super(l.getWidth(),l.getHeight()),this.delegate=l}getRow(l,h){const g=this.delegate.getRow(l,h),v=this.getWidth();for(let _=0;_<v;_++)g[_]=255-(g[_]&255);return g}getMatrix(){const l=this.delegate.getMatrix(),h=this.getWidth()*this.getHeight(),g=new Uint8ClampedArray(h);for(let v=0;v<h;v++)g[v]=255-(l[v]&255);return g}isCropSupported(){return this.delegate.isCropSupported()}crop(l,h,g,v){return new He(this.delegate.crop(l,h,g,v))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new He(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new He(this.delegate.rotateCounterClockwise45())}}class ze extends Re{constructor(l){super(l.width,l.height),this.canvas=l,this.tempCanvasElement=null,this.buffer=ze.makeBufferFromCanvasImageData(l)}static makeBufferFromCanvasImageData(l){const h=l.getContext("2d").getImageData(0,0,l.width,l.height);return ze.toGrayscaleBuffer(h.data,l.width,l.height)}static toGrayscaleBuffer(l,h,g){const v=new Uint8ClampedArray(h*g);for(let _=0,b=0,N=l.length;_<N;_+=4,b++){let k;if(l[_+3]===0)k=255;else{const ee=l[_],fe=l[_+1],_e=l[_+2];k=306*ee+601*fe+117*_e+512>>10}v[b]=k}return v}getRow(l,h){if(l<0||l>=this.getHeight())throw new w("Requested row is outside the image: "+l);const g=this.getWidth(),v=l*g;return h===null?h=this.buffer.slice(v,v+g):(h.length<g&&(h=new Uint8ClampedArray(g)),h.set(this.buffer.slice(v,v+g))),h}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(l,h,g,v){return super.crop(l,h,g,v),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const l=this.canvas.ownerDocument.createElement("canvas");l.width=this.canvas.width,l.height=this.canvas.height,this.tempCanvasElement=l}return this.tempCanvasElement}rotate(l){const h=this.getTempCanvasElement(),g=h.getContext("2d"),v=l*ze.DEGREE_TO_RADIANS,_=this.canvas.width,b=this.canvas.height,N=Math.ceil(Math.abs(Math.cos(v))*_+Math.abs(Math.sin(v))*b),k=Math.ceil(Math.abs(Math.sin(v))*_+Math.abs(Math.cos(v))*b);return h.width=N,h.height=k,g.translate(N/2,k/2),g.rotate(v),g.drawImage(this.canvas,_/-2,b/-2),this.buffer=ze.makeBufferFromCanvasImageData(h),this}invert(){return new He(this)}}ze.DEGREE_TO_RADIANS=Math.PI/180;class ve{constructor(l,h,g){this.deviceId=l,this.label=h,this.kind="videoinput",this.groupId=g||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var q=(globalThis||kg||self||window||void 0)&&(globalThis||kg||self||window||void 0).__awaiter||function(he,l,h,g){function v(_){return _ instanceof h?_:new h(function(b){b(_)})}return new(h||(h=Promise))(function(_,b){function N(ee){try{z(g.next(ee))}catch(fe){b(fe)}}function k(ee){try{z(g.throw(ee))}catch(fe){b(fe)}}function z(ee){ee.done?_(ee.value):v(ee.value).then(N,k)}z((g=g.apply(he,l||[])).next())})};class J{constructor(l,h=500,g){this.reader=l,this.timeBetweenScansMillis=h,this._hints=g,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(l){this._timeBetweenDecodingAttempts=l<0?0:l}set hints(l){this._hints=l||null}get hints(){return this._hints}listVideoInputDevices(){return q(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const l=yield navigator.mediaDevices.enumerateDevices(),h=[];for(const g of l){const v=g.kind==="video"?"videoinput":g.kind;if(v!=="videoinput")continue;const _=g.deviceId||g.id,b=g.label||`Video device ${h.length+1}`,N=g.groupId,k={deviceId:_,label:b,kind:v,groupId:N};h.push(k)}return h})}getVideoInputDevices(){return q(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(h=>new ve(h.deviceId,h.label))})}findDeviceById(l){return q(this,void 0,void 0,function*(){const h=yield this.listVideoInputDevices();return h?h.find(g=>g.deviceId===l):null})}decodeFromInputVideoDevice(l,h){return q(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(l,h)})}decodeOnceFromVideoDevice(l,h){return q(this,void 0,void 0,function*(){this.reset();let g;l?g={deviceId:{exact:l}}:g={facingMode:"environment"};const v={video:g};return yield this.decodeOnceFromConstraints(v,h)})}decodeOnceFromConstraints(l,h){return q(this,void 0,void 0,function*(){const g=yield navigator.mediaDevices.getUserMedia(l);return yield this.decodeOnceFromStream(g,h)})}decodeOnceFromStream(l,h){return q(this,void 0,void 0,function*(){this.reset();const g=yield this.attachStreamToVideo(l,h);return yield this.decodeOnce(g)})}decodeFromInputVideoDeviceContinuously(l,h,g){return q(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(l,h,g)})}decodeFromVideoDevice(l,h,g){return q(this,void 0,void 0,function*(){let v;l?v={deviceId:{exact:l}}:v={facingMode:"environment"};const _={video:v};return yield this.decodeFromConstraints(_,h,g)})}decodeFromConstraints(l,h,g){return q(this,void 0,void 0,function*(){const v=yield navigator.mediaDevices.getUserMedia(l);return yield this.decodeFromStream(v,h,g)})}decodeFromStream(l,h,g){return q(this,void 0,void 0,function*(){this.reset();const v=yield this.attachStreamToVideo(l,h);return yield this.decodeContinuously(v,g)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(l,h){return q(this,void 0,void 0,function*(){const g=this.prepareVideoElement(h);return this.addVideoSource(g,l),this.videoElement=g,this.stream=l,yield this.playVideoOnLoadAsync(g),g})}playVideoOnLoadAsync(l){return new Promise((h,g)=>this.playVideoOnLoad(l,()=>h()))}playVideoOnLoad(l,h){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(l),l.addEventListener("ended",this.videoEndedListener),l.addEventListener("canplay",this.videoCanPlayListener),l.addEventListener("playing",h),this.tryPlayVideo(l)}isVideoPlaying(l){return l.currentTime>0&&!l.paused&&!l.ended&&l.readyState>2}tryPlayVideo(l){return q(this,void 0,void 0,function*(){if(this.isVideoPlaying(l)){console.warn("Trying to play video that is already playing.");return}try{yield l.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(l,h){const g=document.getElementById(l);if(!g)throw new x(`element with id '${l}' not found`);if(g.nodeName.toLowerCase()!==h.toLowerCase())throw new x(`element with id '${l}' must be an ${h} element`);return g}decodeFromImage(l,h){if(!l&&!h)throw new x("either imageElement with a src set or an url must be provided");return h&&!l?this.decodeFromImageUrl(h):this.decodeFromImageElement(l)}decodeFromVideo(l,h){if(!l&&!h)throw new x("Either an element with a src set or an URL must be provided");return h&&!l?this.decodeFromVideoUrl(h):this.decodeFromVideoElement(l)}decodeFromVideoContinuously(l,h,g){if(l===void 0&&h===void 0)throw new x("Either an element with a src set or an URL must be provided");return h&&!l?this.decodeFromVideoUrlContinuously(h,g):this.decodeFromVideoElementContinuously(l,g)}decodeFromImageElement(l){if(!l)throw new x("An image element must be provided.");this.reset();const h=this.prepareImageElement(l);this.imageElement=h;let g;return this.isImageLoaded(h)?g=this.decodeOnce(h,!1,!0):g=this._decodeOnLoadImage(h),g}decodeFromVideoElement(l){const h=this._decodeFromVideoElementSetup(l);return this._decodeOnLoadVideo(h)}decodeFromVideoElementContinuously(l,h){const g=this._decodeFromVideoElementSetup(l);return this._decodeOnLoadVideoContinuously(g,h)}_decodeFromVideoElementSetup(l){if(!l)throw new x("A video element must be provided.");this.reset();const h=this.prepareVideoElement(l);return this.videoElement=h,h}decodeFromImageUrl(l){if(!l)throw new x("An URL must be provided.");this.reset();const h=this.prepareImageElement();this.imageElement=h;const g=this._decodeOnLoadImage(h);return h.src=l,g}decodeFromVideoUrl(l){if(!l)throw new x("An URL must be provided.");this.reset();const h=this.prepareVideoElement(),g=this.decodeFromVideoElement(h);return h.src=l,g}decodeFromVideoUrlContinuously(l,h){if(!l)throw new x("An URL must be provided.");this.reset();const g=this.prepareVideoElement(),v=this.decodeFromVideoElementContinuously(g,h);return g.src=l,v}_decodeOnLoadImage(l){return new Promise((h,g)=>{this.imageLoadedListener=()=>this.decodeOnce(l,!1,!0).then(h,g),l.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(l){return q(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(l),yield this.decodeOnce(l)})}_decodeOnLoadVideoContinuously(l,h){return q(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(l),this.decodeContinuously(l,h)})}isImageLoaded(l){return!(!l.complete||l.naturalWidth===0)}prepareImageElement(l){let h;return typeof l>"u"&&(h=document.createElement("img"),h.width=200,h.height=200),typeof l=="string"&&(h=this.getMediaElement(l,"img")),l instanceof HTMLImageElement&&(h=l),h}prepareVideoElement(l){let h;return!l&&typeof document<"u"&&(h=document.createElement("video"),h.width=200,h.height=200),typeof l=="string"&&(h=this.getMediaElement(l,"video")),l instanceof HTMLVideoElement&&(h=l),h.setAttribute("autoplay","true"),h.setAttribute("muted","true"),h.setAttribute("playsinline","true"),h}decodeOnce(l,h=!0,g=!0){this._stopAsyncDecode=!1;const v=(_,b)=>{if(this._stopAsyncDecode){b(new pe("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const N=this.decode(l);_(N)}catch(N){const k=h&&N instanceof pe,ee=(N instanceof E||N instanceof F)&&g;if(k||ee)return setTimeout(v,this._timeBetweenDecodingAttempts,_,b);b(N)}};return new Promise((_,b)=>v(_,b))}decodeContinuously(l,h){this._stopContinuousDecode=!1;const g=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const v=this.decode(l);h(v,null),setTimeout(g,this.timeBetweenScansMillis)}catch(v){h(null,v);const _=v instanceof E||v instanceof F,b=v instanceof pe;(_||b)&&setTimeout(g,this._timeBetweenDecodingAttempts)}};g()}decode(l){const h=this.createBinaryBitmap(l);return this.decodeBitmap(h)}_isHTMLVideoElement(l){return l.videoWidth!==0}drawFrameOnCanvas(l,h,g){h||(h={sx:0,sy:0,sWidth:l.videoWidth,sHeight:l.videoHeight,dx:0,dy:0,dWidth:l.videoWidth,dHeight:l.videoHeight}),g||(g=this.captureCanvasContext),g.drawImage(l,h.sx,h.sy,h.sWidth,h.sHeight,h.dx,h.dy,h.dWidth,h.dHeight)}drawImageOnCanvas(l,h,g=this.captureCanvasContext){h||(h={sx:0,sy:0,sWidth:l.naturalWidth,sHeight:l.naturalHeight,dx:0,dy:0,dWidth:l.naturalWidth,dHeight:l.naturalHeight}),g||(g=this.captureCanvasContext),g.drawImage(l,h.sx,h.sy,h.sWidth,h.sHeight,h.dx,h.dy,h.dWidth,h.dHeight)}createBinaryBitmap(l){this.getCaptureCanvasContext(l),this._isHTMLVideoElement(l)?this.drawFrameOnCanvas(l):this.drawImageOnCanvas(l);const h=this.getCaptureCanvas(l),g=new ze(h),v=new xe(g);return new A(v)}getCaptureCanvasContext(l){if(!this.captureCanvasContext){const g=this.getCaptureCanvas(l).getContext("2d");this.captureCanvasContext=g}return this.captureCanvasContext}getCaptureCanvas(l){if(!this.captureCanvas){const h=this.createCaptureCanvas(l);this.captureCanvas=h}return this.captureCanvas}decodeBitmap(l){return this.reader.decode(l,this._hints)}createCaptureCanvas(l){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const h=document.createElement("canvas");let g,v;return typeof l<"u"&&(l instanceof HTMLVideoElement?(g=l.videoWidth,v=l.videoHeight):l instanceof HTMLImageElement&&(g=l.naturalWidth||l.width,v=l.naturalHeight||l.height)),h.style.width=g+"px",h.style.height=v+"px",h.width=g,h.height=v,h}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(l=>l.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(l,h){try{l.srcObject=h}catch{l.src=URL.createObjectURL(h)}}cleanVideoSource(l){try{l.srcObject=null}catch{l.src=""}this.videoElement.removeAttribute("src")}}class Q{constructor(l,h,g=h==null?0:8*h.length,v,_,b=C.currentTimeMillis()){this.text=l,this.rawBytes=h,this.numBits=g,this.resultPoints=v,this.format=_,this.timestamp=b,this.text=l,this.rawBytes=h,g==null?this.numBits=h==null?0:8*h.length:this.numBits=g,this.resultPoints=v,this.format=_,this.resultMetadata=null,b==null?this.timestamp=C.currentTimeMillis():this.timestamp=b}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(l,h){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(l,h)}putAllMetadata(l){l!==null&&(this.resultMetadata===null?this.resultMetadata=l:this.resultMetadata=new Map(l))}addResultPoints(l){const h=this.resultPoints;if(h===null)this.resultPoints=l;else if(l!==null&&l.length>0){const g=new Array(h.length+l.length);C.arraycopy(h,0,g,0,h.length),C.arraycopy(l,0,g,h.length,l.length),this.resultPoints=g}}getTimestamp(){return this.timestamp}toString(){return this.text}}var oe;(function(he){he[he.AZTEC=0]="AZTEC",he[he.CODABAR=1]="CODABAR",he[he.CODE_39=2]="CODE_39",he[he.CODE_93=3]="CODE_93",he[he.CODE_128=4]="CODE_128",he[he.DATA_MATRIX=5]="DATA_MATRIX",he[he.EAN_8=6]="EAN_8",he[he.EAN_13=7]="EAN_13",he[he.ITF=8]="ITF",he[he.MAXICODE=9]="MAXICODE",he[he.PDF_417=10]="PDF_417",he[he.QR_CODE=11]="QR_CODE",he[he.RSS_14=12]="RSS_14",he[he.RSS_EXPANDED=13]="RSS_EXPANDED",he[he.UPC_A=14]="UPC_A",he[he.UPC_E=15]="UPC_E",he[he.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(oe||(oe={}));var de=oe,De;(function(he){he[he.OTHER=0]="OTHER",he[he.ORIENTATION=1]="ORIENTATION",he[he.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",he[he.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",he[he.ISSUE_NUMBER=4]="ISSUE_NUMBER",he[he.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",he[he.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",he[he.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",he[he.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",he[he.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",he[he.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(De||(De={}));var Ve=De;class Fe{constructor(l,h,g,v,_=-1,b=-1){this.rawBytes=l,this.text=h,this.byteSegments=g,this.ecLevel=v,this.structuredAppendSequenceNumber=_,this.structuredAppendParity=b,this.numBits=l==null?0:8*l.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(l){this.numBits=l}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(l){this.errorsCorrected=l}getErasures(){return this.erasures}setErasures(l){this.erasures=l}getOther(){return this.other}setOther(l){this.other=l}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Ie{exp(l){return this.expTable[l]}log(l){if(l===0)throw new w;return this.logTable[l]}static addOrSubtract(l,h){return l^h}}class Qe{constructor(l,h){if(h.length===0)throw new w;this.field=l;const g=h.length;if(g>1&&h[0]===0){let v=1;for(;v<g&&h[v]===0;)v++;v===g?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(g-v),C.arraycopy(h,v,this.coefficients,0,this.coefficients.length))}else this.coefficients=h}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(l){return this.coefficients[this.coefficients.length-1-l]}evaluateAt(l){if(l===0)return this.getCoefficient(0);const h=this.coefficients;let g;if(l===1){g=0;for(let b=0,N=h.length;b!==N;b++){const k=h[b];g=Ie.addOrSubtract(g,k)}return g}g=h[0];const v=h.length,_=this.field;for(let b=1;b<v;b++)g=Ie.addOrSubtract(_.multiply(l,g),h[b]);return g}addOrSubtract(l){if(!this.field.equals(l.field))throw new w("GenericGFPolys do not have same GenericGF field");if(this.isZero())return l;if(l.isZero())return this;let h=this.coefficients,g=l.coefficients;if(h.length>g.length){const b=h;h=g,g=b}let v=new Int32Array(g.length);const _=g.length-h.length;C.arraycopy(g,0,v,0,_);for(let b=_;b<g.length;b++)v[b]=Ie.addOrSubtract(h[b-_],g[b]);return new Qe(this.field,v)}multiply(l){if(!this.field.equals(l.field))throw new w("GenericGFPolys do not have same GenericGF field");if(this.isZero()||l.isZero())return this.field.getZero();const h=this.coefficients,g=h.length,v=l.coefficients,_=v.length,b=new Int32Array(g+_-1),N=this.field;for(let k=0;k<g;k++){const z=h[k];for(let ee=0;ee<_;ee++)b[k+ee]=Ie.addOrSubtract(b[k+ee],N.multiply(z,v[ee]))}return new Qe(N,b)}multiplyScalar(l){if(l===0)return this.field.getZero();if(l===1)return this;const h=this.coefficients.length,g=this.field,v=new Int32Array(h),_=this.coefficients;for(let b=0;b<h;b++)v[b]=g.multiply(_[b],l);return new Qe(g,v)}multiplyByMonomial(l,h){if(l<0)throw new w;if(h===0)return this.field.getZero();const g=this.coefficients,v=g.length,_=new Int32Array(v+l),b=this.field;for(let N=0;N<v;N++)_[N]=b.multiply(g[N],h);return new Qe(b,_)}divide(l){if(!this.field.equals(l.field))throw new w("GenericGFPolys do not have same GenericGF field");if(l.isZero())throw new w("Divide by 0");const h=this.field;let g=h.getZero(),v=this;const _=l.getCoefficient(l.getDegree()),b=h.inverse(_);for(;v.getDegree()>=l.getDegree()&&!v.isZero();){const N=v.getDegree()-l.getDegree(),k=h.multiply(v.getCoefficient(v.getDegree()),b),z=l.multiplyByMonomial(N,k),ee=h.buildMonomial(N,k);g=g.addOrSubtract(ee),v=v.addOrSubtract(z)}return[g,v]}toString(){let l="";for(let h=this.getDegree();h>=0;h--){let g=this.getCoefficient(h);if(g!==0){if(g<0?(l+=" - ",g=-g):l.length>0&&(l+=" + "),h===0||g!==1){const v=this.field.log(g);v===0?l+="1":v===1?l+="a":(l+="a^",l+=v)}h!==0&&(h===1?l+="x":(l+="x^",l+=h))}}return l}}class St extends d{}St.kind="ArithmeticException";class Tt extends Ie{constructor(l,h,g){super(),this.primitive=l,this.size=h,this.generatorBase=g;const v=new Int32Array(h);let _=1;for(let N=0;N<h;N++)v[N]=_,_*=2,_>=h&&(_^=l,_&=h-1);this.expTable=v;const b=new Int32Array(h);for(let N=0;N<h-1;N++)b[v[N]]=N;this.logTable=b,this.zero=new Qe(this,Int32Array.from([0])),this.one=new Qe(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(l,h){if(l<0)throw new w;if(h===0)return this.zero;const g=new Int32Array(l+1);return g[0]=h,new Qe(this,g)}inverse(l){if(l===0)throw new St;return this.expTable[this.size-this.logTable[l]-1]}multiply(l,h){return l===0||h===0?0:this.expTable[(this.logTable[l]+this.logTable[h])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+M.toHexString(this.primitive)+","+this.size+")"}equals(l){return l===this}}Tt.AZTEC_DATA_12=new Tt(4201,4096,1),Tt.AZTEC_DATA_10=new Tt(1033,1024,1),Tt.AZTEC_DATA_6=new Tt(67,64,1),Tt.AZTEC_PARAM=new Tt(19,16,1),Tt.QR_CODE_FIELD_256=new Tt(285,256,0),Tt.DATA_MATRIX_FIELD_256=new Tt(301,256,1),Tt.AZTEC_DATA_8=Tt.DATA_MATRIX_FIELD_256,Tt.MAXICODE_FIELD_64=Tt.AZTEC_DATA_6;class Rt extends d{}Rt.kind="ReedSolomonException";class le extends d{}le.kind="IllegalStateException";class ot{constructor(l){this.field=l}decode(l,h){const g=this.field,v=new Qe(g,l),_=new Int32Array(h);let b=!0;for(let Pe=0;Pe<h;Pe++){const qe=v.evaluateAt(g.exp(Pe+g.getGeneratorBase()));_[_.length-1-Pe]=qe,qe!==0&&(b=!1)}if(b)return;const N=new Qe(g,_),k=this.runEuclideanAlgorithm(g.buildMonomial(h,1),N,h),z=k[0],ee=k[1],fe=this.findErrorLocations(z),_e=this.findErrorMagnitudes(ee,fe);for(let Pe=0;Pe<fe.length;Pe++){const qe=l.length-1-g.log(fe[Pe]);if(qe<0)throw new Rt("Bad error location");l[qe]=Tt.addOrSubtract(l[qe],_e[Pe])}}runEuclideanAlgorithm(l,h,g){if(l.getDegree()<h.getDegree()){const Pe=l;l=h,h=Pe}const v=this.field;let _=l,b=h,N=v.getZero(),k=v.getOne();for(;b.getDegree()>=(g/2|0);){let Pe=_,qe=N;if(_=b,N=k,_.isZero())throw new Rt("r_{i-1} was zero");b=Pe;let Ye=v.getZero();const nt=_.getCoefficient(_.getDegree()),yt=v.inverse(nt);for(;b.getDegree()>=_.getDegree()&&!b.isZero();){const Bt=b.getDegree()-_.getDegree(),Ut=v.multiply(b.getCoefficient(b.getDegree()),yt);Ye=Ye.addOrSubtract(v.buildMonomial(Bt,Ut)),b=b.addOrSubtract(_.multiplyByMonomial(Bt,Ut))}if(k=Ye.multiply(N).addOrSubtract(qe),b.getDegree()>=_.getDegree())throw new le("Division algorithm failed to reduce polynomial?")}const z=k.getCoefficient(0);if(z===0)throw new Rt("sigmaTilde(0) was zero");const ee=v.inverse(z),fe=k.multiplyScalar(ee),_e=b.multiplyScalar(ee);return[fe,_e]}findErrorLocations(l){const h=l.getDegree();if(h===1)return Int32Array.from([l.getCoefficient(1)]);const g=new Int32Array(h);let v=0;const _=this.field;for(let b=1;b<_.getSize()&&v<h;b++)l.evaluateAt(b)===0&&(g[v]=_.inverse(b),v++);if(v!==h)throw new Rt("Error locator degree does not match number of roots");return g}findErrorMagnitudes(l,h){const g=h.length,v=new Int32Array(g),_=this.field;for(let b=0;b<g;b++){const N=_.inverse(h[b]);let k=1;for(let z=0;z<g;z++)if(b!==z){const ee=_.multiply(h[z],N),fe=(ee&1)===0?ee|1:ee&-2;k=_.multiply(k,fe)}v[b]=_.multiply(l.evaluateAt(N),_.inverse(k)),_.getGeneratorBase()!==0&&(v[b]=_.multiply(v[b],N))}return v}}var pt;(function(he){he[he.UPPER=0]="UPPER",he[he.LOWER=1]="LOWER",he[he.MIXED=2]="MIXED",he[he.DIGIT=3]="DIGIT",he[he.PUNCT=4]="PUNCT",he[he.BINARY=5]="BINARY"})(pt||(pt={}));class zt{decode(l){this.ddata=l;let h=l.getBits(),g=this.extractBits(h),v=this.correctBits(g),_=zt.convertBoolArrayToByteArray(v),b=zt.getEncodedData(v),N=new Fe(_,b,null,null);return N.setNumBits(v.length),N}static highLevelDecode(l){return this.getEncodedData(l)}static getEncodedData(l){let h=l.length,g=pt.UPPER,v=pt.UPPER,_="",b=0;for(;b<h;)if(v===pt.BINARY){if(h-b<5)break;let N=zt.readCode(l,b,5);if(b+=5,N===0){if(h-b<11)break;N=zt.readCode(l,b,11)+31,b+=11}for(let k=0;k<N;k++){if(h-b<8){b=h;break}const z=zt.readCode(l,b,8);_+=H.castAsNonUtf8Char(z),b+=8}v=g}else{let N=v===pt.DIGIT?4:5;if(h-b<N)break;let k=zt.readCode(l,b,N);b+=N;let z=zt.getCharacter(v,k);z.startsWith("CTRL_")?(g=v,v=zt.getTable(z.charAt(5)),z.charAt(6)==="L"&&(g=v)):(_+=z,v=g)}return _}static getTable(l){switch(l){case"L":return pt.LOWER;case"P":return pt.PUNCT;case"M":return pt.MIXED;case"D":return pt.DIGIT;case"B":return pt.BINARY;case"U":default:return pt.UPPER}}static getCharacter(l,h){switch(l){case pt.UPPER:return zt.UPPER_TABLE[h];case pt.LOWER:return zt.LOWER_TABLE[h];case pt.MIXED:return zt.MIXED_TABLE[h];case pt.PUNCT:return zt.PUNCT_TABLE[h];case pt.DIGIT:return zt.DIGIT_TABLE[h];default:throw new le("Bad table")}}correctBits(l){let h,g;this.ddata.getNbLayers()<=2?(g=6,h=Tt.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(g=8,h=Tt.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(g=10,h=Tt.AZTEC_DATA_10):(g=12,h=Tt.AZTEC_DATA_12);let v=this.ddata.getNbDatablocks(),_=l.length/g;if(_<v)throw new F;let b=l.length%g,N=new Int32Array(_);for(let _e=0;_e<_;_e++,b+=g)N[_e]=zt.readCode(l,b,g);try{new ot(h).decode(N,_-v)}catch(_e){throw new F(_e)}let k=(1<<g)-1,z=0;for(let _e=0;_e<v;_e++){let Pe=N[_e];if(Pe===0||Pe===k)throw new F;(Pe===1||Pe===k-1)&&z++}let ee=new Array(v*g-z),fe=0;for(let _e=0;_e<v;_e++){let Pe=N[_e];if(Pe===1||Pe===k-1)ee.fill(Pe>1,fe,fe+g-1),fe+=g-1;else for(let qe=g-1;qe>=0;--qe)ee[fe++]=(Pe&1<<qe)!==0}return ee}extractBits(l){let h=this.ddata.isCompact(),g=this.ddata.getNbLayers(),v=(h?11:14)+g*4,_=new Int32Array(v),b=new Array(this.totalBitsInLayer(g,h));if(h)for(let N=0;N<_.length;N++)_[N]=N;else{let N=v+1+2*M.truncDivision(M.truncDivision(v,2)-1,15),k=v/2,z=M.truncDivision(N,2);for(let ee=0;ee<k;ee++){let fe=ee+M.truncDivision(ee,15);_[k-ee-1]=z-fe-1,_[k+ee]=z+fe+1}}for(let N=0,k=0;N<g;N++){let z=(g-N)*4+(h?9:12),ee=N*2,fe=v-1-ee;for(let _e=0;_e<z;_e++){let Pe=_e*2;for(let qe=0;qe<2;qe++)b[k+Pe+qe]=l.get(_[ee+qe],_[ee+_e]),b[k+2*z+Pe+qe]=l.get(_[ee+_e],_[fe-qe]),b[k+4*z+Pe+qe]=l.get(_[fe-qe],_[fe-_e]),b[k+6*z+Pe+qe]=l.get(_[fe-_e],_[ee+qe])}k+=z*8}return b}static readCode(l,h,g){let v=0;for(let _=h;_<h+g;_++)v<<=1,l[_]&&(v|=1);return v}static readByte(l,h){let g=l.length-h;return g>=8?zt.readCode(l,h,8):zt.readCode(l,h,g)<<8-g}static convertBoolArrayToByteArray(l){let h=new Uint8Array((l.length+7)/8);for(let g=0;g<h.length;g++)h[g]=zt.readByte(l,8*g);return h}totalBitsInLayer(l,h){return((h?88:112)+16*l)*l}}zt.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],zt.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],zt.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],zt.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],zt.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class tt{constructor(){}static round(l){return l===NaN?0:l<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:l>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:l+(l<0?-.5:.5)|0}static distance(l,h,g,v){const _=l-g,b=h-v;return Math.sqrt(_*_+b*b)}static sum(l){let h=0;for(let g=0,v=l.length;g!==v;g++){const _=l[g];h+=_}return h}}class tn{static floatToIntBits(l){return l}}tn.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Xe{constructor(l,h){this.x=l,this.y=h}getX(){return this.x}getY(){return this.y}equals(l){if(l instanceof Xe){const h=l;return this.x===h.x&&this.y===h.y}return!1}hashCode(){return 31*tn.floatToIntBits(this.x)+tn.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(l){const h=this.distance(l[0],l[1]),g=this.distance(l[1],l[2]),v=this.distance(l[0],l[2]);let _,b,N;if(g>=h&&g>=v?(b=l[0],_=l[1],N=l[2]):v>=g&&v>=h?(b=l[1],_=l[0],N=l[2]):(b=l[2],_=l[0],N=l[1]),this.crossProductZ(_,b,N)<0){const k=_;_=N,N=k}l[0]=_,l[1]=b,l[2]=N}static distance(l,h){return tt.distance(l.x,l.y,h.x,h.y)}static crossProductZ(l,h,g){const v=h.x,_=h.y;return(g.x-v)*(l.y-_)-(g.y-_)*(l.x-v)}}class Lt{constructor(l,h){this.bits=l,this.points=h}getBits(){return this.bits}getPoints(){return this.points}}class fn extends Lt{constructor(l,h,g,v,_){super(l,h),this.compact=g,this.nbDatablocks=v,this.nbLayers=_}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class st{constructor(l,h,g,v){this.image=l,this.height=l.getHeight(),this.width=l.getWidth(),h==null&&(h=st.INIT_SIZE),g==null&&(g=l.getWidth()/2|0),v==null&&(v=l.getHeight()/2|0);const _=h/2|0;if(this.leftInit=g-_,this.rightInit=g+_,this.upInit=v-_,this.downInit=v+_,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new pe}detect(){let l=this.leftInit,h=this.rightInit,g=this.upInit,v=this.downInit,_=!1,b=!0,N=!1,k=!1,z=!1,ee=!1,fe=!1;const _e=this.width,Pe=this.height;for(;b;){b=!1;let qe=!0;for(;(qe||!k)&&h<_e;)qe=this.containsBlackPoint(g,v,h,!1),qe?(h++,b=!0,k=!0):k||h++;if(h>=_e){_=!0;break}let Ye=!0;for(;(Ye||!z)&&v<Pe;)Ye=this.containsBlackPoint(l,h,v,!0),Ye?(v++,b=!0,z=!0):z||v++;if(v>=Pe){_=!0;break}let nt=!0;for(;(nt||!ee)&&l>=0;)nt=this.containsBlackPoint(g,v,l,!1),nt?(l--,b=!0,ee=!0):ee||l--;if(l<0){_=!0;break}let yt=!0;for(;(yt||!fe)&&g>=0;)yt=this.containsBlackPoint(l,h,g,!0),yt?(g--,b=!0,fe=!0):fe||g--;if(g<0){_=!0;break}b&&(N=!0)}if(!_&&N){const qe=h-l;let Ye=null;for(let Ut=1;Ye===null&&Ut<qe;Ut++)Ye=this.getBlackPointOnSegment(l,v-Ut,l+Ut,v);if(Ye==null)throw new pe;let nt=null;for(let Ut=1;nt===null&&Ut<qe;Ut++)nt=this.getBlackPointOnSegment(l,g+Ut,l+Ut,g);if(nt==null)throw new pe;let yt=null;for(let Ut=1;yt===null&&Ut<qe;Ut++)yt=this.getBlackPointOnSegment(h,g+Ut,h-Ut,g);if(yt==null)throw new pe;let Bt=null;for(let Ut=1;Bt===null&&Ut<qe;Ut++)Bt=this.getBlackPointOnSegment(h,v-Ut,h-Ut,v);if(Bt==null)throw new pe;return this.centerEdges(Bt,Ye,yt,nt)}else throw new pe}getBlackPointOnSegment(l,h,g,v){const _=tt.round(tt.distance(l,h,g,v)),b=(g-l)/_,N=(v-h)/_,k=this.image;for(let z=0;z<_;z++){const ee=tt.round(l+z*b),fe=tt.round(h+z*N);if(k.get(ee,fe))return new Xe(ee,fe)}return null}centerEdges(l,h,g,v){const _=l.getX(),b=l.getY(),N=h.getX(),k=h.getY(),z=g.getX(),ee=g.getY(),fe=v.getX(),_e=v.getY(),Pe=st.CORR;return _<this.width/2?[new Xe(fe-Pe,_e+Pe),new Xe(N+Pe,k+Pe),new Xe(z-Pe,ee-Pe),new Xe(_+Pe,b-Pe)]:[new Xe(fe+Pe,_e+Pe),new Xe(N+Pe,k-Pe),new Xe(z-Pe,ee+Pe),new Xe(_-Pe,b-Pe)]}containsBlackPoint(l,h,g,v){const _=this.image;if(v){for(let b=l;b<=h;b++)if(_.get(b,g))return!0}else for(let b=l;b<=h;b++)if(_.get(g,b))return!0;return!1}}st.INIT_SIZE=10,st.CORR=1;class Yt{static checkAndNudgePoints(l,h){const g=l.getWidth(),v=l.getHeight();let _=!0;for(let b=0;b<h.length&&_;b+=2){const N=Math.floor(h[b]),k=Math.floor(h[b+1]);if(N<-1||N>g||k<-1||k>v)throw new pe;_=!1,N===-1?(h[b]=0,_=!0):N===g&&(h[b]=g-1,_=!0),k===-1?(h[b+1]=0,_=!0):k===v&&(h[b+1]=v-1,_=!0)}_=!0;for(let b=h.length-2;b>=0&&_;b-=2){const N=Math.floor(h[b]),k=Math.floor(h[b+1]);if(N<-1||N>g||k<-1||k>v)throw new pe;_=!1,N===-1?(h[b]=0,_=!0):N===g&&(h[b]=g-1,_=!0),k===-1?(h[b+1]=0,_=!0):k===v&&(h[b+1]=v-1,_=!0)}}}class rn{constructor(l,h,g,v,_,b,N,k,z){this.a11=l,this.a21=h,this.a31=g,this.a12=v,this.a22=_,this.a32=b,this.a13=N,this.a23=k,this.a33=z}static quadrilateralToQuadrilateral(l,h,g,v,_,b,N,k,z,ee,fe,_e,Pe,qe,Ye,nt){const yt=rn.quadrilateralToSquare(l,h,g,v,_,b,N,k);return rn.squareToQuadrilateral(z,ee,fe,_e,Pe,qe,Ye,nt).times(yt)}transformPoints(l){const h=l.length,g=this.a11,v=this.a12,_=this.a13,b=this.a21,N=this.a22,k=this.a23,z=this.a31,ee=this.a32,fe=this.a33;for(let _e=0;_e<h;_e+=2){const Pe=l[_e],qe=l[_e+1],Ye=_*Pe+k*qe+fe;l[_e]=(g*Pe+b*qe+z)/Ye,l[_e+1]=(v*Pe+N*qe+ee)/Ye}}transformPointsWithValues(l,h){const g=this.a11,v=this.a12,_=this.a13,b=this.a21,N=this.a22,k=this.a23,z=this.a31,ee=this.a32,fe=this.a33,_e=l.length;for(let Pe=0;Pe<_e;Pe++){const qe=l[Pe],Ye=h[Pe],nt=_*qe+k*Ye+fe;l[Pe]=(g*qe+b*Ye+z)/nt,h[Pe]=(v*qe+N*Ye+ee)/nt}}static squareToQuadrilateral(l,h,g,v,_,b,N,k){const z=l-g+_-N,ee=h-v+b-k;if(z===0&&ee===0)return new rn(g-l,_-g,l,v-h,b-v,h,0,0,1);{const fe=g-_,_e=N-_,Pe=v-b,qe=k-b,Ye=fe*qe-_e*Pe,nt=(z*qe-_e*ee)/Ye,yt=(fe*ee-z*Pe)/Ye;return new rn(g-l+nt*g,N-l+yt*N,l,v-h+nt*v,k-h+yt*k,h,nt,yt,1)}}static quadrilateralToSquare(l,h,g,v,_,b,N,k){return rn.squareToQuadrilateral(l,h,g,v,_,b,N,k).buildAdjoint()}buildAdjoint(){return new rn(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(l){return new rn(this.a11*l.a11+this.a21*l.a12+this.a31*l.a13,this.a11*l.a21+this.a21*l.a22+this.a31*l.a23,this.a11*l.a31+this.a21*l.a32+this.a31*l.a33,this.a12*l.a11+this.a22*l.a12+this.a32*l.a13,this.a12*l.a21+this.a22*l.a22+this.a32*l.a23,this.a12*l.a31+this.a22*l.a32+this.a32*l.a33,this.a13*l.a11+this.a23*l.a12+this.a33*l.a13,this.a13*l.a21+this.a23*l.a22+this.a33*l.a23,this.a13*l.a31+this.a23*l.a32+this.a33*l.a33)}}class hn extends Yt{sampleGrid(l,h,g,v,_,b,N,k,z,ee,fe,_e,Pe,qe,Ye,nt,yt,Bt,Ut){const jt=rn.quadrilateralToQuadrilateral(v,_,b,N,k,z,ee,fe,_e,Pe,qe,Ye,nt,yt,Bt,Ut);return this.sampleGridWithTransform(l,h,g,jt)}sampleGridWithTransform(l,h,g,v){if(h<=0||g<=0)throw new pe;const _=new ne(h,g),b=new Float32Array(2*h);for(let N=0;N<g;N++){const k=b.length,z=N+.5;for(let ee=0;ee<k;ee+=2)b[ee]=ee/2+.5,b[ee+1]=z;v.transformPoints(b),Yt.checkAndNudgePoints(l,b);try{for(let ee=0;ee<k;ee+=2)l.get(Math.floor(b[ee]),Math.floor(b[ee+1]))&&_.set(ee/2,N)}catch{throw new pe}}return _}}class xn{static setGridSampler(l){xn.gridSampler=l}static getInstance(){return xn.gridSampler}}xn.gridSampler=new hn;class on{constructor(l,h){this.x=l,this.y=h}toResultPoint(){return new Xe(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class bn{constructor(l){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=l}detect(){return this.detectMirror(!1)}detectMirror(l){let h=this.getMatrixCenter(),g=this.getBullsEyeCorners(h);if(l){let b=g[0];g[0]=g[2],g[2]=b}this.extractParameters(g);let v=this.sampleGrid(this.image,g[this.shift%4],g[(this.shift+1)%4],g[(this.shift+2)%4],g[(this.shift+3)%4]),_=this.getMatrixCornerPoints(g);return new fn(v,_,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(l){if(!this.isValidPoint(l[0])||!this.isValidPoint(l[1])||!this.isValidPoint(l[2])||!this.isValidPoint(l[3]))throw new pe;let h=2*this.nbCenterLayers,g=new Int32Array([this.sampleLine(l[0],l[1],h),this.sampleLine(l[1],l[2],h),this.sampleLine(l[2],l[3],h),this.sampleLine(l[3],l[0],h)]);this.shift=this.getRotation(g,h);let v=0;for(let b=0;b<4;b++){let N=g[(this.shift+b)%4];this.compact?(v<<=7,v+=N>>1&127):(v<<=10,v+=(N>>2&992)+(N>>1&31))}let _=this.getCorrectedParameterData(v,this.compact);this.compact?(this.nbLayers=(_>>6)+1,this.nbDataBlocks=(_&63)+1):(this.nbLayers=(_>>11)+1,this.nbDataBlocks=(_&2047)+1)}getRotation(l,h){let g=0;l.forEach((v,_,b)=>{let N=(v>>h-2<<1)+(v&1);g=(g<<3)+N}),g=((g&1)<<11)+(g>>1);for(let v=0;v<4;v++)if(M.bitCount(g^this.EXPECTED_CORNER_BITS[v])<=2)return v;throw new pe}getCorrectedParameterData(l,h){let g,v;h?(g=7,v=2):(g=10,v=4);let _=g-v,b=new Int32Array(g);for(let k=g-1;k>=0;--k)b[k]=l&15,l>>=4;try{new ot(Tt.AZTEC_PARAM).decode(b,_)}catch{throw new pe}let N=0;for(let k=0;k<v;k++)N=(N<<4)+b[k];return N}getBullsEyeCorners(l){let h=l,g=l,v=l,_=l,b=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let fe=this.getFirstDifferent(h,b,1,-1),_e=this.getFirstDifferent(g,b,1,1),Pe=this.getFirstDifferent(v,b,-1,1),qe=this.getFirstDifferent(_,b,-1,-1);if(this.nbCenterLayers>2){let Ye=this.distancePoint(qe,fe)*this.nbCenterLayers/(this.distancePoint(_,h)*(this.nbCenterLayers+2));if(Ye<.75||Ye>1.25||!this.isWhiteOrBlackRectangle(fe,_e,Pe,qe))break}h=fe,g=_e,v=Pe,_=qe,b=!b}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new pe;this.compact=this.nbCenterLayers===5;let N=new Xe(h.getX()+.5,h.getY()-.5),k=new Xe(g.getX()+.5,g.getY()+.5),z=new Xe(v.getX()-.5,v.getY()+.5),ee=new Xe(_.getX()-.5,_.getY()-.5);return this.expandSquare([N,k,z,ee],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let l,h,g,v;try{let N=new st(this.image).detect();l=N[0],h=N[1],g=N[2],v=N[3]}catch{let k=this.image.getWidth()/2,z=this.image.getHeight()/2;l=this.getFirstDifferent(new on(k+7,z-7),!1,1,-1).toResultPoint(),h=this.getFirstDifferent(new on(k+7,z+7),!1,1,1).toResultPoint(),g=this.getFirstDifferent(new on(k-7,z+7),!1,-1,1).toResultPoint(),v=this.getFirstDifferent(new on(k-7,z-7),!1,-1,-1).toResultPoint()}let _=tt.round((l.getX()+v.getX()+h.getX()+g.getX())/4),b=tt.round((l.getY()+v.getY()+h.getY()+g.getY())/4);try{let N=new st(this.image,15,_,b).detect();l=N[0],h=N[1],g=N[2],v=N[3]}catch{l=this.getFirstDifferent(new on(_+7,b-7),!1,1,-1).toResultPoint(),h=this.getFirstDifferent(new on(_+7,b+7),!1,1,1).toResultPoint(),g=this.getFirstDifferent(new on(_-7,b+7),!1,-1,1).toResultPoint(),v=this.getFirstDifferent(new on(_-7,b-7),!1,-1,-1).toResultPoint()}return _=tt.round((l.getX()+v.getX()+h.getX()+g.getX())/4),b=tt.round((l.getY()+v.getY()+h.getY()+g.getY())/4),new on(_,b)}getMatrixCornerPoints(l){return this.expandSquare(l,2*this.nbCenterLayers,this.getDimension())}sampleGrid(l,h,g,v,_){let b=xn.getInstance(),N=this.getDimension(),k=N/2-this.nbCenterLayers,z=N/2+this.nbCenterLayers;return b.sampleGrid(l,N,N,k,k,z,k,z,z,k,z,h.getX(),h.getY(),g.getX(),g.getY(),v.getX(),v.getY(),_.getX(),_.getY())}sampleLine(l,h,g){let v=0,_=this.distanceResultPoint(l,h),b=_/g,N=l.getX(),k=l.getY(),z=b*(h.getX()-l.getX())/_,ee=b*(h.getY()-l.getY())/_;for(let fe=0;fe<g;fe++)this.image.get(tt.round(N+fe*z),tt.round(k+fe*ee))&&(v|=1<<g-fe-1);return v}isWhiteOrBlackRectangle(l,h,g,v){let _=3;l=new on(l.getX()-_,l.getY()+_),h=new on(h.getX()-_,h.getY()-_),g=new on(g.getX()+_,g.getY()-_),v=new on(v.getX()+_,v.getY()+_);let b=this.getColor(v,l);if(b===0)return!1;let N=this.getColor(l,h);return N!==b||(N=this.getColor(h,g),N!==b)?!1:(N=this.getColor(g,v),N===b)}getColor(l,h){let g=this.distancePoint(l,h),v=(h.getX()-l.getX())/g,_=(h.getY()-l.getY())/g,b=0,N=l.getX(),k=l.getY(),z=this.image.get(l.getX(),l.getY()),ee=Math.ceil(g);for(let _e=0;_e<ee;_e++)N+=v,k+=_,this.image.get(tt.round(N),tt.round(k))!==z&&b++;let fe=b/g;return fe>.1&&fe<.9?0:fe<=.1===z?1:-1}getFirstDifferent(l,h,g,v){let _=l.getX()+g,b=l.getY()+v;for(;this.isValid(_,b)&&this.image.get(_,b)===h;)_+=g,b+=v;for(_-=g,b-=v;this.isValid(_,b)&&this.image.get(_,b)===h;)_+=g;for(_-=g;this.isValid(_,b)&&this.image.get(_,b)===h;)b+=v;return b-=v,new on(_,b)}expandSquare(l,h,g){let v=g/(2*h),_=l[0].getX()-l[2].getX(),b=l[0].getY()-l[2].getY(),N=(l[0].getX()+l[2].getX())/2,k=(l[0].getY()+l[2].getY())/2,z=new Xe(N+v*_,k+v*b),ee=new Xe(N-v*_,k-v*b);_=l[1].getX()-l[3].getX(),b=l[1].getY()-l[3].getY(),N=(l[1].getX()+l[3].getX())/2,k=(l[1].getY()+l[3].getY())/2;let fe=new Xe(N+v*_,k+v*b),_e=new Xe(N-v*_,k-v*b);return[z,fe,ee,_e]}isValid(l,h){return l>=0&&l<this.image.getWidth()&&h>0&&h<this.image.getHeight()}isValidPoint(l){let h=tt.round(l.getX()),g=tt.round(l.getY());return this.isValid(h,g)}distancePoint(l,h){return tt.distance(l.getX(),l.getY(),h.getX(),h.getY())}distanceResultPoint(l,h){return tt.distance(l.getX(),l.getY(),h.getX(),h.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(M.truncDivision(this.nbLayers-4,8)+1)+15}}class dn{decode(l,h=null){let g=null,v=new bn(l.getBlackMatrix()),_=null,b=null;try{let ee=v.detectMirror(!1);_=ee.getPoints(),this.reportFoundResultPoints(h,_),b=new zt().decode(ee)}catch(ee){g=ee}if(b==null)try{let ee=v.detectMirror(!0);_=ee.getPoints(),this.reportFoundResultPoints(h,_),b=new zt().decode(ee)}catch(ee){throw g??ee}let N=new Q(b.getText(),b.getRawBytes(),b.getNumBits(),_,de.AZTEC,C.currentTimeMillis()),k=b.getByteSegments();k!=null&&N.putMetadata(Ve.BYTE_SEGMENTS,k);let z=b.getECLevel();return z!=null&&N.putMetadata(Ve.ERROR_CORRECTION_LEVEL,z),N}reportFoundResultPoints(l,h){if(l!=null){let g=l.get(re.NEED_RESULT_POINT_CALLBACK);g!=null&&h.forEach((v,_,b)=>{g.foundPossibleResultPoint(v)})}}reset(){}}class nr extends J{constructor(l=500){super(new dn,l)}}class an{decode(l,h){try{return this.doDecode(l,h)}catch{if(h&&h.get(re.TRY_HARDER)===!0&&l.isRotateSupported()){const _=l.rotateCounterClockwise(),b=this.doDecode(_,h),N=b.getResultMetadata();let k=270;N!==null&&N.get(Ve.ORIENTATION)===!0&&(k=k+N.get(Ve.ORIENTATION)%360),b.putMetadata(Ve.ORIENTATION,k);const z=b.getResultPoints();if(z!==null){const ee=_.getHeight();for(let fe=0;fe<z.length;fe++)z[fe]=new Xe(ee-z[fe].getY()-1,z[fe].getX())}return b}else throw new pe}}reset(){}doDecode(l,h){const g=l.getWidth(),v=l.getHeight();let _=new G(g);const b=h&&h.get(re.TRY_HARDER)===!0,N=Math.max(1,v>>(b?8:5));let k;b?k=v:k=15;const z=Math.trunc(v/2);for(let ee=0;ee<k;ee++){const fe=Math.trunc((ee+1)/2),_e=(ee&1)===0,Pe=z+N*(_e?fe:-fe);if(Pe<0||Pe>=v)break;try{_=l.getBlackRow(Pe,_)}catch{continue}for(let qe=0;qe<2;qe++){if(qe===1&&(_.reverse(),h&&h.get(re.NEED_RESULT_POINT_CALLBACK)===!0)){const Ye=new Map;h.forEach((nt,yt)=>Ye.set(yt,nt)),Ye.delete(re.NEED_RESULT_POINT_CALLBACK),h=Ye}try{const Ye=this.decodeRow(Pe,_,h);if(qe===1){Ye.putMetadata(Ve.ORIENTATION,180);const nt=Ye.getResultPoints();nt!==null&&(nt[0]=new Xe(g-nt[0].getX()-1,nt[0].getY()),nt[1]=new Xe(g-nt[1].getX()-1,nt[1].getY()))}return Ye}catch{}}}throw new pe}static recordPattern(l,h,g){const v=g.length;for(let z=0;z<v;z++)g[z]=0;const _=l.getSize();if(h>=_)throw new pe;let b=!l.get(h),N=0,k=h;for(;k<_;){if(l.get(k)!==b)g[N]++;else{if(++N===v)break;g[N]=1,b=!b}k++}if(!(N===v||N===v-1&&k===_))throw new pe}static recordPatternInReverse(l,h,g){let v=g.length,_=l.get(h);for(;h>0&&v>=0;)l.get(--h)!==_&&(v--,_=!_);if(v>=0)throw new pe;an.recordPattern(l,h+1,g)}static patternMatchVariance(l,h,g){const v=l.length;let _=0,b=0;for(let z=0;z<v;z++)_+=l[z],b+=h[z];if(_<b)return Number.POSITIVE_INFINITY;const N=_/b;g*=N;let k=0;for(let z=0;z<v;z++){const ee=l[z],fe=h[z]*N,_e=ee>fe?ee-fe:fe-ee;if(_e>g)return Number.POSITIVE_INFINITY;k+=_e}return k/_}}class dt extends an{static findStartPattern(l){const h=l.getSize(),g=l.getNextSet(0);let v=0,_=Int32Array.from([0,0,0,0,0,0]),b=g,N=!1;const k=6;for(let z=g;z<h;z++)if(l.get(z)!==N)_[v]++;else{if(v===k-1){let ee=dt.MAX_AVG_VARIANCE,fe=-1;for(let _e=dt.CODE_START_A;_e<=dt.CODE_START_C;_e++){const Pe=an.patternMatchVariance(_,dt.CODE_PATTERNS[_e],dt.MAX_INDIVIDUAL_VARIANCE);Pe<ee&&(ee=Pe,fe=_e)}if(fe>=0&&l.isRange(Math.max(0,b-(z-b)/2),b,!1))return Int32Array.from([b,z,fe]);b+=_[0]+_[1],_=_.slice(2,_.length-1),_[v-1]=0,_[v]=0,v--}else v++;_[v]=1,N=!N}throw new pe}static decodeCode(l,h,g){an.recordPattern(l,g,h);let v=dt.MAX_AVG_VARIANCE,_=-1;for(let b=0;b<dt.CODE_PATTERNS.length;b++){const N=dt.CODE_PATTERNS[b],k=this.patternMatchVariance(h,N,dt.MAX_INDIVIDUAL_VARIANCE);k<v&&(v=k,_=b)}if(_>=0)return _;throw new pe}decodeRow(l,h,g){const v=g&&g.get(re.ASSUME_GS1)===!0,_=dt.findStartPattern(h),b=_[2];let N=0;const k=new Uint8Array(20);k[N++]=b;let z;switch(b){case dt.CODE_START_A:z=dt.CODE_CODE_A;break;case dt.CODE_START_B:z=dt.CODE_CODE_B;break;case dt.CODE_START_C:z=dt.CODE_CODE_C;break;default:throw new F}let ee=!1,fe=!1,_e="",Pe=_[0],qe=_[1];const Ye=Int32Array.from([0,0,0,0,0,0]);let nt=0,yt=0,Bt=b,Ut=0,jt=!0,zn=!1,Jn=!1;for(;!ee;){const Bl=fe;switch(fe=!1,nt=yt,yt=dt.decodeCode(h,Ye,qe),k[N++]=yt,yt!==dt.CODE_STOP&&(jt=!0),yt!==dt.CODE_STOP&&(Ut++,Bt+=Ut*yt),Pe=qe,qe+=Ye.reduce((tf,nc)=>tf+nc,0),yt){case dt.CODE_START_A:case dt.CODE_START_B:case dt.CODE_START_C:throw new F}switch(z){case dt.CODE_CODE_A:if(yt<64)Jn===zn?_e+=String.fromCharCode(32+yt):_e+=String.fromCharCode(32+yt+128),Jn=!1;else if(yt<96)Jn===zn?_e+=String.fromCharCode(yt-64):_e+=String.fromCharCode(yt+64),Jn=!1;else switch(yt!==dt.CODE_STOP&&(jt=!1),yt){case dt.CODE_FNC_1:v&&(_e.length===0?_e+="]C1":_e+="");break;case dt.CODE_FNC_2:case dt.CODE_FNC_3:break;case dt.CODE_FNC_4_A:!zn&&Jn?(zn=!0,Jn=!1):zn&&Jn?(zn=!1,Jn=!1):Jn=!0;break;case dt.CODE_SHIFT:fe=!0,z=dt.CODE_CODE_B;break;case dt.CODE_CODE_B:z=dt.CODE_CODE_B;break;case dt.CODE_CODE_C:z=dt.CODE_CODE_C;break;case dt.CODE_STOP:ee=!0;break}break;case dt.CODE_CODE_B:if(yt<96)Jn===zn?_e+=String.fromCharCode(32+yt):_e+=String.fromCharCode(32+yt+128),Jn=!1;else switch(yt!==dt.CODE_STOP&&(jt=!1),yt){case dt.CODE_FNC_1:v&&(_e.length===0?_e+="]C1":_e+="");break;case dt.CODE_FNC_2:case dt.CODE_FNC_3:break;case dt.CODE_FNC_4_B:!zn&&Jn?(zn=!0,Jn=!1):zn&&Jn?(zn=!1,Jn=!1):Jn=!0;break;case dt.CODE_SHIFT:fe=!0,z=dt.CODE_CODE_A;break;case dt.CODE_CODE_A:z=dt.CODE_CODE_A;break;case dt.CODE_CODE_C:z=dt.CODE_CODE_C;break;case dt.CODE_STOP:ee=!0;break}break;case dt.CODE_CODE_C:if(yt<100)yt<10&&(_e+="0"),_e+=yt;else switch(yt!==dt.CODE_STOP&&(jt=!1),yt){case dt.CODE_FNC_1:v&&(_e.length===0?_e+="]C1":_e+="");break;case dt.CODE_CODE_A:z=dt.CODE_CODE_A;break;case dt.CODE_CODE_B:z=dt.CODE_CODE_B;break;case dt.CODE_STOP:ee=!0;break}break}Bl&&(z=z===dt.CODE_CODE_A?dt.CODE_CODE_B:dt.CODE_CODE_A)}const ki=qe-Pe;if(qe=h.getNextUnset(qe),!h.isRange(qe,Math.min(h.getSize(),qe+(qe-Pe)/2),!1))throw new pe;if(Bt-=Ut*nt,Bt%103!==nt)throw new E;const Gs=_e.length;if(Gs===0)throw new pe;Gs>0&&jt&&(z===dt.CODE_CODE_C?_e=_e.substring(0,Gs-2):_e=_e.substring(0,Gs-1));const Ts=(_[1]+_[0])/2,ri=Pe+ki/2,Ns=k.length,Fa=new Uint8Array(Ns);for(let Bl=0;Bl<Ns;Bl++)Fa[Bl]=k[Bl];const tc=[new Xe(Ts,l),new Xe(ri,l)];return new Q(_e,Fa,0,tc,de.CODE_128,new Date().getTime())}}dt.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],dt.MAX_AVG_VARIANCE=.25,dt.MAX_INDIVIDUAL_VARIANCE=.7,dt.CODE_SHIFT=98,dt.CODE_CODE_C=99,dt.CODE_CODE_B=100,dt.CODE_CODE_A=101,dt.CODE_FNC_1=102,dt.CODE_FNC_2=97,dt.CODE_FNC_3=96,dt.CODE_FNC_4_A=101,dt.CODE_FNC_4_B=100,dt.CODE_START_A=103,dt.CODE_START_B=104,dt.CODE_START_C=105,dt.CODE_STOP=106;class Wt extends an{constructor(l=!1,h=!1){super(),this.usingCheckDigit=l,this.extendedMode=h,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(l,h,g){let v=this.counters;v.fill(0),this.decodeRowResult="";let _=Wt.findAsteriskPattern(h,v),b=h.getNextSet(_[1]),N=h.getSize(),k,z;do{Wt.recordPattern(h,b,v);let Ye=Wt.toNarrowWidePattern(v);if(Ye<0)throw new pe;k=Wt.patternToChar(Ye),this.decodeRowResult+=k,z=b;for(let nt of v)b+=nt;b=h.getNextSet(b)}while(k!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let ee=0;for(let Ye of v)ee+=Ye;let fe=b-z-ee;if(b!==N&&fe*2<ee)throw new pe;if(this.usingCheckDigit){let Ye=this.decodeRowResult.length-1,nt=0;for(let yt=0;yt<Ye;yt++)nt+=Wt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(yt));if(this.decodeRowResult.charAt(Ye)!==Wt.ALPHABET_STRING.charAt(nt%43))throw new E;this.decodeRowResult=this.decodeRowResult.substring(0,Ye)}if(this.decodeRowResult.length===0)throw new pe;let _e;this.extendedMode?_e=Wt.decodeExtended(this.decodeRowResult):_e=this.decodeRowResult;let Pe=(_[1]+_[0])/2,qe=z+ee/2;return new Q(_e,null,0,[new Xe(Pe,l),new Xe(qe,l)],de.CODE_39,new Date().getTime())}static findAsteriskPattern(l,h){let g=l.getSize(),v=l.getNextSet(0),_=0,b=v,N=!1,k=h.length;for(let z=v;z<g;z++)if(l.get(z)!==N)h[_]++;else{if(_===k-1){if(this.toNarrowWidePattern(h)===Wt.ASTERISK_ENCODING&&l.isRange(Math.max(0,b-Math.floor((z-b)/2)),b,!1))return[b,z];b+=h[0]+h[1],h.copyWithin(0,2,2+_-1),h[_-1]=0,h[_]=0,_--}else _++;h[_]=1,N=!N}throw new pe}static toNarrowWidePattern(l){let h=l.length,g=0,v;do{let _=2147483647;for(let k of l)k<_&&k>g&&(_=k);g=_,v=0;let b=0,N=0;for(let k=0;k<h;k++){let z=l[k];z>g&&(N|=1<<h-1-k,v++,b+=z)}if(v===3){for(let k=0;k<h&&v>0;k++){let z=l[k];if(z>g&&(v--,z*2>=b))return-1}return N}}while(v>3);return-1}static patternToChar(l){for(let h=0;h<Wt.CHARACTER_ENCODINGS.length;h++)if(Wt.CHARACTER_ENCODINGS[h]===l)return Wt.ALPHABET_STRING.charAt(h);if(l===Wt.ASTERISK_ENCODING)return"*";throw new pe}static decodeExtended(l){let h=l.length,g="";for(let v=0;v<h;v++){let _=l.charAt(v);if(_==="+"||_==="$"||_==="%"||_==="/"){let b=l.charAt(v+1),N="\0";switch(_){case"+":if(b>="A"&&b<="Z")N=String.fromCharCode(b.charCodeAt(0)+32);else throw new F;break;case"$":if(b>="A"&&b<="Z")N=String.fromCharCode(b.charCodeAt(0)-64);else throw new F;break;case"%":if(b>="A"&&b<="E")N=String.fromCharCode(b.charCodeAt(0)-38);else if(b>="F"&&b<="J")N=String.fromCharCode(b.charCodeAt(0)-11);else if(b>="K"&&b<="O")N=String.fromCharCode(b.charCodeAt(0)+16);else if(b>="P"&&b<="T")N=String.fromCharCode(b.charCodeAt(0)+43);else if(b==="U")N="\0";else if(b==="V")N="@";else if(b==="W")N="`";else if(b==="X"||b==="Y"||b==="Z")N="";else throw new F;break;case"/":if(b>="A"&&b<="O")N=String.fromCharCode(b.charCodeAt(0)-32);else if(b==="Z")N=":";else throw new F;break}g+=N,v++}else g+=_}return g}}Wt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Wt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Wt.ASTERISK_ENCODING=148;class It extends an{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(l,h,g){let v=this.decodeStart(h),_=this.decodeEnd(h),b=new X;It.decodeMiddle(h,v[1],_[0],b);let N=b.toString(),k=null;g!=null&&(k=g.get(re.ALLOWED_LENGTHS)),k==null&&(k=It.DEFAULT_ALLOWED_LENGTHS);let z=N.length,ee=!1,fe=0;for(let qe of k){if(z===qe){ee=!0;break}qe>fe&&(fe=qe)}if(!ee&&z>fe&&(ee=!0),!ee)throw new F;const _e=[new Xe(v[1],l),new Xe(_[0],l)];return new Q(N,null,0,_e,de.ITF,new Date().getTime())}static decodeMiddle(l,h,g,v){let _=new Int32Array(10),b=new Int32Array(5),N=new Int32Array(5);for(_.fill(0),b.fill(0),N.fill(0);h<g;){an.recordPattern(l,h,_);for(let z=0;z<5;z++){let ee=2*z;b[z]=_[ee],N[z]=_[ee+1]}let k=It.decodeDigit(b);v.append(k.toString()),k=this.decodeDigit(N),v.append(k.toString()),_.forEach(function(z){h+=z})}}decodeStart(l){let h=It.skipWhiteSpace(l),g=It.findGuardPattern(l,h,It.START_PATTERN);return this.narrowLineWidth=(g[1]-g[0])/4,this.validateQuietZone(l,g[0]),g}validateQuietZone(l,h){let g=this.narrowLineWidth*10;g=g<h?g:h;for(let v=h-1;g>0&&v>=0&&!l.get(v);v--)g--;if(g!==0)throw new pe}static skipWhiteSpace(l){const h=l.getSize(),g=l.getNextSet(0);if(g===h)throw new pe;return g}decodeEnd(l){l.reverse();try{let h=It.skipWhiteSpace(l),g;try{g=It.findGuardPattern(l,h,It.END_PATTERN_REVERSED[0])}catch(_){_ instanceof pe&&(g=It.findGuardPattern(l,h,It.END_PATTERN_REVERSED[1]))}this.validateQuietZone(l,g[0]);let v=g[0];return g[0]=l.getSize()-g[1],g[1]=l.getSize()-v,g}finally{l.reverse()}}static findGuardPattern(l,h,g){let v=g.length,_=new Int32Array(v),b=l.getSize(),N=!1,k=0,z=h;_.fill(0);for(let ee=h;ee<b;ee++)if(l.get(ee)!==N)_[k]++;else{if(k===v-1){if(an.patternMatchVariance(_,g,It.MAX_INDIVIDUAL_VARIANCE)<It.MAX_AVG_VARIANCE)return[z,ee];z+=_[0]+_[1],C.arraycopy(_,2,_,0,k-1),_[k-1]=0,_[k]=0,k--}else k++;_[k]=1,N=!N}throw new pe}static decodeDigit(l){let h=It.MAX_AVG_VARIANCE,g=-1,v=It.PATTERNS.length;for(let _=0;_<v;_++){let b=It.PATTERNS[_],N=an.patternMatchVariance(l,b,It.MAX_INDIVIDUAL_VARIANCE);N<h?(h=N,g=_):N===h&&(g=-1)}if(g>=0)return g%10;throw new pe}}It.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],It.MAX_AVG_VARIANCE=.38,It.MAX_INDIVIDUAL_VARIANCE=.5,It.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],It.START_PATTERN=Int32Array.from([1,1,1,1]),It.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class un extends an{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(l){let h=!1,g,v=0,_=Int32Array.from([0,0,0]);for(;!h;){_=Int32Array.from([0,0,0]),g=un.findGuardPattern(l,v,!1,this.START_END_PATTERN,_);let b=g[0];v=g[1];let N=b-(v-b);N>=0&&(h=l.isRange(N,b,!1))}return g}static checkChecksum(l){return un.checkStandardUPCEANChecksum(l)}static checkStandardUPCEANChecksum(l){let h=l.length;if(h===0)return!1;let g=parseInt(l.charAt(h-1),10);return un.getStandardUPCEANChecksum(l.substring(0,h-1))===g}static getStandardUPCEANChecksum(l){let h=l.length,g=0;for(let v=h-1;v>=0;v-=2){let _=l.charAt(v).charCodeAt(0)-48;if(_<0||_>9)throw new F;g+=_}g*=3;for(let v=h-2;v>=0;v-=2){let _=l.charAt(v).charCodeAt(0)-48;if(_<0||_>9)throw new F;g+=_}return(1e3-g)%10}static decodeEnd(l,h){return un.findGuardPattern(l,h,!1,un.START_END_PATTERN,new Int32Array(un.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(l,h,g,v){return this.findGuardPattern(l,h,g,v,new Int32Array(v.length))}static findGuardPattern(l,h,g,v,_){let b=l.getSize();h=g?l.getNextUnset(h):l.getNextSet(h);let N=0,k=h,z=v.length,ee=g;for(let fe=h;fe<b;fe++)if(l.get(fe)!==ee)_[N]++;else{if(N===z-1){if(an.patternMatchVariance(_,v,un.MAX_INDIVIDUAL_VARIANCE)<un.MAX_AVG_VARIANCE)return Int32Array.from([k,fe]);k+=_[0]+_[1];let _e=_.slice(2,_.length-1);for(let Pe=0;Pe<N-1;Pe++)_[Pe]=_e[Pe];_[N-1]=0,_[N]=0,N--}else N++;_[N]=1,ee=!ee}throw new pe}static decodeDigit(l,h,g,v){this.recordPattern(l,g,h);let _=this.MAX_AVG_VARIANCE,b=-1,N=v.length;for(let k=0;k<N;k++){let z=v[k],ee=an.patternMatchVariance(h,z,un.MAX_INDIVIDUAL_VARIANCE);ee<_&&(_=ee,b=k)}if(b>=0)return b;throw new pe}}un.MAX_AVG_VARIANCE=.48,un.MAX_INDIVIDUAL_VARIANCE=.7,un.START_END_PATTERN=Int32Array.from([1,1,1]),un.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),un.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),un.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Yn{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(l,h,g){let v=this.decodeRowStringBuffer,_=this.decodeMiddle(h,g,v),b=v.toString(),N=Yn.parseExtensionString(b),k=[new Xe((g[0]+g[1])/2,l),new Xe(_,l)],z=new Q(b,null,0,k,de.UPC_EAN_EXTENSION,new Date().getTime());return N!=null&&z.putAllMetadata(N),z}decodeMiddle(l,h,g){let v=this.decodeMiddleCounters;v[0]=0,v[1]=0,v[2]=0,v[3]=0;let _=l.getSize(),b=h[1],N=0;for(let z=0;z<5&&b<_;z++){let ee=un.decodeDigit(l,v,b,un.L_AND_G_PATTERNS);g+=String.fromCharCode(48+ee%10);for(let fe of v)b+=fe;ee>=10&&(N|=1<<4-z),z!==4&&(b=l.getNextSet(b),b=l.getNextUnset(b))}if(g.length!==5)throw new pe;let k=this.determineCheckDigit(N);if(Yn.extensionChecksum(g.toString())!==k)throw new pe;return b}static extensionChecksum(l){let h=l.length,g=0;for(let v=h-2;v>=0;v-=2)g+=l.charAt(v).charCodeAt(0)-48;g*=3;for(let v=h-1;v>=0;v-=2)g+=l.charAt(v).charCodeAt(0)-48;return g*=3,g%10}determineCheckDigit(l){for(let h=0;h<10;h++)if(l===this.CHECK_DIGIT_ENCODINGS[h])return h;throw new pe}static parseExtensionString(l){if(l.length!==5)return null;let h=Yn.parseExtension5String(l);return h==null?null:new Map([[Ve.SUGGESTED_PRICE,h]])}static parseExtension5String(l){let h;switch(l.charAt(0)){case"0":h="";break;case"5":h="$";break;case"9":switch(l){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}h="";break;default:h="";break}let g=parseInt(l.substring(1)),v=(g/100).toString(),_=g%100,b=_<10?"0"+_:_.toString();return h+v+"."+b}}class mt{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(l,h,g){let v=this.decodeRowStringBuffer,_=this.decodeMiddle(h,g,v),b=v.toString(),N=mt.parseExtensionString(b),k=[new Xe((g[0]+g[1])/2,l),new Xe(_,l)],z=new Q(b,null,0,k,de.UPC_EAN_EXTENSION,new Date().getTime());return N!=null&&z.putAllMetadata(N),z}decodeMiddle(l,h,g){let v=this.decodeMiddleCounters;v[0]=0,v[1]=0,v[2]=0,v[3]=0;let _=l.getSize(),b=h[1],N=0;for(let k=0;k<2&&b<_;k++){let z=un.decodeDigit(l,v,b,un.L_AND_G_PATTERNS);g+=String.fromCharCode(48+z%10);for(let ee of v)b+=ee;z>=10&&(N|=1<<1-k),k!==1&&(b=l.getNextSet(b),b=l.getNextUnset(b))}if(g.length!==2)throw new pe;if(parseInt(g.toString())%4!==N)throw new pe;return b}static parseExtensionString(l){return l.length!==2?null:new Map([[Ve.ISSUE_NUMBER,parseInt(l)]])}}class $t{static decodeRow(l,h,g){let v=un.findGuardPattern(h,g,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Yn().decodeRow(l,h,v)}catch{return new mt().decodeRow(l,h,v)}}}$t.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class cn extends un{constructor(){super(),this.decodeRowStringBuffer="",cn.L_AND_G_PATTERNS=cn.L_PATTERNS.map(l=>Int32Array.from(l));for(let l=10;l<20;l++){let h=cn.L_PATTERNS[l-10],g=new Int32Array(h.length);for(let v=0;v<h.length;v++)g[v]=h[h.length-v-1];cn.L_AND_G_PATTERNS[l]=g}}decodeRow(l,h,g){let v=cn.findStartGuardPattern(h),_=g==null?null:g.get(re.NEED_RESULT_POINT_CALLBACK);if(_!=null){const jt=new Xe((v[0]+v[1])/2,l);_.foundPossibleResultPoint(jt)}let b=this.decodeMiddle(h,v,this.decodeRowStringBuffer),N=b.rowOffset,k=b.resultString;if(_!=null){const jt=new Xe(N,l);_.foundPossibleResultPoint(jt)}let z=this.decodeEnd(h,N);if(_!=null){const jt=new Xe((z[0]+z[1])/2,l);_.foundPossibleResultPoint(jt)}let ee=z[1],fe=ee+(ee-z[0]);if(fe>=h.getSize()||!h.isRange(ee,fe,!1))throw new pe;let _e=k.toString();if(_e.length<8)throw new F;if(!cn.checkChecksum(_e))throw new E;let Pe=(v[1]+v[0])/2,qe=(z[1]+z[0])/2,Ye=this.getBarcodeFormat(),nt=[new Xe(Pe,l),new Xe(qe,l)],yt=new Q(_e,null,0,nt,Ye,new Date().getTime()),Bt=0;try{let jt=$t.decodeRow(l,h,z[1]);yt.putMetadata(Ve.UPC_EAN_EXTENSION,jt.getText()),yt.putAllMetadata(jt.getResultMetadata()),yt.addResultPoints(jt.getResultPoints()),Bt=jt.getText().length}catch{}let Ut=g==null?null:g.get(re.ALLOWED_EAN_EXTENSIONS);if(Ut!=null){let jt=!1;for(let zn in Ut)if(Bt.toString()===zn){jt=!0;break}if(!jt)throw new pe}return yt}decodeEnd(l,h){return cn.findGuardPattern(l,h,!1,cn.START_END_PATTERN,new Int32Array(cn.START_END_PATTERN.length).fill(0))}static checkChecksum(l){return cn.checkStandardUPCEANChecksum(l)}static checkStandardUPCEANChecksum(l){let h=l.length;if(h===0)return!1;let g=parseInt(l.charAt(h-1),10);return cn.getStandardUPCEANChecksum(l.substring(0,h-1))===g}static getStandardUPCEANChecksum(l){let h=l.length,g=0;for(let v=h-1;v>=0;v-=2){let _=l.charAt(v).charCodeAt(0)-48;if(_<0||_>9)throw new F;g+=_}g*=3;for(let v=h-2;v>=0;v-=2){let _=l.charAt(v).charCodeAt(0)-48;if(_<0||_>9)throw new F;g+=_}return(1e3-g)%10}}class mn extends cn{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(l,h,g){let v=this.decodeMiddleCounters;v[0]=0,v[1]=0,v[2]=0,v[3]=0;let _=l.getSize(),b=h[1],N=0;for(let z=0;z<6&&b<_;z++){let ee=cn.decodeDigit(l,v,b,cn.L_AND_G_PATTERNS);g+=String.fromCharCode(48+ee%10);for(let fe of v)b+=fe;ee>=10&&(N|=1<<5-z)}g=mn.determineFirstDigit(g,N),b=cn.findGuardPattern(l,b,!0,cn.MIDDLE_PATTERN,new Int32Array(cn.MIDDLE_PATTERN.length).fill(0))[1];for(let z=0;z<6&&b<_;z++){let ee=cn.decodeDigit(l,v,b,cn.L_PATTERNS);g+=String.fromCharCode(48+ee);for(let fe of v)b+=fe}return{rowOffset:b,resultString:g}}getBarcodeFormat(){return de.EAN_13}static determineFirstDigit(l,h){for(let g=0;g<10;g++)if(h===this.FIRST_DIGIT_ENCODINGS[g])return l=String.fromCharCode(48+g)+l,l;throw new pe}}mn.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class gn extends cn{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(l,h,g){const v=this.decodeMiddleCounters;v[0]=0,v[1]=0,v[2]=0,v[3]=0;let _=l.getSize(),b=h[1];for(let k=0;k<4&&b<_;k++){let z=cn.decodeDigit(l,v,b,cn.L_PATTERNS);g+=String.fromCharCode(48+z);for(let ee of v)b+=ee}b=cn.findGuardPattern(l,b,!0,cn.MIDDLE_PATTERN,new Int32Array(cn.MIDDLE_PATTERN.length).fill(0))[1];for(let k=0;k<4&&b<_;k++){let z=cn.decodeDigit(l,v,b,cn.L_PATTERNS);g+=String.fromCharCode(48+z);for(let ee of v)b+=ee}return{rowOffset:b,resultString:g}}getBarcodeFormat(){return de.EAN_8}}class Qn extends cn{constructor(){super(...arguments),this.ean13Reader=new mn}getBarcodeFormat(){return de.UPC_A}decode(l,h){return this.maybeReturnResult(this.ean13Reader.decode(l))}decodeRow(l,h,g){return this.maybeReturnResult(this.ean13Reader.decodeRow(l,h,g))}decodeMiddle(l,h,g){return this.ean13Reader.decodeMiddle(l,h,g)}maybeReturnResult(l){let h=l.getText();if(h.charAt(0)==="0"){let g=new Q(h.substring(1),null,null,l.getResultPoints(),de.UPC_A);return l.getResultMetadata()!=null&&g.putAllMetadata(l.getResultMetadata()),g}else throw new pe}reset(){this.ean13Reader.reset()}}class kr extends cn{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(l,h,g){const v=this.decodeMiddleCounters.map(z=>z);v[0]=0,v[1]=0,v[2]=0,v[3]=0;const _=l.getSize();let b=h[1],N=0;for(let z=0;z<6&&b<_;z++){const ee=kr.decodeDigit(l,v,b,kr.L_AND_G_PATTERNS);g+=String.fromCharCode(48+ee%10);for(let fe of v)b+=fe;ee>=10&&(N|=1<<5-z)}let k=kr.determineNumSysAndCheckDigit(g,N);return{rowOffset:b,resultString:k}}decodeEnd(l,h){return kr.findGuardPatternWithoutCounters(l,h,!0,kr.MIDDLE_END_PATTERN)}checkChecksum(l){return cn.checkChecksum(kr.convertUPCEtoUPCA(l))}static determineNumSysAndCheckDigit(l,h){for(let g=0;g<=1;g++)for(let v=0;v<10;v++)if(h===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[g][v]){let _=String.fromCharCode(48+g),b=String.fromCharCode(48+v);return _+l+b}throw pe.getNotFoundInstance()}getBarcodeFormat(){return de.UPC_E}static convertUPCEtoUPCA(l){const h=l.slice(1,7).split("").map(_=>_.charCodeAt(0)),g=new X;g.append(l.charAt(0));let v=h[5];switch(v){case 0:case 1:case 2:g.appendChars(h,0,2),g.append(v),g.append("0000"),g.appendChars(h,2,3);break;case 3:g.appendChars(h,0,3),g.append("00000"),g.appendChars(h,3,2);break;case 4:g.appendChars(h,0,4),g.append("00000"),g.append(h[4]);break;default:g.appendChars(h,0,5),g.append("0000"),g.append(v);break}return l.length>=8&&g.append(l.charAt(7)),g.toString()}}kr.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),kr.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class li extends an{constructor(l){super();let h=l==null?null:l.get(re.POSSIBLE_FORMATS),g=[];r(h)?(g.push(new mn),g.push(new Qn),g.push(new gn),g.push(new kr)):(h.indexOf(de.EAN_13)>-1&&g.push(new mn),h.indexOf(de.UPC_A)>-1&&g.push(new Qn),h.indexOf(de.EAN_8)>-1&&g.push(new gn),h.indexOf(de.UPC_E)>-1&&g.push(new kr)),this.readers=g}decodeRow(l,h,g){for(let v of this.readers)try{const _=v.decodeRow(l,h,g),b=_.getBarcodeFormat()===de.EAN_13&&_.getText().charAt(0)==="0",N=g==null?null:g.get(re.POSSIBLE_FORMATS),k=N==null||N.includes(de.UPC_A);if(b&&k){const z=_.getRawBytes(),ee=new Q(_.getText().substring(1),z,z?z.length:null,_.getResultPoints(),de.UPC_A);return ee.putAllMetadata(_.getResultMetadata()),ee}return _}catch{}throw new pe}reset(){for(let l of this.readers)l.reset()}}class Lr extends an{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(l,h){for(let g=0;g<h.length;g++)if(an.patternMatchVariance(l,h[g],Lr.MAX_INDIVIDUAL_VARIANCE)<Lr.MAX_AVG_VARIANCE)return g;throw new pe}static count(l){return tt.sum(new Int32Array(l))}static increment(l,h){let g=0,v=h[0];for(let _=1;_<l.length;_++)h[_]>v&&(v=h[_],g=_);l[g]++}static decrement(l,h){let g=0,v=h[0];for(let _=1;_<l.length;_++)h[_]<v&&(v=h[_],g=_);l[g]--}static isFinderPattern(l){let h=l[0]+l[1],g=h+l[2]+l[3],v=h/g;if(v>=Lr.MIN_FINDER_PATTERN_RATIO&&v<=Lr.MAX_FINDER_PATTERN_RATIO){let _=Number.MAX_SAFE_INTEGER,b=Number.MIN_SAFE_INTEGER;for(let N of l)N>b&&(b=N),N<_&&(_=N);return b<10*_}return!1}}Lr.MAX_AVG_VARIANCE=.2,Lr.MAX_INDIVIDUAL_VARIANCE=.45,Lr.MIN_FINDER_PATTERN_RATIO=9.5/12,Lr.MAX_FINDER_PATTERN_RATIO=12.5/14;class Kr{constructor(l,h){this.value=l,this.checksumPortion=h}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(l){if(!(l instanceof Kr))return!1;const h=l;return this.value===h.value&&this.checksumPortion===h.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class On{constructor(l,h,g,v,_){this.value=l,this.startEnd=h,this.value=l,this.startEnd=h,this.resultPoints=new Array,this.resultPoints.push(new Xe(g,_)),this.resultPoints.push(new Xe(v,_))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(l){if(!(l instanceof On))return!1;const h=l;return this.value===h.value}hashCode(){return this.value}}class Ni{constructor(){}static getRSSvalue(l,h,g){let v=0;for(let k of l)v+=k;let _=0,b=0,N=l.length;for(let k=0;k<N-1;k++){let z;for(z=1,b|=1<<k;z<l[k];z++,b&=~(1<<k)){let ee=Ni.combins(v-z-1,N-k-2);if(g&&b===0&&v-z-(N-k-1)>=N-k-1&&(ee-=Ni.combins(v-z-(N-k),N-k-2)),N-k-1>1){let fe=0;for(let _e=v-z-(N-k-2);_e>h;_e--)fe+=Ni.combins(v-z-_e-1,N-k-3);ee-=fe*(N-1-k)}else v-z>h&&ee--;_+=ee}v-=z}return _}static combins(l,h){let g,v;l-h>h?(v=h,g=l-h):(v=l-h,g=h);let _=1,b=1;for(let N=l;N>g;N--)_*=N,b<=v&&(_/=b,b++);for(;b<=v;)_/=b,b++;return _}}class Ki{static buildBitArray(l){let h=l.length*2-1;l[l.length-1].getRightChar()==null&&(h-=1);let g=12*h,v=new G(g),_=0,N=l[0].getRightChar().getValue();for(let k=11;k>=0;--k)(N&1<<k)!=0&&v.set(_),_++;for(let k=1;k<l.length;++k){let z=l[k],ee=z.getLeftChar().getValue();for(let fe=11;fe>=0;--fe)(ee&1<<fe)!=0&&v.set(_),_++;if(z.getRightChar()!=null){let fe=z.getRightChar().getValue();for(let _e=11;_e>=0;--_e)(fe&1<<_e)!=0&&v.set(_),_++}}return v}}class $r{constructor(l,h){h?this.decodedInformation=null:(this.finished=l,this.decodedInformation=h)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class zi{constructor(l){this.newPosition=l}getNewPosition(){return this.newPosition}}class lr extends zi{constructor(l,h){super(l),this.value=h}getValue(){return this.value}isFNC1(){return this.value===lr.FNC1}}lr.FNC1="$";class Rr extends zi{constructor(l,h,g){super(l),g?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=h}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class ge extends zi{constructor(l,h,g){if(super(l),h<0||h>10||g<0||g>10)throw new F;this.firstDigit=h,this.secondDigit=g}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===ge.FNC1}isSecondDigitFNC1(){return this.secondDigit===ge.FNC1}isAnyFNC1(){return this.firstDigit===ge.FNC1||this.secondDigit===ge.FNC1}}ge.FNC1=10;class be{constructor(){}static parseFieldsInGeneralPurpose(l){if(!l)return null;if(l.length<2)throw new pe;let h=l.substring(0,2);for(let _ of be.TWO_DIGIT_DATA_LENGTH)if(_[0]===h)return _[1]===be.VARIABLE_LENGTH?be.processVariableAI(2,_[2],l):be.processFixedAI(2,_[1],l);if(l.length<3)throw new pe;let g=l.substring(0,3);for(let _ of be.THREE_DIGIT_DATA_LENGTH)if(_[0]===g)return _[1]===be.VARIABLE_LENGTH?be.processVariableAI(3,_[2],l):be.processFixedAI(3,_[1],l);for(let _ of be.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(_[0]===g)return _[1]===be.VARIABLE_LENGTH?be.processVariableAI(4,_[2],l):be.processFixedAI(4,_[1],l);if(l.length<4)throw new pe;let v=l.substring(0,4);for(let _ of be.FOUR_DIGIT_DATA_LENGTH)if(_[0]===v)return _[1]===be.VARIABLE_LENGTH?be.processVariableAI(4,_[2],l):be.processFixedAI(4,_[1],l);throw new pe}static processFixedAI(l,h,g){if(g.length<l)throw new pe;let v=g.substring(0,l);if(g.length<l+h)throw new pe;let _=g.substring(l,l+h),b=g.substring(l+h),N="("+v+")"+_,k=be.parseFieldsInGeneralPurpose(b);return k==null?N:N+k}static processVariableAI(l,h,g){let v=g.substring(0,l),_;g.length<l+h?_=g.length:_=l+h;let b=g.substring(l,_),N=g.substring(_),k="("+v+")"+b,z=be.parseFieldsInGeneralPurpose(N);return z==null?k:k+z}}be.VARIABLE_LENGTH=[],be.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",be.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",be.VARIABLE_LENGTH,20],["22",be.VARIABLE_LENGTH,29],["30",be.VARIABLE_LENGTH,8],["37",be.VARIABLE_LENGTH,8],["90",be.VARIABLE_LENGTH,30],["91",be.VARIABLE_LENGTH,30],["92",be.VARIABLE_LENGTH,30],["93",be.VARIABLE_LENGTH,30],["94",be.VARIABLE_LENGTH,30],["95",be.VARIABLE_LENGTH,30],["96",be.VARIABLE_LENGTH,30],["97",be.VARIABLE_LENGTH,3],["98",be.VARIABLE_LENGTH,30],["99",be.VARIABLE_LENGTH,30]],be.THREE_DIGIT_DATA_LENGTH=[["240",be.VARIABLE_LENGTH,30],["241",be.VARIABLE_LENGTH,30],["242",be.VARIABLE_LENGTH,6],["250",be.VARIABLE_LENGTH,30],["251",be.VARIABLE_LENGTH,30],["253",be.VARIABLE_LENGTH,17],["254",be.VARIABLE_LENGTH,20],["400",be.VARIABLE_LENGTH,30],["401",be.VARIABLE_LENGTH,30],["402",17],["403",be.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",be.VARIABLE_LENGTH,20],["421",be.VARIABLE_LENGTH,15],["422",3],["423",be.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],be.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",be.VARIABLE_LENGTH,15],["391",be.VARIABLE_LENGTH,18],["392",be.VARIABLE_LENGTH,15],["393",be.VARIABLE_LENGTH,18],["703",be.VARIABLE_LENGTH,30]],be.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",be.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",be.VARIABLE_LENGTH,20],["8003",be.VARIABLE_LENGTH,30],["8004",be.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",be.VARIABLE_LENGTH,30],["8008",be.VARIABLE_LENGTH,12],["8018",18],["8020",be.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",be.VARIABLE_LENGTH,70],["8200",be.VARIABLE_LENGTH,70]];class Te{constructor(l){this.buffer=new X,this.information=l}decodeAllCodes(l,h){let g=h,v=null;do{let _=this.decodeGeneralPurposeField(g,v),b=be.parseFieldsInGeneralPurpose(_.getNewString());if(b!=null&&l.append(b),_.isRemaining()?v=""+_.getRemainingValue():v=null,g===_.getNewPosition())break;g=_.getNewPosition()}while(!0);return l.toString()}isStillNumeric(l){if(l+7>this.information.getSize())return l+4<=this.information.getSize();for(let h=l;h<l+3;++h)if(this.information.get(h))return!0;return this.information.get(l+3)}decodeNumeric(l){if(l+7>this.information.getSize()){let _=this.extractNumericValueFromBitArray(l,4);return _===0?new ge(this.information.getSize(),ge.FNC1,ge.FNC1):new ge(this.information.getSize(),_-1,ge.FNC1)}let h=this.extractNumericValueFromBitArray(l,7),g=(h-8)/11,v=(h-8)%11;return new ge(l+7,g,v)}extractNumericValueFromBitArray(l,h){return Te.extractNumericValueFromBitArray(this.information,l,h)}static extractNumericValueFromBitArray(l,h,g){let v=0;for(let _=0;_<g;++_)l.get(h+_)&&(v|=1<<g-_-1);return v}decodeGeneralPurposeField(l,h){this.buffer.setLengthToZero(),h!=null&&this.buffer.append(h),this.current.setPosition(l);let g=this.parseBlocks();return g!=null&&g.isRemaining()?new Rr(this.current.getPosition(),this.buffer.toString(),g.getRemainingValue()):new Rr(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let l,h;do{let g=this.current.getPosition();if(this.current.isAlpha()?(h=this.parseAlphaBlock(),l=h.isFinished()):this.current.isIsoIec646()?(h=this.parseIsoIec646Block(),l=h.isFinished()):(h=this.parseNumericBlock(),l=h.isFinished()),!(g!==this.current.getPosition())&&!l)break}while(!l);return h.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let l=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(l.getNewPosition()),l.isFirstDigitFNC1()){let h;return l.isSecondDigitFNC1()?h=new Rr(this.current.getPosition(),this.buffer.toString()):h=new Rr(this.current.getPosition(),this.buffer.toString(),l.getSecondDigit()),new $r(!0,h)}if(this.buffer.append(l.getFirstDigit()),l.isSecondDigitFNC1()){let h=new Rr(this.current.getPosition(),this.buffer.toString());return new $r(!0,h)}this.buffer.append(l.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new $r(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let l=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(l.getNewPosition()),l.isFNC1()){let h=new Rr(this.current.getPosition(),this.buffer.toString());return new $r(!0,h)}this.buffer.append(l.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new $r(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let l=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(l.getNewPosition()),l.isFNC1()){let h=new Rr(this.current.getPosition(),this.buffer.toString());return new $r(!0,h)}this.buffer.append(l.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new $r(!1)}isStillIsoIec646(l){if(l+5>this.information.getSize())return!1;let h=this.extractNumericValueFromBitArray(l,5);if(h>=5&&h<16)return!0;if(l+7>this.information.getSize())return!1;let g=this.extractNumericValueFromBitArray(l,7);if(g>=64&&g<116)return!0;if(l+8>this.information.getSize())return!1;let v=this.extractNumericValueFromBitArray(l,8);return v>=232&&v<253}decodeIsoIec646(l){let h=this.extractNumericValueFromBitArray(l,5);if(h===15)return new lr(l+5,lr.FNC1);if(h>=5&&h<15)return new lr(l+5,"0"+(h-5));let g=this.extractNumericValueFromBitArray(l,7);if(g>=64&&g<90)return new lr(l+7,""+(g+1));if(g>=90&&g<116)return new lr(l+7,""+(g+7));let v=this.extractNumericValueFromBitArray(l,8),_;switch(v){case 232:_="!";break;case 233:_='"';break;case 234:_="%";break;case 235:_="&";break;case 236:_="'";break;case 237:_="(";break;case 238:_=")";break;case 239:_="*";break;case 240:_="+";break;case 241:_=",";break;case 242:_="-";break;case 243:_=".";break;case 244:_="/";break;case 245:_=":";break;case 246:_=";";break;case 247:_="<";break;case 248:_="=";break;case 249:_=">";break;case 250:_="?";break;case 251:_="_";break;case 252:_=" ";break;default:throw new F}return new lr(l+8,_)}isStillAlpha(l){if(l+5>this.information.getSize())return!1;let h=this.extractNumericValueFromBitArray(l,5);if(h>=5&&h<16)return!0;if(l+6>this.information.getSize())return!1;let g=this.extractNumericValueFromBitArray(l,6);return g>=16&&g<63}decodeAlphanumeric(l){let h=this.extractNumericValueFromBitArray(l,5);if(h===15)return new lr(l+5,lr.FNC1);if(h>=5&&h<15)return new lr(l+5,"0"+(h-5));let g=this.extractNumericValueFromBitArray(l,6);if(g>=32&&g<58)return new lr(l+6,""+(g+33));let v;switch(g){case 58:v="*";break;case 59:v=",";break;case 60:v="-";break;case 61:v=".";break;case 62:v="/";break;default:throw new le("Decoding invalid alphanumeric value: "+g)}return new lr(l+6,v)}isAlphaTo646ToAlphaLatch(l){if(l+1>this.information.getSize())return!1;for(let h=0;h<5&&h+l<this.information.getSize();++h)if(h===2){if(!this.information.get(l+2))return!1}else if(this.information.get(l+h))return!1;return!0}isAlphaOr646ToNumericLatch(l){if(l+3>this.information.getSize())return!1;for(let h=l;h<l+3;++h)if(this.information.get(h))return!1;return!0}isNumericToAlphaNumericLatch(l){if(l+1>this.information.getSize())return!1;for(let h=0;h<4&&h+l<this.information.getSize();++h)if(this.information.get(l+h))return!1;return!0}}class Ce{constructor(l){this.information=l,this.generalDecoder=new Te(l)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Oe extends Ce{constructor(l){super(l)}encodeCompressedGtin(l,h){l.append("(01)");let g=l.length();l.append("9"),this.encodeCompressedGtinWithoutAI(l,h,g)}encodeCompressedGtinWithoutAI(l,h,g){for(let v=0;v<4;++v){let _=this.getGeneralDecoder().extractNumericValueFromBitArray(h+10*v,10);_/100===0&&l.append("0"),_/10===0&&l.append("0"),l.append(_)}Oe.appendCheckDigit(l,g)}static appendCheckDigit(l,h){let g=0;for(let v=0;v<13;v++){let _=l.charAt(v+h).charCodeAt(0)-48;g+=(v&1)===0?3*_:_}g=10-g%10,g===10&&(g=0),l.append(g)}}Oe.GTIN_SIZE=40;class Me extends Oe{constructor(l){super(l)}parseInformation(){let l=new X;l.append("(01)");let h=l.length(),g=this.getGeneralDecoder().extractNumericValueFromBitArray(Me.HEADER_SIZE,4);return l.append(g),this.encodeCompressedGtinWithoutAI(l,Me.HEADER_SIZE+4,h),this.getGeneralDecoder().decodeAllCodes(l,Me.HEADER_SIZE+44)}}Me.HEADER_SIZE=4;class rt extends Ce{constructor(l){super(l)}parseInformation(){let l=new X;return this.getGeneralDecoder().decodeAllCodes(l,rt.HEADER_SIZE)}}rt.HEADER_SIZE=5;class At extends Oe{constructor(l){super(l)}encodeCompressedWeight(l,h,g){let v=this.getGeneralDecoder().extractNumericValueFromBitArray(h,g);this.addWeightCode(l,v);let _=this.checkWeight(v),b=1e5;for(let N=0;N<5;++N)_/b===0&&l.append("0"),b/=10;l.append(_)}}class Je extends At{constructor(l){super(l)}parseInformation(){if(this.getInformation().getSize()!=Je.HEADER_SIZE+At.GTIN_SIZE+Je.WEIGHT_SIZE)throw new pe;let l=new X;return this.encodeCompressedGtin(l,Je.HEADER_SIZE),this.encodeCompressedWeight(l,Je.HEADER_SIZE+At.GTIN_SIZE,Je.WEIGHT_SIZE),l.toString()}}Je.HEADER_SIZE=5,Je.WEIGHT_SIZE=15;class lt extends Je{constructor(l){super(l)}addWeightCode(l,h){l.append("(3103)")}checkWeight(l){return l}}class ht extends Je{constructor(l){super(l)}addWeightCode(l,h){h<1e4?l.append("(3202)"):l.append("(3203)")}checkWeight(l){return l<1e4?l:l-1e4}}class qt extends Oe{constructor(l){super(l)}parseInformation(){if(this.getInformation().getSize()<qt.HEADER_SIZE+Oe.GTIN_SIZE)throw new pe;let l=new X;this.encodeCompressedGtin(l,qt.HEADER_SIZE);let h=this.getGeneralDecoder().extractNumericValueFromBitArray(qt.HEADER_SIZE+Oe.GTIN_SIZE,qt.LAST_DIGIT_SIZE);l.append("(392"),l.append(h),l.append(")");let g=this.getGeneralDecoder().decodeGeneralPurposeField(qt.HEADER_SIZE+Oe.GTIN_SIZE+qt.LAST_DIGIT_SIZE,null);return l.append(g.getNewString()),l.toString()}}qt.HEADER_SIZE=8,qt.LAST_DIGIT_SIZE=2;class Ot extends Oe{constructor(l){super(l)}parseInformation(){if(this.getInformation().getSize()<Ot.HEADER_SIZE+Oe.GTIN_SIZE)throw new pe;let l=new X;this.encodeCompressedGtin(l,Ot.HEADER_SIZE);let h=this.getGeneralDecoder().extractNumericValueFromBitArray(Ot.HEADER_SIZE+Oe.GTIN_SIZE,Ot.LAST_DIGIT_SIZE);l.append("(393"),l.append(h),l.append(")");let g=this.getGeneralDecoder().extractNumericValueFromBitArray(Ot.HEADER_SIZE+Oe.GTIN_SIZE+Ot.LAST_DIGIT_SIZE,Ot.FIRST_THREE_DIGITS_SIZE);g/100==0&&l.append("0"),g/10==0&&l.append("0"),l.append(g);let v=this.getGeneralDecoder().decodeGeneralPurposeField(Ot.HEADER_SIZE+Oe.GTIN_SIZE+Ot.LAST_DIGIT_SIZE+Ot.FIRST_THREE_DIGITS_SIZE,null);return l.append(v.getNewString()),l.toString()}}Ot.HEADER_SIZE=8,Ot.LAST_DIGIT_SIZE=2,Ot.FIRST_THREE_DIGITS_SIZE=10;class Mt extends At{constructor(l,h,g){super(l),this.dateCode=g,this.firstAIdigits=h}parseInformation(){if(this.getInformation().getSize()!=Mt.HEADER_SIZE+Mt.GTIN_SIZE+Mt.WEIGHT_SIZE+Mt.DATE_SIZE)throw new pe;let l=new X;return this.encodeCompressedGtin(l,Mt.HEADER_SIZE),this.encodeCompressedWeight(l,Mt.HEADER_SIZE+Mt.GTIN_SIZE,Mt.WEIGHT_SIZE),this.encodeCompressedDate(l,Mt.HEADER_SIZE+Mt.GTIN_SIZE+Mt.WEIGHT_SIZE),l.toString()}encodeCompressedDate(l,h){let g=this.getGeneralDecoder().extractNumericValueFromBitArray(h,Mt.DATE_SIZE);if(g==38400)return;l.append("("),l.append(this.dateCode),l.append(")");let v=g%32;g/=32;let _=g%12+1;g/=12;let b=g;b/10==0&&l.append("0"),l.append(b),_/10==0&&l.append("0"),l.append(_),v/10==0&&l.append("0"),l.append(v)}addWeightCode(l,h){l.append("("),l.append(this.firstAIdigits),l.append(h/1e5),l.append(")")}checkWeight(l){return l%1e5}}Mt.HEADER_SIZE=8,Mt.WEIGHT_SIZE=20,Mt.DATE_SIZE=16;function wt(he){try{if(he.get(1))return new Me(he);if(!he.get(2))return new rt(he);switch(Te.extractNumericValueFromBitArray(he,1,4)){case 4:return new lt(he);case 5:return new ht(he)}switch(Te.extractNumericValueFromBitArray(he,1,5)){case 12:return new qt(he);case 13:return new Ot(he)}switch(Te.extractNumericValueFromBitArray(he,1,7)){case 56:return new Mt(he,"310","11");case 57:return new Mt(he,"320","11");case 58:return new Mt(he,"310","13");case 59:return new Mt(he,"320","13");case 60:return new Mt(he,"310","15");case 61:return new Mt(he,"320","15");case 62:return new Mt(he,"310","17");case 63:return new Mt(he,"320","17")}}catch(l){throw console.log(l),new le("unknown decoder: "+he)}}class nn{constructor(l,h,g,v){this.leftchar=l,this.rightchar=h,this.finderpattern=g,this.maybeLast=v}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(l,h){return l instanceof nn?nn.equalsOrNull(l.leftchar,h.leftchar)&&nn.equalsOrNull(l.rightchar,h.rightchar)&&nn.equalsOrNull(l.finderpattern,h.finderpattern):!1}static equalsOrNull(l,h){return l===null?h===null:nn.equals(l,h)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Tn{constructor(l,h,g){this.pairs=l,this.rowNumber=h,this.wasReversed=g}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(l){return this.checkEqualitity(this,l)}toString(){return"{ "+this.pairs+" }"}equals(l,h){return l instanceof Tn?this.checkEqualitity(l,h)&&l.wasReversed===h.wasReversed:!1}checkEqualitity(l,h){if(!l||!h)return;let g;return l.forEach((v,_)=>{h.forEach(b=>{v.getLeftChar().getValue()===b.getLeftChar().getValue()&&v.getRightChar().getValue()===b.getRightChar().getValue()&&v.getFinderPatter().getValue()===b.getFinderPatter().getValue()&&(g=!0)})}),g}}class Nt extends Lr{constructor(l){super(...arguments),this.pairs=new Array(Nt.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=l===!0}decodeRow(l,h,g){this.pairs.length=0,this.startFromEven=!1;try{return Nt.constructResult(this.decodeRow2pairs(l,h))}catch(v){this.verbose&&console.log(v)}return this.pairs.length=0,this.startFromEven=!0,Nt.constructResult(this.decodeRow2pairs(l,h))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(l,h){let g=!1;for(;!g;)try{this.pairs.push(this.retrieveNextPair(h,this.pairs,l))}catch(_){if(_ instanceof pe){if(!this.pairs.length)throw new pe;g=!0}}if(this.checkChecksum())return this.pairs;let v;if(this.rows.length?v=!0:v=!1,this.storeRow(l,!1),v){let _=this.checkRowsBoolean(!1);if(_!=null||(_=this.checkRowsBoolean(!0),_!=null))return _}throw new pe}checkRowsBoolean(l){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,l&&(this.rows=this.rows.reverse());let h=null;try{h=this.checkRows(new Array,0)}catch(g){this.verbose&&console.log(g)}return l&&(this.rows=this.rows.reverse()),h}checkRows(l,h){for(let g=h;g<this.rows.length;g++){let v=this.rows[g];this.pairs.length=0;for(let b of l)this.pairs.push(b.getPairs());if(this.pairs.push(v.getPairs()),!Nt.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let _=new Array(l);_.push(v);try{return this.checkRows(_,g+1)}catch(b){this.verbose&&console.log(b)}}throw new pe}static isValidSequence(l){for(let h of Nt.FINDER_PATTERN_SEQUENCES){if(l.length>h.length)continue;let g=!0;for(let v=0;v<l.length;v++)if(l[v].getFinderPattern().getValue()!=h[v]){g=!1;break}if(g)return!0}return!1}storeRow(l,h){let g=0,v=!1,_=!1;for(;g<this.rows.length;){let b=this.rows[g];if(b.getRowNumber()>l){_=b.isEquivalent(this.pairs);break}v=b.isEquivalent(this.pairs),g++}_||v||Nt.isPartialRow(this.pairs,this.rows)||(this.rows.push(g,new Tn(this.pairs,l,h)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(l,h){for(let g of h)if(g.getPairs().length!==l.length){for(let v of g.getPairs())for(let _ of l)if(nn.equals(v,_))break}}static isPartialRow(l,h){for(let g of h){let v=!0;for(let _ of l){let b=!1;for(let N of g.getPairs())if(_.equals(N)){b=!0;break}if(!b){v=!1;break}}if(v)return!0}return!1}getRows(){return this.rows}static constructResult(l){let h=Ki.buildBitArray(l),v=wt(h).parseInformation(),_=l[0].getFinderPattern().getResultPoints(),b=l[l.length-1].getFinderPattern().getResultPoints(),N=[_[0],_[1],b[0],b[1]];return new Q(v,null,null,N,de.RSS_EXPANDED,null)}checkChecksum(){let l=this.pairs.get(0),h=l.getLeftChar(),g=l.getRightChar();if(g==null)return!1;let v=g.getChecksumPortion(),_=2;for(let N=1;N<this.pairs.size();++N){let k=this.pairs.get(N);v+=k.getLeftChar().getChecksumPortion(),_++;let z=k.getRightChar();z!=null&&(v+=z.getChecksumPortion(),_++)}return v%=211,211*(_-4)+v==h.getValue()}static getNextSecondBar(l,h){let g;return l.get(h)?(g=l.getNextUnset(h),g=l.getNextSet(g)):(g=l.getNextSet(h),g=l.getNextUnset(g)),g}retrieveNextPair(l,h,g){let v=h.length%2==0;this.startFromEven&&(v=!v);let _,b=!0,N=-1;do this.findNextPair(l,h,N),_=this.parseFoundFinderPattern(l,g,v),_==null?N=Nt.getNextSecondBar(l,this.startEnd[0]):b=!1;while(b);let k=this.decodeDataCharacter(l,_,v,!0);if(!this.isEmptyPair(h)&&h[h.length-1].mustBeLast())throw new pe;let z;try{z=this.decodeDataCharacter(l,_,v,!1)}catch(ee){z=null,this.verbose&&console.log(ee)}return new nn(k,z,_,!0)}isEmptyPair(l){return l.length===0}findNextPair(l,h,g){let v=this.getDecodeFinderCounters();v[0]=0,v[1]=0,v[2]=0,v[3]=0;let _=l.getSize(),b;g>=0?b=g:this.isEmptyPair(h)?b=0:b=h[h.length-1].getFinderPattern().getStartEnd()[1];let N=h.length%2!=0;this.startFromEven&&(N=!N);let k=!1;for(;b<_&&(k=!l.get(b),!!k);)b++;let z=0,ee=b;for(let fe=b;fe<_;fe++)if(l.get(fe)!=k)v[z]++;else{if(z==3){if(N&&Nt.reverseCounters(v),Nt.isFinderPattern(v)){this.startEnd[0]=ee,this.startEnd[1]=fe;return}N&&Nt.reverseCounters(v),ee+=v[0]+v[1],v[0]=v[2],v[1]=v[3],v[2]=0,v[3]=0,z--}else z++;v[z]=1,k=!k}throw new pe}static reverseCounters(l){let h=l.length;for(let g=0;g<h/2;++g){let v=l[g];l[g]=l[h-g-1],l[h-g-1]=v}}parseFoundFinderPattern(l,h,g){let v,_,b;if(g){let z=this.startEnd[0]-1;for(;z>=0&&!l.get(z);)z--;z++,v=this.startEnd[0]-z,_=z,b=this.startEnd[1]}else _=this.startEnd[0],b=l.getNextUnset(this.startEnd[1]+1),v=b-this.startEnd[1];let N=this.getDecodeFinderCounters();C.arraycopy(N,0,N,1,N.length-1),N[0]=v;let k;try{k=this.parseFinderValue(N,Nt.FINDER_PATTERNS)}catch{return null}return new On(k,[_,b],_,b,h)}decodeDataCharacter(l,h,g,v){let _=this.getDataCharacterCounters();for(let ri=0;ri<_.length;ri++)_[ri]=0;if(v)Nt.recordPatternInReverse(l,h.getStartEnd()[0],_);else{Nt.recordPattern(l,h.getStartEnd()[1],_);for(let ri=0,Ns=_.length-1;ri<Ns;ri++,Ns--){let Fa=_[ri];_[ri]=_[Ns],_[Ns]=Fa}}let b=17,N=tt.sum(new Int32Array(_))/b,k=(h.getStartEnd()[1]-h.getStartEnd()[0])/15;if(Math.abs(N-k)/k>.3)throw new pe;let z=this.getOddCounts(),ee=this.getEvenCounts(),fe=this.getOddRoundingErrors(),_e=this.getEvenRoundingErrors();for(let ri=0;ri<_.length;ri++){let Ns=1*_[ri]/N,Fa=Ns+.5;if(Fa<1){if(Ns<.3)throw new pe;Fa=1}else if(Fa>8){if(Ns>8.7)throw new pe;Fa=8}let tc=ri/2;(ri&1)==0?(z[tc]=Fa,fe[tc]=Ns-Fa):(ee[tc]=Fa,_e[tc]=Ns-Fa)}this.adjustOddEvenCounts(b);let Pe=4*h.getValue()+(g?0:2)+(v?0:1)-1,qe=0,Ye=0;for(let ri=z.length-1;ri>=0;ri--){if(Nt.isNotA1left(h,g,v)){let Ns=Nt.WEIGHTS[Pe][2*ri];Ye+=z[ri]*Ns}qe+=z[ri]}let nt=0;for(let ri=ee.length-1;ri>=0;ri--)if(Nt.isNotA1left(h,g,v)){let Ns=Nt.WEIGHTS[Pe][2*ri+1];nt+=ee[ri]*Ns}let yt=Ye+nt;if((qe&1)!=0||qe>13||qe<4)throw new pe;let Bt=(13-qe)/2,Ut=Nt.SYMBOL_WIDEST[Bt],jt=9-Ut,zn=Ni.getRSSvalue(z,Ut,!0),Jn=Ni.getRSSvalue(ee,jt,!1),ki=Nt.EVEN_TOTAL_SUBSET[Bt],Gs=Nt.GSUM[Bt],Ts=zn*ki+Jn+Gs;return new Kr(Ts,yt)}static isNotA1left(l,h,g){return!(l.getValue()==0&&h&&g)}adjustOddEvenCounts(l){let h=tt.sum(new Int32Array(this.getOddCounts())),g=tt.sum(new Int32Array(this.getEvenCounts())),v=!1,_=!1;h>13?_=!0:h<4&&(v=!0);let b=!1,N=!1;g>13?N=!0:g<4&&(b=!0);let k=h+g-l,z=(h&1)==1,ee=(g&1)==0;if(k==1)if(z){if(ee)throw new pe;_=!0}else{if(!ee)throw new pe;N=!0}else if(k==-1)if(z){if(ee)throw new pe;v=!0}else{if(!ee)throw new pe;b=!0}else if(k==0){if(z){if(!ee)throw new pe;h<g?(v=!0,N=!0):(_=!0,b=!0)}else if(ee)throw new pe}else throw new pe;if(v){if(_)throw new pe;Nt.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(_&&Nt.decrement(this.getOddCounts(),this.getOddRoundingErrors()),b){if(N)throw new pe;Nt.increment(this.getEvenCounts(),this.getOddRoundingErrors())}N&&Nt.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Nt.SYMBOL_WIDEST=[7,5,4,3,1],Nt.EVEN_TOTAL_SUBSET=[4,20,52,104,204],Nt.GSUM=[0,348,1388,2948,3988],Nt.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],Nt.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],Nt.FINDER_PAT_A=0,Nt.FINDER_PAT_B=1,Nt.FINDER_PAT_C=2,Nt.FINDER_PAT_D=3,Nt.FINDER_PAT_E=4,Nt.FINDER_PAT_F=5,Nt.FINDER_PATTERN_SEQUENCES=[[Nt.FINDER_PAT_A,Nt.FINDER_PAT_A],[Nt.FINDER_PAT_A,Nt.FINDER_PAT_B,Nt.FINDER_PAT_B],[Nt.FINDER_PAT_A,Nt.FINDER_PAT_C,Nt.FINDER_PAT_B,Nt.FINDER_PAT_D],[Nt.FINDER_PAT_A,Nt.FINDER_PAT_E,Nt.FINDER_PAT_B,Nt.FINDER_PAT_D,Nt.FINDER_PAT_C],[Nt.FINDER_PAT_A,Nt.FINDER_PAT_E,Nt.FINDER_PAT_B,Nt.FINDER_PAT_D,Nt.FINDER_PAT_D,Nt.FINDER_PAT_F],[Nt.FINDER_PAT_A,Nt.FINDER_PAT_E,Nt.FINDER_PAT_B,Nt.FINDER_PAT_D,Nt.FINDER_PAT_E,Nt.FINDER_PAT_F,Nt.FINDER_PAT_F],[Nt.FINDER_PAT_A,Nt.FINDER_PAT_A,Nt.FINDER_PAT_B,Nt.FINDER_PAT_B,Nt.FINDER_PAT_C,Nt.FINDER_PAT_C,Nt.FINDER_PAT_D,Nt.FINDER_PAT_D],[Nt.FINDER_PAT_A,Nt.FINDER_PAT_A,Nt.FINDER_PAT_B,Nt.FINDER_PAT_B,Nt.FINDER_PAT_C,Nt.FINDER_PAT_C,Nt.FINDER_PAT_D,Nt.FINDER_PAT_E,Nt.FINDER_PAT_E],[Nt.FINDER_PAT_A,Nt.FINDER_PAT_A,Nt.FINDER_PAT_B,Nt.FINDER_PAT_B,Nt.FINDER_PAT_C,Nt.FINDER_PAT_C,Nt.FINDER_PAT_D,Nt.FINDER_PAT_E,Nt.FINDER_PAT_F,Nt.FINDER_PAT_F],[Nt.FINDER_PAT_A,Nt.FINDER_PAT_A,Nt.FINDER_PAT_B,Nt.FINDER_PAT_B,Nt.FINDER_PAT_C,Nt.FINDER_PAT_D,Nt.FINDER_PAT_D,Nt.FINDER_PAT_E,Nt.FINDER_PAT_E,Nt.FINDER_PAT_F,Nt.FINDER_PAT_F]],Nt.MAX_PAIRS=11;class vr extends Kr{constructor(l,h,g){super(l,h),this.count=0,this.finderPattern=g}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Kn extends Lr{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(l,h,g){const v=this.decodePair(h,!1,l,g);Kn.addOrTally(this.possibleLeftPairs,v),h.reverse();let _=this.decodePair(h,!0,l,g);Kn.addOrTally(this.possibleRightPairs,_),h.reverse();for(let b of this.possibleLeftPairs)if(b.getCount()>1){for(let N of this.possibleRightPairs)if(N.getCount()>1&&Kn.checkChecksum(b,N))return Kn.constructResult(b,N)}throw new pe}static addOrTally(l,h){if(h==null)return;let g=!1;for(let v of l)if(v.getValue()===h.getValue()){v.incrementCount(),g=!0;break}g||l.push(h)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(l,h){let g=4537077*l.getValue()+h.getValue(),v=new String(g).toString(),_=new X;for(let z=13-v.length;z>0;z--)_.append("0");_.append(v);let b=0;for(let z=0;z<13;z++){let ee=_.charAt(z).charCodeAt(0)-48;b+=(z&1)===0?3*ee:ee}b=10-b%10,b===10&&(b=0),_.append(b.toString());let N=l.getFinderPattern().getResultPoints(),k=h.getFinderPattern().getResultPoints();return new Q(_.toString(),null,0,[N[0],N[1],k[0],k[1]],de.RSS_14,new Date().getTime())}static checkChecksum(l,h){let g=(l.getChecksumPortion()+16*h.getChecksumPortion())%79,v=9*l.getFinderPattern().getValue()+h.getFinderPattern().getValue();return v>72&&v--,v>8&&v--,g===v}decodePair(l,h,g,v){try{let _=this.findFinderPattern(l,h),b=this.parseFoundFinderPattern(l,g,h,_),N=v==null?null:v.get(re.NEED_RESULT_POINT_CALLBACK);if(N!=null){let ee=(_[0]+_[1])/2;h&&(ee=l.getSize()-1-ee),N.foundPossibleResultPoint(new Xe(ee,g))}let k=this.decodeDataCharacter(l,b,!0),z=this.decodeDataCharacter(l,b,!1);return new vr(1597*k.getValue()+z.getValue(),k.getChecksumPortion()+4*z.getChecksumPortion(),b)}catch{return null}}decodeDataCharacter(l,h,g){let v=this.getDataCharacterCounters();for(let nt=0;nt<v.length;nt++)v[nt]=0;if(g)an.recordPatternInReverse(l,h.getStartEnd()[0],v);else{an.recordPattern(l,h.getStartEnd()[1]+1,v);for(let nt=0,yt=v.length-1;nt<yt;nt++,yt--){let Bt=v[nt];v[nt]=v[yt],v[yt]=Bt}}let _=g?16:15,b=tt.sum(new Int32Array(v))/_,N=this.getOddCounts(),k=this.getEvenCounts(),z=this.getOddRoundingErrors(),ee=this.getEvenRoundingErrors();for(let nt=0;nt<v.length;nt++){let yt=v[nt]/b,Bt=Math.floor(yt+.5);Bt<1?Bt=1:Bt>8&&(Bt=8);let Ut=Math.floor(nt/2);(nt&1)===0?(N[Ut]=Bt,z[Ut]=yt-Bt):(k[Ut]=Bt,ee[Ut]=yt-Bt)}this.adjustOddEvenCounts(g,_);let fe=0,_e=0;for(let nt=N.length-1;nt>=0;nt--)_e*=9,_e+=N[nt],fe+=N[nt];let Pe=0,qe=0;for(let nt=k.length-1;nt>=0;nt--)Pe*=9,Pe+=k[nt],qe+=k[nt];let Ye=_e+3*Pe;if(g){if((fe&1)!==0||fe>12||fe<4)throw new pe;let nt=(12-fe)/2,yt=Kn.OUTSIDE_ODD_WIDEST[nt],Bt=9-yt,Ut=Ni.getRSSvalue(N,yt,!1),jt=Ni.getRSSvalue(k,Bt,!0),zn=Kn.OUTSIDE_EVEN_TOTAL_SUBSET[nt],Jn=Kn.OUTSIDE_GSUM[nt];return new Kr(Ut*zn+jt+Jn,Ye)}else{if((qe&1)!==0||qe>10||qe<4)throw new pe;let nt=(10-qe)/2,yt=Kn.INSIDE_ODD_WIDEST[nt],Bt=9-yt,Ut=Ni.getRSSvalue(N,yt,!0),jt=Ni.getRSSvalue(k,Bt,!1),zn=Kn.INSIDE_ODD_TOTAL_SUBSET[nt],Jn=Kn.INSIDE_GSUM[nt];return new Kr(jt*zn+Ut+Jn,Ye)}}findFinderPattern(l,h){let g=this.getDecodeFinderCounters();g[0]=0,g[1]=0,g[2]=0,g[3]=0;let v=l.getSize(),_=!1,b=0;for(;b<v&&(_=!l.get(b),h!==_);)b++;let N=0,k=b;for(let z=b;z<v;z++)if(l.get(z)!==_)g[N]++;else{if(N===3){if(Lr.isFinderPattern(g))return[k,z];k+=g[0]+g[1],g[0]=g[2],g[1]=g[3],g[2]=0,g[3]=0,N--}else N++;g[N]=1,_=!_}throw new pe}parseFoundFinderPattern(l,h,g,v){let _=l.get(v[0]),b=v[0]-1;for(;b>=0&&_!==l.get(b);)b--;b++;const N=v[0]-b,k=this.getDecodeFinderCounters(),z=new Int32Array(k.length);C.arraycopy(k,0,z,1,k.length-1),z[0]=N;const ee=this.parseFinderValue(z,Kn.FINDER_PATTERNS);let fe=b,_e=v[1];return g&&(fe=l.getSize()-1-fe,_e=l.getSize()-1-_e),new On(ee,[b,v[1]],fe,_e,h)}adjustOddEvenCounts(l,h){let g=tt.sum(new Int32Array(this.getOddCounts())),v=tt.sum(new Int32Array(this.getEvenCounts())),_=!1,b=!1,N=!1,k=!1;l?(g>12?b=!0:g<4&&(_=!0),v>12?k=!0:v<4&&(N=!0)):(g>11?b=!0:g<5&&(_=!0),v>10?k=!0:v<4&&(N=!0));let z=g+v-h,ee=(g&1)===(l?1:0),fe=(v&1)===1;if(z===1)if(ee){if(fe)throw new pe;b=!0}else{if(!fe)throw new pe;k=!0}else if(z===-1)if(ee){if(fe)throw new pe;_=!0}else{if(!fe)throw new pe;N=!0}else if(z===0){if(ee){if(!fe)throw new pe;g<v?(_=!0,k=!0):(b=!0,N=!0)}else if(fe)throw new pe}else throw new pe;if(_){if(b)throw new pe;Lr.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(b&&Lr.decrement(this.getOddCounts(),this.getOddRoundingErrors()),N){if(k)throw new pe;Lr.increment(this.getEvenCounts(),this.getOddRoundingErrors())}k&&Lr.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Kn.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Kn.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Kn.OUTSIDE_GSUM=[0,161,961,2015,2715],Kn.INSIDE_GSUM=[0,336,1036,1516],Kn.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Kn.INSIDE_ODD_WIDEST=[2,4,6,8],Kn.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Ci extends an{constructor(l,h){super(),this.readers=[],this.verbose=h===!0;const g=l?l.get(re.POSSIBLE_FORMATS):null,v=l&&l.get(re.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;g?((g.includes(de.EAN_13)||g.includes(de.UPC_A)||g.includes(de.EAN_8)||g.includes(de.UPC_E))&&this.readers.push(new li(l)),g.includes(de.CODE_39)&&this.readers.push(new Wt(v)),g.includes(de.CODE_128)&&this.readers.push(new dt),g.includes(de.ITF)&&this.readers.push(new It),g.includes(de.RSS_14)&&this.readers.push(new Kn),g.includes(de.RSS_EXPANDED)&&this.readers.push(new Nt(this.verbose))):(this.readers.push(new li(l)),this.readers.push(new Wt),this.readers.push(new li(l)),this.readers.push(new dt),this.readers.push(new It),this.readers.push(new Kn),this.readers.push(new Nt(this.verbose)))}decodeRow(l,h,g){for(let v=0;v<this.readers.length;v++)try{return this.readers[v].decodeRow(l,h,g)}catch{}throw new pe}reset(){this.readers.forEach(l=>l.reset())}}class pa extends J{constructor(l=500,h){super(new Ci(h),l,h)}}class fr{constructor(l,h,g){this.ecCodewords=l,this.ecBlocks=[h],g&&this.ecBlocks.push(g)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class or{constructor(l,h){this.count=l,this.dataCodewords=h}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class cr{constructor(l,h,g,v,_,b){this.versionNumber=l,this.symbolSizeRows=h,this.symbolSizeColumns=g,this.dataRegionSizeRows=v,this.dataRegionSizeColumns=_,this.ecBlocks=b;let N=0;const k=b.getECCodewords(),z=b.getECBlocks();for(let ee of z)N+=ee.getCount()*(ee.getDataCodewords()+k);this.totalCodewords=N}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(l,h){if((l&1)!==0||(h&1)!==0)throw new F;for(let g of cr.VERSIONS)if(g.symbolSizeRows===l&&g.symbolSizeColumns===h)return g;throw new F}toString(){return""+this.versionNumber}static buildVersions(){return[new cr(1,10,10,8,8,new fr(5,new or(1,3))),new cr(2,12,12,10,10,new fr(7,new or(1,5))),new cr(3,14,14,12,12,new fr(10,new or(1,8))),new cr(4,16,16,14,14,new fr(12,new or(1,12))),new cr(5,18,18,16,16,new fr(14,new or(1,18))),new cr(6,20,20,18,18,new fr(18,new or(1,22))),new cr(7,22,22,20,20,new fr(20,new or(1,30))),new cr(8,24,24,22,22,new fr(24,new or(1,36))),new cr(9,26,26,24,24,new fr(28,new or(1,44))),new cr(10,32,32,14,14,new fr(36,new or(1,62))),new cr(11,36,36,16,16,new fr(42,new or(1,86))),new cr(12,40,40,18,18,new fr(48,new or(1,114))),new cr(13,44,44,20,20,new fr(56,new or(1,144))),new cr(14,48,48,22,22,new fr(68,new or(1,174))),new cr(15,52,52,24,24,new fr(42,new or(2,102))),new cr(16,64,64,14,14,new fr(56,new or(2,140))),new cr(17,72,72,16,16,new fr(36,new or(4,92))),new cr(18,80,80,18,18,new fr(48,new or(4,114))),new cr(19,88,88,20,20,new fr(56,new or(4,144))),new cr(20,96,96,22,22,new fr(68,new or(4,174))),new cr(21,104,104,24,24,new fr(56,new or(6,136))),new cr(22,120,120,18,18,new fr(68,new or(6,175))),new cr(23,132,132,20,20,new fr(62,new or(8,163))),new cr(24,144,144,22,22,new fr(62,new or(8,156),new or(2,155))),new cr(25,8,18,6,16,new fr(7,new or(1,5))),new cr(26,8,32,6,14,new fr(11,new or(1,10))),new cr(27,12,26,10,24,new fr(14,new or(1,16))),new cr(28,12,36,10,16,new fr(18,new or(1,22))),new cr(29,16,36,14,16,new fr(24,new or(1,32))),new cr(30,16,48,14,22,new fr(28,new or(1,49)))]}}cr.VERSIONS=cr.buildVersions();class ci{constructor(l){const h=l.getHeight();if(h<8||h>144||(h&1)!==0)throw new F;this.version=ci.readVersion(l),this.mappingBitMatrix=this.extractDataRegion(l),this.readMappingMatrix=new ne(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(l){const h=l.getHeight(),g=l.getWidth();return cr.getVersionForDimensions(h,g)}readCodewords(){const l=new Int8Array(this.version.getTotalCodewords());let h=0,g=4,v=0;const _=this.mappingBitMatrix.getHeight(),b=this.mappingBitMatrix.getWidth();let N=!1,k=!1,z=!1,ee=!1;do if(g===_&&v===0&&!N)l[h++]=this.readCorner1(_,b)&255,g-=2,v+=2,N=!0;else if(g===_-2&&v===0&&(b&3)!==0&&!k)l[h++]=this.readCorner2(_,b)&255,g-=2,v+=2,k=!0;else if(g===_+4&&v===2&&(b&7)===0&&!z)l[h++]=this.readCorner3(_,b)&255,g-=2,v+=2,z=!0;else if(g===_-2&&v===0&&(b&7)===4&&!ee)l[h++]=this.readCorner4(_,b)&255,g-=2,v+=2,ee=!0;else{do g<_&&v>=0&&!this.readMappingMatrix.get(v,g)&&(l[h++]=this.readUtah(g,v,_,b)&255),g-=2,v+=2;while(g>=0&&v<b);g+=1,v+=3;do g>=0&&v<b&&!this.readMappingMatrix.get(v,g)&&(l[h++]=this.readUtah(g,v,_,b)&255),g+=2,v-=2;while(g<_&&v>=0);g+=3,v+=1}while(g<_||v<b);if(h!==this.version.getTotalCodewords())throw new F;return l}readModule(l,h,g,v){return l<0&&(l+=g,h+=4-(g+4&7)),h<0&&(h+=v,l+=4-(v+4&7)),this.readMappingMatrix.set(h,l),this.mappingBitMatrix.get(h,l)}readUtah(l,h,g,v){let _=0;return this.readModule(l-2,h-2,g,v)&&(_|=1),_<<=1,this.readModule(l-2,h-1,g,v)&&(_|=1),_<<=1,this.readModule(l-1,h-2,g,v)&&(_|=1),_<<=1,this.readModule(l-1,h-1,g,v)&&(_|=1),_<<=1,this.readModule(l-1,h,g,v)&&(_|=1),_<<=1,this.readModule(l,h-2,g,v)&&(_|=1),_<<=1,this.readModule(l,h-1,g,v)&&(_|=1),_<<=1,this.readModule(l,h,g,v)&&(_|=1),_}readCorner1(l,h){let g=0;return this.readModule(l-1,0,l,h)&&(g|=1),g<<=1,this.readModule(l-1,1,l,h)&&(g|=1),g<<=1,this.readModule(l-1,2,l,h)&&(g|=1),g<<=1,this.readModule(0,h-2,l,h)&&(g|=1),g<<=1,this.readModule(0,h-1,l,h)&&(g|=1),g<<=1,this.readModule(1,h-1,l,h)&&(g|=1),g<<=1,this.readModule(2,h-1,l,h)&&(g|=1),g<<=1,this.readModule(3,h-1,l,h)&&(g|=1),g}readCorner2(l,h){let g=0;return this.readModule(l-3,0,l,h)&&(g|=1),g<<=1,this.readModule(l-2,0,l,h)&&(g|=1),g<<=1,this.readModule(l-1,0,l,h)&&(g|=1),g<<=1,this.readModule(0,h-4,l,h)&&(g|=1),g<<=1,this.readModule(0,h-3,l,h)&&(g|=1),g<<=1,this.readModule(0,h-2,l,h)&&(g|=1),g<<=1,this.readModule(0,h-1,l,h)&&(g|=1),g<<=1,this.readModule(1,h-1,l,h)&&(g|=1),g}readCorner3(l,h){let g=0;return this.readModule(l-1,0,l,h)&&(g|=1),g<<=1,this.readModule(l-1,h-1,l,h)&&(g|=1),g<<=1,this.readModule(0,h-3,l,h)&&(g|=1),g<<=1,this.readModule(0,h-2,l,h)&&(g|=1),g<<=1,this.readModule(0,h-1,l,h)&&(g|=1),g<<=1,this.readModule(1,h-3,l,h)&&(g|=1),g<<=1,this.readModule(1,h-2,l,h)&&(g|=1),g<<=1,this.readModule(1,h-1,l,h)&&(g|=1),g}readCorner4(l,h){let g=0;return this.readModule(l-3,0,l,h)&&(g|=1),g<<=1,this.readModule(l-2,0,l,h)&&(g|=1),g<<=1,this.readModule(l-1,0,l,h)&&(g|=1),g<<=1,this.readModule(0,h-2,l,h)&&(g|=1),g<<=1,this.readModule(0,h-1,l,h)&&(g|=1),g<<=1,this.readModule(1,h-1,l,h)&&(g|=1),g<<=1,this.readModule(2,h-1,l,h)&&(g|=1),g<<=1,this.readModule(3,h-1,l,h)&&(g|=1),g}extractDataRegion(l){const h=this.version.getSymbolSizeRows(),g=this.version.getSymbolSizeColumns();if(l.getHeight()!==h)throw new w("Dimension of bitMatrix must match the version size");const v=this.version.getDataRegionSizeRows(),_=this.version.getDataRegionSizeColumns(),b=h/v|0,N=g/_|0,k=b*v,z=N*_,ee=new ne(z,k);for(let fe=0;fe<b;++fe){const _e=fe*v;for(let Pe=0;Pe<N;++Pe){const qe=Pe*_;for(let Ye=0;Ye<v;++Ye){const nt=fe*(v+2)+1+Ye,yt=_e+Ye;for(let Bt=0;Bt<_;++Bt){const Ut=Pe*(_+2)+1+Bt;if(l.get(Ut,nt)){const jt=qe+Bt;ee.set(jt,yt)}}}}}return ee}}class as{constructor(l,h){this.numDataCodewords=l,this.codewords=h}static getDataBlocks(l,h){const g=h.getECBlocks();let v=0;const _=g.getECBlocks();for(let Ye of _)v+=Ye.getCount();const b=new Array(v);let N=0;for(let Ye of _)for(let nt=0;nt<Ye.getCount();nt++){const yt=Ye.getDataCodewords(),Bt=g.getECCodewords()+yt;b[N++]=new as(yt,new Uint8Array(Bt))}const z=b[0].codewords.length-g.getECCodewords(),ee=z-1;let fe=0;for(let Ye=0;Ye<ee;Ye++)for(let nt=0;nt<N;nt++)b[nt].codewords[Ye]=l[fe++];const _e=h.getVersionNumber()===24,Pe=_e?8:N;for(let Ye=0;Ye<Pe;Ye++)b[Ye].codewords[z-1]=l[fe++];const qe=b[0].codewords.length;for(let Ye=z;Ye<qe;Ye++)for(let nt=0;nt<N;nt++){const yt=_e?(nt+8)%N:nt,Bt=_e&&yt>7?Ye-1:Ye;b[yt].codewords[Bt]=l[fe++]}if(fe!==l.length)throw new w;return b}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Ii{constructor(l){this.bytes=l,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(l){if(l<1||l>32||l>this.available())throw new w(""+l);let h=0,g=this.bitOffset,v=this.byteOffset;const _=this.bytes;if(g>0){const b=8-g,N=l<b?l:b,k=b-N,z=255>>8-N<<k;h=(_[v]&z)>>k,l-=N,g+=N,g===8&&(g=0,v++)}if(l>0){for(;l>=8;)h=h<<8|_[v]&255,v++,l-=8;if(l>0){const b=8-l,N=255>>b<<b;h=h<<l|(_[v]&N)>>b,g+=l}}return this.bitOffset=g,this.byteOffset=v,h}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Hn;(function(he){he[he.PAD_ENCODE=0]="PAD_ENCODE",he[he.ASCII_ENCODE=1]="ASCII_ENCODE",he[he.C40_ENCODE=2]="C40_ENCODE",he[he.TEXT_ENCODE=3]="TEXT_ENCODE",he[he.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",he[he.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",he[he.BASE256_ENCODE=6]="BASE256_ENCODE"})(Hn||(Hn={}));class Es{static decode(l){const h=new Ii(l),g=new X,v=new X,_=new Array;let b=Hn.ASCII_ENCODE;do if(b===Hn.ASCII_ENCODE)b=this.decodeAsciiSegment(h,g,v);else{switch(b){case Hn.C40_ENCODE:this.decodeC40Segment(h,g);break;case Hn.TEXT_ENCODE:this.decodeTextSegment(h,g);break;case Hn.ANSIX12_ENCODE:this.decodeAnsiX12Segment(h,g);break;case Hn.EDIFACT_ENCODE:this.decodeEdifactSegment(h,g);break;case Hn.BASE256_ENCODE:this.decodeBase256Segment(h,g,_);break;default:throw new F}b=Hn.ASCII_ENCODE}while(b!==Hn.PAD_ENCODE&&h.available()>0);return v.length()>0&&g.append(v.toString()),new Fe(l,g.toString(),_.length===0?null:_,null)}static decodeAsciiSegment(l,h,g){let v=!1;do{let _=l.readBits(8);if(_===0)throw new F;if(_<=128)return v&&(_+=128),h.append(String.fromCharCode(_-1)),Hn.ASCII_ENCODE;if(_===129)return Hn.PAD_ENCODE;if(_<=229){const b=_-130;b<10&&h.append("0"),h.append(""+b)}else switch(_){case 230:return Hn.C40_ENCODE;case 231:return Hn.BASE256_ENCODE;case 232:h.append("");break;case 233:case 234:break;case 235:v=!0;break;case 236:h.append("[)>05"),g.insert(0,"");break;case 237:h.append("[)>06"),g.insert(0,"");break;case 238:return Hn.ANSIX12_ENCODE;case 239:return Hn.TEXT_ENCODE;case 240:return Hn.EDIFACT_ENCODE;case 241:break;default:if(_!==254||l.available()!==0)throw new F;break}}while(l.available()>0);return Hn.ASCII_ENCODE}static decodeC40Segment(l,h){let g=!1;const v=[];let _=0;do{if(l.available()===8)return;const b=l.readBits(8);if(b===254)return;this.parseTwoBytes(b,l.readBits(8),v);for(let N=0;N<3;N++){const k=v[N];switch(_){case 0:if(k<3)_=k+1;else if(k<this.C40_BASIC_SET_CHARS.length){const z=this.C40_BASIC_SET_CHARS[k];g?(h.append(String.fromCharCode(z.charCodeAt(0)+128)),g=!1):h.append(z)}else throw new F;break;case 1:g?(h.append(String.fromCharCode(k+128)),g=!1):h.append(String.fromCharCode(k)),_=0;break;case 2:if(k<this.C40_SHIFT2_SET_CHARS.length){const z=this.C40_SHIFT2_SET_CHARS[k];g?(h.append(String.fromCharCode(z.charCodeAt(0)+128)),g=!1):h.append(z)}else switch(k){case 27:h.append("");break;case 30:g=!0;break;default:throw new F}_=0;break;case 3:g?(h.append(String.fromCharCode(k+224)),g=!1):h.append(String.fromCharCode(k+96)),_=0;break;default:throw new F}}}while(l.available()>0)}static decodeTextSegment(l,h){let g=!1,v=[],_=0;do{if(l.available()===8)return;const b=l.readBits(8);if(b===254)return;this.parseTwoBytes(b,l.readBits(8),v);for(let N=0;N<3;N++){const k=v[N];switch(_){case 0:if(k<3)_=k+1;else if(k<this.TEXT_BASIC_SET_CHARS.length){const z=this.TEXT_BASIC_SET_CHARS[k];g?(h.append(String.fromCharCode(z.charCodeAt(0)+128)),g=!1):h.append(z)}else throw new F;break;case 1:g?(h.append(String.fromCharCode(k+128)),g=!1):h.append(String.fromCharCode(k)),_=0;break;case 2:if(k<this.TEXT_SHIFT2_SET_CHARS.length){const z=this.TEXT_SHIFT2_SET_CHARS[k];g?(h.append(String.fromCharCode(z.charCodeAt(0)+128)),g=!1):h.append(z)}else switch(k){case 27:h.append("");break;case 30:g=!0;break;default:throw new F}_=0;break;case 3:if(k<this.TEXT_SHIFT3_SET_CHARS.length){const z=this.TEXT_SHIFT3_SET_CHARS[k];g?(h.append(String.fromCharCode(z.charCodeAt(0)+128)),g=!1):h.append(z),_=0}else throw new F;break;default:throw new F}}}while(l.available()>0)}static decodeAnsiX12Segment(l,h){const g=[];do{if(l.available()===8)return;const v=l.readBits(8);if(v===254)return;this.parseTwoBytes(v,l.readBits(8),g);for(let _=0;_<3;_++){const b=g[_];switch(b){case 0:h.append("\r");break;case 1:h.append("*");break;case 2:h.append(">");break;case 3:h.append(" ");break;default:if(b<14)h.append(String.fromCharCode(b+44));else if(b<40)h.append(String.fromCharCode(b+51));else throw new F;break}}}while(l.available()>0)}static parseTwoBytes(l,h,g){let v=(l<<8)+h-1,_=Math.floor(v/1600);g[0]=_,v-=_*1600,_=Math.floor(v/40),g[1]=_,g[2]=v-_*40}static decodeEdifactSegment(l,h){do{if(l.available()<=16)return;for(let g=0;g<4;g++){let v=l.readBits(6);if(v===31){const _=8-l.getBitOffset();_!==8&&l.readBits(_);return}(v&32)===0&&(v|=64),h.append(String.fromCharCode(v))}}while(l.available()>0)}static decodeBase256Segment(l,h,g){let v=1+l.getByteOffset();const _=this.unrandomize255State(l.readBits(8),v++);let b;if(_===0?b=l.available()/8|0:_<250?b=_:b=250*(_-249)+this.unrandomize255State(l.readBits(8),v++),b<0)throw new F;const N=new Uint8Array(b);for(let k=0;k<b;k++){if(l.available()<8)throw new F;N[k]=this.unrandomize255State(l.readBits(8),v++)}g.push(N);try{h.append(U.decode(N,H.ISO88591))}catch(k){throw new le("Platform does not support required encoding: "+k.message)}}static unrandomize255State(l,h){const g=149*h%255+1,v=l-g;return v>=0?v:v+256}}Es.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Es.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Es.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Es.TEXT_SHIFT2_SET_CHARS=Es.C40_SHIFT2_SET_CHARS,Es.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class ka{constructor(){this.rsDecoder=new ot(Tt.DATA_MATRIX_FIELD_256)}decode(l){const h=new ci(l),g=h.getVersion(),v=h.readCodewords(),_=as.getDataBlocks(v,g);let b=0;for(let z of _)b+=z.getNumDataCodewords();const N=new Uint8Array(b),k=_.length;for(let z=0;z<k;z++){const ee=_[z],fe=ee.getCodewords(),_e=ee.getNumDataCodewords();this.correctErrors(fe,_e);for(let Pe=0;Pe<_e;Pe++)N[Pe*k+z]=fe[Pe]}return Es.decode(N)}correctErrors(l,h){const g=new Int32Array(l);try{this.rsDecoder.decode(g,l.length-h)}catch{throw new E}for(let v=0;v<h;v++)l[v]=g[v]}}class Gn{constructor(l){this.image=l,this.rectangleDetector=new st(this.image)}detect(){const l=this.rectangleDetector.detect();let h=this.detectSolid1(l);if(h=this.detectSolid2(h),h[3]=this.correctTopRight(h),!h[3])throw new pe;h=this.shiftToModuleCenter(h);const g=h[0],v=h[1],_=h[2],b=h[3];let N=this.transitionsBetween(g,b)+1,k=this.transitionsBetween(_,b)+1;(N&1)===1&&(N+=1),(k&1)===1&&(k+=1),4*N<7*k&&4*k<7*N&&(N=k=Math.max(N,k));let z=Gn.sampleGrid(this.image,g,v,_,b,N,k);return new Lt(z,[g,v,_,b])}static shiftPoint(l,h,g){let v=(h.getX()-l.getX())/(g+1),_=(h.getY()-l.getY())/(g+1);return new Xe(l.getX()+v,l.getY()+_)}static moveAway(l,h,g){let v=l.getX(),_=l.getY();return v<h?v-=1:v+=1,_<g?_-=1:_+=1,new Xe(v,_)}detectSolid1(l){let h=l[0],g=l[1],v=l[3],_=l[2],b=this.transitionsBetween(h,g),N=this.transitionsBetween(g,v),k=this.transitionsBetween(v,_),z=this.transitionsBetween(_,h),ee=b,fe=[_,h,g,v];return ee>N&&(ee=N,fe[0]=h,fe[1]=g,fe[2]=v,fe[3]=_),ee>k&&(ee=k,fe[0]=g,fe[1]=v,fe[2]=_,fe[3]=h),ee>z&&(fe[0]=v,fe[1]=_,fe[2]=h,fe[3]=g),fe}detectSolid2(l){let h=l[0],g=l[1],v=l[2],_=l[3],b=this.transitionsBetween(h,_),N=Gn.shiftPoint(g,v,(b+1)*4),k=Gn.shiftPoint(v,g,(b+1)*4),z=this.transitionsBetween(N,h),ee=this.transitionsBetween(k,_);return z<ee?(l[0]=h,l[1]=g,l[2]=v,l[3]=_):(l[0]=g,l[1]=v,l[2]=_,l[3]=h),l}correctTopRight(l){let h=l[0],g=l[1],v=l[2],_=l[3],b=this.transitionsBetween(h,_),N=this.transitionsBetween(g,_),k=Gn.shiftPoint(h,g,(N+1)*4),z=Gn.shiftPoint(v,g,(b+1)*4);b=this.transitionsBetween(k,_),N=this.transitionsBetween(z,_);let ee=new Xe(_.getX()+(v.getX()-g.getX())/(b+1),_.getY()+(v.getY()-g.getY())/(b+1)),fe=new Xe(_.getX()+(h.getX()-g.getX())/(N+1),_.getY()+(h.getY()-g.getY())/(N+1));if(!this.isValid(ee))return this.isValid(fe)?fe:null;if(!this.isValid(fe))return ee;let _e=this.transitionsBetween(k,ee)+this.transitionsBetween(z,ee),Pe=this.transitionsBetween(k,fe)+this.transitionsBetween(z,fe);return _e>Pe?ee:fe}shiftToModuleCenter(l){let h=l[0],g=l[1],v=l[2],_=l[3],b=this.transitionsBetween(h,_)+1,N=this.transitionsBetween(v,_)+1,k=Gn.shiftPoint(h,g,N*4),z=Gn.shiftPoint(v,g,b*4);b=this.transitionsBetween(k,_)+1,N=this.transitionsBetween(z,_)+1,(b&1)===1&&(b+=1),(N&1)===1&&(N+=1);let ee=(h.getX()+g.getX()+v.getX()+_.getX())/4,fe=(h.getY()+g.getY()+v.getY()+_.getY())/4;h=Gn.moveAway(h,ee,fe),g=Gn.moveAway(g,ee,fe),v=Gn.moveAway(v,ee,fe),_=Gn.moveAway(_,ee,fe);let _e,Pe;return k=Gn.shiftPoint(h,g,N*4),k=Gn.shiftPoint(k,_,b*4),_e=Gn.shiftPoint(g,h,N*4),_e=Gn.shiftPoint(_e,v,b*4),z=Gn.shiftPoint(v,_,N*4),z=Gn.shiftPoint(z,g,b*4),Pe=Gn.shiftPoint(_,v,N*4),Pe=Gn.shiftPoint(Pe,h,b*4),[k,_e,z,Pe]}isValid(l){return l.getX()>=0&&l.getX()<this.image.getWidth()&&l.getY()>0&&l.getY()<this.image.getHeight()}static sampleGrid(l,h,g,v,_,b,N){return xn.getInstance().sampleGrid(l,b,N,.5,.5,b-.5,.5,b-.5,N-.5,.5,N-.5,h.getX(),h.getY(),_.getX(),_.getY(),v.getX(),v.getY(),g.getX(),g.getY())}transitionsBetween(l,h){let g=Math.trunc(l.getX()),v=Math.trunc(l.getY()),_=Math.trunc(h.getX()),b=Math.trunc(h.getY()),N=Math.abs(b-v)>Math.abs(_-g);if(N){let Ye=g;g=v,v=Ye,Ye=_,_=b,b=Ye}let k=Math.abs(_-g),z=Math.abs(b-v),ee=-k/2,fe=v<b?1:-1,_e=g<_?1:-1,Pe=0,qe=this.image.get(N?v:g,N?g:v);for(let Ye=g,nt=v;Ye!==_;Ye+=_e){let yt=this.image.get(N?nt:Ye,N?Ye:nt);if(yt!==qe&&(Pe++,qe=yt),ee+=z,ee>0){if(nt===b)break;nt+=fe,ee-=k}}return Pe}}class Us{constructor(){this.decoder=new ka}decode(l,h=null){let g,v;if(h!=null&&h.has(re.PURE_BARCODE)){const z=Us.extractPureBits(l.getBlackMatrix());g=this.decoder.decode(z),v=Us.NO_POINTS}else{const z=new Gn(l.getBlackMatrix()).detect();g=this.decoder.decode(z.getBits()),v=z.getPoints()}const _=g.getRawBytes(),b=new Q(g.getText(),_,8*_.length,v,de.DATA_MATRIX,C.currentTimeMillis()),N=g.getByteSegments();N!=null&&b.putMetadata(Ve.BYTE_SEGMENTS,N);const k=g.getECLevel();return k!=null&&b.putMetadata(Ve.ERROR_CORRECTION_LEVEL,k),b}reset(){}static extractPureBits(l){const h=l.getTopLeftOnBit(),g=l.getBottomRightOnBit();if(h==null||g==null)throw new pe;const v=this.moduleSize(h,l);let _=h[1];const b=g[1];let N=h[0];const z=(g[0]-N+1)/v,ee=(b-_+1)/v;if(z<=0||ee<=0)throw new pe;const fe=v/2;_+=fe,N+=fe;const _e=new ne(z,ee);for(let Pe=0;Pe<ee;Pe++){const qe=_+Pe*v;for(let Ye=0;Ye<z;Ye++)l.get(N+Ye*v,qe)&&_e.set(Ye,Pe)}return _e}static moduleSize(l,h){const g=h.getWidth();let v=l[0];const _=l[1];for(;v<g&&h.get(v,_);)v++;if(v===g)throw new pe;const b=v-l[0];if(b===0)throw new pe;return b}}Us.NO_POINTS=[];class $i extends J{constructor(l=500){super(new Us,l)}}var Zr;(function(he){he[he.L=0]="L",he[he.M=1]="M",he[he.Q=2]="Q",he[he.H=3]="H"})(Zr||(Zr={}));class sr{constructor(l,h,g){this.value=l,this.stringValue=h,this.bits=g,sr.FOR_BITS.set(g,this),sr.FOR_VALUE.set(l,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(l){switch(l){case"L":return sr.L;case"M":return sr.M;case"Q":return sr.Q;case"H":return sr.H;default:throw new x(l+"not available")}}toString(){return this.stringValue}equals(l){if(!(l instanceof sr))return!1;const h=l;return this.value===h.value}static forBits(l){if(l<0||l>=sr.FOR_BITS.size)throw new w;return sr.FOR_BITS.get(l)}}sr.FOR_BITS=new Map,sr.FOR_VALUE=new Map,sr.L=new sr(Zr.L,"L",1),sr.M=new sr(Zr.M,"M",0),sr.Q=new sr(Zr.Q,"Q",3),sr.H=new sr(Zr.H,"H",2);class Ri{constructor(l){this.errorCorrectionLevel=sr.forBits(l>>3&3),this.dataMask=l&7}static numBitsDiffering(l,h){return M.bitCount(l^h)}static decodeFormatInformation(l,h){const g=Ri.doDecodeFormatInformation(l,h);return g!==null?g:Ri.doDecodeFormatInformation(l^Ri.FORMAT_INFO_MASK_QR,h^Ri.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(l,h){let g=Number.MAX_SAFE_INTEGER,v=0;for(const _ of Ri.FORMAT_INFO_DECODE_LOOKUP){const b=_[0];if(b===l||b===h)return new Ri(_[1]);let N=Ri.numBitsDiffering(l,b);N<g&&(v=_[1],g=N),l!==h&&(N=Ri.numBitsDiffering(h,b),N<g&&(v=_[1],g=N))}return g<=3?new Ri(v):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(l){if(!(l instanceof Ri))return!1;const h=l;return this.errorCorrectionLevel===h.errorCorrectionLevel&&this.dataMask===h.dataMask}}Ri.FORMAT_INFO_MASK_QR=21522,Ri.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class ut{constructor(l,...h){this.ecCodewordsPerBlock=l,this.ecBlocks=h}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let l=0;const h=this.ecBlocks;for(const g of h)l+=g.getCount();return l}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class Le{constructor(l,h){this.count=l,this.dataCodewords=h}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class En{constructor(l,h,...g){this.versionNumber=l,this.alignmentPatternCenters=h,this.ecBlocks=g;let v=0;const _=g[0].getECCodewordsPerBlock(),b=g[0].getECBlocks();for(const N of b)v+=N.getCount()*(N.getDataCodewords()+_);this.totalCodewords=v}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(l){return this.ecBlocks[l.getValue()]}static getProvisionalVersionForDimension(l){if(l%4!==1)throw new F;try{return this.getVersionForNumber((l-17)/4)}catch{throw new F}}static getVersionForNumber(l){if(l<1||l>40)throw new w;return En.VERSIONS[l-1]}static decodeVersionInformation(l){let h=Number.MAX_SAFE_INTEGER,g=0;for(let v=0;v<En.VERSION_DECODE_INFO.length;v++){const _=En.VERSION_DECODE_INFO[v];if(_===l)return En.getVersionForNumber(v+7);const b=Ri.numBitsDiffering(l,_);b<h&&(g=v+7,h=b)}return h<=3?En.getVersionForNumber(g):null}buildFunctionPattern(){const l=this.getDimensionForVersion(),h=new ne(l);h.setRegion(0,0,9,9),h.setRegion(l-8,0,8,9),h.setRegion(0,l-8,9,8);const g=this.alignmentPatternCenters.length;for(let v=0;v<g;v++){const _=this.alignmentPatternCenters[v]-2;for(let b=0;b<g;b++)v===0&&(b===0||b===g-1)||v===g-1&&b===0||h.setRegion(this.alignmentPatternCenters[b]-2,_,5,5)}return h.setRegion(6,9,1,l-17),h.setRegion(9,6,l-17,1),this.versionNumber>6&&(h.setRegion(l-11,0,3,6),h.setRegion(0,l-11,6,3)),h}toString(){return""+this.versionNumber}}En.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),En.VERSIONS=[new En(1,new Int32Array(0),new ut(7,new Le(1,19)),new ut(10,new Le(1,16)),new ut(13,new Le(1,13)),new ut(17,new Le(1,9))),new En(2,Int32Array.from([6,18]),new ut(10,new Le(1,34)),new ut(16,new Le(1,28)),new ut(22,new Le(1,22)),new ut(28,new Le(1,16))),new En(3,Int32Array.from([6,22]),new ut(15,new Le(1,55)),new ut(26,new Le(1,44)),new ut(18,new Le(2,17)),new ut(22,new Le(2,13))),new En(4,Int32Array.from([6,26]),new ut(20,new Le(1,80)),new ut(18,new Le(2,32)),new ut(26,new Le(2,24)),new ut(16,new Le(4,9))),new En(5,Int32Array.from([6,30]),new ut(26,new Le(1,108)),new ut(24,new Le(2,43)),new ut(18,new Le(2,15),new Le(2,16)),new ut(22,new Le(2,11),new Le(2,12))),new En(6,Int32Array.from([6,34]),new ut(18,new Le(2,68)),new ut(16,new Le(4,27)),new ut(24,new Le(4,19)),new ut(28,new Le(4,15))),new En(7,Int32Array.from([6,22,38]),new ut(20,new Le(2,78)),new ut(18,new Le(4,31)),new ut(18,new Le(2,14),new Le(4,15)),new ut(26,new Le(4,13),new Le(1,14))),new En(8,Int32Array.from([6,24,42]),new ut(24,new Le(2,97)),new ut(22,new Le(2,38),new Le(2,39)),new ut(22,new Le(4,18),new Le(2,19)),new ut(26,new Le(4,14),new Le(2,15))),new En(9,Int32Array.from([6,26,46]),new ut(30,new Le(2,116)),new ut(22,new Le(3,36),new Le(2,37)),new ut(20,new Le(4,16),new Le(4,17)),new ut(24,new Le(4,12),new Le(4,13))),new En(10,Int32Array.from([6,28,50]),new ut(18,new Le(2,68),new Le(2,69)),new ut(26,new Le(4,43),new Le(1,44)),new ut(24,new Le(6,19),new Le(2,20)),new ut(28,new Le(6,15),new Le(2,16))),new En(11,Int32Array.from([6,30,54]),new ut(20,new Le(4,81)),new ut(30,new Le(1,50),new Le(4,51)),new ut(28,new Le(4,22),new Le(4,23)),new ut(24,new Le(3,12),new Le(8,13))),new En(12,Int32Array.from([6,32,58]),new ut(24,new Le(2,92),new Le(2,93)),new ut(22,new Le(6,36),new Le(2,37)),new ut(26,new Le(4,20),new Le(6,21)),new ut(28,new Le(7,14),new Le(4,15))),new En(13,Int32Array.from([6,34,62]),new ut(26,new Le(4,107)),new ut(22,new Le(8,37),new Le(1,38)),new ut(24,new Le(8,20),new Le(4,21)),new ut(22,new Le(12,11),new Le(4,12))),new En(14,Int32Array.from([6,26,46,66]),new ut(30,new Le(3,115),new Le(1,116)),new ut(24,new Le(4,40),new Le(5,41)),new ut(20,new Le(11,16),new Le(5,17)),new ut(24,new Le(11,12),new Le(5,13))),new En(15,Int32Array.from([6,26,48,70]),new ut(22,new Le(5,87),new Le(1,88)),new ut(24,new Le(5,41),new Le(5,42)),new ut(30,new Le(5,24),new Le(7,25)),new ut(24,new Le(11,12),new Le(7,13))),new En(16,Int32Array.from([6,26,50,74]),new ut(24,new Le(5,98),new Le(1,99)),new ut(28,new Le(7,45),new Le(3,46)),new ut(24,new Le(15,19),new Le(2,20)),new ut(30,new Le(3,15),new Le(13,16))),new En(17,Int32Array.from([6,30,54,78]),new ut(28,new Le(1,107),new Le(5,108)),new ut(28,new Le(10,46),new Le(1,47)),new ut(28,new Le(1,22),new Le(15,23)),new ut(28,new Le(2,14),new Le(17,15))),new En(18,Int32Array.from([6,30,56,82]),new ut(30,new Le(5,120),new Le(1,121)),new ut(26,new Le(9,43),new Le(4,44)),new ut(28,new Le(17,22),new Le(1,23)),new ut(28,new Le(2,14),new Le(19,15))),new En(19,Int32Array.from([6,30,58,86]),new ut(28,new Le(3,113),new Le(4,114)),new ut(26,new Le(3,44),new Le(11,45)),new ut(26,new Le(17,21),new Le(4,22)),new ut(26,new Le(9,13),new Le(16,14))),new En(20,Int32Array.from([6,34,62,90]),new ut(28,new Le(3,107),new Le(5,108)),new ut(26,new Le(3,41),new Le(13,42)),new ut(30,new Le(15,24),new Le(5,25)),new ut(28,new Le(15,15),new Le(10,16))),new En(21,Int32Array.from([6,28,50,72,94]),new ut(28,new Le(4,116),new Le(4,117)),new ut(26,new Le(17,42)),new ut(28,new Le(17,22),new Le(6,23)),new ut(30,new Le(19,16),new Le(6,17))),new En(22,Int32Array.from([6,26,50,74,98]),new ut(28,new Le(2,111),new Le(7,112)),new ut(28,new Le(17,46)),new ut(30,new Le(7,24),new Le(16,25)),new ut(24,new Le(34,13))),new En(23,Int32Array.from([6,30,54,78,102]),new ut(30,new Le(4,121),new Le(5,122)),new ut(28,new Le(4,47),new Le(14,48)),new ut(30,new Le(11,24),new Le(14,25)),new ut(30,new Le(16,15),new Le(14,16))),new En(24,Int32Array.from([6,28,54,80,106]),new ut(30,new Le(6,117),new Le(4,118)),new ut(28,new Le(6,45),new Le(14,46)),new ut(30,new Le(11,24),new Le(16,25)),new ut(30,new Le(30,16),new Le(2,17))),new En(25,Int32Array.from([6,32,58,84,110]),new ut(26,new Le(8,106),new Le(4,107)),new ut(28,new Le(8,47),new Le(13,48)),new ut(30,new Le(7,24),new Le(22,25)),new ut(30,new Le(22,15),new Le(13,16))),new En(26,Int32Array.from([6,30,58,86,114]),new ut(28,new Le(10,114),new Le(2,115)),new ut(28,new Le(19,46),new Le(4,47)),new ut(28,new Le(28,22),new Le(6,23)),new ut(30,new Le(33,16),new Le(4,17))),new En(27,Int32Array.from([6,34,62,90,118]),new ut(30,new Le(8,122),new Le(4,123)),new ut(28,new Le(22,45),new Le(3,46)),new ut(30,new Le(8,23),new Le(26,24)),new ut(30,new Le(12,15),new Le(28,16))),new En(28,Int32Array.from([6,26,50,74,98,122]),new ut(30,new Le(3,117),new Le(10,118)),new ut(28,new Le(3,45),new Le(23,46)),new ut(30,new Le(4,24),new Le(31,25)),new ut(30,new Le(11,15),new Le(31,16))),new En(29,Int32Array.from([6,30,54,78,102,126]),new ut(30,new Le(7,116),new Le(7,117)),new ut(28,new Le(21,45),new Le(7,46)),new ut(30,new Le(1,23),new Le(37,24)),new ut(30,new Le(19,15),new Le(26,16))),new En(30,Int32Array.from([6,26,52,78,104,130]),new ut(30,new Le(5,115),new Le(10,116)),new ut(28,new Le(19,47),new Le(10,48)),new ut(30,new Le(15,24),new Le(25,25)),new ut(30,new Le(23,15),new Le(25,16))),new En(31,Int32Array.from([6,30,56,82,108,134]),new ut(30,new Le(13,115),new Le(3,116)),new ut(28,new Le(2,46),new Le(29,47)),new ut(30,new Le(42,24),new Le(1,25)),new ut(30,new Le(23,15),new Le(28,16))),new En(32,Int32Array.from([6,34,60,86,112,138]),new ut(30,new Le(17,115)),new ut(28,new Le(10,46),new Le(23,47)),new ut(30,new Le(10,24),new Le(35,25)),new ut(30,new Le(19,15),new Le(35,16))),new En(33,Int32Array.from([6,30,58,86,114,142]),new ut(30,new Le(17,115),new Le(1,116)),new ut(28,new Le(14,46),new Le(21,47)),new ut(30,new Le(29,24),new Le(19,25)),new ut(30,new Le(11,15),new Le(46,16))),new En(34,Int32Array.from([6,34,62,90,118,146]),new ut(30,new Le(13,115),new Le(6,116)),new ut(28,new Le(14,46),new Le(23,47)),new ut(30,new Le(44,24),new Le(7,25)),new ut(30,new Le(59,16),new Le(1,17))),new En(35,Int32Array.from([6,30,54,78,102,126,150]),new ut(30,new Le(12,121),new Le(7,122)),new ut(28,new Le(12,47),new Le(26,48)),new ut(30,new Le(39,24),new Le(14,25)),new ut(30,new Le(22,15),new Le(41,16))),new En(36,Int32Array.from([6,24,50,76,102,128,154]),new ut(30,new Le(6,121),new Le(14,122)),new ut(28,new Le(6,47),new Le(34,48)),new ut(30,new Le(46,24),new Le(10,25)),new ut(30,new Le(2,15),new Le(64,16))),new En(37,Int32Array.from([6,28,54,80,106,132,158]),new ut(30,new Le(17,122),new Le(4,123)),new ut(28,new Le(29,46),new Le(14,47)),new ut(30,new Le(49,24),new Le(10,25)),new ut(30,new Le(24,15),new Le(46,16))),new En(38,Int32Array.from([6,32,58,84,110,136,162]),new ut(30,new Le(4,122),new Le(18,123)),new ut(28,new Le(13,46),new Le(32,47)),new ut(30,new Le(48,24),new Le(14,25)),new ut(30,new Le(42,15),new Le(32,16))),new En(39,Int32Array.from([6,26,54,82,110,138,166]),new ut(30,new Le(20,117),new Le(4,118)),new ut(28,new Le(40,47),new Le(7,48)),new ut(30,new Le(43,24),new Le(22,25)),new ut(30,new Le(10,15),new Le(67,16))),new En(40,Int32Array.from([6,30,58,86,114,142,170]),new ut(30,new Le(19,118),new Le(6,119)),new ut(28,new Le(18,47),new Le(31,48)),new ut(30,new Le(34,24),new Le(34,25)),new ut(30,new Le(20,15),new Le(61,16)))];var Oi;(function(he){he[he.DATA_MASK_000=0]="DATA_MASK_000",he[he.DATA_MASK_001=1]="DATA_MASK_001",he[he.DATA_MASK_010=2]="DATA_MASK_010",he[he.DATA_MASK_011=3]="DATA_MASK_011",he[he.DATA_MASK_100=4]="DATA_MASK_100",he[he.DATA_MASK_101=5]="DATA_MASK_101",he[he.DATA_MASK_110=6]="DATA_MASK_110",he[he.DATA_MASK_111=7]="DATA_MASK_111"})(Oi||(Oi={}));class Hi{constructor(l,h){this.value=l,this.isMasked=h}unmaskBitMatrix(l,h){for(let g=0;g<h;g++)for(let v=0;v<h;v++)this.isMasked(g,v)&&l.flip(v,g)}}Hi.values=new Map([[Oi.DATA_MASK_000,new Hi(Oi.DATA_MASK_000,(he,l)=>(he+l&1)===0)],[Oi.DATA_MASK_001,new Hi(Oi.DATA_MASK_001,(he,l)=>(he&1)===0)],[Oi.DATA_MASK_010,new Hi(Oi.DATA_MASK_010,(he,l)=>l%3===0)],[Oi.DATA_MASK_011,new Hi(Oi.DATA_MASK_011,(he,l)=>(he+l)%3===0)],[Oi.DATA_MASK_100,new Hi(Oi.DATA_MASK_100,(he,l)=>(Math.floor(he/2)+Math.floor(l/3)&1)===0)],[Oi.DATA_MASK_101,new Hi(Oi.DATA_MASK_101,(he,l)=>he*l%6===0)],[Oi.DATA_MASK_110,new Hi(Oi.DATA_MASK_110,(he,l)=>he*l%6<3)],[Oi.DATA_MASK_111,new Hi(Oi.DATA_MASK_111,(he,l)=>(he+l+he*l%3&1)===0)]]);class ds{constructor(l){const h=l.getHeight();if(h<21||(h&3)!==1)throw new F;this.bitMatrix=l}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let l=0;for(let _=0;_<6;_++)l=this.copyBit(_,8,l);l=this.copyBit(7,8,l),l=this.copyBit(8,8,l),l=this.copyBit(8,7,l);for(let _=5;_>=0;_--)l=this.copyBit(8,_,l);const h=this.bitMatrix.getHeight();let g=0;const v=h-7;for(let _=h-1;_>=v;_--)g=this.copyBit(8,_,g);for(let _=h-8;_<h;_++)g=this.copyBit(_,8,g);if(this.parsedFormatInfo=Ri.decodeFormatInformation(l,g),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new F}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const l=this.bitMatrix.getHeight(),h=Math.floor((l-17)/4);if(h<=6)return En.getVersionForNumber(h);let g=0;const v=l-11;for(let b=5;b>=0;b--)for(let N=l-9;N>=v;N--)g=this.copyBit(N,b,g);let _=En.decodeVersionInformation(g);if(_!==null&&_.getDimensionForVersion()===l)return this.parsedVersion=_,_;g=0;for(let b=5;b>=0;b--)for(let N=l-9;N>=v;N--)g=this.copyBit(b,N,g);if(_=En.decodeVersionInformation(g),_!==null&&_.getDimensionForVersion()===l)return this.parsedVersion=_,_;throw new F}copyBit(l,h,g){return(this.isMirror?this.bitMatrix.get(h,l):this.bitMatrix.get(l,h))?g<<1|1:g<<1}readCodewords(){const l=this.readFormatInformation(),h=this.readVersion(),g=Hi.values.get(l.getDataMask()),v=this.bitMatrix.getHeight();g.unmaskBitMatrix(this.bitMatrix,v);const _=h.buildFunctionPattern();let b=!0;const N=new Uint8Array(h.getTotalCodewords());let k=0,z=0,ee=0;for(let fe=v-1;fe>0;fe-=2){fe===6&&fe--;for(let _e=0;_e<v;_e++){const Pe=b?v-1-_e:_e;for(let qe=0;qe<2;qe++)_.get(fe-qe,Pe)||(ee++,z<<=1,this.bitMatrix.get(fe-qe,Pe)&&(z|=1),ee===8&&(N[k++]=z,ee=0,z=0))}b=!b}if(k!==h.getTotalCodewords())throw new F;return N}remask(){if(this.parsedFormatInfo===null)return;const l=Hi.values[this.parsedFormatInfo.getDataMask()],h=this.bitMatrix.getHeight();l.unmaskBitMatrix(this.bitMatrix,h)}setMirror(l){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=l}mirror(){const l=this.bitMatrix;for(let h=0,g=l.getWidth();h<g;h++)for(let v=h+1,_=l.getHeight();v<_;v++)l.get(h,v)!==l.get(v,h)&&(l.flip(v,h),l.flip(h,v))}}class xo{constructor(l,h){this.numDataCodewords=l,this.codewords=h}static getDataBlocks(l,h,g){if(l.length!==h.getTotalCodewords())throw new w;const v=h.getECBlocksForLevel(g);let _=0;const b=v.getECBlocks();for(const qe of b)_+=qe.getCount();const N=new Array(_);let k=0;for(const qe of b)for(let Ye=0;Ye<qe.getCount();Ye++){const nt=qe.getDataCodewords(),yt=v.getECCodewordsPerBlock()+nt;N[k++]=new xo(nt,new Uint8Array(yt))}const z=N[0].codewords.length;let ee=N.length-1;for(;ee>=0&&N[ee].codewords.length!==z;)ee--;ee++;const fe=z-v.getECCodewordsPerBlock();let _e=0;for(let qe=0;qe<fe;qe++)for(let Ye=0;Ye<k;Ye++)N[Ye].codewords[qe]=l[_e++];for(let qe=ee;qe<k;qe++)N[qe].codewords[fe]=l[_e++];const Pe=N[0].codewords.length;for(let qe=fe;qe<Pe;qe++)for(let Ye=0;Ye<k;Ye++){const nt=Ye<ee?qe:qe+1;N[Ye].codewords[nt]=l[_e++]}return N}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var As;(function(he){he[he.TERMINATOR=0]="TERMINATOR",he[he.NUMERIC=1]="NUMERIC",he[he.ALPHANUMERIC=2]="ALPHANUMERIC",he[he.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",he[he.BYTE=4]="BYTE",he[he.ECI=5]="ECI",he[he.KANJI=6]="KANJI",he[he.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",he[he.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",he[he.HANZI=9]="HANZI"})(As||(As={}));class jn{constructor(l,h,g,v){this.value=l,this.stringValue=h,this.characterCountBitsForVersions=g,this.bits=v,jn.FOR_BITS.set(v,this),jn.FOR_VALUE.set(l,this)}static forBits(l){const h=jn.FOR_BITS.get(l);if(h===void 0)throw new w;return h}getCharacterCountBits(l){const h=l.getVersionNumber();let g;return h<=9?g=0:h<=26?g=1:g=2,this.characterCountBitsForVersions[g]}getValue(){return this.value}getBits(){return this.bits}equals(l){if(!(l instanceof jn))return!1;const h=l;return this.value===h.value}toString(){return this.stringValue}}jn.FOR_BITS=new Map,jn.FOR_VALUE=new Map,jn.TERMINATOR=new jn(As.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),jn.NUMERIC=new jn(As.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),jn.ALPHANUMERIC=new jn(As.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),jn.STRUCTURED_APPEND=new jn(As.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),jn.BYTE=new jn(As.BYTE,"BYTE",Int32Array.from([8,16,16]),4),jn.ECI=new jn(As.ECI,"ECI",Int32Array.from([0,0,0]),7),jn.KANJI=new jn(As.KANJI,"KANJI",Int32Array.from([8,10,12]),8),jn.FNC1_FIRST_POSITION=new jn(As.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),jn.FNC1_SECOND_POSITION=new jn(As.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),jn.HANZI=new jn(As.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Qr{static decode(l,h,g,v){const _=new Ii(l);let b=new X;const N=new Array;let k=-1,z=-1;try{let ee=null,fe=!1,_e;do{if(_.available()<4)_e=jn.TERMINATOR;else{const Pe=_.readBits(4);_e=jn.forBits(Pe)}switch(_e){case jn.TERMINATOR:break;case jn.FNC1_FIRST_POSITION:case jn.FNC1_SECOND_POSITION:fe=!0;break;case jn.STRUCTURED_APPEND:if(_.available()<16)throw new F;k=_.readBits(8),z=_.readBits(8);break;case jn.ECI:const Pe=Qr.parseECIValue(_);if(ee=D.getCharacterSetECIByValue(Pe),ee===null)throw new F;break;case jn.HANZI:const qe=_.readBits(4),Ye=_.readBits(_e.getCharacterCountBits(h));qe===Qr.GB2312_SUBSET&&Qr.decodeHanziSegment(_,b,Ye);break;default:const nt=_.readBits(_e.getCharacterCountBits(h));switch(_e){case jn.NUMERIC:Qr.decodeNumericSegment(_,b,nt);break;case jn.ALPHANUMERIC:Qr.decodeAlphanumericSegment(_,b,nt,fe);break;case jn.BYTE:Qr.decodeByteSegment(_,b,nt,ee,N,v);break;case jn.KANJI:Qr.decodeKanjiSegment(_,b,nt);break;default:throw new F}break}}while(_e!==jn.TERMINATOR)}catch{throw new F}return new Fe(l,b.toString(),N.length===0?null:N,g===null?null:g.toString(),k,z)}static decodeHanziSegment(l,h,g){if(g*13>l.available())throw new F;const v=new Uint8Array(2*g);let _=0;for(;g>0;){const b=l.readBits(13);let N=b/96<<8&4294967295|b%96;N<959?N+=41377:N+=42657,v[_]=N>>8&255,v[_+1]=N&255,_+=2,g--}try{h.append(U.decode(v,H.GB2312))}catch(b){throw new F(b)}}static decodeKanjiSegment(l,h,g){if(g*13>l.available())throw new F;const v=new Uint8Array(2*g);let _=0;for(;g>0;){const b=l.readBits(13);let N=b/192<<8&4294967295|b%192;N<7936?N+=33088:N+=49472,v[_]=N>>8,v[_+1]=N,_+=2,g--}try{h.append(U.decode(v,H.SHIFT_JIS))}catch(b){throw new F(b)}}static decodeByteSegment(l,h,g,v,_,b){if(8*g>l.available())throw new F;const N=new Uint8Array(g);for(let z=0;z<g;z++)N[z]=l.readBits(8);let k;v===null?k=H.guessEncoding(N,b):k=v.getName();try{h.append(U.decode(N,k))}catch(z){throw new F(z)}_.push(N)}static toAlphaNumericChar(l){if(l>=Qr.ALPHANUMERIC_CHARS.length)throw new F;return Qr.ALPHANUMERIC_CHARS[l]}static decodeAlphanumericSegment(l,h,g,v){const _=h.length();for(;g>1;){if(l.available()<11)throw new F;const b=l.readBits(11);h.append(Qr.toAlphaNumericChar(Math.floor(b/45))),h.append(Qr.toAlphaNumericChar(b%45)),g-=2}if(g===1){if(l.available()<6)throw new F;h.append(Qr.toAlphaNumericChar(l.readBits(6)))}if(v)for(let b=_;b<h.length();b++)h.charAt(b)==="%"&&(b<h.length()-1&&h.charAt(b+1)==="%"?h.deleteCharAt(b+1):h.setCharAt(b,""))}static decodeNumericSegment(l,h,g){for(;g>=3;){if(l.available()<10)throw new F;const v=l.readBits(10);if(v>=1e3)throw new F;h.append(Qr.toAlphaNumericChar(Math.floor(v/100))),h.append(Qr.toAlphaNumericChar(Math.floor(v/10)%10)),h.append(Qr.toAlphaNumericChar(v%10)),g-=3}if(g===2){if(l.available()<7)throw new F;const v=l.readBits(7);if(v>=100)throw new F;h.append(Qr.toAlphaNumericChar(Math.floor(v/10))),h.append(Qr.toAlphaNumericChar(v%10))}else if(g===1){if(l.available()<4)throw new F;const v=l.readBits(4);if(v>=10)throw new F;h.append(Qr.toAlphaNumericChar(v))}}static parseECIValue(l){const h=l.readBits(8);if((h&128)===0)return h&127;if((h&192)===128){const g=l.readBits(8);return(h&63)<<8&4294967295|g}if((h&224)===192){const g=l.readBits(16);return(h&31)<<16&4294967295|g}throw new F}}Qr.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Qr.GB2312_SUBSET=1;class xl{constructor(l){this.mirrored=l}isMirrored(){return this.mirrored}applyMirroredCorrection(l){if(!this.mirrored||l===null||l.length<3)return;const h=l[0];l[0]=l[2],l[2]=h}}class Mo{constructor(){this.rsDecoder=new ot(Tt.QR_CODE_FIELD_256)}decodeBooleanArray(l,h){return this.decodeBitMatrix(ne.parseFromBooleanArray(l),h)}decodeBitMatrix(l,h){const g=new ds(l);let v=null;try{return this.decodeBitMatrixParser(g,h)}catch(_){v=_}try{g.remask(),g.setMirror(!0),g.readVersion(),g.readFormatInformation(),g.mirror();const _=this.decodeBitMatrixParser(g,h);return _.setOther(new xl(!0)),_}catch(_){throw v!==null?v:_}}decodeBitMatrixParser(l,h){const g=l.readVersion(),v=l.readFormatInformation().getErrorCorrectionLevel(),_=l.readCodewords(),b=xo.getDataBlocks(_,g,v);let N=0;for(const ee of b)N+=ee.getNumDataCodewords();const k=new Uint8Array(N);let z=0;for(const ee of b){const fe=ee.getCodewords(),_e=ee.getNumDataCodewords();this.correctErrors(fe,_e);for(let Pe=0;Pe<_e;Pe++)k[z++]=fe[Pe]}return Qr.decode(k,g,v,h)}correctErrors(l,h){const g=new Int32Array(l);try{this.rsDecoder.decode(g,l.length-h)}catch{throw new E}for(let v=0;v<h;v++)l[v]=g[v]}}class Ss extends Xe{constructor(l,h,g){super(l,h),this.estimatedModuleSize=g}aboutEquals(l,h,g){if(Math.abs(h-this.getY())<=l&&Math.abs(g-this.getX())<=l){const v=Math.abs(l-this.estimatedModuleSize);return v<=1||v<=this.estimatedModuleSize}return!1}combineEstimate(l,h,g){const v=(this.getX()+h)/2,_=(this.getY()+l)/2,b=(this.estimatedModuleSize+g)/2;return new Ss(v,_,b)}}class Js{constructor(l,h,g,v,_,b,N){this.image=l,this.startX=h,this.startY=g,this.width=v,this.height=_,this.moduleSize=b,this.resultPointCallback=N,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const l=this.startX,h=this.height,g=this.width,v=l+g,_=this.startY+h/2,b=new Int32Array(3),N=this.image;for(let k=0;k<h;k++){const z=_+((k&1)===0?Math.floor((k+1)/2):-Math.floor((k+1)/2));b[0]=0,b[1]=0,b[2]=0;let ee=l;for(;ee<v&&!N.get(ee,z);)ee++;let fe=0;for(;ee<v;){if(N.get(ee,z))if(fe===1)b[1]++;else if(fe===2){if(this.foundPatternCross(b)){const _e=this.handlePossibleCenter(b,z,ee);if(_e!==null)return _e}b[0]=b[2],b[1]=1,b[2]=0,fe=1}else b[++fe]++;else fe===1&&fe++,b[fe]++;ee++}if(this.foundPatternCross(b)){const _e=this.handlePossibleCenter(b,z,v);if(_e!==null)return _e}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new pe}static centerFromEnd(l,h){return h-l[2]-l[1]/2}foundPatternCross(l){const h=this.moduleSize,g=h/2;for(let v=0;v<3;v++)if(Math.abs(h-l[v])>=g)return!1;return!0}crossCheckVertical(l,h,g,v){const _=this.image,b=_.getHeight(),N=this.crossCheckStateCount;N[0]=0,N[1]=0,N[2]=0;let k=l;for(;k>=0&&_.get(h,k)&&N[1]<=g;)N[1]++,k--;if(k<0||N[1]>g)return NaN;for(;k>=0&&!_.get(h,k)&&N[0]<=g;)N[0]++,k--;if(N[0]>g)return NaN;for(k=l+1;k<b&&_.get(h,k)&&N[1]<=g;)N[1]++,k++;if(k===b||N[1]>g)return NaN;for(;k<b&&!_.get(h,k)&&N[2]<=g;)N[2]++,k++;if(N[2]>g)return NaN;const z=N[0]+N[1]+N[2];return 5*Math.abs(z-v)>=2*v?NaN:this.foundPatternCross(N)?Js.centerFromEnd(N,k):NaN}handlePossibleCenter(l,h,g){const v=l[0]+l[1]+l[2],_=Js.centerFromEnd(l,g),b=this.crossCheckVertical(h,_,2*l[1],v);if(!isNaN(b)){const N=(l[0]+l[1]+l[2])/3;for(const z of this.possibleCenters)if(z.aboutEquals(N,b,_))return z.combineEstimate(b,_,N);const k=new Ss(_,b,N);this.possibleCenters.push(k),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(k)}return null}}class Ja extends Xe{constructor(l,h,g,v){super(l,h),this.estimatedModuleSize=g,this.count=v,v===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(l,h,g){if(Math.abs(h-this.getY())<=l&&Math.abs(g-this.getX())<=l){const v=Math.abs(l-this.estimatedModuleSize);return v<=1||v<=this.estimatedModuleSize}return!1}combineEstimate(l,h,g){const v=this.count+1,_=(this.count*this.getX()+h)/v,b=(this.count*this.getY()+l)/v,N=(this.count*this.estimatedModuleSize+g)/v;return new Ja(_,b,N,v)}}class ea{constructor(l){this.bottomLeft=l[0],this.topLeft=l[1],this.topRight=l[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class ui{constructor(l,h){this.image=l,this.resultPointCallback=h,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=h}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(l){const h=l!=null&&l.get(re.TRY_HARDER)!==void 0,g=l!=null&&l.get(re.PURE_BARCODE)!==void 0,v=this.image,_=v.getHeight(),b=v.getWidth();let N=Math.floor(3*_/(4*ui.MAX_MODULES));(N<ui.MIN_SKIP||h)&&(N=ui.MIN_SKIP);let k=!1;const z=new Int32Array(5);for(let fe=N-1;fe<_&&!k;fe+=N){z[0]=0,z[1]=0,z[2]=0,z[3]=0,z[4]=0;let _e=0;for(let Pe=0;Pe<b;Pe++)if(v.get(Pe,fe))(_e&1)===1&&_e++,z[_e]++;else if((_e&1)===0)if(_e===4)if(ui.foundPatternCross(z)){if(this.handlePossibleCenter(z,fe,Pe,g)===!0)if(N=2,this.hasSkipped===!0)k=this.haveMultiplyConfirmedCenters();else{const Ye=this.findRowSkip();Ye>z[2]&&(fe+=Ye-z[2]-N,Pe=b-1)}else{z[0]=z[2],z[1]=z[3],z[2]=z[4],z[3]=1,z[4]=0,_e=3;continue}_e=0,z[0]=0,z[1]=0,z[2]=0,z[3]=0,z[4]=0}else z[0]=z[2],z[1]=z[3],z[2]=z[4],z[3]=1,z[4]=0,_e=3;else z[++_e]++;else z[_e]++;ui.foundPatternCross(z)&&this.handlePossibleCenter(z,fe,b,g)===!0&&(N=z[0],this.hasSkipped&&(k=this.haveMultiplyConfirmedCenters()))}const ee=this.selectBestPatterns();return Xe.orderBestPatterns(ee),new ea(ee)}static centerFromEnd(l,h){return h-l[4]-l[3]-l[2]/2}static foundPatternCross(l){let h=0;for(let _=0;_<5;_++){const b=l[_];if(b===0)return!1;h+=b}if(h<7)return!1;const g=h/7,v=g/2;return Math.abs(g-l[0])<v&&Math.abs(g-l[1])<v&&Math.abs(3*g-l[2])<3*v&&Math.abs(g-l[3])<v&&Math.abs(g-l[4])<v}getCrossCheckStateCount(){const l=this.crossCheckStateCount;return l[0]=0,l[1]=0,l[2]=0,l[3]=0,l[4]=0,l}crossCheckDiagonal(l,h,g,v){const _=this.getCrossCheckStateCount();let b=0;const N=this.image;for(;l>=b&&h>=b&&N.get(h-b,l-b);)_[2]++,b++;if(l<b||h<b)return!1;for(;l>=b&&h>=b&&!N.get(h-b,l-b)&&_[1]<=g;)_[1]++,b++;if(l<b||h<b||_[1]>g)return!1;for(;l>=b&&h>=b&&N.get(h-b,l-b)&&_[0]<=g;)_[0]++,b++;if(_[0]>g)return!1;const k=N.getHeight(),z=N.getWidth();for(b=1;l+b<k&&h+b<z&&N.get(h+b,l+b);)_[2]++,b++;if(l+b>=k||h+b>=z)return!1;for(;l+b<k&&h+b<z&&!N.get(h+b,l+b)&&_[3]<g;)_[3]++,b++;if(l+b>=k||h+b>=z||_[3]>=g)return!1;for(;l+b<k&&h+b<z&&N.get(h+b,l+b)&&_[4]<g;)_[4]++,b++;if(_[4]>=g)return!1;const ee=_[0]+_[1]+_[2]+_[3]+_[4];return Math.abs(ee-v)<2*v&&ui.foundPatternCross(_)}crossCheckVertical(l,h,g,v){const _=this.image,b=_.getHeight(),N=this.getCrossCheckStateCount();let k=l;for(;k>=0&&_.get(h,k);)N[2]++,k--;if(k<0)return NaN;for(;k>=0&&!_.get(h,k)&&N[1]<=g;)N[1]++,k--;if(k<0||N[1]>g)return NaN;for(;k>=0&&_.get(h,k)&&N[0]<=g;)N[0]++,k--;if(N[0]>g)return NaN;for(k=l+1;k<b&&_.get(h,k);)N[2]++,k++;if(k===b)return NaN;for(;k<b&&!_.get(h,k)&&N[3]<g;)N[3]++,k++;if(k===b||N[3]>=g)return NaN;for(;k<b&&_.get(h,k)&&N[4]<g;)N[4]++,k++;if(N[4]>=g)return NaN;const z=N[0]+N[1]+N[2]+N[3]+N[4];return 5*Math.abs(z-v)>=2*v?NaN:ui.foundPatternCross(N)?ui.centerFromEnd(N,k):NaN}crossCheckHorizontal(l,h,g,v){const _=this.image,b=_.getWidth(),N=this.getCrossCheckStateCount();let k=l;for(;k>=0&&_.get(k,h);)N[2]++,k--;if(k<0)return NaN;for(;k>=0&&!_.get(k,h)&&N[1]<=g;)N[1]++,k--;if(k<0||N[1]>g)return NaN;for(;k>=0&&_.get(k,h)&&N[0]<=g;)N[0]++,k--;if(N[0]>g)return NaN;for(k=l+1;k<b&&_.get(k,h);)N[2]++,k++;if(k===b)return NaN;for(;k<b&&!_.get(k,h)&&N[3]<g;)N[3]++,k++;if(k===b||N[3]>=g)return NaN;for(;k<b&&_.get(k,h)&&N[4]<g;)N[4]++,k++;if(N[4]>=g)return NaN;const z=N[0]+N[1]+N[2]+N[3]+N[4];return 5*Math.abs(z-v)>=v?NaN:ui.foundPatternCross(N)?ui.centerFromEnd(N,k):NaN}handlePossibleCenter(l,h,g,v){const _=l[0]+l[1]+l[2]+l[3]+l[4];let b=ui.centerFromEnd(l,g),N=this.crossCheckVertical(h,Math.floor(b),l[2],_);if(!isNaN(N)&&(b=this.crossCheckHorizontal(Math.floor(b),Math.floor(N),l[2],_),!isNaN(b)&&(!v||this.crossCheckDiagonal(Math.floor(N),Math.floor(b),l[2],_)))){const k=_/7;let z=!1;const ee=this.possibleCenters;for(let fe=0,_e=ee.length;fe<_e;fe++){const Pe=ee[fe];if(Pe.aboutEquals(k,N,b)){ee[fe]=Pe.combineEstimate(N,b,k),z=!0;break}}if(!z){const fe=new Ja(b,N,k);ee.push(fe),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(fe)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let h=null;for(const g of this.possibleCenters)if(g.getCount()>=ui.CENTER_QUORUM)if(h==null)h=g;else return this.hasSkipped=!0,Math.floor((Math.abs(h.getX()-g.getX())-Math.abs(h.getY()-g.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let l=0,h=0;const g=this.possibleCenters.length;for(const b of this.possibleCenters)b.getCount()>=ui.CENTER_QUORUM&&(l++,h+=b.getEstimatedModuleSize());if(l<3)return!1;const v=h/g;let _=0;for(const b of this.possibleCenters)_+=Math.abs(b.getEstimatedModuleSize()-v);return _<=.05*h}selectBestPatterns(){const l=this.possibleCenters.length;if(l<3)throw new pe;const h=this.possibleCenters;let g;if(l>3){let v=0,_=0;for(const k of this.possibleCenters){const z=k.getEstimatedModuleSize();v+=z,_+=z*z}g=v/l;let b=Math.sqrt(_/l-g*g);h.sort((k,z)=>{const ee=Math.abs(z.getEstimatedModuleSize()-g),fe=Math.abs(k.getEstimatedModuleSize()-g);return ee<fe?-1:ee>fe?1:0});const N=Math.max(.2*g,b);for(let k=0;k<h.length&&h.length>3;k++){const z=h[k];Math.abs(z.getEstimatedModuleSize()-g)>N&&(h.splice(k,1),k--)}}if(h.length>3){let v=0;for(const _ of h)v+=_.getEstimatedModuleSize();g=v/h.length,h.sort((_,b)=>{if(b.getCount()===_.getCount()){const N=Math.abs(b.getEstimatedModuleSize()-g),k=Math.abs(_.getEstimatedModuleSize()-g);return N<k?1:N>k?-1:0}else return b.getCount()-_.getCount()}),h.splice(3)}return[h[0],h[1],h[2]]}}ui.CENTER_QUORUM=2,ui.MIN_SKIP=3,ui.MAX_MODULES=57;class Fn{constructor(l){this.image=l}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(l){this.resultPointCallback=l==null?null:l.get(re.NEED_RESULT_POINT_CALLBACK);const g=new ui(this.image,this.resultPointCallback).find(l);return this.processFinderPatternInfo(g)}processFinderPatternInfo(l){const h=l.getTopLeft(),g=l.getTopRight(),v=l.getBottomLeft(),_=this.calculateModuleSize(h,g,v);if(_<1)throw new pe("No pattern found in proccess finder.");const b=Fn.computeDimension(h,g,v,_),N=En.getProvisionalVersionForDimension(b),k=N.getDimensionForVersion()-7;let z=null;if(N.getAlignmentPatternCenters().length>0){const Pe=g.getX()-h.getX()+v.getX(),qe=g.getY()-h.getY()+v.getY(),Ye=1-3/k,nt=Math.floor(h.getX()+Ye*(Pe-h.getX())),yt=Math.floor(h.getY()+Ye*(qe-h.getY()));for(let Bt=4;Bt<=16;Bt<<=1)try{z=this.findAlignmentInRegion(_,nt,yt,Bt);break}catch(Ut){if(!(Ut instanceof pe))throw Ut}}const ee=Fn.createTransform(h,g,v,z,b),fe=Fn.sampleGrid(this.image,ee,b);let _e;return z===null?_e=[v,h,g]:_e=[v,h,g,z],new Lt(fe,_e)}static createTransform(l,h,g,v,_){const b=_-3.5;let N,k,z,ee;return v!==null?(N=v.getX(),k=v.getY(),z=b-3,ee=z):(N=h.getX()-l.getX()+g.getX(),k=h.getY()-l.getY()+g.getY(),z=b,ee=b),rn.quadrilateralToQuadrilateral(3.5,3.5,b,3.5,z,ee,3.5,b,l.getX(),l.getY(),h.getX(),h.getY(),N,k,g.getX(),g.getY())}static sampleGrid(l,h,g){return xn.getInstance().sampleGridWithTransform(l,g,g,h)}static computeDimension(l,h,g,v){const _=tt.round(Xe.distance(l,h)/v),b=tt.round(Xe.distance(l,g)/v);let N=Math.floor((_+b)/2)+7;switch(N&3){case 0:N++;break;case 2:N--;break;case 3:throw new pe("Dimensions could be not found.")}return N}calculateModuleSize(l,h,g){return(this.calculateModuleSizeOneWay(l,h)+this.calculateModuleSizeOneWay(l,g))/2}calculateModuleSizeOneWay(l,h){const g=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(l.getX()),Math.floor(l.getY()),Math.floor(h.getX()),Math.floor(h.getY())),v=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(h.getX()),Math.floor(h.getY()),Math.floor(l.getX()),Math.floor(l.getY()));return isNaN(g)?v/7:isNaN(v)?g/7:(g+v)/14}sizeOfBlackWhiteBlackRunBothWays(l,h,g,v){let _=this.sizeOfBlackWhiteBlackRun(l,h,g,v),b=1,N=l-(g-l);N<0?(b=l/(l-N),N=0):N>=this.image.getWidth()&&(b=(this.image.getWidth()-1-l)/(N-l),N=this.image.getWidth()-1);let k=Math.floor(h-(v-h)*b);return b=1,k<0?(b=h/(h-k),k=0):k>=this.image.getHeight()&&(b=(this.image.getHeight()-1-h)/(k-h),k=this.image.getHeight()-1),N=Math.floor(l+(N-l)*b),_+=this.sizeOfBlackWhiteBlackRun(l,h,N,k),_-1}sizeOfBlackWhiteBlackRun(l,h,g,v){const _=Math.abs(v-h)>Math.abs(g-l);if(_){let Pe=l;l=h,h=Pe,Pe=g,g=v,v=Pe}const b=Math.abs(g-l),N=Math.abs(v-h);let k=-b/2;const z=l<g?1:-1,ee=h<v?1:-1;let fe=0;const _e=g+z;for(let Pe=l,qe=h;Pe!==_e;Pe+=z){const Ye=_?qe:Pe,nt=_?Pe:qe;if(fe===1===this.image.get(Ye,nt)){if(fe===2)return tt.distance(Pe,qe,l,h);fe++}if(k+=N,k>0){if(qe===v)break;qe+=ee,k-=b}}return fe===2?tt.distance(g+z,v,l,h):NaN}findAlignmentInRegion(l,h,g,v){const _=Math.floor(v*l),b=Math.max(0,h-_),N=Math.min(this.image.getWidth()-1,h+_);if(N-b<l*3)throw new pe("Alignment top exceeds estimated module size.");const k=Math.max(0,g-_),z=Math.min(this.image.getHeight()-1,g+_);if(z-k<l*3)throw new pe("Alignment bottom exceeds estimated module size.");return new Js(this.image,b,k,N-b,z-k,l,this.resultPointCallback).find()}}class ta{constructor(){this.decoder=new Mo}getDecoder(){return this.decoder}decode(l,h){let g,v;if(h!=null&&h.get(re.PURE_BARCODE)!==void 0){const k=ta.extractPureBits(l.getBlackMatrix());g=this.decoder.decodeBitMatrix(k,h),v=ta.NO_POINTS}else{const k=new Fn(l.getBlackMatrix()).detect(h);g=this.decoder.decodeBitMatrix(k.getBits(),h),v=k.getPoints()}g.getOther()instanceof xl&&g.getOther().applyMirroredCorrection(v);const _=new Q(g.getText(),g.getRawBytes(),void 0,v,de.QR_CODE,void 0),b=g.getByteSegments();b!==null&&_.putMetadata(Ve.BYTE_SEGMENTS,b);const N=g.getECLevel();return N!==null&&_.putMetadata(Ve.ERROR_CORRECTION_LEVEL,N),g.hasStructuredAppend()&&(_.putMetadata(Ve.STRUCTURED_APPEND_SEQUENCE,g.getStructuredAppendSequenceNumber()),_.putMetadata(Ve.STRUCTURED_APPEND_PARITY,g.getStructuredAppendParity())),_}reset(){}static extractPureBits(l){const h=l.getTopLeftOnBit(),g=l.getBottomRightOnBit();if(h===null||g===null)throw new pe;const v=this.moduleSize(h,l);let _=h[1],b=g[1],N=h[0],k=g[0];if(N>=k||_>=b)throw new pe;if(b-_!==k-N&&(k=N+(b-_),k>=l.getWidth()))throw new pe;const z=Math.round((k-N+1)/v),ee=Math.round((b-_+1)/v);if(z<=0||ee<=0)throw new pe;if(ee!==z)throw new pe;const fe=Math.floor(v/2);_+=fe,N+=fe;const _e=N+Math.floor((z-1)*v)-k;if(_e>0){if(_e>fe)throw new pe;N-=_e}const Pe=_+Math.floor((ee-1)*v)-b;if(Pe>0){if(Pe>fe)throw new pe;_-=Pe}const qe=new ne(z,ee);for(let Ye=0;Ye<ee;Ye++){const nt=_+Math.floor(Ye*v);for(let yt=0;yt<z;yt++)l.get(N+Math.floor(yt*v),nt)&&qe.set(yt,Ye)}return qe}static moduleSize(l,h){const g=h.getHeight(),v=h.getWidth();let _=l[0],b=l[1],N=!0,k=0;for(;_<v&&b<g;){if(N!==h.get(_,b)){if(++k===5)break;N=!N}_++,b++}if(_===v||b===g)throw new pe;return(_-l[0])/7}}ta.NO_POINTS=new Array;class Vn{PDF417Common(){}static getBitCountSum(l){return tt.sum(l)}static toIntArray(l){if(l==null||!l.length)return Vn.EMPTY_INT_ARRAY;const h=new Int32Array(l.length);let g=0;for(const v of l)h[g++]=v;return h}static getCodeword(l){const h=W.binarySearch(Vn.SYMBOL_TABLE,l&262143);return h<0?-1:(Vn.CODEWORD_TABLE[h]-1)%Vn.NUMBER_OF_CODEWORDS}}Vn.NUMBER_OF_CODEWORDS=929,Vn.MAX_CODEWORDS_IN_BARCODE=Vn.NUMBER_OF_CODEWORDS-1,Vn.MIN_ROWS_IN_BARCODE=3,Vn.MAX_ROWS_IN_BARCODE=90,Vn.MODULES_IN_CODEWORD=17,Vn.MODULES_IN_STOP_PATTERN=18,Vn.BARS_IN_MODULE=8,Vn.EMPTY_INT_ARRAY=new Int32Array([]),Vn.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Vn.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Ko{constructor(l,h){this.bits=l,this.points=h}getBits(){return this.bits}getPoints(){return this.points}}class Bn{static detectMultiple(l,h,g){let v=l.getBlackMatrix(),_=Bn.detect(g,v);return _.length||(v=v.clone(),v.rotate180(),_=Bn.detect(g,v)),new Ko(v,_)}static detect(l,h){const g=new Array;let v=0,_=0,b=!1;for(;v<h.getHeight();){const N=Bn.findVertices(h,v,_);if(N[0]==null&&N[3]==null){if(!b)break;b=!1,_=0;for(const k of g)k[1]!=null&&(v=Math.trunc(Math.max(v,k[1].getY()))),k[3]!=null&&(v=Math.max(v,Math.trunc(k[3].getY())));v+=Bn.ROW_STEP;continue}if(b=!0,g.push(N),!l)break;N[2]!=null?(_=Math.trunc(N[2].getX()),v=Math.trunc(N[2].getY())):(_=Math.trunc(N[4].getX()),v=Math.trunc(N[4].getY()))}return g}static findVertices(l,h,g){const v=l.getHeight(),_=l.getWidth(),b=new Array(8);return Bn.copyToResult(b,Bn.findRowsWithPattern(l,v,_,h,g,Bn.START_PATTERN),Bn.INDEXES_START_PATTERN),b[4]!=null&&(g=Math.trunc(b[4].getX()),h=Math.trunc(b[4].getY())),Bn.copyToResult(b,Bn.findRowsWithPattern(l,v,_,h,g,Bn.STOP_PATTERN),Bn.INDEXES_STOP_PATTERN),b}static copyToResult(l,h,g){for(let v=0;v<g.length;v++)l[g[v]]=h[v]}static findRowsWithPattern(l,h,g,v,_,b){const N=new Array(4);let k=!1;const z=new Int32Array(b.length);for(;v<h;v+=Bn.ROW_STEP){let fe=Bn.findGuardPattern(l,_,v,g,!1,b,z);if(fe!=null){for(;v>0;){const _e=Bn.findGuardPattern(l,_,--v,g,!1,b,z);if(_e!=null)fe=_e;else{v++;break}}N[0]=new Xe(fe[0],v),N[1]=new Xe(fe[1],v),k=!0;break}}let ee=v+1;if(k){let fe=0,_e=Int32Array.from([Math.trunc(N[0].getX()),Math.trunc(N[1].getX())]);for(;ee<h;ee++){const Pe=Bn.findGuardPattern(l,_e[0],ee,g,!1,b,z);if(Pe!=null&&Math.abs(_e[0]-Pe[0])<Bn.MAX_PATTERN_DRIFT&&Math.abs(_e[1]-Pe[1])<Bn.MAX_PATTERN_DRIFT)_e=Pe,fe=0;else{if(fe>Bn.SKIPPED_ROW_COUNT_MAX)break;fe++}}ee-=fe+1,N[2]=new Xe(_e[0],ee),N[3]=new Xe(_e[1],ee)}return ee-v<Bn.BARCODE_MIN_HEIGHT&&W.fill(N,null),N}static findGuardPattern(l,h,g,v,_,b,N){W.fillWithin(N,0,N.length,0);let k=h,z=0;for(;l.get(k,g)&&k>0&&z++<Bn.MAX_PIXEL_DRIFT;)k--;let ee=k,fe=0,_e=b.length;for(let Pe=_;ee<v;ee++)if(l.get(ee,g)!==Pe)N[fe]++;else{if(fe===_e-1){if(Bn.patternMatchVariance(N,b,Bn.MAX_INDIVIDUAL_VARIANCE)<Bn.MAX_AVG_VARIANCE)return new Int32Array([k,ee]);k+=N[0]+N[1],C.arraycopy(N,2,N,0,fe-1),N[fe-1]=0,N[fe]=0,fe--}else fe++;N[fe]=1,Pe=!Pe}return fe===_e-1&&Bn.patternMatchVariance(N,b,Bn.MAX_INDIVIDUAL_VARIANCE)<Bn.MAX_AVG_VARIANCE?new Int32Array([k,ee-1]):null}static patternMatchVariance(l,h,g){let v=l.length,_=0,b=0;for(let z=0;z<v;z++)_+=l[z],b+=h[z];if(_<b)return 1/0;let N=_/b;g*=N;let k=0;for(let z=0;z<v;z++){let ee=l[z],fe=h[z]*N,_e=ee>fe?ee-fe:fe-ee;if(_e>g)return 1/0;k+=_e}return k/_}}Bn.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Bn.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Bn.MAX_AVG_VARIANCE=.42,Bn.MAX_INDIVIDUAL_VARIANCE=.8,Bn.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Bn.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Bn.MAX_PIXEL_DRIFT=3,Bn.MAX_PATTERN_DRIFT=5,Bn.SKIPPED_ROW_COUNT_MAX=25,Bn.ROW_STEP=5,Bn.BARCODE_MIN_HEIGHT=10;class Nr{constructor(l,h){if(h.length===0)throw new w;this.field=l;let g=h.length;if(g>1&&h[0]===0){let v=1;for(;v<g&&h[v]===0;)v++;v===g?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(g-v),C.arraycopy(h,v,this.coefficients,0,this.coefficients.length))}else this.coefficients=h}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(l){return this.coefficients[this.coefficients.length-1-l]}evaluateAt(l){if(l===0)return this.getCoefficient(0);if(l===1){let v=0;for(let _ of this.coefficients)v=this.field.add(v,_);return v}let h=this.coefficients[0],g=this.coefficients.length;for(let v=1;v<g;v++)h=this.field.add(this.field.multiply(l,h),this.coefficients[v]);return h}add(l){if(!this.field.equals(l.field))throw new w("ModulusPolys do not have same ModulusGF field");if(this.isZero())return l;if(l.isZero())return this;let h=this.coefficients,g=l.coefficients;if(h.length>g.length){let b=h;h=g,g=b}let v=new Int32Array(g.length),_=g.length-h.length;C.arraycopy(g,0,v,0,_);for(let b=_;b<g.length;b++)v[b]=this.field.add(h[b-_],g[b]);return new Nr(this.field,v)}subtract(l){if(!this.field.equals(l.field))throw new w("ModulusPolys do not have same ModulusGF field");return l.isZero()?this:this.add(l.negative())}multiply(l){return l instanceof Nr?this.multiplyOther(l):this.multiplyScalar(l)}multiplyOther(l){if(!this.field.equals(l.field))throw new w("ModulusPolys do not have same ModulusGF field");if(this.isZero()||l.isZero())return new Nr(this.field,new Int32Array([0]));let h=this.coefficients,g=h.length,v=l.coefficients,_=v.length,b=new Int32Array(g+_-1);for(let N=0;N<g;N++){let k=h[N];for(let z=0;z<_;z++)b[N+z]=this.field.add(b[N+z],this.field.multiply(k,v[z]))}return new Nr(this.field,b)}negative(){let l=this.coefficients.length,h=new Int32Array(l);for(let g=0;g<l;g++)h[g]=this.field.subtract(0,this.coefficients[g]);return new Nr(this.field,h)}multiplyScalar(l){if(l===0)return new Nr(this.field,new Int32Array([0]));if(l===1)return this;let h=this.coefficients.length,g=new Int32Array(h);for(let v=0;v<h;v++)g[v]=this.field.multiply(this.coefficients[v],l);return new Nr(this.field,g)}multiplyByMonomial(l,h){if(l<0)throw new w;if(h===0)return new Nr(this.field,new Int32Array([0]));let g=this.coefficients.length,v=new Int32Array(g+l);for(let _=0;_<g;_++)v[_]=this.field.multiply(this.coefficients[_],h);return new Nr(this.field,v)}toString(){let l=new X;for(let h=this.getDegree();h>=0;h--){let g=this.getCoefficient(h);g!==0&&(g<0?(l.append(" - "),g=-g):l.length()>0&&l.append(" + "),(h===0||g!==1)&&l.append(g),h!==0&&(h===1?l.append("x"):(l.append("x^"),l.append(h))))}return l.toString()}}class vl{add(l,h){return(l+h)%this.modulus}subtract(l,h){return(this.modulus+l-h)%this.modulus}exp(l){return this.expTable[l]}log(l){if(l===0)throw new w;return this.logTable[l]}inverse(l){if(l===0)throw new St;return this.expTable[this.modulus-this.logTable[l]-1]}multiply(l,h){return l===0||h===0?0:this.expTable[(this.logTable[l]+this.logTable[h])%(this.modulus-1)]}getSize(){return this.modulus}equals(l){return l===this}}class Fr extends vl{constructor(l,h){super(),this.modulus=l,this.expTable=new Int32Array(l),this.logTable=new Int32Array(l);let g=1;for(let v=0;v<l;v++)this.expTable[v]=g,g=g*h%l;for(let v=0;v<l-1;v++)this.logTable[this.expTable[v]]=v;this.zero=new Nr(this,new Int32Array([0])),this.one=new Nr(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(l,h){if(l<0)throw new w;if(h===0)return this.zero;let g=new Int32Array(l+1);return g[0]=h,new Nr(this,g)}}Fr.PDF417_GF=new Fr(Vn.NUMBER_OF_CODEWORDS,3);class na{constructor(){this.field=Fr.PDF417_GF}decode(l,h,g){let v=new Nr(this.field,l),_=new Int32Array(h),b=!1;for(let qe=h;qe>0;qe--){let Ye=v.evaluateAt(this.field.exp(qe));_[h-qe]=Ye,Ye!==0&&(b=!0)}if(!b)return 0;let N=this.field.getOne();if(g!=null)for(const qe of g){let Ye=this.field.exp(l.length-1-qe),nt=new Nr(this.field,new Int32Array([this.field.subtract(0,Ye),1]));N=N.multiply(nt)}let k=new Nr(this.field,_),z=this.runEuclideanAlgorithm(this.field.buildMonomial(h,1),k,h),ee=z[0],fe=z[1],_e=this.findErrorLocations(ee),Pe=this.findErrorMagnitudes(fe,ee,_e);for(let qe=0;qe<_e.length;qe++){let Ye=l.length-1-this.field.log(_e[qe]);if(Ye<0)throw E.getChecksumInstance();l[Ye]=this.field.subtract(l[Ye],Pe[qe])}return _e.length}runEuclideanAlgorithm(l,h,g){if(l.getDegree()<h.getDegree()){let _e=l;l=h,h=_e}let v=l,_=h,b=this.field.getZero(),N=this.field.getOne();for(;_.getDegree()>=Math.round(g/2);){let _e=v,Pe=b;if(v=_,b=N,v.isZero())throw E.getChecksumInstance();_=_e;let qe=this.field.getZero(),Ye=v.getCoefficient(v.getDegree()),nt=this.field.inverse(Ye);for(;_.getDegree()>=v.getDegree()&&!_.isZero();){let yt=_.getDegree()-v.getDegree(),Bt=this.field.multiply(_.getCoefficient(_.getDegree()),nt);qe=qe.add(this.field.buildMonomial(yt,Bt)),_=_.subtract(v.multiplyByMonomial(yt,Bt))}N=qe.multiply(b).subtract(Pe).negative()}let k=N.getCoefficient(0);if(k===0)throw E.getChecksumInstance();let z=this.field.inverse(k),ee=N.multiply(z),fe=_.multiply(z);return[ee,fe]}findErrorLocations(l){let h=l.getDegree(),g=new Int32Array(h),v=0;for(let _=1;_<this.field.getSize()&&v<h;_++)l.evaluateAt(_)===0&&(g[v]=this.field.inverse(_),v++);if(v!==h)throw E.getChecksumInstance();return g}findErrorMagnitudes(l,h,g){let v=h.getDegree(),_=new Int32Array(v);for(let z=1;z<=v;z++)_[v-z]=this.field.multiply(z,h.getCoefficient(z));let b=new Nr(this.field,_),N=g.length,k=new Int32Array(N);for(let z=0;z<N;z++){let ee=this.field.inverse(g[z]),fe=this.field.subtract(0,l.evaluateAt(ee)),_e=this.field.inverse(b.evaluateAt(ee));k[z]=this.field.multiply(fe,_e)}return k}}class xa{constructor(l,h,g,v,_){l instanceof xa?this.constructor_2(l):this.constructor_1(l,h,g,v,_)}constructor_1(l,h,g,v,_){const b=h==null||g==null,N=v==null||_==null;if(b&&N)throw new pe;b?(h=new Xe(0,v.getY()),g=new Xe(0,_.getY())):N&&(v=new Xe(l.getWidth()-1,h.getY()),_=new Xe(l.getWidth()-1,g.getY())),this.image=l,this.topLeft=h,this.bottomLeft=g,this.topRight=v,this.bottomRight=_,this.minX=Math.trunc(Math.min(h.getX(),g.getX())),this.maxX=Math.trunc(Math.max(v.getX(),_.getX())),this.minY=Math.trunc(Math.min(h.getY(),v.getY())),this.maxY=Math.trunc(Math.max(g.getY(),_.getY()))}constructor_2(l){this.image=l.image,this.topLeft=l.getTopLeft(),this.bottomLeft=l.getBottomLeft(),this.topRight=l.getTopRight(),this.bottomRight=l.getBottomRight(),this.minX=l.getMinX(),this.maxX=l.getMaxX(),this.minY=l.getMinY(),this.maxY=l.getMaxY()}static merge(l,h){return l==null?h:h==null?l:new xa(l.image,l.topLeft,l.bottomLeft,h.topRight,h.bottomRight)}addMissingRows(l,h,g){let v=this.topLeft,_=this.bottomLeft,b=this.topRight,N=this.bottomRight;if(l>0){let k=g?this.topLeft:this.topRight,z=Math.trunc(k.getY()-l);z<0&&(z=0);let ee=new Xe(k.getX(),z);g?v=ee:b=ee}if(h>0){let k=g?this.bottomLeft:this.bottomRight,z=Math.trunc(k.getY()+h);z>=this.image.getHeight()&&(z=this.image.getHeight()-1);let ee=new Xe(k.getX(),z);g?_=ee:N=ee}return new xa(this.image,v,_,b,N)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class eo{constructor(l,h,g,v){this.columnCount=l,this.errorCorrectionLevel=v,this.rowCountUpperPart=h,this.rowCountLowerPart=g,this.rowCount=h+g}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Po{constructor(){this.buffer=""}static form(l,h){let g=-1;function v(b,N,k,z,ee,fe){if(b==="%%")return"%";if(h[++g]===void 0)return;b=z?parseInt(z.substr(1)):void 0;let _e=ee?parseInt(ee.substr(1)):void 0,Pe;switch(fe){case"s":Pe=h[g];break;case"c":Pe=h[g][0];break;case"f":Pe=parseFloat(h[g]).toFixed(b);break;case"p":Pe=parseFloat(h[g]).toPrecision(b);break;case"e":Pe=parseFloat(h[g]).toExponential(b);break;case"x":Pe=parseInt(h[g]).toString(_e||16);break;case"d":Pe=parseFloat(parseInt(h[g],_e||10).toPrecision(b)).toFixed(0);break}Pe=typeof Pe=="object"?JSON.stringify(Pe):(+Pe).toString(_e);let qe=parseInt(k),Ye=k&&k[0]+""=="0"?"0":" ";for(;Pe.length<qe;)Pe=N!==void 0?Pe+Ye:Ye+Pe;return Pe}let _=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return l.replace(_,v)}format(l,...h){this.buffer+=Po.form(l,h)}toString(){return this.buffer}}class ms{constructor(l){this.boundingBox=new xa(l),this.codewords=new Array(l.getMaxY()-l.getMinY()+1)}getCodewordNearby(l){let h=this.getCodeword(l);if(h!=null)return h;for(let g=1;g<ms.MAX_NEARBY_DISTANCE;g++){let v=this.imageRowToCodewordIndex(l)-g;if(v>=0&&(h=this.codewords[v],h!=null)||(v=this.imageRowToCodewordIndex(l)+g,v<this.codewords.length&&(h=this.codewords[v],h!=null)))return h}return null}imageRowToCodewordIndex(l){return l-this.boundingBox.getMinY()}setCodeword(l,h){this.codewords[this.imageRowToCodewordIndex(l)]=h}getCodeword(l){return this.codewords[this.imageRowToCodewordIndex(l)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const l=new Po;let h=0;for(const g of this.codewords){if(g==null){l.format("%3d:    |   %n",h++);continue}l.format("%3d: %3d|%3d%n",h++,g.getRowNumber(),g.getValue())}return l.toString()}}ms.MAX_NEARBY_DISTANCE=5;class va{constructor(){this.values=new Map}setValue(l){l=Math.trunc(l);let h=this.values.get(l);h==null&&(h=0),h++,this.values.set(l,h)}getValue(){let l=-1,h=new Array;for(const[g,v]of this.values.entries()){const _={getKey:()=>g,getValue:()=>v};_.getValue()>l?(l=_.getValue(),h=[],h.push(_.getKey())):_.getValue()===l&&h.push(_.getKey())}return Vn.toIntArray(h)}getConfidence(l){return this.values.get(l)}}class ra extends ms{constructor(l,h){super(l),this._isLeft=h}setRowNumbers(){for(let l of this.getCodewords())l?.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(l){let h=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(h,l);let g=this.getBoundingBox(),v=this._isLeft?g.getTopLeft():g.getTopRight(),_=this._isLeft?g.getBottomLeft():g.getBottomRight(),b=this.imageRowToCodewordIndex(Math.trunc(v.getY())),N=this.imageRowToCodewordIndex(Math.trunc(_.getY())),k=-1,z=1,ee=0;for(let fe=b;fe<N;fe++){if(h[fe]==null)continue;let _e=h[fe],Pe=_e.getRowNumber()-k;if(Pe===0)ee++;else if(Pe===1)z=Math.max(z,ee),ee=1,k=_e.getRowNumber();else if(Pe<0||_e.getRowNumber()>=l.getRowCount()||Pe>fe)h[fe]=null;else{let qe;z>2?qe=(z-2)*Pe:qe=Pe;let Ye=qe>=fe;for(let nt=1;nt<=qe&&!Ye;nt++)Ye=h[fe-nt]!=null;Ye?h[fe]=null:(k=_e.getRowNumber(),ee=1)}}}getRowHeights(){let l=this.getBarcodeMetadata();if(l==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(l);let h=new Int32Array(l.getRowCount());for(let g of this.getCodewords())if(g!=null){let v=g.getRowNumber();if(v>=h.length)continue;h[v]++}return h}adjustIncompleteIndicatorColumnRowNumbers(l){let h=this.getBoundingBox(),g=this._isLeft?h.getTopLeft():h.getTopRight(),v=this._isLeft?h.getBottomLeft():h.getBottomRight(),_=this.imageRowToCodewordIndex(Math.trunc(g.getY())),b=this.imageRowToCodewordIndex(Math.trunc(v.getY())),N=this.getCodewords(),k=-1;for(let z=_;z<b;z++){if(N[z]==null)continue;let ee=N[z];ee.setRowNumberAsRowIndicatorColumn();let fe=ee.getRowNumber()-k;fe===0||(fe===1?k=ee.getRowNumber():ee.getRowNumber()>=l.getRowCount()?N[z]=null:k=ee.getRowNumber())}}getBarcodeMetadata(){let l=this.getCodewords(),h=new va,g=new va,v=new va,_=new va;for(let N of l){if(N==null)continue;N.setRowNumberAsRowIndicatorColumn();let k=N.getValue()%30,z=N.getRowNumber();switch(this._isLeft||(z+=2),z%3){case 0:g.setValue(k*3+1);break;case 1:_.setValue(k/3),v.setValue(k%3);break;case 2:h.setValue(k+1);break}}if(h.getValue().length===0||g.getValue().length===0||v.getValue().length===0||_.getValue().length===0||h.getValue()[0]<1||g.getValue()[0]+v.getValue()[0]<Vn.MIN_ROWS_IN_BARCODE||g.getValue()[0]+v.getValue()[0]>Vn.MAX_ROWS_IN_BARCODE)return null;let b=new eo(h.getValue()[0],g.getValue()[0],v.getValue()[0],_.getValue()[0]);return this.removeIncorrectCodewords(l,b),b}removeIncorrectCodewords(l,h){for(let g=0;g<l.length;g++){let v=l[g];if(l[g]==null)continue;let _=v.getValue()%30,b=v.getRowNumber();if(b>h.getRowCount()){l[g]=null;continue}switch(this._isLeft||(b+=2),b%3){case 0:_*3+1!==h.getRowCountUpperPart()&&(l[g]=null);break;case 1:(Math.trunc(_/3)!==h.getErrorCorrectionLevel()||_%3!==h.getRowCountLowerPart())&&(l[g]=null);break;case 2:_+1!==h.getColumnCount()&&(l[g]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class xi{constructor(l,h){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=l,this.barcodeColumnCount=l.getColumnCount(),this.boundingBox=h,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let l=Vn.MAX_CODEWORDS_IN_BARCODE,h;do h=l,l=this.adjustRowNumbersAndGetCount();while(l>0&&l<h);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(l){l?.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let l=this.adjustRowNumbersByRow();if(l===0)return 0;for(let h=1;h<this.barcodeColumnCount+1;h++){let g=this.detectionResultColumns[h].getCodewords();for(let v=0;v<g.length;v++)g[v]!=null&&(g[v].hasValidRowNumber()||this.adjustRowNumbers(h,v,g))}return l}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let l=this.detectionResultColumns[0].getCodewords(),h=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let g=0;g<l.length;g++)if(l[g]!=null&&h[g]!=null&&l[g].getRowNumber()===h[g].getRowNumber())for(let v=1;v<=this.barcodeColumnCount;v++){let _=this.detectionResultColumns[v].getCodewords()[g];_!=null&&(_.setRowNumber(l[g].getRowNumber()),_.hasValidRowNumber()||(this.detectionResultColumns[v].getCodewords()[g]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let l=0,h=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let g=0;g<h.length;g++){if(h[g]==null)continue;let v=h[g].getRowNumber(),_=0;for(let b=this.barcodeColumnCount+1;b>0&&_<this.ADJUST_ROW_NUMBER_SKIP;b--){let N=this.detectionResultColumns[b].getCodewords()[g];N!=null&&(_=xi.adjustRowNumberIfValid(v,_,N),N.hasValidRowNumber()||l++)}}return l}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let l=0,h=this.detectionResultColumns[0].getCodewords();for(let g=0;g<h.length;g++){if(h[g]==null)continue;let v=h[g].getRowNumber(),_=0;for(let b=1;b<this.barcodeColumnCount+1&&_<this.ADJUST_ROW_NUMBER_SKIP;b++){let N=this.detectionResultColumns[b].getCodewords()[g];N!=null&&(_=xi.adjustRowNumberIfValid(v,_,N),N.hasValidRowNumber()||l++)}}return l}static adjustRowNumberIfValid(l,h,g){return g==null||g.hasValidRowNumber()||(g.isValidRowNumber(l)?(g.setRowNumber(l),h=0):++h),h}adjustRowNumbers(l,h,g){if(!this.detectionResultColumns[l-1])return;let v=g[h],_=this.detectionResultColumns[l-1].getCodewords(),b=_;this.detectionResultColumns[l+1]!=null&&(b=this.detectionResultColumns[l+1].getCodewords());let N=new Array(14);N[2]=_[h],N[3]=b[h],h>0&&(N[0]=g[h-1],N[4]=_[h-1],N[5]=b[h-1]),h>1&&(N[8]=g[h-2],N[10]=_[h-2],N[11]=b[h-2]),h<g.length-1&&(N[1]=g[h+1],N[6]=_[h+1],N[7]=b[h+1]),h<g.length-2&&(N[9]=g[h+2],N[12]=_[h+2],N[13]=b[h+2]);for(let k of N)if(xi.adjustRowNumber(v,k))return}static adjustRowNumber(l,h){return h==null?!1:h.hasValidRowNumber()&&h.getBucket()===l.getBucket()?(l.setRowNumber(h.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(l){this.boundingBox=l}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(l,h){this.detectionResultColumns[l]=h}getDetectionResultColumn(l){return this.detectionResultColumns[l]}toString(){let l=this.detectionResultColumns[0];l==null&&(l=this.detectionResultColumns[this.barcodeColumnCount+1]);let h=new Po;for(let g=0;g<l.getCodewords().length;g++){h.format("CW %3d:",g);for(let v=0;v<this.barcodeColumnCount+2;v++){if(this.detectionResultColumns[v]==null){h.format("    |   ");continue}let _=this.detectionResultColumns[v].getCodewords()[g];if(_==null){h.format("    |   ");continue}h.format(" %3d|%3d",_.getRowNumber(),_.getValue())}h.format("%n")}return h.toString()}}class ia{constructor(l,h,g,v){this.rowNumber=ia.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(l),this.endX=Math.trunc(h),this.bucket=Math.trunc(g),this.value=Math.trunc(v)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(l){return l!==ia.BARCODE_ROW_UNKNOWN&&this.bucket===l%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(l){this.rowNumber=l}toString(){return this.rowNumber+"|"+this.value}}ia.BARCODE_ROW_UNKNOWN=-1;class Wr{static initialize(){for(let l=0;l<Vn.SYMBOL_TABLE.length;l++){let h=Vn.SYMBOL_TABLE[l],g=h&1;for(let v=0;v<Vn.BARS_IN_MODULE;v++){let _=0;for(;(h&1)===g;)_+=1,h>>=1;g=h&1,Wr.RATIOS_TABLE[l]||(Wr.RATIOS_TABLE[l]=new Array(Vn.BARS_IN_MODULE)),Wr.RATIOS_TABLE[l][Vn.BARS_IN_MODULE-v-1]=Math.fround(_/Vn.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(l){let h=Wr.getDecodedCodewordValue(Wr.sampleBitCounts(l));return h!==-1?h:Wr.getClosestDecodedValue(l)}static sampleBitCounts(l){let h=tt.sum(l),g=new Int32Array(Vn.BARS_IN_MODULE),v=0,_=0;for(let b=0;b<Vn.MODULES_IN_CODEWORD;b++){let N=h/(2*Vn.MODULES_IN_CODEWORD)+b*h/Vn.MODULES_IN_CODEWORD;_+l[v]<=N&&(_+=l[v],v++),g[v]++}return g}static getDecodedCodewordValue(l){let h=Wr.getBitValue(l);return Vn.getCodeword(h)===-1?-1:h}static getBitValue(l){let h=0;for(let g=0;g<l.length;g++)for(let v=0;v<l[g];v++)h=h<<1|(g%2===0?1:0);return Math.trunc(h)}static getClosestDecodedValue(l){let h=tt.sum(l),g=new Array(Vn.BARS_IN_MODULE);if(h>1)for(let b=0;b<g.length;b++)g[b]=Math.fround(l[b]/h);let v=tn.MAX_VALUE,_=-1;this.bSymbolTableReady||Wr.initialize();for(let b=0;b<Wr.RATIOS_TABLE.length;b++){let N=0,k=Wr.RATIOS_TABLE[b];for(let z=0;z<Vn.BARS_IN_MODULE;z++){let ee=Math.fround(k[z]-g[z]);if(N+=Math.fround(ee*ee),N>=v)break}N<v&&(v=N,_=Vn.SYMBOL_TABLE[b])}return _}}Wr.bSymbolTableReady=!1,Wr.RATIOS_TABLE=new Array(Vn.SYMBOL_TABLE.length).map(he=>new Array(Vn.BARS_IN_MODULE));class to{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(l){this.segmentIndex=l}getFileId(){return this.fileId}setFileId(l){this.fileId=l}getOptionalData(){return this.optionalData}setOptionalData(l){this.optionalData=l}isLastSegment(){return this.lastSegment}setLastSegment(l){this.lastSegment=l}getSegmentCount(){return this.segmentCount}setSegmentCount(l){this.segmentCount=l}getSender(){return this.sender||null}setSender(l){this.sender=l}getAddressee(){return this.addressee||null}setAddressee(l){this.addressee=l}getFileName(){return this.fileName}setFileName(l){this.fileName=l}getFileSize(){return this.fileSize}setFileSize(l){this.fileSize=l}getChecksum(){return this.checksum}setChecksum(l){this.checksum=l}getTimestamp(){return this.timestamp}setTimestamp(l){this.timestamp=l}}class jo{static parseLong(l,h=void 0){return parseInt(l,h)}}class no extends d{}no.kind="NullPointerException";class vo{writeBytes(l){this.writeBytesOffset(l,0,l.length)}writeBytesOffset(l,h,g){if(l==null)throw new no;if(h<0||h>l.length||g<0||h+g>l.length||h+g<0)throw new L;if(g===0)return;for(let v=0;v<g;v++)this.write(l[h+v])}flush(){}close(){}}class Da extends d{}class _l extends vo{constructor(l=32){if(super(),this.count=0,l<0)throw new w("Negative initial size: "+l);this.buf=new Uint8Array(l)}ensureCapacity(l){l-this.buf.length>0&&this.grow(l)}grow(l){let g=this.buf.length<<1;if(g-l<0&&(g=l),g<0){if(l<0)throw new Da;g=M.MAX_VALUE}this.buf=W.copyOfUint8Array(this.buf,g)}write(l){this.ensureCapacity(this.count+1),this.buf[this.count]=l,this.count+=1}writeBytesOffset(l,h,g){if(h<0||h>l.length||g<0||h+g-l.length>0)throw new L;this.ensureCapacity(this.count+g),C.arraycopy(l,h,this.buf,this.count,g),this.count+=g}writeTo(l){l.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return W.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(l){return l?typeof l=="string"?this.toString_string(l):this.toString_number(l):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(l){return new String(this.buf).toString()}toString_number(l){return new String(this.buf).toString()}close(){}}var Or;(function(he){he[he.ALPHA=0]="ALPHA",he[he.LOWER=1]="LOWER",he[he.MIXED=2]="MIXED",he[he.PUNCT=3]="PUNCT",he[he.ALPHA_SHIFT=4]="ALPHA_SHIFT",he[he.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Or||(Or={}));function sa(){if(typeof window<"u")return window.BigInt||null;if(typeof kg<"u")return kg.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let _a;function La(he){if(typeof _a>"u"&&(_a=sa()),_a===null)throw new Error("BigInt is not supported!");return _a(he)}function ro(){let he=[];he[0]=La(1);let l=La(900);he[1]=l;for(let h=2;h<16;h++)he[h]=he[h-1]*l;return he}class bt{static decode(l,h){let g=new X(""),v=D.ISO8859_1;g.enableDecoding(v);let _=1,b=l[_++],N=new to;for(;_<l[0];){switch(b){case bt.TEXT_COMPACTION_MODE_LATCH:_=bt.textCompaction(l,_,g);break;case bt.BYTE_COMPACTION_MODE_LATCH:case bt.BYTE_COMPACTION_MODE_LATCH_6:_=bt.byteCompaction(b,l,v,_,g);break;case bt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:g.append(l[_++]);break;case bt.NUMERIC_COMPACTION_MODE_LATCH:_=bt.numericCompaction(l,_,g);break;case bt.ECI_CHARSET:D.getCharacterSetECIByValue(l[_++]);break;case bt.ECI_GENERAL_PURPOSE:_+=2;break;case bt.ECI_USER_DEFINED:_++;break;case bt.BEGIN_MACRO_PDF417_CONTROL_BLOCK:_=bt.decodeMacroBlock(l,_,N);break;case bt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case bt.MACRO_PDF417_TERMINATOR:throw new F;default:_--,_=bt.textCompaction(l,_,g);break}if(_<l.length)b=l[_++];else throw F.getFormatInstance()}if(g.length()===0)throw F.getFormatInstance();let k=new Fe(null,g.toString(),null,h);return k.setOther(N),k}static decodeMacroBlock(l,h,g){if(h+bt.NUMBER_OF_SEQUENCE_CODEWORDS>l[0])throw F.getFormatInstance();let v=new Int32Array(bt.NUMBER_OF_SEQUENCE_CODEWORDS);for(let N=0;N<bt.NUMBER_OF_SEQUENCE_CODEWORDS;N++,h++)v[N]=l[h];g.setSegmentIndex(M.parseInt(bt.decodeBase900toBase10(v,bt.NUMBER_OF_SEQUENCE_CODEWORDS)));let _=new X;h=bt.textCompaction(l,h,_),g.setFileId(_.toString());let b=-1;for(l[h]===bt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(b=h+1);h<l[0];)switch(l[h]){case bt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(h++,l[h]){case bt.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let N=new X;h=bt.textCompaction(l,h+1,N),g.setFileName(N.toString());break;case bt.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let k=new X;h=bt.textCompaction(l,h+1,k),g.setSender(k.toString());break;case bt.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let z=new X;h=bt.textCompaction(l,h+1,z),g.setAddressee(z.toString());break;case bt.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let ee=new X;h=bt.numericCompaction(l,h+1,ee),g.setSegmentCount(M.parseInt(ee.toString()));break;case bt.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let fe=new X;h=bt.numericCompaction(l,h+1,fe),g.setTimestamp(jo.parseLong(fe.toString()));break;case bt.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let _e=new X;h=bt.numericCompaction(l,h+1,_e),g.setChecksum(M.parseInt(_e.toString()));break;case bt.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let Pe=new X;h=bt.numericCompaction(l,h+1,Pe),g.setFileSize(jo.parseLong(Pe.toString()));break;default:throw F.getFormatInstance()}break;case bt.MACRO_PDF417_TERMINATOR:h++,g.setLastSegment(!0);break;default:throw F.getFormatInstance()}if(b!==-1){let N=h-b;g.isLastSegment()&&N--,g.setOptionalData(W.copyOfRange(l,b,b+N))}return h}static textCompaction(l,h,g){let v=new Int32Array((l[0]-h)*2),_=new Int32Array((l[0]-h)*2),b=0,N=!1;for(;h<l[0]&&!N;){let k=l[h++];if(k<bt.TEXT_COMPACTION_MODE_LATCH)v[b]=k/30,v[b+1]=k%30,b+=2;else switch(k){case bt.TEXT_COMPACTION_MODE_LATCH:v[b++]=bt.TEXT_COMPACTION_MODE_LATCH;break;case bt.BYTE_COMPACTION_MODE_LATCH:case bt.BYTE_COMPACTION_MODE_LATCH_6:case bt.NUMERIC_COMPACTION_MODE_LATCH:case bt.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case bt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case bt.MACRO_PDF417_TERMINATOR:h--,N=!0;break;case bt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:v[b]=bt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,k=l[h++],_[b]=k,b++;break}}return bt.decodeTextCompaction(v,_,b,g),h}static decodeTextCompaction(l,h,g,v){let _=Or.ALPHA,b=Or.ALPHA,N=0;for(;N<g;){let k=l[N],z="";switch(_){case Or.ALPHA:if(k<26)z=String.fromCharCode(65+k);else switch(k){case 26:z=" ";break;case bt.LL:_=Or.LOWER;break;case bt.ML:_=Or.MIXED;break;case bt.PS:b=_,_=Or.PUNCT_SHIFT;break;case bt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:v.append(h[N]);break;case bt.TEXT_COMPACTION_MODE_LATCH:_=Or.ALPHA;break}break;case Or.LOWER:if(k<26)z=String.fromCharCode(97+k);else switch(k){case 26:z=" ";break;case bt.AS:b=_,_=Or.ALPHA_SHIFT;break;case bt.ML:_=Or.MIXED;break;case bt.PS:b=_,_=Or.PUNCT_SHIFT;break;case bt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:v.append(h[N]);break;case bt.TEXT_COMPACTION_MODE_LATCH:_=Or.ALPHA;break}break;case Or.MIXED:if(k<bt.PL)z=bt.MIXED_CHARS[k];else switch(k){case bt.PL:_=Or.PUNCT;break;case 26:z=" ";break;case bt.LL:_=Or.LOWER;break;case bt.AL:_=Or.ALPHA;break;case bt.PS:b=_,_=Or.PUNCT_SHIFT;break;case bt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:v.append(h[N]);break;case bt.TEXT_COMPACTION_MODE_LATCH:_=Or.ALPHA;break}break;case Or.PUNCT:if(k<bt.PAL)z=bt.PUNCT_CHARS[k];else switch(k){case bt.PAL:_=Or.ALPHA;break;case bt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:v.append(h[N]);break;case bt.TEXT_COMPACTION_MODE_LATCH:_=Or.ALPHA;break}break;case Or.ALPHA_SHIFT:if(_=b,k<26)z=String.fromCharCode(65+k);else switch(k){case 26:z=" ";break;case bt.TEXT_COMPACTION_MODE_LATCH:_=Or.ALPHA;break}break;case Or.PUNCT_SHIFT:if(_=b,k<bt.PAL)z=bt.PUNCT_CHARS[k];else switch(k){case bt.PAL:_=Or.ALPHA;break;case bt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:v.append(h[N]);break;case bt.TEXT_COMPACTION_MODE_LATCH:_=Or.ALPHA;break}break}z!==""&&v.append(z),N++}}static byteCompaction(l,h,g,v,_){let b=new _l,N=0,k=0,z=!1;switch(l){case bt.BYTE_COMPACTION_MODE_LATCH:let ee=new Int32Array(6),fe=h[v++];for(;v<h[0]&&!z;)switch(ee[N++]=fe,k=900*k+fe,fe=h[v++],fe){case bt.TEXT_COMPACTION_MODE_LATCH:case bt.BYTE_COMPACTION_MODE_LATCH:case bt.NUMERIC_COMPACTION_MODE_LATCH:case bt.BYTE_COMPACTION_MODE_LATCH_6:case bt.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case bt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case bt.MACRO_PDF417_TERMINATOR:v--,z=!0;break;default:if(N%5===0&&N>0){for(let _e=0;_e<6;++_e)b.write(Number(La(k)>>La(8*(5-_e))));k=0,N=0}break}v===h[0]&&fe<bt.TEXT_COMPACTION_MODE_LATCH&&(ee[N++]=fe);for(let _e=0;_e<N;_e++)b.write(ee[_e]);break;case bt.BYTE_COMPACTION_MODE_LATCH_6:for(;v<h[0]&&!z;){let _e=h[v++];if(_e<bt.TEXT_COMPACTION_MODE_LATCH)N++,k=900*k+_e;else switch(_e){case bt.TEXT_COMPACTION_MODE_LATCH:case bt.BYTE_COMPACTION_MODE_LATCH:case bt.NUMERIC_COMPACTION_MODE_LATCH:case bt.BYTE_COMPACTION_MODE_LATCH_6:case bt.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case bt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case bt.MACRO_PDF417_TERMINATOR:v--,z=!0;break}if(N%5===0&&N>0){for(let Pe=0;Pe<6;++Pe)b.write(Number(La(k)>>La(8*(5-Pe))));k=0,N=0}}break}return _.append(U.decode(b.toByteArray(),g)),v}static numericCompaction(l,h,g){let v=0,_=!1,b=new Int32Array(bt.MAX_NUMERIC_CODEWORDS);for(;h<l[0]&&!_;){let N=l[h++];if(h===l[0]&&(_=!0),N<bt.TEXT_COMPACTION_MODE_LATCH)b[v]=N,v++;else switch(N){case bt.TEXT_COMPACTION_MODE_LATCH:case bt.BYTE_COMPACTION_MODE_LATCH:case bt.BYTE_COMPACTION_MODE_LATCH_6:case bt.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case bt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case bt.MACRO_PDF417_TERMINATOR:h--,_=!0;break}(v%bt.MAX_NUMERIC_CODEWORDS===0||N===bt.NUMERIC_COMPACTION_MODE_LATCH||_)&&v>0&&(g.append(bt.decodeBase900toBase10(b,v)),v=0)}return h}static decodeBase900toBase10(l,h){let g=La(0);for(let _=0;_<h;_++)g+=bt.EXP900[h-_-1]*La(l[_]);let v=g.toString();if(v.charAt(0)!=="1")throw new F;return v.substring(1)}}bt.TEXT_COMPACTION_MODE_LATCH=900,bt.BYTE_COMPACTION_MODE_LATCH=901,bt.NUMERIC_COMPACTION_MODE_LATCH=902,bt.BYTE_COMPACTION_MODE_LATCH_6=924,bt.ECI_USER_DEFINED=925,bt.ECI_GENERAL_PURPOSE=926,bt.ECI_CHARSET=927,bt.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,bt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,bt.MACRO_PDF417_TERMINATOR=922,bt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,bt.MAX_NUMERIC_CODEWORDS=15,bt.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,bt.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,bt.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,bt.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,bt.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,bt.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,bt.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,bt.PL=25,bt.LL=27,bt.AS=27,bt.ML=28,bt.AL=28,bt.PS=29,bt.PAL=29,bt.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,bt.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",bt.EXP900=sa()?ro():[],bt.NUMBER_OF_SEQUENCE_CODEWORDS=2;class V{constructor(){}static decode(l,h,g,v,_,b,N){let k=new xa(l,h,g,v,_),z=null,ee=null,fe;for(let qe=!0;;qe=!1){if(h!=null&&(z=V.getRowIndicatorColumn(l,k,h,!0,b,N)),v!=null&&(ee=V.getRowIndicatorColumn(l,k,v,!1,b,N)),fe=V.merge(z,ee),fe==null)throw pe.getNotFoundInstance();let Ye=fe.getBoundingBox();if(qe&&Ye!=null&&(Ye.getMinY()<k.getMinY()||Ye.getMaxY()>k.getMaxY()))k=Ye;else break}fe.setBoundingBox(k);let _e=fe.getBarcodeColumnCount()+1;fe.setDetectionResultColumn(0,z),fe.setDetectionResultColumn(_e,ee);let Pe=z!=null;for(let qe=1;qe<=_e;qe++){let Ye=Pe?qe:_e-qe;if(fe.getDetectionResultColumn(Ye)!==void 0)continue;let nt;Ye===0||Ye===_e?nt=new ra(k,Ye===0):nt=new ms(k),fe.setDetectionResultColumn(Ye,nt);let yt=-1,Bt=yt;for(let Ut=k.getMinY();Ut<=k.getMaxY();Ut++){if(yt=V.getStartColumn(fe,Ye,Ut,Pe),yt<0||yt>k.getMaxX()){if(Bt===-1)continue;yt=Bt}let jt=V.detectCodeword(l,k.getMinX(),k.getMaxX(),Pe,yt,Ut,b,N);jt!=null&&(nt.setCodeword(Ut,jt),Bt=yt,b=Math.min(b,jt.getWidth()),N=Math.max(N,jt.getWidth()))}}return V.createDecoderResult(fe)}static merge(l,h){if(l==null&&h==null)return null;let g=V.getBarcodeMetadata(l,h);if(g==null)return null;let v=xa.merge(V.adjustBoundingBox(l),V.adjustBoundingBox(h));return new xi(g,v)}static adjustBoundingBox(l){if(l==null)return null;let h=l.getRowHeights();if(h==null)return null;let g=V.getMax(h),v=0;for(let N of h)if(v+=g-N,N>0)break;let _=l.getCodewords();for(let N=0;v>0&&_[N]==null;N++)v--;let b=0;for(let N=h.length-1;N>=0&&(b+=g-h[N],!(h[N]>0));N--);for(let N=_.length-1;b>0&&_[N]==null;N--)b--;return l.getBoundingBox().addMissingRows(v,b,l.isLeft())}static getMax(l){let h=-1;for(let g of l)h=Math.max(h,g);return h}static getBarcodeMetadata(l,h){let g;if(l==null||(g=l.getBarcodeMetadata())==null)return h==null?null:h.getBarcodeMetadata();let v;return h==null||(v=h.getBarcodeMetadata())==null?g:g.getColumnCount()!==v.getColumnCount()&&g.getErrorCorrectionLevel()!==v.getErrorCorrectionLevel()&&g.getRowCount()!==v.getRowCount()?null:g}static getRowIndicatorColumn(l,h,g,v,_,b){let N=new ra(h,v);for(let k=0;k<2;k++){let z=k===0?1:-1,ee=Math.trunc(Math.trunc(g.getX()));for(let fe=Math.trunc(Math.trunc(g.getY()));fe<=h.getMaxY()&&fe>=h.getMinY();fe+=z){let _e=V.detectCodeword(l,0,l.getWidth(),v,ee,fe,_,b);_e!=null&&(N.setCodeword(fe,_e),v?ee=_e.getStartX():ee=_e.getEndX())}}return N}static adjustCodewordCount(l,h){let g=h[0][1],v=g.getValue(),_=l.getBarcodeColumnCount()*l.getBarcodeRowCount()-V.getNumberOfECCodeWords(l.getBarcodeECLevel());if(v.length===0){if(_<1||_>Vn.MAX_CODEWORDS_IN_BARCODE)throw pe.getNotFoundInstance();g.setValue(_)}else v[0]!==_&&g.setValue(_)}static createDecoderResult(l){let h=V.createBarcodeMatrix(l);V.adjustCodewordCount(l,h);let g=new Array,v=new Int32Array(l.getBarcodeRowCount()*l.getBarcodeColumnCount()),_=[],b=new Array;for(let k=0;k<l.getBarcodeRowCount();k++)for(let z=0;z<l.getBarcodeColumnCount();z++){let ee=h[k][z+1].getValue(),fe=k*l.getBarcodeColumnCount()+z;ee.length===0?g.push(fe):ee.length===1?v[fe]=ee[0]:(b.push(fe),_.push(ee))}let N=new Array(_.length);for(let k=0;k<N.length;k++)N[k]=_[k];return V.createDecoderResultFromAmbiguousValues(l.getBarcodeECLevel(),v,Vn.toIntArray(g),Vn.toIntArray(b),N)}static createDecoderResultFromAmbiguousValues(l,h,g,v,_){let b=new Int32Array(v.length),N=100;for(;N-- >0;){for(let k=0;k<b.length;k++)h[v[k]]=_[k][b[k]];try{return V.decodeCodewords(h,l,g)}catch(k){if(!(k instanceof E))throw k}if(b.length===0)throw E.getChecksumInstance();for(let k=0;k<b.length;k++)if(b[k]<_[k].length-1){b[k]++;break}else if(b[k]=0,k===b.length-1)throw E.getChecksumInstance()}throw E.getChecksumInstance()}static createBarcodeMatrix(l){let h=Array.from({length:l.getBarcodeRowCount()},()=>new Array(l.getBarcodeColumnCount()+2));for(let v=0;v<h.length;v++)for(let _=0;_<h[v].length;_++)h[v][_]=new va;let g=0;for(let v of l.getDetectionResultColumns()){if(v!=null){for(let _ of v.getCodewords())if(_!=null){let b=_.getRowNumber();if(b>=0){if(b>=h.length)continue;h[b][g].setValue(_.getValue())}}}g++}return h}static isValidBarcodeColumn(l,h){return h>=0&&h<=l.getBarcodeColumnCount()+1}static getStartColumn(l,h,g,v){let _=v?1:-1,b=null;if(V.isValidBarcodeColumn(l,h-_)&&(b=l.getDetectionResultColumn(h-_).getCodeword(g)),b!=null)return v?b.getEndX():b.getStartX();if(b=l.getDetectionResultColumn(h).getCodewordNearby(g),b!=null)return v?b.getStartX():b.getEndX();if(V.isValidBarcodeColumn(l,h-_)&&(b=l.getDetectionResultColumn(h-_).getCodewordNearby(g)),b!=null)return v?b.getEndX():b.getStartX();let N=0;for(;V.isValidBarcodeColumn(l,h-_);){h-=_;for(let k of l.getDetectionResultColumn(h).getCodewords())if(k!=null)return(v?k.getEndX():k.getStartX())+_*N*(k.getEndX()-k.getStartX());N++}return v?l.getBoundingBox().getMinX():l.getBoundingBox().getMaxX()}static detectCodeword(l,h,g,v,_,b,N,k){_=V.adjustCodewordStartColumn(l,h,g,v,_,b);let z=V.getModuleBitCount(l,h,g,v,_,b);if(z==null)return null;let ee,fe=tt.sum(z);if(v)ee=_+fe;else{for(let qe=0;qe<z.length/2;qe++){let Ye=z[qe];z[qe]=z[z.length-1-qe],z[z.length-1-qe]=Ye}ee=_,_=ee-fe}if(!V.checkCodewordSkew(fe,N,k))return null;let _e=Wr.getDecodedValue(z),Pe=Vn.getCodeword(_e);return Pe===-1?null:new ia(_,ee,V.getCodewordBucketNumber(_e),Pe)}static getModuleBitCount(l,h,g,v,_,b){let N=_,k=new Int32Array(8),z=0,ee=v?1:-1,fe=v;for(;(v?N<g:N>=h)&&z<k.length;)l.get(N,b)===fe?(k[z]++,N+=ee):(z++,fe=!fe);return z===k.length||N===(v?g:h)&&z===k.length-1?k:null}static getNumberOfECCodeWords(l){return 2<<l}static adjustCodewordStartColumn(l,h,g,v,_,b){let N=_,k=v?-1:1;for(let z=0;z<2;z++){for(;(v?N>=h:N<g)&&v===l.get(N,b);){if(Math.abs(_-N)>V.CODEWORD_SKEW_SIZE)return _;N+=k}k=-k,v=!v}return N}static checkCodewordSkew(l,h,g){return h-V.CODEWORD_SKEW_SIZE<=l&&l<=g+V.CODEWORD_SKEW_SIZE}static decodeCodewords(l,h,g){if(l.length===0)throw F.getFormatInstance();let v=1<<h+1,_=V.correctErrors(l,g,v);V.verifyCodewordCount(l,v);let b=bt.decode(l,""+h);return b.setErrorsCorrected(_),b.setErasures(g.length),b}static correctErrors(l,h,g){if(h!=null&&h.length>g/2+V.MAX_ERRORS||g<0||g>V.MAX_EC_CODEWORDS)throw E.getChecksumInstance();return V.errorCorrection.decode(l,g,h)}static verifyCodewordCount(l,h){if(l.length<4)throw F.getFormatInstance();let g=l[0];if(g>l.length)throw F.getFormatInstance();if(g===0)if(h<l.length)l[0]=l.length-h;else throw F.getFormatInstance()}static getBitCountForCodeword(l){let h=new Int32Array(8),g=0,v=h.length-1;for(;!((l&1)!==g&&(g=l&1,v--,v<0));)h[v]++,l>>=1;return h}static getCodewordBucketNumber(l){return l instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(l):this.getCodewordBucketNumber_number(l)}static getCodewordBucketNumber_number(l){return V.getCodewordBucketNumber(V.getBitCountForCodeword(l))}static getCodewordBucketNumber_Int32Array(l){return(l[0]-l[2]+l[4]-l[6]+9)%9}static toString(l){let h=new Po;for(let g=0;g<l.length;g++){h.format("Row %2d: ",g);for(let v=0;v<l[g].length;v++){let _=l[g][v];_.getValue().length===0?h.format("        ",null):h.format("%4d(%2d)",_.getValue()[0],_.getConfidence(_.getValue()[0]))}h.format("%n")}return h.toString()}}V.CODEWORD_SKEW_SIZE=2,V.MAX_ERRORS=3,V.MAX_EC_CODEWORDS=512,V.errorCorrection=new na;class ue{decode(l,h=null){let g=ue.decode(l,h,!1);if(g==null||g.length===0||g[0]==null)throw pe.getNotFoundInstance();return g[0]}decodeMultiple(l,h=null){try{return ue.decode(l,h,!0)}catch(g){throw g instanceof F||g instanceof E?pe.getNotFoundInstance():g}}static decode(l,h,g){const v=new Array,_=Bn.detectMultiple(l,h,g);for(const b of _.getPoints()){const N=V.decode(_.getBits(),b[4],b[5],b[6],b[7],ue.getMinCodewordWidth(b),ue.getMaxCodewordWidth(b)),k=new Q(N.getText(),N.getRawBytes(),void 0,b,de.PDF_417);k.putMetadata(Ve.ERROR_CORRECTION_LEVEL,N.getECLevel());const z=N.getOther();z!=null&&k.putMetadata(Ve.PDF417_EXTRA_METADATA,z),v.push(k)}return v.map(b=>b)}static getMaxWidth(l,h){return l==null||h==null?0:Math.trunc(Math.abs(l.getX()-h.getX()))}static getMinWidth(l,h){return l==null||h==null?M.MAX_VALUE:Math.trunc(Math.abs(l.getX()-h.getX()))}static getMaxCodewordWidth(l){return Math.floor(Math.max(Math.max(ue.getMaxWidth(l[0],l[4]),ue.getMaxWidth(l[6],l[2])*Vn.MODULES_IN_CODEWORD/Vn.MODULES_IN_STOP_PATTERN),Math.max(ue.getMaxWidth(l[1],l[5]),ue.getMaxWidth(l[7],l[3])*Vn.MODULES_IN_CODEWORD/Vn.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(l){return Math.floor(Math.min(Math.min(ue.getMinWidth(l[0],l[4]),ue.getMinWidth(l[6],l[2])*Vn.MODULES_IN_CODEWORD/Vn.MODULES_IN_STOP_PATTERN),Math.min(ue.getMinWidth(l[1],l[5]),ue.getMinWidth(l[7],l[3])*Vn.MODULES_IN_CODEWORD/Vn.MODULES_IN_STOP_PATTERN)))}reset(){}}class je extends d{}je.kind="ReaderException";class We{constructor(l,h){this.verbose=l===!0,h&&this.setHints(h)}decode(l,h){return h&&this.setHints(h),this.decodeInternal(l)}decodeWithState(l){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(l)}setHints(l){this.hints=l;const h=!r(l)&&l.get(re.TRY_HARDER)===!0,g=r(l)?null:l.get(re.POSSIBLE_FORMATS),v=new Array;if(!r(g)){const _=g.some(b=>b===de.UPC_A||b===de.UPC_E||b===de.EAN_13||b===de.EAN_8||b===de.CODABAR||b===de.CODE_39||b===de.CODE_93||b===de.CODE_128||b===de.ITF||b===de.RSS_14||b===de.RSS_EXPANDED);_&&!h&&v.push(new Ci(l,this.verbose)),g.includes(de.QR_CODE)&&v.push(new ta),g.includes(de.DATA_MATRIX)&&v.push(new Us),g.includes(de.AZTEC)&&v.push(new dn),g.includes(de.PDF_417)&&v.push(new ue),_&&h&&v.push(new Ci(l,this.verbose))}v.length===0&&(h||v.push(new Ci(l,this.verbose)),v.push(new ta),v.push(new Us),v.push(new dn),v.push(new ue),h&&v.push(new Ci(l,this.verbose))),this.readers=v}reset(){if(this.readers!==null)for(const l of this.readers)l.reset()}decodeInternal(l){if(this.readers===null)throw new je("No readers where selected, nothing can be read.");for(const h of this.readers)try{return h.decode(l,this.hints)}catch(g){if(g instanceof je)continue}throw new pe("No MultiFormat Readers were able to detect the code.")}}class et extends J{constructor(l=null,h=500){const g=new We;g.setHints(l),super(g,h)}decodeBitmap(l){return this.reader.decodeWithState(l)}}class Pt extends J{constructor(l=500){super(new ue,l)}}class Zt extends J{constructor(l=500){super(new ta,l)}}var Nn;(function(he){he[he.ERROR_CORRECTION=0]="ERROR_CORRECTION",he[he.CHARACTER_SET=1]="CHARACTER_SET",he[he.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",he[he.MIN_SIZE=3]="MIN_SIZE",he[he.MAX_SIZE=4]="MAX_SIZE",he[he.MARGIN=5]="MARGIN",he[he.PDF417_COMPACT=6]="PDF417_COMPACT",he[he.PDF417_COMPACTION=7]="PDF417_COMPACTION",he[he.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",he[he.AZTEC_LAYERS=9]="AZTEC_LAYERS",he[he.QR_VERSION=10]="QR_VERSION"})(Nn||(Nn={}));var vn=Nn;class qn{constructor(l){this.field=l,this.cachedGenerators=[],this.cachedGenerators.push(new Qe(l,Int32Array.from([1])))}buildGenerator(l){const h=this.cachedGenerators;if(l>=h.length){let g=h[h.length-1];const v=this.field;for(let _=h.length;_<=l;_++){const b=g.multiply(new Qe(v,Int32Array.from([1,v.exp(_-1+v.getGeneratorBase())])));h.push(b),g=b}}return h[l]}encode(l,h){if(h===0)throw new w("No error correction bytes");const g=l.length-h;if(g<=0)throw new w("No data bytes provided");const v=this.buildGenerator(h),_=new Int32Array(g);C.arraycopy(l,0,_,0,g);let b=new Qe(this.field,_);b=b.multiplyByMonomial(h,1);const k=b.divide(v)[1].getCoefficients(),z=h-k.length;for(let ee=0;ee<z;ee++)l[g+ee]=0;C.arraycopy(k,0,l,g+z,k.length)}}class wn{constructor(){}static applyMaskPenaltyRule1(l){return wn.applyMaskPenaltyRule1Internal(l,!0)+wn.applyMaskPenaltyRule1Internal(l,!1)}static applyMaskPenaltyRule2(l){let h=0;const g=l.getArray(),v=l.getWidth(),_=l.getHeight();for(let b=0;b<_-1;b++){const N=g[b];for(let k=0;k<v-1;k++){const z=N[k];z===N[k+1]&&z===g[b+1][k]&&z===g[b+1][k+1]&&h++}}return wn.N2*h}static applyMaskPenaltyRule3(l){let h=0;const g=l.getArray(),v=l.getWidth(),_=l.getHeight();for(let b=0;b<_;b++)for(let N=0;N<v;N++){const k=g[b];N+6<v&&k[N]===1&&k[N+1]===0&&k[N+2]===1&&k[N+3]===1&&k[N+4]===1&&k[N+5]===0&&k[N+6]===1&&(wn.isWhiteHorizontal(k,N-4,N)||wn.isWhiteHorizontal(k,N+7,N+11))&&h++,b+6<_&&g[b][N]===1&&g[b+1][N]===0&&g[b+2][N]===1&&g[b+3][N]===1&&g[b+4][N]===1&&g[b+5][N]===0&&g[b+6][N]===1&&(wn.isWhiteVertical(g,N,b-4,b)||wn.isWhiteVertical(g,N,b+7,b+11))&&h++}return h*wn.N3}static isWhiteHorizontal(l,h,g){h=Math.max(h,0),g=Math.min(g,l.length);for(let v=h;v<g;v++)if(l[v]===1)return!1;return!0}static isWhiteVertical(l,h,g,v){g=Math.max(g,0),v=Math.min(v,l.length);for(let _=g;_<v;_++)if(l[_][h]===1)return!1;return!0}static applyMaskPenaltyRule4(l){let h=0;const g=l.getArray(),v=l.getWidth(),_=l.getHeight();for(let k=0;k<_;k++){const z=g[k];for(let ee=0;ee<v;ee++)z[ee]===1&&h++}const b=l.getHeight()*l.getWidth();return Math.floor(Math.abs(h*2-b)*10/b)*wn.N4}static getDataMaskBit(l,h,g){let v,_;switch(l){case 0:v=g+h&1;break;case 1:v=g&1;break;case 2:v=h%3;break;case 3:v=(g+h)%3;break;case 4:v=Math.floor(g/2)+Math.floor(h/3)&1;break;case 5:_=g*h,v=(_&1)+_%3;break;case 6:_=g*h,v=(_&1)+_%3&1;break;case 7:_=g*h,v=_%3+(g+h&1)&1;break;default:throw new w("Invalid mask pattern: "+l)}return v===0}static applyMaskPenaltyRule1Internal(l,h){let g=0;const v=h?l.getHeight():l.getWidth(),_=h?l.getWidth():l.getHeight(),b=l.getArray();for(let N=0;N<v;N++){let k=0,z=-1;for(let ee=0;ee<_;ee++){const fe=h?b[N][ee]:b[ee][N];fe===z?k++:(k>=5&&(g+=wn.N1+(k-5)),k=1,z=fe)}k>=5&&(g+=wn.N1+(k-5))}return g}}wn.N1=3,wn.N2=3,wn.N3=40,wn.N4=10;class Ar{constructor(l,h){this.width=l,this.height=h;const g=new Array(h);for(let v=0;v!==h;v++)g[v]=new Uint8Array(l);this.bytes=g}getHeight(){return this.height}getWidth(){return this.width}get(l,h){return this.bytes[h][l]}getArray(){return this.bytes}setNumber(l,h,g){this.bytes[h][l]=g}setBoolean(l,h,g){this.bytes[h][l]=g?1:0}clear(l){for(const h of this.bytes)W.fill(h,l)}equals(l){if(!(l instanceof Ar))return!1;const h=l;if(this.width!==h.width||this.height!==h.height)return!1;for(let g=0,v=this.height;g<v;++g){const _=this.bytes[g],b=h.bytes[g];for(let N=0,k=this.width;N<k;++N)if(_[N]!==b[N])return!1}return!0}toString(){const l=new X;for(let h=0,g=this.height;h<g;++h){const v=this.bytes[h];for(let _=0,b=this.width;_<b;++_)switch(v[_]){case 0:l.append(" 0");break;case 1:l.append(" 1");break;default:l.append("  ");break}l.append(`
`)}return l.toString()}}class Br{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const l=new X;return l.append(`<<
`),l.append(" mode: "),l.append(this.mode?this.mode.toString():"null"),l.append(`
 ecLevel: `),l.append(this.ecLevel?this.ecLevel.toString():"null"),l.append(`
 version: `),l.append(this.version?this.version.toString():"null"),l.append(`
 maskPattern: `),l.append(this.maskPattern.toString()),this.matrix?(l.append(`
 matrix:
`),l.append(this.matrix.toString())):l.append(`
 matrix: null
`),l.append(`>>
`),l.toString()}setMode(l){this.mode=l}setECLevel(l){this.ecLevel=l}setVersion(l){this.version=l}setMaskPattern(l){this.maskPattern=l}setMatrix(l){this.matrix=l}static isValidMaskPattern(l){return l>=0&&l<Br.NUM_MASK_PATTERNS}}Br.NUM_MASK_PATTERNS=8;class Wn extends d{}Wn.kind="WriterException";class S{constructor(){}static clearMatrix(l){l.clear(255)}static buildMatrix(l,h,g,v,_){S.clearMatrix(_),S.embedBasicPatterns(g,_),S.embedTypeInfo(h,v,_),S.maybeEmbedVersionInfo(g,_),S.embedDataBits(l,v,_)}static embedBasicPatterns(l,h){S.embedPositionDetectionPatternsAndSeparators(h),S.embedDarkDotAtLeftBottomCorner(h),S.maybeEmbedPositionAdjustmentPatterns(l,h),S.embedTimingPatterns(h)}static embedTypeInfo(l,h,g){const v=new G;S.makeTypeInfoBits(l,h,v);for(let _=0,b=v.getSize();_<b;++_){const N=v.get(v.getSize()-1-_),k=S.TYPE_INFO_COORDINATES[_],z=k[0],ee=k[1];if(g.setBoolean(z,ee,N),_<8){const fe=g.getWidth()-_-1;g.setBoolean(fe,8,N)}else{const _e=g.getHeight()-7+(_-8);g.setBoolean(8,_e,N)}}}static maybeEmbedVersionInfo(l,h){if(l.getVersionNumber()<7)return;const g=new G;S.makeVersionInfoBits(l,g);let v=17;for(let _=0;_<6;++_)for(let b=0;b<3;++b){const N=g.get(v);v--,h.setBoolean(_,h.getHeight()-11+b,N),h.setBoolean(h.getHeight()-11+b,_,N)}}static embedDataBits(l,h,g){let v=0,_=-1,b=g.getWidth()-1,N=g.getHeight()-1;for(;b>0;){for(b===6&&(b-=1);N>=0&&N<g.getHeight();){for(let k=0;k<2;++k){const z=b-k;if(!S.isEmpty(g.get(z,N)))continue;let ee;v<l.getSize()?(ee=l.get(v),++v):ee=!1,h!==255&&wn.getDataMaskBit(h,z,N)&&(ee=!ee),g.setBoolean(z,N,ee)}N+=_}_=-_,N+=_,b-=2}if(v!==l.getSize())throw new Wn("Not all bits consumed: "+v+"/"+l.getSize())}static findMSBSet(l){return 32-M.numberOfLeadingZeros(l)}static calculateBCHCode(l,h){if(h===0)throw new w("0 polynomial");const g=S.findMSBSet(h);for(l<<=g-1;S.findMSBSet(l)>=g;)l^=h<<S.findMSBSet(l)-g;return l}static makeTypeInfoBits(l,h,g){if(!Br.isValidMaskPattern(h))throw new Wn("Invalid mask pattern");const v=l.getBits()<<3|h;g.appendBits(v,5);const _=S.calculateBCHCode(v,S.TYPE_INFO_POLY);g.appendBits(_,10);const b=new G;if(b.appendBits(S.TYPE_INFO_MASK_PATTERN,15),g.xor(b),g.getSize()!==15)throw new Wn("should not happen but we got: "+g.getSize())}static makeVersionInfoBits(l,h){h.appendBits(l.getVersionNumber(),6);const g=S.calculateBCHCode(l.getVersionNumber(),S.VERSION_INFO_POLY);if(h.appendBits(g,12),h.getSize()!==18)throw new Wn("should not happen but we got: "+h.getSize())}static isEmpty(l){return l===255}static embedTimingPatterns(l){for(let h=8;h<l.getWidth()-8;++h){const g=(h+1)%2;S.isEmpty(l.get(h,6))&&l.setNumber(h,6,g),S.isEmpty(l.get(6,h))&&l.setNumber(6,h,g)}}static embedDarkDotAtLeftBottomCorner(l){if(l.get(8,l.getHeight()-8)===0)throw new Wn;l.setNumber(8,l.getHeight()-8,1)}static embedHorizontalSeparationPattern(l,h,g){for(let v=0;v<8;++v){if(!S.isEmpty(g.get(l+v,h)))throw new Wn;g.setNumber(l+v,h,0)}}static embedVerticalSeparationPattern(l,h,g){for(let v=0;v<7;++v){if(!S.isEmpty(g.get(l,h+v)))throw new Wn;g.setNumber(l,h+v,0)}}static embedPositionAdjustmentPattern(l,h,g){for(let v=0;v<5;++v){const _=S.POSITION_ADJUSTMENT_PATTERN[v];for(let b=0;b<5;++b)g.setNumber(l+b,h+v,_[b])}}static embedPositionDetectionPattern(l,h,g){for(let v=0;v<7;++v){const _=S.POSITION_DETECTION_PATTERN[v];for(let b=0;b<7;++b)g.setNumber(l+b,h+v,_[b])}}static embedPositionDetectionPatternsAndSeparators(l){const h=S.POSITION_DETECTION_PATTERN[0].length;S.embedPositionDetectionPattern(0,0,l),S.embedPositionDetectionPattern(l.getWidth()-h,0,l),S.embedPositionDetectionPattern(0,l.getWidth()-h,l);const g=8;S.embedHorizontalSeparationPattern(0,g-1,l),S.embedHorizontalSeparationPattern(l.getWidth()-g,g-1,l),S.embedHorizontalSeparationPattern(0,l.getWidth()-g,l);const v=7;S.embedVerticalSeparationPattern(v,0,l),S.embedVerticalSeparationPattern(l.getHeight()-v-1,0,l),S.embedVerticalSeparationPattern(v,l.getHeight()-v,l)}static maybeEmbedPositionAdjustmentPatterns(l,h){if(l.getVersionNumber()<2)return;const g=l.getVersionNumber()-1,v=S.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[g];for(let _=0,b=v.length;_!==b;_++){const N=v[_];if(N>=0)for(let k=0;k!==b;k++){const z=v[k];z>=0&&S.isEmpty(h.get(z,N))&&S.embedPositionAdjustmentPattern(z-2,N-2,h)}}}}S.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),S.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),S.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),S.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),S.VERSION_INFO_POLY=7973,S.TYPE_INFO_POLY=1335,S.TYPE_INFO_MASK_PATTERN=21522;class K{constructor(l,h){this.dataBytes=l,this.errorCorrectionBytes=h}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class ie{constructor(){}static calculateMaskPenalty(l){return wn.applyMaskPenaltyRule1(l)+wn.applyMaskPenaltyRule2(l)+wn.applyMaskPenaltyRule3(l)+wn.applyMaskPenaltyRule4(l)}static encode(l,h,g=null){let v=ie.DEFAULT_BYTE_MODE_ENCODING;const _=g!==null&&g.get(vn.CHARACTER_SET)!==void 0;_&&(v=g.get(vn.CHARACTER_SET).toString());const b=this.chooseMode(l,v),N=new G;if(b===jn.BYTE&&(_||ie.DEFAULT_BYTE_MODE_ENCODING!==v)){const Ut=D.getCharacterSetECIByName(v);Ut!==void 0&&this.appendECI(Ut,N)}this.appendModeInfo(b,N);const k=new G;this.appendBytes(l,b,k,v);let z;if(g!==null&&g.get(vn.QR_VERSION)!==void 0){const Ut=Number.parseInt(g.get(vn.QR_VERSION).toString(),10);z=En.getVersionForNumber(Ut);const jt=this.calculateBitsNeeded(b,N,k,z);if(!this.willFit(jt,z,h))throw new Wn("Data too big for requested version")}else z=this.recommendVersion(h,b,N,k);const ee=new G;ee.appendBitArray(N);const fe=b===jn.BYTE?k.getSizeInBytes():l.length;this.appendLengthInfo(fe,z,b,ee),ee.appendBitArray(k);const _e=z.getECBlocksForLevel(h),Pe=z.getTotalCodewords()-_e.getTotalECCodewords();this.terminateBits(Pe,ee);const qe=this.interleaveWithECBytes(ee,z.getTotalCodewords(),Pe,_e.getNumBlocks()),Ye=new Br;Ye.setECLevel(h),Ye.setMode(b),Ye.setVersion(z);const nt=z.getDimensionForVersion(),yt=new Ar(nt,nt),Bt=this.chooseMaskPattern(qe,h,z,yt);return Ye.setMaskPattern(Bt),S.buildMatrix(qe,h,z,Bt,yt),Ye.setMatrix(yt),Ye}static recommendVersion(l,h,g,v){const _=this.calculateBitsNeeded(h,g,v,En.getVersionForNumber(1)),b=this.chooseVersion(_,l),N=this.calculateBitsNeeded(h,g,v,b);return this.chooseVersion(N,l)}static calculateBitsNeeded(l,h,g,v){return h.getSize()+l.getCharacterCountBits(v)+g.getSize()}static getAlphanumericCode(l){return l<ie.ALPHANUMERIC_TABLE.length?ie.ALPHANUMERIC_TABLE[l]:-1}static chooseMode(l,h=null){if(D.SJIS.getName()===h&&this.isOnlyDoubleByteKanji(l))return jn.KANJI;let g=!1,v=!1;for(let _=0,b=l.length;_<b;++_){const N=l.charAt(_);if(ie.isDigit(N))g=!0;else if(this.getAlphanumericCode(N.charCodeAt(0))!==-1)v=!0;else return jn.BYTE}return v?jn.ALPHANUMERIC:g?jn.NUMERIC:jn.BYTE}static isOnlyDoubleByteKanji(l){let h;try{h=U.encode(l,D.SJIS)}catch{return!1}const g=h.length;if(g%2!==0)return!1;for(let v=0;v<g;v+=2){const _=h[v]&255;if((_<129||_>159)&&(_<224||_>235))return!1}return!0}static chooseMaskPattern(l,h,g,v){let _=Number.MAX_SAFE_INTEGER,b=-1;for(let N=0;N<Br.NUM_MASK_PATTERNS;N++){S.buildMatrix(l,h,g,N,v);let k=this.calculateMaskPenalty(v);k<_&&(_=k,b=N)}return b}static chooseVersion(l,h){for(let g=1;g<=40;g++){const v=En.getVersionForNumber(g);if(ie.willFit(l,v,h))return v}throw new Wn("Data too big")}static willFit(l,h,g){const v=h.getTotalCodewords(),b=h.getECBlocksForLevel(g).getTotalECCodewords(),N=v-b,k=(l+7)/8;return N>=k}static terminateBits(l,h){const g=l*8;if(h.getSize()>g)throw new Wn("data bits cannot fit in the QR Code"+h.getSize()+" > "+g);for(let b=0;b<4&&h.getSize()<g;++b)h.appendBit(!1);const v=h.getSize()&7;if(v>0)for(let b=v;b<8;b++)h.appendBit(!1);const _=l-h.getSizeInBytes();for(let b=0;b<_;++b)h.appendBits((b&1)===0?236:17,8);if(h.getSize()!==g)throw new Wn("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(l,h,g,v,_,b){if(v>=g)throw new Wn("Block ID too large");const N=l%g,k=g-N,z=Math.floor(l/g),ee=z+1,fe=Math.floor(h/g),_e=fe+1,Pe=z-fe,qe=ee-_e;if(Pe!==qe)throw new Wn("EC bytes mismatch");if(g!==k+N)throw new Wn("RS blocks mismatch");if(l!==(fe+Pe)*k+(_e+qe)*N)throw new Wn("Total bytes mismatch");v<k?(_[0]=fe,b[0]=Pe):(_[0]=_e,b[0]=qe)}static interleaveWithECBytes(l,h,g,v){if(l.getSizeInBytes()!==g)throw new Wn("Number of bits and data bytes does not match");let _=0,b=0,N=0;const k=new Array;for(let ee=0;ee<v;++ee){const fe=new Int32Array(1),_e=new Int32Array(1);ie.getNumDataBytesAndNumECBytesForBlockID(h,g,v,ee,fe,_e);const Pe=fe[0],qe=new Uint8Array(Pe);l.toBytes(8*_,qe,0,Pe);const Ye=ie.generateECBytes(qe,_e[0]);k.push(new K(qe,Ye)),b=Math.max(b,Pe),N=Math.max(N,Ye.length),_+=fe[0]}if(g!==_)throw new Wn("Data bytes does not match offset");const z=new G;for(let ee=0;ee<b;++ee)for(const fe of k){const _e=fe.getDataBytes();ee<_e.length&&z.appendBits(_e[ee],8)}for(let ee=0;ee<N;++ee)for(const fe of k){const _e=fe.getErrorCorrectionBytes();ee<_e.length&&z.appendBits(_e[ee],8)}if(h!==z.getSizeInBytes())throw new Wn("Interleaving error: "+h+" and "+z.getSizeInBytes()+" differ.");return z}static generateECBytes(l,h){const g=l.length,v=new Int32Array(g+h);for(let b=0;b<g;b++)v[b]=l[b]&255;new qn(Tt.QR_CODE_FIELD_256).encode(v,h);const _=new Uint8Array(h);for(let b=0;b<h;b++)_[b]=v[g+b];return _}static appendModeInfo(l,h){h.appendBits(l.getBits(),4)}static appendLengthInfo(l,h,g,v){const _=g.getCharacterCountBits(h);if(l>=1<<_)throw new Wn(l+" is bigger than "+((1<<_)-1));v.appendBits(l,_)}static appendBytes(l,h,g,v){switch(h){case jn.NUMERIC:ie.appendNumericBytes(l,g);break;case jn.ALPHANUMERIC:ie.appendAlphanumericBytes(l,g);break;case jn.BYTE:ie.append8BitBytes(l,g,v);break;case jn.KANJI:ie.appendKanjiBytes(l,g);break;default:throw new Wn("Invalid mode: "+h)}}static getDigit(l){return l.charCodeAt(0)-48}static isDigit(l){const h=ie.getDigit(l);return h>=0&&h<=9}static appendNumericBytes(l,h){const g=l.length;let v=0;for(;v<g;){const _=ie.getDigit(l.charAt(v));if(v+2<g){const b=ie.getDigit(l.charAt(v+1)),N=ie.getDigit(l.charAt(v+2));h.appendBits(_*100+b*10+N,10),v+=3}else if(v+1<g){const b=ie.getDigit(l.charAt(v+1));h.appendBits(_*10+b,7),v+=2}else h.appendBits(_,4),v++}}static appendAlphanumericBytes(l,h){const g=l.length;let v=0;for(;v<g;){const _=ie.getAlphanumericCode(l.charCodeAt(v));if(_===-1)throw new Wn;if(v+1<g){const b=ie.getAlphanumericCode(l.charCodeAt(v+1));if(b===-1)throw new Wn;h.appendBits(_*45+b,11),v+=2}else h.appendBits(_,6),v++}}static append8BitBytes(l,h,g){let v;try{v=U.encode(l,g)}catch(_){throw new Wn(_)}for(let _=0,b=v.length;_!==b;_++){const N=v[_];h.appendBits(N,8)}}static appendKanjiBytes(l,h){let g;try{g=U.encode(l,D.SJIS)}catch(_){throw new Wn(_)}const v=g.length;for(let _=0;_<v;_+=2){const b=g[_]&255,N=g[_+1]&255,k=b<<8&4294967295|N;let z=-1;if(k>=33088&&k<=40956?z=k-33088:k>=57408&&k<=60351&&(z=k-49472),z===-1)throw new Wn("Invalid byte sequence");const ee=(z>>8)*192+(z&255);h.appendBits(ee,13)}}static appendECI(l,h){h.appendBits(jn.ECI.getBits(),4),h.appendBits(l.getValue(),8)}}ie.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),ie.DEFAULT_BYTE_MODE_ENCODING=D.UTF8.getName();class Se{write(l,h,g,v=null){if(l.length===0)throw new w("Found empty contents");if(h<0||g<0)throw new w("Requested dimensions are too small: "+h+"x"+g);let _=sr.L,b=Se.QUIET_ZONE_SIZE;v!==null&&(v.get(vn.ERROR_CORRECTION)!==void 0&&(_=sr.fromString(v.get(vn.ERROR_CORRECTION).toString())),v.get(vn.MARGIN)!==void 0&&(b=Number.parseInt(v.get(vn.MARGIN).toString(),10)));const N=ie.encode(l,_,v);return this.renderResult(N,h,g,b)}writeToDom(l,h,g,v,_=null){typeof l=="string"&&(l=document.querySelector(l));const b=this.write(h,g,v,_);l&&l.appendChild(b)}renderResult(l,h,g,v){const _=l.getMatrix();if(_===null)throw new le;const b=_.getWidth(),N=_.getHeight(),k=b+v*2,z=N+v*2,ee=Math.max(h,k),fe=Math.max(g,z),_e=Math.min(Math.floor(ee/k),Math.floor(fe/z)),Pe=Math.floor((ee-b*_e)/2),qe=Math.floor((fe-N*_e)/2),Ye=this.createSVGElement(ee,fe);for(let nt=0,yt=qe;nt<N;nt++,yt+=_e)for(let Bt=0,Ut=Pe;Bt<b;Bt++,Ut+=_e)if(_.get(Bt,nt)===1){const jt=this.createSvgRectElement(Ut,yt,_e,_e);Ye.appendChild(jt)}return Ye}createSVGElement(l,h){const g=document.createElementNS(Se.SVG_NS,"svg");return g.setAttributeNS(null,"height",l.toString()),g.setAttributeNS(null,"width",h.toString()),g}createSvgRectElement(l,h,g,v){const _=document.createElementNS(Se.SVG_NS,"rect");return _.setAttributeNS(null,"x",l.toString()),_.setAttributeNS(null,"y",h.toString()),_.setAttributeNS(null,"height",g.toString()),_.setAttributeNS(null,"width",v.toString()),_.setAttributeNS(null,"fill","#000000"),_}}Se.QUIET_ZONE_SIZE=4,Se.SVG_NS="http://www.w3.org/2000/svg";class it{encode(l,h,g,v,_){if(l.length===0)throw new w("Found empty contents");if(h!==de.QR_CODE)throw new w("Can only encode QR_CODE, but got "+h);if(g<0||v<0)throw new w(`Requested dimensions are too small: ${g}x${v}`);let b=sr.L,N=it.QUIET_ZONE_SIZE;_!==null&&(_.get(vn.ERROR_CORRECTION)!==void 0&&(b=sr.fromString(_.get(vn.ERROR_CORRECTION).toString())),_.get(vn.MARGIN)!==void 0&&(N=Number.parseInt(_.get(vn.MARGIN).toString(),10)));const k=ie.encode(l,b,_);return it.renderResult(k,g,v,N)}static renderResult(l,h,g,v){const _=l.getMatrix();if(_===null)throw new le;const b=_.getWidth(),N=_.getHeight(),k=b+v*2,z=N+v*2,ee=Math.max(h,k),fe=Math.max(g,z),_e=Math.min(Math.floor(ee/k),Math.floor(fe/z)),Pe=Math.floor((ee-b*_e)/2),qe=Math.floor((fe-N*_e)/2),Ye=new ne(ee,fe);for(let nt=0,yt=qe;nt<N;nt++,yt+=_e)for(let Bt=0,Ut=Pe;Bt<b;Bt++,Ut+=_e)_.get(Bt,nt)===1&&Ye.setRegion(Ut,yt,_e,_e);return Ye}}it.QUIET_ZONE_SIZE=4;class _t{encode(l,h,g,v,_){let b;switch(h){case de.QR_CODE:b=new it;break;default:throw new w("No encoder available for format "+h)}return b.encode(l,h,g,v,_)}}class sn extends Re{constructor(l,h,g,v,_,b,N,k){if(super(b,N),this.yuvData=l,this.dataWidth=h,this.dataHeight=g,this.left=v,this.top=_,v+b>h||_+N>g)throw new w("Crop rectangle does not fit within image data.");k&&this.reverseHorizontal(b,N)}getRow(l,h){if(l<0||l>=this.getHeight())throw new w("Requested row is outside the image: "+l);const g=this.getWidth();(h==null||h.length<g)&&(h=new Uint8ClampedArray(g));const v=(l+this.top)*this.dataWidth+this.left;return C.arraycopy(this.yuvData,v,h,0,g),h}getMatrix(){const l=this.getWidth(),h=this.getHeight();if(l===this.dataWidth&&h===this.dataHeight)return this.yuvData;const g=l*h,v=new Uint8ClampedArray(g);let _=this.top*this.dataWidth+this.left;if(l===this.dataWidth)return C.arraycopy(this.yuvData,_,v,0,g),v;for(let b=0;b<h;b++){const N=b*l;C.arraycopy(this.yuvData,_,v,N,l),_+=this.dataWidth}return v}isCropSupported(){return!0}crop(l,h,g,v){return new sn(this.yuvData,this.dataWidth,this.dataHeight,this.left+l,this.top+h,g,v,!1)}renderThumbnail(){const l=this.getWidth()/sn.THUMBNAIL_SCALE_FACTOR,h=this.getHeight()/sn.THUMBNAIL_SCALE_FACTOR,g=new Int32Array(l*h),v=this.yuvData;let _=this.top*this.dataWidth+this.left;for(let b=0;b<h;b++){const N=b*l;for(let k=0;k<l;k++){const z=v[_+k*sn.THUMBNAIL_SCALE_FACTOR]&255;g[N+k]=4278190080|z*65793}_+=this.dataWidth*sn.THUMBNAIL_SCALE_FACTOR}return g}getThumbnailWidth(){return this.getWidth()/sn.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/sn.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(l,h){const g=this.yuvData;for(let v=0,_=this.top*this.dataWidth+this.left;v<h;v++,_+=this.dataWidth){const b=_+l/2;for(let N=_,k=_+l-1;N<b;N++,k--){const z=g[N];g[N]=g[k],g[k]=z}}}invert(){return new He(this)}}sn.THUMBNAIL_SCALE_FACTOR=2;class rr extends Re{constructor(l,h,g,v,_,b,N){if(super(h,g),this.dataWidth=v,this.dataHeight=_,this.left=b,this.top=N,l.BYTES_PER_ELEMENT===4){const k=h*g,z=new Uint8ClampedArray(k);for(let ee=0;ee<k;ee++){const fe=l[ee],_e=fe>>16&255,Pe=fe>>7&510,qe=fe&255;z[ee]=(_e+Pe+qe)/4&255}this.luminances=z}else this.luminances=l;if(v===void 0&&(this.dataWidth=h),_===void 0&&(this.dataHeight=g),b===void 0&&(this.left=0),N===void 0&&(this.top=0),this.left+h>this.dataWidth||this.top+g>this.dataHeight)throw new w("Crop rectangle does not fit within image data.")}getRow(l,h){if(l<0||l>=this.getHeight())throw new w("Requested row is outside the image: "+l);const g=this.getWidth();(h==null||h.length<g)&&(h=new Uint8ClampedArray(g));const v=(l+this.top)*this.dataWidth+this.left;return C.arraycopy(this.luminances,v,h,0,g),h}getMatrix(){const l=this.getWidth(),h=this.getHeight();if(l===this.dataWidth&&h===this.dataHeight)return this.luminances;const g=l*h,v=new Uint8ClampedArray(g);let _=this.top*this.dataWidth+this.left;if(l===this.dataWidth)return C.arraycopy(this.luminances,_,v,0,g),v;for(let b=0;b<h;b++){const N=b*l;C.arraycopy(this.luminances,_,v,N,l),_+=this.dataWidth}return v}isCropSupported(){return!0}crop(l,h,g,v){return new rr(this.luminances,g,v,this.dataWidth,this.dataHeight,this.left+l,this.top+h)}invert(){return new He(this)}}class hi extends D{static forName(l){return this.getCharacterSetECIByName(l)}}class _r{}_r.ISO_8859_1=D.ISO8859_1;class Xr{isCompact(){return this.compact}setCompact(l){this.compact=l}getSize(){return this.size}setSize(l){this.size=l}getLayers(){return this.layers}setLayers(l){this.layers=l}getCodeWords(){return this.codeWords}setCodeWords(l){this.codeWords=l}getMatrix(){return this.matrix}setMatrix(l){this.matrix=l}}class gs{static singletonList(l){return[l]}static min(l,h){return l.sort(h)[0]}}class Vs{constructor(l){this.previous=l}getPrevious(){return this.previous}}class Ur extends Vs{constructor(l,h,g){super(l),this.value=h,this.bitCount=g}appendTo(l,h){l.appendBits(this.value,this.bitCount)}add(l,h){return new Ur(this,l,h)}addBinaryShift(l,h){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Ur(this,l,h)}toString(){let l=this.value&(1<<this.bitCount)-1;return l|=1<<this.bitCount,"<"+M.toBinaryString(l|1<<this.bitCount).substring(1)+">"}}class ps extends Ur{constructor(l,h,g){super(l,0,0),this.binaryShiftStart=h,this.binaryShiftByteCount=g}appendTo(l,h){for(let g=0;g<this.binaryShiftByteCount;g++)(g===0||g===31&&this.binaryShiftByteCount<=62)&&(l.appendBits(31,5),this.binaryShiftByteCount>62?l.appendBits(this.binaryShiftByteCount-31,16):g===0?l.appendBits(Math.min(this.binaryShiftByteCount,31),5):l.appendBits(this.binaryShiftByteCount-31,5)),l.appendBits(h[this.binaryShiftStart+g],8)}addBinaryShift(l,h){return new ps(this,l,h)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function io(he,l,h){return new ps(he,l,h)}function Ma(he,l,h){return new Ur(he,l,h)}const $o=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],qi=0,_o=1,zs=2,Tc=3,Gi=4,Fo=new Ur(null,0,0),Bo=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function uu(he){for(let l of he)W.fill(l,-1);return he[qi][Gi]=0,he[_o][Gi]=0,he[_o][qi]=28,he[Tc][Gi]=0,he[zs][Gi]=0,he[zs][qi]=15,he}const yo=uu(W.createInt32Array(6,6));class Hs{constructor(l,h,g,v){this.token=l,this.mode=h,this.binaryShiftByteCount=g,this.bitCount=v}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(l,h){let g=this.bitCount,v=this.token;if(l!==this.mode){let b=Bo[this.mode][l];v=Ma(v,b&65535,b>>16),g+=b>>16}let _=l===zs?4:5;return v=Ma(v,h,_),new Hs(v,l,0,g+_)}shiftAndAppend(l,h){let g=this.token,v=this.mode===zs?4:5;return g=Ma(g,yo[this.mode][l],v),g=Ma(g,h,5),new Hs(g,this.mode,0,this.bitCount+v+5)}addBinaryShiftChar(l){let h=this.token,g=this.mode,v=this.bitCount;if(this.mode===Gi||this.mode===zs){let N=Bo[g][qi];h=Ma(h,N&65535,N>>16),v+=N>>16,g=qi}let _=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,b=new Hs(h,g,this.binaryShiftByteCount+1,v+_);return b.binaryShiftByteCount===2078&&(b=b.endBinaryShift(l+1)),b}endBinaryShift(l){if(this.binaryShiftByteCount===0)return this;let h=this.token;return h=io(h,l-this.binaryShiftByteCount,this.binaryShiftByteCount),new Hs(h,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(l){let h=this.bitCount+(Bo[this.mode][l.mode]>>16);return this.binaryShiftByteCount<l.binaryShiftByteCount?h+=Hs.calculateBinaryShiftCost(l)-Hs.calculateBinaryShiftCost(this):this.binaryShiftByteCount>l.binaryShiftByteCount&&l.binaryShiftByteCount>0&&(h+=10),h<=l.bitCount}toBitArray(l){let h=[];for(let v=this.endBinaryShift(l.length).token;v!==null;v=v.getPrevious())h.unshift(v);let g=new G;for(const v of h)v.appendTo(g,l);return g}toString(){return H.format("%s bits=%d bytes=%d",$o[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(l){return l.binaryShiftByteCount>62?21:l.binaryShiftByteCount>31?20:l.binaryShiftByteCount>0?10:0}}Hs.INITIAL_STATE=new Hs(Fo,qi,0,0);function Pa(he){const l=H.getCharCode(" "),h=H.getCharCode("."),g=H.getCharCode(",");he[qi][l]=1;const v=H.getCharCode("Z"),_=H.getCharCode("A");for(let _e=_;_e<=v;_e++)he[qi][_e]=_e-_+2;he[_o][l]=1;const b=H.getCharCode("z"),N=H.getCharCode("a");for(let _e=N;_e<=b;_e++)he[_o][_e]=_e-N+2;he[zs][l]=1;const k=H.getCharCode("9"),z=H.getCharCode("0");for(let _e=z;_e<=k;_e++)he[zs][_e]=_e-z+2;he[zs][g]=12,he[zs][h]=13;const ee=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let _e=0;_e<ee.length;_e++)he[Tc][H.getCharCode(ee[_e])]=_e;const fe=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let _e=0;_e<fe.length;_e++)H.getCharCode(fe[_e])>0&&(he[Gi][H.getCharCode(fe[_e])]=_e);return he}const qs=Pa(W.createInt32Array(5,256));class ja{constructor(l){this.text=l}encode(){const l=H.getCharCode(" "),h=H.getCharCode(`
`);let g=gs.singletonList(Hs.INITIAL_STATE);for(let _=0;_<this.text.length;_++){let b,N=_+1<this.text.length?this.text[_+1]:0;switch(this.text[_]){case H.getCharCode("\r"):b=N===h?2:0;break;case H.getCharCode("."):b=N===l?3:0;break;case H.getCharCode(","):b=N===l?4:0;break;case H.getCharCode(":"):b=N===l?5:0;break;default:b=0}b>0?(g=ja.updateStateListForPair(g,_,b),_++):g=this.updateStateListForChar(g,_)}return gs.min(g,(_,b)=>_.getBitCount()-b.getBitCount()).toBitArray(this.text)}updateStateListForChar(l,h){const g=[];for(let v of l)this.updateStateForChar(v,h,g);return ja.simplifyStates(g)}updateStateForChar(l,h,g){let v=this.text[h]&255,_=qs[l.getMode()][v]>0,b=null;for(let N=0;N<=Gi;N++){let k=qs[N][v];if(k>0){if(b==null&&(b=l.endBinaryShift(h)),!_||N===l.getMode()||N===zs){const z=b.latchAndAppend(N,k);g.push(z)}if(!_&&yo[l.getMode()][N]>=0){const z=b.shiftAndAppend(N,k);g.push(z)}}}if(l.getBinaryShiftByteCount()>0||qs[l.getMode()][v]===0){let N=l.addBinaryShiftChar(h);g.push(N)}}static updateStateListForPair(l,h,g){const v=[];for(let _ of l)this.updateStateForPair(_,h,g,v);return this.simplifyStates(v)}static updateStateForPair(l,h,g,v){let _=l.endBinaryShift(h);if(v.push(_.latchAndAppend(Gi,g)),l.getMode()!==Gi&&v.push(_.shiftAndAppend(Gi,g)),g===3||g===4){let b=_.latchAndAppend(zs,16-g).latchAndAppend(zs,1);v.push(b)}if(l.getBinaryShiftByteCount()>0){let b=l.addBinaryShiftChar(h).addBinaryShiftChar(h+1);v.push(b)}}static simplifyStates(l){let h=[];for(const g of l){let v=!0;for(const _ of h){if(_.isBetterThanOrEqualTo(g)){v=!1;break}g.isBetterThanOrEqualTo(_)&&(h=h.filter(b=>b!==_))}v&&h.push(g)}return h}}class pr{constructor(){}static encodeBytes(l){return pr.encode(l,pr.DEFAULT_EC_PERCENT,pr.DEFAULT_AZTEC_LAYERS)}static encode(l,h,g){let v=new ja(l).encode(),_=M.truncDivision(v.getSize()*h,100)+11,b=v.getSize()+_,N,k,z,ee,fe;if(g!==pr.DEFAULT_AZTEC_LAYERS){if(N=g<0,k=Math.abs(g),k>(N?pr.MAX_NB_BITS_COMPACT:pr.MAX_NB_BITS))throw new w(H.format("Illegal value %s for layers",g));z=pr.totalBitsInLayer(k,N),ee=pr.WORD_SIZE[k];let jt=z-z%ee;if(fe=pr.stuffBits(v,ee),fe.getSize()+_>jt)throw new w("Data to large for user specified layer");if(N&&fe.getSize()>ee*64)throw new w("Data to large for user specified layer")}else{ee=0,fe=null;for(let jt=0;;jt++){if(jt>pr.MAX_NB_BITS)throw new w("Data too large for an Aztec code");if(N=jt<=3,k=N?jt+1:jt,z=pr.totalBitsInLayer(k,N),b>z)continue;(fe==null||ee!==pr.WORD_SIZE[k])&&(ee=pr.WORD_SIZE[k],fe=pr.stuffBits(v,ee));let zn=z-z%ee;if(!(N&&fe.getSize()>ee*64)&&fe.getSize()+_<=zn)break}}let _e=pr.generateCheckWords(fe,z,ee),Pe=fe.getSize()/ee,qe=pr.generateModeMessage(N,k,Pe),Ye=(N?11:14)+k*4,nt=new Int32Array(Ye),yt;if(N){yt=Ye;for(let jt=0;jt<nt.length;jt++)nt[jt]=jt}else{yt=Ye+1+2*M.truncDivision(M.truncDivision(Ye,2)-1,15);let jt=M.truncDivision(Ye,2),zn=M.truncDivision(yt,2);for(let Jn=0;Jn<jt;Jn++){let ki=Jn+M.truncDivision(Jn,15);nt[jt-Jn-1]=zn-ki-1,nt[jt+Jn]=zn+ki+1}}let Bt=new ne(yt);for(let jt=0,zn=0;jt<k;jt++){let Jn=(k-jt)*4+(N?9:12);for(let ki=0;ki<Jn;ki++){let Gs=ki*2;for(let Ts=0;Ts<2;Ts++)_e.get(zn+Gs+Ts)&&Bt.set(nt[jt*2+Ts],nt[jt*2+ki]),_e.get(zn+Jn*2+Gs+Ts)&&Bt.set(nt[jt*2+ki],nt[Ye-1-jt*2-Ts]),_e.get(zn+Jn*4+Gs+Ts)&&Bt.set(nt[Ye-1-jt*2-Ts],nt[Ye-1-jt*2-ki]),_e.get(zn+Jn*6+Gs+Ts)&&Bt.set(nt[Ye-1-jt*2-ki],nt[jt*2+Ts])}zn+=Jn*8}if(pr.drawModeMessage(Bt,N,yt,qe),N)pr.drawBullsEye(Bt,M.truncDivision(yt,2),5);else{pr.drawBullsEye(Bt,M.truncDivision(yt,2),7);for(let jt=0,zn=0;jt<M.truncDivision(Ye,2)-1;jt+=15,zn+=16)for(let Jn=M.truncDivision(yt,2)&1;Jn<yt;Jn+=2)Bt.set(M.truncDivision(yt,2)-zn,Jn),Bt.set(M.truncDivision(yt,2)+zn,Jn),Bt.set(Jn,M.truncDivision(yt,2)-zn),Bt.set(Jn,M.truncDivision(yt,2)+zn)}let Ut=new Xr;return Ut.setCompact(N),Ut.setSize(yt),Ut.setLayers(k),Ut.setCodeWords(Pe),Ut.setMatrix(Bt),Ut}static drawBullsEye(l,h,g){for(let v=0;v<g;v+=2)for(let _=h-v;_<=h+v;_++)l.set(_,h-v),l.set(_,h+v),l.set(h-v,_),l.set(h+v,_);l.set(h-g,h-g),l.set(h-g+1,h-g),l.set(h-g,h-g+1),l.set(h+g,h-g),l.set(h+g,h-g+1),l.set(h+g,h+g-1)}static generateModeMessage(l,h,g){let v=new G;return l?(v.appendBits(h-1,2),v.appendBits(g-1,6),v=pr.generateCheckWords(v,28,4)):(v.appendBits(h-1,5),v.appendBits(g-1,11),v=pr.generateCheckWords(v,40,4)),v}static drawModeMessage(l,h,g,v){let _=M.truncDivision(g,2);if(h)for(let b=0;b<7;b++){let N=_-3+b;v.get(b)&&l.set(N,_-5),v.get(b+7)&&l.set(_+5,N),v.get(20-b)&&l.set(N,_+5),v.get(27-b)&&l.set(_-5,N)}else for(let b=0;b<10;b++){let N=_-5+b+M.truncDivision(b,5);v.get(b)&&l.set(N,_-7),v.get(b+10)&&l.set(_+7,N),v.get(29-b)&&l.set(N,_+7),v.get(39-b)&&l.set(_-7,N)}}static generateCheckWords(l,h,g){let v=l.getSize()/g,_=new qn(pr.getGF(g)),b=M.truncDivision(h,g),N=pr.bitsToWords(l,g,b);_.encode(N,b-v);let k=h%g,z=new G;z.appendBits(0,k);for(const ee of Array.from(N))z.appendBits(ee,g);return z}static bitsToWords(l,h,g){let v=new Int32Array(g),_,b;for(_=0,b=l.getSize()/h;_<b;_++){let N=0;for(let k=0;k<h;k++)N|=l.get(_*h+k)?1<<h-k-1:0;v[_]=N}return v}static getGF(l){switch(l){case 4:return Tt.AZTEC_PARAM;case 6:return Tt.AZTEC_DATA_6;case 8:return Tt.AZTEC_DATA_8;case 10:return Tt.AZTEC_DATA_10;case 12:return Tt.AZTEC_DATA_12;default:throw new w("Unsupported word size "+l)}}static stuffBits(l,h){let g=new G,v=l.getSize(),_=(1<<h)-2;for(let b=0;b<v;b+=h){let N=0;for(let k=0;k<h;k++)(b+k>=v||l.get(b+k))&&(N|=1<<h-1-k);(N&_)===_?(g.appendBits(N&_,h),b--):(N&_)===0?(g.appendBits(N|1,h),b--):g.appendBits(N,h)}return g}static totalBitsInLayer(l,h){return((h?88:112)+16*l)*l}}pr.DEFAULT_EC_PERCENT=33,pr.DEFAULT_AZTEC_LAYERS=0,pr.MAX_NB_BITS=32,pr.MAX_NB_BITS_COMPACT=4,pr.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class wo{encode(l,h,g,v){return this.encodeWithHints(l,h,g,v,null)}encodeWithHints(l,h,g,v,_){let b=_r.ISO_8859_1,N=pr.DEFAULT_EC_PERCENT,k=pr.DEFAULT_AZTEC_LAYERS;return _!=null&&(_.has(vn.CHARACTER_SET)&&(b=hi.forName(_.get(vn.CHARACTER_SET).toString())),_.has(vn.ERROR_CORRECTION)&&(N=M.parseInt(_.get(vn.ERROR_CORRECTION).toString())),_.has(vn.AZTEC_LAYERS)&&(k=M.parseInt(_.get(vn.AZTEC_LAYERS).toString()))),wo.encodeLayers(l,h,g,v,b,N,k)}static encodeLayers(l,h,g,v,_,b,N){if(h!==de.AZTEC)throw new w("Can only encode AZTEC, but got "+h);let k=pr.encode(H.getBytes(l,_),b,N);return wo.renderResult(k,g,v)}static renderResult(l,h,g){let v=l.getMatrix();if(v==null)throw new le;let _=v.getWidth(),b=v.getHeight(),N=Math.max(h,_),k=Math.max(g,b),z=Math.min(N/_,k/b),ee=(N-_*z)/2,fe=(k-b*z)/2,_e=new ne(N,k);for(let Pe=0,qe=fe;Pe<b;Pe++,qe+=z)for(let Ye=0,nt=ee;Ye<_;Ye++,nt+=z)v.get(Ye,Pe)&&_e.setRegion(nt,qe,z,z);return _e}}t.AbstractExpandedDecoder=Ce,t.ArgumentException=x,t.ArithmeticException=St,t.AztecCode=Xr,t.AztecCodeReader=dn,t.AztecCodeWriter=wo,t.AztecDecoder=zt,t.AztecDetector=bn,t.AztecDetectorResult=fn,t.AztecEncoder=pr,t.AztecHighLevelEncoder=ja,t.AztecPoint=on,t.BarcodeFormat=de,t.Binarizer=I,t.BinaryBitmap=A,t.BitArray=G,t.BitMatrix=ne,t.BitSource=Ii,t.BrowserAztecCodeReader=nr,t.BrowserBarcodeReader=pa,t.BrowserCodeReader=J,t.BrowserDatamatrixCodeReader=$i,t.BrowserMultiFormatReader=et,t.BrowserPDF417Reader=Pt,t.BrowserQRCodeReader=Zt,t.BrowserQRCodeSvgWriter=Se,t.CharacterSetECI=D,t.ChecksumException=E,t.Code128Reader=dt,t.Code39Reader=Wt,t.DataMatrixDecodedBitStreamParser=Es,t.DataMatrixReader=Us,t.DecodeHintType=re,t.DecoderResult=Fe,t.DefaultGridSampler=hn,t.DetectorResult=Lt,t.EAN13Reader=mn,t.EncodeHintType=vn,t.Exception=d,t.FormatException=F,t.GenericGF=Tt,t.GenericGFPoly=Qe,t.GlobalHistogramBinarizer=Ae,t.GridSampler=Yt,t.GridSamplerInstance=xn,t.HTMLCanvasElementLuminanceSource=ze,t.HybridBinarizer=xe,t.ITFReader=It,t.IllegalArgumentException=w,t.IllegalStateException=le,t.InvertedLuminanceSource=He,t.LuminanceSource=Re,t.MathUtils=tt,t.MultiFormatOneDReader=Ci,t.MultiFormatReader=We,t.MultiFormatWriter=_t,t.NotFoundException=pe,t.OneDReader=an,t.PDF417DecodedBitStreamParser=bt,t.PDF417DecoderErrorCorrection=na,t.PDF417Reader=ue,t.PDF417ResultMetadata=to,t.PerspectiveTransform=rn,t.PlanarYUVLuminanceSource=sn,t.QRCodeByteMatrix=Ar,t.QRCodeDataMask=Hi,t.QRCodeDecodedBitStreamParser=Qr,t.QRCodeDecoderErrorCorrectionLevel=sr,t.QRCodeDecoderFormatInformation=Ri,t.QRCodeEncoder=ie,t.QRCodeEncoderQRCode=Br,t.QRCodeMaskUtil=wn,t.QRCodeMatrixUtil=S,t.QRCodeMode=jn,t.QRCodeReader=ta,t.QRCodeVersion=En,t.QRCodeWriter=it,t.RGBLuminanceSource=rr,t.RSS14Reader=Kn,t.RSSExpandedReader=Nt,t.ReaderException=je,t.ReedSolomonDecoder=ot,t.ReedSolomonEncoder=qn,t.ReedSolomonException=Rt,t.Result=Q,t.ResultMetadataType=Ve,t.ResultPoint=Xe,t.StringUtils=H,t.UnsupportedOperationException=Z,t.VideoInputDevice=ve,t.WhiteRectangleDetector=st,t.WriterException=Wn,t.ZXingArrays=W,t.ZXingCharset=hi,t.ZXingInteger=M,t.ZXingStandardCharsets=_r,t.ZXingStringBuilder=X,t.ZXingStringEncoding=U,t.ZXingSystem=C,t.createAbstractExpandedDecoder=wt,Object.defineProperty(t,"__esModule",{value:!0})}))})(M1,M1.exports)),M1.exports}var ns=Sre();const Tre=C2(ns),Nre=Ak({__proto__:null,default:Tre},[ns]);var L6=(function(){function n(e,t,r){if(this.formatMap=new Map([[kn.QR_CODE,ns.BarcodeFormat.QR_CODE],[kn.AZTEC,ns.BarcodeFormat.AZTEC],[kn.CODABAR,ns.BarcodeFormat.CODABAR],[kn.CODE_39,ns.BarcodeFormat.CODE_39],[kn.CODE_93,ns.BarcodeFormat.CODE_93],[kn.CODE_128,ns.BarcodeFormat.CODE_128],[kn.DATA_MATRIX,ns.BarcodeFormat.DATA_MATRIX],[kn.MAXICODE,ns.BarcodeFormat.MAXICODE],[kn.ITF,ns.BarcodeFormat.ITF],[kn.EAN_13,ns.BarcodeFormat.EAN_13],[kn.EAN_8,ns.BarcodeFormat.EAN_8],[kn.PDF_417,ns.BarcodeFormat.PDF_417],[kn.RSS_14,ns.BarcodeFormat.RSS_14],[kn.RSS_EXPANDED,ns.BarcodeFormat.RSS_EXPANDED],[kn.UPC_A,ns.BarcodeFormat.UPC_A],[kn.UPC_E,ns.BarcodeFormat.UPC_E],[kn.UPC_EAN_EXTENSION,ns.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!Nre)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=t,this.logger=r;var i=this.createZXingFormats(e),s=new Map;s.set(ns.DecodeHintType.POSSIBLE_FORMATS,i),s.set(ns.DecodeHintType.TRY_HARDER,!1),this.hints=s}return n.prototype.decodeAsync=function(e){var t=this;return new Promise(function(r,i){try{r(t.decode(e))}catch(s){i(s)}})},n.prototype.decode=function(e){var t=new ns.MultiFormatReader(this.verbose,this.hints),r=new ns.HTMLCanvasElementLuminanceSource(e),i=new ns.BinaryBitmap(new ns.HybridBinarizer(r)),s=t.decode(i);return{text:s.text,format:iO.create(this.toHtml5QrcodeSupportedFormats(s.format)),debugData:this.createDebugData()}},n.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(t,r,i){e.set(t,r)}),e},n.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},n.prototype.createZXingFormats=function(e){for(var t=[],r=0,i=e;r<i.length;r++){var s=i[r];this.formatMap.has(s)?t.push(this.formatMap.get(s)):this.logger.logError("".concat(s," is not supported by")+"ZXingHtml5QrcodeShim")}return t},n.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},n})(),Cre=function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function u(x){try{d(r.next(x))}catch(w){o(w)}}function f(x){try{d(r.throw(x))}catch(w){o(w)}}function d(x){x.done?s(x.value):i(x.value).then(u,f)}d((r=r.apply(n,e||[])).next())})},Ire=function(n,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(d){return function(x){return f([d,x])}}function f(d){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,d[0]&&(t=0)),t;)try{if(r=1,i&&(s=d[0]&2?i.return:d[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,d[1])).done)return s;switch(i=0,s&&(d=[d[0]&2,s.value]),d[0]){case 0:case 1:s=d;break;case 4:return t.label++,{value:d[1],done:!1};case 5:t.label++,i=d[1],d=[0];continue;case 7:d=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(d[0]===6||d[0]===2)){t=0;continue}if(d[0]===3&&(!s||d[1]>s[0]&&d[1]<s[3])){t.label=d[1];break}if(d[0]===6&&t.label<s[1]){t.label=s[1],s=d;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(d);break}s[2]&&t.ops.pop(),t.trys.pop();continue}d=e.call(n,t)}catch(x){d=[6,x],i=0}finally{r=s=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},M6=(function(){function n(e,t,r){if(this.formatMap=new Map([[kn.QR_CODE,"qr_code"],[kn.AZTEC,"aztec"],[kn.CODABAR,"codabar"],[kn.CODE_39,"code_39"],[kn.CODE_93,"code_93"],[kn.CODE_128,"code_128"],[kn.DATA_MATRIX,"data_matrix"],[kn.ITF,"itf"],[kn.EAN_13,"ean_13"],[kn.EAN_8,"ean_8"],[kn.PDF_417,"pdf417"],[kn.UPC_A,"upc_a"],[kn.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!n.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=t,this.logger=r;var i=this.createBarcodeDetectorFormats(e);if(this.detector=new BarcodeDetector(i),!this.detector)throw"BarcodeDetector detector not supported"}return n.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var e=new BarcodeDetector({formats:["qr_code"]});return typeof e<"u"},n.prototype.decodeAsync=function(e){return Cre(this,void 0,void 0,function(){var t,r;return Ire(this,function(i){switch(i.label){case 0:return[4,this.detector.detect(e)];case 1:if(t=i.sent(),!t||t.length===0)throw"No barcode or QR code detected.";return r=this.selectLargestBarcode(t),[2,{text:r.rawValue,format:iO.create(this.toHtml5QrcodeSupportedFormats(r.format)),debugData:this.createDebugData()}]}})})},n.prototype.selectLargestBarcode=function(e){for(var t=null,r=0,i=0,s=e;i<s.length;i++){var o=s[i],u=o.boundingBox.width*o.boundingBox.height;u>r&&(r=u,t=o)}if(!t)throw"No largest barcode found";return t},n.prototype.createBarcodeDetectorFormats=function(e){for(var t=[],r=0,i=e;r<i.length;r++){var s=i[r];this.formatMap.has(s)?t.push(this.formatMap.get(s)):this.logger.warn("".concat(s," is not supported by")+"BarcodeDetectorDelegate")}return{formats:t}},n.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},n.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(t,r,i){e.set(t,r)}),e},n.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},n})(),P6=function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function u(x){try{d(r.next(x))}catch(w){o(w)}}function f(x){try{d(r.throw(x))}catch(w){o(w)}}function d(x){x.done?s(x.value):i(x.value).then(u,f)}d((r=r.apply(n,e||[])).next())})},j6=function(n,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(d){return function(x){return f([d,x])}}function f(d){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,d[0]&&(t=0)),t;)try{if(r=1,i&&(s=d[0]&2?i.return:d[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,d[1])).done)return s;switch(i=0,s&&(d=[d[0]&2,s.value]),d[0]){case 0:case 1:s=d;break;case 4:return t.label++,{value:d[1],done:!1};case 5:t.label++,i=d[1],d=[0];continue;case 7:d=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(d[0]===6||d[0]===2)){t=0;continue}if(d[0]===3&&(!s||d[1]>s[0]&&d[1]<s[3])){t.label=d[1];break}if(d[0]===6&&t.label<s[1]){t.label=s[1],s=d;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(d);break}s[2]&&t.ops.pop(),t.trys.pop();continue}d=e.call(n,t)}catch(x){d=[6,x],i=0}finally{r=s=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},Rre=(function(){function n(e,t,r,i){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=r,t&&M6.isSupported()?(this.primaryDecoder=new M6(e,r,i),this.secondaryDecoder=new L6(e,r,i)):this.primaryDecoder=new L6(e,r,i)}return n.prototype.decodeAsync=function(e){return P6(this,void 0,void 0,function(){var t;return j6(this,function(r){switch(r.label){case 0:t=performance.now(),r.label=1;case 1:return r.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(e)];case 2:return[2,r.sent()];case 3:return this.possiblyLogPerformance(t),[7];case 4:return[2]}})})},n.prototype.decodeRobustlyAsync=function(e){return P6(this,void 0,void 0,function(){var t,r;return j6(this,function(i){switch(i.label){case 0:t=performance.now(),i.label=1;case 1:return i.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(e)];case 2:return[2,i.sent()];case 3:if(r=i.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(e)];throw r;case 4:return this.possiblyLogPerformance(t),[7];case 5:return[2]}})})},n.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},n.prototype.possiblyLogPerformance=function(e){if(this.verbose){var t=performance.now()-e;this.executionResults.push(t),this.executions++,this.possiblyFlushPerformanceReport()}},n.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var e=0,t=0,r=this.executionResults;t<r.length;t++){var i=r[t];e+=i}var s=e/this.executionResults.length;console.log("".concat(s," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},n})(),t3=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),S2=function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function u(x){try{d(r.next(x))}catch(w){o(w)}}function f(x){try{d(r.throw(x))}catch(w){o(w)}}function d(x){x.done?s(x.value):i(x.value).then(u,f)}d((r=r.apply(n,e||[])).next())})},T2=function(n,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(d){return function(x){return f([d,x])}}function f(d){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,d[0]&&(t=0)),t;)try{if(r=1,i&&(s=d[0]&2?i.return:d[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,d[1])).done)return s;switch(i=0,s&&(d=[d[0]&2,s.value]),d[0]){case 0:case 1:s=d;break;case 4:return t.label++,{value:d[1],done:!1};case 5:t.label++,i=d[1],d=[0];continue;case 7:d=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(d[0]===6||d[0]===2)){t=0;continue}if(d[0]===3&&(!s||d[1]>s[0]&&d[1]<s[3])){t.label=d[1];break}if(d[0]===6&&t.label<s[1]){t.label=s[1],s=d;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(d);break}s[2]&&t.ops.pop(),t.trys.pop();continue}d=e.call(n,t)}catch(x){d=[6,x],i=0}finally{r=s=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},aO=(function(){function n(e,t){this.name=e,this.track=t}return n.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},n.prototype.apply=function(e){var t={};t[this.name]=e;var r={advanced:[t]};return this.track.applyConstraints(r)},n.prototype.value=function(){var e=this.track.getSettings();if(this.name in e){var t=e[this.name];return t}return null},n})(),Ore=(function(n){t3(e,n);function e(t,r){return n.call(this,t,r)||this}return e.prototype.min=function(){return this.getCapabilities().min},e.prototype.max=function(){return this.getCapabilities().max},e.prototype.step=function(){return this.getCapabilities().step},e.prototype.apply=function(t){var r={};r[this.name]=t;var i={advanced:[r]};return this.track.applyConstraints(i)},e.prototype.getCapabilities=function(){this.failIfNotSupported();var t=this.track.getCapabilities(),r=t[this.name];return{min:r.min,max:r.max,step:r.step}},e.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},e})(aO),kre=(function(n){t3(e,n);function e(t){return n.call(this,"zoom",t)||this}return e})(Ore),Dre=(function(n){t3(e,n);function e(t){return n.call(this,"torch",t)||this}return e})(aO),Lre=(function(){function n(e){this.track=e}return n.prototype.zoomFeature=function(){return new kre(this.track)},n.prototype.torchFeature=function(){return new Dre(this.track)},n})(),Mre=(function(){function n(e,t,r){this.isClosed=!1,this.parentElement=e,this.mediaStream=t,this.callbacks=r,this.surface=this.createVideoElement(this.parentElement.clientWidth),e.append(this.surface)}return n.prototype.createVideoElement=function(e){var t=document.createElement("video");return t.style.width="".concat(e,"px"),t.style.display="block",t.muted=!0,t.setAttribute("muted","true"),t.playsInline=!0,t},n.prototype.setupSurface=function(){var e=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var t=function(){var r=e.surface.clientWidth,i=e.surface.clientHeight;e.callbacks.onRenderSurfaceReady(r,i),e.surface.removeEventListener("playing",t)};this.surface.addEventListener("playing",t),this.surface.srcObject=this.mediaStream,this.surface.play()},n.create=function(e,t,r,i){return S2(this,void 0,void 0,function(){var s,o;return T2(this,function(u){switch(u.label){case 0:return s=new n(e,t,i),r.aspectRatio?(o={aspectRatio:r.aspectRatio},[4,s.getFirstTrackOrFail().applyConstraints(o)]):[3,2];case 1:u.sent(),u.label=2;case 2:return s.setupSurface(),[2,s]}})})},n.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},n.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},n.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},n.prototype.resume=function(e){this.failIfClosed();var t=this,r=function(){setTimeout(e,200),t.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.play()},n.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},n.prototype.getSurface=function(){return this.failIfClosed(),this.surface},n.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},n.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},n.prototype.applyVideoConstraints=function(e){return S2(this,void 0,void 0,function(){return T2(this,function(t){if("aspectRatio"in e)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(e)]})})},n.prototype.close=function(){if(this.isClosed)return Promise.resolve();var e=this;return new Promise(function(t,r){var i=e.mediaStream.getVideoTracks(),s=i.length,o=0;e.mediaStream.getVideoTracks().forEach(function(u){e.mediaStream.removeTrack(u),u.stop(),++o,o>=s&&(e.isClosed=!0,e.parentElement.removeChild(e.surface),t())})})},n.prototype.getCapabilities=function(){return new Lre(this.getFirstTrackOrFail())},n})(),Pre=(function(){function n(e){this.mediaStream=e}return n.prototype.render=function(e,t,r){return S2(this,void 0,void 0,function(){return T2(this,function(i){return[2,Mre.create(e,this.mediaStream,t,r)]})})},n.create=function(e){return S2(this,void 0,void 0,function(){var t,r;return T2(this,function(i){switch(i.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return t={audio:!1,video:e},[4,navigator.mediaDevices.getUserMedia(t)];case 1:return r=i.sent(),[2,new n(r)]}})})},n})(),F6=function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function u(x){try{d(r.next(x))}catch(w){o(w)}}function f(x){try{d(r.throw(x))}catch(w){o(w)}}function d(x){x.done?s(x.value):i(x.value).then(u,f)}d((r=r.apply(n,e||[])).next())})},B6=function(n,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(d){return function(x){return f([d,x])}}function f(d){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,d[0]&&(t=0)),t;)try{if(r=1,i&&(s=d[0]&2?i.return:d[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,d[1])).done)return s;switch(i=0,s&&(d=[d[0]&2,s.value]),d[0]){case 0:case 1:s=d;break;case 4:return t.label++,{value:d[1],done:!1};case 5:t.label++,i=d[1],d=[0];continue;case 7:d=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(d[0]===6||d[0]===2)){t=0;continue}if(d[0]===3&&(!s||d[1]>s[0]&&d[1]<s[3])){t.label=d[1];break}if(d[0]===6&&t.label<s[1]){t.label=s[1],s=d;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(d);break}s[2]&&t.ops.pop(),t.trys.pop();continue}d=e.call(n,t)}catch(x){d=[6,x],i=0}finally{r=s=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},jre=(function(){function n(){}return n.failIfNotSupported=function(){return F6(this,void 0,void 0,function(){return B6(this,function(e){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new n]})})},n.prototype.create=function(e){return F6(this,void 0,void 0,function(){return B6(this,function(t){return[2,Pre.create(e)]})})},n})(),Fre=function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function u(x){try{d(r.next(x))}catch(w){o(w)}}function f(x){try{d(r.throw(x))}catch(w){o(w)}}function d(x){x.done?s(x.value):i(x.value).then(u,f)}d((r=r.apply(n,e||[])).next())})},Bre=function(n,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(d){return function(x){return f([d,x])}}function f(d){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,d[0]&&(t=0)),t;)try{if(r=1,i&&(s=d[0]&2?i.return:d[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,d[1])).done)return s;switch(i=0,s&&(d=[d[0]&2,s.value]),d[0]){case 0:case 1:s=d;break;case 4:return t.label++,{value:d[1],done:!1};case 5:t.label++,i=d[1],d=[0];continue;case 7:d=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(d[0]===6||d[0]===2)){t=0;continue}if(d[0]===3&&(!s||d[1]>s[0]&&d[1]<s[3])){t.label=d[1];break}if(d[0]===6&&t.label<s[1]){t.label=s[1],s=d;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(d);break}s[2]&&t.ops.pop(),t.trys.pop();continue}d=e.call(n,t)}catch(x){d=[6,x],i=0}finally{r=s=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},Ure=(function(){function n(){}return n.retrieve=function(){if(navigator.mediaDevices)return n.getCamerasFromMediaDevices();var e=MediaStreamTrack;return MediaStreamTrack&&e.getSources?n.getCamerasFromMediaStreamTrack():n.rejectWithError()},n.rejectWithError=function(){var e=n0.unableToQuerySupportedDevices();return n.isHttpsOrLocalhost()||(e=n0.insecureContextCameraQueryError()),Promise.reject(e)},n.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var e=location.host.split(":")[0];return e==="127.0.0.1"||e==="localhost"},n.getCamerasFromMediaDevices=function(){return Fre(this,void 0,void 0,function(){var e,t,r,i,s,o,u;return Bre(this,function(f){switch(f.label){case 0:return e=function(d){for(var x=d.getVideoTracks(),w=0,A=x;w<A.length;w++){var E=A[w];E.enabled=!1,E.stop(),d.removeTrack(E)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return t=f.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(r=f.sent(),i=[],s=0,o=r;s<o.length;s++)u=o[s],u.kind==="videoinput"&&i.push({id:u.deviceId,label:u.label});return e(t),[2,i]}})})},n.getCamerasFromMediaStreamTrack=function(){return new Promise(function(e,t){var r=function(s){for(var o=[],u=0,f=s;u<f.length;u++){var d=f[u];d.kind==="video"&&o.push({id:d.id,label:d.label})}e(o)},i=MediaStreamTrack;i.getSources(r)})},n})(),Ms;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.NOT_STARTED=1]="NOT_STARTED",n[n.SCANNING=2]="SCANNING",n[n.PAUSED=3]="PAUSED"})(Ms||(Ms={}));var Vre=(function(){function n(){this.state=Ms.NOT_STARTED,this.onGoingTransactionNewState=Ms.UNKNOWN}return n.prototype.directTransition=function(e){this.failIfTransitionOngoing(),this.validateTransition(e),this.state=e},n.prototype.startTransition=function(e){return this.failIfTransitionOngoing(),this.validateTransition(e),this.onGoingTransactionNewState=e,this},n.prototype.execute=function(){if(this.onGoingTransactionNewState===Ms.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var e=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Ms.UNKNOWN,this.directTransition(e)},n.prototype.cancel=function(){if(this.onGoingTransactionNewState===Ms.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Ms.UNKNOWN},n.prototype.getState=function(){return this.state},n.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Ms.UNKNOWN)throw"Cannot transition to a new state, already under transition"},n.prototype.validateTransition=function(e){switch(this.state){case Ms.UNKNOWN:throw"Transition from unknown is not allowed";case Ms.NOT_STARTED:this.failIfNewStateIs(e,[Ms.PAUSED]);break;case Ms.SCANNING:break;case Ms.PAUSED:break}},n.prototype.failIfNewStateIs=function(e,t){for(var r=0,i=t;r<i.length;r++){var s=i[r];if(e===s)throw"Cannot transition from ".concat(this.state," to ").concat(e)}},n})(),zre=(function(){function n(e){this.stateManager=e}return n.prototype.startTransition=function(e){return this.stateManager.startTransition(e)},n.prototype.directTransition=function(e){this.stateManager.directTransition(e)},n.prototype.getState=function(){return this.stateManager.getState()},n.prototype.canScanFile=function(){return this.stateManager.getState()===Ms.NOT_STARTED},n.prototype.isScanning=function(){return this.stateManager.getState()!==Ms.NOT_STARTED},n.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Ms.SCANNING},n.prototype.isPaused=function(){return this.stateManager.getState()===Ms.PAUSED},n})(),Hre=(function(){function n(){}return n.create=function(){return new zre(new Vre)},n})(),qre=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),Sl=(function(n){qre(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.DEFAULT_WIDTH=300,e.DEFAULT_WIDTH_OFFSET=2,e.FILE_SCAN_MIN_HEIGHT=300,e.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,e.MIN_QR_BOX_SIZE=50,e.SHADED_LEFT=1,e.SHADED_RIGHT=2,e.SHADED_TOP=3,e.SHADED_BOTTOM=4,e.SHADED_REGION_ELEMENT_ID="qr-shaded-region",e.VERBOSE=!1,e.BORDER_SHADER_DEFAULT_COLOR="#ffffff",e.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",e})(wre),Gre=(function(){function n(e,t){this.logger=t,this.fps=Sl.SCAN_DEFAULT_FPS,e?(e.fps&&(this.fps=e.fps),this.disableFlip=e.disableFlip===!0,this.qrbox=e.qrbox,this.aspectRatio=e.aspectRatio,this.videoConstraints=e.videoConstraints):this.disableFlip=Sl.DEFAULT_DISABLE_FLIP}return n.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?sO.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},n.prototype.isShadedBoxEnabled=function(){return!Iu(this.qrbox)},n.create=function(e,t){return new n(e,t)},n})(),N2=(function(){function n(e,t){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(e))throw"HTML Element with id=".concat(e," not found");this.elementId=e,this.verbose=!1;var r;typeof t=="boolean"?this.verbose=t===!0:t&&(r=t,this.verbose=r.verbose===!0,r.experimentalFeatures),this.logger=new Ere(this.verbose),this.qrcode=new Rre(this.getSupportedFormats(t),this.getUseBarCodeDetectorIfSupported(r),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=Hre.create()}return n.prototype.start=function(e,t,r,i){var s=this;if(!e)throw"cameraIdOrConfig is required";if(!r||typeof r!="function")throw"qrCodeSuccessCallback is required and should be a function.";var o;i?o=i:o=this.verbose?this.logger.log:function(){};var u=Gre.create(t,this.logger);this.clearElement();var f=!1;u.videoConstraints&&(u.isMediaStreamConstraintsValid()?f=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var d=f,x=document.getElementById(this.elementId);x.clientWidth?x.clientWidth:Sl.DEFAULT_WIDTH,x.style.position="relative",this.shouldScan=!0,this.element=x;var w=this,A=this.stateManagerProxy.startTransition(Ms.SCANNING);return new Promise(function(E,I){var C=d?u.videoConstraints:w.createVideoConstraints(e);if(!C){A.cancel(),I("videoConstraints should be defined");return}var L={};(!d||u.aspectRatio)&&(L.aspectRatio=u.aspectRatio);var j={onRenderSurfaceReady:function(W,M){w.setupUi(W,M,u),w.isScanning=!0,w.foreverScan(u,r,o)}};jre.failIfNotSupported().then(function(W){W.create(C).then(function(M){return M.render(s.element,L,j).then(function(G){w.renderedCamera=G,A.execute(),E(null)}).catch(function(G){A.cancel(),I(G)})}).catch(function(M){A.cancel(),I(n0.errorGettingUserMedia(M))})}).catch(function(W){A.cancel(),I(n0.cameraStreamingNotSupported())})})},n.prototype.pause=function(e){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Ms.PAUSED),this.showPausedState(),(Iu(e)||e!==!0)&&(e=!1),e&&this.renderedCamera&&this.renderedCamera.pause()},n.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var e=this,t=function(){e.stateManagerProxy.directTransition(Ms.SCANNING),e.hidePausedState()};if(!this.renderedCamera.isPaused()){t();return}this.renderedCamera.resume(function(){t()})},n.prototype.getState=function(){return this.stateManagerProxy.getState()},n.prototype.stop=function(){var e=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var t=this.stateManagerProxy.startTransition(Ms.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var r=function(){if(e.element){var s=document.getElementById(Sl.SHADED_REGION_ELEMENT_ID);s&&e.element.removeChild(s)}},i=this;return this.renderedCamera.close().then(function(){return i.renderedCamera=null,i.element&&(i.element.removeChild(i.canvasElement),i.canvasElement=null),r(),i.qrRegion&&(i.qrRegion=null),i.context&&(i.context=null),t.execute(),i.hidePausedState(),i.isScanning=!1,Promise.resolve()})},n.prototype.scanFile=function(e,t){return this.scanFileV2(e,t).then(function(r){return r.decodedText})},n.prototype.scanFileV2=function(e,t){var r=this;if(!e||!(e instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Iu(t)&&(t=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(i,s){r.possiblyCloseLastScanImageFile(),r.clearElement(),r.lastScanImageFile=URL.createObjectURL(e);var o=new Image;o.onload=function(){var u=o.width,f=o.height,d=document.getElementById(r.elementId),x=d.clientWidth?d.clientWidth:Sl.DEFAULT_WIDTH,w=Math.max(d.clientHeight?d.clientHeight:f,Sl.FILE_SCAN_MIN_HEIGHT),A=r.computeCanvasDrawConfig(u,f,x,w);if(t){var E=r.createCanvasElement(x,w,"qr-canvas-visible");E.style.display="inline-block",d.appendChild(E);var I=E.getContext("2d");if(!I)throw"Unable to get 2d context from canvas";I.canvas.width=x,I.canvas.height=w,I.drawImage(o,0,0,u,f,A.x,A.y,A.width,A.height)}var C=Sl.FILE_SCAN_HIDDEN_CANVAS_PADDING,L=Math.max(o.width,A.width),j=Math.max(o.height,A.height),W=L+2*C,M=j+2*C,G=r.createCanvasElement(W,M);d.appendChild(G);var ce=G.getContext("2d");if(!ce)throw"Unable to get 2d context from canvas";ce.canvas.width=W,ce.canvas.height=M,ce.drawImage(o,0,0,u,f,C,C,L,j);try{r.qrcode.decodeRobustlyAsync(G).then(function(re){i(k6.createFromQrcodeResult(re))}).catch(s)}catch(re){s("QR code parse error, error = ".concat(re))}},o.onerror=s,o.onabort=s,o.onstalled=s,o.onsuspend=s,o.src=URL.createObjectURL(e)})},n.prototype.clear=function(){this.clearElement()},n.getCameras=function(){return Ure.retrieve()},n.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},n.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},n.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},n.prototype.applyVideoConstraints=function(e){if(e){if(!sO.isMediaStreamConstraintsValid(e,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(e)},n.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},n.prototype.getSupportedFormats=function(e){var t=[kn.QR_CODE,kn.AZTEC,kn.CODABAR,kn.CODE_39,kn.CODE_93,kn.CODE_128,kn.DATA_MATRIX,kn.MAXICODE,kn.ITF,kn.EAN_13,kn.EAN_8,kn.PDF_417,kn.RSS_14,kn.RSS_EXPANDED,kn.UPC_A,kn.UPC_E,kn.UPC_EAN_EXTENSION];if(!e||typeof e=="boolean"||!e.formatsToSupport)return t;if(!Array.isArray(e.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(e.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var r=[],i=0,s=e.formatsToSupport;i<s.length;i++){var o=s[i];yre(o)?r.push(o):this.logger.warn("Invalid format: ".concat(o," passed in config, ignoring."))}if(r.length===0)throw"None of formatsToSupport match supported values.";return r},n.prototype.getUseBarCodeDetectorIfSupported=function(e){if(Iu(e))return!0;if(!Iu(e.useBarCodeDetectorIfSupported))return e.useBarCodeDetectorIfSupported!==!1;if(Iu(e.experimentalFeatures))return!0;var t=e.experimentalFeatures;return Iu(t.useBarCodeDetectorIfSupported)?!0:t.useBarCodeDetectorIfSupported!==!1},n.prototype.validateQrboxSize=function(e,t,r){var i=this,s=r.qrbox;this.validateQrboxConfig(s);var o=this.toQrdimensions(e,t,s),u=function(d){if(d<Sl.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(Sl.MIN_QR_BOX_SIZE,"px.")},f=function(d){return d>e&&(i.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),d=e),d};u(o.width),u(o.height),o.width=f(o.width)},n.prototype.validateQrboxConfig=function(e){if(typeof e!="number"&&typeof e!="function"&&(e.width===void 0||e.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},n.prototype.toQrdimensions=function(e,t,r){if(typeof r=="number")return{width:r,height:r};if(typeof r=="function")try{return r(e,t)}catch(i){throw new Error("qrbox config was passed as a function but it failed with unknown error"+i)}return r},n.prototype.setupUi=function(e,t,r){r.isShadedBoxEnabled()&&this.validateQrboxSize(e,t,r);var i=Iu(r.qrbox)?{width:e,height:t}:r.qrbox;this.validateQrboxConfig(i);var s=this.toQrdimensions(e,t,i);s.height>t&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var o=r.isShadedBoxEnabled()&&s.height<=t,u={x:0,y:0,width:e,height:t},f=o?this.getShadedRegionBounds(e,t,s):u,d=this.createCanvasElement(f.width,f.height),x={willReadFrequently:!0},w=d.getContext("2d",x);w.canvas.width=f.width,w.canvas.height=f.height,this.element.append(d),o&&this.possiblyInsertShadingElement(this.element,e,t,s),this.createScannerPausedUiElement(this.element),this.qrRegion=f,this.context=w,this.canvasElement=d},n.prototype.createScannerPausedUiElement=function(e){var t=document.createElement("div");t.innerText=n0.scannerPaused(),t.style.display="none",t.style.position="absolute",t.style.top="0px",t.style.zIndex="1",t.style.background="rgba(9, 9, 9, 0.46)",t.style.color="#FFECEC",t.style.textAlign="center",t.style.width="100%",e.appendChild(t),this.scannerPausedUiElement=t},n.prototype.scanContext=function(e,t){var r=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(i){return e(i.text,k6.createFromQrcodeResult(i)),r.possiblyUpdateShaders(!0),!0}).catch(function(i){r.possiblyUpdateShaders(!1);var s=n0.codeParseError(i);return t(s,bre.createFrom(s)),!1})},n.prototype.foreverScan=function(e,t,r){var i=this;if(this.shouldScan&&this.renderedCamera){var s=this.renderedCamera.getSurface(),o=s.videoWidth/s.clientWidth,u=s.videoHeight/s.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var f=this.qrRegion.width*o,d=this.qrRegion.height*u,x=this.qrRegion.x*o,w=this.qrRegion.y*u;this.context.drawImage(s,x,w,f,d,0,0,this.qrRegion.width,this.qrRegion.height);var A=function(){i.foreverScanTimeout=setTimeout(function(){i.foreverScan(e,t,r)},i.getTimeoutFps(e.fps))};this.scanContext(t,r).then(function(E){!E&&e.disableFlip!==!0?(i.context.translate(i.context.canvas.width,0),i.context.scale(-1,1),i.scanContext(t,r).finally(function(){A()})):A()}).catch(function(E){i.logger.logError("Error happend while scanning context",E),A()})}},n.prototype.createVideoConstraints=function(e){if(typeof e=="string")return{deviceId:{exact:e}};if(typeof e=="object"){var t="facingMode",r="deviceId",i={user:!0,environment:!0},s="exact",o=function(I){if(I in i)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(I,"'")},u=Object.keys(e);if(u.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(u.length," keys");var f=Object.keys(e)[0];if(f!==t&&f!==r)throw"Only '".concat(t,"' and '").concat(r,"' ")+" are supported for 'cameraIdOrConfig'";if(f===t){var d=e.facingMode;if(typeof d=="string"){if(o(d))return{facingMode:d}}else if(typeof d=="object")if(s in d){if(o(d["".concat(s)]))return{facingMode:{exact:d["".concat(s)]}}}else throw"'facingMode' should be string or object with"+" ".concat(s," as key.");else{var x=typeof d;throw"Invalid type of 'facingMode' = ".concat(x)}}else{var w=e.deviceId;if(typeof w=="string")return{deviceId:w};if(typeof w=="object"){if(s in w)return{deviceId:{exact:w["".concat(s)]}};throw"'deviceId' should be string or object with"+" ".concat(s," as key.")}else{var A=typeof w;throw"Invalid type of 'deviceId' = ".concat(A)}}}var E=typeof e;throw"Invalid type of 'cameraIdOrConfig' = ".concat(E)},n.prototype.computeCanvasDrawConfig=function(e,t,r,i){if(e<=r&&t<=i){var s=(r-e)/2,o=(i-t)/2;return{x:s,y:o,width:e,height:t}}else{var u=e,f=t;return e>r&&(t=r/e*t,e=r),t>i&&(e=i/t*e,t=i),this.logger.log("Image downsampled from "+"".concat(u,"X").concat(f)+" to ".concat(e,"X").concat(t,".")),this.computeCanvasDrawConfig(e,t,r,i)}},n.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var e=document.getElementById(this.elementId);e&&(e.innerHTML="")},n.prototype.possiblyUpdateShaders=function(e){this.qrMatch!==e&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(t){t.style.backgroundColor=e?Sl.BORDER_SHADER_MATCH_COLOR:Sl.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=e)},n.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},n.prototype.createCanvasElement=function(e,t,r){var i=e,s=t,o=document.createElement("canvas");return o.style.width="".concat(i,"px"),o.style.height="".concat(s,"px"),o.style.display="none",o.id=Iu(r)?"qr-canvas":r,o},n.prototype.getShadedRegionBounds=function(e,t,r){if(r.width>e||r.height>t)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(e-r.width)/2,y:(t-r.height)/2,width:r.width,height:r.height}},n.prototype.possiblyInsertShadingElement=function(e,t,r,i){if(!(t-i.width<1||r-i.height<1)){var s=document.createElement("div");s.style.position="absolute";var o=(t-i.width)/2,u=(r-i.height)/2;if(s.style.borderLeft="".concat(o,"px solid rgba(0, 0, 0, 0.48)"),s.style.borderRight="".concat(o,"px solid rgba(0, 0, 0, 0.48)"),s.style.borderTop="".concat(u,"px solid rgba(0, 0, 0, 0.48)"),s.style.borderBottom="".concat(u,"px solid rgba(0, 0, 0, 0.48)"),s.style.boxSizing="border-box",s.style.top="0px",s.style.bottom="0px",s.style.left="0px",s.style.right="0px",s.id="".concat(Sl.SHADED_REGION_ELEMENT_ID),t-i.width<11||r-i.height<11)this.hasBorderShaders=!1;else{var f=5,d=40;this.insertShaderBorders(s,d,f,-f,null,0,!0),this.insertShaderBorders(s,d,f,-f,null,0,!1),this.insertShaderBorders(s,d,f,null,-f,0,!0),this.insertShaderBorders(s,d,f,null,-f,0,!1),this.insertShaderBorders(s,f,d+f,-f,null,-f,!0),this.insertShaderBorders(s,f,d+f,null,-f,-f,!0),this.insertShaderBorders(s,f,d+f,-f,null,-f,!1),this.insertShaderBorders(s,f,d+f,null,-f,-f,!1),this.hasBorderShaders=!0}e.append(s)}},n.prototype.insertShaderBorders=function(e,t,r,i,s,o,u){var f=document.createElement("div");f.style.position="absolute",f.style.backgroundColor=Sl.BORDER_SHADER_DEFAULT_COLOR,f.style.width="".concat(t,"px"),f.style.height="".concat(r,"px"),i!==null&&(f.style.top="".concat(i,"px")),s!==null&&(f.style.bottom="".concat(s,"px")),u?f.style.left="".concat(o,"px"):f.style.right="".concat(o,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(f),e.appendChild(f)},n.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},n.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},n.prototype.getTimeoutFps=function(e){return 1e3/e},n})(),U6;(function(n){n[n.STATUS_DEFAULT=0]="STATUS_DEFAULT",n[n.STATUS_SUCCESS=1]="STATUS_SUCCESS",n[n.STATUS_WARNING=2]="STATUS_WARNING",n[n.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(U6||(U6={}));const iw=(n,e)=>e.some(t=>n instanceof t);let V6,z6;function Wre(){return V6||(V6=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Xre(){return z6||(z6=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const sw=new WeakMap,sy=new WeakMap,px=new WeakMap;function Yre(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(If(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return px.set(e,n),e}function Kre(n){if(sw.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});sw.set(n,e)}let aw={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return sw.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return If(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function oO(n){aw=n(aw)}function $re(n){return Xre().includes(n)?function(...e){return n.apply(ow(this),e),If(this.request)}:function(...e){return If(n.apply(ow(this),e))}}function Zre(n){return typeof n=="function"?$re(n):(n instanceof IDBTransaction&&Kre(n),iw(n,Wre())?new Proxy(n,aw):n)}function If(n){if(n instanceof IDBRequest)return Yre(n);if(sy.has(n))return sy.get(n);const e=Zre(n);return e!==n&&(sy.set(n,e),px.set(e,n)),e}const ow=n=>px.get(n);function Qre(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(n,e),u=If(o);return r&&o.addEventListener("upgradeneeded",f=>{r(If(o.result),f.oldVersion,f.newVersion,If(o.transaction),f)}),t&&o.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),u.then(f=>{s&&f.addEventListener("close",()=>s()),i&&f.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),u}const Jre=["get","getKey","getAll","getAllKeys","count"],eie=["put","add","delete","clear"],ay=new Map;function H6(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(ay.get(e))return ay.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=eie.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Jre.includes(t)))return;const s=async function(o,...u){const f=this.transaction(o,i?"readwrite":"readonly");let d=f.store;return r&&(d=d.index(u.shift())),(await Promise.all([d[t](...u),i&&f.done]))[0]};return ay.set(e,s),s}oO(n=>({...n,get:(e,t,r)=>H6(e,t)||n.get(e,t,r),has:(e,t)=>!!H6(e,t)||n.has(e,t)}));const tie=["continue","continuePrimaryKey","advance"],q6={},lw=new WeakMap,lO=new WeakMap,nie={get(n,e){if(!tie.includes(e))return n[e];let t=q6[e];return t||(t=q6[e]=function(...r){lw.set(this,lO.get(this)[e](...r))}),t}};async function*rie(...n){let e=this;if(e instanceof IDBCursor||(e=await e.openCursor(...n)),!e)return;e=e;const t=new Proxy(e,nie);for(lO.set(t,e),px.set(t,ow(e));e;)yield t,e=await(lw.get(t)||e.continue()),lw.delete(t)}function G6(n,e){return e===Symbol.asyncIterator&&iw(n,[IDBIndex,IDBObjectStore,IDBCursor])||e==="iterate"&&iw(n,[IDBIndex,IDBObjectStore])}oO(n=>({...n,get(e,t,r){return G6(e,t)?rie:n.get(e,t,r)},has(e,t){return G6(e,t)||n.has(e,t)}}));const iie="orbitx-scanner",sie=1;let fp=null;const $u=async()=>fp||(fp=await Qre(iie,sie,{upgrade(n){n.objectStoreNames.contains("registrations")||n.createObjectStore("registrations",{keyPath:"qrSignature"}).createIndex("by-event","eventId"),n.objectStoreNames.contains("pendingSync")||n.createObjectStore("pendingSync",{keyPath:"id"}).createIndex("by-synced","synced"),n.objectStoreNames.contains("metadata")||n.createObjectStore("metadata",{keyPath:"eventId"})}}),fp),aie=async(n,e,t)=>{const i=(await $u()).transaction(["registrations","metadata"],"readwrite"),s=await i.objectStore("registrations").index("by-event").getAllKeys(n);for(const f of s)await i.objectStore("registrations").delete(f);for(const f of t)await i.objectStore("registrations").put(f);const o=new Date,u=new Date(o.getTime()+1440*60*1e3);await i.objectStore("metadata").put({eventId:n,eventName:e,cachedAt:o.toISOString(),expiresAt:u.toISOString(),totalRegistrations:t.length}),await i.done},oie=async n=>await(await $u()).get("registrations",n)||null,cO=async n=>await(await $u()).getAllFromIndex("registrations","by-event",n),lie=async(n,e)=>{const t=await $u(),r=await t.get("registrations",n);if(!r)return null;const i=new Date().toISOString(),s={...r,attendanceMarked:!0,markedAt:i,markedBy:e};await t.put("registrations",s);const o={id:`${n}_${Date.now()}`,registrationId:r.registrationId,eventId:r.eventId,qrSignature:n,markedAt:i,markedBy:e,synced:!1};return await t.put("pendingSync",o),s},uO=async n=>await(await $u()).get("metadata",n)||null,cw=async n=>{const e=await uO(n);if(!e)return!1;const t=new Date,r=new Date(e.expiresAt);return t<r},hO=async()=>await(await $u()).getAllFromIndex("pendingSync","by-synced",0),cie=async n=>{const e=await $u(),t=await e.get("pendingSync",n);t&&(t.synced=!0,await e.put("pendingSync",t))},fO=async()=>(await hO()).length,uie=async()=>{const n=await $u(),e=await n.getAll("metadata"),t=new Date;for(const r of e){const i=new Date(r.expiresAt);if(t>i){const s=await n.getAllKeysFromIndex("registrations","by-event",r.eventId),o=n.transaction(["registrations","metadata"],"readwrite");for(const u of s)await o.objectStore("registrations").delete(u);await o.objectStore("metadata").delete(r.eventId),await o.done}}},hie=async()=>{const n=await $u(),e=await n.getAll("pendingSync"),t=new Date(Date.now()-3600*1e3);for(const r of e)r.synced&&new Date(r.markedAt)<t&&await n.delete("pendingSync",r.id)},uw=async n=>{const e=await cO(n),t=e.filter(r=>r.attendanceMarked).length;return{total:e.length,attended:t}},fie=async n=>{const e=Si(An,"event_reg"),t=Ra(e,Ll("eventId","==",n)),r=await tu(t),i=[];return r.forEach(s=>{const o=s.data();i.push({qrSignature:o.qrSignature,registrationId:o.registrationId,orbitId:o.orbitId,eventId:o.eventId,firstName:o.firstName,lastName:o.lastName,email:o.email,collegeName:o.collegeName,attendanceMarked:o.attendanceStatus||!1,markedAt:o.checkInTime||void 0,markedBy:o.checkedInBy||void 0})}),i},dO=async(n,e)=>{try{const t=await fie(n);return await aie(n,e,t),{success:!0,count:t.length}}catch(t){return console.error("Error downloading registrations:",t),{success:!1,count:0,error:String(t)}}},die=async()=>{const n=Si(An,"events"),e=await tu(n),t=[];for(const r of e.docs){const i=r.data();if(i.isPast)continue;const s=Si(An,"event_reg"),o=Ra(s,Ll("eventId","==",r.id)),u=await tu(o);u.size>0&&t.push({id:r.id,title:i.title||"Untitled Event",date:i.date||"",registrationCount:u.size})}return t.sort((r,i)=>new Date(i.date).getTime()-new Date(r.date).getTime()),t},mO=async(n,e)=>{try{const t=await oie(n);return t?t.eventId!==e?{success:!1,status:"invalid",message:"This QR is for a different event."}:t.attendanceMarked?{success:!0,status:"already-scanned",registration:t,message:`Already checked in at ${mie(t.markedAt)}`}:{success:!0,status:"valid",registration:t,message:"Valid registration. Ready to mark attendance."}:{success:!1,status:"invalid",message:"QR code not found. Not registered for this event."}}catch(t){return console.error("Error verifying QR:",t),{success:!1,status:"error",message:"Error verifying QR code."}}},gO=async(n,e)=>{try{const t=await lie(n,e);return t?(navigator.onLine&&await n3(),{success:!0,registration:t}):{success:!1,error:"Registration not found in cache"}}catch(t){return console.error("Error marking attendance:",t),{success:!1,error:String(t)}}},n3=async()=>{const n=await hO();let e=0,t=0;for(const r of n)try{const i=`${r.eventId}_${r.registrationId}`,s=hr(An,"event_reg",i);await Go(s,{attendanceStatus:!0,checkInTime:r.markedAt,checkedInBy:r.markedBy}),await cie(r.id),e++}catch(i){console.error("Error syncing attendance:",i),t++}return{synced:e,failed:t}},mie=n=>{if(!n)return"Unknown time";try{return new Date(n).toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit",hour12:!0})}catch{return"Unknown time"}},pO=async()=>{await uie(),await hie()};function gie({adminOrbitId:n,onClose:e}){const{showToast:t}=Oa(),[r,i]=ae.useState("select-event"),[s,o]=ae.useState([]),[u,f]=ae.useState(null),[d,x]=ae.useState(!1),[w,A]=ae.useState(!1),[E,I]=ae.useState([]),[C,L]=ae.useState(null),[j,W]=ae.useState(!1),[M,G]=ae.useState(null),[ce,re]=ae.useState(!1),[F,B]=ae.useState(null),[D,Z]=ae.useState({total:0,attended:0}),[U,H]=ae.useState(0),[X,ne]=ae.useState(navigator.onLine),[pe,Ae]=ae.useState(!1),[xe,Re]=ae.useState([]),[He,ze]=ae.useState("all"),[ve,q]=ae.useState(""),[J,Q]=ae.useState([]),[oe,de]=ae.useState(""),[De,Ve]=ae.useState(!1),Fe=ae.useRef(null),Ie=ae.useRef(null);ae.useEffect(()=>{(async()=>{x(!0),await pO();const Yt=await die();o(Yt),x(!1)})()},[]),ae.useEffect(()=>{N2.getCameras().then(st=>{const Yt=st.map(hn=>({id:hn.id,label:hn.label||`Camera ${hn.id.slice(0,8)}`}));I(Yt);const rn=Yt.find(hn=>hn.label.toLowerCase().includes("back")||hn.label.toLowerCase().includes("rear")||hn.label.toLowerCase().includes("environment"));L(rn?.id||Yt[0]?.id||null)}).catch(st=>{console.error("Camera access error:",st),t("Camera access denied","error")})},[t]),ae.useEffect(()=>{const st=()=>{ne(!0),n3().then(({synced:rn})=>{rn>0&&(t(`Synced ${rn} records`,"success"),Qe())})},Yt=()=>ne(!1);return window.addEventListener("online",st),window.addEventListener("offline",Yt),()=>{window.removeEventListener("online",st),window.removeEventListener("offline",Yt)}},[t]);const Qe=ae.useCallback(async()=>{const st=await fO();H(st)},[]),St=ae.useCallback(async()=>{if(u){const st=await uw(u.id);Z(st)}},[u]),Tt=async st=>{f(st),i("event-dashboard");const Yt=await yK(st.id);if(Q(Yt),await cw(st.id)){const hn=await uO(st.id);hn&&(Z({total:hn.totalRegistrations,attended:0}),await St())}},Rt=async()=>{if(!u||!oe.trim())return;Ve(!0);const st=await vK(u.id,u.title,u.date,oe.trim(),n);Ve(!1),st.success&&st.volunteer?(Q(Yt=>[...Yt,st.volunteer]),de(""),t("Volunteer assigned!","success")):t(st.error||"Failed to assign","error")},le=async st=>{await _K(st)&&(Q(rn=>rn.filter(hn=>hn.id!==st)),t("Volunteer removed","info"))},ot=async()=>{if(!u)return;if(!await cw(u.id)){A(!0);const Yt=await dO(u.id,u.title);if(A(!1),!Yt.success){t("Failed to download registrations","error");return}t(`Downloaded ${Yt.count} registrations`,"success")}await St(),await Qe(),i("scanning")};ae.useEffect(()=>{if(r==="scanning"&&C&&!Fe.current){const st=new N2("qr-reader");Fe.current=st,st.start(C,{fps:10,qrbox:{width:280,height:280},aspectRatio:1},async Yt=>{ce||await pt(Yt)},()=>{}).then(()=>{W(!0)}).catch(Yt=>{console.error("Scanner start error:",Yt),t("Failed to start camera","error")})}return()=>{Ie.current&&clearTimeout(Ie.current)}},[r,C,ce]),ae.useEffect(()=>()=>{Fe.current&&(Fe.current.stop().catch(()=>{}),Fe.current=null)},[r]);const pt=async st=>{if(!u||ce)return;re(!0),Fe.current&&await Fe.current.pause(!0);const Yt=await mO(st,u.id);G(Yt),i("result"),Yt.status==="valid"&&Yt.registration?(await gO(Yt.registration.qrSignature,n)).success?(navigator.vibrate&&navigator.vibrate(100),B(`${Yt.registration.firstName} ${Yt.registration.lastName}`),await St(),await Qe(),G({...Yt,message:" Attendance marked successfully!"})):G({success:!1,status:"error",registration:Yt.registration,message:"Failed to mark attendance. Try again."}):Yt.status==="already-scanned"&&navigator.vibrate&&navigator.vibrate([50,50,50]),re(!1),Ie.current=setTimeout(()=>{zt()},2500)},zt=()=>{Ie.current&&clearTimeout(Ie.current),G(null),i("scanning"),Fe.current&&Fe.current.resume()},tt=async()=>{if(E.length<2)return;const Yt=(E.findIndex(hn=>hn.id===C)+1)%E.length,rn=E[Yt].id;Fe.current&&(await Fe.current.stop(),Fe.current=null),L(rn),W(!1)},tn=async()=>{if(!u)return;const st=await cO(u.id);Re(st),Ae(!0)},Xe=xe.filter(st=>{if(He==="attended"&&!st.attendanceMarked||He==="pending"&&st.attendanceMarked)return!1;if(ve){const Yt=ve.toLowerCase();return st.firstName.toLowerCase().includes(Yt)||st.lastName.toLowerCase().includes(Yt)||st.orbitId.toLowerCase().includes(Yt)}return!0}),Lt=async()=>{Fe.current&&(await Fe.current.stop().catch(()=>{}),Fe.current=null),f(null),G(null),i("select-event")},fn=async()=>{Fe.current&&(await Fe.current.stop().catch(()=>{}),Fe.current=null),G(null),i("event-dashboard")};return m.jsxs("div",{className:"qr-scanner",children:[m.jsxs("div",{className:"qr-scanner__header",children:[r==="event-dashboard"&&m.jsx("button",{className:"qr-scanner__back-btn",onClick:Lt,children:""}),(r==="scanning"||r==="result")&&m.jsx("button",{className:"qr-scanner__back-btn",onClick:fn,children:""}),m.jsx("h1",{className:"qr-scanner__title",children:r==="select-event"?"Event Scanner":u?.title}),m.jsxs("div",{className:"qr-scanner__header-actions",children:[(r==="scanning"||r==="result")&&m.jsx("button",{className:"qr-scanner__icon-btn",onClick:tn,children:""}),e&&m.jsx("button",{className:"qr-scanner__icon-btn qr-scanner__close-btn",onClick:e,children:""})]})]}),r==="select-event"&&m.jsxs("div",{className:"qr-scanner__content",children:[m.jsx("h2",{className:"qr-scanner__section-title",children:"Select Event"}),d?m.jsxs("div",{className:"qr-scanner__loading",children:[m.jsx("div",{className:"qr-scanner__spinner"}),m.jsx("p",{children:"Loading events..."})]}):s.length===0?m.jsxs("div",{className:"qr-scanner__empty",children:[m.jsx("span",{className:"qr-scanner__empty-icon",children:""}),m.jsx("p",{children:"No events with registrations found"})]}):m.jsx("div",{className:"qr-scanner__events-grid",children:s.map(st=>m.jsxs("button",{className:"qr-scanner__event-card",onClick:()=>Tt(st),children:[m.jsx("span",{className:"qr-scanner__event-title",children:st.title}),m.jsx("span",{className:"qr-scanner__event-date",children:st.date}),m.jsxs("span",{className:"qr-scanner__event-count",children:[st.registrationCount," registered"]})]},st.id))})]}),r==="event-dashboard"&&u&&m.jsxs("div",{className:"qr-scanner__content",children:[m.jsxs("div",{className:"qr-scanner__event-hero",children:[m.jsx("h2",{children:u.title}),m.jsxs("p",{children:[u.date,"  ",u.registrationCount," registered"]})]}),m.jsxs("div",{className:"qr-scanner__volunteers-card",children:[m.jsx("h3",{children:" Assign Volunteers"}),m.jsxs("div",{className:"qr-scanner__volunteer-form",children:[m.jsx("input",{type:"text",placeholder:"OrbitX ID (e.g., ORB-123-4567)",value:oe,onChange:st=>de(st.target.value),disabled:De}),m.jsx("button",{onClick:Rt,disabled:De||!oe.trim(),children:De?"...":"Add"})]}),J.length>0&&m.jsx("div",{className:"qr-scanner__volunteers-list",children:J.map(st=>m.jsxs("div",{className:"qr-scanner__volunteer-chip",children:[m.jsx("span",{children:st.volunteerName}),m.jsx("button",{onClick:()=>le(st.id),children:""})]},st.id))})]}),m.jsx("button",{className:"qr-scanner__start-btn",onClick:ot,disabled:w,children:w?m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"qr-scanner__spinner qr-scanner__spinner--small"}),"Loading..."]}):m.jsx(m.Fragment,{children:" Start Scanning"})}),m.jsx("button",{className:"qr-scanner__secondary-btn",onClick:tn,children:" View Attendance List"})]}),r==="scanning"&&m.jsxs("div",{className:"qr-scanner__scanning-view",children:[m.jsxs("div",{className:"qr-scanner__camera-container",children:[m.jsx("div",{id:"qr-reader",className:"qr-scanner__camera"}),!j&&m.jsxs("div",{className:"qr-scanner__camera-loading",children:[m.jsx("div",{className:"qr-scanner__spinner"}),m.jsx("p",{children:"Starting camera..."})]}),E.length>1&&m.jsx("button",{className:"qr-scanner__camera-switch",onClick:tt,children:""}),m.jsx("div",{className:"qr-scanner__scan-frame"})]}),m.jsxs("div",{className:"qr-scanner__scan-stats",children:[m.jsxs("div",{className:"qr-scanner__stat-item",children:[m.jsx("span",{className:"qr-scanner__stat-value",children:D.attended}),m.jsxs("span",{className:"qr-scanner__stat-label",children:["/ ",D.total," Scanned"]})]}),m.jsxs("div",{className:"qr-scanner__stat-item",children:[m.jsx("span",{className:`qr-scanner__status-dot ${X?"online":"offline"}`}),m.jsx("span",{children:X?"Online":"Offline"}),U>0&&m.jsx("span",{className:"qr-scanner__pending-badge",children:U})]})]}),F&&m.jsxs("div",{className:"qr-scanner__last-scan",children:[" Last: ",F]})]}),r==="result"&&M&&m.jsx("div",{className:`qr-scanner__result-view qr-scanner__result--${M.status}`,children:m.jsxs("div",{className:"qr-scanner__result-card",children:[m.jsxs("div",{className:"qr-scanner__result-icon",children:[M.status==="valid"&&"",M.status==="already-scanned"&&"",M.status==="invalid"&&"",M.status==="error"&&"!"]}),M.registration?m.jsxs("div",{className:"qr-scanner__result-info",children:[m.jsxs("h2",{children:[M.registration.firstName," ",M.registration.lastName]}),m.jsx("p",{className:"qr-scanner__result-orbitid",children:M.registration.orbitId}),m.jsx("p",{className:"qr-scanner__result-college",children:M.registration.collegeName})]}):m.jsx("div",{className:"qr-scanner__result-info",children:m.jsx("h2",{children:M.status==="invalid"?"Invalid QR Code":"Error"})}),m.jsx("p",{className:"qr-scanner__result-message",children:M.message}),m.jsx("button",{className:"qr-scanner__scan-next-btn",onClick:zt,children:" Scan Next"}),m.jsx("p",{className:"qr-scanner__auto-continue",children:"Auto-continuing in 2s..."})]})}),pe&&m.jsx("div",{className:"qr-scanner__overlay",onClick:()=>Ae(!1),children:m.jsxs("div",{className:"qr-scanner__attendance-panel",onClick:st=>st.stopPropagation(),children:[m.jsxs("div",{className:"qr-scanner__panel-header",children:[m.jsx("h2",{children:"Attendance"}),m.jsx("button",{onClick:()=>Ae(!1),children:""})]}),m.jsxs("div",{className:"qr-scanner__panel-filters",children:[m.jsx("input",{type:"text",placeholder:"Search...",value:ve,onChange:st=>q(st.target.value)}),m.jsx("div",{className:"qr-scanner__filter-tabs",children:["all","attended","pending"].map(st=>m.jsx("button",{className:He===st?"active":"",onClick:()=>ze(st),children:st==="all"?"All":st==="attended"?"":""},st))})]}),m.jsx("div",{className:"qr-scanner__panel-list",children:Xe.map(st=>m.jsxs("div",{className:`qr-scanner__list-item ${st.attendanceMarked?"checked":""}`,children:[m.jsx("span",{className:"qr-scanner__list-status",children:st.attendanceMarked?"":""}),m.jsxs("div",{className:"qr-scanner__list-info",children:[m.jsxs("span",{className:"qr-scanner__list-name",children:[st.firstName," ",st.lastName]}),m.jsx("span",{className:"qr-scanner__list-id",children:st.orbitId})]}),m.jsx("span",{className:"qr-scanner__list-time",children:st.attendanceMarked&&st.markedAt?new Date(st.markedAt).toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit"}):""})]},st.qrSignature))}),m.jsx("div",{className:"qr-scanner__panel-footer",children:m.jsxs("span",{children:[xe.filter(st=>st.attendanceMarked).length," / ",xe.length," checked in"]})})]})})]})}function pie(){const n=Qa(),[e,t]=ae.useState(null),[r,i]=ae.useState(!0);return ae.useEffect(()=>{(async()=>{const o=Pl.currentUser;if(!o){n("/login");return}const u=await Qs(hr(An,"admins",o.uid));if(u.exists())t(u.data().orbitId||o.uid);else{n("/user-dashboard");return}i(!1)})()},[n]),r?m.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100vh",background:"#0a0a0f",color:"#fff"},children:"Loading..."}):e?m.jsx(gie,{adminOrbitId:e,onClose:()=>n("/user-dashboard")}):null}function xie({userOrbitId:n,onClose:e}){const{showToast:t}=Oa(),[r,i]=ae.useState("loading"),[s,o]=ae.useState(null),[u,f]=ae.useState(!1),[d,x]=ae.useState(!1),[w,A]=ae.useState([]),[E,I]=ae.useState(null),[C,L]=ae.useState(!1),[j,W]=ae.useState(null),[M,G]=ae.useState(!1),[ce,re]=ae.useState(null),[F,B]=ae.useState({total:0,attended:0}),[D,Z]=ae.useState(0),[U,H]=ae.useState(navigator.onLine),X=ae.useRef(null),ne=ae.useRef(null);ae.useEffect(()=>{(async()=>{await pO();const Q=await bR(n);if(Q.length===0){i("no-access");return}o(Q[0]);const oe=await cw(Q[0].eventId);if(x(oe),oe){const de=await uw(Q[0].eventId);B(de)}i("ready")})()},[n]),ae.useEffect(()=>{N2.getCameras().then(J=>{const Q=J.map(de=>({id:de.id,label:de.label||`Camera ${de.id.slice(0,8)}`}));A(Q);const oe=Q.find(de=>de.label.toLowerCase().includes("back")||de.label.toLowerCase().includes("rear")||de.label.toLowerCase().includes("environment"));I(oe?.id||Q[0]?.id||null)}).catch(console.error)},[]),ae.useEffect(()=>{const J=()=>{H(!0),n3().then(({synced:oe})=>{oe>0&&(t(`Synced ${oe} records`,"success"),Ae())})},Q=()=>H(!1);return window.addEventListener("online",J),window.addEventListener("offline",Q),()=>{window.removeEventListener("online",J),window.removeEventListener("offline",Q)}},[t]);const pe=ae.useCallback(async()=>{if(s){const J=await uw(s.eventId);B(J)}},[s]),Ae=ae.useCallback(async()=>{const J=await fO();Z(J)},[]),xe=async()=>{if(!s)return;f(!0);const J=await dO(s.eventId,s.eventName);f(!1),J.success?(t(`Loaded ${J.count} registrations`,"success"),x(!0),await pe()):t("Failed to load","error")},Re=async()=>{if(!d){t("Load registrations first","info");return}await Ae(),i("scanning")};ae.useEffect(()=>{if(r==="scanning"&&E&&!X.current){const J=new N2("volunteer-qr-reader");X.current=J,J.start(E,{fps:10,qrbox:{width:280,height:280},aspectRatio:1},async Q=>{M||await He(Q)},()=>{}).then(()=>{L(!0)}).catch(Q=>{console.error("Scanner error:",Q),t("Camera failed","error")})}return()=>{ne.current&&clearTimeout(ne.current)}},[r,E,M]),ae.useEffect(()=>()=>{X.current&&(X.current.stop().catch(()=>{}),X.current=null)},[r]);const He=async J=>{if(!s||M)return;G(!0),X.current&&await X.current.pause(!0);const Q=await mO(J,s.eventId);if(W(Q),i("result"),Q.status==="valid"&&Q.registration){const oe=await gO(Q.registration.qrSignature,n);oe.success?(navigator.vibrate&&navigator.vibrate(100),re(oe.registration||null),await pe(),await Ae(),W({...Q,message:" Attendance marked!"})):W({success:!1,status:"error",registration:Q.registration,message:"Failed to mark. Try again."})}else Q.status==="already-scanned"&&navigator.vibrate&&navigator.vibrate([50,50,50]);G(!1),ne.current=setTimeout(()=>{ze()},2500)},ze=()=>{ne.current&&clearTimeout(ne.current),W(null),i("scanning"),X.current&&X.current.resume()},ve=async()=>{if(w.length<2)return;const Q=(w.findIndex(oe=>oe.id===E)+1)%w.length;X.current&&(await X.current.stop(),X.current=null),I(w[Q].id),L(!1)},q=async()=>{X.current&&(await X.current.stop().catch(()=>{}),X.current=null),W(null),i("ready")};return r==="loading"?m.jsxs("div",{className:"vol-scanner vol-scanner--loading",children:[m.jsx("div",{className:"vol-scanner__spinner"}),m.jsx("p",{children:"Checking access..."})]}):r==="no-access"?m.jsxs("div",{className:"vol-scanner vol-scanner--no-access",children:[m.jsx("span",{className:"vol-scanner__no-access-icon",children:""}),m.jsx("h2",{children:"No Access"}),m.jsx("p",{children:"You're not assigned as a volunteer for any event."}),e&&m.jsx("button",{className:"vol-scanner__back-btn-full",onClick:e,children:"Go Back"})]}):m.jsxs("div",{className:"vol-scanner",children:[m.jsxs("div",{className:"vol-scanner__header",children:[(r==="scanning"||r==="result")&&m.jsx("button",{className:"vol-scanner__back-btn",onClick:q,children:""}),m.jsx("h1",{className:"vol-scanner__title",children:" Volunteer Scanner"}),e&&m.jsx("button",{className:"vol-scanner__close-btn",onClick:e,children:""})]}),r==="ready"&&s&&m.jsxs("div",{className:"vol-scanner__ready",children:[m.jsxs("div",{className:"vol-scanner__event-card",children:[m.jsx("h2",{children:s.eventName}),m.jsx("p",{className:"vol-scanner__event-date",children:s.eventDate}),m.jsxs("p",{className:"vol-scanner__assigned-by",children:["Assigned by: ",s.assignedBy]})]}),m.jsxs("div",{className:"vol-scanner__status-row",children:[m.jsx("span",{className:`vol-scanner__cache-badge ${d?"loaded":""}`,children:d?" Ready":" Not loaded"}),m.jsx("span",{className:`vol-scanner__online-badge ${U?"online":""}`,children:U?" Online":" Offline"})]}),F.total>0&&m.jsxs("div",{className:"vol-scanner__stats",children:[m.jsx("span",{className:"vol-scanner__stat-big",children:F.attended}),m.jsxs("span",{className:"vol-scanner__stat-label",children:["/ ",F.total," checked in"]})]}),m.jsxs("div",{className:"vol-scanner__actions",children:[m.jsx("button",{className:"vol-scanner__load-btn",onClick:xe,disabled:u,children:u?"Loading...":d?" Refresh":" Load Registrations"}),m.jsx("button",{className:"vol-scanner__scan-btn",onClick:Re,disabled:!d,children:" Start Scanning"})]}),D>0&&m.jsxs("div",{className:"vol-scanner__pending",children:[" ",D," pending sync"]})]}),r==="scanning"&&m.jsxs("div",{className:"vol-scanner__scanning",children:[m.jsxs("div",{className:"vol-scanner__camera-container",children:[m.jsx("div",{id:"volunteer-qr-reader",className:"vol-scanner__camera"}),!C&&m.jsxs("div",{className:"vol-scanner__camera-loading",children:[m.jsx("div",{className:"vol-scanner__spinner"}),m.jsx("p",{children:"Starting camera..."})]}),w.length>1&&m.jsx("button",{className:"vol-scanner__camera-switch",onClick:ve,children:""}),m.jsx("div",{className:"vol-scanner__scan-frame"})]}),m.jsxs("div",{className:"vol-scanner__scan-stats",children:[m.jsx("span",{className:"vol-scanner__stat-big",children:F.attended}),m.jsxs("span",{className:"vol-scanner__stat-label",children:["/ ",F.total]}),m.jsx("span",{className:`vol-scanner__status-dot ${U?"online":""}`}),D>0&&m.jsx("span",{className:"vol-scanner__pending-badge",children:D})]}),ce&&m.jsxs("div",{className:"vol-scanner__last-scan",children:[" ",ce.firstName," ",ce.lastName]})]}),r==="result"&&j&&m.jsxs("div",{className:`vol-scanner__result vol-scanner__result--${j.status}`,children:[m.jsxs("div",{className:"vol-scanner__result-icon",children:[j.status==="valid"&&"",j.status==="already-scanned"&&"",j.status==="invalid"&&"",j.status==="error"&&"!"]}),j.registration?m.jsxs("div",{className:"vol-scanner__result-info",children:[m.jsxs("h2",{children:[j.registration.firstName," ",j.registration.lastName]}),m.jsx("p",{className:"vol-scanner__result-orbitid",children:j.registration.orbitId}),m.jsx("p",{className:"vol-scanner__result-college",children:j.registration.collegeName})]}):m.jsx("h2",{children:j.status==="invalid"?"Invalid QR":"Error"}),m.jsx("p",{className:"vol-scanner__result-message",children:j.message}),m.jsx("button",{className:"vol-scanner__next-btn",onClick:ze,children:" Scan Next"}),m.jsx("p",{className:"vol-scanner__auto-text",children:"Auto-continuing in 2s..."})]})]})}function vie(){const n=Qa(),{isAuthenticated:e,profile:t,loading:r}=Lo(),[i,s]=ae.useState(null);return ae.useEffect(()=>{if(!r){if(!e){n("/login");return}t?.orbitId&&s(t.orbitId)}},[e,t,r,n]),r||!i?m.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100vh",background:"#0a0a0f",color:"#fff"},children:"Loading..."}):m.jsx(xie,{userOrbitId:i,onClose:()=>n("/user-dashboard")})}function xf({children:n}){const{isAuthenticated:e,loading:t}=Lo(),r=Yo();return t?m.jsxs("div",{className:"auth-loading",children:[m.jsx("div",{className:"auth-loading__spinner"}),m.jsx("p",{children:"Loading..."})]}):e?m.jsx(m.Fragment,{children:n}):m.jsx(xw,{to:"/login",state:{from:r.pathname},replace:!0})}function _ie({children:n}){const{isAuthenticated:e,loading:t}=Lo(),i=Yo().state?.from||"/user-dashboard";return t?m.jsxs("div",{className:"auth-loading",children:[m.jsx("div",{className:"auth-loading__spinner"}),m.jsx("p",{children:"Loading..."})]}):e?m.jsx(xw,{to:i,replace:!0}):m.jsx(m.Fragment,{children:n})}function yie(){const n=Qa(),e=Yo(),[t,r]=ae.useState(!1);ae.useEffect(()=>{r(e.key!=="default")},[e]);const i=()=>{t&&n(-1)};return m.jsx("button",{className:`global-back-button ${t?"":"global-back-button--hidden"}`,onClick:i,"aria-label":"Go back",disabled:!t,children:m.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:m.jsx("polyline",{points:"15 18 9 12 15 6"})})})}function wie(){const{pathname:n}=Yo();return ae.useEffect(()=>{window.scrollTo({top:0,left:0,behavior:"instant"})},[n]),ae.useEffect(()=>("scrollRestoration"in history&&(history.scrollRestoration="manual"),window.scrollTo(0,0),()=>{"scrollRestoration"in history&&(history.scrollRestoration="auto")}),[]),null}function bie(){const{isRecruitmentOpen:n,isLoading:e}=Xf();return e?null:n?m.jsx(VY,{}):m.jsx(xw,{to:"/about",replace:!0})}function Eie(){return m.jsxs(K9,{children:[m.jsx(BL,{}),m.jsx(wie,{}),m.jsx(yie,{}),m.jsx(aH,{}),m.jsx(AH,{}),m.jsx(SH,{}),m.jsxs(T9,{children:[m.jsx(Ta,{path:"/",element:m.jsx(CY,{})}),m.jsx(Ta,{path:"/about",element:m.jsx(IY,{})}),m.jsx(Ta,{path:"/events",element:m.jsx(LY,{})}),m.jsx(Ta,{path:"/members",element:m.jsx(PY,{})}),m.jsx(Ta,{path:"/join",element:m.jsx(bie,{})}),m.jsx(Ta,{path:"/contact",element:m.jsx(HY,{})}),m.jsx(Ta,{path:"/merch",element:m.jsx(KY,{})}),m.jsx(Ta,{path:"/login",element:m.jsx(_ie,{children:m.jsx($Y,{})})}),m.jsx(Ta,{path:"/signup",element:m.jsx(eK,{})}),m.jsx(Ta,{path:"/forgot-password",element:m.jsx(tK,{})}),m.jsx(Ta,{path:"/admin-setup",element:m.jsx(AK,{})}),m.jsx(Ta,{path:"/user-dashboard",element:m.jsx(xf,{children:m.jsx(EK,{})})}),m.jsx(Ta,{path:"/manage-user-applications",element:m.jsx(xf,{children:m.jsx(dre,{})})}),m.jsx(Ta,{path:"/manage-user-queries",element:m.jsx(xf,{children:m.jsx(mre,{})})}),m.jsx(Ta,{path:"/manage-merch-orders",element:m.jsx(xf,{children:m.jsx(gre,{})})}),m.jsx(Ta,{path:"/manage-merch",element:m.jsx(xf,{children:m.jsx(_re,{})})}),m.jsx(Ta,{path:"/event-scanner",element:m.jsx(xf,{children:m.jsx(pie,{})})}),m.jsx(Ta,{path:"/scan-qrs",element:m.jsx(xf,{children:m.jsx(vie,{})})})]}),m.jsx(bH,{})]})}function Aie(){return m.jsx(yH,{children:m.jsx(JL,{children:m.jsx(sH,{children:m.jsx(RY,{children:m.jsx(Eie,{})})})})})}Lk.createRoot(document.getElementById("root")).render(m.jsx(ae.StrictMode,{children:m.jsx(Aie,{})}));export{Ei as _,kg as c,C2 as g};
