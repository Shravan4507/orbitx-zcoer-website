(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=t(i);fetch(i.href,a)}})();var xae=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function D5(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Y_={exports:{}},Rm={};var $E;function bD(){if($E)return Rm;$E=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,i,a){var o=null;if(a!==void 0&&(o=""+a),i.key!==void 0&&(o=""+i.key),"key"in i){a={};for(var c in i)c!=="key"&&(a[c]=i[c])}else a=i;return i=a.ref,{$$typeof:n,type:r,key:o,ref:i!==void 0?i:null,props:a}}return Rm.Fragment=e,Rm.jsx=t,Rm.jsxs=t,Rm}var KE;function ED(){return KE||(KE=1,Y_.exports=bD()),Y_.exports}var f=ED(),$_={exports:{}},kn={};var XE;function SD(){if(XE)return kn;XE=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),_=Symbol.iterator;function v(re){return re===null||typeof re!="object"?null:(re=_&&re[_]||re["@@iterator"],typeof re=="function"?re:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,T={};function N(re,L,G){this.props=re,this.context=L,this.refs=T,this.updater=G||b}N.prototype.isReactComponent={},N.prototype.setState=function(re,L){if(typeof re!="object"&&typeof re!="function"&&re!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,re,L,"setState")},N.prototype.forceUpdate=function(re){this.updater.enqueueForceUpdate(this,re,"forceUpdate")};function P(){}P.prototype=N.prototype;function R(re,L,G){this.props=re,this.context=L,this.refs=T,this.updater=G||b}var j=R.prototype=new P;j.constructor=R,w(j,N.prototype),j.isPureReactComponent=!0;var K=Array.isArray;function U(){}var C={H:null,A:null,T:null,S:null},k=Object.prototype.hasOwnProperty;function I(re,L,G){var q=G.ref;return{$$typeof:n,type:re,key:L,ref:q!==void 0?q:null,props:G}}function z(re,L){return I(re.type,L,re.props)}function O(re){return typeof re=="object"&&re!==null&&re.$$typeof===n}function M(re){var L={"=":"=0",":":"=2"};return"$"+re.replace(/[=:]/g,function(G){return L[G]})}var B=/\/+/g;function Y(re,L){return typeof re=="object"&&re!==null&&re.key!=null?M(""+re.key):L.toString(36)}function we(re){switch(re.status){case"fulfilled":return re.value;case"rejected":throw re.reason;default:switch(typeof re.status=="string"?re.then(U,U):(re.status="pending",re.then(function(L){re.status==="pending"&&(re.status="fulfilled",re.value=L)},function(L){re.status==="pending"&&(re.status="rejected",re.reason=L)})),re.status){case"fulfilled":return re.value;case"rejected":throw re.reason}}throw re}function fe(re,L,G,q,J){var ae=typeof re;(ae==="undefined"||ae==="boolean")&&(re=null);var ge=!1;if(re===null)ge=!0;else switch(ae){case"bigint":case"string":case"number":ge=!0;break;case"object":switch(re.$$typeof){case n:case e:ge=!0;break;case m:return ge=re._init,fe(ge(re._payload),L,G,q,J)}}if(ge)return J=J(re),ge=q===""?"."+Y(re,0):q,K(J)?(G="",ge!=null&&(G=ge.replace(B,"$&/")+"/"),fe(J,L,G,"",function(Ce){return Ce})):J!=null&&(O(J)&&(J=z(J,G+(J.key==null||re&&re.key===J.key?"":(""+J.key).replace(B,"$&/")+"/")+ge)),L.push(J)),1;ge=0;var Te=q===""?".":q+":";if(K(re))for(var Se=0;Se<re.length;Se++)q=re[Se],ae=Te+Y(q,Se),ge+=fe(q,L,G,ae,J);else if(Se=v(re),typeof Se=="function")for(re=Se.call(re),Se=0;!(q=re.next()).done;)q=q.value,ae=Te+Y(q,Se++),ge+=fe(q,L,G,ae,J);else if(ae==="object"){if(typeof re.then=="function")return fe(we(re),L,G,q,J);throw L=String(re),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(re).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.")}return ge}function le(re,L,G){if(re==null)return re;var q=[],J=0;return fe(re,q,"","",function(ae){return L.call(G,ae,J++)}),q}function pe(re){if(re._status===-1){var L=re._result;L=L(),L.then(function(G){(re._status===0||re._status===-1)&&(re._status=1,re._result=G)},function(G){(re._status===0||re._status===-1)&&(re._status=2,re._result=G)}),re._status===-1&&(re._status=0,re._result=L)}if(re._status===1)return re._result.default;throw re._result}var Ie=typeof reportError=="function"?reportError:function(re){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var L=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof re=="object"&&re!==null&&typeof re.message=="string"?String(re.message):String(re),error:re});if(!window.dispatchEvent(L))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",re);return}console.error(re)},Ae={map:le,forEach:function(re,L,G){le(re,function(){L.apply(this,arguments)},G)},count:function(re){var L=0;return le(re,function(){L++}),L},toArray:function(re){return le(re,function(L){return L})||[]},only:function(re){if(!O(re))throw Error("React.Children.only expected to receive a single React element child.");return re}};return kn.Activity=g,kn.Children=Ae,kn.Component=N,kn.Fragment=t,kn.Profiler=i,kn.PureComponent=R,kn.StrictMode=r,kn.Suspense=u,kn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,kn.__COMPILER_RUNTIME={__proto__:null,c:function(re){return C.H.useMemoCache(re)}},kn.cache=function(re){return function(){return re.apply(null,arguments)}},kn.cacheSignal=function(){return null},kn.cloneElement=function(re,L,G){if(re==null)throw Error("The argument must be a React element, but you passed "+re+".");var q=w({},re.props),J=re.key;if(L!=null)for(ae in L.key!==void 0&&(J=""+L.key),L)!k.call(L,ae)||ae==="key"||ae==="__self"||ae==="__source"||ae==="ref"&&L.ref===void 0||(q[ae]=L[ae]);var ae=arguments.length-2;if(ae===1)q.children=G;else if(1<ae){for(var ge=Array(ae),Te=0;Te<ae;Te++)ge[Te]=arguments[Te+2];q.children=ge}return I(re.type,J,q)},kn.createContext=function(re){return re={$$typeof:o,_currentValue:re,_currentValue2:re,_threadCount:0,Provider:null,Consumer:null},re.Provider=re,re.Consumer={$$typeof:a,_context:re},re},kn.createElement=function(re,L,G){var q,J={},ae=null;if(L!=null)for(q in L.key!==void 0&&(ae=""+L.key),L)k.call(L,q)&&q!=="key"&&q!=="__self"&&q!=="__source"&&(J[q]=L[q]);var ge=arguments.length-2;if(ge===1)J.children=G;else if(1<ge){for(var Te=Array(ge),Se=0;Se<ge;Se++)Te[Se]=arguments[Se+2];J.children=Te}if(re&&re.defaultProps)for(q in ge=re.defaultProps,ge)J[q]===void 0&&(J[q]=ge[q]);return I(re,ae,J)},kn.createRef=function(){return{current:null}},kn.forwardRef=function(re){return{$$typeof:c,render:re}},kn.isValidElement=O,kn.lazy=function(re){return{$$typeof:m,_payload:{_status:-1,_result:re},_init:pe}},kn.memo=function(re,L){return{$$typeof:h,type:re,compare:L===void 0?null:L}},kn.startTransition=function(re){var L=C.T,G={};C.T=G;try{var q=re(),J=C.S;J!==null&&J(G,q),typeof q=="object"&&q!==null&&typeof q.then=="function"&&q.then(U,Ie)}catch(ae){Ie(ae)}finally{L!==null&&G.types!==null&&(L.types=G.types),C.T=L}},kn.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},kn.use=function(re){return C.H.use(re)},kn.useActionState=function(re,L,G){return C.H.useActionState(re,L,G)},kn.useCallback=function(re,L){return C.H.useCallback(re,L)},kn.useContext=function(re){return C.H.useContext(re)},kn.useDebugValue=function(){},kn.useDeferredValue=function(re,L){return C.H.useDeferredValue(re,L)},kn.useEffect=function(re,L){return C.H.useEffect(re,L)},kn.useEffectEvent=function(re){return C.H.useEffectEvent(re)},kn.useId=function(){return C.H.useId()},kn.useImperativeHandle=function(re,L,G){return C.H.useImperativeHandle(re,L,G)},kn.useInsertionEffect=function(re,L){return C.H.useInsertionEffect(re,L)},kn.useLayoutEffect=function(re,L){return C.H.useLayoutEffect(re,L)},kn.useMemo=function(re,L){return C.H.useMemo(re,L)},kn.useOptimistic=function(re,L){return C.H.useOptimistic(re,L)},kn.useReducer=function(re,L,G){return C.H.useReducer(re,L,G)},kn.useRef=function(re){return C.H.useRef(re)},kn.useState=function(re){return C.H.useState(re)},kn.useSyncExternalStore=function(re,L,G){return C.H.useSyncExternalStore(re,L,G)},kn.useTransition=function(){return C.H.useTransition()},kn.version="19.2.3",kn}var JE;function L5(){return JE||(JE=1,$_.exports=SD()),$_.exports}var Q=L5();const Th=D5(Q);var K_={exports:{}},km={},X_={exports:{}},J_={};var QE;function TD(){return QE||(QE=1,(function(n){function e(fe,le){var pe=fe.length;fe.push(le);e:for(;0<pe;){var Ie=pe-1>>>1,Ae=fe[Ie];if(0<i(Ae,le))fe[Ie]=le,fe[pe]=Ae,pe=Ie;else break e}}function t(fe){return fe.length===0?null:fe[0]}function r(fe){if(fe.length===0)return null;var le=fe[0],pe=fe.pop();if(pe!==le){fe[0]=pe;e:for(var Ie=0,Ae=fe.length,re=Ae>>>1;Ie<re;){var L=2*(Ie+1)-1,G=fe[L],q=L+1,J=fe[q];if(0>i(G,pe))q<Ae&&0>i(J,G)?(fe[Ie]=J,fe[q]=pe,Ie=q):(fe[Ie]=G,fe[L]=pe,Ie=L);else if(q<Ae&&0>i(J,pe))fe[Ie]=J,fe[q]=pe,Ie=q;else break e}}return le}function i(fe,le){var pe=fe.sortIndex-le.sortIndex;return pe!==0?pe:fe.id-le.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var o=Date,c=o.now();n.unstable_now=function(){return o.now()-c}}var u=[],h=[],m=1,g=null,_=3,v=!1,b=!1,w=!1,T=!1,N=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function j(fe){for(var le=t(h);le!==null;){if(le.callback===null)r(h);else if(le.startTime<=fe)r(h),le.sortIndex=le.expirationTime,e(u,le);else break;le=t(h)}}function K(fe){if(w=!1,j(fe),!b)if(t(u)!==null)b=!0,U||(U=!0,M());else{var le=t(h);le!==null&&we(K,le.startTime-fe)}}var U=!1,C=-1,k=5,I=-1;function z(){return T?!0:!(n.unstable_now()-I<k)}function O(){if(T=!1,U){var fe=n.unstable_now();I=fe;var le=!0;try{e:{b=!1,w&&(w=!1,P(C),C=-1),v=!0;var pe=_;try{t:{for(j(fe),g=t(u);g!==null&&!(g.expirationTime>fe&&z());){var Ie=g.callback;if(typeof Ie=="function"){g.callback=null,_=g.priorityLevel;var Ae=Ie(g.expirationTime<=fe);if(fe=n.unstable_now(),typeof Ae=="function"){g.callback=Ae,j(fe),le=!0;break t}g===t(u)&&r(u),j(fe)}else r(u);g=t(u)}if(g!==null)le=!0;else{var re=t(h);re!==null&&we(K,re.startTime-fe),le=!1}}break e}finally{g=null,_=pe,v=!1}le=void 0}}finally{le?M():U=!1}}}var M;if(typeof R=="function")M=function(){R(O)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,Y=B.port2;B.port1.onmessage=O,M=function(){Y.postMessage(null)}}else M=function(){N(O,0)};function we(fe,le){C=N(function(){fe(n.unstable_now())},le)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(fe){fe.callback=null},n.unstable_forceFrameRate=function(fe){0>fe||125<fe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<fe?Math.floor(1e3/fe):5},n.unstable_getCurrentPriorityLevel=function(){return _},n.unstable_next=function(fe){switch(_){case 1:case 2:case 3:var le=3;break;default:le=_}var pe=_;_=le;try{return fe()}finally{_=pe}},n.unstable_requestPaint=function(){T=!0},n.unstable_runWithPriority=function(fe,le){switch(fe){case 1:case 2:case 3:case 4:case 5:break;default:fe=3}var pe=_;_=fe;try{return le()}finally{_=pe}},n.unstable_scheduleCallback=function(fe,le,pe){var Ie=n.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?Ie+pe:Ie):pe=Ie,fe){case 1:var Ae=-1;break;case 2:Ae=250;break;case 5:Ae=1073741823;break;case 4:Ae=1e4;break;default:Ae=5e3}return Ae=pe+Ae,fe={id:m++,callback:le,priorityLevel:fe,startTime:pe,expirationTime:Ae,sortIndex:-1},pe>Ie?(fe.sortIndex=pe,e(h,fe),t(u)===null&&fe===t(h)&&(w?(P(C),C=-1):w=!0,we(K,pe-Ie))):(fe.sortIndex=Ae,e(u,fe),b||v||(b=!0,U||(U=!0,M()))),fe},n.unstable_shouldYield=z,n.unstable_wrapCallback=function(fe){var le=_;return function(){var pe=_;_=le;try{return fe.apply(this,arguments)}finally{_=pe}}}})(J_)),J_}var ZE;function AD(){return ZE||(ZE=1,X_.exports=TD()),X_.exports}var Q_={exports:{}},gs={};var e3;function ND(){if(e3)return gs;e3=1;var n=L5();function e(u){var h="https://react.dev/errors/"+u;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)h+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+u+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(u,h,m){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:g==null?null:""+g,children:u,containerInfo:h,implementation:m}}var o=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(u,h){if(u==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return gs.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,gs.createPortal=function(u,h){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return a(u,h,null,m)},gs.flushSync=function(u){var h=o.T,m=r.p;try{if(o.T=null,r.p=2,u)return u()}finally{o.T=h,r.p=m,r.d.f()}},gs.preconnect=function(u,h){typeof u=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(u,h))},gs.prefetchDNS=function(u){typeof u=="string"&&r.d.D(u)},gs.preinit=function(u,h){if(typeof u=="string"&&h&&typeof h.as=="string"){var m=h.as,g=c(m,h.crossOrigin),_=typeof h.integrity=="string"?h.integrity:void 0,v=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;m==="style"?r.d.S(u,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:g,integrity:_,fetchPriority:v}):m==="script"&&r.d.X(u,{crossOrigin:g,integrity:_,fetchPriority:v,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},gs.preinitModule=function(u,h){if(typeof u=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var m=c(h.as,h.crossOrigin);r.d.M(u,{crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(u)},gs.preload=function(u,h){if(typeof u=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var m=h.as,g=c(m,h.crossOrigin);r.d.L(u,m,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},gs.preloadModule=function(u,h){if(typeof u=="string")if(h){var m=c(h.as,h.crossOrigin);r.d.m(u,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(u)},gs.requestFormReset=function(u){r.d.r(u)},gs.unstable_batchedUpdates=function(u,h){return u(h)},gs.useFormState=function(u,h,m){return o.H.useFormState(u,h,m)},gs.useFormStatus=function(){return o.H.useHostTransitionStatus()},gs.version="19.2.3",gs}var t3;function CD(){if(t3)return Q_.exports;t3=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Q_.exports=ND(),Q_.exports}var n3;function ID(){if(n3)return km;n3=1;var n=AD(),e=L5(),t=CD();function r(s){var l="https://react.dev/errors/"+s;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)l+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+s+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function a(s){var l=s,d=s;if(s.alternate)for(;l.return;)l=l.return;else{s=l;do l=s,(l.flags&4098)!==0&&(d=l.return),s=l.return;while(s)}return l.tag===3?d:null}function o(s){if(s.tag===13){var l=s.memoizedState;if(l===null&&(s=s.alternate,s!==null&&(l=s.memoizedState)),l!==null)return l.dehydrated}return null}function c(s){if(s.tag===31){var l=s.memoizedState;if(l===null&&(s=s.alternate,s!==null&&(l=s.memoizedState)),l!==null)return l.dehydrated}return null}function u(s){if(a(s)!==s)throw Error(r(188))}function h(s){var l=s.alternate;if(!l){if(l=a(s),l===null)throw Error(r(188));return l!==s?null:s}for(var d=s,p=l;;){var E=d.return;if(E===null)break;var A=E.alternate;if(A===null){if(p=E.return,p!==null){d=p;continue}break}if(E.child===A.child){for(A=E.child;A;){if(A===d)return u(E),s;if(A===p)return u(E),l;A=A.sibling}throw Error(r(188))}if(d.return!==p.return)d=E,p=A;else{for(var W=!1,oe=E.child;oe;){if(oe===d){W=!0,d=E,p=A;break}if(oe===p){W=!0,p=E,d=A;break}oe=oe.sibling}if(!W){for(oe=A.child;oe;){if(oe===d){W=!0,d=A,p=E;break}if(oe===p){W=!0,p=A,d=E;break}oe=oe.sibling}if(!W)throw Error(r(189))}}if(d.alternate!==p)throw Error(r(190))}if(d.tag!==3)throw Error(r(188));return d.stateNode.current===d?s:l}function m(s){var l=s.tag;if(l===5||l===26||l===27||l===6)return s;for(s=s.child;s!==null;){if(l=m(s),l!==null)return l;s=s.sibling}return null}var g=Object.assign,_=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),P=Symbol.for("react.consumer"),R=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),K=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),z=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function M(s){return s===null||typeof s!="object"?null:(s=O&&s[O]||s["@@iterator"],typeof s=="function"?s:null)}var B=Symbol.for("react.client.reference");function Y(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===B?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case w:return"Fragment";case N:return"Profiler";case T:return"StrictMode";case K:return"Suspense";case U:return"SuspenseList";case I:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case b:return"Portal";case R:return s.displayName||"Context";case P:return(s._context.displayName||"Context")+".Consumer";case j:var l=s.render;return s=s.displayName,s||(s=l.displayName||l.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case C:return l=s.displayName||null,l!==null?l:Y(s.type)||"Memo";case k:l=s._payload,s=s._init;try{return Y(s(l))}catch{}}return null}var we=Array.isArray,fe=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},Ie=[],Ae=-1;function re(s){return{current:s}}function L(s){0>Ae||(s.current=Ie[Ae],Ie[Ae]=null,Ae--)}function G(s,l){Ae++,Ie[Ae]=s.current,s.current=l}var q=re(null),J=re(null),ae=re(null),ge=re(null);function Te(s,l){switch(G(ae,l),G(J,s),G(q,null),l.nodeType){case 9:case 11:s=(s=l.documentElement)&&(s=s.namespaceURI)?vE(s):0;break;default:if(s=l.tagName,l=l.namespaceURI)l=vE(l),s=_E(l,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}L(q),G(q,s)}function Se(){L(q),L(J),L(ae)}function Ce(s){s.memoizedState!==null&&G(ge,s);var l=q.current,d=_E(l,s.type);l!==d&&(G(J,s),G(q,d))}function et(s){J.current===s&&(L(q),L(J)),ge.current===s&&(L(ge),Am._currentValue=pe)}var ot,tt;function it(s){if(ot===void 0)try{throw Error()}catch(d){var l=d.stack.trim().match(/\n( *(at )?)/);ot=l&&l[1]||"",tt=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ot+s+tt}var Z=!1;function Fe(s,l){if(!s||Z)return"";Z=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(l){var gt=function(){throw Error()};if(Object.defineProperty(gt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(gt,[])}catch(rt){var Je=rt}Reflect.construct(s,[],gt)}else{try{gt.call()}catch(rt){Je=rt}s.call(gt.prototype)}}else{try{throw Error()}catch(rt){Je=rt}(gt=s())&&typeof gt.catch=="function"&&gt.catch(function(){})}}catch(rt){if(rt&&Je&&typeof rt.stack=="string")return[rt.stack,Je.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var E=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");E&&E.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var A=p.DetermineComponentFrameRoot(),W=A[0],oe=A[1];if(W&&oe){var Ne=W.split(`
`),$e=oe.split(`
`);for(E=p=0;p<Ne.length&&!Ne[p].includes("DetermineComponentFrameRoot");)p++;for(;E<$e.length&&!$e[E].includes("DetermineComponentFrameRoot");)E++;if(p===Ne.length||E===$e.length)for(p=Ne.length-1,E=$e.length-1;1<=p&&0<=E&&Ne[p]!==$e[E];)E--;for(;1<=p&&0<=E;p--,E--)if(Ne[p]!==$e[E]){if(p!==1||E!==1)do if(p--,E--,0>E||Ne[p]!==$e[E]){var ut=`
`+Ne[p].replace(" at new "," at ");return s.displayName&&ut.includes("<anonymous>")&&(ut=ut.replace("<anonymous>",s.displayName)),ut}while(1<=p&&0<=E);break}}}finally{Z=!1,Error.prepareStackTrace=d}return(d=s?s.displayName||s.name:"")?it(d):""}function nt(s,l){switch(s.tag){case 26:case 27:case 5:return it(s.type);case 16:return it("Lazy");case 13:return s.child!==l&&l!==null?it("Suspense Fallback"):it("Suspense");case 19:return it("SuspenseList");case 0:case 15:return Fe(s.type,!1);case 11:return Fe(s.type.render,!1);case 1:return Fe(s.type,!0);case 31:return it("Activity");default:return""}}function It(s){try{var l="",d=null;do l+=nt(s,d),d=s,s=s.return;while(s);return l}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}var Qe=Object.prototype.hasOwnProperty,At=n.unstable_scheduleCallback,Ke=n.unstable_cancelCallback,ht=n.unstable_shouldYield,Dt=n.unstable_requestPaint,kt=n.unstable_now,qt=n.unstable_getCurrentPriorityLevel,Vt=n.unstable_ImmediatePriority,Gt=n.unstable_UserBlockingPriority,Ht=n.unstable_NormalPriority,Mt=n.unstable_LowPriority,Wt=n.unstable_IdlePriority,Lt=n.log,yn=n.unstable_setDisableYieldValue,zt=null,Ft=null;function Rt(s){if(typeof Lt=="function"&&yn(s),Ft&&typeof Ft.setStrictMode=="function")try{Ft.setStrictMode(zt,s)}catch{}}var xt=Math.clz32?Math.clz32:We,Kt=Math.log,En=Math.LN2;function We(s){return s>>>=0,s===0?32:31-(Kt(s)/En|0)|0}var wt=256,nn=262144,Bt=4194304;function Nt(s){var l=s&42;if(l!==0)return l;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function xn(s,l,d){var p=s.pendingLanes;if(p===0)return 0;var E=0,A=s.suspendedLanes,W=s.pingedLanes;s=s.warmLanes;var oe=p&134217727;return oe!==0?(p=oe&~A,p!==0?E=Nt(p):(W&=oe,W!==0?E=Nt(W):d||(d=oe&~s,d!==0&&(E=Nt(d))))):(oe=p&~A,oe!==0?E=Nt(oe):W!==0?E=Nt(W):d||(d=p&~s,d!==0&&(E=Nt(d)))),E===0?0:l!==0&&l!==E&&(l&A)===0&&(A=E&-E,d=l&-l,A>=d||A===32&&(d&4194048)!==0)?l:E}function Kr(s,l){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&l)===0}function Ur(s,l){switch(s){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ji(){var s=Bt;return Bt<<=1,(Bt&62914560)===0&&(Bt=4194304),s}function Vr(s){for(var l=[],d=0;31>d;d++)l.push(s);return l}function ln(s,l){s.pendingLanes|=l,l!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Wa(s,l,d,p,E,A){var W=s.pendingLanes;s.pendingLanes=d,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=d,s.entangledLanes&=d,s.errorRecoveryDisabledLanes&=d,s.shellSuspendCounter=0;var oe=s.entanglements,Ne=s.expirationTimes,$e=s.hiddenUpdates;for(d=W&~d;0<d;){var ut=31-xt(d),gt=1<<ut;oe[ut]=0,Ne[ut]=-1;var Je=$e[ut];if(Je!==null)for($e[ut]=null,ut=0;ut<Je.length;ut++){var rt=Je[ut];rt!==null&&(rt.lane&=-536870913)}d&=~gt}p!==0&&_i(s,p,0),A!==0&&E===0&&s.tag!==0&&(s.suspendedLanes|=A&~(W&~l))}function _i(s,l,d){s.pendingLanes|=l,s.suspendedLanes&=~l;var p=31-xt(l);s.entangledLanes|=l,s.entanglements[p]=s.entanglements[p]|1073741824|d&261930}function Xr(s,l){var d=s.entangledLanes|=l;for(s=s.entanglements;d;){var p=31-xt(d),E=1<<p;E&l|s[p]&l&&(s[p]|=l),d&=~E}}function Ci(s,l){var d=l&-l;return d=(d&42)!==0?1:tr(d),(d&(s.suspendedLanes|l))!==0?0:d}function tr(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function pr(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function ne(){var s=le.p;return s!==0?s:(s=window.event,s===void 0?32:VE(s.type))}function _e(s,l){var d=le.p;try{return le.p=s,l()}finally{le.p=d}}var ue=Math.random().toString(36).slice(2),de="__reactFiber$"+ue,ve="__reactProps$"+ue,ye="__reactContainer$"+ue,Be="__reactEvents$"+ue,Ze="__reactListeners$"+ue,Me="__reactHandles$"+ue,ze="__reactResources$"+ue,He="__reactMarker$"+ue;function bt(s){delete s[de],delete s[ve],delete s[Be],delete s[Ze],delete s[Me]}function mt(s){var l=s[de];if(l)return l;for(var d=s.parentNode;d;){if(l=d[ye]||d[de]){if(d=l.alternate,l.child!==null||d!==null&&d.child!==null)for(s=TE(s);s!==null;){if(d=s[de])return d;s=TE(s)}return l}s=d,d=s.parentNode}return null}function Et(s){if(s=s[de]||s[ye]){var l=s.tag;if(l===5||l===6||l===13||l===31||l===26||l===27||l===3)return s}return null}function je(s){var l=s.tag;if(l===5||l===26||l===27||l===6)return s.stateNode;throw Error(r(33))}function Tt(s){var l=s[ze];return l||(l=s[ze]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function Xt(s){s[He]=!0}var nr=new Set,jn={};function or(s,l){zi(s,l),zi(s+"Capture",l)}function zi(s,l){for(jn[s]=l,s=0;s<l.length;s++)nr.add(l[s])}var Ya=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),hs={},Ta={};function xo(s){return Qe.call(Ta,s)?!0:Qe.call(hs,s)?!1:Ya.test(s)?Ta[s]=!0:(hs[s]=!0,!1)}function zr(s,l,d){if(xo(l))if(d===null)s.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":s.removeAttribute(l);return;case"boolean":var p=l.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){s.removeAttribute(l);return}}s.setAttribute(l,""+d)}}function Qi(s,l,d){if(d===null)s.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttribute(l,""+d)}}function li(s,l,d,p){if(p===null)s.removeAttribute(d);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(d);return}s.setAttributeNS(l,d,""+p)}}function Un(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function wo(s){var l=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function fs(s,l,d){var p=Object.getOwnPropertyDescriptor(s.constructor.prototype,l);if(!s.hasOwnProperty(l)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var E=p.get,A=p.set;return Object.defineProperty(s,l,{configurable:!0,get:function(){return E.call(this)},set:function(W){d=""+W,A.call(this,W)}}),Object.defineProperty(s,l,{enumerable:p.enumerable}),{getValue:function(){return d},setValue:function(W){d=""+W},stopTracking:function(){s._valueTracker=null,delete s[l]}}}}function Wn(s){if(!s._valueTracker){var l=wo(s)?"checked":"value";s._valueTracker=fs(s,l,""+s[l])}}function Yo(s){if(!s)return!1;var l=s._valueTracker;if(!l)return!0;var d=l.getValue(),p="";return s&&(p=wo(s)?s.checked?"true":"false":s.value),s=p,s!==d?(l.setValue(s),!0):!1}function yi(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var qr=/[\n"\\]/g;function ci(s){return s.replace(qr,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function xl(s,l,d,p,E,A,W,oe){s.name="",W!=null&&typeof W!="function"&&typeof W!="symbol"&&typeof W!="boolean"?s.type=W:s.removeAttribute("type"),l!=null?W==="number"?(l===0&&s.value===""||s.value!=l)&&(s.value=""+Un(l)):s.value!==""+Un(l)&&(s.value=""+Un(l)):W!=="submit"&&W!=="reset"||s.removeAttribute("value"),l!=null?Gc(s,W,Un(l)):d!=null?Gc(s,W,Un(d)):p!=null&&s.removeAttribute("value"),E==null&&A!=null&&(s.defaultChecked=!!A),E!=null&&(s.checked=E&&typeof E!="function"&&typeof E!="symbol"),oe!=null&&typeof oe!="function"&&typeof oe!="symbol"&&typeof oe!="boolean"?s.name=""+Un(oe):s.removeAttribute("name")}function Bu(s,l,d,p,E,A,W,oe){if(A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(s.type=A),l!=null||d!=null){if(!(A!=="submit"&&A!=="reset"||l!=null)){Wn(s);return}d=d!=null?""+Un(d):"",l=l!=null?""+Un(l):d,oe||l===s.value||(s.value=l),s.defaultValue=l}p=p??E,p=typeof p!="function"&&typeof p!="symbol"&&!!p,s.checked=oe?s.checked:!!p,s.defaultChecked=!!p,W!=null&&typeof W!="function"&&typeof W!="symbol"&&typeof W!="boolean"&&(s.name=W),Wn(s)}function Gc(s,l,d){l==="number"&&yi(s.ownerDocument)===s||s.defaultValue===""+d||(s.defaultValue=""+d)}function da(s,l,d,p){if(s=s.options,l){l={};for(var E=0;E<d.length;E++)l["$"+d[E]]=!0;for(d=0;d<s.length;d++)E=l.hasOwnProperty("$"+s[d].value),s[d].selected!==E&&(s[d].selected=E),E&&p&&(s[d].defaultSelected=!0)}else{for(d=""+Un(d),l=null,E=0;E<s.length;E++){if(s[E].value===d){s[E].selected=!0,p&&(s[E].defaultSelected=!0);return}l!==null||s[E].disabled||(l=s[E])}l!==null&&(l.selected=!0)}}function Wc(s,l,d){if(l!=null&&(l=""+Un(l),l!==s.value&&(s.value=l),d==null)){s.defaultValue!==l&&(s.defaultValue=l);return}s.defaultValue=d!=null?""+Un(d):""}function bo(s,l,d,p){if(l==null){if(p!=null){if(d!=null)throw Error(r(92));if(we(p)){if(1<p.length)throw Error(r(93));p=p[0]}d=p}d==null&&(d=""),l=d}d=Un(l),s.defaultValue=d,p=s.textContent,p===d&&p!==""&&p!==null&&(s.value=p),Wn(s)}function qi(s,l){if(l){var d=s.firstChild;if(d&&d===s.lastChild&&d.nodeType===3){d.nodeValue=l;return}}s.textContent=l}var $o=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Yc(s,l,d){var p=l.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?p?s.setProperty(l,""):l==="float"?s.cssFloat="":s[l]="":p?s.setProperty(l,d):typeof d!="number"||d===0||$o.has(l)?l==="float"?s.cssFloat=d:s[l]=(""+d).trim():s[l]=d+"px"}function $c(s,l,d){if(l!=null&&typeof l!="object")throw Error(r(62));if(s=s.style,d!=null){for(var p in d)!d.hasOwnProperty(p)||l!=null&&l.hasOwnProperty(p)||(p.indexOf("--")===0?s.setProperty(p,""):p==="float"?s.cssFloat="":s[p]="");for(var E in l)p=l[E],l.hasOwnProperty(E)&&d[E]!==p&&Yc(s,E,p)}else for(var A in l)l.hasOwnProperty(A)&&Yc(s,A,l[A])}function rc(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ic=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Eo=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Aa(s){return Eo.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function Rs(){}var So=null;function Na(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Ko=null,fn=null;function wl(s){var l=Et(s);if(l&&(s=l.stateNode)){var d=s[ve]||null;e:switch(s=l.stateNode,l.type){case"input":if(xl(s,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),l=d.name,d.type==="radio"&&l!=null){for(d=s;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+ci(""+l)+'"][type="radio"]'),l=0;l<d.length;l++){var p=d[l];if(p!==s&&p.form===s.form){var E=p[ve]||null;if(!E)throw Error(r(90));xl(p,E.value,E.defaultValue,E.defaultValue,E.checked,E.defaultChecked,E.type,E.name)}}for(l=0;l<d.length;l++)p=d[l],p.form===s.form&&Yo(p)}break e;case"textarea":Wc(s,d.value,d.defaultValue);break e;case"select":l=d.value,l!=null&&da(s,!!d.multiple,l,!1)}}}var ac=!1;function Xo(s,l,d){if(ac)return s(l,d);ac=!0;try{var p=s(l);return p}finally{if(ac=!1,(Ko!==null||fn!==null)&&(Lg(),Ko&&(l=Ko,s=fn,fn=Ko=null,wl(l),s)))for(l=0;l<s.length;l++)wl(s[l])}}function Hi(s,l){var d=s.stateNode;if(d===null)return null;var p=d[ve]||null;if(p===null)return null;d=p[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(s=s.type,p=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!p;break e;default:s=!1}if(s)return null;if(d&&typeof d!="function")throw Error(r(231,l,typeof d));return d}var Ii=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bl=!1;if(Ii)try{var ur={};Object.defineProperty(ur,"passive",{get:function(){bl=!0}}),window.addEventListener("test",ur,ur),window.removeEventListener("test",ur,ur)}catch{bl=!1}var $a=null,El=null,ks=null;function Kc(){if(ks)return ks;var s,l=El,d=l.length,p,E="value"in $a?$a.value:$a.textContent,A=E.length;for(s=0;s<d&&l[s]===E[s];s++);var W=d-s;for(p=1;p<=W&&l[d-p]===E[A-p];p++);return ks=E.slice(s,1<p?1-p:void 0)}function Ka(s){var l=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&l===13&&(s=13)):s=l,s===10&&(s=13),32<=s||s===13?s:0}function To(){return!0}function Xa(){return!1}function xi(s){function l(d,p,E,A,W){this._reactName=d,this._targetInst=E,this.type=p,this.nativeEvent=A,this.target=W,this.currentTarget=null;for(var oe in s)s.hasOwnProperty(oe)&&(d=s[oe],this[oe]=d?d(A):A[oe]);return this.isDefaultPrevented=(A.defaultPrevented!=null?A.defaultPrevented:A.returnValue===!1)?To:Xa,this.isPropagationStopped=Xa,this}return g(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=To)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=To)},persist:function(){},isPersistent:To}),l}var Hs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zi=xi(Hs),Gs=g({},Hs,{view:0,detail:0}),Jo=xi(Gs),Ws,Ys,ds,Sl=g({},Gs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gn,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==ds&&(ds&&s.type==="mousemove"?(Ws=s.screenX-ds.screenX,Ys=s.screenY-ds.screenY):Ys=Ws=0,ds=s),Ws)},movementY:function(s){return"movementY"in s?s.movementY:Ys}}),sc=xi(Sl),Ja=g({},Sl,{dataTransfer:0}),$s=xi(Ja),Xc=g({},Gs,{relatedTarget:0}),Os=xi(Xc),oc=g({},Hs,{animationName:0,elapsedTime:0,pseudoElement:0}),D=xi(oc),ee=g({},Hs,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),be=xi(ee),Re=g({},Hs,{data:0}),Le=xi(Re),ct={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_t={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function an(s){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(s):(s=Zt[s])?!!l[s]:!1}function gn(){return an}var un=g({},Gs,{key:function(s){if(s.key){var l=ct[s.key]||s.key;if(l!=="Unidentified")return l}return s.type==="keypress"?(s=Ka(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?_t[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gn,charCode:function(s){return s.type==="keypress"?Ka(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Ka(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Vn=xi(un),kr=g({},Sl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xr=xi(kr),x=g({},Gs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gn}),V=xi(x),X=g({},Hs,{propertyName:0,elapsedTime:0,pseudoElement:0}),he=xi(X),Ue=g({},Sl,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Xe=xi(Ue),Ot=g({},Hs,{newState:0,oldState:0}),Tn=xi(Ot),Or=[9,13,27,32],Pn=Ii&&"CompositionEvent"in window,hr=null;Ii&&"documentMode"in document&&(hr=document.documentMode);var ea=Ii&&"TextEvent"in window&&!hr,ma=Ii&&(!Pn||hr&&8<hr&&11>=hr),br=" ",pa=!1;function Ds(s,l){switch(s){case"keyup":return Or.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qo(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Zo=!1;function Qa(s,l){switch(s){case"compositionend":return Qo(l);case"keypress":return l.which!==32?null:(pa=!0,br);case"textInput":return s=l.data,s===br&&pa?null:s;default:return null}}function Tl(s,l){if(Zo)return s==="compositionend"||!Pn&&Ds(s,l)?(s=Kc(),ks=El=$a=null,Zo=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return ma&&l.locale!=="ko"?null:l.data;default:return null}}var Uu={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qh(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l==="input"?!!Uu[s.type]:l==="textarea"}function Ls(s,l,d,p){Ko?fn?fn.push(p):fn=[p]:Ko=p,l=Vg(l,"onChange"),0<l.length&&(d=new Zi("onChange","change",null,d,p),s.push({event:d,listeners:l}))}var Ao=null,Al=null;function Zh(s){hE(s,0)}function No(s){var l=je(s);if(Yo(l))return s}function lc(s,l){if(s==="change")return l}var ms=!1;if(Ii){var Za;if(Ii){var el="oninput"in document;if(!el){var tl=document.createElement("div");tl.setAttribute("oninput","return;"),el=typeof tl.oninput=="function"}Za=el}else Za=!1;ms=Za&&(!document.documentMode||9<document.documentMode)}function Nl(){Ao&&(Ao.detachEvent("onpropertychange",Vu),Al=Ao=null)}function Vu(s){if(s.propertyName==="value"&&No(Al)){var l=[];Ls(l,Al,s,Na(s)),Xo(Zh,l)}}function zu(s,l,d){s==="focusin"?(Nl(),Ao=l,Al=d,Ao.attachEvent("onpropertychange",Vu)):s==="focusout"&&Nl()}function wi(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return No(Al)}function sd(s,l){if(s==="click")return No(l)}function nl(s,l){if(s==="input"||s==="change")return No(l)}function rl(s,l){return s===l&&(s!==0||1/s===1/l)||s!==s&&l!==l}var ga=typeof Object.is=="function"?Object.is:rl;function Cl(s,l){if(ga(s,l))return!0;if(typeof s!="object"||s===null||typeof l!="object"||l===null)return!1;var d=Object.keys(s),p=Object.keys(l);if(d.length!==p.length)return!1;for(p=0;p<d.length;p++){var E=d[p];if(!Qe.call(l,E)||!ga(s[E],l[E]))return!1}return!0}function qu(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Hu(s,l){var d=qu(s);s=0;for(var p;d;){if(d.nodeType===3){if(p=s+d.textContent.length,s<=l&&p>=l)return{node:d,offset:l-s};s=p}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=qu(d)}}function Il(s,l){return s&&l?s===l?!0:s&&s.nodeType===3?!1:l&&l.nodeType===3?Il(s,l.parentNode):"contains"in s?s.contains(l):s.compareDocumentPosition?!!(s.compareDocumentPosition(l)&16):!1:!1}function Rl(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var l=yi(s.document);l instanceof s.HTMLIFrameElement;){try{var d=typeof l.contentWindow.location.href=="string"}catch{d=!1}if(d)s=l.contentWindow;else break;l=yi(s.document)}return l}function il(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l&&(l==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||l==="textarea"||s.contentEditable==="true")}var Jc=Ii&&"documentMode"in document&&11>=document.documentMode,js=null,kl=null,Ca=null,Ks=!1;function lr(s,l,d){var p=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;Ks||js==null||js!==yi(p)||(p=js,"selectionStart"in p&&il(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),Ca&&Cl(Ca,p)||(Ca=p,p=Vg(kl,"onSelect"),0<p.length&&(l=new Zi("onSelect","select",null,l,d),s.push({event:l,listeners:p}),l.target=js)))}function Zn(s,l){var d={};return d[s.toLowerCase()]=l.toLowerCase(),d["Webkit"+s]="webkit"+l,d["Moz"+s]="moz"+l,d}var Dr={animationend:Zn("Animation","AnimationEnd"),animationiteration:Zn("Animation","AnimationIteration"),animationstart:Zn("Animation","AnimationStart"),transitionrun:Zn("Transition","TransitionRun"),transitionstart:Zn("Transition","TransitionStart"),transitioncancel:Zn("Transition","TransitionCancel"),transitionend:Zn("Transition","TransitionEnd")},bi={},al={};Ii&&(al=document.createElement("div").style,"AnimationEvent"in window||(delete Dr.animationend.animation,delete Dr.animationiteration.animation,delete Dr.animationstart.animation),"TransitionEvent"in window||delete Dr.transitionend.transition);function Co(s){if(bi[s])return bi[s];if(!Dr[s])return s;var l=Dr[s],d;for(d in l)if(l.hasOwnProperty(d)&&d in al)return bi[s]=l[d];return s}var Qc=Co("animationend"),ef=Co("animationiteration"),K0=Co("animationstart"),ug=Co("transitionrun"),hg=Co("transitionstart"),fg=Co("transitioncancel"),X0=Co("transitionend"),J0=new Map,Zc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Zc.push("scrollEnd");function Xs(s,l){J0.set(s,l),or(l,[s])}var tf=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},Ms=[],eu=0,od=0;function nf(){for(var s=eu,l=od=eu=0;l<s;){var d=Ms[l];Ms[l++]=null;var p=Ms[l];Ms[l++]=null;var E=Ms[l];Ms[l++]=null;var A=Ms[l];if(Ms[l++]=null,p!==null&&E!==null){var W=p.pending;W===null?E.next=E:(E.next=W.next,W.next=E),p.pending=E}A!==0&&af(d,E,A)}}function rf(s,l,d,p){Ms[eu++]=s,Ms[eu++]=l,Ms[eu++]=d,Ms[eu++]=p,od|=p,s.lanes|=p,s=s.alternate,s!==null&&(s.lanes|=p)}function ld(s,l,d,p){return rf(s,l,d,p),Ia(s)}function Ol(s,l){return rf(s,null,null,l),Ia(s)}function af(s,l,d){s.lanes|=d;var p=s.alternate;p!==null&&(p.lanes|=d);for(var E=!1,A=s.return;A!==null;)A.childLanes|=d,p=A.alternate,p!==null&&(p.childLanes|=d),A.tag===22&&(s=A.stateNode,s===null||s._visibility&1||(E=!0)),s=A,A=A.return;return s.tag===3?(A=s.stateNode,E&&l!==null&&(E=31-xt(d),s=A.hiddenUpdates,p=s[E],p===null?s[E]=[l]:p.push(l),l.lane=d|536870912),A):null}function Ia(s){if(50<ym)throw ym=0,v_=null,Error(r(185));for(var l=s.return;l!==null;)s=l,l=s.return;return s.tag===3?s.stateNode:null}var va={};function cd(s,l,d,p){this.tag=s,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ra(s,l,d,p){return new cd(s,l,d,p)}function ud(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Js(s,l){var d=s.alternate;return d===null?(d=Ra(s.tag,l,s.key,s.mode),d.elementType=s.elementType,d.type=s.type,d.stateNode=s.stateNode,d.alternate=s,s.alternate=d):(d.pendingProps=l,d.type=s.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=s.flags&65011712,d.childLanes=s.childLanes,d.lanes=s.lanes,d.child=s.child,d.memoizedProps=s.memoizedProps,d.memoizedState=s.memoizedState,d.updateQueue=s.updateQueue,l=s.dependencies,d.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},d.sibling=s.sibling,d.index=s.index,d.ref=s.ref,d.refCleanup=s.refCleanup,d}function sf(s,l){s.flags&=65011714;var d=s.alternate;return d===null?(s.childLanes=0,s.lanes=l,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=d.childLanes,s.lanes=d.lanes,s.child=d.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=d.memoizedProps,s.memoizedState=d.memoizedState,s.updateQueue=d.updateQueue,s.type=d.type,l=d.dependencies,s.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),s}function Gu(s,l,d,p,E,A){var W=0;if(p=s,typeof s=="function")ud(s)&&(W=1);else if(typeof s=="string")W=uD(s,d,q.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case I:return s=Ra(31,d,l,E),s.elementType=I,s.lanes=A,s;case w:return cc(d.children,E,A,l);case T:W=8,E|=24;break;case N:return s=Ra(12,d,l,E|2),s.elementType=N,s.lanes=A,s;case K:return s=Ra(13,d,l,E),s.elementType=K,s.lanes=A,s;case U:return s=Ra(19,d,l,E),s.elementType=U,s.lanes=A,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case R:W=10;break e;case P:W=9;break e;case j:W=11;break e;case C:W=14;break e;case k:W=16,p=null;break e}W=29,d=Error(r(130,s===null?"null":typeof s,"")),p=null}return l=Ra(W,d,l,E),l.elementType=s,l.type=p,l.lanes=A,l}function cc(s,l,d,p){return s=Ra(7,s,p,l),s.lanes=d,s}function of(s,l,d){return s=Ra(6,s,null,l),s.lanes=d,s}function hd(s){var l=Ra(18,null,null,0);return l.stateNode=s,l}function Wu(s,l,d){return l=Ra(4,s.children!==null?s.children:[],s.key,l),l.lanes=d,l.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},l}var fd=new WeakMap;function Qs(s,l){if(typeof s=="object"&&s!==null){var d=fd.get(s);return d!==void 0?d:(l={value:s,source:l,stack:It(l)},fd.set(s,l),l)}return{value:s,source:l,stack:It(l)}}var Yu=[],tu=0,dd=null,lf=0,Zs=[],eo=0,uc=null,to=1,no="";function Ps(s,l){Yu[tu++]=lf,Yu[tu++]=dd,dd=s,lf=l}function dg(s,l,d){Zs[eo++]=to,Zs[eo++]=no,Zs[eo++]=uc,uc=s;var p=to;s=no;var E=32-xt(p)-1;p&=~(1<<E),d+=1;var A=32-xt(l)+E;if(30<A){var W=E-E%5;A=(p&(1<<W)-1).toString(32),p>>=W,E-=W,to=1<<32-xt(l)+E|d<<E|p,no=A+s}else to=1<<A|d<<E|p,no=s}function Q0(s){s.return!==null&&(Ps(s,1),dg(s,1,0))}function md(s){for(;s===dd;)dd=Yu[--tu],Yu[tu]=null,lf=Yu[--tu],Yu[tu]=null;for(;s===uc;)uc=Zs[--eo],Zs[eo]=null,no=Zs[--eo],Zs[eo]=null,to=Zs[--eo],Zs[eo]=null}function mg(s,l){Zs[eo++]=to,Zs[eo++]=no,Zs[eo++]=uc,to=l.id,no=l.overflow,uc=s}var _a=null,Hr=null,qn=!1,es=null,ui=!1,Io=Error(r(519));function hc(s){var l=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw $u(Qs(l,s)),Io}function Z0(s){var l=s.stateNode,d=s.type,p=s.memoizedProps;switch(l[de]=s,l[ve]=p,d){case"dialog":Gn("cancel",l),Gn("close",l);break;case"iframe":case"object":case"embed":Gn("load",l);break;case"video":case"audio":for(d=0;d<wm.length;d++)Gn(wm[d],l);break;case"source":Gn("error",l);break;case"img":case"image":case"link":Gn("error",l),Gn("load",l);break;case"details":Gn("toggle",l);break;case"input":Gn("invalid",l),Bu(l,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0);break;case"select":Gn("invalid",l);break;case"textarea":Gn("invalid",l),bo(l,p.value,p.defaultValue,p.children)}d=p.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||l.textContent===""+d||p.suppressHydrationWarning===!0||pE(l.textContent,d)?(p.popover!=null&&(Gn("beforetoggle",l),Gn("toggle",l)),p.onScroll!=null&&Gn("scroll",l),p.onScrollEnd!=null&&Gn("scrollend",l),p.onClick!=null&&(l.onclick=Rs),l=!0):l=!1,l||hc(s,!0)}function Dl(s){for(_a=s.return;_a;)switch(_a.tag){case 5:case 31:case 13:ui=!1;return;case 27:case 3:ui=!0;return;default:_a=_a.return}}function ya(s){if(s!==_a)return!1;if(!qn)return Dl(s),qn=!0,!1;var l=s.tag,d;if((d=l!==3&&l!==27)&&((d=l===5)&&(d=s.type,d=!(d!=="form"&&d!=="button")||O_(s.type,s.memoizedProps)),d=!d),d&&Hr&&hc(s),Dl(s),l===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));Hr=SE(s)}else if(l===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));Hr=SE(s)}else l===27?(l=Hr,lh(s.type)?(s=P_,P_=null,Hr=s):Hr=l):Hr=_a?cl(s.stateNode.nextSibling):null;return!0}function nu(){Hr=_a=null,qn=!1}function em(){var s=es;return s!==null&&(lo===null?lo=s:lo.push.apply(lo,s),es=null),s}function $u(s){es===null?es=[s]:es.push(s)}var pd=re(null),fc=null,sl=null;function dc(s,l,d){G(pd,l._currentValue),l._currentValue=d}function ro(s){s._currentValue=pd.current,L(pd)}function Ku(s,l,d){for(;s!==null;){var p=s.alternate;if((s.childLanes&l)!==l?(s.childLanes|=l,p!==null&&(p.childLanes|=l)):p!==null&&(p.childLanes&l)!==l&&(p.childLanes|=l),s===d)break;s=s.return}}function ru(s,l,d,p){var E=s.child;for(E!==null&&(E.return=s);E!==null;){var A=E.dependencies;if(A!==null){var W=E.child;A=A.firstContext;e:for(;A!==null;){var oe=A;A=E;for(var Ne=0;Ne<l.length;Ne++)if(oe.context===l[Ne]){A.lanes|=d,oe=A.alternate,oe!==null&&(oe.lanes|=d),Ku(A.return,d,s),p||(W=null);break e}A=oe.next}}else if(E.tag===18){if(W=E.return,W===null)throw Error(r(341));W.lanes|=d,A=W.alternate,A!==null&&(A.lanes|=d),Ku(W,d,s),W=null}else W=E.child;if(W!==null)W.return=E;else for(W=E;W!==null;){if(W===s){W=null;break}if(E=W.sibling,E!==null){E.return=W.return,W=E;break}W=W.return}E=W}}function mc(s,l,d,p){s=null;for(var E=l,A=!1;E!==null;){if(!A){if((E.flags&524288)!==0)A=!0;else if((E.flags&262144)!==0)break}if(E.tag===10){var W=E.alternate;if(W===null)throw Error(r(387));if(W=W.memoizedProps,W!==null){var oe=E.type;ga(E.pendingProps.value,W.value)||(s!==null?s.push(oe):s=[oe])}}else if(E===ge.current){if(W=E.alternate,W===null)throw Error(r(387));W.memoizedState.memoizedState!==E.memoizedState.memoizedState&&(s!==null?s.push(Am):s=[Am])}E=E.return}s!==null&&ru(l,s,d,p),l.flags|=262144}function gd(s){for(s=s.firstContext;s!==null;){if(!ga(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function pc(s){fc=s,sl=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function xa(s){return pg(fc,s)}function vd(s,l){return fc===null&&pc(s),pg(s,l)}function pg(s,l){var d=l._currentValue;if(l={context:l,memoizedValue:d,next:null},sl===null){if(s===null)throw Error(r(308));sl=l,s.dependencies={lanes:0,firstContext:l},s.flags|=524288}else sl=sl.next=l;return d}var Mv=typeof AbortController<"u"?AbortController:function(){var s=[],l=this.signal={aborted:!1,addEventListener:function(d,p){s.push(p)}};this.abort=function(){l.aborted=!0,s.forEach(function(d){return d()})}},Pv=n.unstable_scheduleCallback,Fv=n.unstable_NormalPriority,Ei={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Xu(){return{controller:new Mv,data:new Map,refCount:0}}function cf(s){s.refCount--,s.refCount===0&&Pv(Fv,function(){s.controller.abort()})}var uf=null,_d=0,y=0,S=null;function F(s,l){if(uf===null){var d=uf=[];_d=0,y=E_(),S={status:"pending",value:void 0,then:function(p){d.push(p)}}}return _d++,l.then(H,H),l}function H(){if(--_d===0&&uf!==null){S!==null&&(S.status="fulfilled");var s=uf;uf=null,y=0,S=null;for(var l=0;l<s.length;l++)(0,s[l])()}}function te(s,l){var d=[],p={status:"pending",value:null,reason:null,then:function(E){d.push(E)}};return s.then(function(){p.status="fulfilled",p.value=l;for(var E=0;E<d.length;E++)(0,d[E])(l)},function(E){for(p.status="rejected",p.reason=E,E=0;E<d.length;E++)(0,d[E])(void 0)}),p}var ie=fe.S;fe.S=function(s,l){B4=kt(),typeof l=="object"&&l!==null&&typeof l.then=="function"&&F(s,l),ie!==null&&ie(s,l)};var se=re(null);function ce(){var s=se.current;return s!==null?s:Wr.pooledCache}function me(s,l){l===null?G(se,se.current):G(se,l.pool)}function Ee(){var s=ce();return s===null?null:{parent:Ei._currentValue,pool:s}}var ke=Error(r(460)),Ge=Error(r(474)),xe=Error(r(542)),De={then:function(){}};function Ve(s){return s=s.status,s==="fulfilled"||s==="rejected"}function st(s,l,d){switch(d=s[d],d===void 0?s.push(l):d!==l&&(l.then(Rs,Rs),l=d),l.status){case"fulfilled":return l.value;case"rejected":throw s=l.reason,Ct(s),s;default:if(typeof l.status=="string")l.then(Rs,Rs);else{if(s=Wr,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=l,s.status="pending",s.then(function(p){if(l.status==="pending"){var E=l;E.status="fulfilled",E.value=p}},function(p){if(l.status==="pending"){var E=l;E.status="rejected",E.reason=p}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw s=l.reason,Ct(s),s}throw at=l,ke}}function qe(s){try{var l=s._init;return l(s._payload)}catch(d){throw d!==null&&typeof d=="object"&&typeof d.then=="function"?(at=d,ke):d}}var at=null;function ft(){if(at===null)throw Error(r(459));var s=at;return at=null,s}function Ct(s){if(s===ke||s===xe)throw Error(r(483))}var vt=null,sn=0;function Jt(s){var l=sn;return sn+=1,vt===null&&(vt=[]),st(vt,s,l)}function An(s,l){l=l.props.ref,s.ref=l!==void 0?l:null}function tn(s,l){throw l.$$typeof===_?Error(r(525)):(s=Object.prototype.toString.call(l),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":s)))}function zn(s){function l(Pe,Oe){if(s){var Ye=Pe.deletions;Ye===null?(Pe.deletions=[Oe],Pe.flags|=16):Ye.push(Oe)}}function d(Pe,Oe){if(!s)return null;for(;Oe!==null;)l(Pe,Oe),Oe=Oe.sibling;return null}function p(Pe){for(var Oe=new Map;Pe!==null;)Pe.key!==null?Oe.set(Pe.key,Pe):Oe.set(Pe.index,Pe),Pe=Pe.sibling;return Oe}function E(Pe,Oe){return Pe=Js(Pe,Oe),Pe.index=0,Pe.sibling=null,Pe}function A(Pe,Oe,Ye){return Pe.index=Ye,s?(Ye=Pe.alternate,Ye!==null?(Ye=Ye.index,Ye<Oe?(Pe.flags|=67108866,Oe):Ye):(Pe.flags|=67108866,Oe)):(Pe.flags|=1048576,Oe)}function W(Pe){return s&&Pe.alternate===null&&(Pe.flags|=67108866),Pe}function oe(Pe,Oe,Ye,dt){return Oe===null||Oe.tag!==6?(Oe=of(Ye,Pe.mode,dt),Oe.return=Pe,Oe):(Oe=E(Oe,Ye),Oe.return=Pe,Oe)}function Ne(Pe,Oe,Ye,dt){var _n=Ye.type;return _n===w?ut(Pe,Oe,Ye.props.children,dt,Ye.key):Oe!==null&&(Oe.elementType===_n||typeof _n=="object"&&_n!==null&&_n.$$typeof===k&&qe(_n)===Oe.type)?(Oe=E(Oe,Ye.props),An(Oe,Ye),Oe.return=Pe,Oe):(Oe=Gu(Ye.type,Ye.key,Ye.props,null,Pe.mode,dt),An(Oe,Ye),Oe.return=Pe,Oe)}function $e(Pe,Oe,Ye,dt){return Oe===null||Oe.tag!==4||Oe.stateNode.containerInfo!==Ye.containerInfo||Oe.stateNode.implementation!==Ye.implementation?(Oe=Wu(Ye,Pe.mode,dt),Oe.return=Pe,Oe):(Oe=E(Oe,Ye.children||[]),Oe.return=Pe,Oe)}function ut(Pe,Oe,Ye,dt,_n){return Oe===null||Oe.tag!==7?(Oe=cc(Ye,Pe.mode,dt,_n),Oe.return=Pe,Oe):(Oe=E(Oe,Ye),Oe.return=Pe,Oe)}function gt(Pe,Oe,Ye){if(typeof Oe=="string"&&Oe!==""||typeof Oe=="number"||typeof Oe=="bigint")return Oe=of(""+Oe,Pe.mode,Ye),Oe.return=Pe,Oe;if(typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case v:return Ye=Gu(Oe.type,Oe.key,Oe.props,null,Pe.mode,Ye),An(Ye,Oe),Ye.return=Pe,Ye;case b:return Oe=Wu(Oe,Pe.mode,Ye),Oe.return=Pe,Oe;case k:return Oe=qe(Oe),gt(Pe,Oe,Ye)}if(we(Oe)||M(Oe))return Oe=cc(Oe,Pe.mode,Ye,null),Oe.return=Pe,Oe;if(typeof Oe.then=="function")return gt(Pe,Jt(Oe),Ye);if(Oe.$$typeof===R)return gt(Pe,vd(Pe,Oe),Ye);tn(Pe,Oe)}return null}function Je(Pe,Oe,Ye,dt){var _n=Oe!==null?Oe.key:null;if(typeof Ye=="string"&&Ye!==""||typeof Ye=="number"||typeof Ye=="bigint")return _n!==null?null:oe(Pe,Oe,""+Ye,dt);if(typeof Ye=="object"&&Ye!==null){switch(Ye.$$typeof){case v:return Ye.key===_n?Ne(Pe,Oe,Ye,dt):null;case b:return Ye.key===_n?$e(Pe,Oe,Ye,dt):null;case k:return Ye=qe(Ye),Je(Pe,Oe,Ye,dt)}if(we(Ye)||M(Ye))return _n!==null?null:ut(Pe,Oe,Ye,dt,null);if(typeof Ye.then=="function")return Je(Pe,Oe,Jt(Ye),dt);if(Ye.$$typeof===R)return Je(Pe,Oe,vd(Pe,Ye),dt);tn(Pe,Ye)}return null}function rt(Pe,Oe,Ye,dt,_n){if(typeof dt=="string"&&dt!==""||typeof dt=="number"||typeof dt=="bigint")return Pe=Pe.get(Ye)||null,oe(Oe,Pe,""+dt,_n);if(typeof dt=="object"&&dt!==null){switch(dt.$$typeof){case v:return Pe=Pe.get(dt.key===null?Ye:dt.key)||null,Ne(Oe,Pe,dt,_n);case b:return Pe=Pe.get(dt.key===null?Ye:dt.key)||null,$e(Oe,Pe,dt,_n);case k:return dt=qe(dt),rt(Pe,Oe,Ye,dt,_n)}if(we(dt)||M(dt))return Pe=Pe.get(Ye)||null,ut(Oe,Pe,dt,_n,null);if(typeof dt.then=="function")return rt(Pe,Oe,Ye,Jt(dt),_n);if(dt.$$typeof===R)return rt(Pe,Oe,Ye,vd(Oe,dt),_n);tn(Oe,dt)}return null}function rn(Pe,Oe,Ye,dt){for(var _n=null,fr=null,cn=Oe,Mn=Oe=0,$n=null;cn!==null&&Mn<Ye.length;Mn++){cn.index>Mn?($n=cn,cn=null):$n=cn.sibling;var dr=Je(Pe,cn,Ye[Mn],dt);if(dr===null){cn===null&&(cn=$n);break}s&&cn&&dr.alternate===null&&l(Pe,cn),Oe=A(dr,Oe,Mn),fr===null?_n=dr:fr.sibling=dr,fr=dr,cn=$n}if(Mn===Ye.length)return d(Pe,cn),qn&&Ps(Pe,Mn),_n;if(cn===null){for(;Mn<Ye.length;Mn++)cn=gt(Pe,Ye[Mn],dt),cn!==null&&(Oe=A(cn,Oe,Mn),fr===null?_n=cn:fr.sibling=cn,fr=cn);return qn&&Ps(Pe,Mn),_n}for(cn=p(cn);Mn<Ye.length;Mn++)$n=rt(cn,Pe,Mn,Ye[Mn],dt),$n!==null&&(s&&$n.alternate!==null&&cn.delete($n.key===null?Mn:$n.key),Oe=A($n,Oe,Mn),fr===null?_n=$n:fr.sibling=$n,fr=$n);return s&&cn.forEach(function(dh){return l(Pe,dh)}),qn&&Ps(Pe,Mn),_n}function bn(Pe,Oe,Ye,dt){if(Ye==null)throw Error(r(151));for(var _n=null,fr=null,cn=Oe,Mn=Oe=0,$n=null,dr=Ye.next();cn!==null&&!dr.done;Mn++,dr=Ye.next()){cn.index>Mn?($n=cn,cn=null):$n=cn.sibling;var dh=Je(Pe,cn,dr.value,dt);if(dh===null){cn===null&&(cn=$n);break}s&&cn&&dh.alternate===null&&l(Pe,cn),Oe=A(dh,Oe,Mn),fr===null?_n=dh:fr.sibling=dh,fr=dh,cn=$n}if(dr.done)return d(Pe,cn),qn&&Ps(Pe,Mn),_n;if(cn===null){for(;!dr.done;Mn++,dr=Ye.next())dr=gt(Pe,dr.value,dt),dr!==null&&(Oe=A(dr,Oe,Mn),fr===null?_n=dr:fr.sibling=dr,fr=dr);return qn&&Ps(Pe,Mn),_n}for(cn=p(cn);!dr.done;Mn++,dr=Ye.next())dr=rt(cn,Pe,Mn,dr.value,dt),dr!==null&&(s&&dr.alternate!==null&&cn.delete(dr.key===null?Mn:dr.key),Oe=A(dr,Oe,Mn),fr===null?_n=dr:fr.sibling=dr,fr=dr);return s&&cn.forEach(function(wD){return l(Pe,wD)}),qn&&Ps(Pe,Mn),_n}function Pr(Pe,Oe,Ye,dt){if(typeof Ye=="object"&&Ye!==null&&Ye.type===w&&Ye.key===null&&(Ye=Ye.props.children),typeof Ye=="object"&&Ye!==null){switch(Ye.$$typeof){case v:e:{for(var _n=Ye.key;Oe!==null;){if(Oe.key===_n){if(_n=Ye.type,_n===w){if(Oe.tag===7){d(Pe,Oe.sibling),dt=E(Oe,Ye.props.children),dt.return=Pe,Pe=dt;break e}}else if(Oe.elementType===_n||typeof _n=="object"&&_n!==null&&_n.$$typeof===k&&qe(_n)===Oe.type){d(Pe,Oe.sibling),dt=E(Oe,Ye.props),An(dt,Ye),dt.return=Pe,Pe=dt;break e}d(Pe,Oe);break}else l(Pe,Oe);Oe=Oe.sibling}Ye.type===w?(dt=cc(Ye.props.children,Pe.mode,dt,Ye.key),dt.return=Pe,Pe=dt):(dt=Gu(Ye.type,Ye.key,Ye.props,null,Pe.mode,dt),An(dt,Ye),dt.return=Pe,Pe=dt)}return W(Pe);case b:e:{for(_n=Ye.key;Oe!==null;){if(Oe.key===_n)if(Oe.tag===4&&Oe.stateNode.containerInfo===Ye.containerInfo&&Oe.stateNode.implementation===Ye.implementation){d(Pe,Oe.sibling),dt=E(Oe,Ye.children||[]),dt.return=Pe,Pe=dt;break e}else{d(Pe,Oe);break}else l(Pe,Oe);Oe=Oe.sibling}dt=Wu(Ye,Pe.mode,dt),dt.return=Pe,Pe=dt}return W(Pe);case k:return Ye=qe(Ye),Pr(Pe,Oe,Ye,dt)}if(we(Ye))return rn(Pe,Oe,Ye,dt);if(M(Ye)){if(_n=M(Ye),typeof _n!="function")throw Error(r(150));return Ye=_n.call(Ye),bn(Pe,Oe,Ye,dt)}if(typeof Ye.then=="function")return Pr(Pe,Oe,Jt(Ye),dt);if(Ye.$$typeof===R)return Pr(Pe,Oe,vd(Pe,Ye),dt);tn(Pe,Ye)}return typeof Ye=="string"&&Ye!==""||typeof Ye=="number"||typeof Ye=="bigint"?(Ye=""+Ye,Oe!==null&&Oe.tag===6?(d(Pe,Oe.sibling),dt=E(Oe,Ye),dt.return=Pe,Pe=dt):(d(Pe,Oe),dt=of(Ye,Pe.mode,dt),dt.return=Pe,Pe=dt),W(Pe)):d(Pe,Oe)}return function(Pe,Oe,Ye,dt){try{sn=0;var _n=Pr(Pe,Oe,Ye,dt);return vt=null,_n}catch(cn){if(cn===ke||cn===xe)throw cn;var fr=Ra(29,cn,null,Pe.mode);return fr.lanes=dt,fr.return=Pe,fr}finally{}}}var Gr=zn(!0),Rn=zn(!1),Qt=!1;function Ut(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Zr(s,l){s=s.updateQueue,l.updateQueue===s&&(l.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function wn(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Ln(s,l,d){var p=s.updateQueue;if(p===null)return null;if(p=p.shared,(_r&2)!==0){var E=p.pending;return E===null?l.next=l:(l.next=E.next,E.next=l),p.pending=l,l=Ia(s),af(s,null,d),l}return rf(s,p,l,d),Ia(s)}function gr(s,l,d){if(l=l.updateQueue,l!==null&&(l=l.shared,(d&4194048)!==0)){var p=l.lanes;p&=s.pendingLanes,d|=p,l.lanes=d,Xr(s,d)}}function Gi(s,l){var d=s.updateQueue,p=s.alternate;if(p!==null&&(p=p.updateQueue,d===p)){var E=null,A=null;if(d=d.firstBaseUpdate,d!==null){do{var W={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};A===null?E=A=W:A=A.next=W,d=d.next}while(d!==null);A===null?E=A=l:A=A.next=l}else E=A=l;d={baseState:p.baseState,firstBaseUpdate:E,lastBaseUpdate:A,shared:p.shared,callbacks:p.callbacks},s.updateQueue=d;return}s=d.lastBaseUpdate,s===null?d.firstBaseUpdate=l:s.next=l,d.lastBaseUpdate=l}var wa=!1;function Lr(){if(wa){var s=S;if(s!==null)throw s}}function Ri(s,l,d,p){wa=!1;var E=s.updateQueue;Qt=!1;var A=E.firstBaseUpdate,W=E.lastBaseUpdate,oe=E.shared.pending;if(oe!==null){E.shared.pending=null;var Ne=oe,$e=Ne.next;Ne.next=null,W===null?A=$e:W.next=$e,W=Ne;var ut=s.alternate;ut!==null&&(ut=ut.updateQueue,oe=ut.lastBaseUpdate,oe!==W&&(oe===null?ut.firstBaseUpdate=$e:oe.next=$e,ut.lastBaseUpdate=Ne))}if(A!==null){var gt=E.baseState;W=0,ut=$e=Ne=null,oe=A;do{var Je=oe.lane&-536870913,rt=Je!==oe.lane;if(rt?(Yn&Je)===Je:(p&Je)===Je){Je!==0&&Je===y&&(wa=!0),ut!==null&&(ut=ut.next={lane:0,tag:oe.tag,payload:oe.payload,callback:null,next:null});e:{var rn=s,bn=oe;Je=l;var Pr=d;switch(bn.tag){case 1:if(rn=bn.payload,typeof rn=="function"){gt=rn.call(Pr,gt,Je);break e}gt=rn;break e;case 3:rn.flags=rn.flags&-65537|128;case 0:if(rn=bn.payload,Je=typeof rn=="function"?rn.call(Pr,gt,Je):rn,Je==null)break e;gt=g({},gt,Je);break e;case 2:Qt=!0}}Je=oe.callback,Je!==null&&(s.flags|=64,rt&&(s.flags|=8192),rt=E.callbacks,rt===null?E.callbacks=[Je]:rt.push(Je))}else rt={lane:Je,tag:oe.tag,payload:oe.payload,callback:oe.callback,next:null},ut===null?($e=ut=rt,Ne=gt):ut=ut.next=rt,W|=Je;if(oe=oe.next,oe===null){if(oe=E.shared.pending,oe===null)break;rt=oe,oe=rt.next,rt.next=null,E.lastBaseUpdate=rt,E.shared.pending=null}}while(!0);ut===null&&(Ne=gt),E.baseState=Ne,E.firstBaseUpdate=$e,E.lastBaseUpdate=ut,A===null&&(E.shared.lanes=0),rh|=W,s.lanes=W,s.memoizedState=gt}}function ka(s,l){if(typeof s!="function")throw Error(r(191,s));s.call(l)}function ki(s,l){var d=s.callbacks;if(d!==null)for(s.callbacks=null,s=0;s<d.length;s++)ka(d[s],l)}var Fn=re(null),rr=re(0);function ei(s,l){s=du,G(rr,s),G(Fn,l),du=s|l.baseLanes}function cr(){G(rr,du),G(Fn,Fn.current)}function Wi(){du=rr.current,L(Fn),L(rr)}var ti=re(null),ir=null;function Si(s){var l=s.alternate;G(er,er.current&1),G(ti,s),ir===null&&(l===null||Fn.current!==null||l.memoizedState!==null)&&(ir=s)}function vr(s){G(er,er.current),G(ti,s),ir===null&&(ir=s)}function Oi(s){s.tag===22?(G(er,er.current),G(ti,s),ir===null&&(ir=s)):Di()}function Di(){G(er,er.current),G(ti,ti.current)}function Er(s){L(ti),ir===s&&(ir=null),L(er)}var er=re(0);function Oa(s){for(var l=s;l!==null;){if(l.tag===13){var d=l.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||j_(d)||M_(d)))return l}else if(l.tag===19&&(l.memoizedProps.revealOrder==="forwards"||l.memoizedProps.revealOrder==="backwards"||l.memoizedProps.revealOrder==="unstable_legacy-backwards"||l.memoizedProps.revealOrder==="together")){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var hi=0,dn=null,vn=null,ar=null,ps=!1,io=!1,ts=!1,Li=0,gc=0,vc=null,yd=0;function jr(){throw Error(r(321))}function tm(s,l){if(l===null)return!1;for(var d=0;d<l.length&&d<s.length;d++)if(!ga(s[d],l[d]))return!1;return!0}function nm(s,l,d,p,E,A){return hi=A,dn=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,fe.H=s===null||s.memoizedState===null?Xb:Wv,ts=!1,A=d(p,E),ts=!1,io&&(A=Ll(l,d,p,E)),xd(s),A}function xd(s){fe.H=um;var l=vn!==null&&vn.next!==null;if(hi=0,ar=vn=dn=null,ps=!1,gc=0,vc=null,l)throw Error(r(300));s===null||na||(s=s.dependencies,s!==null&&gd(s)&&(na=!0))}function Ll(s,l,d,p){dn=s;var E=0;do{if(io&&(vc=null),gc=0,io=!1,25<=E)throw Error(r(301));if(E+=1,ar=vn=null,s.updateQueue!=null){var A=s.updateQueue;A.lastEffect=null,A.events=null,A.stores=null,A.memoCache!=null&&(A.memoCache.index=0)}fe.H=Jb,A=l(d,p)}while(io);return A}function Bv(){var s=fe.H,l=s.useState()[0];return l=typeof l.then=="function"?_c(l):l,s=s.useState()[0],(vn!==null?vn.memoizedState:null)!==s&&(dn.flags|=1024),l}function rm(){var s=Li!==0;return Li=0,s}function im(s,l,d){l.updateQueue=s.updateQueue,l.flags&=-2053,s.lanes&=~d}function wd(s){if(ps){for(s=s.memoizedState;s!==null;){var l=s.queue;l!==null&&(l.pending=null),s=s.next}ps=!1}hi=0,ar=vn=dn=null,io=!1,gc=Li=0,vc=null}function ta(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ar===null?dn.memoizedState=ar=s:ar=ar.next=s,ar}function fi(){if(vn===null){var s=dn.alternate;s=s!==null?s.memoizedState:null}else s=vn.next;var l=ar===null?dn.memoizedState:ar.next;if(l!==null)ar=l,vn=s;else{if(s===null)throw dn.alternate===null?Error(r(467)):Error(r(310));vn=s,s={memoizedState:vn.memoizedState,baseState:vn.baseState,baseQueue:vn.baseQueue,queue:vn.queue,next:null},ar===null?dn.memoizedState=ar=s:ar=ar.next=s}return ar}function hf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function _c(s){var l=gc;return gc+=1,vc===null&&(vc=[]),s=st(vc,s,l),l=dn,(ar===null?l.memoizedState:ar.next)===null&&(l=l.alternate,fe.H=l===null||l.memoizedState===null?Xb:Wv),s}function Ju(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return _c(s);if(s.$$typeof===R)return xa(s)}throw Error(r(438,String(s)))}function iu(s){var l=null,d=dn.updateQueue;if(d!==null&&(l=d.memoCache),l==null){var p=dn.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(l={data:p.data.map(function(E){return E.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),d===null&&(d=hf(),dn.updateQueue=d),d.memoCache=l,d=l.data[l.index],d===void 0)for(d=l.data[l.index]=Array(s),p=0;p<s;p++)d[p]=z;return l.index++,d}function ol(s,l){return typeof l=="function"?l(s):l}function bd(s){var l=fi();return Qu(l,vn,s)}function Qu(s,l,d){var p=s.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=d;var E=s.baseQueue,A=p.pending;if(A!==null){if(E!==null){var W=E.next;E.next=A.next,A.next=W}l.baseQueue=E=A,p.pending=null}if(A=s.baseState,E===null)s.memoizedState=A;else{l=E.next;var oe=W=null,Ne=null,$e=l,ut=!1;do{var gt=$e.lane&-536870913;if(gt!==$e.lane?(Yn&gt)===gt:(hi&gt)===gt){var Je=$e.revertLane;if(Je===0)Ne!==null&&(Ne=Ne.next={lane:0,revertLane:0,gesture:null,action:$e.action,hasEagerState:$e.hasEagerState,eagerState:$e.eagerState,next:null}),gt===y&&(ut=!0);else if((hi&Je)===Je){$e=$e.next,Je===y&&(ut=!0);continue}else gt={lane:0,revertLane:$e.revertLane,gesture:null,action:$e.action,hasEagerState:$e.hasEagerState,eagerState:$e.eagerState,next:null},Ne===null?(oe=Ne=gt,W=A):Ne=Ne.next=gt,dn.lanes|=Je,rh|=Je;gt=$e.action,ts&&d(A,gt),A=$e.hasEagerState?$e.eagerState:d(A,gt)}else Je={lane:gt,revertLane:$e.revertLane,gesture:$e.gesture,action:$e.action,hasEagerState:$e.hasEagerState,eagerState:$e.eagerState,next:null},Ne===null?(oe=Ne=Je,W=A):Ne=Ne.next=Je,dn.lanes|=gt,rh|=gt;$e=$e.next}while($e!==null&&$e!==l);if(Ne===null?W=A:Ne.next=oe,!ga(A,s.memoizedState)&&(na=!0,ut&&(d=S,d!==null)))throw d;s.memoizedState=A,s.baseState=W,s.baseQueue=Ne,p.lastRenderedState=A}return E===null&&(p.lanes=0),[s.memoizedState,p.dispatch]}function Ed(s){var l=fi(),d=l.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=s;var p=d.dispatch,E=d.pending,A=l.memoizedState;if(E!==null){d.pending=null;var W=E=E.next;do A=s(A,W.action),W=W.next;while(W!==E);ga(A,l.memoizedState)||(na=!0),l.memoizedState=A,l.baseQueue===null&&(l.baseState=A),d.lastRenderedState=A}return[A,p]}function Sd(s,l,d){var p=dn,E=fi(),A=qn;if(A){if(d===void 0)throw Error(r(407));d=d()}else d=l();var W=!ga((vn||E).memoizedState,d);if(W&&(E.memoizedState=d,na=!0),E=E.queue,Uv(sm.bind(null,p,E,s),[s]),E.getSnapshot!==l||W||ar!==null&&ar.memoizedState.tag&1){if(p.flags|=2048,su(9,{destroy:void 0},am.bind(null,p,E,d,l),null),Wr===null)throw Error(r(349));A||(hi&127)!==0||jl(p,l,d)}return d}function jl(s,l,d){s.flags|=16384,s={getSnapshot:l,value:d},l=dn.updateQueue,l===null?(l=hf(),dn.updateQueue=l,l.stores=[s]):(d=l.stores,d===null?l.stores=[s]:d.push(s))}function am(s,l,d,p){l.value=d,l.getSnapshot=p,gg(l)&&om(s)}function sm(s,l,d){return d(function(){gg(l)&&om(s)})}function gg(s){var l=s.getSnapshot;s=s.value;try{var d=l();return!ga(s,d)}catch{return!0}}function om(s){var l=Ol(s,2);l!==null&&co(l,s,2)}function yc(s){var l=ta();if(typeof s=="function"){var d=s;if(s=d(),ts){Rt(!0);try{d()}finally{Rt(!1)}}}return l.memoizedState=l.baseState=s,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ol,lastRenderedState:s},l}function vg(s,l,d,p){return s.baseState=d,Qu(s,vn,typeof p=="function"?p:ol)}function _g(s,l,d,p,E){if(bg(s))throw Error(r(485));if(s=l.action,s!==null){var A={payload:E,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(W){A.listeners.push(W)}};fe.T!==null?d(!0):A.isTransition=!1,p(A),d=l.pending,d===null?(A.next=l.pending=A,yg(l,A)):(A.next=d.next,l.pending=d.next=A)}}function yg(s,l){var d=l.action,p=l.payload,E=s.state;if(l.isTransition){var A=fe.T,W={};fe.T=W;try{var oe=d(E,p),Ne=fe.S;Ne!==null&&Ne(W,oe),lm(s,l,oe)}catch($e){au(s,l,$e)}finally{A!==null&&W.types!==null&&(A.types=W.types),fe.T=A}}else try{A=d(E,p),lm(s,l,A)}catch($e){au(s,l,$e)}}function lm(s,l,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(p){xg(s,l,p)},function(p){return au(s,l,p)}):xg(s,l,d)}function xg(s,l,d){l.status="fulfilled",l.value=d,Td(l),s.state=d,l=s.pending,l!==null&&(d=l.next,d===l?s.pending=null:(d=d.next,l.next=d,yg(s,d)))}function au(s,l,d){var p=s.pending;if(s.pending=null,p!==null){p=p.next;do l.status="rejected",l.reason=d,Td(l),l=l.next;while(l!==p)}s.action=null}function Td(s){s=s.listeners;for(var l=0;l<s.length;l++)(0,s[l])()}function ff(s,l){return l}function ll(s,l){if(qn){var d=Wr.formState;if(d!==null){e:{var p=dn;if(qn){if(Hr){t:{for(var E=Hr,A=ui;E.nodeType!==8;){if(!A){E=null;break t}if(E=cl(E.nextSibling),E===null){E=null;break t}}A=E.data,E=A==="F!"||A==="F"?E:null}if(E){Hr=cl(E.nextSibling),p=E.data==="F!";break e}}hc(p)}p=!1}p&&(l=d[0])}}return d=ta(),d.memoizedState=d.baseState=l,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ff,lastRenderedState:l},d.queue=p,d=Yb.bind(null,dn,p),p.dispatch=d,p=yc(!1),A=Gv.bind(null,dn,!1,p.queue),p=ta(),E={state:l,dispatch:null,action:s,pending:null},p.queue=E,d=_g.bind(null,dn,E,A,d),E.dispatch=d,p.memoizedState=s,[l,d,!1]}function Ml(s){var l=fi();return Pl(l,vn,s)}function Pl(s,l,d){if(l=Qu(s,l,ff)[0],s=bd(ol)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var p=_c(l)}catch(W){throw W===ke?xe:W}else p=l;l=fi();var E=l.queue,A=E.dispatch;return d!==l.memoizedState&&(dn.flags|=2048,su(9,{destroy:void 0},Ad.bind(null,E,d),null)),[p,A,s]}function Ad(s,l){s.action=l}function Nd(s){var l=fi(),d=vn;if(d!==null)return Pl(l,d,s);fi(),l=l.memoizedState,d=fi();var p=d.queue.dispatch;return d.memoizedState=s,[l,p,!1]}function su(s,l,d,p){return s={tag:s,create:d,deps:p,inst:l,next:null},l=dn.updateQueue,l===null&&(l=hf(),dn.updateQueue=l),d=l.lastEffect,d===null?l.lastEffect=s.next=s:(p=d.next,d.next=s,s.next=p,l.lastEffect=s),s}function wg(){return fi().memoizedState}function Zu(s,l,d,p){var E=ta();dn.flags|=s,E.memoizedState=su(1|l,{destroy:void 0},d,p===void 0?null:p)}function eh(s,l,d,p){var E=fi();p=p===void 0?null:p;var A=E.memoizedState.inst;vn!==null&&p!==null&&tm(p,vn.memoizedState.deps)?E.memoizedState=su(l,A,d,p):(dn.flags|=s,E.memoizedState=su(1|l,A,d,p))}function Db(s,l){Zu(8390656,8,s,l)}function Uv(s,l){eh(2048,8,s,l)}function pO(s){dn.flags|=4;var l=dn.updateQueue;if(l===null)l=hf(),dn.updateQueue=l,l.events=[s];else{var d=l.events;d===null?l.events=[s]:d.push(s)}}function Lb(s){var l=fi().memoizedState;return pO({ref:l,nextImpl:s}),function(){if((_r&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}function jb(s,l){return eh(4,2,s,l)}function Mb(s,l){return eh(4,4,s,l)}function Pb(s,l){if(typeof l=="function"){s=s();var d=l(s);return function(){typeof d=="function"?d():l(null)}}if(l!=null)return s=s(),l.current=s,function(){l.current=null}}function Fb(s,l,d){d=d!=null?d.concat([s]):null,eh(4,4,Pb.bind(null,l,s),d)}function Vv(){}function Bb(s,l){var d=fi();l=l===void 0?null:l;var p=d.memoizedState;return l!==null&&tm(l,p[1])?p[0]:(d.memoizedState=[s,l],s)}function Ub(s,l){var d=fi();l=l===void 0?null:l;var p=d.memoizedState;if(l!==null&&tm(l,p[1]))return p[0];if(p=s(),ts){Rt(!0);try{s()}finally{Rt(!1)}}return d.memoizedState=[p,l],p}function zv(s,l,d){return d===void 0||(hi&1073741824)!==0&&(Yn&261930)===0?s.memoizedState=l:(s.memoizedState=d,s=V4(),dn.lanes|=s,rh|=s,d)}function Vb(s,l,d,p){return ga(d,l)?d:Fn.current!==null?(s=zv(s,d,p),ga(s,l)||(na=!0),s):(hi&42)===0||(hi&1073741824)!==0&&(Yn&261930)===0?(na=!0,s.memoizedState=d):(s=V4(),dn.lanes|=s,rh|=s,l)}function zb(s,l,d,p,E){var A=le.p;le.p=A!==0&&8>A?A:8;var W=fe.T,oe={};fe.T=oe,Gv(s,!1,l,d);try{var Ne=E(),$e=fe.S;if($e!==null&&$e(oe,Ne),Ne!==null&&typeof Ne=="object"&&typeof Ne.then=="function"){var ut=te(Ne,p);cm(s,l,ut,Oo(s))}else cm(s,l,p,Oo(s))}catch(gt){cm(s,l,{then:function(){},status:"rejected",reason:gt},Oo())}finally{le.p=A,W!==null&&oe.types!==null&&(W.types=oe.types),fe.T=W}}function gO(){}function qv(s,l,d,p){if(s.tag!==5)throw Error(r(476));var E=qb(s).queue;zb(s,E,l,pe,d===null?gO:function(){return Hb(s),d(p)})}function qb(s){var l=s.memoizedState;if(l!==null)return l;l={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ol,lastRenderedState:pe},next:null};var d={};return l.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ol,lastRenderedState:d},next:null},s.memoizedState=l,s=s.alternate,s!==null&&(s.memoizedState=l),l}function Hb(s){var l=qb(s);l.next===null&&(l=s.alternate.memoizedState),cm(s,l.next.queue,{},Oo())}function Hv(){return xa(Am)}function Gb(){return fi().memoizedState}function Wb(){return fi().memoizedState}function vO(s){for(var l=s.return;l!==null;){switch(l.tag){case 24:case 3:var d=Oo();s=wn(d);var p=Ln(l,s,d);p!==null&&(co(p,l,d),gr(p,l,d)),l={cache:Xu()},s.payload=l;return}l=l.return}}function _O(s,l,d){var p=Oo();d={lane:p,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},bg(s)?$b(l,d):(d=ld(s,l,d,p),d!==null&&(co(d,s,p),Kb(d,l,p)))}function Yb(s,l,d){var p=Oo();cm(s,l,d,p)}function cm(s,l,d,p){var E={lane:p,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null};if(bg(s))$b(l,E);else{var A=s.alternate;if(s.lanes===0&&(A===null||A.lanes===0)&&(A=l.lastRenderedReducer,A!==null))try{var W=l.lastRenderedState,oe=A(W,d);if(E.hasEagerState=!0,E.eagerState=oe,ga(oe,W))return rf(s,l,E,0),Wr===null&&nf(),!1}catch{}finally{}if(d=ld(s,l,E,p),d!==null)return co(d,s,p),Kb(d,l,p),!0}return!1}function Gv(s,l,d,p){if(p={lane:2,revertLane:E_(),gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},bg(s)){if(l)throw Error(r(479))}else l=ld(s,d,p,2),l!==null&&co(l,s,2)}function bg(s){var l=s.alternate;return s===dn||l!==null&&l===dn}function $b(s,l){io=ps=!0;var d=s.pending;d===null?l.next=l:(l.next=d.next,d.next=l),s.pending=l}function Kb(s,l,d){if((d&4194048)!==0){var p=l.lanes;p&=s.pendingLanes,d|=p,l.lanes=d,Xr(s,d)}}var um={readContext:xa,use:Ju,useCallback:jr,useContext:jr,useEffect:jr,useImperativeHandle:jr,useLayoutEffect:jr,useInsertionEffect:jr,useMemo:jr,useReducer:jr,useRef:jr,useState:jr,useDebugValue:jr,useDeferredValue:jr,useTransition:jr,useSyncExternalStore:jr,useId:jr,useHostTransitionStatus:jr,useFormState:jr,useActionState:jr,useOptimistic:jr,useMemoCache:jr,useCacheRefresh:jr};um.useEffectEvent=jr;var Xb={readContext:xa,use:Ju,useCallback:function(s,l){return ta().memoizedState=[s,l===void 0?null:l],s},useContext:xa,useEffect:Db,useImperativeHandle:function(s,l,d){d=d!=null?d.concat([s]):null,Zu(4194308,4,Pb.bind(null,l,s),d)},useLayoutEffect:function(s,l){return Zu(4194308,4,s,l)},useInsertionEffect:function(s,l){Zu(4,2,s,l)},useMemo:function(s,l){var d=ta();l=l===void 0?null:l;var p=s();if(ts){Rt(!0);try{s()}finally{Rt(!1)}}return d.memoizedState=[p,l],p},useReducer:function(s,l,d){var p=ta();if(d!==void 0){var E=d(l);if(ts){Rt(!0);try{d(l)}finally{Rt(!1)}}}else E=l;return p.memoizedState=p.baseState=E,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:E},p.queue=s,s=s.dispatch=_O.bind(null,dn,s),[p.memoizedState,s]},useRef:function(s){var l=ta();return s={current:s},l.memoizedState=s},useState:function(s){s=yc(s);var l=s.queue,d=Yb.bind(null,dn,l);return l.dispatch=d,[s.memoizedState,d]},useDebugValue:Vv,useDeferredValue:function(s,l){var d=ta();return zv(d,s,l)},useTransition:function(){var s=yc(!1);return s=zb.bind(null,dn,s.queue,!0,!1),ta().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,l,d){var p=dn,E=ta();if(qn){if(d===void 0)throw Error(r(407));d=d()}else{if(d=l(),Wr===null)throw Error(r(349));(Yn&127)!==0||jl(p,l,d)}E.memoizedState=d;var A={value:d,getSnapshot:l};return E.queue=A,Db(sm.bind(null,p,A,s),[s]),p.flags|=2048,su(9,{destroy:void 0},am.bind(null,p,A,d,l),null),d},useId:function(){var s=ta(),l=Wr.identifierPrefix;if(qn){var d=no,p=to;d=(p&~(1<<32-xt(p)-1)).toString(32)+d,l="_"+l+"R_"+d,d=Li++,0<d&&(l+="H"+d.toString(32)),l+="_"}else d=yd++,l="_"+l+"r_"+d.toString(32)+"_";return s.memoizedState=l},useHostTransitionStatus:Hv,useFormState:ll,useActionState:ll,useOptimistic:function(s){var l=ta();l.memoizedState=l.baseState=s;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=d,l=Gv.bind(null,dn,!0,d),d.dispatch=l,[s,l]},useMemoCache:iu,useCacheRefresh:function(){return ta().memoizedState=vO.bind(null,dn)},useEffectEvent:function(s){var l=ta(),d={impl:s};return l.memoizedState=d,function(){if((_r&2)!==0)throw Error(r(440));return d.impl.apply(void 0,arguments)}}},Wv={readContext:xa,use:Ju,useCallback:Bb,useContext:xa,useEffect:Uv,useImperativeHandle:Fb,useInsertionEffect:jb,useLayoutEffect:Mb,useMemo:Ub,useReducer:bd,useRef:wg,useState:function(){return bd(ol)},useDebugValue:Vv,useDeferredValue:function(s,l){var d=fi();return Vb(d,vn.memoizedState,s,l)},useTransition:function(){var s=bd(ol)[0],l=fi().memoizedState;return[typeof s=="boolean"?s:_c(s),l]},useSyncExternalStore:Sd,useId:Gb,useHostTransitionStatus:Hv,useFormState:Ml,useActionState:Ml,useOptimistic:function(s,l){var d=fi();return vg(d,vn,s,l)},useMemoCache:iu,useCacheRefresh:Wb};Wv.useEffectEvent=Lb;var Jb={readContext:xa,use:Ju,useCallback:Bb,useContext:xa,useEffect:Uv,useImperativeHandle:Fb,useInsertionEffect:jb,useLayoutEffect:Mb,useMemo:Ub,useReducer:Ed,useRef:wg,useState:function(){return Ed(ol)},useDebugValue:Vv,useDeferredValue:function(s,l){var d=fi();return vn===null?zv(d,s,l):Vb(d,vn.memoizedState,s,l)},useTransition:function(){var s=Ed(ol)[0],l=fi().memoizedState;return[typeof s=="boolean"?s:_c(s),l]},useSyncExternalStore:Sd,useId:Gb,useHostTransitionStatus:Hv,useFormState:Nd,useActionState:Nd,useOptimistic:function(s,l){var d=fi();return vn!==null?vg(d,vn,s,l):(d.baseState=s,[s,d.queue.dispatch])},useMemoCache:iu,useCacheRefresh:Wb};Jb.useEffectEvent=Lb;function Yv(s,l,d,p){l=s.memoizedState,d=d(p,l),d=d==null?l:g({},l,d),s.memoizedState=d,s.lanes===0&&(s.updateQueue.baseState=d)}var $v={enqueueSetState:function(s,l,d){s=s._reactInternals;var p=Oo(),E=wn(p);E.payload=l,d!=null&&(E.callback=d),l=Ln(s,E,p),l!==null&&(co(l,s,p),gr(l,s,p))},enqueueReplaceState:function(s,l,d){s=s._reactInternals;var p=Oo(),E=wn(p);E.tag=1,E.payload=l,d!=null&&(E.callback=d),l=Ln(s,E,p),l!==null&&(co(l,s,p),gr(l,s,p))},enqueueForceUpdate:function(s,l){s=s._reactInternals;var d=Oo(),p=wn(d);p.tag=2,l!=null&&(p.callback=l),l=Ln(s,p,d),l!==null&&(co(l,s,d),gr(l,s,d))}};function Qb(s,l,d,p,E,A,W){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(p,A,W):l.prototype&&l.prototype.isPureReactComponent?!Cl(d,p)||!Cl(E,A):!0}function Zb(s,l,d,p){s=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(d,p),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(d,p),l.state!==s&&$v.enqueueReplaceState(l,l.state,null)}function df(s,l){var d=l;if("ref"in l){d={};for(var p in l)p!=="ref"&&(d[p]=l[p])}if(s=s.defaultProps){d===l&&(d=g({},d));for(var E in s)d[E]===void 0&&(d[E]=s[E])}return d}function e4(s){tf(s)}function t4(s){console.error(s)}function n4(s){tf(s)}function Eg(s,l){try{var d=s.onUncaughtError;d(l.value,{componentStack:l.stack})}catch(p){setTimeout(function(){throw p})}}function r4(s,l,d){try{var p=s.onCaughtError;p(d.value,{componentStack:d.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(E){setTimeout(function(){throw E})}}function Kv(s,l,d){return d=wn(d),d.tag=3,d.payload={element:null},d.callback=function(){Eg(s,l)},d}function i4(s){return s=wn(s),s.tag=3,s}function a4(s,l,d,p){var E=d.type.getDerivedStateFromError;if(typeof E=="function"){var A=p.value;s.payload=function(){return E(A)},s.callback=function(){r4(l,d,p)}}var W=d.stateNode;W!==null&&typeof W.componentDidCatch=="function"&&(s.callback=function(){r4(l,d,p),typeof E!="function"&&(ih===null?ih=new Set([this]):ih.add(this));var oe=p.stack;this.componentDidCatch(p.value,{componentStack:oe!==null?oe:""})})}function yO(s,l,d,p,E){if(d.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(l=d.alternate,l!==null&&mc(l,d,E,!0),d=ti.current,d!==null){switch(d.tag){case 31:case 13:return ir===null?jg():d.alternate===null&&ji===0&&(ji=3),d.flags&=-257,d.flags|=65536,d.lanes=E,p===De?d.flags|=16384:(l=d.updateQueue,l===null?d.updateQueue=new Set([p]):l.add(p),x_(s,p,E)),!1;case 22:return d.flags|=65536,p===De?d.flags|=16384:(l=d.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([p])},d.updateQueue=l):(d=l.retryQueue,d===null?l.retryQueue=new Set([p]):d.add(p)),x_(s,p,E)),!1}throw Error(r(435,d.tag))}return x_(s,p,E),jg(),!1}if(qn)return l=ti.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=E,p!==Io&&(s=Error(r(422),{cause:p}),$u(Qs(s,d)))):(p!==Io&&(l=Error(r(423),{cause:p}),$u(Qs(l,d))),s=s.current.alternate,s.flags|=65536,E&=-E,s.lanes|=E,p=Qs(p,d),E=Kv(s.stateNode,p,E),Gi(s,E),ji!==4&&(ji=2)),!1;var A=Error(r(520),{cause:p});if(A=Qs(A,d),_m===null?_m=[A]:_m.push(A),ji!==4&&(ji=2),l===null)return!0;p=Qs(p,d),d=l;do{switch(d.tag){case 3:return d.flags|=65536,s=E&-E,d.lanes|=s,s=Kv(d.stateNode,p,s),Gi(d,s),!1;case 1:if(l=d.type,A=d.stateNode,(d.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(ih===null||!ih.has(A))))return d.flags|=65536,E&=-E,d.lanes|=E,E=i4(E),a4(E,s,d,p),Gi(d,E),!1}d=d.return}while(d!==null);return!1}var Xv=Error(r(461)),na=!1;function ns(s,l,d,p){l.child=s===null?Rn(l,null,d,p):Gr(l,s.child,d,p)}function s4(s,l,d,p,E){d=d.render;var A=l.ref;if("ref"in p){var W={};for(var oe in p)oe!=="ref"&&(W[oe]=p[oe])}else W=p;return pc(l),p=nm(s,l,d,W,A,E),oe=rm(),s!==null&&!na?(im(s,l,E),ou(s,l,E)):(qn&&oe&&Q0(l),l.flags|=1,ns(s,l,p,E),l.child)}function o4(s,l,d,p,E){if(s===null){var A=d.type;return typeof A=="function"&&!ud(A)&&A.defaultProps===void 0&&d.compare===null?(l.tag=15,l.type=A,l4(s,l,A,p,E)):(s=Gu(d.type,null,p,l,l.mode,E),s.ref=l.ref,s.return=l,l.child=s)}if(A=s.child,!i_(s,E)){var W=A.memoizedProps;if(d=d.compare,d=d!==null?d:Cl,d(W,p)&&s.ref===l.ref)return ou(s,l,E)}return l.flags|=1,s=Js(A,p),s.ref=l.ref,s.return=l,l.child=s}function l4(s,l,d,p,E){if(s!==null){var A=s.memoizedProps;if(Cl(A,p)&&s.ref===l.ref)if(na=!1,l.pendingProps=p=A,i_(s,E))(s.flags&131072)!==0&&(na=!0);else return l.lanes=s.lanes,ou(s,l,E)}return Jv(s,l,d,p,E)}function c4(s,l,d,p){var E=p.children,A=s!==null?s.memoizedState:null;if(s===null&&l.stateNode===null&&(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),p.mode==="hidden"){if((l.flags&128)!==0){if(A=A!==null?A.baseLanes|d:d,s!==null){for(p=l.child=s.child,E=0;p!==null;)E=E|p.lanes|p.childLanes,p=p.sibling;p=E&~A}else p=0,l.child=null;return u4(s,l,A,d,p)}if((d&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},s!==null&&me(l,A!==null?A.cachePool:null),A!==null?ei(l,A):cr(),Oi(l);else return p=l.lanes=536870912,u4(s,l,A!==null?A.baseLanes|d:d,d,p)}else A!==null?(me(l,A.cachePool),ei(l,A),Di(),l.memoizedState=null):(s!==null&&me(l,null),cr(),Di());return ns(s,l,E,d),l.child}function hm(s,l){return s!==null&&s.tag===22||l.stateNode!==null||(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.sibling}function u4(s,l,d,p,E){var A=ce();return A=A===null?null:{parent:Ei._currentValue,pool:A},l.memoizedState={baseLanes:d,cachePool:A},s!==null&&me(l,null),cr(),Oi(l),s!==null&&mc(s,l,p,!0),l.childLanes=E,null}function Sg(s,l){return l=Ag({mode:l.mode,children:l.children},s.mode),l.ref=s.ref,s.child=l,l.return=s,l}function h4(s,l,d){return Gr(l,s.child,null,d),s=Sg(l,l.pendingProps),s.flags|=2,Er(l),l.memoizedState=null,s}function xO(s,l,d){var p=l.pendingProps,E=(l.flags&128)!==0;if(l.flags&=-129,s===null){if(qn){if(p.mode==="hidden")return s=Sg(l,p),l.lanes=536870912,hm(null,s);if(vr(l),(s=Hr)?(s=EE(s,ui),s=s!==null&&s.data==="&"?s:null,s!==null&&(l.memoizedState={dehydrated:s,treeContext:uc!==null?{id:to,overflow:no}:null,retryLane:536870912,hydrationErrors:null},d=hd(s),d.return=l,l.child=d,_a=l,Hr=null)):s=null,s===null)throw hc(l);return l.lanes=536870912,null}return Sg(l,p)}var A=s.memoizedState;if(A!==null){var W=A.dehydrated;if(vr(l),E)if(l.flags&256)l.flags&=-257,l=h4(s,l,d);else if(l.memoizedState!==null)l.child=s.child,l.flags|=128,l=null;else throw Error(r(558));else if(na||mc(s,l,d,!1),E=(d&s.childLanes)!==0,na||E){if(p=Wr,p!==null&&(W=Ci(p,d),W!==0&&W!==A.retryLane))throw A.retryLane=W,Ol(s,W),co(p,s,W),Xv;jg(),l=h4(s,l,d)}else s=A.treeContext,Hr=cl(W.nextSibling),_a=l,qn=!0,es=null,ui=!1,s!==null&&mg(l,s),l=Sg(l,p),l.flags|=4096;return l}return s=Js(s.child,{mode:p.mode,children:p.children}),s.ref=l.ref,l.child=s,s.return=l,s}function Tg(s,l){var d=l.ref;if(d===null)s!==null&&s.ref!==null&&(l.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(r(284));(s===null||s.ref!==d)&&(l.flags|=4194816)}}function Jv(s,l,d,p,E){return pc(l),d=nm(s,l,d,p,void 0,E),p=rm(),s!==null&&!na?(im(s,l,E),ou(s,l,E)):(qn&&p&&Q0(l),l.flags|=1,ns(s,l,d,E),l.child)}function f4(s,l,d,p,E,A){return pc(l),l.updateQueue=null,d=Ll(l,p,d,E),xd(s),p=rm(),s!==null&&!na?(im(s,l,A),ou(s,l,A)):(qn&&p&&Q0(l),l.flags|=1,ns(s,l,d,A),l.child)}function d4(s,l,d,p,E){if(pc(l),l.stateNode===null){var A=va,W=d.contextType;typeof W=="object"&&W!==null&&(A=xa(W)),A=new d(p,A),l.memoizedState=A.state!==null&&A.state!==void 0?A.state:null,A.updater=$v,l.stateNode=A,A._reactInternals=l,A=l.stateNode,A.props=p,A.state=l.memoizedState,A.refs={},Ut(l),W=d.contextType,A.context=typeof W=="object"&&W!==null?xa(W):va,A.state=l.memoizedState,W=d.getDerivedStateFromProps,typeof W=="function"&&(Yv(l,d,W,p),A.state=l.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof A.getSnapshotBeforeUpdate=="function"||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(W=A.state,typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount(),W!==A.state&&$v.enqueueReplaceState(A,A.state,null),Ri(l,p,A,E),Lr(),A.state=l.memoizedState),typeof A.componentDidMount=="function"&&(l.flags|=4194308),p=!0}else if(s===null){A=l.stateNode;var oe=l.memoizedProps,Ne=df(d,oe);A.props=Ne;var $e=A.context,ut=d.contextType;W=va,typeof ut=="object"&&ut!==null&&(W=xa(ut));var gt=d.getDerivedStateFromProps;ut=typeof gt=="function"||typeof A.getSnapshotBeforeUpdate=="function",oe=l.pendingProps!==oe,ut||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(oe||$e!==W)&&Zb(l,A,p,W),Qt=!1;var Je=l.memoizedState;A.state=Je,Ri(l,p,A,E),Lr(),$e=l.memoizedState,oe||Je!==$e||Qt?(typeof gt=="function"&&(Yv(l,d,gt,p),$e=l.memoizedState),(Ne=Qt||Qb(l,d,Ne,p,Je,$e,W))?(ut||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(l.flags|=4194308)):(typeof A.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=p,l.memoizedState=$e),A.props=p,A.state=$e,A.context=W,p=Ne):(typeof A.componentDidMount=="function"&&(l.flags|=4194308),p=!1)}else{A=l.stateNode,Zr(s,l),W=l.memoizedProps,ut=df(d,W),A.props=ut,gt=l.pendingProps,Je=A.context,$e=d.contextType,Ne=va,typeof $e=="object"&&$e!==null&&(Ne=xa($e)),oe=d.getDerivedStateFromProps,($e=typeof oe=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(W!==gt||Je!==Ne)&&Zb(l,A,p,Ne),Qt=!1,Je=l.memoizedState,A.state=Je,Ri(l,p,A,E),Lr();var rt=l.memoizedState;W!==gt||Je!==rt||Qt||s!==null&&s.dependencies!==null&&gd(s.dependencies)?(typeof oe=="function"&&(Yv(l,d,oe,p),rt=l.memoizedState),(ut=Qt||Qb(l,d,ut,p,Je,rt,Ne)||s!==null&&s.dependencies!==null&&gd(s.dependencies))?($e||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(p,rt,Ne),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(p,rt,Ne)),typeof A.componentDidUpdate=="function"&&(l.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof A.componentDidUpdate!="function"||W===s.memoizedProps&&Je===s.memoizedState||(l.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||W===s.memoizedProps&&Je===s.memoizedState||(l.flags|=1024),l.memoizedProps=p,l.memoizedState=rt),A.props=p,A.state=rt,A.context=Ne,p=ut):(typeof A.componentDidUpdate!="function"||W===s.memoizedProps&&Je===s.memoizedState||(l.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||W===s.memoizedProps&&Je===s.memoizedState||(l.flags|=1024),p=!1)}return A=p,Tg(s,l),p=(l.flags&128)!==0,A||p?(A=l.stateNode,d=p&&typeof d.getDerivedStateFromError!="function"?null:A.render(),l.flags|=1,s!==null&&p?(l.child=Gr(l,s.child,null,E),l.child=Gr(l,null,d,E)):ns(s,l,d,E),l.memoizedState=A.state,s=l.child):s=ou(s,l,E),s}function m4(s,l,d,p){return nu(),l.flags|=256,ns(s,l,d,p),l.child}var Qv={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Zv(s){return{baseLanes:s,cachePool:Ee()}}function e_(s,l,d){return s=s!==null?s.childLanes&~d:0,l&&(s|=ko),s}function p4(s,l,d){var p=l.pendingProps,E=!1,A=(l.flags&128)!==0,W;if((W=A)||(W=s!==null&&s.memoizedState===null?!1:(er.current&2)!==0),W&&(E=!0,l.flags&=-129),W=(l.flags&32)!==0,l.flags&=-33,s===null){if(qn){if(E?Si(l):Di(),(s=Hr)?(s=EE(s,ui),s=s!==null&&s.data!=="&"?s:null,s!==null&&(l.memoizedState={dehydrated:s,treeContext:uc!==null?{id:to,overflow:no}:null,retryLane:536870912,hydrationErrors:null},d=hd(s),d.return=l,l.child=d,_a=l,Hr=null)):s=null,s===null)throw hc(l);return M_(s)?l.lanes=32:l.lanes=536870912,null}var oe=p.children;return p=p.fallback,E?(Di(),E=l.mode,oe=Ag({mode:"hidden",children:oe},E),p=cc(p,E,d,null),oe.return=l,p.return=l,oe.sibling=p,l.child=oe,p=l.child,p.memoizedState=Zv(d),p.childLanes=e_(s,W,d),l.memoizedState=Qv,hm(null,p)):(Si(l),t_(l,oe))}var Ne=s.memoizedState;if(Ne!==null&&(oe=Ne.dehydrated,oe!==null)){if(A)l.flags&256?(Si(l),l.flags&=-257,l=n_(s,l,d)):l.memoizedState!==null?(Di(),l.child=s.child,l.flags|=128,l=null):(Di(),oe=p.fallback,E=l.mode,p=Ag({mode:"visible",children:p.children},E),oe=cc(oe,E,d,null),oe.flags|=2,p.return=l,oe.return=l,p.sibling=oe,l.child=p,Gr(l,s.child,null,d),p=l.child,p.memoizedState=Zv(d),p.childLanes=e_(s,W,d),l.memoizedState=Qv,l=hm(null,p));else if(Si(l),M_(oe)){if(W=oe.nextSibling&&oe.nextSibling.dataset,W)var $e=W.dgst;W=$e,p=Error(r(419)),p.stack="",p.digest=W,$u({value:p,source:null,stack:null}),l=n_(s,l,d)}else if(na||mc(s,l,d,!1),W=(d&s.childLanes)!==0,na||W){if(W=Wr,W!==null&&(p=Ci(W,d),p!==0&&p!==Ne.retryLane))throw Ne.retryLane=p,Ol(s,p),co(W,s,p),Xv;j_(oe)||jg(),l=n_(s,l,d)}else j_(oe)?(l.flags|=192,l.child=s.child,l=null):(s=Ne.treeContext,Hr=cl(oe.nextSibling),_a=l,qn=!0,es=null,ui=!1,s!==null&&mg(l,s),l=t_(l,p.children),l.flags|=4096);return l}return E?(Di(),oe=p.fallback,E=l.mode,Ne=s.child,$e=Ne.sibling,p=Js(Ne,{mode:"hidden",children:p.children}),p.subtreeFlags=Ne.subtreeFlags&65011712,$e!==null?oe=Js($e,oe):(oe=cc(oe,E,d,null),oe.flags|=2),oe.return=l,p.return=l,p.sibling=oe,l.child=p,hm(null,p),p=l.child,oe=s.child.memoizedState,oe===null?oe=Zv(d):(E=oe.cachePool,E!==null?(Ne=Ei._currentValue,E=E.parent!==Ne?{parent:Ne,pool:Ne}:E):E=Ee(),oe={baseLanes:oe.baseLanes|d,cachePool:E}),p.memoizedState=oe,p.childLanes=e_(s,W,d),l.memoizedState=Qv,hm(s.child,p)):(Si(l),d=s.child,s=d.sibling,d=Js(d,{mode:"visible",children:p.children}),d.return=l,d.sibling=null,s!==null&&(W=l.deletions,W===null?(l.deletions=[s],l.flags|=16):W.push(s)),l.child=d,l.memoizedState=null,d)}function t_(s,l){return l=Ag({mode:"visible",children:l},s.mode),l.return=s,s.child=l}function Ag(s,l){return s=Ra(22,s,null,l),s.lanes=0,s}function n_(s,l,d){return Gr(l,s.child,null,d),s=t_(l,l.pendingProps.children),s.flags|=2,l.memoizedState=null,s}function g4(s,l,d){s.lanes|=l;var p=s.alternate;p!==null&&(p.lanes|=l),Ku(s.return,l,d)}function r_(s,l,d,p,E,A){var W=s.memoizedState;W===null?s.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:p,tail:d,tailMode:E,treeForkCount:A}:(W.isBackwards=l,W.rendering=null,W.renderingStartTime=0,W.last=p,W.tail=d,W.tailMode=E,W.treeForkCount=A)}function v4(s,l,d){var p=l.pendingProps,E=p.revealOrder,A=p.tail;p=p.children;var W=er.current,oe=(W&2)!==0;if(oe?(W=W&1|2,l.flags|=128):W&=1,G(er,W),ns(s,l,p,d),p=qn?lf:0,!oe&&s!==null&&(s.flags&128)!==0)e:for(s=l.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&g4(s,d,l);else if(s.tag===19)g4(s,d,l);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===l)break e;for(;s.sibling===null;){if(s.return===null||s.return===l)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(E){case"forwards":for(d=l.child,E=null;d!==null;)s=d.alternate,s!==null&&Oa(s)===null&&(E=d),d=d.sibling;d=E,d===null?(E=l.child,l.child=null):(E=d.sibling,d.sibling=null),r_(l,!1,E,d,A,p);break;case"backwards":case"unstable_legacy-backwards":for(d=null,E=l.child,l.child=null;E!==null;){if(s=E.alternate,s!==null&&Oa(s)===null){l.child=E;break}s=E.sibling,E.sibling=d,d=E,E=s}r_(l,!0,d,null,A,p);break;case"together":r_(l,!1,null,null,void 0,p);break;default:l.memoizedState=null}return l.child}function ou(s,l,d){if(s!==null&&(l.dependencies=s.dependencies),rh|=l.lanes,(d&l.childLanes)===0)if(s!==null){if(mc(s,l,d,!1),(d&l.childLanes)===0)return null}else return null;if(s!==null&&l.child!==s.child)throw Error(r(153));if(l.child!==null){for(s=l.child,d=Js(s,s.pendingProps),l.child=d,d.return=l;s.sibling!==null;)s=s.sibling,d=d.sibling=Js(s,s.pendingProps),d.return=l;d.sibling=null}return l.child}function i_(s,l){return(s.lanes&l)!==0?!0:(s=s.dependencies,!!(s!==null&&gd(s)))}function wO(s,l,d){switch(l.tag){case 3:Te(l,l.stateNode.containerInfo),dc(l,Ei,s.memoizedState.cache),nu();break;case 27:case 5:Ce(l);break;case 4:Te(l,l.stateNode.containerInfo);break;case 10:dc(l,l.type,l.memoizedProps.value);break;case 31:if(l.memoizedState!==null)return l.flags|=128,vr(l),null;break;case 13:var p=l.memoizedState;if(p!==null)return p.dehydrated!==null?(Si(l),l.flags|=128,null):(d&l.child.childLanes)!==0?p4(s,l,d):(Si(l),s=ou(s,l,d),s!==null?s.sibling:null);Si(l);break;case 19:var E=(s.flags&128)!==0;if(p=(d&l.childLanes)!==0,p||(mc(s,l,d,!1),p=(d&l.childLanes)!==0),E){if(p)return v4(s,l,d);l.flags|=128}if(E=l.memoizedState,E!==null&&(E.rendering=null,E.tail=null,E.lastEffect=null),G(er,er.current),p)break;return null;case 22:return l.lanes=0,c4(s,l,d,l.pendingProps);case 24:dc(l,Ei,s.memoizedState.cache)}return ou(s,l,d)}function _4(s,l,d){if(s!==null)if(s.memoizedProps!==l.pendingProps)na=!0;else{if(!i_(s,d)&&(l.flags&128)===0)return na=!1,wO(s,l,d);na=(s.flags&131072)!==0}else na=!1,qn&&(l.flags&1048576)!==0&&dg(l,lf,l.index);switch(l.lanes=0,l.tag){case 16:e:{var p=l.pendingProps;if(s=qe(l.elementType),l.type=s,typeof s=="function")ud(s)?(p=df(s,p),l.tag=1,l=d4(null,l,s,p,d)):(l.tag=0,l=Jv(null,l,s,p,d));else{if(s!=null){var E=s.$$typeof;if(E===j){l.tag=11,l=s4(null,l,s,p,d);break e}else if(E===C){l.tag=14,l=o4(null,l,s,p,d);break e}}throw l=Y(s)||s,Error(r(306,l,""))}}return l;case 0:return Jv(s,l,l.type,l.pendingProps,d);case 1:return p=l.type,E=df(p,l.pendingProps),d4(s,l,p,E,d);case 3:e:{if(Te(l,l.stateNode.containerInfo),s===null)throw Error(r(387));p=l.pendingProps;var A=l.memoizedState;E=A.element,Zr(s,l),Ri(l,p,null,d);var W=l.memoizedState;if(p=W.cache,dc(l,Ei,p),p!==A.cache&&ru(l,[Ei],d,!0),Lr(),p=W.element,A.isDehydrated)if(A={element:p,isDehydrated:!1,cache:W.cache},l.updateQueue.baseState=A,l.memoizedState=A,l.flags&256){l=m4(s,l,p,d);break e}else if(p!==E){E=Qs(Error(r(424)),l),$u(E),l=m4(s,l,p,d);break e}else{switch(s=l.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(Hr=cl(s.firstChild),_a=l,qn=!0,es=null,ui=!0,d=Rn(l,null,p,d),l.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling}else{if(nu(),p===E){l=ou(s,l,d);break e}ns(s,l,p,d)}l=l.child}return l;case 26:return Tg(s,l),s===null?(d=IE(l.type,null,l.pendingProps,null))?l.memoizedState=d:qn||(d=l.type,s=l.pendingProps,p=zg(ae.current).createElement(d),p[de]=l,p[ve]=s,rs(p,d,s),Xt(p),l.stateNode=p):l.memoizedState=IE(l.type,s.memoizedProps,l.pendingProps,s.memoizedState),null;case 27:return Ce(l),s===null&&qn&&(p=l.stateNode=AE(l.type,l.pendingProps,ae.current),_a=l,ui=!0,E=Hr,lh(l.type)?(P_=E,Hr=cl(p.firstChild)):Hr=E),ns(s,l,l.pendingProps.children,d),Tg(s,l),s===null&&(l.flags|=4194304),l.child;case 5:return s===null&&qn&&((E=p=Hr)&&(p=JO(p,l.type,l.pendingProps,ui),p!==null?(l.stateNode=p,_a=l,Hr=cl(p.firstChild),ui=!1,E=!0):E=!1),E||hc(l)),Ce(l),E=l.type,A=l.pendingProps,W=s!==null?s.memoizedProps:null,p=A.children,O_(E,A)?p=null:W!==null&&O_(E,W)&&(l.flags|=32),l.memoizedState!==null&&(E=nm(s,l,Bv,null,null,d),Am._currentValue=E),Tg(s,l),ns(s,l,p,d),l.child;case 6:return s===null&&qn&&((s=d=Hr)&&(d=QO(d,l.pendingProps,ui),d!==null?(l.stateNode=d,_a=l,Hr=null,s=!0):s=!1),s||hc(l)),null;case 13:return p4(s,l,d);case 4:return Te(l,l.stateNode.containerInfo),p=l.pendingProps,s===null?l.child=Gr(l,null,p,d):ns(s,l,p,d),l.child;case 11:return s4(s,l,l.type,l.pendingProps,d);case 7:return ns(s,l,l.pendingProps,d),l.child;case 8:return ns(s,l,l.pendingProps.children,d),l.child;case 12:return ns(s,l,l.pendingProps.children,d),l.child;case 10:return p=l.pendingProps,dc(l,l.type,p.value),ns(s,l,p.children,d),l.child;case 9:return E=l.type._context,p=l.pendingProps.children,pc(l),E=xa(E),p=p(E),l.flags|=1,ns(s,l,p,d),l.child;case 14:return o4(s,l,l.type,l.pendingProps,d);case 15:return l4(s,l,l.type,l.pendingProps,d);case 19:return v4(s,l,d);case 31:return xO(s,l,d);case 22:return c4(s,l,d,l.pendingProps);case 24:return pc(l),p=xa(Ei),s===null?(E=ce(),E===null&&(E=Wr,A=Xu(),E.pooledCache=A,A.refCount++,A!==null&&(E.pooledCacheLanes|=d),E=A),l.memoizedState={parent:p,cache:E},Ut(l),dc(l,Ei,E)):((s.lanes&d)!==0&&(Zr(s,l),Ri(l,null,null,d),Lr()),E=s.memoizedState,A=l.memoizedState,E.parent!==p?(E={parent:p,cache:p},l.memoizedState=E,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=E),dc(l,Ei,p)):(p=A.cache,dc(l,Ei,p),p!==E.cache&&ru(l,[Ei],d,!0))),ns(s,l,l.pendingProps.children,d),l.child;case 29:throw l.pendingProps}throw Error(r(156,l.tag))}function lu(s){s.flags|=4}function a_(s,l,d,p,E){if((l=(s.mode&32)!==0)&&(l=!1),l){if(s.flags|=16777216,(E&335544128)===E)if(s.stateNode.complete)s.flags|=8192;else if(G4())s.flags|=8192;else throw at=De,Ge}else s.flags&=-16777217}function y4(s,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!LE(l))if(G4())s.flags|=8192;else throw at=De,Ge}function Ng(s,l){l!==null&&(s.flags|=4),s.flags&16384&&(l=s.tag!==22?Ji():536870912,s.lanes|=l,kd|=l)}function fm(s,l){if(!qn)switch(s.tailMode){case"hidden":l=s.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?s.tail=null:d.sibling=null;break;case"collapsed":d=s.tail;for(var p=null;d!==null;)d.alternate!==null&&(p=d),d=d.sibling;p===null?l||s.tail===null?s.tail=null:s.tail.sibling=null:p.sibling=null}}function ni(s){var l=s.alternate!==null&&s.alternate.child===s.child,d=0,p=0;if(l)for(var E=s.child;E!==null;)d|=E.lanes|E.childLanes,p|=E.subtreeFlags&65011712,p|=E.flags&65011712,E.return=s,E=E.sibling;else for(E=s.child;E!==null;)d|=E.lanes|E.childLanes,p|=E.subtreeFlags,p|=E.flags,E.return=s,E=E.sibling;return s.subtreeFlags|=p,s.childLanes=d,l}function bO(s,l,d){var p=l.pendingProps;switch(md(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ni(l),null;case 1:return ni(l),null;case 3:return d=l.stateNode,p=null,s!==null&&(p=s.memoizedState.cache),l.memoizedState.cache!==p&&(l.flags|=2048),ro(Ei),Se(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(s===null||s.child===null)&&(ya(l)?lu(l):s===null||s.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,em())),ni(l),null;case 26:var E=l.type,A=l.memoizedState;return s===null?(lu(l),A!==null?(ni(l),y4(l,A)):(ni(l),a_(l,E,null,p,d))):A?A!==s.memoizedState?(lu(l),ni(l),y4(l,A)):(ni(l),l.flags&=-16777217):(s=s.memoizedProps,s!==p&&lu(l),ni(l),a_(l,E,s,p,d)),null;case 27:if(et(l),d=ae.current,E=l.type,s!==null&&l.stateNode!=null)s.memoizedProps!==p&&lu(l);else{if(!p){if(l.stateNode===null)throw Error(r(166));return ni(l),null}s=q.current,ya(l)?Z0(l):(s=AE(E,p,d),l.stateNode=s,lu(l))}return ni(l),null;case 5:if(et(l),E=l.type,s!==null&&l.stateNode!=null)s.memoizedProps!==p&&lu(l);else{if(!p){if(l.stateNode===null)throw Error(r(166));return ni(l),null}if(A=q.current,ya(l))Z0(l);else{var W=zg(ae.current);switch(A){case 1:A=W.createElementNS("http://www.w3.org/2000/svg",E);break;case 2:A=W.createElementNS("http://www.w3.org/1998/Math/MathML",E);break;default:switch(E){case"svg":A=W.createElementNS("http://www.w3.org/2000/svg",E);break;case"math":A=W.createElementNS("http://www.w3.org/1998/Math/MathML",E);break;case"script":A=W.createElement("div"),A.innerHTML="<script><\/script>",A=A.removeChild(A.firstChild);break;case"select":A=typeof p.is=="string"?W.createElement("select",{is:p.is}):W.createElement("select"),p.multiple?A.multiple=!0:p.size&&(A.size=p.size);break;default:A=typeof p.is=="string"?W.createElement(E,{is:p.is}):W.createElement(E)}}A[de]=l,A[ve]=p;e:for(W=l.child;W!==null;){if(W.tag===5||W.tag===6)A.appendChild(W.stateNode);else if(W.tag!==4&&W.tag!==27&&W.child!==null){W.child.return=W,W=W.child;continue}if(W===l)break e;for(;W.sibling===null;){if(W.return===null||W.return===l)break e;W=W.return}W.sibling.return=W.return,W=W.sibling}l.stateNode=A;e:switch(rs(A,E,p),E){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}p&&lu(l)}}return ni(l),a_(l,l.type,s===null?null:s.memoizedProps,l.pendingProps,d),null;case 6:if(s&&l.stateNode!=null)s.memoizedProps!==p&&lu(l);else{if(typeof p!="string"&&l.stateNode===null)throw Error(r(166));if(s=ae.current,ya(l)){if(s=l.stateNode,d=l.memoizedProps,p=null,E=_a,E!==null)switch(E.tag){case 27:case 5:p=E.memoizedProps}s[de]=l,s=!!(s.nodeValue===d||p!==null&&p.suppressHydrationWarning===!0||pE(s.nodeValue,d)),s||hc(l,!0)}else s=zg(s).createTextNode(p),s[de]=l,l.stateNode=s}return ni(l),null;case 31:if(d=l.memoizedState,s===null||s.memoizedState!==null){if(p=ya(l),d!==null){if(s===null){if(!p)throw Error(r(318));if(s=l.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(557));s[de]=l}else nu(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;ni(l),s=!1}else d=em(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=d),s=!0;if(!s)return l.flags&256?(Er(l),l):(Er(l),null);if((l.flags&128)!==0)throw Error(r(558))}return ni(l),null;case 13:if(p=l.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(E=ya(l),p!==null&&p.dehydrated!==null){if(s===null){if(!E)throw Error(r(318));if(E=l.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(r(317));E[de]=l}else nu(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;ni(l),E=!1}else E=em(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=E),E=!0;if(!E)return l.flags&256?(Er(l),l):(Er(l),null)}return Er(l),(l.flags&128)!==0?(l.lanes=d,l):(d=p!==null,s=s!==null&&s.memoizedState!==null,d&&(p=l.child,E=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(E=p.alternate.memoizedState.cachePool.pool),A=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(A=p.memoizedState.cachePool.pool),A!==E&&(p.flags|=2048)),d!==s&&d&&(l.child.flags|=8192),Ng(l,l.updateQueue),ni(l),null);case 4:return Se(),s===null&&N_(l.stateNode.containerInfo),ni(l),null;case 10:return ro(l.type),ni(l),null;case 19:if(L(er),p=l.memoizedState,p===null)return ni(l),null;if(E=(l.flags&128)!==0,A=p.rendering,A===null)if(E)fm(p,!1);else{if(ji!==0||s!==null&&(s.flags&128)!==0)for(s=l.child;s!==null;){if(A=Oa(s),A!==null){for(l.flags|=128,fm(p,!1),s=A.updateQueue,l.updateQueue=s,Ng(l,s),l.subtreeFlags=0,s=d,d=l.child;d!==null;)sf(d,s),d=d.sibling;return G(er,er.current&1|2),qn&&Ps(l,p.treeForkCount),l.child}s=s.sibling}p.tail!==null&&kt()>Og&&(l.flags|=128,E=!0,fm(p,!1),l.lanes=4194304)}else{if(!E)if(s=Oa(A),s!==null){if(l.flags|=128,E=!0,s=s.updateQueue,l.updateQueue=s,Ng(l,s),fm(p,!0),p.tail===null&&p.tailMode==="hidden"&&!A.alternate&&!qn)return ni(l),null}else 2*kt()-p.renderingStartTime>Og&&d!==536870912&&(l.flags|=128,E=!0,fm(p,!1),l.lanes=4194304);p.isBackwards?(A.sibling=l.child,l.child=A):(s=p.last,s!==null?s.sibling=A:l.child=A,p.last=A)}return p.tail!==null?(s=p.tail,p.rendering=s,p.tail=s.sibling,p.renderingStartTime=kt(),s.sibling=null,d=er.current,G(er,E?d&1|2:d&1),qn&&Ps(l,p.treeForkCount),s):(ni(l),null);case 22:case 23:return Er(l),Wi(),p=l.memoizedState!==null,s!==null?s.memoizedState!==null!==p&&(l.flags|=8192):p&&(l.flags|=8192),p?(d&536870912)!==0&&(l.flags&128)===0&&(ni(l),l.subtreeFlags&6&&(l.flags|=8192)):ni(l),d=l.updateQueue,d!==null&&Ng(l,d.retryQueue),d=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(d=s.memoizedState.cachePool.pool),p=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),p!==d&&(l.flags|=2048),s!==null&&L(se),null;case 24:return d=null,s!==null&&(d=s.memoizedState.cache),l.memoizedState.cache!==d&&(l.flags|=2048),ro(Ei),ni(l),null;case 25:return null;case 30:return null}throw Error(r(156,l.tag))}function EO(s,l){switch(md(l),l.tag){case 1:return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 3:return ro(Ei),Se(),s=l.flags,(s&65536)!==0&&(s&128)===0?(l.flags=s&-65537|128,l):null;case 26:case 27:case 5:return et(l),null;case 31:if(l.memoizedState!==null){if(Er(l),l.alternate===null)throw Error(r(340));nu()}return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 13:if(Er(l),s=l.memoizedState,s!==null&&s.dehydrated!==null){if(l.alternate===null)throw Error(r(340));nu()}return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 19:return L(er),null;case 4:return Se(),null;case 10:return ro(l.type),null;case 22:case 23:return Er(l),Wi(),s!==null&&L(se),s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 24:return ro(Ei),null;case 25:return null;default:return null}}function x4(s,l){switch(md(l),l.tag){case 3:ro(Ei),Se();break;case 26:case 27:case 5:et(l);break;case 4:Se();break;case 31:l.memoizedState!==null&&Er(l);break;case 13:Er(l);break;case 19:L(er);break;case 10:ro(l.type);break;case 22:case 23:Er(l),Wi(),s!==null&&L(se);break;case 24:ro(Ei)}}function dm(s,l){try{var d=l.updateQueue,p=d!==null?d.lastEffect:null;if(p!==null){var E=p.next;d=E;do{if((d.tag&s)===s){p=void 0;var A=d.create,W=d.inst;p=A(),W.destroy=p}d=d.next}while(d!==E)}}catch(oe){Tr(l,l.return,oe)}}function th(s,l,d){try{var p=l.updateQueue,E=p!==null?p.lastEffect:null;if(E!==null){var A=E.next;p=A;do{if((p.tag&s)===s){var W=p.inst,oe=W.destroy;if(oe!==void 0){W.destroy=void 0,E=l;var Ne=d,$e=oe;try{$e()}catch(ut){Tr(E,Ne,ut)}}}p=p.next}while(p!==A)}}catch(ut){Tr(l,l.return,ut)}}function w4(s){var l=s.updateQueue;if(l!==null){var d=s.stateNode;try{ki(l,d)}catch(p){Tr(s,s.return,p)}}}function b4(s,l,d){d.props=df(s.type,s.memoizedProps),d.state=s.memoizedState;try{d.componentWillUnmount()}catch(p){Tr(s,l,p)}}function mm(s,l){try{var d=s.ref;if(d!==null){switch(s.tag){case 26:case 27:case 5:var p=s.stateNode;break;case 30:p=s.stateNode;break;default:p=s.stateNode}typeof d=="function"?s.refCleanup=d(p):d.current=p}}catch(E){Tr(s,l,E)}}function xc(s,l){var d=s.ref,p=s.refCleanup;if(d!==null)if(typeof p=="function")try{p()}catch(E){Tr(s,l,E)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(E){Tr(s,l,E)}else d.current=null}function E4(s){var l=s.type,d=s.memoizedProps,p=s.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":d.autoFocus&&p.focus();break e;case"img":d.src?p.src=d.src:d.srcSet&&(p.srcset=d.srcSet)}}catch(E){Tr(s,s.return,E)}}function s_(s,l,d){try{var p=s.stateNode;GO(p,s.type,d,l),p[ve]=l}catch(E){Tr(s,s.return,E)}}function S4(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&lh(s.type)||s.tag===4}function o_(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||S4(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&lh(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function l_(s,l,d){var p=s.tag;if(p===5||p===6)s=s.stateNode,l?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(s,l):(l=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,l.appendChild(s),d=d._reactRootContainer,d!=null||l.onclick!==null||(l.onclick=Rs));else if(p!==4&&(p===27&&lh(s.type)&&(d=s.stateNode,l=null),s=s.child,s!==null))for(l_(s,l,d),s=s.sibling;s!==null;)l_(s,l,d),s=s.sibling}function Cg(s,l,d){var p=s.tag;if(p===5||p===6)s=s.stateNode,l?d.insertBefore(s,l):d.appendChild(s);else if(p!==4&&(p===27&&lh(s.type)&&(d=s.stateNode),s=s.child,s!==null))for(Cg(s,l,d),s=s.sibling;s!==null;)Cg(s,l,d),s=s.sibling}function T4(s){var l=s.stateNode,d=s.memoizedProps;try{for(var p=s.type,E=l.attributes;E.length;)l.removeAttributeNode(E[0]);rs(l,p,d),l[de]=s,l[ve]=d}catch(A){Tr(s,s.return,A)}}var cu=!1,ra=!1,c_=!1,A4=typeof WeakSet=="function"?WeakSet:Set,Da=null;function SO(s,l){if(s=s.containerInfo,R_=Kg,s=Rl(s),il(s)){if("selectionStart"in s)var d={start:s.selectionStart,end:s.selectionEnd};else e:{d=(d=s.ownerDocument)&&d.defaultView||window;var p=d.getSelection&&d.getSelection();if(p&&p.rangeCount!==0){d=p.anchorNode;var E=p.anchorOffset,A=p.focusNode;p=p.focusOffset;try{d.nodeType,A.nodeType}catch{d=null;break e}var W=0,oe=-1,Ne=-1,$e=0,ut=0,gt=s,Je=null;t:for(;;){for(var rt;gt!==d||E!==0&&gt.nodeType!==3||(oe=W+E),gt!==A||p!==0&&gt.nodeType!==3||(Ne=W+p),gt.nodeType===3&&(W+=gt.nodeValue.length),(rt=gt.firstChild)!==null;)Je=gt,gt=rt;for(;;){if(gt===s)break t;if(Je===d&&++$e===E&&(oe=W),Je===A&&++ut===p&&(Ne=W),(rt=gt.nextSibling)!==null)break;gt=Je,Je=gt.parentNode}gt=rt}d=oe===-1||Ne===-1?null:{start:oe,end:Ne}}else d=null}d=d||{start:0,end:0}}else d=null;for(k_={focusedElem:s,selectionRange:d},Kg=!1,Da=l;Da!==null;)if(l=Da,s=l.child,(l.subtreeFlags&1028)!==0&&s!==null)s.return=l,Da=s;else for(;Da!==null;){switch(l=Da,A=l.alternate,s=l.flags,l.tag){case 0:if((s&4)!==0&&(s=l.updateQueue,s=s!==null?s.events:null,s!==null))for(d=0;d<s.length;d++)E=s[d],E.ref.impl=E.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&A!==null){s=void 0,d=l,E=A.memoizedProps,A=A.memoizedState,p=d.stateNode;try{var rn=df(d.type,E);s=p.getSnapshotBeforeUpdate(rn,A),p.__reactInternalSnapshotBeforeUpdate=s}catch(bn){Tr(d,d.return,bn)}}break;case 3:if((s&1024)!==0){if(s=l.stateNode.containerInfo,d=s.nodeType,d===9)L_(s);else if(d===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":L_(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=l.sibling,s!==null){s.return=l.return,Da=s;break}Da=l.return}}function N4(s,l,d){var p=d.flags;switch(d.tag){case 0:case 11:case 15:hu(s,d),p&4&&dm(5,d);break;case 1:if(hu(s,d),p&4)if(s=d.stateNode,l===null)try{s.componentDidMount()}catch(W){Tr(d,d.return,W)}else{var E=df(d.type,l.memoizedProps);l=l.memoizedState;try{s.componentDidUpdate(E,l,s.__reactInternalSnapshotBeforeUpdate)}catch(W){Tr(d,d.return,W)}}p&64&&w4(d),p&512&&mm(d,d.return);break;case 3:if(hu(s,d),p&64&&(s=d.updateQueue,s!==null)){if(l=null,d.child!==null)switch(d.child.tag){case 27:case 5:l=d.child.stateNode;break;case 1:l=d.child.stateNode}try{ki(s,l)}catch(W){Tr(d,d.return,W)}}break;case 27:l===null&&p&4&&T4(d);case 26:case 5:hu(s,d),l===null&&p&4&&E4(d),p&512&&mm(d,d.return);break;case 12:hu(s,d);break;case 31:hu(s,d),p&4&&R4(s,d);break;case 13:hu(s,d),p&4&&k4(s,d),p&64&&(s=d.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(d=DO.bind(null,d),ZO(s,d))));break;case 22:if(p=d.memoizedState!==null||cu,!p){l=l!==null&&l.memoizedState!==null||ra,E=cu;var A=ra;cu=p,(ra=l)&&!A?fu(s,d,(d.subtreeFlags&8772)!==0):hu(s,d),cu=E,ra=A}break;case 30:break;default:hu(s,d)}}function C4(s){var l=s.alternate;l!==null&&(s.alternate=null,C4(l)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(l=s.stateNode,l!==null&&bt(l)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var di=null,ao=!1;function uu(s,l,d){for(d=d.child;d!==null;)I4(s,l,d),d=d.sibling}function I4(s,l,d){if(Ft&&typeof Ft.onCommitFiberUnmount=="function")try{Ft.onCommitFiberUnmount(zt,d)}catch{}switch(d.tag){case 26:ra||xc(d,l),uu(s,l,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:ra||xc(d,l);var p=di,E=ao;lh(d.type)&&(di=d.stateNode,ao=!1),uu(s,l,d),Em(d.stateNode),di=p,ao=E;break;case 5:ra||xc(d,l);case 6:if(p=di,E=ao,di=null,uu(s,l,d),di=p,ao=E,di!==null)if(ao)try{(di.nodeType===9?di.body:di.nodeName==="HTML"?di.ownerDocument.body:di).removeChild(d.stateNode)}catch(A){Tr(d,l,A)}else try{di.removeChild(d.stateNode)}catch(A){Tr(d,l,A)}break;case 18:di!==null&&(ao?(s=di,wE(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,d.stateNode),Bd(s)):wE(di,d.stateNode));break;case 4:p=di,E=ao,di=d.stateNode.containerInfo,ao=!0,uu(s,l,d),di=p,ao=E;break;case 0:case 11:case 14:case 15:th(2,d,l),ra||th(4,d,l),uu(s,l,d);break;case 1:ra||(xc(d,l),p=d.stateNode,typeof p.componentWillUnmount=="function"&&b4(d,l,p)),uu(s,l,d);break;case 21:uu(s,l,d);break;case 22:ra=(p=ra)||d.memoizedState!==null,uu(s,l,d),ra=p;break;default:uu(s,l,d)}}function R4(s,l){if(l.memoizedState===null&&(s=l.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{Bd(s)}catch(d){Tr(l,l.return,d)}}}function k4(s,l){if(l.memoizedState===null&&(s=l.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Bd(s)}catch(d){Tr(l,l.return,d)}}function TO(s){switch(s.tag){case 31:case 13:case 19:var l=s.stateNode;return l===null&&(l=s.stateNode=new A4),l;case 22:return s=s.stateNode,l=s._retryCache,l===null&&(l=s._retryCache=new A4),l;default:throw Error(r(435,s.tag))}}function Ig(s,l){var d=TO(s);l.forEach(function(p){if(!d.has(p)){d.add(p);var E=LO.bind(null,s,p);p.then(E,E)}})}function so(s,l){var d=l.deletions;if(d!==null)for(var p=0;p<d.length;p++){var E=d[p],A=s,W=l,oe=W;e:for(;oe!==null;){switch(oe.tag){case 27:if(lh(oe.type)){di=oe.stateNode,ao=!1;break e}break;case 5:di=oe.stateNode,ao=!1;break e;case 3:case 4:di=oe.stateNode.containerInfo,ao=!0;break e}oe=oe.return}if(di===null)throw Error(r(160));I4(A,W,E),di=null,ao=!1,A=E.alternate,A!==null&&(A.return=null),E.return=null}if(l.subtreeFlags&13886)for(l=l.child;l!==null;)O4(l,s),l=l.sibling}var Fl=null;function O4(s,l){var d=s.alternate,p=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:so(l,s),oo(s),p&4&&(th(3,s,s.return),dm(3,s),th(5,s,s.return));break;case 1:so(l,s),oo(s),p&512&&(ra||d===null||xc(d,d.return)),p&64&&cu&&(s=s.updateQueue,s!==null&&(p=s.callbacks,p!==null&&(d=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=d===null?p:d.concat(p))));break;case 26:var E=Fl;if(so(l,s),oo(s),p&512&&(ra||d===null||xc(d,d.return)),p&4){var A=d!==null?d.memoizedState:null;if(p=s.memoizedState,d===null)if(p===null)if(s.stateNode===null){e:{p=s.type,d=s.memoizedProps,E=E.ownerDocument||E;t:switch(p){case"title":A=E.getElementsByTagName("title")[0],(!A||A[He]||A[de]||A.namespaceURI==="http://www.w3.org/2000/svg"||A.hasAttribute("itemprop"))&&(A=E.createElement(p),E.head.insertBefore(A,E.querySelector("head > title"))),rs(A,p,d),A[de]=s,Xt(A),p=A;break e;case"link":var W=OE("link","href",E).get(p+(d.href||""));if(W){for(var oe=0;oe<W.length;oe++)if(A=W[oe],A.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&A.getAttribute("rel")===(d.rel==null?null:d.rel)&&A.getAttribute("title")===(d.title==null?null:d.title)&&A.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){W.splice(oe,1);break t}}A=E.createElement(p),rs(A,p,d),E.head.appendChild(A);break;case"meta":if(W=OE("meta","content",E).get(p+(d.content||""))){for(oe=0;oe<W.length;oe++)if(A=W[oe],A.getAttribute("content")===(d.content==null?null:""+d.content)&&A.getAttribute("name")===(d.name==null?null:d.name)&&A.getAttribute("property")===(d.property==null?null:d.property)&&A.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&A.getAttribute("charset")===(d.charSet==null?null:d.charSet)){W.splice(oe,1);break t}}A=E.createElement(p),rs(A,p,d),E.head.appendChild(A);break;default:throw Error(r(468,p))}A[de]=s,Xt(A),p=A}s.stateNode=p}else DE(E,s.type,s.stateNode);else s.stateNode=kE(E,p,s.memoizedProps);else A!==p?(A===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):A.count--,p===null?DE(E,s.type,s.stateNode):kE(E,p,s.memoizedProps)):p===null&&s.stateNode!==null&&s_(s,s.memoizedProps,d.memoizedProps)}break;case 27:so(l,s),oo(s),p&512&&(ra||d===null||xc(d,d.return)),d!==null&&p&4&&s_(s,s.memoizedProps,d.memoizedProps);break;case 5:if(so(l,s),oo(s),p&512&&(ra||d===null||xc(d,d.return)),s.flags&32){E=s.stateNode;try{qi(E,"")}catch(rn){Tr(s,s.return,rn)}}p&4&&s.stateNode!=null&&(E=s.memoizedProps,s_(s,E,d!==null?d.memoizedProps:E)),p&1024&&(c_=!0);break;case 6:if(so(l,s),oo(s),p&4){if(s.stateNode===null)throw Error(r(162));p=s.memoizedProps,d=s.stateNode;try{d.nodeValue=p}catch(rn){Tr(s,s.return,rn)}}break;case 3:if(Gg=null,E=Fl,Fl=qg(l.containerInfo),so(l,s),Fl=E,oo(s),p&4&&d!==null&&d.memoizedState.isDehydrated)try{Bd(l.containerInfo)}catch(rn){Tr(s,s.return,rn)}c_&&(c_=!1,D4(s));break;case 4:p=Fl,Fl=qg(s.stateNode.containerInfo),so(l,s),oo(s),Fl=p;break;case 12:so(l,s),oo(s);break;case 31:so(l,s),oo(s),p&4&&(p=s.updateQueue,p!==null&&(s.updateQueue=null,Ig(s,p)));break;case 13:so(l,s),oo(s),s.child.flags&8192&&s.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(kg=kt()),p&4&&(p=s.updateQueue,p!==null&&(s.updateQueue=null,Ig(s,p)));break;case 22:E=s.memoizedState!==null;var Ne=d!==null&&d.memoizedState!==null,$e=cu,ut=ra;if(cu=$e||E,ra=ut||Ne,so(l,s),ra=ut,cu=$e,oo(s),p&8192)e:for(l=s.stateNode,l._visibility=E?l._visibility&-2:l._visibility|1,E&&(d===null||Ne||cu||ra||mf(s)),d=null,l=s;;){if(l.tag===5||l.tag===26){if(d===null){Ne=d=l;try{if(A=Ne.stateNode,E)W=A.style,typeof W.setProperty=="function"?W.setProperty("display","none","important"):W.display="none";else{oe=Ne.stateNode;var gt=Ne.memoizedProps.style,Je=gt!=null&&gt.hasOwnProperty("display")?gt.display:null;oe.style.display=Je==null||typeof Je=="boolean"?"":(""+Je).trim()}}catch(rn){Tr(Ne,Ne.return,rn)}}}else if(l.tag===6){if(d===null){Ne=l;try{Ne.stateNode.nodeValue=E?"":Ne.memoizedProps}catch(rn){Tr(Ne,Ne.return,rn)}}}else if(l.tag===18){if(d===null){Ne=l;try{var rt=Ne.stateNode;E?bE(rt,!0):bE(Ne.stateNode,!1)}catch(rn){Tr(Ne,Ne.return,rn)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===s)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break e;for(;l.sibling===null;){if(l.return===null||l.return===s)break e;d===l&&(d=null),l=l.return}d===l&&(d=null),l.sibling.return=l.return,l=l.sibling}p&4&&(p=s.updateQueue,p!==null&&(d=p.retryQueue,d!==null&&(p.retryQueue=null,Ig(s,d))));break;case 19:so(l,s),oo(s),p&4&&(p=s.updateQueue,p!==null&&(s.updateQueue=null,Ig(s,p)));break;case 30:break;case 21:break;default:so(l,s),oo(s)}}function oo(s){var l=s.flags;if(l&2){try{for(var d,p=s.return;p!==null;){if(S4(p)){d=p;break}p=p.return}if(d==null)throw Error(r(160));switch(d.tag){case 27:var E=d.stateNode,A=o_(s);Cg(s,A,E);break;case 5:var W=d.stateNode;d.flags&32&&(qi(W,""),d.flags&=-33);var oe=o_(s);Cg(s,oe,W);break;case 3:case 4:var Ne=d.stateNode.containerInfo,$e=o_(s);l_(s,$e,Ne);break;default:throw Error(r(161))}}catch(ut){Tr(s,s.return,ut)}s.flags&=-3}l&4096&&(s.flags&=-4097)}function D4(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var l=s;D4(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),s=s.sibling}}function hu(s,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)N4(s,l.alternate,l),l=l.sibling}function mf(s){for(s=s.child;s!==null;){var l=s;switch(l.tag){case 0:case 11:case 14:case 15:th(4,l,l.return),mf(l);break;case 1:xc(l,l.return);var d=l.stateNode;typeof d.componentWillUnmount=="function"&&b4(l,l.return,d),mf(l);break;case 27:Em(l.stateNode);case 26:case 5:xc(l,l.return),mf(l);break;case 22:l.memoizedState===null&&mf(l);break;case 30:mf(l);break;default:mf(l)}s=s.sibling}}function fu(s,l,d){for(d=d&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var p=l.alternate,E=s,A=l,W=A.flags;switch(A.tag){case 0:case 11:case 15:fu(E,A,d),dm(4,A);break;case 1:if(fu(E,A,d),p=A,E=p.stateNode,typeof E.componentDidMount=="function")try{E.componentDidMount()}catch($e){Tr(p,p.return,$e)}if(p=A,E=p.updateQueue,E!==null){var oe=p.stateNode;try{var Ne=E.shared.hiddenCallbacks;if(Ne!==null)for(E.shared.hiddenCallbacks=null,E=0;E<Ne.length;E++)ka(Ne[E],oe)}catch($e){Tr(p,p.return,$e)}}d&&W&64&&w4(A),mm(A,A.return);break;case 27:T4(A);case 26:case 5:fu(E,A,d),d&&p===null&&W&4&&E4(A),mm(A,A.return);break;case 12:fu(E,A,d);break;case 31:fu(E,A,d),d&&W&4&&R4(E,A);break;case 13:fu(E,A,d),d&&W&4&&k4(E,A);break;case 22:A.memoizedState===null&&fu(E,A,d),mm(A,A.return);break;case 30:break;default:fu(E,A,d)}l=l.sibling}}function u_(s,l){var d=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(d=s.memoizedState.cachePool.pool),s=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(s=l.memoizedState.cachePool.pool),s!==d&&(s!=null&&s.refCount++,d!=null&&cf(d))}function h_(s,l){s=null,l.alternate!==null&&(s=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==s&&(l.refCount++,s!=null&&cf(s))}function Bl(s,l,d,p){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)L4(s,l,d,p),l=l.sibling}function L4(s,l,d,p){var E=l.flags;switch(l.tag){case 0:case 11:case 15:Bl(s,l,d,p),E&2048&&dm(9,l);break;case 1:Bl(s,l,d,p);break;case 3:Bl(s,l,d,p),E&2048&&(s=null,l.alternate!==null&&(s=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==s&&(l.refCount++,s!=null&&cf(s)));break;case 12:if(E&2048){Bl(s,l,d,p),s=l.stateNode;try{var A=l.memoizedProps,W=A.id,oe=A.onPostCommit;typeof oe=="function"&&oe(W,l.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(Ne){Tr(l,l.return,Ne)}}else Bl(s,l,d,p);break;case 31:Bl(s,l,d,p);break;case 13:Bl(s,l,d,p);break;case 23:break;case 22:A=l.stateNode,W=l.alternate,l.memoizedState!==null?A._visibility&2?Bl(s,l,d,p):pm(s,l):A._visibility&2?Bl(s,l,d,p):(A._visibility|=2,Cd(s,l,d,p,(l.subtreeFlags&10256)!==0||!1)),E&2048&&u_(W,l);break;case 24:Bl(s,l,d,p),E&2048&&h_(l.alternate,l);break;default:Bl(s,l,d,p)}}function Cd(s,l,d,p,E){for(E=E&&((l.subtreeFlags&10256)!==0||!1),l=l.child;l!==null;){var A=s,W=l,oe=d,Ne=p,$e=W.flags;switch(W.tag){case 0:case 11:case 15:Cd(A,W,oe,Ne,E),dm(8,W);break;case 23:break;case 22:var ut=W.stateNode;W.memoizedState!==null?ut._visibility&2?Cd(A,W,oe,Ne,E):pm(A,W):(ut._visibility|=2,Cd(A,W,oe,Ne,E)),E&&$e&2048&&u_(W.alternate,W);break;case 24:Cd(A,W,oe,Ne,E),E&&$e&2048&&h_(W.alternate,W);break;default:Cd(A,W,oe,Ne,E)}l=l.sibling}}function pm(s,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var d=s,p=l,E=p.flags;switch(p.tag){case 22:pm(d,p),E&2048&&u_(p.alternate,p);break;case 24:pm(d,p),E&2048&&h_(p.alternate,p);break;default:pm(d,p)}l=l.sibling}}var gm=8192;function Id(s,l,d){if(s.subtreeFlags&gm)for(s=s.child;s!==null;)j4(s,l,d),s=s.sibling}function j4(s,l,d){switch(s.tag){case 26:Id(s,l,d),s.flags&gm&&s.memoizedState!==null&&hD(d,Fl,s.memoizedState,s.memoizedProps);break;case 5:Id(s,l,d);break;case 3:case 4:var p=Fl;Fl=qg(s.stateNode.containerInfo),Id(s,l,d),Fl=p;break;case 22:s.memoizedState===null&&(p=s.alternate,p!==null&&p.memoizedState!==null?(p=gm,gm=16777216,Id(s,l,d),gm=p):Id(s,l,d));break;default:Id(s,l,d)}}function M4(s){var l=s.alternate;if(l!==null&&(s=l.child,s!==null)){l.child=null;do l=s.sibling,s.sibling=null,s=l;while(s!==null)}}function vm(s){var l=s.deletions;if((s.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var p=l[d];Da=p,F4(p,s)}M4(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)P4(s),s=s.sibling}function P4(s){switch(s.tag){case 0:case 11:case 15:vm(s),s.flags&2048&&th(9,s,s.return);break;case 3:vm(s);break;case 12:vm(s);break;case 22:var l=s.stateNode;s.memoizedState!==null&&l._visibility&2&&(s.return===null||s.return.tag!==13)?(l._visibility&=-3,Rg(s)):vm(s);break;default:vm(s)}}function Rg(s){var l=s.deletions;if((s.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var p=l[d];Da=p,F4(p,s)}M4(s)}for(s=s.child;s!==null;){switch(l=s,l.tag){case 0:case 11:case 15:th(8,l,l.return),Rg(l);break;case 22:d=l.stateNode,d._visibility&2&&(d._visibility&=-3,Rg(l));break;default:Rg(l)}s=s.sibling}}function F4(s,l){for(;Da!==null;){var d=Da;switch(d.tag){case 0:case 11:case 15:th(8,d,l);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var p=d.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:cf(d.memoizedState.cache)}if(p=d.child,p!==null)p.return=d,Da=p;else e:for(d=s;Da!==null;){p=Da;var E=p.sibling,A=p.return;if(C4(p),p===d){Da=null;break e}if(E!==null){E.return=A,Da=E;break e}Da=A}}}var AO={getCacheForType:function(s){var l=xa(Ei),d=l.data.get(s);return d===void 0&&(d=s(),l.data.set(s,d)),d},cacheSignal:function(){return xa(Ei).controller.signal}},NO=typeof WeakMap=="function"?WeakMap:Map,_r=0,Wr=null,Hn=null,Yn=0,Sr=0,Ro=null,nh=!1,Rd=!1,f_=!1,du=0,ji=0,rh=0,pf=0,d_=0,ko=0,kd=0,_m=null,lo=null,m_=!1,kg=0,B4=0,Og=1/0,Dg=null,ih=null,ba=0,ah=null,Od=null,mu=0,p_=0,g_=null,U4=null,ym=0,v_=null;function Oo(){return(_r&2)!==0&&Yn!==0?Yn&-Yn:fe.T!==null?E_():ne()}function V4(){if(ko===0)if((Yn&536870912)===0||qn){var s=nn;nn<<=1,(nn&3932160)===0&&(nn=262144),ko=s}else ko=536870912;return s=ti.current,s!==null&&(s.flags|=32),ko}function co(s,l,d){(s===Wr&&(Sr===2||Sr===9)||s.cancelPendingCommit!==null)&&(Dd(s,0),sh(s,Yn,ko,!1)),ln(s,d),((_r&2)===0||s!==Wr)&&(s===Wr&&((_r&2)===0&&(pf|=d),ji===4&&sh(s,Yn,ko,!1)),wc(s))}function z4(s,l,d){if((_r&6)!==0)throw Error(r(327));var p=!d&&(l&127)===0&&(l&s.expiredLanes)===0||Kr(s,l),E=p?RO(s,l):y_(s,l,!0),A=p;do{if(E===0){Rd&&!p&&sh(s,l,0,!1);break}else{if(d=s.current.alternate,A&&!CO(d)){E=y_(s,l,!1),A=!1;continue}if(E===2){if(A=l,s.errorRecoveryDisabledLanes&A)var W=0;else W=s.pendingLanes&-536870913,W=W!==0?W:W&536870912?536870912:0;if(W!==0){l=W;e:{var oe=s;E=_m;var Ne=oe.current.memoizedState.isDehydrated;if(Ne&&(Dd(oe,W).flags|=256),W=y_(oe,W,!1),W!==2){if(f_&&!Ne){oe.errorRecoveryDisabledLanes|=A,pf|=A,E=4;break e}A=lo,lo=E,A!==null&&(lo===null?lo=A:lo.push.apply(lo,A))}E=W}if(A=!1,E!==2)continue}}if(E===1){Dd(s,0),sh(s,l,0,!0);break}e:{switch(p=s,A=E,A){case 0:case 1:throw Error(r(345));case 4:if((l&4194048)!==l)break;case 6:sh(p,l,ko,!nh);break e;case 2:lo=null;break;case 3:case 5:break;default:throw Error(r(329))}if((l&62914560)===l&&(E=kg+300-kt(),10<E)){if(sh(p,l,ko,!nh),xn(p,0,!0)!==0)break e;mu=l,p.timeoutHandle=yE(q4.bind(null,p,d,lo,Dg,m_,l,ko,pf,kd,nh,A,"Throttled",-0,0),E);break e}q4(p,d,lo,Dg,m_,l,ko,pf,kd,nh,A,null,-0,0)}}break}while(!0);wc(s)}function q4(s,l,d,p,E,A,W,oe,Ne,$e,ut,gt,Je,rt){if(s.timeoutHandle=-1,gt=l.subtreeFlags,gt&8192||(gt&16785408)===16785408){gt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Rs},j4(l,A,gt);var rn=(A&62914560)===A?kg-kt():(A&4194048)===A?B4-kt():0;if(rn=fD(gt,rn),rn!==null){mu=A,s.cancelPendingCommit=rn(J4.bind(null,s,l,A,d,p,E,W,oe,Ne,ut,gt,null,Je,rt)),sh(s,A,W,!$e);return}}J4(s,l,A,d,p,E,W,oe,Ne)}function CO(s){for(var l=s;;){var d=l.tag;if((d===0||d===11||d===15)&&l.flags&16384&&(d=l.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var p=0;p<d.length;p++){var E=d[p],A=E.getSnapshot;E=E.value;try{if(!ga(A(),E))return!1}catch{return!1}}if(d=l.child,l.subtreeFlags&16384&&d!==null)d.return=l,l=d;else{if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function sh(s,l,d,p){l&=~d_,l&=~pf,s.suspendedLanes|=l,s.pingedLanes&=~l,p&&(s.warmLanes|=l),p=s.expirationTimes;for(var E=l;0<E;){var A=31-xt(E),W=1<<A;p[A]=-1,E&=~W}d!==0&&_i(s,d,l)}function Lg(){return(_r&6)===0?(xm(0),!1):!0}function __(){if(Hn!==null){if(Sr===0)var s=Hn.return;else s=Hn,sl=fc=null,wd(s),vt=null,sn=0,s=Hn;for(;s!==null;)x4(s.alternate,s),s=s.return;Hn=null}}function Dd(s,l){var d=s.timeoutHandle;d!==-1&&(s.timeoutHandle=-1,$O(d)),d=s.cancelPendingCommit,d!==null&&(s.cancelPendingCommit=null,d()),mu=0,__(),Wr=s,Hn=d=Js(s.current,null),Yn=l,Sr=0,Ro=null,nh=!1,Rd=Kr(s,l),f_=!1,kd=ko=d_=pf=rh=ji=0,lo=_m=null,m_=!1,(l&8)!==0&&(l|=l&32);var p=s.entangledLanes;if(p!==0)for(s=s.entanglements,p&=l;0<p;){var E=31-xt(p),A=1<<E;l|=s[E],p&=~A}return du=l,nf(),d}function H4(s,l){dn=null,fe.H=um,l===ke||l===xe?(l=ft(),Sr=3):l===Ge?(l=ft(),Sr=4):Sr=l===Xv?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,Ro=l,Hn===null&&(ji=1,Eg(s,Qs(l,s.current)))}function G4(){var s=ti.current;return s===null?!0:(Yn&4194048)===Yn?ir===null:(Yn&62914560)===Yn||(Yn&536870912)!==0?s===ir:!1}function W4(){var s=fe.H;return fe.H=um,s===null?um:s}function Y4(){var s=fe.A;return fe.A=AO,s}function jg(){ji=4,nh||(Yn&4194048)!==Yn&&ti.current!==null||(Rd=!0),(rh&134217727)===0&&(pf&134217727)===0||Wr===null||sh(Wr,Yn,ko,!1)}function y_(s,l,d){var p=_r;_r|=2;var E=W4(),A=Y4();(Wr!==s||Yn!==l)&&(Dg=null,Dd(s,l)),l=!1;var W=ji;e:do try{if(Sr!==0&&Hn!==null){var oe=Hn,Ne=Ro;switch(Sr){case 8:__(),W=6;break e;case 3:case 2:case 9:case 6:ti.current===null&&(l=!0);var $e=Sr;if(Sr=0,Ro=null,Ld(s,oe,Ne,$e),d&&Rd){W=0;break e}break;default:$e=Sr,Sr=0,Ro=null,Ld(s,oe,Ne,$e)}}IO(),W=ji;break}catch(ut){H4(s,ut)}while(!0);return l&&s.shellSuspendCounter++,sl=fc=null,_r=p,fe.H=E,fe.A=A,Hn===null&&(Wr=null,Yn=0,nf()),W}function IO(){for(;Hn!==null;)$4(Hn)}function RO(s,l){var d=_r;_r|=2;var p=W4(),E=Y4();Wr!==s||Yn!==l?(Dg=null,Og=kt()+500,Dd(s,l)):Rd=Kr(s,l);e:do try{if(Sr!==0&&Hn!==null){l=Hn;var A=Ro;t:switch(Sr){case 1:Sr=0,Ro=null,Ld(s,l,A,1);break;case 2:case 9:if(Ve(A)){Sr=0,Ro=null,K4(l);break}l=function(){Sr!==2&&Sr!==9||Wr!==s||(Sr=7),wc(s)},A.then(l,l);break e;case 3:Sr=7;break e;case 4:Sr=5;break e;case 7:Ve(A)?(Sr=0,Ro=null,K4(l)):(Sr=0,Ro=null,Ld(s,l,A,7));break;case 5:var W=null;switch(Hn.tag){case 26:W=Hn.memoizedState;case 5:case 27:var oe=Hn;if(W?LE(W):oe.stateNode.complete){Sr=0,Ro=null;var Ne=oe.sibling;if(Ne!==null)Hn=Ne;else{var $e=oe.return;$e!==null?(Hn=$e,Mg($e)):Hn=null}break t}}Sr=0,Ro=null,Ld(s,l,A,5);break;case 6:Sr=0,Ro=null,Ld(s,l,A,6);break;case 8:__(),ji=6;break e;default:throw Error(r(462))}}kO();break}catch(ut){H4(s,ut)}while(!0);return sl=fc=null,fe.H=p,fe.A=E,_r=d,Hn!==null?0:(Wr=null,Yn=0,nf(),ji)}function kO(){for(;Hn!==null&&!ht();)$4(Hn)}function $4(s){var l=_4(s.alternate,s,du);s.memoizedProps=s.pendingProps,l===null?Mg(s):Hn=l}function K4(s){var l=s,d=l.alternate;switch(l.tag){case 15:case 0:l=f4(d,l,l.pendingProps,l.type,void 0,Yn);break;case 11:l=f4(d,l,l.pendingProps,l.type.render,l.ref,Yn);break;case 5:wd(l);default:x4(d,l),l=Hn=sf(l,du),l=_4(d,l,du)}s.memoizedProps=s.pendingProps,l===null?Mg(s):Hn=l}function Ld(s,l,d,p){sl=fc=null,wd(l),vt=null,sn=0;var E=l.return;try{if(yO(s,E,l,d,Yn)){ji=1,Eg(s,Qs(d,s.current)),Hn=null;return}}catch(A){if(E!==null)throw Hn=E,A;ji=1,Eg(s,Qs(d,s.current)),Hn=null;return}l.flags&32768?(qn||p===1?s=!0:Rd||(Yn&536870912)!==0?s=!1:(nh=s=!0,(p===2||p===9||p===3||p===6)&&(p=ti.current,p!==null&&p.tag===13&&(p.flags|=16384))),X4(l,s)):Mg(l)}function Mg(s){var l=s;do{if((l.flags&32768)!==0){X4(l,nh);return}s=l.return;var d=bO(l.alternate,l,du);if(d!==null){Hn=d;return}if(l=l.sibling,l!==null){Hn=l;return}Hn=l=s}while(l!==null);ji===0&&(ji=5)}function X4(s,l){do{var d=EO(s.alternate,s);if(d!==null){d.flags&=32767,Hn=d;return}if(d=s.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!l&&(s=s.sibling,s!==null)){Hn=s;return}Hn=s=d}while(s!==null);ji=6,Hn=null}function J4(s,l,d,p,E,A,W,oe,Ne){s.cancelPendingCommit=null;do Pg();while(ba!==0);if((_r&6)!==0)throw Error(r(327));if(l!==null){if(l===s.current)throw Error(r(177));if(A=l.lanes|l.childLanes,A|=od,Wa(s,d,A,W,oe,Ne),s===Wr&&(Hn=Wr=null,Yn=0),Od=l,ah=s,mu=d,p_=A,g_=E,U4=p,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,jO(Ht,function(){return nE(),null})):(s.callbackNode=null,s.callbackPriority=0),p=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||p){p=fe.T,fe.T=null,E=le.p,le.p=2,W=_r,_r|=4;try{SO(s,l,d)}finally{_r=W,le.p=E,fe.T=p}}ba=1,Q4(),Z4(),eE()}}function Q4(){if(ba===1){ba=0;var s=ah,l=Od,d=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||d){d=fe.T,fe.T=null;var p=le.p;le.p=2;var E=_r;_r|=4;try{O4(l,s);var A=k_,W=Rl(s.containerInfo),oe=A.focusedElem,Ne=A.selectionRange;if(W!==oe&&oe&&oe.ownerDocument&&Il(oe.ownerDocument.documentElement,oe)){if(Ne!==null&&il(oe)){var $e=Ne.start,ut=Ne.end;if(ut===void 0&&(ut=$e),"selectionStart"in oe)oe.selectionStart=$e,oe.selectionEnd=Math.min(ut,oe.value.length);else{var gt=oe.ownerDocument||document,Je=gt&&gt.defaultView||window;if(Je.getSelection){var rt=Je.getSelection(),rn=oe.textContent.length,bn=Math.min(Ne.start,rn),Pr=Ne.end===void 0?bn:Math.min(Ne.end,rn);!rt.extend&&bn>Pr&&(W=Pr,Pr=bn,bn=W);var Pe=Hu(oe,bn),Oe=Hu(oe,Pr);if(Pe&&Oe&&(rt.rangeCount!==1||rt.anchorNode!==Pe.node||rt.anchorOffset!==Pe.offset||rt.focusNode!==Oe.node||rt.focusOffset!==Oe.offset)){var Ye=gt.createRange();Ye.setStart(Pe.node,Pe.offset),rt.removeAllRanges(),bn>Pr?(rt.addRange(Ye),rt.extend(Oe.node,Oe.offset)):(Ye.setEnd(Oe.node,Oe.offset),rt.addRange(Ye))}}}}for(gt=[],rt=oe;rt=rt.parentNode;)rt.nodeType===1&&gt.push({element:rt,left:rt.scrollLeft,top:rt.scrollTop});for(typeof oe.focus=="function"&&oe.focus(),oe=0;oe<gt.length;oe++){var dt=gt[oe];dt.element.scrollLeft=dt.left,dt.element.scrollTop=dt.top}}Kg=!!R_,k_=R_=null}finally{_r=E,le.p=p,fe.T=d}}s.current=l,ba=2}}function Z4(){if(ba===2){ba=0;var s=ah,l=Od,d=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||d){d=fe.T,fe.T=null;var p=le.p;le.p=2;var E=_r;_r|=4;try{N4(s,l.alternate,l)}finally{_r=E,le.p=p,fe.T=d}}ba=3}}function eE(){if(ba===4||ba===3){ba=0,Dt();var s=ah,l=Od,d=mu,p=U4;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?ba=5:(ba=0,Od=ah=null,tE(s,s.pendingLanes));var E=s.pendingLanes;if(E===0&&(ih=null),pr(d),l=l.stateNode,Ft&&typeof Ft.onCommitFiberRoot=="function")try{Ft.onCommitFiberRoot(zt,l,void 0,(l.current.flags&128)===128)}catch{}if(p!==null){l=fe.T,E=le.p,le.p=2,fe.T=null;try{for(var A=s.onRecoverableError,W=0;W<p.length;W++){var oe=p[W];A(oe.value,{componentStack:oe.stack})}}finally{fe.T=l,le.p=E}}(mu&3)!==0&&Pg(),wc(s),E=s.pendingLanes,(d&261930)!==0&&(E&42)!==0?s===v_?ym++:(ym=0,v_=s):ym=0,xm(0)}}function tE(s,l){(s.pooledCacheLanes&=l)===0&&(l=s.pooledCache,l!=null&&(s.pooledCache=null,cf(l)))}function Pg(){return Q4(),Z4(),eE(),nE()}function nE(){if(ba!==5)return!1;var s=ah,l=p_;p_=0;var d=pr(mu),p=fe.T,E=le.p;try{le.p=32>d?32:d,fe.T=null,d=g_,g_=null;var A=ah,W=mu;if(ba=0,Od=ah=null,mu=0,(_r&6)!==0)throw Error(r(331));var oe=_r;if(_r|=4,P4(A.current),L4(A,A.current,W,d),_r=oe,xm(0,!1),Ft&&typeof Ft.onPostCommitFiberRoot=="function")try{Ft.onPostCommitFiberRoot(zt,A)}catch{}return!0}finally{le.p=E,fe.T=p,tE(s,l)}}function rE(s,l,d){l=Qs(d,l),l=Kv(s.stateNode,l,2),s=Ln(s,l,2),s!==null&&(ln(s,2),wc(s))}function Tr(s,l,d){if(s.tag===3)rE(s,s,d);else for(;l!==null;){if(l.tag===3){rE(l,s,d);break}else if(l.tag===1){var p=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(ih===null||!ih.has(p))){s=Qs(d,s),d=i4(2),p=Ln(l,d,2),p!==null&&(a4(d,p,l,s),ln(p,2),wc(p));break}}l=l.return}}function x_(s,l,d){var p=s.pingCache;if(p===null){p=s.pingCache=new NO;var E=new Set;p.set(l,E)}else E=p.get(l),E===void 0&&(E=new Set,p.set(l,E));E.has(d)||(f_=!0,E.add(d),s=OO.bind(null,s,l,d),l.then(s,s))}function OO(s,l,d){var p=s.pingCache;p!==null&&p.delete(l),s.pingedLanes|=s.suspendedLanes&d,s.warmLanes&=~d,Wr===s&&(Yn&d)===d&&(ji===4||ji===3&&(Yn&62914560)===Yn&&300>kt()-kg?(_r&2)===0&&Dd(s,0):d_|=d,kd===Yn&&(kd=0)),wc(s)}function iE(s,l){l===0&&(l=Ji()),s=Ol(s,l),s!==null&&(ln(s,l),wc(s))}function DO(s){var l=s.memoizedState,d=0;l!==null&&(d=l.retryLane),iE(s,d)}function LO(s,l){var d=0;switch(s.tag){case 31:case 13:var p=s.stateNode,E=s.memoizedState;E!==null&&(d=E.retryLane);break;case 19:p=s.stateNode;break;case 22:p=s.stateNode._retryCache;break;default:throw Error(r(314))}p!==null&&p.delete(l),iE(s,d)}function jO(s,l){return At(s,l)}var Fg=null,jd=null,w_=!1,Bg=!1,b_=!1,oh=0;function wc(s){s!==jd&&s.next===null&&(jd===null?Fg=jd=s:jd=jd.next=s),Bg=!0,w_||(w_=!0,PO())}function xm(s,l){if(!b_&&Bg){b_=!0;do for(var d=!1,p=Fg;p!==null;){if(s!==0){var E=p.pendingLanes;if(E===0)var A=0;else{var W=p.suspendedLanes,oe=p.pingedLanes;A=(1<<31-xt(42|s)+1)-1,A&=E&~(W&~oe),A=A&201326741?A&201326741|1:A?A|2:0}A!==0&&(d=!0,lE(p,A))}else A=Yn,A=xn(p,p===Wr?A:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(A&3)===0||Kr(p,A)||(d=!0,lE(p,A));p=p.next}while(d);b_=!1}}function MO(){aE()}function aE(){Bg=w_=!1;var s=0;oh!==0&&YO()&&(s=oh);for(var l=kt(),d=null,p=Fg;p!==null;){var E=p.next,A=sE(p,l);A===0?(p.next=null,d===null?Fg=E:d.next=E,E===null&&(jd=d)):(d=p,(s!==0||(A&3)!==0)&&(Bg=!0)),p=E}ba!==0&&ba!==5||xm(s),oh!==0&&(oh=0)}function sE(s,l){for(var d=s.suspendedLanes,p=s.pingedLanes,E=s.expirationTimes,A=s.pendingLanes&-62914561;0<A;){var W=31-xt(A),oe=1<<W,Ne=E[W];Ne===-1?((oe&d)===0||(oe&p)!==0)&&(E[W]=Ur(oe,l)):Ne<=l&&(s.expiredLanes|=oe),A&=~oe}if(l=Wr,d=Yn,d=xn(s,s===l?d:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),p=s.callbackNode,d===0||s===l&&(Sr===2||Sr===9)||s.cancelPendingCommit!==null)return p!==null&&p!==null&&Ke(p),s.callbackNode=null,s.callbackPriority=0;if((d&3)===0||Kr(s,d)){if(l=d&-d,l===s.callbackPriority)return l;switch(p!==null&&Ke(p),pr(d)){case 2:case 8:d=Gt;break;case 32:d=Ht;break;case 268435456:d=Wt;break;default:d=Ht}return p=oE.bind(null,s),d=At(d,p),s.callbackPriority=l,s.callbackNode=d,l}return p!==null&&p!==null&&Ke(p),s.callbackPriority=2,s.callbackNode=null,2}function oE(s,l){if(ba!==0&&ba!==5)return s.callbackNode=null,s.callbackPriority=0,null;var d=s.callbackNode;if(Pg()&&s.callbackNode!==d)return null;var p=Yn;return p=xn(s,s===Wr?p:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),p===0?null:(z4(s,p,l),sE(s,kt()),s.callbackNode!=null&&s.callbackNode===d?oE.bind(null,s):null)}function lE(s,l){if(Pg())return null;z4(s,l,!0)}function PO(){KO(function(){(_r&6)!==0?At(Vt,MO):aE()})}function E_(){if(oh===0){var s=y;s===0&&(s=wt,wt<<=1,(wt&261888)===0&&(wt=256)),oh=s}return oh}function cE(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Aa(""+s)}function uE(s,l){var d=l.ownerDocument.createElement("input");return d.name=l.name,d.value=l.value,s.id&&d.setAttribute("form",s.id),l.parentNode.insertBefore(d,l),s=new FormData(s),d.parentNode.removeChild(d),s}function FO(s,l,d,p,E){if(l==="submit"&&d&&d.stateNode===E){var A=cE((E[ve]||null).action),W=p.submitter;W&&(l=(l=W[ve]||null)?cE(l.formAction):W.getAttribute("formAction"),l!==null&&(A=l,W=null));var oe=new Zi("action","action",null,p,E);s.push({event:oe,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(oh!==0){var Ne=W?uE(E,W):new FormData(E);qv(d,{pending:!0,data:Ne,method:E.method,action:A},null,Ne)}}else typeof A=="function"&&(oe.preventDefault(),Ne=W?uE(E,W):new FormData(E),qv(d,{pending:!0,data:Ne,method:E.method,action:A},A,Ne))},currentTarget:E}]})}}for(var S_=0;S_<Zc.length;S_++){var T_=Zc[S_],BO=T_.toLowerCase(),UO=T_[0].toUpperCase()+T_.slice(1);Xs(BO,"on"+UO)}Xs(Qc,"onAnimationEnd"),Xs(ef,"onAnimationIteration"),Xs(K0,"onAnimationStart"),Xs("dblclick","onDoubleClick"),Xs("focusin","onFocus"),Xs("focusout","onBlur"),Xs(ug,"onTransitionRun"),Xs(hg,"onTransitionStart"),Xs(fg,"onTransitionCancel"),Xs(X0,"onTransitionEnd"),zi("onMouseEnter",["mouseout","mouseover"]),zi("onMouseLeave",["mouseout","mouseover"]),zi("onPointerEnter",["pointerout","pointerover"]),zi("onPointerLeave",["pointerout","pointerover"]),or("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),or("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),or("onBeforeInput",["compositionend","keypress","textInput","paste"]),or("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),or("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),or("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wm="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),VO=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(wm));function hE(s,l){l=(l&4)!==0;for(var d=0;d<s.length;d++){var p=s[d],E=p.event;p=p.listeners;e:{var A=void 0;if(l)for(var W=p.length-1;0<=W;W--){var oe=p[W],Ne=oe.instance,$e=oe.currentTarget;if(oe=oe.listener,Ne!==A&&E.isPropagationStopped())break e;A=oe,E.currentTarget=$e;try{A(E)}catch(ut){tf(ut)}E.currentTarget=null,A=Ne}else for(W=0;W<p.length;W++){if(oe=p[W],Ne=oe.instance,$e=oe.currentTarget,oe=oe.listener,Ne!==A&&E.isPropagationStopped())break e;A=oe,E.currentTarget=$e;try{A(E)}catch(ut){tf(ut)}E.currentTarget=null,A=Ne}}}}function Gn(s,l){var d=l[Be];d===void 0&&(d=l[Be]=new Set);var p=s+"__bubble";d.has(p)||(fE(l,s,2,!1),d.add(p))}function A_(s,l,d){var p=0;l&&(p|=4),fE(d,s,p,l)}var Ug="_reactListening"+Math.random().toString(36).slice(2);function N_(s){if(!s[Ug]){s[Ug]=!0,nr.forEach(function(d){d!=="selectionchange"&&(VO.has(d)||A_(d,!1,s),A_(d,!0,s))});var l=s.nodeType===9?s:s.ownerDocument;l===null||l[Ug]||(l[Ug]=!0,A_("selectionchange",!1,l))}}function fE(s,l,d,p){switch(VE(l)){case 2:var E=pD;break;case 8:E=gD;break;default:E=z_}d=E.bind(null,l,d,s),E=void 0,!bl||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(E=!0),p?E!==void 0?s.addEventListener(l,d,{capture:!0,passive:E}):s.addEventListener(l,d,!0):E!==void 0?s.addEventListener(l,d,{passive:E}):s.addEventListener(l,d,!1)}function C_(s,l,d,p,E){var A=p;if((l&1)===0&&(l&2)===0&&p!==null)e:for(;;){if(p===null)return;var W=p.tag;if(W===3||W===4){var oe=p.stateNode.containerInfo;if(oe===E)break;if(W===4)for(W=p.return;W!==null;){var Ne=W.tag;if((Ne===3||Ne===4)&&W.stateNode.containerInfo===E)return;W=W.return}for(;oe!==null;){if(W=mt(oe),W===null)return;if(Ne=W.tag,Ne===5||Ne===6||Ne===26||Ne===27){p=A=W;continue e}oe=oe.parentNode}}p=p.return}Xo(function(){var $e=A,ut=Na(d),gt=[];e:{var Je=J0.get(s);if(Je!==void 0){var rt=Zi,rn=s;switch(s){case"keypress":if(Ka(d)===0)break e;case"keydown":case"keyup":rt=Vn;break;case"focusin":rn="focus",rt=Os;break;case"focusout":rn="blur",rt=Os;break;case"beforeblur":case"afterblur":rt=Os;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":rt=sc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":rt=$s;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":rt=V;break;case Qc:case ef:case K0:rt=D;break;case X0:rt=he;break;case"scroll":case"scrollend":rt=Jo;break;case"wheel":rt=Xe;break;case"copy":case"cut":case"paste":rt=be;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":rt=xr;break;case"toggle":case"beforetoggle":rt=Tn}var bn=(l&4)!==0,Pr=!bn&&(s==="scroll"||s==="scrollend"),Pe=bn?Je!==null?Je+"Capture":null:Je;bn=[];for(var Oe=$e,Ye;Oe!==null;){var dt=Oe;if(Ye=dt.stateNode,dt=dt.tag,dt!==5&&dt!==26&&dt!==27||Ye===null||Pe===null||(dt=Hi(Oe,Pe),dt!=null&&bn.push(bm(Oe,dt,Ye))),Pr)break;Oe=Oe.return}0<bn.length&&(Je=new rt(Je,rn,null,d,ut),gt.push({event:Je,listeners:bn}))}}if((l&7)===0){e:{if(Je=s==="mouseover"||s==="pointerover",rt=s==="mouseout"||s==="pointerout",Je&&d!==So&&(rn=d.relatedTarget||d.fromElement)&&(mt(rn)||rn[ye]))break e;if((rt||Je)&&(Je=ut.window===ut?ut:(Je=ut.ownerDocument)?Je.defaultView||Je.parentWindow:window,rt?(rn=d.relatedTarget||d.toElement,rt=$e,rn=rn?mt(rn):null,rn!==null&&(Pr=a(rn),bn=rn.tag,rn!==Pr||bn!==5&&bn!==27&&bn!==6)&&(rn=null)):(rt=null,rn=$e),rt!==rn)){if(bn=sc,dt="onMouseLeave",Pe="onMouseEnter",Oe="mouse",(s==="pointerout"||s==="pointerover")&&(bn=xr,dt="onPointerLeave",Pe="onPointerEnter",Oe="pointer"),Pr=rt==null?Je:je(rt),Ye=rn==null?Je:je(rn),Je=new bn(dt,Oe+"leave",rt,d,ut),Je.target=Pr,Je.relatedTarget=Ye,dt=null,mt(ut)===$e&&(bn=new bn(Pe,Oe+"enter",rn,d,ut),bn.target=Ye,bn.relatedTarget=Pr,dt=bn),Pr=dt,rt&&rn)t:{for(bn=zO,Pe=rt,Oe=rn,Ye=0,dt=Pe;dt;dt=bn(dt))Ye++;dt=0;for(var _n=Oe;_n;_n=bn(_n))dt++;for(;0<Ye-dt;)Pe=bn(Pe),Ye--;for(;0<dt-Ye;)Oe=bn(Oe),dt--;for(;Ye--;){if(Pe===Oe||Oe!==null&&Pe===Oe.alternate){bn=Pe;break t}Pe=bn(Pe),Oe=bn(Oe)}bn=null}else bn=null;rt!==null&&dE(gt,Je,rt,bn,!1),rn!==null&&Pr!==null&&dE(gt,Pr,rn,bn,!0)}}e:{if(Je=$e?je($e):window,rt=Je.nodeName&&Je.nodeName.toLowerCase(),rt==="select"||rt==="input"&&Je.type==="file")var fr=lc;else if(Qh(Je))if(ms)fr=nl;else{fr=wi;var cn=zu}else rt=Je.nodeName,!rt||rt.toLowerCase()!=="input"||Je.type!=="checkbox"&&Je.type!=="radio"?$e&&rc($e.elementType)&&(fr=lc):fr=sd;if(fr&&(fr=fr(s,$e))){Ls(gt,fr,d,ut);break e}cn&&cn(s,Je,$e),s==="focusout"&&$e&&Je.type==="number"&&$e.memoizedProps.value!=null&&Gc(Je,"number",Je.value)}switch(cn=$e?je($e):window,s){case"focusin":(Qh(cn)||cn.contentEditable==="true")&&(js=cn,kl=$e,Ca=null);break;case"focusout":Ca=kl=js=null;break;case"mousedown":Ks=!0;break;case"contextmenu":case"mouseup":case"dragend":Ks=!1,lr(gt,d,ut);break;case"selectionchange":if(Jc)break;case"keydown":case"keyup":lr(gt,d,ut)}var Mn;if(Pn)e:{switch(s){case"compositionstart":var $n="onCompositionStart";break e;case"compositionend":$n="onCompositionEnd";break e;case"compositionupdate":$n="onCompositionUpdate";break e}$n=void 0}else Zo?Ds(s,d)&&($n="onCompositionEnd"):s==="keydown"&&d.keyCode===229&&($n="onCompositionStart");$n&&(ma&&d.locale!=="ko"&&(Zo||$n!=="onCompositionStart"?$n==="onCompositionEnd"&&Zo&&(Mn=Kc()):($a=ut,El="value"in $a?$a.value:$a.textContent,Zo=!0)),cn=Vg($e,$n),0<cn.length&&($n=new Le($n,s,null,d,ut),gt.push({event:$n,listeners:cn}),Mn?$n.data=Mn:(Mn=Qo(d),Mn!==null&&($n.data=Mn)))),(Mn=ea?Qa(s,d):Tl(s,d))&&($n=Vg($e,"onBeforeInput"),0<$n.length&&(cn=new Le("onBeforeInput","beforeinput",null,d,ut),gt.push({event:cn,listeners:$n}),cn.data=Mn)),FO(gt,s,$e,d,ut)}hE(gt,l)})}function bm(s,l,d){return{instance:s,listener:l,currentTarget:d}}function Vg(s,l){for(var d=l+"Capture",p=[];s!==null;){var E=s,A=E.stateNode;if(E=E.tag,E!==5&&E!==26&&E!==27||A===null||(E=Hi(s,d),E!=null&&p.unshift(bm(s,E,A)),E=Hi(s,l),E!=null&&p.push(bm(s,E,A))),s.tag===3)return p;s=s.return}return[]}function zO(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function dE(s,l,d,p,E){for(var A=l._reactName,W=[];d!==null&&d!==p;){var oe=d,Ne=oe.alternate,$e=oe.stateNode;if(oe=oe.tag,Ne!==null&&Ne===p)break;oe!==5&&oe!==26&&oe!==27||$e===null||(Ne=$e,E?($e=Hi(d,A),$e!=null&&W.unshift(bm(d,$e,Ne))):E||($e=Hi(d,A),$e!=null&&W.push(bm(d,$e,Ne)))),d=d.return}W.length!==0&&s.push({event:l,listeners:W})}var qO=/\r\n?/g,HO=/\u0000|\uFFFD/g;function mE(s){return(typeof s=="string"?s:""+s).replace(qO,`
`).replace(HO,"")}function pE(s,l){return l=mE(l),mE(s)===l}function Mr(s,l,d,p,E,A){switch(d){case"children":typeof p=="string"?l==="body"||l==="textarea"&&p===""||qi(s,p):(typeof p=="number"||typeof p=="bigint")&&l!=="body"&&qi(s,""+p);break;case"className":Qi(s,"class",p);break;case"tabIndex":Qi(s,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":Qi(s,d,p);break;case"style":$c(s,p,A);break;case"data":if(l!=="object"){Qi(s,"data",p);break}case"src":case"href":if(p===""&&(l!=="a"||d!=="href")){s.removeAttribute(d);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){s.removeAttribute(d);break}p=Aa(""+p),s.setAttribute(d,p);break;case"action":case"formAction":if(typeof p=="function"){s.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof A=="function"&&(d==="formAction"?(l!=="input"&&Mr(s,l,"name",E.name,E,null),Mr(s,l,"formEncType",E.formEncType,E,null),Mr(s,l,"formMethod",E.formMethod,E,null),Mr(s,l,"formTarget",E.formTarget,E,null)):(Mr(s,l,"encType",E.encType,E,null),Mr(s,l,"method",E.method,E,null),Mr(s,l,"target",E.target,E,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){s.removeAttribute(d);break}p=Aa(""+p),s.setAttribute(d,p);break;case"onClick":p!=null&&(s.onclick=Rs);break;case"onScroll":p!=null&&Gn("scroll",s);break;case"onScrollEnd":p!=null&&Gn("scrollend",s);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(d=p.__html,d!=null){if(E.children!=null)throw Error(r(60));s.innerHTML=d}}break;case"multiple":s.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":s.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){s.removeAttribute("xlink:href");break}d=Aa(""+p),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?s.setAttribute(d,""+p):s.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?s.setAttribute(d,""):s.removeAttribute(d);break;case"capture":case"download":p===!0?s.setAttribute(d,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?s.setAttribute(d,p):s.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?s.setAttribute(d,p):s.removeAttribute(d);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?s.removeAttribute(d):s.setAttribute(d,p);break;case"popover":Gn("beforetoggle",s),Gn("toggle",s),zr(s,"popover",p);break;case"xlinkActuate":li(s,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":li(s,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":li(s,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":li(s,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":li(s,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":li(s,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":li(s,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":li(s,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":li(s,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":zr(s,"is",p);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=ic.get(d)||d,zr(s,d,p))}}function I_(s,l,d,p,E,A){switch(d){case"style":$c(s,p,A);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(d=p.__html,d!=null){if(E.children!=null)throw Error(r(60));s.innerHTML=d}}break;case"children":typeof p=="string"?qi(s,p):(typeof p=="number"||typeof p=="bigint")&&qi(s,""+p);break;case"onScroll":p!=null&&Gn("scroll",s);break;case"onScrollEnd":p!=null&&Gn("scrollend",s);break;case"onClick":p!=null&&(s.onclick=Rs);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!jn.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(E=d.endsWith("Capture"),l=d.slice(2,E?d.length-7:void 0),A=s[ve]||null,A=A!=null?A[d]:null,typeof A=="function"&&s.removeEventListener(l,A,E),typeof p=="function")){typeof A!="function"&&A!==null&&(d in s?s[d]=null:s.hasAttribute(d)&&s.removeAttribute(d)),s.addEventListener(l,p,E);break e}d in s?s[d]=p:p===!0?s.setAttribute(d,""):zr(s,d,p)}}}function rs(s,l,d){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Gn("error",s),Gn("load",s);var p=!1,E=!1,A;for(A in d)if(d.hasOwnProperty(A)){var W=d[A];if(W!=null)switch(A){case"src":p=!0;break;case"srcSet":E=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:Mr(s,l,A,W,d,null)}}E&&Mr(s,l,"srcSet",d.srcSet,d,null),p&&Mr(s,l,"src",d.src,d,null);return;case"input":Gn("invalid",s);var oe=A=W=E=null,Ne=null,$e=null;for(p in d)if(d.hasOwnProperty(p)){var ut=d[p];if(ut!=null)switch(p){case"name":E=ut;break;case"type":W=ut;break;case"checked":Ne=ut;break;case"defaultChecked":$e=ut;break;case"value":A=ut;break;case"defaultValue":oe=ut;break;case"children":case"dangerouslySetInnerHTML":if(ut!=null)throw Error(r(137,l));break;default:Mr(s,l,p,ut,d,null)}}Bu(s,A,oe,Ne,$e,W,E,!1);return;case"select":Gn("invalid",s),p=W=A=null;for(E in d)if(d.hasOwnProperty(E)&&(oe=d[E],oe!=null))switch(E){case"value":A=oe;break;case"defaultValue":W=oe;break;case"multiple":p=oe;default:Mr(s,l,E,oe,d,null)}l=A,d=W,s.multiple=!!p,l!=null?da(s,!!p,l,!1):d!=null&&da(s,!!p,d,!0);return;case"textarea":Gn("invalid",s),A=E=p=null;for(W in d)if(d.hasOwnProperty(W)&&(oe=d[W],oe!=null))switch(W){case"value":p=oe;break;case"defaultValue":E=oe;break;case"children":A=oe;break;case"dangerouslySetInnerHTML":if(oe!=null)throw Error(r(91));break;default:Mr(s,l,W,oe,d,null)}bo(s,p,E,A);return;case"option":for(Ne in d)if(d.hasOwnProperty(Ne)&&(p=d[Ne],p!=null))switch(Ne){case"selected":s.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:Mr(s,l,Ne,p,d,null)}return;case"dialog":Gn("beforetoggle",s),Gn("toggle",s),Gn("cancel",s),Gn("close",s);break;case"iframe":case"object":Gn("load",s);break;case"video":case"audio":for(p=0;p<wm.length;p++)Gn(wm[p],s);break;case"image":Gn("error",s),Gn("load",s);break;case"details":Gn("toggle",s);break;case"embed":case"source":case"link":Gn("error",s),Gn("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for($e in d)if(d.hasOwnProperty($e)&&(p=d[$e],p!=null))switch($e){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:Mr(s,l,$e,p,d,null)}return;default:if(rc(l)){for(ut in d)d.hasOwnProperty(ut)&&(p=d[ut],p!==void 0&&I_(s,l,ut,p,d,void 0));return}}for(oe in d)d.hasOwnProperty(oe)&&(p=d[oe],p!=null&&Mr(s,l,oe,p,d,null))}function GO(s,l,d,p){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var E=null,A=null,W=null,oe=null,Ne=null,$e=null,ut=null;for(rt in d){var gt=d[rt];if(d.hasOwnProperty(rt)&&gt!=null)switch(rt){case"checked":break;case"value":break;case"defaultValue":Ne=gt;default:p.hasOwnProperty(rt)||Mr(s,l,rt,null,p,gt)}}for(var Je in p){var rt=p[Je];if(gt=d[Je],p.hasOwnProperty(Je)&&(rt!=null||gt!=null))switch(Je){case"type":A=rt;break;case"name":E=rt;break;case"checked":$e=rt;break;case"defaultChecked":ut=rt;break;case"value":W=rt;break;case"defaultValue":oe=rt;break;case"children":case"dangerouslySetInnerHTML":if(rt!=null)throw Error(r(137,l));break;default:rt!==gt&&Mr(s,l,Je,rt,p,gt)}}xl(s,W,oe,Ne,$e,ut,A,E);return;case"select":rt=W=oe=Je=null;for(A in d)if(Ne=d[A],d.hasOwnProperty(A)&&Ne!=null)switch(A){case"value":break;case"multiple":rt=Ne;default:p.hasOwnProperty(A)||Mr(s,l,A,null,p,Ne)}for(E in p)if(A=p[E],Ne=d[E],p.hasOwnProperty(E)&&(A!=null||Ne!=null))switch(E){case"value":Je=A;break;case"defaultValue":oe=A;break;case"multiple":W=A;default:A!==Ne&&Mr(s,l,E,A,p,Ne)}l=oe,d=W,p=rt,Je!=null?da(s,!!d,Je,!1):!!p!=!!d&&(l!=null?da(s,!!d,l,!0):da(s,!!d,d?[]:"",!1));return;case"textarea":rt=Je=null;for(oe in d)if(E=d[oe],d.hasOwnProperty(oe)&&E!=null&&!p.hasOwnProperty(oe))switch(oe){case"value":break;case"children":break;default:Mr(s,l,oe,null,p,E)}for(W in p)if(E=p[W],A=d[W],p.hasOwnProperty(W)&&(E!=null||A!=null))switch(W){case"value":Je=E;break;case"defaultValue":rt=E;break;case"children":break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:E!==A&&Mr(s,l,W,E,p,A)}Wc(s,Je,rt);return;case"option":for(var rn in d)if(Je=d[rn],d.hasOwnProperty(rn)&&Je!=null&&!p.hasOwnProperty(rn))switch(rn){case"selected":s.selected=!1;break;default:Mr(s,l,rn,null,p,Je)}for(Ne in p)if(Je=p[Ne],rt=d[Ne],p.hasOwnProperty(Ne)&&Je!==rt&&(Je!=null||rt!=null))switch(Ne){case"selected":s.selected=Je&&typeof Je!="function"&&typeof Je!="symbol";break;default:Mr(s,l,Ne,Je,p,rt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var bn in d)Je=d[bn],d.hasOwnProperty(bn)&&Je!=null&&!p.hasOwnProperty(bn)&&Mr(s,l,bn,null,p,Je);for($e in p)if(Je=p[$e],rt=d[$e],p.hasOwnProperty($e)&&Je!==rt&&(Je!=null||rt!=null))switch($e){case"children":case"dangerouslySetInnerHTML":if(Je!=null)throw Error(r(137,l));break;default:Mr(s,l,$e,Je,p,rt)}return;default:if(rc(l)){for(var Pr in d)Je=d[Pr],d.hasOwnProperty(Pr)&&Je!==void 0&&!p.hasOwnProperty(Pr)&&I_(s,l,Pr,void 0,p,Je);for(ut in p)Je=p[ut],rt=d[ut],!p.hasOwnProperty(ut)||Je===rt||Je===void 0&&rt===void 0||I_(s,l,ut,Je,p,rt);return}}for(var Pe in d)Je=d[Pe],d.hasOwnProperty(Pe)&&Je!=null&&!p.hasOwnProperty(Pe)&&Mr(s,l,Pe,null,p,Je);for(gt in p)Je=p[gt],rt=d[gt],!p.hasOwnProperty(gt)||Je===rt||Je==null&&rt==null||Mr(s,l,gt,Je,p,rt)}function gE(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function WO(){if(typeof performance.getEntriesByType=="function"){for(var s=0,l=0,d=performance.getEntriesByType("resource"),p=0;p<d.length;p++){var E=d[p],A=E.transferSize,W=E.initiatorType,oe=E.duration;if(A&&oe&&gE(W)){for(W=0,oe=E.responseEnd,p+=1;p<d.length;p++){var Ne=d[p],$e=Ne.startTime;if($e>oe)break;var ut=Ne.transferSize,gt=Ne.initiatorType;ut&&gE(gt)&&(Ne=Ne.responseEnd,W+=ut*(Ne<oe?1:(oe-$e)/(Ne-$e)))}if(--p,l+=8*(A+W)/(E.duration/1e3),s++,10<s)break}}if(0<s)return l/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var R_=null,k_=null;function zg(s){return s.nodeType===9?s:s.ownerDocument}function vE(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function _E(s,l){if(s===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&l==="foreignObject"?0:s}function O_(s,l){return s==="textarea"||s==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var D_=null;function YO(){var s=window.event;return s&&s.type==="popstate"?s===D_?!1:(D_=s,!0):(D_=null,!1)}var yE=typeof setTimeout=="function"?setTimeout:void 0,$O=typeof clearTimeout=="function"?clearTimeout:void 0,xE=typeof Promise=="function"?Promise:void 0,KO=typeof queueMicrotask=="function"?queueMicrotask:typeof xE<"u"?function(s){return xE.resolve(null).then(s).catch(XO)}:yE;function XO(s){setTimeout(function(){throw s})}function lh(s){return s==="head"}function wE(s,l){var d=l,p=0;do{var E=d.nextSibling;if(s.removeChild(d),E&&E.nodeType===8)if(d=E.data,d==="/$"||d==="/&"){if(p===0){s.removeChild(E),Bd(l);return}p--}else if(d==="$"||d==="$?"||d==="$~"||d==="$!"||d==="&")p++;else if(d==="html")Em(s.ownerDocument.documentElement);else if(d==="head"){d=s.ownerDocument.head,Em(d);for(var A=d.firstChild;A;){var W=A.nextSibling,oe=A.nodeName;A[He]||oe==="SCRIPT"||oe==="STYLE"||oe==="LINK"&&A.rel.toLowerCase()==="stylesheet"||d.removeChild(A),A=W}}else d==="body"&&Em(s.ownerDocument.body);d=E}while(d);Bd(l)}function bE(s,l){var d=s;s=0;do{var p=d.nextSibling;if(d.nodeType===1?l?(d._stashedDisplay=d.style.display,d.style.display="none"):(d.style.display=d._stashedDisplay||"",d.getAttribute("style")===""&&d.removeAttribute("style")):d.nodeType===3&&(l?(d._stashedText=d.nodeValue,d.nodeValue=""):d.nodeValue=d._stashedText||""),p&&p.nodeType===8)if(d=p.data,d==="/$"){if(s===0)break;s--}else d!=="$"&&d!=="$?"&&d!=="$~"&&d!=="$!"||s++;d=p}while(d)}function L_(s){var l=s.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var d=l;switch(l=l.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":L_(d),bt(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}s.removeChild(d)}}function JO(s,l,d,p){for(;s.nodeType===1;){var E=d;if(s.nodeName.toLowerCase()!==l.toLowerCase()){if(!p&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(p){if(!s[He])switch(l){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(A=s.getAttribute("rel"),A==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(A!==E.rel||s.getAttribute("href")!==(E.href==null||E.href===""?null:E.href)||s.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin)||s.getAttribute("title")!==(E.title==null?null:E.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(A=s.getAttribute("src"),(A!==(E.src==null?null:E.src)||s.getAttribute("type")!==(E.type==null?null:E.type)||s.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin))&&A&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(l==="input"&&s.type==="hidden"){var A=E.name==null?null:""+E.name;if(E.type==="hidden"&&s.getAttribute("name")===A)return s}else return s;if(s=cl(s.nextSibling),s===null)break}return null}function QO(s,l,d){if(l==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!d||(s=cl(s.nextSibling),s===null))return null;return s}function EE(s,l){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=cl(s.nextSibling),s===null))return null;return s}function j_(s){return s.data==="$?"||s.data==="$~"}function M_(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function ZO(s,l){var d=s.ownerDocument;if(s.data==="$~")s._reactRetry=l;else if(s.data!=="$?"||d.readyState!=="loading")l();else{var p=function(){l(),d.removeEventListener("DOMContentLoaded",p)};d.addEventListener("DOMContentLoaded",p),s._reactRetry=p}}function cl(s){for(;s!=null;s=s.nextSibling){var l=s.nodeType;if(l===1||l===3)break;if(l===8){if(l=s.data,l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"||l==="F!"||l==="F")break;if(l==="/$"||l==="/&")return null}}return s}var P_=null;function SE(s){s=s.nextSibling;for(var l=0;s;){if(s.nodeType===8){var d=s.data;if(d==="/$"||d==="/&"){if(l===0)return cl(s.nextSibling);l--}else d!=="$"&&d!=="$!"&&d!=="$?"&&d!=="$~"&&d!=="&"||l++}s=s.nextSibling}return null}function TE(s){s=s.previousSibling;for(var l=0;s;){if(s.nodeType===8){var d=s.data;if(d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"){if(l===0)return s;l--}else d!=="/$"&&d!=="/&"||l++}s=s.previousSibling}return null}function AE(s,l,d){switch(l=zg(d),s){case"html":if(s=l.documentElement,!s)throw Error(r(452));return s;case"head":if(s=l.head,!s)throw Error(r(453));return s;case"body":if(s=l.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function Em(s){for(var l=s.attributes;l.length;)s.removeAttributeNode(l[0]);bt(s)}var ul=new Map,NE=new Set;function qg(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var pu=le.d;le.d={f:eD,r:tD,D:nD,C:rD,L:iD,m:aD,X:oD,S:sD,M:lD};function eD(){var s=pu.f(),l=Lg();return s||l}function tD(s){var l=Et(s);l!==null&&l.tag===5&&l.type==="form"?Hb(l):pu.r(s)}var Md=typeof document>"u"?null:document;function CE(s,l,d){var p=Md;if(p&&typeof l=="string"&&l){var E=ci(l);E='link[rel="'+s+'"][href="'+E+'"]',typeof d=="string"&&(E+='[crossorigin="'+d+'"]'),NE.has(E)||(NE.add(E),s={rel:s,crossOrigin:d,href:l},p.querySelector(E)===null&&(l=p.createElement("link"),rs(l,"link",s),Xt(l),p.head.appendChild(l)))}}function nD(s){pu.D(s),CE("dns-prefetch",s,null)}function rD(s,l){pu.C(s,l),CE("preconnect",s,l)}function iD(s,l,d){pu.L(s,l,d);var p=Md;if(p&&s&&l){var E='link[rel="preload"][as="'+ci(l)+'"]';l==="image"&&d&&d.imageSrcSet?(E+='[imagesrcset="'+ci(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(E+='[imagesizes="'+ci(d.imageSizes)+'"]')):E+='[href="'+ci(s)+'"]';var A=E;switch(l){case"style":A=Pd(s);break;case"script":A=Fd(s)}ul.has(A)||(s=g({rel:"preload",href:l==="image"&&d&&d.imageSrcSet?void 0:s,as:l},d),ul.set(A,s),p.querySelector(E)!==null||l==="style"&&p.querySelector(Sm(A))||l==="script"&&p.querySelector(Tm(A))||(l=p.createElement("link"),rs(l,"link",s),Xt(l),p.head.appendChild(l)))}}function aD(s,l){pu.m(s,l);var d=Md;if(d&&s){var p=l&&typeof l.as=="string"?l.as:"script",E='link[rel="modulepreload"][as="'+ci(p)+'"][href="'+ci(s)+'"]',A=E;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":A=Fd(s)}if(!ul.has(A)&&(s=g({rel:"modulepreload",href:s},l),ul.set(A,s),d.querySelector(E)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(Tm(A)))return}p=d.createElement("link"),rs(p,"link",s),Xt(p),d.head.appendChild(p)}}}function sD(s,l,d){pu.S(s,l,d);var p=Md;if(p&&s){var E=Tt(p).hoistableStyles,A=Pd(s);l=l||"default";var W=E.get(A);if(!W){var oe={loading:0,preload:null};if(W=p.querySelector(Sm(A)))oe.loading=5;else{s=g({rel:"stylesheet",href:s,"data-precedence":l},d),(d=ul.get(A))&&F_(s,d);var Ne=W=p.createElement("link");Xt(Ne),rs(Ne,"link",s),Ne._p=new Promise(function($e,ut){Ne.onload=$e,Ne.onerror=ut}),Ne.addEventListener("load",function(){oe.loading|=1}),Ne.addEventListener("error",function(){oe.loading|=2}),oe.loading|=4,Hg(W,l,p)}W={type:"stylesheet",instance:W,count:1,state:oe},E.set(A,W)}}}function oD(s,l){pu.X(s,l);var d=Md;if(d&&s){var p=Tt(d).hoistableScripts,E=Fd(s),A=p.get(E);A||(A=d.querySelector(Tm(E)),A||(s=g({src:s,async:!0},l),(l=ul.get(E))&&B_(s,l),A=d.createElement("script"),Xt(A),rs(A,"link",s),d.head.appendChild(A)),A={type:"script",instance:A,count:1,state:null},p.set(E,A))}}function lD(s,l){pu.M(s,l);var d=Md;if(d&&s){var p=Tt(d).hoistableScripts,E=Fd(s),A=p.get(E);A||(A=d.querySelector(Tm(E)),A||(s=g({src:s,async:!0,type:"module"},l),(l=ul.get(E))&&B_(s,l),A=d.createElement("script"),Xt(A),rs(A,"link",s),d.head.appendChild(A)),A={type:"script",instance:A,count:1,state:null},p.set(E,A))}}function IE(s,l,d,p){var E=(E=ae.current)?qg(E):null;if(!E)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(l=Pd(d.href),d=Tt(E).hoistableStyles,p=d.get(l),p||(p={type:"style",instance:null,count:0,state:null},d.set(l,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){s=Pd(d.href);var A=Tt(E).hoistableStyles,W=A.get(s);if(W||(E=E.ownerDocument||E,W={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},A.set(s,W),(A=E.querySelector(Sm(s)))&&!A._p&&(W.instance=A,W.state.loading=5),ul.has(s)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},ul.set(s,d),A||cD(E,s,d,W.state))),l&&p===null)throw Error(r(528,""));return W}if(l&&p!==null)throw Error(r(529,""));return null;case"script":return l=d.async,d=d.src,typeof d=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=Fd(d),d=Tt(E).hoistableScripts,p=d.get(l),p||(p={type:"script",instance:null,count:0,state:null},d.set(l,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function Pd(s){return'href="'+ci(s)+'"'}function Sm(s){return'link[rel="stylesheet"]['+s+"]"}function RE(s){return g({},s,{"data-precedence":s.precedence,precedence:null})}function cD(s,l,d,p){s.querySelector('link[rel="preload"][as="style"]['+l+"]")?p.loading=1:(l=s.createElement("link"),p.preload=l,l.addEventListener("load",function(){return p.loading|=1}),l.addEventListener("error",function(){return p.loading|=2}),rs(l,"link",d),Xt(l),s.head.appendChild(l))}function Fd(s){return'[src="'+ci(s)+'"]'}function Tm(s){return"script[async]"+s}function kE(s,l,d){if(l.count++,l.instance===null)switch(l.type){case"style":var p=s.querySelector('style[data-href~="'+ci(d.href)+'"]');if(p)return l.instance=p,Xt(p),p;var E=g({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return p=(s.ownerDocument||s).createElement("style"),Xt(p),rs(p,"style",E),Hg(p,d.precedence,s),l.instance=p;case"stylesheet":E=Pd(d.href);var A=s.querySelector(Sm(E));if(A)return l.state.loading|=4,l.instance=A,Xt(A),A;p=RE(d),(E=ul.get(E))&&F_(p,E),A=(s.ownerDocument||s).createElement("link"),Xt(A);var W=A;return W._p=new Promise(function(oe,Ne){W.onload=oe,W.onerror=Ne}),rs(A,"link",p),l.state.loading|=4,Hg(A,d.precedence,s),l.instance=A;case"script":return A=Fd(d.src),(E=s.querySelector(Tm(A)))?(l.instance=E,Xt(E),E):(p=d,(E=ul.get(A))&&(p=g({},d),B_(p,E)),s=s.ownerDocument||s,E=s.createElement("script"),Xt(E),rs(E,"link",p),s.head.appendChild(E),l.instance=E);case"void":return null;default:throw Error(r(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(p=l.instance,l.state.loading|=4,Hg(p,d.precedence,s));return l.instance}function Hg(s,l,d){for(var p=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),E=p.length?p[p.length-1]:null,A=E,W=0;W<p.length;W++){var oe=p[W];if(oe.dataset.precedence===l)A=oe;else if(A!==E)break}A?A.parentNode.insertBefore(s,A.nextSibling):(l=d.nodeType===9?d.head:d,l.insertBefore(s,l.firstChild))}function F_(s,l){s.crossOrigin==null&&(s.crossOrigin=l.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=l.referrerPolicy),s.title==null&&(s.title=l.title)}function B_(s,l){s.crossOrigin==null&&(s.crossOrigin=l.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=l.referrerPolicy),s.integrity==null&&(s.integrity=l.integrity)}var Gg=null;function OE(s,l,d){if(Gg===null){var p=new Map,E=Gg=new Map;E.set(d,p)}else E=Gg,p=E.get(d),p||(p=new Map,E.set(d,p));if(p.has(s))return p;for(p.set(s,null),d=d.getElementsByTagName(s),E=0;E<d.length;E++){var A=d[E];if(!(A[He]||A[de]||s==="link"&&A.getAttribute("rel")==="stylesheet")&&A.namespaceURI!=="http://www.w3.org/2000/svg"){var W=A.getAttribute(l)||"";W=s+W;var oe=p.get(W);oe?oe.push(A):p.set(W,[A])}}return p}function DE(s,l,d){s=s.ownerDocument||s,s.head.insertBefore(d,l==="title"?s.querySelector("head > title"):null)}function uD(s,l,d){if(d===1||l.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return s=l.disabled,typeof l.precedence=="string"&&s==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function LE(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function hD(s,l,d,p){if(d.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var E=Pd(p.href),A=l.querySelector(Sm(E));if(A){l=A._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(s.count++,s=Wg.bind(s),l.then(s,s)),d.state.loading|=4,d.instance=A,Xt(A);return}A=l.ownerDocument||l,p=RE(p),(E=ul.get(E))&&F_(p,E),A=A.createElement("link"),Xt(A);var W=A;W._p=new Promise(function(oe,Ne){W.onload=oe,W.onerror=Ne}),rs(A,"link",p),d.instance=A}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(d,l),(l=d.state.preload)&&(d.state.loading&3)===0&&(s.count++,d=Wg.bind(s),l.addEventListener("load",d),l.addEventListener("error",d))}}var U_=0;function fD(s,l){return s.stylesheets&&s.count===0&&$g(s,s.stylesheets),0<s.count||0<s.imgCount?function(d){var p=setTimeout(function(){if(s.stylesheets&&$g(s,s.stylesheets),s.unsuspend){var A=s.unsuspend;s.unsuspend=null,A()}},6e4+l);0<s.imgBytes&&U_===0&&(U_=62500*WO());var E=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&$g(s,s.stylesheets),s.unsuspend)){var A=s.unsuspend;s.unsuspend=null,A()}},(s.imgBytes>U_?50:800)+l);return s.unsuspend=d,function(){s.unsuspend=null,clearTimeout(p),clearTimeout(E)}}:null}function Wg(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)$g(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Yg=null;function $g(s,l){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Yg=new Map,l.forEach(dD,s),Yg=null,Wg.call(s))}function dD(s,l){if(!(l.state.loading&4)){var d=Yg.get(s);if(d)var p=d.get(null);else{d=new Map,Yg.set(s,d);for(var E=s.querySelectorAll("link[data-precedence],style[data-precedence]"),A=0;A<E.length;A++){var W=E[A];(W.nodeName==="LINK"||W.getAttribute("media")!=="not all")&&(d.set(W.dataset.precedence,W),p=W)}p&&d.set(null,p)}E=l.instance,W=E.getAttribute("data-precedence"),A=d.get(W)||p,A===p&&d.set(null,E),d.set(W,E),this.count++,p=Wg.bind(this),E.addEventListener("load",p),E.addEventListener("error",p),A?A.parentNode.insertBefore(E,A.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(E,s.firstChild)),l.state.loading|=4}}var Am={$$typeof:R,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function mD(s,l,d,p,E,A,W,oe,Ne){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Vr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vr(0),this.hiddenUpdates=Vr(null),this.identifierPrefix=p,this.onUncaughtError=E,this.onCaughtError=A,this.onRecoverableError=W,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Ne,this.incompleteTransitions=new Map}function jE(s,l,d,p,E,A,W,oe,Ne,$e,ut,gt){return s=new mD(s,l,d,W,Ne,$e,ut,gt,oe),l=1,A===!0&&(l|=24),A=Ra(3,null,null,l),s.current=A,A.stateNode=s,l=Xu(),l.refCount++,s.pooledCache=l,l.refCount++,A.memoizedState={element:p,isDehydrated:d,cache:l},Ut(A),s}function ME(s){return s?(s=va,s):va}function PE(s,l,d,p,E,A){E=ME(E),p.context===null?p.context=E:p.pendingContext=E,p=wn(l),p.payload={element:d},A=A===void 0?null:A,A!==null&&(p.callback=A),d=Ln(s,p,l),d!==null&&(co(d,s,l),gr(d,s,l))}function FE(s,l){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var d=s.retryLane;s.retryLane=d!==0&&d<l?d:l}}function V_(s,l){FE(s,l),(s=s.alternate)&&FE(s,l)}function BE(s){if(s.tag===13||s.tag===31){var l=Ol(s,67108864);l!==null&&co(l,s,67108864),V_(s,67108864)}}function UE(s){if(s.tag===13||s.tag===31){var l=Oo();l=tr(l);var d=Ol(s,l);d!==null&&co(d,s,l),V_(s,l)}}var Kg=!0;function pD(s,l,d,p){var E=fe.T;fe.T=null;var A=le.p;try{le.p=2,z_(s,l,d,p)}finally{le.p=A,fe.T=E}}function gD(s,l,d,p){var E=fe.T;fe.T=null;var A=le.p;try{le.p=8,z_(s,l,d,p)}finally{le.p=A,fe.T=E}}function z_(s,l,d,p){if(Kg){var E=q_(p);if(E===null)C_(s,l,p,Xg,d),zE(s,p);else if(_D(E,s,l,d,p))p.stopPropagation();else if(zE(s,p),l&4&&-1<vD.indexOf(s)){for(;E!==null;){var A=Et(E);if(A!==null)switch(A.tag){case 3:if(A=A.stateNode,A.current.memoizedState.isDehydrated){var W=Nt(A.pendingLanes);if(W!==0){var oe=A;for(oe.pendingLanes|=2,oe.entangledLanes|=2;W;){var Ne=1<<31-xt(W);oe.entanglements[1]|=Ne,W&=~Ne}wc(A),(_r&6)===0&&(Og=kt()+500,xm(0))}}break;case 31:case 13:oe=Ol(A,2),oe!==null&&co(oe,A,2),Lg(),V_(A,2)}if(A=q_(p),A===null&&C_(s,l,p,Xg,d),A===E)break;E=A}E!==null&&p.stopPropagation()}else C_(s,l,p,null,d)}}function q_(s){return s=Na(s),H_(s)}var Xg=null;function H_(s){if(Xg=null,s=mt(s),s!==null){var l=a(s);if(l===null)s=null;else{var d=l.tag;if(d===13){if(s=o(l),s!==null)return s;s=null}else if(d===31){if(s=c(l),s!==null)return s;s=null}else if(d===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;s=null}else l!==s&&(s=null)}}return Xg=s,null}function VE(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(qt()){case Vt:return 2;case Gt:return 8;case Ht:case Mt:return 32;case Wt:return 268435456;default:return 32}default:return 32}}var G_=!1,ch=null,uh=null,hh=null,Nm=new Map,Cm=new Map,fh=[],vD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function zE(s,l){switch(s){case"focusin":case"focusout":ch=null;break;case"dragenter":case"dragleave":uh=null;break;case"mouseover":case"mouseout":hh=null;break;case"pointerover":case"pointerout":Nm.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cm.delete(l.pointerId)}}function Im(s,l,d,p,E,A){return s===null||s.nativeEvent!==A?(s={blockedOn:l,domEventName:d,eventSystemFlags:p,nativeEvent:A,targetContainers:[E]},l!==null&&(l=Et(l),l!==null&&BE(l)),s):(s.eventSystemFlags|=p,l=s.targetContainers,E!==null&&l.indexOf(E)===-1&&l.push(E),s)}function _D(s,l,d,p,E){switch(l){case"focusin":return ch=Im(ch,s,l,d,p,E),!0;case"dragenter":return uh=Im(uh,s,l,d,p,E),!0;case"mouseover":return hh=Im(hh,s,l,d,p,E),!0;case"pointerover":var A=E.pointerId;return Nm.set(A,Im(Nm.get(A)||null,s,l,d,p,E)),!0;case"gotpointercapture":return A=E.pointerId,Cm.set(A,Im(Cm.get(A)||null,s,l,d,p,E)),!0}return!1}function qE(s){var l=mt(s.target);if(l!==null){var d=a(l);if(d!==null){if(l=d.tag,l===13){if(l=o(d),l!==null){s.blockedOn=l,_e(s.priority,function(){UE(d)});return}}else if(l===31){if(l=c(d),l!==null){s.blockedOn=l,_e(s.priority,function(){UE(d)});return}}else if(l===3&&d.stateNode.current.memoizedState.isDehydrated){s.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Jg(s){if(s.blockedOn!==null)return!1;for(var l=s.targetContainers;0<l.length;){var d=q_(s.nativeEvent);if(d===null){d=s.nativeEvent;var p=new d.constructor(d.type,d);So=p,d.target.dispatchEvent(p),So=null}else return l=Et(d),l!==null&&BE(l),s.blockedOn=d,!1;l.shift()}return!0}function HE(s,l,d){Jg(s)&&d.delete(l)}function yD(){G_=!1,ch!==null&&Jg(ch)&&(ch=null),uh!==null&&Jg(uh)&&(uh=null),hh!==null&&Jg(hh)&&(hh=null),Nm.forEach(HE),Cm.forEach(HE)}function Qg(s,l){s.blockedOn===l&&(s.blockedOn=null,G_||(G_=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,yD)))}var Zg=null;function GE(s){Zg!==s&&(Zg=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Zg===s&&(Zg=null);for(var l=0;l<s.length;l+=3){var d=s[l],p=s[l+1],E=s[l+2];if(typeof p!="function"){if(H_(p||d)===null)continue;break}var A=Et(d);A!==null&&(s.splice(l,3),l-=3,qv(A,{pending:!0,data:E,method:d.method,action:p},p,E))}}))}function Bd(s){function l(Ne){return Qg(Ne,s)}ch!==null&&Qg(ch,s),uh!==null&&Qg(uh,s),hh!==null&&Qg(hh,s),Nm.forEach(l),Cm.forEach(l);for(var d=0;d<fh.length;d++){var p=fh[d];p.blockedOn===s&&(p.blockedOn=null)}for(;0<fh.length&&(d=fh[0],d.blockedOn===null);)qE(d),d.blockedOn===null&&fh.shift();if(d=(s.ownerDocument||s).$$reactFormReplay,d!=null)for(p=0;p<d.length;p+=3){var E=d[p],A=d[p+1],W=E[ve]||null;if(typeof A=="function")W||GE(d);else if(W){var oe=null;if(A&&A.hasAttribute("formAction")){if(E=A,W=A[ve]||null)oe=W.formAction;else if(H_(E)!==null)continue}else oe=W.action;typeof oe=="function"?d[p+1]=oe:(d.splice(p,3),p-=3),GE(d)}}}function WE(){function s(A){A.canIntercept&&A.info==="react-transition"&&A.intercept({handler:function(){return new Promise(function(W){return E=W})},focusReset:"manual",scroll:"manual"})}function l(){E!==null&&(E(),E=null),p||setTimeout(d,20)}function d(){if(!p&&!navigation.transition){var A=navigation.currentEntry;A&&A.url!=null&&navigation.navigate(A.url,{state:A.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var p=!1,E=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",l),navigation.addEventListener("navigateerror",l),setTimeout(d,100),function(){p=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",l),navigation.removeEventListener("navigateerror",l),E!==null&&(E(),E=null)}}}function W_(s){this._internalRoot=s}e1.prototype.render=W_.prototype.render=function(s){var l=this._internalRoot;if(l===null)throw Error(r(409));var d=l.current,p=Oo();PE(d,p,s,l,null,null)},e1.prototype.unmount=W_.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var l=s.containerInfo;PE(s.current,2,null,s,null,null),Lg(),l[ye]=null}};function e1(s){this._internalRoot=s}e1.prototype.unstable_scheduleHydration=function(s){if(s){var l=ne();s={blockedOn:null,target:s,priority:l};for(var d=0;d<fh.length&&l!==0&&l<fh[d].priority;d++);fh.splice(d,0,s),d===0&&qE(s)}};var YE=e.version;if(YE!=="19.2.3")throw Error(r(527,YE,"19.2.3"));le.findDOMNode=function(s){var l=s._reactInternals;if(l===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=h(l),s=s!==null?m(s):null,s=s===null?null:s.stateNode,s};var xD={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:fe,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var t1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!t1.isDisabled&&t1.supportsFiber)try{zt=t1.inject(xD),Ft=t1}catch{}}return km.createRoot=function(s,l){if(!i(s))throw Error(r(299));var d=!1,p="",E=e4,A=t4,W=n4;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(E=l.onUncaughtError),l.onCaughtError!==void 0&&(A=l.onCaughtError),l.onRecoverableError!==void 0&&(W=l.onRecoverableError)),l=jE(s,1,!1,null,null,d,p,null,E,A,W,WE),s[ye]=l.current,N_(s),new W_(l)},km.hydrateRoot=function(s,l,d){if(!i(s))throw Error(r(299));var p=!1,E="",A=e4,W=t4,oe=n4,Ne=null;return d!=null&&(d.unstable_strictMode===!0&&(p=!0),d.identifierPrefix!==void 0&&(E=d.identifierPrefix),d.onUncaughtError!==void 0&&(A=d.onUncaughtError),d.onCaughtError!==void 0&&(W=d.onCaughtError),d.onRecoverableError!==void 0&&(oe=d.onRecoverableError),d.formState!==void 0&&(Ne=d.formState)),l=jE(s,1,!0,l,d??null,p,E,Ne,A,W,oe,WE),l.context=ME(null),d=l.current,p=Oo(),p=tr(p),E=wn(p),E.callback=null,Ln(d,E,p),d=p,l.current.lanes=d,ln(l,d),wc(l),s[ye]=l.current,N_(s),new e1(l)},km.version="19.2.3",km}var r3;function RD(){if(r3)return K_.exports;r3=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),K_.exports=ID(),K_.exports}var kD=RD();var i3="popstate";function OD(n={}){function e(i,a){let{pathname:o="/",search:c="",hash:u=""}=qf(i.location.hash.substring(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),Ax("",{pathname:o,search:c,hash:u},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(i,a){let o=i.document.querySelector("base"),c="";if(o&&o.getAttribute("href")){let u=i.location.href,h=u.indexOf("#");c=h===-1?u:u.slice(0,h)}return c+"#"+(typeof a=="string"?a:pp(a))}function r(i,a){zo(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return LD(e,t,r,n)}function vi(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function zo(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function DD(){return Math.random().toString(36).substring(2,10)}function a3(n,e){return{usr:n.state,key:n.key,idx:e}}function Ax(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?qf(e):e,state:t,key:e&&e.key||r||DD()}}function pp({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function qf(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function LD(n,e,t,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,o=i.history,c="POP",u=null,h=m();h==null&&(h=0,o.replaceState({...o.state,idx:h},""));function m(){return(o.state||{idx:null}).idx}function g(){c="POP";let T=m(),N=T==null?null:T-h;h=T,u&&u({action:c,location:w.location,delta:N})}function _(T,N){c="PUSH";let P=Ax(w.location,T,N);t&&t(P,T),h=m()+1;let R=a3(P,h),j=w.createHref(P);try{o.pushState(R,"",j)}catch(K){if(K instanceof DOMException&&K.name==="DataCloneError")throw K;i.location.assign(j)}a&&u&&u({action:c,location:w.location,delta:1})}function v(T,N){c="REPLACE";let P=Ax(w.location,T,N);t&&t(P,T),h=m();let R=a3(P,h),j=w.createHref(P);o.replaceState(R,"",j),a&&u&&u({action:c,location:w.location,delta:0})}function b(T){return jD(T)}let w={get action(){return c},get location(){return n(i,o)},listen(T){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(i3,g),u=T,()=>{i.removeEventListener(i3,g),u=null}},createHref(T){return e(i,T)},createURL:b,encodeLocation(T){let N=b(T);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:_,replace:v,go(T){return o.go(T)}};return w}function jD(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),vi(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:pp(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function T6(n,e,t="/"){return MD(n,e,t,!1)}function MD(n,e,t,r){let i=typeof e=="string"?qf(e):e,a=Cu(i.pathname||"/",t);if(a==null)return null;let o=A6(n);PD(o);let c=null;for(let u=0;c==null&&u<o.length;++u){let h=$D(a);c=WD(o[u],h,r)}return c}function A6(n,e=[],t=[],r="",i=!1){let a=(o,c,u=i,h)=>{let m={relativePath:h===void 0?o.path||"":h,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(r)&&u)return;vi(m.relativePath.startsWith(r),`Absolute route path "${m.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(r.length)}let g=bu([r,m.relativePath]),_=t.concat(m);o.children&&o.children.length>0&&(vi(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),A6(o.children,e,_,g,u)),!(o.path==null&&!o.index)&&e.push({path:g,score:HD(g,o.index),routesMeta:_})};return n.forEach((o,c)=>{if(o.path===""||!o.path?.includes("?"))a(o,c);else for(let u of N6(o.path))a(o,c,!0,u)}),e}function N6(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let o=N6(r.join("/")),c=[];return c.push(...o.map(u=>u===""?a:[a,u].join("/"))),i&&c.push(...o),c.map(u=>n.startsWith("/")&&u===""?"/":u)}function PD(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:GD(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var FD=/^:[\w-]+$/,BD=3,UD=2,VD=1,zD=10,qD=-2,s3=n=>n==="*";function HD(n,e){let t=n.split("/"),r=t.length;return t.some(s3)&&(r+=qD),e&&(r+=UD),t.filter(i=>!s3(i)).reduce((i,a)=>i+(FD.test(a)?BD:a===""?VD:zD),r)}function GD(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function WD(n,e,t=!1){let{routesMeta:r}=n,i={},a="/",o=[];for(let c=0;c<r.length;++c){let u=r[c],h=c===r.length-1,m=a==="/"?e:e.slice(a.length)||"/",g=t2({path:u.relativePath,caseSensitive:u.caseSensitive,end:h},m),_=u.route;if(!g&&h&&t&&!r[r.length-1].route.index&&(g=t2({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},m)),!g)return null;Object.assign(i,g.params),o.push({params:i,pathname:bu([a,g.pathname]),pathnameBase:ZD(bu([a,g.pathnameBase])),route:_}),g.pathnameBase!=="/"&&(a=bu([a,g.pathnameBase]))}return o}function t2(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=YD(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((h,{paramName:m,isOptional:g},_)=>{if(m==="*"){let b=c[_]||"";o=a.slice(0,a.length-b.length).replace(/(.)\/+$/,"$1")}const v=c[_];return g&&!v?h[m]=void 0:h[m]=(v||"").replace(/%2F/g,"/"),h},{}),pathname:a,pathnameBase:o,pattern:n}}function YD(n,e=!1,t=!0){zo(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,c,u)=>(r.push({paramName:c,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function $D(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return zo(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Cu(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}var KD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,XD=n=>KD.test(n);function JD(n,e="/"){let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?qf(n):n,a;if(t)if(XD(t))a=t;else{if(t.includes("//")){let o=t;t=t.replace(/\/\/+/g,"/"),zo(!1,`Pathnames cannot have embedded double slashes - normalizing ${o} -> ${t}`)}t.startsWith("/")?a=o3(t.substring(1),"/"):a=o3(t,e)}else a=e;return{pathname:a,search:eL(r),hash:tL(i)}}function o3(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function Z_(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function QD(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function j5(n){let e=QD(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function M5(n,e,t,r=!1){let i;typeof n=="string"?i=qf(n):(i={...n},vi(!i.pathname||!i.pathname.includes("?"),Z_("?","pathname","search",i)),vi(!i.pathname||!i.pathname.includes("#"),Z_("#","pathname","hash",i)),vi(!i.search||!i.search.includes("#"),Z_("#","search","hash",i)));let a=n===""||i.pathname==="",o=a?"/":i.pathname,c;if(o==null)c=t;else{let g=e.length-1;if(!r&&o.startsWith("..")){let _=o.split("/");for(;_[0]==="..";)_.shift(),g-=1;i.pathname=_.join("/")}c=g>=0?e[g]:"/"}let u=JD(i,c),h=o&&o!=="/"&&o.endsWith("/"),m=(a||o===".")&&t.endsWith("/");return!u.pathname.endsWith("/")&&(h||m)&&(u.pathname+="/"),u}var bu=n=>n.join("/").replace(/\/\/+/g,"/"),ZD=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),eL=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,tL=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function nL(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function rL(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var C6=["POST","PUT","PATCH","DELETE"];new Set(C6);var iL=["GET",...C6];new Set(iL);var j0=Q.createContext(null);j0.displayName="DataRouter";var W2=Q.createContext(null);W2.displayName="DataRouterState";Q.createContext(!1);var I6=Q.createContext({isTransitioning:!1});I6.displayName="ViewTransition";var aL=Q.createContext(new Map);aL.displayName="Fetchers";var sL=Q.createContext(null);sL.displayName="Await";var _l=Q.createContext(null);_l.displayName="Navigation";var jp=Q.createContext(null);jp.displayName="Location";var zc=Q.createContext({outlet:null,matches:[],isDataRoute:!1});zc.displayName="Route";var P5=Q.createContext(null);P5.displayName="RouteError";function oL(n,{relative:e}={}){vi(M0(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=Q.useContext(_l),{hash:i,pathname:a,search:o}=Mp(n,{relative:e}),c=a;return t!=="/"&&(c=a==="/"?t:bu([t,a])),r.createHref({pathname:c,search:o,hash:i})}function M0(){return Q.useContext(jp)!=null}function Ns(){return vi(M0(),"useLocation() may be used only in the context of a <Router> component."),Q.useContext(jp).location}var R6="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function k6(n){Q.useContext(_l).static||Q.useLayoutEffect(n)}function Cs(){let{isDataRoute:n}=Q.useContext(zc);return n?xL():lL()}function lL(){vi(M0(),"useNavigate() may be used only in the context of a <Router> component.");let n=Q.useContext(j0),{basename:e,navigator:t}=Q.useContext(_l),{matches:r}=Q.useContext(zc),{pathname:i}=Ns(),a=JSON.stringify(j5(r)),o=Q.useRef(!1);return k6(()=>{o.current=!0}),Q.useCallback((u,h={})=>{if(zo(o.current,R6),!o.current)return;if(typeof u=="number"){t.go(u);return}let m=M5(u,JSON.parse(a),i,h.relative==="path");n==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:bu([e,m.pathname])),(h.replace?t.replace:t.push)(m,h.state,h)},[e,t,a,i,n])}Q.createContext(null);function Mp(n,{relative:e}={}){let{matches:t}=Q.useContext(zc),{pathname:r}=Ns(),i=JSON.stringify(j5(t));return Q.useMemo(()=>M5(n,JSON.parse(i),r,e==="path"),[n,i,r,e])}function cL(n,e){return O6(n,e)}function O6(n,e,t,r,i){vi(M0(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=Q.useContext(_l),{matches:o}=Q.useContext(zc),c=o[o.length-1],u=c?c.params:{},h=c?c.pathname:"/",m=c?c.pathnameBase:"/",g=c&&c.route;{let P=g&&g.path||"";D6(h,!g||P.endsWith("*")||P.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${P}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${P}"> to <Route path="${P==="/"?"*":`${P}/*`}">.`)}let _=Ns(),v;if(e){let P=typeof e=="string"?qf(e):e;vi(m==="/"||P.pathname?.startsWith(m),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${P.pathname}" was given in the \`location\` prop.`),v=P}else v=_;let b=v.pathname||"/",w=b;if(m!=="/"){let P=m.replace(/^\//,"").split("/");w="/"+b.replace(/^\//,"").split("/").slice(P.length).join("/")}let T=T6(n,{pathname:w});zo(g||T!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),zo(T==null||T[T.length-1].route.element!==void 0||T[T.length-1].route.Component!==void 0||T[T.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=mL(T&&T.map(P=>Object.assign({},P,{params:Object.assign({},u,P.params),pathname:bu([m,a.encodeLocation?a.encodeLocation(P.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?m:bu([m,a.encodeLocation?a.encodeLocation(P.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:P.pathnameBase])})),o,t,r,i);return e&&N?Q.createElement(jp.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},N):N}function uL(){let n=yL(),e=nL(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",n),o=Q.createElement(Q.Fragment,null,Q.createElement("p",null," Hey developer "),Q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Q.createElement("code",{style:a},"ErrorBoundary")," or"," ",Q.createElement("code",{style:a},"errorElement")," prop on your route.")),Q.createElement(Q.Fragment,null,Q.createElement("h2",null,"Unexpected Application Error!"),Q.createElement("h3",{style:{fontStyle:"italic"}},e),t?Q.createElement("pre",{style:i},t):null,o)}var hL=Q.createElement(uL,null),fL=class extends Q.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?Q.createElement(zc.Provider,{value:this.props.routeContext},Q.createElement(P5.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function dL({routeContext:n,match:e,children:t}){let r=Q.useContext(j0);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),Q.createElement(zc.Provider,{value:n},t)}function mL(n,e=[],t=null,r=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,o=t?.errors;if(o!=null){let m=a.findIndex(g=>g.route.id&&o?.[g.route.id]!==void 0);vi(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,m+1))}let c=!1,u=-1;if(t)for(let m=0;m<a.length;m++){let g=a[m];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(u=m),g.route.id){let{loaderData:_,errors:v}=t,b=g.route.loader&&!_.hasOwnProperty(g.route.id)&&(!v||v[g.route.id]===void 0);if(g.route.lazy||b){c=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}let h=t&&r?(m,g)=>{r(m,{location:t.location,params:t.matches?.[0]?.params??{},unstable_pattern:rL(t.matches),errorInfo:g})}:void 0;return a.reduceRight((m,g,_)=>{let v,b=!1,w=null,T=null;t&&(v=o&&g.route.id?o[g.route.id]:void 0,w=g.route.errorElement||hL,c&&(u<0&&_===0?(D6("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,T=null):u===_&&(b=!0,T=g.route.hydrateFallbackElement||null)));let N=e.concat(a.slice(0,_+1)),P=()=>{let R;return v?R=w:b?R=T:g.route.Component?R=Q.createElement(g.route.Component,null):g.route.element?R=g.route.element:R=m,Q.createElement(dL,{match:g,routeContext:{outlet:m,matches:N,isDataRoute:t!=null},children:R})};return t&&(g.route.ErrorBoundary||g.route.errorElement||_===0)?Q.createElement(fL,{location:t.location,revalidation:t.revalidation,component:w,error:v,children:P(),routeContext:{outlet:null,matches:N,isDataRoute:!0},onError:h}):P()},null)}function F5(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function pL(n){let e=Q.useContext(j0);return vi(e,F5(n)),e}function gL(n){let e=Q.useContext(W2);return vi(e,F5(n)),e}function vL(n){let e=Q.useContext(zc);return vi(e,F5(n)),e}function B5(n){let e=vL(n),t=e.matches[e.matches.length-1];return vi(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function _L(){return B5("useRouteId")}function yL(){let n=Q.useContext(P5),e=gL("useRouteError"),t=B5("useRouteError");return n!==void 0?n:e.errors?.[t]}function xL(){let{router:n}=pL("useNavigate"),e=B5("useNavigate"),t=Q.useRef(!1);return k6(()=>{t.current=!0}),Q.useCallback(async(i,a={})=>{zo(t.current,R6),t.current&&(typeof i=="number"?await n.navigate(i):await n.navigate(i,{fromRouteId:e,...a}))},[n,e])}var l3={};function D6(n,e,t){!e&&!l3[n]&&(l3[n]=!0,zo(!1,t))}Q.memo(wL);function wL({routes:n,future:e,state:t,unstable_onError:r}){return O6(n,void 0,t,r,e)}function U5({to:n,replace:e,state:t,relative:r}){vi(M0(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=Q.useContext(_l);zo(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=Q.useContext(zc),{pathname:o}=Ns(),c=Cs(),u=M5(n,j5(a),o,r==="path"),h=JSON.stringify(u);return Q.useEffect(()=>{c(JSON.parse(h),{replace:e,state:t,relative:r})},[c,h,r,e,t]),null}function La(n){vi(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function bL({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:i,static:a=!1,unstable_useTransitions:o}){vi(!M0(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),u=Q.useMemo(()=>({basename:c,navigator:i,static:a,unstable_useTransitions:o,future:{}}),[c,i,a,o]);typeof t=="string"&&(t=qf(t));let{pathname:h="/",search:m="",hash:g="",state:_=null,key:v="default"}=t,b=Q.useMemo(()=>{let w=Cu(h,c);return w==null?null:{location:{pathname:w,search:m,hash:g,state:_,key:v},navigationType:r}},[c,h,m,g,_,v,r]);return zo(b!=null,`<Router basename="${c}"> is not able to match the URL "${h}${m}${g}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:Q.createElement(_l.Provider,{value:u},Q.createElement(jp.Provider,{children:e,value:b}))}function EL({children:n,location:e}){return cL(Nx(n),e)}function Nx(n,e=[]){let t=[];return Q.Children.forEach(n,(r,i)=>{if(!Q.isValidElement(r))return;let a=[...e,i];if(r.type===Q.Fragment){t.push.apply(t,Nx(r.props.children,a));return}vi(r.type===La,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),vi(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Nx(r.props.children,a)),t.push(o)}),t}var M1="get",P1="application/x-www-form-urlencoded";function Y2(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function SL(n){return Y2(n)&&n.tagName.toLowerCase()==="button"}function TL(n){return Y2(n)&&n.tagName.toLowerCase()==="form"}function AL(n){return Y2(n)&&n.tagName.toLowerCase()==="input"}function NL(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function CL(n,e){return n.button===0&&(!e||e==="_self")&&!NL(n)}var n1=null;function IL(){if(n1===null)try{new FormData(document.createElement("form"),0),n1=!1}catch{n1=!0}return n1}var RL=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ey(n){return n!=null&&!RL.has(n)?(zo(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${P1}"`),null):n}function kL(n,e){let t,r,i,a,o;if(TL(n)){let c=n.getAttribute("action");r=c?Cu(c,e):null,t=n.getAttribute("method")||M1,i=ey(n.getAttribute("enctype"))||P1,a=new FormData(n)}else if(SL(n)||AL(n)&&(n.type==="submit"||n.type==="image")){let c=n.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=n.getAttribute("formaction")||c.getAttribute("action");if(r=u?Cu(u,e):null,t=n.getAttribute("formmethod")||c.getAttribute("method")||M1,i=ey(n.getAttribute("formenctype"))||ey(c.getAttribute("enctype"))||P1,a=new FormData(c,n),!IL()){let{name:h,type:m,value:g}=n;if(m==="image"){let _=h?`${h}.`:"";a.append(`${_}x`,"0"),a.append(`${_}y`,"0")}else h&&a.append(h,g)}}else{if(Y2(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=M1,r=null,i=P1,o=n}return a&&i==="text/plain"&&(o=a,a=void 0),{action:r,method:t.toLowerCase(),encType:i,formData:a,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function V5(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function OL(n,e,t){let r=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return r.pathname==="/"?r.pathname=`_root.${t}`:e&&Cu(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${t}`,r}async function DL(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function LL(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function jL(n,e,t){let r=await Promise.all(n.map(async i=>{let a=e.routes[i.route.id];if(a){let o=await DL(a,t);return o.links?o.links():[]}return[]}));return BL(r.flat(1).filter(LL).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function c3(n,e,t,r,i,a){let o=(u,h)=>t[h]?u.route.id!==t[h].route.id:!0,c=(u,h)=>t[h].pathname!==u.pathname||t[h].route.path?.endsWith("*")&&t[h].params["*"]!==u.params["*"];return a==="assets"?e.filter((u,h)=>o(u,h)||c(u,h)):a==="data"?e.filter((u,h)=>{let m=r.routes[u.route.id];if(!m||!m.hasLoader)return!1;if(o(u,h)||c(u,h))return!0;if(u.route.shouldRevalidate){let g=u.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function ML(n,e,{includeHydrateFallback:t}={}){return PL(n.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function PL(n){return[...new Set(n)]}function FL(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function BL(n,e){let t=new Set;return new Set(e),n.reduce((r,i)=>{let a=JSON.stringify(FL(i));return t.has(a)||(t.add(a),r.push({key:a,link:i})),r},[])}function L6(){let n=Q.useContext(j0);return V5(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function UL(){let n=Q.useContext(W2);return V5(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var z5=Q.createContext(void 0);z5.displayName="FrameworkContext";function j6(){let n=Q.useContext(z5);return V5(n,"You must render this element inside a <HydratedRouter> element"),n}function VL(n,e){let t=Q.useContext(z5),[r,i]=Q.useState(!1),[a,o]=Q.useState(!1),{onFocus:c,onBlur:u,onMouseEnter:h,onMouseLeave:m,onTouchStart:g}=e,_=Q.useRef(null);Q.useEffect(()=>{if(n==="render"&&o(!0),n==="viewport"){let w=N=>{N.forEach(P=>{o(P.isIntersecting)})},T=new IntersectionObserver(w,{threshold:.5});return _.current&&T.observe(_.current),()=>{T.disconnect()}}},[n]),Q.useEffect(()=>{if(r){let w=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(w)}}},[r]);let v=()=>{i(!0)},b=()=>{i(!1),o(!1)};return t?n!=="intent"?[a,_,{}]:[a,_,{onFocus:Om(c,v),onBlur:Om(u,b),onMouseEnter:Om(h,v),onMouseLeave:Om(m,b),onTouchStart:Om(g,v)}]:[!1,_,{}]}function Om(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function zL({page:n,...e}){let{router:t}=L6(),r=Q.useMemo(()=>T6(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?Q.createElement(HL,{page:n,matches:r,...e}):null}function qL(n){let{manifest:e,routeModules:t}=j6(),[r,i]=Q.useState([]);return Q.useEffect(()=>{let a=!1;return jL(n,e,t).then(o=>{a||i(o)}),()=>{a=!0}},[n,e,t]),r}function HL({page:n,matches:e,...t}){let r=Ns(),{manifest:i,routeModules:a}=j6(),{basename:o}=L6(),{loaderData:c,matches:u}=UL(),h=Q.useMemo(()=>c3(n,e,u,i,r,"data"),[n,e,u,i,r]),m=Q.useMemo(()=>c3(n,e,u,i,r,"assets"),[n,e,u,i,r]),g=Q.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let b=new Set,w=!1;if(e.forEach(N=>{let P=i.routes[N.route.id];!P||!P.hasLoader||(!h.some(R=>R.route.id===N.route.id)&&N.route.id in c&&a[N.route.id]?.shouldRevalidate||P.hasClientLoader?w=!0:b.add(N.route.id))}),b.size===0)return[];let T=OL(n,o,"data");return w&&b.size>0&&T.searchParams.set("_routes",e.filter(N=>b.has(N.route.id)).map(N=>N.route.id).join(",")),[T.pathname+T.search]},[o,c,r,i,h,e,n,a]),_=Q.useMemo(()=>ML(m,i),[m,i]),v=qL(m);return Q.createElement(Q.Fragment,null,g.map(b=>Q.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...t})),_.map(b=>Q.createElement("link",{key:b,rel:"modulepreload",href:b,...t})),v.map(({key:b,link:w})=>Q.createElement("link",{key:b,nonce:t.nonce,...w})))}function GL(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var M6=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{M6&&(window.__reactRouterVersion="7.10.1")}catch{}function WL({basename:n,children:e,unstable_useTransitions:t,window:r}){let i=Q.useRef();i.current==null&&(i.current=OD({window:r,v5Compat:!0}));let a=i.current,[o,c]=Q.useState({action:a.action,location:a.location}),u=Q.useCallback(h=>{t===!1?c(h):Q.startTransition(()=>c(h))},[t]);return Q.useLayoutEffect(()=>a.listen(u),[a,u]),Q.createElement(bL,{basename:n,children:e,location:o.location,navigationType:o.action,navigator:a,unstable_useTransitions:t===!0})}var P6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$r=Q.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:i,reloadDocument:a,replace:o,state:c,target:u,to:h,preventScrollReset:m,viewTransition:g,..._},v){let{basename:b,unstable_useTransitions:w}=Q.useContext(_l),T=typeof h=="string"&&P6.test(h),N,P=!1;if(typeof h=="string"&&T&&(N=h,M6))try{let z=new URL(window.location.href),O=h.startsWith("//")?new URL(z.protocol+h):new URL(h),M=Cu(O.pathname,b);O.origin===z.origin&&M!=null?h=M+O.search+O.hash:P=!0}catch{zo(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let R=oL(h,{relative:i}),[j,K,U]=VL(r,_),C=XL(h,{replace:o,state:c,target:u,preventScrollReset:m,relative:i,viewTransition:g,unstable_useTransitions:w});function k(z){e&&e(z),z.defaultPrevented||C(z)}let I=Q.createElement("a",{..._,...U,href:N||R,onClick:P||a?e:k,ref:GL(v,K),target:u,"data-discover":!T&&t==="render"?"true":void 0});return j&&!T?Q.createElement(Q.Fragment,null,I,Q.createElement(zL,{page:R})):I});$r.displayName="Link";var YL=Q.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:i=!1,style:a,to:o,viewTransition:c,children:u,...h},m){let g=Mp(o,{relative:h.relative}),_=Ns(),v=Q.useContext(W2),{navigator:b,basename:w}=Q.useContext(_l),T=v!=null&&tj(g)&&c===!0,N=b.encodeLocation?b.encodeLocation(g).pathname:g.pathname,P=_.pathname,R=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;t||(P=P.toLowerCase(),R=R?R.toLowerCase():null,N=N.toLowerCase()),R&&w&&(R=Cu(R,w)||R);const j=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let K=P===N||!i&&P.startsWith(N)&&P.charAt(j)==="/",U=R!=null&&(R===N||!i&&R.startsWith(N)&&R.charAt(N.length)==="/"),C={isActive:K,isPending:U,isTransitioning:T},k=K?e:void 0,I;typeof r=="function"?I=r(C):I=[r,K?"active":null,U?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let z=typeof a=="function"?a(C):a;return Q.createElement($r,{...h,"aria-current":k,className:I,ref:m,style:z,to:o,viewTransition:c},typeof u=="function"?u(C):u)});YL.displayName="NavLink";var $L=Q.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:i,state:a,method:o=M1,action:c,onSubmit:u,relative:h,preventScrollReset:m,viewTransition:g,..._},v)=>{let{unstable_useTransitions:b}=Q.useContext(_l),w=ZL(),T=ej(c,{relative:h}),N=o.toLowerCase()==="get"?"get":"post",P=typeof c=="string"&&P6.test(c),R=j=>{if(u&&u(j),j.defaultPrevented)return;j.preventDefault();let K=j.nativeEvent.submitter,U=K?.getAttribute("formmethod")||o,C=()=>w(K||j.currentTarget,{fetcherKey:e,method:U,navigate:t,replace:i,state:a,relative:h,preventScrollReset:m,viewTransition:g});b&&t!==!1?Q.startTransition(()=>C()):C()};return Q.createElement("form",{ref:v,method:N,action:T,onSubmit:r?u:R,..._,"data-discover":!P&&n==="render"?"true":void 0})});$L.displayName="Form";function KL(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function F6(n){let e=Q.useContext(j0);return vi(e,KL(n)),e}function XL(n,{target:e,replace:t,state:r,preventScrollReset:i,relative:a,viewTransition:o,unstable_useTransitions:c}={}){let u=Cs(),h=Ns(),m=Mp(n,{relative:a});return Q.useCallback(g=>{if(CL(g,e)){g.preventDefault();let _=t!==void 0?t:pp(h)===pp(m),v=()=>u(n,{replace:_,state:r,preventScrollReset:i,relative:a,viewTransition:o});c?Q.startTransition(()=>v()):v()}},[h,u,m,t,r,e,n,i,a,o,c])}var JL=0,QL=()=>`__${String(++JL)}__`;function ZL(){let{router:n}=F6("useSubmit"),{basename:e}=Q.useContext(_l),t=_L(),r=n.fetch,i=n.navigate;return Q.useCallback(async(a,o={})=>{let{action:c,method:u,encType:h,formData:m,body:g}=kL(a,e);if(o.navigate===!1){let _=o.fetcherKey||QL();await r(_,t,o.action||c,{preventScrollReset:o.preventScrollReset,formData:m,body:g,formMethod:o.method||u,formEncType:o.encType||h,flushSync:o.flushSync})}else await i(o.action||c,{preventScrollReset:o.preventScrollReset,formData:m,body:g,formMethod:o.method||u,formEncType:o.encType||h,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,i,e,t])}function ej(n,{relative:e}={}){let{basename:t}=Q.useContext(_l),r=Q.useContext(zc);vi(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...Mp(n||".",{relative:e})},o=Ns();if(n==null){a.search=o.search;let c=new URLSearchParams(a.search),u=c.getAll("index");if(u.some(m=>m==="")){c.delete("index"),u.filter(g=>g).forEach(g=>c.append("index",g));let m=c.toString();a.search=m?`?${m}`:""}}return(!n||n===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:bu([t,a.pathname])),pp(a)}function tj(n,{relative:e}={}){let t=Q.useContext(I6);vi(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=F6("useViewTransitionState"),i=Mp(n,{relative:e});if(!t.isTransitioning)return!1;let a=Cu(t.currentLocation.pathname,r)||t.currentLocation.pathname,o=Cu(t.nextLocation.pathname,r)||t.nextLocation.pathname;return t2(i.pathname,o)!=null||t2(i.pathname,a)!=null}function Xm(n){let e=n[0],t=n[1],r=n[2];return Math.sqrt(e*e+t*t+r*r)}function Cx(n,e){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n}function nj(n,e,t,r){return n[0]=e,n[1]=t,n[2]=r,n}function u3(n,e,t){return n[0]=e[0]+t[0],n[1]=e[1]+t[1],n[2]=e[2]+t[2],n}function h3(n,e,t){return n[0]=e[0]-t[0],n[1]=e[1]-t[1],n[2]=e[2]-t[2],n}function rj(n,e,t){return n[0]=e[0]*t[0],n[1]=e[1]*t[1],n[2]=e[2]*t[2],n}function ij(n,e,t){return n[0]=e[0]/t[0],n[1]=e[1]/t[1],n[2]=e[2]/t[2],n}function ty(n,e,t){return n[0]=e[0]*t,n[1]=e[1]*t,n[2]=e[2]*t,n}function aj(n,e){let t=e[0]-n[0],r=e[1]-n[1],i=e[2]-n[2];return Math.sqrt(t*t+r*r+i*i)}function sj(n,e){let t=e[0]-n[0],r=e[1]-n[1],i=e[2]-n[2];return t*t+r*r+i*i}function f3(n){let e=n[0],t=n[1],r=n[2];return e*e+t*t+r*r}function oj(n,e){return n[0]=-e[0],n[1]=-e[1],n[2]=-e[2],n}function lj(n,e){return n[0]=1/e[0],n[1]=1/e[1],n[2]=1/e[2],n}function Ix(n,e){let t=e[0],r=e[1],i=e[2],a=t*t+r*r+i*i;return a>0&&(a=1/Math.sqrt(a)),n[0]=e[0]*a,n[1]=e[1]*a,n[2]=e[2]*a,n}function B6(n,e){return n[0]*e[0]+n[1]*e[1]+n[2]*e[2]}function d3(n,e,t){let r=e[0],i=e[1],a=e[2],o=t[0],c=t[1],u=t[2];return n[0]=i*u-a*c,n[1]=a*o-r*u,n[2]=r*c-i*o,n}function cj(n,e,t,r){let i=e[0],a=e[1],o=e[2];return n[0]=i+r*(t[0]-i),n[1]=a+r*(t[1]-a),n[2]=o+r*(t[2]-o),n}function uj(n,e,t,r,i){const a=Math.exp(-r*i);let o=e[0],c=e[1],u=e[2];return n[0]=t[0]+(o-t[0])*a,n[1]=t[1]+(c-t[1])*a,n[2]=t[2]+(u-t[2])*a,n}function hj(n,e,t){let r=e[0],i=e[1],a=e[2],o=t[3]*r+t[7]*i+t[11]*a+t[15];return o=o||1,n[0]=(t[0]*r+t[4]*i+t[8]*a+t[12])/o,n[1]=(t[1]*r+t[5]*i+t[9]*a+t[13])/o,n[2]=(t[2]*r+t[6]*i+t[10]*a+t[14])/o,n}function fj(n,e,t){let r=e[0],i=e[1],a=e[2],o=t[3]*r+t[7]*i+t[11]*a+t[15];return o=o||1,n[0]=(t[0]*r+t[4]*i+t[8]*a)/o,n[1]=(t[1]*r+t[5]*i+t[9]*a)/o,n[2]=(t[2]*r+t[6]*i+t[10]*a)/o,n}function dj(n,e,t){let r=e[0],i=e[1],a=e[2];return n[0]=r*t[0]+i*t[3]+a*t[6],n[1]=r*t[1]+i*t[4]+a*t[7],n[2]=r*t[2]+i*t[5]+a*t[8],n}function mj(n,e,t){let r=e[0],i=e[1],a=e[2],o=t[0],c=t[1],u=t[2],h=t[3],m=c*a-u*i,g=u*r-o*a,_=o*i-c*r,v=c*_-u*g,b=u*m-o*_,w=o*g-c*m,T=h*2;return m*=T,g*=T,_*=T,v*=2,b*=2,w*=2,n[0]=r+m+v,n[1]=i+g+b,n[2]=a+_+w,n}const pj=(function(){const n=[0,0,0],e=[0,0,0];return function(t,r){Cx(n,t),Cx(e,r),Ix(n,n),Ix(e,e);let i=B6(n,e);return i>1?0:i<-1?Math.PI:Math.acos(i)}})();function gj(n,e){return n[0]===e[0]&&n[1]===e[1]&&n[2]===e[2]}class Gl extends Array{constructor(e=0,t=e,r=e){return super(e,t,r),this}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}set x(e){this[0]=e}set y(e){this[1]=e}set z(e){this[2]=e}set(e,t=e,r=e){return e.length?this.copy(e):(nj(this,e,t,r),this)}copy(e){return Cx(this,e),this}add(e,t){return t?u3(this,e,t):u3(this,this,e),this}sub(e,t){return t?h3(this,e,t):h3(this,this,e),this}multiply(e){return e.length?rj(this,this,e):ty(this,this,e),this}divide(e){return e.length?ij(this,this,e):ty(this,this,1/e),this}inverse(e=this){return lj(this,e),this}len(){return Xm(this)}distance(e){return e?aj(this,e):Xm(this)}squaredLen(){return f3(this)}squaredDistance(e){return e?sj(this,e):f3(this)}negate(e=this){return oj(this,e),this}cross(e,t){return t?d3(this,e,t):d3(this,this,e),this}scale(e){return ty(this,this,e),this}normalize(){return Ix(this,this),this}dot(e){return B6(this,e)}equals(e){return gj(this,e)}applyMatrix3(e){return dj(this,this,e),this}applyMatrix4(e){return hj(this,this,e),this}scaleRotateMatrix4(e){return fj(this,this,e),this}applyQuaternion(e){return mj(this,this,e),this}angle(e){return pj(this,e)}lerp(e,t){return cj(this,this,e,t),this}smoothLerp(e,t,r){return uj(this,this,e,t,r),this}clone(){return new Gl(this[0],this[1],this[2])}fromArray(e,t=0){return this[0]=e[t],this[1]=e[t+1],this[2]=e[t+2],this}toArray(e=[],t=0){return e[t]=this[0],e[t+1]=this[1],e[t+2]=this[2],e}transformDirection(e){const t=this[0],r=this[1],i=this[2];return this[0]=e[0]*t+e[4]*r+e[8]*i,this[1]=e[1]*t+e[5]*r+e[9]*i,this[2]=e[2]*t+e[6]*r+e[10]*i,this.normalize()}}const m3=new Gl;let vj=1,_j=1,p3=!1;class yj{constructor(e,t={}){e.canvas||console.error("gl not passed as first argument to Geometry"),this.gl=e,this.attributes=t,this.id=vj++,this.VAOs={},this.drawRange={start:0,count:0},this.instancedCount=0,this.gl.renderer.bindVertexArray(null),this.gl.renderer.currentGeometry=null,this.glState=this.gl.renderer.state;for(let r in t)this.addAttribute(r,t[r])}addAttribute(e,t){if(this.attributes[e]=t,t.id=_j++,t.size=t.size||1,t.type=t.type||(t.data.constructor===Float32Array?this.gl.FLOAT:t.data.constructor===Uint16Array?this.gl.UNSIGNED_SHORT:this.gl.UNSIGNED_INT),t.target=e==="index"?this.gl.ELEMENT_ARRAY_BUFFER:this.gl.ARRAY_BUFFER,t.normalized=t.normalized||!1,t.stride=t.stride||0,t.offset=t.offset||0,t.count=t.count||(t.stride?t.data.byteLength/t.stride:t.data.length/t.size),t.divisor=t.instanced||0,t.needsUpdate=!1,t.usage=t.usage||this.gl.STATIC_DRAW,t.buffer||this.updateAttribute(t),t.divisor){if(this.isInstanced=!0,this.instancedCount&&this.instancedCount!==t.count*t.divisor)return console.warn("geometry has multiple instanced buffers of different length"),this.instancedCount=Math.min(this.instancedCount,t.count*t.divisor);this.instancedCount=t.count*t.divisor}else e==="index"?this.drawRange.count=t.count:this.attributes.index||(this.drawRange.count=Math.max(this.drawRange.count,t.count))}updateAttribute(e){const t=!e.buffer;t&&(e.buffer=this.gl.createBuffer()),this.glState.boundBuffer!==e.buffer&&(this.gl.bindBuffer(e.target,e.buffer),this.glState.boundBuffer=e.buffer),t?this.gl.bufferData(e.target,e.data,e.usage):this.gl.bufferSubData(e.target,0,e.data),e.needsUpdate=!1}setIndex(e){this.addAttribute("index",e)}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}setInstancedCount(e){this.instancedCount=e}createVAO(e){this.VAOs[e.attributeOrder]=this.gl.renderer.createVertexArray(),this.gl.renderer.bindVertexArray(this.VAOs[e.attributeOrder]),this.bindAttributes(e)}bindAttributes(e){e.attributeLocations.forEach((t,{name:r,type:i})=>{if(!this.attributes[r]){console.warn(`active attribute ${r} not being supplied`);return}const a=this.attributes[r];this.gl.bindBuffer(a.target,a.buffer),this.glState.boundBuffer=a.buffer;let o=1;i===35674&&(o=2),i===35675&&(o=3),i===35676&&(o=4);const c=a.size/o,u=o===1?0:o*o*4,h=o===1?0:o*4;for(let m=0;m<o;m++)this.gl.vertexAttribPointer(t+m,c,a.type,a.normalized,a.stride+u,a.offset+m*h),this.gl.enableVertexAttribArray(t+m),this.gl.renderer.vertexAttribDivisor(t+m,a.divisor)}),this.attributes.index&&this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.attributes.index.buffer)}draw({program:e,mode:t=this.gl.TRIANGLES}){this.gl.renderer.currentGeometry!==`${this.id}_${e.attributeOrder}`&&(this.VAOs[e.attributeOrder]||this.createVAO(e),this.gl.renderer.bindVertexArray(this.VAOs[e.attributeOrder]),this.gl.renderer.currentGeometry=`${this.id}_${e.attributeOrder}`),e.attributeLocations.forEach((i,{name:a})=>{const o=this.attributes[a];o.needsUpdate&&this.updateAttribute(o)});let r=2;this.attributes.index?.type===this.gl.UNSIGNED_INT&&(r=4),this.isInstanced?this.attributes.index?this.gl.renderer.drawElementsInstanced(t,this.drawRange.count,this.attributes.index.type,this.attributes.index.offset+this.drawRange.start*r,this.instancedCount):this.gl.renderer.drawArraysInstanced(t,this.drawRange.start,this.drawRange.count,this.instancedCount):this.attributes.index?this.gl.drawElements(t,this.drawRange.count,this.attributes.index.type,this.attributes.index.offset+this.drawRange.start*r):this.gl.drawArrays(t,this.drawRange.start,this.drawRange.count)}getPosition(){const e=this.attributes.position;if(e.data)return e;if(!p3)return console.warn("No position buffer data found to compute bounds"),p3=!0}computeBoundingBox(e){e||(e=this.getPosition());const t=e.data,r=e.size;this.bounds||(this.bounds={min:new Gl,max:new Gl,center:new Gl,scale:new Gl,radius:1/0});const i=this.bounds.min,a=this.bounds.max,o=this.bounds.center,c=this.bounds.scale;i.set(1/0),a.set(-1/0);for(let u=0,h=t.length;u<h;u+=r){const m=t[u],g=t[u+1],_=t[u+2];i.x=Math.min(m,i.x),i.y=Math.min(g,i.y),i.z=Math.min(_,i.z),a.x=Math.max(m,a.x),a.y=Math.max(g,a.y),a.z=Math.max(_,a.z)}c.sub(a,i),o.add(i,a).divide(2)}computeBoundingSphere(e){e||(e=this.getPosition());const t=e.data,r=e.size;this.bounds||this.computeBoundingBox(e);let i=0;for(let a=0,o=t.length;a<o;a+=r)m3.fromArray(t,a),i=Math.max(i,this.bounds.center.squaredDistance(m3));this.bounds.radius=Math.sqrt(i)}remove(){for(let e in this.VAOs)this.gl.renderer.deleteVertexArray(this.VAOs[e]),delete this.VAOs[e];for(let e in this.attributes)this.gl.deleteBuffer(this.attributes[e].buffer),delete this.attributes[e]}}let xj=1;const g3={};class wj{constructor(e,{vertex:t,fragment:r,uniforms:i={},transparent:a=!1,cullFace:o=e.BACK,frontFace:c=e.CCW,depthTest:u=!0,depthWrite:h=!0,depthFunc:m=e.LEQUAL}={}){e.canvas||console.error("gl not passed as first argument to Program"),this.gl=e,this.uniforms=i,this.id=xj++,t||console.warn("vertex shader not supplied"),r||console.warn("fragment shader not supplied"),this.transparent=a,this.cullFace=o,this.frontFace=c,this.depthTest=u,this.depthWrite=h,this.depthFunc=m,this.blendFunc={},this.blendEquation={},this.stencilFunc={},this.stencilOp={},this.transparent&&!this.blendFunc.src&&(this.gl.renderer.premultipliedAlpha?this.setBlendFunc(this.gl.ONE,this.gl.ONE_MINUS_SRC_ALPHA):this.setBlendFunc(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA)),this.vertexShader=e.createShader(e.VERTEX_SHADER),this.fragmentShader=e.createShader(e.FRAGMENT_SHADER),this.program=e.createProgram(),e.attachShader(this.program,this.vertexShader),e.attachShader(this.program,this.fragmentShader),this.setShaders({vertex:t,fragment:r})}setShaders({vertex:e,fragment:t}){if(e&&(this.gl.shaderSource(this.vertexShader,e),this.gl.compileShader(this.vertexShader),this.gl.getShaderInfoLog(this.vertexShader)!==""&&console.warn(`${this.gl.getShaderInfoLog(this.vertexShader)}
Vertex Shader
${v3(e)}`)),t&&(this.gl.shaderSource(this.fragmentShader,t),this.gl.compileShader(this.fragmentShader),this.gl.getShaderInfoLog(this.fragmentShader)!==""&&console.warn(`${this.gl.getShaderInfoLog(this.fragmentShader)}
Fragment Shader
${v3(t)}`)),this.gl.linkProgram(this.program),!this.gl.getProgramParameter(this.program,this.gl.LINK_STATUS))return console.warn(this.gl.getProgramInfoLog(this.program));this.uniformLocations=new Map;let r=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_UNIFORMS);for(let o=0;o<r;o++){let c=this.gl.getActiveUniform(this.program,o);this.uniformLocations.set(c,this.gl.getUniformLocation(this.program,c.name));const u=c.name.match(/(\w+)/g);c.uniformName=u[0],c.nameComponents=u.slice(1)}this.attributeLocations=new Map;const i=[],a=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES);for(let o=0;o<a;o++){const c=this.gl.getActiveAttrib(this.program,o),u=this.gl.getAttribLocation(this.program,c.name);u!==-1&&(i[u]=c.name,this.attributeLocations.set(c,u))}this.attributeOrder=i.join("")}setBlendFunc(e,t,r,i){this.blendFunc.src=e,this.blendFunc.dst=t,this.blendFunc.srcAlpha=r,this.blendFunc.dstAlpha=i,e&&(this.transparent=!0)}setBlendEquation(e,t){this.blendEquation.modeRGB=e,this.blendEquation.modeAlpha=t}setStencilFunc(e,t,r){this.stencilRef=t,this.stencilFunc.func=e,this.stencilFunc.ref=t,this.stencilFunc.mask=r}setStencilOp(e,t,r){this.stencilOp.stencilFail=e,this.stencilOp.depthFail=t,this.stencilOp.depthPass=r}applyState(){this.depthTest?this.gl.renderer.enable(this.gl.DEPTH_TEST):this.gl.renderer.disable(this.gl.DEPTH_TEST),this.cullFace?this.gl.renderer.enable(this.gl.CULL_FACE):this.gl.renderer.disable(this.gl.CULL_FACE),this.blendFunc.src?this.gl.renderer.enable(this.gl.BLEND):this.gl.renderer.disable(this.gl.BLEND),this.cullFace&&this.gl.renderer.setCullFace(this.cullFace),this.gl.renderer.setFrontFace(this.frontFace),this.gl.renderer.setDepthMask(this.depthWrite),this.gl.renderer.setDepthFunc(this.depthFunc),this.blendFunc.src&&this.gl.renderer.setBlendFunc(this.blendFunc.src,this.blendFunc.dst,this.blendFunc.srcAlpha,this.blendFunc.dstAlpha),this.gl.renderer.setBlendEquation(this.blendEquation.modeRGB,this.blendEquation.modeAlpha),this.stencilFunc.func||this.stencilOp.stencilFail?this.gl.renderer.enable(this.gl.STENCIL_TEST):this.gl.renderer.disable(this.gl.STENCIL_TEST),this.gl.renderer.setStencilFunc(this.stencilFunc.func,this.stencilFunc.ref,this.stencilFunc.mask),this.gl.renderer.setStencilOp(this.stencilOp.stencilFail,this.stencilOp.depthFail,this.stencilOp.depthPass)}use({flipFaces:e=!1}={}){let t=-1;this.gl.renderer.state.currentProgram===this.id||(this.gl.useProgram(this.program),this.gl.renderer.state.currentProgram=this.id),this.uniformLocations.forEach((i,a)=>{let o=this.uniforms[a.uniformName];for(const c of a.nameComponents){if(!o)break;if(c in o)o=o[c];else{if(Array.isArray(o.value))break;o=void 0;break}}if(!o)return _3(`Active uniform ${a.name} has not been supplied`);if(o&&o.value===void 0)return _3(`${a.name} uniform is missing a value parameter`);if(o.value.texture)return t=t+1,o.value.update(t),ny(this.gl,a.type,i,t);if(o.value.length&&o.value[0].texture){const c=[];return o.value.forEach(u=>{t=t+1,u.update(t),c.push(t)}),ny(this.gl,a.type,i,c)}ny(this.gl,a.type,i,o.value)}),this.applyState(),e&&this.gl.renderer.setFrontFace(this.frontFace===this.gl.CCW?this.gl.CW:this.gl.CCW)}remove(){this.gl.deleteProgram(this.program)}}function ny(n,e,t,r){r=r.length?bj(r):r;const i=n.renderer.state.uniformLocations.get(t);if(r.length)if(i===void 0||i.length!==r.length)n.renderer.state.uniformLocations.set(t,r.slice(0));else{if(Ej(i,r))return;i.set?i.set(r):Sj(i,r),n.renderer.state.uniformLocations.set(t,i)}else{if(i===r)return;n.renderer.state.uniformLocations.set(t,r)}switch(e){case 5126:return r.length?n.uniform1fv(t,r):n.uniform1f(t,r);case 35664:return n.uniform2fv(t,r);case 35665:return n.uniform3fv(t,r);case 35666:return n.uniform4fv(t,r);case 35670:case 5124:case 35678:case 36306:case 35680:case 36289:return r.length?n.uniform1iv(t,r):n.uniform1i(t,r);case 35671:case 35667:return n.uniform2iv(t,r);case 35672:case 35668:return n.uniform3iv(t,r);case 35673:case 35669:return n.uniform4iv(t,r);case 35674:return n.uniformMatrix2fv(t,!1,r);case 35675:return n.uniformMatrix3fv(t,!1,r);case 35676:return n.uniformMatrix4fv(t,!1,r)}}function v3(n){let e=n.split(`
`);for(let t=0;t<e.length;t++)e[t]=t+1+": "+e[t];return e.join(`
`)}function bj(n){const e=n.length,t=n[0].length;if(t===void 0)return n;const r=e*t;let i=g3[r];i||(g3[r]=i=new Float32Array(r));for(let a=0;a<e;a++)i.set(n[a],a*t);return i}function Ej(n,e){if(n.length!==e.length)return!1;for(let t=0,r=n.length;t<r;t++)if(n[t]!==e[t])return!1;return!0}function Sj(n,e){for(let t=0,r=n.length;t<r;t++)n[t]=e[t]}let ry=0;function _3(n){ry>100||(console.warn(n),ry++,ry>100&&console.warn("More than 100 program warnings - stopping logs."))}const iy=new Gl;let Tj=1;class Aj{constructor({canvas:e=document.createElement("canvas"),width:t=300,height:r=150,dpr:i=1,alpha:a=!1,depth:o=!0,stencil:c=!1,antialias:u=!1,premultipliedAlpha:h=!1,preserveDrawingBuffer:m=!1,powerPreference:g="default",autoClear:_=!0,webgl:v=2}={}){const b={alpha:a,depth:o,stencil:c,antialias:u,premultipliedAlpha:h,preserveDrawingBuffer:m,powerPreference:g};this.dpr=i,this.alpha=a,this.color=!0,this.depth=o,this.stencil=c,this.premultipliedAlpha=h,this.autoClear=_,this.id=Tj++,v===2&&(this.gl=e.getContext("webgl2",b)),this.isWebgl2=!!this.gl,this.gl||(this.gl=e.getContext("webgl",b)),this.gl||console.error("unable to create webgl context"),this.gl.renderer=this,this.setSize(t,r),this.state={},this.state.blendFunc={src:this.gl.ONE,dst:this.gl.ZERO},this.state.blendEquation={modeRGB:this.gl.FUNC_ADD},this.state.cullFace=!1,this.state.frontFace=this.gl.CCW,this.state.depthMask=!0,this.state.depthFunc=this.gl.LEQUAL,this.state.premultiplyAlpha=!1,this.state.flipY=!1,this.state.unpackAlignment=4,this.state.framebuffer=null,this.state.viewport={x:0,y:0,width:null,height:null},this.state.textureUnits=[],this.state.activeTextureUnit=0,this.state.boundBuffer=null,this.state.uniformLocations=new Map,this.state.currentProgram=null,this.extensions={},this.isWebgl2?(this.getExtension("EXT_color_buffer_float"),this.getExtension("OES_texture_float_linear")):(this.getExtension("OES_texture_float"),this.getExtension("OES_texture_float_linear"),this.getExtension("OES_texture_half_float"),this.getExtension("OES_texture_half_float_linear"),this.getExtension("OES_element_index_uint"),this.getExtension("OES_standard_derivatives"),this.getExtension("EXT_sRGB"),this.getExtension("WEBGL_depth_texture"),this.getExtension("WEBGL_draw_buffers")),this.getExtension("WEBGL_compressed_texture_astc"),this.getExtension("EXT_texture_compression_bptc"),this.getExtension("WEBGL_compressed_texture_s3tc"),this.getExtension("WEBGL_compressed_texture_etc1"),this.getExtension("WEBGL_compressed_texture_pvrtc"),this.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),this.vertexAttribDivisor=this.getExtension("ANGLE_instanced_arrays","vertexAttribDivisor","vertexAttribDivisorANGLE"),this.drawArraysInstanced=this.getExtension("ANGLE_instanced_arrays","drawArraysInstanced","drawArraysInstancedANGLE"),this.drawElementsInstanced=this.getExtension("ANGLE_instanced_arrays","drawElementsInstanced","drawElementsInstancedANGLE"),this.createVertexArray=this.getExtension("OES_vertex_array_object","createVertexArray","createVertexArrayOES"),this.bindVertexArray=this.getExtension("OES_vertex_array_object","bindVertexArray","bindVertexArrayOES"),this.deleteVertexArray=this.getExtension("OES_vertex_array_object","deleteVertexArray","deleteVertexArrayOES"),this.drawBuffers=this.getExtension("WEBGL_draw_buffers","drawBuffers","drawBuffersWEBGL"),this.parameters={},this.parameters.maxTextureUnits=this.gl.getParameter(this.gl.MAX_COMBINED_TEXTURE_IMAGE_UNITS),this.parameters.maxAnisotropy=this.getExtension("EXT_texture_filter_anisotropic")?this.gl.getParameter(this.getExtension("EXT_texture_filter_anisotropic").MAX_TEXTURE_MAX_ANISOTROPY_EXT):0}setSize(e,t){this.width=e,this.height=t,this.gl.canvas.width=e*this.dpr,this.gl.canvas.height=t*this.dpr,this.gl.canvas.style&&Object.assign(this.gl.canvas.style,{width:e+"px",height:t+"px"})}setViewport(e,t,r=0,i=0){this.state.viewport.width===e&&this.state.viewport.height===t||(this.state.viewport.width=e,this.state.viewport.height=t,this.state.viewport.x=r,this.state.viewport.y=i,this.gl.viewport(r,i,e,t))}setScissor(e,t,r=0,i=0){this.gl.scissor(r,i,e,t)}enable(e){this.state[e]!==!0&&(this.gl.enable(e),this.state[e]=!0)}disable(e){this.state[e]!==!1&&(this.gl.disable(e),this.state[e]=!1)}setBlendFunc(e,t,r,i){this.state.blendFunc.src===e&&this.state.blendFunc.dst===t&&this.state.blendFunc.srcAlpha===r&&this.state.blendFunc.dstAlpha===i||(this.state.blendFunc.src=e,this.state.blendFunc.dst=t,this.state.blendFunc.srcAlpha=r,this.state.blendFunc.dstAlpha=i,r!==void 0?this.gl.blendFuncSeparate(e,t,r,i):this.gl.blendFunc(e,t))}setBlendEquation(e,t){e=e||this.gl.FUNC_ADD,!(this.state.blendEquation.modeRGB===e&&this.state.blendEquation.modeAlpha===t)&&(this.state.blendEquation.modeRGB=e,this.state.blendEquation.modeAlpha=t,t!==void 0?this.gl.blendEquationSeparate(e,t):this.gl.blendEquation(e))}setCullFace(e){this.state.cullFace!==e&&(this.state.cullFace=e,this.gl.cullFace(e))}setFrontFace(e){this.state.frontFace!==e&&(this.state.frontFace=e,this.gl.frontFace(e))}setDepthMask(e){this.state.depthMask!==e&&(this.state.depthMask=e,this.gl.depthMask(e))}setDepthFunc(e){this.state.depthFunc!==e&&(this.state.depthFunc=e,this.gl.depthFunc(e))}setStencilMask(e){this.state.stencilMask!==e&&(this.state.stencilMask=e,this.gl.stencilMask(e))}setStencilFunc(e,t,r){this.state.stencilFunc===e&&this.state.stencilRef===t&&this.state.stencilFuncMask===r||(this.state.stencilFunc=e||this.gl.ALWAYS,this.state.stencilRef=t||0,this.state.stencilFuncMask=r||0,this.gl.stencilFunc(e||this.gl.ALWAYS,t||0,r||0))}setStencilOp(e,t,r){this.state.stencilFail===e&&this.state.stencilDepthFail===t&&this.state.stencilDepthPass===r||(this.state.stencilFail=e,this.state.stencilDepthFail=t,this.state.stencilDepthPass=r,this.gl.stencilOp(e,t,r))}activeTexture(e){this.state.activeTextureUnit!==e&&(this.state.activeTextureUnit=e,this.gl.activeTexture(this.gl.TEXTURE0+e))}bindFramebuffer({target:e=this.gl.FRAMEBUFFER,buffer:t=null}={}){this.state.framebuffer!==t&&(this.state.framebuffer=t,this.gl.bindFramebuffer(e,t))}getExtension(e,t,r){return t&&this.gl[t]?this.gl[t].bind(this.gl):(this.extensions[e]||(this.extensions[e]=this.gl.getExtension(e)),t?this.extensions[e]?this.extensions[e][r].bind(this.extensions[e]):null:this.extensions[e])}sortOpaque(e,t){return e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.program.id!==t.program.id?e.program.id-t.program.id:e.zDepth!==t.zDepth?e.zDepth-t.zDepth:t.id-e.id}sortTransparent(e,t){return e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.zDepth!==t.zDepth?t.zDepth-e.zDepth:t.id-e.id}sortUI(e,t){return e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.program.id!==t.program.id?e.program.id-t.program.id:t.id-e.id}getRenderList({scene:e,camera:t,frustumCull:r,sort:i}){let a=[];if(t&&r&&t.updateFrustum(),e.traverse(o=>{if(!o.visible)return!0;o.draw&&(r&&o.frustumCulled&&t&&!t.frustumIntersectsMesh(o)||a.push(o))}),i){const o=[],c=[],u=[];a.forEach(h=>{h.program.transparent?h.program.depthTest?c.push(h):u.push(h):o.push(h),h.zDepth=0,!(h.renderOrder!==0||!h.program.depthTest||!t)&&(h.worldMatrix.getTranslation(iy),iy.applyMatrix4(t.projectionViewMatrix),h.zDepth=iy.z)}),o.sort(this.sortOpaque),c.sort(this.sortTransparent),u.sort(this.sortUI),a=o.concat(c,u)}return a}render({scene:e,camera:t,target:r=null,update:i=!0,sort:a=!0,frustumCull:o=!0,clear:c}){r===null?(this.bindFramebuffer(),this.setViewport(this.width*this.dpr,this.height*this.dpr)):(this.bindFramebuffer(r),this.setViewport(r.width,r.height)),(c||this.autoClear&&c!==!1)&&(this.depth&&(!r||r.depth)&&(this.enable(this.gl.DEPTH_TEST),this.setDepthMask(!0)),(this.stencil||!r||r.stencil)&&(this.enable(this.gl.STENCIL_TEST),this.setStencilMask(255)),this.gl.clear((this.color?this.gl.COLOR_BUFFER_BIT:0)|(this.depth?this.gl.DEPTH_BUFFER_BIT:0)|(this.stencil?this.gl.STENCIL_BUFFER_BIT:0))),i&&e.updateMatrixWorld(),t&&t.updateMatrixWorld(),this.getRenderList({scene:e,camera:t,frustumCull:o,sort:a}).forEach(h=>{h.draw({camera:t})})}}function Nj(n,e){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n}function Cj(n,e,t,r,i){return n[0]=e,n[1]=t,n[2]=r,n[3]=i,n}function Ij(n,e){let t=e[0],r=e[1],i=e[2],a=e[3],o=t*t+r*r+i*i+a*a;return o>0&&(o=1/Math.sqrt(o)),n[0]=t*o,n[1]=r*o,n[2]=i*o,n[3]=a*o,n}function Rj(n,e){return n[0]*e[0]+n[1]*e[1]+n[2]*e[2]+n[3]*e[3]}function kj(n){return n[0]=0,n[1]=0,n[2]=0,n[3]=1,n}function Oj(n,e,t){t=t*.5;let r=Math.sin(t);return n[0]=r*e[0],n[1]=r*e[1],n[2]=r*e[2],n[3]=Math.cos(t),n}function y3(n,e,t){let r=e[0],i=e[1],a=e[2],o=e[3],c=t[0],u=t[1],h=t[2],m=t[3];return n[0]=r*m+o*c+i*h-a*u,n[1]=i*m+o*u+a*c-r*h,n[2]=a*m+o*h+r*u-i*c,n[3]=o*m-r*c-i*u-a*h,n}function Dj(n,e,t){t*=.5;let r=e[0],i=e[1],a=e[2],o=e[3],c=Math.sin(t),u=Math.cos(t);return n[0]=r*u+o*c,n[1]=i*u+a*c,n[2]=a*u-i*c,n[3]=o*u-r*c,n}function Lj(n,e,t){t*=.5;let r=e[0],i=e[1],a=e[2],o=e[3],c=Math.sin(t),u=Math.cos(t);return n[0]=r*u-a*c,n[1]=i*u+o*c,n[2]=a*u+r*c,n[3]=o*u-i*c,n}function jj(n,e,t){t*=.5;let r=e[0],i=e[1],a=e[2],o=e[3],c=Math.sin(t),u=Math.cos(t);return n[0]=r*u+i*c,n[1]=i*u-r*c,n[2]=a*u+o*c,n[3]=o*u-a*c,n}function Mj(n,e,t,r){let i=e[0],a=e[1],o=e[2],c=e[3],u=t[0],h=t[1],m=t[2],g=t[3],_,v,b,w,T;return v=i*u+a*h+o*m+c*g,v<0&&(v=-v,u=-u,h=-h,m=-m,g=-g),1-v>1e-6?(_=Math.acos(v),b=Math.sin(_),w=Math.sin((1-r)*_)/b,T=Math.sin(r*_)/b):(w=1-r,T=r),n[0]=w*i+T*u,n[1]=w*a+T*h,n[2]=w*o+T*m,n[3]=w*c+T*g,n}function Pj(n,e){let t=e[0],r=e[1],i=e[2],a=e[3],o=t*t+r*r+i*i+a*a,c=o?1/o:0;return n[0]=-t*c,n[1]=-r*c,n[2]=-i*c,n[3]=a*c,n}function Fj(n,e){return n[0]=-e[0],n[1]=-e[1],n[2]=-e[2],n[3]=e[3],n}function Bj(n,e){let t=e[0]+e[4]+e[8],r;if(t>0)r=Math.sqrt(t+1),n[3]=.5*r,r=.5/r,n[0]=(e[5]-e[7])*r,n[1]=(e[6]-e[2])*r,n[2]=(e[1]-e[3])*r;else{let i=0;e[4]>e[0]&&(i=1),e[8]>e[i*3+i]&&(i=2);let a=(i+1)%3,o=(i+2)%3;r=Math.sqrt(e[i*3+i]-e[a*3+a]-e[o*3+o]+1),n[i]=.5*r,r=.5/r,n[3]=(e[a*3+o]-e[o*3+a])*r,n[a]=(e[a*3+i]+e[i*3+a])*r,n[o]=(e[o*3+i]+e[i*3+o])*r}return n}function Uj(n,e,t="YXZ"){let r=Math.sin(e[0]*.5),i=Math.cos(e[0]*.5),a=Math.sin(e[1]*.5),o=Math.cos(e[1]*.5),c=Math.sin(e[2]*.5),u=Math.cos(e[2]*.5);return t==="XYZ"?(n[0]=r*o*u+i*a*c,n[1]=i*a*u-r*o*c,n[2]=i*o*c+r*a*u,n[3]=i*o*u-r*a*c):t==="YXZ"?(n[0]=r*o*u+i*a*c,n[1]=i*a*u-r*o*c,n[2]=i*o*c-r*a*u,n[3]=i*o*u+r*a*c):t==="ZXY"?(n[0]=r*o*u-i*a*c,n[1]=i*a*u+r*o*c,n[2]=i*o*c+r*a*u,n[3]=i*o*u-r*a*c):t==="ZYX"?(n[0]=r*o*u-i*a*c,n[1]=i*a*u+r*o*c,n[2]=i*o*c-r*a*u,n[3]=i*o*u+r*a*c):t==="YZX"?(n[0]=r*o*u+i*a*c,n[1]=i*a*u+r*o*c,n[2]=i*o*c-r*a*u,n[3]=i*o*u-r*a*c):t==="XZY"&&(n[0]=r*o*u-i*a*c,n[1]=i*a*u-r*o*c,n[2]=i*o*c+r*a*u,n[3]=i*o*u+r*a*c),n}const Vj=Nj,zj=Cj,qj=Rj,Hj=Ij;class Gj extends Array{constructor(e=0,t=0,r=0,i=1){super(e,t,r,i),this.onChange=()=>{},this._target=this;const a=["0","1","2","3"];return new Proxy(this,{set(o,c){const u=Reflect.set(...arguments);return u&&a.includes(c)&&o.onChange(),u}})}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}get w(){return this[3]}set x(e){this._target[0]=e,this.onChange()}set y(e){this._target[1]=e,this.onChange()}set z(e){this._target[2]=e,this.onChange()}set w(e){this._target[3]=e,this.onChange()}identity(){return kj(this._target),this.onChange(),this}set(e,t,r,i){return e.length?this.copy(e):(zj(this._target,e,t,r,i),this.onChange(),this)}rotateX(e){return Dj(this._target,this._target,e),this.onChange(),this}rotateY(e){return Lj(this._target,this._target,e),this.onChange(),this}rotateZ(e){return jj(this._target,this._target,e),this.onChange(),this}inverse(e=this._target){return Pj(this._target,e),this.onChange(),this}conjugate(e=this._target){return Fj(this._target,e),this.onChange(),this}copy(e){return Vj(this._target,e),this.onChange(),this}normalize(e=this._target){return Hj(this._target,e),this.onChange(),this}multiply(e,t){return t?y3(this._target,e,t):y3(this._target,this._target,e),this.onChange(),this}dot(e){return qj(this._target,e)}fromMatrix3(e){return Bj(this._target,e),this.onChange(),this}fromEuler(e,t){return Uj(this._target,e,e.order),t||this.onChange(),this}fromAxisAngle(e,t){return Oj(this._target,e,t),this.onChange(),this}slerp(e,t){return Mj(this._target,this._target,e,t),this.onChange(),this}fromArray(e,t=0){return this._target[0]=e[t],this._target[1]=e[t+1],this._target[2]=e[t+2],this._target[3]=e[t+3],this.onChange(),this}toArray(e=[],t=0){return e[t]=this[0],e[t+1]=this[1],e[t+2]=this[2],e[t+3]=this[3],e}}const Wj=1e-6;function Yj(n,e){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4],n[5]=e[5],n[6]=e[6],n[7]=e[7],n[8]=e[8],n[9]=e[9],n[10]=e[10],n[11]=e[11],n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15],n}function $j(n,e,t,r,i,a,o,c,u,h,m,g,_,v,b,w,T){return n[0]=e,n[1]=t,n[2]=r,n[3]=i,n[4]=a,n[5]=o,n[6]=c,n[7]=u,n[8]=h,n[9]=m,n[10]=g,n[11]=_,n[12]=v,n[13]=b,n[14]=w,n[15]=T,n}function Kj(n){return n[0]=1,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=1,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=1,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,n}function Xj(n,e){let t=e[0],r=e[1],i=e[2],a=e[3],o=e[4],c=e[5],u=e[6],h=e[7],m=e[8],g=e[9],_=e[10],v=e[11],b=e[12],w=e[13],T=e[14],N=e[15],P=t*c-r*o,R=t*u-i*o,j=t*h-a*o,K=r*u-i*c,U=r*h-a*c,C=i*h-a*u,k=m*w-g*b,I=m*T-_*b,z=m*N-v*b,O=g*T-_*w,M=g*N-v*w,B=_*N-v*T,Y=P*B-R*M+j*O+K*z-U*I+C*k;return Y?(Y=1/Y,n[0]=(c*B-u*M+h*O)*Y,n[1]=(i*M-r*B-a*O)*Y,n[2]=(w*C-T*U+N*K)*Y,n[3]=(_*U-g*C-v*K)*Y,n[4]=(u*z-o*B-h*I)*Y,n[5]=(t*B-i*z+a*I)*Y,n[6]=(T*j-b*C-N*R)*Y,n[7]=(m*C-_*j+v*R)*Y,n[8]=(o*M-c*z+h*k)*Y,n[9]=(r*z-t*M-a*k)*Y,n[10]=(b*U-w*j+N*P)*Y,n[11]=(g*j-m*U-v*P)*Y,n[12]=(c*I-o*O-u*k)*Y,n[13]=(t*O-r*I+i*k)*Y,n[14]=(w*R-b*K-T*P)*Y,n[15]=(m*K-g*R+_*P)*Y,n):null}function U6(n){let e=n[0],t=n[1],r=n[2],i=n[3],a=n[4],o=n[5],c=n[6],u=n[7],h=n[8],m=n[9],g=n[10],_=n[11],v=n[12],b=n[13],w=n[14],T=n[15],N=e*o-t*a,P=e*c-r*a,R=e*u-i*a,j=t*c-r*o,K=t*u-i*o,U=r*u-i*c,C=h*b-m*v,k=h*w-g*v,I=h*T-_*v,z=m*w-g*b,O=m*T-_*b,M=g*T-_*w;return N*M-P*O+R*z+j*I-K*k+U*C}function x3(n,e,t){let r=e[0],i=e[1],a=e[2],o=e[3],c=e[4],u=e[5],h=e[6],m=e[7],g=e[8],_=e[9],v=e[10],b=e[11],w=e[12],T=e[13],N=e[14],P=e[15],R=t[0],j=t[1],K=t[2],U=t[3];return n[0]=R*r+j*c+K*g+U*w,n[1]=R*i+j*u+K*_+U*T,n[2]=R*a+j*h+K*v+U*N,n[3]=R*o+j*m+K*b+U*P,R=t[4],j=t[5],K=t[6],U=t[7],n[4]=R*r+j*c+K*g+U*w,n[5]=R*i+j*u+K*_+U*T,n[6]=R*a+j*h+K*v+U*N,n[7]=R*o+j*m+K*b+U*P,R=t[8],j=t[9],K=t[10],U=t[11],n[8]=R*r+j*c+K*g+U*w,n[9]=R*i+j*u+K*_+U*T,n[10]=R*a+j*h+K*v+U*N,n[11]=R*o+j*m+K*b+U*P,R=t[12],j=t[13],K=t[14],U=t[15],n[12]=R*r+j*c+K*g+U*w,n[13]=R*i+j*u+K*_+U*T,n[14]=R*a+j*h+K*v+U*N,n[15]=R*o+j*m+K*b+U*P,n}function Jj(n,e,t){let r=t[0],i=t[1],a=t[2],o,c,u,h,m,g,_,v,b,w,T,N;return e===n?(n[12]=e[0]*r+e[4]*i+e[8]*a+e[12],n[13]=e[1]*r+e[5]*i+e[9]*a+e[13],n[14]=e[2]*r+e[6]*i+e[10]*a+e[14],n[15]=e[3]*r+e[7]*i+e[11]*a+e[15]):(o=e[0],c=e[1],u=e[2],h=e[3],m=e[4],g=e[5],_=e[6],v=e[7],b=e[8],w=e[9],T=e[10],N=e[11],n[0]=o,n[1]=c,n[2]=u,n[3]=h,n[4]=m,n[5]=g,n[6]=_,n[7]=v,n[8]=b,n[9]=w,n[10]=T,n[11]=N,n[12]=o*r+m*i+b*a+e[12],n[13]=c*r+g*i+w*a+e[13],n[14]=u*r+_*i+T*a+e[14],n[15]=h*r+v*i+N*a+e[15]),n}function Qj(n,e,t){let r=t[0],i=t[1],a=t[2];return n[0]=e[0]*r,n[1]=e[1]*r,n[2]=e[2]*r,n[3]=e[3]*r,n[4]=e[4]*i,n[5]=e[5]*i,n[6]=e[6]*i,n[7]=e[7]*i,n[8]=e[8]*a,n[9]=e[9]*a,n[10]=e[10]*a,n[11]=e[11]*a,n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15],n}function Zj(n,e,t,r){let i=r[0],a=r[1],o=r[2],c=Math.hypot(i,a,o),u,h,m,g,_,v,b,w,T,N,P,R,j,K,U,C,k,I,z,O,M,B,Y,we;return Math.abs(c)<Wj?null:(c=1/c,i*=c,a*=c,o*=c,u=Math.sin(t),h=Math.cos(t),m=1-h,g=e[0],_=e[1],v=e[2],b=e[3],w=e[4],T=e[5],N=e[6],P=e[7],R=e[8],j=e[9],K=e[10],U=e[11],C=i*i*m+h,k=a*i*m+o*u,I=o*i*m-a*u,z=i*a*m-o*u,O=a*a*m+h,M=o*a*m+i*u,B=i*o*m+a*u,Y=a*o*m-i*u,we=o*o*m+h,n[0]=g*C+w*k+R*I,n[1]=_*C+T*k+j*I,n[2]=v*C+N*k+K*I,n[3]=b*C+P*k+U*I,n[4]=g*z+w*O+R*M,n[5]=_*z+T*O+j*M,n[6]=v*z+N*O+K*M,n[7]=b*z+P*O+U*M,n[8]=g*B+w*Y+R*we,n[9]=_*B+T*Y+j*we,n[10]=v*B+N*Y+K*we,n[11]=b*B+P*Y+U*we,e!==n&&(n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15]),n)}function eM(n,e){return n[0]=e[12],n[1]=e[13],n[2]=e[14],n}function V6(n,e){let t=e[0],r=e[1],i=e[2],a=e[4],o=e[5],c=e[6],u=e[8],h=e[9],m=e[10];return n[0]=Math.hypot(t,r,i),n[1]=Math.hypot(a,o,c),n[2]=Math.hypot(u,h,m),n}function tM(n){let e=n[0],t=n[1],r=n[2],i=n[4],a=n[5],o=n[6],c=n[8],u=n[9],h=n[10];const m=e*e+t*t+r*r,g=i*i+a*a+o*o,_=c*c+u*u+h*h;return Math.sqrt(Math.max(m,g,_))}const z6=(function(){const n=[1,1,1];return function(e,t){let r=n;V6(r,t);let i=1/r[0],a=1/r[1],o=1/r[2],c=t[0]*i,u=t[1]*a,h=t[2]*o,m=t[4]*i,g=t[5]*a,_=t[6]*o,v=t[8]*i,b=t[9]*a,w=t[10]*o,T=c+g+w,N=0;return T>0?(N=Math.sqrt(T+1)*2,e[3]=.25*N,e[0]=(_-b)/N,e[1]=(v-h)/N,e[2]=(u-m)/N):c>g&&c>w?(N=Math.sqrt(1+c-g-w)*2,e[3]=(_-b)/N,e[0]=.25*N,e[1]=(u+m)/N,e[2]=(v+h)/N):g>w?(N=Math.sqrt(1+g-c-w)*2,e[3]=(v-h)/N,e[0]=(u+m)/N,e[1]=.25*N,e[2]=(_+b)/N):(N=Math.sqrt(1+w-c-g)*2,e[3]=(u-m)/N,e[0]=(v+h)/N,e[1]=(_+b)/N,e[2]=.25*N),e}})();function nM(n,e,t,r){let i=Xm([n[0],n[1],n[2]]);const a=Xm([n[4],n[5],n[6]]),o=Xm([n[8],n[9],n[10]]);U6(n)<0&&(i=-i),t[0]=n[12],t[1]=n[13],t[2]=n[14];const u=n.slice(),h=1/i,m=1/a,g=1/o;u[0]*=h,u[1]*=h,u[2]*=h,u[4]*=m,u[5]*=m,u[6]*=m,u[8]*=g,u[9]*=g,u[10]*=g,z6(e,u),r[0]=i,r[1]=a,r[2]=o}function rM(n,e,t,r){const i=n,a=e[0],o=e[1],c=e[2],u=e[3],h=a+a,m=o+o,g=c+c,_=a*h,v=a*m,b=a*g,w=o*m,T=o*g,N=c*g,P=u*h,R=u*m,j=u*g,K=r[0],U=r[1],C=r[2];return i[0]=(1-(w+N))*K,i[1]=(v+j)*K,i[2]=(b-R)*K,i[3]=0,i[4]=(v-j)*U,i[5]=(1-(_+N))*U,i[6]=(T+P)*U,i[7]=0,i[8]=(b+R)*C,i[9]=(T-P)*C,i[10]=(1-(_+w))*C,i[11]=0,i[12]=t[0],i[13]=t[1],i[14]=t[2],i[15]=1,i}function iM(n,e){let t=e[0],r=e[1],i=e[2],a=e[3],o=t+t,c=r+r,u=i+i,h=t*o,m=r*o,g=r*c,_=i*o,v=i*c,b=i*u,w=a*o,T=a*c,N=a*u;return n[0]=1-g-b,n[1]=m+N,n[2]=_-T,n[3]=0,n[4]=m-N,n[5]=1-h-b,n[6]=v+w,n[7]=0,n[8]=_+T,n[9]=v-w,n[10]=1-h-g,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,n}function aM(n,e,t,r,i){let a=1/Math.tan(e/2),o=1/(r-i);return n[0]=a/t,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=a,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=(i+r)*o,n[11]=-1,n[12]=0,n[13]=0,n[14]=2*i*r*o,n[15]=0,n}function sM(n,e,t,r,i,a,o){let c=1/(e-t),u=1/(r-i),h=1/(a-o);return n[0]=-2*c,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=-2*u,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=2*h,n[11]=0,n[12]=(e+t)*c,n[13]=(i+r)*u,n[14]=(o+a)*h,n[15]=1,n}function oM(n,e,t,r){let i=e[0],a=e[1],o=e[2],c=r[0],u=r[1],h=r[2],m=i-t[0],g=a-t[1],_=o-t[2],v=m*m+g*g+_*_;v===0?_=1:(v=1/Math.sqrt(v),m*=v,g*=v,_*=v);let b=u*_-h*g,w=h*m-c*_,T=c*g-u*m;return v=b*b+w*w+T*T,v===0&&(h?c+=1e-6:u?h+=1e-6:u+=1e-6,b=u*_-h*g,w=h*m-c*_,T=c*g-u*m,v=b*b+w*w+T*T),v=1/Math.sqrt(v),b*=v,w*=v,T*=v,n[0]=b,n[1]=w,n[2]=T,n[3]=0,n[4]=g*T-_*w,n[5]=_*b-m*T,n[6]=m*w-g*b,n[7]=0,n[8]=m,n[9]=g,n[10]=_,n[11]=0,n[12]=i,n[13]=a,n[14]=o,n[15]=1,n}function w3(n,e,t){return n[0]=e[0]+t[0],n[1]=e[1]+t[1],n[2]=e[2]+t[2],n[3]=e[3]+t[3],n[4]=e[4]+t[4],n[5]=e[5]+t[5],n[6]=e[6]+t[6],n[7]=e[7]+t[7],n[8]=e[8]+t[8],n[9]=e[9]+t[9],n[10]=e[10]+t[10],n[11]=e[11]+t[11],n[12]=e[12]+t[12],n[13]=e[13]+t[13],n[14]=e[14]+t[14],n[15]=e[15]+t[15],n}function b3(n,e,t){return n[0]=e[0]-t[0],n[1]=e[1]-t[1],n[2]=e[2]-t[2],n[3]=e[3]-t[3],n[4]=e[4]-t[4],n[5]=e[5]-t[5],n[6]=e[6]-t[6],n[7]=e[7]-t[7],n[8]=e[8]-t[8],n[9]=e[9]-t[9],n[10]=e[10]-t[10],n[11]=e[11]-t[11],n[12]=e[12]-t[12],n[13]=e[13]-t[13],n[14]=e[14]-t[14],n[15]=e[15]-t[15],n}function lM(n,e,t){return n[0]=e[0]*t,n[1]=e[1]*t,n[2]=e[2]*t,n[3]=e[3]*t,n[4]=e[4]*t,n[5]=e[5]*t,n[6]=e[6]*t,n[7]=e[7]*t,n[8]=e[8]*t,n[9]=e[9]*t,n[10]=e[10]*t,n[11]=e[11]*t,n[12]=e[12]*t,n[13]=e[13]*t,n[14]=e[14]*t,n[15]=e[15]*t,n}class n2 extends Array{constructor(e=1,t=0,r=0,i=0,a=0,o=1,c=0,u=0,h=0,m=0,g=1,_=0,v=0,b=0,w=0,T=1){return super(e,t,r,i,a,o,c,u,h,m,g,_,v,b,w,T),this}get x(){return this[12]}get y(){return this[13]}get z(){return this[14]}get w(){return this[15]}set x(e){this[12]=e}set y(e){this[13]=e}set z(e){this[14]=e}set w(e){this[15]=e}set(e,t,r,i,a,o,c,u,h,m,g,_,v,b,w,T){return e.length?this.copy(e):($j(this,e,t,r,i,a,o,c,u,h,m,g,_,v,b,w,T),this)}translate(e,t=this){return Jj(this,t,e),this}rotate(e,t,r=this){return Zj(this,r,e,t),this}scale(e,t=this){return Qj(this,t,typeof e=="number"?[e,e,e]:e),this}add(e,t){return t?w3(this,e,t):w3(this,this,e),this}sub(e,t){return t?b3(this,e,t):b3(this,this,e),this}multiply(e,t){return e.length?t?x3(this,e,t):x3(this,this,e):lM(this,this,e),this}identity(){return Kj(this),this}copy(e){return Yj(this,e),this}fromPerspective({fov:e,aspect:t,near:r,far:i}={}){return aM(this,e,t,r,i),this}fromOrthogonal({left:e,right:t,bottom:r,top:i,near:a,far:o}){return sM(this,e,t,r,i,a,o),this}fromQuaternion(e){return iM(this,e),this}setPosition(e){return this.x=e[0],this.y=e[1],this.z=e[2],this}inverse(e=this){return Xj(this,e),this}compose(e,t,r){return rM(this,e,t,r),this}decompose(e,t,r){return nM(this,e,t,r),this}getRotation(e){return z6(e,this),this}getTranslation(e){return eM(e,this),this}getScaling(e){return V6(e,this),this}getMaxScaleOnAxis(){return tM(this)}lookAt(e,t,r){return oM(this,e,t,r),this}determinant(){return U6(this)}fromArray(e,t=0){return this[0]=e[t],this[1]=e[t+1],this[2]=e[t+2],this[3]=e[t+3],this[4]=e[t+4],this[5]=e[t+5],this[6]=e[t+6],this[7]=e[t+7],this[8]=e[t+8],this[9]=e[t+9],this[10]=e[t+10],this[11]=e[t+11],this[12]=e[t+12],this[13]=e[t+13],this[14]=e[t+14],this[15]=e[t+15],this}toArray(e=[],t=0){return e[t]=this[0],e[t+1]=this[1],e[t+2]=this[2],e[t+3]=this[3],e[t+4]=this[4],e[t+5]=this[5],e[t+6]=this[6],e[t+7]=this[7],e[t+8]=this[8],e[t+9]=this[9],e[t+10]=this[10],e[t+11]=this[11],e[t+12]=this[12],e[t+13]=this[13],e[t+14]=this[14],e[t+15]=this[15],e}}function cM(n,e,t="YXZ"){return t==="XYZ"?(n[1]=Math.asin(Math.min(Math.max(e[8],-1),1)),Math.abs(e[8])<.99999?(n[0]=Math.atan2(-e[9],e[10]),n[2]=Math.atan2(-e[4],e[0])):(n[0]=Math.atan2(e[6],e[5]),n[2]=0)):t==="YXZ"?(n[0]=Math.asin(-Math.min(Math.max(e[9],-1),1)),Math.abs(e[9])<.99999?(n[1]=Math.atan2(e[8],e[10]),n[2]=Math.atan2(e[1],e[5])):(n[1]=Math.atan2(-e[2],e[0]),n[2]=0)):t==="ZXY"?(n[0]=Math.asin(Math.min(Math.max(e[6],-1),1)),Math.abs(e[6])<.99999?(n[1]=Math.atan2(-e[2],e[10]),n[2]=Math.atan2(-e[4],e[5])):(n[1]=0,n[2]=Math.atan2(e[1],e[0]))):t==="ZYX"?(n[1]=Math.asin(-Math.min(Math.max(e[2],-1),1)),Math.abs(e[2])<.99999?(n[0]=Math.atan2(e[6],e[10]),n[2]=Math.atan2(e[1],e[0])):(n[0]=0,n[2]=Math.atan2(-e[4],e[5]))):t==="YZX"?(n[2]=Math.asin(Math.min(Math.max(e[1],-1),1)),Math.abs(e[1])<.99999?(n[0]=Math.atan2(-e[9],e[5]),n[1]=Math.atan2(-e[2],e[0])):(n[0]=0,n[1]=Math.atan2(e[8],e[10]))):t==="XZY"&&(n[2]=Math.asin(-Math.min(Math.max(e[4],-1),1)),Math.abs(e[4])<.99999?(n[0]=Math.atan2(e[6],e[5]),n[1]=Math.atan2(e[8],e[0])):(n[0]=Math.atan2(-e[9],e[10]),n[1]=0)),n}const E3=new n2;class uM extends Array{constructor(e=0,t=e,r=e,i="YXZ"){super(e,t,r),this.order=i,this.onChange=()=>{},this._target=this;const a=["0","1","2"];return new Proxy(this,{set(o,c){const u=Reflect.set(...arguments);return u&&a.includes(c)&&o.onChange(),u}})}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}set x(e){this._target[0]=e,this.onChange()}set y(e){this._target[1]=e,this.onChange()}set z(e){this._target[2]=e,this.onChange()}set(e,t=e,r=e){return e.length?this.copy(e):(this._target[0]=e,this._target[1]=t,this._target[2]=r,this.onChange(),this)}copy(e){return this._target[0]=e[0],this._target[1]=e[1],this._target[2]=e[2],this.onChange(),this}reorder(e){return this._target.order=e,this.onChange(),this}fromRotationMatrix(e,t=this.order){return cM(this._target,e,t),this.onChange(),this}fromQuaternion(e,t=this.order,r){return E3.fromQuaternion(e),this._target.fromRotationMatrix(E3,t),r||this.onChange(),this}fromArray(e,t=0){return this._target[0]=e[t],this._target[1]=e[t+1],this._target[2]=e[t+2],this}toArray(e=[],t=0){return e[t]=this[0],e[t+1]=this[1],e[t+2]=this[2],e}}class hM{constructor(){this.parent=null,this.children=[],this.visible=!0,this.matrix=new n2,this.worldMatrix=new n2,this.matrixAutoUpdate=!0,this.worldMatrixNeedsUpdate=!1,this.position=new Gl,this.quaternion=new Gj,this.scale=new Gl(1),this.rotation=new uM,this.up=new Gl(0,1,0),this.rotation._target.onChange=()=>this.quaternion.fromEuler(this.rotation,!0),this.quaternion._target.onChange=()=>this.rotation.fromQuaternion(this.quaternion,void 0,!0)}setParent(e,t=!0){this.parent&&e!==this.parent&&this.parent.removeChild(this,!1),this.parent=e,t&&e&&e.addChild(this,!1)}addChild(e,t=!0){~this.children.indexOf(e)||this.children.push(e),t&&e.setParent(this,!1)}removeChild(e,t=!0){~this.children.indexOf(e)&&this.children.splice(this.children.indexOf(e),1),t&&e.setParent(null,!1)}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.worldMatrixNeedsUpdate||e)&&(this.parent===null?this.worldMatrix.copy(this.matrix):this.worldMatrix.multiply(this.parent.worldMatrix,this.matrix),this.worldMatrixNeedsUpdate=!1,e=!0);for(let t=0,r=this.children.length;t<r;t++)this.children[t].updateMatrixWorld(e)}updateMatrix(){this.matrix.compose(this.quaternion,this.position,this.scale),this.worldMatrixNeedsUpdate=!0}traverse(e){if(!e(this))for(let t=0,r=this.children.length;t<r;t++)this.children[t].traverse(e)}decompose(){this.matrix.decompose(this.quaternion._target,this.position,this.scale),this.rotation.fromQuaternion(this.quaternion)}lookAt(e,t=!1){t?this.matrix.lookAt(this.position,e,this.up):this.matrix.lookAt(e,this.position,this.up),this.matrix.getRotation(this.quaternion._target),this.rotation.fromQuaternion(this.quaternion)}}function fM(n,e){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[4],n[4]=e[5],n[5]=e[6],n[6]=e[8],n[7]=e[9],n[8]=e[10],n}function dM(n,e){let t=e[0],r=e[1],i=e[2],a=e[3],o=t+t,c=r+r,u=i+i,h=t*o,m=r*o,g=r*c,_=i*o,v=i*c,b=i*u,w=a*o,T=a*c,N=a*u;return n[0]=1-g-b,n[3]=m-N,n[6]=_+T,n[1]=m+N,n[4]=1-h-b,n[7]=v-w,n[2]=_-T,n[5]=v+w,n[8]=1-h-g,n}function mM(n,e){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4],n[5]=e[5],n[6]=e[6],n[7]=e[7],n[8]=e[8],n}function pM(n,e,t,r,i,a,o,c,u,h){return n[0]=e,n[1]=t,n[2]=r,n[3]=i,n[4]=a,n[5]=o,n[6]=c,n[7]=u,n[8]=h,n}function gM(n){return n[0]=1,n[1]=0,n[2]=0,n[3]=0,n[4]=1,n[5]=0,n[6]=0,n[7]=0,n[8]=1,n}function vM(n,e){let t=e[0],r=e[1],i=e[2],a=e[3],o=e[4],c=e[5],u=e[6],h=e[7],m=e[8],g=m*o-c*h,_=-m*a+c*u,v=h*a-o*u,b=t*g+r*_+i*v;return b?(b=1/b,n[0]=g*b,n[1]=(-m*r+i*h)*b,n[2]=(c*r-i*o)*b,n[3]=_*b,n[4]=(m*t-i*u)*b,n[5]=(-c*t+i*a)*b,n[6]=v*b,n[7]=(-h*t+r*u)*b,n[8]=(o*t-r*a)*b,n):null}function S3(n,e,t){let r=e[0],i=e[1],a=e[2],o=e[3],c=e[4],u=e[5],h=e[6],m=e[7],g=e[8],_=t[0],v=t[1],b=t[2],w=t[3],T=t[4],N=t[5],P=t[6],R=t[7],j=t[8];return n[0]=_*r+v*o+b*h,n[1]=_*i+v*c+b*m,n[2]=_*a+v*u+b*g,n[3]=w*r+T*o+N*h,n[4]=w*i+T*c+N*m,n[5]=w*a+T*u+N*g,n[6]=P*r+R*o+j*h,n[7]=P*i+R*c+j*m,n[8]=P*a+R*u+j*g,n}function _M(n,e,t){let r=e[0],i=e[1],a=e[2],o=e[3],c=e[4],u=e[5],h=e[6],m=e[7],g=e[8],_=t[0],v=t[1];return n[0]=r,n[1]=i,n[2]=a,n[3]=o,n[4]=c,n[5]=u,n[6]=_*r+v*o+h,n[7]=_*i+v*c+m,n[8]=_*a+v*u+g,n}function yM(n,e,t){let r=e[0],i=e[1],a=e[2],o=e[3],c=e[4],u=e[5],h=e[6],m=e[7],g=e[8],_=Math.sin(t),v=Math.cos(t);return n[0]=v*r+_*o,n[1]=v*i+_*c,n[2]=v*a+_*u,n[3]=v*o-_*r,n[4]=v*c-_*i,n[5]=v*u-_*a,n[6]=h,n[7]=m,n[8]=g,n}function xM(n,e,t){let r=t[0],i=t[1];return n[0]=r*e[0],n[1]=r*e[1],n[2]=r*e[2],n[3]=i*e[3],n[4]=i*e[4],n[5]=i*e[5],n[6]=e[6],n[7]=e[7],n[8]=e[8],n}function wM(n,e){let t=e[0],r=e[1],i=e[2],a=e[3],o=e[4],c=e[5],u=e[6],h=e[7],m=e[8],g=e[9],_=e[10],v=e[11],b=e[12],w=e[13],T=e[14],N=e[15],P=t*c-r*o,R=t*u-i*o,j=t*h-a*o,K=r*u-i*c,U=r*h-a*c,C=i*h-a*u,k=m*w-g*b,I=m*T-_*b,z=m*N-v*b,O=g*T-_*w,M=g*N-v*w,B=_*N-v*T,Y=P*B-R*M+j*O+K*z-U*I+C*k;return Y?(Y=1/Y,n[0]=(c*B-u*M+h*O)*Y,n[1]=(u*z-o*B-h*I)*Y,n[2]=(o*M-c*z+h*k)*Y,n[3]=(i*M-r*B-a*O)*Y,n[4]=(t*B-i*z+a*I)*Y,n[5]=(r*z-t*M-a*k)*Y,n[6]=(w*C-T*U+N*K)*Y,n[7]=(T*j-b*C-N*R)*Y,n[8]=(b*U-w*j+N*P)*Y,n):null}class bM extends Array{constructor(e=1,t=0,r=0,i=0,a=1,o=0,c=0,u=0,h=1){return super(e,t,r,i,a,o,c,u,h),this}set(e,t,r,i,a,o,c,u,h){return e.length?this.copy(e):(pM(this,e,t,r,i,a,o,c,u,h),this)}translate(e,t=this){return _M(this,t,e),this}rotate(e,t=this){return yM(this,t,e),this}scale(e,t=this){return xM(this,t,e),this}multiply(e,t){return t?S3(this,e,t):S3(this,this,e),this}identity(){return gM(this),this}copy(e){return mM(this,e),this}fromMatrix4(e){return fM(this,e),this}fromQuaternion(e){return dM(this,e),this}fromBasis(e,t,r){return this.set(e[0],e[1],e[2],t[0],t[1],t[2],r[0],r[1],r[2]),this}inverse(e=this){return vM(this,e),this}getNormalMatrix(e){return wM(this,e),this}}let EM=0;class SM extends hM{constructor(e,{geometry:t,program:r,mode:i=e.TRIANGLES,frustumCulled:a=!0,renderOrder:o=0}={}){super(),e.canvas||console.error("gl not passed as first argument to Mesh"),this.gl=e,this.id=EM++,this.geometry=t,this.program=r,this.mode=i,this.frustumCulled=a,this.renderOrder=o,this.modelViewMatrix=new n2,this.normalMatrix=new bM,this.beforeRenderCallbacks=[],this.afterRenderCallbacks=[]}onBeforeRender(e){return this.beforeRenderCallbacks.push(e),this}onAfterRender(e){return this.afterRenderCallbacks.push(e),this}draw({camera:e}={}){e&&(this.program.uniforms.modelMatrix||Object.assign(this.program.uniforms,{modelMatrix:{value:null},viewMatrix:{value:null},modelViewMatrix:{value:null},normalMatrix:{value:null},projectionMatrix:{value:null},cameraPosition:{value:null}}),this.program.uniforms.projectionMatrix.value=e.projectionMatrix,this.program.uniforms.cameraPosition.value=e.worldPosition,this.program.uniforms.viewMatrix.value=e.viewMatrix,this.modelViewMatrix.multiply(e.viewMatrix,this.worldMatrix),this.normalMatrix.getNormalMatrix(this.modelViewMatrix),this.program.uniforms.modelMatrix.value=this.worldMatrix,this.program.uniforms.modelViewMatrix.value=this.modelViewMatrix,this.program.uniforms.normalMatrix.value=this.normalMatrix),this.beforeRenderCallbacks.forEach(r=>r&&r({mesh:this,camera:e}));let t=this.program.cullFace&&this.worldMatrix.determinant()<0;this.program.use({flipFaces:t}),this.geometry.draw({mode:this.mode,program:this.program}),this.afterRenderCallbacks.forEach(r=>r&&r({mesh:this,camera:e}))}}const T3={black:"#000000",white:"#ffffff",red:"#ff0000",green:"#00ff00",blue:"#0000ff",fuchsia:"#ff00ff",cyan:"#00ffff",yellow:"#ffff00",orange:"#ff8000"};function A3(n){n.length===4&&(n=n[0]+n[1]+n[1]+n[2]+n[2]+n[3]+n[3]);const e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(n);return e||console.warn(`Unable to convert hex string ${n} to rgb values`),[parseInt(e[1],16)/255,parseInt(e[2],16)/255,parseInt(e[3],16)/255]}function TM(n){return n=parseInt(n),[(n>>16&255)/255,(n>>8&255)/255,(n&255)/255]}function N3(n){return n===void 0?[0,0,0]:arguments.length===3?arguments:isNaN(n)?n[0]==="#"?A3(n):T3[n.toLowerCase()]?A3(T3[n.toLowerCase()]):(console.warn("Color format not recognised"),[0,0,0]):TM(n)}class C3 extends Array{constructor(e){return Array.isArray(e)?super(...e):super(...N3(...arguments))}get r(){return this[0]}get g(){return this[1]}get b(){return this[2]}set r(e){this[0]=e}set g(e){this[1]=e}set b(e){this[2]=e}set(e){return Array.isArray(e)?this.copy(e):this.copy(N3(...arguments))}copy(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this}}class AM extends yj{constructor(e,{attributes:t={}}={}){Object.assign(t,{position:{size:2,data:new Float32Array([-1,-1,3,-1,-1,3])},uv:{size:2,data:new Float32Array([0,0,2,0,0,2])}}),super(e,t)}}const NM=`
attribute vec2 uv;
attribute vec2 position;

varying vec2 vUv;

void main() {
  vUv = uv;
  gl_Position = vec4(position, 0, 1);
}
`,CM=`
precision highp float;

uniform float uTime;
uniform vec3 uResolution;
uniform vec2 uFocal;
uniform vec2 uRotation;
uniform float uStarSpeed;
uniform float uDensity;
uniform float uHueShift;
uniform float uSpeed;
uniform vec2 uMouse;
uniform float uGlowIntensity;
uniform float uSaturation;
uniform bool uMouseRepulsion;
uniform float uTwinkleIntensity;
uniform float uRotationSpeed;
uniform float uRepulsionStrength;
uniform float uMouseActiveFactor;
uniform float uAutoCenterRepulsion;
uniform bool uTransparent;

varying vec2 vUv;

#define NUM_LAYER 4.0
#define STAR_COLOR_CUTOFF 0.2
#define MAT45 mat2(0.7071, -0.7071, 0.7071, 0.7071)
#define PERIOD 3.0

float Hash21(vec2 p) {
  p = fract(p * vec2(123.34, 456.21));
  p += dot(p, p + 45.32);
  return fract(p.x * p.y);
}

float tri(float x) {
  return abs(fract(x) * 2.0 - 1.0);
}

float tris(float x) {
  float t = fract(x);
  return 1.0 - smoothstep(0.0, 1.0, abs(2.0 * t - 1.0));
}

float trisn(float x) {
  float t = fract(x);
  return 2.0 * (1.0 - smoothstep(0.0, 1.0, abs(2.0 * t - 1.0))) - 1.0;
}

vec3 hsv2rgb(vec3 c) {
  vec4 K = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);
  vec3 p = abs(fract(c.xxx + K.xyz) * 6.0 - K.www);
  return c.z * mix(K.xxx, clamp(p - K.xxx, 0.0, 1.0), c.y);
}

float Star(vec2 uv, float flare) {
  float d = length(uv);
  float m = (0.05 * uGlowIntensity) / d;
  float rays = smoothstep(0.0, 1.0, 1.0 - abs(uv.x * uv.y * 1000.0));
  m += rays * flare * uGlowIntensity;
  uv *= MAT45;
  rays = smoothstep(0.0, 1.0, 1.0 - abs(uv.x * uv.y * 1000.0));
  m += rays * 0.3 * flare * uGlowIntensity;
  m *= smoothstep(1.0, 0.2, d);
  return m;
}

vec3 StarLayer(vec2 uv) {
  vec3 col = vec3(0.0);

  vec2 gv = fract(uv) - 0.5; 
  vec2 id = floor(uv);

  for (int y = -1; y <= 1; y++) {
    for (int x = -1; x <= 1; x++) {
      vec2 offset = vec2(float(x), float(y));
      vec2 si = id + vec2(float(x), float(y));
      float seed = Hash21(si);
      float size = fract(seed * 345.32);
      float glossLocal = tri(uStarSpeed / (PERIOD * seed + 1.0));
      float flareSize = smoothstep(0.9, 1.0, size) * glossLocal;

      float red = smoothstep(STAR_COLOR_CUTOFF, 1.0, Hash21(si + 1.0)) + STAR_COLOR_CUTOFF;
      float blu = smoothstep(STAR_COLOR_CUTOFF, 1.0, Hash21(si + 3.0)) + STAR_COLOR_CUTOFF;
      float grn = min(red, blu) * seed;
      vec3 base = vec3(red, grn, blu);
      
      float hue = atan(base.g - base.r, base.b - base.r) / (2.0 * 3.14159) + 0.5;
      hue = fract(hue + uHueShift / 360.0);
      float sat = length(base - vec3(dot(base, vec3(0.299, 0.587, 0.114)))) * uSaturation;
      float val = max(max(base.r, base.g), base.b);
      base = hsv2rgb(vec3(hue, sat, val));

      vec2 pad = vec2(tris(seed * 34.0 + uTime * uSpeed / 10.0), tris(seed * 38.0 + uTime * uSpeed / 30.0)) - 0.5;

      float star = Star(gv - offset - pad, flareSize);
      vec3 color = base;

      float twinkle = trisn(uTime * uSpeed + seed * 6.2831) * 0.5 + 1.0;
      twinkle = mix(1.0, twinkle, uTwinkleIntensity);
      star *= twinkle;
      
      col += star * size * color;
    }
  }

  return col;
}

void main() {
  vec2 focalPx = uFocal * uResolution.xy;
  vec2 uv = (vUv * uResolution.xy - focalPx) / uResolution.y;

  vec2 mouseNorm = uMouse - vec2(0.5);
  
  if (uAutoCenterRepulsion > 0.0) {
    vec2 centerUV = vec2(0.0, 0.0);
    float centerDist = length(uv - centerUV);
    vec2 repulsion = normalize(uv - centerUV) * (uAutoCenterRepulsion / (centerDist + 0.1));
    uv += repulsion * 0.05;
  } else if (uMouseRepulsion) {
    vec2 mousePosUV = (uMouse * uResolution.xy - focalPx) / uResolution.y;
    float mouseDist = length(uv - mousePosUV);
    vec2 repulsion = normalize(uv - mousePosUV) * (uRepulsionStrength / (mouseDist + 0.1));
    uv += repulsion * 0.05 * uMouseActiveFactor;
  } else {
    vec2 mouseOffset = mouseNorm * 0.1 * uMouseActiveFactor;
    uv += mouseOffset;
  }

  float autoRotAngle = uTime * uRotationSpeed;
  mat2 autoRot = mat2(cos(autoRotAngle), -sin(autoRotAngle), sin(autoRotAngle), cos(autoRotAngle));
  uv = autoRot * uv;

  uv = mat2(uRotation.x, -uRotation.y, uRotation.y, uRotation.x) * uv;

  vec3 col = vec3(0.0);

  for (float i = 0.0; i < 1.0; i += 1.0 / NUM_LAYER) {
    float depth = fract(i + uStarSpeed * uSpeed);
    float scale = mix(20.0 * uDensity, 0.5 * uDensity, depth);
    float fade = depth * smoothstep(1.0, 0.9, depth);
    col += StarLayer(uv * scale + i * 453.32) * fade;
  }

  if (uTransparent) {
    float alpha = length(col);
    alpha = smoothstep(0.0, 0.3, alpha);
    alpha = min(alpha, 1.0);
    gl_FragColor = vec4(col, alpha);
  } else {
    gl_FragColor = vec4(col, 1.0);
  }
}
`;function IM({focal:n=[.2,.2],rotation:e=[1,0],starSpeed:t=.4,density:r=.6,hueShift:i=140,disableAnimation:a=!1,speed:o=.8,mouseInteraction:c=!0,glowIntensity:u=.2,saturation:h=.5,mouseRepulsion:m=!0,repulsionStrength:g=2,twinkleIntensity:_=.5,rotationSpeed:v=.1,autoCenterRepulsion:b=0,transparent:w=!0,...T}){const N=Q.useRef(null),P=Q.useRef({x:.5,y:.5}),R=Q.useRef({x:.5,y:.5}),j=Q.useRef(0),K=Q.useRef(0);return Q.useEffect(()=>{if(!N.current)return;const U=N.current,C=new Aj({alpha:w,premultipliedAlpha:!1}),k=C.gl;w?(k.enable(k.BLEND),k.blendFunc(k.SRC_ALPHA,k.ONE_MINUS_SRC_ALPHA),k.clearColor(0,0,0,0)):k.clearColor(0,0,0,1);let I;function z(){C.setSize(U.offsetWidth*1,U.offsetHeight*1),I&&(I.uniforms.uResolution.value=new C3(k.canvas.width,k.canvas.height,k.canvas.width/k.canvas.height))}window.addEventListener("resize",z,!1),z();const O=new AM(k);I=new wj(k,{vertex:NM,fragment:CM,uniforms:{uTime:{value:0},uResolution:{value:new C3(k.canvas.width,k.canvas.height,k.canvas.width/k.canvas.height)},uFocal:{value:new Float32Array(n)},uRotation:{value:new Float32Array(e)},uStarSpeed:{value:t},uDensity:{value:r},uHueShift:{value:i},uSpeed:{value:o},uMouse:{value:new Float32Array([R.current.x,R.current.y])},uGlowIntensity:{value:u},uSaturation:{value:h},uMouseRepulsion:{value:m},uTwinkleIntensity:{value:_},uRotationSpeed:{value:v},uRepulsionStrength:{value:g},uMouseActiveFactor:{value:0},uAutoCenterRepulsion:{value:b},uTransparent:{value:w}}});const M=new SM(k,{geometry:O,program:I});let B;function Y(le){B=requestAnimationFrame(Y),a||(I.uniforms.uTime.value=le*.001,I.uniforms.uStarSpeed.value=le*.001*t/10);const pe=.05;R.current.x+=(P.current.x-R.current.x)*pe,R.current.y+=(P.current.y-R.current.y)*pe,K.current+=(j.current-K.current)*pe,I.uniforms.uMouse.value[0]=R.current.x,I.uniforms.uMouse.value[1]=R.current.y,I.uniforms.uMouseActiveFactor.value=K.current,C.render({scene:M})}B=requestAnimationFrame(Y),U.appendChild(k.canvas);function we(le){const pe=U.getBoundingClientRect(),Ie=(le.clientX-pe.left)/pe.width,Ae=1-(le.clientY-pe.top)/pe.height;P.current={x:Ie,y:Ae},j.current=1}function fe(){j.current=0}return c&&(U.addEventListener("mousemove",we),U.addEventListener("mouseleave",fe)),()=>{cancelAnimationFrame(B),window.removeEventListener("resize",z),c&&(U.removeEventListener("mousemove",we),U.removeEventListener("mouseleave",fe)),U.removeChild(k.canvas),k.getExtension("WEBGL_lose_context")?.loseContext()}},[n,e,t,r,i,a,o,c,u,h,m,_,v,g,b,w]),f.jsx("div",{ref:N,className:"galaxy-container",...T})}let r1=null;function RM(){try{const n=document.createElement("canvas"),e=n.getContext("webgl")||n.getContext("experimental-webgl");if(!e)return!0;const t=e.getExtension("WEBGL_debug_renderer_info");if(!t)return!1;const r=e.getParameter(t.UNMASKED_RENDERER_WEBGL).toLowerCase();return["intel hd graphics","intel uhd graphics","intel(r) hd graphics","intel(r) uhd graphics","mali-4","mali-t","adreno 3","adreno 4","adreno 5","powervr","videocore","swiftshader","llvmpipe","mesa","microsoft basic render"].some(a=>r.includes(a))}catch{return!1}}function kM(){const n=navigator.userAgent.toLowerCase(),t=["android","webos","iphone","ipad","ipod","blackberry","windows phone"].some(a=>n.includes(a)),r="ontouchstart"in window||navigator.maxTouchPoints>0,i=window.innerWidth<=768;return t||r&&i}function OM(){return navigator.deviceMemory||null}function DM(){return navigator.hardwareConcurrency||4}function LM(n,e,t,r){let i=0;return n>=8?i+=3:n>=4?i+=2:n>=2&&(i+=1),e!==null?e>=8?i+=3:e>=4?i+=2:e>=2&&(i+=1):i+=2,r&&(i-=2),t&&(i-=1),i>=5?"high":i>=3?"medium":"low"}function jM(){if(r1)return r1;const n=DM(),e=OM(),t=kM(),r=RM();return r1={tier:LM(n,e,t,r),cpuCores:n,deviceMemory:e,isMobile:t,isLowEndGPU:r},r1}const ay={high:{density:.6,glowIntensity:.1,twinkleIntensity:.1,rotationSpeed:.1,speed:.8,mouseInteraction:!1,mouseRepulsion:!1,disabled:!1},medium:{density:.35,glowIntensity:.08,twinkleIntensity:.05,rotationSpeed:.05,speed:.5,mouseInteraction:!1,mouseRepulsion:!1,disabled:!1},low:{density:.15,glowIntensity:.05,twinkleIntensity:0,rotationSpeed:.02,speed:.3,mouseInteraction:!1,mouseRepulsion:!1,disabled:!1}};function MM({forceHighQuality:n=!1,forceLowQuality:e=!1}){const t=Q.useMemo(()=>{if(n)return ay.high;if(e)return ay.low;const{tier:r}=jM();return ay[r]},[n,e]);return t.disabled?f.jsx("div",{className:"galaxy-container galaxy-container--static"}):f.jsx(IM,{density:t.density,glowIntensity:t.glowIntensity,twinkleIntensity:t.twinkleIntensity,rotationSpeed:t.rotationSpeed,speed:t.speed,mouseInteraction:t.mouseInteraction,mouseRepulsion:t.mouseRepulsion,saturation:.2,hueShift:360,repulsionStrength:2,autoCenterRepulsion:0,starSpeed:.4,transparent:!1})}const q5="/orbitx-zcoer-website/assets/Logo_without_background-BzyQFdVO.png";var sy,I3;function PM(){if(I3)return sy;I3=1;var n=typeof Element<"u",e=typeof Map=="function",t=typeof Set=="function",r=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function i(a,o){if(a===o)return!0;if(a&&o&&typeof a=="object"&&typeof o=="object"){if(a.constructor!==o.constructor)return!1;var c,u,h;if(Array.isArray(a)){if(c=a.length,c!=o.length)return!1;for(u=c;u--!==0;)if(!i(a[u],o[u]))return!1;return!0}var m;if(e&&a instanceof Map&&o instanceof Map){if(a.size!==o.size)return!1;for(m=a.entries();!(u=m.next()).done;)if(!o.has(u.value[0]))return!1;for(m=a.entries();!(u=m.next()).done;)if(!i(u.value[1],o.get(u.value[0])))return!1;return!0}if(t&&a instanceof Set&&o instanceof Set){if(a.size!==o.size)return!1;for(m=a.entries();!(u=m.next()).done;)if(!o.has(u.value[0]))return!1;return!0}if(r&&ArrayBuffer.isView(a)&&ArrayBuffer.isView(o)){if(c=a.length,c!=o.length)return!1;for(u=c;u--!==0;)if(a[u]!==o[u])return!1;return!0}if(a.constructor===RegExp)return a.source===o.source&&a.flags===o.flags;if(a.valueOf!==Object.prototype.valueOf&&typeof a.valueOf=="function"&&typeof o.valueOf=="function")return a.valueOf()===o.valueOf();if(a.toString!==Object.prototype.toString&&typeof a.toString=="function"&&typeof o.toString=="function")return a.toString()===o.toString();if(h=Object.keys(a),c=h.length,c!==Object.keys(o).length)return!1;for(u=c;u--!==0;)if(!Object.prototype.hasOwnProperty.call(o,h[u]))return!1;if(n&&a instanceof Element)return!1;for(u=c;u--!==0;)if(!((h[u]==="_owner"||h[u]==="__v"||h[u]==="__o")&&a.$$typeof)&&!i(a[h[u]],o[h[u]]))return!1;return!0}return a!==a&&o!==o}return sy=function(o,c){try{return i(o,c)}catch(u){if((u.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw u}},sy}var FM=PM();const F1=D5(FM);function ri(n,e){return!Number.isInteger(n)||!Number.isInteger(e)?Math.random()*(e-n)+n:Math.floor(Math.random()*(e-n+1)+n)}function Dm(n,e,t){return(1-t)*n+t*e}function BM(n){const e=Math.floor(Math.random()*n.length);return n[e]}function R3(n){return n?{height:n.offsetHeight,width:n.offsetWidth}:{height:0,width:0}}const k3=Math.PI*2,Nc={color:"#dee4fd",radius:[.5,3],speed:[1,3],wind:[-.5,2],changeFrequency:200,rotationSpeed:[-1,1],opacity:[1,1],enable3DRotation:!1};class Tf{static createSnowflakes(e,t,r){if(!e)return[];const i=[];for(let a=0;a<t;a++)i.push(new Tf(e,r));return i}constructor(e,t={}){this.updateConfig(t);const{radius:r,wind:i,speed:a,rotationSpeed:o,opacity:c,enable3DRotation:u}=this.config;this.params={x:ri(0,e.offsetWidth),y:ri(-e.offsetHeight,0),rotation:ri(0,360),radius:ri(...r),speed:ri(...a),wind:ri(...i),rotationSpeed:ri(...o),nextSpeed:ri(...a),nextWind:ri(...i),nextRotationSpeed:ri(...o),opacity:ri(...c),hasNextOpacity:!1,rotationX:u?ri(0,360):0,rotationY:u?ri(0,360):0,rotationSpeedX:u?ri(-2,2):0,rotationSpeedY:u?ri(-2,2):0,nextRotationSpeedX:u?ri(-2,2):0,nextRotationSpeedY:u?ri(-2,2):0},this.framesSinceLastUpdate=0}selectImage(){this.config.images&&this.config.images.length>0?this.image=BM(this.config.images):this.image=void 0}updateConfig(e){const t=this.config;this.config={...Nc,...e},this.config.changeFrequency=ri(this.config.changeFrequency,this.config.changeFrequency*1.5),this.params&&!F1(this.config.radius,t?.radius)&&(this.params.radius=ri(...this.config.radius)),F1(this.config.images,t?.images)||this.selectImage(),t?.opacity&&!F1(this.config.opacity,t?.opacity)&&(this.params.hasNextOpacity=!0)}updateTargetParams(){this.params.nextSpeed=ri(...this.config.speed),this.params.nextWind=ri(...this.config.wind),this.image&&(this.params.nextRotationSpeed=ri(...this.config.rotationSpeed)),this.config.enable3DRotation&&(this.params.nextRotationSpeedX=ri(-2,2),this.params.nextRotationSpeedY=ri(-2,2))}update(e,t,r=1){const{x:i,y:a,rotation:o,rotationSpeed:c,nextRotationSpeed:u,wind:h,speed:m,nextWind:g,nextSpeed:_,radius:v}=this.params;this.params.x=(i+h*r)%(e+v*2),this.params.x>e+v&&(this.params.x=-v),this.params.y=(a+m*r)%(t+v*2),this.params.y>t+v&&(this.params.hasNextOpacity&&(this.params.opacity=ri(...this.config.opacity),this.params.hasNextOpacity=!1),this.params.y=-v),(this.image||this.config.enable3DRotation)&&(this.params.rotation=(o+c)%360),this.config.enable3DRotation&&(this.params.rotationX=(this.params.rotationX+this.params.rotationSpeedX*r)%360,this.params.rotationY=(this.params.rotationY+this.params.rotationSpeedY*r)%360),this.params.speed=Dm(m,_,.01),this.params.wind=Dm(h,g,.01),this.params.rotationSpeed=Dm(c,u,.01),this.config.enable3DRotation&&(this.params.rotationSpeedX=Dm(this.params.rotationSpeedX,this.params.nextRotationSpeedX,.01),this.params.rotationSpeedY=Dm(this.params.rotationSpeedY,this.params.nextRotationSpeedY,.01)),this.framesSinceLastUpdate++>this.config.changeFrequency&&(this.updateTargetParams(),this.framesSinceLastUpdate=0)}getImageOffscreenCanvas(e,t){var r,i;if(e instanceof HTMLImageElement&&e.loading)return e;let a=Tf.offscreenCanvases.get(e);if(a||(a={},Tf.offscreenCanvases.set(e,a)),!(t in a)){const o=document.createElement("canvas");o.width=t,o.height=t,(r=o.getContext("2d"))===null||r===void 0||r.drawImage(e,0,0,t,t),a[t]=o}return(i=a[t])!==null&&i!==void 0?i:e}apply3DTransform(e,t,r){if(this.config.enable3DRotation){const{rotationX:i,rotationY:a}=this.params,o=this.params.rotation||0,c=i*Math.PI/180,u=a*Math.PI/180,h=o*Math.PI/180,m=Math.cos(c),g=Math.sin(c),_=Math.cos(u),v=Math.sin(u),b=Math.cos(h),w=Math.sin(h),T=b*_,N=b*v*g-w*m,P=b*v*m+w*g,R=w*_;e.setTransform(T,N,P,R,t,r)}else{const a=(this.params.rotation||0)*Math.PI/180,o=Math.cos(a),c=Math.sin(a);e.setTransform(o,c,-c,o,t,r)}}drawCircle(e){e.moveTo(this.params.x,this.params.y),e.arc(this.params.x,this.params.y,this.params.radius,0,k3)}drawCircle3D(e,t){const{x:r,y:i,radius:a}=this.params;e.save(),this.config.enable3DRotation?this.apply3DTransform(e,r,i):e.translate(r,i),e.beginPath(),e.arc(0,0,a,0,k3),e.fillStyle=t,e.fill(),e.restore()}drawImage(e){const{x:t,y:r,radius:i}=this.params;e.save(),this.params.opacity!==1&&(e.globalAlpha=this.params.opacity),this.apply3DTransform(e,t,r);const a=this.getImageOffscreenCanvas(this.image,i);e.drawImage(a,-(i/2),-(i/2),i,i),e.restore()}}Tf.offscreenCanvases=new WeakMap;const UM={pointerEvents:"none",backgroundColor:"transparent",position:"absolute",top:0,left:0,width:"100%",height:"100%"},VM=1e3/60;var O3=function(n,e,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(n):r?r.value:e.get(n)},i1=function(n,e,t,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?n!==e||!i:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(n,t):i?i.value=t:e.set(n,t),t},Hm,Gm;class zM{get ctx(){return O3(this,Hm,"f")}get canvas(){return O3(this,Gm,"f")}set canvas(e){i1(this,Gm,e,"f"),i1(this,Hm,e.getContext("2d"),"f")}constructor(e,t){this.lastUpdate=Date.now(),this.snowflakes=[],Hm.set(this,void 0),Gm.set(this,void 0),i1(this,Gm,e,"f"),i1(this,Hm,e.getContext("2d"),"f"),this.config={snowflakeCount:150,...Nc,...t},this.snowflakes=[],this.snowflakes=Tf.createSnowflakes(e,t.snowflakeCount||150,t),this.play()}updateConfig(e){this.config={...this.config,...e};const t=this.config.snowflakeCount-this.snowflakes.length;t>0&&(this.snowflakes=[...this.snowflakes,...Tf.createSnowflakes(this.canvas,t,e)]),t<0&&(this.snowflakes=this.snowflakes.slice(0,this.config.snowflakeCount));for(const r of this.snowflakes)r.updateConfig(this.config)}render(e=1){const{ctx:t,canvas:r,snowflakes:i}=this;if(!t||!r)return;const{offsetWidth:a,offsetHeight:o}=r;for(const c of i)c.update(a,o,e);if(t.setTransform(1,0,0,1,0,0),t.clearRect(0,0,a,o),this.config.images&&this.config.images.length>0){for(const c of i)c.drawImage(t);return}if(this.config.enable3DRotation)for(const c of i)c.drawCircle3D(t,this.config.color);else{t.beginPath();for(const c of i)c.drawCircle(t);t.fillStyle=this.config.color,t.fill()}}loop(){const e=Date.now(),t=Date.now()-this.lastUpdate;this.lastUpdate=e;const r=t/VM;this.render(r),this.animationFrame=requestAnimationFrame(()=>this.loop())}play(){this.loop()}pause(){this.animationFrame&&(cancelAnimationFrame(this.animationFrame),this.animationFrame=void 0)}}Hm=new WeakMap,Gm=new WeakMap;const qM=n=>{const[e,t]=Q.useState(R3(n.current)),r=Q.useCallback(()=>{n.current&&t(R3(n.current))},[n]);return Q.useEffect(()=>{const{ResizeObserver:i}=window;if(n.current)if(r(),typeof i=="function"){const a=new i(r);return a.observe(n.current),()=>a.disconnect()}else return window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)},[n,r]),e},HM=n=>Q.useMemo(()=>({...UM,...n||{}}),[n]);function GM(n,e){const t=Q.useRef(e);return F1(e,t.current)||(t.current=e),Q.useEffect(n,t.current)}function WM(n){const[e,t]=Q.useState(n);return GM(()=>t(n),[n]),e}const YM=({color:n=Nc.color,changeFrequency:e=Nc.changeFrequency,radius:t=Nc.radius,speed:r=Nc.speed,wind:i=Nc.wind,rotationSpeed:a=Nc.rotationSpeed,opacity:o=Nc.opacity,snowflakeCount:c=150,images:u,enable3DRotation:h=Nc.enable3DRotation,style:m}={})=>{const g=HM(m),_=Q.useRef(null),v=qM(_),b=WM({color:n,changeFrequency:e,radius:t,speed:r,wind:i,rotationSpeed:a,images:u,snowflakeCount:c,opacity:o,enable3DRotation:h}),w=Q.useRef(b),T=Q.useRef();return Q.useEffect(()=>(!T.current&&_.current&&(T.current=new zM(_.current,w.current)),()=>{var N;(N=T.current)===null||N===void 0||N.pause(),T.current=void 0}),[]),Q.useEffect(()=>{T.current&&T.current.updateConfig(b)},[b]),Th.createElement("canvas",{ref:_,height:v.height,width:v.width,style:g,"data-testid":"SnowfallCanvas"})},D3="orbitx-snow-holiday-shown";function $M(){const n=new Date,e=n.getMonth(),t=n.getDate();return e===11&&t>=20||e===0&&t<=5}const q6=Q.createContext(null);function KM(){const n=Q.useContext(q6);if(!n)throw new Error("useSnowfall must be used within a SnowfallProvider");return n}function XM({children:n}){const[e,t]=Q.useState(!1);Q.useEffect(()=>{$M()&&(sessionStorage.getItem(D3)||(t(!0),sessionStorage.setItem(D3,"true"),setTimeout(()=>{t(!1)},1e4)))},[]),Q.useEffect(()=>{let a=0,o=0,c=0,u=15,h=0,m=0;const g=_=>{const v=_.accelerationIncludingGravity;if(!v)return;const b=v.x||0,w=v.y||0,T=v.z||0,N=Math.abs(b-a),P=Math.abs(w-o),R=Math.abs(T-c),j=Date.now();(N>u||P>u||R>u)&&j-m>100&&(h++,m=j,h>=3&&(t(!0),h=0)),j-m>2e3&&(h=0),a=b,o=w,c=T};return typeof DeviceMotionEvent<"u"&&window.addEventListener("devicemotion",g),()=>{window.removeEventListener("devicemotion",g)}},[]);const r=Q.useCallback(()=>{t(a=>!a)},[]),i=Q.useCallback(()=>{t(!0)},[]);return f.jsxs(q6.Provider,{value:{isSnowing:e,toggleSnow:r,triggerSnow:i},children:[n,e&&f.jsx(YM,{snowflakeCount:150,style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",zIndex:9999,pointerEvents:"none"}})]})}const JM=()=>{};var L3={};const H6=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},QM=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=n[t++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=n[t++],o=n[t++],c=n[t++],u=((i&7)<<18|(a&63)<<12|(o&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const a=n[t++],o=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|o&63)}}return e.join("")},G6={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const a=n[i],o=i+1<n.length,c=o?n[i+1]:0,u=i+2<n.length,h=u?n[i+2]:0,m=a>>2,g=(a&3)<<4|c>>4;let _=(c&15)<<2|h>>6,v=h&63;u||(v=64,o||(_=64)),r.push(t[m],t[g],t[_],t[v])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(H6(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):QM(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const a=t[n.charAt(i++)],c=i<n.length?t[n.charAt(i)]:0;++i;const h=i<n.length?t[n.charAt(i)]:64;++i;const g=i<n.length?t[n.charAt(i)]:64;if(++i,a==null||c==null||h==null||g==null)throw new ZM;const _=a<<2|c>>4;if(r.push(_),h!==64){const v=c<<4&240|h>>2;if(r.push(v),g!==64){const b=h<<6&192|g;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class ZM extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const eP=function(n){const e=H6(n);return G6.encodeByteArray(e,!0)},r2=function(n){return eP(n).replace(/\./g,"")},W6=function(n){try{return G6.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function tP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const nP=()=>tP().__FIREBASE_DEFAULTS__,rP=()=>{if(typeof process>"u"||typeof L3>"u")return;const n=L3.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},iP=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&W6(n[1]);return e&&JSON.parse(e)},$2=()=>{try{return JM()||nP()||rP()||iP()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Y6=n=>$2()?.emulatorHosts?.[n],$6=n=>{const e=Y6(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},K6=()=>$2()?.config,X6=n=>$2()?.[`_${n}`];class aP{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}function $h(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function H5(n){return(await fetch(n,{credentials:"include"})).ok}function J6(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...n};return[r2(JSON.stringify(t)),r2(JSON.stringify(o)),""].join(".")}const Jm={};function sP(){const n={prod:[],emulator:[]};for(const e of Object.keys(Jm))Jm[e]?n.emulator.push(e):n.prod.push(e);return n}function oP(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let j3=!1;function G5(n,e){if(typeof window>"u"||typeof document>"u"||!$h(window.location.host)||Jm[n]===e||Jm[n]||j3)return;Jm[n]=e;function t(_){return`__firebase__banner__${_}`}const r="__firebase__banner",a=sP().prod.length>0;function o(){const _=document.getElementById(r);_&&_.remove()}function c(_){_.style.display="flex",_.style.background="#7faaf0",_.style.position="fixed",_.style.bottom="5px",_.style.left="5px",_.style.padding=".5em",_.style.borderRadius="5px",_.style.alignItems="center"}function u(_,v){_.setAttribute("width","24"),_.setAttribute("id",v),_.setAttribute("height","24"),_.setAttribute("viewBox","0 0 24 24"),_.setAttribute("fill","none"),_.style.marginLeft="-6px"}function h(){const _=document.createElement("span");return _.style.cursor="pointer",_.style.marginLeft="16px",_.style.fontSize="24px",_.innerHTML=" &times;",_.onclick=()=>{j3=!0,o()},_}function m(_,v){_.setAttribute("id",v),_.innerText="Learn more",_.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",_.setAttribute("target","__blank"),_.style.paddingLeft="5px",_.style.textDecoration="underline"}function g(){const _=oP(r),v=t("text"),b=document.getElementById(v)||document.createElement("span"),w=t("learnmore"),T=document.getElementById(w)||document.createElement("a"),N=t("preprendIcon"),P=document.getElementById(N)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(_.created){const R=_.element;c(R),m(T,w);const j=h();u(P,N),R.append(P,b,T,j),document.body.appendChild(R)}a?(b.innerText="Preview backend disconnected.",P.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(P.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,b.innerText="Preview backend running in this workspace."),b.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}function As(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function lP(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(As())}function cP(){const n=$2()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function uP(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function hP(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function fP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function dP(){const n=As();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function mP(){return!cP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function pP(){try{return typeof indexedDB=="object"}catch{return!1}}function gP(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(t){e(t)}})}const vP="FirebaseError";class qc extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=vP,Object.setPrototypeOf(this,qc.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Pp.prototype.create)}}class Pp{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,a=this.errors[e],o=a?_P(a,r):"Error",c=`${this.serviceName}: ${o} (${i}).`;return new qc(i,c,r)}}function _P(n,e){return n.replace(yP,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const yP=/\{\$([^}]+)}/g;function xP(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Iu(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const a=n[i],o=e[i];if(M3(a)&&M3(o)){if(!Iu(a,o))return!1}else if(a!==o)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function M3(n){return n!==null&&typeof n=="object"}function Fp(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function wP(n,e){const t=new bP(n,e);return t.subscribe.bind(t)}class bP{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");EP(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=oy),i.error===void 0&&(i.error=oy),i.complete===void 0&&(i.complete=oy);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function EP(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function oy(){}function si(n){return n&&n._delegate?n._delegate:n}class Ph{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const _f="[DEFAULT]";class SP{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new aP;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(AP(e))try{this.getOrInitializeService({instanceIdentifier:_f})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=_f){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=_f){return this.instances.has(e)}getOptions(e=_f){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,o]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(a);r===c&&o.resolve(i)}return i}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:TP(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=_f){return this.component?this.component.multipleInstances?e:_f:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function TP(n){return n===_f?void 0:n}function AP(n){return n.instantiationMode==="EAGER"}class NP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new SP(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var Xn;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Xn||(Xn={}));const CP={debug:Xn.DEBUG,verbose:Xn.VERBOSE,info:Xn.INFO,warn:Xn.WARN,error:Xn.ERROR,silent:Xn.SILENT},IP=Xn.INFO,RP={[Xn.DEBUG]:"log",[Xn.VERBOSE]:"log",[Xn.INFO]:"info",[Xn.WARN]:"warn",[Xn.ERROR]:"error"},kP=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=RP[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class W5{constructor(e){this.name=e,this._logLevel=IP,this._logHandler=kP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Xn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?CP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Xn.DEBUG,...e),this._logHandler(this,Xn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Xn.VERBOSE,...e),this._logHandler(this,Xn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Xn.INFO,...e),this._logHandler(this,Xn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Xn.WARN,...e),this._logHandler(this,Xn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Xn.ERROR,...e),this._logHandler(this,Xn.ERROR,...e)}}const OP=(n,e)=>e.some(t=>n instanceof t);let P3,F3;function DP(){return P3||(P3=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function LP(){return F3||(F3=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Q6=new WeakMap,Rx=new WeakMap,Z6=new WeakMap,ly=new WeakMap,Y5=new WeakMap;function jP(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",a),n.removeEventListener("error",o)},a=()=>{t(Oh(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",a),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&Q6.set(t,n)}).catch(()=>{}),Y5.set(e,n),e}function MP(n){if(Rx.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",o),n.removeEventListener("abort",o)},a=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",a),n.addEventListener("error",o),n.addEventListener("abort",o)});Rx.set(n,e)}let kx={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Rx.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Z6.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Oh(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function PP(n){kx=n(kx)}function FP(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(cy(this),e,...t);return Z6.set(r,e.sort?e.sort():[e]),Oh(r)}:LP().includes(n)?function(...e){return n.apply(cy(this),e),Oh(Q6.get(this))}:function(...e){return Oh(n.apply(cy(this),e))}}function BP(n){return typeof n=="function"?FP(n):(n instanceof IDBTransaction&&MP(n),OP(n,DP())?new Proxy(n,kx):n)}function Oh(n){if(n instanceof IDBRequest)return jP(n);if(ly.has(n))return ly.get(n);const e=BP(n);return e!==n&&(ly.set(n,e),Y5.set(e,n)),e}const cy=n=>Y5.get(n);function UP(n,e,{blocked:t,upgrade:r,blocking:i,terminated:a}={}){const o=indexedDB.open(n,e),c=Oh(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Oh(o.result),u.oldVersion,u.newVersion,Oh(o.transaction),u)}),t&&o.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),c.then(u=>{a&&u.addEventListener("close",()=>a()),i&&u.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),c}const VP=["get","getKey","getAll","getAllKeys","count"],zP=["put","add","delete","clear"],uy=new Map;function B3(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(uy.get(e))return uy.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=zP.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||VP.includes(t)))return;const a=async function(o,...c){const u=this.transaction(o,i?"readwrite":"readonly");let h=u.store;return r&&(h=h.index(c.shift())),(await Promise.all([h[t](...c),i&&u.done]))[0]};return uy.set(e,a),a}PP(n=>({...n,get:(e,t,r)=>B3(e,t)||n.get(e,t,r),has:(e,t)=>!!B3(e,t)||n.has(e,t)}));class qP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(HP(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function HP(n){return n.getComponent()?.type==="VERSION"}const Ox="@firebase/app",U3="0.14.6";const Ru=new W5("@firebase/app"),GP="@firebase/app-compat",WP="@firebase/analytics-compat",YP="@firebase/analytics",$P="@firebase/app-check-compat",KP="@firebase/app-check",XP="@firebase/auth",JP="@firebase/auth-compat",QP="@firebase/database",ZP="@firebase/data-connect",e9="@firebase/database-compat",t9="@firebase/functions",n9="@firebase/functions-compat",r9="@firebase/installations",i9="@firebase/installations-compat",a9="@firebase/messaging",s9="@firebase/messaging-compat",o9="@firebase/performance",l9="@firebase/performance-compat",c9="@firebase/remote-config",u9="@firebase/remote-config-compat",h9="@firebase/storage",f9="@firebase/storage-compat",d9="@firebase/firestore",m9="@firebase/ai",p9="@firebase/firestore-compat",g9="firebase",v9="12.6.0";const Dx="[DEFAULT]",_9={[Ox]:"fire-core",[GP]:"fire-core-compat",[YP]:"fire-analytics",[WP]:"fire-analytics-compat",[KP]:"fire-app-check",[$P]:"fire-app-check-compat",[XP]:"fire-auth",[JP]:"fire-auth-compat",[QP]:"fire-rtdb",[ZP]:"fire-data-connect",[e9]:"fire-rtdb-compat",[t9]:"fire-fn",[n9]:"fire-fn-compat",[r9]:"fire-iid",[i9]:"fire-iid-compat",[a9]:"fire-fcm",[s9]:"fire-fcm-compat",[o9]:"fire-perf",[l9]:"fire-perf-compat",[c9]:"fire-rc",[u9]:"fire-rc-compat",[h9]:"fire-gcs",[f9]:"fire-gcs-compat",[d9]:"fire-fst",[p9]:"fire-fst-compat",[m9]:"fire-vertex","fire-js":"fire-js",[g9]:"fire-js-all"};const gp=new Map,y9=new Map,Lx=new Map;function V3(n,e){try{n.container.addComponent(e)}catch(t){Ru.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function kf(n){const e=n.name;if(Lx.has(e))return Ru.debug(`There were multiple attempts to register component ${e}.`),!1;Lx.set(e,n);for(const t of gp.values())V3(t,n);for(const t of y9.values())V3(t,n);return!0}function K2(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function pl(n){return n==null?!1:n.settings!==void 0}const x9={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Dh=new Pp("app","Firebase",x9);class w9{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ph("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Dh.create("app-deleted",{appName:this._name})}}const Hf=v9;function eC(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:Dx,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Dh.create("bad-app-name",{appName:String(i)});if(t||(t=K6()),!t)throw Dh.create("no-options");const a=gp.get(i);if(a){if(Iu(t,a.options)&&Iu(r,a.config))return a;throw Dh.create("duplicate-app",{appName:i})}const o=new NP(i);for(const u of Lx.values())o.addComponent(u);const c=new w9(t,r,o);return gp.set(i,c),c}function X2(n=Dx){const e=gp.get(n);if(!e&&n===Dx&&K6())return eC();if(!e)throw Dh.create("no-app",{appName:n});return e}function b9(){return Array.from(gp.values())}function kc(n,e,t){let r=_9[n]??n;t&&(r+=`-${t}`);const i=r.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const o=[`Unable to register library "${r}" with version "${e}":`];i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&o.push("and"),a&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ru.warn(o.join(" "));return}kf(new Ph(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const E9="firebase-heartbeat-database",S9=1,vp="firebase-heartbeat-store";let hy=null;function tC(){return hy||(hy=UP(E9,S9,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(vp)}catch(t){console.warn(t)}}}}).catch(n=>{throw Dh.create("idb-open",{originalErrorMessage:n.message})})),hy}async function T9(n){try{const t=(await tC()).transaction(vp),r=await t.objectStore(vp).get(nC(n));return await t.done,r}catch(e){if(e instanceof qc)Ru.warn(e.message);else{const t=Dh.create("idb-get",{originalErrorMessage:e?.message});Ru.warn(t.message)}}}async function z3(n,e){try{const r=(await tC()).transaction(vp,"readwrite");await r.objectStore(vp).put(e,nC(n)),await r.done}catch(t){if(t instanceof qc)Ru.warn(t.message);else{const r=Dh.create("idb-set",{originalErrorMessage:t?.message});Ru.warn(r.message)}}}function nC(n){return`${n.name}!${n.options.appId}`}const A9=1024,N9=30;class C9{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new R9(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=q3();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>N9){const i=k9(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ru.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=q3(),{heartbeatsToSend:t,unsentEntries:r}=I9(this._heartbeatsCache.heartbeats),i=r2(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return Ru.warn(e),""}}}function q3(){return new Date().toISOString().substring(0,10)}function I9(n,e=A9){const t=[];let r=n.slice();for(const i of n){const a=t.find(o=>o.agent===i.agent);if(a){if(a.dates.push(i.date),H3(t)>e){a.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),H3(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class R9{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return pP()?gP().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await T9(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return z3(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return z3(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function H3(n){return r2(JSON.stringify({version:2,heartbeats:n})).length}function k9(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function O9(n){kf(new Ph("platform-logger",e=>new qP(e),"PRIVATE")),kf(new Ph("heartbeat",e=>new C9(e),"PRIVATE")),kc(Ox,U3,n),kc(Ox,U3,"esm2020"),kc("fire-js","")}O9("");var G3=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Lh,rC;(function(){var n;function e(C,k){function I(){}I.prototype=k.prototype,C.F=k.prototype,C.prototype=new I,C.prototype.constructor=C,C.D=function(z,O,M){for(var B=Array(arguments.length-2),Y=2;Y<arguments.length;Y++)B[Y-2]=arguments[Y];return k.prototype[O].apply(z,B)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(C,k,I){I||(I=0);const z=Array(16);if(typeof k=="string")for(var O=0;O<16;++O)z[O]=k.charCodeAt(I++)|k.charCodeAt(I++)<<8|k.charCodeAt(I++)<<16|k.charCodeAt(I++)<<24;else for(O=0;O<16;++O)z[O]=k[I++]|k[I++]<<8|k[I++]<<16|k[I++]<<24;k=C.g[0],I=C.g[1],O=C.g[2];let M=C.g[3],B;B=k+(M^I&(O^M))+z[0]+3614090360&4294967295,k=I+(B<<7&4294967295|B>>>25),B=M+(O^k&(I^O))+z[1]+3905402710&4294967295,M=k+(B<<12&4294967295|B>>>20),B=O+(I^M&(k^I))+z[2]+606105819&4294967295,O=M+(B<<17&4294967295|B>>>15),B=I+(k^O&(M^k))+z[3]+3250441966&4294967295,I=O+(B<<22&4294967295|B>>>10),B=k+(M^I&(O^M))+z[4]+4118548399&4294967295,k=I+(B<<7&4294967295|B>>>25),B=M+(O^k&(I^O))+z[5]+1200080426&4294967295,M=k+(B<<12&4294967295|B>>>20),B=O+(I^M&(k^I))+z[6]+2821735955&4294967295,O=M+(B<<17&4294967295|B>>>15),B=I+(k^O&(M^k))+z[7]+4249261313&4294967295,I=O+(B<<22&4294967295|B>>>10),B=k+(M^I&(O^M))+z[8]+1770035416&4294967295,k=I+(B<<7&4294967295|B>>>25),B=M+(O^k&(I^O))+z[9]+2336552879&4294967295,M=k+(B<<12&4294967295|B>>>20),B=O+(I^M&(k^I))+z[10]+4294925233&4294967295,O=M+(B<<17&4294967295|B>>>15),B=I+(k^O&(M^k))+z[11]+2304563134&4294967295,I=O+(B<<22&4294967295|B>>>10),B=k+(M^I&(O^M))+z[12]+1804603682&4294967295,k=I+(B<<7&4294967295|B>>>25),B=M+(O^k&(I^O))+z[13]+4254626195&4294967295,M=k+(B<<12&4294967295|B>>>20),B=O+(I^M&(k^I))+z[14]+2792965006&4294967295,O=M+(B<<17&4294967295|B>>>15),B=I+(k^O&(M^k))+z[15]+1236535329&4294967295,I=O+(B<<22&4294967295|B>>>10),B=k+(O^M&(I^O))+z[1]+4129170786&4294967295,k=I+(B<<5&4294967295|B>>>27),B=M+(I^O&(k^I))+z[6]+3225465664&4294967295,M=k+(B<<9&4294967295|B>>>23),B=O+(k^I&(M^k))+z[11]+643717713&4294967295,O=M+(B<<14&4294967295|B>>>18),B=I+(M^k&(O^M))+z[0]+3921069994&4294967295,I=O+(B<<20&4294967295|B>>>12),B=k+(O^M&(I^O))+z[5]+3593408605&4294967295,k=I+(B<<5&4294967295|B>>>27),B=M+(I^O&(k^I))+z[10]+38016083&4294967295,M=k+(B<<9&4294967295|B>>>23),B=O+(k^I&(M^k))+z[15]+3634488961&4294967295,O=M+(B<<14&4294967295|B>>>18),B=I+(M^k&(O^M))+z[4]+3889429448&4294967295,I=O+(B<<20&4294967295|B>>>12),B=k+(O^M&(I^O))+z[9]+568446438&4294967295,k=I+(B<<5&4294967295|B>>>27),B=M+(I^O&(k^I))+z[14]+3275163606&4294967295,M=k+(B<<9&4294967295|B>>>23),B=O+(k^I&(M^k))+z[3]+4107603335&4294967295,O=M+(B<<14&4294967295|B>>>18),B=I+(M^k&(O^M))+z[8]+1163531501&4294967295,I=O+(B<<20&4294967295|B>>>12),B=k+(O^M&(I^O))+z[13]+2850285829&4294967295,k=I+(B<<5&4294967295|B>>>27),B=M+(I^O&(k^I))+z[2]+4243563512&4294967295,M=k+(B<<9&4294967295|B>>>23),B=O+(k^I&(M^k))+z[7]+1735328473&4294967295,O=M+(B<<14&4294967295|B>>>18),B=I+(M^k&(O^M))+z[12]+2368359562&4294967295,I=O+(B<<20&4294967295|B>>>12),B=k+(I^O^M)+z[5]+4294588738&4294967295,k=I+(B<<4&4294967295|B>>>28),B=M+(k^I^O)+z[8]+2272392833&4294967295,M=k+(B<<11&4294967295|B>>>21),B=O+(M^k^I)+z[11]+1839030562&4294967295,O=M+(B<<16&4294967295|B>>>16),B=I+(O^M^k)+z[14]+4259657740&4294967295,I=O+(B<<23&4294967295|B>>>9),B=k+(I^O^M)+z[1]+2763975236&4294967295,k=I+(B<<4&4294967295|B>>>28),B=M+(k^I^O)+z[4]+1272893353&4294967295,M=k+(B<<11&4294967295|B>>>21),B=O+(M^k^I)+z[7]+4139469664&4294967295,O=M+(B<<16&4294967295|B>>>16),B=I+(O^M^k)+z[10]+3200236656&4294967295,I=O+(B<<23&4294967295|B>>>9),B=k+(I^O^M)+z[13]+681279174&4294967295,k=I+(B<<4&4294967295|B>>>28),B=M+(k^I^O)+z[0]+3936430074&4294967295,M=k+(B<<11&4294967295|B>>>21),B=O+(M^k^I)+z[3]+3572445317&4294967295,O=M+(B<<16&4294967295|B>>>16),B=I+(O^M^k)+z[6]+76029189&4294967295,I=O+(B<<23&4294967295|B>>>9),B=k+(I^O^M)+z[9]+3654602809&4294967295,k=I+(B<<4&4294967295|B>>>28),B=M+(k^I^O)+z[12]+3873151461&4294967295,M=k+(B<<11&4294967295|B>>>21),B=O+(M^k^I)+z[15]+530742520&4294967295,O=M+(B<<16&4294967295|B>>>16),B=I+(O^M^k)+z[2]+3299628645&4294967295,I=O+(B<<23&4294967295|B>>>9),B=k+(O^(I|~M))+z[0]+4096336452&4294967295,k=I+(B<<6&4294967295|B>>>26),B=M+(I^(k|~O))+z[7]+1126891415&4294967295,M=k+(B<<10&4294967295|B>>>22),B=O+(k^(M|~I))+z[14]+2878612391&4294967295,O=M+(B<<15&4294967295|B>>>17),B=I+(M^(O|~k))+z[5]+4237533241&4294967295,I=O+(B<<21&4294967295|B>>>11),B=k+(O^(I|~M))+z[12]+1700485571&4294967295,k=I+(B<<6&4294967295|B>>>26),B=M+(I^(k|~O))+z[3]+2399980690&4294967295,M=k+(B<<10&4294967295|B>>>22),B=O+(k^(M|~I))+z[10]+4293915773&4294967295,O=M+(B<<15&4294967295|B>>>17),B=I+(M^(O|~k))+z[1]+2240044497&4294967295,I=O+(B<<21&4294967295|B>>>11),B=k+(O^(I|~M))+z[8]+1873313359&4294967295,k=I+(B<<6&4294967295|B>>>26),B=M+(I^(k|~O))+z[15]+4264355552&4294967295,M=k+(B<<10&4294967295|B>>>22),B=O+(k^(M|~I))+z[6]+2734768916&4294967295,O=M+(B<<15&4294967295|B>>>17),B=I+(M^(O|~k))+z[13]+1309151649&4294967295,I=O+(B<<21&4294967295|B>>>11),B=k+(O^(I|~M))+z[4]+4149444226&4294967295,k=I+(B<<6&4294967295|B>>>26),B=M+(I^(k|~O))+z[11]+3174756917&4294967295,M=k+(B<<10&4294967295|B>>>22),B=O+(k^(M|~I))+z[2]+718787259&4294967295,O=M+(B<<15&4294967295|B>>>17),B=I+(M^(O|~k))+z[9]+3951481745&4294967295,C.g[0]=C.g[0]+k&4294967295,C.g[1]=C.g[1]+(O+(B<<21&4294967295|B>>>11))&4294967295,C.g[2]=C.g[2]+O&4294967295,C.g[3]=C.g[3]+M&4294967295}r.prototype.v=function(C,k){k===void 0&&(k=C.length);const I=k-this.blockSize,z=this.C;let O=this.h,M=0;for(;M<k;){if(O==0)for(;M<=I;)i(this,C,M),M+=this.blockSize;if(typeof C=="string"){for(;M<k;)if(z[O++]=C.charCodeAt(M++),O==this.blockSize){i(this,z),O=0;break}}else for(;M<k;)if(z[O++]=C[M++],O==this.blockSize){i(this,z),O=0;break}}this.h=O,this.o+=k},r.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var k=1;k<C.length-8;++k)C[k]=0;k=this.o*8;for(var I=C.length-8;I<C.length;++I)C[I]=k&255,k/=256;for(this.v(C),C=Array(16),k=0,I=0;I<4;++I)for(let z=0;z<32;z+=8)C[k++]=this.g[I]>>>z&255;return C};function a(C,k){var I=c;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=k(C)}function o(C,k){this.h=k;const I=[];let z=!0;for(let O=C.length-1;O>=0;O--){const M=C[O]|0;z&&M==k||(I[O]=M,z=!1)}this.g=I}var c={};function u(C){return-128<=C&&C<128?a(C,function(k){return new o([k|0],k<0?-1:0)}):new o([C|0],C<0?-1:0)}function h(C){if(isNaN(C)||!isFinite(C))return g;if(C<0)return T(h(-C));const k=[];let I=1;for(let z=0;C>=I;z++)k[z]=C/I|0,I*=4294967296;return new o(k,0)}function m(C,k){if(C.length==0)throw Error("number format error: empty string");if(k=k||10,k<2||36<k)throw Error("radix out of range: "+k);if(C.charAt(0)=="-")return T(m(C.substring(1),k));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=h(Math.pow(k,8));let z=g;for(let M=0;M<C.length;M+=8){var O=Math.min(8,C.length-M);const B=parseInt(C.substring(M,M+O),k);O<8?(O=h(Math.pow(k,O)),z=z.j(O).add(h(B))):(z=z.j(I),z=z.add(h(B)))}return z}var g=u(0),_=u(1),v=u(16777216);n=o.prototype,n.m=function(){if(w(this))return-T(this).m();let C=0,k=1;for(let I=0;I<this.g.length;I++){const z=this.i(I);C+=(z>=0?z:4294967296+z)*k,k*=4294967296}return C},n.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(b(this))return"0";if(w(this))return"-"+T(this).toString(C);const k=h(Math.pow(C,6));var I=this;let z="";for(;;){const O=j(I,k).g;I=N(I,O.j(k));let M=((I.g.length>0?I.g[0]:I.h)>>>0).toString(C);if(I=O,b(I))return M+z;for(;M.length<6;)M="0"+M;z=M+z}},n.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function b(C){if(C.h!=0)return!1;for(let k=0;k<C.g.length;k++)if(C.g[k]!=0)return!1;return!0}function w(C){return C.h==-1}n.l=function(C){return C=N(this,C),w(C)?-1:b(C)?0:1};function T(C){const k=C.g.length,I=[];for(let z=0;z<k;z++)I[z]=~C.g[z];return new o(I,~C.h).add(_)}n.abs=function(){return w(this)?T(this):this},n.add=function(C){const k=Math.max(this.g.length,C.g.length),I=[];let z=0;for(let O=0;O<=k;O++){let M=z+(this.i(O)&65535)+(C.i(O)&65535),B=(M>>>16)+(this.i(O)>>>16)+(C.i(O)>>>16);z=B>>>16,M&=65535,B&=65535,I[O]=B<<16|M}return new o(I,I[I.length-1]&-2147483648?-1:0)};function N(C,k){return C.add(T(k))}n.j=function(C){if(b(this)||b(C))return g;if(w(this))return w(C)?T(this).j(T(C)):T(T(this).j(C));if(w(C))return T(this.j(T(C)));if(this.l(v)<0&&C.l(v)<0)return h(this.m()*C.m());const k=this.g.length+C.g.length,I=[];for(var z=0;z<2*k;z++)I[z]=0;for(z=0;z<this.g.length;z++)for(let O=0;O<C.g.length;O++){const M=this.i(z)>>>16,B=this.i(z)&65535,Y=C.i(O)>>>16,we=C.i(O)&65535;I[2*z+2*O]+=B*we,P(I,2*z+2*O),I[2*z+2*O+1]+=M*we,P(I,2*z+2*O+1),I[2*z+2*O+1]+=B*Y,P(I,2*z+2*O+1),I[2*z+2*O+2]+=M*Y,P(I,2*z+2*O+2)}for(C=0;C<k;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=k;C<2*k;C++)I[C]=0;return new o(I,0)};function P(C,k){for(;(C[k]&65535)!=C[k];)C[k+1]+=C[k]>>>16,C[k]&=65535,k++}function R(C,k){this.g=C,this.h=k}function j(C,k){if(b(k))throw Error("division by zero");if(b(C))return new R(g,g);if(w(C))return k=j(T(C),k),new R(T(k.g),T(k.h));if(w(k))return k=j(C,T(k)),new R(T(k.g),k.h);if(C.g.length>30){if(w(C)||w(k))throw Error("slowDivide_ only works with positive integers.");for(var I=_,z=k;z.l(C)<=0;)I=K(I),z=K(z);var O=U(I,1),M=U(z,1);for(z=U(z,2),I=U(I,2);!b(z);){var B=M.add(z);B.l(C)<=0&&(O=O.add(I),M=B),z=U(z,1),I=U(I,1)}return k=N(C,O.j(k)),new R(O,k)}for(O=g;C.l(k)>=0;){for(I=Math.max(1,Math.floor(C.m()/k.m())),z=Math.ceil(Math.log(I)/Math.LN2),z=z<=48?1:Math.pow(2,z-48),M=h(I),B=M.j(k);w(B)||B.l(C)>0;)I-=z,M=h(I),B=M.j(k);b(M)&&(M=_),O=O.add(M),C=N(C,B)}return new R(O,C)}n.B=function(C){return j(this,C).h},n.and=function(C){const k=Math.max(this.g.length,C.g.length),I=[];for(let z=0;z<k;z++)I[z]=this.i(z)&C.i(z);return new o(I,this.h&C.h)},n.or=function(C){const k=Math.max(this.g.length,C.g.length),I=[];for(let z=0;z<k;z++)I[z]=this.i(z)|C.i(z);return new o(I,this.h|C.h)},n.xor=function(C){const k=Math.max(this.g.length,C.g.length),I=[];for(let z=0;z<k;z++)I[z]=this.i(z)^C.i(z);return new o(I,this.h^C.h)};function K(C){const k=C.g.length+1,I=[];for(let z=0;z<k;z++)I[z]=C.i(z)<<1|C.i(z-1)>>>31;return new o(I,C.h)}function U(C,k){const I=k>>5;k%=32;const z=C.g.length-I,O=[];for(let M=0;M<z;M++)O[M]=k>0?C.i(M+I)>>>k|C.i(M+I+1)<<32-k:C.i(M+I);return new o(O,C.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,rC=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=h,o.fromString=m,Lh=o}).apply(typeof G3<"u"?G3:typeof self<"u"?self:typeof window<"u"?window:{});var a1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var iC,Wm,aC,B1,jx,sC,oC,lC;(function(){var n,e=Object.defineProperty;function t(x){x=[typeof globalThis=="object"&&globalThis,x,typeof window=="object"&&window,typeof self=="object"&&self,typeof a1=="object"&&a1];for(var V=0;V<x.length;++V){var X=x[V];if(X&&X.Math==Math)return X}throw Error("Cannot find global object")}var r=t(this);function i(x,V){if(V)e:{var X=r;x=x.split(".");for(var he=0;he<x.length-1;he++){var Ue=x[he];if(!(Ue in X))break e;X=X[Ue]}x=x[x.length-1],he=X[x],V=V(he),V!=he&&V!=null&&e(X,x,{configurable:!0,writable:!0,value:V})}}i("Symbol.dispose",function(x){return x||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(x){return x||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(x){return x||function(V){var X=[],he;for(he in V)Object.prototype.hasOwnProperty.call(V,he)&&X.push([he,V[he]]);return X}});var a=a||{},o=this||self;function c(x){var V=typeof x;return V=="object"&&x!=null||V=="function"}function u(x,V,X){return x.call.apply(x.bind,arguments)}function h(x,V,X){return h=u,h.apply(null,arguments)}function m(x,V){var X=Array.prototype.slice.call(arguments,1);return function(){var he=X.slice();return he.push.apply(he,arguments),x.apply(this,he)}}function g(x,V){function X(){}X.prototype=V.prototype,x.Z=V.prototype,x.prototype=new X,x.prototype.constructor=x,x.Ob=function(he,Ue,Xe){for(var Ot=Array(arguments.length-2),Tn=2;Tn<arguments.length;Tn++)Ot[Tn-2]=arguments[Tn];return V.prototype[Ue].apply(he,Ot)}}var _=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?x=>x&&AsyncContext.Snapshot.wrap(x):x=>x;function v(x){const V=x.length;if(V>0){const X=Array(V);for(let he=0;he<V;he++)X[he]=x[he];return X}return[]}function b(x,V){for(let he=1;he<arguments.length;he++){const Ue=arguments[he];var X=typeof Ue;if(X=X!="object"?X:Ue?Array.isArray(Ue)?"array":X:"null",X=="array"||X=="object"&&typeof Ue.length=="number"){X=x.length||0;const Xe=Ue.length||0;x.length=X+Xe;for(let Ot=0;Ot<Xe;Ot++)x[X+Ot]=Ue[Ot]}else x.push(Ue)}}class w{constructor(V,X){this.i=V,this.j=X,this.h=0,this.g=null}get(){let V;return this.h>0?(this.h--,V=this.g,this.g=V.next,V.next=null):V=this.i(),V}}function T(x){o.setTimeout(()=>{throw x},0)}function N(){var x=C;let V=null;return x.g&&(V=x.g,x.g=x.g.next,x.g||(x.h=null),V.next=null),V}class P{constructor(){this.h=this.g=null}add(V,X){const he=R.get();he.set(V,X),this.h?this.h.next=he:this.g=he,this.h=he}}var R=new w(()=>new j,x=>x.reset());class j{constructor(){this.next=this.g=this.h=null}set(V,X){this.h=V,this.g=X,this.next=null}reset(){this.next=this.g=this.h=null}}let K,U=!1,C=new P,k=()=>{const x=Promise.resolve(void 0);K=()=>{x.then(I)}};function I(){for(var x;x=N();){try{x.h.call(x.g)}catch(X){T(X)}var V=R;V.j(x),V.h<100&&(V.h++,x.next=V.g,V.g=x)}U=!1}function z(){this.u=this.u,this.C=this.C}z.prototype.u=!1,z.prototype.dispose=function(){this.u||(this.u=!0,this.N())},z.prototype[Symbol.dispose]=function(){this.dispose()},z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(x,V){this.type=x,this.g=this.target=V,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var M=(function(){if(!o.addEventListener||!Object.defineProperty)return!1;var x=!1,V=Object.defineProperty({},"passive",{get:function(){x=!0}});try{const X=()=>{};o.addEventListener("test",X,V),o.removeEventListener("test",X,V)}catch{}return x})();function B(x){return/^[\s\xa0]*$/.test(x)}function Y(x,V){O.call(this,x?x.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,x&&this.init(x,V)}g(Y,O),Y.prototype.init=function(x,V){const X=this.type=x.type,he=x.changedTouches&&x.changedTouches.length?x.changedTouches[0]:null;this.target=x.target||x.srcElement,this.g=V,V=x.relatedTarget,V||(X=="mouseover"?V=x.fromElement:X=="mouseout"&&(V=x.toElement)),this.relatedTarget=V,he?(this.clientX=he.clientX!==void 0?he.clientX:he.pageX,this.clientY=he.clientY!==void 0?he.clientY:he.pageY,this.screenX=he.screenX||0,this.screenY=he.screenY||0):(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0),this.button=x.button,this.key=x.key||"",this.ctrlKey=x.ctrlKey,this.altKey=x.altKey,this.shiftKey=x.shiftKey,this.metaKey=x.metaKey,this.pointerId=x.pointerId||0,this.pointerType=x.pointerType,this.state=x.state,this.i=x,x.defaultPrevented&&Y.Z.h.call(this)},Y.prototype.h=function(){Y.Z.h.call(this);const x=this.i;x.preventDefault?x.preventDefault():x.returnValue=!1};var we="closure_listenable_"+(Math.random()*1e6|0),fe=0;function le(x,V,X,he,Ue){this.listener=x,this.proxy=null,this.src=V,this.type=X,this.capture=!!he,this.ha=Ue,this.key=++fe,this.da=this.fa=!1}function pe(x){x.da=!0,x.listener=null,x.proxy=null,x.src=null,x.ha=null}function Ie(x,V,X){for(const he in x)V.call(X,x[he],he,x)}function Ae(x,V){for(const X in x)V.call(void 0,x[X],X,x)}function re(x){const V={};for(const X in x)V[X]=x[X];return V}const L="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function G(x,V){let X,he;for(let Ue=1;Ue<arguments.length;Ue++){he=arguments[Ue];for(X in he)x[X]=he[X];for(let Xe=0;Xe<L.length;Xe++)X=L[Xe],Object.prototype.hasOwnProperty.call(he,X)&&(x[X]=he[X])}}function q(x){this.src=x,this.g={},this.h=0}q.prototype.add=function(x,V,X,he,Ue){const Xe=x.toString();x=this.g[Xe],x||(x=this.g[Xe]=[],this.h++);const Ot=ae(x,V,he,Ue);return Ot>-1?(V=x[Ot],X||(V.fa=!1)):(V=new le(V,this.src,Xe,!!he,Ue),V.fa=X,x.push(V)),V};function J(x,V){const X=V.type;if(X in x.g){var he=x.g[X],Ue=Array.prototype.indexOf.call(he,V,void 0),Xe;(Xe=Ue>=0)&&Array.prototype.splice.call(he,Ue,1),Xe&&(pe(V),x.g[X].length==0&&(delete x.g[X],x.h--))}}function ae(x,V,X,he){for(let Ue=0;Ue<x.length;++Ue){const Xe=x[Ue];if(!Xe.da&&Xe.listener==V&&Xe.capture==!!X&&Xe.ha==he)return Ue}return-1}var ge="closure_lm_"+(Math.random()*1e6|0),Te={};function Se(x,V,X,he,Ue){if(Array.isArray(V)){for(let Xe=0;Xe<V.length;Xe++)Se(x,V[Xe],X,he,Ue);return null}return X=It(X),x&&x[we]?x.J(V,X,c(he)?!!he.capture:!1,Ue):Ce(x,V,X,!1,he,Ue)}function Ce(x,V,X,he,Ue,Xe){if(!V)throw Error("Invalid event type");const Ot=c(Ue)?!!Ue.capture:!!Ue;let Tn=Fe(x);if(Tn||(x[ge]=Tn=new q(x)),X=Tn.add(V,X,he,Ot,Xe),X.proxy)return X;if(he=et(),X.proxy=he,he.src=x,he.listener=X,x.addEventListener)M||(Ue=Ot),Ue===void 0&&(Ue=!1),x.addEventListener(V.toString(),he,Ue);else if(x.attachEvent)x.attachEvent(it(V.toString()),he);else if(x.addListener&&x.removeListener)x.addListener(he);else throw Error("addEventListener and attachEvent are unavailable.");return X}function et(){function x(X){return V.call(x.src,x.listener,X)}const V=Z;return x}function ot(x,V,X,he,Ue){if(Array.isArray(V))for(var Xe=0;Xe<V.length;Xe++)ot(x,V[Xe],X,he,Ue);else he=c(he)?!!he.capture:!!he,X=It(X),x&&x[we]?(x=x.i,Xe=String(V).toString(),Xe in x.g&&(V=x.g[Xe],X=ae(V,X,he,Ue),X>-1&&(pe(V[X]),Array.prototype.splice.call(V,X,1),V.length==0&&(delete x.g[Xe],x.h--)))):x&&(x=Fe(x))&&(V=x.g[V.toString()],x=-1,V&&(x=ae(V,X,he,Ue)),(X=x>-1?V[x]:null)&&tt(X))}function tt(x){if(typeof x!="number"&&x&&!x.da){var V=x.src;if(V&&V[we])J(V.i,x);else{var X=x.type,he=x.proxy;V.removeEventListener?V.removeEventListener(X,he,x.capture):V.detachEvent?V.detachEvent(it(X),he):V.addListener&&V.removeListener&&V.removeListener(he),(X=Fe(V))?(J(X,x),X.h==0&&(X.src=null,V[ge]=null)):pe(x)}}}function it(x){return x in Te?Te[x]:Te[x]="on"+x}function Z(x,V){if(x.da)x=!0;else{V=new Y(V,this);const X=x.listener,he=x.ha||x.src;x.fa&&tt(x),x=X.call(he,V)}return x}function Fe(x){return x=x[ge],x instanceof q?x:null}var nt="__closure_events_fn_"+(Math.random()*1e9>>>0);function It(x){return typeof x=="function"?x:(x[nt]||(x[nt]=function(V){return x.handleEvent(V)}),x[nt])}function Qe(){z.call(this),this.i=new q(this),this.M=this,this.G=null}g(Qe,z),Qe.prototype[we]=!0,Qe.prototype.removeEventListener=function(x,V,X,he){ot(this,x,V,X,he)};function At(x,V){var X,he=x.G;if(he)for(X=[];he;he=he.G)X.push(he);if(x=x.M,he=V.type||V,typeof V=="string")V=new O(V,x);else if(V instanceof O)V.target=V.target||x;else{var Ue=V;V=new O(he,x),G(V,Ue)}Ue=!0;let Xe,Ot;if(X)for(Ot=X.length-1;Ot>=0;Ot--)Xe=V.g=X[Ot],Ue=Ke(Xe,he,!0,V)&&Ue;if(Xe=V.g=x,Ue=Ke(Xe,he,!0,V)&&Ue,Ue=Ke(Xe,he,!1,V)&&Ue,X)for(Ot=0;Ot<X.length;Ot++)Xe=V.g=X[Ot],Ue=Ke(Xe,he,!1,V)&&Ue}Qe.prototype.N=function(){if(Qe.Z.N.call(this),this.i){var x=this.i;for(const V in x.g){const X=x.g[V];for(let he=0;he<X.length;he++)pe(X[he]);delete x.g[V],x.h--}}this.G=null},Qe.prototype.J=function(x,V,X,he){return this.i.add(String(x),V,!1,X,he)},Qe.prototype.K=function(x,V,X,he){return this.i.add(String(x),V,!0,X,he)};function Ke(x,V,X,he){if(V=x.i.g[String(V)],!V)return!0;V=V.concat();let Ue=!0;for(let Xe=0;Xe<V.length;++Xe){const Ot=V[Xe];if(Ot&&!Ot.da&&Ot.capture==X){const Tn=Ot.listener,Or=Ot.ha||Ot.src;Ot.fa&&J(x.i,Ot),Ue=Tn.call(Or,he)!==!1&&Ue}}return Ue&&!he.defaultPrevented}function ht(x,V){if(typeof x!="function")if(x&&typeof x.handleEvent=="function")x=h(x.handleEvent,x);else throw Error("Invalid listener argument");return Number(V)>2147483647?-1:o.setTimeout(x,V||0)}function Dt(x){x.g=ht(()=>{x.g=null,x.i&&(x.i=!1,Dt(x))},x.l);const V=x.h;x.h=null,x.m.apply(null,V)}class kt extends z{constructor(V,X){super(),this.m=V,this.l=X,this.h=null,this.i=!1,this.g=null}j(V){this.h=arguments,this.g?this.i=!0:Dt(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qt(x){z.call(this),this.h=x,this.g={}}g(qt,z);var Vt=[];function Gt(x){Ie(x.g,function(V,X){this.g.hasOwnProperty(X)&&tt(V)},x),x.g={}}qt.prototype.N=function(){qt.Z.N.call(this),Gt(this)},qt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ht=o.JSON.stringify,Mt=o.JSON.parse,Wt=class{stringify(x){return o.JSON.stringify(x,void 0)}parse(x){return o.JSON.parse(x,void 0)}};function Lt(){}function yn(){}var zt={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ft(){O.call(this,"d")}g(Ft,O);function Rt(){O.call(this,"c")}g(Rt,O);var xt={},Kt=null;function En(){return Kt=Kt||new Qe}xt.Ia="serverreachability";function We(x){O.call(this,xt.Ia,x)}g(We,O);function wt(x){const V=En();At(V,new We(V))}xt.STAT_EVENT="statevent";function nn(x,V){O.call(this,xt.STAT_EVENT,x),this.stat=V}g(nn,O);function Bt(x){const V=En();At(V,new nn(V,x))}xt.Ja="timingevent";function Nt(x,V){O.call(this,xt.Ja,x),this.size=V}g(Nt,O);function xn(x,V){if(typeof x!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){x()},V)}function Kr(){this.g=!0}Kr.prototype.ua=function(){this.g=!1};function Ur(x,V,X,he,Ue,Xe){x.info(function(){if(x.g)if(Xe){var Ot="",Tn=Xe.split("&");for(let Pn=0;Pn<Tn.length;Pn++){var Or=Tn[Pn].split("=");if(Or.length>1){const hr=Or[0];Or=Or[1];const ea=hr.split("_");Ot=ea.length>=2&&ea[1]=="type"?Ot+(hr+"="+Or+"&"):Ot+(hr+"=redacted&")}}}else Ot=null;else Ot=Xe;return"XMLHTTP REQ ("+he+") [attempt "+Ue+"]: "+V+`
`+X+`
`+Ot})}function Ji(x,V,X,he,Ue,Xe,Ot){x.info(function(){return"XMLHTTP RESP ("+he+") [ attempt "+Ue+"]: "+V+`
`+X+`
`+Xe+" "+Ot})}function Vr(x,V,X,he){x.info(function(){return"XMLHTTP TEXT ("+V+"): "+Wa(x,X)+(he?" "+he:"")})}function ln(x,V){x.info(function(){return"TIMEOUT: "+V})}Kr.prototype.info=function(){};function Wa(x,V){if(!x.g)return V;if(!V)return null;try{const Xe=JSON.parse(V);if(Xe){for(x=0;x<Xe.length;x++)if(Array.isArray(Xe[x])){var X=Xe[x];if(!(X.length<2)){var he=X[1];if(Array.isArray(he)&&!(he.length<1)){var Ue=he[0];if(Ue!="noop"&&Ue!="stop"&&Ue!="close")for(let Ot=1;Ot<he.length;Ot++)he[Ot]=""}}}}return Ht(Xe)}catch{return V}}var _i={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Xr={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ci;function tr(){}g(tr,Lt),tr.prototype.g=function(){return new XMLHttpRequest},Ci=new tr;function pr(x){return encodeURIComponent(String(x))}function ne(x){var V=1;x=x.split(":");const X=[];for(;V>0&&x.length;)X.push(x.shift()),V--;return x.length&&X.push(x.join(":")),X}function _e(x,V,X,he){this.j=x,this.i=V,this.l=X,this.S=he||1,this.V=new qt(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ue}function ue(){this.i=null,this.g="",this.h=!1}var de={},ve={};function ye(x,V,X){x.M=1,x.A=Yo(li(V)),x.u=X,x.R=!0,Be(x,null)}function Be(x,V){x.F=Date.now(),He(x),x.B=li(x.A);var X=x.B,he=x.S;Array.isArray(he)||(he=[String(he)]),rc(X.i,"t",he),x.C=0,X=x.j.L,x.h=new ue,x.g=Zt(x.j,X?V:null,!x.u),x.P>0&&(x.O=new kt(h(x.Y,x,x.g),x.P)),V=x.V,X=x.g,he=x.ba;var Ue="readystatechange";Array.isArray(Ue)||(Ue&&(Vt[0]=Ue.toString()),Ue=Vt);for(let Xe=0;Xe<Ue.length;Xe++){const Ot=Se(X,Ue[Xe],he||V.handleEvent,!1,V.h||V);if(!Ot)break;V.g[Ot.key]=Ot}V=x.J?re(x.J):{},x.u?(x.v||(x.v="POST"),V["Content-Type"]="application/x-www-form-urlencoded",x.g.ea(x.B,x.v,x.u,V)):(x.v="GET",x.g.ea(x.B,x.v,null,V)),wt(),Ur(x.i,x.v,x.B,x.l,x.S,x.u)}_e.prototype.ba=function(x){x=x.target;const V=this.O;V&&Xa(x)==3?V.j():this.Y(x)},_e.prototype.Y=function(x){try{if(x==this.g)e:{const Tn=Xa(this.g),Or=this.g.ya(),Pn=this.g.ca();if(!(Tn<3)&&(Tn!=3||this.g&&(this.h.h||this.g.la()||xi(this.g)))){this.K||Tn!=4||Or==7||(Or==8||Pn<=0?wt(3):wt(2)),mt(this);var V=this.g.ca();this.X=V;var X=Ze(this);if(this.o=V==200,Ji(this.i,this.v,this.B,this.l,this.S,Tn,V),this.o){if(this.U&&!this.L){t:{if(this.g){var he,Ue=this.g;if((he=Ue.g?Ue.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!B(he)){var Xe=he;break t}}Xe=null}if(x=Xe)Vr(this.i,this.l,x,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Tt(this,x);else{this.o=!1,this.m=3,Bt(12),je(this),Et(this);break e}}if(this.R){x=!0;let hr;for(;!this.K&&this.C<X.length;)if(hr=ze(this,X),hr==ve){Tn==4&&(this.m=4,Bt(14),x=!1),Vr(this.i,this.l,null,"[Incomplete Response]");break}else if(hr==de){this.m=4,Bt(15),Vr(this.i,this.l,X,"[Invalid Chunk]"),x=!1;break}else Vr(this.i,this.l,hr,null),Tt(this,hr);if(Me(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Tn!=4||X.length!=0||this.h.h||(this.m=1,Bt(16),x=!1),this.o=this.o&&x,!x)Vr(this.i,this.l,X,"[Invalid Chunked Response]"),je(this),Et(this);else if(X.length>0&&!this.W){this.W=!0;var Ot=this.j;Ot.g==this&&Ot.aa&&!Ot.P&&(Ot.j.info("Great, no buffering proxy detected. Bytes received: "+X.length),oc(Ot),Ot.P=!0,Bt(11))}}else Vr(this.i,this.l,X,null),Tt(this,X);Tn==4&&je(this),this.o&&!this.K&&(Tn==4?be(this.j,this):(this.o=!1,He(this)))}else Hs(this.g),V==400&&X.indexOf("Unknown SID")>0?(this.m=3,Bt(12)):(this.m=0,Bt(13)),je(this),Et(this)}}}catch{}finally{}};function Ze(x){if(!Me(x))return x.g.la();const V=xi(x.g);if(V==="")return"";let X="";const he=V.length,Ue=Xa(x.g)==4;if(!x.h.i){if(typeof TextDecoder>"u")return je(x),Et(x),"";x.h.i=new o.TextDecoder}for(let Xe=0;Xe<he;Xe++)x.h.h=!0,X+=x.h.i.decode(V[Xe],{stream:!(Ue&&Xe==he-1)});return V.length=0,x.h.g+=X,x.C=0,x.h.g}function Me(x){return x.g?x.v=="GET"&&x.M!=2&&x.j.Aa:!1}function ze(x,V){var X=x.C,he=V.indexOf(`
`,X);return he==-1?ve:(X=Number(V.substring(X,he)),isNaN(X)?de:(he+=1,he+X>V.length?ve:(V=V.slice(he,he+X),x.C=he+X,V)))}_e.prototype.cancel=function(){this.K=!0,je(this)};function He(x){x.T=Date.now()+x.H,bt(x,x.H)}function bt(x,V){if(x.D!=null)throw Error("WatchDog timer not null");x.D=xn(h(x.aa,x),V)}function mt(x){x.D&&(o.clearTimeout(x.D),x.D=null)}_e.prototype.aa=function(){this.D=null;const x=Date.now();x-this.T>=0?(ln(this.i,this.B),this.M!=2&&(wt(),Bt(17)),je(this),this.m=2,Et(this)):bt(this,this.T-x)};function Et(x){x.j.I==0||x.K||be(x.j,x)}function je(x){mt(x);var V=x.O;V&&typeof V.dispose=="function"&&V.dispose(),x.O=null,Gt(x.V),x.g&&(V=x.g,x.g=null,V.abort(),V.dispose())}function Tt(x,V){try{var X=x.j;if(X.I!=0&&(X.g==x||zi(X.h,x))){if(!x.L&&zi(X.h,x)&&X.I==3){try{var he=X.Ba.g.parse(V)}catch{he=null}if(Array.isArray(he)&&he.length==3){var Ue=he;if(Ue[0]==0){e:if(!X.v){if(X.g)if(X.g.F+3e3<x.F)ee(X),Ws(X);else break e;Os(X),Bt(18)}}else X.xa=Ue[1],0<X.xa-X.K&&Ue[2]<37500&&X.F&&X.A==0&&!X.C&&(X.C=xn(h(X.Va,X),6e3));or(X.h)<=1&&X.ta&&(X.ta=void 0)}else Le(X,11)}else if((x.L||X.g==x)&&ee(X),!B(V))for(Ue=X.Ba.g.parse(V),V=0;V<Ue.length;V++){let Pn=Ue[V];const hr=Pn[0];if(!(hr<=X.K))if(X.K=hr,Pn=Pn[1],X.I==2)if(Pn[0]=="c"){X.M=Pn[1],X.ba=Pn[2];const ea=Pn[3];ea!=null&&(X.ka=ea,X.j.info("VER="+X.ka));const ma=Pn[4];ma!=null&&(X.za=ma,X.j.info("SVER="+X.za));const br=Pn[5];br!=null&&typeof br=="number"&&br>0&&(he=1.5*br,X.O=he,X.j.info("backChannelRequestTimeoutMs_="+he)),he=X;const pa=x.g;if(pa){const Ds=pa.g?pa.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ds){var Xe=he.h;Xe.g||Ds.indexOf("spdy")==-1&&Ds.indexOf("quic")==-1&&Ds.indexOf("h2")==-1||(Xe.j=Xe.l,Xe.g=new Set,Xe.h&&(Ya(Xe,Xe.h),Xe.h=null))}if(he.G){const Qo=pa.g?pa.g.getResponseHeader("X-HTTP-Session-Id"):null;Qo&&(he.wa=Qo,Wn(he.J,he.G,Qo))}}X.I=3,X.l&&X.l.ra(),X.aa&&(X.T=Date.now()-x.F,X.j.info("Handshake RTT: "+X.T+"ms")),he=X;var Ot=x;if(he.na=_t(he,he.L?he.ba:null,he.W),Ot.L){hs(he.h,Ot);var Tn=Ot,Or=he.O;Or&&(Tn.H=Or),Tn.D&&(mt(Tn),He(Tn)),he.g=Ot}else Xc(he);X.i.length>0&&ds(X)}else Pn[0]!="stop"&&Pn[0]!="close"||Le(X,7);else X.I==3&&(Pn[0]=="stop"||Pn[0]=="close"?Pn[0]=="stop"?Le(X,7):Jo(X):Pn[0]!="noop"&&X.l&&X.l.qa(Pn),X.A=0)}}wt(4)}catch{}}var Xt=class{constructor(x,V){this.g=x,this.map=V}};function nr(x){this.l=x||10,o.PerformanceNavigationTiming?(x=o.performance.getEntriesByType("navigation"),x=x.length>0&&(x[0].nextHopProtocol=="hq"||x[0].nextHopProtocol=="h2")):x=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=x?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function jn(x){return x.h?!0:x.g?x.g.size>=x.j:!1}function or(x){return x.h?1:x.g?x.g.size:0}function zi(x,V){return x.h?x.h==V:x.g?x.g.has(V):!1}function Ya(x,V){x.g?x.g.add(V):x.h=V}function hs(x,V){x.h&&x.h==V?x.h=null:x.g&&x.g.has(V)&&x.g.delete(V)}nr.prototype.cancel=function(){if(this.i=Ta(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const x of this.g.values())x.cancel();this.g.clear()}};function Ta(x){if(x.h!=null)return x.i.concat(x.h.G);if(x.g!=null&&x.g.size!==0){let V=x.i;for(const X of x.g.values())V=V.concat(X.G);return V}return v(x.i)}var xo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function zr(x,V){if(x){x=x.split("&");for(let X=0;X<x.length;X++){const he=x[X].indexOf("=");let Ue,Xe=null;he>=0?(Ue=x[X].substring(0,he),Xe=x[X].substring(he+1)):Ue=x[X],V(Ue,Xe?decodeURIComponent(Xe.replace(/\+/g," ")):"")}}}function Qi(x){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let V;x instanceof Qi?(this.l=x.l,Un(this,x.j),this.o=x.o,this.g=x.g,wo(this,x.u),this.h=x.h,fs(this,ic(x.i)),this.m=x.m):x&&(V=String(x).match(xo))?(this.l=!1,Un(this,V[1]||"",!0),this.o=yi(V[2]||""),this.g=yi(V[3]||"",!0),wo(this,V[4]),this.h=yi(V[5]||"",!0),fs(this,V[6]||"",!0),this.m=yi(V[7]||"")):(this.l=!1,this.i=new bo(null,this.l))}Qi.prototype.toString=function(){const x=[];var V=this.j;V&&x.push(qr(V,xl,!0),":");var X=this.g;return(X||V=="file")&&(x.push("//"),(V=this.o)&&x.push(qr(V,xl,!0),"@"),x.push(pr(X).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),X=this.u,X!=null&&x.push(":",String(X))),(X=this.h)&&(this.g&&X.charAt(0)!="/"&&x.push("/"),x.push(qr(X,X.charAt(0)=="/"?Gc:Bu,!0))),(X=this.i.toString())&&x.push("?",X),(X=this.m)&&x.push("#",qr(X,Wc)),x.join("")},Qi.prototype.resolve=function(x){const V=li(this);let X=!!x.j;X?Un(V,x.j):X=!!x.o,X?V.o=x.o:X=!!x.g,X?V.g=x.g:X=x.u!=null;var he=x.h;if(X)wo(V,x.u);else if(X=!!x.h){if(he.charAt(0)!="/")if(this.g&&!this.h)he="/"+he;else{var Ue=V.h.lastIndexOf("/");Ue!=-1&&(he=V.h.slice(0,Ue+1)+he)}if(Ue=he,Ue==".."||Ue==".")he="";else if(Ue.indexOf("./")!=-1||Ue.indexOf("/.")!=-1){he=Ue.lastIndexOf("/",0)==0,Ue=Ue.split("/");const Xe=[];for(let Ot=0;Ot<Ue.length;){const Tn=Ue[Ot++];Tn=="."?he&&Ot==Ue.length&&Xe.push(""):Tn==".."?((Xe.length>1||Xe.length==1&&Xe[0]!="")&&Xe.pop(),he&&Ot==Ue.length&&Xe.push("")):(Xe.push(Tn),he=!0)}he=Xe.join("/")}else he=Ue}return X?V.h=he:X=x.i.toString()!=="",X?fs(V,ic(x.i)):X=!!x.m,X&&(V.m=x.m),V};function li(x){return new Qi(x)}function Un(x,V,X){x.j=X?yi(V,!0):V,x.j&&(x.j=x.j.replace(/:$/,""))}function wo(x,V){if(V){if(V=Number(V),isNaN(V)||V<0)throw Error("Bad port number "+V);x.u=V}else x.u=null}function fs(x,V,X){V instanceof bo?(x.i=V,Aa(x.i,x.l)):(X||(V=qr(V,da)),x.i=new bo(V,x.l))}function Wn(x,V,X){x.i.set(V,X)}function Yo(x){return Wn(x,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),x}function yi(x,V){return x?V?decodeURI(x.replace(/%25/g,"%2525")):decodeURIComponent(x):""}function qr(x,V,X){return typeof x=="string"?(x=encodeURI(x).replace(V,ci),X&&(x=x.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x):null}function ci(x){return x=x.charCodeAt(0),"%"+(x>>4&15).toString(16)+(x&15).toString(16)}var xl=/[#\/\?@]/g,Bu=/[#\?:]/g,Gc=/[#\?]/g,da=/[#\?@]/g,Wc=/#/g;function bo(x,V){this.h=this.g=null,this.i=x||null,this.j=!!V}function qi(x){x.g||(x.g=new Map,x.h=0,x.i&&zr(x.i,function(V,X){x.add(decodeURIComponent(V.replace(/\+/g," ")),X)}))}n=bo.prototype,n.add=function(x,V){qi(this),this.i=null,x=Eo(this,x);let X=this.g.get(x);return X||this.g.set(x,X=[]),X.push(V),this.h+=1,this};function $o(x,V){qi(x),V=Eo(x,V),x.g.has(V)&&(x.i=null,x.h-=x.g.get(V).length,x.g.delete(V))}function Yc(x,V){return qi(x),V=Eo(x,V),x.g.has(V)}n.forEach=function(x,V){qi(this),this.g.forEach(function(X,he){X.forEach(function(Ue){x.call(V,Ue,he,this)},this)},this)};function $c(x,V){qi(x);let X=[];if(typeof V=="string")Yc(x,V)&&(X=X.concat(x.g.get(Eo(x,V))));else for(x=Array.from(x.g.values()),V=0;V<x.length;V++)X=X.concat(x[V]);return X}n.set=function(x,V){return qi(this),this.i=null,x=Eo(this,x),Yc(this,x)&&(this.h-=this.g.get(x).length),this.g.set(x,[V]),this.h+=1,this},n.get=function(x,V){return x?(x=$c(this,x),x.length>0?String(x[0]):V):V};function rc(x,V,X){$o(x,V),X.length>0&&(x.i=null,x.g.set(Eo(x,V),v(X)),x.h+=X.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const x=[],V=Array.from(this.g.keys());for(let he=0;he<V.length;he++){var X=V[he];const Ue=pr(X);X=$c(this,X);for(let Xe=0;Xe<X.length;Xe++){let Ot=Ue;X[Xe]!==""&&(Ot+="="+pr(X[Xe])),x.push(Ot)}}return this.i=x.join("&")};function ic(x){const V=new bo;return V.i=x.i,x.g&&(V.g=new Map(x.g),V.h=x.h),V}function Eo(x,V){return V=String(V),x.j&&(V=V.toLowerCase()),V}function Aa(x,V){V&&!x.j&&(qi(x),x.i=null,x.g.forEach(function(X,he){const Ue=he.toLowerCase();he!=Ue&&($o(this,he),rc(this,Ue,X))},x)),x.j=V}function Rs(x,V){const X=new Kr;if(o.Image){const he=new Image;he.onload=m(Na,X,"TestLoadImage: loaded",!0,V,he),he.onerror=m(Na,X,"TestLoadImage: error",!1,V,he),he.onabort=m(Na,X,"TestLoadImage: abort",!1,V,he),he.ontimeout=m(Na,X,"TestLoadImage: timeout",!1,V,he),o.setTimeout(function(){he.ontimeout&&he.ontimeout()},1e4),he.src=x}else V(!1)}function So(x,V){const X=new Kr,he=new AbortController,Ue=setTimeout(()=>{he.abort(),Na(X,"TestPingServer: timeout",!1,V)},1e4);fetch(x,{signal:he.signal}).then(Xe=>{clearTimeout(Ue),Xe.ok?Na(X,"TestPingServer: ok",!0,V):Na(X,"TestPingServer: server error",!1,V)}).catch(()=>{clearTimeout(Ue),Na(X,"TestPingServer: error",!1,V)})}function Na(x,V,X,he,Ue){try{Ue&&(Ue.onload=null,Ue.onerror=null,Ue.onabort=null,Ue.ontimeout=null),he(X)}catch{}}function Ko(){this.g=new Wt}function fn(x){this.i=x.Sb||null,this.h=x.ab||!1}g(fn,Lt),fn.prototype.g=function(){return new wl(this.i,this.h)};function wl(x,V){Qe.call(this),this.H=x,this.o=V,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}g(wl,Qe),n=wl.prototype,n.open=function(x,V){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=x,this.D=V,this.readyState=1,Hi(this)},n.send=function(x){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const V={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};x&&(V.body=x),(this.H||o).fetch(new Request(this.D,V)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Xo(this)),this.readyState=0},n.Pa=function(x){if(this.g&&(this.l=x,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=x.headers,this.readyState=2,Hi(this)),this.g&&(this.readyState=3,Hi(this),this.g)))if(this.responseType==="arraybuffer")x.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in x){if(this.j=x.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ac(this)}else x.text().then(this.Oa.bind(this),this.ga.bind(this))};function ac(x){x.j.read().then(x.Ma.bind(x)).catch(x.ga.bind(x))}n.Ma=function(x){if(this.g){if(this.o&&x.value)this.response.push(x.value);else if(!this.o){var V=x.value?x.value:new Uint8Array(0);(V=this.B.decode(V,{stream:!x.done}))&&(this.response=this.responseText+=V)}x.done?Xo(this):Hi(this),this.readyState==3&&ac(this)}},n.Oa=function(x){this.g&&(this.response=this.responseText=x,Xo(this))},n.Na=function(x){this.g&&(this.response=x,Xo(this))},n.ga=function(){this.g&&Xo(this)};function Xo(x){x.readyState=4,x.l=null,x.j=null,x.B=null,Hi(x)}n.setRequestHeader=function(x,V){this.A.append(x,V)},n.getResponseHeader=function(x){return this.h&&this.h.get(x.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const x=[],V=this.h.entries();for(var X=V.next();!X.done;)X=X.value,x.push(X[0]+": "+X[1]),X=V.next();return x.join(`\r
`)};function Hi(x){x.onreadystatechange&&x.onreadystatechange.call(x)}Object.defineProperty(wl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(x){this.m=x?"include":"same-origin"}});function Ii(x){let V="";return Ie(x,function(X,he){V+=he,V+=":",V+=X,V+=`\r
`}),V}function bl(x,V,X){e:{for(he in X){var he=!1;break e}he=!0}he||(X=Ii(X),typeof x=="string"?X!=null&&pr(X):Wn(x,V,X))}function ur(x){Qe.call(this),this.headers=new Map,this.L=x||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}g(ur,Qe);var $a=/^https?$/i,El=["POST","PUT"];n=ur.prototype,n.Fa=function(x){this.H=x},n.ea=function(x,V,X,he){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+x);V=V?V.toUpperCase():"GET",this.D=x,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ci.g(),this.g.onreadystatechange=_(h(this.Ca,this));try{this.B=!0,this.g.open(V,String(x),!0),this.B=!1}catch(Xe){ks(this,Xe);return}if(x=X||"",X=new Map(this.headers),he)if(Object.getPrototypeOf(he)===Object.prototype)for(var Ue in he)X.set(Ue,he[Ue]);else if(typeof he.keys=="function"&&typeof he.get=="function")for(const Xe of he.keys())X.set(Xe,he.get(Xe));else throw Error("Unknown input type for opt_headers: "+String(he));he=Array.from(X.keys()).find(Xe=>Xe.toLowerCase()=="content-type"),Ue=o.FormData&&x instanceof o.FormData,!(Array.prototype.indexOf.call(El,V,void 0)>=0)||he||Ue||X.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Xe,Ot]of X)this.g.setRequestHeader(Xe,Ot);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(x),this.v=!1}catch(Xe){ks(this,Xe)}};function ks(x,V){x.h=!1,x.g&&(x.j=!0,x.g.abort(),x.j=!1),x.l=V,x.o=5,Kc(x),To(x)}function Kc(x){x.A||(x.A=!0,At(x,"complete"),At(x,"error"))}n.abort=function(x){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=x||7,At(this,"complete"),At(this,"abort"),To(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),To(this,!0)),ur.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Ka(this):this.Xa())},n.Xa=function(){Ka(this)};function Ka(x){if(x.h&&typeof a<"u"){if(x.v&&Xa(x)==4)setTimeout(x.Ca.bind(x),0);else if(At(x,"readystatechange"),Xa(x)==4){x.h=!1;try{const Xe=x.ca();e:switch(Xe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var V=!0;break e;default:V=!1}var X;if(!(X=V)){var he;if(he=Xe===0){let Ot=String(x.D).match(xo)[1]||null;!Ot&&o.self&&o.self.location&&(Ot=o.self.location.protocol.slice(0,-1)),he=!$a.test(Ot?Ot.toLowerCase():"")}X=he}if(X)At(x,"complete"),At(x,"success");else{x.o=6;try{var Ue=Xa(x)>2?x.g.statusText:""}catch{Ue=""}x.l=Ue+" ["+x.ca()+"]",Kc(x)}}finally{To(x)}}}}function To(x,V){if(x.g){x.m&&(clearTimeout(x.m),x.m=null);const X=x.g;x.g=null,V||At(x,"ready");try{X.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function Xa(x){return x.g?x.g.readyState:0}n.ca=function(){try{return Xa(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(x){if(this.g){var V=this.g.responseText;return x&&V.indexOf(x)==0&&(V=V.substring(x.length)),Mt(V)}};function xi(x){try{if(!x.g)return null;if("response"in x.g)return x.g.response;switch(x.F){case"":case"text":return x.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in x.g)return x.g.mozResponseArrayBuffer}return null}catch{return null}}function Hs(x){const V={};x=(x.g&&Xa(x)>=2&&x.g.getAllResponseHeaders()||"").split(`\r
`);for(let he=0;he<x.length;he++){if(B(x[he]))continue;var X=ne(x[he]);const Ue=X[0];if(X=X[1],typeof X!="string")continue;X=X.trim();const Xe=V[Ue]||[];V[Ue]=Xe,Xe.push(X)}Ae(V,function(he){return he.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Zi(x,V,X){return X&&X.internalChannelParams&&X.internalChannelParams[x]||V}function Gs(x){this.za=0,this.i=[],this.j=new Kr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Zi("failFast",!1,x),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Zi("baseRetryDelayMs",5e3,x),this.Za=Zi("retryDelaySeedMs",1e4,x),this.Ta=Zi("forwardChannelMaxRetries",2,x),this.va=Zi("forwardChannelRequestTimeoutMs",2e4,x),this.ma=x&&x.xmlHttpFactory||void 0,this.Ua=x&&x.Rb||void 0,this.Aa=x&&x.useFetchStreams||!1,this.O=void 0,this.L=x&&x.supportsCrossDomainXhr||!1,this.M="",this.h=new nr(x&&x.concurrentRequestLimit),this.Ba=new Ko,this.S=x&&x.fastHandshake||!1,this.R=x&&x.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=x&&x.Pb||!1,x&&x.ua&&this.j.ua(),x&&x.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&x&&x.detectBufferingProxy||!1,this.ia=void 0,x&&x.longPollingTimeout&&x.longPollingTimeout>0&&(this.ia=x.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Gs.prototype,n.ka=8,n.I=1,n.connect=function(x,V,X,he){Bt(0),this.W=x,this.H=V||{},X&&he!==void 0&&(this.H.OSID=X,this.H.OAID=he),this.F=this.X,this.J=_t(this,null,this.W),ds(this)};function Jo(x){if(Ys(x),x.I==3){var V=x.V++,X=li(x.J);if(Wn(X,"SID",x.M),Wn(X,"RID",V),Wn(X,"TYPE","terminate"),Ja(x,X),V=new _e(x,x.j,V),V.M=2,V.A=Yo(li(X)),X=!1,o.navigator&&o.navigator.sendBeacon)try{X=o.navigator.sendBeacon(V.A.toString(),"")}catch{}!X&&o.Image&&(new Image().src=V.A,X=!0),X||(V.g=Zt(V.j,null),V.g.ea(V.A)),V.F=Date.now(),He(V)}ct(x)}function Ws(x){x.g&&(oc(x),x.g.cancel(),x.g=null)}function Ys(x){Ws(x),x.v&&(o.clearTimeout(x.v),x.v=null),ee(x),x.h.cancel(),x.m&&(typeof x.m=="number"&&o.clearTimeout(x.m),x.m=null)}function ds(x){if(!jn(x.h)&&!x.m){x.m=!0;var V=x.Ea;K||k(),U||(K(),U=!0),C.add(V,x),x.D=0}}function Sl(x,V){return or(x.h)>=x.h.j-(x.m?1:0)?!1:x.m?(x.i=V.G.concat(x.i),!0):x.I==1||x.I==2||x.D>=(x.Sa?0:x.Ta)?!1:(x.m=xn(h(x.Ea,x,V),Re(x,x.D)),x.D++,!0)}n.Ea=function(x){if(this.m)if(this.m=null,this.I==1){if(!x){this.V=Math.floor(Math.random()*1e5),x=this.V++;const Ue=new _e(this,this.j,x);let Xe=this.o;if(this.U&&(Xe?(Xe=re(Xe),G(Xe,this.U)):Xe=this.U),this.u!==null||this.R||(Ue.J=Xe,Xe=null),this.S)e:{for(var V=0,X=0;X<this.i.length;X++){t:{var he=this.i[X];if("__data__"in he.map&&(he=he.map.__data__,typeof he=="string")){he=he.length;break t}he=void 0}if(he===void 0)break;if(V+=he,V>4096){V=X;break e}if(V===4096||X===this.i.length-1){V=X+1;break e}}V=1e3}else V=1e3;V=$s(this,Ue,V),X=li(this.J),Wn(X,"RID",x),Wn(X,"CVER",22),this.G&&Wn(X,"X-HTTP-Session-Id",this.G),Ja(this,X),Xe&&(this.R?V="headers="+pr(Ii(Xe))+"&"+V:this.u&&bl(X,this.u,Xe)),Ya(this.h,Ue),this.Ra&&Wn(X,"TYPE","init"),this.S?(Wn(X,"$req",V),Wn(X,"SID","null"),Ue.U=!0,ye(Ue,X,null)):ye(Ue,X,V),this.I=2}}else this.I==3&&(x?sc(this,x):this.i.length==0||jn(this.h)||sc(this))};function sc(x,V){var X;V?X=V.l:X=x.V++;const he=li(x.J);Wn(he,"SID",x.M),Wn(he,"RID",X),Wn(he,"AID",x.K),Ja(x,he),x.u&&x.o&&bl(he,x.u,x.o),X=new _e(x,x.j,X,x.D+1),x.u===null&&(X.J=x.o),V&&(x.i=V.G.concat(x.i)),V=$s(x,X,1e3),X.H=Math.round(x.va*.5)+Math.round(x.va*.5*Math.random()),Ya(x.h,X),ye(X,he,V)}function Ja(x,V){x.H&&Ie(x.H,function(X,he){Wn(V,he,X)}),x.l&&Ie({},function(X,he){Wn(V,he,X)})}function $s(x,V,X){X=Math.min(x.i.length,X);const he=x.l?h(x.l.Ka,x.l,x):null;e:{var Ue=x.i;let Tn=-1;for(;;){const Or=["count="+X];Tn==-1?X>0?(Tn=Ue[0].g,Or.push("ofs="+Tn)):Tn=0:Or.push("ofs="+Tn);let Pn=!0;for(let hr=0;hr<X;hr++){var Xe=Ue[hr].g;const ea=Ue[hr].map;if(Xe-=Tn,Xe<0)Tn=Math.max(0,Ue[hr].g-100),Pn=!1;else try{Xe="req"+Xe+"_"||"";try{var Ot=ea instanceof Map?ea:Object.entries(ea);for(const[ma,br]of Ot){let pa=br;c(br)&&(pa=Ht(br)),Or.push(Xe+ma+"="+encodeURIComponent(pa))}}catch(ma){throw Or.push(Xe+"type="+encodeURIComponent("_badmap")),ma}}catch{he&&he(ea)}}if(Pn){Ot=Or.join("&");break e}}Ot=void 0}return x=x.i.splice(0,X),V.G=x,Ot}function Xc(x){if(!x.g&&!x.v){x.Y=1;var V=x.Da;K||k(),U||(K(),U=!0),C.add(V,x),x.A=0}}function Os(x){return x.g||x.v||x.A>=3?!1:(x.Y++,x.v=xn(h(x.Da,x),Re(x,x.A)),x.A++,!0)}n.Da=function(){if(this.v=null,D(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var x=4*this.T;this.j.info("BP detection timer enabled: "+x),this.B=xn(h(this.Wa,this),x)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Bt(10),Ws(this),D(this))};function oc(x){x.B!=null&&(o.clearTimeout(x.B),x.B=null)}function D(x){x.g=new _e(x,x.j,"rpc",x.Y),x.u===null&&(x.g.J=x.o),x.g.P=0;var V=li(x.na);Wn(V,"RID","rpc"),Wn(V,"SID",x.M),Wn(V,"AID",x.K),Wn(V,"CI",x.F?"0":"1"),!x.F&&x.ia&&Wn(V,"TO",x.ia),Wn(V,"TYPE","xmlhttp"),Ja(x,V),x.u&&x.o&&bl(V,x.u,x.o),x.O&&(x.g.H=x.O);var X=x.g;x=x.ba,X.M=1,X.A=Yo(li(V)),X.u=null,X.R=!0,Be(X,x)}n.Va=function(){this.C!=null&&(this.C=null,Ws(this),Os(this),Bt(19))};function ee(x){x.C!=null&&(o.clearTimeout(x.C),x.C=null)}function be(x,V){var X=null;if(x.g==V){ee(x),oc(x),x.g=null;var he=2}else if(zi(x.h,V))X=V.G,hs(x.h,V),he=1;else return;if(x.I!=0){if(V.o)if(he==1){X=V.u?V.u.length:0,V=Date.now()-V.F;var Ue=x.D;he=En(),At(he,new Nt(he,X)),ds(x)}else Xc(x);else if(Ue=V.m,Ue==3||Ue==0&&V.X>0||!(he==1&&Sl(x,V)||he==2&&Os(x)))switch(X&&X.length>0&&(V=x.h,V.i=V.i.concat(X)),Ue){case 1:Le(x,5);break;case 4:Le(x,10);break;case 3:Le(x,6);break;default:Le(x,2)}}}function Re(x,V){let X=x.Qa+Math.floor(Math.random()*x.Za);return x.isActive()||(X*=2),X*V}function Le(x,V){if(x.j.info("Error code "+V),V==2){var X=h(x.bb,x),he=x.Ua;const Ue=!he;he=new Qi(he||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Un(he,"https"),Yo(he),Ue?Rs(he.toString(),X):So(he.toString(),X)}else Bt(2);x.I=0,x.l&&x.l.pa(V),ct(x),Ys(x)}n.bb=function(x){x?(this.j.info("Successfully pinged google.com"),Bt(2)):(this.j.info("Failed to ping google.com"),Bt(1))};function ct(x){if(x.I=0,x.ja=[],x.l){const V=Ta(x.h);(V.length!=0||x.i.length!=0)&&(b(x.ja,V),b(x.ja,x.i),x.h.i.length=0,v(x.i),x.i.length=0),x.l.oa()}}function _t(x,V,X){var he=X instanceof Qi?li(X):new Qi(X);if(he.g!="")V&&(he.g=V+"."+he.g),wo(he,he.u);else{var Ue=o.location;he=Ue.protocol,V=V?V+"."+Ue.hostname:Ue.hostname,Ue=+Ue.port;const Xe=new Qi(null);he&&Un(Xe,he),V&&(Xe.g=V),Ue&&wo(Xe,Ue),X&&(Xe.h=X),he=Xe}return X=x.G,V=x.wa,X&&V&&Wn(he,X,V),Wn(he,"VER",x.ka),Ja(x,he),he}function Zt(x,V,X){if(V&&!x.L)throw Error("Can't create secondary domain capable XhrIo object.");return V=x.Aa&&!x.ma?new ur(new fn({ab:X})):new ur(x.ma),V.Fa(x.L),V}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function an(){}n=an.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function gn(){}gn.prototype.g=function(x,V){return new un(x,V)};function un(x,V){Qe.call(this),this.g=new Gs(V),this.l=x,this.h=V&&V.messageUrlParams||null,x=V&&V.messageHeaders||null,V&&V.clientProtocolHeaderRequired&&(x?x["X-Client-Protocol"]="webchannel":x={"X-Client-Protocol":"webchannel"}),this.g.o=x,x=V&&V.initMessageHeaders||null,V&&V.messageContentType&&(x?x["X-WebChannel-Content-Type"]=V.messageContentType:x={"X-WebChannel-Content-Type":V.messageContentType}),V&&V.sa&&(x?x["X-WebChannel-Client-Profile"]=V.sa:x={"X-WebChannel-Client-Profile":V.sa}),this.g.U=x,(x=V&&V.Qb)&&!B(x)&&(this.g.u=x),this.A=V&&V.supportsCrossDomainXhr||!1,this.v=V&&V.sendRawJson||!1,(V=V&&V.httpSessionIdParam)&&!B(V)&&(this.g.G=V,x=this.h,x!==null&&V in x&&(x=this.h,V in x&&delete x[V])),this.j=new xr(this)}g(un,Qe),un.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},un.prototype.close=function(){Jo(this.g)},un.prototype.o=function(x){var V=this.g;if(typeof x=="string"){var X={};X.__data__=x,x=X}else this.v&&(X={},X.__data__=Ht(x),x=X);V.i.push(new Xt(V.Ya++,x)),V.I==3&&ds(V)},un.prototype.N=function(){this.g.l=null,delete this.j,Jo(this.g),delete this.g,un.Z.N.call(this)};function Vn(x){Ft.call(this),x.__headers__&&(this.headers=x.__headers__,this.statusCode=x.__status__,delete x.__headers__,delete x.__status__);var V=x.__sm__;if(V){e:{for(const X in V){x=X;break e}x=void 0}(this.i=x)&&(x=this.i,V=V!==null&&x in V?V[x]:void 0),this.data=V}else this.data=x}g(Vn,Ft);function kr(){Rt.call(this),this.status=1}g(kr,Rt);function xr(x){this.g=x}g(xr,an),xr.prototype.ra=function(){At(this.g,"a")},xr.prototype.qa=function(x){At(this.g,new Vn(x))},xr.prototype.pa=function(x){At(this.g,new kr)},xr.prototype.oa=function(){At(this.g,"b")},gn.prototype.createWebChannel=gn.prototype.g,un.prototype.send=un.prototype.o,un.prototype.open=un.prototype.m,un.prototype.close=un.prototype.close,lC=function(){return new gn},oC=function(){return En()},sC=xt,jx={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},_i.NO_ERROR=0,_i.TIMEOUT=8,_i.HTTP_ERROR=6,B1=_i,Xr.COMPLETE="complete",aC=Xr,yn.EventType=zt,zt.OPEN="a",zt.CLOSE="b",zt.ERROR="c",zt.MESSAGE="d",Qe.prototype.listen=Qe.prototype.J,Wm=yn,ur.prototype.listenOnce=ur.prototype.K,ur.prototype.getLastError=ur.prototype.Ha,ur.prototype.getLastErrorCode=ur.prototype.ya,ur.prototype.getStatus=ur.prototype.ca,ur.prototype.getResponseJson=ur.prototype.La,ur.prototype.getResponseText=ur.prototype.la,ur.prototype.send=ur.prototype.ea,ur.prototype.setWithCredentials=ur.prototype.Fa,iC=ur}).apply(typeof a1<"u"?a1:typeof self<"u"?self:typeof window<"u"?window:{});const W3="@firebase/firestore",Y3="4.9.3";class bs{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}bs.UNAUTHENTICATED=new bs(null),bs.GOOGLE_CREDENTIALS=new bs("google-credentials-uid"),bs.FIRST_PARTY=new bs("first-party-uid"),bs.MOCK_USER=new bs("mock-user");let P0="12.7.0";const Of=new W5("@firebase/firestore");function Jd(){return Of.logLevel}function en(n,...e){if(Of.logLevel<=Xn.DEBUG){const t=e.map($5);Of.debug(`Firestore (${P0}): ${n}`,...t)}}function ku(n,...e){if(Of.logLevel<=Xn.ERROR){const t=e.map($5);Of.error(`Firestore (${P0}): ${n}`,...t)}}function Df(n,...e){if(Of.logLevel<=Xn.WARN){const t=e.map($5);Of.warn(`Firestore (${P0}): ${n}`,...t)}}function $5(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function Sn(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,cC(n,r,t)}function cC(n,e,t){let r=`FIRESTORE (${P0}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw ku(r),new Error(r)}function wr(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||cC(e,i,r)}function Dn(n,e){return n}const pt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Yt extends qc{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Eu{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class uC{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class hC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(bs.UNAUTHENTICATED)))}shutdown(){}}class D9{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class L9{constructor(e){this.t=e,this.currentUser=bs.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){wr(this.o===void 0,42304);let r=this.i;const i=u=>this.i!==r?(r=this.i,t(u)):Promise.resolve();let a=new Eu;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Eu,e.enqueueRetryable((()=>i(this.currentUser)))};const o=()=>{const u=a;e.enqueueRetryable((async()=>{await u.promise,await i(this.currentUser)}))},c=u=>{en("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((u=>c(u))),setTimeout((()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?c(u):(en("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Eu)}}),0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(en("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(wr(typeof r.accessToken=="string",31837,{l:r}),new uC(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return wr(e===null||typeof e=="string",2055,{h:e}),new bs(e)}}class j9{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=bs.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class M9{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new j9(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(bs.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class $3{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class P9{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,pl(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){wr(this.o===void 0,3512);const r=a=>{a.error!=null&&en("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const o=a.token!==this.m;return this.m=a.token,en("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const i=a=>{en("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>i(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):en("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new $3(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(wr(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new $3(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function F9(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class J2{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=F9(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<t&&(r+=e.charAt(i[a]%62))}return r}}function Jn(n,e){return n<e?-1:n>e?1:0}function Mx(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const i=n.charAt(r),a=e.charAt(r);if(i!==a)return fy(i)===fy(a)?Jn(i,a):fy(i)?1:-1}return Jn(n.length,e.length)}const B9=55296,U9=57343;function fy(n){const e=n.charCodeAt(0);return e>=B9&&e<=U9}function S0(n,e,t){return n.length===e.length&&n.every(((r,i)=>t(r,e[i])))}const K3="__name__";class Cc{constructor(e,t,r){t===void 0?t=0:t>e.length&&Sn(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Sn(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Cc.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Cc?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const a=Cc.compareSegments(e.get(i),t.get(i));if(a!==0)return a}return Jn(e.length,t.length)}static compareSegments(e,t){const r=Cc.isNumericId(e),i=Cc.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?Cc.extractNumericId(e).compare(Cc.extractNumericId(t)):Mx(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Lh.fromString(e.substring(4,e.length-2))}}class Jr extends Cc{construct(e,t,r){return new Jr(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Yt(pt.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((i=>i.length>0)))}return new Jr(t)}static emptyPath(){return new Jr([])}}const V9=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ba extends Cc{construct(e,t,r){return new Ba(e,t,r)}static isValidIdentifier(e){return V9.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ba.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===K3}static keyField(){return new Ba([K3])}static fromServerFormat(e){const t=[];let r="",i=0;const a=()=>{if(r.length===0)throw new Yt(pt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let o=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new Yt(pt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new Yt(pt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else c==="`"?(o=!o,i++):c!=="."||o?(r+=c,i++):(a(),i++)}if(a(),o)throw new Yt(pt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ba(t)}static emptyPath(){return new Ba([])}}class pn{constructor(e){this.path=e}static fromPath(e){return new pn(Jr.fromString(e))}static fromName(e){return new pn(Jr.fromString(e).popFirst(5))}static empty(){return new pn(Jr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Jr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Jr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pn(new Jr(e.slice()))}}function fC(n,e,t){if(!t)throw new Yt(pt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function dC(n,e,t,r){if(e===!0&&r===!0)throw new Yt(pt.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function X3(n){if(!pn.isDocumentKey(n))throw new Yt(pt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function J3(n){if(pn.isDocumentKey(n))throw new Yt(pt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function mC(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Q2(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Sn(12329,{type:typeof n})}function zs(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Yt(pt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Q2(n);throw new Yt(pt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function ca(n,e){const t={typeString:n};return e&&(t.value=e),t}function Bp(n,e){if(!mC(n))throw new Yt(pt.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const i=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const o=n[r];if(i&&typeof o!==i){t=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&o!==a.value){t=`Expected '${r}' field to equal '${a.value}'`;break}}if(t)throw new Yt(pt.INVALID_ARGUMENT,t);return!0}const Q3=-62135596800,Z3=1e6;class Qr{static now(){return Qr.fromMillis(Date.now())}static fromDate(e){return Qr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*Z3);return new Qr(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Yt(pt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Yt(pt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Q3)throw new Yt(pt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Yt(pt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Z3}_compareTo(e){return this.seconds===e.seconds?Jn(this.nanoseconds,e.nanoseconds):Jn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Qr._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Bp(e,Qr._jsonSchema))return new Qr(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Q3;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Qr._jsonSchemaVersion="firestore/timestamp/1.0",Qr._jsonSchema={type:ca("string",Qr._jsonSchemaVersion),seconds:ca("number"),nanoseconds:ca("number")};class In{static fromTimestamp(e){return new In(e)}static min(){return new In(new Qr(0,0))}static max(){return new In(new Qr(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const _p=-1;function z9(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=In.fromTimestamp(r===1e9?new Qr(t+1,0):new Qr(t,r));return new Fh(i,pn.empty(),e)}function q9(n){return new Fh(n.readTime,n.key,_p)}class Fh{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Fh(In.min(),pn.empty(),_p)}static max(){return new Fh(In.max(),pn.empty(),_p)}}function H9(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=pn.comparator(n.documentKey,e.documentKey),t!==0?t:Jn(n.largestBatchId,e.largestBatchId))}const G9="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class W9{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function F0(n){if(n.code!==pt.FAILED_PRECONDITION||n.message!==G9)throw n;en("LocalStore","Unexpectedly lost primary lease")}class yt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Sn(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new yt(((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,i)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof yt?t:yt.resolve(t)}catch(t){return yt.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):yt.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):yt.reject(t)}static resolve(e){return new yt(((t,r)=>{t(e)}))}static reject(e){return new yt(((t,r)=>{r(e)}))}static waitFor(e){return new yt(((t,r)=>{let i=0,a=0,o=!1;e.forEach((c=>{++i,c.next((()=>{++a,o&&a===i&&t()}),(u=>r(u)))})),o=!0,a===i&&t()}))}static or(e){let t=yt.resolve(!1);for(const r of e)t=t.next((i=>i?yt.resolve(i):r()));return t}static forEach(e,t){const r=[];return e.forEach(((i,a)=>{r.push(t.call(this,i,a))})),this.waitFor(r)}static mapArray(e,t){return new yt(((r,i)=>{const a=e.length,o=new Array(a);let c=0;for(let u=0;u<a;u++){const h=u;t(e[h]).next((m=>{o[h]=m,++c,c===a&&r(o)}),(m=>i(m)))}}))}static doWhile(e,t){return new yt(((r,i)=>{const a=()=>{e()===!0?t().next((()=>{a()}),i):r()};a()}))}}function Y9(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function B0(n){return n.name==="IndexedDbTransactionError"}class Z2{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Z2.ce=-1;const K5=-1;function ev(n){return n==null}function i2(n){return n===0&&1/n==-1/0}function $9(n){return typeof n=="number"&&Number.isInteger(n)&&!i2(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const pC="";function K9(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=eS(e)),e=X9(n.get(t),e);return eS(e)}function X9(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const a=n.charAt(i);switch(a){case"\0":t+="";break;case pC:t+="";break;default:t+=a}}return t}function eS(n){return n+pC+""}function tS(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Kh(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function gC(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Ni{constructor(e,t){this.comparator=e,this.root=t||ss.EMPTY}insert(e,t){return new Ni(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ss.BLACK,null,null))}remove(e){return new Ni(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ss.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new s1(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new s1(this.root,e,this.comparator,!1)}getReverseIterator(){return new s1(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new s1(this.root,e,this.comparator,!0)}}class s1{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ss{constructor(e,t,r,i,a){this.key=e,this.value=t,this.color=r??ss.RED,this.left=i??ss.EMPTY,this.right=a??ss.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,a){return new ss(e??this.key,t??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,r),null):a===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ss.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return ss.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ss.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ss.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Sn(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Sn(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Sn(27949);return e+(this.isRed()?0:1)}}ss.EMPTY=null,ss.RED=!0,ss.BLACK=!1;ss.EMPTY=new class{constructor(){this.size=0}get key(){throw Sn(57766)}get value(){throw Sn(16141)}get color(){throw Sn(16727)}get left(){throw Sn(29726)}get right(){throw Sn(36894)}copy(e,t,r,i,a){return this}insert(e,t,r){return new ss(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Sa{constructor(e){this.comparator=e,this.data=new Ni(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new nS(this.data.getIterator())}getIteratorFrom(e){return new nS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof Sa)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Sa(this.comparator);return t.data=e,t}}class nS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Uo{constructor(e){this.fields=e,e.sort(Ba.comparator)}static empty(){return new Uo([])}unionWith(e){let t=new Sa(Ba.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Uo(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return S0(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}class vC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ha{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new vC("Invalid base64 string: "+a):a}})(e);return new Ha(t)}static fromUint8Array(e){const t=(function(i){let a="";for(let o=0;o<i.length;++o)a+=String.fromCharCode(i[o]);return a})(e);return new Ha(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Jn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ha.EMPTY_BYTE_STRING=new Ha("");const J9=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Bh(n){if(wr(!!n,39018),typeof n=="string"){let e=0;const t=J9.exec(n);if(wr(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Yi(n.seconds),nanos:Yi(n.nanos)}}function Yi(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Uh(n){return typeof n=="string"?Ha.fromBase64String(n):Ha.fromUint8Array(n)}const _C="server_timestamp",yC="__type__",xC="__previous_value__",wC="__local_write_time__";function X5(n){return(n?.mapValue?.fields||{})[yC]?.stringValue===_C}function tv(n){const e=n.mapValue.fields[xC];return X5(e)?tv(e):e}function yp(n){const e=Bh(n.mapValue.fields[wC].timestampValue);return new Qr(e.seconds,e.nanos)}class Q9{constructor(e,t,r,i,a,o,c,u,h,m){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=h,this.isUsingEmulator=m}}const a2="(default)";class T0{constructor(e,t){this.projectId=e,this.database=t||a2}static empty(){return new T0("","")}get isDefaultDatabase(){return this.database===a2}isEqual(e){return e instanceof T0&&e.projectId===this.projectId&&e.database===this.database}}const bC="__type__",Z9="__max__",o1={mapValue:{}},EC="__vector__",s2="value";function Vh(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?X5(n)?4:tF(n)?9007199254740991:eF(n)?10:11:Sn(28295,{value:n})}function Mc(n,e){if(n===e)return!0;const t=Vh(n);if(t!==Vh(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return yp(n).isEqual(yp(e));case 3:return(function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const o=Bh(i.timestampValue),c=Bh(a.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(i,a){return Uh(i.bytesValue).isEqual(Uh(a.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(i,a){return Yi(i.geoPointValue.latitude)===Yi(a.geoPointValue.latitude)&&Yi(i.geoPointValue.longitude)===Yi(a.geoPointValue.longitude)})(n,e);case 2:return(function(i,a){if("integerValue"in i&&"integerValue"in a)return Yi(i.integerValue)===Yi(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const o=Yi(i.doubleValue),c=Yi(a.doubleValue);return o===c?i2(o)===i2(c):isNaN(o)&&isNaN(c)}return!1})(n,e);case 9:return S0(n.arrayValue.values||[],e.arrayValue.values||[],Mc);case 10:case 11:return(function(i,a){const o=i.mapValue.fields||{},c=a.mapValue.fields||{};if(tS(o)!==tS(c))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(c[u]===void 0||!Mc(o[u],c[u])))return!1;return!0})(n,e);default:return Sn(52216,{left:n})}}function xp(n,e){return(n.values||[]).find((t=>Mc(t,e)))!==void 0}function A0(n,e){if(n===e)return 0;const t=Vh(n),r=Vh(e);if(t!==r)return Jn(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Jn(n.booleanValue,e.booleanValue);case 2:return(function(a,o){const c=Yi(a.integerValue||a.doubleValue),u=Yi(o.integerValue||o.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1})(n,e);case 3:return rS(n.timestampValue,e.timestampValue);case 4:return rS(yp(n),yp(e));case 5:return Mx(n.stringValue,e.stringValue);case 6:return(function(a,o){const c=Uh(a),u=Uh(o);return c.compareTo(u)})(n.bytesValue,e.bytesValue);case 7:return(function(a,o){const c=a.split("/"),u=o.split("/");for(let h=0;h<c.length&&h<u.length;h++){const m=Jn(c[h],u[h]);if(m!==0)return m}return Jn(c.length,u.length)})(n.referenceValue,e.referenceValue);case 8:return(function(a,o){const c=Jn(Yi(a.latitude),Yi(o.latitude));return c!==0?c:Jn(Yi(a.longitude),Yi(o.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return iS(n.arrayValue,e.arrayValue);case 10:return(function(a,o){const c=a.fields||{},u=o.fields||{},h=c[s2]?.arrayValue,m=u[s2]?.arrayValue,g=Jn(h?.values?.length||0,m?.values?.length||0);return g!==0?g:iS(h,m)})(n.mapValue,e.mapValue);case 11:return(function(a,o){if(a===o1.mapValue&&o===o1.mapValue)return 0;if(a===o1.mapValue)return 1;if(o===o1.mapValue)return-1;const c=a.fields||{},u=Object.keys(c),h=o.fields||{},m=Object.keys(h);u.sort(),m.sort();for(let g=0;g<u.length&&g<m.length;++g){const _=Mx(u[g],m[g]);if(_!==0)return _;const v=A0(c[u[g]],h[m[g]]);if(v!==0)return v}return Jn(u.length,m.length)})(n.mapValue,e.mapValue);default:throw Sn(23264,{he:t})}}function rS(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Jn(n,e);const t=Bh(n),r=Bh(e),i=Jn(t.seconds,r.seconds);return i!==0?i:Jn(t.nanos,r.nanos)}function iS(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const a=A0(t[i],r[i]);if(a)return a}return Jn(t.length,r.length)}function N0(n){return Px(n)}function Px(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=Bh(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Uh(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return pn.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",i=!0;for(const a of t.values||[])i?i=!1:r+=",",r+=Px(a);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let i="{",a=!0;for(const o of r)a?a=!1:i+=",",i+=`${o}:${Px(t.fields[o])}`;return i+"}"})(n.mapValue):Sn(61005,{value:n})}function U1(n){switch(Vh(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=tv(n);return e?16+U1(e):16;case 5:return 2*n.stringValue.length;case 6:return Uh(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,a)=>i+U1(a)),0)})(n.arrayValue);case 10:case 11:return(function(r){let i=0;return Kh(r.fields,((a,o)=>{i+=a.length+U1(o)})),i})(n.mapValue);default:throw Sn(13486,{value:n})}}function aS(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Fx(n){return!!n&&"integerValue"in n}function J5(n){return!!n&&"arrayValue"in n}function sS(n){return!!n&&"nullValue"in n}function oS(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function V1(n){return!!n&&"mapValue"in n}function eF(n){return(n?.mapValue?.fields||{})[bC]?.stringValue===EC}function Qm(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return Kh(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=Qm(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Qm(n.arrayValue.values[t]);return e}return{...n}}function tF(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===Z9}class mo{constructor(e){this.value=e}static empty(){return new mo({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!V1(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Qm(t)}setAll(e){let t=Ba.emptyPath(),r={},i=[];e.forEach(((o,c)=>{if(!t.isImmediateParentOf(c)){const u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=c.popLast()}o?r[c.lastSegment()]=Qm(o):i.push(c.lastSegment())}));const a=this.getFieldsMap(t);this.applyChanges(a,r,i)}delete(e){const t=this.field(e.popLast());V1(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Mc(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];V1(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Kh(t,((i,a)=>e[i]=a));for(const i of r)delete e[i]}clone(){return new mo(Qm(this.value))}}function SC(n){const e=[];return Kh(n.fields,((t,r)=>{const i=new Ba([t]);if(V1(r)){const a=SC(r.mapValue).fields;if(a.length===0)e.push(i);else for(const o of a)e.push(i.child(o))}else e.push(i)})),new Uo(e)}class Es{constructor(e,t,r,i,a,o,c){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=c}static newInvalidDocument(e){return new Es(e,0,In.min(),In.min(),In.min(),mo.empty(),0)}static newFoundDocument(e,t,r,i){return new Es(e,1,t,In.min(),r,i,0)}static newNoDocument(e,t){return new Es(e,2,t,In.min(),In.min(),mo.empty(),0)}static newUnknownDocument(e,t){return new Es(e,3,t,In.min(),In.min(),mo.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(In.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mo.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=In.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Es&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Es(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class o2{constructor(e,t){this.position=e,this.inclusive=t}}function lS(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const a=e[i],o=n.position[i];if(a.field.isKeyField()?r=pn.comparator(pn.fromName(o.referenceValue),t.key):r=A0(o,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function cS(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Mc(n.position[t],e.position[t]))return!1;return!0}class wp{constructor(e,t="asc"){this.field=e,this.dir=t}}function nF(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class TC{}class oa extends TC{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new iF(e,t,r):t==="array-contains"?new oF(e,r):t==="in"?new lF(e,r):t==="not-in"?new cF(e,r):t==="array-contains-any"?new uF(e,r):new oa(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new aF(e,r):new sF(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(A0(t,this.value)):t!==null&&Vh(this.value)===Vh(t)&&this.matchesComparison(A0(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Sn(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ql extends TC{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Ql(e,t)}matches(e){return AC(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function AC(n){return n.op==="and"}function NC(n){return rF(n)&&AC(n)}function rF(n){for(const e of n.filters)if(e instanceof Ql)return!1;return!0}function Bx(n){if(n instanceof oa)return n.field.canonicalString()+n.op.toString()+N0(n.value);if(NC(n))return n.filters.map((e=>Bx(e))).join(",");{const e=n.filters.map((t=>Bx(t))).join(",");return`${n.op}(${e})`}}function CC(n,e){return n instanceof oa?(function(r,i){return i instanceof oa&&r.op===i.op&&r.field.isEqual(i.field)&&Mc(r.value,i.value)})(n,e):n instanceof Ql?(function(r,i){return i instanceof Ql&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((a,o,c)=>a&&CC(o,i.filters[c])),!0):!1})(n,e):void Sn(19439)}function IC(n){return n instanceof oa?(function(t){return`${t.field.canonicalString()} ${t.op} ${N0(t.value)}`})(n):n instanceof Ql?(function(t){return t.op.toString()+" {"+t.getFilters().map(IC).join(" ,")+"}"})(n):"Filter"}class iF extends oa{constructor(e,t,r){super(e,t,r),this.key=pn.fromName(r.referenceValue)}matches(e){const t=pn.comparator(e.key,this.key);return this.matchesComparison(t)}}class aF extends oa{constructor(e,t){super(e,"in",t),this.keys=RC("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class sF extends oa{constructor(e,t){super(e,"not-in",t),this.keys=RC("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function RC(n,e){return(e.arrayValue?.values||[]).map((t=>pn.fromName(t.referenceValue)))}class oF extends oa{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return J5(t)&&xp(t.arrayValue,this.value)}}class lF extends oa{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&xp(this.value.arrayValue,t)}}class cF extends oa{constructor(e,t){super(e,"not-in",t)}matches(e){if(xp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!xp(this.value.arrayValue,t)}}class uF extends oa{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!J5(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>xp(this.value.arrayValue,r)))}}class hF{constructor(e,t=null,r=[],i=[],a=null,o=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=c,this.Te=null}}function uS(n,e=null,t=[],r=[],i=null,a=null,o=null){return new hF(n,e,t,r,i,a,o)}function Q5(n){const e=Dn(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>Bx(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),ev(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>N0(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>N0(r))).join(",")),e.Te=t}return e.Te}function Z5(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!nF(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!CC(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!cS(n.startAt,e.startAt)&&cS(n.endAt,e.endAt)}function Ux(n){return pn.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class U0{constructor(e,t=null,r=[],i=[],a=null,o="F",c=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=c,this.endAt=u,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function fF(n,e,t,r,i,a,o,c){return new U0(n,e,t,r,i,a,o,c)}function nv(n){return new U0(n)}function hS(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function kC(n){return n.collectionGroup!==null}function Zm(n){const e=Dn(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let c=new Sa(Ba.comparator);return o.filters.forEach((u=>{u.getFlattenedFilters().forEach((h=>{h.isInequality()&&(c=c.add(h.field))}))})),c})(e).forEach((a=>{t.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new wp(a,r))})),t.has(Ba.keyField().canonicalString())||e.Ie.push(new wp(Ba.keyField(),r))}return e.Ie}function Oc(n){const e=Dn(n);return e.Ee||(e.Ee=dF(e,Zm(n))),e.Ee}function dF(n,e){if(n.limitType==="F")return uS(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((i=>{const a=i.dir==="desc"?"asc":"desc";return new wp(i.field,a)}));const t=n.endAt?new o2(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new o2(n.startAt.position,n.startAt.inclusive):null;return uS(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Vx(n,e){const t=n.filters.concat([e]);return new U0(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function zx(n,e,t){return new U0(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function rv(n,e){return Z5(Oc(n),Oc(e))&&n.limitType===e.limitType}function OC(n){return`${Q5(Oc(n))}|lt:${n.limitType}`}function Qd(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((i=>IC(i))).join(", ")}]`),ev(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((i=>(function(o){return`${o.field.canonicalString()} (${o.dir})`})(i))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((i=>N0(i))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((i=>N0(i))).join(",")),`Target(${r})`})(Oc(n))}; limitType=${n.limitType})`}function iv(n,e){return e.isFoundDocument()&&(function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):pn.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(n,e)&&(function(r,i){for(const a of Zm(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0})(n,e)&&(function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0})(n,e)&&(function(r,i){return!(r.startAt&&!(function(o,c,u){const h=lS(o,c,u);return o.inclusive?h<=0:h<0})(r.startAt,Zm(r),i)||r.endAt&&!(function(o,c,u){const h=lS(o,c,u);return o.inclusive?h>=0:h>0})(r.endAt,Zm(r),i))})(n,e)}function mF(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function DC(n){return(e,t)=>{let r=!1;for(const i of Zm(n)){const a=pF(i,e,t);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function pF(n,e,t){const r=n.field.isKeyField()?pn.comparator(e.key,t.key):(function(a,o,c){const u=o.data.field(a),h=c.data.field(a);return u!==null&&h!==null?A0(u,h):Sn(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Sn(19790,{direction:n.dir})}}class Gf{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Kh(this.inner,((t,r)=>{for(const[i,a]of r)e(i,a)}))}isEmpty(){return gC(this.inner)}size(){return this.innerSize}}const gF=new Ni(pn.comparator);function Ou(){return gF}const LC=new Ni(pn.comparator);function Ym(...n){let e=LC;for(const t of n)e=e.insert(t.key,t);return e}function jC(n){let e=LC;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function Ef(){return ep()}function MC(){return ep()}function ep(){return new Gf((n=>n.toString()),((n,e)=>n.isEqual(e)))}const vF=new Ni(pn.comparator),_F=new Sa(pn.comparator);function Qn(...n){let e=_F;for(const t of n)e=e.add(t);return e}const yF=new Sa(Jn);function xF(){return yF}function ew(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:i2(e)?"-0":e}}function PC(n){return{integerValue:""+n}}function wF(n,e){return $9(e)?PC(e):ew(n,e)}class av{constructor(){this._=void 0}}function bF(n,e,t){return n instanceof bp?(function(i,a){const o={fields:{[yC]:{stringValue:_C},[wC]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&X5(a)&&(a=tv(a)),a&&(o.fields[xC]=a),{mapValue:o}})(t,e):n instanceof C0?BC(n,e):n instanceof I0?UC(n,e):(function(i,a){const o=FC(i,a),c=fS(o)+fS(i.Ae);return Fx(o)&&Fx(i.Ae)?PC(c):ew(i.serializer,c)})(n,e)}function EF(n,e,t){return n instanceof C0?BC(n,e):n instanceof I0?UC(n,e):t}function FC(n,e){return n instanceof l2?(function(r){return Fx(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class bp extends av{}class C0 extends av{constructor(e){super(),this.elements=e}}function BC(n,e){const t=VC(e);for(const r of n.elements)t.some((i=>Mc(i,r)))||t.push(r);return{arrayValue:{values:t}}}class I0 extends av{constructor(e){super(),this.elements=e}}function UC(n,e){let t=VC(e);for(const r of n.elements)t=t.filter((i=>!Mc(i,r)));return{arrayValue:{values:t}}}class l2 extends av{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function fS(n){return Yi(n.integerValue||n.doubleValue)}function VC(n){return J5(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class tw{constructor(e,t){this.field=e,this.transform=t}}function SF(n,e){return n.field.isEqual(e.field)&&(function(r,i){return r instanceof C0&&i instanceof C0||r instanceof I0&&i instanceof I0?S0(r.elements,i.elements,Mc):r instanceof l2&&i instanceof l2?Mc(r.Ae,i.Ae):r instanceof bp&&i instanceof bp})(n.transform,e.transform)}class TF{constructor(e,t){this.version=e,this.transformResults=t}}class gl{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new gl}static exists(e){return new gl(void 0,e)}static updateTime(e){return new gl(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function z1(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class sv{}function zC(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new nw(n.key,gl.none()):new Up(n.key,n.data,gl.none());{const t=n.data,r=mo.empty();let i=new Sa(Ba.comparator);for(let a of e.fields)if(!i.has(a)){let o=t.field(a);o===null&&a.length>1&&(a=a.popLast(),o=t.field(a)),o===null?r.delete(a):r.set(a,o),i=i.add(a)}return new Xh(n.key,r,new Uo(i.toArray()),gl.none())}}function AF(n,e,t){n instanceof Up?(function(i,a,o){const c=i.value.clone(),u=mS(i.fieldTransforms,a,o.transformResults);c.setAll(u),a.convertToFoundDocument(o.version,c).setHasCommittedMutations()})(n,e,t):n instanceof Xh?(function(i,a,o){if(!z1(i.precondition,a))return void a.convertToUnknownDocument(o.version);const c=mS(i.fieldTransforms,a,o.transformResults),u=a.data;u.setAll(qC(i)),u.setAll(c),a.convertToFoundDocument(o.version,u).setHasCommittedMutations()})(n,e,t):(function(i,a,o){a.convertToNoDocument(o.version).setHasCommittedMutations()})(0,e,t)}function tp(n,e,t,r){return n instanceof Up?(function(a,o,c,u){if(!z1(a.precondition,o))return c;const h=a.value.clone(),m=pS(a.fieldTransforms,u,o);return h.setAll(m),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),null})(n,e,t,r):n instanceof Xh?(function(a,o,c,u){if(!z1(a.precondition,o))return c;const h=pS(a.fieldTransforms,u,o),m=o.data;return m.setAll(qC(a)),m.setAll(h),o.convertToFoundDocument(o.version,m).setHasLocalMutations(),c===null?null:c.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((g=>g.field)))})(n,e,t,r):(function(a,o,c){return z1(a.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c})(n,e,t)}function NF(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),a=FC(r.transform,i||null);a!=null&&(t===null&&(t=mo.empty()),t.set(r.field,a))}return t||null}function dS(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&S0(r,i,((a,o)=>SF(a,o)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Up extends sv{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Xh extends sv{constructor(e,t,r,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function qC(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function mS(n,e,t){const r=new Map;wr(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let i=0;i<t.length;i++){const a=n[i],o=a.transform,c=e.data.field(a.field);r.set(a.field,EF(o,c,t[i]))}return r}function pS(n,e,t){const r=new Map;for(const i of n){const a=i.transform,o=t.data.field(i.field);r.set(i.field,bF(a,o,e))}return r}class nw extends sv{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class CF extends sv{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class IF{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&AF(a,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=tp(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=tp(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=MC();return this.mutations.forEach((i=>{const a=e.get(i.key),o=a.overlayedDocument;let c=this.applyToLocalView(o,a.mutatedFields);c=t.has(i.key)?null:c;const u=zC(o,c);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(In.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Qn())}isEqual(e){return this.batchId===e.batchId&&S0(this.mutations,e.mutations,((t,r)=>dS(t,r)))&&S0(this.baseMutations,e.baseMutations,((t,r)=>dS(t,r)))}}class rw{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){wr(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return vF})();const a=e.mutations;for(let o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new rw(e,t,r,i)}}class RF{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class kF{constructor(e,t){this.count=e,this.unchangedNames=t}}var aa,sr;function OF(n){switch(n){case pt.OK:return Sn(64938);case pt.CANCELLED:case pt.UNKNOWN:case pt.DEADLINE_EXCEEDED:case pt.RESOURCE_EXHAUSTED:case pt.INTERNAL:case pt.UNAVAILABLE:case pt.UNAUTHENTICATED:return!1;case pt.INVALID_ARGUMENT:case pt.NOT_FOUND:case pt.ALREADY_EXISTS:case pt.PERMISSION_DENIED:case pt.FAILED_PRECONDITION:case pt.ABORTED:case pt.OUT_OF_RANGE:case pt.UNIMPLEMENTED:case pt.DATA_LOSS:return!0;default:return Sn(15467,{code:n})}}function HC(n){if(n===void 0)return ku("GRPC error has no .code"),pt.UNKNOWN;switch(n){case aa.OK:return pt.OK;case aa.CANCELLED:return pt.CANCELLED;case aa.UNKNOWN:return pt.UNKNOWN;case aa.DEADLINE_EXCEEDED:return pt.DEADLINE_EXCEEDED;case aa.RESOURCE_EXHAUSTED:return pt.RESOURCE_EXHAUSTED;case aa.INTERNAL:return pt.INTERNAL;case aa.UNAVAILABLE:return pt.UNAVAILABLE;case aa.UNAUTHENTICATED:return pt.UNAUTHENTICATED;case aa.INVALID_ARGUMENT:return pt.INVALID_ARGUMENT;case aa.NOT_FOUND:return pt.NOT_FOUND;case aa.ALREADY_EXISTS:return pt.ALREADY_EXISTS;case aa.PERMISSION_DENIED:return pt.PERMISSION_DENIED;case aa.FAILED_PRECONDITION:return pt.FAILED_PRECONDITION;case aa.ABORTED:return pt.ABORTED;case aa.OUT_OF_RANGE:return pt.OUT_OF_RANGE;case aa.UNIMPLEMENTED:return pt.UNIMPLEMENTED;case aa.DATA_LOSS:return pt.DATA_LOSS;default:return Sn(39323,{code:n})}}(sr=aa||(aa={}))[sr.OK=0]="OK",sr[sr.CANCELLED=1]="CANCELLED",sr[sr.UNKNOWN=2]="UNKNOWN",sr[sr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",sr[sr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",sr[sr.NOT_FOUND=5]="NOT_FOUND",sr[sr.ALREADY_EXISTS=6]="ALREADY_EXISTS",sr[sr.PERMISSION_DENIED=7]="PERMISSION_DENIED",sr[sr.UNAUTHENTICATED=16]="UNAUTHENTICATED",sr[sr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",sr[sr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",sr[sr.ABORTED=10]="ABORTED",sr[sr.OUT_OF_RANGE=11]="OUT_OF_RANGE",sr[sr.UNIMPLEMENTED=12]="UNIMPLEMENTED",sr[sr.INTERNAL=13]="INTERNAL",sr[sr.UNAVAILABLE=14]="UNAVAILABLE",sr[sr.DATA_LOSS=15]="DATA_LOSS";function DF(){return new TextEncoder}const LF=new Lh([4294967295,4294967295],0);function gS(n){const e=DF().encode(n),t=new rC;return t.update(e),new Uint8Array(t.digest())}function vS(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Lh([t,r],0),new Lh([i,a],0)]}class iw{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new $m(`Invalid padding: ${t}`);if(r<0)throw new $m(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new $m(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new $m(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Lh.fromNumber(this.ge)}ye(e,t,r){let i=e.add(t.multiply(Lh.fromNumber(r)));return i.compare(LF)===1&&(i=new Lh([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=gS(e),[r,i]=vS(t);for(let a=0;a<this.hashCount;a++){const o=this.ye(r,i,a);if(!this.we(o))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),o=new iw(a,i,t);return r.forEach((c=>o.insert(c))),o}insert(e){if(this.ge===0)return;const t=gS(e),[r,i]=vS(t);for(let a=0;a<this.hashCount;a++){const o=this.ye(r,i,a);this.Se(o)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class $m extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ov{constructor(e,t,r,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,Vp.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new ov(In.min(),i,new Ni(Jn),Ou(),Qn())}}class Vp{constructor(e,t,r,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Vp(r,t,Qn(),Qn(),Qn())}}class q1{constructor(e,t,r,i){this.be=e,this.removedTargetIds=t,this.key=r,this.De=i}}class GC{constructor(e,t){this.targetId=e,this.Ce=t}}class WC{constructor(e,t,r=Ha.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class _S{constructor(){this.ve=0,this.Fe=yS(),this.Me=Ha.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Qn(),t=Qn(),r=Qn();return this.Fe.forEach(((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Sn(38017,{changeType:a})}})),new Vp(this.Me,this.xe,e,t,r)}qe(){this.Oe=!1,this.Fe=yS()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,wr(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class jF{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ou(),this.Je=l1(),this.He=l1(),this.Ye=new Ni(Jn)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:Sn(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,i)=>{this.rt(i)&&t(i)}))}st(e){const t=e.targetId,r=e.Ce.count,i=this.ot(t);if(i){const a=i.target;if(Ux(a))if(r===0){const o=new pn(a.path);this.et(t,o,Es.newNoDocument(o,In.min()))}else wr(r===1,20013,{expectedCount:r});else{const o=this._t(t);if(o!==r){const c=this.ut(e),u=c?this.ct(c,e,o):1;if(u!==0){this.it(t);const h=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,h)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=t;let o,c;try{o=Uh(r).toUint8Array()}catch(u){if(u instanceof vC)return Df("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{c=new iw(o,i,a)}catch(u){return Df(u instanceof $m?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return c.ge===0?null:c}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let i=0;return r.forEach((a=>{const o=this.Ge.ht(),c=`projects/${o.projectId}/databases/${o.database}/documents/${a.path.canonicalString()}`;e.mightContain(c)||(this.et(t,a,null),i++)})),i}Tt(e){const t=new Map;this.ze.forEach(((a,o)=>{const c=this.ot(o);if(c){if(a.current&&Ux(c.target)){const u=new pn(c.target.path);this.It(u).has(o)||this.Et(o,u)||this.et(o,u,Es.newNoDocument(u,e))}a.Be&&(t.set(o,a.ke()),a.qe())}}));let r=Qn();this.He.forEach(((a,o)=>{let c=!0;o.forEachWhile((u=>{const h=this.ot(u);return!h||h.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)})),c&&(r=r.add(a))})),this.je.forEach(((a,o)=>o.setReadTime(e)));const i=new ov(e,t,this.Ye,this.je,r);return this.je=Ou(),this.Je=l1(),this.He=l1(),this.Ye=new Ni(Jn),i}Xe(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,r),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,t)?i.Qe(t,1):i.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new _S,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Sa(Jn),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Sa(Jn),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||en("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new _S),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function l1(){return new Ni(pn.comparator)}function yS(){return new Ni(pn.comparator)}const MF={asc:"ASCENDING",desc:"DESCENDING"},PF={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},FF={and:"AND",or:"OR"};class BF{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function qx(n,e){return n.useProto3Json||ev(e)?e:{value:e}}function c2(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function YC(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function UF(n,e){return c2(n,e.toTimestamp())}function Dc(n){return wr(!!n,49232),In.fromTimestamp((function(t){const r=Bh(t);return new Qr(r.seconds,r.nanos)})(n))}function aw(n,e){return Hx(n,e).canonicalString()}function Hx(n,e){const t=(function(i){return new Jr(["projects",i.projectId,"databases",i.database])})(n).child("documents");return e===void 0?t:t.child(e)}function $C(n){const e=Jr.fromString(n);return wr(ZC(e),10190,{key:e.toString()}),e}function Gx(n,e){return aw(n.databaseId,e.path)}function dy(n,e){const t=$C(e);if(t.get(1)!==n.databaseId.projectId)throw new Yt(pt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Yt(pt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new pn(XC(t))}function KC(n,e){return aw(n.databaseId,e)}function VF(n){const e=$C(n);return e.length===4?Jr.emptyPath():XC(e)}function Wx(n){return new Jr(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function XC(n){return wr(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function xS(n,e,t){return{name:Gx(n,e),fields:t.value.mapValue.fields}}function zF(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Sn(39313,{state:h})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=(function(h,m){return h.useProto3Json?(wr(m===void 0||typeof m=="string",58123),Ha.fromBase64String(m||"")):(wr(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),Ha.fromUint8Array(m||new Uint8Array))})(n,e.targetChange.resumeToken),o=e.targetChange.cause,c=o&&(function(h){const m=h.code===void 0?pt.UNKNOWN:HC(h.code);return new Yt(m,h.message||"")})(o);t=new WC(r,i,a,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=dy(n,r.document.name),a=Dc(r.document.updateTime),o=r.document.createTime?Dc(r.document.createTime):In.min(),c=new mo({mapValue:{fields:r.document.fields}}),u=Es.newFoundDocument(i,a,o,c),h=r.targetIds||[],m=r.removedTargetIds||[];t=new q1(h,m,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=dy(n,r.document),a=r.readTime?Dc(r.readTime):In.min(),o=Es.newNoDocument(i,a),c=r.removedTargetIds||[];t=new q1([],c,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=dy(n,r.document),a=r.removedTargetIds||[];t=new q1([],a,i,null)}else{if(!("filter"in e))return Sn(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,o=new kF(i,a),c=r.targetId;t=new GC(c,o)}}return t}function qF(n,e){let t;if(e instanceof Up)t={update:xS(n,e.key,e.value)};else if(e instanceof nw)t={delete:Gx(n,e.key)};else if(e instanceof Xh)t={update:xS(n,e.key,e.data),updateMask:QF(e.fieldMask)};else{if(!(e instanceof CF))return Sn(16599,{Vt:e.type});t={verify:Gx(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(a,o){const c=o.transform;if(c instanceof bp)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof C0)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof I0)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof l2)return{fieldPath:o.field.canonicalString(),increment:c.Ae};throw Sn(20930,{transform:o.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(i,a){return a.updateTime!==void 0?{updateTime:UF(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Sn(27497)})(n,e.precondition)),t}function HF(n,e){return n&&n.length>0?(wr(e!==void 0,14353),n.map((t=>(function(i,a){let o=i.updateTime?Dc(i.updateTime):Dc(a);return o.isEqual(In.min())&&(o=Dc(a)),new TF(o,i.transformResults||[])})(t,e)))):[]}function GF(n,e){return{documents:[KC(n,e.path)]}}function WF(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=KC(n,i);const a=(function(h){if(h.length!==0)return QC(Ql.create(h,"and"))})(e.filters);a&&(t.structuredQuery.where=a);const o=(function(h){if(h.length!==0)return h.map((m=>(function(_){return{field:Zd(_.field),direction:KF(_.dir)}})(m)))})(e.orderBy);o&&(t.structuredQuery.orderBy=o);const c=qx(n,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=(function(h){return{before:h.inclusive,values:h.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(h){return{before:!h.inclusive,values:h.position}})(e.endAt)),{ft:t,parent:i}}function YF(n){let e=VF(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){wr(r===1,65062);const m=t.from[0];m.allDescendants?i=m.collectionId:e=e.child(m.collectionId)}let a=[];t.where&&(a=(function(g){const _=JC(g);return _ instanceof Ql&&NC(_)?_.getFilters():[_]})(t.where));let o=[];t.orderBy&&(o=(function(g){return g.map((_=>(function(b){return new wp(e0(b.field),(function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(b.direction))})(_)))})(t.orderBy));let c=null;t.limit&&(c=(function(g){let _;return _=typeof g=="object"?g.value:g,ev(_)?null:_})(t.limit));let u=null;t.startAt&&(u=(function(g){const _=!!g.before,v=g.values||[];return new o2(v,_)})(t.startAt));let h=null;return t.endAt&&(h=(function(g){const _=!g.before,v=g.values||[];return new o2(v,_)})(t.endAt)),fF(e,i,o,a,c,"F",u,h)}function $F(n,e){const t=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Sn(28987,{purpose:i})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function JC(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=e0(t.unaryFilter.field);return oa.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=e0(t.unaryFilter.field);return oa.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=e0(t.unaryFilter.field);return oa.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=e0(t.unaryFilter.field);return oa.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Sn(61313);default:return Sn(60726)}})(n):n.fieldFilter!==void 0?(function(t){return oa.create(e0(t.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Sn(58110);default:return Sn(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return Ql.create(t.compositeFilter.filters.map((r=>JC(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Sn(1026)}})(t.compositeFilter.op))})(n):Sn(30097,{filter:n})}function KF(n){return MF[n]}function XF(n){return PF[n]}function JF(n){return FF[n]}function Zd(n){return{fieldPath:n.canonicalString()}}function e0(n){return Ba.fromServerFormat(n.fieldPath)}function QC(n){return n instanceof oa?(function(t){if(t.op==="=="){if(oS(t.value))return{unaryFilter:{field:Zd(t.field),op:"IS_NAN"}};if(sS(t.value))return{unaryFilter:{field:Zd(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(oS(t.value))return{unaryFilter:{field:Zd(t.field),op:"IS_NOT_NAN"}};if(sS(t.value))return{unaryFilter:{field:Zd(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Zd(t.field),op:XF(t.op),value:t.value}}})(n):n instanceof Ql?(function(t){const r=t.getFilters().map((i=>QC(i)));return r.length===1?r[0]:{compositeFilter:{op:JF(t.op),filters:r}}})(n):Sn(54877,{filter:n})}function QF(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function ZC(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}class Ah{constructor(e,t,r,i,a=In.min(),o=In.min(),c=Ha.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=c,this.expectedCount=u}withSequenceNumber(e){return new Ah(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ah(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ah(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ah(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class ZF{constructor(e){this.yt=e}}function eB(n){const e=YF({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?zx(e,e.limit,"L"):e}class tB{constructor(){this.Cn=new nB}addToCollectionParentIndex(e,t){return this.Cn.add(t),yt.resolve()}getCollectionParents(e,t){return yt.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return yt.resolve()}deleteFieldIndex(e,t){return yt.resolve()}deleteAllFieldIndexes(e){return yt.resolve()}createTargetIndexes(e,t){return yt.resolve()}getDocumentsMatchingTarget(e,t){return yt.resolve(null)}getIndexType(e,t){return yt.resolve(0)}getFieldIndexes(e,t){return yt.resolve([])}getNextCollectionGroupToUpdate(e){return yt.resolve(null)}getMinOffset(e,t){return yt.resolve(Fh.min())}getMinOffsetFromCollectionGroup(e,t){return yt.resolve(Fh.min())}updateCollectionGroup(e,t,r){return yt.resolve()}updateIndexEntries(e,t){return yt.resolve()}}class nB{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Sa(Jr.comparator),a=!i.has(r);return this.index[t]=i.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Sa(Jr.comparator)).toArray()}}const wS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},e8=41943040;class ho{static withCacheSize(e){return new ho(e,ho.DEFAULT_COLLECTION_PERCENTILE,ho.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}ho.DEFAULT_COLLECTION_PERCENTILE=10,ho.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ho.DEFAULT=new ho(e8,ho.DEFAULT_COLLECTION_PERCENTILE,ho.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ho.DISABLED=new ho(-1,0,0);class R0{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new R0(0)}static cr(){return new R0(-1)}}const bS="LruGarbageCollector",rB=1048576;function ES([n,e],[t,r]){const i=Jn(n,t);return i===0?Jn(e,r):i}class iB{constructor(e){this.Ir=e,this.buffer=new Sa(ES),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();ES(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class aB{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){en(bS,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){B0(t)?en(bS,"Ignoring IndexedDB error during garbage collection: ",t):await F0(t)}await this.Vr(3e5)}))}}class sB{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return yt.resolve(Z2.ce);const r=new iB(t);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.mr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(en("LruGarbageCollector","Garbage collection skipped; disabled"),yt.resolve(wS)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(en("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),wS):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let r,i,a,o,c,u,h;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((g=>(g>this.params.maximumSequenceNumbersToCollect?(en("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),i=this.params.maximumSequenceNumbersToCollect):i=g,o=Date.now(),this.nthSequenceNumber(e,i)))).next((g=>(r=g,c=Date.now(),this.removeTargets(e,r,t)))).next((g=>(a=g,u=Date.now(),this.removeOrphanedDocuments(e,r)))).next((g=>(h=Date.now(),Jd()<=Xn.DEBUG&&en("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-m}ms
	Determined least recently used ${i} in `+(c-o)+`ms
	Removed ${a} targets in `+(u-c)+`ms
	Removed ${g} documents in `+(h-u)+`ms
Total Duration: ${h-m}ms`),yt.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:g}))))}}function oB(n,e){return new sB(n,e)}class lB{constructor(){this.changes=new Gf((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Es.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?yt.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class cB{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class uB{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,t)))).next((i=>(r!==null&&tp(r.mutation,i,Uo.empty(),Qr.now()),i)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,Qn()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=Qn()){const i=Ef();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,r).next((a=>{let o=Ym();return a.forEach(((c,u)=>{o=o.insert(c,u.overlayedDocument)})),o}))))}getOverlayedDocuments(e,t){const r=Ef();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,Qn())))}populateOverlays(e,t,r){const i=[];return r.forEach((a=>{t.has(a)||i.push(a)})),this.documentOverlayCache.getOverlays(e,i).next((a=>{a.forEach(((o,c)=>{t.set(o,c)}))}))}computeViews(e,t,r,i){let a=Ou();const o=ep(),c=(function(){return ep()})();return t.forEach(((u,h)=>{const m=r.get(h.key);i.has(h.key)&&(m===void 0||m.mutation instanceof Xh)?a=a.insert(h.key,h):m!==void 0?(o.set(h.key,m.mutation.getFieldMask()),tp(m.mutation,h,m.mutation.getFieldMask(),Qr.now())):o.set(h.key,Uo.empty())})),this.recalculateAndSaveOverlays(e,a).next((u=>(u.forEach(((h,m)=>o.set(h,m))),t.forEach(((h,m)=>c.set(h,new cB(m,o.get(h)??null)))),c)))}recalculateAndSaveOverlays(e,t){const r=ep();let i=new Ni(((o,c)=>o-c)),a=Qn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((o=>{for(const c of o)c.keys().forEach((u=>{const h=t.get(u);if(h===null)return;let m=r.get(u)||Uo.empty();m=c.applyToLocalView(h,m),r.set(u,m);const g=(i.get(c.batchId)||Qn()).add(u);i=i.insert(c.batchId,g)}))})).next((()=>{const o=[],c=i.getReverseIterator();for(;c.hasNext();){const u=c.getNext(),h=u.key,m=u.value,g=MC();m.forEach((_=>{if(!a.has(_)){const v=zC(t.get(_),r.get(_));v!==null&&g.set(_,v),a=a.add(_)}})),o.push(this.documentOverlayCache.saveOverlays(e,h,g))}return yt.waitFor(o)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,i){return(function(o){return pn.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):kC(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next((a=>{const o=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-a.size):yt.resolve(Ef());let c=_p,u=a;return o.next((h=>yt.forEach(h,((m,g)=>(c<g.largestBatchId&&(c=g.largestBatchId),a.get(m)?yt.resolve():this.remoteDocumentCache.getEntry(e,m).next((_=>{u=u.insert(m,_)}))))).next((()=>this.populateOverlays(e,h,a))).next((()=>this.computeViews(e,u,h,Qn()))).next((m=>({batchId:c,changes:jC(m)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new pn(t)).next((r=>{let i=Ym();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const a=t.collectionGroup;let o=Ym();return this.indexManager.getCollectionParents(e,a).next((c=>yt.forEach(c,(u=>{const h=(function(g,_){return new U0(_,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)})(t,u.child(a));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next((m=>{m.forEach(((g,_)=>{o=o.insert(g,_)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,t,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((o=>(a=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,i)))).next((o=>{a.forEach(((u,h)=>{const m=h.getKey();o.get(m)===null&&(o=o.insert(m,Es.newInvalidDocument(m)))}));let c=Ym();return o.forEach(((u,h)=>{const m=a.get(u);m!==void 0&&tp(m.mutation,h,Uo.empty(),Qr.now()),iv(t,h)&&(c=c.insert(u,h))})),c}))}}class hB{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return yt.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(i){return{id:i.id,version:i.version,createTime:Dc(i.createTime)}})(t)),yt.resolve()}getNamedQuery(e,t){return yt.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(i){return{name:i.name,query:eB(i.bundledQuery),readTime:Dc(i.readTime)}})(t)),yt.resolve()}}class fB{constructor(){this.overlays=new Ni(pn.comparator),this.qr=new Map}getOverlay(e,t){return yt.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Ef();return yt.forEach(t,(i=>this.getOverlay(e,i).next((a=>{a!==null&&r.set(i,a)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((i,a)=>{this.St(e,t,a)})),yt.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(r)),yt.resolve()}getOverlaysForCollection(e,t,r){const i=Ef(),a=t.length+1,o=new pn(t.child("")),c=this.overlays.getIteratorFrom(o);for(;c.hasNext();){const u=c.getNext().value,h=u.getKey();if(!t.isPrefixOf(h.path))break;h.path.length===a&&u.largestBatchId>r&&i.set(u.getKey(),u)}return yt.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let a=new Ni(((h,m)=>h-m));const o=this.overlays.getIterator();for(;o.hasNext();){const h=o.getNext().value;if(h.getKey().getCollectionGroup()===t&&h.largestBatchId>r){let m=a.get(h.largestBatchId);m===null&&(m=Ef(),a=a.insert(h.largestBatchId,m)),m.set(h.getKey(),h)}}const c=Ef(),u=a.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach(((h,m)=>c.set(h,m))),!(c.size()>=i)););return yt.resolve(c)}St(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new RF(t,r));let a=this.qr.get(t);a===void 0&&(a=Qn(),this.qr.set(t,a)),this.qr.set(t,a.add(r.key))}}class dB{constructor(){this.sessionToken=Ha.EMPTY_BYTE_STRING}getSessionToken(e){return yt.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,yt.resolve()}}class sw{constructor(){this.Qr=new Sa(Ma.$r),this.Ur=new Sa(Ma.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const r=new Ma(e,t);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Gr(new Ma(e,t))}zr(e,t){e.forEach((r=>this.removeReference(r,t)))}jr(e){const t=new pn(new Jr([])),r=new Ma(t,e),i=new Ma(t,e+1),a=[];return this.Ur.forEachInRange([r,i],(o=>{this.Gr(o),a.push(o.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new pn(new Jr([])),r=new Ma(t,e),i=new Ma(t,e+1);let a=Qn();return this.Ur.forEachInRange([r,i],(o=>{a=a.add(o.key)})),a}containsKey(e){const t=new Ma(e,0),r=this.Qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Ma{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return pn.comparator(e.key,t.key)||Jn(e.Yr,t.Yr)}static Kr(e,t){return Jn(e.Yr,t.Yr)||pn.comparator(e.key,t.key)}}class mB{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Sa(Ma.$r)}checkEmpty(e){return yt.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new IF(a,t,r,i);this.mutationQueue.push(o);for(const c of i)this.Zr=this.Zr.add(new Ma(c.key,a)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return yt.resolve(o)}lookupMutationBatch(e,t){return yt.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.ei(r),a=i<0?0:i;return yt.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return yt.resolve(this.mutationQueue.length===0?K5:this.tr-1)}getAllMutationBatches(e){return yt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Ma(t,0),i=new Ma(t,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,i],(o=>{const c=this.Xr(o.Yr);a.push(c)})),yt.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Sa(Jn);return t.forEach((i=>{const a=new Ma(i,0),o=new Ma(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,o],(c=>{r=r.add(c.Yr)}))})),yt.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let a=r;pn.isDocumentKey(a)||(a=a.child(""));const o=new Ma(new pn(a),0);let c=new Sa(Jn);return this.Zr.forEachWhile((u=>{const h=u.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(c=c.add(u.Yr)),!0)}),o),yt.resolve(this.ti(c))}ti(e){const t=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&t.push(i)})),t}removeMutationBatch(e,t){wr(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return yt.forEach(t.mutations,(i=>{const a=new Ma(i.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,t){const r=new Ma(t,0),i=this.Zr.firstAfterOrEqual(r);return yt.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,yt.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class pB{constructor(e){this.ri=e,this.docs=(function(){return new Ni(pn.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),a=i?i.size:0,o=this.ri(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return yt.resolve(r?r.document.mutableCopy():Es.newInvalidDocument(t))}getEntries(e,t){let r=Ou();return t.forEach((i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Es.newInvalidDocument(i))})),yt.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let a=Ou();const o=t.path,c=new pn(o.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){const{key:h,value:{document:m}}=u.getNext();if(!o.isPrefixOf(h.path))break;h.path.length>o.length+1||H9(q9(m),r)<=0||(i.has(m.key)||iv(t,m))&&(a=a.insert(m.key,m.mutableCopy()))}return yt.resolve(a)}getAllFromCollectionGroup(e,t,r,i){Sn(9500)}ii(e,t){return yt.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new gB(this)}getSize(e){return yt.resolve(this.size)}}class gB extends lB{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?t.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),yt.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class vB{constructor(e){this.persistence=e,this.si=new Gf((t=>Q5(t)),Z5),this.lastRemoteSnapshotVersion=In.min(),this.highestTargetId=0,this.oi=0,this._i=new sw,this.targetCount=0,this.ai=R0.ur()}forEachTarget(e,t){return this.si.forEach(((r,i)=>t(i))),yt.resolve()}getLastRemoteSnapshotVersion(e){return yt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return yt.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),yt.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.oi&&(this.oi=t),yt.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new R0(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,yt.resolve()}updateTargetData(e,t){return this.Pr(t),yt.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,yt.resolve()}removeTargets(e,t,r){let i=0;const a=[];return this.si.forEach(((o,c)=>{c.sequenceNumber<=t&&r.get(c.targetId)===null&&(this.si.delete(o),a.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)})),yt.waitFor(a).next((()=>i))}getTargetCount(e){return yt.resolve(this.targetCount)}getTargetData(e,t){const r=this.si.get(t)||null;return yt.resolve(r)}addMatchingKeys(e,t,r){return this._i.Wr(t,r),yt.resolve()}removeMatchingKeys(e,t,r){this._i.zr(t,r);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach((o=>{a.push(i.markPotentiallyOrphaned(e,o))})),yt.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),yt.resolve()}getMatchingKeysForTargetId(e,t){const r=this._i.Hr(t);return yt.resolve(r)}containsKey(e,t){return yt.resolve(this._i.containsKey(t))}}class t8{constructor(e,t){this.ui={},this.overlays={},this.ci=new Z2(0),this.li=!1,this.li=!0,this.hi=new dB,this.referenceDelegate=e(this),this.Pi=new vB(this),this.indexManager=new tB,this.remoteDocumentCache=(function(i){return new pB(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new ZF(t),this.Ii=new hB(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new fB,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ui[e.toKey()];return r||(r=new mB(t,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,r){en("MemoryPersistence","Starting transaction:",e);const i=new _B(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((a=>this.referenceDelegate.di(i).next((()=>a)))).toPromise().then((a=>(i.raiseOnCommittedEvent(),a)))}Ai(e,t){return yt.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,t))))}}class _B extends W9{constructor(e){super(),this.currentSequenceNumber=e}}class ow{constructor(e){this.persistence=e,this.Ri=new sw,this.Vi=null}static mi(e){return new ow(e)}get fi(){if(this.Vi)return this.Vi;throw Sn(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.fi.delete(r.toString()),yt.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.fi.add(r.toString()),yt.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),yt.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((i=>{i.forEach((a=>this.fi.add(a.toString())))})).next((()=>r.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return yt.forEach(this.fi,(r=>{const i=pn.fromPath(r);return this.gi(e,i).next((a=>{a||t.removeEntry(i,In.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((r=>{r?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return yt.or([()=>yt.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class u2{constructor(e,t){this.persistence=e,this.pi=new Gf((r=>K9(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=oB(this,t)}static mi(e,t){return new u2(e,t)}Ei(){}di(e){return yt.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((i=>r+i))))}wr(e){let t=0;return this.pr(e,(r=>{t++})).next((()=>t))}pr(e,t){return yt.forEach(this.pi,((r,i)=>this.br(e,r,i).next((a=>a?yt.resolve():t(i)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(e,(o=>this.br(e,o,t).next((c=>{c||(r++,a.removeEntry(o,In.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),yt.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),yt.resolve()}removeReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),yt.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),yt.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=U1(e.data.value)),t}br(e,t,r){return yt.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.pi.get(t);return yt.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class lw{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Es=r,this.ds=i}static As(e,t){let r=Qn(),i=Qn();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new lw(e,t.fromCache,r,i)}}class yB{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class xB{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return mP()?8:Y9(As())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,i){const a={result:null};return this.ys(e,t).next((o=>{a.result=o})).next((()=>{if(!a.result)return this.ws(e,t,i,r).next((o=>{a.result=o}))})).next((()=>{if(a.result)return;const o=new yB;return this.Ss(e,t,o).next((c=>{if(a.result=c,this.Vs)return this.bs(e,t,o,c.size)}))})).next((()=>a.result))}bs(e,t,r,i){return r.documentReadCount<this.fs?(Jd()<=Xn.DEBUG&&en("QueryEngine","SDK will not create cache indexes for query:",Qd(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),yt.resolve()):(Jd()<=Xn.DEBUG&&en("QueryEngine","Query:",Qd(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Jd()<=Xn.DEBUG&&en("QueryEngine","The SDK decides to create cache indexes for query:",Qd(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Oc(t))):yt.resolve())}ys(e,t){if(hS(t))return yt.resolve(null);let r=Oc(t);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(t.limit!==null&&i===1&&(t=zx(t,null,"F"),r=Oc(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const o=Qn(...a);return this.ps.getDocuments(e,o).next((c=>this.indexManager.getMinOffset(e,r).next((u=>{const h=this.Ds(t,c);return this.Cs(t,h,o,u.readTime)?this.ys(e,zx(t,null,"F")):this.vs(e,h,t,u)}))))})))))}ws(e,t,r,i){return hS(t)||i.isEqual(In.min())?yt.resolve(null):this.ps.getDocuments(e,r).next((a=>{const o=this.Ds(t,a);return this.Cs(t,o,r,i)?yt.resolve(null):(Jd()<=Xn.DEBUG&&en("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Qd(t)),this.vs(e,o,t,z9(i,_p)).next((c=>c)))}))}Ds(e,t){let r=new Sa(DC(e));return t.forEach(((i,a)=>{iv(e,a)&&(r=r.add(a))})),r}Cs(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,t,r){return Jd()<=Xn.DEBUG&&en("QueryEngine","Using full collection scan to execute query:",Qd(t)),this.ps.getDocumentsMatchingQuery(e,t,Fh.min(),r)}vs(e,t,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((a=>(t.forEach((o=>{a=a.insert(o.key,o)})),a)))}}const cw="LocalStore",wB=3e8;class bB{constructor(e,t,r,i){this.persistence=e,this.Fs=t,this.serializer=i,this.Ms=new Ni(Jn),this.xs=new Gf((a=>Q5(a)),Z5),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new uB(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function EB(n,e,t,r){return new bB(n,e,t,r)}async function n8(n,e){const t=Dn(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next((a=>(i=a,t.Bs(e),t.mutationQueue.getAllMutationBatches(r)))).next((a=>{const o=[],c=[];let u=Qn();for(const h of i){o.push(h.batchId);for(const m of h.mutations)u=u.add(m.key)}for(const h of a){c.push(h.batchId);for(const m of h.mutations)u=u.add(m.key)}return t.localDocuments.getDocuments(r,u).next((h=>({Ls:h,removedBatchIds:o,addedBatchIds:c})))}))}))}function SB(n,e){const t=Dn(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),a=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(c,u,h,m){const g=h.batch,_=g.keys();let v=yt.resolve();return _.forEach((b=>{v=v.next((()=>m.getEntry(u,b))).next((w=>{const T=h.docVersions.get(b);wr(T!==null,48541),w.version.compareTo(T)<0&&(g.applyToRemoteDocument(w,h),w.isValidDocument()&&(w.setReadTime(h.commitVersion),m.addEntry(w)))}))})),v.next((()=>c.mutationQueue.removeMutationBatch(u,g)))})(t,r,e,a).next((()=>a.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(c){let u=Qn();for(let h=0;h<c.mutationResults.length;++h)c.mutationResults[h].transformResults.length>0&&(u=u.add(c.batch.mutations[h].key));return u})(e)))).next((()=>t.localDocuments.getDocuments(r,i)))}))}function r8(n){const e=Dn(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function TB(n,e){const t=Dn(n),r=e.snapshotVersion;let i=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const o=t.Ns.newChangeBuffer({trackRemovals:!0});i=t.Ms;const c=[];e.targetChanges.forEach(((m,g)=>{const _=i.get(g);if(!_)return;c.push(t.Pi.removeMatchingKeys(a,m.removedDocuments,g).next((()=>t.Pi.addMatchingKeys(a,m.addedDocuments,g))));let v=_.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(g)!==null?v=v.withResumeToken(Ha.EMPTY_BYTE_STRING,In.min()).withLastLimboFreeSnapshotVersion(In.min()):m.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(m.resumeToken,r)),i=i.insert(g,v),(function(w,T,N){return w.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=wB?!0:N.addedDocuments.size+N.modifiedDocuments.size+N.removedDocuments.size>0})(_,v,m)&&c.push(t.Pi.updateTargetData(a,v))}));let u=Ou(),h=Qn();if(e.documentUpdates.forEach((m=>{e.resolvedLimboDocuments.has(m)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(a,m))})),c.push(AB(a,o,e.documentUpdates).next((m=>{u=m.ks,h=m.qs}))),!r.isEqual(In.min())){const m=t.Pi.getLastRemoteSnapshotVersion(a).next((g=>t.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r)));c.push(m)}return yt.waitFor(c).next((()=>o.apply(a))).next((()=>t.localDocuments.getLocalViewOfDocuments(a,u,h))).next((()=>u))})).then((a=>(t.Ms=i,a)))}function AB(n,e,t){let r=Qn(),i=Qn();return t.forEach((a=>r=r.add(a))),e.getEntries(n,r).next((a=>{let o=Ou();return t.forEach(((c,u)=>{const h=a.get(c);u.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(c)),u.isNoDocument()&&u.version.isEqual(In.min())?(e.removeEntry(c,u.readTime),o=o.insert(c,u)):!h.isValidDocument()||u.version.compareTo(h.version)>0||u.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(u),o=o.insert(c,u)):en(cw,"Ignoring outdated watch update for ",c,". Current version:",h.version," Watch version:",u.version)})),{ks:o,qs:i}}))}function NB(n,e){const t=Dn(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=K5),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function CB(n,e){const t=Dn(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return t.Pi.getTargetData(r,e).next((a=>a?(i=a,yt.resolve(i)):t.Pi.allocateTargetId(r).next((o=>(i=new Ah(e,o,"TargetPurposeListen",r.currentSequenceNumber),t.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=t.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.xs.set(e,r.targetId)),r}))}async function Yx(n,e,t){const r=Dn(n),i=r.Ms.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,(o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!B0(o))throw o;en(cw,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function SS(n,e,t){const r=Dn(n);let i=In.min(),a=Qn();return r.persistence.runTransaction("Execute query","readwrite",(o=>(function(u,h,m){const g=Dn(u),_=g.xs.get(m);return _!==void 0?yt.resolve(g.Ms.get(_)):g.Pi.getTargetData(h,m)})(r,o,Oc(e)).next((c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,c.targetId).next((u=>{a=u}))})).next((()=>r.Fs.getDocumentsMatchingQuery(o,e,t?i:In.min(),t?a:Qn()))).next((c=>(IB(r,mF(e),c),{documents:c,Qs:a})))))}function IB(n,e,t){let r=n.Os.get(e)||In.min();t.forEach(((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),n.Os.set(e,r)}class TS{constructor(){this.activeTargetIds=xF()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class RB{constructor(){this.Mo=new TS,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,r){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new TS,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class kB{Oo(e){}shutdown(){}}const AS="ConnectivityMonitor";class NS{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){en(AS,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){en(AS,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let c1=null;function $x(){return c1===null?c1=(function(){return 268435456+Math.round(2147483648*Math.random())})():c1++,"0x"+c1.toString(16)}const my="RestConnection",OB={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class DB{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===a2?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,t,r,i,a){const o=$x(),c=this.zo(e,t.toUriEncodedString());en(my,`Sending RPC '${e}' ${o}:`,c,r);const u={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(u,i,a);const{host:h}=new URL(c),m=$h(h);return this.Jo(e,c,u,r,m).then((g=>(en(my,`Received RPC '${e}' ${o}: `,g),g)),(g=>{throw Df(my,`RPC '${e}' ${o} failed with error: `,g,"url: ",c,"request:",r),g}))}Ho(e,t,r,i,a,o){return this.Go(e,t,r,i,a)}jo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+P0})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((i,a)=>e[a]=i)),r&&r.headers.forEach(((i,a)=>e[a]=i))}zo(e,t){const r=OB[e];return`${this.Uo}/v1/${t}:${r}`}terminate(){}}class LB{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const vs="WebChannelConnection";class jB extends DB{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,i,a){const o=$x();return new Promise(((c,u)=>{const h=new iC;h.setWithCredentials(!0),h.listenOnce(aC.COMPLETE,(()=>{try{switch(h.getLastErrorCode()){case B1.NO_ERROR:const g=h.getResponseJson();en(vs,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(g)),c(g);break;case B1.TIMEOUT:en(vs,`RPC '${e}' ${o} timed out`),u(new Yt(pt.DEADLINE_EXCEEDED,"Request time out"));break;case B1.HTTP_ERROR:const _=h.getStatus();if(en(vs,`RPC '${e}' ${o} failed with status:`,_,"response text:",h.getResponseText()),_>0){let v=h.getResponseJson();Array.isArray(v)&&(v=v[0]);const b=v?.error;if(b&&b.status&&b.message){const w=(function(N){const P=N.toLowerCase().replace(/_/g,"-");return Object.values(pt).indexOf(P)>=0?P:pt.UNKNOWN})(b.status);u(new Yt(w,b.message))}else u(new Yt(pt.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new Yt(pt.UNAVAILABLE,"Connection failed."));break;default:Sn(9055,{l_:e,streamId:o,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{en(vs,`RPC '${e}' ${o} completed.`)}}));const m=JSON.stringify(i);en(vs,`RPC '${e}' ${o} sending request:`,i),h.send(t,"POST",m,r,15)}))}T_(e,t,r){const i=$x(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=lC(),c=oC(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(u.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(u.useFetchStreams=!0),this.jo(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;const m=a.join("");en(vs,`Creating RPC '${e}' stream ${i}: ${m}`,u);const g=o.createWebChannel(m,u);this.I_(g);let _=!1,v=!1;const b=new LB({Yo:T=>{v?en(vs,`Not sending because RPC '${e}' stream ${i} is closed:`,T):(_||(en(vs,`Opening RPC '${e}' stream ${i} transport.`),g.open(),_=!0),en(vs,`RPC '${e}' stream ${i} sending:`,T),g.send(T))},Zo:()=>g.close()}),w=(T,N,P)=>{T.listen(N,(R=>{try{P(R)}catch(j){setTimeout((()=>{throw j}),0)}}))};return w(g,Wm.EventType.OPEN,(()=>{v||(en(vs,`RPC '${e}' stream ${i} transport opened.`),b.o_())})),w(g,Wm.EventType.CLOSE,(()=>{v||(v=!0,en(vs,`RPC '${e}' stream ${i} transport closed`),b.a_(),this.E_(g))})),w(g,Wm.EventType.ERROR,(T=>{v||(v=!0,Df(vs,`RPC '${e}' stream ${i} transport errored. Name:`,T.name,"Message:",T.message),b.a_(new Yt(pt.UNAVAILABLE,"The operation could not be completed")))})),w(g,Wm.EventType.MESSAGE,(T=>{if(!v){const N=T.data[0];wr(!!N,16349);const P=N,R=P?.error||P[0]?.error;if(R){en(vs,`RPC '${e}' stream ${i} received error:`,R);const j=R.status;let K=(function(k){const I=aa[k];if(I!==void 0)return HC(I)})(j),U=R.message;K===void 0&&(K=pt.INTERNAL,U="Unknown error status: "+j+" with message "+R.message),v=!0,b.a_(new Yt(K,U)),g.close()}else en(vs,`RPC '${e}' stream ${i} received:`,N),b.u_(N)}})),w(c,sC.STAT_EVENT,(T=>{T.stat===jx.PROXY?en(vs,`RPC '${e}' stream ${i} detected buffering proxy`):T.stat===jx.NOPROXY&&en(vs,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{b.__()}),0),b}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function py(){return typeof document<"u"?document:null}function lv(n){return new BF(n,!0)}class i8{constructor(e,t,r=1e3,i=1.5,a=6e4){this.Mi=e,this.timerId=t,this.d_=r,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,t-r);i>0&&en("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const CS="PersistentStream";class a8{constructor(e,t,r,i,a,o,c,u){this.Mi=e,this.S_=r,this.b_=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new i8(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===pt.RESOURCE_EXHAUSTED?(ku(t.toString()),ku("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===pt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===t&&this.G_(r,i)}),(r=>{e((()=>{const i=new Yt(pt.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,t){const r=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return en(CS,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(en(CS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class MB extends a8{constructor(e,t,r,i,a,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.serializer=a}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=zF(this.serializer,e),r=(function(a){if(!("targetChange"in a))return In.min();const o=a.targetChange;return o.targetIds&&o.targetIds.length?In.min():o.readTime?Dc(o.readTime):In.min()})(e);return this.listener.H_(t,r)}Y_(e){const t={};t.database=Wx(this.serializer),t.addTarget=(function(a,o){let c;const u=o.target;if(c=Ux(u)?{documents:GF(a,u)}:{query:WF(a,u).ft},c.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){c.resumeToken=YC(a,o.resumeToken);const h=qx(a,o.expectedCount);h!==null&&(c.expectedCount=h)}else if(o.snapshotVersion.compareTo(In.min())>0){c.readTime=c2(a,o.snapshotVersion.toTimestamp());const h=qx(a,o.expectedCount);h!==null&&(c.expectedCount=h)}return c})(this.serializer,e);const r=$F(this.serializer,e);r&&(t.labels=r),this.q_(t)}Z_(e){const t={};t.database=Wx(this.serializer),t.removeTarget=e,this.q_(t)}}class PB extends a8{constructor(e,t,r,i,a,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return wr(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,wr(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){wr(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=HF(e.writeResults,e.commitTime),r=Dc(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=Wx(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>qF(this.serializer,r)))};this.q_(t)}}class FB{}class BB extends FB{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Yt(pt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,o])=>this.connection.Go(e,Hx(t,r),i,a,o))).catch((a=>{throw a.name==="FirebaseError"?(a.code===pt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Yt(pt.UNKNOWN,a.toString())}))}Ho(e,t,r,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,c])=>this.connection.Ho(e,Hx(t,r),i,o,c,a))).catch((o=>{throw o.name==="FirebaseError"?(o.code===pt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Yt(pt.UNKNOWN,o.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class UB{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ku(t),this.aa=!1):en("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Lf="RemoteStore";class VB{constructor(e,t,r,i,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((o=>{r.enqueueAndForget((async()=>{Wf(this)&&(en(Lf,"Restarting streams for network reachability change."),await(async function(u){const h=Dn(u);h.Ea.add(4),await zp(h),h.Ra.set("Unknown"),h.Ea.delete(4),await cv(h)})(this))}))})),this.Ra=new UB(r,i)}}async function cv(n){if(Wf(n))for(const e of n.da)await e(!0)}async function zp(n){for(const e of n.da)await e(!1)}function s8(n,e){const t=Dn(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),dw(t)?fw(t):V0(t).O_()&&hw(t,e))}function uw(n,e){const t=Dn(n),r=V0(t);t.Ia.delete(e),r.O_()&&o8(t,e),t.Ia.size===0&&(r.O_()?r.L_():Wf(t)&&t.Ra.set("Unknown"))}function hw(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(In.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}V0(n).Y_(e)}function o8(n,e){n.Va.Ue(e),V0(n).Z_(e)}function fw(n){n.Va=new jF({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),V0(n).start(),n.Ra.ua()}function dw(n){return Wf(n)&&!V0(n).x_()&&n.Ia.size>0}function Wf(n){return Dn(n).Ea.size===0}function l8(n){n.Va=void 0}async function zB(n){n.Ra.set("Online")}async function qB(n){n.Ia.forEach(((e,t)=>{hw(n,e)}))}async function HB(n,e){l8(n),dw(n)?(n.Ra.ha(e),fw(n)):n.Ra.set("Unknown")}async function GB(n,e,t){if(n.Ra.set("Online"),e instanceof WC&&e.state===2&&e.cause)try{await(async function(i,a){const o=a.cause;for(const c of a.targetIds)i.Ia.has(c)&&(await i.remoteSyncer.rejectListen(c,o),i.Ia.delete(c),i.Va.removeTarget(c))})(n,e)}catch(r){en(Lf,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await h2(n,r)}else if(e instanceof q1?n.Va.Ze(e):e instanceof GC?n.Va.st(e):n.Va.tt(e),!t.isEqual(In.min()))try{const r=await r8(n.localStore);t.compareTo(r)>=0&&await(function(a,o){const c=a.Va.Tt(o);return c.targetChanges.forEach(((u,h)=>{if(u.resumeToken.approximateByteSize()>0){const m=a.Ia.get(h);m&&a.Ia.set(h,m.withResumeToken(u.resumeToken,o))}})),c.targetMismatches.forEach(((u,h)=>{const m=a.Ia.get(u);if(!m)return;a.Ia.set(u,m.withResumeToken(Ha.EMPTY_BYTE_STRING,m.snapshotVersion)),o8(a,u);const g=new Ah(m.target,u,h,m.sequenceNumber);hw(a,g)})),a.remoteSyncer.applyRemoteEvent(c)})(n,t)}catch(r){en(Lf,"Failed to raise snapshot:",r),await h2(n,r)}}async function h2(n,e,t){if(!B0(e))throw e;n.Ea.add(1),await zp(n),n.Ra.set("Offline"),t||(t=()=>r8(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{en(Lf,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await cv(n)}))}function c8(n,e){return e().catch((t=>h2(n,t,e)))}async function uv(n){const e=Dn(n),t=zh(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:K5;for(;WB(e);)try{const i=await NB(e.localStore,r);if(i===null){e.Ta.length===0&&t.L_();break}r=i.batchId,YB(e,i)}catch(i){await h2(e,i)}u8(e)&&h8(e)}function WB(n){return Wf(n)&&n.Ta.length<10}function YB(n,e){n.Ta.push(e);const t=zh(n);t.O_()&&t.X_&&t.ea(e.mutations)}function u8(n){return Wf(n)&&!zh(n).x_()&&n.Ta.length>0}function h8(n){zh(n).start()}async function $B(n){zh(n).ra()}async function KB(n){const e=zh(n);for(const t of n.Ta)e.ea(t.mutations)}async function XB(n,e,t){const r=n.Ta.shift(),i=rw.from(r,e,t);await c8(n,(()=>n.remoteSyncer.applySuccessfulWrite(i))),await uv(n)}async function JB(n,e){e&&zh(n).X_&&await(async function(r,i){if((function(o){return OF(o)&&o!==pt.ABORTED})(i.code)){const a=r.Ta.shift();zh(r).B_(),await c8(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i))),await uv(r)}})(n,e),u8(n)&&h8(n)}async function IS(n,e){const t=Dn(n);t.asyncQueue.verifyOperationInProgress(),en(Lf,"RemoteStore received new credentials");const r=Wf(t);t.Ea.add(3),await zp(t),r&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await cv(t)}async function QB(n,e){const t=Dn(n);e?(t.Ea.delete(2),await cv(t)):e||(t.Ea.add(2),await zp(t),t.Ra.set("Unknown"))}function V0(n){return n.ma||(n.ma=(function(t,r,i){const a=Dn(t);return a.sa(),new MB(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(n.datastore,n.asyncQueue,{Xo:zB.bind(null,n),t_:qB.bind(null,n),r_:HB.bind(null,n),H_:GB.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),dw(n)?fw(n):n.Ra.set("Unknown")):(await n.ma.stop(),l8(n))}))),n.ma}function zh(n){return n.fa||(n.fa=(function(t,r,i){const a=Dn(t);return a.sa(),new PB(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:$B.bind(null,n),r_:JB.bind(null,n),ta:KB.bind(null,n),na:XB.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await uv(n)):(await n.fa.stop(),n.Ta.length>0&&(en(Lf,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class mw{constructor(e,t,r,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Eu,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((o=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,a){const o=Date.now()+r,c=new mw(e,t,o,i,a);return c.start(r),c}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Yt(pt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function pw(n,e){if(ku("AsyncQueue",`${e}: ${n}`),B0(n))return new Yt(pt.UNAVAILABLE,`${e}: ${n}`);throw n}class c0{static emptySet(e){return new c0(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||pn.comparator(t.key,r.key):(t,r)=>pn.comparator(t.key,r.key),this.keyedMap=Ym(),this.sortedSet=new Ni(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof c0)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new c0;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class RS{constructor(){this.ga=new Ni(pn.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Sn(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class k0{constructor(e,t,r,i,a,o,c,u,h){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=c,this.excludesMetadataChanges=u,this.hasCachedResults=h}static fromInitialDocuments(e,t,r,i,a){const o=[];return t.forEach((c=>{o.push({type:0,doc:c})})),new k0(e,t,c0.emptySet(t),o,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&rv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class ZB{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class eU{constructor(){this.queries=kS(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const i=Dn(t),a=i.queries;i.queries=kS(),a.forEach(((o,c)=>{for(const u of c.Sa)u.onError(r)}))})(this,new Yt(pt.ABORTED,"Firestore shutting down"))}}function kS(){return new Gf((n=>OC(n)),rv)}async function gw(n,e){const t=Dn(n);let r=3;const i=e.query;let a=t.queries.get(i);a?!a.ba()&&e.Da()&&(r=2):(a=new ZB,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await t.onListen(i,!0);break;case 1:a.wa=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(o){const c=pw(o,`Initialization of query '${Qd(e.query)}' failed`);return void e.onError(c)}t.queries.set(i,a),a.Sa.push(e),e.va(t.onlineState),a.wa&&e.Fa(a.wa)&&_w(t)}async function vw(n,e){const t=Dn(n),r=e.query;let i=3;const a=t.queries.get(r);if(a){const o=a.Sa.indexOf(e);o>=0&&(a.Sa.splice(o,1),a.Sa.length===0?i=e.Da()?0:1:!a.ba()&&e.Da()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function tU(n,e){const t=Dn(n);let r=!1;for(const i of e){const a=i.query,o=t.queries.get(a);if(o){for(const c of o.Sa)c.Fa(i)&&(r=!0);o.wa=i}}r&&_w(t)}function nU(n,e,t){const r=Dn(n),i=r.queries.get(e);if(i)for(const a of i.Sa)a.onError(t);r.queries.delete(e)}function _w(n){n.Ca.forEach((e=>{e.next()}))}var Kx,OS;(OS=Kx||(Kx={})).Ma="default",OS.Cache="cache";class yw{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new k0(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=k0.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Kx.Cache}}class f8{constructor(e){this.key=e}}class d8{constructor(e){this.key=e}}class rU{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Qn(),this.mutatedKeys=Qn(),this.eu=DC(e),this.tu=new c0(this.eu)}get nu(){return this.Ya}ru(e,t){const r=t?t.iu:new RS,i=t?t.tu:this.tu;let a=t?t.mutatedKeys:this.mutatedKeys,o=i,c=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((m,g)=>{const _=i.get(m),v=iv(this.query,g)?g:null,b=!!_&&this.mutatedKeys.has(_.key),w=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let T=!1;_&&v?_.data.isEqual(v.data)?b!==w&&(r.track({type:3,doc:v}),T=!0):this.su(_,v)||(r.track({type:2,doc:v}),T=!0,(u&&this.eu(v,u)>0||h&&this.eu(v,h)<0)&&(c=!0)):!_&&v?(r.track({type:0,doc:v}),T=!0):_&&!v&&(r.track({type:1,doc:_}),T=!0,(u||h)&&(c=!0)),T&&(v?(o=o.add(v),a=w?a.add(m):a.delete(m)):(o=o.delete(m),a=a.delete(m)))})),this.query.limit!==null)for(;o.size>this.query.limit;){const m=this.query.limitType==="F"?o.last():o.first();o=o.delete(m.key),a=a.delete(m.key),r.track({type:1,doc:m})}return{tu:o,iu:r,Cs:c,mutatedKeys:a}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort(((m,g)=>(function(v,b){const w=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Sn(20277,{Rt:T})}};return w(v)-w(b)})(m.type,g.type)||this.eu(m.doc,g.doc))),this.ou(r),i=i??!1;const c=t&&!i?this._u():[],u=this.Xa.size===0&&this.current&&!i?1:0,h=u!==this.Za;return this.Za=u,o.length!==0||h?{snapshot:new k0(this.query,e.tu,a,o,e.mutatedKeys,u===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new RS,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Qn(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const t=[];return e.forEach((r=>{this.Xa.has(r)||t.push(new d8(r))})),this.Xa.forEach((r=>{e.has(r)||t.push(new f8(r))})),t}cu(e){this.Ya=e.Qs,this.Xa=Qn();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return k0.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const xw="SyncEngine";class iU{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class aU{constructor(e){this.key=e,this.hu=!1}}class sU{constructor(e,t,r,i,a,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Gf((c=>OC(c)),rv),this.Iu=new Map,this.Eu=new Set,this.du=new Ni(pn.comparator),this.Au=new Map,this.Ru=new sw,this.Vu={},this.mu=new Map,this.fu=R0.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function oU(n,e,t=!0){const r=y8(n);let i;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await m8(r,e,t,!0),i}async function lU(n,e){const t=y8(n);await m8(t,e,!0,!1)}async function m8(n,e,t,r){const i=await CB(n.localStore,Oc(e)),a=i.targetId,o=n.sharedClientState.addLocalQueryTarget(a,t);let c;return r&&(c=await cU(n,e,a,o==="current",i.resumeToken)),n.isPrimaryClient&&t&&s8(n.remoteStore,i),c}async function cU(n,e,t,r,i){n.pu=(g,_,v)=>(async function(w,T,N,P){let R=T.view.ru(N);R.Cs&&(R=await SS(w.localStore,T.query,!1).then((({documents:C})=>T.view.ru(C,R))));const j=P&&P.targetChanges.get(T.targetId),K=P&&P.targetMismatches.get(T.targetId)!=null,U=T.view.applyChanges(R,w.isPrimaryClient,j,K);return LS(w,T.targetId,U.au),U.snapshot})(n,g,_,v);const a=await SS(n.localStore,e,!0),o=new rU(e,a.Qs),c=o.ru(a.documents),u=Vp.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),h=o.applyChanges(c,n.isPrimaryClient,u);LS(n,t,h.au);const m=new iU(e,t,o);return n.Tu.set(e,m),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),h.snapshot}async function uU(n,e,t){const r=Dn(n),i=r.Tu.get(e),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter((o=>!rv(o,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Yx(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),t&&uw(r.remoteStore,i.targetId),Xx(r,i.targetId)})).catch(F0)):(Xx(r,i.targetId),await Yx(r.localStore,i.targetId,!0))}async function hU(n,e){const t=Dn(n),r=t.Tu.get(e),i=t.Iu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),uw(t.remoteStore,r.targetId))}async function fU(n,e,t){const r=yU(n);try{const i=await(function(o,c){const u=Dn(o),h=Qr.now(),m=c.reduce(((v,b)=>v.add(b.key)),Qn());let g,_;return u.persistence.runTransaction("Locally write mutations","readwrite",(v=>{let b=Ou(),w=Qn();return u.Ns.getEntries(v,m).next((T=>{b=T,b.forEach(((N,P)=>{P.isValidDocument()||(w=w.add(N))}))})).next((()=>u.localDocuments.getOverlayedDocuments(v,b))).next((T=>{g=T;const N=[];for(const P of c){const R=NF(P,g.get(P.key).overlayedDocument);R!=null&&N.push(new Xh(P.key,R,SC(R.value.mapValue),gl.exists(!0)))}return u.mutationQueue.addMutationBatch(v,h,N,c)})).next((T=>{_=T;const N=T.applyToLocalDocumentSet(g,w);return u.documentOverlayCache.saveOverlays(v,T.batchId,N)}))})).then((()=>({batchId:_.batchId,changes:jC(g)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(o,c,u){let h=o.Vu[o.currentUser.toKey()];h||(h=new Ni(Jn)),h=h.insert(c,u),o.Vu[o.currentUser.toKey()]=h})(r,i.batchId,t),await qp(r,i.changes),await uv(r.remoteStore)}catch(i){const a=pw(i,"Failed to persist write");t.reject(a)}}async function p8(n,e){const t=Dn(n);try{const r=await TB(t.localStore,e);e.targetChanges.forEach(((i,a)=>{const o=t.Au.get(a);o&&(wr(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?wr(o.hu,14607):i.removedDocuments.size>0&&(wr(o.hu,42227),o.hu=!1))})),await qp(t,r,e)}catch(r){await F0(r)}}function DS(n,e,t){const r=Dn(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.Tu.forEach(((a,o)=>{const c=o.view.va(e);c.snapshot&&i.push(c.snapshot)})),(function(o,c){const u=Dn(o);u.onlineState=c;let h=!1;u.queries.forEach(((m,g)=>{for(const _ of g.Sa)_.va(c)&&(h=!0)})),h&&_w(u)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function dU(n,e,t){const r=Dn(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Au.get(e),a=i&&i.key;if(a){let o=new Ni(pn.comparator);o=o.insert(a,Es.newNoDocument(a,In.min()));const c=Qn().add(a),u=new ov(In.min(),new Map,new Ni(Jn),o,c);await p8(r,u),r.du=r.du.remove(a),r.Au.delete(e),ww(r)}else await Yx(r.localStore,e,!1).then((()=>Xx(r,e,t))).catch(F0)}async function mU(n,e){const t=Dn(n),r=e.batch.batchId;try{const i=await SB(t.localStore,e);v8(t,r,null),g8(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await qp(t,i)}catch(i){await F0(i)}}async function pU(n,e,t){const r=Dn(n);try{const i=await(function(o,c){const u=Dn(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",(h=>{let m;return u.mutationQueue.lookupMutationBatch(h,c).next((g=>(wr(g!==null,37113),m=g.keys(),u.mutationQueue.removeMutationBatch(h,g)))).next((()=>u.mutationQueue.performConsistencyCheck(h))).next((()=>u.documentOverlayCache.removeOverlaysForBatchId(h,m,c))).next((()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,m))).next((()=>u.localDocuments.getDocuments(h,m)))}))})(r.localStore,e);v8(r,e,t),g8(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await qp(r,i)}catch(i){await F0(i)}}function g8(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function v8(n,e,t){const r=Dn(n);let i=r.Vu[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function Xx(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((r=>{n.Ru.containsKey(r)||_8(n,r)}))}function _8(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(uw(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),ww(n))}function LS(n,e,t){for(const r of t)r instanceof f8?(n.Ru.addReference(r.key,e),gU(n,r)):r instanceof d8?(en(xw,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,e),n.Ru.containsKey(r.key)||_8(n,r.key)):Sn(19791,{wu:r})}function gU(n,e){const t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Eu.has(r)||(en(xw,"New document in limbo: "+t),n.Eu.add(r),ww(n))}function ww(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new pn(Jr.fromString(e)),r=n.fu.next();n.Au.set(r,new aU(t)),n.du=n.du.insert(t,r),s8(n.remoteStore,new Ah(Oc(nv(t.path)),r,"TargetPurposeLimboResolution",Z2.ce))}}async function qp(n,e,t){const r=Dn(n),i=[],a=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach(((c,u)=>{o.push(r.pu(u,e,t).then((h=>{if((h||t)&&r.isPrimaryClient){const m=h?!h.fromCache:t?.targetChanges.get(u.targetId)?.current;r.sharedClientState.updateQueryState(u.targetId,m?"current":"not-current")}if(h){i.push(h);const m=lw.As(u.targetId,h);a.push(m)}})))})),await Promise.all(o),r.Pu.H_(i),await(async function(u,h){const m=Dn(u);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",(g=>yt.forEach(h,(_=>yt.forEach(_.Es,(v=>m.persistence.referenceDelegate.addReference(g,_.targetId,v))).next((()=>yt.forEach(_.ds,(v=>m.persistence.referenceDelegate.removeReference(g,_.targetId,v)))))))))}catch(g){if(!B0(g))throw g;en(cw,"Failed to update sequence numbers: "+g)}for(const g of h){const _=g.targetId;if(!g.fromCache){const v=m.Ms.get(_),b=v.snapshotVersion,w=v.withLastLimboFreeSnapshotVersion(b);m.Ms=m.Ms.insert(_,w)}}})(r.localStore,a))}async function vU(n,e){const t=Dn(n);if(!t.currentUser.isEqual(e)){en(xw,"User change. New user:",e.toKey());const r=await n8(t.localStore,e);t.currentUser=e,(function(a,o){a.mu.forEach((c=>{c.forEach((u=>{u.reject(new Yt(pt.CANCELLED,o))}))})),a.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await qp(t,r.Ls)}}function _U(n,e){const t=Dn(n),r=t.Au.get(e);if(r&&r.hu)return Qn().add(r.key);{let i=Qn();const a=t.Iu.get(e);if(!a)return i;for(const o of a){const c=t.Tu.get(o);i=i.unionWith(c.view.nu)}return i}}function y8(n){const e=Dn(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=p8.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=_U.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=dU.bind(null,e),e.Pu.H_=tU.bind(null,e.eventManager),e.Pu.yu=nU.bind(null,e.eventManager),e}function yU(n){const e=Dn(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=mU.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=pU.bind(null,e),e}class f2{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=lv(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return EB(this.persistence,new xB,e.initialUser,this.serializer)}Cu(e){return new t8(ow.mi,this.serializer)}Du(e){return new RB}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}f2.provider={build:()=>new f2};class xU extends f2{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){wr(this.persistence.referenceDelegate instanceof u2,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new aB(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?ho.withCacheSize(this.cacheSizeBytes):ho.DEFAULT;return new t8((r=>u2.mi(r,t)),this.serializer)}}class Jx{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>DS(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=vU.bind(null,this.syncEngine),await QB(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new eU})()}createDatastore(e){const t=lv(e.databaseInfo.databaseId),r=(function(a){return new jB(a)})(e.databaseInfo);return(function(a,o,c,u){return new BB(a,o,c,u)})(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,i,a,o,c){return new VB(r,i,a,o,c)})(this.localStore,this.datastore,e.asyncQueue,(t=>DS(this.syncEngine,t,0)),(function(){return NS.v()?new NS:new kB})())}createSyncEngine(e,t){return(function(i,a,o,c,u,h,m){const g=new sU(i,a,o,c,u,h);return m&&(g.gu=!0),g})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const r=Dn(t);en(Lf,"RemoteStore shutting down."),r.Ea.add(5),await zp(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Jx.provider={build:()=>new Jx};class bw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ku("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const qh="FirestoreClient";class wU{constructor(e,t,r,i,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=bs.UNAUTHENTICATED,this.clientId=J2.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async o=>{en(qh,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,(o=>(en(qh,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Eu;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=pw(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function gy(n,e){n.asyncQueue.verifyOperationInProgress(),en(qh,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async i=>{r.isEqual(i)||(await n8(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function jS(n,e){n.asyncQueue.verifyOperationInProgress();const t=await bU(n);en(qh,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>IS(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,i)=>IS(e.remoteStore,i))),n._onlineComponents=e}async function bU(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){en(qh,"Using user provided OfflineComponentProvider");try{await gy(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(i){return i.name==="FirebaseError"?i.code===pt.FAILED_PRECONDITION||i.code===pt.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(t))throw t;Df("Error using user provided cache. Falling back to memory cache: "+t),await gy(n,new f2)}}else en(qh,"Using default OfflineComponentProvider"),await gy(n,new xU(void 0));return n._offlineComponents}async function x8(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(en(qh,"Using user provided OnlineComponentProvider"),await jS(n,n._uninitializedComponentsProvider._online)):(en(qh,"Using default OnlineComponentProvider"),await jS(n,new Jx))),n._onlineComponents}function EU(n){return x8(n).then((e=>e.syncEngine))}async function d2(n){const e=await x8(n),t=e.eventManager;return t.onListen=oU.bind(null,e.syncEngine),t.onUnlisten=uU.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=lU.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=hU.bind(null,e.syncEngine),t}function SU(n,e,t={}){const r=new Eu;return n.asyncQueue.enqueueAndForget((async()=>(function(a,o,c,u,h){const m=new bw({next:_=>{m.Nu(),o.enqueueAndForget((()=>vw(a,g)));const v=_.docs.has(c);!v&&_.fromCache?h.reject(new Yt(pt.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&_.fromCache&&u&&u.source==="server"?h.reject(new Yt(pt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(_)},error:_=>h.reject(_)}),g=new yw(nv(c.path),m,{includeMetadataChanges:!0,qa:!0});return gw(a,g)})(await d2(n),n.asyncQueue,e,t,r))),r.promise}function TU(n,e,t={}){const r=new Eu;return n.asyncQueue.enqueueAndForget((async()=>(function(a,o,c,u,h){const m=new bw({next:_=>{m.Nu(),o.enqueueAndForget((()=>vw(a,g))),_.fromCache&&u.source==="server"?h.reject(new Yt(pt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(_)},error:_=>h.reject(_)}),g=new yw(c,m,{includeMetadataChanges:!0,qa:!0});return gw(a,g)})(await d2(n),n.asyncQueue,e,t,r))),r.promise}function w8(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}const MS=new Map;const b8="firestore.googleapis.com",PS=!0;class FS{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Yt(pt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=b8,this.ssl=PS}else this.host=e.host,this.ssl=e.ssl??PS;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=e8;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<rB)throw new Yt(pt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}dC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=w8(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Yt(pt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Yt(pt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Yt(pt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class hv{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new FS({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Yt(pt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Yt(pt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new FS(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new hC;switch(r.type){case"firstParty":return new M9(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Yt(pt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=MS.get(t);r&&(en("ComponentProvider","Removing Datastore"),MS.delete(t),r.terminate())})(this),Promise.resolve()}}function E8(n,e,t,r={}){n=zs(n,hv);const i=$h(e),a=n._getSettings(),o={...a,emulatorOptions:n._getEmulatorOptions()},c=`${e}:${t}`;i&&(H5(`https://${c}`),G5("Firestore",!0)),a.host!==b8&&a.host!==c&&Df("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u={...a,host:c,ssl:i,emulatorOptions:r};if(!Iu(u,o)&&(n._setSettings(u),r.mockUserToken)){let h,m;if(typeof r.mockUserToken=="string")h=r.mockUserToken,m=bs.MOCK_USER;else{h=J6(r.mockUserToken,n._app?.options.projectId);const g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new Yt(pt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new bs(g)}n._authCredentials=new D9(new uC(h,m))}}class Mu{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Mu(this.firestore,e,this._query)}}class Ti{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Su(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ti(this.firestore,e,this._key)}toJSON(){return{type:Ti._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Bp(t,Ti._jsonSchema))return new Ti(e,r||null,new pn(Jr.fromString(t.referencePath)))}}Ti._jsonSchemaVersion="firestore/documentReference/1.0",Ti._jsonSchema={type:ca("string",Ti._jsonSchemaVersion),referencePath:ca("string")};class Su extends Mu{constructor(e,t,r){super(e,t,nv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ti(this.firestore,null,new pn(e))}withConverter(e){return new Su(this.firestore,e,this._path)}}function ha(n,e,...t){if(n=si(n),fC("collection","path",e),n instanceof hv){const r=Jr.fromString(e,...t);return J3(r),new Su(n,null,r)}{if(!(n instanceof Ti||n instanceof Su))throw new Yt(pt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Jr.fromString(e,...t));return J3(r),new Su(n.firestore,null,r)}}function mn(n,e,...t){if(n=si(n),arguments.length===1&&(e=J2.newId()),fC("doc","path",e),n instanceof hv){const r=Jr.fromString(e,...t);return X3(r),new Ti(n,null,new pn(r))}{if(!(n instanceof Ti||n instanceof Su))throw new Yt(pt.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Jr.fromString(e,...t));return X3(r),new Ti(n.firestore,n instanceof Su?n.converter:null,new pn(r))}}const BS="AsyncQueue";class US{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new i8(this,"async_queue_retry"),this._c=()=>{const r=py();r&&en(BS,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=py();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=py();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Eu;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!B0(e))throw e;en(BS,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,ku("INTERNAL UNHANDLED ERROR: ",VS(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const i=mw.createAndSchedule(this,e,t,r,(a=>this.hc(a)));return this.tc.push(i),i}uc(){this.nc&&Sn(47125,{Pc:VS(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function VS(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}function zS(n){return(function(t,r){if(typeof t!="object"||t===null)return!1;const i=t;for(const a of r)if(a in i&&typeof i[a]=="function")return!0;return!1})(n,["next","error","complete"])}class Pc extends hv{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new US,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new US(e),this._firestoreClient=void 0,await e}}}function S8(n,e){const t=typeof n=="object"?n:X2(),r=typeof n=="string"?n:a2,i=K2(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=$6("firestore");a&&E8(i,...a)}return i}function Hp(n){if(n._terminated)throw new Yt(pt.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||AU(n),n._firestoreClient}function AU(n){const e=n._freezeSettings(),t=(function(i,a,o,c){return new Q9(i,a,o,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,w8(c.experimentalLongPollingOptions),c.useFetchStreams,c.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new wU(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(i){const a=i?._online.build();return{_offline:i?._offline.build(a),_online:a}})(n._componentsProvider))}class Bo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Bo(Ha.fromBase64String(e))}catch(t){throw new Yt(pt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Bo(Ha.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Bo._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Bp(e,Bo._jsonSchema))return Bo.fromBase64String(e.bytes)}}Bo._jsonSchemaVersion="firestore/bytes/1.0",Bo._jsonSchema={type:ca("string",Bo._jsonSchemaVersion),bytes:ca("string")};class Gp{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Yt(pt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ba(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Yf{constructor(e){this._methodName=e}}class $l{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Yt(pt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Yt(pt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Jn(this._lat,e._lat)||Jn(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:$l._jsonSchemaVersion}}static fromJSON(e){if(Bp(e,$l._jsonSchema))return new $l(e.latitude,e.longitude)}}$l._jsonSchemaVersion="firestore/geoPoint/1.0",$l._jsonSchema={type:ca("string",$l._jsonSchemaVersion),latitude:ca("number"),longitude:ca("number")};class Kl{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Kl._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Bp(e,Kl._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Kl(e.vectorValues);throw new Yt(pt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Kl._jsonSchemaVersion="firestore/vectorValue/1.0",Kl._jsonSchema={type:ca("string",Kl._jsonSchemaVersion),vectorValues:ca("object")};const NU=/^__.*__$/;class CU{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Xh(e,this.data,this.fieldMask,t,this.fieldTransforms):new Up(e,this.data,t,this.fieldTransforms)}}class T8{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Xh(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function A8(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Sn(40011,{Ac:n})}}class fv{constructor(e,t,r,i,a,o){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new fv({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.gc(e),r}yc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return m2(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(A8(this.Ac)&&NU.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class IU{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||lv(e)}Cc(e,t,r,i=!1){return new fv({Ac:e,methodName:t,Dc:r,path:Ba.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function dv(n){const e=n._freezeSettings(),t=lv(n._databaseId);return new IU(n._databaseId,!!e.ignoreUndefinedProperties,t)}function N8(n,e,t,r,i,a={}){const o=n.Cc(a.merge||a.mergeFields?2:0,e,t,i);Aw("Data must be an object, but it was:",o,r);const c=I8(r,o);let u,h;if(a.merge)u=new Uo(o.fieldMask),h=o.fieldTransforms;else if(a.mergeFields){const m=[];for(const g of a.mergeFields){const _=Qx(e,g,t);if(!o.contains(_))throw new Yt(pt.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);k8(m,_)||m.push(_)}u=new Uo(m),h=o.fieldTransforms.filter((g=>u.covers(g.field)))}else u=null,h=o.fieldTransforms;return new CU(new mo(c),u,h)}class Wp extends Yf{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Wp}}function C8(n,e,t){return new fv({Ac:3,Dc:e.settings.Dc,methodName:n._methodName,fc:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Ew extends Yf{_toFieldTransform(e){return new tw(e.path,new bp)}isEqual(e){return e instanceof Ew}}class Sw extends Yf{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=C8(this,e,!0),r=this.vc.map((a=>$f(a,t))),i=new C0(r);return new tw(e.path,i)}isEqual(e){return e instanceof Sw&&Iu(this.vc,e.vc)}}class Tw extends Yf{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=C8(this,e,!0),r=this.vc.map((a=>$f(a,t))),i=new I0(r);return new tw(e.path,i)}isEqual(e){return e instanceof Tw&&Iu(this.vc,e.vc)}}function RU(n,e,t,r){const i=n.Cc(1,e,t);Aw("Data must be an object, but it was:",i,r);const a=[],o=mo.empty();Kh(r,((u,h)=>{const m=Nw(e,u,t);h=si(h);const g=i.yc(m);if(h instanceof Wp)a.push(m);else{const _=$f(h,g);_!=null&&(a.push(m),o.set(m,_))}}));const c=new Uo(a);return new T8(o,c,i.fieldTransforms)}function kU(n,e,t,r,i,a){const o=n.Cc(1,e,t),c=[Qx(e,r,t)],u=[i];if(a.length%2!=0)throw new Yt(pt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<a.length;_+=2)c.push(Qx(e,a[_])),u.push(a[_+1]);const h=[],m=mo.empty();for(let _=c.length-1;_>=0;--_)if(!k8(h,c[_])){const v=c[_];let b=u[_];b=si(b);const w=o.yc(v);if(b instanceof Wp)h.push(v);else{const T=$f(b,w);T!=null&&(h.push(v),m.set(v,T))}}const g=new Uo(h);return new T8(m,g,o.fieldTransforms)}function OU(n,e,t,r=!1){return $f(t,n.Cc(r?4:3,e))}function $f(n,e){if(R8(n=si(n)))return Aw("Unsupported field value:",e,n),I8(n,e);if(n instanceof Yf)return(function(r,i){if(!A8(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const a=[];let o=0;for(const c of r){let u=$f(c,i.wc(o));u==null&&(u={nullValue:"NULL_VALUE"}),a.push(u),o++}return{arrayValue:{values:a}}})(n,e)}return(function(r,i){if((r=si(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return wF(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Qr.fromDate(r);return{timestampValue:c2(i.serializer,a)}}if(r instanceof Qr){const a=new Qr(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:c2(i.serializer,a)}}if(r instanceof $l)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Bo)return{bytesValue:YC(i.serializer,r._byteString)};if(r instanceof Ti){const a=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(a))throw i.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:aw(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Kl)return(function(o,c){return{mapValue:{fields:{[bC]:{stringValue:EC},[s2]:{arrayValue:{values:o.toArray().map((h=>{if(typeof h!="number")throw c.Sc("VectorValues must only contain numeric values.");return ew(c.serializer,h)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${Q2(r)}`)})(n,e)}function I8(n,e){const t={};return gC(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Kh(n,((r,i)=>{const a=$f(i,e.mc(r));a!=null&&(t[r]=a)})),{mapValue:{fields:t}}}function R8(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Qr||n instanceof $l||n instanceof Bo||n instanceof Ti||n instanceof Yf||n instanceof Kl)}function Aw(n,e,t){if(!R8(t)||!mC(t)){const r=Q2(t);throw r==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+r)}}function Qx(n,e,t){if((e=si(e))instanceof Gp)return e._internalPath;if(typeof e=="string")return Nw(n,e);throw m2("Field path arguments must be of type string or ",n,!1,void 0,t)}const DU=new RegExp("[~\\*/\\[\\]]");function Nw(n,e,t){if(e.search(DU)>=0)throw m2(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Gp(...e.split("."))._internalPath}catch{throw m2(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function m2(n,e,t,r,i){const a=r&&!r.isEmpty(),o=i!==void 0;let c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(a||o)&&(u+=" (found",a&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new Yt(pt.INVALID_ARGUMENT,c+n+u)}function k8(n,e){return n.some((t=>t.isEqual(e)))}class O8{constructor(e,t,r,i,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Ti(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new LU(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(mv("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class LU extends O8{data(){return super.data()}}function mv(n,e){return typeof e=="string"?Nw(n,e):e instanceof Gp?e._internalPath:e._delegate._internalPath}function D8(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Yt(pt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Cw{}class Iw extends Cw{}function Wo(n,e,...t){let r=[];e instanceof Cw&&r.push(e),r=r.concat(t),(function(a){const o=a.filter((u=>u instanceof pv)).length,c=a.filter((u=>u instanceof Yp)).length;if(o>1||o>0&&c>0)throw new Yt(pt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)n=i._apply(n);return n}class Yp extends Iw{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Yp(e,t,r)}_apply(e){const t=this._parse(e);return j8(e._query,t),new Mu(e.firestore,e.converter,Vx(e._query,t))}_parse(e){const t=dv(e.firestore);return(function(a,o,c,u,h,m,g){let _;if(h.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new Yt(pt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){HS(g,m);const b=[];for(const w of g)b.push(qS(u,a,w));_={arrayValue:{values:b}}}else _=qS(u,a,g)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||HS(g,m),_=OU(c,o,g,m==="in"||m==="not-in");return oa.create(h,m,_)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function L8(n,e,t){const r=e,i=mv("where",n);return Yp._create(i,r,t)}class pv extends Cw{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new pv(e,t)}_parse(e){const t=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return t.length===1?t[0]:Ql.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(i,a){let o=i;const c=a.getFlattenedFilters();for(const u of c)j8(o,u),o=Vx(o,u)})(e._query,t),new Mu(e.firestore,e.converter,Vx(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class gv extends Iw{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new gv(e,t)}_apply(e){const t=(function(i,a,o){if(i.startAt!==null)throw new Yt(pt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Yt(pt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new wp(a,o)})(e._query,this._field,this._direction);return new Mu(e.firestore,e.converter,(function(i,a){const o=i.explicitOrderBy.concat([a]);return new U0(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,t))}}function Pu(n,e="asc"){const t=e,r=mv("orderBy",n);return gv._create(r,t)}function qS(n,e,t){if(typeof(t=si(t))=="string"){if(t==="")throw new Yt(pt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!kC(e)&&t.indexOf("/")!==-1)throw new Yt(pt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Jr.fromString(t));if(!pn.isDocumentKey(r))throw new Yt(pt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return aS(n,new pn(r))}if(t instanceof Ti)return aS(n,t._key);throw new Yt(pt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Q2(t)}.`)}function HS(n,e){if(!Array.isArray(n)||n.length===0)throw new Yt(pt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function j8(n,e){const t=(function(i,a){for(const o of i)for(const c of o.getFlattenedFilters())if(a.indexOf(c.op)>=0)return c.op;return null})(n.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new Yt(pt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Yt(pt.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class M8{convertValue(e,t="none"){switch(Vh(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Yi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Uh(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Sn(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Kh(e,((i,a)=>{r[i]=this.convertValue(a,t)})),r}convertVectorValue(e){const t=e.fields?.[s2].arrayValue?.values?.map((r=>Yi(r.doubleValue)));return new Kl(t)}convertGeoPoint(e){return new $l(Yi(e.latitude),Yi(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=tv(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(yp(e));default:return null}}convertTimestamp(e){const t=Bh(e);return new Qr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Jr.fromString(e);wr(ZC(r),9688,{name:e});const i=new T0(r.get(1),r.get(3)),a=new pn(r.popFirst(5));return i.isEqual(t)||ku(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}function P8(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class i0{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class jh extends O8{constructor(e,t,r,i,a,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new np(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(mv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Yt(pt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=jh._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}jh._jsonSchemaVersion="firestore/documentSnapshot/1.0",jh._jsonSchema={type:ca("string",jh._jsonSchemaVersion),bundleSource:ca("string","DocumentSnapshot"),bundleName:ca("string"),bundle:ca("string")};class np extends jh{data(e={}){return super.data(e)}}class Mh{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new i0(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new np(this._firestore,this._userDataWriter,r.key,r,new i0(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Yt(pt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(i,a){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map((c=>{const u=new np(i._firestore,i._userDataWriter,c.doc.key,c.doc,new i0(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((c=>a||c.type!==3)).map((c=>{const u=new np(i._firestore,i._userDataWriter,c.doc.key,c.doc,new i0(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,m=-1;return c.type!==0&&(h=o.indexOf(c.doc.key),o=o.delete(c.doc.key)),c.type!==1&&(o=o.add(c.doc),m=o.indexOf(c.doc.key)),{type:jU(c.type),doc:u,oldIndex:h,newIndex:m}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Yt(pt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Mh._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=J2.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],i=[];return this.docs.forEach((a=>{a._document!==null&&(t.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function jU(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Sn(61501,{type:n})}}function Br(n){n=zs(n,Ti);const e=zs(n.firestore,Pc);return SU(Hp(e),n._key).then((t=>F8(e,n,t)))}Mh._jsonSchemaVersion="firestore/querySnapshot/1.0",Mh._jsonSchema={type:ca("string",Mh._jsonSchemaVersion),bundleSource:ca("string","QuerySnapshot"),bundleName:ca("string"),bundle:ca("string")};class Rw extends M8{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ti(this.firestore,null,t)}}function vv(n){n=zs(n,Mu);const e=zs(n.firestore,Pc),t=Hp(e),r=new Rw(e);return D8(n._query),TU(t,n._query).then((i=>new Mh(e,r,n,i)))}function qo(n,e,t){n=zs(n,Ti);const r=zs(n.firestore,Pc),i=P8(n.converter,e,t);return $p(r,[N8(dv(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,gl.none())])}function Fa(n,e,t,...r){n=zs(n,Ti);const i=zs(n.firestore,Pc),a=dv(i);let o;return o=typeof(e=si(e))=="string"||e instanceof Gp?kU(a,"updateDoc",n._key,e,t,r):RU(a,"updateDoc",n._key,e),$p(i,[o.toMutation(n._key,gl.exists(!0))])}function Fc(n){return $p(zs(n.firestore,Pc),[new nw(n._key,gl.none())])}function z0(n,e){const t=zs(n.firestore,Pc),r=mn(n),i=P8(n.converter,e);return $p(t,[N8(dv(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,gl.exists(!1))]).then((()=>r))}function ec(n,...e){n=si(n);let t={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||zS(e[r])||(t=e[r++]);const i={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(zS(e[r])){const u=e[r];e[r]=u.next?.bind(u),e[r+1]=u.error?.bind(u),e[r+2]=u.complete?.bind(u)}let a,o,c;if(n instanceof Ti)o=zs(n.firestore,Pc),c=nv(n._key.path),a={next:u=>{e[r]&&e[r](F8(o,n,u))},error:e[r+1],complete:e[r+2]};else{const u=zs(n,Mu);o=zs(u.firestore,Pc),c=u._query;const h=new Rw(o);a={next:m=>{e[r]&&e[r](new Mh(o,h,u,m))},error:e[r+1],complete:e[r+2]},D8(n._query)}return(function(h,m,g,_){const v=new bw(_),b=new yw(m,v,g);return h.asyncQueue.enqueueAndForget((async()=>gw(await d2(h),b))),()=>{v.Nu(),h.asyncQueue.enqueueAndForget((async()=>vw(await d2(h),b)))}})(Hp(o),c,i,a)}function $p(n,e){return(function(r,i){const a=new Eu;return r.asyncQueue.enqueueAndForget((async()=>fU(await EU(r),i,a))),a.promise})(Hp(n),e)}function F8(n,e,t){const r=t.docs.get(e._key),i=new Rw(n);return new jh(n,i,e._key,r,new i0(t.hasPendingWrites,t.fromCache),e.converter)}function B8(){return new Wp("deleteField")}function kw(){return new Ew("serverTimestamp")}function U8(...n){return new Sw("arrayUnion",n)}function V8(...n){return new Tw("arrayRemove",n)}(function(e,t=!0){(function(i){P0=i})(Hf),kf(new Ph("firestore",((r,{instanceIdentifier:i,options:a})=>{const o=r.getProvider("app").getImmediate(),c=new Pc(new L9(r.getProvider("auth-internal")),new P9(o,r.getProvider("app-check-internal")),(function(h,m){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Yt(pt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new T0(h.options.projectId,m)})(o,i),o);return a={useFetchStreams:t,...a},c._setSettings(a),c}),"PUBLIC").setMultipleInstances(!0)),kc(W3,Y3,e),kc(W3,Y3,"esm2020")})();const z8=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:M8,Bytes:Bo,CollectionReference:Su,DocumentReference:Ti,DocumentSnapshot:jh,FieldPath:Gp,FieldValue:Yf,Firestore:Pc,FirestoreError:Yt,GeoPoint:$l,Query:Mu,QueryCompositeFilterConstraint:pv,QueryConstraint:Iw,QueryDocumentSnapshot:np,QueryFieldFilterConstraint:Yp,QueryOrderByConstraint:gv,QuerySnapshot:Mh,SnapshotMetadata:i0,Timestamp:Qr,VectorValue:Kl,_AutoId:J2,_ByteString:Ha,_DatabaseId:T0,_DocumentKey:pn,_EmptyAuthCredentialsProvider:hC,_FieldPath:Ba,_cast:zs,_logWarn:Df,_validateIsNotUsedTogether:dC,addDoc:z0,arrayRemove:V8,arrayUnion:U8,collection:ha,connectFirestoreEmulator:E8,deleteDoc:Fc,deleteField:B8,doc:mn,ensureFirestoreConfigured:Hp,executeWrite:$p,getDoc:Br,getDocs:vv,getFirestore:S8,onSnapshot:ec,orderBy:Pu,query:Wo,serverTimestamp:kw,setDoc:qo,updateDoc:Fa,where:L8},Symbol.toStringTag,{value:"Module"}));var MU="firebase",PU="12.7.0";kc(MU,PU,"app");function q8(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const FU=q8,H8=new Pp("auth","Firebase",q8());const p2=new W5("@firebase/auth");function BU(n,...e){p2.logLevel<=Xn.WARN&&p2.warn(`Auth (${Hf}): ${n}`,...e)}function H1(n,...e){p2.logLevel<=Xn.ERROR&&p2.error(`Auth (${Hf}): ${n}`,...e)}function Bc(n,...e){throw Dw(n,...e)}function Xl(n,...e){return Dw(n,...e)}function Ow(n,e,t){const r={...FU(),[e]:t};return new Pp("auth","Firebase",r).create(e,{appName:n.name})}function Af(n){return Ow(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function UU(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&Bc(n,"argument-error"),Ow(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Dw(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return H8.create(n,...e)}function Cn(n,e,...t){if(!n)throw Dw(e,...t)}function xu(n){const e="INTERNAL ASSERTION FAILED: "+n;throw H1(e),new Error(e)}function Du(n,e){n||xu(e)}function Zx(){return typeof self<"u"&&self.location?.href||""}function VU(){return GS()==="http:"||GS()==="https:"}function GS(){return typeof self<"u"&&self.location?.protocol||null}function zU(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(VU()||hP()||"connection"in navigator)?navigator.onLine:!0}function qU(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class Kp{constructor(e,t){this.shortDelay=e,this.longDelay=t,Du(t>e,"Short delay should be less than long delay!"),this.isMobile=lP()||fP()}get(){return zU()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Lw(n,e){Du(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class G8{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;xu("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;xu("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;xu("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const HU={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const GU=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],WU=new Kp(3e4,6e4);function jw(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function q0(n,e,t,r,i={}){return W8(n,i,async()=>{let a={},o={};r&&(e==="GET"?o=r:a={body:JSON.stringify(r)});const c=Fp({key:n.config.apiKey,...o}).slice(1),u=await n._getAdditionalHeaders();u["Content-Type"]="application/json",n.languageCode&&(u["X-Firebase-Locale"]=n.languageCode);const h={method:e,headers:u,...a};return uP()||(h.referrerPolicy="no-referrer"),n.emulatorConfig&&$h(n.emulatorConfig.host)&&(h.credentials="include"),G8.fetch()(await Y8(n,n.config.apiHost,t,c),h)})}async function W8(n,e,t){n._canInitEmulator=!1;const r={...HU,...e};try{const i=new $U(n),a=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const o=await a.json();if("needConfirmation"in o)throw u1(n,"account-exists-with-different-credential",o);if(a.ok&&!("errorMessage"in o))return o;{const c=a.ok?o.errorMessage:o.error.message,[u,h]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw u1(n,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw u1(n,"email-already-in-use",o);if(u==="USER_DISABLED")throw u1(n,"user-disabled",o);const m=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw Ow(n,m,h);Bc(n,m)}}catch(i){if(i instanceof qc)throw i;Bc(n,"network-request-failed",{message:String(i)})}}async function YU(n,e,t,r,i={}){const a=await q0(n,e,t,r,i);return"mfaPendingCredential"in a&&Bc(n,"multi-factor-auth-required",{_serverResponse:a}),a}async function Y8(n,e,t,r){const i=`${e}${t}?${r}`,a=n,o=a.config.emulator?Lw(n.config,i):`${n.config.apiScheme}://${i}`;return GU.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(o).toString():o}class $U{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Xl(this.auth,"network-request-failed")),WU.get())})}}function u1(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=Xl(n,e,r);return i.customData._tokenResponse=t,i}async function KU(n,e){return q0(n,"POST","/v1/accounts:delete",e)}async function g2(n,e){return q0(n,"POST","/v1/accounts:lookup",e)}function rp(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function XU(n,e=!1){const t=si(n),r=await t.getIdToken(e),i=Mw(r);Cn(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,o=a?.sign_in_provider;return{claims:i,token:r,authTime:rp(vy(i.auth_time)),issuedAtTime:rp(vy(i.iat)),expirationTime:rp(vy(i.exp)),signInProvider:o||null,signInSecondFactor:a?.sign_in_second_factor||null}}function vy(n){return Number(n)*1e3}function Mw(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return H1("JWT malformed, contained fewer than 3 sections"),null;try{const i=W6(t);return i?JSON.parse(i):(H1("Failed to decode base64 JWT payload"),null)}catch(i){return H1("Caught error parsing JWT payload as JSON",i?.toString()),null}}function WS(n){const e=Mw(n);return Cn(e,"internal-error"),Cn(typeof e.exp<"u","internal-error"),Cn(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Ep(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof qc&&JU(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function JU({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class QU{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class e5{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=rp(this.lastLoginAt),this.creationTime=rp(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function v2(n){const e=n.auth,t=await n.getIdToken(),r=await Ep(n,g2(e,{idToken:t}));Cn(r?.users.length,e,"internal-error");const i=r.users[0];n._notifyReloadListener(i);const a=i.providerUserInfo?.length?$8(i.providerUserInfo):[],o=eV(n.providerData,a),c=n.isAnonymous,u=!(n.email&&i.passwordHash)&&!o?.length,h=c?u:!1,m={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new e5(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(n,m)}async function ZU(n){const e=si(n);await v2(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function eV(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function $8(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function tV(n,e){const t=await W8(n,{},async()=>{const r=Fp({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=n.config,o=await Y8(n,i,"/v1/token",`key=${a}`),c=await n._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:c,body:r};return n.emulatorConfig&&$h(n.emulatorConfig.host)&&(u.credentials="include"),G8.fetch()(o,u)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function nV(n,e){return q0(n,"POST","/v2/accounts:revokeToken",jw(n,e))}class u0{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Cn(e.idToken,"internal-error"),Cn(typeof e.idToken<"u","internal-error"),Cn(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):WS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Cn(e.length!==0,"internal-error");const t=WS(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Cn(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:a}=await tV(e,t);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:a}=t,o=new u0;return r&&(Cn(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Cn(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),a&&(Cn(typeof a=="number","internal-error",{appName:e}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new u0,this.toJSON())}_performRefresh(){return xu("not implemented")}}function mh(n,e){Cn(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Wl{constructor({uid:e,auth:t,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new QU(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new e5(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Ep(this,this.stsTokenManager.getToken(this.auth,e));return Cn(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return XU(this,e)}reload(){return ZU(this)}_assign(e){this!==e&&(Cn(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Wl({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Cn(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await v2(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(pl(this.auth.app))return Promise.reject(Af(this.auth));const e=await this.getIdToken();return await Ep(this,KU(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,i=t.email??void 0,a=t.phoneNumber??void 0,o=t.photoURL??void 0,c=t.tenantId??void 0,u=t._redirectEventId??void 0,h=t.createdAt??void 0,m=t.lastLoginAt??void 0,{uid:g,emailVerified:_,isAnonymous:v,providerData:b,stsTokenManager:w}=t;Cn(g&&w,e,"internal-error");const T=u0.fromJSON(this.name,w);Cn(typeof g=="string",e,"internal-error"),mh(r,e.name),mh(i,e.name),Cn(typeof _=="boolean",e,"internal-error"),Cn(typeof v=="boolean",e,"internal-error"),mh(a,e.name),mh(o,e.name),mh(c,e.name),mh(u,e.name),mh(h,e.name),mh(m,e.name);const N=new Wl({uid:g,auth:e,email:i,emailVerified:_,displayName:r,isAnonymous:v,photoURL:o,phoneNumber:a,tenantId:c,stsTokenManager:T,createdAt:h,lastLoginAt:m});return b&&Array.isArray(b)&&(N.providerData=b.map(P=>({...P}))),u&&(N._redirectEventId=u),N}static async _fromIdTokenResponse(e,t,r=!1){const i=new u0;i.updateFromServerResponse(t);const a=new Wl({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await v2(a),a}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];Cn(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?$8(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!a?.length,c=new u0;c.updateFromIdToken(r);const u=new Wl({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:o}),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new e5(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!a?.length};return Object.assign(u,h),u}}const YS=new Map;function wu(n){Du(n instanceof Function,"Expected a class definition");let e=YS.get(n);return e?(Du(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,YS.set(n,e),e)}class K8{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}K8.type="NONE";const $S=K8;function G1(n,e,t){return`firebase:${n}:${e}:${t}`}class h0{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=G1(this.userKey,i.apiKey,a),this.fullPersistenceKey=G1("persistence",i.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await g2(this.auth,{idToken:e}).catch(()=>{});return t?Wl._fromGetAccountInfoResponse(this.auth,t,e):null}return Wl._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new h0(wu($S),e,r);const i=(await Promise.all(t.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let a=i[0]||wu($S);const o=G1(r,e.config.apiKey,e.name);let c=null;for(const h of t)try{const m=await h._get(o);if(m){let g;if(typeof m=="string"){const _=await g2(e,{idToken:m}).catch(()=>{});if(!_)break;g=await Wl._fromGetAccountInfoResponse(e,_,m)}else g=Wl._fromJSON(e,m);h!==a&&(c=g),a=h;break}}catch{}const u=i.filter(h=>h._shouldAllowMigration);return!a._shouldAllowMigration||!u.length?new h0(a,e,r):(a=u[0],c&&await a._set(o,c.toJSON()),await Promise.all(t.map(async h=>{if(h!==a)try{await h._remove(o)}catch{}})),new h0(a,e,r))}}function KS(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Z8(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(X8(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(tI(e))return"Blackberry";if(nI(e))return"Webos";if(J8(e))return"Safari";if((e.includes("chrome/")||Q8(e))&&!e.includes("edge/"))return"Chrome";if(eI(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function X8(n=As()){return/firefox\//i.test(n)}function J8(n=As()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Q8(n=As()){return/crios\//i.test(n)}function Z8(n=As()){return/iemobile/i.test(n)}function eI(n=As()){return/android/i.test(n)}function tI(n=As()){return/blackberry/i.test(n)}function nI(n=As()){return/webos/i.test(n)}function Pw(n=As()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function rV(n=As()){return Pw(n)&&!!window.navigator?.standalone}function iV(){return dP()&&document.documentMode===10}function rI(n=As()){return Pw(n)||eI(n)||nI(n)||tI(n)||/windows phone/i.test(n)||Z8(n)}function iI(n,e=[]){let t;switch(n){case"Browser":t=KS(As());break;case"Worker":t=`${KS(As())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Hf}/${r}`}class aV{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((o,c)=>{try{const u=e(a);o(u)}catch(u){c(u)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function sV(n,e={}){return q0(n,"GET","/v2/passwordPolicy",jw(n,e))}const oV=6;class lV{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??oV,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}class cV{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new XS(this),this.idTokenSubscription=new XS(this),this.beforeStateQueue=new aV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=H8,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=wu(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await h0.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await g2(this,{idToken:e}),r=await Wl._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(pl(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(o,o))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=this.redirectUser?._redirectEventId,o=r?._redirectEventId,c=await this.tryRedirectSignIn(e);(!a||a===o)&&c?.user&&(r=c.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Cn(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await v2(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=qU()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(pl(this.app))return Promise.reject(Af(this));const t=e?si(e):null;return t&&Cn(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Cn(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return pl(this.app)?Promise.reject(Af(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return pl(this.app)?Promise.reject(Af(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(wu(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await sV(this),t=new lV(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Pp("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await nV(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&wu(e)||this._popupRedirectResolver;Cn(t,this,"argument-error"),this.redirectPersistenceManager=await h0.create(this,[wu(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let o=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Cn(c,this,"internal-error"),c.then(()=>{o||a(this.currentUser)}),typeof t=="function"){const u=e.addObserver(t,r,i);return()=>{o=!0,u()}}else{const u=e.addObserver(t);return()=>{o=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Cn(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=iI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(pl(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&BU(`Error while retrieving App Check token: ${e.error}`),e?.token}}function _v(n){return si(n)}class XS{constructor(e){this.auth=e,this.observer=null,this.addObserver=wP(t=>this.observer=t)}get next(){return Cn(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Fw={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function uV(n){Fw=n}function hV(n){return Fw.loadJS(n)}function fV(){return Fw.gapiScript}function dV(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function mV(n,e){const t=K2(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),a=t.getOptions();if(Iu(a,e??{}))return i;Bc(i,"already-initialized")}return t.initialize({options:e})}function pV(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(wu);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function gV(n,e,t){const r=_v(n);Cn(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=aI(e),{host:o,port:c}=vV(e),u=c===null?"":`:${c}`,h={url:`${a}//${o}${u}/`},m=Object.freeze({host:o,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Cn(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Cn(Iu(h,r.config.emulator)&&Iu(m,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=m,r.settings.appVerificationDisabledForTesting=!0,$h(o)?(H5(`${a}//${o}${u}`),G5("Auth",!0)):_V()}function aI(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function vV(n){const e=aI(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:JS(r.substr(a.length+1))}}else{const[a,o]=r.split(":");return{host:a,port:JS(o)}}}function JS(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function _V(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class sI{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return xu("not implemented")}_getIdTokenResponse(e){return xu("not implemented")}_linkToIdToken(e,t){return xu("not implemented")}_getReauthenticationResolver(e){return xu("not implemented")}}async function f0(n,e){return YU(n,"POST","/v1/accounts:signInWithIdp",jw(n,e))}const yV="http://localhost";class jf extends sI{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new jf(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Bc("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...a}=t;if(!r||!i)return null;const o=new jf(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}_getIdTokenResponse(e){const t=this.buildRequest();return f0(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,f0(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,f0(e,t)}buildRequest(){const e={requestUri:yV,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Fp(t)}return e}}class Bw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Xp extends Bw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class wh extends Xp{constructor(){super("facebook.com")}static credential(e){return jf._fromParams({providerId:wh.PROVIDER_ID,signInMethod:wh.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return wh.credentialFromTaggedObject(e)}static credentialFromError(e){return wh.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return wh.credential(e.oauthAccessToken)}catch{return null}}}wh.FACEBOOK_SIGN_IN_METHOD="facebook.com";wh.PROVIDER_ID="facebook.com";class yu extends Xp{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return jf._fromParams({providerId:yu.PROVIDER_ID,signInMethod:yu.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return yu.credentialFromTaggedObject(e)}static credentialFromError(e){return yu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return yu.credential(t,r)}catch{return null}}}yu.GOOGLE_SIGN_IN_METHOD="google.com";yu.PROVIDER_ID="google.com";class bh extends Xp{constructor(){super("github.com")}static credential(e){return jf._fromParams({providerId:bh.PROVIDER_ID,signInMethod:bh.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return bh.credentialFromTaggedObject(e)}static credentialFromError(e){return bh.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return bh.credential(e.oauthAccessToken)}catch{return null}}}bh.GITHUB_SIGN_IN_METHOD="github.com";bh.PROVIDER_ID="github.com";class Eh extends Xp{constructor(){super("twitter.com")}static credential(e,t){return jf._fromParams({providerId:Eh.PROVIDER_ID,signInMethod:Eh.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Eh.credentialFromTaggedObject(e)}static credentialFromError(e){return Eh.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Eh.credential(t,r)}catch{return null}}}Eh.TWITTER_SIGN_IN_METHOD="twitter.com";Eh.PROVIDER_ID="twitter.com";class O0{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const a=await Wl._fromIdTokenResponse(e,r,i),o=QS(r);return new O0({user:a,providerId:o,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=QS(r);return new O0({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function QS(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class _2 extends qc{constructor(e,t,r,i){super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,_2.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new _2(e,t,r,i)}}function oI(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?_2._fromErrorAndOperation(n,a,e,r):a})}async function xV(n,e,t=!1){const r=await Ep(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return O0._forOperation(n,"link",r)}async function wV(n,e,t=!1){const{auth:r}=n;if(pl(r.app))return Promise.reject(Af(r));const i="reauthenticate";try{const a=await Ep(n,oI(r,i,e,n),t);Cn(a.idToken,r,"internal-error");const o=Mw(a.idToken);Cn(o,r,"internal-error");const{sub:c}=o;return Cn(n.uid===c,r,"user-mismatch"),O0._forOperation(n,i,a)}catch(a){throw a?.code==="auth/user-not-found"&&Bc(r,"user-mismatch"),a}}async function bV(n,e,t=!1){if(pl(n.app))return Promise.reject(Af(n));const r="signIn",i=await oI(n,r,e),a=await O0._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(a.user),a}function EV(n,e,t,r){return si(n).onIdTokenChanged(e,t,r)}function SV(n,e,t){return si(n).beforeAuthStateChanged(e,t)}function TV(n,e,t,r){return si(n).onAuthStateChanged(e,t,r)}function AV(n){return si(n).signOut()}async function NV(n){return si(n).delete()}const y2="__sak";class lI{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(y2,"1"),this.storage.removeItem(y2),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const CV=1e3,IV=10;class cI extends lI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=rI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((o,c,u)=>{this.notifyListeners(o,u)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!t&&this.localCache[r]===o||this.notifyListeners(r,o)},a=this.storage.getItem(r);iV()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,IV):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},CV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}cI.type="LOCAL";const RV=cI;class uI extends lI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}uI.type="SESSION";const hI=uI;function kV(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class yv{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new yv(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:a}=t.data,o=this.handlersMap[i];if(!o?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const c=Array.from(o).map(async h=>h(t.origin,a)),u=await kV(c);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}yv.receivers=[];function Uw(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}class OV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,o;return new Promise((c,u)=>{const h=Uw("",20);i.port1.start();const m=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(g){const _=g;if(_.data.eventId===h)switch(_.data.status){case"ack":clearTimeout(m),a=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),c(_.data.response);break;default:clearTimeout(m),clearTimeout(a),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:h,data:t},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}function Lc(){return window}function DV(n){Lc().location.href=n}function fI(){return typeof Lc().WorkerGlobalScope<"u"&&typeof Lc().importScripts=="function"}async function LV(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function jV(){return navigator?.serviceWorker?.controller||null}function MV(){return fI()?self:null}const dI="firebaseLocalStorageDb",PV=1,x2="firebaseLocalStorage",mI="fbase_key";class Jp{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function xv(n,e){return n.transaction([x2],e?"readwrite":"readonly").objectStore(x2)}function FV(){const n=indexedDB.deleteDatabase(dI);return new Jp(n).toPromise()}function t5(){const n=indexedDB.open(dI,PV);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(x2,{keyPath:mI})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(x2)?e(r):(r.close(),await FV(),e(await t5()))})})}async function ZS(n,e,t){const r=xv(n,!0).put({[mI]:e,value:t});return new Jp(r).toPromise()}async function BV(n,e){const t=xv(n,!1).get(e),r=await new Jp(t).toPromise();return r===void 0?null:r.value}function eT(n,e){const t=xv(n,!0).delete(e);return new Jp(t).toPromise()}const UV=800,VV=3;class pI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await t5(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>VV)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return fI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=yv._getInstance(MV()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await LV(),!this.activeServiceWorker)return;this.sender=new OV(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||jV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await t5();return await ZS(e,y2,"1"),await eT(e,y2),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>ZS(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>BV(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>eT(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=xv(i,!1).getAll();return new Jp(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),UV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}pI.type="LOCAL";const zV=pI;new Kp(3e4,6e4);function gI(n,e){return e?wu(e):(Cn(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class Vw extends sI{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return f0(e,this._buildIdpRequest())}_linkToIdToken(e,t){return f0(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return f0(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function qV(n){return bV(n.auth,new Vw(n),n.bypassAuthState)}function HV(n){const{auth:e,user:t}=n;return Cn(t,e,"internal-error"),wV(t,new Vw(n),n.bypassAuthState)}async function GV(n){const{auth:e,user:t}=n;return Cn(t,e,"internal-error"),xV(t,new Vw(n),n.bypassAuthState)}class vI{constructor(e,t,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:a,error:o,type:c}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(u))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return qV;case"linkViaPopup":case"linkViaRedirect":return GV;case"reauthViaPopup":case"reauthViaRedirect":return HV;default:Bc(this.auth,"internal-error")}}resolve(e){Du(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Du(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const WV=new Kp(2e3,1e4);async function YV(n,e,t){if(pl(n.app))return Promise.reject(Xl(n,"operation-not-supported-in-this-environment"));const r=_v(n);UU(n,e,Bw);const i=gI(r,t);return new Sf(r,"signInViaPopup",e,i).executeNotNull()}class Sf extends vI{constructor(e,t,r,i,a){super(e,t,i,a),this.provider=r,this.authWindow=null,this.pollId=null,Sf.currentPopupAction&&Sf.currentPopupAction.cancel(),Sf.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Cn(e,this.auth,"internal-error"),e}async onExecution(){Du(this.filter.length===1,"Popup operations only handle one event");const e=Uw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Xl(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Xl(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Sf.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Xl(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,WV.get())};e()}}Sf.currentPopupAction=null;const $V="pendingRedirect",W1=new Map;class KV extends vI{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=W1.get(this.auth._key());if(!e){try{const r=await XV(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}W1.set(this.auth._key(),e)}return this.bypassAuthState||W1.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function XV(n,e){const t=ZV(e),r=QV(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}function JV(n,e){W1.set(n._key(),e)}function QV(n){return wu(n._redirectPersistence)}function ZV(n){return G1($V,n.config.apiKey,n.name)}async function ez(n,e,t=!1){if(pl(n.app))return Promise.reject(Af(n));const r=_v(n),i=gI(r,e),o=await new KV(r,i,t).execute();return o&&!t&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}const tz=600*1e3;class nz{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!rz(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!_I(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Xl(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=tz&&this.cachedEventUids.clear(),this.cachedEventUids.has(tT(e))}saveEventToCache(e){this.cachedEventUids.add(tT(e)),this.lastProcessedEventTime=Date.now()}}function tT(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function _I({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function rz(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _I(n);default:return!1}}async function iz(n,e={}){return q0(n,"GET","/v1/projects",e)}const az=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,sz=/^https?/;async function oz(n){if(n.config.emulator)return;const{authorizedDomains:e}=await iz(n);for(const t of e)try{if(lz(t))return}catch{}Bc(n,"unauthorized-domain")}function lz(n){const e=Zx(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const o=new URL(n);return o.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&o.hostname===r}if(!sz.test(t))return!1;if(az.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const cz=new Kp(3e4,6e4);function nT(){const n=Lc().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function uz(n){return new Promise((e,t)=>{function r(){nT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{nT(),t(Xl(n,"network-request-failed"))},timeout:cz.get()})}if(Lc().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Lc().gapi?.load)r();else{const i=dV("iframefcb");return Lc()[i]=()=>{gapi.load?r():t(Xl(n,"network-request-failed"))},hV(`${fV()}?onload=${i}`).catch(a=>t(a))}}).catch(e=>{throw Y1=null,e})}let Y1=null;function hz(n){return Y1=Y1||uz(n),Y1}const fz=new Kp(5e3,15e3),dz="__/auth/iframe",mz="emulator/auth/iframe",pz={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},gz=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function vz(n){const e=n.config;Cn(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Lw(e,mz):`https://${n.config.authDomain}/${dz}`,r={apiKey:e.apiKey,appName:n.name,v:Hf},i=gz.get(n.config.apiHost);i&&(r.eid=i);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${Fp(r).slice(1)}`}async function _z(n){const e=await hz(n),t=Lc().gapi;return Cn(t,n,"internal-error"),e.open({where:document.body,url:vz(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:pz,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const o=Xl(n,"network-request-failed"),c=Lc().setTimeout(()=>{a(o)},fz.get());function u(){Lc().clearTimeout(c),i(r)}r.ping(u).then(u,()=>{a(o)})}))}const yz={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},xz=500,wz=600,bz="_blank",Ez="http://localhost";class rT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Sz(n,e,t,r=xz,i=wz){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const u={...yz,width:r.toString(),height:i.toString(),top:a,left:o},h=As().toLowerCase();t&&(c=Q8(h)?bz:t),X8(h)&&(e=e||Ez,u.scrollbars="yes");const m=Object.entries(u).reduce((_,[v,b])=>`${_}${v}=${b},`,"");if(rV(h)&&c!=="_self")return Tz(e||"",c),new rT(null);const g=window.open(e||"",c,m);Cn(g,n,"popup-blocked");try{g.focus()}catch{}return new rT(g)}function Tz(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}const Az="__/auth/handler",Nz="emulator/auth/handler",Cz=encodeURIComponent("fac");async function iT(n,e,t,r,i,a){Cn(n.config.authDomain,n,"auth-domain-config-required"),Cn(n.config.apiKey,n,"invalid-api-key");const o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Hf,eventId:i};if(e instanceof Bw){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",xP(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,g]of Object.entries({}))o[m]=g}if(e instanceof Xp){const m=e.getScopes().filter(g=>g!=="");m.length>0&&(o.scopes=m.join(","))}n.tenantId&&(o.tid=n.tenantId);const c=o;for(const m of Object.keys(c))c[m]===void 0&&delete c[m];const u=await n._getAppCheckToken(),h=u?`#${Cz}=${encodeURIComponent(u)}`:"";return`${Iz(n)}?${Fp(c).slice(1)}${h}`}function Iz({config:n}){return n.emulator?Lw(n,Nz):`https://${n.authDomain}/${Az}`}const _y="webStorageSupport";class Rz{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=hI,this._completeRedirectFn=ez,this._overrideRedirectResult=JV}async _openPopup(e,t,r,i){Du(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const a=await iT(e,t,r,Zx(),i);return Sz(e,a,Uw())}async _openRedirect(e,t,r,i){await this._originValidation(e);const a=await iT(e,t,r,Zx(),i);return DV(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:a}=this.eventManagers[t];return i?Promise.resolve(i):(Du(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await _z(e),r=new nz(e);return t.register("authEvent",i=>(Cn(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(_y,{type:_y},i=>{const a=i?.[0]?.[_y];a!==void 0&&t(!!a),Bc(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=oz(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return rI()||J8()||Pw()}}const kz=Rz;var aT="@firebase/auth",sT="1.12.0";class Oz{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Cn(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Dz(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Lz(n){kf(new Ph("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:o,authDomain:c}=r.options;Cn(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:iI(n)},h=new cV(r,i,a,u);return pV(h,t),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),kf(new Ph("auth-internal",e=>{const t=_v(e.getProvider("auth").getImmediate());return(r=>new Oz(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),kc(aT,sT,Dz(n)),kc(aT,sT,"esm2020")}const jz=300,Mz=X6("authIdTokenMaxAge")||jz;let oT=null;const Pz=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>Mz)return;const i=t?.token;oT!==i&&(oT=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Fz(n=X2()){const e=K2(n,"auth");if(e.isInitialized())return e.getImmediate();const t=mV(n,{popupRedirectResolver:kz,persistence:[zV,RV,hI]}),r=X6("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const o=Pz(a.toString());SV(t,o,()=>o(t.currentUser)),EV(t,c=>o(c))}}const i=Y6("auth");return i&&gV(t,`http://${i}`),t}function Bz(){return document.getElementsByTagName("head")?.[0]??document}uV({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const a=Xl("internal-error");a.customData=i,t(a)},r.type="text/javascript",r.charset="UTF-8",Bz().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Lz("Browser");const yI="firebasestorage.googleapis.com",xI="storageBucket",Uz=120*1e3,Vz=600*1e3;class Vi extends qc{constructor(e,t,r=0){super(yy(e),`Firebase Storage: ${t} (${yy(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Vi.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return yy(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ui;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ui||(Ui={}));function yy(n){return"storage/"+n}function zw(){const n="An unknown error occurred, please check the error payload for server response.";return new Vi(Ui.UNKNOWN,n)}function zz(n){return new Vi(Ui.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function qz(n){return new Vi(Ui.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Hz(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Vi(Ui.UNAUTHENTICATED,n)}function Gz(){return new Vi(Ui.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Wz(n){return new Vi(Ui.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function Yz(){return new Vi(Ui.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function $z(){return new Vi(Ui.CANCELED,"User canceled the upload/download.")}function Kz(n){return new Vi(Ui.INVALID_URL,"Invalid URL '"+n+"'.")}function Xz(n){return new Vi(Ui.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function Jz(){return new Vi(Ui.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+xI+"' property when initializing the app?")}function Qz(){return new Vi(Ui.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Zz(){return new Vi(Ui.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function eq(n){return new Vi(Ui.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function n5(n){return new Vi(Ui.INVALID_ARGUMENT,n)}function wI(){return new Vi(Ui.APP_DELETED,"The Firebase app was deleted.")}function tq(n){return new Vi(Ui.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function ip(n,e){return new Vi(Ui.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function Lm(n){throw new Vi(Ui.INTERNAL_ERROR,"Internal error: "+n)}class Vs{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=Vs.makeFromUrl(e,t)}catch{return new Vs(e,"")}if(r.path==="")return r;throw Xz(e)}static makeFromUrl(e,t){let r=null;const i="([A-Za-z0-9.\\-_]+)";function a(j){j.path.charAt(j.path.length-1)==="/"&&(j.path_=j.path_.slice(0,-1))}const o="(/(.*))?$",c=new RegExp("^gs://"+i+o,"i"),u={bucket:1,path:3};function h(j){j.path_=decodeURIComponent(j.path)}const m="v[A-Za-z0-9_]+",g=t.replace(/[.]/g,"\\."),_="(/([^?#]*).*)?$",v=new RegExp(`^https?://${g}/${m}/b/${i}/o${_}`,"i"),b={bucket:1,path:3},w=t===yI?"(?:storage.googleapis.com|storage.cloud.google.com)":t,T="([^?#]*)",N=new RegExp(`^https?://${w}/${i}/${T}`,"i"),R=[{regex:c,indices:u,postModify:a},{regex:v,indices:b,postModify:h},{regex:N,indices:{bucket:1,path:2},postModify:h}];for(let j=0;j<R.length;j++){const K=R[j],U=K.regex.exec(e);if(U){const C=U[K.indices.bucket];let k=U[K.indices.path];k||(k=""),r=new Vs(C,k),K.postModify(r);break}}if(r==null)throw Kz(e);return r}}class nq{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function rq(n,e,t){let r=1,i=null,a=null,o=!1,c=0;function u(){return c===2}let h=!1;function m(...T){h||(h=!0,e.apply(null,T))}function g(T){i=setTimeout(()=>{i=null,n(v,u())},T)}function _(){a&&clearTimeout(a)}function v(T,...N){if(h){_();return}if(T){_(),m.call(null,T,...N);return}if(u()||o){_(),m.call(null,T,...N);return}r<64&&(r*=2);let R;c===1?(c=2,R=0):R=(r+Math.random())*1e3,g(R)}let b=!1;function w(T){b||(b=!0,_(),!h&&(i!==null?(T||(c=2),clearTimeout(i),g(0)):T||(c=1)))}return g(0),a=setTimeout(()=>{o=!0,w(!0)},t),w}function iq(n){n(!1)}function aq(n){return n!==void 0}function sq(n){return typeof n=="object"&&!Array.isArray(n)}function qw(n){return typeof n=="string"||n instanceof String}function lT(n){return Hw()&&n instanceof Blob}function Hw(){return typeof Blob<"u"}function r5(n,e,t,r){if(r<e)throw n5(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw n5(`Invalid value for '${n}'. Expected ${t} or less.`)}function Qp(n,e,t){let r=e;return t==null&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function bI(n){const e=encodeURIComponent;let t="?";for(const r in n)if(n.hasOwnProperty(r)){const i=e(r)+"="+e(n[r]);t=t+i+"&"}return t=t.slice(0,-1),t}var Nf;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Nf||(Nf={}));function oq(n,e){const t=n>=500&&n<600,i=[408,429].indexOf(n)!==-1,a=e.indexOf(n)!==-1;return t||i||a}class lq{constructor(e,t,r,i,a,o,c,u,h,m,g,_=!0,v=!1){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=c,this.errorCallback_=u,this.timeout_=h,this.progressCallback_=m,this.connectionFactory_=g,this.retry=_,this.isUsingEmulator=v,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((b,w)=>{this.resolve_=b,this.reject_=w,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new h1(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const o=c=>{const u=c.loaded,h=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,h)};this.progressCallback_!==null&&a.addUploadProgressListener(o),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(o),this.pendingConnection_=null;const c=a.getErrorCode()===Nf.NO_ERROR,u=a.getStatus();if(!c||oq(u,this.additionalRetryCodes_)&&this.retry){const m=a.getErrorCode()===Nf.ABORT;r(!1,new h1(!1,null,m));return}const h=this.successCodes_.indexOf(u)!==-1;r(!0,new h1(h,a))})},t=(r,i)=>{const a=this.resolve_,o=this.reject_,c=i.connection;if(i.wasSuccessCode)try{const u=this.callback_(c,c.getResponse());aq(u)?a(u):a()}catch(u){o(u)}else if(c!==null){const u=zw();u.serverResponse=c.getErrorText(),this.errorCallback_?o(this.errorCallback_(c,u)):o(u)}else if(i.canceled){const u=this.appDelete_?wI():$z();o(u)}else{const u=Yz();o(u)}};this.canceled_?t(!1,new h1(!1,null,!0)):this.backoffId_=rq(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&iq(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class h1{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function cq(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function uq(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function hq(n,e){e&&(n["X-Firebase-GMPID"]=e)}function fq(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function dq(n,e,t,r,i,a,o=!0,c=!1){const u=bI(n.urlParams),h=n.url+u,m=Object.assign({},n.headers);return hq(m,e),cq(m,t),uq(m,a),fq(m,r),new lq(h,n.method,m,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,o,c)}function mq(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function pq(...n){const e=mq();if(e!==void 0){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}else{if(Hw())return new Blob(n);throw new Vi(Ui.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function gq(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}function vq(n){if(typeof atob>"u")throw eq("base-64");return atob(n)}const Ic={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class xy{constructor(e,t){this.data=e,this.contentType=t||null}}function _q(n,e){switch(n){case Ic.RAW:return new xy(EI(e));case Ic.BASE64:case Ic.BASE64URL:return new xy(SI(n,e));case Ic.DATA_URL:return new xy(xq(e),wq(e))}throw zw()}function EI(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const a=r,o=n.charCodeAt(++t);r=65536|(a&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function yq(n){let e;try{e=decodeURIComponent(n)}catch{throw ip(Ic.DATA_URL,"Malformed data URL.")}return EI(e)}function SI(n,e){switch(n){case Ic.BASE64:{const i=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(i||a)throw ip(n,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Ic.BASE64URL:{const i=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(i||a)throw ip(n,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=vq(e)}catch(i){throw i.message.includes("polyfill")?i:ip(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}class TI{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw ip(Ic.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;r!=null&&(this.base64=bq(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function xq(n){const e=new TI(n);return e.base64?SI(Ic.BASE64,e.rest):yq(e.rest)}function wq(n){return new TI(n).contentType}function bq(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}class Sh{constructor(e,t){let r=0,i="";lT(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if(lT(this.data_)){const r=this.data_,i=gq(r,e,t);return i===null?null:new Sh(i)}else{const r=new Uint8Array(this.data_.buffer,e,t-e);return new Sh(r,!0)}}static getBlob(...e){if(Hw()){const t=e.map(r=>r instanceof Sh?r.data_:r);return new Sh(pq.apply(null,t))}else{const t=e.map(o=>qw(o)?_q(Ic.RAW,o).data:o.data_);let r=0;t.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let a=0;return t.forEach(o=>{for(let c=0;c<o.length;c++)i[a++]=o[c]}),new Sh(i,!0)}}uploadData(){return this.data_}}function Gw(n){let e;try{e=JSON.parse(n)}catch{return null}return sq(e)?e:null}function Eq(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function Sq(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return n.length===0?t:n+"/"+t}function AI(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}function Tq(n,e){return e}class Fs{constructor(e,t,r,i){this.server=e,this.local=t||e,this.writable=!!r,this.xform=i||Tq}}let f1=null;function Aq(n){return!qw(n)||n.length<2?n:AI(n)}function NI(){if(f1)return f1;const n=[];n.push(new Fs("bucket")),n.push(new Fs("generation")),n.push(new Fs("metageneration")),n.push(new Fs("name","fullPath",!0));function e(a,o){return Aq(o)}const t=new Fs("name");t.xform=e,n.push(t);function r(a,o){return o!==void 0?Number(o):o}const i=new Fs("size");return i.xform=r,n.push(i),n.push(new Fs("timeCreated")),n.push(new Fs("updated")),n.push(new Fs("md5Hash",null,!0)),n.push(new Fs("cacheControl",null,!0)),n.push(new Fs("contentDisposition",null,!0)),n.push(new Fs("contentEncoding",null,!0)),n.push(new Fs("contentLanguage",null,!0)),n.push(new Fs("contentType",null,!0)),n.push(new Fs("metadata","customMetadata",!0)),f1=n,f1}function Nq(n,e){function t(){const r=n.bucket,i=n.fullPath,a=new Vs(r,i);return e._makeStorageReference(a)}Object.defineProperty(n,"ref",{get:t})}function Cq(n,e,t){const r={};r.type="file";const i=t.length;for(let a=0;a<i;a++){const o=t[a];r[o.local]=o.xform(r,e[o.server])}return Nq(r,n),r}function CI(n,e,t){const r=Gw(e);return r===null?null:Cq(n,r,t)}function Iq(n,e,t,r){const i=Gw(e);if(i===null||!qw(i.downloadTokens))return null;const a=i.downloadTokens;if(a.length===0)return null;const o=encodeURIComponent;return a.split(",").map(h=>{const m=n.bucket,g=n.fullPath,_="/b/"+o(m)+"/o/"+o(g),v=Qp(_,t,r),b=bI({alt:"media",token:h});return v+b})[0]}function Rq(n,e){const t={},r=e.length;for(let i=0;i<r;i++){const a=e[i];a.writable&&(t[a.server]=n[a.local])}return JSON.stringify(t)}const cT="prefixes",uT="items";function kq(n,e,t){const r={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[cT])for(const i of t[cT]){const a=i.replace(/\/$/,""),o=n._makeStorageReference(new Vs(e,a));r.prefixes.push(o)}if(t[uT])for(const i of t[uT]){const a=n._makeStorageReference(new Vs(e,i.name));r.items.push(a)}return r}function Oq(n,e,t){const r=Gw(t);return r===null?null:kq(n,e,r)}class wv{constructor(e,t,r,i){this.url=e,this.method=t,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Ww(n){if(!n)throw zw()}function Dq(n,e){function t(r,i){const a=CI(n,i,e);return Ww(a!==null),a}return t}function Lq(n,e){function t(r,i){const a=Oq(n,e,i);return Ww(a!==null),a}return t}function jq(n,e){function t(r,i){const a=CI(n,i,e);return Ww(a!==null),Iq(a,i,n.host,n._protocol)}return t}function Yw(n){function e(t,r){let i;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?i=Gz():i=Hz():t.getStatus()===402?i=qz(n.bucket):t.getStatus()===403?i=Wz(n.path):i=r,i.status=t.getStatus(),i.serverResponse=r.serverResponse,i}return e}function II(n){const e=Yw(n);function t(r,i){let a=e(r,i);return r.getStatus()===404&&(a=zz(n.path)),a.serverResponse=i.serverResponse,a}return t}function Mq(n,e,t,r,i){const a={};e.isRoot?a.prefix="":a.prefix=e.path+"/",t.length>0&&(a.delimiter=t),r&&(a.pageToken=r),i&&(a.maxResults=i);const o=e.bucketOnlyServerUrl(),c=Qp(o,n.host,n._protocol),u="GET",h=n.maxOperationRetryTime,m=new wv(c,u,Lq(n,e.bucket),h);return m.urlParams=a,m.errorHandler=Yw(e),m}function Pq(n,e,t){const r=e.fullServerUrl(),i=Qp(r,n.host,n._protocol),a="GET",o=n.maxOperationRetryTime,c=new wv(i,a,jq(n,t),o);return c.errorHandler=II(e),c}function Fq(n,e){const t=e.fullServerUrl(),r=Qp(t,n.host,n._protocol),i="DELETE",a=n.maxOperationRetryTime;function o(u,h){}const c=new wv(r,i,o,a);return c.successCodes=[200,204],c.errorHandler=II(e),c}function Bq(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function Uq(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=Bq(null,e)),r}function Vq(n,e,t,r,i){const a=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function c(){let R="";for(let j=0;j<2;j++)R=R+Math.random().toString().slice(2);return R}const u=c();o["Content-Type"]="multipart/related; boundary="+u;const h=Uq(e,r,i),m=Rq(h,t),g="--"+u+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+m+`\r
--`+u+`\r
Content-Type: `+h.contentType+`\r
\r
`,_=`\r
--`+u+"--",v=Sh.getBlob(g,r,_);if(v===null)throw Qz();const b={name:h.fullPath},w=Qp(a,n.host,n._protocol),T="POST",N=n.maxUploadRetryTime,P=new wv(w,T,Dq(n,t),N);return P.urlParams=b,P.headers=o,P.body=v.uploadData(),P.errorHandler=Yw(e),P}class zq{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Nf.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Nf.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Nf.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,i,a){if(this.sent_)throw Lm("cannot .send() more than once");if($h(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),a!==void 0)for(const o in a)a.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,a[o].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Lm("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Lm("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Lm("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Lm("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class qq extends zq{initXhr(){this.xhr_.responseType="text"}}function bv(){return new qq}class Mf{constructor(e,t){this._service=e,t instanceof Vs?this._location=t:this._location=Vs.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Mf(e,t)}get root(){const e=new Vs(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return AI(this._location.path)}get storage(){return this._service}get parent(){const e=Eq(this._location.path);if(e===null)return null;const t=new Vs(this._location.bucket,e);return new Mf(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw tq(e)}}function Hq(n,e,t){n._throwIfRoot("uploadBytes");const r=Vq(n.storage,n._location,NI(),new Sh(e,!0),t);return n.storage.makeRequestWithTokens(r,bv).then(i=>({metadata:i,ref:n}))}function Gq(n){const e={prefixes:[],items:[]};return RI(n,e).then(()=>e)}async function RI(n,e,t){const i=await Wq(n,{pageToken:t});e.prefixes.push(...i.prefixes),e.items.push(...i.items),i.nextPageToken!=null&&await RI(n,e,i.nextPageToken)}function Wq(n,e){e!=null&&typeof e.maxResults=="number"&&r5("options.maxResults",1,1e3,e.maxResults);const t=e||{},r=Mq(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(r,bv)}function Yq(n){n._throwIfRoot("getDownloadURL");const e=Pq(n.storage,n._location,NI());return n.storage.makeRequestWithTokens(e,bv).then(t=>{if(t===null)throw Zz();return t})}function $q(n){n._throwIfRoot("deleteObject");const e=Fq(n.storage,n._location);return n.storage.makeRequestWithTokens(e,bv)}function Kq(n,e){const t=Sq(n._location.path,e),r=new Vs(n._location.bucket,t);return new Mf(n.storage,r)}function Xq(n){return/^[A-Za-z]+:\/\//.test(n)}function Jq(n,e){return new Mf(n,e)}function kI(n,e){if(n instanceof $w){const t=n;if(t._bucket==null)throw Jz();const r=new Mf(t,t._bucket);return e!=null?kI(r,e):r}else return e!==void 0?Kq(n,e):n}function Qq(n,e){if(e&&Xq(e)){if(n instanceof $w)return Jq(n,e);throw n5("To use ref(service, url), the first argument must be a Storage instance.")}else return kI(n,e)}function hT(n,e){const t=e?.[xI];return t==null?null:Vs.makeFromBucketSpec(t,n)}function Zq(n,e,t,r={}){n.host=`${e}:${t}`;const i=$h(e);i&&(H5(`https://${n.host}/b`),G5("Storage",!0)),n._isUsingEmulator=!0,n._protocol=i?"https":"http";const{mockUserToken:a}=r;a&&(n._overrideAuthToken=typeof a=="string"?a:J6(a,n.app.options.projectId))}class $w{constructor(e,t,r,i,a,o=!1){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._isUsingEmulator=o,this._bucket=null,this._host=yI,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Uz,this._maxUploadRetryTime=Vz,this._requests=new Set,i!=null?this._bucket=Vs.makeFromBucketSpec(i,this._host):this._bucket=hT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Vs.makeFromBucketSpec(this._url,e):this._bucket=hT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){r5("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){r5("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(pl(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Mf(this,e)}_makeRequest(e,t,r,i,a=!0){if(this._deleted)return new nq(wI());{const o=dq(e,this._appId,r,i,t,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,t){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,i).getPromise()}}const fT="@firebase/storage",dT="0.14.0";const OI="storage";function Kw(n,e,t){return n=si(n),Hq(n,e,t)}function eH(n){return n=si(n),Gq(n)}function Xw(n){return n=si(n),Yq(n)}function DI(n){return n=si(n),$q(n)}function Zp(n,e){return n=si(n),Qq(n,e)}function tH(n=X2(),e){n=si(n);const r=K2(n,OI).getImmediate({identifier:e}),i=$6("storage");return i&&nH(r,...i),r}function nH(n,e,t,r={}){Zq(n,e,t,r)}function rH(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new $w(t,r,i,e,Hf)}function iH(){kf(new Ph(OI,rH,"PUBLIC").setMultipleInstances(!0)),kc(fT,dT,""),kc(fT,dT,"esm2020")}iH();const aH={apiKey:"AIzaSyCIrgKsX5jAq83K9xBi5ECztkq-vLb4FaY",authDomain:"orbitx-zcoer.firebaseapp.com",projectId:"orbitx-zcoer",storageBucket:"orbitx-zcoer.firebasestorage.app",messagingSenderId:"155824164336",appId:"1:155824164336:web:5f285699497ececf446135"},Jw=b9().length===0?eC(aH):X2(),Ho=Fz(Jw),$t=S8(Jw),eg=tH(Jw),LI=new yu;LI.setCustomParameters({prompt:"select_account"});const jI=Q.createContext(void 0);function sH({children:n}){const[e,t]=Q.useState(!1),[r,i]=Q.useState(!0);Q.useEffect(()=>{const o=ec(mn($t,"settings","recruitment"),c=>{c.exists()?t(c.data().isOpen??!1):t(!1),i(!1)},c=>{console.error("Error fetching recruitment status:",c),t(!1),i(!1)});return()=>o()},[]);const a=async()=>{try{await qo(mn($t,"settings","recruitment"),{isOpen:!e,updatedAt:new Date().toISOString()})}catch(o){throw console.error("Error toggling recruitment:",o),o}};return f.jsx(jI.Provider,{value:{isRecruitmentOpen:e,isLoading:r,toggleRecruitment:a},children:n})}function Kf(){const n=Q.useContext(jI);if(n===void 0)throw new Error("useRecruitment must be used within a RecruitmentProvider");return n}function oH(){const{toggleSnow:n}=KM(),{isRecruitmentOpen:e}=Kf(),t=Q.useRef(0),r=Q.useRef(0),[i,a]=Q.useState(!1),o=u=>{const h=Date.now();h-r.current>1500&&(t.current=0),t.current++,r.current=h,t.current>=3&&(u.preventDefault(),n(),t.current=0)},c=u=>{e||(u.preventDefault(),a(!0),setTimeout(()=>a(!1),5e3))};return f.jsxs("nav",{className:"navbar",children:[f.jsxs("ul",{className:"navbar__links navbar__links--left",children:[f.jsx("li",{className:"navbar__item",children:f.jsx($r,{to:"/",className:"navbar__link",children:"Home"})}),f.jsx("li",{className:"navbar__item",children:f.jsx($r,{to:"/about",className:"navbar__link",children:"About"})}),f.jsx("li",{className:"navbar__item",children:f.jsx($r,{to:"/events",className:"navbar__link",children:"Events"})})]}),f.jsx($r,{to:"/",className:"navbar__logo",onClick:o,children:f.jsx("img",{src:q5,alt:"OrbitX",className:"navbar__logo-img"})}),f.jsxs("ul",{className:"navbar__links navbar__links--right",children:[f.jsx("li",{className:"navbar__item",children:f.jsx($r,{to:"/members",className:"navbar__link",children:"Members"})}),f.jsxs("li",{className:"navbar__item navbar__item--join",children:[f.jsx($r,{to:e?"/join":"#",className:`navbar__link ${e?"":"navbar__link--disabled"}`,onClick:c,children:"Join"}),i&&f.jsxs("div",{className:"navbar__tooltip",children:[f.jsx("span",{children:"Recruitment is closed"}),f.jsx("span",{className:"navbar__tooltip-sub",children:"Check back later!"})]})]}),f.jsx("li",{className:"navbar__item",children:f.jsx($r,{to:"/merch",className:"navbar__link",children:"Merch"})})]})]})}const MI=n=>{let e=n.substring(0,3).toUpperCase();for(;e.length<3;)e+="X";return e.substring(0,3)},lH=n=>{if(n.length===0)return 1;const e=[...n].sort((t,r)=>t-r);for(let t=1;t<=e.length+1;t++)if(!e.includes(t))return t;return e[e.length-1]+1},cH=async()=>{const n=mn($t,"system","orbitIdRegistry"),e=await Br(n);let t=[];if(!e.exists())return await qo(n,{usedIds:[1]}),"0001";t=e.data().usedIds||[];const r=lH(t);return await Fa(n,{usedIds:U8(r)}),String(r).padStart(4,"0")},PI=async n=>{const e=MI(n),t=await cH();return`ORB-${e}-${t}`},FI=async n=>{const e=n.split("-");if(e.length===3){const t=parseInt(e[2],10);if(!isNaN(t)){const r=mn($t,"system","orbitIdRegistry");await Fa(r,{usedIds:V8(t)})}}},BI=async()=>{const n=Ho.currentUser;if(!n)throw new Error("No authenticated user found");try{let e=null;const t=mn($t,"users",n.uid),r=await Br(t);r.exists()&&(e=r.data().orbitId,await Fc(t));const i=mn($t,"admins",n.uid),a=await Br(i);if(a.exists()){const o=a.data();e||(e=o.orbitId),await Fc(i)}e&&await FI(e),await NV(n)}catch(e){throw e.code==="auth/requires-recent-login"?new Error("For security, please log out and log back in before deleting your account."):e}},Qw=async()=>{const e=(await YV(Ho,LI)).user,t=await Br(mn($t,"users",e.uid));if(t.exists())return{isNewUser:!1,profile:t.data()};const r=await Br(mn($t,"admins",e.uid));return r.exists()?{isNewUser:!1,profile:r.data()}:{isNewUser:!0,email:e.email||void 0,uid:e.uid}},UI=async n=>{const e=Ho.currentUser;if(!e)throw new Error("No authenticated user found. Please sign in with Google again.");if(e.email!==n.email)throw new Error("Email mismatch. Please sign in with Google again.");const t=await PI(n.firstName),r={uid:e.uid,orbitId:t,email:n.email,firstName:n.firstName,lastName:n.lastName,mobile:n.mobile,dateOfBirth:n.dateOfBirth,gender:n.gender,qualificationLevel:n.qualificationLevel,stream:n.stream,collegeName:n.collegeName,courseName:n.courseName,yearOfStudy:n.yearOfStudy,yearOfGraduation:n.yearOfGraduation,avatar:e.photoURL||void 0,role:"user",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),isActive:!0,googleLinked:!0};return await qo(mn($t,"users",e.uid),r),r},ap=async()=>{await AV(Ho)},i5=async()=>{const n=Ho.currentUser;if(!n)return null;const e=await Br(mn($t,"users",n.uid));if(e.exists())return e.data();const t=await Br(mn($t,"admins",n.uid));return t.exists()?t.data():null},VI=n=>TV(Ho,n),zI=async()=>{const n=Ho.currentUser;if(!n||!n.photoURL)return null;const e=await Br(mn($t,"users",n.uid));if(e.exists())return e.data().avatar!==n.photoURL&&await Fa(mn($t,"users",n.uid),{avatar:n.photoURL,updatedAt:new Date().toISOString()}),n.photoURL;const t=await Br(mn($t,"admins",n.uid));return t.exists()?(t.data().avatar!==n.photoURL&&await Fa(mn($t,"admins",n.uid),{avatar:n.photoURL,updatedAt:new Date().toISOString()}),n.photoURL):null},uH=(n,e)=>n==="leadership"?{president:"PR",chairman:"CH",secretary:"SC",treasurer:"TR",co_treasurer:"CT"}[e]||"LD":{technical:"TE",public_outreach:"PO",documentation:"DC",social_media_editing:"SM",design_innovation:"DI",management_operations:"MO"}[n]||"XX",hH={technical:{start:6,end:15},public_outreach:{start:16,end:25},documentation:{start:26,end:35},social_media_editing:{start:36,end:45},design_innovation:{start:46,end:55},management_operations:{start:56,end:65}},fH={president:1,chairman:2,secretary:3,treasurer:4,co_treasurer:5},dH=async(n,e)=>{const t=mn($t,"system","adminOrbitIdRegistry"),r=await Br(t);let i={usedNumbers:[],teamCounters:{}};r.exists()&&(i=r.data());let a;if(n==="leadership"){if(a=fH[e],!a)throw new Error(`Invalid leadership position: ${e}`);if(i.usedNumbers?.includes(a))throw{code:"position-taken",message:`The ${e} position is already filled.`}}else{const u=hH[n];if(!u)throw new Error(`Invalid team: ${n}`);if(e==="team_leader"){if(a=u.start,i.usedNumbers?.includes(a))throw{code:"position-taken",message:"The Team Leader position for this team is already filled."}}else{for(a=(i.teamCounters?.[n]||u.start)+1,a===u.start&&(a=u.start+1);i.usedNumbers?.includes(a)&&a<=u.end;)a++;if(a>u.end)throw{code:"team-full",message:"This team has reached its maximum capacity of 10 members."}}}const o=[...i.usedNumbers||[],a],c={...i.teamCounters||{},[n]:a};return await qo(t,{usedNumbers:o,teamCounters:c}),String(a).padStart(4,"0")},qI=async(n,e,t)=>{const r=MI(n),i=uH(e,t),a=await dH(e,t);return`ORB-${r}-${i}-${a}`},HI=async n=>{const e=Ho.currentUser;if(!e)throw new Error("No authenticated user found. Please sign in with Google first.");if((await Br(mn($t,"users",e.uid))).exists())throw{code:"already-registered-user",message:"This email is already registered as a regular user."};if((await Br(mn($t,"admins",e.uid))).exists())throw{code:"already-registered-admin",message:"This email is already registered as an admin."};if(e.email!==n.email)throw new Error("Email mismatch. Please sign in with Google again.");const i=await qI(n.firstName,n.team,n.position),a={leadership:"LEADERSHIP",design_innovation:"DESIGN_INNOVATION",technical:"TECHNICAL",management_operations:"MANAGEMENT_OPERATIONS",public_outreach:"PUBLIC_OUTREACH",documentation:"DOCUMENTATION",social_media_editing:"SOCIAL_MEDIA"},o={uid:e.uid,orbitId:i,email:n.email,firstName:n.firstName,lastName:n.lastName,mobile:n.mobile,dateOfBirth:n.dateOfBirth,gender:n.gender,team:n.team,position:n.position,adminRole:[a[n.team]||"MEMBER"],permissions:[],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),isActive:!0,googleLinked:!0};return await qo(mn($t,"admins",e.uid),o),o},GI=async(n,e)=>{const t=mn($t,"admins",n),r=await Br(t);if(!r.exists())throw new Error("Admin profile not found");const i={...e,approvalStatus:"pending",submittedAt:new Date().toISOString(),reviewedBy:null,reviewedAt:null,rejectionReason:null};await qo(t,{...r.data(),publicProfile:i,updatedAt:new Date().toISOString()},{merge:!0})},WI=async()=>{const n=Wo(ha($t,"admins"));return(await vv(n)).docs.map(t=>{const r=t.data();return{id:t.id,uid:r.uid,firstName:r.firstName,lastName:r.lastName,dateOfBirth:r.dateOfBirth,team:r.team,position:r.position,publicProfile:r.publicProfile||{}}}).filter(t=>t.publicProfile?.approvalStatus==="approved"&&t.publicProfile?.isProfilePublic!==!1&&t.firstName&&t.firstName.trim()!=="")},YI=async()=>{const n=Wo(ha($t,"admins"));return(await vv(n)).docs.map(t=>{const r=t.data();return{id:t.id,uid:r.uid,orbitId:r.orbitId,firstName:r.firstName,lastName:r.lastName,email:r.email,dateOfBirth:r.dateOfBirth,team:r.team,position:r.position,publicProfile:r.publicProfile||{}}}).filter(t=>t.publicProfile?.approvalStatus==="pending"&&t.firstName&&t.firstName.trim()!=="")},$I=async(n,e)=>{const t=mn($t,"admins",n),r=await Br(t);if(!r.exists())throw new Error("Admin profile not found");const i=r.data(),a={...i.publicProfile,approvalStatus:"approved",reviewedBy:e,reviewedAt:new Date().toISOString(),rejectionReason:null};await qo(t,{...i,publicProfile:a,updatedAt:new Date().toISOString()},{merge:!0})},KI=async(n,e,t)=>{const r=mn($t,"admins",n),i=await Br(r);if(!i.exists())throw new Error("Admin profile not found");const a=i.data(),o={...a.publicProfile,approvalStatus:"rejected",reviewedBy:e,reviewedAt:new Date().toISOString(),rejectionReason:t||null};await qo(r,{...a,publicProfile:o,updatedAt:new Date().toISOString()},{merge:!0})},mH=async n=>{const e=await Br(mn($t,"admins",n));return e.exists()?e.data():null},XI=async n=>{const e=mn($t,"admins",n);if(!(await Br(e)).exists())throw new Error("Admin profile not found");await Fa(e,{publicProfile:B8(),updatedAt:new Date().toISOString()})},pH=Object.freeze(Object.defineProperty({__proto__:null,approveAdminProfile:$I,completeAdminSignup:HI,completeGoogleSignup:UI,deleteAdminPublicProfile:XI,deleteUserAccount:BI,generateAdminOrbitId:qI,generateOrbitId:PI,getAdminProfileByUid:mH,getCurrentUserProfile:i5,getPendingAdminProfiles:YI,getPublicAdminProfiles:WI,logoutUser:ap,onAuthChange:VI,rejectAdminProfile:KI,releaseOrbitId:FI,signInWithGoogle:Qw,syncGooglePhoto:zI,updateAdminPublicProfile:GI},Symbol.toStringTag,{value:"Module"})),JI=Q.createContext(null);function gH({children:n}){const[e,t]=Q.useState(null),[r,i]=Q.useState(null),[a,o]=Q.useState(!0);Q.useEffect(()=>{const v=VI(async b=>{if(t(b),b)try{b.photoURL&&zI().catch(console.error);const w=await i5();w&&b.photoURL&&!w.avatar&&(w.avatar=b.photoURL),i(w)}catch(w){console.error("Error fetching user profile:",w),i(null)}else i(null);o(!1)});return()=>v()},[]);const c=async()=>{try{await ap(),t(null),i(null)}catch(v){throw console.error("Error logging out:",v),v}},u=async()=>{if(e)try{const v=await i5();i(v)}catch(v){console.error("Error refreshing profile:",v)}},h=!!e&&!!r,m=Q.useMemo(()=>!!(r&&"team"in r&&r.team),[r]),g=Q.useCallback(v=>!m||!r?!1:r.permissions?.includes(v)||!1,[m,r]),_={user:e,profile:r,loading:a,isAuthenticated:h,isAdmin:m,logout:c,refreshProfile:u,hasPermission:g};return f.jsx(JI.Provider,{value:_,children:n})}function Is(){const n=Q.useContext(JI);if(!n)throw new Error("useAuth must be used within an AuthProvider");return n}const vH=[{id:"home",label:"Home",path:"/",icon:f.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),f.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]})},{id:"about",label:"About",path:"/about",icon:f.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("circle",{cx:"12",cy:"12",r:"10"}),f.jsx("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),f.jsx("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]})},{id:"events",label:"Events",path:"/events",icon:f.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),f.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),f.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),f.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]})},{id:"members",label:"Members",path:"/members",icon:f.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),f.jsx("circle",{cx:"9",cy:"7",r:"4"}),f.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),f.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]})},{id:"join",label:"Join",path:"/join",requiresRecruitment:!0,fallbackPath:"/contact",fallbackLabel:"Contact",icon:f.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),f.jsx("circle",{cx:"8.5",cy:"7",r:"4"}),f.jsx("line",{x1:"20",y1:"8",x2:"20",y2:"14"}),f.jsx("line",{x1:"23",y1:"11",x2:"17",y2:"11"})]}),fallbackIcon:f.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("path",{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}),f.jsx("polyline",{points:"22,6 12,13 2,6"})]})},{id:"merch",label:"Merch",path:"/merch",icon:f.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("circle",{cx:"9",cy:"21",r:"1"}),f.jsx("circle",{cx:"20",cy:"21",r:"1"}),f.jsx("path",{d:"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"})]})},{id:"dashboard",label:"Dashboard",path:"/user-dashboard",requiresAuth:!0,icon:f.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("rect",{x:"3",y:"3",width:"7",height:"7"}),f.jsx("rect",{x:"14",y:"3",width:"7",height:"7"}),f.jsx("rect",{x:"14",y:"14",width:"7",height:"7"}),f.jsx("rect",{x:"3",y:"14",width:"7",height:"7"})]})}],_H=3e3,mT=10;function yH(){const n=Ns(),{user:e,profile:t}=Is(),{isRecruitmentOpen:r}=Kf(),[i,a]=Q.useState(null),[o,c]=Q.useState(!1),[u,h]=Q.useState(!0),[m,g]=Q.useState(!1),_=Q.useRef(null),v=Q.useRef(null),b=Q.useRef(0),w=Q.useRef(null);Q.useEffect(()=>{const U=()=>{c(window.innerWidth<=768)};return U(),window.addEventListener("resize",U),()=>window.removeEventListener("resize",U)},[]);const T=Q.useCallback(()=>{v.current&&clearTimeout(v.current),u&&!m&&(v.current=setTimeout(()=>{h(!1)},_H))},[u,m]);Q.useEffect(()=>{if(!o)return;const U=()=>{if(m)return;const I=window.scrollY,z=I-b.current;z>mT?h(!1):z<-mT&&(h(!0),T()),b.current=I};let C=!1;const k=()=>{C||(window.requestAnimationFrame(()=>{U(),C=!1}),C=!0)};return window.addEventListener("scroll",k,{passive:!0}),()=>window.removeEventListener("scroll",k)},[o,m,T]),Q.useEffect(()=>{if(!o)return;const U=()=>{document.hidden&&!m?h(!1):document.hidden||(h(!0),T())};return document.addEventListener("visibilitychange",U),()=>document.removeEventListener("visibilitychange",U)},[o,m,T]),Q.useEffect(()=>(o&&T(),()=>{v.current&&clearTimeout(v.current)}),[o,T]),Q.useEffect(()=>{if(!o)return;const U=()=>{u||h(!0),T()};return window.addEventListener("touchstart",U,{passive:!0}),()=>window.removeEventListener("touchstart",U)},[o,u,T]);const N=()=>{g(!0),v.current&&clearTimeout(v.current)},P=()=>{g(!1),T()},R=U=>{N(),_.current=setTimeout(()=>{a(U)},500)},j=()=>{P(),_.current&&clearTimeout(_.current),setTimeout(()=>a(null),1500)};if(!o)return null;const K=vH.filter(U=>!(U.requiresAuth&&!e));return f.jsx("nav",{ref:w,className:`mobile-nav ${u?"mobile-nav--visible":"mobile-nav--hidden"}`,onTouchStart:N,onTouchEnd:P,children:f.jsx("div",{className:"mobile-nav__container",children:K.map(U=>{const C=U.requiresRecruitment&&!r&&U.fallbackPath||U.path,k=U.requiresRecruitment&&!r&&U.fallbackLabel||U.label,I=U.requiresRecruitment&&!r&&U.fallbackIcon?U.fallbackIcon:U.icon,z=n.pathname===C||C==="/"&&n.pathname==="/",O=U.id==="dashboard"&&t?.avatar;return f.jsxs($r,{to:C,className:`mobile-nav__item ${z?"mobile-nav__item--active":""} ${O?"mobile-nav__item--avatar":""}`,onTouchStart:()=>R(U.id),onTouchEnd:j,onTouchCancel:j,children:[O?f.jsx("span",{className:"mobile-nav__avatar",children:f.jsx("img",{src:t.avatar,alt:"Profile",className:"mobile-nav__avatar-img"})}):f.jsx("span",{className:"mobile-nav__icon",children:I}),i===U.id&&f.jsx("span",{className:"mobile-nav__tooltip",children:k})]},U.id)})})})}const xH=[{id:"home",label:"Home",path:"/"},{id:"about",label:"About",path:"/about"},{id:"events",label:"Events",path:"/events"},{id:"members",label:"Members",path:"/members"},{id:"join",label:"Join OrbitX",path:"/join",requiresRecruitment:!0,fallbackPath:"/contact",fallbackLabel:"Contact Us"},{id:"merch",label:"Merchandise",path:"/merch"}];function wH(){const n=Ns(),{isAuthenticated:e,logout:t}=Is(),{isRecruitmentOpen:r}=Kf(),[i,a]=Q.useState(!1),[o,c]=Q.useState(!1);Q.useEffect(()=>{const m=()=>{c(window.innerWidth<=768)};return m(),window.addEventListener("resize",m),()=>window.removeEventListener("resize",m)},[]),Q.useEffect(()=>{a(!1)},[n.pathname]),Q.useEffect(()=>(i?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[i]);const u=()=>{a(!i)},h=async()=>{await t(),a(!1)};return o?f.jsxs(f.Fragment,{children:[f.jsxs("button",{className:`mobile-hamburger ${i?"mobile-hamburger--open":""}`,onClick:u,"aria-label":"Toggle menu",children:[f.jsx("span",{}),f.jsx("span",{}),f.jsx("span",{})]}),f.jsx("div",{className:`mobile-menu ${i?"mobile-menu--open":""}`,children:f.jsxs("div",{className:"mobile-menu__content",children:[f.jsx("nav",{className:"mobile-menu__nav",children:xH.map(m=>{const g=m.requiresRecruitment&&!r&&m.fallbackPath||m.path,_=m.requiresRecruitment&&!r&&m.fallbackLabel||m.label,v=n.pathname===g;return f.jsx($r,{to:g,className:`mobile-menu__link ${v?"mobile-menu__link--active":""}`,onClick:()=>a(!1),children:_},m.id)})}),f.jsx("div",{className:"mobile-menu__auth",children:e?f.jsxs(f.Fragment,{children:[f.jsx($r,{to:"/user-dashboard",className:"mobile-menu__auth-btn mobile-menu__auth-btn--primary",onClick:()=>a(!1),children:"Dashboard"}),f.jsx("button",{className:"mobile-menu__auth-btn mobile-menu__auth-btn--secondary",onClick:h,children:"Logout"})]}):f.jsx($r,{to:"/login",className:"mobile-menu__auth-btn mobile-menu__auth-btn--primary",onClick:()=>a(!1),children:"Login / Sign Up"})}),f.jsxs("div",{className:"mobile-menu__social",children:[f.jsx("a",{href:"https://www.instagram.com/orbitx_zcoer/",target:"_blank",rel:"noopener noreferrer",children:f.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:f.jsx("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"})})}),f.jsx("a",{href:"https://www.linkedin.com/company/orbitx-zcoer/",target:"_blank",rel:"noopener noreferrer",children:f.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:f.jsx("path",{d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"})})}),f.jsx("a",{href:"mailto:contact@orbitxzcoer.club",children:f.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("path",{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}),f.jsx("polyline",{points:"22,6 12,13 2,6"})]})})]})]})})]}):null}function bH(){const n=Cs(),e=Ns(),{isAuthenticated:t,loading:r,profile:i,logout:a}=Is(),[o,c]=Q.useState(!1),[u,h]=Q.useState(!1),m=e.pathname==="/user-dashboard",g=()=>{const N=i?.firstName?.[0]||"U",P=i?.lastName?.[0]||"";return`${N}${P}`.toUpperCase()},_=()=>{o?(h(!0),setTimeout(()=>{c(!1),h(!1)},300)):c(!0)},v=()=>{m?_():n("/user-dashboard")},b=N=>{_(),n(N)},w=async()=>{_(),await a(),n("/")},T=()=>{o&&_()};return r?f.jsx("div",{className:"login-avatar login-avatar--loading",children:f.jsx("div",{className:"login-avatar__spinner"})}):t?f.jsxs(f.Fragment,{children:[o&&f.jsx("div",{className:"login-avatar-backdrop",onClick:T}),f.jsxs("div",{className:"login-avatar-wrap",children:[f.jsx("button",{className:"login-avatar",onClick:v,"aria-label":m?"Open menu":"Go to Dashboard",children:i?.avatar?f.jsx("img",{src:i.avatar,alt:"",className:"login-avatar__img",referrerPolicy:"no-referrer"}):f.jsx("span",{className:"login-avatar__initials",children:g()})}),o&&f.jsxs("div",{className:`login-avatar-dropdown ${u?"closing":""}`,children:[f.jsx("button",{onClick:()=>b("/user-dashboard"),children:"Dashboard"}),f.jsx("button",{onClick:()=>b("/user-dashboard"),children:"Profile"}),f.jsx("button",{onClick:()=>b("/user-dashboard"),children:"Settings"}),f.jsx("button",{onClick:w,children:"Logout"})]})]})]}):f.jsx("button",{className:"login-button",onClick:()=>n("/login"),children:"Login"})}function EH(){return f.jsxs("section",{className:"hero",children:[f.jsxs("div",{className:"hero__container",children:[f.jsx("div",{className:"hero__logo-wrapper",children:f.jsx("img",{src:q5,alt:"OrbitX",className:"hero__logo"})}),f.jsx("h1",{className:"hero__headline",children:"Where Curiosity Meets The Cosmos"}),f.jsxs("p",{className:"hero__subheading",children:["Join us in pushing the boundaries of space exploration, innovation, and collaborative learning.",f.jsx("br",{}),"Together, we reach for the stars."]})]}),f.jsx("div",{className:"hero__scroll-indicator",children:f.jsx("svg",{className:"hero__arrow",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{d:"M7 10L12 15L17 10",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})})]})}const SH="/orbitx-zcoer-website/assets/about-teaser-ZpV9uFUT.png";function TH(){return f.jsxs("section",{className:"about-teaser",children:[f.jsx("div",{className:"about-teaser__fade"}),f.jsxs("div",{className:"about-teaser__container",children:[f.jsxs("div",{className:"about-teaser__image-container",children:[f.jsx("img",{src:SH,alt:"OrbitX Exploration",className:"about-teaser__image"}),f.jsx("div",{className:"about-teaser__image-glow"})]}),f.jsxs("div",{className:"about-teaser__content",children:[f.jsx("h2",{className:"about-teaser__heading",children:"What is OrbitX?"}),f.jsxs("p",{className:"about-teaser__body",children:["OrbitX is a student-driven space and astronomy club focused on exploration, innovation, and hands-on learning.",f.jsx("br",{className:"about-teaser__br"}),"We bring together curious minds to experiment, collaborate, and push beyond the classroom."]}),f.jsxs($r,{to:"/about",className:"about-teaser__button",children:["Explore More ",f.jsx("span",{className:"about-teaser__arrow",children:""})]})]})]})]})}const AH="modulepreload",NH=function(n){return"/orbitx-zcoer-website/"+n},pT={},Cf=function(e,t,r){let i=Promise.resolve();if(t&&t.length>0){let u=function(h){return Promise.all(h.map(m=>Promise.resolve(m).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),c=o?.nonce||o?.getAttribute("nonce");i=u(t.map(h=>{if(h=NH(h),h in pT)return;pT[h]=!0;const m=h.endsWith(".css"),g=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${g}`))return;const _=document.createElement("link");if(_.rel=m?"stylesheet":AH,m||(_.as="script"),_.crossOrigin="",_.href=h,c&&_.setAttribute("nonce",c),document.head.appendChild(_),m)return new Promise((v,b)=>{_.addEventListener("load",v),_.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${h}`)))})}))}function a(o){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=o,window.dispatchEvent(c),!c.defaultPrevented)throw o}return i.then(o=>{for(const c of o||[])c.status==="rejected"&&a(c.reason);return e().catch(a)})},CH=n=>{if(!n)return"";try{const[e,t,r]=n.split("-").map(Number);return new Date(e,t-1,r).toLocaleDateString("en-IN",{day:"numeric",month:"long",year:"numeric"})}catch{return n}},IH=n=>{switch(n){case"Workshop":return"event-modal__badge--workshop";case"Talk":return"event-modal__badge--talk";case"Competition":return"event-modal__badge--competition";case"Outreach":return"event-modal__badge--outreach";default:return""}},RH=n=>n.isPast?"Past":n.type||"Event",kH=n=>!n||n===0?"event-modal__price--free":n<=100?"event-modal__price--low":n<=300?"event-modal__price--medium":n<=500?"event-modal__price--high":"event-modal__price--premium";function Zw({event:n,isClosing:e,onClose:t,formatDate:r,onRegisterClick:i,isRegistered:a,onDownloadPass:o}){const[c,u]=Q.useState(0),[h,m]=Q.useState(!1),g=r||CH,_=j=>{j.target===j.currentTarget&&t()},v=j=>{const K=I=>{const z=I.trim().match(/(\d{1,2}):(\d{2})\s*(AM|PM)/i);if(!z)return{hour:0,min:0};let O=parseInt(z[1],10);const M=parseInt(z[2],10),B=z[3].toUpperCase();return B==="PM"&&O!==12&&(O+=12),B==="AM"&&O===12&&(O=0),{hour:O,min:M}},U=j.split(" - "),C=K(U[0]||""),k=U[1]?K(U[1]):{hour:C.hour+2,min:C.min};return{startHour:C.hour,startMin:C.min,endHour:k.hour,endMin:k.min}},b=()=>{const j=n.date.replace(/-/g,"");let K="000000",U="235959";if(n.time){const k=v(n.time);K=`${String(k.startHour).padStart(2,"0")}${String(k.startMin).padStart(2,"0")}00`,U=`${String(k.endHour).padStart(2,"0")}${String(k.endMin).padStart(2,"0")}00`}const C=new URL("https://calendar.google.com/calendar/render");C.searchParams.set("action","TEMPLATE"),C.searchParams.set("text",n.title),C.searchParams.set("dates",`${j}T${K}/${j}T${U}`),C.searchParams.set("details",n.description),n.venue&&C.searchParams.set("location",n.venue),window.open(C.toString(),"_blank"),m(!1)},w=()=>{const[j,K,U]=n.date.split("-").map(Number);let C=0,k=0,I=23,z=59;if(n.time){const pe=v(n.time);C=pe.startHour,k=pe.startMin,I=pe.endHour,z=pe.endMin}const O=(pe,Ie,Ae,re,L)=>`${pe}${String(Ie).padStart(2,"0")}${String(Ae).padStart(2,"0")}T${String(re).padStart(2,"0")}${String(L).padStart(2,"0")}00`,M=O(j,K,U,C,k),B=O(j,K,U,I,z),Y=["BEGIN:VCALENDAR","VERSION:2.0","PRODID:-//OrbitX//Event//EN","BEGIN:VEVENT",`DTSTART:${M}`,`DTEND:${B}`,`SUMMARY:${n.title}`,`DESCRIPTION:${n.description.replace(/\n/g,"\\n")}`,`LOCATION:${n.venue||""}`,`UID:${n.id}@orbitx`,"END:VEVENT","END:VCALENDAR"].join(`\r
`),we=new Blob([Y],{type:"text/calendar;charset=utf-8"}),fe=URL.createObjectURL(we),le=document.createElement("a");le.href=fe,le.download=`${n.title.replace(/[^a-z0-9]/gi,"_")}.ics`,document.body.appendChild(le),le.click(),document.body.removeChild(le),URL.revokeObjectURL(fe),m(!1)},T=n.images&&n.images.length>0,N=n.images&&n.images.length>1,P=()=>{n.images&&u(j=>j===n.images.length-1?0:j+1)},R=()=>{n.images&&u(j=>j===0?n.images.length-1:j-1)};return f.jsx("div",{className:`event-modal-overlay ${e?"event-modal-overlay--closing":""}`,onClick:_,children:f.jsxs("div",{className:`event-modal ${e?"event-modal--closing":""}`,children:[f.jsx("button",{className:"event-modal__close",onClick:t,children:""}),f.jsx("div",{className:"event-modal__image",children:T?f.jsxs(f.Fragment,{children:[N&&f.jsx("button",{className:"event-modal__nav event-modal__nav--prev",onClick:R,children:""}),f.jsx("img",{src:n.images[c],alt:n.title}),N&&f.jsx("button",{className:"event-modal__nav event-modal__nav--next",onClick:P,children:""}),N&&f.jsx("div",{className:"event-modal__dots",children:n.images.map((j,K)=>f.jsx("span",{className:`event-modal__dot ${K===c?"event-modal__dot--active":""}`,onClick:()=>u(K)},K))})]}):null}),f.jsxs("div",{className:"event-modal__content",children:[f.jsxs("div",{className:"event-modal__header-row",children:[f.jsx("span",{className:`event-modal__tag ${n.isPast?"event-modal__tag--past":IH(n.type)}`,children:RH(n)}),f.jsx("span",{className:`event-modal__price ${kH(n.amount)}`,children:n.amount&&n.amount>0?`${n.amount}`:"Free"})]}),f.jsx("h3",{className:"event-modal__title",children:n.title}),f.jsx("p",{className:"event-modal__desc",children:n.description}),f.jsxs("div",{className:"event-modal__details",children:[f.jsxs("div",{className:"event-modal__detail",children:[f.jsx("span",{className:"event-modal__label",children:"Date"}),f.jsx("span",{className:"event-modal__value",children:g(n.date)})]}),n.time&&f.jsxs("div",{className:"event-modal__detail",children:[f.jsx("span",{className:"event-modal__label",children:"Time"}),f.jsx("span",{className:"event-modal__value",children:n.time})]}),f.jsxs("div",{className:"event-modal__detail",children:[f.jsx("span",{className:"event-modal__label",children:"Location"}),n.venueUrl?f.jsxs("a",{href:n.venueUrl,target:"_blank",rel:"noopener noreferrer",className:"event-modal__value event-modal__value--link",children:[n.venue||"TBA",f.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"}),f.jsx("polyline",{points:"15 3 21 3 21 9"}),f.jsx("line",{x1:"10",y1:"14",x2:"21",y2:"3"})]})]}):f.jsx("span",{className:"event-modal__value",children:n.venue||"TBA"})]})]}),n.isPast?f.jsx("span",{className:"event-modal__past-label",children:"This event has ended"}):f.jsxs("div",{className:"event-modal__actions",children:[a?f.jsx("button",{className:"event-modal__register-btn event-modal__register-btn--download",onClick:()=>o?.(n),children:"Download Pass"}):f.jsx("button",{className:`event-modal__register-btn ${n.registrationOpen?"":"event-modal__register-btn--disabled"}`,disabled:!n.registrationOpen,onClick:()=>n.registrationOpen&&i?.(n),children:n.registrationOpen?"Register Now ":"Registration Closed"}),f.jsxs("div",{className:"event-modal__calendar-wrapper",children:[f.jsxs("button",{className:"event-modal__calendar-btn",onClick:()=>m(!h),children:[f.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),f.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),f.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),f.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),"Add to Calendar",f.jsx("svg",{className:"event-modal__calendar-arrow",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:f.jsx("polyline",{points:"6 9 12 15 18 9"})})]}),h&&f.jsxs("div",{className:"event-modal__calendar-menu",children:[f.jsxs("button",{onClick:b,className:"event-modal__calendar-option",children:[f.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:f.jsx("path",{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"})}),"Google Calendar"]}),f.jsxs("button",{onClick:w,className:"event-modal__calendar-option",children:[f.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),f.jsx("polyline",{points:"7 10 12 15 17 10"}),f.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),"Download (.ics)"]})]})]})]})]})]})})}const OH=n=>{switch(n){case"Workshop":return"event-card__badge--workshop";case"Talk":return"event-card__badge--talk";case"Competition":return"event-card__badge--competition";case"Outreach":return"event-card__badge--outreach";default:return""}},DH=n=>n.type||"Event",LH=n=>!n||n===0?"event-card__price--free":n<=100?"event-card__price--low":n<=300?"event-card__price--medium":n<=500?"event-card__price--high":"event-card__price--premium";function a5({event:n,onClick:e,variant:t="full",getTypeBadgeClass:r,onRegisterClick:i,isRegistered:a,onDownloadPass:o}){const c=r||OH,u=t==="teaser",h=()=>{e(n)},m=v=>{v.stopPropagation(),n.registrationOpen&&i&&i(n)},g=v=>{v.stopPropagation(),o&&o(n)},_=()=>n.isPast?f.jsx("span",{className:"event-card__status event-card__status--closed",children:"Event Completed"}):a?f.jsxs(f.Fragment,{children:[f.jsx("span",{className:"event-card__status event-card__status--registered",children:"Registered "}),f.jsx("button",{className:"event-card__cta event-card__cta--download",onClick:g,children:"Download Pass"})]}):f.jsxs(f.Fragment,{children:[f.jsx("span",{className:`event-card__status ${n.registrationOpen?"event-card__status--open":"event-card__status--closed"}`,children:n.registrationOpen?"Registration Open":"Closed"}),f.jsx("button",{className:`event-card__cta ${n.registrationOpen?"":"event-card__cta--disabled"}`,onClick:m,disabled:!n.registrationOpen,children:n.registrationOpen?"Register ":"Closed"})]});return f.jsxs("div",{className:"event-card",onClick:h,children:[f.jsx("div",{className:"event-card__image",children:n.images&&n.images.length>0&&f.jsx("img",{src:n.images[0],alt:n.title})}),f.jsxs("div",{className:"event-card__content",children:[f.jsxs("div",{className:"event-card__header",children:[f.jsx("span",{className:`event-card__tag ${c(n.type)}`,children:DH(n)}),f.jsx("span",{className:`event-card__price ${LH(n.amount)}`,children:n.amount&&n.amount>0?`${n.amount}`:"Free"})]}),f.jsx("h3",{className:"event-card__title",children:n.title}),u?f.jsxs("p",{className:"event-card__desc",children:[n.description.substring(0,100),n.description.length>100?"...":""]}):f.jsxs(f.Fragment,{children:[f.jsx("p",{className:"event-card__desc",children:n.date}),f.jsx("div",{className:"event-card__footer",children:_()})]})]})]})}const jH=n=>/^\d{4}$/.test(n),MH=n=>/^\d{3}[A-Za-z]$/.test(n),PH=n=>jH(n)?"aadhar":MH(n)?"pan":null,FH=n=>{if(!n)return"";try{const[e,t,r]=n.split("-").map(Number);return new Date(e,t-1,r).toLocaleDateString("en-IN",{day:"numeric",month:"long",year:"numeric"})}catch{return n}},wy=(n,e)=>`registration_${n}_${e}`;function BH({event:n,isOpen:e,onClose:t,userProfile:r,onRegisterComplete:i}){const[a,o]=Q.useState(""),[c,u]=Q.useState(null),[h,m]=Q.useState(!1),[g,_]=Q.useState(!1),[v,b]=Q.useState(""),[w,T]=Q.useState(!1),N=n.amount&&n.amount>0;Q.useEffect(()=>{if(e&&r&&n.id){const C=wy(n.id,r.orbitId),k=localStorage.getItem(C);if(k)try{const I=JSON.parse(k);o(I.govIdLast4||""),u(I.detectedIdType||null),m(I.agreedToTerms||!1)}catch{}}},[e,r,n.id]),Q.useEffect(()=>{if(r&&n.id&&(a||h)){const C=wy(n.id,r.orbitId);localStorage.setItem(C,JSON.stringify({govIdLast4:a,detectedIdType:c,agreedToTerms:h}))}},[a,c,h,r,n.id]);const P=C=>{const k=C.slice(0,4).toUpperCase();if(o(k),b(""),k.length===4){const I=PH(k);u(I),I||b("Invalid format. Enter 4 digits for Aadhar or 3 digits + 1 letter for PAN.")}else u(null)},R=()=>{T(!0),setTimeout(()=>{T(!1),t()},200)},j=C=>{C.target===C.currentTarget&&R()},K=async()=>{if(!r){b("Please log in to register");return}if(a.length!==4){b("Please enter last 4 characters of your Government ID");return}if(!c){b("Invalid Government ID format");return}if(!h){b("Please agree to the terms and conditions");return}_(!0),b("");try{const C={orbitId:r.orbitId,fullName:`${r.firstName} ${r.lastName}`,email:r.email,mobile:r.mobile,collegeName:r.collegeName,eventId:n.id,eventName:n.title,eventDate:n.date,govIdType:c,govIdLast4:a,registeredAt:new Date().toISOString()},k=wy(n.id,r.orbitId);localStorage.removeItem(k),i(C)}catch{b("Registration failed. Please try again.")}finally{_(!1)}},U=()=>{if(!h){b("Please agree to the terms and conditions");return}if(a.length!==4||!c){b("Please enter valid Government ID");return}alert("Payment integration coming soon!")};return e?f.jsx("div",{className:`registration-modal-overlay ${w?"registration-modal-overlay--closing":""}`,onClick:j,children:f.jsxs("div",{className:`registration-modal ${w?"registration-modal--closing":""}`,children:[f.jsxs("div",{className:"registration-modal__header",children:[f.jsx("h2",{className:"registration-modal__title",children:"Event Registration"}),f.jsx("button",{className:"registration-modal__close",onClick:R,children:f.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),f.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),f.jsxs("div",{className:"registration-modal__content",children:[f.jsxs("div",{className:"registration-modal__event-info",children:[f.jsx("h3",{className:"registration-modal__event-name",children:n.title}),f.jsx("p",{className:"registration-modal__event-date",children:FH(n.date)}),N&&f.jsxs("span",{className:"registration-modal__event-fee",children:["",n.amount]})]}),f.jsxs("div",{className:"registration-modal__section",children:[f.jsx("h4",{className:"registration-modal__section-title",children:"Your Details"}),f.jsxs("div",{className:"registration-modal__field",children:[f.jsx("label",{className:"registration-modal__label",children:"Orbit ID"}),f.jsx("input",{type:"text",className:"registration-modal__input registration-modal__input--readonly",value:r?.orbitId||"",readOnly:!0})]}),f.jsxs("div",{className:"registration-modal__field",children:[f.jsx("label",{className:"registration-modal__label",children:"Full Name"}),f.jsx("input",{type:"text",className:"registration-modal__input registration-modal__input--readonly",value:r?`${r.firstName} ${r.lastName}`:"",readOnly:!0})]}),f.jsxs("div",{className:"registration-modal__row",children:[f.jsxs("div",{className:"registration-modal__field",children:[f.jsx("label",{className:"registration-modal__label",children:"Email Address"}),f.jsx("input",{type:"email",className:"registration-modal__input registration-modal__input--readonly",value:r?.email||"",readOnly:!0})]}),f.jsxs("div",{className:"registration-modal__field",children:[f.jsx("label",{className:"registration-modal__label",children:"Mobile Number"}),f.jsx("input",{type:"tel",className:"registration-modal__input registration-modal__input--readonly",value:r?.mobile||"",readOnly:!0})]})]}),f.jsxs("div",{className:"registration-modal__field",children:[f.jsx("label",{className:"registration-modal__label",children:"College Name"}),f.jsx("input",{type:"text",className:"registration-modal__input registration-modal__input--readonly",value:r?.collegeName||"",readOnly:!0})]})]}),f.jsxs("div",{className:"registration-modal__section",children:[f.jsx("h4",{className:"registration-modal__section-title",children:"Identity Verification"}),f.jsxs("div",{className:"registration-modal__field",children:[f.jsx("label",{className:"registration-modal__label",children:"Government ID (Last 4 characters) *"}),f.jsx("input",{type:"text",className:"registration-modal__input",value:a,onChange:C=>P(C.target.value),placeholder:"e.g., 1234 for Aadhar or 123A for PAN",maxLength:4}),c&&f.jsxs("span",{className:"registration-modal__id-detected",children:["Detected: ",c==="aadhar"?"Aadhar Card":"PAN Card"]}),f.jsx("p",{className:"registration-modal__hint",children:"Enter last 4 digits of Aadhar (e.g., 1234) or last 4 characters of PAN (e.g., 123A)"})]})]}),f.jsx("div",{className:"registration-modal__terms",children:f.jsxs("label",{className:"registration-modal__checkbox-label",children:[f.jsx("input",{type:"checkbox",checked:h,onChange:C=>{m(C.target.checked),b("")}}),f.jsxs("span",{className:"registration-modal__checkbox-text",children:["I agree to the ",f.jsx("a",{href:"/terms",target:"_blank",children:"Terms and Conditions"})," and confirm that the information provided is accurate."]})]})}),v&&f.jsx("p",{className:"registration-modal__error",children:v}),f.jsx("div",{className:"registration-modal__actions",children:N?f.jsxs("button",{className:"registration-modal__btn registration-modal__btn--pay",onClick:U,disabled:g,children:["Pay ",n.amount]}):f.jsx("button",{className:"registration-modal__btn registration-modal__btn--register",onClick:K,disabled:g,children:g?"Registering...":"Register"})})]})]})}):null}var Ud={},by,gT;function UH(){return gT||(gT=1,by=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),by}var Ey={},ph={},vT;function Xf(){if(vT)return ph;vT=1;let n;const e=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return ph.getSymbolSize=function(r){if(!r)throw new Error('"version" cannot be null or undefined');if(r<1||r>40)throw new Error('"version" should be in range from 1 to 40');return r*4+17},ph.getSymbolTotalCodewords=function(r){return e[r]},ph.getBCHDigit=function(t){let r=0;for(;t!==0;)r++,t>>>=1;return r},ph.setToSJISFunction=function(r){if(typeof r!="function")throw new Error('"toSJISFunc" is not a valid function.');n=r},ph.isKanjiModeEnabled=function(){return typeof n<"u"},ph.toSJIS=function(r){return n(r)},ph}var Sy={},_T;function eb(){return _T||(_T=1,(function(n){n.L={bit:1},n.M={bit:0},n.Q={bit:3},n.H={bit:2};function e(t){if(typeof t!="string")throw new Error("Param is not a string");switch(t.toLowerCase()){case"l":case"low":return n.L;case"m":case"medium":return n.M;case"q":case"quartile":return n.Q;case"h":case"high":return n.H;default:throw new Error("Unknown EC Level: "+t)}}n.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},n.from=function(r,i){if(n.isValid(r))return r;try{return e(r)}catch{return i}}})(Sy)),Sy}var Ty,yT;function VH(){if(yT)return Ty;yT=1;function n(){this.buffer=[],this.length=0}return n.prototype={get:function(e){const t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)===1},put:function(e,t){for(let r=0;r<t;r++)this.putBit((e>>>t-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},Ty=n,Ty}var Ay,xT;function zH(){if(xT)return Ay;xT=1;function n(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}return n.prototype.set=function(e,t,r,i){const a=e*this.size+t;this.data[a]=r,i&&(this.reservedBit[a]=!0)},n.prototype.get=function(e,t){return this.data[e*this.size+t]},n.prototype.xor=function(e,t,r){this.data[e*this.size+t]^=r},n.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]},Ay=n,Ay}var Ny={},wT;function qH(){return wT||(wT=1,(function(n){const e=Xf().getSymbolSize;n.getRowColCoords=function(r){if(r===1)return[];const i=Math.floor(r/7)+2,a=e(r),o=a===145?26:Math.ceil((a-13)/(2*i-2))*2,c=[a-7];for(let u=1;u<i-1;u++)c[u]=c[u-1]-o;return c.push(6),c.reverse()},n.getPositions=function(r){const i=[],a=n.getRowColCoords(r),o=a.length;for(let c=0;c<o;c++)for(let u=0;u<o;u++)c===0&&u===0||c===0&&u===o-1||c===o-1&&u===0||i.push([a[c],a[u]]);return i}})(Ny)),Ny}var Cy={},bT;function HH(){if(bT)return Cy;bT=1;const n=Xf().getSymbolSize,e=7;return Cy.getPositions=function(r){const i=n(r);return[[0,0],[i-e,0],[0,i-e]]},Cy}var Iy={},ET;function GH(){return ET||(ET=1,(function(n){n.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};n.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},n.from=function(i){return n.isValid(i)?parseInt(i,10):void 0},n.getPenaltyN1=function(i){const a=i.size;let o=0,c=0,u=0,h=null,m=null;for(let g=0;g<a;g++){c=u=0,h=m=null;for(let _=0;_<a;_++){let v=i.get(g,_);v===h?c++:(c>=5&&(o+=e.N1+(c-5)),h=v,c=1),v=i.get(_,g),v===m?u++:(u>=5&&(o+=e.N1+(u-5)),m=v,u=1)}c>=5&&(o+=e.N1+(c-5)),u>=5&&(o+=e.N1+(u-5))}return o},n.getPenaltyN2=function(i){const a=i.size;let o=0;for(let c=0;c<a-1;c++)for(let u=0;u<a-1;u++){const h=i.get(c,u)+i.get(c,u+1)+i.get(c+1,u)+i.get(c+1,u+1);(h===4||h===0)&&o++}return o*e.N2},n.getPenaltyN3=function(i){const a=i.size;let o=0,c=0,u=0;for(let h=0;h<a;h++){c=u=0;for(let m=0;m<a;m++)c=c<<1&2047|i.get(h,m),m>=10&&(c===1488||c===93)&&o++,u=u<<1&2047|i.get(m,h),m>=10&&(u===1488||u===93)&&o++}return o*e.N3},n.getPenaltyN4=function(i){let a=0;const o=i.data.length;for(let u=0;u<o;u++)a+=i.data[u];return Math.abs(Math.ceil(a*100/o/5)-10)*e.N4};function t(r,i,a){switch(r){case n.Patterns.PATTERN000:return(i+a)%2===0;case n.Patterns.PATTERN001:return i%2===0;case n.Patterns.PATTERN010:return a%3===0;case n.Patterns.PATTERN011:return(i+a)%3===0;case n.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(a/3))%2===0;case n.Patterns.PATTERN101:return i*a%2+i*a%3===0;case n.Patterns.PATTERN110:return(i*a%2+i*a%3)%2===0;case n.Patterns.PATTERN111:return(i*a%3+(i+a)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}n.applyMask=function(i,a){const o=a.size;for(let c=0;c<o;c++)for(let u=0;u<o;u++)a.isReserved(u,c)||a.xor(u,c,t(i,u,c))},n.getBestMask=function(i,a){const o=Object.keys(n.Patterns).length;let c=0,u=1/0;for(let h=0;h<o;h++){a(h),n.applyMask(h,i);const m=n.getPenaltyN1(i)+n.getPenaltyN2(i)+n.getPenaltyN3(i)+n.getPenaltyN4(i);n.applyMask(h,i),m<u&&(u=m,c=h)}return c}})(Iy)),Iy}var d1={},ST;function QI(){if(ST)return d1;ST=1;const n=eb(),e=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],t=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return d1.getBlocksCount=function(i,a){switch(a){case n.L:return e[(i-1)*4+0];case n.M:return e[(i-1)*4+1];case n.Q:return e[(i-1)*4+2];case n.H:return e[(i-1)*4+3];default:return}},d1.getTotalCodewordsCount=function(i,a){switch(a){case n.L:return t[(i-1)*4+0];case n.M:return t[(i-1)*4+1];case n.Q:return t[(i-1)*4+2];case n.H:return t[(i-1)*4+3];default:return}},d1}var Ry={},jm={},TT;function WH(){if(TT)return jm;TT=1;const n=new Uint8Array(512),e=new Uint8Array(256);return(function(){let r=1;for(let i=0;i<255;i++)n[i]=r,e[r]=i,r<<=1,r&256&&(r^=285);for(let i=255;i<512;i++)n[i]=n[i-255]})(),jm.log=function(r){if(r<1)throw new Error("log("+r+")");return e[r]},jm.exp=function(r){return n[r]},jm.mul=function(r,i){return r===0||i===0?0:n[e[r]+e[i]]},jm}var AT;function YH(){return AT||(AT=1,(function(n){const e=WH();n.mul=function(r,i){const a=new Uint8Array(r.length+i.length-1);for(let o=0;o<r.length;o++)for(let c=0;c<i.length;c++)a[o+c]^=e.mul(r[o],i[c]);return a},n.mod=function(r,i){let a=new Uint8Array(r);for(;a.length-i.length>=0;){const o=a[0];for(let u=0;u<i.length;u++)a[u]^=e.mul(i[u],o);let c=0;for(;c<a.length&&a[c]===0;)c++;a=a.slice(c)}return a},n.generateECPolynomial=function(r){let i=new Uint8Array([1]);for(let a=0;a<r;a++)i=n.mul(i,new Uint8Array([1,e.exp(a)]));return i}})(Ry)),Ry}var ky,NT;function $H(){if(NT)return ky;NT=1;const n=YH();function e(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}return e.prototype.initialize=function(r){this.degree=r,this.genPoly=n.generateECPolynomial(this.degree)},e.prototype.encode=function(r){if(!this.genPoly)throw new Error("Encoder not initialized");const i=new Uint8Array(r.length+this.degree);i.set(r);const a=n.mod(i,this.genPoly),o=this.degree-a.length;if(o>0){const c=new Uint8Array(this.degree);return c.set(a,o),c}return a},ky=e,ky}var Oy={},Dy={},Ly={},CT;function ZI(){return CT||(CT=1,Ly.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}),Ly}var bc={},IT;function eR(){if(IT)return bc;IT=1;const n="[0-9]+",e="[A-Z $%*+\\-./:]+";let t="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";t=t.replace(/u/g,"\\u");const r="(?:(?![A-Z0-9 $%*+\\-./:]|"+t+`)(?:.|[\r
]))+`;bc.KANJI=new RegExp(t,"g"),bc.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),bc.BYTE=new RegExp(r,"g"),bc.NUMERIC=new RegExp(n,"g"),bc.ALPHANUMERIC=new RegExp(e,"g");const i=new RegExp("^"+t+"$"),a=new RegExp("^"+n+"$"),o=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return bc.testKanji=function(u){return i.test(u)},bc.testNumeric=function(u){return a.test(u)},bc.testAlphanumeric=function(u){return o.test(u)},bc}var RT;function Jf(){return RT||(RT=1,(function(n){const e=ZI(),t=eR();n.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},n.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},n.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},n.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},n.MIXED={bit:-1},n.getCharCountIndicator=function(a,o){if(!a.ccBits)throw new Error("Invalid mode: "+a);if(!e.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?a.ccBits[0]:o<27?a.ccBits[1]:a.ccBits[2]},n.getBestModeForData=function(a){return t.testNumeric(a)?n.NUMERIC:t.testAlphanumeric(a)?n.ALPHANUMERIC:t.testKanji(a)?n.KANJI:n.BYTE},n.toString=function(a){if(a&&a.id)return a.id;throw new Error("Invalid mode")},n.isValid=function(a){return a&&a.bit&&a.ccBits};function r(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return n.NUMERIC;case"alphanumeric":return n.ALPHANUMERIC;case"kanji":return n.KANJI;case"byte":return n.BYTE;default:throw new Error("Unknown mode: "+i)}}n.from=function(a,o){if(n.isValid(a))return a;try{return r(a)}catch{return o}}})(Dy)),Dy}var kT;function KH(){return kT||(kT=1,(function(n){const e=Xf(),t=QI(),r=eb(),i=Jf(),a=ZI(),o=7973,c=e.getBCHDigit(o);function u(_,v,b){for(let w=1;w<=40;w++)if(v<=n.getCapacity(w,b,_))return w}function h(_,v){return i.getCharCountIndicator(_,v)+4}function m(_,v){let b=0;return _.forEach(function(w){const T=h(w.mode,v);b+=T+w.getBitsLength()}),b}function g(_,v){for(let b=1;b<=40;b++)if(m(_,b)<=n.getCapacity(b,v,i.MIXED))return b}n.from=function(v,b){return a.isValid(v)?parseInt(v,10):b},n.getCapacity=function(v,b,w){if(!a.isValid(v))throw new Error("Invalid QR Code version");typeof w>"u"&&(w=i.BYTE);const T=e.getSymbolTotalCodewords(v),N=t.getTotalCodewordsCount(v,b),P=(T-N)*8;if(w===i.MIXED)return P;const R=P-h(w,v);switch(w){case i.NUMERIC:return Math.floor(R/10*3);case i.ALPHANUMERIC:return Math.floor(R/11*2);case i.KANJI:return Math.floor(R/13);case i.BYTE:default:return Math.floor(R/8)}},n.getBestVersionForData=function(v,b){let w;const T=r.from(b,r.M);if(Array.isArray(v)){if(v.length>1)return g(v,T);if(v.length===0)return 1;w=v[0]}else w=v;return u(w.mode,w.getLength(),T)},n.getEncodedBits=function(v){if(!a.isValid(v)||v<7)throw new Error("Invalid QR Code version");let b=v<<12;for(;e.getBCHDigit(b)-c>=0;)b^=o<<e.getBCHDigit(b)-c;return v<<12|b}})(Oy)),Oy}var jy={},OT;function XH(){if(OT)return jy;OT=1;const n=Xf(),e=1335,t=21522,r=n.getBCHDigit(e);return jy.getEncodedBits=function(a,o){const c=a.bit<<3|o;let u=c<<10;for(;n.getBCHDigit(u)-r>=0;)u^=e<<n.getBCHDigit(u)-r;return(c<<10|u)^t},jy}var My={},Py,DT;function JH(){if(DT)return Py;DT=1;const n=Jf();function e(t){this.mode=n.NUMERIC,this.data=t.toString()}return e.getBitsLength=function(r){return 10*Math.floor(r/3)+(r%3?r%3*3+1:0)},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(r){let i,a,o;for(i=0;i+3<=this.data.length;i+=3)a=this.data.substr(i,3),o=parseInt(a,10),r.put(o,10);const c=this.data.length-i;c>0&&(a=this.data.substr(i),o=parseInt(a,10),r.put(o,c*3+1))},Py=e,Py}var Fy,LT;function QH(){if(LT)return Fy;LT=1;const n=Jf(),e=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function t(r){this.mode=n.ALPHANUMERIC,this.data=r}return t.getBitsLength=function(i){return 11*Math.floor(i/2)+6*(i%2)},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(i){let a;for(a=0;a+2<=this.data.length;a+=2){let o=e.indexOf(this.data[a])*45;o+=e.indexOf(this.data[a+1]),i.put(o,11)}this.data.length%2&&i.put(e.indexOf(this.data[a]),6)},Fy=t,Fy}var By,jT;function ZH(){if(jT)return By;jT=1;const n=Jf();function e(t){this.mode=n.BYTE,typeof t=="string"?this.data=new TextEncoder().encode(t):this.data=new Uint8Array(t)}return e.getBitsLength=function(r){return r*8},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(t){for(let r=0,i=this.data.length;r<i;r++)t.put(this.data[r],8)},By=e,By}var Uy,MT;function eG(){if(MT)return Uy;MT=1;const n=Jf(),e=Xf();function t(r){this.mode=n.KANJI,this.data=r}return t.getBitsLength=function(i){return i*13},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(r){let i;for(i=0;i<this.data.length;i++){let a=e.toSJIS(this.data[i]);if(a>=33088&&a<=40956)a-=33088;else if(a>=57408&&a<=60351)a-=49472;else throw new Error("Invalid SJIS character: "+this.data[i]+`
Make sure your charset is UTF-8`);a=(a>>>8&255)*192+(a&255),r.put(a,13)}},Uy=t,Uy}var Vy={exports:{}},PT;function tG(){return PT||(PT=1,(function(n){var e={single_source_shortest_paths:function(t,r,i){var a={},o={};o[r]=0;var c=e.PriorityQueue.make();c.push(r,0);for(var u,h,m,g,_,v,b,w,T;!c.empty();){u=c.pop(),h=u.value,g=u.cost,_=t[h]||{};for(m in _)_.hasOwnProperty(m)&&(v=_[m],b=g+v,w=o[m],T=typeof o[m]>"u",(T||w>b)&&(o[m]=b,c.push(m,b),a[m]=h))}if(typeof i<"u"&&typeof o[i]>"u"){var N=["Could not find a path from ",r," to ",i,"."].join("");throw new Error(N)}return a},extract_shortest_path_from_predecessor_list:function(t,r){for(var i=[],a=r;a;)i.push(a),t[a],a=t[a];return i.reverse(),i},find_path:function(t,r,i){var a=e.single_source_shortest_paths(t,r,i);return e.extract_shortest_path_from_predecessor_list(a,i)},PriorityQueue:{make:function(t){var r=e.PriorityQueue,i={},a;t=t||{};for(a in r)r.hasOwnProperty(a)&&(i[a]=r[a]);return i.queue=[],i.sorter=t.sorter||r.default_sorter,i},default_sorter:function(t,r){return t.cost-r.cost},push:function(t,r){var i={value:t,cost:r};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};n.exports=e})(Vy)),Vy.exports}var FT;function nG(){return FT||(FT=1,(function(n){const e=Jf(),t=JH(),r=QH(),i=ZH(),a=eG(),o=eR(),c=Xf(),u=tG();function h(N){return unescape(encodeURIComponent(N)).length}function m(N,P,R){const j=[];let K;for(;(K=N.exec(R))!==null;)j.push({data:K[0],index:K.index,mode:P,length:K[0].length});return j}function g(N){const P=m(o.NUMERIC,e.NUMERIC,N),R=m(o.ALPHANUMERIC,e.ALPHANUMERIC,N);let j,K;return c.isKanjiModeEnabled()?(j=m(o.BYTE,e.BYTE,N),K=m(o.KANJI,e.KANJI,N)):(j=m(o.BYTE_KANJI,e.BYTE,N),K=[]),P.concat(R,j,K).sort(function(C,k){return C.index-k.index}).map(function(C){return{data:C.data,mode:C.mode,length:C.length}})}function _(N,P){switch(P){case e.NUMERIC:return t.getBitsLength(N);case e.ALPHANUMERIC:return r.getBitsLength(N);case e.KANJI:return a.getBitsLength(N);case e.BYTE:return i.getBitsLength(N)}}function v(N){return N.reduce(function(P,R){const j=P.length-1>=0?P[P.length-1]:null;return j&&j.mode===R.mode?(P[P.length-1].data+=R.data,P):(P.push(R),P)},[])}function b(N){const P=[];for(let R=0;R<N.length;R++){const j=N[R];switch(j.mode){case e.NUMERIC:P.push([j,{data:j.data,mode:e.ALPHANUMERIC,length:j.length},{data:j.data,mode:e.BYTE,length:j.length}]);break;case e.ALPHANUMERIC:P.push([j,{data:j.data,mode:e.BYTE,length:j.length}]);break;case e.KANJI:P.push([j,{data:j.data,mode:e.BYTE,length:h(j.data)}]);break;case e.BYTE:P.push([{data:j.data,mode:e.BYTE,length:h(j.data)}])}}return P}function w(N,P){const R={},j={start:{}};let K=["start"];for(let U=0;U<N.length;U++){const C=N[U],k=[];for(let I=0;I<C.length;I++){const z=C[I],O=""+U+I;k.push(O),R[O]={node:z,lastCount:0},j[O]={};for(let M=0;M<K.length;M++){const B=K[M];R[B]&&R[B].node.mode===z.mode?(j[B][O]=_(R[B].lastCount+z.length,z.mode)-_(R[B].lastCount,z.mode),R[B].lastCount+=z.length):(R[B]&&(R[B].lastCount=z.length),j[B][O]=_(z.length,z.mode)+4+e.getCharCountIndicator(z.mode,P))}}K=k}for(let U=0;U<K.length;U++)j[K[U]].end=0;return{map:j,table:R}}function T(N,P){let R;const j=e.getBestModeForData(N);if(R=e.from(P,j),R!==e.BYTE&&R.bit<j.bit)throw new Error('"'+N+'" cannot be encoded with mode '+e.toString(R)+`.
 Suggested mode is: `+e.toString(j));switch(R===e.KANJI&&!c.isKanjiModeEnabled()&&(R=e.BYTE),R){case e.NUMERIC:return new t(N);case e.ALPHANUMERIC:return new r(N);case e.KANJI:return new a(N);case e.BYTE:return new i(N)}}n.fromArray=function(P){return P.reduce(function(R,j){return typeof j=="string"?R.push(T(j,null)):j.data&&R.push(T(j.data,j.mode)),R},[])},n.fromString=function(P,R){const j=g(P,c.isKanjiModeEnabled()),K=b(j),U=w(K,R),C=u.find_path(U.map,"start","end"),k=[];for(let I=1;I<C.length-1;I++)k.push(U.table[C[I]].node);return n.fromArray(v(k))},n.rawSplit=function(P){return n.fromArray(g(P,c.isKanjiModeEnabled()))}})(My)),My}var BT;function rG(){if(BT)return Ey;BT=1;const n=Xf(),e=eb(),t=VH(),r=zH(),i=qH(),a=HH(),o=GH(),c=QI(),u=$H(),h=KH(),m=XH(),g=Jf(),_=nG();function v(U,C){const k=U.size,I=a.getPositions(C);for(let z=0;z<I.length;z++){const O=I[z][0],M=I[z][1];for(let B=-1;B<=7;B++)if(!(O+B<=-1||k<=O+B))for(let Y=-1;Y<=7;Y++)M+Y<=-1||k<=M+Y||(B>=0&&B<=6&&(Y===0||Y===6)||Y>=0&&Y<=6&&(B===0||B===6)||B>=2&&B<=4&&Y>=2&&Y<=4?U.set(O+B,M+Y,!0,!0):U.set(O+B,M+Y,!1,!0))}}function b(U){const C=U.size;for(let k=8;k<C-8;k++){const I=k%2===0;U.set(k,6,I,!0),U.set(6,k,I,!0)}}function w(U,C){const k=i.getPositions(C);for(let I=0;I<k.length;I++){const z=k[I][0],O=k[I][1];for(let M=-2;M<=2;M++)for(let B=-2;B<=2;B++)M===-2||M===2||B===-2||B===2||M===0&&B===0?U.set(z+M,O+B,!0,!0):U.set(z+M,O+B,!1,!0)}}function T(U,C){const k=U.size,I=h.getEncodedBits(C);let z,O,M;for(let B=0;B<18;B++)z=Math.floor(B/3),O=B%3+k-8-3,M=(I>>B&1)===1,U.set(z,O,M,!0),U.set(O,z,M,!0)}function N(U,C,k){const I=U.size,z=m.getEncodedBits(C,k);let O,M;for(O=0;O<15;O++)M=(z>>O&1)===1,O<6?U.set(O,8,M,!0):O<8?U.set(O+1,8,M,!0):U.set(I-15+O,8,M,!0),O<8?U.set(8,I-O-1,M,!0):O<9?U.set(8,15-O-1+1,M,!0):U.set(8,15-O-1,M,!0);U.set(I-8,8,1,!0)}function P(U,C){const k=U.size;let I=-1,z=k-1,O=7,M=0;for(let B=k-1;B>0;B-=2)for(B===6&&B--;;){for(let Y=0;Y<2;Y++)if(!U.isReserved(z,B-Y)){let we=!1;M<C.length&&(we=(C[M]>>>O&1)===1),U.set(z,B-Y,we),O--,O===-1&&(M++,O=7)}if(z+=I,z<0||k<=z){z-=I,I=-I;break}}}function R(U,C,k){const I=new t;k.forEach(function(Y){I.put(Y.mode.bit,4),I.put(Y.getLength(),g.getCharCountIndicator(Y.mode,U)),Y.write(I)});const z=n.getSymbolTotalCodewords(U),O=c.getTotalCodewordsCount(U,C),M=(z-O)*8;for(I.getLengthInBits()+4<=M&&I.put(0,4);I.getLengthInBits()%8!==0;)I.putBit(0);const B=(M-I.getLengthInBits())/8;for(let Y=0;Y<B;Y++)I.put(Y%2?17:236,8);return j(I,U,C)}function j(U,C,k){const I=n.getSymbolTotalCodewords(C),z=c.getTotalCodewordsCount(C,k),O=I-z,M=c.getBlocksCount(C,k),B=I%M,Y=M-B,we=Math.floor(I/M),fe=Math.floor(O/M),le=fe+1,pe=we-fe,Ie=new u(pe);let Ae=0;const re=new Array(M),L=new Array(M);let G=0;const q=new Uint8Array(U.buffer);for(let Se=0;Se<M;Se++){const Ce=Se<Y?fe:le;re[Se]=q.slice(Ae,Ae+Ce),L[Se]=Ie.encode(re[Se]),Ae+=Ce,G=Math.max(G,Ce)}const J=new Uint8Array(I);let ae=0,ge,Te;for(ge=0;ge<G;ge++)for(Te=0;Te<M;Te++)ge<re[Te].length&&(J[ae++]=re[Te][ge]);for(ge=0;ge<pe;ge++)for(Te=0;Te<M;Te++)J[ae++]=L[Te][ge];return J}function K(U,C,k,I){let z;if(Array.isArray(U))z=_.fromArray(U);else if(typeof U=="string"){let we=C;if(!we){const fe=_.rawSplit(U);we=h.getBestVersionForData(fe,k)}z=_.fromString(U,we||40)}else throw new Error("Invalid data");const O=h.getBestVersionForData(z,k);if(!O)throw new Error("The amount of data is too big to be stored in a QR Code");if(!C)C=O;else if(C<O)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+O+`.
`);const M=R(C,k,z),B=n.getSymbolSize(C),Y=new r(B);return v(Y,C),b(Y),w(Y,C),N(Y,k,0),C>=7&&T(Y,C),P(Y,M),isNaN(I)&&(I=o.getBestMask(Y,N.bind(null,Y,k))),o.applyMask(I,Y),N(Y,k,I),{modules:Y,version:C,errorCorrectionLevel:k,maskPattern:I,segments:z}}return Ey.create=function(C,k){if(typeof C>"u"||C==="")throw new Error("No input text");let I=e.M,z,O;return typeof k<"u"&&(I=e.from(k.errorCorrectionLevel,e.M),z=h.from(k.version),O=o.from(k.maskPattern),k.toSJISFunc&&n.setToSJISFunction(k.toSJISFunc)),K(C,z,I,O)},Ey}var zy={},qy={},UT;function tR(){return UT||(UT=1,(function(n){function e(t){if(typeof t=="number"&&(t=t.toString()),typeof t!="string")throw new Error("Color should be defined as hex string");let r=t.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+t);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(a){return[a,a]}))),r.length===6&&r.push("F","F");const i=parseInt(r.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+r.slice(0,6).join("")}}n.getOptions=function(r){r||(r={}),r.color||(r.color={});const i=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,a=r.width&&r.width>=21?r.width:void 0,o=r.scale||4;return{width:a,scale:a?4:o,margin:i,color:{dark:e(r.color.dark||"#000000ff"),light:e(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},n.getScale=function(r,i){return i.width&&i.width>=r+i.margin*2?i.width/(r+i.margin*2):i.scale},n.getImageWidth=function(r,i){const a=n.getScale(r,i);return Math.floor((r+i.margin*2)*a)},n.qrToImageData=function(r,i,a){const o=i.modules.size,c=i.modules.data,u=n.getScale(o,a),h=Math.floor((o+a.margin*2)*u),m=a.margin*u,g=[a.color.light,a.color.dark];for(let _=0;_<h;_++)for(let v=0;v<h;v++){let b=(_*h+v)*4,w=a.color.light;if(_>=m&&v>=m&&_<h-m&&v<h-m){const T=Math.floor((_-m)/u),N=Math.floor((v-m)/u);w=g[c[T*o+N]?1:0]}r[b++]=w.r,r[b++]=w.g,r[b++]=w.b,r[b]=w.a}}})(qy)),qy}var VT;function iG(){return VT||(VT=1,(function(n){const e=tR();function t(i,a,o){i.clearRect(0,0,a.width,a.height),a.style||(a.style={}),a.height=o,a.width=o,a.style.height=o+"px",a.style.width=o+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}n.render=function(a,o,c){let u=c,h=o;typeof u>"u"&&(!o||!o.getContext)&&(u=o,o=void 0),o||(h=r()),u=e.getOptions(u);const m=e.getImageWidth(a.modules.size,u),g=h.getContext("2d"),_=g.createImageData(m,m);return e.qrToImageData(_.data,a,u),t(g,h,m),g.putImageData(_,0,0),h},n.renderToDataURL=function(a,o,c){let u=c;typeof u>"u"&&(!o||!o.getContext)&&(u=o,o=void 0),u||(u={});const h=n.render(a,o,u),m=u.type||"image/png",g=u.rendererOpts||{};return h.toDataURL(m,g.quality)}})(zy)),zy}var Hy={},zT;function aG(){if(zT)return Hy;zT=1;const n=tR();function e(i,a){const o=i.a/255,c=a+'="'+i.hex+'"';return o<1?c+" "+a+'-opacity="'+o.toFixed(2).slice(1)+'"':c}function t(i,a,o){let c=i+a;return typeof o<"u"&&(c+=" "+o),c}function r(i,a,o){let c="",u=0,h=!1,m=0;for(let g=0;g<i.length;g++){const _=Math.floor(g%a),v=Math.floor(g/a);!_&&!h&&(h=!0),i[g]?(m++,g>0&&_>0&&i[g-1]||(c+=h?t("M",_+o,.5+v+o):t("m",u,0),u=0,h=!1),_+1<a&&i[g+1]||(c+=t("h",m),m=0)):u++}return c}return Hy.render=function(a,o,c){const u=n.getOptions(o),h=a.modules.size,m=a.modules.data,g=h+u.margin*2,_=u.color.light.a?"<path "+e(u.color.light,"fill")+' d="M0 0h'+g+"v"+g+'H0z"/>':"",v="<path "+e(u.color.dark,"stroke")+' d="'+r(m,h,u.margin)+'"/>',b='viewBox="0 0 '+g+" "+g+'"',T='<svg xmlns="http://www.w3.org/2000/svg" '+(u.width?'width="'+u.width+'" height="'+u.width+'" ':"")+b+' shape-rendering="crispEdges">'+_+v+`</svg>
`;return typeof c=="function"&&c(null,T),T},Hy}var qT;function sG(){if(qT)return Ud;qT=1;const n=UH(),e=rG(),t=iG(),r=aG();function i(a,o,c,u,h){const m=[].slice.call(arguments,1),g=m.length,_=typeof m[g-1]=="function";if(!_&&!n())throw new Error("Callback required as last argument");if(_){if(g<2)throw new Error("Too few arguments provided");g===2?(h=c,c=o,o=u=void 0):g===3&&(o.getContext&&typeof h>"u"?(h=u,u=void 0):(h=u,u=c,c=o,o=void 0))}else{if(g<1)throw new Error("Too few arguments provided");return g===1?(c=o,o=u=void 0):g===2&&!o.getContext&&(u=c,c=o,o=void 0),new Promise(function(v,b){try{const w=e.create(c,u);v(a(w,o,u))}catch(w){b(w)}})}try{const v=e.create(c,u);h(null,a(v,o,u))}catch(v){h(v)}}return Ud.create=e.create,Ud.toCanvas=i.bind(null,t.render),Ud.toDataURL=i.bind(null,t.renderToDataURL),Ud.toString=i.bind(null,function(a,o,c){return r.render(a,c)}),Ud}var oG=sG();const lG=D5(oG);function Cr(n){"@babel/helpers - typeof";return Cr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cr(n)}var Zl=Uint8Array,Vo=Uint16Array,tb=Int32Array,nb=new Zl([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),rb=new Zl([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),HT=new Zl([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),nR=function(n,e){for(var t=new Vo(31),r=0;r<31;++r)t[r]=e+=1<<n[r-1];for(var i=new tb(t[30]),r=1;r<30;++r)for(var a=t[r];a<t[r+1];++a)i[a]=a-t[r]<<5|r;return{b:t,r:i}},rR=nR(nb,2),cG=rR.b,s5=rR.r;cG[28]=258,s5[258]=28;var uG=nR(rb,0),GT=uG.r,o5=new Vo(32768);for(var ii=0;ii<32768;++ii){var gh=(ii&43690)>>1|(ii&21845)<<1;gh=(gh&52428)>>2|(gh&13107)<<2,gh=(gh&61680)>>4|(gh&3855)<<4,o5[ii]=((gh&65280)>>8|(gh&255)<<8)>>1}var sp=(function(n,e,t){for(var r=n.length,i=0,a=new Vo(e);i<r;++i)n[i]&&++a[n[i]-1];var o=new Vo(e);for(i=1;i<e;++i)o[i]=o[i-1]+a[i-1]<<1;var c;if(t){c=new Vo(1<<e);var u=15-e;for(i=0;i<r;++i)if(n[i])for(var h=i<<4|n[i],m=e-n[i],g=o[n[i]-1]++<<m,_=g|(1<<m)-1;g<=_;++g)c[o5[g]>>u]=h}else for(c=new Vo(r),i=0;i<r;++i)n[i]&&(c[i]=o5[o[n[i]-1]++]>>15-n[i]);return c}),Pf=new Zl(288);for(var ii=0;ii<144;++ii)Pf[ii]=8;for(var ii=144;ii<256;++ii)Pf[ii]=9;for(var ii=256;ii<280;++ii)Pf[ii]=7;for(var ii=280;ii<288;++ii)Pf[ii]=8;var w2=new Zl(32);for(var ii=0;ii<32;++ii)w2[ii]=5;var hG=sp(Pf,9,0),fG=sp(w2,5,0),iR=function(n){return(n+7)/8|0},dG=function(n,e,t){return(t==null||t>n.length)&&(t=n.length),new Zl(n.subarray(e,t))},gu=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8},Mm=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8,n[r+2]|=t>>16},Gy=function(n,e){for(var t=[],r=0;r<n.length;++r)n[r]&&t.push({s:r,f:n[r]});var i=t.length,a=t.slice();if(!i)return{t:sR,l:0};if(i==1){var o=new Zl(t[0].s+1);return o[t[0].s]=1,{t:o,l:1}}t.sort(function(K,U){return K.f-U.f}),t.push({s:-1,f:25001});var c=t[0],u=t[1],h=0,m=1,g=2;for(t[0]={s:-1,f:c.f+u.f,l:c,r:u};m!=i-1;)c=t[t[h].f<t[g].f?h++:g++],u=t[h!=m&&t[h].f<t[g].f?h++:g++],t[m++]={s:-1,f:c.f+u.f,l:c,r:u};for(var _=a[0].s,r=1;r<i;++r)a[r].s>_&&(_=a[r].s);var v=new Vo(_+1),b=l5(t[m-1],v,0);if(b>e){var r=0,w=0,T=b-e,N=1<<T;for(a.sort(function(U,C){return v[C.s]-v[U.s]||U.f-C.f});r<i;++r){var P=a[r].s;if(v[P]>e)w+=N-(1<<b-v[P]),v[P]=e;else break}for(w>>=T;w>0;){var R=a[r].s;v[R]<e?w-=1<<e-v[R]++-1:++r}for(;r>=0&&w;--r){var j=a[r].s;v[j]==e&&(--v[j],++w)}b=e}return{t:new Zl(v),l:b}},l5=function(n,e,t){return n.s==-1?Math.max(l5(n.l,e,t+1),l5(n.r,e,t+1)):e[n.s]=t},WT=function(n){for(var e=n.length;e&&!n[--e];);for(var t=new Vo(++e),r=0,i=n[0],a=1,o=function(u){t[r++]=u},c=1;c<=e;++c)if(n[c]==i&&c!=e)++a;else{if(!i&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(i),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(i);a=1,i=n[c]}return{c:t.subarray(0,r),n:e}},Pm=function(n,e){for(var t=0,r=0;r<e.length;++r)t+=n[r]*e[r];return t},aR=function(n,e,t){var r=t.length,i=iR(e+2);n[i]=r&255,n[i+1]=r>>8,n[i+2]=n[i]^255,n[i+3]=n[i+1]^255;for(var a=0;a<r;++a)n[i+a+4]=t[a];return(i+4+r)*8},YT=function(n,e,t,r,i,a,o,c,u,h,m){gu(e,m++,t),++i[256];for(var g=Gy(i,15),_=g.t,v=g.l,b=Gy(a,15),w=b.t,T=b.l,N=WT(_),P=N.c,R=N.n,j=WT(w),K=j.c,U=j.n,C=new Vo(19),k=0;k<P.length;++k)++C[P[k]&31];for(var k=0;k<K.length;++k)++C[K[k]&31];for(var I=Gy(C,7),z=I.t,O=I.l,M=19;M>4&&!z[HT[M-1]];--M);var B=h+5<<3,Y=Pm(i,Pf)+Pm(a,w2)+o,we=Pm(i,_)+Pm(a,w)+o+14+3*M+Pm(C,z)+2*C[16]+3*C[17]+7*C[18];if(u>=0&&B<=Y&&B<=we)return aR(e,m,n.subarray(u,u+h));var fe,le,pe,Ie;if(gu(e,m,1+(we<Y)),m+=2,we<Y){fe=sp(_,v,0),le=_,pe=sp(w,T,0),Ie=w;var Ae=sp(z,O,0);gu(e,m,R-257),gu(e,m+5,U-1),gu(e,m+10,M-4),m+=14;for(var k=0;k<M;++k)gu(e,m+3*k,z[HT[k]]);m+=3*M;for(var re=[P,K],L=0;L<2;++L)for(var G=re[L],k=0;k<G.length;++k){var q=G[k]&31;gu(e,m,Ae[q]),m+=z[q],q>15&&(gu(e,m,G[k]>>5&127),m+=G[k]>>12)}}else fe=hG,le=Pf,pe=fG,Ie=w2;for(var k=0;k<c;++k){var J=r[k];if(J>255){var q=J>>18&31;Mm(e,m,fe[q+257]),m+=le[q+257],q>7&&(gu(e,m,J>>23&31),m+=nb[q]);var ae=J&31;Mm(e,m,pe[ae]),m+=Ie[ae],ae>3&&(Mm(e,m,J>>5&8191),m+=rb[ae])}else Mm(e,m,fe[J]),m+=le[J]}return Mm(e,m,fe[256]),m+le[256]},mG=new tb([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),sR=new Zl(0),pG=function(n,e,t,r,i,a){var o=a.z||n.length,c=new Zl(r+o+5*(1+Math.ceil(o/7e3))+i),u=c.subarray(r,c.length-i),h=a.l,m=(a.r||0)&7;if(e){m&&(u[0]=a.r>>3);for(var g=mG[e-1],_=g>>13,v=g&8191,b=(1<<t)-1,w=a.p||new Vo(32768),T=a.h||new Vo(b+1),N=Math.ceil(t/3),P=2*N,R=function(it){return(n[it]^n[it+1]<<N^n[it+2]<<P)&b},j=new tb(25e3),K=new Vo(288),U=new Vo(32),C=0,k=0,I=a.i||0,z=0,O=a.w||0,M=0;I+2<o;++I){var B=R(I),Y=I&32767,we=T[B];if(w[Y]=we,T[B]=Y,O<=I){var fe=o-I;if((C>7e3||z>24576)&&(fe>423||!h)){m=YT(n,u,0,j,K,U,k,z,M,I-M,m),z=C=k=0,M=I;for(var le=0;le<286;++le)K[le]=0;for(var le=0;le<30;++le)U[le]=0}var pe=2,Ie=0,Ae=v,re=Y-we&32767;if(fe>2&&B==R(I-re))for(var L=Math.min(_,fe)-1,G=Math.min(32767,I),q=Math.min(258,fe);re<=G&&--Ae&&Y!=we;){if(n[I+pe]==n[I+pe-re]){for(var J=0;J<q&&n[I+J]==n[I+J-re];++J);if(J>pe){if(pe=J,Ie=re,J>L)break;for(var ae=Math.min(re,J-2),ge=0,le=0;le<ae;++le){var Te=I-re+le&32767,Se=w[Te],Ce=Te-Se&32767;Ce>ge&&(ge=Ce,we=Te)}}}Y=we,we=w[Y],re+=Y-we&32767}if(Ie){j[z++]=268435456|s5[pe]<<18|GT[Ie];var et=s5[pe]&31,ot=GT[Ie]&31;k+=nb[et]+rb[ot],++K[257+et],++U[ot],O=I+pe,++C}else j[z++]=n[I],++K[n[I]]}}for(I=Math.max(I,O);I<o;++I)j[z++]=n[I],++K[n[I]];m=YT(n,u,h,j,K,U,k,z,M,I-M,m),h||(a.r=m&7|u[m/8|0]<<3,m-=7,a.h=T,a.p=w,a.i=I,a.w=O)}else{for(var I=a.w||0;I<o+h;I+=65535){var tt=I+65535;tt>=o&&(u[m/8|0]=h,tt=o),m=aR(u,m+1,n.subarray(I,tt))}a.i=o}return dG(c,0,r+iR(m)+i)},oR=function(){var n=1,e=0;return{p:function(t){for(var r=n,i=e,a=t.length|0,o=0;o!=a;){for(var c=Math.min(o+2655,a);o<c;++o)i+=r+=t[o];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}n=r,e=i},d:function(){return n%=65521,e%=65521,(n&255)<<24|(n&65280)<<8|(e&255)<<8|e>>8}}},gG=function(n,e,t,r,i){if(!i&&(i={l:1},e.dictionary)){var a=e.dictionary.subarray(-32768),o=new Zl(a.length+n.length);o.set(a),o.set(n,a.length),n=o,i.w=a.length}return pG(n,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+e.mem,t,r,i)},lR=function(n,e,t){for(;t;++e)n[e]=t,t>>>=8},vG=function(n,e){var t=e.level,r=t==0?0:t<6?1:t==9?3:2;if(n[0]=120,n[1]=r<<6|(e.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,e.dictionary){var i=oR();i.p(e.dictionary),lR(n,2,i.d())}};function c5(n,e){e||(e={});var t=oR();t.p(n);var r=gG(n,e,e.dictionary?6:2,4);return vG(r,e),lR(r,r.length-4,t.d()),r}var _G=typeof TextDecoder<"u"&&new TextDecoder,yG=0;try{_G.decode(sR,{stream:!0}),yG=1}catch{}function xG(n){if(Array.isArray(n))return n}function wG(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,i,a,o,c=[],u=!0,h=!1;try{if(a=(t=t.call(n)).next,e!==0)for(;!(u=(r=a.call(t)).done)&&(c.push(r.value),c.length!==e);u=!0);}catch(m){h=!0,i=m}finally{try{if(!u&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(h)throw i}}return c}}function $T(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function bG(n,e){if(n){if(typeof n=="string")return $T(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?$T(n,e):void 0}}function EG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KT(n,e){return xG(n)||wG(n,e)||bG(n,e)||EG()}function XT(n,e="utf8"){return new TextDecoder(e).decode(n)}const SG=new TextEncoder;function TG(n){return SG.encode(n)}const AG=1024*8,NG=(()=>{const n=new Uint8Array(4),e=new Uint32Array(n.buffer);return!((e[0]=1)&n[0])})(),Wy={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class ib{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=AG,t={}){let r=!1;typeof e=="number"?e=new ArrayBuffer(e):(r=!0,this.lastWrittenByte=e.byteLength);const i=t.offset?t.offset>>>0:0,a=e.byteLength-i;let o=i;(ArrayBuffer.isView(e)||e instanceof ib)&&(e.byteLength!==e.buffer.byteLength&&(o=e.byteOffset+i),e=e.buffer),r?this.lastWrittenByte=a:this.lastWrittenByte=0,this.buffer=e,this.length=a,this.byteLength=a,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,a),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const r=(this.offset+e)*2,i=new Uint8Array(r);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,t){const r=Wy[t].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,a=this.buffer.slice(i,i+r);if(this.littleEndian===NG&&t!=="uint8"&&t!=="int8"){const c=new Uint8Array(this.buffer.slice(i,i+r));c.reverse();const u=new Wy[t](c.buffer);return this.offset+=r,u.reverse(),u}const o=new Wy[t](a);return this.offset+=r,o}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let t="";for(let r=0;r<e;r++)t+=this.readChar();return t}readUtf8(e=1){return XT(this.readBytes(e))}decodeText(e=1,t="utf8"){return XT(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(TG(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function H0(n){let e=n.length;for(;--e>=0;)n[e]=0}const CG=3,IG=258,cR=29,RG=256,kG=RG+1+cR,uR=30,OG=512,DG=new Array((kG+2)*2);H0(DG);const LG=new Array(uR*2);H0(LG);const jG=new Array(OG);H0(jG);const MG=new Array(IG-CG+1);H0(MG);const PG=new Array(cR);H0(PG);const FG=new Array(uR);H0(FG);const BG=(n,e,t,r)=>{let i=n&65535|0,a=n>>>16&65535|0,o=0;for(;t!==0;){o=t>2e3?2e3:t,t-=o;do i=i+e[r++]|0,a=a+i|0;while(--o);i%=65521,a%=65521}return i|a<<16|0};var u5=BG;const UG=()=>{let n,e=[];for(var t=0;t<256;t++){n=t;for(var r=0;r<8;r++)n=n&1?3988292384^n>>>1:n>>>1;e[t]=n}return e},VG=new Uint32Array(UG()),zG=(n,e,t,r)=>{const i=VG,a=r+t;n^=-1;for(let o=r;o<a;o++)n=n>>>8^i[(n^e[o])&255];return n^-1};var Ec=zG,h5={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},hR={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const qG=(n,e)=>Object.prototype.hasOwnProperty.call(n,e);var HG=function(n){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const t=e.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const r in t)qG(t,r)&&(n[r]=t[r])}}return n},GG=n=>{let e=0;for(let r=0,i=n.length;r<i;r++)e+=n[r].length;const t=new Uint8Array(e);for(let r=0,i=0,a=n.length;r<a;r++){let o=n[r];t.set(o,i),i+=o.length}return t},fR={assign:HG,flattenChunks:GG};let dR=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{dR=!1}const Sp=new Uint8Array(256);for(let n=0;n<256;n++)Sp[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;Sp[254]=Sp[254]=1;var WG=n=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(n);let e,t,r,i,a,o=n.length,c=0;for(i=0;i<o;i++)t=n.charCodeAt(i),(t&64512)===55296&&i+1<o&&(r=n.charCodeAt(i+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),i++)),c+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(c),a=0,i=0;a<c;i++)t=n.charCodeAt(i),(t&64512)===55296&&i+1<o&&(r=n.charCodeAt(i+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),i++)),t<128?e[a++]=t:t<2048?(e[a++]=192|t>>>6,e[a++]=128|t&63):t<65536?(e[a++]=224|t>>>12,e[a++]=128|t>>>6&63,e[a++]=128|t&63):(e[a++]=240|t>>>18,e[a++]=128|t>>>12&63,e[a++]=128|t>>>6&63,e[a++]=128|t&63);return e};const YG=(n,e)=>{if(e<65534&&n.subarray&&dR)return String.fromCharCode.apply(null,n.length===e?n:n.subarray(0,e));let t="";for(let r=0;r<e;r++)t+=String.fromCharCode(n[r]);return t};var $G=(n,e)=>{const t=e||n.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(n.subarray(0,e));let r,i;const a=new Array(t*2);for(i=0,r=0;r<t;){let o=n[r++];if(o<128){a[i++]=o;continue}let c=Sp[o];if(c>4){a[i++]=65533,r+=c-1;continue}for(o&=c===2?31:c===3?15:7;c>1&&r<t;)o=o<<6|n[r++]&63,c--;if(c>1){a[i++]=65533;continue}o<65536?a[i++]=o:(o-=65536,a[i++]=55296|o>>10&1023,a[i++]=56320|o&1023)}return YG(a,i)},KG=(n,e)=>{e=e||n.length,e>n.length&&(e=n.length);let t=e-1;for(;t>=0&&(n[t]&192)===128;)t--;return t<0||t===0?e:t+Sp[n[t]]>e?t:e},f5={string2buf:WG,buf2string:$G,utf8border:KG};function XG(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var JG=XG;const m1=16209,QG=16191;var ZG=function(e,t){let r,i,a,o,c,u,h,m,g,_,v,b,w,T,N,P,R,j,K,U,C,k,I,z;const O=e.state;r=e.next_in,I=e.input,i=r+(e.avail_in-5),a=e.next_out,z=e.output,o=a-(t-e.avail_out),c=a+(e.avail_out-257),u=O.dmax,h=O.wsize,m=O.whave,g=O.wnext,_=O.window,v=O.hold,b=O.bits,w=O.lencode,T=O.distcode,N=(1<<O.lenbits)-1,P=(1<<O.distbits)-1;e:do{b<15&&(v+=I[r++]<<b,b+=8,v+=I[r++]<<b,b+=8),R=w[v&N];t:for(;;){if(j=R>>>24,v>>>=j,b-=j,j=R>>>16&255,j===0)z[a++]=R&65535;else if(j&16){K=R&65535,j&=15,j&&(b<j&&(v+=I[r++]<<b,b+=8),K+=v&(1<<j)-1,v>>>=j,b-=j),b<15&&(v+=I[r++]<<b,b+=8,v+=I[r++]<<b,b+=8),R=T[v&P];n:for(;;){if(j=R>>>24,v>>>=j,b-=j,j=R>>>16&255,j&16){if(U=R&65535,j&=15,b<j&&(v+=I[r++]<<b,b+=8,b<j&&(v+=I[r++]<<b,b+=8)),U+=v&(1<<j)-1,U>u){e.msg="invalid distance too far back",O.mode=m1;break e}if(v>>>=j,b-=j,j=a-o,U>j){if(j=U-j,j>m&&O.sane){e.msg="invalid distance too far back",O.mode=m1;break e}if(C=0,k=_,g===0){if(C+=h-j,j<K){K-=j;do z[a++]=_[C++];while(--j);C=a-U,k=z}}else if(g<j){if(C+=h+g-j,j-=g,j<K){K-=j;do z[a++]=_[C++];while(--j);if(C=0,g<K){j=g,K-=j;do z[a++]=_[C++];while(--j);C=a-U,k=z}}}else if(C+=g-j,j<K){K-=j;do z[a++]=_[C++];while(--j);C=a-U,k=z}for(;K>2;)z[a++]=k[C++],z[a++]=k[C++],z[a++]=k[C++],K-=3;K&&(z[a++]=k[C++],K>1&&(z[a++]=k[C++]))}else{C=a-U;do z[a++]=z[C++],z[a++]=z[C++],z[a++]=z[C++],K-=3;while(K>2);K&&(z[a++]=z[C++],K>1&&(z[a++]=z[C++]))}}else if((j&64)===0){R=T[(R&65535)+(v&(1<<j)-1)];continue n}else{e.msg="invalid distance code",O.mode=m1;break e}break}}else if((j&64)===0){R=w[(R&65535)+(v&(1<<j)-1)];continue t}else if(j&32){O.mode=QG;break e}else{e.msg="invalid literal/length code",O.mode=m1;break e}break}}while(r<i&&a<c);K=b>>3,r-=K,b-=K<<3,v&=(1<<b)-1,e.next_in=r,e.next_out=a,e.avail_in=r<i?5+(i-r):5-(r-i),e.avail_out=a<c?257+(c-a):257-(a-c),O.hold=v,O.bits=b};const Vd=15,JT=852,QT=592,ZT=0,Yy=1,eA=2,eW=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),tW=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),nW=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),rW=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),iW=(n,e,t,r,i,a,o,c)=>{const u=c.bits;let h=0,m=0,g=0,_=0,v=0,b=0,w=0,T=0,N=0,P=0,R,j,K,U,C,k=null,I;const z=new Uint16Array(Vd+1),O=new Uint16Array(Vd+1);let M=null,B,Y,we;for(h=0;h<=Vd;h++)z[h]=0;for(m=0;m<r;m++)z[e[t+m]]++;for(v=u,_=Vd;_>=1&&z[_]===0;_--);if(v>_&&(v=_),_===0)return i[a++]=1<<24|64<<16|0,i[a++]=1<<24|64<<16|0,c.bits=1,0;for(g=1;g<_&&z[g]===0;g++);for(v<g&&(v=g),T=1,h=1;h<=Vd;h++)if(T<<=1,T-=z[h],T<0)return-1;if(T>0&&(n===ZT||_!==1))return-1;for(O[1]=0,h=1;h<Vd;h++)O[h+1]=O[h]+z[h];for(m=0;m<r;m++)e[t+m]!==0&&(o[O[e[t+m]]++]=m);if(n===ZT?(k=M=o,I=20):n===Yy?(k=eW,M=tW,I=257):(k=nW,M=rW,I=0),P=0,m=0,h=g,C=a,b=v,w=0,K=-1,N=1<<v,U=N-1,n===Yy&&N>JT||n===eA&&N>QT)return 1;for(;;){B=h-w,o[m]+1<I?(Y=0,we=o[m]):o[m]>=I?(Y=M[o[m]-I],we=k[o[m]-I]):(Y=96,we=0),R=1<<h-w,j=1<<b,g=j;do j-=R,i[C+(P>>w)+j]=B<<24|Y<<16|we|0;while(j!==0);for(R=1<<h-1;P&R;)R>>=1;if(R!==0?(P&=R-1,P+=R):P=0,m++,--z[h]===0){if(h===_)break;h=e[t+o[m]]}if(h>v&&(P&U)!==K){for(w===0&&(w=v),C+=g,b=h-w,T=1<<b;b+w<_&&(T-=z[b+w],!(T<=0));)b++,T<<=1;if(N+=1<<b,n===Yy&&N>JT||n===eA&&N>QT)return 1;K=P&U,i[K]=v<<24|b<<16|C-a|0}}return P!==0&&(i[C+P]=h-w<<24|64<<16|0),c.bits=v,0};var op=iW;const aW=0,mR=1,pR=2,{Z_FINISH:tA,Z_BLOCK:sW,Z_TREES:p1,Z_OK:Ff,Z_STREAM_END:oW,Z_NEED_DICT:lW,Z_STREAM_ERROR:vl,Z_DATA_ERROR:gR,Z_MEM_ERROR:vR,Z_BUF_ERROR:cW,Z_DEFLATED:nA}=hR,Ev=16180,rA=16181,iA=16182,aA=16183,sA=16184,oA=16185,lA=16186,cA=16187,uA=16188,hA=16189,b2=16190,vu=16191,$y=16192,fA=16193,Ky=16194,dA=16195,mA=16196,pA=16197,gA=16198,g1=16199,v1=16200,vA=16201,_A=16202,yA=16203,xA=16204,wA=16205,Xy=16206,bA=16207,EA=16208,mi=16209,_R=16210,yR=16211,uW=852,hW=592,fW=15,dW=fW,SA=n=>(n>>>24&255)+(n>>>8&65280)+((n&65280)<<8)+((n&255)<<24);function mW(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Qf=n=>{if(!n)return 1;const e=n.state;return!e||e.strm!==n||e.mode<Ev||e.mode>yR?1:0},xR=n=>{if(Qf(n))return vl;const e=n.state;return n.total_in=n.total_out=e.total=0,n.msg="",e.wrap&&(n.adler=e.wrap&1),e.mode=Ev,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(uW),e.distcode=e.distdyn=new Int32Array(hW),e.sane=1,e.back=-1,Ff},wR=n=>{if(Qf(n))return vl;const e=n.state;return e.wsize=0,e.whave=0,e.wnext=0,xR(n)},bR=(n,e)=>{let t;if(Qf(n))return vl;const r=n.state;return e<0?(t=0,e=-e):(t=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?vl:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=t,r.wbits=e,wR(n))},ER=(n,e)=>{if(!n)return vl;const t=new mW;n.state=t,t.strm=n,t.window=null,t.mode=Ev;const r=bR(n,e);return r!==Ff&&(n.state=null),r},pW=n=>ER(n,dW);let TA=!0,Jy,Qy;const gW=n=>{if(TA){Jy=new Int32Array(512),Qy=new Int32Array(32);let e=0;for(;e<144;)n.lens[e++]=8;for(;e<256;)n.lens[e++]=9;for(;e<280;)n.lens[e++]=7;for(;e<288;)n.lens[e++]=8;for(op(mR,n.lens,0,288,Jy,0,n.work,{bits:9}),e=0;e<32;)n.lens[e++]=5;op(pR,n.lens,0,32,Qy,0,n.work,{bits:5}),TA=!1}n.lencode=Jy,n.lenbits=9,n.distcode=Qy,n.distbits=5},SR=(n,e,t,r)=>{let i;const a=n.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),r>=a.wsize?(a.window.set(e.subarray(t-a.wsize,t),0),a.wnext=0,a.whave=a.wsize):(i=a.wsize-a.wnext,i>r&&(i=r),a.window.set(e.subarray(t-r,t-r+i),a.wnext),r-=i,r?(a.window.set(e.subarray(t-r,t),0),a.wnext=r,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0},vW=(n,e)=>{let t,r,i,a,o,c,u,h,m,g,_,v,b,w,T=0,N,P,R,j,K,U,C,k;const I=new Uint8Array(4);let z,O;const M=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Qf(n)||!n.output||!n.input&&n.avail_in!==0)return vl;t=n.state,t.mode===vu&&(t.mode=$y),o=n.next_out,i=n.output,u=n.avail_out,a=n.next_in,r=n.input,c=n.avail_in,h=t.hold,m=t.bits,g=c,_=u,k=Ff;e:for(;;)switch(t.mode){case Ev:if(t.wrap===0){t.mode=$y;break}for(;m<16;){if(c===0)break e;c--,h+=r[a++]<<m,m+=8}if(t.wrap&2&&h===35615){t.wbits===0&&(t.wbits=15),t.check=0,I[0]=h&255,I[1]=h>>>8&255,t.check=Ec(t.check,I,2,0),h=0,m=0,t.mode=rA;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((h&255)<<8)+(h>>8))%31){n.msg="incorrect header check",t.mode=mi;break}if((h&15)!==nA){n.msg="unknown compression method",t.mode=mi;break}if(h>>>=4,m-=4,C=(h&15)+8,t.wbits===0&&(t.wbits=C),C>15||C>t.wbits){n.msg="invalid window size",t.mode=mi;break}t.dmax=1<<t.wbits,t.flags=0,n.adler=t.check=1,t.mode=h&512?hA:vu,h=0,m=0;break;case rA:for(;m<16;){if(c===0)break e;c--,h+=r[a++]<<m,m+=8}if(t.flags=h,(t.flags&255)!==nA){n.msg="unknown compression method",t.mode=mi;break}if(t.flags&57344){n.msg="unknown header flags set",t.mode=mi;break}t.head&&(t.head.text=h>>8&1),t.flags&512&&t.wrap&4&&(I[0]=h&255,I[1]=h>>>8&255,t.check=Ec(t.check,I,2,0)),h=0,m=0,t.mode=iA;case iA:for(;m<32;){if(c===0)break e;c--,h+=r[a++]<<m,m+=8}t.head&&(t.head.time=h),t.flags&512&&t.wrap&4&&(I[0]=h&255,I[1]=h>>>8&255,I[2]=h>>>16&255,I[3]=h>>>24&255,t.check=Ec(t.check,I,4,0)),h=0,m=0,t.mode=aA;case aA:for(;m<16;){if(c===0)break e;c--,h+=r[a++]<<m,m+=8}t.head&&(t.head.xflags=h&255,t.head.os=h>>8),t.flags&512&&t.wrap&4&&(I[0]=h&255,I[1]=h>>>8&255,t.check=Ec(t.check,I,2,0)),h=0,m=0,t.mode=sA;case sA:if(t.flags&1024){for(;m<16;){if(c===0)break e;c--,h+=r[a++]<<m,m+=8}t.length=h,t.head&&(t.head.extra_len=h),t.flags&512&&t.wrap&4&&(I[0]=h&255,I[1]=h>>>8&255,t.check=Ec(t.check,I,2,0)),h=0,m=0}else t.head&&(t.head.extra=null);t.mode=oA;case oA:if(t.flags&1024&&(v=t.length,v>c&&(v=c),v&&(t.head&&(C=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(r.subarray(a,a+v),C)),t.flags&512&&t.wrap&4&&(t.check=Ec(t.check,r,v,a)),c-=v,a+=v,t.length-=v),t.length))break e;t.length=0,t.mode=lA;case lA:if(t.flags&2048){if(c===0)break e;v=0;do C=r[a+v++],t.head&&C&&t.length<65536&&(t.head.name+=String.fromCharCode(C));while(C&&v<c);if(t.flags&512&&t.wrap&4&&(t.check=Ec(t.check,r,v,a)),c-=v,a+=v,C)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=cA;case cA:if(t.flags&4096){if(c===0)break e;v=0;do C=r[a+v++],t.head&&C&&t.length<65536&&(t.head.comment+=String.fromCharCode(C));while(C&&v<c);if(t.flags&512&&t.wrap&4&&(t.check=Ec(t.check,r,v,a)),c-=v,a+=v,C)break e}else t.head&&(t.head.comment=null);t.mode=uA;case uA:if(t.flags&512){for(;m<16;){if(c===0)break e;c--,h+=r[a++]<<m,m+=8}if(t.wrap&4&&h!==(t.check&65535)){n.msg="header crc mismatch",t.mode=mi;break}h=0,m=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),n.adler=t.check=0,t.mode=vu;break;case hA:for(;m<32;){if(c===0)break e;c--,h+=r[a++]<<m,m+=8}n.adler=t.check=SA(h),h=0,m=0,t.mode=b2;case b2:if(t.havedict===0)return n.next_out=o,n.avail_out=u,n.next_in=a,n.avail_in=c,t.hold=h,t.bits=m,lW;n.adler=t.check=1,t.mode=vu;case vu:if(e===sW||e===p1)break e;case $y:if(t.last){h>>>=m&7,m-=m&7,t.mode=Xy;break}for(;m<3;){if(c===0)break e;c--,h+=r[a++]<<m,m+=8}switch(t.last=h&1,h>>>=1,m-=1,h&3){case 0:t.mode=fA;break;case 1:if(gW(t),t.mode=g1,e===p1){h>>>=2,m-=2;break e}break;case 2:t.mode=mA;break;case 3:n.msg="invalid block type",t.mode=mi}h>>>=2,m-=2;break;case fA:for(h>>>=m&7,m-=m&7;m<32;){if(c===0)break e;c--,h+=r[a++]<<m,m+=8}if((h&65535)!==(h>>>16^65535)){n.msg="invalid stored block lengths",t.mode=mi;break}if(t.length=h&65535,h=0,m=0,t.mode=Ky,e===p1)break e;case Ky:t.mode=dA;case dA:if(v=t.length,v){if(v>c&&(v=c),v>u&&(v=u),v===0)break e;i.set(r.subarray(a,a+v),o),c-=v,a+=v,u-=v,o+=v,t.length-=v;break}t.mode=vu;break;case mA:for(;m<14;){if(c===0)break e;c--,h+=r[a++]<<m,m+=8}if(t.nlen=(h&31)+257,h>>>=5,m-=5,t.ndist=(h&31)+1,h>>>=5,m-=5,t.ncode=(h&15)+4,h>>>=4,m-=4,t.nlen>286||t.ndist>30){n.msg="too many length or distance symbols",t.mode=mi;break}t.have=0,t.mode=pA;case pA:for(;t.have<t.ncode;){for(;m<3;){if(c===0)break e;c--,h+=r[a++]<<m,m+=8}t.lens[M[t.have++]]=h&7,h>>>=3,m-=3}for(;t.have<19;)t.lens[M[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,z={bits:t.lenbits},k=op(aW,t.lens,0,19,t.lencode,0,t.work,z),t.lenbits=z.bits,k){n.msg="invalid code lengths set",t.mode=mi;break}t.have=0,t.mode=gA;case gA:for(;t.have<t.nlen+t.ndist;){for(;T=t.lencode[h&(1<<t.lenbits)-1],N=T>>>24,P=T>>>16&255,R=T&65535,!(N<=m);){if(c===0)break e;c--,h+=r[a++]<<m,m+=8}if(R<16)h>>>=N,m-=N,t.lens[t.have++]=R;else{if(R===16){for(O=N+2;m<O;){if(c===0)break e;c--,h+=r[a++]<<m,m+=8}if(h>>>=N,m-=N,t.have===0){n.msg="invalid bit length repeat",t.mode=mi;break}C=t.lens[t.have-1],v=3+(h&3),h>>>=2,m-=2}else if(R===17){for(O=N+3;m<O;){if(c===0)break e;c--,h+=r[a++]<<m,m+=8}h>>>=N,m-=N,C=0,v=3+(h&7),h>>>=3,m-=3}else{for(O=N+7;m<O;){if(c===0)break e;c--,h+=r[a++]<<m,m+=8}h>>>=N,m-=N,C=0,v=11+(h&127),h>>>=7,m-=7}if(t.have+v>t.nlen+t.ndist){n.msg="invalid bit length repeat",t.mode=mi;break}for(;v--;)t.lens[t.have++]=C}}if(t.mode===mi)break;if(t.lens[256]===0){n.msg="invalid code -- missing end-of-block",t.mode=mi;break}if(t.lenbits=9,z={bits:t.lenbits},k=op(mR,t.lens,0,t.nlen,t.lencode,0,t.work,z),t.lenbits=z.bits,k){n.msg="invalid literal/lengths set",t.mode=mi;break}if(t.distbits=6,t.distcode=t.distdyn,z={bits:t.distbits},k=op(pR,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,z),t.distbits=z.bits,k){n.msg="invalid distances set",t.mode=mi;break}if(t.mode=g1,e===p1)break e;case g1:t.mode=v1;case v1:if(c>=6&&u>=258){n.next_out=o,n.avail_out=u,n.next_in=a,n.avail_in=c,t.hold=h,t.bits=m,ZG(n,_),o=n.next_out,i=n.output,u=n.avail_out,a=n.next_in,r=n.input,c=n.avail_in,h=t.hold,m=t.bits,t.mode===vu&&(t.back=-1);break}for(t.back=0;T=t.lencode[h&(1<<t.lenbits)-1],N=T>>>24,P=T>>>16&255,R=T&65535,!(N<=m);){if(c===0)break e;c--,h+=r[a++]<<m,m+=8}if(P&&(P&240)===0){for(j=N,K=P,U=R;T=t.lencode[U+((h&(1<<j+K)-1)>>j)],N=T>>>24,P=T>>>16&255,R=T&65535,!(j+N<=m);){if(c===0)break e;c--,h+=r[a++]<<m,m+=8}h>>>=j,m-=j,t.back+=j}if(h>>>=N,m-=N,t.back+=N,t.length=R,P===0){t.mode=wA;break}if(P&32){t.back=-1,t.mode=vu;break}if(P&64){n.msg="invalid literal/length code",t.mode=mi;break}t.extra=P&15,t.mode=vA;case vA:if(t.extra){for(O=t.extra;m<O;){if(c===0)break e;c--,h+=r[a++]<<m,m+=8}t.length+=h&(1<<t.extra)-1,h>>>=t.extra,m-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=_A;case _A:for(;T=t.distcode[h&(1<<t.distbits)-1],N=T>>>24,P=T>>>16&255,R=T&65535,!(N<=m);){if(c===0)break e;c--,h+=r[a++]<<m,m+=8}if((P&240)===0){for(j=N,K=P,U=R;T=t.distcode[U+((h&(1<<j+K)-1)>>j)],N=T>>>24,P=T>>>16&255,R=T&65535,!(j+N<=m);){if(c===0)break e;c--,h+=r[a++]<<m,m+=8}h>>>=j,m-=j,t.back+=j}if(h>>>=N,m-=N,t.back+=N,P&64){n.msg="invalid distance code",t.mode=mi;break}t.offset=R,t.extra=P&15,t.mode=yA;case yA:if(t.extra){for(O=t.extra;m<O;){if(c===0)break e;c--,h+=r[a++]<<m,m+=8}t.offset+=h&(1<<t.extra)-1,h>>>=t.extra,m-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){n.msg="invalid distance too far back",t.mode=mi;break}t.mode=xA;case xA:if(u===0)break e;if(v=_-u,t.offset>v){if(v=t.offset-v,v>t.whave&&t.sane){n.msg="invalid distance too far back",t.mode=mi;break}v>t.wnext?(v-=t.wnext,b=t.wsize-v):b=t.wnext-v,v>t.length&&(v=t.length),w=t.window}else w=i,b=o-t.offset,v=t.length;v>u&&(v=u),u-=v,t.length-=v;do i[o++]=w[b++];while(--v);t.length===0&&(t.mode=v1);break;case wA:if(u===0)break e;i[o++]=t.length,u--,t.mode=v1;break;case Xy:if(t.wrap){for(;m<32;){if(c===0)break e;c--,h|=r[a++]<<m,m+=8}if(_-=u,n.total_out+=_,t.total+=_,t.wrap&4&&_&&(n.adler=t.check=t.flags?Ec(t.check,i,_,o-_):u5(t.check,i,_,o-_)),_=u,t.wrap&4&&(t.flags?h:SA(h))!==t.check){n.msg="incorrect data check",t.mode=mi;break}h=0,m=0}t.mode=bA;case bA:if(t.wrap&&t.flags){for(;m<32;){if(c===0)break e;c--,h+=r[a++]<<m,m+=8}if(t.wrap&4&&h!==(t.total&4294967295)){n.msg="incorrect length check",t.mode=mi;break}h=0,m=0}t.mode=EA;case EA:k=oW;break e;case mi:k=gR;break e;case _R:return vR;case yR:default:return vl}return n.next_out=o,n.avail_out=u,n.next_in=a,n.avail_in=c,t.hold=h,t.bits=m,(t.wsize||_!==n.avail_out&&t.mode<mi&&(t.mode<Xy||e!==tA))&&SR(n,n.output,n.next_out,_-n.avail_out),g-=n.avail_in,_-=n.avail_out,n.total_in+=g,n.total_out+=_,t.total+=_,t.wrap&4&&_&&(n.adler=t.check=t.flags?Ec(t.check,i,_,n.next_out-_):u5(t.check,i,_,n.next_out-_)),n.data_type=t.bits+(t.last?64:0)+(t.mode===vu?128:0)+(t.mode===g1||t.mode===Ky?256:0),(g===0&&_===0||e===tA)&&k===Ff&&(k=cW),k},_W=n=>{if(Qf(n))return vl;let e=n.state;return e.window&&(e.window=null),n.state=null,Ff},yW=(n,e)=>{if(Qf(n))return vl;const t=n.state;return(t.wrap&2)===0?vl:(t.head=e,e.done=!1,Ff)},xW=(n,e)=>{const t=e.length;let r,i,a;return Qf(n)||(r=n.state,r.wrap!==0&&r.mode!==b2)?vl:r.mode===b2&&(i=1,i=u5(i,e,t,0),i!==r.check)?gR:(a=SR(n,e,t,t),a?(r.mode=_R,vR):(r.havedict=1,Ff))};var wW=wR,bW=bR,EW=xR,SW=pW,TW=ER,AW=vW,NW=_W,CW=yW,IW=xW,RW="pako inflate (from Nodeca project)",_u={inflateReset:wW,inflateReset2:bW,inflateResetKeep:EW,inflateInit:SW,inflateInit2:TW,inflate:AW,inflateEnd:NW,inflateGetHeader:CW,inflateSetDictionary:IW,inflateInfo:RW};function kW(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var OW=kW;const TR=Object.prototype.toString,{Z_NO_FLUSH:DW,Z_FINISH:LW,Z_OK:Tp,Z_STREAM_END:Zy,Z_NEED_DICT:ex,Z_STREAM_ERROR:jW,Z_DATA_ERROR:AA,Z_MEM_ERROR:MW}=hR;function tg(n){this.options=fR.assign({chunkSize:1024*64,windowBits:15,to:""},n||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(n&&n.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new JG,this.strm.avail_out=0;let t=_u.inflateInit2(this.strm,e.windowBits);if(t!==Tp)throw new Error(h5[t]);if(this.header=new OW,_u.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=f5.string2buf(e.dictionary):TR.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=_u.inflateSetDictionary(this.strm,e.dictionary),t!==Tp)))throw new Error(h5[t])}tg.prototype.push=function(n,e){const t=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let a,o,c;if(this.ended)return!1;for(e===~~e?o=e:o=e===!0?LW:DW,TR.call(n)==="[object ArrayBuffer]"?t.input=new Uint8Array(n):t.input=n,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(r),t.next_out=0,t.avail_out=r),a=_u.inflate(t,o),a===ex&&i&&(a=_u.inflateSetDictionary(t,i),a===Tp?a=_u.inflate(t,o):a===AA&&(a=ex));t.avail_in>0&&a===Zy&&t.state.wrap>0&&n[t.next_in]!==0;)_u.inflateReset(t),a=_u.inflate(t,o);switch(a){case jW:case AA:case ex:case MW:return this.onEnd(a),this.ended=!0,!1}if(c=t.avail_out,t.next_out&&(t.avail_out===0||a===Zy))if(this.options.to==="string"){let u=f5.utf8border(t.output,t.next_out),h=t.next_out-u,m=f5.buf2string(t.output,u);t.next_out=h,t.avail_out=r-h,h&&t.output.set(t.output.subarray(u,u+h),0),this.onData(m)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(a===Tp&&c===0)){if(a===Zy)return a=_u.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};tg.prototype.onData=function(n){this.chunks.push(n)};tg.prototype.onEnd=function(n){n===Tp&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=fR.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};function PW(n,e){const t=new tg(e);if(t.push(n),t.err)throw t.msg||h5[t.err];return t.result}var FW=tg,BW=PW,UW={Inflate:FW,inflate:BW};const{Inflate:VW,inflate:zW}=UW;var NA=VW,qW=zW;const AR=[];for(let n=0;n<256;n++){let e=n;for(let t=0;t<8;t++)e&1?e=3988292384^e>>>1:e=e>>>1;AR[n]=e}const CA=4294967295;function HW(n,e,t){let r=n;for(let i=0;i<t;i++)r=AR[(r^e[i])&255]^r>>>8;return r}function GW(n,e){return(HW(CA,n,e)^CA)>>>0}function IA(n,e,t){const r=n.readUint32(),i=GW(new Uint8Array(n.buffer,n.byteOffset+n.offset-e-4,e),e);if(i!==r)throw new Error(`CRC mismatch for chunk ${t}. Expected ${r}, found ${i}`)}function NR(n,e,t){for(let r=0;r<t;r++)e[r]=n[r]}function CR(n,e,t,r){let i=0;for(;i<r;i++)e[i]=n[i];for(;i<t;i++)e[i]=n[i]+e[i-r]&255}function IR(n,e,t,r){let i=0;if(t.length===0)for(;i<r;i++)e[i]=n[i];else for(;i<r;i++)e[i]=n[i]+t[i]&255}function RR(n,e,t,r,i){let a=0;if(t.length===0){for(;a<i;a++)e[a]=n[a];for(;a<r;a++)e[a]=n[a]+(e[a-i]>>1)&255}else{for(;a<i;a++)e[a]=n[a]+(t[a]>>1)&255;for(;a<r;a++)e[a]=n[a]+(e[a-i]+t[a]>>1)&255}}function kR(n,e,t,r,i){let a=0;if(t.length===0){for(;a<i;a++)e[a]=n[a];for(;a<r;a++)e[a]=n[a]+e[a-i]&255}else{for(;a<i;a++)e[a]=n[a]+t[a]&255;for(;a<r;a++)e[a]=n[a]+WW(e[a-i],t[a],t[a-i])&255}}function WW(n,e,t){const r=n+e-t,i=Math.abs(r-n),a=Math.abs(r-e),o=Math.abs(r-t);return i<=a&&i<=o?n:a<=o?e:t}function YW(n,e,t,r,i,a){switch(n){case 0:NR(e,t,i);break;case 1:CR(e,t,i,a);break;case 2:IR(e,t,r,i);break;case 3:RR(e,t,r,i,a);break;case 4:kR(e,t,r,i,a);break;default:throw new Error(`Unsupported filter: ${n}`)}}const $W=new Uint16Array([255]),KW=new Uint8Array($W.buffer),XW=KW[0]===255;function JW(n){const{data:e,width:t,height:r,channels:i,depth:a}=n,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],c=Math.ceil(a/8)*i,u=new Uint8Array(r*t*c);let h=0;for(let m=0;m<7;m++){const g=o[m],_=Math.ceil((t-g.x)/g.xStep),v=Math.ceil((r-g.y)/g.yStep);if(_<=0||v<=0)continue;const b=_*c,w=new Uint8Array(b);for(let T=0;T<v;T++){const N=e[h++],P=e.subarray(h,h+b);h+=b;const R=new Uint8Array(b);YW(N,P,R,w,b,c),w.set(R);for(let j=0;j<_;j++){const K=g.x+j*g.xStep,U=g.y+T*g.yStep;if(!(K>=t||U>=r))for(let C=0;C<c;C++)u[(U*t+K)*c+C]=R[j*c+C]}}}if(a===16){const m=new Uint16Array(u.buffer);if(XW)for(let g=0;g<m.length;g++)m[g]=QW(m[g]);return m}else return u}function QW(n){return(n&255)<<8|n>>8&255}const ZW=new Uint16Array([255]),eY=new Uint8Array(ZW.buffer),tY=eY[0]===255,nY=new Uint8Array(0);function RA(n){const{data:e,width:t,height:r,channels:i,depth:a}=n,o=Math.ceil(a/8)*i,c=Math.ceil(a/8*i*t),u=new Uint8Array(r*c);let h=nY,m=0,g,_;for(let v=0;v<r;v++){switch(g=e.subarray(m+1,m+1+c),_=u.subarray(v*c,(v+1)*c),e[m]){case 0:NR(g,_,c);break;case 1:CR(g,_,c,o);break;case 2:IR(g,_,h,c);break;case 3:RR(g,_,h,c,o);break;case 4:kR(g,_,h,c,o);break;default:throw new Error(`Unsupported filter: ${e[m]}`)}h=_,m+=c+1}if(a===16){const v=new Uint16Array(u.buffer);if(tY)for(let b=0;b<v.length;b++)v[b]=rY(v[b]);return v}else return u}function rY(n){return(n&255)<<8|n>>8&255}const $1=Uint8Array.of(137,80,78,71,13,10,26,10);function kA(n){if(!iY(n.readBytes($1.length)))throw new Error("wrong PNG signature")}function iY(n){if(n.length<$1.length)return!1;for(let e=0;e<$1.length;e++)if(n[e]!==$1[e])return!1;return!0}const aY="tEXt",sY=0,OR=new TextDecoder("latin1");function oY(n){if(cY(n),n.length===0||n.length>79)throw new Error("keyword length must be between 1 and 79")}const lY=/^[\u0000-\u00FF]*$/;function cY(n){if(!lY.test(n))throw new Error("invalid latin1 text")}function uY(n,e,t){const r=DR(e);n[r]=hY(e,t-r.length-1)}function DR(n){for(n.mark();n.readByte()!==sY;);const e=n.offset;n.reset();const t=OR.decode(n.readBytes(e-n.offset-1));return n.skip(1),oY(t),t}function hY(n,e){return OR.decode(n.readBytes(e))}const Do={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},tx={UNKNOWN:-1,DEFLATE:0},OA={UNKNOWN:-1,ADAPTIVE:0},nx={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},_1={NONE:0,BACKGROUND:1,PREVIOUS:2},rx={SOURCE:0,OVER:1};class fY extends ib{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,t={}){super(e);const{checkCrc:r=!1}=t;this._checkCrc=r,this._inflator=new NA,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=tx.UNKNOWN,this._filterMethod=OA.UNKNOWN,this._interlaceMethod=nx.UNKNOWN,this._colorType=Do.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(kA(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeChunk(e,t)}return this.decodeImage(),this._png}decodeApng(){for(kA(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeApngChunk(e,t)}return this.decodeApngImage(),this._apng}decodeChunk(e,t){const r=this.offset;switch(t){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case aY:uY(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?IA(this,e+4,t):this.skip(4)}decodeApngChunk(e,t){const r=this.offset;switch(t!=="fdAT"&&t!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),t){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,t),this.offset=r+e;break}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?IA(this,e+4,t):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=dY(this.readUint8());const t=this.readUint8();this._colorType=t;let r;switch(t){case Do.GREYSCALE:r=1;break;case Do.TRUECOLOUR:r=3;break;case Do.INDEXED_COLOUR:r=1;break;case Do.GREYSCALE_ALPHA:r=2;break;case Do.TRUECOLOUR_ALPHA:r=4;break;case Do.UNKNOWN:default:throw new Error(`Unknown color type: ${t}`)}if(this._png.channels=r,this._compressionMethod=this.readUint8(),this._compressionMethod!==tx.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const t=e/3;this._hasPalette=!0;const r=[];this._palette=r;for(let i=0;i<t;i++)r.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const t=e,r=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,r,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let t=e,r=this.offset+this.byteOffset;if(r+=4,t-=4,this._inflator.push(new Uint8Array(this.buffer,r,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case Do.GREYSCALE:case Do.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let t=0;t<e/2;t++)this._transparency[t]=this.readUint16();break}case Do.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let t=0;for(;t<e;t++){const r=this.readByte();this._palette[t].push(r)}for(;t<this._palette.length;t++)this._palette[t].push(255);break}case Do.UNKNOWN:case Do.GREYSCALE_ALPHA:case Do.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const t=DR(this),r=this.readUint8();if(r!==tx.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${r}`);const i=this.readBytes(e-t.length-2);this._png.iccEmbeddedProfile={name:t,profile:qW(i)}}decodepHYs(){const e=this.readUint32(),t=this.readUint32(),r=this.readByte();this._png.resolution={x:e,y:t,unit:r}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const t={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},r=this._frames.at(e);if(r){if(r.data=RA({data:r.data,width:r.width,height:r.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||r.xOffset===0&&r.yOffset===0&&r.width===this._png.width&&r.height===this._png.height)t.data=r.data;else{const i=this._apng.frames.at(e-1);this.disposeFrame(r,i,t),this.addFrameDataToCanvas(t,r)}this._apng.frames.push(t)}}return this._apng}disposeFrame(e,t,r){switch(e.disposeOp){case _1.NONE:break;case _1.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let a=0;a<this._png.width;a++){const o=(i*e.width+a)*this._png.channels;for(let c=0;c<this._png.channels;c++)r.data[o+c]=0}break;case _1.PREVIOUS:r.data.set(t.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,t){const r=1<<this._png.depth,i=(a,o)=>{const c=((a+t.yOffset)*this._png.width+t.xOffset+o)*this._png.channels,u=(a*t.width+o)*this._png.channels;return{index:c,frameIndex:u}};switch(t.blendOp){case rx.SOURCE:for(let a=0;a<t.height;a++)for(let o=0;o<t.width;o++){const{index:c,frameIndex:u}=i(a,o);for(let h=0;h<this._png.channels;h++)e.data[c+h]=t.data[u+h]}break;case rx.OVER:for(let a=0;a<t.height;a++)for(let o=0;o<t.width;o++){const{index:c,frameIndex:u}=i(a,o);for(let h=0;h<this._png.channels;h++){const m=t.data[u+this._png.channels-1]/r,g=h%(this._png.channels-1)===0?1:t.data[u+h],_=Math.floor(m*g+(1-m)*e.data[c+h]);e.data[c+h]+=_}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==OA.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===nx.NO_INTERLACE)this._png.data=RA({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===nx.ADAM7)this._png.data=JW({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,t=this._frames.at(-1);t?t.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:_1.NONE,blendOp:rx.SOURCE,data:e}),this._inflator=new NA,this._writingDataChunks=!1}}function dY(n){if(n!==1&&n!==2&&n!==4&&n!==8&&n!==16)throw new Error(`invalid bit depth: ${n}`);return n}var DA;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.METRE=1]="METRE"})(DA||(DA={}));function mY(n,e){return new fY(n,e).decode()}var Nn=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function ix(){Nn.console&&typeof Nn.console.log=="function"&&Nn.console.log.apply(Nn.console,arguments)}var Yr={log:ix,warn:function(n){Nn.console&&(typeof Nn.console.warn=="function"?Nn.console.warn.apply(Nn.console,arguments):ix.call(null,arguments))},error:function(n){Nn.console&&(typeof Nn.console.error=="function"?Nn.console.error.apply(Nn.console,arguments):ix(n))}};function ax(n,e,t){var r=new XMLHttpRequest;r.open("GET",n),r.responseType="blob",r.onload=function(){yf(r.response,e,t)},r.onerror=function(){Yr.error("could not download file")},r.send()}function LA(n){var e=new XMLHttpRequest;e.open("HEAD",n,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function y1(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(e)}}var yf=Nn.saveAs||((typeof window>"u"?"undefined":Cr(window))!=="object"||window!==Nn?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,e,t){var r=Nn.URL||Nn.webkitURL,i=document.createElement("a");e=e||n.name||"download",i.download=e,i.rel="noopener",typeof n=="string"?(i.href=n,i.origin!==location.origin?LA(i.href)?ax(n,e,t):y1(i,i.target="_blank"):y1(i)):(i.href=r.createObjectURL(n),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){y1(i)},0))}:"msSaveOrOpenBlob"in navigator?function(n,e,t){if(e=e||n.name||"download",typeof n=="string")if(LA(n))ax(n,e,t);else{var r=document.createElement("a");r.href=n,r.target="_blank",setTimeout(function(){y1(r)})}else navigator.msSaveOrOpenBlob((function(i,a){return a===void 0?a={autoBom:!1}:Cr(a)!=="object"&&(Yr.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i})(n,t),e)}:function(n,e,t,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof n=="string")return ax(n,e,t);var i=n.type==="application/octet-stream",a=/constructor/i.test(Nn.HTMLElement)||Nn.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&a)&&(typeof FileReader>"u"?"undefined":Cr(FileReader))==="object"){var c=new FileReader;c.onloadend=function(){var m=c.result;m=o?m:m.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=m:location=m,r=null},c.readAsDataURL(n)}else{var u=Nn.URL||Nn.webkitURL,h=u.createObjectURL(n);r?r.location=h:location.href=h,r=null,setTimeout(function(){u.revokeObjectURL(h)},4e4)}});function LR(n){var e;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(c){return[parseInt(c[1]),parseInt(c[2]),parseInt(c[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(c){return[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(c){return[parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16)]}}],r=0;r<t.length;r++){var i=t[r].re,a=t[r].process,o=i.exec(n);o&&(e=a(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var c=this.r.toString(16),u=this.g.toString(16),h=this.b.toString(16);return c.length==1&&(c="0"+c),u.length==1&&(u="0"+u),h.length==1&&(h="0"+h),"#"+c+u+h}}var K1=Nn.atob.bind(Nn),jA=Nn.btoa.bind(Nn);function sx(n,e){var t=n[0],r=n[1],i=n[2],a=n[3];t=_s(t,r,i,a,e[0],7,-680876936),a=_s(a,t,r,i,e[1],12,-389564586),i=_s(i,a,t,r,e[2],17,606105819),r=_s(r,i,a,t,e[3],22,-1044525330),t=_s(t,r,i,a,e[4],7,-176418897),a=_s(a,t,r,i,e[5],12,1200080426),i=_s(i,a,t,r,e[6],17,-1473231341),r=_s(r,i,a,t,e[7],22,-45705983),t=_s(t,r,i,a,e[8],7,1770035416),a=_s(a,t,r,i,e[9],12,-1958414417),i=_s(i,a,t,r,e[10],17,-42063),r=_s(r,i,a,t,e[11],22,-1990404162),t=_s(t,r,i,a,e[12],7,1804603682),a=_s(a,t,r,i,e[13],12,-40341101),i=_s(i,a,t,r,e[14],17,-1502002290),t=ys(t,r=_s(r,i,a,t,e[15],22,1236535329),i,a,e[1],5,-165796510),a=ys(a,t,r,i,e[6],9,-1069501632),i=ys(i,a,t,r,e[11],14,643717713),r=ys(r,i,a,t,e[0],20,-373897302),t=ys(t,r,i,a,e[5],5,-701558691),a=ys(a,t,r,i,e[10],9,38016083),i=ys(i,a,t,r,e[15],14,-660478335),r=ys(r,i,a,t,e[4],20,-405537848),t=ys(t,r,i,a,e[9],5,568446438),a=ys(a,t,r,i,e[14],9,-1019803690),i=ys(i,a,t,r,e[3],14,-187363961),r=ys(r,i,a,t,e[8],20,1163531501),t=ys(t,r,i,a,e[13],5,-1444681467),a=ys(a,t,r,i,e[2],9,-51403784),i=ys(i,a,t,r,e[7],14,1735328473),t=xs(t,r=ys(r,i,a,t,e[12],20,-1926607734),i,a,e[5],4,-378558),a=xs(a,t,r,i,e[8],11,-2022574463),i=xs(i,a,t,r,e[11],16,1839030562),r=xs(r,i,a,t,e[14],23,-35309556),t=xs(t,r,i,a,e[1],4,-1530992060),a=xs(a,t,r,i,e[4],11,1272893353),i=xs(i,a,t,r,e[7],16,-155497632),r=xs(r,i,a,t,e[10],23,-1094730640),t=xs(t,r,i,a,e[13],4,681279174),a=xs(a,t,r,i,e[0],11,-358537222),i=xs(i,a,t,r,e[3],16,-722521979),r=xs(r,i,a,t,e[6],23,76029189),t=xs(t,r,i,a,e[9],4,-640364487),a=xs(a,t,r,i,e[12],11,-421815835),i=xs(i,a,t,r,e[15],16,530742520),t=ws(t,r=xs(r,i,a,t,e[2],23,-995338651),i,a,e[0],6,-198630844),a=ws(a,t,r,i,e[7],10,1126891415),i=ws(i,a,t,r,e[14],15,-1416354905),r=ws(r,i,a,t,e[5],21,-57434055),t=ws(t,r,i,a,e[12],6,1700485571),a=ws(a,t,r,i,e[3],10,-1894986606),i=ws(i,a,t,r,e[10],15,-1051523),r=ws(r,i,a,t,e[1],21,-2054922799),t=ws(t,r,i,a,e[8],6,1873313359),a=ws(a,t,r,i,e[15],10,-30611744),i=ws(i,a,t,r,e[6],15,-1560198380),r=ws(r,i,a,t,e[13],21,1309151649),t=ws(t,r,i,a,e[4],6,-145523070),a=ws(a,t,r,i,e[11],10,-1120210379),i=ws(i,a,t,r,e[2],15,718787259),r=ws(r,i,a,t,e[9],21,-343485551),n[0]=Nh(t,n[0]),n[1]=Nh(r,n[1]),n[2]=Nh(i,n[2]),n[3]=Nh(a,n[3])}function Sv(n,e,t,r,i,a){return e=Nh(Nh(e,n),Nh(r,a)),Nh(e<<i|e>>>32-i,t)}function _s(n,e,t,r,i,a,o){return Sv(e&t|~e&r,n,e,i,a,o)}function ys(n,e,t,r,i,a,o){return Sv(e&r|t&~r,n,e,i,a,o)}function xs(n,e,t,r,i,a,o){return Sv(e^t^r,n,e,i,a,o)}function ws(n,e,t,r,i,a,o){return Sv(t^(e|~r),n,e,i,a,o)}function jR(n){var e,t=n.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=n.length;e+=64)sx(r,pY(n.substring(e-64,e)));n=n.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<n.length;e++)i[e>>2]|=n.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(sx(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*t,sx(r,i),r}function pY(n){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=n.charCodeAt(e)+(n.charCodeAt(e+1)<<8)+(n.charCodeAt(e+2)<<16)+(n.charCodeAt(e+3)<<24);return t}var MA="0123456789abcdef".split("");function gY(n){for(var e="",t=0;t<4;t++)e+=MA[n>>8*t+4&15]+MA[n>>8*t&15];return e}function vY(n){return String.fromCharCode(255&n,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function d5(n){return jR(n).map(vY).join("")}var _Y=(function(n){for(var e=0;e<n.length;e++)n[e]=gY(n[e]);return n.join("")})(jR("hello"))!="5d41402abc4b2a76b9719d911017c592";function Nh(n,e){if(_Y){var t=(65535&n)+(65535&e);return(n>>16)+(e>>16)+(t>>16)<<16|65535&t}return n+e&4294967295}function m5(n,e){var t,r,i,a;if(n!==t){for(var o=(i=n,a=1+(256/n.length|0),new Array(a+1).join(i)),c=[],u=0;u<256;u++)c[u]=u;var h=0;for(u=0;u<256;u++){var m=c[u];h=(h+m+o.charCodeAt(u))%256,c[u]=c[h],c[h]=m}t=n,r=c}else c=r;var g=e.length,_=0,v=0,b="";for(u=0;u<g;u++)v=(v+(m=c[_=(_+1)%256]))%256,c[_]=c[v],c[v]=m,o=c[(c[_]+c[v])%256],b+=String.fromCharCode(e.charCodeAt(u)^o);return b}var PA={print:4,modify:8,copy:16,"annot-forms":32};function t0(n,e,t,r){this.v=1,this.r=2;var i=192;n.forEach(function(c){if(PA.perm!==void 0)throw new Error("Invalid permission: "+c);i+=PA[c]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var a=(e+this.padding).substr(0,32),o=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,o),this.P=-(1+(255^i)),this.encryptionKey=d5(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=m5(this.encryptionKey,this.padding)}function n0(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var e="",t=n.length,r=0;r<t;r++){var i=n.charCodeAt(r);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):n[r]}return e}function FA(n){if(Cr(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,r,i){if(i=i||!1,typeof t!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var a=Math.random().toString(35);return e[t][a]=[r,!!i],a},this.unsubscribe=function(t){for(var r in e)if(e[r][t])return delete e[r][t],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var a in e[t]){var o=e[t][a];try{o[0].apply(n,r)}catch(c){Nn.console&&Yr.error("jsPDF PubSub Error",c.message,c)}o[1]&&i.push(a)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function E2(n){if(!(this instanceof E2))return new E2(n);var e="opacity,stroke-opacity".split(",");for(var t in n)n.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=n[t]);this.id="",this.objectNumber=-1}function MR(n,e){this.gState=n,this.matrix=e,this.id="",this.objectNumber=-1}function xf(n,e,t,r,i){if(!(this instanceof xf))return new xf(n,e,t,r,i);this.type=n==="axial"?2:3,this.coords=e,this.colors=t,MR.call(this,r,i)}function a0(n,e,t,r,i){if(!(this instanceof a0))return new a0(n,e,t,r,i);this.boundingBox=n,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,MR.call(this,r,i)}function hn(n){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],a=arguments[3],o=[],c=1,u=16,h="S",m=null;Cr(n=n||{})==="object"&&(t=n.orientation,r=n.unit||r,i=n.format||i,a=n.compress||n.compressPdf||a,(m=n.encryption||null)!==null&&(m.userPassword=m.userPassword||"",m.ownerPassword=m.ownerPassword||"",m.userPermissions=m.userPermissions||[]),c=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(e=n.precision),n.floatPrecision!==void 0&&(u=n.floatPrecision),h=n.defaultPathOperation||"S"),o=n.filters||(a===!0?["FlateEncode"]:o),r=r||"mm",t=(""+(t||"P")).toLowerCase();var g=n.putOnlyUsedFonts||!1,_={},v={internal:{},__private__:{}};v.__private__.PubSub=FA;var b="1.3",w=v.__private__.getPdfVersion=function(){return b};v.__private__.setPdfVersion=function(D){b=D};var T={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};v.__private__.getPageFormats=function(){return T};var N=v.__private__.getPageFormat=function(D){return T[D]};i=i||"a4";var P="compat",R="advanced",j=P;function K(){this.saveGraphicsState(),Z(new ln(Wt,0,0,-Wt,0,Os()*Wt).toString()+" cm"),this.setFontSize(this.getFontSize()/Wt),h="n",j=R}function U(){this.restoreGraphicsState(),h="S",j=P}var C=v.__private__.combineFontStyleAndFontWeight=function(D,ee){if(D=="bold"&&ee=="normal"||D=="bold"&&ee==400||D=="normal"&&ee=="italic"||D=="bold"&&ee=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return ee&&(D=ee==400||ee==="normal"?D==="italic"?"italic":"normal":ee!=700&&ee!=="bold"||D!=="normal"?(ee==700?"bold":ee)+""+D:"bold"),D};v.advancedAPI=function(D){var ee=j===P;return ee&&K.call(this),typeof D!="function"||(D(this),ee&&U.call(this)),this},v.compatAPI=function(D){var ee=j===R;return ee&&U.call(this),typeof D!="function"||(D(this),ee&&K.call(this)),this},v.isAdvancedAPI=function(){return j===R};var k,I=function(D){if(j!==R)throw new Error(D+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},z=v.roundToPrecision=v.__private__.roundToPrecision=function(D,ee){var be=e||ee;if(isNaN(D)||isNaN(be))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return D.toFixed(be).replace(/0+$/,"")};k=v.hpf=v.__private__.hpf=typeof u=="number"?function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.hpf");return z(D,u)}:u==="smart"?function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.hpf");return z(D,D>-1&&D<1?16:5)}:function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.hpf");return z(D,16)};var O=v.f2=v.__private__.f2=function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.f2");return z(D,2)},M=v.__private__.f3=function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.f3");return z(D,3)},B=v.scale=v.__private__.scale=function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.scale");return j===P?D*Wt:j===R?D:void 0},Y=function(D){return B((function(ee){return j===P?Os()-ee:j===R?ee:void 0})(D))};v.__private__.setPrecision=v.setPrecision=function(D){typeof parseInt(D,10)=="number"&&(e=parseInt(D,10))};var we,fe="00000000000000000000000000000000",le=v.__private__.getFileId=function(){return fe},pe=v.__private__.setFileId=function(D){return fe=D!==void 0&&/^[a-fA-F0-9]{32}$/.test(D)?D.toUpperCase():fe.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),m!==null&&(qr=new t0(m.userPermissions,m.userPassword,m.ownerPassword,fe)),fe};v.setFileId=function(D){return pe(D),this},v.getFileId=function(){return le()};var Ie=v.__private__.convertDateToPDFDate=function(D){var ee=D.getTimezoneOffset(),be=ee<0?"+":"-",Re=Math.floor(Math.abs(ee/60)),Le=Math.abs(ee%60),ct=[be,q(Re),"'",q(Le),"'"].join("");return["D:",D.getFullYear(),q(D.getMonth()+1),q(D.getDate()),q(D.getHours()),q(D.getMinutes()),q(D.getSeconds()),ct].join("")},Ae=v.__private__.convertPDFDateToDate=function(D){var ee=parseInt(D.substr(2,4),10),be=parseInt(D.substr(6,2),10)-1,Re=parseInt(D.substr(8,2),10),Le=parseInt(D.substr(10,2),10),ct=parseInt(D.substr(12,2),10),_t=parseInt(D.substr(14,2),10);return new Date(ee,be,Re,Le,ct,_t,0)},re=v.__private__.setCreationDate=function(D){var ee;if(D===void 0&&(D=new Date),D instanceof Date)ee=Ie(D);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(D))throw new Error("Invalid argument passed to jsPDF.setCreationDate");ee=D}return we=ee},L=v.__private__.getCreationDate=function(D){var ee=we;return D==="jsDate"&&(ee=Ae(we)),ee};v.setCreationDate=function(D){return re(D),this},v.getCreationDate=function(D){return L(D)};var G,q=v.__private__.padd2=function(D){return("0"+parseInt(D)).slice(-2)},J=v.__private__.padd2Hex=function(D){return("00"+(D=D.toString())).substr(D.length)},ae=0,ge=[],Te=[],Se=0,Ce=[],et=[],ot=!1,tt=Te;v.__private__.setCustomOutputDestination=function(D){ot=!0,tt=D};var it=function(D){ot||(tt=D)};v.__private__.resetCustomOutputDestination=function(){ot=!1,tt=Te};var Z=v.__private__.out=function(D){return D=D.toString(),Se+=D.length+1,tt.push(D),tt},Fe=v.__private__.write=function(D){return Z(arguments.length===1?D.toString():Array.prototype.join.call(arguments," "))},nt=v.__private__.getArrayBuffer=function(D){for(var ee=D.length,be=new ArrayBuffer(ee),Re=new Uint8Array(be);ee--;)Re[ee]=D.charCodeAt(ee);return be},It=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];v.__private__.getStandardFonts=function(){return It};var Qe=n.fontSize||16;v.__private__.setFontSize=v.setFontSize=function(D){return Qe=j===R?D/Wt:D,this};var At,Ke=v.__private__.getFontSize=v.getFontSize=function(){return j===P?Qe:Qe*Wt},ht=n.R2L||!1;v.__private__.setR2L=v.setR2L=function(D){return ht=D,this},v.__private__.getR2L=v.getR2L=function(){return ht};var Dt,kt=v.__private__.setZoomMode=function(D){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(D))At=D;else if(isNaN(D)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(D)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+D+'" is not recognized.');At=D}else At=parseInt(D,10)};v.__private__.getZoomMode=function(){return At};var qt,Vt=v.__private__.setPageMode=function(D){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(D)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+D+'" is not recognized.');Dt=D};v.__private__.getPageMode=function(){return Dt};var Gt=v.__private__.setLayoutMode=function(D){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(D)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+D+'" is not recognized.');qt=D};v.__private__.getLayoutMode=function(){return qt},v.__private__.setDisplayMode=v.setDisplayMode=function(D,ee,be){return kt(D),Gt(ee),Vt(be),this};var Ht={title:"",subject:"",author:"",keywords:"",creator:""};v.__private__.getDocumentProperty=function(D){if(Object.keys(Ht).indexOf(D)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Ht[D]},v.__private__.getDocumentProperties=function(){return Ht},v.__private__.setDocumentProperties=v.setProperties=v.setDocumentProperties=function(D){for(var ee in Ht)Ht.hasOwnProperty(ee)&&D[ee]&&(Ht[ee]=D[ee]);return this},v.__private__.setDocumentProperty=function(D,ee){if(Object.keys(Ht).indexOf(D)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Ht[D]=ee};var Mt,Wt,Lt,yn,zt,Ft={},Rt={},xt=[],Kt={},En={},We={},wt={},nn=null,Bt=0,Nt=[],xn=new FA(v),Kr=n.hotfixes||[],Ur={},Ji={},Vr=[],ln=function D(ee,be,Re,Le,ct,_t){if(!(this instanceof D))return new D(ee,be,Re,Le,ct,_t);isNaN(ee)&&(ee=1),isNaN(be)&&(be=0),isNaN(Re)&&(Re=0),isNaN(Le)&&(Le=1),isNaN(ct)&&(ct=0),isNaN(_t)&&(_t=0),this._matrix=[ee,be,Re,Le,ct,_t]};Object.defineProperty(ln.prototype,"sx",{get:function(){return this._matrix[0]},set:function(D){this._matrix[0]=D}}),Object.defineProperty(ln.prototype,"shy",{get:function(){return this._matrix[1]},set:function(D){this._matrix[1]=D}}),Object.defineProperty(ln.prototype,"shx",{get:function(){return this._matrix[2]},set:function(D){this._matrix[2]=D}}),Object.defineProperty(ln.prototype,"sy",{get:function(){return this._matrix[3]},set:function(D){this._matrix[3]=D}}),Object.defineProperty(ln.prototype,"tx",{get:function(){return this._matrix[4]},set:function(D){this._matrix[4]=D}}),Object.defineProperty(ln.prototype,"ty",{get:function(){return this._matrix[5]},set:function(D){this._matrix[5]=D}}),Object.defineProperty(ln.prototype,"a",{get:function(){return this._matrix[0]},set:function(D){this._matrix[0]=D}}),Object.defineProperty(ln.prototype,"b",{get:function(){return this._matrix[1]},set:function(D){this._matrix[1]=D}}),Object.defineProperty(ln.prototype,"c",{get:function(){return this._matrix[2]},set:function(D){this._matrix[2]=D}}),Object.defineProperty(ln.prototype,"d",{get:function(){return this._matrix[3]},set:function(D){this._matrix[3]=D}}),Object.defineProperty(ln.prototype,"e",{get:function(){return this._matrix[4]},set:function(D){this._matrix[4]=D}}),Object.defineProperty(ln.prototype,"f",{get:function(){return this._matrix[5]},set:function(D){this._matrix[5]=D}}),Object.defineProperty(ln.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(ln.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(ln.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(ln.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),ln.prototype.join=function(D){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(k).join(D)},ln.prototype.multiply=function(D){var ee=D.sx*this.sx+D.shy*this.shx,be=D.sx*this.shy+D.shy*this.sy,Re=D.shx*this.sx+D.sy*this.shx,Le=D.shx*this.shy+D.sy*this.sy,ct=D.tx*this.sx+D.ty*this.shx+this.tx,_t=D.tx*this.shy+D.ty*this.sy+this.ty;return new ln(ee,be,Re,Le,ct,_t)},ln.prototype.decompose=function(){var D=this.sx,ee=this.shy,be=this.shx,Re=this.sy,Le=this.tx,ct=this.ty,_t=Math.sqrt(D*D+ee*ee),Zt=(D/=_t)*be+(ee/=_t)*Re;be-=D*Zt,Re-=ee*Zt;var an=Math.sqrt(be*be+Re*Re);return Zt/=an,D*(Re/=an)<ee*(be/=an)&&(D=-D,ee=-ee,Zt=-Zt,_t=-_t),{scale:new ln(_t,0,0,an,0,0),translate:new ln(1,0,0,1,Le,ct),rotate:new ln(D,ee,-ee,D,0,0),skew:new ln(1,0,Zt,1,0,0)}},ln.prototype.toString=function(D){return this.join(" ")},ln.prototype.inversed=function(){var D=this.sx,ee=this.shy,be=this.shx,Re=this.sy,Le=this.tx,ct=this.ty,_t=1/(D*Re-ee*be),Zt=Re*_t,an=-ee*_t,gn=-be*_t,un=D*_t;return new ln(Zt,an,gn,un,-Zt*Le-gn*ct,-an*Le-un*ct)},ln.prototype.applyToPoint=function(D){var ee=D.x*this.sx+D.y*this.shx+this.tx,be=D.x*this.shy+D.y*this.sy+this.ty;return new Zi(ee,be)},ln.prototype.applyToRectangle=function(D){var ee=this.applyToPoint(D),be=this.applyToPoint(new Zi(D.x+D.w,D.y+D.h));return new Gs(ee.x,ee.y,be.x-ee.x,be.y-ee.y)},ln.prototype.clone=function(){var D=this.sx,ee=this.shy,be=this.shx,Re=this.sy,Le=this.tx,ct=this.ty;return new ln(D,ee,be,Re,Le,ct)},v.Matrix=ln;var Wa=v.matrixMult=function(D,ee){return ee.multiply(D)},_i=new ln(1,0,0,1,0,0);v.unitMatrix=v.identityMatrix=_i;var Xr=function(D,ee){if(!En[D]){var be=(ee instanceof xf?"Sh":"P")+(Object.keys(Kt).length+1).toString(10);ee.id=be,En[D]=be,Kt[be]=ee,xn.publish("addPattern",ee)}};v.ShadingPattern=xf,v.TilingPattern=a0,v.addShadingPattern=function(D,ee){return I("addShadingPattern()"),Xr(D,ee),this},v.beginTilingPattern=function(D){I("beginTilingPattern()"),Ws(D.boundingBox[0],D.boundingBox[1],D.boundingBox[2]-D.boundingBox[0],D.boundingBox[3]-D.boundingBox[1],D.matrix)},v.endTilingPattern=function(D,ee){I("endTilingPattern()"),ee.stream=et[G].join(`
`),Xr(D,ee),xn.publish("endTilingPattern",ee),Vr.pop().restore()};var Ci,tr=v.__private__.newObject=function(){var D=pr();return ne(D,!0),D},pr=v.__private__.newObjectDeferred=function(){return ae++,ge[ae]=function(){return Se},ae},ne=function(D,ee){return ee=typeof ee=="boolean"&&ee,ge[D]=Se,ee&&Z(D+" 0 obj"),D},_e=v.__private__.newAdditionalObject=function(){var D={objId:pr(),content:""};return Ce.push(D),D},ue=pr(),de=pr(),ve=v.__private__.decodeColorString=function(D){var ee=D.split(" ");if(ee.length!==2||ee[1]!=="g"&&ee[1]!=="G")ee.length!==5||ee[4]!=="k"&&ee[4]!=="K"||(ee=[(1-ee[0])*(1-ee[3]),(1-ee[1])*(1-ee[3]),(1-ee[2])*(1-ee[3]),"r"]);else{var be=parseFloat(ee[0]);ee=[be,be,be,"r"]}for(var Re="#",Le=0;Le<3;Le++)Re+=("0"+Math.floor(255*parseFloat(ee[Le])).toString(16)).slice(-2);return Re},ye=v.__private__.encodeColorString=function(D){var ee;typeof D=="string"&&(D={ch1:D});var be=D.ch1,Re=D.ch2,Le=D.ch3,ct=D.ch4,_t=D.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof be=="string"&&be.charAt(0)!=="#"){var Zt=new LR(be);if(Zt.ok)be=Zt.toHex();else if(!/^\d*\.?\d*$/.test(be))throw new Error('Invalid color "'+be+'" passed to jsPDF.encodeColorString.')}if(typeof be=="string"&&/^#[0-9A-Fa-f]{3}$/.test(be)&&(be="#"+be[1]+be[1]+be[2]+be[2]+be[3]+be[3]),typeof be=="string"&&/^#[0-9A-Fa-f]{6}$/.test(be)){var an=parseInt(be.substr(1),16);be=an>>16&255,Re=an>>8&255,Le=255&an}if(Re===void 0||ct===void 0&&be===Re&&Re===Le)ee=typeof be=="string"?be+" "+_t[0]:D.precision===2?O(be/255)+" "+_t[0]:M(be/255)+" "+_t[0];else if(ct===void 0||Cr(ct)==="object"){if(ct&&!isNaN(ct.a)&&ct.a===0)return["1.","1.","1.",_t[1]].join(" ");ee=typeof be=="string"?[be,Re,Le,_t[1]].join(" "):D.precision===2?[O(be/255),O(Re/255),O(Le/255),_t[1]].join(" "):[M(be/255),M(Re/255),M(Le/255),_t[1]].join(" ")}else ee=typeof be=="string"?[be,Re,Le,ct,_t[2]].join(" "):D.precision===2?[O(be),O(Re),O(Le),O(ct),_t[2]].join(" "):[M(be),M(Re),M(Le),M(ct),_t[2]].join(" ");return ee},Be=v.__private__.getFilters=function(){return o},Ze=v.__private__.putStream=function(D){var ee=(D=D||{}).data||"",be=D.filters||Be(),Re=D.alreadyAppliedFilters||[],Le=D.addLength1||!1,ct=ee.length,_t=D.objectId,Zt=function(V){return V};if(m!==null&&_t===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");m!==null&&(Zt=qr.encryptor(_t,0));var an={};be===!0&&(be=["FlateEncode"]);var gn=D.additionalKeyValues||[],un=(an=hn.API.processDataByFilters!==void 0?hn.API.processDataByFilters(ee,be):{data:ee,reverseChain:[]}).reverseChain+(Array.isArray(Re)?Re.join(" "):Re.toString());if(an.data.length!==0&&(gn.push({key:"Length",value:an.data.length}),Le===!0&&gn.push({key:"Length1",value:ct})),un.length!=0)if(un.split("/").length-1==1)gn.push({key:"Filter",value:un});else{gn.push({key:"Filter",value:"["+un+"]"});for(var Vn=0;Vn<gn.length;Vn+=1)if(gn[Vn].key==="DecodeParms"){for(var kr=[],xr=0;xr<an.reverseChain.split("/").length-1;xr+=1)kr.push("null");kr.push(gn[Vn].value),gn[Vn].value="["+kr.join(" ")+"]"}}Z("<<");for(var x=0;x<gn.length;x++)Z("/"+gn[x].key+" "+gn[x].value);Z(">>"),an.data.length!==0&&(Z("stream"),Z(Zt(an.data)),Z("endstream"))},Me=v.__private__.putPage=function(D){var ee=D.number,be=D.data,Re=D.objId,Le=D.contentsObjId;ne(Re,!0),Z("<</Type /Page"),Z("/Parent "+D.rootDictionaryObjId+" 0 R"),Z("/Resources "+D.resourceDictionaryObjId+" 0 R"),Z("/MediaBox ["+parseFloat(k(D.mediaBox.bottomLeftX))+" "+parseFloat(k(D.mediaBox.bottomLeftY))+" "+k(D.mediaBox.topRightX)+" "+k(D.mediaBox.topRightY)+"]"),D.cropBox!==null&&Z("/CropBox ["+k(D.cropBox.bottomLeftX)+" "+k(D.cropBox.bottomLeftY)+" "+k(D.cropBox.topRightX)+" "+k(D.cropBox.topRightY)+"]"),D.bleedBox!==null&&Z("/BleedBox ["+k(D.bleedBox.bottomLeftX)+" "+k(D.bleedBox.bottomLeftY)+" "+k(D.bleedBox.topRightX)+" "+k(D.bleedBox.topRightY)+"]"),D.trimBox!==null&&Z("/TrimBox ["+k(D.trimBox.bottomLeftX)+" "+k(D.trimBox.bottomLeftY)+" "+k(D.trimBox.topRightX)+" "+k(D.trimBox.topRightY)+"]"),D.artBox!==null&&Z("/ArtBox ["+k(D.artBox.bottomLeftX)+" "+k(D.artBox.bottomLeftY)+" "+k(D.artBox.topRightX)+" "+k(D.artBox.topRightY)+"]"),typeof D.userUnit=="number"&&D.userUnit!==1&&Z("/UserUnit "+D.userUnit),xn.publish("putPage",{objId:Re,pageContext:Nt[ee],pageNumber:ee,page:be}),Z("/Contents "+Le+" 0 R"),Z(">>"),Z("endobj");var ct=be.join(`
`);return j===R&&(ct+=`
Q`),ne(Le,!0),Ze({data:ct,filters:Be(),objectId:Le}),Z("endobj"),Re},ze=v.__private__.putPages=function(){var D,ee,be=[];for(D=1;D<=Bt;D++)Nt[D].objId=pr(),Nt[D].contentsObjId=pr();for(D=1;D<=Bt;D++)be.push(Me({number:D,data:et[D],objId:Nt[D].objId,contentsObjId:Nt[D].contentsObjId,mediaBox:Nt[D].mediaBox,cropBox:Nt[D].cropBox,bleedBox:Nt[D].bleedBox,trimBox:Nt[D].trimBox,artBox:Nt[D].artBox,userUnit:Nt[D].userUnit,rootDictionaryObjId:ue,resourceDictionaryObjId:de}));ne(ue,!0),Z("<</Type /Pages");var Re="/Kids [";for(ee=0;ee<Bt;ee++)Re+=be[ee]+" 0 R ";Z(Re+"]"),Z("/Count "+Bt),Z(">>"),Z("endobj"),xn.publish("postPutPages")},He=function(D){xn.publish("putFont",{font:D,out:Z,newObject:tr,putStream:Ze}),D.isAlreadyPutted!==!0&&(D.objectNumber=tr(),Z("<<"),Z("/Type /Font"),Z("/BaseFont /"+n0(D.postScriptName)),Z("/Subtype /Type1"),typeof D.encoding=="string"&&Z("/Encoding /"+D.encoding),Z("/FirstChar 32"),Z("/LastChar 255"),Z(">>"),Z("endobj"))},bt=function(D){D.objectNumber=tr();var ee=[];ee.push({key:"Type",value:"/XObject"}),ee.push({key:"Subtype",value:"/Form"}),ee.push({key:"BBox",value:"["+[k(D.x),k(D.y),k(D.x+D.width),k(D.y+D.height)].join(" ")+"]"}),ee.push({key:"Matrix",value:"["+D.matrix.toString()+"]"});var be=D.pages[1].join(`
`);Ze({data:be,additionalKeyValues:ee,objectId:D.objectNumber}),Z("endobj")},mt=function(D,ee){ee||(ee=21);var be=tr(),Re=(function(_t,Zt){var an,gn=[],un=1/(Zt-1);for(an=0;an<1;an+=un)gn.push(an);if(gn.push(1),_t[0].offset!=0){var Vn={offset:0,color:_t[0].color};_t.unshift(Vn)}if(_t[_t.length-1].offset!=1){var kr={offset:1,color:_t[_t.length-1].color};_t.push(kr)}for(var xr="",x=0,V=0;V<gn.length;V++){for(an=gn[V];an>_t[x+1].offset;)x++;var X=_t[x].offset,he=(an-X)/(_t[x+1].offset-X),Ue=_t[x].color,Xe=_t[x+1].color;xr+=J(Math.round((1-he)*Ue[0]+he*Xe[0]).toString(16))+J(Math.round((1-he)*Ue[1]+he*Xe[1]).toString(16))+J(Math.round((1-he)*Ue[2]+he*Xe[2]).toString(16))}return xr.trim()})(D.colors,ee),Le=[];Le.push({key:"FunctionType",value:"0"}),Le.push({key:"Domain",value:"[0.0 1.0]"}),Le.push({key:"Size",value:"["+ee+"]"}),Le.push({key:"BitsPerSample",value:"8"}),Le.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Le.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ze({data:Re,additionalKeyValues:Le,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:be}),Z("endobj"),D.objectNumber=tr(),Z("<< /ShadingType "+D.type),Z("/ColorSpace /DeviceRGB");var ct="/Coords ["+k(parseFloat(D.coords[0]))+" "+k(parseFloat(D.coords[1]))+" ";D.type===2?ct+=k(parseFloat(D.coords[2]))+" "+k(parseFloat(D.coords[3])):ct+=k(parseFloat(D.coords[2]))+" "+k(parseFloat(D.coords[3]))+" "+k(parseFloat(D.coords[4]))+" "+k(parseFloat(D.coords[5])),Z(ct+="]"),D.matrix&&Z("/Matrix ["+D.matrix.toString()+"]"),Z("/Function "+be+" 0 R"),Z("/Extend [true true]"),Z(">>"),Z("endobj")},Et=function(D,ee){var be=pr(),Re=tr();ee.push({resourcesOid:be,objectOid:Re}),D.objectNumber=Re;var Le=[];Le.push({key:"Type",value:"/Pattern"}),Le.push({key:"PatternType",value:"1"}),Le.push({key:"PaintType",value:"1"}),Le.push({key:"TilingType",value:"1"}),Le.push({key:"BBox",value:"["+D.boundingBox.map(k).join(" ")+"]"}),Le.push({key:"XStep",value:k(D.xStep)}),Le.push({key:"YStep",value:k(D.yStep)}),Le.push({key:"Resources",value:be+" 0 R"}),D.matrix&&Le.push({key:"Matrix",value:"["+D.matrix.toString()+"]"}),Ze({data:D.stream,additionalKeyValues:Le,objectId:D.objectNumber}),Z("endobj")},je=function(D){for(var ee in D.objectNumber=tr(),Z("<<"),D)switch(ee){case"opacity":Z("/ca "+O(D[ee]));break;case"stroke-opacity":Z("/CA "+O(D[ee]))}Z(">>"),Z("endobj")},Tt=function(D){ne(D.resourcesOid,!0),Z("<<"),Z("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var ee in Z("/Font <<"),Ft)Ft.hasOwnProperty(ee)&&(g===!1||g===!0&&_.hasOwnProperty(ee))&&Z("/"+ee+" "+Ft[ee].objectNumber+" 0 R");Z(">>")})(),(function(){if(Object.keys(Kt).length>0){for(var ee in Z("/Shading <<"),Kt)Kt.hasOwnProperty(ee)&&Kt[ee]instanceof xf&&Kt[ee].objectNumber>=0&&Z("/"+ee+" "+Kt[ee].objectNumber+" 0 R");xn.publish("putShadingPatternDict"),Z(">>")}})(),(function(ee){if(Object.keys(Kt).length>0){for(var be in Z("/Pattern <<"),Kt)Kt.hasOwnProperty(be)&&Kt[be]instanceof v.TilingPattern&&Kt[be].objectNumber>=0&&Kt[be].objectNumber<ee&&Z("/"+be+" "+Kt[be].objectNumber+" 0 R");xn.publish("putTilingPatternDict"),Z(">>")}})(D.objectOid),(function(){if(Object.keys(We).length>0){var ee;for(ee in Z("/ExtGState <<"),We)We.hasOwnProperty(ee)&&We[ee].objectNumber>=0&&Z("/"+ee+" "+We[ee].objectNumber+" 0 R");xn.publish("putGStateDict"),Z(">>")}})(),(function(){for(var ee in Z("/XObject <<"),Ur)Ur.hasOwnProperty(ee)&&Ur[ee].objectNumber>=0&&Z("/"+ee+" "+Ur[ee].objectNumber+" 0 R");xn.publish("putXobjectDict"),Z(">>")})(),Z(">>"),Z("endobj")},Xt=function(D){Rt[D.fontName]=Rt[D.fontName]||{},Rt[D.fontName][D.fontStyle]=D.id},nr=function(D,ee,be,Re,Le){var ct={id:"F"+(Object.keys(Ft).length+1).toString(10),postScriptName:D,fontName:ee,fontStyle:be,encoding:Re,isStandardFont:Le||!1,metadata:{}};return xn.publish("addFont",{font:ct,instance:this}),Ft[ct.id]=ct,Xt(ct),ct.id},jn=v.__private__.pdfEscape=v.pdfEscape=function(D,ee){return(function(be,Re){var Le,ct,_t,Zt,an,gn,un,Vn,kr;if(_t=(Re=Re||{}).sourceEncoding||"Unicode",an=Re.outputEncoding,(Re.autoencode||an)&&Ft[Mt].metadata&&Ft[Mt].metadata[_t]&&Ft[Mt].metadata[_t].encoding&&(Zt=Ft[Mt].metadata[_t].encoding,!an&&Ft[Mt].encoding&&(an=Ft[Mt].encoding),!an&&Zt.codePages&&(an=Zt.codePages[0]),typeof an=="string"&&(an=Zt[an]),an)){for(un=!1,gn=[],Le=0,ct=be.length;Le<ct;Le++)(Vn=an[be.charCodeAt(Le)])?gn.push(String.fromCharCode(Vn)):gn.push(be[Le]),gn[Le].charCodeAt(0)>>8&&(un=!0);be=gn.join("")}for(Le=be.length;un===void 0&&Le!==0;)be.charCodeAt(Le-1)>>8&&(un=!0),Le--;if(!un)return be;for(gn=Re.noBOM?[]:[254,255],Le=0,ct=be.length;Le<ct;Le++){if((kr=(Vn=be.charCodeAt(Le))>>8)>>8)throw new Error("Character at position "+Le+" of string '"+be+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");gn.push(kr),gn.push(Vn-(kr<<8))}return String.fromCharCode.apply(void 0,gn)})(D,ee).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},or=v.__private__.beginPage=function(D){et[++Bt]=[],Nt[Bt]={objId:0,contentsObjId:0,userUnit:Number(c),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(D[0]),topRightY:Number(D[1])}},hs(Bt),it(et[G])},zi=function(D,ee){var be,Re,Le;switch(t=ee||t,typeof D=="string"&&(be=N(D.toLowerCase()),Array.isArray(be)&&(Re=be[0],Le=be[1])),Array.isArray(D)&&(Re=D[0]*Wt,Le=D[1]*Wt),isNaN(Re)&&(Re=i[0],Le=i[1]),(Re>14400||Le>14400)&&(Yr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Re=Math.min(14400,Re),Le=Math.min(14400,Le)),i=[Re,Le],t.substr(0,1)){case"l":Le>Re&&(i=[Le,Re]);break;case"p":Re>Le&&(i=[Le,Re])}or(i),fn(Na),Z($a),Xa!==0&&Z(Xa+" J"),xi!==0&&Z(xi+" j"),xn.publish("addPage",{pageNumber:Bt})},Ya=function(D){D>0&&D<=Bt&&(et.splice(D,1),Nt.splice(D,1),Bt--,G>Bt&&(G=Bt),this.setPage(G))},hs=function(D){D>0&&D<=Bt&&(G=D)},Ta=v.__private__.getNumberOfPages=v.getNumberOfPages=function(){return et.length-1},xo=function(D,ee,be){var Re,Le=void 0;return be=be||{},D=D!==void 0?D:Ft[Mt].fontName,ee=ee!==void 0?ee:Ft[Mt].fontStyle,Re=D.toLowerCase(),Rt[Re]!==void 0&&Rt[Re][ee]!==void 0?Le=Rt[Re][ee]:Rt[D]!==void 0&&Rt[D][ee]!==void 0?Le=Rt[D][ee]:be.disableWarning===!1&&Yr.warn("Unable to look up font label for font '"+D+"', '"+ee+"'. Refer to getFontList() for available fonts."),Le||be.noFallback||(Le=Rt.times[ee])==null&&(Le=Rt.times.normal),Le},zr=v.__private__.putInfo=function(){var D=tr(),ee=function(Re){return Re};for(var be in m!==null&&(ee=qr.encryptor(D,0)),Z("<<"),Z("/Producer ("+jn(ee("jsPDF "+hn.version))+")"),Ht)Ht.hasOwnProperty(be)&&Ht[be]&&Z("/"+be.substr(0,1).toUpperCase()+be.substr(1)+" ("+jn(ee(Ht[be]))+")");Z("/CreationDate ("+jn(ee(we))+")"),Z(">>"),Z("endobj")},Qi=v.__private__.putCatalog=function(D){var ee=(D=D||{}).rootDictionaryObjId||ue;switch(tr(),Z("<<"),Z("/Type /Catalog"),Z("/Pages "+ee+" 0 R"),At||(At="fullwidth"),At){case"fullwidth":Z("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Z("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Z("/OpenAction [3 0 R /Fit]");break;case"original":Z("/OpenAction [3 0 R /XYZ null null 1]");break;default:var be=""+At;be.substr(be.length-1)==="%"&&(At=parseInt(At)/100),typeof At=="number"&&Z("/OpenAction [3 0 R /XYZ null null "+O(At)+"]")}switch(qt||(qt="continuous"),qt){case"continuous":Z("/PageLayout /OneColumn");break;case"single":Z("/PageLayout /SinglePage");break;case"two":case"twoleft":Z("/PageLayout /TwoColumnLeft");break;case"tworight":Z("/PageLayout /TwoColumnRight")}Dt&&Z("/PageMode /"+Dt),xn.publish("putCatalog"),Z(">>"),Z("endobj")},li=v.__private__.putTrailer=function(){Z("trailer"),Z("<<"),Z("/Size "+(ae+1)),Z("/Root "+ae+" 0 R"),Z("/Info "+(ae-1)+" 0 R"),m!==null&&Z("/Encrypt "+qr.oid+" 0 R"),Z("/ID [ <"+fe+"> <"+fe+"> ]"),Z(">>")},Un=v.__private__.putHeader=function(){Z("%PDF-"+b),Z("%")},wo=v.__private__.putXRef=function(){var D="0000000000";Z("xref"),Z("0 "+(ae+1)),Z("0000000000 65535 f ");for(var ee=1;ee<=ae;ee++)typeof ge[ee]=="function"?Z((D+ge[ee]()).slice(-10)+" 00000 n "):ge[ee]!==void 0?Z((D+ge[ee]).slice(-10)+" 00000 n "):Z("0000000000 00000 n ")},fs=v.__private__.buildDocument=function(){var D;ae=0,Se=0,Te=[],ge=[],Ce=[],ue=pr(),de=pr(),it(Te),xn.publish("buildDocument"),Un(),ze(),(function(){xn.publish("putAdditionalObjects");for(var be=0;be<Ce.length;be++){var Re=Ce[be];ne(Re.objId,!0),Z(Re.content),Z("endobj")}xn.publish("postPutAdditionalObjects")})(),D=[],(function(){for(var be in Ft)Ft.hasOwnProperty(be)&&(g===!1||g===!0&&_.hasOwnProperty(be))&&He(Ft[be])})(),(function(){var be;for(be in We)We.hasOwnProperty(be)&&je(We[be])})(),(function(){for(var be in Ur)Ur.hasOwnProperty(be)&&bt(Ur[be])})(),(function(be){var Re;for(Re in Kt)Kt.hasOwnProperty(Re)&&(Kt[Re]instanceof xf?mt(Kt[Re]):Kt[Re]instanceof a0&&Et(Kt[Re],be))})(D),xn.publish("putResources"),D.forEach(Tt),Tt({resourcesOid:de,objectOid:Number.MAX_SAFE_INTEGER}),xn.publish("postPutResources"),m!==null&&(qr.oid=tr(),Z("<<"),Z("/Filter /Standard"),Z("/V "+qr.v),Z("/R "+qr.r),Z("/U <"+qr.toHexString(qr.U)+">"),Z("/O <"+qr.toHexString(qr.O)+">"),Z("/P "+qr.P),Z(">>"),Z("endobj")),zr(),Qi();var ee=Se;return wo(),li(),Z("startxref"),Z(""+ee),Z("%%EOF"),it(et[G]),Te.join(`
`)},Wn=v.__private__.getBlob=function(D){return new Blob([nt(D)],{type:"application/pdf"})},Yo=v.output=v.__private__.output=(Ci=function(D,ee){switch(typeof(ee=ee||{})=="string"?ee={filename:ee}:ee.filename=ee.filename||"generated.pdf",D){case void 0:return fs();case"save":v.save(ee.filename);break;case"arraybuffer":return nt(fs());case"blob":return Wn(fs());case"bloburi":case"bloburl":if(Nn.URL!==void 0&&typeof Nn.URL.createObjectURL=="function")return Nn.URL&&Nn.URL.createObjectURL(Wn(fs()))||void 0;Yr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var be="",Re=fs();try{be=jA(Re)}catch{be=jA(unescape(encodeURIComponent(Re)))}return"data:application/pdf;filename="+ee.filename+";base64,"+be;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Nn)==="[object Window]"){var Le="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",ct=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';ee.pdfObjectUrl&&(Le=ee.pdfObjectUrl,ct="");var _t='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Le+'"'+ct+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(ee)+");<\/script></body></html>",Zt=Nn.open();return Zt!==null&&Zt.document.write(_t),Zt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Nn)==="[object Window]"){var an='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(ee.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+ee.filename+'" width="500px" height="400px" /></body></html>',gn=Nn.open();if(gn!==null){gn.document.write(an);var un=this;gn.document.documentElement.querySelector("#pdfViewer").onload=function(){gn.document.title=ee.filename,gn.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(un.output("bloburl"))}}return gn}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Nn)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Vn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",ee)+'"></iframe></body></html>',kr=Nn.open();if(kr!==null&&(kr.document.write(Vn),kr.document.title=ee.filename),kr||typeof safari>"u")return kr;break;case"datauri":case"dataurl":return Nn.document.location.href=this.output("datauristring",ee);default:return null}},Ci.foo=function(){try{return Ci.apply(this,arguments)}catch(be){var D=be.stack||"";~D.indexOf(" at ")&&(D=D.split(" at ")[1]);var ee="Error in function "+D.split(`
`)[0].split("<")[0]+": "+be.message;if(!Nn.console)throw new Error(ee);Nn.console.error(ee,be),Nn.alert&&alert(ee)}},Ci.foo.bar=Ci,Ci.foo),yi=function(D){return Array.isArray(Kr)===!0&&Kr.indexOf(D)>-1};switch(r){case"pt":Wt=1;break;case"mm":Wt=72/25.4;break;case"cm":Wt=72/2.54;break;case"in":Wt=72;break;case"px":Wt=yi("px_scaling")==1?.75:96/72;break;case"pc":case"em":Wt=12;break;case"ex":Wt=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);Wt=r}var qr=null;re(),pe();var ci=v.__private__.getPageInfo=v.getPageInfo=function(D){if(isNaN(D)||D%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Nt[D].objId,pageNumber:D,pageContext:Nt[D]}},xl=v.__private__.getPageInfoByObjId=function(D){if(isNaN(D)||D%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var ee in Nt)if(Nt[ee].objId===D)break;return ci(ee)},Bu=v.__private__.getCurrentPageInfo=v.getCurrentPageInfo=function(){return{objId:Nt[G].objId,pageNumber:G,pageContext:Nt[G]}};v.addPage=function(){return zi.apply(this,arguments),this},v.setPage=function(){return hs.apply(this,arguments),it.call(this,et[G]),this},v.insertPage=function(D){return this.addPage(),this.movePage(G,D),this},v.movePage=function(D,ee){var be,Re;if(D>ee){be=et[D],Re=Nt[D];for(var Le=D;Le>ee;Le--)et[Le]=et[Le-1],Nt[Le]=Nt[Le-1];et[ee]=be,Nt[ee]=Re,this.setPage(ee)}else if(D<ee){be=et[D],Re=Nt[D];for(var ct=D;ct<ee;ct++)et[ct]=et[ct+1],Nt[ct]=Nt[ct+1];et[ee]=be,Nt[ee]=Re,this.setPage(ee)}return this},v.deletePage=function(){return Ya.apply(this,arguments),this},v.__private__.text=v.text=function(D,ee,be,Re,Le){var ct,_t,Zt,an,gn,un,Vn,kr,xr,x=(Re=Re||{}).scope||this;if(typeof D=="number"&&typeof ee=="number"&&(typeof be=="string"||Array.isArray(be))){var V=be;be=ee,ee=D,D=V}if(arguments[3]instanceof ln==0?(Zt=arguments[4],an=arguments[5],Cr(Vn=arguments[3])==="object"&&Vn!==null||(typeof Zt=="string"&&(an=Zt,Zt=null),typeof Vn=="string"&&(an=Vn,Vn=null),typeof Vn=="number"&&(Zt=Vn,Vn=null),Re={flags:Vn,angle:Zt,align:an})):(I("The transform parameter of text() with a Matrix value"),xr=Le),isNaN(ee)||isNaN(be)||D==null)throw new Error("Invalid arguments passed to jsPDF.text");if(D.length===0)return x;var X,he="",Ue=typeof Re.lineHeightFactor=="number"?Re.lineHeightFactor:So,Xe=x.internal.scaleFactor;function Ot(lr){return lr=lr.split("	").join(Array(Re.TabLen||9).join(" ")),jn(lr,Vn)}function Tn(lr){for(var Zn,Dr=lr.concat(),bi=[],al=Dr.length;al--;)typeof(Zn=Dr.shift())=="string"?bi.push(Zn):Array.isArray(lr)&&(Zn.length===1||Zn[1]===void 0&&Zn[2]===void 0)?bi.push(Zn[0]):bi.push([Zn[0],Zn[1],Zn[2]]);return bi}function Or(lr,Zn){var Dr;if(typeof lr=="string")Dr=Zn(lr)[0];else if(Array.isArray(lr)){for(var bi,al,Co=lr.concat(),Qc=[],ef=Co.length;ef--;)typeof(bi=Co.shift())=="string"?Qc.push(Zn(bi)[0]):Array.isArray(bi)&&typeof bi[0]=="string"&&(al=Zn(bi[0],bi[1],bi[2]),Qc.push([al[0],al[1],al[2]]));Dr=Qc}return Dr}var Pn=!1,hr=!0;if(typeof D=="string")Pn=!0;else if(Array.isArray(D)){var ea=D.concat();_t=[];for(var ma,br=ea.length;br--;)(typeof(ma=ea.shift())!="string"||Array.isArray(ma)&&typeof ma[0]!="string")&&(hr=!1);Pn=hr}if(Pn===!1)throw new Error('Type of text must be string or Array. "'+D+'" is not recognized.');typeof D=="string"&&(D=D.match(/[\r?\n]/)?D.split(/\r\n|\r|\n/g):[D]);var pa=Qe/x.internal.scaleFactor,Ds=pa*(Ue-1);switch(Re.baseline){case"bottom":be-=Ds;break;case"top":be+=pa-Ds;break;case"hanging":be+=pa-2*Ds;break;case"middle":be+=pa/2-Ds}if((un=Re.maxWidth||0)>0&&(typeof D=="string"?D=x.splitTextToSize(D,un):Object.prototype.toString.call(D)==="[object Array]"&&(D=D.reduce(function(lr,Zn){return lr.concat(x.splitTextToSize(Zn,un))},[]))),ct={text:D,x:ee,y:be,options:Re,mutex:{pdfEscape:jn,activeFontKey:Mt,fonts:Ft,activeFontSize:Qe}},xn.publish("preProcessText",ct),D=ct.text,Zt=(Re=ct.options).angle,xr instanceof ln==0&&Zt&&typeof Zt=="number"){Zt*=Math.PI/180,Re.rotationDirection===0&&(Zt=-Zt),j===R&&(Zt=-Zt);var Qo=Math.cos(Zt),Zo=Math.sin(Zt);xr=new ln(Qo,Zo,-Zo,Qo,0,0)}else Zt&&Zt instanceof ln&&(xr=Zt);j!==R||xr||(xr=_i),(gn=Re.charSpace||Ka)!==void 0&&(he+=k(B(gn))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(kr=Re.horizontalScale)!==void 0&&(he+=k(100*kr)+` Tz
`),Re.lang;var Qa=-1,Tl=Re.renderingMode!==void 0?Re.renderingMode:Re.stroke,Uu=x.internal.getCurrentPageInfo().pageContext;switch(Tl){case 0:case!1:case"fill":Qa=0;break;case 1:case!0:case"stroke":Qa=1;break;case 2:case"fillThenStroke":Qa=2;break;case 3:case"invisible":Qa=3;break;case 4:case"fillAndAddForClipping":Qa=4;break;case 5:case"strokeAndAddPathForClipping":Qa=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Qa=6;break;case 7:case"addToPathForClipping":Qa=7}var Qh=Uu.usedRenderingMode!==void 0?Uu.usedRenderingMode:-1;Qa!==-1?he+=Qa+` Tr
`:Qh!==-1&&(he+=`0 Tr
`),Qa!==-1&&(Uu.usedRenderingMode=Qa),an=Re.align||"left";var Ls,Ao=Qe*Ue,Al=x.internal.pageSize.getWidth(),Zh=Ft[Mt];gn=Re.charSpace||Ka,un=Re.maxWidth||0,Vn=Object.assign({autoencode:!0,noBOM:!0},Re.flags);var No=[],lc=function(lr){return x.getStringUnitWidth(lr,{font:Zh,charSpace:gn,fontSize:Qe,doKerning:!1})*Qe/Xe};if(Object.prototype.toString.call(D)==="[object Array]"){var ms;_t=Tn(D),an!=="left"&&(Ls=_t.map(lc));var Za,el=0;if(an==="right"){ee-=Ls[0],D=[],br=_t.length;for(var tl=0;tl<br;tl++)tl===0?(Za=Hi(ee),ms=Ii(be)):(Za=B(el-Ls[tl]),ms=-Ao),D.push([_t[tl],Za,ms]),el=Ls[tl]}else if(an==="center"){ee-=Ls[0]/2,D=[],br=_t.length;for(var Nl=0;Nl<br;Nl++)Nl===0?(Za=Hi(ee),ms=Ii(be)):(Za=B((el-Ls[Nl])/2),ms=-Ao),D.push([_t[Nl],Za,ms]),el=Ls[Nl]}else if(an==="left"){D=[],br=_t.length;for(var Vu=0;Vu<br;Vu++)D.push(_t[Vu])}else if(an==="justify"&&Zh.encoding==="Identity-H"){D=[],br=_t.length,un=un!==0?un:Al;for(var zu=0,wi=0;wi<br;wi++)if(ms=wi===0?Ii(be):-Ao,Za=wi===0?Hi(ee):zu,wi<br-1){var sd=B((un-Ls[wi])/(_t[wi].split(" ").length-1)),nl=_t[wi].split(" ");D.push([nl[0]+" ",Za,ms]),zu=0;for(var rl=1;rl<nl.length;rl++){var ga=(lc(nl[rl-1]+" "+nl[rl])-lc(nl[rl]))*Xe+sd;rl==nl.length-1?D.push([nl[rl],ga,0]):D.push([nl[rl]+" ",ga,0]),zu-=ga}}else D.push([_t[wi],Za,ms]);D.push(["",zu,0])}else{if(an!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(D=[],br=_t.length,un=un!==0?un:Al,wi=0;wi<br;wi++){ms=wi===0?Ii(be):-Ao,Za=wi===0?Hi(ee):0;var Cl=_t[wi].split(" ").length-1,qu=Cl>0?(un-Ls[wi])/Cl:0;wi<br-1?No.push(k(B(qu))):No.push(0),D.push([_t[wi],Za,ms])}}}(typeof Re.R2L=="boolean"?Re.R2L:ht)===!0&&(D=Or(D,function(lr,Zn,Dr){return[lr.split("").reverse().join(""),Zn,Dr]})),ct={text:D,x:ee,y:be,options:Re,mutex:{pdfEscape:jn,activeFontKey:Mt,fonts:Ft,activeFontSize:Qe}},xn.publish("postProcessText",ct),D=ct.text,X=ct.mutex.isHex||!1;var Hu=Ft[Mt].encoding;Hu!=="WinAnsiEncoding"&&Hu!=="StandardEncoding"||(D=Or(D,function(lr,Zn,Dr){return[Ot(lr),Zn,Dr]})),_t=Tn(D),D=[];for(var Il,Rl,il,Jc=Array.isArray(_t[0])?1:0,js="",kl=function(lr,Zn,Dr){var bi="";return Dr instanceof ln?(Dr=typeof Re.angle=="number"?Wa(Dr,new ln(1,0,0,1,lr,Zn)):Wa(new ln(1,0,0,1,lr,Zn),Dr),j===R&&(Dr=Wa(new ln(1,0,0,-1,0,0),Dr)),bi=Dr.join(" ")+` Tm
`):bi=k(lr)+" "+k(Zn)+` Td
`,bi},Ca=0;Ca<_t.length;Ca++){switch(js="",Jc){case 1:il=(X?"<":"(")+_t[Ca][0]+(X?">":")"),Il=parseFloat(_t[Ca][1]),Rl=parseFloat(_t[Ca][2]);break;case 0:il=(X?"<":"(")+_t[Ca]+(X?">":")"),Il=Hi(ee),Rl=Ii(be)}No!==void 0&&No[Ca]!==void 0&&(js=No[Ca]+` Tw
`),Ca===0?D.push(js+kl(Il,Rl,xr)+il):Jc===0?D.push(js+il):Jc===1&&D.push(js+kl(Il,Rl,xr)+il)}D=Jc===0?D.join(` Tj
T* `):D.join(` Tj
`),D+=` Tj
`;var Ks=`BT
/`;return Ks+=Mt+" "+Qe+` Tf
`,Ks+=k(Qe*Ue)+` TL
`,Ks+=ks+`
`,Ks+=he,Ks+=D,Z(Ks+="ET"),_[Mt]=!0,x};var Gc=v.__private__.clip=v.clip=function(D){return Z(D==="evenodd"?"W*":"W"),this};v.clipEvenOdd=function(){return Gc("evenodd")},v.__private__.discardPath=v.discardPath=function(){return Z("n"),this};var da=v.__private__.isValidStyle=function(D){var ee=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(D)!==-1&&(ee=!0),ee};v.__private__.setDefaultPathOperation=v.setDefaultPathOperation=function(D){return da(D)&&(h=D),this};var Wc=v.__private__.getStyle=v.getStyle=function(D){var ee=h;switch(D){case"D":case"S":ee="S";break;case"F":ee="f";break;case"FD":case"DF":ee="B";break;case"f":case"f*":case"B":case"B*":ee=D}return ee},bo=v.close=function(){return Z("h"),this};v.stroke=function(){return Z("S"),this},v.fill=function(D){return qi("f",D),this},v.fillEvenOdd=function(D){return qi("f*",D),this},v.fillStroke=function(D){return qi("B",D),this},v.fillStrokeEvenOdd=function(D){return qi("B*",D),this};var qi=function(D,ee){Cr(ee)==="object"?$c(ee,D):Z(D)},$o=function(D){D===null||j===R&&D===void 0||(D=Wc(D),Z(D))};function Yc(D,ee,be,Re,Le){var ct=new a0(ee||this.boundingBox,be||this.xStep,Re||this.yStep,this.gState,Le||this.matrix);ct.stream=this.stream;var _t=D+"$$"+this.cloneIndex+++"$$";return Xr(_t,ct),ct}var $c=function(D,ee){var be=En[D.key],Re=Kt[be];if(Re instanceof xf)Z("q"),Z(rc(ee)),Re.gState&&v.setGState(Re.gState),Z(D.matrix.toString()+" cm"),Z("/"+be+" sh"),Z("Q");else if(Re instanceof a0){var Le=new ln(1,0,0,-1,0,Os());D.matrix&&(Le=Le.multiply(D.matrix||_i),be=Yc.call(Re,D.key,D.boundingBox,D.xStep,D.yStep,Le).id),Z("q"),Z("/Pattern cs"),Z("/"+be+" scn"),Re.gState&&v.setGState(Re.gState),Z(ee),Z("Q")}},rc=function(D){switch(D){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},ic=v.moveTo=function(D,ee){return Z(k(B(D))+" "+k(Y(ee))+" m"),this},Eo=v.lineTo=function(D,ee){return Z(k(B(D))+" "+k(Y(ee))+" l"),this},Aa=v.curveTo=function(D,ee,be,Re,Le,ct){return Z([k(B(D)),k(Y(ee)),k(B(be)),k(Y(Re)),k(B(Le)),k(Y(ct)),"c"].join(" ")),this};v.__private__.line=v.line=function(D,ee,be,Re,Le){if(isNaN(D)||isNaN(ee)||isNaN(be)||isNaN(Re)||!da(Le))throw new Error("Invalid arguments passed to jsPDF.line");return j===P?this.lines([[be-D,Re-ee]],D,ee,[1,1],Le||"S"):this.lines([[be-D,Re-ee]],D,ee,[1,1]).stroke()},v.__private__.lines=v.lines=function(D,ee,be,Re,Le,ct){var _t,Zt,an,gn,un,Vn,kr,xr,x,V,X,he;if(typeof D=="number"&&(he=be,be=ee,ee=D,D=he),Re=Re||[1,1],ct=ct||!1,isNaN(ee)||isNaN(be)||!Array.isArray(D)||!Array.isArray(Re)||!da(Le)||typeof ct!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(ic(ee,be),_t=Re[0],Zt=Re[1],gn=D.length,V=ee,X=be,an=0;an<gn;an++)(un=D[an]).length===2?(V=un[0]*_t+V,X=un[1]*Zt+X,Eo(V,X)):(Vn=un[0]*_t+V,kr=un[1]*Zt+X,xr=un[2]*_t+V,x=un[3]*Zt+X,V=un[4]*_t+V,X=un[5]*Zt+X,Aa(Vn,kr,xr,x,V,X));return ct&&bo(),$o(Le),this},v.path=function(D){for(var ee=0;ee<D.length;ee++){var be=D[ee],Re=be.c;switch(be.op){case"m":ic(Re[0],Re[1]);break;case"l":Eo(Re[0],Re[1]);break;case"c":Aa.apply(this,Re);break;case"h":bo()}}return this},v.__private__.rect=v.rect=function(D,ee,be,Re,Le){if(isNaN(D)||isNaN(ee)||isNaN(be)||isNaN(Re)||!da(Le))throw new Error("Invalid arguments passed to jsPDF.rect");return j===P&&(Re=-Re),Z([k(B(D)),k(Y(ee)),k(B(be)),k(B(Re)),"re"].join(" ")),$o(Le),this},v.__private__.triangle=v.triangle=function(D,ee,be,Re,Le,ct,_t){if(isNaN(D)||isNaN(ee)||isNaN(be)||isNaN(Re)||isNaN(Le)||isNaN(ct)||!da(_t))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[be-D,Re-ee],[Le-be,ct-Re],[D-Le,ee-ct]],D,ee,[1,1],_t,!0),this},v.__private__.roundedRect=v.roundedRect=function(D,ee,be,Re,Le,ct,_t){if(isNaN(D)||isNaN(ee)||isNaN(be)||isNaN(Re)||isNaN(Le)||isNaN(ct)||!da(_t))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Zt=4/3*(Math.SQRT2-1);return Le=Math.min(Le,.5*be),ct=Math.min(ct,.5*Re),this.lines([[be-2*Le,0],[Le*Zt,0,Le,ct-ct*Zt,Le,ct],[0,Re-2*ct],[0,ct*Zt,-Le*Zt,ct,-Le,ct],[2*Le-be,0],[-Le*Zt,0,-Le,-ct*Zt,-Le,-ct],[0,2*ct-Re],[0,-ct*Zt,Le*Zt,-ct,Le,-ct]],D+Le,ee,[1,1],_t,!0),this},v.__private__.ellipse=v.ellipse=function(D,ee,be,Re,Le){if(isNaN(D)||isNaN(ee)||isNaN(be)||isNaN(Re)||!da(Le))throw new Error("Invalid arguments passed to jsPDF.ellipse");var ct=4/3*(Math.SQRT2-1)*be,_t=4/3*(Math.SQRT2-1)*Re;return ic(D+be,ee),Aa(D+be,ee-_t,D+ct,ee-Re,D,ee-Re),Aa(D-ct,ee-Re,D-be,ee-_t,D-be,ee),Aa(D-be,ee+_t,D-ct,ee+Re,D,ee+Re),Aa(D+ct,ee+Re,D+be,ee+_t,D+be,ee),$o(Le),this},v.__private__.circle=v.circle=function(D,ee,be,Re){if(isNaN(D)||isNaN(ee)||isNaN(be)||!da(Re))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(D,ee,be,be,Re)},v.setFont=function(D,ee,be){return be&&(ee=C(ee,be)),Mt=xo(D,ee,{disableWarning:!1}),this};var Rs=v.__private__.getFont=v.getFont=function(){return Ft[xo.apply(v,arguments)]};v.__private__.getFontList=v.getFontList=function(){var D,ee,be={};for(D in Rt)if(Rt.hasOwnProperty(D))for(ee in be[D]=[],Rt[D])Rt[D].hasOwnProperty(ee)&&be[D].push(ee);return be},v.addFont=function(D,ee,be,Re,Le){var ct=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&ct.indexOf(arguments[3])!==-1?Le=arguments[3]:arguments[3]&&ct.indexOf(arguments[3])==-1&&(be=C(be,Re)),nr.call(this,D,ee,be,Le=Le||"Identity-H")};var So,Na=n.lineWidth||.200025,Ko=v.__private__.getLineWidth=v.getLineWidth=function(){return Na},fn=v.__private__.setLineWidth=v.setLineWidth=function(D){return Na=D,Z(k(B(D))+" w"),this};v.__private__.setLineDash=hn.API.setLineDash=hn.API.setLineDashPattern=function(D,ee){if(D=D||[],ee=ee||0,isNaN(ee)||!Array.isArray(D))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return D=D.map(function(be){return k(B(be))}).join(" "),ee=k(B(ee)),Z("["+D+"] "+ee+" d"),this};var wl=v.__private__.getLineHeight=v.getLineHeight=function(){return Qe*So};v.__private__.getLineHeight=v.getLineHeight=function(){return Qe*So};var ac=v.__private__.setLineHeightFactor=v.setLineHeightFactor=function(D){return typeof(D=D||1.15)=="number"&&(So=D),this},Xo=v.__private__.getLineHeightFactor=v.getLineHeightFactor=function(){return So};ac(n.lineHeight);var Hi=v.__private__.getHorizontalCoordinate=function(D){return B(D)},Ii=v.__private__.getVerticalCoordinate=function(D){return j===R?D:Nt[G].mediaBox.topRightY-Nt[G].mediaBox.bottomLeftY-B(D)},bl=v.__private__.getHorizontalCoordinateString=v.getHorizontalCoordinateString=function(D){return k(Hi(D))},ur=v.__private__.getVerticalCoordinateString=v.getVerticalCoordinateString=function(D){return k(Ii(D))},$a=n.strokeColor||"0 G";v.__private__.getStrokeColor=v.getDrawColor=function(){return ve($a)},v.__private__.setStrokeColor=v.setDrawColor=function(D,ee,be,Re){return $a=ye({ch1:D,ch2:ee,ch3:be,ch4:Re,pdfColorType:"draw",precision:2}),Z($a),this};var El=n.fillColor||"0 g";v.__private__.getFillColor=v.getFillColor=function(){return ve(El)},v.__private__.setFillColor=v.setFillColor=function(D,ee,be,Re){return El=ye({ch1:D,ch2:ee,ch3:be,ch4:Re,pdfColorType:"fill",precision:2}),Z(El),this};var ks=n.textColor||"0 g",Kc=v.__private__.getTextColor=v.getTextColor=function(){return ve(ks)};v.__private__.setTextColor=v.setTextColor=function(D,ee,be,Re){return ks=ye({ch1:D,ch2:ee,ch3:be,ch4:Re,pdfColorType:"text",precision:3}),this};var Ka=n.charSpace,To=v.__private__.getCharSpace=v.getCharSpace=function(){return parseFloat(Ka||0)};v.__private__.setCharSpace=v.setCharSpace=function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Ka=D,this};var Xa=0;v.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},v.__private__.setLineCap=v.setLineCap=function(D){var ee=v.CapJoinStyles[D];if(ee===void 0)throw new Error("Line cap style of '"+D+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Xa=ee,Z(ee+" J"),this};var xi=0;v.__private__.setLineJoin=v.setLineJoin=function(D){var ee=v.CapJoinStyles[D];if(ee===void 0)throw new Error("Line join style of '"+D+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return xi=ee,Z(ee+" j"),this},v.__private__.setLineMiterLimit=v.__private__.setMiterLimit=v.setLineMiterLimit=v.setMiterLimit=function(D){if(D=D||0,isNaN(D))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Z(k(B(D))+" M"),this},v.GState=E2,v.setGState=function(D){(D=typeof D=="string"?We[wt[D]]:Hs(null,D)).equals(nn)||(Z("/"+D.id+" gs"),nn=D)};var Hs=function(D,ee){if(!D||!wt[D]){var be=!1;for(var Re in We)if(We.hasOwnProperty(Re)&&We[Re].equals(ee)){be=!0;break}if(be)ee=We[Re];else{var Le="GS"+(Object.keys(We).length+1).toString(10);We[Le]=ee,ee.id=Le}return D&&(wt[D]=ee.id),xn.publish("addGState",ee),ee}};v.addGState=function(D,ee){return Hs(D,ee),this},v.saveGraphicsState=function(){return Z("q"),xt.push({key:Mt,size:Qe,color:ks}),this},v.restoreGraphicsState=function(){Z("Q");var D=xt.pop();return Mt=D.key,Qe=D.size,ks=D.color,nn=null,this},v.setCurrentTransformationMatrix=function(D){return Z(D.toString()+" cm"),this},v.comment=function(D){return Z("#"+D),this};var Zi=function(D,ee){var be=D||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return be},set:function(ct){isNaN(ct)||(be=parseFloat(ct))}});var Re=ee||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Re},set:function(ct){isNaN(ct)||(Re=parseFloat(ct))}});var Le="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Le},set:function(ct){Le=ct.toString()}}),this},Gs=function(D,ee,be,Re){Zi.call(this,D,ee),this.type="rect";var Le=be||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Le},set:function(_t){isNaN(_t)||(Le=parseFloat(_t))}});var ct=Re||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return ct},set:function(_t){isNaN(_t)||(ct=parseFloat(_t))}}),this},Jo=function(){this.page=Bt,this.currentPage=G,this.pages=et.slice(0),this.pagesContext=Nt.slice(0),this.x=Lt,this.y=yn,this.matrix=zt,this.width=ds(G),this.height=sc(G),this.outputDestination=tt,this.id="",this.objectNumber=-1};Jo.prototype.restore=function(){Bt=this.page,G=this.currentPage,Nt=this.pagesContext,et=this.pages,Lt=this.x,yn=this.y,zt=this.matrix,Sl(G,this.width),Ja(G,this.height),tt=this.outputDestination};var Ws=function(D,ee,be,Re,Le){Vr.push(new Jo),Bt=G=0,et=[],Lt=D,yn=ee,zt=Le,or([be,Re])};for(var Ys in v.beginFormObject=function(D,ee,be,Re,Le){return Ws(D,ee,be,Re,Le),this},v.endFormObject=function(D){return(function(ee){if(Ji[ee])Vr.pop().restore();else{var be=new Jo,Re="Xo"+(Object.keys(Ur).length+1).toString(10);be.id=Re,Ji[ee]=Re,Ur[Re]=be,xn.publish("addFormObject",be),Vr.pop().restore()}})(D),this},v.doFormObject=function(D,ee){var be=Ur[Ji[D]];return Z("q"),Z(ee.toString()+" cm"),Z("/"+be.id+" Do"),Z("Q"),this},v.getFormObject=function(D){var ee=Ur[Ji[D]];return{x:ee.x,y:ee.y,width:ee.width,height:ee.height,matrix:ee.matrix}},v.save=function(D,ee){return D=D||"generated.pdf",(ee=ee||{}).returnPromise=ee.returnPromise||!1,ee.returnPromise===!1?(yf(Wn(fs()),D),typeof yf.unload=="function"&&Nn.setTimeout&&setTimeout(yf.unload,911),this):new Promise(function(be,Re){try{var Le=yf(Wn(fs()),D);typeof yf.unload=="function"&&Nn.setTimeout&&setTimeout(yf.unload,911),be(Le)}catch(ct){Re(ct.message)}})},hn.API)hn.API.hasOwnProperty(Ys)&&(Ys==="events"&&hn.API.events.length?(function(D,ee){var be,Re,Le;for(Le=ee.length-1;Le!==-1;Le--)be=ee[Le][0],Re=ee[Le][1],D.subscribe.apply(D,[be].concat(typeof Re=="function"?[Re]:Re))})(xn,hn.API.events):v[Ys]=hn.API[Ys]);function ds(D){return Nt[D].mediaBox.topRightX-Nt[D].mediaBox.bottomLeftX}function Sl(D,ee){Nt[D].mediaBox.topRightX=ee+Nt[D].mediaBox.bottomLeftX}function sc(D){return Nt[D].mediaBox.topRightY-Nt[D].mediaBox.bottomLeftY}function Ja(D,ee){Nt[D].mediaBox.topRightY=ee+Nt[D].mediaBox.bottomLeftY}var $s=v.getPageWidth=function(D){return ds(D=D||G)/Wt},Xc=v.setPageWidth=function(D,ee){Sl(D,ee*Wt)},Os=v.getPageHeight=function(D){return sc(D=D||G)/Wt},oc=v.setPageHeight=function(D,ee){Ja(D,ee*Wt)};return v.internal={pdfEscape:jn,getStyle:Wc,getFont:Rs,getFontSize:Ke,getCharSpace:To,getTextColor:Kc,getLineHeight:wl,getLineHeightFactor:Xo,getLineWidth:Ko,write:Fe,getHorizontalCoordinate:Hi,getVerticalCoordinate:Ii,getCoordinateString:bl,getVerticalCoordinateString:ur,collections:{},newObject:tr,newAdditionalObject:_e,newObjectDeferred:pr,newObjectDeferredBegin:ne,getFilters:Be,putStream:Ze,events:xn,scaleFactor:Wt,pageSize:{getWidth:function(){return $s(G)},setWidth:function(D){Xc(G,D)},getHeight:function(){return Os(G)},setHeight:function(D){oc(G,D)}},encryptionOptions:m,encryption:qr,getEncryptor:function(D){return m!==null?qr.encryptor(D,0):function(ee){return ee}},output:Yo,getNumberOfPages:Ta,get pages(){return et},out:Z,f2:O,f3:M,getPageInfo:ci,getPageInfoByObjId:xl,getCurrentPageInfo:Bu,getPDFVersion:w,Point:Zi,Rectangle:Gs,Matrix:ln,hasHotfix:yi},Object.defineProperty(v.internal.pageSize,"width",{get:function(){return $s(G)},set:function(D){Xc(G,D)},enumerable:!0,configurable:!0}),Object.defineProperty(v.internal.pageSize,"height",{get:function(){return Os(G)},set:function(D){oc(G,D)},enumerable:!0,configurable:!0}),(function(D){for(var ee=0,be=It.length;ee<be;ee++){var Re=nr.call(this,D[ee][0],D[ee][1],D[ee][2],It[ee][3],!0);g===!1&&(_[Re]=!0);var Le=D[ee][0].split("-");Xt({id:Re,fontName:Le[0],fontStyle:Le[1]||""})}xn.publish("addFonts",{fonts:Ft,dictionary:Rt})}).call(v,It),Mt="F1",zi(i,t),xn.publish("initialized"),v}t0.prototype.lsbFirstWord=function(n){return String.fromCharCode(255&n,n>>8&255,n>>16&255,n>>24&255)},t0.prototype.toHexString=function(n){return n.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},t0.prototype.hexToBytes=function(n){for(var e=[],t=0;t<n.length;t+=2)e.push(String.fromCharCode(parseInt(n.substr(t,2),16)));return e.join("")},t0.prototype.processOwnerPassword=function(n,e){return m5(d5(e).substr(0,5),n)},t0.prototype.encryptor=function(n,e){var t=d5(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return m5(t,r)}},E2.prototype.equals=function(n){var e,t="id,objectNumber,equals";if(!n||Cr(n)!==Cr(this))return!1;var r=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!n.hasOwnProperty(e)||this[e]!==n[e])return!1;r++}for(e in n)n.hasOwnProperty(e)&&t.indexOf(e)<0&&r--;return r===0},hn.API={events:[]},hn.version="3.0.4";var Mi=hn.API,ab=1,Zf=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},zd=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},On=function(n){return n.toFixed(2)},vh=function(n){return n.toFixed(5)};Mi.__acroform__={};var yo=function(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n},BA=function(n){return n*ab},Sc=function(n){var e=new FR,t=on.internal.getHeight(n)||0,r=on.internal.getWidth(n)||0;return e.BBox=[0,0,Number(On(r)),Number(On(t))],e},yY=Mi.__acroform__.setBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|1<<e},xY=Mi.__acroform__.clearBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&~(1<<e)},wY=Mi.__acroform__.getBit=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return n&1<<e?1:0},$i=Mi.__acroform__.getBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return wY(n,e-1)},Ki=Mi.__acroform__.setBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return yY(n,e-1)},Xi=Mi.__acroform__.clearBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return xY(n,e-1)},bY=Mi.__acroform__.calculateCoordinates=function(n,e){var t=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=n[0],a=n[1],o=n[2],c=n[3],u={};return u.lowerLeft_X=t(i)||0,u.lowerLeft_Y=r(a+c)||0,u.upperRight_X=t(i+o)||0,u.upperRight_Y=r(a)||0,[Number(On(u.lowerLeft_X)),Number(On(u.lowerLeft_Y)),Number(On(u.upperRight_X)),Number(On(u.upperRight_Y))]},EY=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var e=[],t=n._V||n.DV,r=p5(n,t),i=n.scope.internal.getFont(n.fontName,n.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(n.scope.__private__.encodeColorString(n.color)),e.push("/"+i+" "+On(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var a=Sc(n);return a.scope=n.scope,a.stream=e.join(`
`),a}},p5=function(n,e){var t=n.fontSize===0?n.maxFontSize:n.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=n.multiline?i.map(function(O){return O.split(`
`)}):i.map(function(O){return[O]});var a=t,o=on.internal.getHeight(n)||0;o=o<0?-o:o;var c=on.internal.getWidth(n)||0;c=c<0?-c:c;var u=function(O,M,B){if(O+1<i.length){var Y=M+" "+i[O+1][0];return x1(Y,n,B).width<=c-4}return!1};a++;e:for(;a>0;){e="",a--;var h,m,g=x1("3",n,a).height,_=n.multiline?o-a:(o-g)/2,v=_+=2,b=0,w=0,T=0;if(a<=0){e=`(...) Tj
`,e+="% Width of Text: "+x1(e,n,a=12).width+", FieldWidth:"+c+`
`;break}for(var N="",P=0,R=0;R<i.length;R++)if(i.hasOwnProperty(R)){var j=!1;if(i[R].length!==1&&T!==i[R].length-1){if((g+2)*(P+2)+2>o)continue e;N+=i[R][T],j=!0,w=R,R--}else{N=(N+=i[R][T]+" ").substr(N.length-1)==" "?N.substr(0,N.length-1):N;var K=parseInt(R),U=u(K,N,a),C=R>=i.length-1;if(U&&!C){N+=" ",T=0;continue}if(U||C){if(C)w=K;else if(n.multiline&&(g+2)*(P+2)+2>o)continue e}else{if(!n.multiline||(g+2)*(P+2)+2>o)continue e;w=K}}for(var k="",I=b;I<=w;I++){var z=i[I];if(n.multiline){if(I===w){k+=z[T]+" ",T=(T+1)%z.length;continue}if(I===b){k+=z[z.length-1]+" ";continue}}k+=z[0]+" "}switch(k=k.substr(k.length-1)==" "?k.substr(0,k.length-1):k,m=x1(k,n,a).width,n.textAlign){case"right":h=c-m-2;break;case"center":h=(c-m)/2;break;default:h=2}e+=On(h)+" "+On(v)+` Td
`,e+="("+Zf(k)+`) Tj
`,e+=-On(h)+` 0 Td
`,v=-(a+2),m=0,b=j?w:w+1,P++,N=""}break}return r.text=e,r.fontSize=a,r},x1=function(n,e,t){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(n,{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:i}},SY={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},TY=function(n,e){var t={type:"reference",object:n};e.internal.getPageInfo(n.page).pageContext.annotations.find(function(r){return r.type===t.type&&r.object===t.object})===void 0&&e.internal.getPageInfo(n.page).pageContext.annotations.push(t)},AY=function(n,e){if(e.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(tc.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(SY)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");ab=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new BR,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var a=r[i];a.objId=void 0,a.hasAnnotation&&TY(a,t)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(t){(function(r,i){var a=!r;for(var o in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(o)){var c=r[o],u=[],h=c.Rect;if(c.Rect&&(c.Rect=bY(c.Rect,i)),i.internal.newObjectDeferredBegin(c.objId,!0),c.DA=on.createDefaultAppearanceStream(c),Cr(c)==="object"&&typeof c.getKeyValueListForStream=="function"&&(u=c.getKeyValueListForStream()),c.Rect=h,c.hasAppearanceStream&&!c.appearanceStreamContent){var m=EY(c);u.push({key:"AP",value:"<</N "+m+">>"}),i.internal.acroformPlugin.xForms.push(m)}if(c.appearanceStreamContent){var g="";for(var _ in c.appearanceStreamContent)if(c.appearanceStreamContent.hasOwnProperty(_)){var v=c.appearanceStreamContent[_];if(g+="/"+_+" ",g+="<<",Object.keys(v).length>=1||Array.isArray(v)){for(var o in v)if(v.hasOwnProperty(o)){var b=v[o];typeof b=="function"&&(b=b.call(i,c)),g+="/"+o+" "+b+" ",i.internal.acroformPlugin.xForms.indexOf(b)>=0||i.internal.acroformPlugin.xForms.push(b)}}else typeof(b=v)=="function"&&(b=b.call(i,c)),g+="/"+o+" "+b,i.internal.acroformPlugin.xForms.indexOf(b)>=0||i.internal.acroformPlugin.xForms.push(b);g+=">>"}u.push({key:"AP",value:`<<
`+g+">>"})}i.internal.putStream({additionalKeyValues:u,objectId:c.objId}),i.internal.out("endobj")}a&&(function(w,T){for(var N in w)if(w.hasOwnProperty(N)){var P=N,R=w[N];T.internal.newObjectDeferredBegin(R.objId,!0),Cr(R)==="object"&&typeof R.putStream=="function"&&R.putStream(),delete w[P]}})(i.internal.acroformPlugin.xForms,i)})(t,n)}),n.internal.acroformPlugin.isInitialized=!0}},PR=Mi.__acroform__.arrayToPdfArray=function(n,e,t){var r=function(o){return o};if(Array.isArray(n)){for(var i="[",a=0;a<n.length;a++)switch(a!==0&&(i+=" "),Cr(n[a])){case"boolean":case"number":case"object":i+=n[a].toString();break;case"string":n[a].substr(0,1)!=="/"?(e!==void 0&&t&&(r=t.internal.getEncryptor(e)),i+="("+Zf(r(n[a].toString()))+")"):i+=n[a].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},ox=function(n,e,t){var r=function(i){return i};return e!==void 0&&t&&(r=t.internal.getEncryptor(e)),(n=n||"").toString(),"("+Zf(r(n))+")"},Rc=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Rc.prototype.toString=function(){return this.objId+" 0 R"},Rc.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},Rc.prototype.getKeyValueListForStream=function(){var n=[],e=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var r=e[t],i=this[r];i&&(Array.isArray(i)?n.push({key:r,value:PR(i,this.objId,this.scope)}):i instanceof Rc?(i.scope=this.scope,n.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&n.push({key:r,value:i}))}return n};var FR=function(){Rc.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){n=t.trim()},get:function(){return n||null}})};yo(FR,Rc);var BR=function(){Rc.call(this);var n,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var t=function(r){return r};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+Zf(t(n))+")"}},set:function(t){n=t}})};yo(BR,Rc);var tc=function n(){Rc.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(N){if(isNaN(N))throw new Error('Invalid value "'+N+'" for attribute F supplied.');e=N}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!$i(e,3)},set:function(N){N?this.F=Ki(e,3):this.F=Xi(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(N){if(isNaN(N))throw new Error('Invalid value "'+N+'" for attribute Ff supplied.');t=N}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(N){r=N!==void 0?N:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(N){r[0]=N}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(N){r[1]=N}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(N){r[2]=N}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(N){r[3]=N}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(N){switch(N){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=N;break;default:throw new Error('Invalid value "'+N+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof S2)return;a="FieldObject"+n.FieldNum++}var N=function(P){return P};return this.scope&&(N=this.scope.internal.getEncryptor(this.objId)),"("+Zf(N(a))+")"},set:function(N){a=N.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(N){a=N}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(N){o=N}});var c="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return c},set:function(N){c=N}});var u=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return u},set:function(N){u=N}});var h=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return h===void 0?50/ab:h},set:function(N){h=N}});var m="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return m},set:function(N){m=N}});var g="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!g||this instanceof S2||this instanceof If))return ox(g,this.objId,this.scope)},set:function(N){N=N.toString(),g=N}});var _=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(_)return this instanceof Pa==0?ox(_,this.objId,this.scope):_},set:function(N){N=N.toString(),_=this instanceof Pa==0?N.substr(0,1)==="("?zd(N.substr(1,N.length-2)):zd(N):N}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Pa==1?zd(_.substr(1,_.length-1)):_},set:function(N){N=N.toString(),_=this instanceof Pa==1?"/"+N:N}});var v=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(v)return v},set:function(N){this.V=N}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(v)return this instanceof Pa==0?ox(v,this.objId,this.scope):v},set:function(N){N=N.toString(),v=this instanceof Pa==0?N.substr(0,1)==="("?zd(N.substr(1,N.length-2)):zd(N):N}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Pa==1?zd(v.substr(1,v.length-1)):v},set:function(N){N=N.toString(),v=this instanceof Pa==1?"/"+N:N}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var b,w=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return w},set:function(N){N=!!N,w=N}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(b)return b},set:function(N){b=N}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!$i(this.Ff,1)},set:function(N){N?this.Ff=Ki(this.Ff,1):this.Ff=Xi(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!$i(this.Ff,2)},set:function(N){N?this.Ff=Ki(this.Ff,2):this.Ff=Xi(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!$i(this.Ff,3)},set:function(N){N?this.Ff=Ki(this.Ff,3):this.Ff=Xi(this.Ff,3)}});var T=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(T!==null)return T},set:function(N){if([0,1,2].indexOf(N)===-1)throw new Error('Invalid value "'+N+'" for attribute Q supplied.');T=N}}),Object.defineProperty(this,"textAlign",{get:function(){var N;switch(T){case 0:default:N="left";break;case 1:N="center";break;case 2:N="right"}return N},configurable:!0,enumerable:!0,set:function(N){switch(N){case"right":case 2:T=2;break;case"center":case 1:T=1;break;default:T=0}}})};yo(tc,Rc);var d0=function(){tc.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){n=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return PR(e,this.objId,this.scope)},set:function(t){var r,i;i=[],typeof(r=t)=="string"&&(i=(function(a,o,c){c||(c=1);for(var u,h=[];u=o.exec(a);)h.push(u[c]);return h})(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,r){for(r=r||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!$i(this.Ff,18)},set:function(t){t?this.Ff=Ki(this.Ff,18):this.Ff=Xi(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!$i(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=Ki(this.Ff,19):this.Ff=Xi(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!$i(this.Ff,20)},set:function(t){t?(this.Ff=Ki(this.Ff,20),e.sort()):this.Ff=Xi(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!$i(this.Ff,22)},set:function(t){t?this.Ff=Ki(this.Ff,22):this.Ff=Xi(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!$i(this.Ff,23)},set:function(t){t?this.Ff=Ki(this.Ff,23):this.Ff=Xi(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!$i(this.Ff,27)},set:function(t){t?this.Ff=Ki(this.Ff,27):this.Ff=Xi(this.Ff,27)}}),this.hasAppearanceStream=!1};yo(d0,tc);var m0=function(){d0.call(this),this.fontName="helvetica",this.combo=!1};yo(m0,d0);var p0=function(){m0.call(this),this.combo=!0};yo(p0,m0);var X1=function(){p0.call(this),this.edit=!0};yo(X1,p0);var Pa=function(){tc.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!$i(this.Ff,15)},set:function(t){t?this.Ff=Ki(this.Ff,15):this.Ff=Xi(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!$i(this.Ff,16)},set:function(t){t?this.Ff=Ki(this.Ff,16):this.Ff=Xi(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!$i(this.Ff,17)},set:function(t){t?this.Ff=Ki(this.Ff,17):this.Ff=Xi(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!$i(this.Ff,26)},set:function(t){t?this.Ff=Ki(this.Ff,26):this.Ff=Xi(this.Ff,26)}});var n,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(a){return a};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+Zf(t(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(t){Cr(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(t){n="/"+t}})};yo(Pa,tc);var J1=function(){Pa.call(this),this.pushButton=!0};yo(J1,Pa);var g0=function(){Pa.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e!==void 0?e:[]}})};yo(g0,Pa);var S2=function(){var n,e;tc.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var t,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(c){return c};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var a,o=[];for(a in o.push("<<"),r)o.push("/"+a+" ("+Zf(i(r[a]))+")");return o.push(">>"),o.join(`
`)},set:function(i){Cr(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(i){t="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=on.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};yo(S2,tc),g0.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=n.createAppearanceStream(t.optionName),t.caption=n.getCA()}},g0.prototype.createOption=function(n){var e=new S2;return e.Parent=this,e.optionName=n,this.Kids.push(e),NY.call(this.scope,e),e};var Q1=function(){Pa.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=on.CheckBox.createAppearanceStream()};yo(Q1,Pa);var If=function(){tc.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!$i(this.Ff,13)},set:function(e){e?this.Ff=Ki(this.Ff,13):this.Ff=Xi(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!$i(this.Ff,21)},set:function(e){e?this.Ff=Ki(this.Ff,21):this.Ff=Xi(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!$i(this.Ff,23)},set:function(e){e?this.Ff=Ki(this.Ff,23):this.Ff=Xi(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!$i(this.Ff,24)},set:function(e){e?this.Ff=Ki(this.Ff,24):this.Ff=Xi(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!$i(this.Ff,25)},set:function(e){e?this.Ff=Ki(this.Ff,25):this.Ff=Xi(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!$i(this.Ff,26)},set:function(e){e?this.Ff=Ki(this.Ff,26):this.Ff=Xi(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){Number.isInteger(e)&&(n=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};yo(If,tc);var Z1=function(){If.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!$i(this.Ff,14)},set:function(n){n?this.Ff=Ki(this.Ff,14):this.Ff=Xi(this.Ff,14)}}),this.password=!0};yo(Z1,If);var on={CheckBox:{createAppearanceStream:function(){return{N:{On:on.CheckBox.YesNormal},D:{On:on.CheckBox.YesPushDown,Off:on.CheckBox.OffPushDown}}},YesPushDown:function(n){var e=Sc(n);e.scope=n.scope;var t=[],r=n.scope.internal.getFont(n.fontName,n.fontStyle).id,i=n.scope.__private__.encodeColorString(n.color),a=p5(n,n.caption);return t.push("0.749023 g"),t.push("0 0 "+On(on.internal.getWidth(n))+" "+On(on.internal.getHeight(n))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+r+" "+On(a.fontSize)+" Tf "+i),t.push("BT"),t.push(a.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(n){var e=Sc(n);e.scope=n.scope;var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),i=[],a=on.internal.getHeight(n),o=on.internal.getWidth(n),c=p5(n,n.caption);return i.push("1 g"),i.push("0 0 "+On(o)+" "+On(a)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+On(o-1)+" "+On(a-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+t+" "+On(c.fontSize)+" Tf "+r),i.push(c.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(n){var e=Sc(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+On(on.internal.getWidth(n))+" "+On(on.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(n){var e={D:{Off:on.RadioButton.Circle.OffPushDown},N:{}};return e.N[n]=on.RadioButton.Circle.YesNormal,e.D[n]=on.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(n){var e=Sc(n);e.scope=n.scope;var t=[],r=on.internal.getWidth(n)<=on.internal.getHeight(n)?on.internal.getWidth(n)/4:on.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=on.internal.Bezier_C,a=Number((r*i).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+vh(on.internal.getWidth(n)/2)+" "+vh(on.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),t.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),t.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),t.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=Sc(n);e.scope=n.scope;var t=[],r=on.internal.getWidth(n)<=on.internal.getHeight(n)?on.internal.getWidth(n)/4:on.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),a=Number((i*on.internal.Bezier_C).toFixed(5)),o=Number((r*on.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+vh(on.internal.getWidth(n)/2)+" "+vh(on.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),t.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),t.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),t.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+vh(on.internal.getWidth(n)/2)+" "+vh(on.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),t.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),t.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),t.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(n){var e=Sc(n);e.scope=n.scope;var t=[],r=on.internal.getWidth(n)<=on.internal.getHeight(n)?on.internal.getWidth(n)/4:on.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),a=Number((i*on.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+vh(on.internal.getWidth(n)/2)+" "+vh(on.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),t.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),t.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),t.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(n){var e={D:{Off:on.RadioButton.Cross.OffPushDown},N:{}};return e.N[n]=on.RadioButton.Cross.YesNormal,e.D[n]=on.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(n){var e=Sc(n);e.scope=n.scope;var t=[],r=on.internal.calculateCross(n);return t.push("q"),t.push("1 1 "+On(on.internal.getWidth(n)-2)+" "+On(on.internal.getHeight(n)-2)+" re"),t.push("W"),t.push("n"),t.push(On(r.x1.x)+" "+On(r.x1.y)+" m"),t.push(On(r.x2.x)+" "+On(r.x2.y)+" l"),t.push(On(r.x4.x)+" "+On(r.x4.y)+" m"),t.push(On(r.x3.x)+" "+On(r.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=Sc(n);e.scope=n.scope;var t=on.internal.calculateCross(n),r=[];return r.push("0.749023 g"),r.push("0 0 "+On(on.internal.getWidth(n))+" "+On(on.internal.getHeight(n))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+On(on.internal.getWidth(n)-2)+" "+On(on.internal.getHeight(n)-2)+" re"),r.push("W"),r.push("n"),r.push(On(t.x1.x)+" "+On(t.x1.y)+" m"),r.push(On(t.x2.x)+" "+On(t.x2.y)+" l"),r.push(On(t.x4.x)+" "+On(t.x4.y)+" m"),r.push(On(t.x3.x)+" "+On(t.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(n){var e=Sc(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+On(on.internal.getWidth(n))+" "+On(on.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(n){var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,t=n.scope.__private__.encodeColorString(n.color);return"/"+e+" "+n.fontSize+" Tf "+t}};on.internal={Bezier_C:.551915024494,calculateCross:function(n){var e=on.internal.getWidth(n),t=on.internal.getHeight(n),r=Math.min(e,t);return{x1:{x:(e-r)/2,y:(t-r)/2+r},x2:{x:(e-r)/2+r,y:(t-r)/2},x3:{x:(e-r)/2,y:(t-r)/2},x4:{x:(e-r)/2+r,y:(t-r)/2+r}}}},on.internal.getWidth=function(n){var e=0;return Cr(n)==="object"&&(e=BA(n.Rect[2])),e},on.internal.getHeight=function(n){var e=0;return Cr(n)==="object"&&(e=BA(n.Rect[3])),e};var NY=Mi.addField=function(n){if(AY(this,n),!(n instanceof tc))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=n).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};Mi.AcroFormChoiceField=d0,Mi.AcroFormListBox=m0,Mi.AcroFormComboBox=p0,Mi.AcroFormEditBox=X1,Mi.AcroFormButton=Pa,Mi.AcroFormPushButton=J1,Mi.AcroFormRadioButton=g0,Mi.AcroFormCheckBox=Q1,Mi.AcroFormTextField=If,Mi.AcroFormPasswordField=Z1,Mi.AcroFormAppearance=on,Mi.AcroForm={ChoiceField:d0,ListBox:m0,ComboBox:p0,EditBox:X1,Button:Pa,PushButton:J1,RadioButton:g0,CheckBox:Q1,TextField:If,PasswordField:Z1,Appearance:on},hn.AcroForm={ChoiceField:d0,ListBox:m0,ComboBox:p0,EditBox:X1,Button:Pa,PushButton:J1,RadioButton:g0,CheckBox:Q1,TextField:If,PasswordField:Z1,Appearance:on};hn.AcroForm;function UR(n){return n.reduce(function(e,t,r){return e[t]=r,e},{})}(function(n){var e="addImage_";n.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=n.__addimage__.getImageFileTypeByImageData=function(O,M){var B,Y,we,fe,le,pe=t;if((M=M||t)==="RGBA"||O.data!==void 0&&O.data instanceof Uint8ClampedArray&&"height"in O&&"width"in O)return"RGBA";if(U(O))for(le in r)for(we=r[le],B=0;B<we.length;B+=1){for(fe=!0,Y=0;Y<we[B].length;Y+=1)if(we[B][Y]!==void 0&&we[B][Y]!==O[Y]){fe=!1;break}if(fe===!0){pe=le;break}}else for(le in r)for(we=r[le],B=0;B<we.length;B+=1){for(fe=!0,Y=0;Y<we[B].length;Y+=1)if(we[B][Y]!==void 0&&we[B][Y]!==O.charCodeAt(Y)){fe=!1;break}if(fe===!0){pe=le;break}}return pe===t&&M!==t&&(pe=M),pe},a=function O(M){for(var B=this.internal.write,Y=this.internal.putStream,we=(0,this.internal.getFilters)();we.indexOf("FlateEncode")!==-1;)we.splice(we.indexOf("FlateEncode"),1);M.objectId=this.internal.newObject();var fe=[];if(fe.push({key:"Type",value:"/XObject"}),fe.push({key:"Subtype",value:"/Image"}),fe.push({key:"Width",value:M.width}),fe.push({key:"Height",value:M.height}),M.colorSpace===N.INDEXED?fe.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(M.palette.length/3-1)+" "+("sMask"in M&&M.sMask!==void 0?M.objectId+2:M.objectId+1)+" 0 R]"}):(fe.push({key:"ColorSpace",value:"/"+M.colorSpace}),M.colorSpace===N.DEVICE_CMYK&&fe.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),fe.push({key:"BitsPerComponent",value:M.bitsPerComponent}),"decodeParameters"in M&&M.decodeParameters!==void 0&&fe.push({key:"DecodeParms",value:"<<"+M.decodeParameters+">>"}),"transparency"in M&&Array.isArray(M.transparency)&&M.transparency.length>0){for(var le="",pe=0,Ie=M.transparency.length;pe<Ie;pe++)le+=M.transparency[pe]+" "+M.transparency[pe]+" ";fe.push({key:"Mask",value:"["+le+"]"})}M.sMask!==void 0&&fe.push({key:"SMask",value:M.objectId+1+" 0 R"});var Ae=M.filter!==void 0?["/"+M.filter]:void 0;if(Y({data:M.data,additionalKeyValues:fe,alreadyAppliedFilters:Ae,objectId:M.objectId}),B("endobj"),"sMask"in M&&M.sMask!==void 0){var re,L=(re=M.sMaskBitsPerComponent)!==null&&re!==void 0?re:M.bitsPerComponent,G={width:M.width,height:M.height,colorSpace:"DeviceGray",bitsPerComponent:L,data:M.sMask};"filter"in M&&(G.decodeParameters="/Predictor ".concat(M.predictor," /Colors 1 /BitsPerComponent ").concat(L," /Columns ").concat(M.width),G.filter=M.filter),O.call(this,G)}if(M.colorSpace===N.INDEXED){var q=this.internal.newObject();Y({data:k(new Uint8Array(M.palette)),objectId:q}),B("endobj")}},o=function(){var O=this.internal.collections[e+"images"];for(var M in O)a.call(this,O[M])},c=function(){var O,M=this.internal.collections[e+"images"],B=this.internal.write;for(var Y in M)B("/I"+(O=M[Y]).index,O.objectId,"0","R")},u=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",c))},h=function(){var O=this.internal.collections[e+"images"];return u.call(this),O},m=function(){return Object.keys(this.internal.collections[e+"images"]).length},g=function(O){return typeof n["process"+O.toUpperCase()]=="function"},_=function(O){return Cr(O)==="object"&&O.nodeType===1},v=function(O,M){if(O.nodeName==="IMG"&&O.hasAttribute("src")){var B=""+O.getAttribute("src");if(B.indexOf("data:image/")===0)return K1(unescape(B).split("base64,").pop());var Y=n.loadFile(B,!0);if(Y!==void 0)return Y}if(O.nodeName==="CANVAS"){if(O.width===0||O.height===0)throw new Error("Given canvas must have data. Canvas width: "+O.width+", height: "+O.height);var we;switch(M){case"PNG":we="image/png";break;case"WEBP":we="image/webp";break;default:we="image/jpeg"}return K1(O.toDataURL(we,1).split("base64,").pop())}},b=function(O){var M=this.internal.collections[e+"images"];if(M){for(var B in M)if(O===M[B].alias)return M[B]}},w=function(O,M,B){return O||M||(O=-96,M=-96),O<0&&(O=-1*B.width*72/O/this.internal.scaleFactor),M<0&&(M=-1*B.height*72/M/this.internal.scaleFactor),O===0&&(O=M*B.width/B.height),M===0&&(M=O*B.height/B.width),[O,M]},T=function(O,M,B,Y,we,fe){var le=w.call(this,B,Y,we),pe=this.internal.getCoordinateString,Ie=this.internal.getVerticalCoordinateString,Ae=h.call(this);if(B=le[0],Y=le[1],Ae[we.index]=we,fe){fe*=Math.PI/180;var re=Math.cos(fe),L=Math.sin(fe),G=function(J){return J.toFixed(4)},q=[G(re),G(L),G(-1*L),G(re),0,0,"cm"]}this.internal.write("q"),fe?(this.internal.write([1,"0","0",1,pe(O),Ie(M+Y),"cm"].join(" ")),this.internal.write(q.join(" ")),this.internal.write([pe(B),"0","0",pe(Y),"0","0","cm"].join(" "))):this.internal.write([pe(B),"0","0",pe(Y),pe(O),Ie(M+Y),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+we.index+" Do"),this.internal.write("Q")},N=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var P=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},R=n.__addimage__.sHashCode=function(O){var M,B,Y=0;if(typeof O=="string")for(B=O.length,M=0;M<B;M++)Y=(Y<<5)-Y+O.charCodeAt(M),Y|=0;else if(U(O))for(B=O.byteLength/2,M=0;M<B;M++)Y=(Y<<5)-Y+O[M],Y|=0;return Y},j=n.__addimage__.validateStringAsBase64=function(O){(O=O||"").toString().trim();var M=!0;return O.length===0&&(M=!1),O.length%4!=0&&(M=!1),/^[A-Za-z0-9+/]+$/.test(O.substr(0,O.length-2))===!1&&(M=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(O.substr(-2))===!1&&(M=!1),M},K=n.__addimage__.extractImageFromDataUrl=function(O){if(O==null||!(O=O.trim()).startsWith("data:"))return null;var M=O.indexOf(",");return M<0?null:O.substring(0,M).trim().endsWith("base64")?O.substring(M+1):null};n.__addimage__.isArrayBuffer=function(O){return O instanceof ArrayBuffer};var U=n.__addimage__.isArrayBufferView=function(O){return O instanceof Int8Array||O instanceof Uint8Array||O instanceof Uint8ClampedArray||O instanceof Int16Array||O instanceof Uint16Array||O instanceof Int32Array||O instanceof Uint32Array||O instanceof Float32Array||O instanceof Float64Array},C=n.__addimage__.binaryStringToUint8Array=function(O){for(var M=O.length,B=new Uint8Array(M),Y=0;Y<M;Y++)B[Y]=O.charCodeAt(Y);return B},k=n.__addimage__.arrayBufferToBinaryString=function(O){for(var M="",B=U(O)?O:new Uint8Array(O),Y=0;Y<B.length;Y+=8192)M+=String.fromCharCode.apply(null,B.subarray(Y,Y+8192));return M};n.addImage=function(){var O,M,B,Y,we,fe,le,pe,Ie;if(typeof arguments[1]=="number"?(M=t,B=arguments[1],Y=arguments[2],we=arguments[3],fe=arguments[4],le=arguments[5],pe=arguments[6],Ie=arguments[7]):(M=arguments[1],B=arguments[2],Y=arguments[3],we=arguments[4],fe=arguments[5],le=arguments[6],pe=arguments[7],Ie=arguments[8]),Cr(O=arguments[0])==="object"&&!_(O)&&"imageData"in O){var Ae=O;O=Ae.imageData,M=Ae.format||M||t,B=Ae.x||B||0,Y=Ae.y||Y||0,we=Ae.w||Ae.width||we,fe=Ae.h||Ae.height||fe,le=Ae.alias||le,pe=Ae.compression||pe,Ie=Ae.rotation||Ae.angle||Ie}var re=this.internal.getFilters();if(pe===void 0&&re.indexOf("FlateEncode")!==-1&&(pe="SLOW"),isNaN(B)||isNaN(Y))throw new Error("Invalid coordinates passed to jsPDF.addImage");u.call(this);var L=I.call(this,O,M,le,pe);return T.call(this,B,Y,we,fe,L,Ie),this};var I=function(O,M,B,Y){var we,fe,le;if(typeof O=="string"&&i(O)===t){O=unescape(O);var pe=z(O,!1);(pe!==""||(pe=n.loadFile(O,!0))!==void 0)&&(O=pe)}if(_(O)&&(O=v(O,M)),M=i(O,M),!g(M))throw new Error("addImage does not support files of type '"+M+"', please ensure that a plugin for '"+M+"' support is added.");if(((le=B)==null||le.length===0)&&(B=(function(Ie){return typeof Ie=="string"||U(Ie)?R(Ie):U(Ie.data)?R(Ie.data):null})(O)),(we=b.call(this,B))||(O instanceof Uint8Array||M==="RGBA"||(fe=O,O=C(O)),we=this["process"+M.toUpperCase()](O,m.call(this),B,(function(Ie){return Ie&&typeof Ie=="string"&&(Ie=Ie.toUpperCase()),Ie in n.image_compression?Ie:P.NONE})(Y),fe)),!we)throw new Error("An unknown error occurred whilst processing the image.");return we},z=n.__addimage__.convertBase64ToBinaryString=function(O,M){M=typeof M!="boolean"||M;var B,Y="";if(typeof O=="string"){var we;B=(we=K(O))!==null&&we!==void 0?we:O;try{Y=K1(B)}catch(fe){if(M)throw j(B)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+fe.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return Y};n.getImageProperties=function(O){var M,B,Y="";if(_(O)&&(O=v(O)),typeof O=="string"&&i(O)===t&&((Y=z(O,!1))===""&&(Y=n.loadFile(O)||""),O=Y),B=i(O),!g(B))throw new Error("addImage does not support files of type '"+B+"', please ensure that a plugin for '"+B+"' support is added.");if(O instanceof Uint8Array||(O=C(O)),!(M=this["process"+B.toUpperCase()](O)))throw new Error("An unknown error occurred whilst processing the image");return M.fileType=B,M}})(hn.API),(function(n){var e=function(t){if(t!==void 0&&t!="")return!0};hn.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(t){for(var r,i,a,o=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString,u=this.internal.getPageInfoByObjId(t.objId),h=t.pageContext.annotations,m=!1,g=0;g<h.length&&!m;g++)switch((r=h[g]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(m=!0);break;case"reference":case"text":case"freetext":m=!0}if(m!=0){this.internal.write("/Annots [");for(var _=0;_<h.length;_++){r=h[_];var v=this.internal.pdfEscape,b=this.internal.getEncryptor(t.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var w=this.internal.newAdditionalObject(),T=this.internal.newAdditionalObject(),N=this.internal.getEncryptor(w.objId),P=r.title||"Note";a="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(r.bounds.x)+" "+c(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w)+" "+c(r.bounds.y)+"] ")+"/Contents ("+v(N(r.contents))+")",a+=" /Popup "+T.objId+" 0 R",a+=" /P "+u.objId+" 0 R",a+=" /T ("+v(N(P))+") >>",w.content=a;var R=w.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(r.bounds.x+30)+" "+c(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w+30)+" "+c(r.bounds.y)+"] ")+" /Parent "+R,r.open&&(a+=" /Open true"),a+=" >>",T.content=a,this.internal.write(w.objId,"0 R",T.objId,"0 R");break;case"freetext":i="/Rect ["+o(r.bounds.x)+" "+c(r.bounds.y)+" "+o(r.bounds.x+r.bounds.w)+" "+c(r.bounds.y+r.bounds.h)+"] ";var j=r.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+v(b(r.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+j+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(r.options.name){var K=this.annotations._nameMap[r.options.name];r.options.pageNumber=K.page,r.options.top=K.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",a="",r.options.url)a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+v(b(r.options.url))+") >>";else if(r.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,a+=" /FitV "+r.options.left+"]";break;default:var U=c(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),a+=" /XYZ "+r.options.left+" "+U+" "+r.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),n.createAnnotation=function(t){var r=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":r.pageContext.annotations.push(t)}},n.link=function(t,r,i,a,o){var c=this.internal.getCurrentPageInfo(),u=this.internal.getCoordinateString,h=this.internal.getVerticalCoordinateString;c.pageContext.annotations.push({finalBounds:{x:u(t),y:h(r),w:u(t+i),h:h(r+a)},options:o,type:"link"})},n.textWithLink=function(t,r,i,a){var o,c,u=this.getTextWidth(t),h=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){c=a.maxWidth;var m=this.splitTextToSize(t,c).length;o=Math.ceil(h*m)}else c=u,o=h;return this.text(t,r,i,a),i+=.2*h,a.align==="center"&&(r-=u/2),a.align==="right"&&(r-=u),this.link(r,i-h,c,o,a),u},n.getTextWidth=function(t){var r=this.internal.getFontSize();return this.getStringUnitWidth(t)*r/this.internal.scaleFactor}})(hn.API),(function(n){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];n.__arabicParser__={};var a=n.__arabicParser__.isInArabicSubstitutionA=function(w){return e[w.charCodeAt(0)]!==void 0},o=n.__arabicParser__.isArabicLetter=function(w){return typeof w=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(w)},c=n.__arabicParser__.isArabicEndLetter=function(w){return o(w)&&a(w)&&e[w.charCodeAt(0)].length<=2},u=n.__arabicParser__.isArabicAlfLetter=function(w){return o(w)&&i.indexOf(w.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(w){return o(w)&&a(w)&&e[w.charCodeAt(0)].length>=1};var h=n.__arabicParser__.arabicLetterHasFinalForm=function(w){return o(w)&&a(w)&&e[w.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(w){return o(w)&&a(w)&&e[w.charCodeAt(0)].length>=3};var m=n.__arabicParser__.arabicLetterHasMedialForm=function(w){return o(w)&&a(w)&&e[w.charCodeAt(0)].length==4},g=n.__arabicParser__.resolveLigatures=function(w){var T=0,N=t,P="",R=0;for(T=0;T<w.length;T+=1)N[w.charCodeAt(T)]!==void 0?(R++,typeof(N=N[w.charCodeAt(T)])=="number"&&(P+=String.fromCharCode(N),N=t,R=0),T===w.length-1&&(N=t,P+=w.charAt(T-(R-1)),T-=R-1,R=0)):(N=t,P+=w.charAt(T-R),T-=R,R=0);return P};n.__arabicParser__.isArabicDiacritic=function(w){return w!==void 0&&r[w.charCodeAt(0)]!==void 0};var _=n.__arabicParser__.getCorrectForm=function(w,T,N){return o(w)?a(w)===!1?-1:!h(w)||!o(T)&&!o(N)||!o(N)&&c(T)||c(w)&&!o(T)||c(w)&&u(T)||c(w)&&c(T)?0:m(w)&&o(T)&&!c(T)&&o(N)&&h(N)?3:c(w)||!o(N)?1:2:-1},v=function(w){var T=0,N=0,P=0,R="",j="",K="",U=(w=w||"").split("\\s+"),C=[];for(T=0;T<U.length;T+=1){for(C.push(""),N=0;N<U[T].length;N+=1)R=U[T][N],j=U[T][N-1],K=U[T][N+1],o(R)?(P=_(R,j,K),C[T]+=P!==-1?String.fromCharCode(e[R.charCodeAt(0)][P]):R):C[T]+=R;C[T]=g(C[T])}return C.join(" ")},b=n.__arabicParser__.processArabic=n.processArabic=function(){var w,T=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,N=[];if(Array.isArray(T)){var P=0;for(N=[],P=0;P<T.length;P+=1)Array.isArray(T[P])?N.push([v(T[P][0]),T[P][1],T[P][2]]):N.push([v(T[P])]);w=N}else w=v(T);return typeof arguments[0]=="string"?w:(arguments[0].text=w,arguments[0])};n.events.push(["preProcessText",b])})(hn.API),hn.API.autoPrint=function(n){var e;return(n=n||{}).variant=n.variant||"non-conform",n.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(n){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(c){t=c}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(c){r=isNaN(c)||Number.isInteger(c)===!1||c<0?150:c,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(c){i=isNaN(c)||Number.isInteger(c)===!1||c<0?300:c,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(c){a=c}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(c){o=c}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,r){var i;if((t=t||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(hn.API),(function(n){var e={left:0,top:0,bottom:0,right:0},t=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var u=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return u},set:function(w){u=w}});var h=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return h},set:function(w){h=w}});var m=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return m},set:function(w){m=w}});var g=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return g},set:function(w){g=w}});var _=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return _},set:function(w){_=w}});var v=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return v},set:function(w){v=w}});var b=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return b},set:function(w){b=w}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(u){return r.call(this),this.internal.__cell__.headerFunction=typeof u=="function"?u:void 0,this},n.getTextDimensions=function(u,h){r.call(this);var m=(h=h||{}).fontSize||this.getFontSize(),g=h.font||this.getFont(),_=h.scaleFactor||this.internal.scaleFactor,v=0,b=0,w=0,T=this;if(!Array.isArray(u)&&typeof u!="string"){if(typeof u!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");u=String(u)}var N=h.maxWidth;N>0?typeof u=="string"?u=this.splitTextToSize(u,N):Object.prototype.toString.call(u)==="[object Array]"&&(u=u.reduce(function(R,j){return R.concat(T.splitTextToSize(j,N))},[])):u=Array.isArray(u)?u:[u];for(var P=0;P<u.length;P++)v<(w=this.getStringUnitWidth(u[P],{font:g})*m)&&(v=w);return v!==0&&(b=u.length),{w:v/=_,h:Math.max((b*m*this.getLineHeightFactor()-m*(this.getLineHeightFactor()-1))/_,0)}},n.cellAddPage=function(){r.call(this),this.addPage();var u=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new a(u.left,u.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=n.cell=function(){var u;u=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),r.call(this);var h=this.internal.__cell__.lastCell,m=this.internal.__cell__.padding,g=this.internal.__cell__.margins||e,_=this.internal.__cell__.tableHeaderRow,v=this.internal.__cell__.printHeaders;return h.lineNumber!==void 0&&(h.lineNumber===u.lineNumber?(u.x=(h.x||0)+(h.width||0),u.y=h.y||0):h.y+h.height+u.height+g.bottom>this.getPageHeight()?(this.cellAddPage(),u.y=g.top,v&&_&&(this.printHeaderRow(u.lineNumber,!0),u.y+=_[0].height)):u.y=h.y+h.height||u.y),u.text[0]!==void 0&&(this.rect(u.x,u.y,u.width,u.height,t===!0?"FD":void 0),u.align==="right"?this.text(u.text,u.x+u.width-m,u.y+m,{align:"right",baseline:"top"}):u.align==="center"?this.text(u.text,u.x+u.width/2,u.y+m,{align:"center",baseline:"top",maxWidth:u.width-m-m}):this.text(u.text,u.x+m,u.y+m,{align:"left",baseline:"top",maxWidth:u.width-m-m})),this.internal.__cell__.lastCell=u,this};n.table=function(u,h,m,g,_){if(r.call(this),!m)throw new Error("No data for PDF table.");var v,b,w,T,N=[],P=[],R=[],j={},K={},U=[],C=[],k=(_=_||{}).autoSize||!1,I=_.printHeaders!==!1,z=_.css&&_.css["font-size"]!==void 0?16*_.css["font-size"]:_.fontSize||12,O=_.margins||Object.assign({width:this.getPageWidth()},e),M=typeof _.padding=="number"?_.padding:3,B=_.headerBackgroundColor||"#c8c8c8",Y=_.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=I,this.internal.__cell__.margins=O,this.internal.__cell__.table_font_size=z,this.internal.__cell__.padding=M,this.internal.__cell__.headerBackgroundColor=B,this.internal.__cell__.headerTextColor=Y,this.setFontSize(z),g==null)P=N=Object.keys(m[0]),R=N.map(function(){return"left"});else if(Array.isArray(g)&&Cr(g[0])==="object")for(N=g.map(function(Ae){return Ae.name}),P=g.map(function(Ae){return Ae.prompt||Ae.name||""}),R=g.map(function(Ae){return Ae.align||"left"}),v=0;v<g.length;v+=1)K[g[v].name]=.7499990551181103*g[v].width;else Array.isArray(g)&&typeof g[0]=="string"&&(P=N=g,R=N.map(function(){return"left"}));if(k||Array.isArray(g)&&typeof g[0]=="string")for(v=0;v<N.length;v+=1){for(j[T=N[v]]=m.map(function(Ae){return Ae[T]}),this.setFont(void 0,"bold"),U.push(this.getTextDimensions(P[v],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),b=j[T],this.setFont(void 0,"normal"),w=0;w<b.length;w+=1)U.push(this.getTextDimensions(b[w],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);K[T]=Math.max.apply(null,U)+M+M,U=[]}if(I){var we={};for(v=0;v<N.length;v+=1)we[N[v]]={},we[N[v]].text=P[v],we[N[v]].align=R[v];var fe=c.call(this,we,K);C=N.map(function(Ae){return new a(u,h,K[Ae],fe,we[Ae].text,void 0,we[Ae].align)}),this.setTableHeaderRow(C),this.printHeaderRow(1,!1)}var le=g.reduce(function(Ae,re){return Ae[re.name]=re.align,Ae},{});for(v=0;v<m.length;v+=1){"rowStart"in _&&_.rowStart instanceof Function&&_.rowStart({row:v,data:m[v]},this);var pe=c.call(this,m[v],K);for(w=0;w<N.length;w+=1){var Ie=m[v][N[w]];"cellStart"in _&&_.cellStart instanceof Function&&_.cellStart({row:v,col:w,data:Ie},this),o.call(this,new a(u,h,K[N[w]],pe,Ie,v+2,le[N[w]]))}}return this.internal.__cell__.table_x=u,this.internal.__cell__.table_y=h,this};var c=function(u,h){var m=this.internal.__cell__.padding,g=this.internal.__cell__.table_font_size,_=this.internal.scaleFactor;return Object.keys(u).map(function(v){var b=u[v];return this.splitTextToSize(b.hasOwnProperty("text")?b.text:b,h[v]-m-m)},this).map(function(v){return this.getLineHeightFactor()*v.length*g/_+m+m},this).reduce(function(v,b){return Math.max(v,b)},0)};n.setTableHeaderRow=function(u){r.call(this),this.internal.__cell__.tableHeaderRow=u},n.printHeaderRow=function(u,h){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var m;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var g=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(g[0],g[1],g[2],g[3],void 0,-1)}this.setFont(void 0,"bold");for(var _=[],v=0;v<this.internal.__cell__.tableHeaderRow.length;v+=1){m=this.internal.__cell__.tableHeaderRow[v].clone(),h&&(m.y=this.internal.__cell__.margins.top||0,_.push(m)),m.lineNumber=u;var b=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,m),this.setTextColor(b)}_.length>0&&this.setTableHeaderRow(_),this.setFont(void 0,"normal"),t=!1}})(hn.API);var VR={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},zR=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],g5=UR(zR),qR=[100,200,300,400,500,600,700,800,900],CY=UR(qR);function lx(n){var e=n.family.replace(/"|'/g,"").toLowerCase(),t=(function(a){return VR[a=a||"normal"]?a:"normal"})(n.style),r=(function(a){return a?typeof a=="number"?a>=100&&a<=900&&a%100==0?a:400:/^\d00$/.test(a)?parseInt(a):a==="bold"?700:400:400})(n.weight),i=(function(a){return typeof g5[a=a||"normal"]=="number"?a:"normal"})(n.stretch);return{family:e,style:t,weight:r,stretch:i,src:n.src||[],ref:n.ref||{name:e,style:[i,t,r].join(" ")}}}function UA(n,e,t,r){var i;for(i=t;i>=0&&i<e.length;i+=r)if(n[e[i]])return n[e[i]];for(i=t;i>=0&&i<e.length;i-=r)if(n[e[i]])return n[e[i]]}var IY={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},VA={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function zA(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function qA(n){return n.trimLeft()}function RY(n,e){for(var t=0;t<n.length;){if(n.charAt(t)===e)return[n.substring(0,t),n.substring(t+1)];t+=1}return null}function kY(n){var e=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],n.substring(e[0].length)]}var w1,HA,GA,qd,b1,WA,YA,$A,cx=["times"];function KA(n,e,t,r,i){var a=4,o=JA;switch(i){case hn.API.image_compression.FAST:a=1,o=XA;break;case hn.API.image_compression.MEDIUM:a=6,o=QA;break;case hn.API.image_compression.SLOW:a=9,o=ZA}n=(function(u,h,m,g){for(var _,v=u.length/h,b=new Uint8Array(u.length+v),w=[OY,XA,JA,QA,ZA],T=0;T<v;T+=1){var N=T*h,P=u.subarray(N,N+h);if(g)b.set(g(P,m,_),N+T);else{for(var R=w.length,j=[],K=0;K<R;K+=1)j[K]=w[K](P,m,_);var U=LY(j.concat());b.set(j[U],N+T)}_=P}return b})(n,e,Math.ceil(t*r/8),o);var c=c5(n,{level:a});return hn.API.__addimage__.arrayBufferToBinaryString(c)}function OY(n){var e=Array.apply([],n);return e.unshift(0),e}function XA(n,e){var t=n.length,r=[];r[0]=1;for(var i=0;i<t;i+=1){var a=n[i-e]||0;r[i+1]=n[i]-a+256&255}return r}function JA(n,e,t){var r=n.length,i=[];i[0]=2;for(var a=0;a<r;a+=1){var o=t&&t[a]||0;i[a+1]=n[a]-o+256&255}return i}function QA(n,e,t){var r=n.length,i=[];i[0]=3;for(var a=0;a<r;a+=1){var o=n[a-e]||0,c=t&&t[a]||0;i[a+1]=n[a]+256-(o+c>>>1)&255}return i}function ZA(n,e,t){var r=n.length,i=[];i[0]=4;for(var a=0;a<r;a+=1){var o=DY(n[a-e]||0,t&&t[a]||0,t&&t[a-e]||0);i[a+1]=n[a]-o+256&255}return i}function DY(n,e,t){if(n===e&&e===t)return n;var r=Math.abs(e-t),i=Math.abs(n-t),a=Math.abs(n+e-t-t);return r<=i&&r<=a?n:i<=a?e:t}function LY(n){var e=n.map(function(t){return t.reduce(function(r,i){return r+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function ux(n,e,t){var r=e*t,i=Math.floor(r/8),a=16-(r-8*i+t),o=(1<<t)-1;return HR(n,i)>>a&o}function eN(n,e,t,r){var i=t*r,a=Math.floor(i/8),o=16-(i-8*a+r),c=(1<<r)-1,u=(e&c)<<o;(function(h,m,g){if(m+1<h.byteLength)h.setUint16(m,g,!1);else{var _=g>>8&255;h.setUint8(m,_)}})(n,a,HR(n,a)&~(c<<o)&65535|u)}function HR(n,e){return e+1<n.byteLength?n.getUint16(e,!1):n.getUint8(e)<<8}function jY(n){var e=0;if(n[e++]!==71||n[e++]!==73||n[e++]!==70||n[e++]!==56||(n[e++]+1&253)!=56||n[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=n[e++]|n[e++]<<8,r=n[e++]|n[e++]<<8,i=n[e++],a=i>>7,o=1<<1+(7&i);n[e++],n[e++];var c=null,u=null;a&&(c=e,u=o,e+=3*o);var h=!0,m=[],g=0,_=null,v=0,b=null;for(this.width=t,this.height=r;h&&e<n.length;)switch(n[e++]){case 33:switch(n[e++]){case 255:if(n[e]!==11||n[e+1]==78&&n[e+2]==69&&n[e+3]==84&&n[e+4]==83&&n[e+5]==67&&n[e+6]==65&&n[e+7]==80&&n[e+8]==69&&n[e+9]==50&&n[e+10]==46&&n[e+11]==48&&n[e+12]==3&&n[e+13]==1&&n[e+16]==0)e+=14,b=n[e++]|n[e++]<<8,e++;else for(e+=12;;){if(!((O=n[e++])>=0))throw Error("Invalid block size");if(O===0)break;e+=O}break;case 249:if(n[e++]!==4||n[e+4]!==0)throw new Error("Invalid graphics extension block.");var w=n[e++];g=n[e++]|n[e++]<<8,_=n[e++],1&w||(_=null),v=w>>2&7,e++;break;case 254:for(;;){if(!((O=n[e++])>=0))throw Error("Invalid block size");if(O===0)break;e+=O}break;default:throw new Error("Unknown graphic control label: 0x"+n[e-1].toString(16))}break;case 44:var T=n[e++]|n[e++]<<8,N=n[e++]|n[e++]<<8,P=n[e++]|n[e++]<<8,R=n[e++]|n[e++]<<8,j=n[e++],K=j>>6&1,U=1<<1+(7&j),C=c,k=u,I=!1;j>>7&&(I=!0,C=e,k=U,e+=3*U);var z=e;for(e++;;){var O;if(!((O=n[e++])>=0))throw Error("Invalid block size");if(O===0)break;e+=O}m.push({x:T,y:N,width:P,height:R,has_local_palette:I,palette_offset:C,palette_size:k,data_offset:z,data_length:e-z,transparent_index:_,interlaced:!!K,delay:g,disposal:v});break;case 59:h=!1;break;default:throw new Error("Unknown gif block: 0x"+n[e-1].toString(16))}this.numFrames=function(){return m.length},this.loopCount=function(){return b},this.frameInfo=function(M){if(M<0||M>=m.length)throw new Error("Frame index out of range.");return m[M]},this.decodeAndBlitFrameBGRA=function(M,B){var Y=this.frameInfo(M),we=Y.width*Y.height,fe=new Uint8Array(we);tN(n,Y.data_offset,fe,we);var le=Y.palette_offset,pe=Y.transparent_index;pe===null&&(pe=256);var Ie=Y.width,Ae=t-Ie,re=Ie,L=4*(Y.y*t+Y.x),G=4*((Y.y+Y.height)*t+Y.x),q=L,J=4*Ae;Y.interlaced===!0&&(J+=4*t*7);for(var ae=8,ge=0,Te=fe.length;ge<Te;++ge){var Se=fe[ge];if(re===0&&(re=Ie,(q+=J)>=G&&(J=4*Ae+4*t*(ae-1),q=L+(Ie+Ae)*(ae<<1),ae>>=1)),Se===pe)q+=4;else{var Ce=n[le+3*Se],et=n[le+3*Se+1],ot=n[le+3*Se+2];B[q++]=ot,B[q++]=et,B[q++]=Ce,B[q++]=255}--re}},this.decodeAndBlitFrameRGBA=function(M,B){var Y=this.frameInfo(M),we=Y.width*Y.height,fe=new Uint8Array(we);tN(n,Y.data_offset,fe,we);var le=Y.palette_offset,pe=Y.transparent_index;pe===null&&(pe=256);var Ie=Y.width,Ae=t-Ie,re=Ie,L=4*(Y.y*t+Y.x),G=4*((Y.y+Y.height)*t+Y.x),q=L,J=4*Ae;Y.interlaced===!0&&(J+=4*t*7);for(var ae=8,ge=0,Te=fe.length;ge<Te;++ge){var Se=fe[ge];if(re===0&&(re=Ie,(q+=J)>=G&&(J=4*Ae+4*t*(ae-1),q=L+(Ie+Ae)*(ae<<1),ae>>=1)),Se===pe)q+=4;else{var Ce=n[le+3*Se],et=n[le+3*Se+1],ot=n[le+3*Se+2];B[q++]=Ce,B[q++]=et,B[q++]=ot,B[q++]=255}--re}}}function tN(n,e,t,r){for(var i=n[e++],a=1<<i,o=a+1,c=o+1,u=i+1,h=(1<<u)-1,m=0,g=0,_=0,v=n[e++],b=new Int32Array(4096),w=null;;){for(;m<16&&v!==0;)g|=n[e++]<<m,m+=8,v===1?v=n[e++]:--v;if(m<u)break;var T=g&h;if(g>>=u,m-=u,T!==a){if(T===o)break;for(var N=T<c?T:w,P=0,R=N;R>a;)R=b[R]>>8,++P;var j=R;if(_+P+(N!==T?1:0)>r)return void Yr.log("Warning, gif stream longer than expected.");t[_++]=j;var K=_+=P;for(N!==T&&(t[_++]=j),R=N;P--;)R=b[R],t[--K]=255&R,R>>=8;w!==null&&c<4096&&(b[c++]=w<<8|j,c>=h+1&&u<12&&(++u,h=h<<1|1)),w=T}else c=o+1,h=(1<<(u=i+1))-1,w=null}return _!==r&&Yr.log("Warning, gif stream shorter than expected."),t}function hx(n){var e,t,r,i,a,o=Math.floor,c=new Array(64),u=new Array(64),h=new Array(64),m=new Array(64),g=new Array(65535),_=new Array(65535),v=new Array(64),b=new Array(64),w=[],T=0,N=7,P=new Array(64),R=new Array(64),j=new Array(64),K=new Array(256),U=new Array(2048),C=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],k=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],I=[0,1,2,3,4,5,6,7,8,9,10,11],z=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],O=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],M=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],B=[0,1,2,3,4,5,6,7,8,9,10,11],Y=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],we=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function fe(L,G){for(var q=0,J=0,ae=new Array,ge=1;ge<=16;ge++){for(var Te=1;Te<=L[ge];Te++)ae[G[J]]=[],ae[G[J]][0]=q,ae[G[J]][1]=ge,J++,q++;q*=2}return ae}function le(L){for(var G=L[0],q=L[1]-1;q>=0;)G&1<<q&&(T|=1<<N),q--,--N<0&&(T==255?(pe(255),pe(0)):pe(T),N=7,T=0)}function pe(L){w.push(L)}function Ie(L){pe(L>>8&255),pe(255&L)}function Ae(L,G,q,J,ae){for(var ge,Te=ae[0],Se=ae[240],Ce=(function(Qe,At){var Ke,ht,Dt,kt,qt,Vt,Gt,Ht,Mt,Wt,Lt=0;for(Mt=0;Mt<8;++Mt){Ke=Qe[Lt],ht=Qe[Lt+1],Dt=Qe[Lt+2],kt=Qe[Lt+3],qt=Qe[Lt+4],Vt=Qe[Lt+5],Gt=Qe[Lt+6];var yn=Ke+(Ht=Qe[Lt+7]),zt=Ke-Ht,Ft=ht+Gt,Rt=ht-Gt,xt=Dt+Vt,Kt=Dt-Vt,En=kt+qt,We=kt-qt,wt=yn+En,nn=yn-En,Bt=Ft+xt,Nt=Ft-xt;Qe[Lt]=wt+Bt,Qe[Lt+4]=wt-Bt;var xn=.707106781*(Nt+nn);Qe[Lt+2]=nn+xn,Qe[Lt+6]=nn-xn;var Kr=.382683433*((wt=We+Kt)-(Nt=Rt+zt)),Ur=.5411961*wt+Kr,Ji=1.306562965*Nt+Kr,Vr=.707106781*(Bt=Kt+Rt),ln=zt+Vr,Wa=zt-Vr;Qe[Lt+5]=Wa+Ur,Qe[Lt+3]=Wa-Ur,Qe[Lt+1]=ln+Ji,Qe[Lt+7]=ln-Ji,Lt+=8}for(Lt=0,Mt=0;Mt<8;++Mt){Ke=Qe[Lt],ht=Qe[Lt+8],Dt=Qe[Lt+16],kt=Qe[Lt+24],qt=Qe[Lt+32],Vt=Qe[Lt+40],Gt=Qe[Lt+48];var _i=Ke+(Ht=Qe[Lt+56]),Xr=Ke-Ht,Ci=ht+Gt,tr=ht-Gt,pr=Dt+Vt,ne=Dt-Vt,_e=kt+qt,ue=kt-qt,de=_i+_e,ve=_i-_e,ye=Ci+pr,Be=Ci-pr;Qe[Lt]=de+ye,Qe[Lt+32]=de-ye;var Ze=.707106781*(Be+ve);Qe[Lt+16]=ve+Ze,Qe[Lt+48]=ve-Ze;var Me=.382683433*((de=ue+ne)-(Be=tr+Xr)),ze=.5411961*de+Me,He=1.306562965*Be+Me,bt=.707106781*(ye=ne+tr),mt=Xr+bt,Et=Xr-bt;Qe[Lt+40]=Et+ze,Qe[Lt+24]=Et-ze,Qe[Lt+8]=mt+He,Qe[Lt+56]=mt-He,Lt++}for(Mt=0;Mt<64;++Mt)Wt=Qe[Mt]*At[Mt],v[Mt]=Wt>0?Wt+.5|0:Wt-.5|0;return v})(L,G),et=0;et<64;++et)b[C[et]]=Ce[et];var ot=b[0]-q;q=b[0],ot==0?le(J[0]):(le(J[_[ge=32767+ot]]),le(g[ge]));for(var tt=63;tt>0&&b[tt]==0;)tt--;if(tt==0)return le(Te),q;for(var it,Z=1;Z<=tt;){for(var Fe=Z;b[Z]==0&&Z<=tt;)++Z;var nt=Z-Fe;if(nt>=16){it=nt>>4;for(var It=1;It<=it;++It)le(Se);nt&=15}ge=32767+b[Z],le(ae[(nt<<4)+_[ge]]),le(g[ge]),Z++}return tt!=63&&le(Te),q}function re(L){L=Math.min(Math.max(L,1),100),a!=L&&((function(G){for(var q=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],J=0;J<64;J++){var ae=o((q[J]*G+50)/100);ae=Math.min(Math.max(ae,1),255),c[C[J]]=ae}for(var ge=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Te=0;Te<64;Te++){var Se=o((ge[Te]*G+50)/100);Se=Math.min(Math.max(Se,1),255),u[C[Te]]=Se}for(var Ce=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],et=0,ot=0;ot<8;ot++)for(var tt=0;tt<8;tt++)h[et]=1/(c[C[et]]*Ce[ot]*Ce[tt]*8),m[et]=1/(u[C[et]]*Ce[ot]*Ce[tt]*8),et++})(L<50?Math.floor(5e3/L):Math.floor(200-2*L)),a=L)}this.encode=function(L,G){G&&re(G),w=new Array,T=0,N=7,Ie(65496),Ie(65504),Ie(16),pe(74),pe(70),pe(73),pe(70),pe(0),pe(1),pe(1),pe(0),Ie(1),Ie(1),pe(0),pe(0),(function(){Ie(65499),Ie(132),pe(0);for(var ht=0;ht<64;ht++)pe(c[ht]);pe(1);for(var Dt=0;Dt<64;Dt++)pe(u[Dt])})(),(function(ht,Dt){Ie(65472),Ie(17),pe(8),Ie(Dt),Ie(ht),pe(3),pe(1),pe(17),pe(0),pe(2),pe(17),pe(1),pe(3),pe(17),pe(1)})(L.width,L.height),(function(){Ie(65476),Ie(418),pe(0);for(var ht=0;ht<16;ht++)pe(k[ht+1]);for(var Dt=0;Dt<=11;Dt++)pe(I[Dt]);pe(16);for(var kt=0;kt<16;kt++)pe(z[kt+1]);for(var qt=0;qt<=161;qt++)pe(O[qt]);pe(1);for(var Vt=0;Vt<16;Vt++)pe(M[Vt+1]);for(var Gt=0;Gt<=11;Gt++)pe(B[Gt]);pe(17);for(var Ht=0;Ht<16;Ht++)pe(Y[Ht+1]);for(var Mt=0;Mt<=161;Mt++)pe(we[Mt])})(),Ie(65498),Ie(12),pe(3),pe(1),pe(0),pe(2),pe(17),pe(3),pe(17),pe(0),pe(63),pe(0);var q=0,J=0,ae=0;T=0,N=7,this.encode.displayName="_encode_";for(var ge,Te,Se,Ce,et,ot,tt,it,Z,Fe=L.data,nt=L.width,It=L.height,Qe=4*nt,At=0;At<It;){for(ge=0;ge<Qe;){for(et=Qe*At+ge,tt=-1,it=0,Z=0;Z<64;Z++)ot=et+(it=Z>>3)*Qe+(tt=4*(7&Z)),At+it>=It&&(ot-=Qe*(At+1+it-It)),ge+tt>=Qe&&(ot-=ge+tt-Qe+4),Te=Fe[ot++],Se=Fe[ot++],Ce=Fe[ot++],P[Z]=(U[Te]+U[Se+256|0]+U[Ce+512|0]>>16)-128,R[Z]=(U[Te+768|0]+U[Se+1024|0]+U[Ce+1280|0]>>16)-128,j[Z]=(U[Te+1280|0]+U[Se+1536|0]+U[Ce+1792|0]>>16)-128;q=Ae(P,h,q,e,r),J=Ae(R,m,J,t,i),ae=Ae(j,m,ae,t,i),ge+=32}At+=8}if(N>=0){var Ke=[];Ke[1]=N+1,Ke[0]=(1<<N+1)-1,le(Ke)}return Ie(65497),new Uint8Array(w)},n=n||50,(function(){for(var L=String.fromCharCode,G=0;G<256;G++)K[G]=L(G)})(),e=fe(k,I),t=fe(M,B),r=fe(z,O),i=fe(Y,we),(function(){for(var L=1,G=2,q=1;q<=15;q++){for(var J=L;J<G;J++)_[32767+J]=q,g[32767+J]=[],g[32767+J][1]=q,g[32767+J][0]=J;for(var ae=-(G-1);ae<=-L;ae++)_[32767+ae]=q,g[32767+ae]=[],g[32767+ae][1]=q,g[32767+ae][0]=G-1+ae;L<<=1,G<<=1}})(),(function(){for(var L=0;L<256;L++)U[L]=19595*L,U[L+256|0]=38470*L,U[L+512|0]=7471*L+32768,U[L+768|0]=-11059*L,U[L+1024|0]=-21709*L,U[L+1280|0]=32768*L+8421375,U[L+1536|0]=-27439*L,U[L+1792|0]=-5329*L})(),re(n)}function Ul(n,e){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function nN(n){function e(I){if(!I)throw Error("assert :P")}function t(I,z,O){for(var M=0;4>M;M++)if(I[z+M]!=O.charCodeAt(M))return!0;return!1}function r(I,z,O,M,B){for(var Y=0;Y<B;Y++)I[z+Y]=O[M+Y]}function i(I,z,O,M){for(var B=0;B<M;B++)I[z+B]=O}function a(I){return new Int32Array(I)}function o(I,z){for(var O=[],M=0;M<I;M++)O.push(new z);return O}function c(I,z){var O=[];return(function M(B,Y,we){for(var fe=we[Y],le=0;le<fe&&(B.push(we.length>Y+1?[]:new z),!(we.length<Y+1));le++)M(B[le],Y+1,we)})(O,0,I),O}var u=function(){var I=this;function z(y,S){for(var F=1<<S-1>>>0;y&F;)F>>>=1;return F?(y&F-1)+F:y}function O(y,S,F,H,te){e(!(H%F));do y[S+(H-=F)]=te;while(0<H)}function M(y,S,F,H,te){if(e(2328>=te),512>=te)var ie=a(512);else if((ie=a(te))==null)return 0;return(function(se,ce,me,Ee,ke,Ge){var xe,De,Ve=ce,st=1<<me,qe=a(16),at=a(16);for(e(ke!=0),e(Ee!=null),e(se!=null),e(0<me),De=0;De<ke;++De){if(15<Ee[De])return 0;++qe[Ee[De]]}if(qe[0]==ke)return 0;for(at[1]=0,xe=1;15>xe;++xe){if(qe[xe]>1<<xe)return 0;at[xe+1]=at[xe]+qe[xe]}for(De=0;De<ke;++De)xe=Ee[De],0<Ee[De]&&(Ge[at[xe]++]=De);if(at[15]==1)return(Ee=new B).g=0,Ee.value=Ge[0],O(se,Ve,1,st,Ee),st;var ft,Ct=-1,vt=st-1,sn=0,Jt=1,An=1,tn=1<<me;for(De=0,xe=1,ke=2;xe<=me;++xe,ke<<=1){if(Jt+=An<<=1,0>(An-=qe[xe]))return 0;for(;0<qe[xe];--qe[xe])(Ee=new B).g=xe,Ee.value=Ge[De++],O(se,Ve+sn,ke,tn,Ee),sn=z(sn,xe)}for(xe=me+1,ke=2;15>=xe;++xe,ke<<=1){if(Jt+=An<<=1,0>(An-=qe[xe]))return 0;for(;0<qe[xe];--qe[xe]){if(Ee=new B,(sn&vt)!=Ct){for(Ve+=tn,ft=1<<(Ct=xe)-me;15>Ct&&!(0>=(ft-=qe[Ct]));)++Ct,ft<<=1;st+=tn=1<<(ft=Ct-me),se[ce+(Ct=sn&vt)].g=ft+me,se[ce+Ct].value=Ve-ce-Ct}Ee.g=xe-me,Ee.value=Ge[De++],O(se,Ve+(sn>>me),ke,tn,Ee),sn=z(sn,xe)}}return Jt!=2*at[15]-1?0:st})(y,S,F,H,te,ie)}function B(){this.value=this.g=0}function Y(){this.value=this.g=0}function we(){this.G=o(5,B),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(lc,Y)}function fe(y,S,F,H){e(y!=null),e(S!=null),e(2147483648>H),y.Ca=254,y.I=0,y.b=-8,y.Ka=0,y.oa=S,y.pa=F,y.Jd=S,y.Yc=F+H,y.Zc=4<=H?F+H-4+1:F,Te(y)}function le(y,S){for(var F=0;0<S--;)F|=Ce(y,128)<<S;return F}function pe(y,S){var F=le(y,S);return Se(y)?-F:F}function Ie(y,S,F,H){var te,ie=0;for(e(y!=null),e(S!=null),e(4294967288>H),y.Sb=H,y.Ra=0,y.u=0,y.h=0,4<H&&(H=4),te=0;te<H;++te)ie+=S[F+te]<<8*te;y.Ra=ie,y.bb=H,y.oa=S,y.pa=F}function Ae(y){for(;8<=y.u&&y.bb<y.Sb;)y.Ra>>>=8,y.Ra+=y.oa[y.pa+y.bb]<<el-8>>>0,++y.bb,y.u-=8;J(y)&&(y.h=1,y.u=0)}function re(y,S){if(e(0<=S),!y.h&&S<=Za){var F=q(y)&ms[S];return y.u+=S,Ae(y),F}return y.h=1,y.u=0}function L(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function G(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function q(y){return y.Ra>>>(y.u&el-1)>>>0}function J(y){return e(y.bb<=y.Sb),y.h||y.bb==y.Sb&&y.u>el}function ae(y,S){y.u=S,y.h=J(y)}function ge(y){y.u>=tl&&(e(y.u>=tl),Ae(y))}function Te(y){e(y!=null&&y.oa!=null),y.pa<y.Zc?(y.I=(y.oa[y.pa++]|y.I<<8)>>>0,y.b+=8):(e(y!=null&&y.oa!=null),y.pa<y.Yc?(y.b+=8,y.I=y.oa[y.pa++]|y.I<<8):y.Ka?y.b=0:(y.I<<=8,y.b+=8,y.Ka=1))}function Se(y){return le(y,1)}function Ce(y,S){var F=y.Ca;0>y.b&&Te(y);var H=y.b,te=F*S>>>8,ie=(y.I>>>H>te)+0;for(ie?(F-=te,y.I-=te+1<<H>>>0):F=te+1,H=F,te=0;256<=H;)te+=8,H>>=8;return H=7^te+Nl[H],y.b-=H,y.Ca=(F<<H)-1,ie}function et(y,S,F){y[S+0]=F>>24&255,y[S+1]=F>>16&255,y[S+2]=F>>8&255,y[S+3]=255&F}function ot(y,S){return y[S+0]|y[S+1]<<8}function tt(y,S){return ot(y,S)|y[S+2]<<16}function it(y,S){return ot(y,S)|ot(y,S+2)<<16}function Z(y,S){var F=1<<S;return e(y!=null),e(0<S),y.X=a(F),y.X==null?0:(y.Mb=32-S,y.Xa=S,1)}function Fe(y,S){e(y!=null),e(S!=null),e(y.Xa==S.Xa),r(S.X,0,y.X,0,1<<S.Xa)}function nt(){this.X=[],this.Xa=this.Mb=0}function It(y,S,F,H){e(F!=null),e(H!=null);var te=F[0],ie=H[0];return te==0&&(te=(y*ie+S/2)/S),ie==0&&(ie=(S*te+y/2)/y),0>=te||0>=ie?0:(F[0]=te,H[0]=ie,1)}function Qe(y,S){return y+(1<<S)-1>>>S}function At(y,S){return((4278255360&y)+(4278255360&S)>>>0&4278255360)+((16711935&y)+(16711935&S)>>>0&16711935)>>>0}function Ke(y,S){I[S]=function(F,H,te,ie,se,ce,me){var Ee;for(Ee=0;Ee<se;++Ee){var ke=I[y](ce[me+Ee-1],te,ie+Ee);ce[me+Ee]=At(F[H+Ee],ke)}}}function ht(){this.ud=this.hd=this.jd=0}function Dt(y,S){return((4278124286&(y^S))>>>1)+(y&S)>>>0}function kt(y){return 0<=y&&256>y?y:0>y?0:255<y?255:void 0}function qt(y,S){return kt(y+(y-S+.5>>1))}function Vt(y,S,F){return Math.abs(S-F)-Math.abs(y-F)}function Gt(y,S,F,H,te,ie,se){for(H=ie[se-1],F=0;F<te;++F)ie[se+F]=H=At(y[S+F],H)}function Ht(y,S,F,H,te){var ie;for(ie=0;ie<F;++ie){var se=y[S+ie],ce=se>>8&255,me=16711935&(me=(me=16711935&se)+((ce<<16)+ce));H[te+ie]=(4278255360&se)+me>>>0}}function Mt(y,S){S.jd=255&y,S.hd=y>>8&255,S.ud=y>>16&255}function Wt(y,S,F,H,te,ie){var se;for(se=0;se<H;++se){var ce=S[F+se],me=ce>>>8,Ee=ce,ke=255&(ke=(ke=ce>>>16)+((y.jd<<24>>24)*(me<<24>>24)>>>5));Ee=255&(Ee=(Ee+=(y.hd<<24>>24)*(me<<24>>24)>>>5)+((y.ud<<24>>24)*(ke<<24>>24)>>>5)),te[ie+se]=(4278255360&ce)+(ke<<16)+Ee}}function Lt(y,S,F,H,te){I[S]=function(ie,se,ce,me,Ee,ke,Ge,xe,De){for(me=Ge;me<xe;++me)for(Ge=0;Ge<De;++Ge)Ee[ke++]=te(ce[H(ie[se++])])},I[y]=function(ie,se,ce,me,Ee,ke,Ge){var xe=8>>ie.b,De=ie.Ea,Ve=ie.K[0],st=ie.w;if(8>xe)for(ie=(1<<ie.b)-1,st=(1<<xe)-1;se<ce;++se){var qe,at=0;for(qe=0;qe<De;++qe)qe&ie||(at=H(me[Ee++])),ke[Ge++]=te(Ve[at&st]),at>>=xe}else I["VP8LMapColor"+F](me,Ee,Ve,st,ke,Ge,se,ce,De)}}function yn(y,S,F,H,te){for(F=S+F;S<F;){var ie=y[S++];H[te++]=ie>>16&255,H[te++]=ie>>8&255,H[te++]=255&ie}}function zt(y,S,F,H,te){for(F=S+F;S<F;){var ie=y[S++];H[te++]=ie>>16&255,H[te++]=ie>>8&255,H[te++]=255&ie,H[te++]=ie>>24&255}}function Ft(y,S,F,H,te){for(F=S+F;S<F;){var ie=(se=y[S++])>>16&240|se>>12&15,se=240&se|se>>28&15;H[te++]=ie,H[te++]=se}}function Rt(y,S,F,H,te){for(F=S+F;S<F;){var ie=(se=y[S++])>>16&248|se>>13&7,se=se>>5&224|se>>3&31;H[te++]=ie,H[te++]=se}}function xt(y,S,F,H,te){for(F=S+F;S<F;){var ie=y[S++];H[te++]=255&ie,H[te++]=ie>>8&255,H[te++]=ie>>16&255}}function Kt(y,S,F,H,te,ie){if(ie==0)for(F=S+F;S<F;)et(H,((ie=y[S++])[0]>>24|ie[1]>>8&65280|ie[2]<<8&16711680|ie[3]<<24)>>>0),te+=32;else r(H,te,y,S,F)}function En(y,S){I[S][0]=I[y+"0"],I[S][1]=I[y+"1"],I[S][2]=I[y+"2"],I[S][3]=I[y+"3"],I[S][4]=I[y+"4"],I[S][5]=I[y+"5"],I[S][6]=I[y+"6"],I[S][7]=I[y+"7"],I[S][8]=I[y+"8"],I[S][9]=I[y+"9"],I[S][10]=I[y+"10"],I[S][11]=I[y+"11"],I[S][12]=I[y+"12"],I[S][13]=I[y+"13"],I[S][14]=I[y+"0"],I[S][15]=I[y+"0"]}function We(y){return y==of||y==hd||y==Wu||y==fd}function wt(){this.eb=[],this.size=this.A=this.fb=0}function nn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Bt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new wt,this.f.kb=new nn,this.sd=null}function Nt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function xn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Kr(y){return alert("todo:WebPSamplerProcessPlane"),y.T}function Ur(y,S){var F=y.T,H=S.ba.f.RGBA,te=H.eb,ie=H.fb+y.ka*H.A,se=ya[S.ba.S],ce=y.y,me=y.O,Ee=y.f,ke=y.N,Ge=y.ea,xe=y.W,De=S.cc,Ve=S.dc,st=S.Mc,qe=S.Nc,at=y.ka,ft=y.ka+y.T,Ct=y.U,vt=Ct+1>>1;for(at==0?se(ce,me,null,null,Ee,ke,Ge,xe,Ee,ke,Ge,xe,te,ie,null,null,Ct):(se(S.ec,S.fc,ce,me,De,Ve,st,qe,Ee,ke,Ge,xe,te,ie-H.A,te,ie,Ct),++F);at+2<ft;at+=2)De=Ee,Ve=ke,st=Ge,qe=xe,ke+=y.Rc,xe+=y.Rc,ie+=2*H.A,se(ce,(me+=2*y.fa)-y.fa,ce,me,De,Ve,st,qe,Ee,ke,Ge,xe,te,ie-H.A,te,ie,Ct);return me+=y.fa,y.j+ft<y.o?(r(S.ec,S.fc,ce,me,Ct),r(S.cc,S.dc,Ee,ke,vt),r(S.Mc,S.Nc,Ge,xe,vt),F--):1&ft||se(ce,me,null,null,Ee,ke,Ge,xe,Ee,ke,Ge,xe,te,ie+H.A,null,null,Ct),F}function Ji(y,S,F){var H=y.F,te=[y.J];if(H!=null){var ie=y.U,se=S.ba.S,ce=se==sf||se==Wu;S=S.ba.f.RGBA;var me=[0],Ee=y.ka;me[0]=y.T,y.Kb&&(Ee==0?--me[0]:(--Ee,te[0]-=y.width),y.j+y.ka+y.T==y.o&&(me[0]=y.o-y.j-Ee));var ke=S.eb;Ee=S.fb+Ee*S.A,y=tf(H,te[0],y.width,ie,me,ke,Ee+(ce?0:3),S.A),e(F==me),y&&We(se)&&Zc(ke,Ee,ce,ie,me,S.A)}return 0}function Vr(y){var S=y.ma,F=S.ba.S,H=11>F,te=F==Ra||F==Js||F==sf||F==Gu||F==12||We(F);if(S.memory=null,S.Ib=null,S.Jb=null,S.Nd=null,!Al(S.Oa,y,te?11:12))return 0;if(te&&We(F)&&Tn(),y.da)alert("todo:use_scaling");else{if(H){if(S.Ib=Kr,y.Kb){if(F=y.U+1>>1,S.memory=a(y.U+2*F),S.memory==null)return 0;S.ec=S.memory,S.fc=0,S.cc=S.ec,S.dc=S.fc+y.U,S.Mc=S.cc,S.Nc=S.dc+F,S.Ib=Ur,Tn()}}else alert("todo:EmitYUV");te&&(S.Jb=Ji,H&&Xe())}if(H&&!pc){for(y=0;256>y;++y)xa[y]=89858*(y-128)+Ku>>ro,Mv[y]=-22014*(y-128)+Ku,pg[y]=-45773*(y-128),vd[y]=113618*(y-128)+Ku>>ro;for(y=ru;y<mc;++y)S=76283*(y-16)+Ku>>ro,Pv[y-ru]=zr(S,255),Fv[y-ru]=zr(S+8>>4,15);pc=1}return 1}function ln(y){var S=y.ma,F=y.U,H=y.T;return e(!(1&y.ka)),0>=F||0>=H?0:(F=S.Ib(y,S),S.Jb!=null&&S.Jb(y,S,F),S.Dc+=F,1)}function Wa(y){y.ma.memory=null}function _i(y,S,F,H){return re(y,8)!=47?0:(S[0]=re(y,14)+1,F[0]=re(y,14)+1,H[0]=re(y,1),re(y,3)!=0?0:!y.h)}function Xr(y,S){if(4>y)return y+1;var F=y-2>>1;return(2+(1&y)<<F)+re(S,F)+1}function Ci(y,S){return 120<S?S-120:1<=(F=((F=Zs[S-1])>>4)*y+(8-(15&F)))?F:1;var F}function tr(y,S,F){var H=q(F),te=y[S+=255&H].g-8;return 0<te&&(ae(F,F.u+8),H=q(F),S+=y[S].value,S+=H&(1<<te)-1),ae(F,F.u+y[S].g),y[S].value}function pr(y,S,F){return F.g+=y.g,F.value+=y.value<<S>>>0,e(8>=F.g),y.g}function ne(y,S,F){var H=y.xc;return e((S=H==0?0:y.vc[y.md*(F>>H)+(S>>H)])<y.Wb),y.Ya[S]}function _e(y,S,F,H){var te=y.ab,ie=y.c*S,se=y.C;S=se+S;var ce=F,me=H;for(H=y.Ta,F=y.Ua;0<te--;){var Ee=y.gc[te],ke=se,Ge=S,xe=ce,De=me,Ve=(me=H,ce=F,Ee.Ea);switch(e(ke<Ge),e(Ge<=Ee.nc),Ee.hc){case 2:wi(xe,De,(Ge-ke)*Ve,me,ce);break;case 0:var st=ke,qe=Ge,at=me,ft=ce,Ct=(tn=Ee).Ea;st==0&&(Vu(xe,De,null,null,1,at,ft),Gt(xe,De+1,0,0,Ct-1,at,ft+1),De+=Ct,ft+=Ct,++st);for(var vt=1<<tn.b,sn=vt-1,Jt=Qe(Ct,tn.b),An=tn.K,tn=tn.w+(st>>tn.b)*Jt;st<qe;){var zn=An,Gr=tn,Rn=1;for(zu(xe,De,at,ft-Ct,1,at,ft);Rn<Ct;){var Qt=(Rn&~sn)+vt;Qt>Ct&&(Qt=Ct),(0,Cl[zn[Gr++]>>8&15])(xe,De+ +Rn,at,ft+Rn-Ct,Qt-Rn,at,ft+Rn),Rn=Qt}De+=Ct,ft+=Ct,++st&sn||(tn+=Jt)}Ge!=Ee.nc&&r(me,ce-Ve,me,ce+(Ge-ke-1)*Ve,Ve);break;case 1:for(Ve=xe,qe=De,Ct=(xe=Ee.Ea)-(ft=xe&~(at=(De=1<<Ee.b)-1)),st=Qe(xe,Ee.b),vt=Ee.K,Ee=Ee.w+(ke>>Ee.b)*st;ke<Ge;){for(sn=vt,Jt=Ee,An=new ht,tn=qe+ft,zn=qe+xe;qe<tn;)Mt(sn[Jt++],An),qu(An,Ve,qe,De,me,ce),qe+=De,ce+=De;qe<zn&&(Mt(sn[Jt++],An),qu(An,Ve,qe,Ct,me,ce),qe+=Ct,ce+=Ct),++ke&at||(Ee+=st)}break;case 3:if(xe==me&&De==ce&&0<Ee.b){for(qe=me,xe=Ve=ce+(Ge-ke)*Ve-(ft=(Ge-ke)*Qe(Ee.Ea,Ee.b)),De=me,at=ce,st=[],ft=(Ct=ft)-1;0<=ft;--ft)st[ft]=De[at+ft];for(ft=Ct-1;0<=ft;--ft)qe[xe+ft]=st[ft];sd(Ee,ke,Ge,me,Ve,me,ce)}else sd(Ee,ke,Ge,xe,De,me,ce)}ce=H,me=F}me!=F&&r(H,F,ce,me,ie)}function ue(y,S){var F=y.V,H=y.Ba+y.c*y.C,te=S-y.C;if(e(S<=y.l.o),e(16>=te),0<te){var ie=y.l,se=y.Ta,ce=y.Ua,me=ie.width;if(_e(y,te,F,H),te=ce=[ce],e((F=y.C)<(H=S)),e(ie.v<ie.va),H>ie.o&&(H=ie.o),F<ie.j){var Ee=ie.j-F;F=ie.j,te[0]+=Ee*me}if(F>=H?F=0:(te[0]+=4*ie.v,ie.ka=F-ie.j,ie.U=ie.va-ie.v,ie.T=H-F,F=1),F){if(ce=ce[0],11>(F=y.ca).S){var ke=F.f.RGBA,Ge=(H=F.S,te=ie.U,ie=ie.T,Ee=ke.eb,ke.A),xe=ie;for(ke=ke.fb+y.Ma*ke.A;0<xe--;){var De=se,Ve=ce,st=te,qe=Ee,at=ke;switch(H){case cd:Hu(De,Ve,st,qe,at);break;case Ra:Il(De,Ve,st,qe,at);break;case of:Il(De,Ve,st,qe,at),Zc(qe,at,0,st,1,0);break;case ud:Jc(De,Ve,st,qe,at);break;case Js:Kt(De,Ve,st,qe,at,1);break;case hd:Kt(De,Ve,st,qe,at,1),Zc(qe,at,0,st,1,0);break;case sf:Kt(De,Ve,st,qe,at,0);break;case Wu:Kt(De,Ve,st,qe,at,0),Zc(qe,at,1,st,1,0);break;case Gu:Rl(De,Ve,st,qe,at);break;case fd:Rl(De,Ve,st,qe,at),Xs(qe,at,st,1,0);break;case cc:il(De,Ve,st,qe,at);break;default:e(0)}ce+=me,ke+=Ge}y.Ma+=ie}else alert("todo:EmitRescaledRowsYUVA");e(y.Ma<=F.height)}}y.C=S,e(y.C<=y.i)}function de(y){var S;if(0<y.ua)return 0;for(S=0;S<y.Wb;++S){var F=y.Ya[S].G,H=y.Ya[S].H;if(0<F[1][H[1]+0].g||0<F[2][H[2]+0].g||0<F[3][H[3]+0].g)return 0}return 1}function ve(y,S,F,H,te,ie){if(y.Z!=0){var se=y.qd,ce=y.rd;for(e(Dl[y.Z]!=null);S<F;++S)Dl[y.Z](se,ce,H,te,H,te,ie),se=H,ce=te,te+=ie;y.qd=se,y.rd=ce}}function ye(y,S){var F=y.l.ma,H=F.Z==0||F.Z==1?y.l.j:y.C;if(H=y.C<H?H:y.C,e(S<=y.l.o),S>H){var te=y.l.width,ie=F.ca,se=F.tb+te*H,ce=y.V,me=y.Ba+y.c*H,Ee=y.gc;e(y.ab==1),e(Ee[0].hc==3),rl(Ee[0],H,S,ce,me,ie,se),ve(F,H,S,ie,se,te)}y.C=y.Ma=S}function Be(y,S,F,H,te,ie,se){var ce=y.$/H,me=y.$%H,Ee=y.m,ke=y.s,Ge=F+y.$,xe=Ge;te=F+H*te;var De=F+H*ie,Ve=280+ke.ua,st=y.Pb?ce:16777216,qe=0<ke.ua?ke.Wa:null,at=ke.wc,ft=Ge<De?ne(ke,me,ce):null;e(y.C<ie),e(De<=te);var Ct=!1;e:for(;;){for(;Ct||Ge<De;){var vt=0;if(ce>=st){var sn=Ge-F;e((st=y).Pb),st.wd=st.m,st.xd=sn,0<st.s.ua&&Fe(st.s.Wa,st.s.vb),st=ce+uc}if(me&at||(ft=ne(ke,me,ce)),e(ft!=null),ft.Qb&&(S[Ge]=ft.qb,Ct=!0),!Ct)if(ge(Ee),ft.jc){vt=Ee,sn=S;var Jt=Ge,An=ft.pd[q(vt)&lc-1];e(ft.jc),256>An.g?(ae(vt,vt.u+An.g),sn[Jt]=An.value,vt=0):(ae(vt,vt.u+An.g-256),e(256<=An.value),vt=An.value),vt==0&&(Ct=!0)}else vt=tr(ft.G[0],ft.H[0],Ee);if(Ee.h)break;if(Ct||256>vt){if(!Ct)if(ft.nd)S[Ge]=(ft.qb|vt<<8)>>>0;else{if(ge(Ee),Ct=tr(ft.G[1],ft.H[1],Ee),ge(Ee),sn=tr(ft.G[2],ft.H[2],Ee),Jt=tr(ft.G[3],ft.H[3],Ee),Ee.h)break;S[Ge]=(Jt<<24|Ct<<16|vt<<8|sn)>>>0}if(Ct=!1,++Ge,++me>=H&&(me=0,++ce,se!=null&&ce<=ie&&!(ce%16)&&se(y,ce),qe!=null))for(;xe<Ge;)vt=S[xe++],qe.X[(506832829*vt&4294967295)>>>qe.Mb]=vt}else if(280>vt){if(vt=Xr(vt-256,Ee),sn=tr(ft.G[4],ft.H[4],Ee),ge(Ee),sn=Ci(H,sn=Xr(sn,Ee)),Ee.h)break;if(Ge-F<sn||te-Ge<vt)break e;for(Jt=0;Jt<vt;++Jt)S[Ge+Jt]=S[Ge+Jt-sn];for(Ge+=vt,me+=vt;me>=H;)me-=H,++ce,se!=null&&ce<=ie&&!(ce%16)&&se(y,ce);if(e(Ge<=te),me&at&&(ft=ne(ke,me,ce)),qe!=null)for(;xe<Ge;)vt=S[xe++],qe.X[(506832829*vt&4294967295)>>>qe.Mb]=vt}else{if(!(vt<Ve))break e;for(Ct=vt-280,e(qe!=null);xe<Ge;)vt=S[xe++],qe.X[(506832829*vt&4294967295)>>>qe.Mb]=vt;vt=Ge,e(!(Ct>>>(sn=qe).Xa)),S[vt]=sn.X[Ct],Ct=!0}Ct||e(Ee.h==J(Ee))}if(y.Pb&&Ee.h&&Ge<te)e(y.m.h),y.a=5,y.m=y.wd,y.$=y.xd,0<y.s.ua&&Fe(y.s.vb,y.s.Wa);else{if(Ee.h)break e;se?.(y,ce>ie?ie:ce),y.a=0,y.$=Ge-F}return 1}return y.a=3,0}function Ze(y){e(y!=null),y.vc=null,y.yc=null,y.Ya=null;var S=y.Wa;S!=null&&(S.X=null),y.vb=null,e(y!=null)}function Me(){var y=new gn;return y==null?null:(y.a=0,y.xb=Z0,En("Predictor","VP8LPredictors"),En("Predictor","VP8LPredictors_C"),En("PredictorAdd","VP8LPredictorsAdd"),En("PredictorAdd","VP8LPredictorsAdd_C"),wi=Ht,qu=Wt,Hu=yn,Il=zt,Rl=Ft,il=Rt,Jc=xt,I.VP8LMapColor32b=nl,I.VP8LMapColor8b=ga,y)}function ze(y,S,F,H,te){var ie=1,se=[y],ce=[S],me=H.m,Ee=H.s,ke=null,Ge=0;e:for(;;){if(F)for(;ie&&re(me,1);){var xe=se,De=ce,Ve=H,st=1,qe=Ve.m,at=Ve.gc[Ve.ab],ft=re(qe,2);if(Ve.Oc&1<<ft)ie=0;else{switch(Ve.Oc|=1<<ft,at.hc=ft,at.Ea=xe[0],at.nc=De[0],at.K=[null],++Ve.ab,e(4>=Ve.ab),ft){case 0:case 1:at.b=re(qe,3)+2,st=ze(Qe(at.Ea,at.b),Qe(at.nc,at.b),0,Ve,at.K),at.K=at.K[0];break;case 3:var Ct,vt=re(qe,8)+1,sn=16<vt?0:4<vt?1:2<vt?2:3;if(xe[0]=Qe(at.Ea,sn),at.b=sn,Ct=st=ze(vt,1,0,Ve,at.K)){var Jt,An=vt,tn=at,zn=1<<(8>>tn.b),Gr=a(zn);if(Gr==null)Ct=0;else{var Rn=tn.K[0],Qt=tn.w;for(Gr[0]=tn.K[0][0],Jt=1;Jt<1*An;++Jt)Gr[Jt]=At(Rn[Qt+Jt],Gr[Jt-1]);for(;Jt<4*zn;++Jt)Gr[Jt]=0;tn.K[0]=null,tn.K[0]=Gr,Ct=1}}st=Ct;break;case 2:break;default:e(0)}ie=st}}if(se=se[0],ce=ce[0],ie&&re(me,1)&&!(ie=1<=(Ge=re(me,4))&&11>=Ge)){H.a=3;break e}var Ut;if(Ut=ie)t:{var Zr,wn,Ln,gr=H,Gi=se,wa=ce,Lr=Ge,Ri=F,ka=gr.m,ki=gr.s,Fn=[null],rr=1,ei=0,cr=eo[Lr];n:for(;;){if(Ri&&re(ka,1)){var Wi=re(ka,3)+2,ti=Qe(Gi,Wi),ir=Qe(wa,Wi),Si=ti*ir;if(!ze(ti,ir,0,gr,Fn))break n;for(Fn=Fn[0],ki.xc=Wi,Zr=0;Zr<Si;++Zr){var vr=Fn[Zr]>>8&65535;Fn[Zr]=vr,vr>=rr&&(rr=vr+1)}}if(ka.h)break n;for(wn=0;5>wn;++wn){var Oi=tu[wn];!wn&&0<Lr&&(Oi+=1<<Lr),ei<Oi&&(ei=Oi)}var Di=o(rr*cr,B),Er=rr,er=o(Er,we);if(er==null)var Oa=null;else e(65536>=Er),Oa=er;var hi=a(ei);if(Oa==null||hi==null||Di==null){gr.a=1;break n}var dn=Di;for(Zr=Ln=0;Zr<rr;++Zr){var vn=Oa[Zr],ar=vn.G,ps=vn.H,io=0,ts=1,Li=0;for(wn=0;5>wn;++wn){Oi=tu[wn],ar[wn]=dn,ps[wn]=Ln,!wn&&0<Lr&&(Oi+=1<<Lr);i:{var gc,vc=Oi,yd=gr,jr=hi,tm=dn,nm=Ln,xd=0,Ll=yd.m,Bv=re(Ll,1);if(i(jr,0,0,vc),Bv){var rm=re(Ll,1)+1,im=re(Ll,1),wd=re(Ll,im==0?1:8);jr[wd]=1,rm==2&&(jr[wd=re(Ll,8)]=1);var ta=1}else{var fi=a(19),hf=re(Ll,4)+4;if(19<hf){yd.a=3;var _c=0;break i}for(gc=0;gc<hf;++gc)fi[lf[gc]]=re(Ll,3);var Ju=void 0,iu=void 0,ol=yd,bd=fi,Qu=vc,Ed=jr,Sd=0,jl=ol.m,am=8,sm=o(128,B);r:for(;M(sm,0,7,bd,19);){if(re(jl,1)){var gg=2+2*re(jl,3);if((Ju=2+re(jl,gg))>Qu)break r}else Ju=Qu;for(iu=0;iu<Qu&&Ju--;){ge(jl);var om=sm[0+(127&q(jl))];ae(jl,jl.u+om.g);var yc=om.value;if(16>yc)Ed[iu++]=yc,yc!=0&&(am=yc);else{var vg=yc==16,_g=yc-16,yg=Yu[_g],lm=re(jl,Qs[_g])+yg;if(iu+lm>Qu)break r;for(var xg=vg?am:0;0<lm--;)Ed[iu++]=xg}}Sd=1;break r}Sd||(ol.a=3),ta=Sd}(ta=ta&&!Ll.h)&&(xd=M(tm,nm,8,jr,vc)),ta&&xd!=0?_c=xd:(yd.a=3,_c=0)}if(_c==0)break n;if(ts&&dd[wn]==1&&(ts=dn[Ln].g==0),io+=dn[Ln].g,Ln+=_c,3>=wn){var au,Td=hi[0];for(au=1;au<Oi;++au)hi[au]>Td&&(Td=hi[au]);Li+=Td}}if(vn.nd=ts,vn.Qb=0,ts&&(vn.qb=(ar[3][ps[3]+0].value<<24|ar[1][ps[1]+0].value<<16|ar[2][ps[2]+0].value)>>>0,io==0&&256>ar[0][ps[0]+0].value&&(vn.Qb=1,vn.qb+=ar[0][ps[0]+0].value<<8)),vn.jc=!vn.Qb&&6>Li,vn.jc){var ff,ll=vn;for(ff=0;ff<lc;++ff){var Ml=ff,Pl=ll.pd[Ml],Ad=ll.G[0][ll.H[0]+Ml];256<=Ad.value?(Pl.g=Ad.g+256,Pl.value=Ad.value):(Pl.g=0,Pl.value=0,Ml>>=pr(Ad,8,Pl),Ml>>=pr(ll.G[1][ll.H[1]+Ml],16,Pl),Ml>>=pr(ll.G[2][ll.H[2]+Ml],0,Pl),pr(ll.G[3][ll.H[3]+Ml],24,Pl))}}}ki.vc=Fn,ki.Wb=rr,ki.Ya=Oa,ki.yc=Di,Ut=1;break t}Ut=0}if(!(ie=Ut)){H.a=3;break e}if(0<Ge){if(Ee.ua=1<<Ge,!Z(Ee.Wa,Ge)){H.a=1,ie=0;break e}}else Ee.ua=0;var Nd=H,su=se,wg=ce,Zu=Nd.s,eh=Zu.xc;if(Nd.c=su,Nd.i=wg,Zu.md=Qe(su,eh),Zu.wc=eh==0?-1:(1<<eh)-1,F){H.xb=hc;break e}if((ke=a(se*ce))==null){H.a=1,ie=0;break e}ie=(ie=Be(H,ke,0,se,ce,ce,null))&&!me.h;break e}return ie?(te!=null?te[0]=ke:(e(ke==null),e(F)),H.$=0,F||Ze(Ee)):Ze(Ee),ie}function He(y,S){var F=y.c*y.i,H=F+S+16*S;return e(y.c<=S),y.V=a(H),y.V==null?(y.Ta=null,y.Ua=0,y.a=1,0):(y.Ta=y.V,y.Ua=y.Ba+F+S,1)}function bt(y,S){var F=y.C,H=S-F,te=y.V,ie=y.Ba+y.c*F;for(e(S<=y.l.o);0<H;){var se=16<H?16:H,ce=y.l.ma,me=y.l.width,Ee=me*se,ke=ce.ca,Ge=ce.tb+me*F,xe=y.Ta,De=y.Ua;_e(y,se,te,ie),Ms(xe,De,ke,Ge,Ee),ve(ce,F,F+se,ke,Ge,me),H-=se,te+=se*y.c,F+=se}e(F==S),y.C=y.Ma=S}function mt(){this.ub=this.yd=this.td=this.Rb=0}function Et(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function je(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function Tt(){this.Yb=(function(){var y=[];return(function S(F,H,te){for(var ie=te[H],se=0;se<ie&&(F.push(te.length>H+1?[]:0),!(te.length<H+1));se++)S(F[se],H+1,te)})(y,0,[3,11]),y})()}function Xt(){this.jb=a(3),this.Wc=c([4,8],Tt),this.Xc=c([4,17],Tt)}function nr(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function jn(){this.ld=this.La=this.dd=this.tc=0}function or(){this.Na=this.la=0}function zi(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Ya(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function hs(){this.uc=this.M=this.Nb=0,this.wa=Array(new jn),this.Y=0,this.ya=Array(new Ya),this.aa=0,this.l=new Qi}function Ta(){this.y=a(16),this.f=a(8),this.ea=a(8)}function xo(){this.cb=this.a=0,this.sc="",this.m=new L,this.Od=new mt,this.Kc=new Et,this.ed=new nr,this.Qa=new je,this.Ic=this.$c=this.Aa=0,this.D=new hs,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,L),this.ia=0,this.pb=o(4,zi),this.Pa=new Xt,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Ta),this.Hd=0,this.rb=Array(new or),this.sb=0,this.wa=Array(new jn),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Ya),this.L=this.aa=0,this.gd=c([4,2],jn),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function zr(y,S){return 0>y?0:y>S?S:y}function Qi(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function li(){var y=new xo;return y!=null&&(y.a=0,y.sc="OK",y.cb=0,y.Xb=0,Ps||(Ps=Wn)),y}function Un(y,S,F){return y.a==0&&(y.a=S,y.sc=F,y.cb=0),0}function wo(y,S,F){return 3<=F&&y[S+0]==157&&y[S+1]==1&&y[S+2]==42}function fs(y,S){if(y==null)return 0;if(y.a=0,y.sc="OK",S==null)return Un(y,2,"null VP8Io passed to VP8GetHeaders()");var F=S.data,H=S.w,te=S.ha;if(4>te)return Un(y,7,"Truncated header.");var ie=F[H+0]|F[H+1]<<8|F[H+2]<<16,se=y.Od;if(se.Rb=!(1&ie),se.td=ie>>1&7,se.yd=ie>>4&1,se.ub=ie>>5,3<se.td)return Un(y,3,"Incorrect keyframe parameters.");if(!se.yd)return Un(y,4,"Frame not displayable.");H+=3,te-=3;var ce=y.Kc;if(se.Rb){if(7>te)return Un(y,7,"cannot parse picture header");if(!wo(F,H,te))return Un(y,3,"Bad code word");ce.c=16383&(F[H+4]<<8|F[H+3]),ce.Td=F[H+4]>>6,ce.i=16383&(F[H+6]<<8|F[H+5]),ce.Ud=F[H+6]>>6,H+=7,te-=7,y.za=ce.c+15>>4,y.Ub=ce.i+15>>4,S.width=ce.c,S.height=ce.i,S.Da=0,S.j=0,S.v=0,S.va=S.width,S.o=S.height,S.da=0,S.ib=S.width,S.hb=S.height,S.U=S.width,S.T=S.height,i((ie=y.Pa).jb,0,255,ie.jb.length),e((ie=y.Qa)!=null),ie.Cb=0,ie.Bb=0,ie.Fb=1,i(ie.Zb,0,0,ie.Zb.length),i(ie.Lb,0,0,ie.Lb)}if(se.ub>te)return Un(y,7,"bad partition length");fe(ie=y.m,F,H,se.ub),H+=se.ub,te-=se.ub,se.Rb&&(ce.Ld=Se(ie),ce.Kd=Se(ie)),ce=y.Qa;var me,Ee=y.Pa;if(e(ie!=null),e(ce!=null),ce.Cb=Se(ie),ce.Cb){if(ce.Bb=Se(ie),Se(ie)){for(ce.Fb=Se(ie),me=0;4>me;++me)ce.Zb[me]=Se(ie)?pe(ie,7):0;for(me=0;4>me;++me)ce.Lb[me]=Se(ie)?pe(ie,6):0}if(ce.Bb)for(me=0;3>me;++me)Ee.jb[me]=Se(ie)?le(ie,8):255}else ce.Bb=0;if(ie.Ka)return Un(y,3,"cannot parse segment header");if((ce=y.ed).zd=Se(ie),ce.Tb=le(ie,6),ce.wb=le(ie,3),ce.Pc=Se(ie),ce.Pc&&Se(ie)){for(Ee=0;4>Ee;++Ee)Se(ie)&&(ce.vd[Ee]=pe(ie,6));for(Ee=0;4>Ee;++Ee)Se(ie)&&(ce.od[Ee]=pe(ie,6))}if(y.L=ce.Tb==0?0:ce.zd?1:2,ie.Ka)return Un(y,3,"cannot parse filter header");var ke=te;if(te=me=H,H=me+ke,ce=ke,y.Xb=(1<<le(y.m,2))-1,ke<3*(Ee=y.Xb))F=7;else{for(me+=3*Ee,ce-=3*Ee,ke=0;ke<Ee;++ke){var Ge=F[te+0]|F[te+1]<<8|F[te+2]<<16;Ge>ce&&(Ge=ce),fe(y.Jc[+ke],F,me,Ge),me+=Ge,ce-=Ge,te+=3}fe(y.Jc[+Ee],F,me,ce),F=me<H?0:5}if(F!=0)return Un(y,F,"cannot parse partitions");for(F=le(me=y.m,7),te=Se(me)?pe(me,4):0,H=Se(me)?pe(me,4):0,ce=Se(me)?pe(me,4):0,Ee=Se(me)?pe(me,4):0,me=Se(me)?pe(me,4):0,ke=y.Qa,Ge=0;4>Ge;++Ge){if(ke.Cb){var xe=ke.Zb[Ge];ke.Fb||(xe+=F)}else{if(0<Ge){y.pb[Ge]=y.pb[0];continue}xe=F}var De=y.pb[Ge];De.Sc[0]=to[zr(xe+te,127)],De.Sc[1]=no[zr(xe+0,127)],De.Eb[0]=2*to[zr(xe+H,127)],De.Eb[1]=101581*no[zr(xe+ce,127)]>>16,8>De.Eb[1]&&(De.Eb[1]=8),De.Qc[0]=to[zr(xe+Ee,117)],De.Qc[1]=no[zr(xe+me,127)],De.lc=xe+me}if(!se.Rb)return Un(y,4,"Not a key frame.");for(Se(ie),se=y.Pa,F=0;4>F;++F){for(te=0;8>te;++te)for(H=0;3>H;++H)for(ce=0;11>ce;++ce)Ee=Ce(ie,Hr[F][te][H][ce])?le(ie,8):mg[F][te][H][ce],se.Wc[F][te].Yb[H][ce]=Ee;for(te=0;17>te;++te)se.Xc[F][te]=se.Wc[F][qn[te]]}return y.kc=Se(ie),y.kc&&(y.Bd=le(ie,8)),y.cb=1}function Wn(y,S,F,H,te,ie,se){var ce=S[te].Yb[F];for(F=0;16>te;++te){if(!Ce(y,ce[F+0]))return te;for(;!Ce(y,ce[F+1]);)if(ce=S[++te].Yb[0],F=0,te==16)return 16;var me=S[te+1].Yb;if(Ce(y,ce[F+2])){var Ee=y,ke=0;if(Ce(Ee,(xe=ce)[(Ge=F)+3]))if(Ce(Ee,xe[Ge+6])){for(ce=0,Ge=2*(ke=Ce(Ee,xe[Ge+8]))+(xe=Ce(Ee,xe[Ge+9+ke])),ke=0,xe=dg[Ge];xe[ce];++ce)ke+=ke+Ce(Ee,xe[ce]);ke+=3+(8<<Ge)}else Ce(Ee,xe[Ge+7])?(ke=7+2*Ce(Ee,165),ke+=Ce(Ee,145)):ke=5+Ce(Ee,159);else ke=Ce(Ee,xe[Ge+4])?3+Ce(Ee,xe[Ge+5]):2;ce=me[2]}else ke=1,ce=me[1];me=se+Q0[te],0>(Ee=y).b&&Te(Ee);var Ge,xe=Ee.b,De=(Ge=Ee.Ca>>1)-(Ee.I>>xe)>>31;--Ee.b,Ee.Ca+=De,Ee.Ca|=1,Ee.I-=(Ge+1&De)<<xe,ie[me]=((ke^De)-De)*H[(0<te)+0]}return 16}function Yo(y){var S=y.rb[y.sb-1];S.la=0,S.Na=0,i(y.zc,0,0,y.zc.length),y.ja=0}function yi(y,S,F,H,te){te=y[S+F+32*H]+(te>>3),y[S+F+32*H]=-256&te?0>te?0:255:te}function qr(y,S,F,H,te,ie){yi(y,S,0,F,H+te),yi(y,S,1,F,H+ie),yi(y,S,2,F,H-ie),yi(y,S,3,F,H-te)}function ci(y){return(20091*y>>16)+y}function xl(y,S,F,H){var te,ie=0,se=a(16);for(te=0;4>te;++te){var ce=y[S+0]+y[S+8],me=y[S+0]-y[S+8],Ee=(35468*y[S+4]>>16)-ci(y[S+12]),ke=ci(y[S+4])+(35468*y[S+12]>>16);se[ie+0]=ce+ke,se[ie+1]=me+Ee,se[ie+2]=me-Ee,se[ie+3]=ce-ke,ie+=4,S++}for(te=ie=0;4>te;++te)ce=(y=se[ie+0]+4)+se[ie+8],me=y-se[ie+8],Ee=(35468*se[ie+4]>>16)-ci(se[ie+12]),yi(F,H,0,0,ce+(ke=ci(se[ie+4])+(35468*se[ie+12]>>16))),yi(F,H,1,0,me+Ee),yi(F,H,2,0,me-Ee),yi(F,H,3,0,ce-ke),ie++,H+=32}function Bu(y,S,F,H){var te=y[S+0]+4,ie=35468*y[S+4]>>16,se=ci(y[S+4]),ce=35468*y[S+1]>>16;qr(F,H,0,te+se,y=ci(y[S+1]),ce),qr(F,H,1,te+ie,y,ce),qr(F,H,2,te-ie,y,ce),qr(F,H,3,te-se,y,ce)}function Gc(y,S,F,H,te){xl(y,S,F,H),te&&xl(y,S+16,F,H+4)}function da(y,S,F,H){kl(y,S+0,F,H,1),kl(y,S+32,F,H+128,1)}function Wc(y,S,F,H){var te;for(y=y[S+0]+4,te=0;4>te;++te)for(S=0;4>S;++S)yi(F,H,S,te,y)}function bo(y,S,F,H){y[S+0]&&lr(y,S+0,F,H),y[S+16]&&lr(y,S+16,F,H+4),y[S+32]&&lr(y,S+32,F,H+128),y[S+48]&&lr(y,S+48,F,H+128+4)}function qi(y,S,F,H){var te,ie=a(16);for(te=0;4>te;++te){var se=y[S+0+te]+y[S+12+te],ce=y[S+4+te]+y[S+8+te],me=y[S+4+te]-y[S+8+te],Ee=y[S+0+te]-y[S+12+te];ie[0+te]=se+ce,ie[8+te]=se-ce,ie[4+te]=Ee+me,ie[12+te]=Ee-me}for(te=0;4>te;++te)se=(y=ie[0+4*te]+3)+ie[3+4*te],ce=ie[1+4*te]+ie[2+4*te],me=ie[1+4*te]-ie[2+4*te],Ee=y-ie[3+4*te],F[H+0]=se+ce>>3,F[H+16]=Ee+me>>3,F[H+32]=se-ce>>3,F[H+48]=Ee-me>>3,H+=64}function $o(y,S,F){var H,te=S-32,ie=Ia,se=255-y[te-1];for(H=0;H<F;++H){var ce,me=ie,Ee=se+y[S-1];for(ce=0;ce<F;++ce)y[S+ce]=me[Ee+y[te+ce]];S+=32}}function Yc(y,S){$o(y,S,4)}function $c(y,S){$o(y,S,8)}function rc(y,S){$o(y,S,16)}function ic(y,S){var F;for(F=0;16>F;++F)r(y,S+32*F,y,S-32,16)}function Eo(y,S){var F;for(F=16;0<F;--F)i(y,S,y[S-1],16),S+=32}function Aa(y,S,F){var H;for(H=0;16>H;++H)i(S,F+32*H,y,16)}function Rs(y,S){var F,H=16;for(F=0;16>F;++F)H+=y[S-1+32*F]+y[S+F-32];Aa(H>>5,y,S)}function So(y,S){var F,H=8;for(F=0;16>F;++F)H+=y[S-1+32*F];Aa(H>>4,y,S)}function Na(y,S){var F,H=8;for(F=0;16>F;++F)H+=y[S+F-32];Aa(H>>4,y,S)}function Ko(y,S){Aa(128,y,S)}function fn(y,S,F){return y+2*S+F+2>>2}function wl(y,S){var F,H=S-32;for(H=new Uint8Array([fn(y[H-1],y[H+0],y[H+1]),fn(y[H+0],y[H+1],y[H+2]),fn(y[H+1],y[H+2],y[H+3]),fn(y[H+2],y[H+3],y[H+4])]),F=0;4>F;++F)r(y,S+32*F,H,0,H.length)}function ac(y,S){var F=y[S-1],H=y[S-1+32],te=y[S-1+64],ie=y[S-1+96];et(y,S+0,16843009*fn(y[S-1-32],F,H)),et(y,S+32,16843009*fn(F,H,te)),et(y,S+64,16843009*fn(H,te,ie)),et(y,S+96,16843009*fn(te,ie,ie))}function Xo(y,S){var F,H=4;for(F=0;4>F;++F)H+=y[S+F-32]+y[S-1+32*F];for(H>>=3,F=0;4>F;++F)i(y,S+32*F,H,4)}function Hi(y,S){var F=y[S-1+0],H=y[S-1+32],te=y[S-1+64],ie=y[S-1-32],se=y[S+0-32],ce=y[S+1-32],me=y[S+2-32],Ee=y[S+3-32];y[S+0+96]=fn(H,te,y[S-1+96]),y[S+1+96]=y[S+0+64]=fn(F,H,te),y[S+2+96]=y[S+1+64]=y[S+0+32]=fn(ie,F,H),y[S+3+96]=y[S+2+64]=y[S+1+32]=y[S+0+0]=fn(se,ie,F),y[S+3+64]=y[S+2+32]=y[S+1+0]=fn(ce,se,ie),y[S+3+32]=y[S+2+0]=fn(me,ce,se),y[S+3+0]=fn(Ee,me,ce)}function Ii(y,S){var F=y[S+1-32],H=y[S+2-32],te=y[S+3-32],ie=y[S+4-32],se=y[S+5-32],ce=y[S+6-32],me=y[S+7-32];y[S+0+0]=fn(y[S+0-32],F,H),y[S+1+0]=y[S+0+32]=fn(F,H,te),y[S+2+0]=y[S+1+32]=y[S+0+64]=fn(H,te,ie),y[S+3+0]=y[S+2+32]=y[S+1+64]=y[S+0+96]=fn(te,ie,se),y[S+3+32]=y[S+2+64]=y[S+1+96]=fn(ie,se,ce),y[S+3+64]=y[S+2+96]=fn(se,ce,me),y[S+3+96]=fn(ce,me,me)}function bl(y,S){var F=y[S-1+0],H=y[S-1+32],te=y[S-1+64],ie=y[S-1-32],se=y[S+0-32],ce=y[S+1-32],me=y[S+2-32],Ee=y[S+3-32];y[S+0+0]=y[S+1+64]=ie+se+1>>1,y[S+1+0]=y[S+2+64]=se+ce+1>>1,y[S+2+0]=y[S+3+64]=ce+me+1>>1,y[S+3+0]=me+Ee+1>>1,y[S+0+96]=fn(te,H,F),y[S+0+64]=fn(H,F,ie),y[S+0+32]=y[S+1+96]=fn(F,ie,se),y[S+1+32]=y[S+2+96]=fn(ie,se,ce),y[S+2+32]=y[S+3+96]=fn(se,ce,me),y[S+3+32]=fn(ce,me,Ee)}function ur(y,S){var F=y[S+0-32],H=y[S+1-32],te=y[S+2-32],ie=y[S+3-32],se=y[S+4-32],ce=y[S+5-32],me=y[S+6-32],Ee=y[S+7-32];y[S+0+0]=F+H+1>>1,y[S+1+0]=y[S+0+64]=H+te+1>>1,y[S+2+0]=y[S+1+64]=te+ie+1>>1,y[S+3+0]=y[S+2+64]=ie+se+1>>1,y[S+0+32]=fn(F,H,te),y[S+1+32]=y[S+0+96]=fn(H,te,ie),y[S+2+32]=y[S+1+96]=fn(te,ie,se),y[S+3+32]=y[S+2+96]=fn(ie,se,ce),y[S+3+64]=fn(se,ce,me),y[S+3+96]=fn(ce,me,Ee)}function $a(y,S){var F=y[S-1+0],H=y[S-1+32],te=y[S-1+64],ie=y[S-1+96];y[S+0+0]=F+H+1>>1,y[S+2+0]=y[S+0+32]=H+te+1>>1,y[S+2+32]=y[S+0+64]=te+ie+1>>1,y[S+1+0]=fn(F,H,te),y[S+3+0]=y[S+1+32]=fn(H,te,ie),y[S+3+32]=y[S+1+64]=fn(te,ie,ie),y[S+3+64]=y[S+2+64]=y[S+0+96]=y[S+1+96]=y[S+2+96]=y[S+3+96]=ie}function El(y,S){var F=y[S-1+0],H=y[S-1+32],te=y[S-1+64],ie=y[S-1+96],se=y[S-1-32],ce=y[S+0-32],me=y[S+1-32],Ee=y[S+2-32];y[S+0+0]=y[S+2+32]=F+se+1>>1,y[S+0+32]=y[S+2+64]=H+F+1>>1,y[S+0+64]=y[S+2+96]=te+H+1>>1,y[S+0+96]=ie+te+1>>1,y[S+3+0]=fn(ce,me,Ee),y[S+2+0]=fn(se,ce,me),y[S+1+0]=y[S+3+32]=fn(F,se,ce),y[S+1+32]=y[S+3+64]=fn(H,F,se),y[S+1+64]=y[S+3+96]=fn(te,H,F),y[S+1+96]=fn(ie,te,H)}function ks(y,S){var F;for(F=0;8>F;++F)r(y,S+32*F,y,S-32,8)}function Kc(y,S){var F;for(F=0;8>F;++F)i(y,S,y[S-1],8),S+=32}function Ka(y,S,F){var H;for(H=0;8>H;++H)i(S,F+32*H,y,8)}function To(y,S){var F,H=8;for(F=0;8>F;++F)H+=y[S+F-32]+y[S-1+32*F];Ka(H>>4,y,S)}function Xa(y,S){var F,H=4;for(F=0;8>F;++F)H+=y[S+F-32];Ka(H>>3,y,S)}function xi(y,S){var F,H=4;for(F=0;8>F;++F)H+=y[S-1+32*F];Ka(H>>3,y,S)}function Hs(y,S){Ka(128,y,S)}function Zi(y,S,F){var H=y[S-F],te=y[S+0],ie=3*(te-H)+Ol[1020+y[S-2*F]-y[S+F]],se=af[112+(ie+4>>3)];y[S-F]=Ia[255+H+af[112+(ie+3>>3)]],y[S+0]=Ia[255+te-se]}function Gs(y,S,F,H){var te=y[S+0],ie=y[S+F];return va[255+y[S-2*F]-y[S-F]]>H||va[255+ie-te]>H}function Jo(y,S,F,H){return 4*va[255+y[S-F]-y[S+0]]+va[255+y[S-2*F]-y[S+F]]<=H}function Ws(y,S,F,H,te){var ie=y[S-3*F],se=y[S-2*F],ce=y[S-F],me=y[S+0],Ee=y[S+F],ke=y[S+2*F],Ge=y[S+3*F];return 4*va[255+ce-me]+va[255+se-Ee]>H?0:va[255+y[S-4*F]-ie]<=te&&va[255+ie-se]<=te&&va[255+se-ce]<=te&&va[255+Ge-ke]<=te&&va[255+ke-Ee]<=te&&va[255+Ee-me]<=te}function Ys(y,S,F,H){var te=2*H+1;for(H=0;16>H;++H)Jo(y,S+H,F,te)&&Zi(y,S+H,F)}function ds(y,S,F,H){var te=2*H+1;for(H=0;16>H;++H)Jo(y,S+H*F,1,te)&&Zi(y,S+H*F,1)}function Sl(y,S,F,H){var te;for(te=3;0<te;--te)Ys(y,S+=4*F,F,H)}function sc(y,S,F,H){var te;for(te=3;0<te;--te)ds(y,S+=4,F,H)}function Ja(y,S,F,H,te,ie,se,ce){for(ie=2*ie+1;0<te--;){if(Ws(y,S,F,ie,se))if(Gs(y,S,F,ce))Zi(y,S,F);else{var me=y,Ee=S,ke=F,Ge=me[Ee-2*ke],xe=me[Ee-ke],De=me[Ee+0],Ve=me[Ee+ke],st=me[Ee+2*ke],qe=27*(ft=Ol[1020+3*(De-xe)+Ol[1020+Ge-Ve]])+63>>7,at=18*ft+63>>7,ft=9*ft+63>>7;me[Ee-3*ke]=Ia[255+me[Ee-3*ke]+ft],me[Ee-2*ke]=Ia[255+Ge+at],me[Ee-ke]=Ia[255+xe+qe],me[Ee+0]=Ia[255+De-qe],me[Ee+ke]=Ia[255+Ve-at],me[Ee+2*ke]=Ia[255+st-ft]}S+=H}}function $s(y,S,F,H,te,ie,se,ce){for(ie=2*ie+1;0<te--;){if(Ws(y,S,F,ie,se))if(Gs(y,S,F,ce))Zi(y,S,F);else{var me=y,Ee=S,ke=F,Ge=me[Ee-ke],xe=me[Ee+0],De=me[Ee+ke],Ve=af[112+(4+(st=3*(xe-Ge))>>3)],st=af[112+(st+3>>3)],qe=Ve+1>>1;me[Ee-2*ke]=Ia[255+me[Ee-2*ke]+qe],me[Ee-ke]=Ia[255+Ge+st],me[Ee+0]=Ia[255+xe-Ve],me[Ee+ke]=Ia[255+De-qe]}S+=H}}function Xc(y,S,F,H,te,ie){Ja(y,S,F,1,16,H,te,ie)}function Os(y,S,F,H,te,ie){Ja(y,S,1,F,16,H,te,ie)}function oc(y,S,F,H,te,ie){var se;for(se=3;0<se;--se)$s(y,S+=4*F,F,1,16,H,te,ie)}function D(y,S,F,H,te,ie){var se;for(se=3;0<se;--se)$s(y,S+=4,1,F,16,H,te,ie)}function ee(y,S,F,H,te,ie,se,ce){Ja(y,S,te,1,8,ie,se,ce),Ja(F,H,te,1,8,ie,se,ce)}function be(y,S,F,H,te,ie,se,ce){Ja(y,S,1,te,8,ie,se,ce),Ja(F,H,1,te,8,ie,se,ce)}function Re(y,S,F,H,te,ie,se,ce){$s(y,S+4*te,te,1,8,ie,se,ce),$s(F,H+4*te,te,1,8,ie,se,ce)}function Le(y,S,F,H,te,ie,se,ce){$s(y,S+4,1,te,8,ie,se,ce),$s(F,H+4,1,te,8,ie,se,ce)}function ct(){this.ba=new Bt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new xn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function _t(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Zt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function an(){this.ua=0,this.Wa=new nt,this.vb=new nt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new we,this.yc=new B}function gn(){this.xb=this.a=0,this.l=new Qi,this.ca=new Bt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new G,this.Pb=0,this.wd=new G,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new an,this.ab=0,this.gc=o(4,Zt),this.Oc=0}function un(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Qi,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Vn(y,S,F,H,te,ie,se){for(y=y==null?0:y[S+0],S=0;S<se;++S)te[ie+S]=y+F[H+S]&255,y=te[ie+S]}function kr(y,S,F,H,te,ie,se){var ce;if(y==null)Vn(null,null,F,H,te,ie,se);else for(ce=0;ce<se;++ce)te[ie+ce]=y[S+ce]+F[H+ce]&255}function xr(y,S,F,H,te,ie,se){if(y==null)Vn(null,null,F,H,te,ie,se);else{var ce,me=y[S+0],Ee=me,ke=me;for(ce=0;ce<se;++ce)Ee=ke+(me=y[S+ce])-Ee,ke=F[H+ce]+(-256&Ee?0>Ee?0:255:Ee)&255,Ee=me,te[ie+ce]=ke}}function x(y,S,F,H){var te=S.width,ie=S.o;if(e(y!=null&&S!=null),0>F||0>=H||F+H>ie)return null;if(!y.Cc){if(y.ga==null){var se;if(y.ga=new un,(se=y.ga==null)||(se=S.width*S.o,e(y.Gb.length==0),y.Gb=a(se),y.Uc=0,y.Gb==null?se=0:(y.mb=y.Gb,y.nb=y.Uc,y.rc=null,se=1),se=!se),!se){se=y.ga;var ce=y.Fa,me=y.P,Ee=y.qc,ke=y.mb,Ge=y.nb,xe=me+1,De=Ee-1,Ve=se.l;if(e(ce!=null&&ke!=null&&S!=null),Dl[0]=null,Dl[1]=Vn,Dl[2]=kr,Dl[3]=xr,se.ca=ke,se.tb=Ge,se.c=S.width,se.i=S.height,e(0<se.c&&0<se.i),1>=Ee)S=0;else if(se.$a=3&ce[me+0],se.Z=ce[me+0]>>2&3,se.Lc=ce[me+0]>>4&3,me=ce[me+0]>>6&3,0>se.$a||1<se.$a||4<=se.Z||1<se.Lc||me)S=0;else if(Ve.put=ln,Ve.ac=Vr,Ve.bc=Wa,Ve.ma=se,Ve.width=S.width,Ve.height=S.height,Ve.Da=S.Da,Ve.v=S.v,Ve.va=S.va,Ve.j=S.j,Ve.o=S.o,se.$a)e:{e(se.$a==1),S=Me();t:for(;;){if(S==null){S=0;break e}if(e(se!=null),se.mc=S,S.c=se.c,S.i=se.i,S.l=se.l,S.l.ma=se,S.l.width=se.c,S.l.height=se.i,S.a=0,Ie(S.m,ce,xe,De),!ze(se.c,se.i,1,S,null)||(S.ab==1&&S.gc[0].hc==3&&de(S.s)?(se.ic=1,ce=S.c*S.i,S.Ta=null,S.Ua=0,S.V=a(ce),S.Ba=0,S.V==null?(S.a=1,S=0):S=1):(se.ic=0,S=He(S,se.c)),!S))break t;S=1;break e}se.mc=null,S=0}else S=De>=se.c*se.i;se=!S}if(se)return null;y.ga.Lc!=1?y.Ga=0:H=ie-F}e(y.ga!=null),e(F+H<=ie);e:{if(S=(ce=y.ga).c,ie=ce.l.o,ce.$a==0){if(xe=y.rc,De=y.Vc,Ve=y.Fa,me=y.P+1+F*S,Ee=y.mb,ke=y.nb+F*S,e(me<=y.P+y.qc),ce.Z!=0)for(e(Dl[ce.Z]!=null),se=0;se<H;++se)Dl[ce.Z](xe,De,Ve,me,Ee,ke,S),xe=Ee,De=ke,ke+=S,me+=S;else for(se=0;se<H;++se)r(Ee,ke,Ve,me,S),xe=Ee,De=ke,ke+=S,me+=S;y.rc=xe,y.Vc=De}else{if(e(ce.mc!=null),S=F+H,e((se=ce.mc)!=null),e(S<=se.i),se.C>=S)S=1;else if(ce.ic||Xe(),ce.ic){ce=se.V,xe=se.Ba,De=se.c;var st=se.i,qe=(Ve=1,me=se.$/De,Ee=se.$%De,ke=se.m,Ge=se.s,se.$),at=De*st,ft=De*S,Ct=Ge.wc,vt=qe<ft?ne(Ge,Ee,me):null;e(qe<=at),e(S<=st),e(de(Ge));t:for(;;){for(;!ke.h&&qe<ft;){if(Ee&Ct||(vt=ne(Ge,Ee,me)),e(vt!=null),ge(ke),256>(st=tr(vt.G[0],vt.H[0],ke)))ce[xe+qe]=st,++qe,++Ee>=De&&(Ee=0,++me<=S&&!(me%16)&&ye(se,me));else{if(!(280>st)){Ve=0;break t}st=Xr(st-256,ke);var sn,Jt=tr(vt.G[4],vt.H[4],ke);if(ge(ke),!(qe>=(Jt=Ci(De,Jt=Xr(Jt,ke)))&&at-qe>=st)){Ve=0;break t}for(sn=0;sn<st;++sn)ce[xe+qe+sn]=ce[xe+qe+sn-Jt];for(qe+=st,Ee+=st;Ee>=De;)Ee-=De,++me<=S&&!(me%16)&&ye(se,me);qe<ft&&Ee&Ct&&(vt=ne(Ge,Ee,me))}e(ke.h==J(ke))}ye(se,me>S?S:me);break t}!Ve||ke.h&&qe<at?(Ve=0,se.a=ke.h?5:3):se.$=qe,S=Ve}else S=Be(se,se.V,se.Ba,se.c,se.i,S,bt);if(!S){H=0;break e}}F+H>=ie&&(y.Cc=1),H=1}if(!H)return null;if(y.Cc&&((H=y.ga)!=null&&(H.mc=null),y.ga=null,0<y.Ga))return alert("todo:WebPDequantizeLevels"),null}return y.nb+F*te}function V(y,S,F,H,te,ie){for(;0<te--;){var se,ce=y,me=S+(F?1:0),Ee=y,ke=S+(F?0:3);for(se=0;se<H;++se){var Ge=Ee[ke+4*se];Ge!=255&&(Ge*=32897,ce[me+4*se+0]=ce[me+4*se+0]*Ge>>23,ce[me+4*se+1]=ce[me+4*se+1]*Ge>>23,ce[me+4*se+2]=ce[me+4*se+2]*Ge>>23)}S+=ie}}function X(y,S,F,H,te){for(;0<H--;){var ie;for(ie=0;ie<F;++ie){var se=y[S+2*ie+0],ce=15&(Ee=y[S+2*ie+1]),me=4369*ce,Ee=(240&Ee|Ee>>4)*me>>16;y[S+2*ie+0]=(240&se|se>>4)*me>>16&240|(15&se|se<<4)*me>>16>>4&15,y[S+2*ie+1]=240&Ee|ce}S+=te}}function he(y,S,F,H,te,ie,se,ce){var me,Ee,ke=255;for(Ee=0;Ee<te;++Ee){for(me=0;me<H;++me){var Ge=y[S+me];ie[se+4*me]=Ge,ke&=Ge}S+=F,se+=ce}return ke!=255}function Ue(y,S,F,H,te){var ie;for(ie=0;ie<te;++ie)F[H+ie]=y[S+ie]>>8}function Xe(){Zc=V,Xs=X,tf=he,Ms=Ue}function Ot(y,S,F){I[y]=function(H,te,ie,se,ce,me,Ee,ke,Ge,xe,De,Ve,st,qe,at,ft,Ct){var vt,sn=Ct-1>>1,Jt=ce[me+0]|Ee[ke+0]<<16,An=Ge[xe+0]|De[Ve+0]<<16;e(H!=null);var tn=3*Jt+An+131074>>2;for(S(H[te+0],255&tn,tn>>16,st,qe),ie!=null&&(tn=3*An+Jt+131074>>2,S(ie[se+0],255&tn,tn>>16,at,ft)),vt=1;vt<=sn;++vt){var zn=ce[me+vt]|Ee[ke+vt]<<16,Gr=Ge[xe+vt]|De[Ve+vt]<<16,Rn=Jt+zn+An+Gr+524296,Qt=Rn+2*(zn+An)>>3;tn=Qt+Jt>>1,Jt=(Rn=Rn+2*(Jt+Gr)>>3)+zn>>1,S(H[te+2*vt-1],255&tn,tn>>16,st,qe+(2*vt-1)*F),S(H[te+2*vt-0],255&Jt,Jt>>16,st,qe+(2*vt-0)*F),ie!=null&&(tn=Rn+An>>1,Jt=Qt+Gr>>1,S(ie[se+2*vt-1],255&tn,tn>>16,at,ft+(2*vt-1)*F),S(ie[se+2*vt+0],255&Jt,Jt>>16,at,ft+(2*vt+0)*F)),Jt=zn,An=Gr}1&Ct||(tn=3*Jt+An+131074>>2,S(H[te+Ct-1],255&tn,tn>>16,st,qe+(Ct-1)*F),ie!=null&&(tn=3*An+Jt+131074>>2,S(ie[se+Ct-1],255&tn,tn>>16,at,ft+(Ct-1)*F)))}}function Tn(){ya[cd]=nu,ya[Ra]=$u,ya[ud]=em,ya[Js]=pd,ya[sf]=fc,ya[Gu]=sl,ya[cc]=dc,ya[of]=$u,ya[hd]=pd,ya[Wu]=fc,ya[fd]=sl}function Or(y){return y&-16384?0>y?0:255:y>>gd}function Pn(y,S){return Or((19077*y>>8)+(26149*S>>8)-14234)}function hr(y,S,F){return Or((19077*y>>8)-(6419*S>>8)-(13320*F>>8)+8708)}function ea(y,S){return Or((19077*y>>8)+(33050*S>>8)-17685)}function ma(y,S,F,H,te){H[te+0]=Pn(y,F),H[te+1]=hr(y,S,F),H[te+2]=ea(y,S)}function br(y,S,F,H,te){H[te+0]=ea(y,S),H[te+1]=hr(y,S,F),H[te+2]=Pn(y,F)}function pa(y,S,F,H,te){var ie=hr(y,S,F);S=ie<<3&224|ea(y,S)>>3,H[te+0]=248&Pn(y,F)|ie>>5,H[te+1]=S}function Ds(y,S,F,H,te){var ie=240&ea(y,S)|15;H[te+0]=240&Pn(y,F)|hr(y,S,F)>>4,H[te+1]=ie}function Qo(y,S,F,H,te){H[te+0]=255,ma(y,S,F,H,te+1)}function Zo(y,S,F,H,te){br(y,S,F,H,te),H[te+3]=255}function Qa(y,S,F,H,te){ma(y,S,F,H,te),H[te+3]=255}function Tl(y,S,F){I[y]=function(H,te,ie,se,ce,me,Ee,ke,Ge){for(var xe=ke+(-2&Ge)*F;ke!=xe;)S(H[te+0],ie[se+0],ce[me+0],Ee,ke),S(H[te+1],ie[se+0],ce[me+0],Ee,ke+F),te+=2,++se,++me,ke+=2*F;1&Ge&&S(H[te+0],ie[se+0],ce[me+0],Ee,ke)}}function Uu(y,S,F){return F==0?y==0?S==0?6:5:S==0?4:0:F}function Qh(y,S,F,H,te){switch(y>>>30){case 3:kl(S,F,H,te,0);break;case 2:Ca(S,F,H,te);break;case 1:lr(S,F,H,te)}}function Ls(y,S){var F,H,te=S.M,ie=S.Nb,se=y.oc,ce=y.pc+40,me=y.oc,Ee=y.pc+584,ke=y.oc,Ge=y.pc+600;for(F=0;16>F;++F)se[ce+32*F-1]=129;for(F=0;8>F;++F)me[Ee+32*F-1]=129,ke[Ge+32*F-1]=129;for(0<te?se[ce-1-32]=me[Ee-1-32]=ke[Ge-1-32]=129:(i(se,ce-32-1,127,21),i(me,Ee-32-1,127,9),i(ke,Ge-32-1,127,9)),H=0;H<y.za;++H){var xe=S.ya[S.aa+H];if(0<H){for(F=-1;16>F;++F)r(se,ce+32*F-4,se,ce+32*F+12,4);for(F=-1;8>F;++F)r(me,Ee+32*F-4,me,Ee+32*F+4,4),r(ke,Ge+32*F-4,ke,Ge+32*F+4,4)}var De=y.Gd,Ve=y.Hd+H,st=xe.ad,qe=xe.Hc;if(0<te&&(r(se,ce-32,De[Ve].y,0,16),r(me,Ee-32,De[Ve].f,0,8),r(ke,Ge-32,De[Ve].ea,0,8)),xe.Za){var at=se,ft=ce-32+16;for(0<te&&(H>=y.za-1?i(at,ft,De[Ve].y[15],4):r(at,ft,De[Ve+1].y,0,4)),F=0;4>F;F++)at[ft+128+F]=at[ft+256+F]=at[ft+384+F]=at[ft+0+F];for(F=0;16>F;++F,qe<<=2)at=se,ft=ce+Ei[F],ui[xe.Ob[F]](at,ft),Qh(qe,st,16*+F,at,ft)}else if(at=Uu(H,te,xe.Ob[0]),es[at](se,ce),qe!=0)for(F=0;16>F;++F,qe<<=2)Qh(qe,st,16*+F,se,ce+Ei[F]);for(F=xe.Gc,at=Uu(H,te,xe.Dd),Io[at](me,Ee),Io[at](ke,Ge),qe=st,at=me,ft=Ee,255&(xe=0|F)&&(170&xe?Ks(qe,256,at,ft):Zn(qe,256,at,ft)),xe=ke,qe=Ge,255&(F>>=8)&&(170&F?Ks(st,320,xe,qe):Zn(st,320,xe,qe)),te<y.Ub-1&&(r(De[Ve].y,0,se,ce+480,16),r(De[Ve].f,0,me,Ee+224,8),r(De[Ve].ea,0,ke,Ge+224,8)),F=8*ie*y.B,De=y.sa,Ve=y.ta+16*H+16*ie*y.R,st=y.qa,xe=y.ra+8*H+F,qe=y.Ha,at=y.Ia+8*H+F,F=0;16>F;++F)r(De,Ve+F*y.R,se,ce+32*F,16);for(F=0;8>F;++F)r(st,xe+F*y.B,me,Ee+32*F,8),r(qe,at+F*y.B,ke,Ge+32*F,8)}}function Ao(y,S,F,H,te,ie,se,ce,me){var Ee=[0],ke=[0],Ge=0,xe=me!=null?me.kd:0,De=me??new _t;if(y==null||12>F)return 7;De.data=y,De.w=S,De.ha=F,S=[S],F=[F],De.gb=[De.gb];e:{var Ve=S,st=F,qe=De.gb;if(e(y!=null),e(st!=null),e(qe!=null),qe[0]=0,12<=st[0]&&!t(y,Ve[0],"RIFF")){if(t(y,Ve[0]+8,"WEBP")){qe=3;break e}var at=it(y,Ve[0]+4);if(12>at||4294967286<at){qe=3;break e}if(xe&&at>st[0]-8){qe=7;break e}qe[0]=at,Ve[0]+=12,st[0]-=12}qe=0}if(qe!=0)return qe;for(at=0<De.gb[0],F=F[0];;){e:{var ft=y;st=S,qe=F;var Ct=Ee,vt=ke,sn=Ve=[0];if((tn=Ge=[Ge])[0]=0,8>qe[0])qe=7;else{if(!t(ft,st[0],"VP8X")){if(it(ft,st[0]+4)!=10){qe=3;break e}if(18>qe[0]){qe=7;break e}var Jt=it(ft,st[0]+8),An=1+tt(ft,st[0]+12);if(2147483648<=An*(ft=1+tt(ft,st[0]+15))){qe=3;break e}sn!=null&&(sn[0]=Jt),Ct!=null&&(Ct[0]=An),vt!=null&&(vt[0]=ft),st[0]+=18,qe[0]-=18,tn[0]=1}qe=0}}if(Ge=Ge[0],Ve=Ve[0],qe!=0)return qe;if(st=!!(2&Ve),!at&&Ge)return 3;if(ie!=null&&(ie[0]=!!(16&Ve)),se!=null&&(se[0]=st),ce!=null&&(ce[0]=0),se=Ee[0],Ve=ke[0],Ge&&st&&me==null){qe=0;break}if(4>F){qe=7;break}if(at&&Ge||!at&&!Ge&&!t(y,S[0],"ALPH")){F=[F],De.na=[De.na],De.P=[De.P],De.Sa=[De.Sa];e:{Jt=y,qe=S,at=F;var tn=De.gb;Ct=De.na,vt=De.P,sn=De.Sa,An=22,e(Jt!=null),e(at!=null),ft=qe[0];var zn=at[0];for(e(Ct!=null),e(sn!=null),Ct[0]=null,vt[0]=null,sn[0]=0;;){if(qe[0]=ft,at[0]=zn,8>zn){qe=7;break e}var Gr=it(Jt,ft+4);if(4294967286<Gr){qe=3;break e}var Rn=8+Gr+1&-2;if(An+=Rn,0<tn&&An>tn){qe=3;break e}if(!t(Jt,ft,"VP8 ")||!t(Jt,ft,"VP8L")){qe=0;break e}if(zn[0]<Rn){qe=7;break e}t(Jt,ft,"ALPH")||(Ct[0]=Jt,vt[0]=ft+8,sn[0]=Gr),ft+=Rn,zn-=Rn}}if(F=F[0],De.na=De.na[0],De.P=De.P[0],De.Sa=De.Sa[0],qe!=0)break}F=[F],De.Ja=[De.Ja],De.xa=[De.xa];e:if(tn=y,qe=S,at=F,Ct=De.gb[0],vt=De.Ja,sn=De.xa,Jt=qe[0],ft=!t(tn,Jt,"VP8 "),An=!t(tn,Jt,"VP8L"),e(tn!=null),e(at!=null),e(vt!=null),e(sn!=null),8>at[0])qe=7;else{if(ft||An){if(tn=it(tn,Jt+4),12<=Ct&&tn>Ct-12){qe=3;break e}if(xe&&tn>at[0]-8){qe=7;break e}vt[0]=tn,qe[0]+=8,at[0]-=8,sn[0]=An}else sn[0]=5<=at[0]&&tn[Jt+0]==47&&!(tn[Jt+4]>>5),vt[0]=at[0];qe=0}if(F=F[0],De.Ja=De.Ja[0],De.xa=De.xa[0],S=S[0],qe!=0)break;if(4294967286<De.Ja)return 3;if(ce==null||st||(ce[0]=De.xa?2:1),se=[se],Ve=[Ve],De.xa){if(5>F){qe=7;break}ce=se,xe=Ve,st=ie,y==null||5>F?y=0:5<=F&&y[S+0]==47&&!(y[S+4]>>5)?(at=[0],tn=[0],Ct=[0],Ie(vt=new G,y,S,F),_i(vt,at,tn,Ct)?(ce!=null&&(ce[0]=at[0]),xe!=null&&(xe[0]=tn[0]),st!=null&&(st[0]=Ct[0]),y=1):y=0):y=0}else{if(10>F){qe=7;break}ce=Ve,y==null||10>F||!wo(y,S+3,F-3)?y=0:(xe=y[S+0]|y[S+1]<<8|y[S+2]<<16,st=16383&(y[S+7]<<8|y[S+6]),y=16383&(y[S+9]<<8|y[S+8]),1&xe||3<(xe>>1&7)||!(xe>>4&1)||xe>>5>=De.Ja||!st||!y?y=0:(se&&(se[0]=st),ce&&(ce[0]=y),y=1))}if(!y||(se=se[0],Ve=Ve[0],Ge&&(Ee[0]!=se||ke[0]!=Ve)))return 3;me!=null&&(me[0]=De,me.offset=S-me.w,e(4294967286>S-me.w),e(me.offset==me.ha-F));break}return qe==0||qe==7&&Ge&&me==null?(ie!=null&&(ie[0]|=De.na!=null&&0<De.na.length),H!=null&&(H[0]=se),te!=null&&(te[0]=Ve),0):qe}function Al(y,S,F){var H=S.width,te=S.height,ie=0,se=0,ce=H,me=te;if(S.Da=y!=null&&0<y.Da,S.Da&&(ce=y.cd,me=y.bd,ie=y.v,se=y.j,11>F||(ie&=-2,se&=-2),0>ie||0>se||0>=ce||0>=me||ie+ce>H||se+me>te))return 0;if(S.v=ie,S.j=se,S.va=ie+ce,S.o=se+me,S.U=ce,S.T=me,S.da=y!=null&&0<y.da,S.da){if(!It(ce,me,F=[y.ib],ie=[y.hb]))return 0;S.ib=F[0],S.hb=ie[0]}return S.ob=y!=null&&y.ob,S.Kb=y==null||!y.Sd,S.da&&(S.ob=S.ib<3*H/4&&S.hb<3*te/4,S.Kb=0),1}function Zh(y){if(y==null)return 2;if(11>y.S){var S=y.f.RGBA;S.fb+=(y.height-1)*S.A,S.A=-S.A}else S=y.f.kb,y=y.height,S.O+=(y-1)*S.fa,S.fa=-S.fa,S.N+=(y-1>>1)*S.Ab,S.Ab=-S.Ab,S.W+=(y-1>>1)*S.Db,S.Db=-S.Db,S.F!=null&&(S.J+=(y-1)*S.lb,S.lb=-S.lb);return 0}function No(y,S,F,H){if(H==null||0>=y||0>=S)return 2;if(F!=null){if(F.Da){var te=F.cd,ie=F.bd,se=-2&F.v,ce=-2&F.j;if(0>se||0>ce||0>=te||0>=ie||se+te>y||ce+ie>S)return 2;y=te,S=ie}if(F.da){if(!It(y,S,te=[F.ib],ie=[F.hb]))return 2;y=te[0],S=ie[0]}}H.width=y,H.height=S;e:{var me=H.width,Ee=H.height;if(y=H.S,0>=me||0>=Ee||!(y>=cd&&13>y))y=2;else{if(0>=H.Rd&&H.sd==null){se=ie=te=S=0;var ke=(ce=me*_d[y])*Ee;if(11>y||(ie=(Ee+1)/2*(S=(me+1)/2),y==12&&(se=(te=me)*Ee)),(Ee=a(ke+2*ie+se))==null){y=1;break e}H.sd=Ee,11>y?((me=H.f.RGBA).eb=Ee,me.fb=0,me.A=ce,me.size=ke):((me=H.f.kb).y=Ee,me.O=0,me.fa=ce,me.Fd=ke,me.f=Ee,me.N=0+ke,me.Ab=S,me.Cd=ie,me.ea=Ee,me.W=0+ke+ie,me.Db=S,me.Ed=ie,y==12&&(me.F=Ee,me.J=0+ke+2*ie),me.Tc=se,me.lb=te)}if(S=1,te=H.S,ie=H.width,se=H.height,te>=cd&&13>te)if(11>te)y=H.f.RGBA,S&=(ce=Math.abs(y.A))*(se-1)+ie<=y.size,S&=ce>=ie*_d[te],S&=y.eb!=null;else{y=H.f.kb,ce=(ie+1)/2,ke=(se+1)/2,me=Math.abs(y.fa),Ee=Math.abs(y.Ab);var Ge=Math.abs(y.Db),xe=Math.abs(y.lb),De=xe*(se-1)+ie;S&=me*(se-1)+ie<=y.Fd,S&=Ee*(ke-1)+ce<=y.Cd,S=(S&=Ge*(ke-1)+ce<=y.Ed)&me>=ie&Ee>=ce&Ge>=ce,S&=y.y!=null,S&=y.f!=null,S&=y.ea!=null,te==12&&(S&=xe>=ie,S&=De<=y.Tc,S&=y.F!=null)}else S=0;y=S?0:2}}return y!=0||F!=null&&F.fd&&(y=Zh(H)),y}var lc=64,ms=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Za=24,el=32,tl=8,Nl=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ke("Predictor0","PredictorAdd0"),I.Predictor0=function(){return 4278190080},I.Predictor1=function(y){return y},I.Predictor2=function(y,S,F){return S[F+0]},I.Predictor3=function(y,S,F){return S[F+1]},I.Predictor4=function(y,S,F){return S[F-1]},I.Predictor5=function(y,S,F){return Dt(Dt(y,S[F+1]),S[F+0])},I.Predictor6=function(y,S,F){return Dt(y,S[F-1])},I.Predictor7=function(y,S,F){return Dt(y,S[F+0])},I.Predictor8=function(y,S,F){return Dt(S[F-1],S[F+0])},I.Predictor9=function(y,S,F){return Dt(S[F+0],S[F+1])},I.Predictor10=function(y,S,F){return Dt(Dt(y,S[F-1]),Dt(S[F+0],S[F+1]))},I.Predictor11=function(y,S,F){var H=S[F+0];return 0>=Vt(H>>24&255,y>>24&255,(S=S[F-1])>>24&255)+Vt(H>>16&255,y>>16&255,S>>16&255)+Vt(H>>8&255,y>>8&255,S>>8&255)+Vt(255&H,255&y,255&S)?H:y},I.Predictor12=function(y,S,F){var H=S[F+0];return(kt((y>>24&255)+(H>>24&255)-((S=S[F-1])>>24&255))<<24|kt((y>>16&255)+(H>>16&255)-(S>>16&255))<<16|kt((y>>8&255)+(H>>8&255)-(S>>8&255))<<8|kt((255&y)+(255&H)-(255&S)))>>>0},I.Predictor13=function(y,S,F){var H=S[F-1];return(qt((y=Dt(y,S[F+0]))>>24&255,H>>24&255)<<24|qt(y>>16&255,H>>16&255)<<16|qt(y>>8&255,H>>8&255)<<8|qt(255&y,255&H))>>>0};var Vu=I.PredictorAdd0;I.PredictorAdd1=Gt,Ke("Predictor2","PredictorAdd2"),Ke("Predictor3","PredictorAdd3"),Ke("Predictor4","PredictorAdd4"),Ke("Predictor5","PredictorAdd5"),Ke("Predictor6","PredictorAdd6"),Ke("Predictor7","PredictorAdd7"),Ke("Predictor8","PredictorAdd8"),Ke("Predictor9","PredictorAdd9"),Ke("Predictor10","PredictorAdd10"),Ke("Predictor11","PredictorAdd11"),Ke("Predictor12","PredictorAdd12"),Ke("Predictor13","PredictorAdd13");var zu=I.PredictorAdd2;Lt("ColorIndexInverseTransform","MapARGB","32b",function(y){return y>>8&255},function(y){return y}),Lt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(y){return y},function(y){return y>>8&255});var wi,sd=I.ColorIndexInverseTransform,nl=I.MapARGB,rl=I.VP8LColorIndexInverseTransformAlpha,ga=I.MapAlpha,Cl=I.VP8LPredictorsAdd=[];Cl.length=16,(I.VP8LPredictors=[]).length=16,(I.VP8LPredictorsAdd_C=[]).length=16,(I.VP8LPredictors_C=[]).length=16;var qu,Hu,Il,Rl,il,Jc,js,kl,Ca,Ks,lr,Zn,Dr,bi,al,Co,Qc,ef,K0,ug,hg,fg,X0,J0,Zc,Xs,tf,Ms,eu=a(511),od=a(2041),nf=a(225),rf=a(767),ld=0,Ol=od,af=nf,Ia=rf,va=eu,cd=0,Ra=1,ud=2,Js=3,sf=4,Gu=5,cc=6,of=7,hd=8,Wu=9,fd=10,Qs=[2,3,7],Yu=[3,3,11],tu=[280,256,256,256,40],dd=[0,1,1,1,0],lf=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Zs=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],eo=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],uc=8,to=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],no=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Ps=null,dg=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Q0=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],md=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],mg=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],_a=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Hr=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],qn=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],es=[],ui=[],Io=[],hc=1,Z0=2,Dl=[],ya=[];Ot("UpsampleRgbLinePair",ma,3),Ot("UpsampleBgrLinePair",br,3),Ot("UpsampleRgbaLinePair",Qa,4),Ot("UpsampleBgraLinePair",Zo,4),Ot("UpsampleArgbLinePair",Qo,4),Ot("UpsampleRgba4444LinePair",Ds,2),Ot("UpsampleRgb565LinePair",pa,2);var nu=I.UpsampleRgbLinePair,em=I.UpsampleBgrLinePair,$u=I.UpsampleRgbaLinePair,pd=I.UpsampleBgraLinePair,fc=I.UpsampleArgbLinePair,sl=I.UpsampleRgba4444LinePair,dc=I.UpsampleRgb565LinePair,ro=16,Ku=1<<ro-1,ru=-227,mc=482,gd=6,pc=0,xa=a(256),vd=a(256),pg=a(256),Mv=a(256),Pv=a(mc-ru),Fv=a(mc-ru);Tl("YuvToRgbRow",ma,3),Tl("YuvToBgrRow",br,3),Tl("YuvToRgbaRow",Qa,4),Tl("YuvToBgraRow",Zo,4),Tl("YuvToArgbRow",Qo,4),Tl("YuvToRgba4444Row",Ds,2),Tl("YuvToRgb565Row",pa,2);var Ei=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Xu=[0,2,8],cf=[8,7,6,4,4,2,2,2,1,1,1,1],uf=1;this.WebPDecodeRGBA=function(y,S,F,H,te){var ie=Ra,se=new ct,ce=new Bt;se.ba=ce,ce.S=ie,ce.width=[ce.width],ce.height=[ce.height];var me=ce.width,Ee=ce.height,ke=new Nt;if(ke==null||y==null)var Ge=2;else e(ke!=null),Ge=Ao(y,S,F,ke.width,ke.height,ke.Pd,ke.Qd,ke.format,null);if(Ge!=0?me=0:(me!=null&&(me[0]=ke.width[0]),Ee!=null&&(Ee[0]=ke.height[0]),me=1),me){ce.width=ce.width[0],ce.height=ce.height[0],H!=null&&(H[0]=ce.width),te!=null&&(te[0]=ce.height);e:{if(H=new Qi,(te=new _t).data=y,te.w=S,te.ha=F,te.kd=1,S=[0],e(te!=null),((y=Ao(te.data,te.w,te.ha,null,null,null,S,null,te))==0||y==7)&&S[0]&&(y=4),(S=y)==0){if(e(se!=null),H.data=te.data,H.w=te.w+te.offset,H.ha=te.ha-te.offset,H.put=ln,H.ac=Vr,H.bc=Wa,H.ma=se,te.xa){if((y=Me())==null){se=1;break e}if((function(xe,De){var Ve=[0],st=[0],qe=[0];t:for(;;){if(xe==null)return 0;if(De==null)return xe.a=2,0;if(xe.l=De,xe.a=0,Ie(xe.m,De.data,De.w,De.ha),!_i(xe.m,Ve,st,qe)){xe.a=3;break t}if(xe.xb=Z0,De.width=Ve[0],De.height=st[0],!ze(Ve[0],st[0],1,xe,null))break t;return 1}return e(xe.a!=0),0})(y,H)){if(H=(S=No(H.width,H.height,se.Oa,se.ba))==0){t:{H=y;n:for(;;){if(H==null){H=0;break t}if(e(H.s.yc!=null),e(H.s.Ya!=null),e(0<H.s.Wb),e((F=H.l)!=null),e((te=F.ma)!=null),H.xb!=0){if(H.ca=te.ba,H.tb=te.tb,e(H.ca!=null),!Al(te.Oa,F,Js)){H.a=2;break n}if(!He(H,F.width)||F.da)break n;if((F.da||We(H.ca.S))&&Xe(),11>H.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),H.ca.f.kb.F!=null&&Xe()),H.Pb&&0<H.s.ua&&H.s.vb.X==null&&!Z(H.s.vb,H.s.Wa.Xa)){H.a=1;break n}H.xb=0}if(!Be(H,H.V,H.Ba,H.c,H.i,F.o,ue))break n;te.Dc=H.Ma,H=1;break t}e(H.a!=0),H=0}H=!H}H&&(S=y.a)}else S=y.a}else{if((y=new li)==null){se=1;break e}if(y.Fa=te.na,y.P=te.P,y.qc=te.Sa,fs(y,H)){if((S=No(H.width,H.height,se.Oa,se.ba))==0){if(y.Aa=0,F=se.Oa,e((te=y)!=null),F!=null){if(0<(me=0>(me=F.Md)?0:100<me?255:255*me/100)){for(Ee=ke=0;4>Ee;++Ee)12>(Ge=te.pb[Ee]).lc&&(Ge.ia=me*cf[0>Ge.lc?0:Ge.lc]>>3),ke|=Ge.ia;ke&&(alert("todo:VP8InitRandom"),te.ia=1)}te.Ga=F.Id,100<te.Ga?te.Ga=100:0>te.Ga&&(te.Ga=0)}(function(xe,De){if(xe==null)return 0;if(De==null)return Un(xe,2,"NULL VP8Io parameter in VP8Decode().");if(!xe.cb&&!fs(xe,De))return 0;if(e(xe.cb),De.ac==null||De.ac(De)){De.ob&&(xe.L=0);var Ve=Xu[xe.L];if(xe.L==2?(xe.yb=0,xe.zb=0):(xe.yb=De.v-Ve>>4,xe.zb=De.j-Ve>>4,0>xe.yb&&(xe.yb=0),0>xe.zb&&(xe.zb=0)),xe.Va=De.o+15+Ve>>4,xe.Hb=De.va+15+Ve>>4,xe.Hb>xe.za&&(xe.Hb=xe.za),xe.Va>xe.Ub&&(xe.Va=xe.Ub),0<xe.L){var st=xe.ed;for(Ve=0;4>Ve;++Ve){var qe;if(xe.Qa.Cb){var at=xe.Qa.Lb[Ve];xe.Qa.Fb||(at+=st.Tb)}else at=st.Tb;for(qe=0;1>=qe;++qe){var ft=xe.gd[Ve][qe],Ct=at;if(st.Pc&&(Ct+=st.vd[0],qe&&(Ct+=st.od[0])),0<(Ct=0>Ct?0:63<Ct?63:Ct)){var vt=Ct;0<st.wb&&(vt=4<st.wb?vt>>2:vt>>1)>9-st.wb&&(vt=9-st.wb),1>vt&&(vt=1),ft.dd=vt,ft.tc=2*Ct+vt,ft.ld=40<=Ct?2:15<=Ct?1:0}else ft.tc=0;ft.La=qe}}}Ve=0}else Un(xe,6,"Frame setup failed"),Ve=xe.a;if(Ve=Ve==0){if(Ve){xe.$c=0,0<xe.Aa||(xe.Ic=uf);t:{Ve=xe.Ic,st=4*(vt=xe.za);var sn=32*vt,Jt=vt+1,An=0<xe.L?vt*(0<xe.Aa?2:1):0,tn=(xe.Aa==2?2:1)*vt;if((ft=st+832+(qe=3*(16*Ve+Xu[xe.L])/2*sn)+(at=xe.Fa!=null&&0<xe.Fa.length?xe.Kc.c*xe.Kc.i:0))!=ft)Ve=0;else{if(ft>xe.Vb){if(xe.Vb=0,xe.Ec=a(ft),xe.Fc=0,xe.Ec==null){Ve=Un(xe,1,"no memory during frame initialization.");break t}xe.Vb=ft}ft=xe.Ec,Ct=xe.Fc,xe.Ac=ft,xe.Bc=Ct,Ct+=st,xe.Gd=o(sn,Ta),xe.Hd=0,xe.rb=o(Jt+1,or),xe.sb=1,xe.wa=An?o(An,jn):null,xe.Y=0,xe.D.Nb=0,xe.D.wa=xe.wa,xe.D.Y=xe.Y,0<xe.Aa&&(xe.D.Y+=vt),e(!0),xe.oc=ft,xe.pc=Ct,Ct+=832,xe.ya=o(tn,Ya),xe.aa=0,xe.D.ya=xe.ya,xe.D.aa=xe.aa,xe.Aa==2&&(xe.D.aa+=vt),xe.R=16*vt,xe.B=8*vt,vt=(sn=Xu[xe.L])*xe.R,sn=sn/2*xe.B,xe.sa=ft,xe.ta=Ct+vt,xe.qa=xe.sa,xe.ra=xe.ta+16*Ve*xe.R+sn,xe.Ha=xe.qa,xe.Ia=xe.ra+8*Ve*xe.B+sn,xe.$c=0,Ct+=qe,xe.mb=at?ft:null,xe.nb=at?Ct:null,e(Ct+at<=xe.Fc+xe.Vb),Yo(xe),i(xe.Ac,xe.Bc,0,st),Ve=1}}if(Ve){if(De.ka=0,De.y=xe.sa,De.O=xe.ta,De.f=xe.qa,De.N=xe.ra,De.ea=xe.Ha,De.Vd=xe.Ia,De.fa=xe.R,De.Rc=xe.B,De.F=null,De.J=0,!ld){for(Ve=-255;255>=Ve;++Ve)eu[255+Ve]=0>Ve?-Ve:Ve;for(Ve=-1020;1020>=Ve;++Ve)od[1020+Ve]=-128>Ve?-128:127<Ve?127:Ve;for(Ve=-112;112>=Ve;++Ve)nf[112+Ve]=-16>Ve?-16:15<Ve?15:Ve;for(Ve=-255;510>=Ve;++Ve)rf[255+Ve]=0>Ve?0:255<Ve?255:Ve;ld=1}js=qi,kl=Gc,Ks=da,lr=Wc,Zn=bo,Ca=Bu,Dr=Xc,bi=Os,al=ee,Co=be,Qc=oc,ef=D,K0=Re,ug=Le,hg=Ys,fg=ds,X0=Sl,J0=sc,ui[0]=Xo,ui[1]=Yc,ui[2]=wl,ui[3]=ac,ui[4]=Hi,ui[5]=bl,ui[6]=Ii,ui[7]=ur,ui[8]=El,ui[9]=$a,es[0]=Rs,es[1]=rc,es[2]=ic,es[3]=Eo,es[4]=So,es[5]=Na,es[6]=Ko,Io[0]=To,Io[1]=$c,Io[2]=ks,Io[3]=Kc,Io[4]=xi,Io[5]=Xa,Io[6]=Hs,Ve=1}else Ve=0}Ve&&(Ve=(function(zn,Gr){for(zn.M=0;zn.M<zn.Va;++zn.M){var Rn,Qt=zn.Jc[zn.M&zn.Xb],Ut=zn.m,Zr=zn;for(Rn=0;Rn<Zr.za;++Rn){var wn=Ut,Ln=Zr,gr=Ln.Ac,Gi=Ln.Bc+4*Rn,wa=Ln.zc,Lr=Ln.ya[Ln.aa+Rn];if(Ln.Qa.Bb?Lr.$b=Ce(wn,Ln.Pa.jb[0])?2+Ce(wn,Ln.Pa.jb[2]):Ce(wn,Ln.Pa.jb[1]):Lr.$b=0,Ln.kc&&(Lr.Ad=Ce(wn,Ln.Bd)),Lr.Za=!Ce(wn,145)+0,Lr.Za){var Ri=Lr.Ob,ka=0;for(Ln=0;4>Ln;++Ln){var ki,Fn=wa[0+Ln];for(ki=0;4>ki;++ki){Fn=_a[gr[Gi+ki]][Fn];for(var rr=md[Ce(wn,Fn[0])];0<rr;)rr=md[2*rr+Ce(wn,Fn[rr])];Fn=-rr,gr[Gi+ki]=Fn}r(Ri,ka,gr,Gi,4),ka+=4,wa[0+Ln]=Fn}}else Fn=Ce(wn,156)?Ce(wn,128)?1:3:Ce(wn,163)?2:0,Lr.Ob[0]=Fn,i(gr,Gi,Fn,4),i(wa,0,Fn,4);Lr.Dd=Ce(wn,142)?Ce(wn,114)?Ce(wn,183)?1:3:2:0}if(Zr.m.Ka)return Un(zn,7,"Premature end-of-partition0 encountered.");for(;zn.ja<zn.za;++zn.ja){if(Zr=Qt,wn=(Ut=zn).rb[Ut.sb-1],gr=Ut.rb[Ut.sb+Ut.ja],Rn=Ut.ya[Ut.aa+Ut.ja],Gi=Ut.kc?Rn.Ad:0)wn.la=gr.la=0,Rn.Za||(wn.Na=gr.Na=0),Rn.Hc=0,Rn.Gc=0,Rn.ia=0;else{var ei,cr;if(wn=gr,gr=Zr,Gi=Ut.Pa.Xc,wa=Ut.ya[Ut.aa+Ut.ja],Lr=Ut.pb[wa.$b],Ln=wa.ad,Ri=0,ka=Ut.rb[Ut.sb-1],Fn=ki=0,i(Ln,Ri,0,384),wa.Za)var Wi=0,ti=Gi[3];else{rr=a(16);var ir=wn.Na+ka.Na;if(ir=Ps(gr,Gi[1],ir,Lr.Eb,0,rr,0),wn.Na=ka.Na=(0<ir)+0,1<ir)js(rr,0,Ln,Ri);else{var Si=rr[0]+3>>3;for(rr=0;256>rr;rr+=16)Ln[Ri+rr]=Si}Wi=1,ti=Gi[0]}var vr=15&wn.la,Oi=15&ka.la;for(rr=0;4>rr;++rr){var Di=1&Oi;for(Si=cr=0;4>Si;++Si)vr=vr>>1|(Di=(ir=Ps(gr,ti,ir=Di+(1&vr),Lr.Sc,Wi,Ln,Ri))>Wi)<<7,cr=cr<<2|(3<ir?3:1<ir?2:Ln[Ri+0]!=0),Ri+=16;vr>>=4,Oi=Oi>>1|Di<<7,ki=(ki<<8|cr)>>>0}for(ti=vr,Wi=Oi>>4,ei=0;4>ei;ei+=2){for(cr=0,vr=wn.la>>4+ei,Oi=ka.la>>4+ei,rr=0;2>rr;++rr){for(Di=1&Oi,Si=0;2>Si;++Si)ir=Di+(1&vr),vr=vr>>1|(Di=0<(ir=Ps(gr,Gi[2],ir,Lr.Qc,0,Ln,Ri)))<<3,cr=cr<<2|(3<ir?3:1<ir?2:Ln[Ri+0]!=0),Ri+=16;vr>>=2,Oi=Oi>>1|Di<<5}Fn|=cr<<4*ei,ti|=vr<<4<<ei,Wi|=(240&Oi)<<ei}wn.la=ti,ka.la=Wi,wa.Hc=ki,wa.Gc=Fn,wa.ia=43690&Fn?0:Lr.ia,Gi=!(ki|Fn)}if(0<Ut.L&&(Ut.wa[Ut.Y+Ut.ja]=Ut.gd[Rn.$b][Rn.Za],Ut.wa[Ut.Y+Ut.ja].La|=!Gi),Zr.Ka)return Un(zn,7,"Premature end-of-file encountered.")}if(Yo(zn),Ut=Gr,Zr=1,Rn=(Qt=zn).D,wn=0<Qt.L&&Qt.M>=Qt.zb&&Qt.M<=Qt.Va,Qt.Aa==0)t:{if(Rn.M=Qt.M,Rn.uc=wn,Ls(Qt,Rn),Zr=1,Rn=(cr=Qt.D).Nb,wn=(Fn=Xu[Qt.L])*Qt.R,gr=Fn/2*Qt.B,rr=16*Rn*Qt.R,Si=8*Rn*Qt.B,Gi=Qt.sa,wa=Qt.ta-wn+rr,Lr=Qt.qa,Ln=Qt.ra-gr+Si,Ri=Qt.Ha,ka=Qt.Ia-gr+Si,Oi=(vr=cr.M)==0,ki=vr>=Qt.Va-1,Qt.Aa==2&&Ls(Qt,cr),cr.uc)for(Di=(ir=Qt).D.M,e(ir.D.uc),cr=ir.yb;cr<ir.Hb;++cr){Wi=cr,ti=Di;var Er=(er=(Li=ir).D).Nb;ei=Li.R;var er=er.wa[er.Y+Wi],Oa=Li.sa,hi=Li.ta+16*Er*ei+16*Wi,dn=er.dd,vn=er.tc;if(vn!=0)if(e(3<=vn),Li.L==1)0<Wi&&fg(Oa,hi,ei,vn+4),er.La&&J0(Oa,hi,ei,vn),0<ti&&hg(Oa,hi,ei,vn+4),er.La&&X0(Oa,hi,ei,vn);else{var ar=Li.B,ps=Li.qa,io=Li.ra+8*Er*ar+8*Wi,ts=Li.Ha,Li=Li.Ia+8*Er*ar+8*Wi;Er=er.ld,0<Wi&&(bi(Oa,hi,ei,vn+4,dn,Er),Co(ps,io,ts,Li,ar,vn+4,dn,Er)),er.La&&(ef(Oa,hi,ei,vn,dn,Er),ug(ps,io,ts,Li,ar,vn,dn,Er)),0<ti&&(Dr(Oa,hi,ei,vn+4,dn,Er),al(ps,io,ts,Li,ar,vn+4,dn,Er)),er.La&&(Qc(Oa,hi,ei,vn,dn,Er),K0(ps,io,ts,Li,ar,vn,dn,Er))}}if(Qt.ia&&alert("todo:DitherRow"),Ut.put!=null){if(cr=16*vr,vr=16*(vr+1),Oi?(Ut.y=Qt.sa,Ut.O=Qt.ta+rr,Ut.f=Qt.qa,Ut.N=Qt.ra+Si,Ut.ea=Qt.Ha,Ut.W=Qt.Ia+Si):(cr-=Fn,Ut.y=Gi,Ut.O=wa,Ut.f=Lr,Ut.N=Ln,Ut.ea=Ri,Ut.W=ka),ki||(vr-=Fn),vr>Ut.o&&(vr=Ut.o),Ut.F=null,Ut.J=null,Qt.Fa!=null&&0<Qt.Fa.length&&cr<vr&&(Ut.J=x(Qt,Ut,cr,vr-cr),Ut.F=Qt.mb,Ut.F==null&&Ut.F.length==0)){Zr=Un(Qt,3,"Could not decode alpha data.");break t}cr<Ut.j&&(Fn=Ut.j-cr,cr=Ut.j,e(!(1&Fn)),Ut.O+=Qt.R*Fn,Ut.N+=Qt.B*(Fn>>1),Ut.W+=Qt.B*(Fn>>1),Ut.F!=null&&(Ut.J+=Ut.width*Fn)),cr<vr&&(Ut.O+=Ut.v,Ut.N+=Ut.v>>1,Ut.W+=Ut.v>>1,Ut.F!=null&&(Ut.J+=Ut.v),Ut.ka=cr-Ut.j,Ut.U=Ut.va-Ut.v,Ut.T=vr-cr,Zr=Ut.put(Ut))}Rn+1!=Qt.Ic||ki||(r(Qt.sa,Qt.ta-wn,Gi,wa+16*Qt.R,wn),r(Qt.qa,Qt.ra-gr,Lr,Ln+8*Qt.B,gr),r(Qt.Ha,Qt.Ia-gr,Ri,ka+8*Qt.B,gr))}if(!Zr)return Un(zn,6,"Output aborted.")}return 1})(xe,De)),De.bc!=null&&De.bc(De),Ve&=1}return Ve?(xe.cb=0,Ve):0})(y,H)||(S=y.a)}}else S=y.a}S==0&&se.Oa!=null&&se.Oa.fd&&(S=Zh(se.ba))}se=S}ie=se!=0?null:11>ie?ce.f.RGBA.eb:ce.f.kb.y}else ie=null;return ie};var _d=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function h(I,z){for(var O="",M=0;M<4;M++)O+=String.fromCharCode(I[z++]);return O}function m(I,z){return I[z+0]|I[z+1]<<8}function g(I,z){return(I[z+0]|I[z+1]<<8|I[z+2]<<16)>>>0}function _(I,z){return(I[z+0]|I[z+1]<<8|I[z+2]<<16|I[z+3]<<24)>>>0}new u;var v=[0],b=[0],w=[],T=new u,N=n,P=(function(I,z){var O={},M=0,B=!1,Y=0,we=0;if(O.frames=[],!(function(L,G){for(var q=0;q<4;q++)if(L[G+q]!="RIFF".charCodeAt(q))return!0;return!1})(I,z)){for(_(I,z+=4),z+=8;z<I.length;){var fe=h(I,z),le=_(I,z+=4);z+=4;var pe=le+(1&le);switch(fe){case"VP8 ":case"VP8L":O.frames[M]===void 0&&(O.frames[M]={}),(re=O.frames[M]).src_off=B?we:z-8,re.src_size=Y+le+8,M++,B&&(B=!1,Y=0,we=0);break;case"VP8X":(re=O.header={}).feature_flags=I[z];var Ie=z+4;re.canvas_width=1+g(I,Ie),Ie+=3,re.canvas_height=1+g(I,Ie),Ie+=3;break;case"ALPH":B=!0,Y=pe+8,we=z-8;break;case"ANIM":(re=O.header).bgcolor=_(I,z),Ie=z+4,re.loop_count=m(I,Ie),Ie+=2;break;case"ANMF":var Ae,re;(re=O.frames[M]={}).offset_x=2*g(I,z),z+=3,re.offset_y=2*g(I,z),z+=3,re.width=1+g(I,z),z+=3,re.height=1+g(I,z),z+=3,re.duration=g(I,z),z+=3,Ae=I[z++],re.dispose=1&Ae,re.blend=Ae>>1&1}fe!="ANMF"&&(z+=pe)}return O}})(N,0);P.response=N,P.rgbaoutput=!0,P.dataurl=!1;var R=P.header?P.header:null,j=P.frames?P.frames:null;if(R){R.loop_counter=R.loop_count,v=[R.canvas_height],b=[R.canvas_width];for(var K=0;K<j.length&&j[K].blend!=0;K++);}var U=j[0],C=T.WebPDecodeRGBA(N,U.src_off,U.src_size,b,v);U.rgba=C,U.imgwidth=b[0],U.imgheight=v[0];for(var k=0;k<b[0]*v[0]*4;k++)w[k]=C[k];return this.width=b,this.height=v,this.data=w,this}(function(n){var e,t,r,i,a,o,c,u,h,m=function(L){return L=L||{},this.isStrokeTransparent=L.isStrokeTransparent||!1,this.strokeOpacity=L.strokeOpacity||1,this.strokeStyle=L.strokeStyle||"#000000",this.fillStyle=L.fillStyle||"#000000",this.isFillTransparent=L.isFillTransparent||!1,this.fillOpacity=L.fillOpacity||1,this.font=L.font||"10px sans-serif",this.textBaseline=L.textBaseline||"alphabetic",this.textAlign=L.textAlign||"left",this.lineWidth=L.lineWidth||1,this.lineJoin=L.lineJoin||"miter",this.lineCap=L.lineCap||"butt",this.path=L.path||[],this.transform=L.transform!==void 0?L.transform.clone():new u,this.globalCompositeOperation=L.globalCompositeOperation||"normal",this.globalAlpha=L.globalAlpha||1,this.clip_path=L.clip_path||[],this.currentPoint=L.currentPoint||new o,this.miterLimit=L.miterLimit||10,this.lastPoint=L.lastPoint||new o,this.lineDashOffset=L.lineDashOffset||0,this.lineDash=L.lineDash||[],this.margin=L.margin||[0,0,0,0],this.prevPageLastElemOffset=L.prevPageLastElemOffset||0,this.ignoreClearRect=typeof L.ignoreClearRect!="boolean"||L.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new g(this),e=this.internal.f2,t=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,o=this.internal.Point,c=this.internal.Rectangle,u=this.internal.Matrix,h=new m}]);var g=function(L){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var G=L;Object.defineProperty(this,"pdf",{get:function(){return G}});var q=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return q},set:function(Z){q=!!Z}});var J=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return J},set:function(Z){J=!!Z}});var ae=0;Object.defineProperty(this,"posX",{get:function(){return ae},set:function(Z){isNaN(Z)||(ae=Z)}});var ge=0;Object.defineProperty(this,"posY",{get:function(){return ge},set:function(Z){isNaN(Z)||(ge=Z)}}),Object.defineProperty(this,"margin",{get:function(){return h.margin},set:function(Z){var Fe;typeof Z=="number"?Fe=[Z,Z,Z,Z]:((Fe=new Array(4))[0]=Z[0],Fe[1]=Z.length>=2?Z[1]:Fe[0],Fe[2]=Z.length>=3?Z[2]:Fe[0],Fe[3]=Z.length>=4?Z[3]:Fe[1]),h.margin=Fe}});var Te=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Te},set:function(Z){Te=Z}});var Se=0;Object.defineProperty(this,"lastBreak",{get:function(){return Se},set:function(Z){Se=Z}});var Ce=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ce},set:function(Z){Ce=Z}}),Object.defineProperty(this,"ctx",{get:function(){return h},set:function(Z){Z instanceof m&&(h=Z)}}),Object.defineProperty(this,"path",{get:function(){return h.path},set:function(Z){h.path=Z}});var et=[];Object.defineProperty(this,"ctxStack",{get:function(){return et},set:function(Z){et=Z}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Z){var Fe;Fe=_(Z),this.ctx.fillStyle=Fe.style,this.ctx.isFillTransparent=Fe.a===0,this.ctx.fillOpacity=Fe.a,this.pdf.setFillColor(Fe.r,Fe.g,Fe.b,{a:Fe.a}),this.pdf.setTextColor(Fe.r,Fe.g,Fe.b,{a:Fe.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Z){var Fe=_(Z);this.ctx.strokeStyle=Fe.style,this.ctx.isStrokeTransparent=Fe.a===0,this.ctx.strokeOpacity=Fe.a,Fe.a===0?this.pdf.setDrawColor(255,255,255):(Fe.a,this.pdf.setDrawColor(Fe.r,Fe.g,Fe.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Z){["butt","round","square"].indexOf(Z)!==-1&&(this.ctx.lineCap=Z,this.pdf.setLineCap(Z))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Z){isNaN(Z)||(this.ctx.lineWidth=Z,this.pdf.setLineWidth(Z))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Z){["bevel","round","miter"].indexOf(Z)!==-1&&(this.ctx.lineJoin=Z,this.pdf.setLineJoin(Z))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Z){isNaN(Z)||(this.ctx.miterLimit=Z,this.pdf.setMiterLimit(Z))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Z){this.ctx.textBaseline=Z}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Z){["right","end","center","left","start"].indexOf(Z)!==-1&&(this.ctx.textAlign=Z)}});var ot=null,tt=null,it=null;Object.defineProperty(this,"fontFaces",{get:function(){return it},set:function(Z){ot=null,tt=null,it=Z}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Z){var Fe;if(this.ctx.font=Z,(Fe=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(Z))!==null){var nt=Fe[1];Fe[2];var It=Fe[3],Qe=Fe[4];Fe[5];var At=Fe[6],Ke=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Qe)[2];Qe=Math.floor(Ke==="px"?parseFloat(Qe)*this.pdf.internal.scaleFactor:Ke==="em"?parseFloat(Qe)*this.pdf.getFontSize():parseFloat(Qe)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Qe);var ht=(function(Lt){var yn,zt,Ft=[],Rt=Lt.trim();if(Rt==="")return cx;if(Rt in VA)return[VA[Rt]];for(;Rt!=="";){switch(zt=null,yn=(Rt=qA(Rt)).charAt(0)){case'"':case"'":zt=RY(Rt.substring(1),yn);break;default:zt=kY(Rt)}if(zt===null||(Ft.push(zt[0]),(Rt=qA(zt[1]))!==""&&Rt.charAt(0)!==","))return cx;Rt=Rt.replace(/^,/,"")}return Ft})(At);if(this.fontFaces){var Dt=(function(Lt,yn){var zt=Lt.getFontList(),Ft=JSON.stringify(zt);if(ot===null||tt!==Ft){var Rt=(function(xt){var Kt=[];return Object.keys(xt).forEach(function(En){xt[En].forEach(function(We){var wt=null;switch(We){case"bold":wt={family:En,weight:"bold"};break;case"italic":wt={family:En,style:"italic"};break;case"bolditalic":wt={family:En,weight:"bold",style:"italic"};break;case"":case"normal":wt={family:En}}wt!==null&&(wt.ref={name:En,style:We},Kt.push(wt))})}),Kt})(zt);ot=(function(xt){for(var Kt={},En=0;En<xt.length;++En){var We=lx(xt[En]),wt=We.family,nn=We.stretch,Bt=We.style,Nt=We.weight;Kt[wt]=Kt[wt]||{},Kt[wt][nn]=Kt[wt][nn]||{},Kt[wt][nn][Bt]=Kt[wt][nn][Bt]||{},Kt[wt][nn][Bt][Nt]=We}return Kt})(Rt.concat(yn)),tt=Ft}return ot})(this.pdf,this.fontFaces),kt=ht.map(function(Lt){return{family:Lt,stretch:"normal",weight:It,style:nt}}),qt=(function(Lt,yn,zt){for(var Ft=(zt=zt||{}).defaultFontFamily||"times",Rt=Object.assign({},IY,zt.genericFontFamilies||{}),xt=null,Kt=null,En=0;En<yn.length;++En)if(Rt[(xt=lx(yn[En])).family]&&(xt.family=Rt[xt.family]),Lt.hasOwnProperty(xt.family)){Kt=Lt[xt.family];break}if(!(Kt=Kt||Lt[Ft]))throw new Error("Could not find a font-family for the rule '"+zA(xt)+"' and default family '"+Ft+"'.");if(Kt=(function(We,wt){if(wt[We])return wt[We];var nn=g5[We],Bt=nn<=g5.normal?-1:1,Nt=UA(wt,zR,nn,Bt);if(!Nt)throw new Error("Could not find a matching font-stretch value for "+We);return Nt})(xt.stretch,Kt),Kt=(function(We,wt){if(wt[We])return wt[We];for(var nn=VR[We],Bt=0;Bt<nn.length;++Bt)if(wt[nn[Bt]])return wt[nn[Bt]];throw new Error("Could not find a matching font-style for "+We)})(xt.style,Kt),!(Kt=(function(We,wt){if(wt[We])return wt[We];if(We===400&&wt[500])return wt[500];if(We===500&&wt[400])return wt[400];var nn=CY[We],Bt=UA(wt,qR,nn,We<400?-1:1);if(!Bt)throw new Error("Could not find a matching font-weight for value "+We);return Bt})(xt.weight,Kt)))throw new Error("Failed to resolve a font for the rule '"+zA(xt)+"'.");return Kt})(Dt,kt);this.pdf.setFont(qt.ref.name,qt.ref.style)}else{var Vt="";(It==="bold"||parseInt(It,10)>=700||nt==="bold")&&(Vt="bold"),nt==="italic"&&(Vt+="italic"),Vt.length===0&&(Vt="normal");for(var Gt="",Ht={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Mt=0;Mt<ht.length;Mt++){if(this.pdf.internal.getFont(ht[Mt],Vt,{noFallback:!0,disableWarning:!0})!==void 0){Gt=ht[Mt];break}if(Vt==="bolditalic"&&this.pdf.internal.getFont(ht[Mt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Gt=ht[Mt],Vt="bold";else if(this.pdf.internal.getFont(ht[Mt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Gt=ht[Mt],Vt="normal";break}}if(Gt===""){for(var Wt=0;Wt<ht.length;Wt++)if(Ht[ht[Wt]]){Gt=Ht[ht[Wt]];break}}Gt=Gt===""?"Times":Gt,this.pdf.setFont(Gt,Vt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Z){this.ctx.globalCompositeOperation=Z}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Z){this.ctx.globalAlpha=Z}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Z){this.ctx.lineDashOffset=Z,re.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Z){this.ctx.lineDash=Z,re.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Z){this.ctx.ignoreClearRect=!!Z}})};g.prototype.setLineDash=function(L){this.lineDash=L},g.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},g.prototype.fill=function(){j.call(this,"fill",!1)},g.prototype.stroke=function(){j.call(this,"stroke",!1)},g.prototype.beginPath=function(){this.path=[{type:"begin"}]},g.prototype.moveTo=function(L,G){if(isNaN(L)||isNaN(G))throw Yr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var q=this.ctx.transform.applyToPoint(new o(L,G));this.path.push({type:"mt",x:q.x,y:q.y}),this.ctx.lastPoint=new o(L,G)},g.prototype.closePath=function(){var L=new o(0,0),G=0;for(G=this.path.length-1;G!==-1;G--)if(this.path[G].type==="begin"&&Cr(this.path[G+1])==="object"&&typeof this.path[G+1].x=="number"){L=new o(this.path[G+1].x,this.path[G+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(L.x,L.y)},g.prototype.lineTo=function(L,G){if(isNaN(L)||isNaN(G))throw Yr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var q=this.ctx.transform.applyToPoint(new o(L,G));this.path.push({type:"lt",x:q.x,y:q.y}),this.ctx.lastPoint=new o(q.x,q.y)},g.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),j.call(this,null,!0)},g.prototype.quadraticCurveTo=function(L,G,q,J){if(isNaN(q)||isNaN(J)||isNaN(L)||isNaN(G))throw Yr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ae=this.ctx.transform.applyToPoint(new o(q,J)),ge=this.ctx.transform.applyToPoint(new o(L,G));this.path.push({type:"qct",x1:ge.x,y1:ge.y,x:ae.x,y:ae.y}),this.ctx.lastPoint=new o(ae.x,ae.y)},g.prototype.bezierCurveTo=function(L,G,q,J,ae,ge){if(isNaN(ae)||isNaN(ge)||isNaN(L)||isNaN(G)||isNaN(q)||isNaN(J))throw Yr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Te=this.ctx.transform.applyToPoint(new o(ae,ge)),Se=this.ctx.transform.applyToPoint(new o(L,G)),Ce=this.ctx.transform.applyToPoint(new o(q,J));this.path.push({type:"bct",x1:Se.x,y1:Se.y,x2:Ce.x,y2:Ce.y,x:Te.x,y:Te.y}),this.ctx.lastPoint=new o(Te.x,Te.y)},g.prototype.arc=function(L,G,q,J,ae,ge){if(isNaN(L)||isNaN(G)||isNaN(q)||isNaN(J)||isNaN(ae))throw Yr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ge=!!ge,!this.ctx.transform.isIdentity){var Te=this.ctx.transform.applyToPoint(new o(L,G));L=Te.x,G=Te.y;var Se=this.ctx.transform.applyToPoint(new o(0,q)),Ce=this.ctx.transform.applyToPoint(new o(0,0));q=Math.sqrt(Math.pow(Se.x-Ce.x,2)+Math.pow(Se.y-Ce.y,2))}Math.abs(ae-J)>=2*Math.PI&&(J=0,ae=2*Math.PI),this.path.push({type:"arc",x:L,y:G,radius:q,startAngle:J,endAngle:ae,counterclockwise:ge})},g.prototype.arcTo=function(L,G,q,J,ae){throw new Error("arcTo not implemented.")},g.prototype.rect=function(L,G,q,J){if(isNaN(L)||isNaN(G)||isNaN(q)||isNaN(J))throw Yr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(L,G),this.lineTo(L+q,G),this.lineTo(L+q,G+J),this.lineTo(L,G+J),this.lineTo(L,G),this.lineTo(L+q,G),this.lineTo(L,G)},g.prototype.fillRect=function(L,G,q,J){if(isNaN(L)||isNaN(G)||isNaN(q)||isNaN(J))throw Yr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!v.call(this)){var ae={};this.lineCap!=="butt"&&(ae.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ae.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(L,G,q,J),this.fill(),ae.hasOwnProperty("lineCap")&&(this.lineCap=ae.lineCap),ae.hasOwnProperty("lineJoin")&&(this.lineJoin=ae.lineJoin)}},g.prototype.strokeRect=function(L,G,q,J){if(isNaN(L)||isNaN(G)||isNaN(q)||isNaN(J))throw Yr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");b.call(this)||(this.beginPath(),this.rect(L,G,q,J),this.stroke())},g.prototype.clearRect=function(L,G,q,J){if(isNaN(L)||isNaN(G)||isNaN(q)||isNaN(J))throw Yr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(L,G,q,J))},g.prototype.save=function(L){L=typeof L!="boolean"||L;for(var G=this.pdf.internal.getCurrentPageInfo().pageNumber,q=0;q<this.pdf.internal.getNumberOfPages();q++)this.pdf.setPage(q+1),this.pdf.internal.out("q");if(this.pdf.setPage(G),L){this.ctx.fontSize=this.pdf.internal.getFontSize();var J=new m(this.ctx);this.ctxStack.push(this.ctx),this.ctx=J}},g.prototype.restore=function(L){L=typeof L!="boolean"||L;for(var G=this.pdf.internal.getCurrentPageInfo().pageNumber,q=0;q<this.pdf.internal.getNumberOfPages();q++)this.pdf.setPage(q+1),this.pdf.internal.out("Q");this.pdf.setPage(G),L&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},g.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var _=function(L){var G,q,J,ae;if(L.isCanvasGradient===!0&&(L=L.getColor()),!L)return{r:0,g:0,b:0,a:0,style:L};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(L))G=0,q=0,J=0,ae=0;else{var ge=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(L);if(ge!==null)G=parseInt(ge[1]),q=parseInt(ge[2]),J=parseInt(ge[3]),ae=1;else if((ge=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(L))!==null)G=parseInt(ge[1]),q=parseInt(ge[2]),J=parseInt(ge[3]),ae=parseFloat(ge[4]);else{if(ae=1,typeof L=="string"&&L.charAt(0)!=="#"){var Te=new LR(L);L=Te.ok?Te.toHex():"#000000"}L.length===4?(G=L.substring(1,2),G+=G,q=L.substring(2,3),q+=q,J=L.substring(3,4),J+=J):(G=L.substring(1,3),q=L.substring(3,5),J=L.substring(5,7)),G=parseInt(G,16),q=parseInt(q,16),J=parseInt(J,16)}}return{r:G,g:q,b:J,a:ae,style:L}},v=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},b=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};g.prototype.fillText=function(L,G,q,J){if(isNaN(G)||isNaN(q)||typeof L!="string")throw Yr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(J=isNaN(J)?void 0:J,!v.call(this)){var ae=pe(this.ctx.transform.rotation),ge=this.ctx.transform.scaleX;M.call(this,{text:L,x:G,y:q,scale:ge,angle:ae,align:this.textAlign,maxWidth:J})}},g.prototype.strokeText=function(L,G,q,J){if(isNaN(G)||isNaN(q)||typeof L!="string")throw Yr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!b.call(this)){J=isNaN(J)?void 0:J;var ae=pe(this.ctx.transform.rotation),ge=this.ctx.transform.scaleX;M.call(this,{text:L,x:G,y:q,scale:ge,renderingMode:"stroke",angle:ae,align:this.textAlign,maxWidth:J})}},g.prototype.measureText=function(L){if(typeof L!="string")throw Yr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var G=this.pdf,q=this.pdf.internal.scaleFactor,J=G.internal.getFontSize(),ae=G.getStringUnitWidth(L)*J/G.internal.scaleFactor;return new function(ge){var Te=(ge=ge||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Te}}),this}({width:ae*=Math.round(96*q/72*1e4)/1e4})},g.prototype.scale=function(L,G){if(isNaN(L)||isNaN(G))throw Yr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var q=new u(L,0,0,G,0,0);this.ctx.transform=this.ctx.transform.multiply(q)},g.prototype.rotate=function(L){if(isNaN(L))throw Yr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var G=new u(Math.cos(L),Math.sin(L),-Math.sin(L),Math.cos(L),0,0);this.ctx.transform=this.ctx.transform.multiply(G)},g.prototype.translate=function(L,G){if(isNaN(L)||isNaN(G))throw Yr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var q=new u(1,0,0,1,L,G);this.ctx.transform=this.ctx.transform.multiply(q)},g.prototype.transform=function(L,G,q,J,ae,ge){if(isNaN(L)||isNaN(G)||isNaN(q)||isNaN(J)||isNaN(ae)||isNaN(ge))throw Yr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Te=new u(L,G,q,J,ae,ge);this.ctx.transform=this.ctx.transform.multiply(Te)},g.prototype.setTransform=function(L,G,q,J,ae,ge){L=isNaN(L)?1:L,G=isNaN(G)?0:G,q=isNaN(q)?0:q,J=isNaN(J)?1:J,ae=isNaN(ae)?0:ae,ge=isNaN(ge)?0:ge,this.ctx.transform=new u(L,G,q,J,ae,ge)};var w=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};g.prototype.drawImage=function(L,G,q,J,ae,ge,Te,Se,Ce){var et=this.pdf.getImageProperties(L),ot=1,tt=1,it=1,Z=1;J!==void 0&&Se!==void 0&&(it=Se/J,Z=Ce/ae,ot=et.width/J*Se/J,tt=et.height/ae*Ce/ae),ge===void 0&&(ge=G,Te=q,G=0,q=0),J!==void 0&&Se===void 0&&(Se=J,Ce=ae),J===void 0&&Se===void 0&&(Se=et.width,Ce=et.height);var Fe=this.ctx.transform.decompose(),nt=pe(Fe.rotate.shx),It=new u,Qe=(It=(It=(It=It.multiply(Fe.translate)).multiply(Fe.skew)).multiply(Fe.scale)).applyToRectangle(new c(ge-G*it,Te-q*Z,J*ot,ae*tt));if(this.autoPaging){for(var At,Ke=T.call(this,Qe),ht=[],Dt=0;Dt<Ke.length;Dt+=1)ht.indexOf(Ke[Dt])===-1&&ht.push(Ke[Dt]);R(ht);for(var kt=ht[0],qt=ht[ht.length-1],Vt=kt;Vt<qt+1;Vt++){this.pdf.setPage(Vt);var Gt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ht=Vt===1?this.posY+this.margin[0]:this.margin[0],Mt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Wt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Lt=Vt===1?0:Mt+(Vt-2)*Wt;if(this.ctx.clip_path.length!==0){var yn=this.path;At=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=P(At,this.posX+this.margin[3],-Lt+Ht+this.ctx.prevPageLastElemOffset),K.call(this,"fill",!0),this.path=yn}var zt=JSON.parse(JSON.stringify(Qe));zt=P([zt],this.posX+this.margin[3],-Lt+Ht+this.ctx.prevPageLastElemOffset)[0];var Ft=(Vt>kt||Vt<qt)&&w.call(this);Ft&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Gt,Wt,null).clip().discardPath()),this.pdf.addImage(L,"JPEG",zt.x,zt.y,zt.w,zt.h,null,null,nt),Ft&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(L,"JPEG",Qe.x,Qe.y,Qe.w,Qe.h,null,null,nt)};var T=function(L,G,q){var J=[];G=G||this.pdf.internal.pageSize.width,q=q||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ae=this.posY+this.ctx.prevPageLastElemOffset;switch(L.type){default:case"mt":case"lt":J.push(Math.floor((L.y+ae)/q)+1);break;case"arc":J.push(Math.floor((L.y+ae-L.radius)/q)+1),J.push(Math.floor((L.y+ae+L.radius)/q)+1);break;case"qct":var ge=Ie(this.ctx.lastPoint.x,this.ctx.lastPoint.y,L.x1,L.y1,L.x,L.y);J.push(Math.floor((ge.y+ae)/q)+1),J.push(Math.floor((ge.y+ge.h+ae)/q)+1);break;case"bct":var Te=Ae(this.ctx.lastPoint.x,this.ctx.lastPoint.y,L.x1,L.y1,L.x2,L.y2,L.x,L.y);J.push(Math.floor((Te.y+ae)/q)+1),J.push(Math.floor((Te.y+Te.h+ae)/q)+1);break;case"rect":J.push(Math.floor((L.y+ae)/q)+1),J.push(Math.floor((L.y+L.h+ae)/q)+1)}for(var Se=0;Se<J.length;Se+=1)for(;this.pdf.internal.getNumberOfPages()<J[Se];)N.call(this);return J},N=function(){var L=this.fillStyle,G=this.strokeStyle,q=this.font,J=this.lineCap,ae=this.lineWidth,ge=this.lineJoin;this.pdf.addPage(),this.fillStyle=L,this.strokeStyle=G,this.font=q,this.lineCap=J,this.lineWidth=ae,this.lineJoin=ge},P=function(L,G,q){for(var J=0;J<L.length;J++)switch(L[J].type){case"bct":L[J].x2+=G,L[J].y2+=q;case"qct":L[J].x1+=G,L[J].y1+=q;default:L[J].x+=G,L[J].y+=q}return L},R=function(L){return L.sort(function(G,q){return G-q})},j=function(L,G){var q=this.fillStyle,J=this.strokeStyle,ae=this.lineCap,ge=this.lineWidth,Te=Math.abs(ge*this.ctx.transform.scaleX),Se=this.lineJoin;if(this.autoPaging){for(var Ce,et,ot=JSON.parse(JSON.stringify(this.path)),tt=JSON.parse(JSON.stringify(this.path)),it=[],Z=0;Z<tt.length;Z++)if(tt[Z].x!==void 0)for(var Fe=T.call(this,tt[Z]),nt=0;nt<Fe.length;nt+=1)it.indexOf(Fe[nt])===-1&&it.push(Fe[nt]);for(var It=0;It<it.length;It++)for(;this.pdf.internal.getNumberOfPages()<it[It];)N.call(this);R(it);for(var Qe=it[0],At=it[it.length-1],Ke=Qe;Ke<At+1;Ke++){this.pdf.setPage(Ke),this.fillStyle=q,this.strokeStyle=J,this.lineCap=ae,this.lineWidth=Te,this.lineJoin=Se;var ht=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Dt=Ke===1?this.posY+this.margin[0]:this.margin[0],kt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],qt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Vt=Ke===1?0:kt+(Ke-2)*qt;if(this.ctx.clip_path.length!==0){var Gt=this.path;Ce=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=P(Ce,this.posX+this.margin[3],-Vt+Dt+this.ctx.prevPageLastElemOffset),K.call(this,L,!0),this.path=Gt}if(et=JSON.parse(JSON.stringify(ot)),this.path=P(et,this.posX+this.margin[3],-Vt+Dt+this.ctx.prevPageLastElemOffset),G===!1||Ke===0){var Ht=(Ke>Qe||Ke<At)&&w.call(this);Ht&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ht,qt,null).clip().discardPath()),K.call(this,L,G),Ht&&this.pdf.restoreGraphicsState()}this.lineWidth=ge}this.path=ot}else this.lineWidth=Te,K.call(this,L,G),this.lineWidth=ge},K=function(L,G){if((L!=="stroke"||G||!b.call(this))&&(L==="stroke"||G||!v.call(this))){for(var q,J,ae=[],ge=this.path,Te=0;Te<ge.length;Te++){var Se=ge[Te];switch(Se.type){case"begin":ae.push({begin:!0});break;case"close":ae.push({close:!0});break;case"mt":ae.push({start:Se,deltas:[],abs:[]});break;case"lt":var Ce=ae.length;if(ge[Te-1]&&!isNaN(ge[Te-1].x)&&(q=[Se.x-ge[Te-1].x,Se.y-ge[Te-1].y],Ce>0)){for(;Ce>=0;Ce--)if(ae[Ce-1].close!==!0&&ae[Ce-1].begin!==!0){ae[Ce-1].deltas.push(q),ae[Ce-1].abs.push(Se);break}}break;case"bct":q=[Se.x1-ge[Te-1].x,Se.y1-ge[Te-1].y,Se.x2-ge[Te-1].x,Se.y2-ge[Te-1].y,Se.x-ge[Te-1].x,Se.y-ge[Te-1].y],ae[ae.length-1].deltas.push(q);break;case"qct":var et=ge[Te-1].x+2/3*(Se.x1-ge[Te-1].x),ot=ge[Te-1].y+2/3*(Se.y1-ge[Te-1].y),tt=Se.x+2/3*(Se.x1-Se.x),it=Se.y+2/3*(Se.y1-Se.y),Z=Se.x,Fe=Se.y;q=[et-ge[Te-1].x,ot-ge[Te-1].y,tt-ge[Te-1].x,it-ge[Te-1].y,Z-ge[Te-1].x,Fe-ge[Te-1].y],ae[ae.length-1].deltas.push(q);break;case"arc":ae.push({deltas:[],abs:[],arc:!0}),Array.isArray(ae[ae.length-1].abs)&&ae[ae.length-1].abs.push(Se)}}J=G?null:L==="stroke"?"stroke":"fill";for(var nt=!1,It=0;It<ae.length;It++)if(ae[It].arc)for(var Qe=ae[It].abs,At=0;At<Qe.length;At++){var Ke=Qe[At];Ke.type==="arc"?k.call(this,Ke.x,Ke.y,Ke.radius,Ke.startAngle,Ke.endAngle,Ke.counterclockwise,void 0,G,!nt):B.call(this,Ke.x,Ke.y),nt=!0}else if(ae[It].close===!0)this.pdf.internal.out("h"),nt=!1;else if(ae[It].begin!==!0){var ht=ae[It].start.x,Dt=ae[It].start.y;Y.call(this,ae[It].deltas,ht,Dt),nt=!0}J&&I.call(this,J),G&&z.call(this)}},U=function(L){var G=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,q=G*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return L-q;case"top":return L+G-q;case"hanging":return L+G-2*q;case"middle":return L+G/2-q;default:return L}},C=function(L){return L+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};g.prototype.createLinearGradient=function(){var L=function(){};return L.colorStops=[],L.addColorStop=function(G,q){this.colorStops.push([G,q])},L.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},L.isCanvasGradient=!0,L},g.prototype.createPattern=function(){return this.createLinearGradient()},g.prototype.createRadialGradient=function(){return this.createLinearGradient()};var k=function(L,G,q,J,ae,ge,Te,Se,Ce){for(var et=fe.call(this,q,J,ae,ge),ot=0;ot<et.length;ot++){var tt=et[ot];ot===0&&(Ce?O.call(this,tt.x1+L,tt.y1+G):B.call(this,tt.x1+L,tt.y1+G)),we.call(this,L,G,tt.x2,tt.y2,tt.x3,tt.y3,tt.x4,tt.y4)}Se?z.call(this):I.call(this,Te)},I=function(L){switch(L){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},z=function(){this.pdf.clip(),this.pdf.discardPath()},O=function(L,G){this.pdf.internal.out(t(L)+" "+r(G)+" m")},M=function(L){var G;switch(L.align){case"right":case"end":G="right";break;case"center":G="center";break;default:G="left"}var q,J,ae,ge=this.pdf.getTextDimensions(L.text),Te=U.call(this,L.y),Se=C.call(this,Te)-ge.h,Ce=this.ctx.transform.applyToPoint(new o(L.x,Te));if(this.autoPaging){var et=this.ctx.transform.decompose(),ot=new u;ot=(ot=(ot=ot.multiply(et.translate)).multiply(et.skew)).multiply(et.scale);for(var tt=this.ctx.transform.applyToRectangle(new c(L.x,Te,ge.w,ge.h)),it=ot.applyToRectangle(new c(L.x,Se,ge.w,ge.h)),Z=T.call(this,it),Fe=[],nt=0;nt<Z.length;nt+=1)Fe.indexOf(Z[nt])===-1&&Fe.push(Z[nt]);R(Fe);for(var It=Fe[0],Qe=Fe[Fe.length-1],At=It;At<Qe+1;At++){this.pdf.setPage(At);var Ke=At===1?this.posY+this.margin[0]:this.margin[0],ht=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Dt=this.pdf.internal.pageSize.height-this.margin[2],kt=Dt-this.margin[0],qt=this.pdf.internal.pageSize.width-this.margin[1],Vt=qt-this.margin[3],Gt=At===1?0:ht+(At-2)*kt;if(this.ctx.clip_path.length!==0){var Ht=this.path;q=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=P(q,this.posX+this.margin[3],-1*Gt+Ke),K.call(this,"fill",!0),this.path=Ht}var Mt=P([JSON.parse(JSON.stringify(it))],this.posX+this.margin[3],-Gt+Ke+this.ctx.prevPageLastElemOffset)[0];L.scale>=.01&&(J=this.pdf.internal.getFontSize(),this.pdf.setFontSize(J*L.scale),ae=this.lineWidth,this.lineWidth=ae*L.scale);var Wt=this.autoPaging!=="text";if(Wt||Mt.y+Mt.h<=Dt){if(Wt||Mt.y>=Ke&&Mt.x<=qt){var Lt=Wt?L.text:this.pdf.splitTextToSize(L.text,L.maxWidth||qt-Mt.x)[0],yn=P([JSON.parse(JSON.stringify(tt))],this.posX+this.margin[3],-Gt+Ke+this.ctx.prevPageLastElemOffset)[0],zt=Wt&&(At>It||At<Qe)&&w.call(this);zt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Vt,kt,null).clip().discardPath()),this.pdf.text(Lt,yn.x,yn.y,{angle:L.angle,align:G,renderingMode:L.renderingMode}),zt&&this.pdf.restoreGraphicsState()}}else Mt.y<Dt&&(this.ctx.prevPageLastElemOffset+=Dt-Mt.y);L.scale>=.01&&(this.pdf.setFontSize(J),this.lineWidth=ae)}}else L.scale>=.01&&(J=this.pdf.internal.getFontSize(),this.pdf.setFontSize(J*L.scale),ae=this.lineWidth,this.lineWidth=ae*L.scale),this.pdf.text(L.text,Ce.x+this.posX,Ce.y+this.posY,{angle:L.angle,align:G,renderingMode:L.renderingMode,maxWidth:L.maxWidth}),L.scale>=.01&&(this.pdf.setFontSize(J),this.lineWidth=ae)},B=function(L,G,q,J){q=q||0,J=J||0,this.pdf.internal.out(t(L+q)+" "+r(G+J)+" l")},Y=function(L,G,q){return this.pdf.lines(L,G,q,null,null)},we=function(L,G,q,J,ae,ge,Te,Se){this.pdf.internal.out([e(i(q+L)),e(a(J+G)),e(i(ae+L)),e(a(ge+G)),e(i(Te+L)),e(a(Se+G)),"c"].join(" "))},fe=function(L,G,q,J){for(var ae=2*Math.PI,ge=Math.PI/2;G>q;)G-=ae;var Te=Math.abs(q-G);Te<ae&&J&&(Te=ae-Te);for(var Se=[],Ce=J?-1:1,et=G;Te>1e-5;){var ot=et+Ce*Math.min(Te,ge);Se.push(le.call(this,L,et,ot)),Te-=Math.abs(ot-et),et=ot}return Se},le=function(L,G,q){var J=(q-G)/2,ae=L*Math.cos(J),ge=L*Math.sin(J),Te=ae,Se=-ge,Ce=Te*Te+Se*Se,et=Ce+Te*ae+Se*ge,ot=4/3*(Math.sqrt(2*Ce*et)-et)/(Te*ge-Se*ae),tt=Te-ot*Se,it=Se+ot*Te,Z=tt,Fe=-it,nt=J+G,It=Math.cos(nt),Qe=Math.sin(nt);return{x1:L*Math.cos(G),y1:L*Math.sin(G),x2:tt*It-it*Qe,y2:tt*Qe+it*It,x3:Z*It-Fe*Qe,y3:Z*Qe+Fe*It,x4:L*Math.cos(q),y4:L*Math.sin(q)}},pe=function(L){return 180*L/Math.PI},Ie=function(L,G,q,J,ae,ge){var Te=L+.5*(q-L),Se=G+.5*(J-G),Ce=ae+.5*(q-ae),et=ge+.5*(J-ge),ot=Math.min(L,ae,Te,Ce),tt=Math.max(L,ae,Te,Ce),it=Math.min(G,ge,Se,et),Z=Math.max(G,ge,Se,et);return new c(ot,it,tt-ot,Z-it)},Ae=function(L,G,q,J,ae,ge,Te,Se){var Ce,et,ot,tt,it,Z,Fe,nt,It,Qe,At,Ke,ht,Dt,kt=q-L,qt=J-G,Vt=ae-q,Gt=ge-J,Ht=Te-ae,Mt=Se-ge;for(et=0;et<41;et++)It=(Fe=(ot=L+(Ce=et/40)*kt)+Ce*((it=q+Ce*Vt)-ot))+Ce*(it+Ce*(ae+Ce*Ht-it)-Fe),Qe=(nt=(tt=G+Ce*qt)+Ce*((Z=J+Ce*Gt)-tt))+Ce*(Z+Ce*(ge+Ce*Mt-Z)-nt),et==0?(At=It,Ke=Qe,ht=It,Dt=Qe):(At=Math.min(At,It),Ke=Math.min(Ke,Qe),ht=Math.max(ht,It),Dt=Math.max(Dt,Qe));return new c(Math.round(At),Math.round(Ke),Math.round(ht-At),Math.round(Dt-Ke))},re=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var L,G,q=(L=this.ctx.lineDash,G=this.ctx.lineDashOffset,JSON.stringify({lineDash:L,lineDashOffset:G}));this.prevLineDash!==q&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=q)}}})(hn.API),(function(n){var e=function(o){var c,u,h,m,g,_,v,b,w,T;for(u=[],h=0,m=(o+=c="\0\0\0\0".slice(o.length%4||4)).length;m>h;h+=4)(g=(o.charCodeAt(h)<<24)+(o.charCodeAt(h+1)<<16)+(o.charCodeAt(h+2)<<8)+o.charCodeAt(h+3))!==0?(_=(g=((g=((g=((g=(g-(T=g%85))/85)-(w=g%85))/85)-(b=g%85))/85)-(v=g%85))/85)%85,u.push(_+33,v+33,b+33,w+33,T+33)):u.push(122);return(function(N,P){for(var R=P;R>0;R--)N.pop()})(u,c.length),String.fromCharCode.apply(String,u)+"~>"},t=function(o){var c,u,h,m,g,_=String,v="length",b=255,w="charCodeAt",T="slice",N="replace";for(o[T](-2),o=o[T](0,-2)[N](/\s/g,"")[N]("z","!!!!!"),h=[],m=0,g=(o+=c="uuuuu"[T](o[v]%5||5))[v];g>m;m+=5)u=52200625*(o[w](m)-33)+614125*(o[w](m+1)-33)+7225*(o[w](m+2)-33)+85*(o[w](m+3)-33)+(o[w](m+4)-33),h.push(b&u>>24,b&u>>16,b&u>>8,b&u);return(function(P,R){for(var j=R;j>0;j--)P.pop()})(h,c[v]),_.fromCharCode.apply(_,h)},r=function(o){return o.split("").map(function(c){return("0"+c.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(o){var c=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),c.test(o)===!1)return"";for(var u="",h=0;h<o.length;h+=2)u+=String.fromCharCode("0x"+(o[h]+o[h+1]));return u},a=function(o){for(var c=new Uint8Array(o.length),u=o.length;u--;)c[u]=o.charCodeAt(u);return(c=c5(c)).reduce(function(h,m){return h+String.fromCharCode(m)},"")};n.processDataByFilters=function(o,c){var u=0,h=o||"",m=[];for(typeof(c=c||[])=="string"&&(c=[c]),u=0;u<c.length;u+=1)switch(c[u]){case"ASCII85Decode":case"/ASCII85Decode":h=t(h),m.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":h=e(h),m.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":h=i(h),m.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":h=r(h),m.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":h=a(h),m.push("/FlateDecode");break;default:throw new Error('The filter: "'+c[u]+'" is not implemented')}return{data:h,reverseChain:m.reverse().join(" ")}}})(hn.API),(function(n){n.loadFile=function(e,t,r){return(function(i,a,o){a=a!==!1,o=typeof o=="function"?o:function(){};var c=void 0;try{c=(function(u,h,m){var g=new XMLHttpRequest,_=0,v=function(b){var w=b.length,T=[],N=String.fromCharCode;for(_=0;_<w;_+=1)T.push(N(255&b.charCodeAt(_)));return T.join("")};if(g.open("GET",u,!h),g.overrideMimeType("text/plain; charset=x-user-defined"),h===!1&&(g.onload=function(){g.status===200?m(v(this.responseText)):m(void 0)}),g.send(null),h&&g.status===200)return v(g.responseText)})(i,a,o)}catch{}return c})(e,t,r)},n.loadImageFile=n.loadFile})(hn.API),(function(n){function e(){return(Nn.html2canvas?Promise.resolve(Nn.html2canvas):Cf(()=>import("./html2canvas.esm-Ge7aVWlp.js"),[])).catch(function(c){return Promise.reject(new Error("Could not load html2canvas: "+c))}).then(function(c){return c.default?c.default:c})}function t(){return(Nn.DOMPurify?Promise.resolve(Nn.DOMPurify):Cf(()=>import("./purify.es-Bzr520pe.js"),[])).catch(function(c){return Promise.reject(new Error("Could not load dompurify: "+c))}).then(function(c){return c.default?c.default:c})}var r=function(c){var u=Cr(c);return u==="undefined"?"undefined":u==="string"||c instanceof String?"string":u==="number"||c instanceof Number?"number":u==="function"||c instanceof Function?"function":c&&c.constructor===Array?"array":c&&c.nodeType===1?"element":u==="object"?"object":"unknown"},i=function(c,u){var h=document.createElement(c);for(var m in u.className&&(h.className=u.className),u.innerHTML&&u.dompurify&&(h.innerHTML=u.dompurify.sanitize(u.innerHTML)),u.style)h.style[m]=u.style[m];return h},a=function c(u,h){for(var m=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),g=u.firstChild;g;g=g.nextSibling)h!==!0&&g.nodeType===1&&g.nodeName==="SCRIPT"||m.appendChild(c(g,h));return u.nodeType===1&&(u.nodeName==="CANVAS"?(m.width=u.width,m.height=u.height,m.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(m.value=u.value),m.addEventListener("load",function(){m.scrollTop=u.scrollTop,m.scrollLeft=u.scrollLeft},!0)),m},o=function c(u){var h=Object.assign(c.convert(Promise.resolve()),JSON.parse(JSON.stringify(c.template))),m=c.convert(Promise.resolve(),h);return(m=m.setProgress(1,c,1,[c])).set(u)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(c,u){return c.__proto__=u||o.prototype,c},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(c,u){return this.then(function(){switch(u=u||(function(h){switch(r(h)){case"string":return"string";case"element":return h.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(c),u){case"string":return this.then(t).then(function(h){return this.set({src:i("div",{innerHTML:c,dompurify:h})})});case"element":return this.set({src:c});case"canvas":return this.set({canvas:c});case"img":return this.set({img:c});default:return this.error("Unknown source type.")}})},o.prototype.to=function(c){switch(c){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var c={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},u=a(this.prop.src,this.opt.html2canvas.javascriptEnabled);u.tagName==="BODY"&&(c.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:c}),this.prop.container.appendChild(u),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(e).then(function(u){var h=Object.assign({},this.opt.html2canvas);return delete h.onrendered,u(this.prop.container,h)}).then(function(u){(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(e).then(function(u){var h=this.opt.jsPDF,m=this.opt.fontFaces,g=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,_=Object.assign({async:!0,allowTaint:!0,scale:g,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete _.onrendered,h.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,h.context2d.posX=this.opt.x,h.context2d.posY=this.opt.y,h.context2d.margin=this.opt.margin,h.context2d.fontFaces=m,m)for(var v=0;v<m.length;++v){var b=m[v],w=b.src.find(function(T){return T.format==="truetype"});w&&h.addFont(w.url,b.ref.name,b.ref.style)}return _.windowHeight=_.windowHeight||0,_.windowHeight=_.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):_.windowHeight,h.context2d.save(!0),u(this.prop.container,_)}).then(function(u){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var c=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=c})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(c,u,h){return(h=h||"pdf").toLowerCase()==="img"||h.toLowerCase()==="image"?this.outputImg(c,u):this.outputPdf(c,u)},o.prototype.outputPdf=function(c,u){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(c,u)})},o.prototype.outputImg=function(c){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(c){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+c+'" is not supported.'}})},o.prototype.save=function(c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(c?{filename:c}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(c){if(r(c)!=="object")return this;var u=Object.keys(c||{}).map(function(h){if(h in o.template.prop)return function(){this.prop[h]=c[h]};switch(h){case"margin":return this.setMargin.bind(this,c.margin);case"jsPDF":return function(){return this.opt.jsPDF=c.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,c.pageSize);default:return function(){this.opt[h]=c[h]}}},this);return this.then(function(){return this.thenList(u)})},o.prototype.get=function(c,u){return this.then(function(){var h=c in o.template.prop?this.prop[c]:this.opt[c];return u?u(h):h})},o.prototype.setMargin=function(c){return this.then(function(){switch(r(c)){case"number":c=[c,c,c,c];case"array":if(c.length===2&&(c=[c[0],c[1],c[0],c[1]]),c.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=c}).then(this.setPageSize)},o.prototype.setPageSize=function(c){function u(h,m){return Math.floor(h*m/72*96)}return this.then(function(){(c=c||hn.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(c.inner={width:c.width-this.opt.margin[1]-this.opt.margin[3],height:c.height-this.opt.margin[0]-this.opt.margin[2]},c.inner.px={width:u(c.inner.width,c.k),height:u(c.inner.height,c.k)},c.inner.ratio=c.inner.height/c.inner.width),this.prop.pageSize=c})},o.prototype.setProgress=function(c,u,h,m){return c!=null&&(this.progress.val=c),u!=null&&(this.progress.state=u),h!=null&&(this.progress.n=h),m!=null&&(this.progress.stack=m),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(c,u,h,m){return this.setProgress(c?this.progress.val+c:null,u||null,h?this.progress.n+h:null,m?this.progress.stack.concat(m):null)},o.prototype.then=function(c,u){var h=this;return this.thenCore(c,u,function(m,g){return h.updateProgress(null,null,1,[m]),Promise.prototype.then.call(this,function(_){return h.updateProgress(null,m),_}).then(m,g).then(function(_){return h.updateProgress(1),_})})},o.prototype.thenCore=function(c,u,h){h=h||Promise.prototype.then;var m=this;c&&(c=c.bind(m)),u&&(u=u.bind(m));var g=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?m:o.convert(Object.assign({},m),Promise.prototype),_=h.call(g,c,u);return o.convert(_,m.__proto__)},o.prototype.thenExternal=function(c,u){return Promise.prototype.then.call(this,c,u)},o.prototype.thenList=function(c){var u=this;return c.forEach(function(h){u=u.thenCore(h)}),u},o.prototype.catch=function(c){c&&(c=c.bind(this));var u=Promise.prototype.catch.call(this,c);return o.convert(u,this)},o.prototype.catchExternal=function(c){return Promise.prototype.catch.call(this,c)},o.prototype.error=function(c){return this.then(function(){throw new Error(c)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,hn.getPageSize=function(c,u,h){if(Cr(c)==="object"){var m=c;c=m.orientation,u=m.unit||u,h=m.format||h}u=u||"mm",h=h||"a4",c=(""+(c||"P")).toLowerCase();var g,_=(""+h).toLowerCase(),v={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(u){case"pt":g=1;break;case"mm":g=72/25.4;break;case"cm":g=72/2.54;break;case"in":g=72;break;case"px":g=.75;break;case"pc":case"em":g=12;break;case"ex":g=6;break;default:throw"Invalid unit: "+u}var b,w=0,T=0;if(v.hasOwnProperty(_))w=v[_][1]/g,T=v[_][0]/g;else try{w=h[1],T=h[0]}catch{throw new Error("Invalid format: "+h)}if(c==="p"||c==="portrait")c="p",T>w&&(b=T,T=w,w=b);else{if(c!=="l"&&c!=="landscape")throw"Invalid orientation: "+c;c="l",w>T&&(b=T,T=w,w=b)}return{width:T,height:w,unit:u,k:g,orientation:c}},n.html=function(c,u){(u=u||{}).callback=u.callback||function(){},u.html2canvas=u.html2canvas||{},u.html2canvas.canvas=u.html2canvas.canvas||this.canvas,u.jsPDF=u.jsPDF||this,u.fontFaces=u.fontFaces?u.fontFaces.map(lx):null;var h=new o(u);return u.worker?h:h.from(c).doCallback()}})(hn.API),hn.API.addJS=function(n){return GA=n,this.internal.events.subscribe("postPutResources",function(){w1=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(w1+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),HA=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+GA+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){w1!==void 0&&HA!==void 0&&this.internal.out("/Names <</JavaScript "+w1+" 0 R>>")}),this},(function(n){var e;n.events.push(["postPutResources",function(){var t=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=t.outline.render().split(/\r\n/),a=0;a<i.length;a++){var o=i[a],c=r.exec(o);if(c!=null){var u=c[1];t.internal.newObjectDeferredBegin(u,!1)}t.internal.write(o)}if(this.outline.createNamedDestinations){var h=this.internal.pages.length,m=[];for(a=0;a<h;a++){var g=t.internal.newObject();m.push(g);var _=t.internal.getPageInfo(a+1);t.internal.write("<< /D["+_.objId+" 0 R /XYZ null null null]>> endobj")}var v=t.internal.newObject();for(t.internal.write("<< /Names [ "),a=0;a<m.length;a++)t.internal.write("(page_"+(a+1)+")"+m[a]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+v+" 0 R"),t.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){var t=this;t.outline.root.children.length>0&&(t.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&t.internal.write("/Names "+e+" 0 R"))}]),n.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(r,i,a){var o={title:i,options:a,children:[]};return r==null&&(r=this.root),r.children.push(o),o},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(r){r.id=t.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},t.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},t.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<r.children.length;a++){var o=r.children[a];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(r)),a>0&&this.line("/Prev "+this.makeRef(r.children[a-1])),a<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[a+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var c=this.count=this.count_r({count:0},o);if(c>0&&this.line("/Count "+c),o.options&&o.options.pageNumber){var u=t.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+u.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var h=0;h<r.children.length;h++)this.renderItems(r.children[h])},t.outline.line=function(r){this.ctx.val+=r+`\r
`},t.outline.makeRef=function(r){return r.id+" 0 R"},t.outline.makeString=function(r){return"("+t.internal.pdfEscape(r)+")"},t.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(r,i){for(var a=0;a<i.children.length;a++)r.count++,this.count_r(r,i.children[a]);return r.count}}])})(hn.API),(function(n){var e=[192,193,194,195,196,197,198,199];n.processJPEG=function(t,r,i,a,o,c){var u,h=this.decode.DCT_DECODE,m=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=o||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,u=(function(g){for(var _,v=256*g.charCodeAt(4)+g.charCodeAt(5),b=g.length,w={width:0,height:0,numcomponents:1},T=4;T<b;T+=2){if(T+=v,e.indexOf(g.charCodeAt(T+1))!==-1){_=256*g.charCodeAt(T+5)+g.charCodeAt(T+6),w={width:256*g.charCodeAt(T+7)+g.charCodeAt(T+8),height:_,numcomponents:g.charCodeAt(T+9)};break}v=256*g.charCodeAt(T+2)+g.charCodeAt(T+3)}return w})(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t),u.numcomponents){case 1:c=this.color_spaces.DEVICE_GRAY;break;case 4:c=this.color_spaces.DEVICE_CMYK;break;case 3:c=this.color_spaces.DEVICE_RGB}m={data:t,width:u.width,height:u.height,colorSpace:c,bitsPerComponent:8,filter:h,index:r,alias:i}}return m}})(hn.API),hn.API.processPNG=function(n,e,t,r){if(this.__addimage__.isArrayBuffer(n)&&(n=new Uint8Array(n)),this.__addimage__.isArrayBufferView(n)){var i,a=mY(n,{checkCrc:!0}),o=a.width,c=a.height,u=a.channels,h=a.palette,m=a.depth;i=h&&u===1?(function(k){for(var I=k.width,z=k.height,O=k.data,M=k.palette,B=k.depth,Y=!1,we=[],fe=[],le=void 0,pe=!1,Ie=0,Ae=0;Ae<M.length;Ae++){var re=KT(M[Ae],4),L=re[0],G=re[1],q=re[2],J=re[3];we.push(L,G,q),J!=null&&(J===0?(Ie++,fe.length<1&&fe.push(Ae)):J<255&&(pe=!0))}if(pe||Ie>1){Y=!0,fe=void 0;var ae=I*z;le=new Uint8Array(ae);for(var ge=new DataView(O.buffer),Te=0;Te<ae;Te++){var Se=ux(ge,Te,B),Ce=KT(M[Se],4)[3];le[Te]=Ce}}else Ie===0&&(fe=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:Y?8:void 0,colorBytes:O,alphaBytes:le,needSMask:Y,palette:we,mask:fe}})(a):u===2||u===4?(function(k){for(var I=k.data,z=k.width,O=k.height,M=k.channels,B=k.depth,Y=M===2?"DeviceGray":"DeviceRGB",we=M-1,fe=z*O,le=we,pe=fe*le,Ie=1*fe,Ae=Math.ceil(pe*B/8),re=Math.ceil(Ie*B/8),L=new Uint8Array(Ae),G=new Uint8Array(re),q=new DataView(I.buffer),J=new DataView(L.buffer),ae=new DataView(G.buffer),ge=!1,Te=0;Te<fe;Te++){for(var Se=Te*M,Ce=0;Ce<le;Ce++)eN(J,ux(q,Se+Ce,B),Te*le+Ce,B);var et=ux(q,Se+le,B);et<(1<<B)-1&&(ge=!0),eN(ae,et,1*Te,B)}return{colorSpace:Y,colorsPerPixel:we,sMaskBitsPerComponent:ge?B:void 0,colorBytes:L,alphaBytes:G,needSMask:ge}})(a):(function(k){var I=k.data,z=k.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:z,colorsPerPixel:z==="DeviceGray"?1:3,colorBytes:I instanceof Uint16Array?(function(O){for(var M=O.length,B=new Uint8Array(2*M),Y=new DataView(B.buffer,B.byteOffset,B.byteLength),we=0;we<M;we++)Y.setUint16(2*we,O[we],!1);return B})(I):I,needSMask:!1}})(a);var g,_,v,b=i,w=b.colorSpace,T=b.colorsPerPixel,N=b.sMaskBitsPerComponent,P=b.colorBytes,R=b.alphaBytes,j=b.needSMask,K=b.palette,U=b.mask,C=null;return r!==hn.API.image_compression.NONE&&typeof c5=="function"?(C=(function(k){var I;switch(k){case hn.API.image_compression.FAST:I=11;break;case hn.API.image_compression.MEDIUM:I=13;break;case hn.API.image_compression.SLOW:I=14;break;default:I=12}return I})(r),g=this.decode.FLATE_DECODE,_="/Predictor ".concat(C," /Colors ").concat(T," /BitsPerComponent ").concat(m," /Columns ").concat(o),n=KA(P,Math.ceil(o*T*m/8),T,m,r),j&&(v=KA(R,Math.ceil(o*N/8),1,N,r))):(g=void 0,_=void 0,n=P,j&&(v=R)),(this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n))&&(n=this.__addimage__.arrayBufferToBinaryString(n)),(v&&this.__addimage__.isArrayBuffer(v)||this.__addimage__.isArrayBufferView(v))&&(v=this.__addimage__.arrayBufferToBinaryString(v)),{alias:t,data:n,index:e,filter:g,decodeParameters:_,transparency:U,palette:K,sMask:v,predictor:C,width:o,height:c,bitsPerComponent:m,sMaskBitsPerComponent:N,colorSpace:w}}},(function(n){n.processGIF89A=function(e,t,r,i){var a=new jY(e),o=a.width,c=a.height,u=[];a.decodeAndBlitFrameRGBA(0,u);var h={data:u,width:o,height:c},m=new hx(100).encode(h,100);return n.processJPEG.call(this,m,t,r,i)},n.processGIF87A=n.processGIF89A})(hn.API),Ul.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var e=0;e<n;e++){var t=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:t,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Ul.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[n]()}catch(t){Yr.log("bit decode error:"+t)}},Ul.prototype.bit1=function(){var n,e=Math.ceil(this.width/8),t=e%4;for(n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<e;i++)for(var a=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*i*4,c=0;c<8&&8*i+c<this.width;c++){var u=this.palette[a>>7-c&1];this.data[o+4*c]=u.blue,this.data[o+4*c+1]=u.green,this.data[o+4*c+2]=u.red,this.data[o+4*c+3]=255}t!==0&&(this.pos+=4-t)}},Ul.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),e=n%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<n;i++){var a=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*i*4,c=a>>4,u=15&a,h=this.palette[c];if(this.data[o]=h.blue,this.data[o+1]=h.green,this.data[o+2]=h.red,this.data[o+3]=255,2*i+1>=this.width)break;h=this.palette[u],this.data[o+4]=h.blue,this.data[o+4+1]=h.green,this.data[o+4+2]=h.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},Ul.prototype.bit8=function(){for(var n=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),a=t*this.width*4+4*r;if(i<this.palette.length){var o=this.palette[i];this.data[a]=o.red,this.data[a+1]=o.green,this.data[a+2]=o.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}n!==0&&(this.pos+=4-n)}},Ul.prototype.bit15=function(){for(var n=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&e)/e*255|0,c=(a>>5&e)/e*255|0,u=(a>>10&e)/e*255|0,h=a>>15?255:0,m=r*this.width*4+4*i;this.data[m]=u,this.data[m+1]=c,this.data[m+2]=o,this.data[m+3]=h}this.pos+=n}},Ul.prototype.bit16=function(){for(var n=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(o&e)/e*255|0,u=(o>>5&t)/t*255|0,h=(o>>11)/e*255|0,m=i*this.width*4+4*a;this.data[m]=h,this.data[m+1]=u,this.data[m+2]=c,this.data[m+3]=255}this.pos+=n}},Ul.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*t;this.data[o]=a,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},Ul.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),c=e*this.width*4+4*t;this.data[c]=a,this.data[c+1]=i,this.data[c+2]=r,this.data[c+3]=o}},Ul.prototype.getData=function(){return this.data},(function(n){n.processBMP=function(e,t,r,i){var a=new Ul(e,!1),o=a.width,c=a.height,u={data:a.getData(),width:o,height:c},h=new hx(100).encode(u,100);return n.processJPEG.call(this,h,t,r,i)}})(hn.API),nN.prototype.getData=function(){return this.data},(function(n){n.processWEBP=function(e,t,r,i){var a=new nN(e),o=a.width,c=a.height,u={data:a.getData(),width:o,height:c},h=new hx(100).encode(u,100);return n.processJPEG.call(this,h,t,r,i)}})(hn.API),hn.API.processRGBA=function(n,e,t){for(var r=n.data,i=r.length,a=new Uint8Array(i/4*3),o=new Uint8Array(i/4),c=0,u=0,h=0;h<i;h+=4){var m=r[h],g=r[h+1],_=r[h+2],v=r[h+3];a[c++]=m,a[c++]=g,a[c++]=_,o[u++]=v}var b=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:b,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},hn.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},qd=hn.API,b1=qd.getCharWidthsArray=function(n,e){var t,r,i=(e=e||{}).font||this.internal.getFont(),a=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),c=e.widths?e.widths:i.metadata.Unicode.widths,u=c.fof?c.fof:1,h=e.kerning?e.kerning:i.metadata.Unicode.kerning,m=h.fof?h.fof:1,g=e.doKerning!==!1,_=0,v=n.length,b=0,w=c[0]||u,T=[];for(t=0;t<v;t++)r=n.charCodeAt(t),typeof i.metadata.widthOfString=="function"?T.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+o*(1e3/a)||0)/1e3):(_=g&&Cr(h[r])==="object"&&!isNaN(parseInt(h[r][b],10))?h[r][b]/m:0,T.push((c[r]||w)/u+_)),b=r;return T},WA=qd.getStringUnitWidth=function(n,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return qd.processArabic&&(n=qd.processArabic(n)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(n,t,i)/t:b1.apply(this,arguments).reduce(function(a,o){return a+o},0)},YA=function(n,e,t,r){for(var i=[],a=0,o=n.length,c=0;a!==o&&c+e[a]<t;)c+=e[a],a++;i.push(n.slice(0,a));var u=a;for(c=0;a!==o;)c+e[a]>r&&(i.push(n.slice(u,a)),c=0,u=a),c+=e[a],a++;return u!==a&&i.push(n.slice(u,a)),i},$A=function(n,e,t){t||(t={});var r,i,a,o,c,u,h,m=[],g=[m],_=t.textIndent||0,v=0,b=0,w=n.split(" "),T=b1.apply(this,[" ",t])[0];if(u=t.lineIndent===-1?w[0].length+2:t.lineIndent||0){var N=Array(u).join(" "),P=[];w.map(function(j){(j=j.split(/\s*\n/)).length>1?P=P.concat(j.map(function(K,U){return(U&&K.length?`
`:"")+K})):P.push(j[0])}),w=P,u=WA.apply(this,[N,t])}for(a=0,o=w.length;a<o;a++){var R=0;if(r=w[a],u&&r[0]==`
`&&(r=r.substr(1),R=1),_+v+(b=(i=b1.apply(this,[r,t])).reduce(function(j,K){return j+K},0))>e||R){if(b>e){for(c=YA.apply(this,[r,i,e-(_+v),e]),m.push(c.shift()),m=[c.pop()];c.length;)g.push([c.shift()]);b=i.slice(r.length-(m[0]?m[0].length:0)).reduce(function(j,K){return j+K},0)}else m=[r];g.push(m),_=b+u,v=T}else m.push(r),_+=v+b,v=T}return h=u?function(j,K){return(K?N:"")+j.join(" ")}:function(j){return j.join(" ")},g.map(h)},qd.splitTextToSize=function(n,e,t){var r,i=(t=t||{}).fontSize||this.internal.getFontSize(),a=(function(m){if(m.widths&&m.kerning)return{widths:m.widths,kerning:m.kerning};var g=this.internal.getFont(m.fontName,m.fontStyle),_="Unicode";return g.metadata[_]?{widths:g.metadata[_].widths||{0:1},kerning:g.metadata[_].kerning||{}}:{font:g.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);r=Array.isArray(n)?n:String(n).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/i;a.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/i:0,a.lineIndent=t.lineIndent;var c,u,h=[];for(c=0,u=r.length;c<u;c++)h=h.concat($A.apply(this,[r[c],o,a]));return h},(function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var e="0123456789abcdef",t="klmnopqrstuvwxyz",r={},i={},a=0;a<16;a++)r[t[a]]=e[a],i[e[a]]=t[a];var o=function(_){return"0x"+parseInt(_,10).toString(16)},c=n.__fontmetrics__.compress=function(_){var v,b,w,T,N=["{"];for(var P in _){if(v=_[P],isNaN(parseInt(P,10))?b="'"+P+"'":(P=parseInt(P,10),b=(b=o(P).slice(2)).slice(0,-1)+i[b.slice(-1)]),typeof v=="number")v<0?(w=o(v).slice(3),T="-"):(w=o(v).slice(2),T=""),w=T+w.slice(0,-1)+i[w.slice(-1)];else{if(Cr(v)!=="object")throw new Error("Don't know what to do with value type "+Cr(v)+".");w=c(v)}N.push(b+w)}return N.push("}"),N.join("")},u=n.__fontmetrics__.uncompress=function(_){if(typeof _!="string")throw new Error("Invalid argument passed to uncompress.");for(var v,b,w,T,N={},P=1,R=N,j=[],K="",U="",C=_.length-1,k=1;k<C;k+=1)(T=_[k])=="'"?v?(w=v.join(""),v=void 0):v=[]:v?v.push(T):T=="{"?(j.push([R,w]),R={},w=void 0):T=="}"?((b=j.pop())[0][b[1]]=R,w=void 0,R=b[0]):T=="-"?P=-1:w===void 0?r.hasOwnProperty(T)?(K+=r[T],w=parseInt(K,16)*P,P=1,K=""):K+=T:r.hasOwnProperty(T)?(U+=r[T],R[w]=parseInt(U,16)*P,P=1,w=void 0,U=""):U+=T;return N},h={codePages:["WinAnsiEncoding"],WinAnsiEncoding:u("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},m={Unicode:{Courier:h,"Courier-Bold":h,"Courier-BoldOblique":h,"Courier-Oblique":h,Helvetica:h,"Helvetica-Bold":h,"Helvetica-BoldOblique":h,"Helvetica-Oblique":h,"Times-Roman":h,"Times-Bold":h,"Times-BoldItalic":h,"Times-Italic":h}},g={Unicode:{"Courier-Oblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":u("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":u("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:u("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:u("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":u("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":u("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(_){var v=_.font,b=g.Unicode[v.postScriptName];b&&(v.metadata.Unicode={},v.metadata.Unicode.widths=b.widths,v.metadata.Unicode.kerning=b.kerning);var w=m.Unicode[v.postScriptName];w&&(v.metadata.Unicode.encoding=w,v.encoding=w.codePages[0])}])})(hn.API),(function(n){var e=function(t){for(var r=t.length,i=new Uint8Array(r),a=0;a<r;a++)i[a]=t.charCodeAt(a);return i};n.API.events.push(["addFont",function(t){var r=void 0,i=t.font,a=t.instance;if(!i.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=a.existsFileInVFS(i.postScriptName)===!1?a.loadFile(i.postScriptName):a.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,c){c=/^\x00\x01\x00\x00/.test(c)?e(c):e(K1(c)),o.metadata=n.API.TTFFont.open(c),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,r)}}])})(hn),hn.API.addSvgAsImage=function(n,e,t,r,i,a,o,c){if(isNaN(e)||isNaN(t))throw Yr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(i))throw Yr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=r,u.height=i;var h=u.getContext("2d");h.fillStyle="#fff",h.fillRect(0,0,u.width,u.height);var m={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},g=this;return(Nn.canvg?Promise.resolve(Nn.canvg):Cf(()=>import("./index.es-CNji3tU6.js"),[])).catch(function(_){return Promise.reject(new Error("Could not load canvg: "+_))}).then(function(_){return _.default?_.default:_}).then(function(_){return _.fromString(h,n,m)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(_){return _.render(m)}).then(function(){g.addImage(u.toDataURL("image/jpeg",1),e,t,r,i,o,c)})},hn.API.putTotalPages=function(n){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(n,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,t);return this},hn.API.viewerPreferences=function(n,e){var t;n=n||{},e=e||!1;var r,i,a,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},c=Object.keys(o),u=[],h=0,m=0,g=0;function _(b,w){var T,N=!1;for(T=0;T<b.length;T+=1)b[T]===w&&(N=!0);return N}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,n==="reset"||e===!0){var v=c.length;for(g=0;g<v;g+=1)t[c[g]].value=t[c[g]].defaultValue,t[c[g]].explicitSet=!1}if(Cr(n)==="object"){for(i in n)if(a=n[i],_(c,i)&&a!==void 0){if(t[i].type==="boolean"&&typeof a=="boolean")t[i].value=a;else if(t[i].type==="name"&&_(t[i].valueSet,a))t[i].value=a;else if(t[i].type==="integer"&&Number.isInteger(a))t[i].value=a;else if(t[i].type==="array"){for(h=0;h<a.length;h+=1)if(r=!0,a[h].length===1&&typeof a[h][0]=="number")u.push(String(a[h]-1));else if(a[h].length>1){for(m=0;m<a[h].length;m+=1)typeof a[h][m]!="number"&&(r=!1);r===!0&&u.push([a[h][0]-1,a[h][1]-1].join(" "))}t[i].value="["+u.join(" ")+"]"}else t[i].value=t[i].defaultValue;t[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var b,w=[];for(b in t)t[b].explicitSet===!0&&(t[b].type==="name"?w.push("/"+b+" /"+t[b].value):w.push("/"+b+" "+t[b].value));w.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+w.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},(function(n){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(r)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),c=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),u=unescape(encodeURIComponent("</x:xmpmeta>")),h=a.length+o.length+c.length+i.length+u.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+h+" >>"),this.internal.write("stream"),this.internal.write(i+a+o+c+u),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}})(hn.API),(function(n){var e=n.API,t=e.pdfEscape16=function(a,o){for(var c,u=o.metadata.Unicode.widths,h=["","0","00","000","0000"],m=[""],g=0,_=a.length;g<_;++g){if(c=o.metadata.characterToGlyph(a.charCodeAt(g)),o.metadata.glyIdsUsed.push(c),o.metadata.toUnicode[c]=a.charCodeAt(g),u.indexOf(c)==-1&&(u.push(c),u.push([parseInt(o.metadata.widthOfGlyph(c),10)])),c=="0")return m.join("");c=c.toString(16),m.push(h[4-c.length],c)}return m.join("")},r=function(a){var o,c,u,h,m,g,_;for(m=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,u=[],g=0,_=(c=Object.keys(a).sort(function(v,b){return v-b})).length;g<_;g++)o=c[g],u.length>=100&&(m+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar`,u=[]),a[o]!==void 0&&a[o]!==null&&typeof a[o].toString=="function"&&(h=("0000"+a[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),u.push("<"+o+"><"+h+">"));return u.length&&(m+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar
`),m+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(a){(function(o){var c=o.font,u=o.out,h=o.newObject,m=o.putStream;if(c.metadata instanceof n.API.TTFFont&&c.encoding==="Identity-H"){for(var g=c.metadata.Unicode.widths,_=c.metadata.subset.encode(c.metadata.glyIdsUsed,1),v="",b=0;b<_.length;b++)v+=String.fromCharCode(_[b]);var w=h();m({data:v,addLength1:!0,objectId:w}),u("endobj");var T=h();m({data:r(c.metadata.toUnicode),addLength1:!0,objectId:T}),u("endobj");var N=h();u("<<"),u("/Type /FontDescriptor"),u("/FontName /"+n0(c.fontName)),u("/FontFile2 "+w+" 0 R"),u("/FontBBox "+n.API.PDFObject.convert(c.metadata.bbox)),u("/Flags "+c.metadata.flags),u("/StemV "+c.metadata.stemV),u("/ItalicAngle "+c.metadata.italicAngle),u("/Ascent "+c.metadata.ascender),u("/Descent "+c.metadata.decender),u("/CapHeight "+c.metadata.capHeight),u(">>"),u("endobj");var P=h();u("<<"),u("/Type /Font"),u("/BaseFont /"+n0(c.fontName)),u("/FontDescriptor "+N+" 0 R"),u("/W "+n.API.PDFObject.convert(g)),u("/CIDToGIDMap /Identity"),u("/DW 1000"),u("/Subtype /CIDFontType2"),u("/CIDSystemInfo"),u("<<"),u("/Supplement 0"),u("/Registry (Adobe)"),u("/Ordering ("+c.encoding+")"),u(">>"),u(">>"),u("endobj"),c.objectNumber=h(),u("<<"),u("/Type /Font"),u("/Subtype /Type0"),u("/ToUnicode "+T+" 0 R"),u("/BaseFont /"+n0(c.fontName)),u("/Encoding /"+c.encoding),u("/DescendantFonts ["+P+" 0 R]"),u(">>"),u("endobj"),c.isAlreadyPutted=!0}})(a)}]),e.events.push(["putFont",function(a){(function(o){var c=o.font,u=o.out,h=o.newObject,m=o.putStream;if(c.metadata instanceof n.API.TTFFont&&c.encoding==="WinAnsiEncoding"){for(var g=c.metadata.rawData,_="",v=0;v<g.length;v++)_+=String.fromCharCode(g[v]);var b=h();m({data:_,addLength1:!0,objectId:b}),u("endobj");var w=h();m({data:r(c.metadata.toUnicode),addLength1:!0,objectId:w}),u("endobj");var T=h();u("<<"),u("/Descent "+c.metadata.decender),u("/CapHeight "+c.metadata.capHeight),u("/StemV "+c.metadata.stemV),u("/Type /FontDescriptor"),u("/FontFile2 "+b+" 0 R"),u("/Flags 96"),u("/FontBBox "+n.API.PDFObject.convert(c.metadata.bbox)),u("/FontName /"+n0(c.fontName)),u("/ItalicAngle "+c.metadata.italicAngle),u("/Ascent "+c.metadata.ascender),u(">>"),u("endobj"),c.objectNumber=h();for(var N=0;N<c.metadata.hmtx.widths.length;N++)c.metadata.hmtx.widths[N]=parseInt(c.metadata.hmtx.widths[N]*(1e3/c.metadata.head.unitsPerEm));u("<</Subtype/TrueType/Type/Font/ToUnicode "+w+" 0 R/BaseFont/"+n0(c.fontName)+"/FontDescriptor "+T+" 0 R/Encoding/"+c.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(c.metadata.hmtx.widths)+">>"),u("endobj"),c.isAlreadyPutted=!0}})(a)}]);var i=function(a){var o,c=a.text||"",u=a.x,h=a.y,m=a.options||{},g=a.mutex||{},_=g.pdfEscape,v=g.activeFontKey,b=g.fonts,w=v,T="",N=0,P="",R=b[w].encoding;if(b[w].encoding!=="Identity-H")return{text:c,x:u,y:h,options:m,mutex:g};for(P=c,w=v,Array.isArray(c)&&(P=c[0]),N=0;N<P.length;N+=1)b[w].metadata.hasOwnProperty("cmap")&&(o=b[w].metadata.cmap.unicode.codeMap[P[N].charCodeAt(0)]),o||P[N].charCodeAt(0)<256&&b[w].metadata.hasOwnProperty("Unicode")?T+=P[N]:T+="";var j="";return parseInt(w.slice(1))<14||R==="WinAnsiEncoding"?j=_(T,w).split("").map(function(K){return K.charCodeAt(0).toString(16)}).join(""):R==="Identity-H"&&(j=t(T,b[w])),g.isHex=!0,{text:j,x:u,y:h,options:m,mutex:g}};e.events.push(["postProcessText",function(a){var o=a.text||"",c=[],u={text:o,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(o)){var h=0;for(h=0;h<o.length;h+=1)Array.isArray(o[h])&&o[h].length===3?c.push([i(Object.assign({},u,{text:o[h][0]})).text,o[h][1],o[h][2]]):c.push(i(Object.assign({},u,{text:o[h]})).text);a.text=c}else a.text=i(Object.assign({},u,{text:o})).text}])})(hn),(function(n){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},n.addFileToVFS=function(t,r){return e.call(this),this.internal.vFS[t]=r,this},n.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}})(hn.API),(function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(r){var i,a,o,c,u,h,m,g=e,_=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],v=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],b={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},w={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},T=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],N=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),P=!1,R=0;this.__bidiEngine__={};var j=function(O){var M=O.charCodeAt(),B=M>>8,Y=w[B];return Y!==void 0?g[256*Y+(255&M)]:B===252||B===253?"AL":N.test(B)?"L":B===8?"R":"N"},K=function(O){for(var M,B=0;B<O.length;B++){if((M=j(O.charAt(B)))==="L")return!1;if(M==="R")return!0}return!1},U=function(O,M,B,Y){var we,fe,le,pe,Ie=M[Y];switch(Ie){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":P=!1;break;case"N":case"AN":break;case"EN":P&&(Ie="AN");break;case"AL":P=!0,Ie="R";break;case"WS":case"BN":Ie="N";break;case"CS":Y<1||Y+1>=M.length||(we=B[Y-1])!=="EN"&&we!=="AN"||(fe=M[Y+1])!=="EN"&&fe!=="AN"?Ie="N":P&&(fe="AN"),Ie=fe===we?fe:"N";break;case"ES":Ie=(we=Y>0?B[Y-1]:"B")==="EN"&&Y+1<M.length&&M[Y+1]==="EN"?"EN":"N";break;case"ET":if(Y>0&&B[Y-1]==="EN"){Ie="EN";break}if(P){Ie="N";break}for(le=Y+1,pe=M.length;le<pe&&M[le]==="ET";)le++;Ie=le<pe&&M[le]==="EN"?"EN":"N";break;case"NSM":if(o&&!c){for(pe=M.length,le=Y+1;le<pe&&M[le]==="NSM";)le++;if(le<pe){var Ae=O[Y],re=Ae>=1425&&Ae<=2303||Ae===64286;if(we=M[le],re&&(we==="R"||we==="AL")){Ie="R";break}}}Ie=Y<1||(we=M[Y-1])==="B"?"N":B[Y-1];break;case"B":P=!1,i=!0,Ie=R;break;case"S":a=!0,Ie="N"}return Ie},C=function(O,M,B){var Y=O.split("");return B&&k(Y,B,{hiLevel:R}),Y.reverse(),M&&M.reverse(),Y.join("")},k=function(O,M,B){var Y,we,fe,le,pe,Ie=-1,Ae=O.length,re=0,L=[],G=R?v:_,q=[];for(P=!1,i=!1,a=!1,we=0;we<Ae;we++)q[we]=j(O[we]);for(fe=0;fe<Ae;fe++){if(pe=re,L[fe]=U(O,q,L,fe),Y=240&(re=G[pe][b[L[fe]]]),re&=15,M[fe]=le=G[re][5],Y>0)if(Y===16){for(we=Ie;we<fe;we++)M[we]=1;Ie=-1}else Ie=-1;if(G[re][6])Ie===-1&&(Ie=fe);else if(Ie>-1){for(we=Ie;we<fe;we++)M[we]=le;Ie=-1}q[fe]==="B"&&(M[fe]=0),B.hiLevel|=le}a&&(function(J,ae,ge){for(var Te=0;Te<ge;Te++)if(J[Te]==="S"){ae[Te]=R;for(var Se=Te-1;Se>=0&&J[Se]==="WS";Se--)ae[Se]=R}})(q,M,Ae)},I=function(O,M,B,Y,we){if(!(we.hiLevel<O)){if(O===1&&R===1&&!i)return M.reverse(),void(B&&B.reverse());for(var fe,le,pe,Ie,Ae=M.length,re=0;re<Ae;){if(Y[re]>=O){for(pe=re+1;pe<Ae&&Y[pe]>=O;)pe++;for(Ie=re,le=pe-1;Ie<le;Ie++,le--)fe=M[Ie],M[Ie]=M[le],M[le]=fe,B&&(fe=B[Ie],B[Ie]=B[le],B[le]=fe);re=pe}re++}}},z=function(O,M,B){var Y=O.split(""),we={hiLevel:R};return B||(B=[]),k(Y,B,we),(function(fe,le,pe){if(pe.hiLevel!==0&&m)for(var Ie,Ae=0;Ae<fe.length;Ae++)le[Ae]===1&&(Ie=T.indexOf(fe[Ae]))>=0&&(fe[Ae]=T[Ie+1])})(Y,B,we),I(2,Y,M,B,we),I(1,Y,M,B,we),Y.join("")};return this.__bidiEngine__.doBidiReorder=function(O,M,B){if((function(we,fe){if(fe)for(var le=0;le<we.length;le++)fe[le]=le;c===void 0&&(c=K(we)),h===void 0&&(h=K(we))})(O,M),o||!u||h)if(o&&u&&c^h)R=c?1:0,O=C(O,M,B);else if(!o&&u&&h)R=c?1:0,O=z(O,M,B),O=C(O,M);else if(!o||c||u||h){if(o&&!u&&c^h)O=C(O,M),c?(R=0,O=z(O,M,B)):(R=1,O=z(O,M,B),O=C(O,M));else if(o&&c&&!u&&h)R=1,O=z(O,M,B),O=C(O,M);else if(!o&&!u&&c^h){var Y=m;c?(R=1,O=z(O,M,B),R=0,m=!1,O=z(O,M,B),m=Y):(R=0,O=z(O,M,B),O=C(O,M),R=1,m=!1,O=z(O,M,B),m=Y,O=C(O,M))}}else R=0,O=z(O,M,B);else R=c?1:0,O=z(O,M,B);return O},this.__bidiEngine__.setOptions=function(O){O&&(o=O.isInputVisual,u=O.isOutputVisual,c=O.isInputRtl,h=O.isOutputRtl,m=O.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var a=r.options||{};r.mutex,a.lang;var o=[];if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,t.setOptions(a),Object.prototype.toString.call(i)==="[object Array]"){var c=0;for(o=[],c=0;c<i.length;c+=1)Object.prototype.toString.call(i[c])==="[object Array]"?o.push([t.doBidiReorder(i[c][0]),i[c][1],i[c][2]]):o.push([t.doBidiReorder(i[c])]);r.text=o}else r.text=t.doBidiReorder(i);t.setOptions({isInputVisual:!0})}])})(hn),hn.API.TTFFont=(function(){function n(e){var t;if(this.rawData=e,t=this.contents=new Hh(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new XY(this),this.registerTTF()}return n.open=function(e){return new n(e)},n.prototype.parse=function(){return this.directory=new MY(this.contents),this.head=new FY(this),this.name=new qY(this),this.cmap=new GR(this),this.toUnicode={},this.hhea=new BY(this),this.maxp=new HY(this),this.hmtx=new GY(this),this.post=new VY(this),this.os2=new UY(this),this.loca=new KY(this),this.glyf=new WY(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var e,t,r,i,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,c,u,h;for(h=[],o=0,c=(u=this.bbox).length;o<c;o++)e=u[o],h.push(Math.round(e*this.scaleFactor));return h}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(t=i>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},n.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},n.prototype.widthOfString=function(e,t,r){var i,a,o,c;for(o=0,a=0,c=(e=""+e).length;0<=c?a<c:a>c;a=0<=c?++a:--a)i=e.charCodeAt(a),o+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/t)||0;return o*(t/1e3)},n.prototype.lineHeight=function(e,t){var r;return t==null&&(t=!1),r=t?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},n})();var nc,Hh=(function(){function n(e){this.data=e??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(e){return this.data[this.pos++]=e},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},n.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},n.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},n.prototype.readString=function(e){var t,r;for(r=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)r[t]=String.fromCharCode(this.readByte());return r.join("")},n.prototype.writeString=function(e){var t,r,i;for(i=[],t=0,r=e.length;0<=r?t<r:t>r;t=0<=r?++t:--t)i.push(this.writeByte(e.charCodeAt(t)));return i},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(e){return this.writeInt16(e)},n.prototype.readLongLong=function(){var e,t,r,i,a,o,c,u;return e=this.readByte(),t=this.readByte(),r=this.readByte(),i=this.readByte(),a=this.readByte(),o=this.readByte(),c=this.readByte(),u=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^a)+65536*(255^o)+256*(255^c)+(255^u)+1):72057594037927940*e+281474976710656*t+1099511627776*r+4294967296*i+16777216*a+65536*o+256*c+u},n.prototype.writeLongLong=function(e){var t,r;return t=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(e){return this.writeInt32(e)},n.prototype.read=function(e){var t,r;for(t=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)t.push(this.readByte());return t},n.prototype.write=function(e){var t,r,i,a;for(a=[],r=0,i=e.length;r<i;r++)t=e[r],a.push(this.writeByte(t));return a},n})(),MY=(function(){var n;function e(t){var r,i,a;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},i=0,a=this.tableCount;0<=a?i<a:i>a;i=0<=a?++i:--i)r={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(t){var r,i,a,o,c,u,h,m,g,_,v,b,w;for(w in v=Object.keys(t).length,u=Math.log(2),g=16*Math.floor(Math.log(v)/u),o=Math.floor(g/u),m=16*v-g,(i=new Hh).writeInt(this.scalarType),i.writeShort(v),i.writeShort(g),i.writeShort(o),i.writeShort(m),a=16*v,h=i.pos+a,c=null,b=[],t)for(_=t[w],i.writeString(w),i.writeInt(n(_)),i.writeInt(h),i.writeInt(_.length),b=b.concat(_),w==="head"&&(c=h),h+=_.length;h%4;)b.push(0),h++;return i.write(b),r=2981146554-n(i.data),i.pos=c+8,i.writeUInt32(r),i.data},n=function(t){var r,i,a,o;for(t=WR.call(t);t.length%4;)t.push(0);for(a=new Hh(t),i=0,r=0,o=t.length;r<o;r=r+=4)i+=a.readUInt32();return 4294967295&i},e})(),PY={}.hasOwnProperty,Hc=function(n,e){for(var t in e)PY.call(e,t)&&(n[t]=e[t]);function r(){this.constructor=n}return r.prototype=e.prototype,n.prototype=new r,n.__super__=e.prototype,n};nc=(function(){function n(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n})();var FY=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Hc(n,nc),n.prototype.tag="head",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},n.prototype.encode=function(e){var t;return(t=new Hh).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},n})(),rN=(function(){function n(e,t){var r,i,a,o,c,u,h,m,g,_,v,b,w,T,N,P,R;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),g=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(u=0;u<256;++u)this.codeMap[u]=e.readByte();break;case 4:for(v=e.readUInt16(),_=v/2,e.pos+=6,a=(function(){var j,K;for(K=[],u=j=0;0<=_?j<_:j>_;u=0<=_?++j:--j)K.push(e.readUInt16());return K})(),e.pos+=2,w=(function(){var j,K;for(K=[],u=j=0;0<=_?j<_:j>_;u=0<=_?++j:--j)K.push(e.readUInt16());return K})(),h=(function(){var j,K;for(K=[],u=j=0;0<=_?j<_:j>_;u=0<=_?++j:--j)K.push(e.readUInt16());return K})(),m=(function(){var j,K;for(K=[],u=j=0;0<=_?j<_:j>_;u=0<=_?++j:--j)K.push(e.readUInt16());return K})(),i=(this.length-e.pos+this.offset)/2,c=(function(){var j,K;for(K=[],u=j=0;0<=i?j<i:j>i;u=0<=i?++j:--j)K.push(e.readUInt16());return K})(),u=N=0,R=a.length;N<R;u=++N)for(T=a[u],r=P=b=w[u];b<=T?P<=T:P>=T;r=b<=T?++P:--P)m[u]===0?o=r+h[u]:(o=c[m[u]/2+(r-b)-(_-u)]||0)!==0&&(o+=h[u]),this.codeMap[r]=65535&o}e.pos=g}return n.encode=function(e,t){var r,i,a,o,c,u,h,m,g,_,v,b,w,T,N,P,R,j,K,U,C,k,I,z,O,M,B,Y,we,fe,le,pe,Ie,Ae,re,L,G,q,J,ae,ge,Te,Se,Ce,et,ot;switch(Y=new Hh,o=Object.keys(e).sort(function(tt,it){return tt-it}),t){case"macroman":for(w=0,T=(function(){var tt=[];for(b=0;b<256;++b)tt.push(0);return tt})(),P={0:0},a={},we=0,Ie=o.length;we<Ie;we++)P[Se=e[i=o[we]]]==null&&(P[Se]=++w),a[i]={old:e[i],new:P[e[i]]},T[i]=P[e[i]];return Y.writeUInt16(1),Y.writeUInt16(0),Y.writeUInt32(12),Y.writeUInt16(0),Y.writeUInt16(262),Y.writeUInt16(0),Y.write(T),{charMap:a,subtable:Y.data,maxGlyphID:w+1};case"unicode":for(M=[],g=[],R=0,P={},r={},N=h=null,fe=0,Ae=o.length;fe<Ae;fe++)P[K=e[i=o[fe]]]==null&&(P[K]=++R),r[i]={old:K,new:P[K]},c=P[K]-i,N!=null&&c===h||(N&&g.push(N),M.push(i),h=c),N=i;for(N&&g.push(N),g.push(65535),M.push(65535),z=2*(I=M.length),k=2*Math.pow(Math.log(I)/Math.LN2,2),_=Math.log(k/2)/Math.LN2,C=2*I-k,u=[],U=[],v=[],b=le=0,re=M.length;le<re;b=++le){if(O=M[b],m=g[b],O===65535){u.push(0),U.push(0);break}if(O-(B=r[O].new)>=32768)for(u.push(0),U.push(2*(v.length+I-b)),i=pe=O;O<=m?pe<=m:pe>=m;i=O<=m?++pe:--pe)v.push(r[i].new);else u.push(B-O),U.push(0)}for(Y.writeUInt16(3),Y.writeUInt16(1),Y.writeUInt32(12),Y.writeUInt16(4),Y.writeUInt16(16+8*I+2*v.length),Y.writeUInt16(0),Y.writeUInt16(z),Y.writeUInt16(k),Y.writeUInt16(_),Y.writeUInt16(C),ge=0,L=g.length;ge<L;ge++)i=g[ge],Y.writeUInt16(i);for(Y.writeUInt16(0),Te=0,G=M.length;Te<G;Te++)i=M[Te],Y.writeUInt16(i);for(Ce=0,q=u.length;Ce<q;Ce++)c=u[Ce],Y.writeUInt16(c);for(et=0,J=U.length;et<J;et++)j=U[et],Y.writeUInt16(j);for(ot=0,ae=v.length;ot<ae;ot++)w=v[ot],Y.writeUInt16(w);return{charMap:r,subtable:Y.data,maxGlyphID:R+1}}},n})(),GR=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Hc(n,nc),n.prototype.tag="cmap",n.prototype.parse=function(e){var t,r,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=i?r<i:r>i;r=0<=i?++r:--r)t=new rN(e,this.offset),this.tables.push(t),t.isUnicode&&this.unicode==null&&(this.unicode=t);return!0},n.encode=function(e,t){var r,i;return t==null&&(t="macroman"),r=rN.encode(e,t),(i=new Hh).writeUInt16(0),i.writeUInt16(1),r.table=i.data.concat(r.subtable),r},n})(),BY=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Hc(n,nc),n.prototype.tag="hhea",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},n})(),UY=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Hc(n,nc),n.prototype.tag="OS/2",n.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var t,r;for(r=[],t=0;t<10;++t)r.push(e.readByte());return r})(),this.charRange=(function(){var t,r;for(r=[],t=0;t<4;++t)r.push(e.readInt());return r})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var t,r;for(r=[],t=0;t<2;t=++t)r.push(e.readInt());return r})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},n})(),VY=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Hc(n,nc),n.prototype.tag="post",n.prototype.parse=function(e){var t,r,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var a;for(r=e.readUInt16(),this.glyphNameIndex=[],a=0;0<=r?a<r:a>r;a=0<=r?++a:--a)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)t=e.readByte(),i.push(this.names.push(e.readString(t)));return i;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=(function(){var o,c,u;for(u=[],a=o=0,c=this.file.maxp.numGlyphs;0<=c?o<c:o>c;a=0<=c?++o:--o)u.push(e.readUInt32());return u}).call(this)}},n})(),zY=function(n,e){this.raw=n,this.length=n.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},qY=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Hc(n,nc),n.prototype.tag="name",n.prototype.parse=function(e){var t,r,i,a,o,c,u,h,m,g,_;for(e.pos=this.offset,e.readShort(),t=e.readShort(),c=e.readShort(),r=[],a=0;0<=t?a<t:a>t;a=0<=t?++a:--a)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+c+e.readShort()});for(u={},a=m=0,g=r.length;m<g;a=++m)i=r[a],e.pos=i.offset,h=e.readString(i.length),o=new zY(h,i),u[_=i.nameID]==null&&(u[_]=[]),u[i.nameID].push(o);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},n})(),HY=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Hc(n,nc),n.prototype.tag="maxp",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},n})(),GY=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Hc(n,nc),n.prototype.tag="hmtx",n.prototype.parse=function(e){var t,r,i,a,o,c,u;for(e.pos=this.offset,this.metrics=[],t=0,c=this.file.hhea.numberOfMetrics;0<=c?t<c:t>c;t=0<=c?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var h,m;for(m=[],t=h=0;0<=i?h<i:h>i;t=0<=i?++h:--h)m.push(e.readInt16());return m})(),this.widths=(function(){var h,m,g,_;for(_=[],h=0,m=(g=this.metrics).length;h<m;h++)a=g[h],_.push(a.advance);return _}).call(this),r=this.widths[this.widths.length-1],u=[],t=o=0;0<=i?o<i:o>i;t=0<=i?++o:--o)u.push(this.widths.push(r));return u},n.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},n})(),WR=[].slice,WY=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Hc(n,nc),n.prototype.tag="glyf",n.prototype.parse=function(){return this.cache={}},n.prototype.glyphFor=function(e){var t,r,i,a,o,c,u,h,m,g;return e in this.cache?this.cache[e]:(a=this.file.loca,t=this.file.contents,r=a.indexOf(e),(i=a.lengthOf(e))===0?this.cache[e]=null:(t.pos=this.offset+r,o=(c=new Hh(t.read(i))).readShort(),h=c.readShort(),g=c.readShort(),u=c.readShort(),m=c.readShort(),this.cache[e]=o===-1?new $Y(c,h,g,u,m):new YY(c,o,h,g,u,m),this.cache[e]))},n.prototype.encode=function(e,t,r){var i,a,o,c,u;for(o=[],a=[],c=0,u=t.length;c<u;c++)i=e[t[c]],a.push(o.length),i&&(o=o.concat(i.encode(r)));return a.push(o.length),{table:o,offsets:a}},n})(),YY=(function(){function n(e,t,r,i,a,o){this.raw=e,this.numberOfContours=t,this.xMin=r,this.yMin=i,this.xMax=a,this.yMax=o,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n})(),$Y=(function(){function n(e,t,r,i,a){var o,c;for(this.raw=e,this.xMin=t,this.yMin=r,this.xMax=i,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;c=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&c;)o.pos+=1&c?4:2,128&c?o.pos+=8:64&c?o.pos+=4:8&c&&(o.pos+=2)}return n.prototype.encode=function(){var e,t,r;for(t=new Hh(WR.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)t.pos=this.glyphOffsets[e];return t.data},n})(),KY=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Hc(n,nc),n.prototype.tag="loca",n.prototype.parse=function(e){var t,r;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=t===0?(function(){var i,a;for(a=[],r=0,i=this.length;r<i;r+=2)a.push(2*e.readUInt16());return a}).call(this):(function(){var i,a;for(a=[],r=0,i=this.length;r<i;r+=4)a.push(e.readUInt32());return a}).call(this)},n.prototype.indexOf=function(e){return this.offsets[e]},n.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},n.prototype.encode=function(e,t){for(var r=new Uint32Array(this.offsets.length),i=0,a=0,o=0;o<r.length;++o)if(r[o]=i,a<t.length&&t[a]==o){++a,r[o]=i;var c=this.offsets[o],u=this.offsets[o+1]-c;u>0&&(i+=u)}for(var h=new Array(4*r.length),m=0;m<r.length;++m)h[4*m+3]=255&r[m],h[4*m+2]=(65280&r[m])>>8,h[4*m+1]=(16711680&r[m])>>16,h[4*m]=(4278190080&r[m])>>24;return h},n})(),XY=(function(){function n(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var e,t,r,i,a;for(t in i=this.font.cmap.tables[0].codeMap,e={},a=this.subset)r=a[t],e[t]=i[r];return e},n.prototype.glyphsFor=function(e){var t,r,i,a,o,c,u;for(i={},o=0,c=e.length;o<c;o++)i[a=e[o]]=this.font.glyf.glyphFor(a);for(a in t=[],i)(r=i[a])!=null&&r.compound&&t.push.apply(t,r.glyphIDs);if(t.length>0)for(a in u=this.glyphsFor(t))r=u[a],i[a]=r;return i},n.prototype.encode=function(e,t){var r,i,a,o,c,u,h,m,g,_,v,b,w,T,N;for(i in r=GR.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),v={0:0},N=r.charMap)v[(u=N[i]).old]=u.new;for(b in _=r.maxGlyphID,o)b in v||(v[b]=_++);return m=(function(P){var R,j;for(R in j={},P)j[P[R]]=R;return j})(v),g=Object.keys(m).sort(function(P,R){return P-R}),w=(function(){var P,R,j;for(j=[],P=0,R=g.length;P<R;P++)c=g[P],j.push(m[c]);return j})(),a=this.font.glyf.encode(o,w,v),h=this.font.loca.encode(a.offsets,w),T={cmap:this.font.cmap.raw(),glyf:a.table,loca:h,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(T["OS/2"]=this.font.os2.raw()),this.font.directory.encode(T)},n})();hn.API.PDFObject=(function(){var n;function e(){}return n=function(t,r){return(Array(r+1).join("0")+t).slice(-r)},e.convert=function(t){var r,i,a,o;if(Array.isArray(t))return"["+(function(){var c,u,h;for(h=[],c=0,u=t.length;c<u;c++)r=t[c],h.push(e.convert(r));return h})().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t?.isString)return"("+t+")";if(t instanceof Date)return"(D:"+n(t.getUTCFullYear(),4)+n(t.getUTCMonth(),2)+n(t.getUTCDate(),2)+n(t.getUTCHours(),2)+n(t.getUTCMinutes(),2)+n(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(i in a=["<<"],t)o=t[i],a.push("/"+i+" "+e.convert(o));return a.push(">>"),a.join(`
`)}return""+t},e})();const YR=(n=16)=>{const e=new Uint8Array(n);return crypto.getRandomValues(e),btoa(String.fromCharCode(...e)).replace(/[+/=]/g,"").slice(0,n)},JY=async(n,e,t,r,i)=>{const a=`${n}|${e}|${t}|${r}|${i}`,c=new TextEncoder().encode(a),u=await crypto.subtle.digest("SHA-256",c);return Array.from(new Uint8Array(u)).map(g=>g.toString(16).padStart(2,"0")).join("")},QY=()=>{const e=new Date().toISOString().slice(0,10).replace(/-/g,""),t=YR(6).toUpperCase();return`REG-${e}-${t}`},ZY=async n=>{try{return await lG.toDataURL(n,{errorCorrectionLevel:"H",margin:2,width:200,color:{dark:"#000000",light:"#FFFFFF"}})}catch(e){throw console.error("Error generating QR code:",e),new Error("Failed to generate QR code")}},e$=n=>{try{const[e,t,r]=n.split("-").map(Number);return new Date(e,t-1,r).toLocaleDateString("en-IN",{day:"numeric",month:"long",year:"numeric"})}catch{return n}},t$=async(n,e,t)=>{const r=new hn({orientation:"portrait",unit:"mm",format:[100,150]}),i=100,a=150,o=8;r.setFillColor(15,15,20),r.rect(0,0,i,a,"F"),r.setFillColor(78,255,159),r.rect(0,0,i,20,"F"),r.setTextColor(10,10,15),r.setFontSize(10),r.setFont("helvetica","bold");const c=n.eventName.length>30?n.eventName.slice(0,27)+"...":n.eventName;r.text(c,i/2,10,{align:"center"}),r.setFontSize(7),r.setFont("helvetica","normal"),r.text(e$(n.eventDate),i/2,16,{align:"center"}),r.setTextColor(255,255,255),r.setFontSize(12),r.setFont("helvetica","bold"),r.text("EVENT PASS",i/2,32,{align:"center"});const u=45,h=(i-u)/2,m=38;r.setFillColor(255,255,255),r.roundedRect(h-3,m-3,u+6,u+6,3,3,"F"),r.addImage(e,"PNG",h,m,u,u);let g=m+u+12;const _=[150,150,160],v=[255,255,255],b=(w,T,N)=>{r.setTextColor(_[0],_[1],_[2]),r.setFontSize(6),r.setFont("helvetica","normal"),r.text(w,o,N),r.setTextColor(v[0],v[1],v[2]),r.setFontSize(8),r.setFont("helvetica","bold");const P=T.length>35?T.slice(0,32)+"...":T;return r.text(P,o,N+4),N+11};if(g=b("FULL NAME",`${n.firstName} ${n.lastName}`,g),g=b("ORBIT ID",n.orbitId,g),g=b("EMAIL",n.email,g),g=b("COLLEGE",n.collegeName,g),t){r.setTextColor(_[0],_[1],_[2]),r.setFontSize(6),r.text("VENUE",o,g),r.setTextColor(v[0],v[1],v[2]),r.setFontSize(7),r.setFont("helvetica","normal");const w=t.length>40?t.slice(0,37)+"...":t;r.text(w,o,g+4)}return r.setTextColor(80,80,90),r.setFontSize(5),r.setFont("helvetica","normal"),r.text(`ID: ${n.registrationId}`,i/2,a-5,{align:"center"}),r.output("blob")},$R=async n=>{try{const e=YR(16),t=await JY(n.orbitId,n.govIdLast4,n.firstName,n.eventId,e),r=QY(),i={registrationId:r,orbitId:n.orbitId,eventId:n.eventId,eventName:n.eventName,eventDate:n.eventDate,qrSignature:t,firstName:n.firstName,lastName:n.lastName,email:n.email,collegeName:n.collegeName,gender:n.gender,govIdType:n.govIdType,attendanceStatus:!1,checkInTime:null,createdAt:new Date().toISOString()},a=`${n.eventId}_${r}`,o=mn($t,"event_reg",a);await qo(o,i);const c=mn($t,"qr_lookup",t);return await qo(c,{registrationId:r,eventId:n.eventId,docId:a,createdAt:i.createdAt}),{registrationId:r,registration:i,qrSignature:t}}catch(e){throw console.error("Error registering for event:",e),e}},T2=async(n,e)=>{try{const t=await ZY(n.qrSignature);return await t$(n,t,e)}catch(t){throw console.error("Error generating pass PDF:",t),t}},A2=(n,e,t)=>{const r=URL.createObjectURL(n),i=document.createElement("a");i.href=r,i.download=`EventPass_${e.replace(/[^a-z0-9]/gi,"_")}_${t}.pdf`,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(r)},KR=async(n,e)=>{try{const t=ha($t,"event_reg"),{getDocs:r,query:i,where:a}=await Cf(async()=>{const{getDocs:u,query:h,where:m}=await Promise.resolve().then(()=>z8);return{getDocs:u,query:h,where:m}},void 0),o=i(t,a("orbitId","==",e),a("eventId","==",n)),c=await r(o);return c.empty?null:c.docs[0].data()}catch(t){return console.error("Error checking existing registration:",t),null}},Tv=async n=>{try{console.log("Fetching registrations for orbitId:",n);const e=ha($t,"event_reg"),{getDocs:t,query:r,where:i}=await Cf(async()=>{const{getDocs:u,query:h,where:m}=await Promise.resolve().then(()=>z8);return{getDocs:u,query:h,where:m}},void 0),a=r(e,i("orbitId","==",n)),o=await t(a);console.log("Found registrations:",o.size);const c=o.docs.map(u=>(console.log("Registration doc:",u.id,u.data()),u.data()));return c.sort((u,h)=>new Date(h.createdAt).getTime()-new Date(u.createdAt).getTime()),c}catch(e){return console.error("Error fetching user registrations:",e),[]}},n$=Object.freeze(Object.defineProperty({__proto__:null,checkExistingRegistration:KR,downloadPass:A2,generateEventPass:$R,generatePassPdfForRegistration:T2,getUserRegistrations:Tv},Symbol.toStringTag,{value:"Module"}));function r$(){const n=Cs(),[e,t]=Q.useState([]),[r,i]=Q.useState(!0),[a,o]=Q.useState(null),[c,u]=Q.useState(!1),[h,m]=Q.useState(new Set);Q.useEffect(()=>{const b=Ho.onAuthStateChanged(async w=>{if(w){let T=await Br(mn($t,"users",w.uid));if(T.exists()||(T=await Br(mn($t,"admins",w.uid))),T.exists()){const N=T.data()?.orbitId;if(N){const P=await Tv(N);m(new Set(P.map(R=>R.eventId)))}}}else m(new Set)});return()=>b()},[]),Q.useEffect(()=>{(async()=>{try{const w=Wo(ha($t,"events"),Pu("date","desc")),T=await vv(w),N=[];T.forEach(K=>{const U=K.data();N.push({id:K.id,type:U.type||"Event",title:U.title||"",description:U.description||"",date:U.date||"",venue:U.venue||"",venueUrl:U.venueUrl,time:U.time||"",registrationOpen:U.registrationOpen??!1,isPast:U.isPast??!1,images:U.images||[],amount:U.amount})});const P=N.filter(K=>!K.isPast),R=N.filter(K=>K.isPast);P.sort((K,U)=>K.date.localeCompare(U.date)),R.sort((K,U)=>U.date.localeCompare(K.date));const j=[];for(const K of P){if(j.length>=3)break;j.push(K)}for(const K of R){if(j.length>=3)break;j.push(K)}t(j)}catch(w){console.error("Error fetching events:",w)}finally{i(!1)}})()},[]);const g=b=>{o(b),u(!1)},_=()=>{u(!0),setTimeout(()=>{o(null),u(!1)},300)},v=()=>{n("/events")};return r?f.jsxs("section",{className:"events-teaser",children:[f.jsxs("div",{className:"events-teaser__header",children:[f.jsx("h2",{className:"events-teaser__heading",children:"Events & Activities"}),f.jsx("p",{className:"events-teaser__subtext",children:"Participate in workshops, stargazing sessions, and hands-on experiments that bring space science to life."})]}),f.jsx("div",{className:"events-teaser__loading",children:"Loading events..."})]}):e.length===0?f.jsxs("section",{className:"events-teaser",children:[f.jsxs("div",{className:"events-teaser__header",children:[f.jsx("h2",{className:"events-teaser__heading",children:"Events & Activities"}),f.jsx("p",{className:"events-teaser__subtext",children:"Participate in workshops, stargazing sessions, and hands-on experiments that bring space science to life."})]}),f.jsxs("div",{className:"events-teaser__empty",children:[f.jsx("p",{children:"No events at the moment."}),f.jsx("span",{children:"Check back soon for exciting activities!"})]})]}):f.jsxs("section",{className:"events-teaser",children:[f.jsxs("div",{className:"events-teaser__header",children:[f.jsx("h2",{className:"events-teaser__heading",children:"Events & Activities"}),f.jsx("p",{className:"events-teaser__subtext",children:"Participate in workshops, stargazing sessions, and hands-on experiments that bring space science to life."})]}),f.jsx("div",{className:"events-teaser__grid",children:e.map(b=>f.jsx(a5,{event:b,onClick:g,variant:"teaser",isRegistered:h.has(b.id)},b.id))}),f.jsx("button",{onClick:v,className:"events-teaser__cta",children:"View All Events "}),a&&f.jsx(Zw,{event:a,isClosing:c,onClose:_,isRegistered:h.has(a.id),onDownloadPass:async b=>{try{const w=Ho.currentUser;if(!w)return;let T=await Br(mn($t,"users",w.uid));T.exists()||(T=await Br(mn($t,"admins",w.uid)));const N=T.data()?.orbitId;if(N){const{checkExistingRegistration:P,generatePassPdfForRegistration:R,downloadPass:j}=await Cf(async()=>{const{checkExistingRegistration:U,generatePassPdfForRegistration:C,downloadPass:k}=await Promise.resolve().then(()=>n$);return{checkExistingRegistration:U,generatePassPdfForRegistration:C,downloadPass:k}},void 0),K=await P(b.id,N);if(K){const U=await R(K,b.venue);j(U,b.title,N)}}}catch(w){console.error("Error downloading pass:",w)}},onRegisterClick:()=>n("/events")})]})}function i$(n,e,t){return Math.max(e,Math.min(n,t))}const ai={toVector(n,e){return n===void 0&&(n=e),Array.isArray(n)?n:[n,n]},add(n,e){return[n[0]+e[0],n[1]+e[1]]},sub(n,e){return[n[0]-e[0],n[1]-e[1]]},addTo(n,e){n[0]+=e[0],n[1]+=e[1]},subTo(n,e){n[0]-=e[0],n[1]-=e[1]}};function iN(n,e,t){return e===0||Math.abs(e)===1/0?Math.pow(n,t*5):n*e*t/(e+t*n)}function aN(n,e,t,r=.15){return r===0?i$(n,e,t):n<e?-iN(e-n,t-e,r)+e:n>t?+iN(n-t,t-e,r)+t:n}function a$(n,[e,t],[r,i]){const[[a,o],[c,u]]=n;return[aN(e,a,o,r),aN(t,c,u,i)]}function s$(n,e){if(typeof n!="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function o$(n){var e=s$(n,"string");return typeof e=="symbol"?e:String(e)}function sa(n,e,t){return e=o$(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function sN(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Ai(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?sN(Object(t),!0).forEach(function(r){sa(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):sN(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}const XR={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function oN(n){return n?n[0].toUpperCase()+n.slice(1):""}const l$=["enter","leave"];function c$(n=!1,e){return n&&!l$.includes(e)}function u$(n,e="",t=!1){const r=XR[n],i=r&&r[e]||e;return"on"+oN(n)+oN(i)+(c$(t,i)?"Capture":"")}const h$=["gotpointercapture","lostpointercapture"];function f$(n){let e=n.substring(2).toLowerCase();const t=!!~e.indexOf("passive");t&&(e=e.replace("passive",""));const r=h$.includes(e)?"capturecapture":"capture",i=!!~e.indexOf(r);return i&&(e=e.replace("capture","")),{device:e,capture:i,passive:t}}function d$(n,e=""){const t=XR[n],r=t&&t[e]||e;return n+r}function Av(n){return"touches"in n}function JR(n){return Av(n)?"touch":"pointerType"in n?n.pointerType:"mouse"}function m$(n){return Array.from(n.touches).filter(e=>{var t,r;return e.target===n.currentTarget||((t=n.currentTarget)===null||t===void 0||(r=t.contains)===null||r===void 0?void 0:r.call(t,e.target))})}function p$(n){return n.type==="touchend"||n.type==="touchcancel"?n.changedTouches:n.targetTouches}function QR(n){return Av(n)?p$(n)[0]:n}function v5(n,e){try{const t=e.clientX-n.clientX,r=e.clientY-n.clientY,i=(e.clientX+n.clientX)/2,a=(e.clientY+n.clientY)/2,o=Math.hypot(t,r);return{angle:-(Math.atan2(t,r)*180)/Math.PI,distance:o,origin:[i,a]}}catch{}return null}function g$(n){return m$(n).map(e=>e.identifier)}function lN(n,e){const[t,r]=Array.from(n.touches).filter(i=>e.includes(i.identifier));return v5(t,r)}function fx(n){const e=QR(n);return Av(n)?e.identifier:e.pointerId}function D0(n){const e=QR(n);return[e.clientX,e.clientY]}const cN=40,uN=800;function ZR(n){let{deltaX:e,deltaY:t,deltaMode:r}=n;return r===1?(e*=cN,t*=cN):r===2&&(e*=uN,t*=uN),[e,t]}function v$(n){var e,t;const{scrollX:r,scrollY:i,scrollLeft:a,scrollTop:o}=n.currentTarget;return[(e=r??a)!==null&&e!==void 0?e:0,(t=i??o)!==null&&t!==void 0?t:0]}function _$(n){const e={};if("buttons"in n&&(e.buttons=n.buttons),"shiftKey"in n){const{shiftKey:t,altKey:r,metaKey:i,ctrlKey:a}=n;Object.assign(e,{shiftKey:t,altKey:r,metaKey:i,ctrlKey:a})}return e}function N2(n,...e){return typeof n=="function"?n(...e):n}function y$(){}function x$(...n){return n.length===0?y$:n.length===1?n[0]:function(){let e;for(const t of n)e=t.apply(this,arguments)||e;return e}}function hN(n,e){return Object.assign({},e,n||{})}const w$=32;class ek{constructor(e,t,r){this.ctrl=e,this.args=t,this.key=r,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(e){this.ctrl.state[this.key]=e}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){const{state:e,shared:t,ingKey:r,args:i}=this;t[r]=e._active=e.active=e._blocked=e._force=!1,e._step=[!1,!1],e.intentional=!1,e._movement=[0,0],e._distance=[0,0],e._direction=[0,0],e._delta=[0,0],e._bounds=[[-1/0,1/0],[-1/0,1/0]],e.args=i,e.axis=void 0,e.memo=void 0,e.elapsedTime=e.timeDelta=0,e.direction=[0,0],e.distance=[0,0],e.overflow=[0,0],e._movementBound=[!1,!1],e.velocity=[0,0],e.movement=[0,0],e.delta=[0,0],e.timeStamp=0}start(e){const t=this.state,r=this.config;t._active||(this.reset(),this.computeInitial(),t._active=!0,t.target=e.target,t.currentTarget=e.currentTarget,t.lastOffset=r.from?N2(r.from,t):t.offset,t.offset=t.lastOffset,t.startTime=t.timeStamp=e.timeStamp)}computeValues(e){const t=this.state;t._values=e,t.values=this.config.transform(e)}computeInitial(){const e=this.state;e._initial=e._values,e.initial=e.values}compute(e){const{state:t,config:r,shared:i}=this;t.args=this.args;let a=0;if(e&&(t.event=e,r.preventDefault&&e.cancelable&&t.event.preventDefault(),t.type=e.type,i.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,i.locked=!!document.pointerLockElement,Object.assign(i,_$(e)),i.down=i.pressed=i.buttons%2===1||i.touches>0,a=e.timeStamp-t.timeStamp,t.timeStamp=e.timeStamp,t.elapsedTime=t.timeStamp-t.startTime),t._active){const U=t._delta.map(Math.abs);ai.addTo(t._distance,U)}this.axisIntent&&this.axisIntent(e);const[o,c]=t._movement,[u,h]=r.threshold,{_step:m,values:g}=t;if(r.hasCustomTransform?(m[0]===!1&&(m[0]=Math.abs(o)>=u&&g[0]),m[1]===!1&&(m[1]=Math.abs(c)>=h&&g[1])):(m[0]===!1&&(m[0]=Math.abs(o)>=u&&Math.sign(o)*u),m[1]===!1&&(m[1]=Math.abs(c)>=h&&Math.sign(c)*h)),t.intentional=m[0]!==!1||m[1]!==!1,!t.intentional)return;const _=[0,0];if(r.hasCustomTransform){const[U,C]=g;_[0]=m[0]!==!1?U-m[0]:0,_[1]=m[1]!==!1?C-m[1]:0}else _[0]=m[0]!==!1?o-m[0]:0,_[1]=m[1]!==!1?c-m[1]:0;this.restrictToAxis&&!t._blocked&&this.restrictToAxis(_);const v=t.offset,b=t._active&&!t._blocked||t.active;b&&(t.first=t._active&&!t.active,t.last=!t._active&&t.active,t.active=i[this.ingKey]=t._active,e&&(t.first&&("bounds"in r&&(t._bounds=N2(r.bounds,t)),this.setup&&this.setup()),t.movement=_,this.computeOffset()));const[w,T]=t.offset,[[N,P],[R,j]]=t._bounds;t.overflow=[w<N?-1:w>P?1:0,T<R?-1:T>j?1:0],t._movementBound[0]=t.overflow[0]?t._movementBound[0]===!1?t._movement[0]:t._movementBound[0]:!1,t._movementBound[1]=t.overflow[1]?t._movementBound[1]===!1?t._movement[1]:t._movementBound[1]:!1;const K=t._active?r.rubberband||[0,0]:[0,0];if(t.offset=a$(t._bounds,t.offset,K),t.delta=ai.sub(t.offset,v),this.computeMovement(),b&&(!t.last||a>w$)){t.delta=ai.sub(t.offset,v);const U=t.delta.map(Math.abs);ai.addTo(t.distance,U),t.direction=t.delta.map(Math.sign),t._direction=t._delta.map(Math.sign),!t.first&&a>0&&(t.velocity=[U[0]/a,U[1]/a],t.timeDelta=a)}}emit(){const e=this.state,t=this.shared,r=this.config;if(e._active||this.clean(),(e._blocked||!e.intentional)&&!e._force&&!r.triggerAllEvents)return;const i=this.handler(Ai(Ai(Ai({},t),e),{},{[this.aliasKey]:e.values}));i!==void 0&&(e.memo=i)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}}function b$([n,e],t){const r=Math.abs(n),i=Math.abs(e);if(r>i&&r>t)return"x";if(i>r&&i>t)return"y"}class ng extends ek{constructor(...e){super(...e),sa(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=ai.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=ai.sub(this.state.offset,this.state.lastOffset)}axisIntent(e){const t=this.state,r=this.config;if(!t.axis&&e){const i=typeof r.axisThreshold=="object"?r.axisThreshold[JR(e)]:r.axisThreshold;t.axis=b$(t._movement,i)}t._blocked=(r.lockDirection||!!r.axis)&&!t.axis||!!r.axis&&r.axis!==t.axis}restrictToAxis(e){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":e[1]=0;break;case"y":e[0]=0;break}}}const E$=n=>n,fN=.15,tk={enabled(n=!0){return n},eventOptions(n,e,t){return Ai(Ai({},t.shared.eventOptions),n)},preventDefault(n=!1){return n},triggerAllEvents(n=!1){return n},rubberband(n=0){switch(n){case!0:return[fN,fN];case!1:return[0,0];default:return ai.toVector(n)}},from(n){if(typeof n=="function")return n;if(n!=null)return ai.toVector(n)},transform(n,e,t){const r=n||t.shared.transform;return this.hasCustomTransform=!!r,r||E$},threshold(n){return ai.toVector(n,0)}},S$=0,ed=Ai(Ai({},tk),{},{axis(n,e,{axis:t}){if(this.lockDirection=t==="lock",!this.lockDirection)return t},axisThreshold(n=S$){return n},bounds(n={}){if(typeof n=="function")return a=>ed.bounds(n(a));if("current"in n)return()=>n.current;if(typeof HTMLElement=="function"&&n instanceof HTMLElement)return n;const{left:e=-1/0,right:t=1/0,top:r=-1/0,bottom:i=1/0}=n;return[[e,t],[r,i]]}}),dN={ArrowRight:(n,e=1)=>[n*e,0],ArrowLeft:(n,e=1)=>[-1*n*e,0],ArrowUp:(n,e=1)=>[0,-1*n*e],ArrowDown:(n,e=1)=>[0,n*e]};class T$ extends ng{constructor(...e){super(...e),sa(this,"ingKey","dragging")}reset(){super.reset();const e=this.state;e._pointerId=void 0,e._pointerActive=!1,e._keyboardActive=!1,e._preventScroll=!1,e._delayed=!1,e.swipe=[0,0],e.tap=!1,e.canceled=!1,e.cancel=this.cancel.bind(this)}setup(){const e=this.state;if(e._bounds instanceof HTMLElement){const t=e._bounds.getBoundingClientRect(),r=e.currentTarget.getBoundingClientRect(),i={left:t.left-r.left+e.offset[0],right:t.right-r.right+e.offset[0],top:t.top-r.top+e.offset[1],bottom:t.bottom-r.bottom+e.offset[1]};e._bounds=ed.bounds(i)}}cancel(){const e=this.state;e.canceled||(e.canceled=!0,e._active=!1,setTimeout(()=>{this.compute(),this.emit()},0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,super.clean()}pointerDown(e){const t=this.config,r=this.state;if(e.buttons!=null&&(Array.isArray(t.pointerButtons)?!t.pointerButtons.includes(e.buttons):t.pointerButtons!==-1&&t.pointerButtons!==e.buttons))return;const i=this.ctrl.setEventIds(e);t.pointerCapture&&e.target.setPointerCapture(e.pointerId),!(i&&i.size>1&&r._pointerActive)&&(this.start(e),this.setupPointer(e),r._pointerId=fx(e),r._pointerActive=!0,this.computeValues(D0(e)),this.computeInitial(),t.preventScrollAxis&&JR(e)!=="mouse"?(r._active=!1,this.setupScrollPrevention(e)):t.delay>0?(this.setupDelayTrigger(e),t.triggerAllEvents&&(this.compute(e),this.emit())):this.startPointerDrag(e))}startPointerDrag(e){const t=this.state;t._active=!0,t._preventScroll=!0,t._delayed=!1,this.compute(e),this.emit()}pointerMove(e){const t=this.state,r=this.config;if(!t._pointerActive)return;const i=fx(e);if(t._pointerId!==void 0&&i!==t._pointerId)return;const a=D0(e);if(document.pointerLockElement===e.target?t._delta=[e.movementX,e.movementY]:(t._delta=ai.sub(a,t._values),this.computeValues(a)),ai.addTo(t._movement,t._delta),this.compute(e),t._delayed&&t.intentional){this.timeoutStore.remove("dragDelay"),t.active=!1,this.startPointerDrag(e);return}if(r.preventScrollAxis&&!t._preventScroll)if(t.axis)if(t.axis===r.preventScrollAxis||r.preventScrollAxis==="xy"){t._active=!1,this.clean();return}else{this.timeoutStore.remove("startPointerDrag"),this.startPointerDrag(e);return}else return;this.emit()}pointerUp(e){this.ctrl.setEventIds(e);try{this.config.pointerCapture&&e.target.hasPointerCapture(e.pointerId)&&e.target.releasePointerCapture(e.pointerId)}catch{}const t=this.state,r=this.config;if(!t._active||!t._pointerActive)return;const i=fx(e);if(t._pointerId!==void 0&&i!==t._pointerId)return;this.state._pointerActive=!1,this.setActive(),this.compute(e);const[a,o]=t._distance;if(t.tap=a<=r.tapsThreshold&&o<=r.tapsThreshold,t.tap&&r.filterTaps)t._force=!0;else{const[c,u]=t._delta,[h,m]=t._movement,[g,_]=r.swipe.velocity,[v,b]=r.swipe.distance,w=r.swipe.duration;if(t.elapsedTime<w){const T=Math.abs(c/t.timeDelta),N=Math.abs(u/t.timeDelta);T>g&&Math.abs(h)>v&&(t.swipe[0]=Math.sign(c)),N>_&&Math.abs(m)>b&&(t.swipe[1]=Math.sign(u))}}this.emit()}pointerClick(e){!this.state.tap&&e.detail>0&&(e.preventDefault(),e.stopPropagation())}setupPointer(e){const t=this.config,r=t.device;t.pointerLock&&e.currentTarget.requestPointerLock(),t.pointerCapture||(this.eventStore.add(this.sharedConfig.window,r,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,r,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,r,"cancel",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(e){this.state._preventScroll&&e.cancelable&&e.preventDefault()}setupScrollPrevention(e){this.state._preventScroll=!1,A$(e);const t=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",t),this.eventStore.add(this.sharedConfig.window,"touch","cancel",t),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,e)}setupDelayTrigger(e){this.state._delayed=!0,this.timeoutStore.add("dragDelay",()=>{this.state._step=[0,0],this.startPointerDrag(e)},this.config.delay)}keyDown(e){const t=dN[e.key];if(t){const r=this.state,i=e.shiftKey?10:e.altKey?.1:1;this.start(e),r._delta=t(this.config.keyboardDisplacement,i),r._keyboardActive=!0,ai.addTo(r._movement,r._delta),this.compute(e),this.emit()}}keyUp(e){e.key in dN&&(this.state._keyboardActive=!1,this.setActive(),this.compute(e),this.emit())}bind(e){const t=this.config.device;e(t,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(e(t,"change",this.pointerMove.bind(this)),e(t,"end",this.pointerUp.bind(this)),e(t,"cancel",this.pointerUp.bind(this)),e("lostPointerCapture","",this.pointerUp.bind(this))),this.config.keys&&(e("key","down",this.keyDown.bind(this)),e("key","up",this.keyUp.bind(this))),this.config.filterTaps&&e("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}}function A$(n){"persist"in n&&typeof n.persist=="function"&&n.persist()}const rg=typeof window<"u"&&window.document&&window.document.createElement;function nk(){return rg&&"ontouchstart"in window}function N$(){return nk()||rg&&window.navigator.maxTouchPoints>1}function C$(){return rg&&"onpointerdown"in window}function I$(){return rg&&"exitPointerLock"in window.document}function R$(){try{return"constructor"in GestureEvent}catch{return!1}}const ml={isBrowser:rg,gesture:R$(),touch:nk(),touchscreen:N$(),pointer:C$(),pointerLock:I$()},k$=250,O$=180,D$=.5,L$=50,j$=250,M$=10,mN={mouse:0,touch:0,pen:8},P$=Ai(Ai({},ed),{},{device(n,e,{pointer:{touch:t=!1,lock:r=!1,mouse:i=!1}={}}){return this.pointerLock=r&&ml.pointerLock,ml.touch&&t?"touch":this.pointerLock?"mouse":ml.pointer&&!i?"pointer":ml.touch?"touch":"mouse"},preventScrollAxis(n,e,{preventScroll:t}){if(this.preventScrollDelay=typeof t=="number"?t:t||t===void 0&&n?k$:void 0,!(!ml.touchscreen||t===!1))return n||(t!==void 0?"y":void 0)},pointerCapture(n,e,{pointer:{capture:t=!0,buttons:r=1,keys:i=!0}={}}){return this.pointerButtons=r,this.keys=i,!this.pointerLock&&this.device==="pointer"&&t},threshold(n,e,{filterTaps:t=!1,tapsThreshold:r=3,axis:i=void 0}){const a=ai.toVector(n,t?r:i?1:0);return this.filterTaps=t,this.tapsThreshold=r,a},swipe({velocity:n=D$,distance:e=L$,duration:t=j$}={}){return{velocity:this.transform(ai.toVector(n)),distance:this.transform(ai.toVector(e)),duration:t}},delay(n=0){switch(n){case!0:return O$;case!1:return 0;default:return n}},axisThreshold(n){return n?Ai(Ai({},mN),n):mN},keyboardDisplacement(n=M$){return n}});function rk(n){const[e,t]=n.overflow,[r,i]=n._delta,[a,o]=n._direction;(e<0&&r>0&&a<0||e>0&&r<0&&a>0)&&(n._movement[0]=n._movementBound[0]),(t<0&&i>0&&o<0||t>0&&i<0&&o>0)&&(n._movement[1]=n._movementBound[1])}const F$=30,B$=100;class U$ extends ek{constructor(...e){super(...e),sa(this,"ingKey","pinching"),sa(this,"aliasKey","da")}init(){this.state.offset=[1,0],this.state.lastOffset=[1,0],this.state._pointerEvents=new Map}reset(){super.reset();const e=this.state;e._touchIds=[],e.canceled=!1,e.cancel=this.cancel.bind(this),e.turns=0}computeOffset(){const{type:e,movement:t,lastOffset:r}=this.state;e==="wheel"?this.state.offset=ai.add(t,r):this.state.offset=[(1+t[0])*r[0],t[1]+r[1]]}computeMovement(){const{offset:e,lastOffset:t}=this.state;this.state.movement=[e[0]/t[0],e[1]-t[1]]}axisIntent(){const e=this.state,[t,r]=e._movement;if(!e.axis){const i=Math.abs(t)*F$-Math.abs(r);i<0?e.axis="angle":i>0&&(e.axis="scale")}}restrictToAxis(e){this.config.lockDirection&&(this.state.axis==="scale"?e[1]=0:this.state.axis==="angle"&&(e[0]=0))}cancel(){const e=this.state;e.canceled||setTimeout(()=>{e.canceled=!0,e._active=!1,this.compute(),this.emit()},0)}touchStart(e){this.ctrl.setEventIds(e);const t=this.state,r=this.ctrl.touchIds;if(t._active&&t._touchIds.every(a=>r.has(a))||r.size<2)return;this.start(e),t._touchIds=Array.from(r).slice(0,2);const i=lN(e,t._touchIds);i&&this.pinchStart(e,i)}pointerStart(e){if(e.buttons!=null&&e.buttons%2!==1)return;this.ctrl.setEventIds(e),e.target.setPointerCapture(e.pointerId);const t=this.state,r=t._pointerEvents,i=this.ctrl.pointerIds;if(t._active&&Array.from(r.keys()).every(o=>i.has(o))||(r.size<2&&r.set(e.pointerId,e),t._pointerEvents.size<2))return;this.start(e);const a=v5(...Array.from(r.values()));a&&this.pinchStart(e,a)}pinchStart(e,t){const r=this.state;r.origin=t.origin,this.computeValues([t.distance,t.angle]),this.computeInitial(),this.compute(e),this.emit()}touchMove(e){if(!this.state._active)return;const t=lN(e,this.state._touchIds);t&&this.pinchMove(e,t)}pointerMove(e){const t=this.state._pointerEvents;if(t.has(e.pointerId)&&t.set(e.pointerId,e),!this.state._active)return;const r=v5(...Array.from(t.values()));r&&this.pinchMove(e,r)}pinchMove(e,t){const r=this.state,i=r._values[1],a=t.angle-i;let o=0;Math.abs(a)>270&&(o+=Math.sign(a)),this.computeValues([t.distance,t.angle-360*o]),r.origin=t.origin,r.turns=o,r._movement=[r._values[0]/r._initial[0]-1,r._values[1]-r._initial[1]],this.compute(e),this.emit()}touchEnd(e){this.ctrl.setEventIds(e),this.state._active&&this.state._touchIds.some(t=>!this.ctrl.touchIds.has(t))&&(this.state._active=!1,this.compute(e),this.emit())}pointerEnd(e){const t=this.state;this.ctrl.setEventIds(e);try{e.target.releasePointerCapture(e.pointerId)}catch{}t._pointerEvents.has(e.pointerId)&&t._pointerEvents.delete(e.pointerId),t._active&&t._pointerEvents.size<2&&(t._active=!1,this.compute(e),this.emit())}gestureStart(e){e.cancelable&&e.preventDefault();const t=this.state;t._active||(this.start(e),this.computeValues([e.scale,e.rotation]),t.origin=[e.clientX,e.clientY],this.compute(e),this.emit())}gestureMove(e){if(e.cancelable&&e.preventDefault(),!this.state._active)return;const t=this.state;this.computeValues([e.scale,e.rotation]),t.origin=[e.clientX,e.clientY];const r=t._movement;t._movement=[e.scale-1,e.rotation],t._delta=ai.sub(t._movement,r),this.compute(e),this.emit()}gestureEnd(e){this.state._active&&(this.state._active=!1,this.compute(e),this.emit())}wheel(e){const t=this.config.modifierKey;t&&(Array.isArray(t)?!t.find(r=>e[r]):!e[t])||(this.state._active?this.wheelChange(e):this.wheelStart(e),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this)))}wheelStart(e){this.start(e),this.wheelChange(e)}wheelChange(e){"uv"in e||e.cancelable&&e.preventDefault();const r=this.state;r._delta=[-ZR(e)[1]/B$*r.offset[0],0],ai.addTo(r._movement,r._delta),rk(r),this.state.origin=[e.clientX,e.clientY],this.compute(e),this.emit()}wheelEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(e){const t=this.config.device;t&&(e(t,"start",this[t+"Start"].bind(this)),e(t,"change",this[t+"Move"].bind(this)),e(t,"end",this[t+"End"].bind(this)),e(t,"cancel",this[t+"End"].bind(this)),e("lostPointerCapture","",this[t+"End"].bind(this))),this.config.pinchOnWheel&&e("wheel","",this.wheel.bind(this),{passive:!1})}}const V$=Ai(Ai({},tk),{},{device(n,e,{shared:t,pointer:{touch:r=!1}={}}){if(t.target&&!ml.touch&&ml.gesture)return"gesture";if(ml.touch&&r)return"touch";if(ml.touchscreen){if(ml.pointer)return"pointer";if(ml.touch)return"touch"}},bounds(n,e,{scaleBounds:t={},angleBounds:r={}}){const i=o=>{const c=hN(N2(t,o),{min:-1/0,max:1/0});return[c.min,c.max]},a=o=>{const c=hN(N2(r,o),{min:-1/0,max:1/0});return[c.min,c.max]};return typeof t!="function"&&typeof r!="function"?[i(),a()]:o=>[i(o),a(o)]},threshold(n,e,t){return this.lockDirection=t.axis==="lock",ai.toVector(n,this.lockDirection?[.1,3]:0)},modifierKey(n){return n===void 0?"ctrlKey":n},pinchOnWheel(n=!0){return n}});class z$ extends ng{constructor(...e){super(...e),sa(this,"ingKey","moving")}move(e){this.config.mouseOnly&&e.pointerType!=="mouse"||(this.state._active?this.moveChange(e):this.moveStart(e),this.timeoutStore.add("moveEnd",this.moveEnd.bind(this)))}moveStart(e){this.start(e),this.computeValues(D0(e)),this.compute(e),this.computeInitial(),this.emit()}moveChange(e){if(!this.state._active)return;const t=D0(e),r=this.state;r._delta=ai.sub(t,r._values),ai.addTo(r._movement,r._delta),this.computeValues(t),this.compute(e),this.emit()}moveEnd(e){this.state._active&&(this.state._active=!1,this.compute(e),this.emit())}bind(e){e("pointer","change",this.move.bind(this)),e("pointer","leave",this.moveEnd.bind(this))}}const q$=Ai(Ai({},ed),{},{mouseOnly:(n=!0)=>n});class H$ extends ng{constructor(...e){super(...e),sa(this,"ingKey","scrolling")}scroll(e){this.state._active||this.start(e),this.scrollChange(e),this.timeoutStore.add("scrollEnd",this.scrollEnd.bind(this))}scrollChange(e){e.cancelable&&e.preventDefault();const t=this.state,r=v$(e);t._delta=ai.sub(r,t._values),ai.addTo(t._movement,t._delta),this.computeValues(r),this.compute(e),this.emit()}scrollEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(e){e("scroll","",this.scroll.bind(this))}}const G$=ed;class W$ extends ng{constructor(...e){super(...e),sa(this,"ingKey","wheeling")}wheel(e){this.state._active||this.start(e),this.wheelChange(e),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this))}wheelChange(e){const t=this.state;t._delta=ZR(e),ai.addTo(t._movement,t._delta),rk(t),this.compute(e),this.emit()}wheelEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(e){e("wheel","",this.wheel.bind(this))}}const Y$=ed;class $$ extends ng{constructor(...e){super(...e),sa(this,"ingKey","hovering")}enter(e){this.config.mouseOnly&&e.pointerType!=="mouse"||(this.start(e),this.computeValues(D0(e)),this.compute(e),this.emit())}leave(e){if(this.config.mouseOnly&&e.pointerType!=="mouse")return;const t=this.state;if(!t._active)return;t._active=!1;const r=D0(e);t._movement=t._delta=ai.sub(r,t._values),this.computeValues(r),this.compute(e),t.delta=t.movement,this.emit()}bind(e){e("pointer","enter",this.enter.bind(this)),e("pointer","leave",this.leave.bind(this))}}const K$=Ai(Ai({},ed),{},{mouseOnly:(n=!0)=>n}),sb=new Map,_5=new Map;function X$(n){sb.set(n.key,n.engine),_5.set(n.key,n.resolver)}const J$={key:"drag",engine:T$,resolver:P$},Q$={key:"hover",engine:$$,resolver:K$},Z$={key:"move",engine:z$,resolver:q$},eK={key:"pinch",engine:U$,resolver:V$},tK={key:"scroll",engine:H$,resolver:G$},nK={key:"wheel",engine:W$,resolver:Y$};function rK(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function iK(n,e){if(n==null)return{};var t=rK(n,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}const aK={target(n){if(n)return()=>"current"in n?n.current:n},enabled(n=!0){return n},window(n=ml.isBrowser?window:void 0){return n},eventOptions({passive:n=!0,capture:e=!1}={}){return{passive:n,capture:e}},transform(n){return n}},sK=["target","eventOptions","window","enabled","transform"];function e2(n={},e){const t={};for(const[r,i]of Object.entries(e))switch(typeof i){case"function":t[r]=i.call(t,n[r],r,n);break;case"object":t[r]=e2(n[r],i);break;case"boolean":i&&(t[r]=n[r]);break}return t}function oK(n,e,t={}){const r=n,{target:i,eventOptions:a,window:o,enabled:c,transform:u}=r,h=iK(r,sK);if(t.shared=e2({target:i,eventOptions:a,window:o,enabled:c,transform:u},aK),e){const m=_5.get(e);t[e]=e2(Ai({shared:t.shared},h),m)}else for(const m in h){const g=_5.get(m);g&&(t[m]=e2(Ai({shared:t.shared},h[m]),g))}return t}class ik{constructor(e,t){sa(this,"_listeners",new Set),this._ctrl=e,this._gestureKey=t}add(e,t,r,i,a){const o=this._listeners,c=d$(t,r),u=this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{},h=Ai(Ai({},u),a);e.addEventListener(c,i,h);const m=()=>{e.removeEventListener(c,i,h),o.delete(m)};return o.add(m),m}clean(){this._listeners.forEach(e=>e()),this._listeners.clear()}}class lK{constructor(){sa(this,"_timeouts",new Map)}add(e,t,r=140,...i){this.remove(e),this._timeouts.set(e,window.setTimeout(t,r,...i))}remove(e){const t=this._timeouts.get(e);t&&window.clearTimeout(t)}clean(){this._timeouts.forEach(e=>void window.clearTimeout(e)),this._timeouts.clear()}}class cK{constructor(e){sa(this,"gestures",new Set),sa(this,"_targetEventStore",new ik(this)),sa(this,"gestureEventStores",{}),sa(this,"gestureTimeoutStores",{}),sa(this,"handlers",{}),sa(this,"config",{}),sa(this,"pointerIds",new Set),sa(this,"touchIds",new Set),sa(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),uK(this,e)}setEventIds(e){if(Av(e))return this.touchIds=new Set(g$(e)),this.touchIds;if("pointerId"in e)return e.type==="pointerup"||e.type==="pointercancel"?this.pointerIds.delete(e.pointerId):e.type==="pointerdown"&&this.pointerIds.add(e.pointerId),this.pointerIds}applyHandlers(e,t){this.handlers=e,this.nativeHandlers=t}applyConfig(e,t){this.config=oK(e,t,this.config)}clean(){this._targetEventStore.clean();for(const e of this.gestures)this.gestureEventStores[e].clean(),this.gestureTimeoutStores[e].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(...e){const t=this.config.shared,r={};let i;if(!(t.target&&(i=t.target(),!i))){if(t.enabled){for(const o of this.gestures){const c=this.config[o],u=pN(r,c.eventOptions,!!i);if(c.enabled){const h=sb.get(o);new h(this,e,o).bind(u)}}const a=pN(r,t.eventOptions,!!i);for(const o in this.nativeHandlers)a(o,"",c=>this.nativeHandlers[o](Ai(Ai({},this.state.shared),{},{event:c,args:e})),void 0,!0)}for(const a in r)r[a]=x$(...r[a]);if(!i)return r;for(const a in r){const{device:o,capture:c,passive:u}=f$(a);this._targetEventStore.add(i,o,"",r[a],{capture:c,passive:u})}}}}function Hd(n,e){n.gestures.add(e),n.gestureEventStores[e]=new ik(n,e),n.gestureTimeoutStores[e]=new lK}function uK(n,e){e.drag&&Hd(n,"drag"),e.wheel&&Hd(n,"wheel"),e.scroll&&Hd(n,"scroll"),e.move&&Hd(n,"move"),e.pinch&&Hd(n,"pinch"),e.hover&&Hd(n,"hover")}const pN=(n,e,t)=>(r,i,a,o={},c=!1)=>{var u,h;const m=(u=o.capture)!==null&&u!==void 0?u:e.capture,g=(h=o.passive)!==null&&h!==void 0?h:e.passive;let _=c?r:u$(r,i,m);t&&g&&(_+="Passive"),n[_]=n[_]||[],n[_].push(a)},hK=/^on(Drag|Wheel|Scroll|Move|Pinch|Hover)/;function fK(n){const e={},t={},r=new Set;for(let i in n)hK.test(i)?(r.add(RegExp.lastMatch),t[i]=n[i]):e[i]=n[i];return[t,e,r]}function Gd(n,e,t,r,i,a){if(!n.has(t)||!sb.has(r))return;const o=t+"Start",c=t+"End",u=h=>{let m;return h.first&&o in e&&e[o](h),t in e&&(m=e[t](h)),h.last&&c in e&&e[c](h),m};i[r]=u,a[r]=a[r]||{}}function dK(n,e){const[t,r,i]=fK(n),a={};return Gd(i,t,"onDrag","drag",a,e),Gd(i,t,"onWheel","wheel",a,e),Gd(i,t,"onScroll","scroll",a,e),Gd(i,t,"onPinch","pinch",a,e),Gd(i,t,"onMove","move",a,e),Gd(i,t,"onHover","hover",a,e),{handlers:a,config:e,nativeHandlers:r}}function mK(n,e={},t,r){const i=Th.useMemo(()=>new cK(n),[]);if(i.applyHandlers(n,r),i.applyConfig(e,t),Th.useEffect(i.effect.bind(i)),Th.useEffect(()=>i.clean.bind(i),[]),e.target===void 0)return i.bind.bind(i)}function pK(n){return n.forEach(X$),function(t,r){const{handlers:i,nativeHandlers:a,config:o}=dK(t,r||{});return mK(i,o,void 0,a)}}function gK(n,e){return pK([J$,eK,tK,nK,Z$,Q$])(n,e||{})}const vK=[],E1={maxVerticalRotationDeg:5,dragSensitivity:20,enlargeTransitionMs:300,segments:35},_h=(n,e,t)=>Math.min(Math.max(n,e),t),gN=n=>(n%360+360)%360,S1=n=>((n+180)%360+360)%360-180,T1=(n,e,t)=>{const r=n.dataset[e]??n.getAttribute(`data-${e}`),i=r==null?NaN:parseFloat(r);return Number.isFinite(i)?i:t};function _K(n,e){const t=Array.from({length:e},(h,m)=>-37+m*2),r=[-4,-2,0,2,4],i=[-3,-1,1,3,5],a=t.flatMap((h,m)=>(m%2===0?r:i).map(_=>({x:h,y:_,sizeX:2,sizeY:2}))),o=a.length;if(n.length===0)return a.map(h=>({...h,src:"",alt:"",name:"",role:"",bio:"",team:"",academics:void 0,socialLinks:void 0,dateOfBirth:void 0}));n.length>o&&console.warn(`[DomeGallery] Provided image count (${n.length}) exceeds available tiles (${o}). Some images will not be shown.`);const c=n.map(h=>typeof h=="string"?{src:h,alt:"",name:"",role:"",bio:"",team:"",academics:void 0,socialLinks:void 0,dateOfBirth:void 0}:{src:h.src||"",alt:h.alt||"",name:h.name||"",role:h.role||"",bio:h.bio||"",team:h.team||"",academics:h.academics,socialLinks:h.socialLinks,dateOfBirth:h.dateOfBirth}),u=Array.from({length:o},(h,m)=>c[m%c.length]);for(let h=1;h<u.length;h++)if(u[h].src===u[h-1].src){for(let m=h+1;m<u.length;m++)if(u[m].src!==u[h].src){const g=u[h];u[h]=u[m],u[m]=g;break}}return a.map((h,m)=>({...h,src:u[m].src,alt:u[m].alt,name:u[m].name,role:u[m].role,bio:u[m].bio,team:u[m].team,academics:u[m].academics,socialLinks:u[m].socialLinks,dateOfBirth:u[m].dateOfBirth}))}function vN(n,e,t,r,i){const a=360/i/2,o=a*(n+(t-1)/2);return{rotateX:a*(e-(r-1)/2),rotateY:o}}function yK({images:n=vK,fit:e=.5,fitBasis:t="auto",minRadius:r=600,maxRadius:i=1/0,padFactor:a=.25,overlayBlurColor:o="#060010",maxVerticalRotationDeg:c=E1.maxVerticalRotationDeg,dragSensitivity:u=E1.dragSensitivity,enlargeTransitionMs:h=E1.enlargeTransitionMs,segments:m=E1.segments,dragDampening:g=2,openedImageWidth:_="400px",openedImageHeight:v="400px",imageBorderRadius:b="30px",openedImageBorderRadius:w="30px",grayscale:T=!0,autoRotate:N=!1,autoRotateSpeed:P=.15,searchQuery:R="",teamFilter:j="",onExplore:K}){const U=Q.useRef(null),C=Q.useRef(null),k=Q.useRef(null),I=Q.useRef(null),z=Q.useRef(null),O=Q.useRef(null),M=Q.useRef(null),B=Q.useRef(null),Y=Q.useRef({x:0,y:0}),we=Q.useRef({x:0,y:0}),fe=Q.useRef(null),le=Q.useRef(!1),pe=Q.useRef(!1),Ie=Q.useRef(null),Ae=Q.useRef(!1),re=Q.useRef(0),L=Q.useRef(0),G=Q.useRef(!1),q=Q.useCallback(()=>{G.current||(G.current=!0,document.body.classList.add("dg-scroll-lock"))},[]),J=Q.useCallback(()=>{G.current&&U.current?.getAttribute("data-enlarging")!=="true"&&(G.current=!1,document.body.classList.remove("dg-scroll-lock"))},[]),ae=Q.useMemo(()=>{if(!j)return n;const Ke=["President","Chairman","Secretary","Treasurer","Co-Treasurer"];return n.filter(ht=>typeof ht=="string"?!1:Ke.includes(j)?ht.role===j:ht.team===j)},[n,j]),ge=Q.useMemo(()=>_K(ae.length>0?ae:n,m),[ae,n,m]),Te=Q.useMemo(()=>R?ge.filter(Ke=>Ke.name&&Ke.name.toLowerCase().includes(R)):[],[ge,R]),Ce=Q.useMemo(()=>{const Ke=new Set(Te.map(ht=>ht.name));return Array.from(Ke)},[Te]).length===1?Te[0]:null,et=Te.length>0,ot=(Ke,ht)=>{const Dt=k.current;Dt&&(Dt.style.transform=`translateZ(calc(var(--radius) * -1)) rotateX(${Ke}deg) rotateY(${ht}deg)`)},tt=Q.useRef(null);Q.useEffect(()=>{const Ke=U.current;if(!Ke)return;const ht=new ResizeObserver(Dt=>{const kt=Dt[0].contentRect,qt=Math.max(1,kt.width),Vt=Math.max(1,kt.height),Gt=Math.min(qt,Vt),Ht=Math.max(qt,Vt),Mt=qt/Vt;let Wt;switch(t){case"min":Wt=Gt;break;case"max":Wt=Ht;break;case"width":Wt=qt;break;case"height":Wt=Vt;break;default:Wt=Mt>=1.3?qt:Gt}let Lt=Wt*e;const yn=Vt*1.35;Lt=Math.min(Lt,yn),Lt=_h(Lt,r,i),tt.current=Math.round(Lt);const zt=Math.max(8,Math.round(Gt*a));Ke.style.setProperty("--radius",`${tt.current}px`),Ke.style.setProperty("--viewer-pad",`${zt}px`),Ke.style.setProperty("--overlay-blur-color",o),Ke.style.setProperty("--tile-radius",b),Ke.style.setProperty("--enlarge-radius",w),Ke.style.setProperty("--image-filter",T?"grayscale(1)":"none"),ot(Y.current.x,Y.current.y);const Ft=z.current?.querySelector(".enlarge");if(Ft&&I.current&&C.current){const Rt=I.current.getBoundingClientRect(),xt=C.current.getBoundingClientRect();if(_&&v){const En=document.createElement("div");En.style.cssText=`position: absolute; width: ${_}; height: ${v}; visibility: hidden;`,document.body.appendChild(En);const We=En.getBoundingClientRect();document.body.removeChild(En);const wt=Rt.left-xt.left+(Rt.width-We.width)/2,nn=Rt.top-xt.top+(Rt.height-We.height)/2;Ft.style.left=`${wt}px`,Ft.style.top=`${nn}px`}else Ft.style.left=`${Rt.left-xt.left}px`,Ft.style.top=`${Rt.top-xt.top}px`,Ft.style.width=`${Rt.width}px`,Ft.style.height=`${Rt.height}px`}});return ht.observe(Ke),()=>ht.disconnect()},[e,t,r,i,a,o,T,b,w,_,v]),Q.useEffect(()=>{ot(Y.current.x,Y.current.y)},[]);const it=Q.useRef(null),Z=Q.useRef(!1);Q.useEffect(()=>{if(!N){it.current&&(cancelAnimationFrame(it.current),it.current=null);return}if(Ce&&!M.current){if(it.current&&(cancelAnimationFrame(it.current),it.current=null),!Z.current){Z.current=!0;const{rotateY:ht}=vN(Ce.x,Ce.y,Ce.sizeX,Ce.sizeY,m),Dt=-ht;Y.current.y;const kt=()=>{let Vt=Dt-Y.current.y;if(Vt>180&&(Vt-=360),Vt<-180&&(Vt+=360),Math.abs(Vt)<.1){Y.current={x:Y.current.x,y:Dt},ot(Y.current.x,Dt),Z.current=!1;return}const Gt=Vt*.08,Ht=S1(Y.current.y+Gt);Y.current={x:Y.current.x,y:Ht},ot(Y.current.x,Ht),it.current=requestAnimationFrame(kt)};it.current=requestAnimationFrame(kt)}return}Z.current=!1;const Ke=()=>{if(le.current||M.current||Ce){it.current=requestAnimationFrame(Ke);return}const ht=S1(Y.current.y-P);Y.current={x:Y.current.x,y:ht},ot(Y.current.x,ht),it.current=requestAnimationFrame(Ke)};return it.current=requestAnimationFrame(Ke),()=>{it.current&&(cancelAnimationFrame(it.current),it.current=null)}},[N,P,Ce,m]);const Fe=Q.useCallback(()=>{Ie.current&&(cancelAnimationFrame(Ie.current),Ie.current=null)},[]),nt=Q.useCallback((Ke,ht)=>{let kt=_h(Ke,-1.4,1.4)*80,qt=_h(ht,-1.4,1.4)*80,Vt=0;const Gt=_h(g??.6,0,1),Ht=.94+.055*Gt,Mt=.015-.01*Gt,Wt=Math.round(90+270*Gt),Lt=()=>{if(kt*=Ht,qt*=Ht,Math.abs(kt)<Mt&&Math.abs(qt)<Mt){Ie.current=null;return}if(++Vt>Wt){Ie.current=null;return}const yn=_h(Y.current.x-qt/200,-c,c),zt=S1(Y.current.y+kt/200);Y.current={x:yn,y:zt},ot(yn,zt),Ie.current=requestAnimationFrame(Lt)};Fe(),Ie.current=requestAnimationFrame(Lt)},[g,c,Fe]);gK({onDragStart:({event:Ke})=>{if(M.current)return;Fe();const ht=Ke;le.current=!0,pe.current=!1,we.current={...Y.current},fe.current={x:ht.clientX,y:ht.clientY}},onDrag:({event:Ke,last:ht,velocity:Dt=[0,0],direction:kt=[0,0],movement:qt})=>{if(M.current||!le.current||!fe.current)return;const Vt=Ke,Gt=Vt.clientX-fe.current.x,Ht=Vt.clientY-fe.current.y;pe.current||Gt*Gt+Ht*Ht>16&&(pe.current=!0);const Mt=_h(we.current.x-Ht/u,-c,c),Wt=S1(we.current.y+Gt/u);if((Y.current.x!==Mt||Y.current.y!==Wt)&&(Y.current={x:Mt,y:Wt},ot(Mt,Wt)),ht){le.current=!1;let[Lt,yn]=Dt;const[zt,Ft]=kt;let Rt=Lt*zt,xt=yn*Ft;if(Math.abs(Rt)<.001&&Math.abs(xt)<.001&&Array.isArray(qt)){const[Kt,En]=qt;Rt=_h(Kt/u*.02,-1.2,1.2),xt=_h(En/u*.02,-1.2,1.2)}(Math.abs(Rt)>.005||Math.abs(xt)>.005)&&nt(Rt,xt),pe.current&&(L.current=performance.now()),pe.current=!1}}},{target:C,eventOptions:{passive:!0}});const It=Q.useCallback(Ke=>{if(Ae.current)return;Ae.current=!0,re.current=performance.now(),q();const ht=Ke.parentElement;M.current=Ke,Ke.setAttribute("data-focused","true");const Dt=T1(ht,"offsetX",0),kt=T1(ht,"offsetY",0),qt=T1(ht,"sizeX",2),Vt=T1(ht,"sizeY",2),Gt=vN(Dt,kt,qt,Vt,m),Ht=gN(Gt.rotateY),Mt=gN(Y.current.y);let Wt=-(Ht+Mt)%360;Wt<-180&&(Wt+=360);const Lt=-Gt.rotateX-Y.current.x;ht.style.setProperty("--rot-y-delta",`${Wt}deg`),ht.style.setProperty("--rot-x-delta",`${Lt}deg`);const yn=document.createElement("div");yn.className="item__image item__image--reference",yn.style.opacity="0",yn.style.transform=`rotateX(${-Gt.rotateX}deg) rotateY(${-Gt.rotateY}deg)`,ht.appendChild(yn),yn.offsetHeight;const zt=yn.getBoundingClientRect(),Ft=C.current?.getBoundingClientRect(),Rt=I.current?.getBoundingClientRect();if(!Ft||!Rt||zt.width<=0||zt.height<=0){Ae.current=!1,M.current=null,ht.removeChild(yn),J();return}B.current={left:zt.left,top:zt.top,width:zt.width,height:zt.height},Ke.style.visibility="hidden",Ke.style.zIndex=0;const xt=document.createElement("div");xt.className="enlarge",xt.style.position="absolute",xt.style.left=Rt.left-Ft.left+"px",xt.style.top=Rt.top-Ft.top+"px",xt.style.width=Rt.width+"px",xt.style.height=Rt.height+"px",xt.style.opacity="0",xt.style.zIndex="30",xt.style.willChange="transform, opacity",xt.style.transformOrigin="top left",xt.style.transition=`transform ${h}ms ease, opacity ${h}ms ease`;const Kt=ht.dataset.src||Ke.querySelector("img")?.src||"",En=ht.dataset.name||"",We=ht.dataset.role||"",wt=ht.dataset.team||"",nn=ht.dataset.dateOfBirth||"";let Bt={},Nt={};try{ht.dataset.academics&&(Bt=JSON.parse(ht.dataset.academics))}catch{}try{ht.dataset.socialLinks&&(Nt=JSON.parse(ht.dataset.socialLinks))}catch{}const xn=document.createElement("img");xn.src=Kt,xn.className="enlarge__img",xt.appendChild(xn);const Kr=document.createElement("div");Kr.className="enlarge__info";const Ur=document.createElement("div");Ur.className="enlarge__info-content";const Ji=document.createElement("div");Ji.className="enlarge__name",Ji.textContent=En;const Vr=document.createElement("div");if(Vr.className="enlarge__role",Vr.textContent=We,Ur.appendChild(Ji),Ur.appendChild(Vr),Kr.appendChild(Ur),En){const ne=document.createElement("button");ne.className="enlarge__explore-btn",ne.textContent="Explore",ne.onclick=_e=>{_e.stopPropagation(),xt.classList.add("enlarge--expanded"),ne.style.display="none";const ue=document.createElement("div");ue.className="enlarge__expanded";const de=document.createElement("div");de.className="enlarge__expanded-left";const ve=document.createElement("img");ve.src=Kt,ve.className="enlarge__expanded-img",de.appendChild(ve);const ye=document.createElement("div");ye.className="enlarge__expanded-info";const Be=document.createElement("div");Be.className="enlarge__expanded-name",Be.textContent=En;const Ze=document.createElement("div");Ze.className="enlarge__expanded-role",Ze.textContent=We,ye.appendChild(Be),ye.appendChild(Ze),de.appendChild(ye);const Me=document.createElement("div");Me.className="enlarge__expanded-right";const ze=document.createElement("div");if(ze.className="enlarge__details-section",wt){const mt=document.createElement("div");mt.className="enlarge__detail-row",mt.innerHTML=`<span class="enlarge__detail-label">Team</span><span class="enlarge__detail-value">${wt}</span>`,ze.appendChild(mt)}if(nn){const mt=document.createElement("div");mt.className="enlarge__detail-row",mt.innerHTML=`<span class="enlarge__detail-label">Date of Birth</span><span class="enlarge__detail-value">${nn}</span>`,ze.appendChild(mt)}if(Me.appendChild(ze),Bt.year||Bt.branch||Bt.division||Bt.yearOfGraduation){const mt=document.createElement("div");mt.className="enlarge__expanded-title",mt.textContent="Academic Details",Me.appendChild(mt);const Et=document.createElement("div");if(Et.className="enlarge__academics-grid",Bt.year){const je=document.createElement("div");je.className="enlarge__academic-item",je.innerHTML=`<span class="enlarge__academic-label">Year</span><span class="enlarge__academic-value">${Bt.year}</span>`,Et.appendChild(je)}if(Bt.branch){const je=document.createElement("div");je.className="enlarge__academic-item",je.innerHTML=`<span class="enlarge__academic-label">Branch</span><span class="enlarge__academic-value">${Bt.branch}</span>`,Et.appendChild(je)}if(Bt.division){const je=document.createElement("div");je.className="enlarge__academic-item",je.innerHTML=`<span class="enlarge__academic-label">Division</span><span class="enlarge__academic-value">${Bt.division}</span>`,Et.appendChild(je)}if(Bt.yearOfGraduation){const je=document.createElement("div");je.className="enlarge__academic-item",je.innerHTML=`<span class="enlarge__academic-label">Graduation</span><span class="enlarge__academic-value">${Bt.yearOfGraduation}</span>`,Et.appendChild(je)}Me.appendChild(Et)}if(Nt.instagram||Nt.linkedin||Nt.github||Nt.twitter||Nt.facebook||Nt.snapchat||Nt.whatsapp||Nt.contactNumber){const mt=document.createElement("div");mt.className="enlarge__expanded-title",mt.textContent="Connect",Me.appendChild(mt);const Et=document.createElement("div");if(Et.className="enlarge__social-links",Nt.instagram){const je=document.createElement("a");je.href=Nt.instagram,je.target="_blank",je.rel="noopener noreferrer",je.className="enlarge__social-link enlarge__social-link--instagram",je.innerHTML='<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="2" y="2" width="20" height="20" rx="5" ry="5"/><path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"/><line x1="17.5" y1="6.5" x2="17.51" y2="6.5"/></svg>',je.onclick=Tt=>Tt.stopPropagation(),Et.appendChild(je)}if(Nt.linkedin){const je=document.createElement("a");je.href=Nt.linkedin,je.target="_blank",je.rel="noopener noreferrer",je.className="enlarge__social-link enlarge__social-link--linkedin",je.innerHTML='<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"/><rect x="2" y="9" width="4" height="12"/><circle cx="4" cy="4" r="2"/></svg>',je.onclick=Tt=>Tt.stopPropagation(),Et.appendChild(je)}if(Nt.github){const je=document.createElement("a");je.href=Nt.github,je.target="_blank",je.rel="noopener noreferrer",je.className="enlarge__social-link enlarge__social-link--github",je.innerHTML='<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"/></svg>',je.onclick=Tt=>Tt.stopPropagation(),Et.appendChild(je)}if(Nt.twitter){const je=document.createElement("a");je.href=Nt.twitter,je.target="_blank",je.rel="noopener noreferrer",je.className="enlarge__social-link enlarge__social-link--x",je.innerHTML='<svg viewBox="0 0 24 24" fill="currentColor"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg>',je.onclick=Tt=>Tt.stopPropagation(),Et.appendChild(je)}if(Nt.facebook){const je=document.createElement("a");je.href=Nt.facebook,je.target="_blank",je.rel="noopener noreferrer",je.className="enlarge__social-link enlarge__social-link--facebook",je.innerHTML='<svg viewBox="0 0 24 24" fill="currentColor"><path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385h-3.047v-3.47h3.047v-2.642c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953h-1.514c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385c5.737-.9 10.125-5.864 10.125-11.854z"/></svg>',je.onclick=Tt=>Tt.stopPropagation(),Et.appendChild(je)}if(Nt.snapchat){const je=document.createElement("a");je.href=Nt.snapchat.startsWith("http")?Nt.snapchat:`https://www.snapchat.com/add/${Nt.snapchat}`,je.target="_blank",je.rel="noopener noreferrer",je.className="enlarge__social-link enlarge__social-link--snapchat",je.innerHTML='<svg viewBox="0 0 24 24" fill="currentColor"><path d="M12.017 0C5.396 0 .029 5.367.029 11.987c0 5.079 3.158 9.417 7.618 11.162-.105-.949-.199-2.403.041-3.439.219-.937 1.406-5.957 1.406-5.957s-.359-.72-.359-1.781c0-1.663.967-2.911 2.168-2.911 1.024 0 1.518.769 1.518 1.688 0 1.029-.653 2.567-.992 3.992-.285 1.193.6 2.165 1.775 2.165 2.128 0 3.768-2.245 3.768-5.487 0-2.861-2.063-4.869-5.008-4.869-3.41 0-5.409 2.562-5.409 5.199 0 1.033.394 2.143.889 2.741.099.12.112.225.085.345-.09.375-.293 1.199-.334 1.363-.053.225-.172.271-.401.165-1.495-.69-2.433-2.878-2.433-4.646 0-3.776 2.748-7.252 7.92-7.252 4.158 0 7.392 2.967 7.392 6.923 0 4.135-2.607 7.462-6.233 7.462-1.214 0-2.354-.629-2.758-1.379l-.749 2.848c-.269 1.045-1.004 2.352-1.498 3.146 1.123.345 2.306.535 3.55.535 6.607 0 11.985-5.365 11.985-11.987C23.97 5.39 18.592.026 11.985.026L12.017 0z"/></svg>',je.onclick=Tt=>Tt.stopPropagation(),Et.appendChild(je)}if(Nt.whatsapp){const je=document.createElement("a"),Tt=Nt.whatsapp.replace(/[^\d]/g,"");je.href=`https://wa.me/${Tt}`,je.target="_blank",je.rel="noopener noreferrer",je.className="enlarge__social-link enlarge__social-link--whatsapp",je.innerHTML='<svg viewBox="0 0 24 24" fill="currentColor"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"/></svg>',je.onclick=Xt=>Xt.stopPropagation(),Et.appendChild(je)}if(Nt.contactNumber){const je=document.createElement("a");je.href=`tel:${Nt.contactNumber}`,je.className="enlarge__social-link enlarge__social-link--phone",je.innerHTML='<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"/></svg>',je.onclick=Tt=>Tt.stopPropagation(),Et.appendChild(je)}Me.appendChild(Et)}if(K){const mt=document.createElement("button");mt.className="enlarge__profile-btn",mt.textContent="View Full Profile",mt.onclick=Et=>{Et.stopPropagation(),K({name:En,role:We,src:Kt,bio:""})},Me.appendChild(mt)}ue.appendChild(de),ue.appendChild(Me),xt.appendChild(ue)},Kr.appendChild(ne)}xt.appendChild(Kr),z.current.appendChild(xt);const ln=zt.left-Rt.left,Wa=zt.top-Rt.top,_i=zt.width/Rt.width,Xr=zt.height/Rt.height,Ci=isFinite(_i)&&_i>0?_i:1,tr=isFinite(Xr)&&Xr>0?Xr:1;if(xt.style.transform=`translate(${ln}px, ${Wa}px) scale(${Ci}, ${tr})`,setTimeout(()=>{xt.parentElement&&(xt.style.opacity="1",xt.style.transform="translate(0px, 0px) scale(1, 1)",U.current?.setAttribute("data-enlarging","true"))},16),_||v){const ne=_e=>{if(_e.propertyName!=="transform")return;xt.removeEventListener("transitionend",ne);const ue=xt.style.transition;xt.style.transition="none";const de=_||`${Rt.width}px`,ve=v||`${Rt.height}px`;xt.style.width=de,xt.style.height=ve;const ye=xt.getBoundingClientRect();xt.style.width=Rt.width+"px",xt.style.height=Rt.height+"px",xt.offsetWidth,xt.style.transition=`left ${h}ms ease, top ${h}ms ease, width ${h}ms ease, height ${h}ms ease`;const Be=Rt.left-Ft.left+(Rt.width-ye.width)/2,Ze=Rt.top-Ft.top+(Rt.height-ye.height)/2;requestAnimationFrame(()=>{xt.style.left=`${Be}px`,xt.style.top=`${Ze}px`,xt.style.width=de,xt.style.height=ve});const Me=()=>{xt.removeEventListener("transitionend",Me),xt.style.transition=ue};xt.addEventListener("transitionend",Me,{once:!0})};xt.addEventListener("transitionend",ne)}},[m,h,_,v,q,J]),Qe=Q.useCallback(Ke=>{le.current||pe.current||performance.now()-L.current<80||Ae.current||It(Ke.currentTarget)},[It]),At=Q.useCallback(Ke=>{Ke.pointerType==="touch"&&(le.current||pe.current||performance.now()-L.current<80||Ae.current||It(Ke.currentTarget))},[It]);return Q.useEffect(()=>{const Ke=O.current;if(!Ke)return;const ht=()=>{if(performance.now()-re.current<250)return;const kt=M.current;if(!kt)return;const qt=kt.parentElement,Vt=z.current?.querySelector(".enlarge");if(!Vt)return;const Gt=qt.querySelector(".item__image--reference"),Ht=B.current;if(!Ht){Vt.remove(),Gt&&Gt.remove(),qt.style.setProperty("--rot-y-delta","0deg"),qt.style.setProperty("--rot-x-delta","0deg"),kt.style.visibility="",kt.style.zIndex=0,M.current=null,U.current?.removeAttribute("data-enlarging"),Ae.current=!1,J();return}const Mt=Vt.getBoundingClientRect(),Wt=U.current.getBoundingClientRect(),Lt={left:Ht.left-Wt.left,top:Ht.top-Wt.top,width:Ht.width,height:Ht.height},yn={left:Mt.left-Wt.left,top:Mt.top-Wt.top,width:Mt.width,height:Mt.height},zt=document.createElement("div");zt.className="enlarge-closing",zt.style.cssText=`
        position: absolute;
        left: ${yn.left}px;
        top: ${yn.top}px;
        width: ${yn.width}px;
        height: ${yn.height}px;
        z-index: 9999;
        border-radius: var(--enlarge-radius, 32px);
        overflow: hidden;
        box-shadow: 0 10px 30px rgba(0,0,0,.35);
        transition: all ${h}ms ease-out;
        pointer-events: none;
        margin: 0;
        transform: none;
      `;const Ft=Vt.querySelector("img");if(Ft){const xt=Ft.cloneNode();xt.style.cssText="width: 100%; height: 100%; object-fit: cover;",zt.appendChild(xt)}Vt.remove(),U.current.appendChild(zt),zt.getBoundingClientRect(),requestAnimationFrame(()=>{zt.style.left=Lt.left+"px",zt.style.top=Lt.top+"px",zt.style.width=Lt.width+"px",zt.style.height=Lt.height+"px",zt.style.opacity="0"});const Rt=()=>{zt.remove(),B.current=null,Gt&&Gt.remove(),qt.style.transition="none",kt.style.transition="none",qt.style.setProperty("--rot-y-delta","0deg"),qt.style.setProperty("--rot-x-delta","0deg"),requestAnimationFrame(()=>{kt.style.visibility="",kt.style.opacity="0",kt.style.zIndex=0,M.current=null,U.current?.removeAttribute("data-enlarging"),requestAnimationFrame(()=>{qt.style.transition="",kt.style.transition="opacity 300ms ease-out",requestAnimationFrame(()=>{kt.style.opacity="1",setTimeout(()=>{kt.style.transition="",kt.style.opacity="",Ae.current=!1,!le.current&&U.current?.getAttribute("data-enlarging")!=="true"&&document.body.classList.remove("dg-scroll-lock")},300)})})})};zt.addEventListener("transitionend",Rt,{once:!0})};Ke.addEventListener("click",ht);const Dt=kt=>{kt.key==="Escape"&&ht()};return window.addEventListener("keydown",Dt),()=>{Ke.removeEventListener("click",ht),window.removeEventListener("keydown",Dt)}},[h,J]),Q.useEffect(()=>()=>{document.body.classList.remove("dg-scroll-lock")},[]),f.jsx("div",{ref:U,className:"sphere-root",style:{"--segments-x":m,"--segments-y":m,"--overlay-blur-color":o,"--tile-radius":b,"--enlarge-radius":w,"--image-filter":T?"grayscale(1)":"none"},children:f.jsxs("main",{ref:C,className:"sphere-main",children:[f.jsx("div",{className:"stage",children:f.jsx("div",{ref:k,className:"sphere",children:ge.map((Ke,ht)=>f.jsx("div",{className:"item","data-src":Ke.src,"data-name":Ke.name,"data-role":Ke.role,"data-bio":Ke.bio,"data-team":Ke.team,"data-academics":Ke.academics?JSON.stringify(Ke.academics):"","data-social-links":Ke.socialLinks?JSON.stringify(Ke.socialLinks):"","data-date-of-birth":Ke.dateOfBirth||"","data-offset-x":Ke.x,"data-offset-y":Ke.y,"data-size-x":Ke.sizeX,"data-size-y":Ke.sizeY,style:{"--offset-x":Ke.x,"--offset-y":Ke.y,"--item-size-x":Ke.sizeX,"--item-size-y":Ke.sizeY},children:f.jsx("div",{className:`item__image${et&&Te.some(Dt=>Dt.name===Ke.name&&Dt.src===Ke.src)?" item__image--glow":""}`,role:"button",tabIndex:0,"aria-label":Ke.alt||"Open image",onClick:Qe,onPointerUp:At,children:f.jsx("img",{src:Ke.src,draggable:!1,alt:Ke.alt})})},`${Ke.x},${Ke.y},${ht}`))})}),f.jsx("div",{className:"overlay"}),f.jsx("div",{className:"overlay overlay--blur"}),f.jsx("div",{className:"edge-fade edge-fade--top"}),f.jsx("div",{className:"edge-fade edge-fade--bottom"}),f.jsxs("div",{className:"viewer",ref:z,children:[f.jsx("div",{ref:O,className:"scrim"}),f.jsx("div",{ref:I,className:"frame"})]})]})})}const xK=n=>({leadership:"Leadership",technical:"Technical Team",public_outreach:"Public Outreach Team",documentation:"Documentation Team",social_media_editing:"Social Media & Editing Team",design_innovation:"Design & Innovation Team",management_operations:"Management & Operations Team"})[n?.toLowerCase()]||n||"",wK=n=>({president:"President",chairman:"Chairman",secretary:"Secretary",treasurer:"Treasurer",co_treasurer:"Co-Treasurer",team_leader:"Team Leader",member:"Member"})[n?.toLowerCase()]||n||"";function bK(){const[n,e]=Q.useState([]),[t,r]=Q.useState(!0),[i,a]=Q.useState(null);return Q.useEffect(()=>{(async()=>{try{r(!0);const u=(await WI()).map(h=>({id:h.uid,firstName:h.firstName,lastName:h.lastName,dateOfBirth:h.dateOfBirth||"",team:xK(h.team),position:wK(h.position),academics:{year:h.publicProfile?.academicYear||"",branch:h.publicProfile?.major||"",division:h.publicProfile?.division||"",yearOfGraduation:h.publicProfile?.graduationYear||""},socialLinks:h.publicProfile?.socialLinks||{},image:h.publicProfile?.displayImage||""}));e(u)}catch(c){console.error("Error fetching member data:",c),a(c),e([])}finally{r(!1)}})()},[]),{members:n,isLoading:t,error:i}}function EK({members:n,searchQuery:e="",teamFilter:t="",maxItems:r,showExploreMore:i=!1}){const[a,o]=Q.useState(null),[c,u]=Q.useState(!1),h=Q.useRef(null),m=Q.useMemo(()=>{let P=n.filter(R=>R.firstName&&R.lastName);if(e){const R=e.toLowerCase();P=P.filter(j=>`${j.firstName} ${j.lastName}`.toLowerCase().includes(R)||j.position?.toLowerCase().includes(R)||j.team?.toLowerCase().includes(R))}return t&&(["President","Chairman","Secretary","Treasurer","Co-Treasurer"].includes(t)?P=P.filter(j=>j.position===t):P=P.filter(j=>j.team===t)),r&&(P=P.slice(0,r)),P},[n,e,t,r]),g=P=>P||"",_=P=>{o(P),u(!1)},v=()=>{o(null),u(!1)},b=()=>{u(!c)},w=P=>{const R=P.academics&&(P.academics.branch||P.academics.year||P.academics.division||P.academics.yearOfGraduation),j=P.socialLinks&&Object.values(P.socialLinks).some(K=>K);return R||j};Q.useEffect(()=>(a&&h.current?(setTimeout(()=>{h.current?.scrollIntoView({behavior:"smooth",block:"center"})},100),document.body.style.overflow="hidden"):document.body.style.overflow="",()=>{document.body.style.overflow=""}),[a]);const T=n.filter(P=>P.firstName&&P.lastName).length,N=r&&T>r;return m.length===0?f.jsxs("div",{className:"mobile-gallery__empty",children:[f.jsx("p",{children:"No members found"}),f.jsx("span",{children:"Try adjusting your search or filter"})]}):f.jsxs("div",{className:"mobile-gallery",children:[f.jsx("div",{className:"mobile-gallery__grid",children:m.map(P=>f.jsxs("div",{className:"mobile-gallery__card",onClick:()=>_(P),children:[f.jsx("div",{className:"mobile-gallery__image-wrapper",children:P.image?f.jsx("img",{src:g(P.image),alt:`${P.firstName} ${P.lastName}`,className:"mobile-gallery__image",loading:"lazy"}):f.jsxs("div",{className:"mobile-gallery__placeholder",children:[P.firstName[0],P.lastName[0]]})}),f.jsxs("div",{className:"mobile-gallery__info",children:[f.jsxs("h3",{className:"mobile-gallery__name",children:[P.firstName," ",P.lastName]}),f.jsx("p",{className:"mobile-gallery__role",children:P.position})]})]},P.id))}),i&&N&&f.jsxs("div",{className:"mobile-gallery__explore",children:[f.jsxs($r,{to:"/members",className:"mobile-gallery__explore-btn",children:[f.jsx("span",{children:"Explore All Members"}),f.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:f.jsx("path",{d:"M5 12h14M12 5l7 7-7 7"})})]}),f.jsxs("p",{className:"mobile-gallery__explore-count",children:["Showing ",m.length," of ",T," members"]})]}),a&&f.jsx("div",{className:"mobile-gallery__modal-overlay",onClick:v,children:f.jsxs("div",{ref:h,className:`mobile-gallery__modal ${c?"mobile-gallery__modal--expanded":""}`,onClick:P=>P.stopPropagation(),children:[f.jsx("button",{className:"mobile-gallery__modal-close",onClick:v,children:""}),f.jsx("div",{className:"mobile-gallery__modal-image",children:a.image?f.jsx("img",{src:g(a.image),alt:`${a.firstName} ${a.lastName}`}):f.jsxs("div",{className:"mobile-gallery__modal-placeholder",children:[a.firstName[0],a.lastName[0]]})}),f.jsxs("div",{className:"mobile-gallery__modal-content",children:[f.jsxs("h2",{className:"mobile-gallery__modal-name",children:[a.firstName," ",a.lastName]}),f.jsx("span",{className:"mobile-gallery__modal-badge",children:a.position}),f.jsx("p",{className:"mobile-gallery__modal-team",children:a.team}),w(a)&&f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:`mobile-gallery__modal-extra ${c?"mobile-gallery__modal-extra--visible":""}`,children:[a.academics&&f.jsxs("div",{className:"mobile-gallery__modal-section",children:[f.jsx("h4",{className:"mobile-gallery__modal-label",children:"Academics"}),f.jsxs("div",{className:"mobile-gallery__modal-academics",children:[a.academics.branch&&f.jsx("span",{className:"mobile-gallery__modal-tag",children:a.academics.branch}),a.academics.year&&f.jsx("span",{className:"mobile-gallery__modal-tag",children:a.academics.year}),a.academics.division&&f.jsxs("span",{className:"mobile-gallery__modal-tag",children:["Div ",a.academics.division]}),a.academics.yearOfGraduation&&f.jsxs("span",{className:"mobile-gallery__modal-tag",children:["Batch ",a.academics.yearOfGraduation]})]})]}),a.socialLinks&&Object.values(a.socialLinks).some(P=>P)&&f.jsxs("div",{className:"mobile-gallery__modal-section",children:[f.jsx("h4",{className:"mobile-gallery__modal-label",children:"Connect"}),f.jsxs("div",{className:"mobile-gallery__modal-socials",children:[a.socialLinks.instagram&&f.jsxs("a",{href:a.socialLinks.instagram,target:"_blank",rel:"noopener noreferrer",className:"mobile-gallery__social-btn mobile-gallery__social-btn--instagram",children:[f.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:f.jsx("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"})}),f.jsx("span",{children:"Instagram"})]}),a.socialLinks.linkedin&&f.jsxs("a",{href:a.socialLinks.linkedin,target:"_blank",rel:"noopener noreferrer",className:"mobile-gallery__social-btn mobile-gallery__social-btn--linkedin",children:[f.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:f.jsx("path",{d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"})}),f.jsx("span",{children:"LinkedIn"})]}),a.socialLinks.github&&f.jsxs("a",{href:a.socialLinks.github,target:"_blank",rel:"noopener noreferrer",className:"mobile-gallery__social-btn mobile-gallery__social-btn--github",children:[f.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:f.jsx("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"})}),f.jsx("span",{children:"GitHub"})]}),a.socialLinks.twitter&&f.jsxs("a",{href:a.socialLinks.twitter,target:"_blank",rel:"noopener noreferrer",className:"mobile-gallery__social-btn mobile-gallery__social-btn--twitter",children:[f.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:f.jsx("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})}),f.jsx("span",{children:"Twitter"})]}),a.socialLinks.facebook&&f.jsxs("a",{href:a.socialLinks.facebook,target:"_blank",rel:"noopener noreferrer",className:"mobile-gallery__social-btn mobile-gallery__social-btn--facebook",children:[f.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:f.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385h-3.047v-3.47h3.047v-2.642c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953h-1.514c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385c5.737-.9 10.125-5.864 10.125-11.854z"})}),f.jsx("span",{children:"Facebook"})]}),a.socialLinks.snapchat&&f.jsxs("a",{href:a.socialLinks.snapchat.startsWith("http")?a.socialLinks.snapchat:`https://www.snapchat.com/add/${a.socialLinks.snapchat}`,target:"_blank",rel:"noopener noreferrer",className:"mobile-gallery__social-btn mobile-gallery__social-btn--snapchat",children:[f.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:f.jsx("path",{d:"M12.017 0C5.396 0 .029 5.367.029 11.987c0 5.079 3.158 9.417 7.618 11.162-.105-.949-.199-2.403.041-3.439.219-.937 1.406-5.957 1.406-5.957s-.359-.72-.359-1.781c0-1.663.967-2.911 2.168-2.911 1.024 0 1.518.769 1.518 1.688 0 1.029-.653 2.567-.992 3.992-.285 1.193.6 2.165 1.775 2.165 2.128 0 3.768-2.245 3.768-5.487 0-2.861-2.063-4.869-5.008-4.869-3.41 0-5.409 2.562-5.409 5.199 0 1.033.394 2.143.889 2.741.099.12.112.225.085.345-.09.375-.293 1.199-.334 1.363-.053.225-.172.271-.401.165-1.495-.69-2.433-2.878-2.433-4.646 0-3.776 2.748-7.252 7.92-7.252 4.158 0 7.392 2.967 7.392 6.923 0 4.135-2.607 7.462-6.233 7.462-1.214 0-2.354-.629-2.758-1.379l-.749 2.848c-.269 1.045-1.004 2.352-1.498 3.146 1.123.345 2.306.535 3.55.535 6.607 0 11.985-5.365 11.985-11.987C23.97 5.39 18.592.026 11.985.026L12.017 0z"})}),f.jsx("span",{children:"Snapchat"})]}),a.socialLinks.whatsapp&&f.jsxs("a",{href:`https://wa.me/${a.socialLinks.whatsapp.replace(/[^\d]/g,"")}`,target:"_blank",rel:"noopener noreferrer",className:"mobile-gallery__social-btn mobile-gallery__social-btn--whatsapp",children:[f.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:f.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})}),f.jsx("span",{children:"WhatsApp"})]}),a.socialLinks.contactNumber&&f.jsxs("a",{href:`tel:${a.socialLinks.contactNumber}`,className:"mobile-gallery__social-btn mobile-gallery__social-btn--phone",children:[f.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:f.jsx("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"})}),f.jsx("span",{children:"Call"})]})]})]})]}),f.jsxs("button",{className:`mobile-gallery__modal-expand ${c?"mobile-gallery__modal-expand--active":""}`,onClick:b,children:[f.jsx("span",{children:c?"Show Less":"Explore More"}),f.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:f.jsx("polyline",{points:"6 9 12 15 18 9"})})]})]})]})]})})]})}const SK=n=>n.filter(e=>e.firstName&&e.lastName).map(e=>({src:e.image||"",alt:`${e.firstName} ${e.lastName}`,name:`${e.firstName} ${e.lastName}`,role:e.position,team:e.team,bio:"",academics:e.academics,socialLinks:e.socialLinks,dateOfBirth:e.dateOfBirth}));function ak({autoRotate:n=!1,autoRotateSpeed:e=.15,grayscale:t=!0,maxVerticalRotationDeg:r=5,overlayBlurColor:i="#060010",imageBorderRadius:a="30px",openedImageBorderRadius:o="30px",fit:c=.5,minRadius:u=600,searchQuery:h="",teamFilter:m="",maxItems:g,showExploreMore:_=!1}){const[v,b]=Q.useState(!1),{members:w,isLoading:T}=bK(),N=Q.useMemo(()=>SK(w),[w]);return Q.useEffect(()=>{const P=()=>{b(window.innerWidth<=768)};return P(),window.addEventListener("resize",P),()=>window.removeEventListener("resize",P)},[]),T&&w.length===0?f.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"300px",color:"rgba(255,255,255,0.5)"},children:"Loading members..."}):v?f.jsx(EK,{members:w,searchQuery:h,teamFilter:m,maxItems:g,showExploreMore:_}):f.jsx(yK,{images:N,autoRotate:n,autoRotateSpeed:e,grayscale:t,maxVerticalRotationDeg:r,overlayBlurColor:i,imageBorderRadius:a,openedImageBorderRadius:o,fit:c,minRadius:u,searchQuery:h,teamFilter:m})}function TK(){return f.jsxs("section",{className:"members-glimpse",children:[f.jsxs("div",{className:"members-glimpse__header",children:[f.jsx("h2",{className:"members-glimpse__heading",children:"Members Glimpse"}),f.jsx("p",{className:"members-glimpse__subheading",children:"The People Behind OrbitX"})]}),f.jsx("div",{className:"members-glimpse__container",children:f.jsx(ak,{overlayBlurColor:"#000000",grayscale:!1,imageBorderRadius:"20px",openedImageBorderRadius:"24px",fit:.6,minRadius:400,maxVerticalRotationDeg:0,autoRotate:!0,autoRotateSpeed:.05,maxItems:12,showExploreMore:!0})})]})}function AK(){const{isRecruitmentOpen:n}=Kf();return f.jsxs("section",{className:"join-cta",children:[f.jsx("div",{className:"join-cta__glow"}),f.jsxs("div",{className:"join-cta__content",children:[f.jsx("h2",{className:"join-cta__heading",children:"Ready to Explore the Cosmos?"}),f.jsx("p",{className:"join-cta__subheading",children:"Join OrbitX and become part of a community passionate about space, science, and discovery."}),f.jsxs("div",{className:"join-cta__buttons",children:[n?f.jsxs($r,{to:"/join",className:"join-cta__btn join-cta__btn--primary",children:["Join OrbitX",f.jsx("span",{className:"join-cta__btn-arrow",children:""})]}):f.jsxs($r,{to:"/contact",className:"join-cta__btn join-cta__btn--primary",children:["Get in Touch",f.jsx("span",{className:"join-cta__btn-arrow",children:""})]}),f.jsx($r,{to:"/about",className:"join-cta__btn join-cta__btn--secondary",children:"Learn More"})]})]})]})}function NK(){return f.jsxs("section",{className:"merch-teaser merch-teaser--coming-soon",children:[f.jsxs("div",{className:"merch-teaser__header",children:[f.jsx("h2",{className:"merch-teaser__heading",children:"OrbitX Merchandise"}),f.jsx("p",{className:"merch-teaser__subheading",children:"Wear your passion. Support the mission."})]}),f.jsxs("div",{className:"merch-teaser__coming-soon",children:[f.jsx("div",{className:"merch-teaser__coming-soon-icon",children:f.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[f.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),f.jsx("line",{x1:"3",y1:"9",x2:"21",y2:"9"}),f.jsx("line",{x1:"9",y1:"21",x2:"9",y2:"9"})]})}),f.jsx("h3",{className:"merch-teaser__coming-soon-title",children:"Coming Soon"}),f.jsx("p",{className:"merch-teaser__coming-soon-text",children:"Our exclusive merchandise collection is launching soon! Premium quality, cosmic designs, and sustainable materials."}),f.jsxs($r,{to:"/merch",className:"merch-teaser__cta",children:["Learn More",f.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"}),f.jsx("polyline",{points:"12 5 19 12 12 19"})]})]})]})]})}function go(){const{isRecruitmentOpen:n}=Kf();return f.jsxs("footer",{className:"footer",children:[f.jsxs("div",{className:"footer-container",children:[f.jsxs("div",{className:"footer-column footer-brand",children:[f.jsx("img",{src:q5,alt:"OrbitX",className:"footer-logo"}),f.jsx("p",{children:"Student-driven space and astronomy club focused on exploration, innovation, and hands-on learning."})]}),f.jsxs("div",{className:"footer-column",children:[f.jsx("h4",{children:"Quick Links"}),f.jsxs("ul",{children:[f.jsx("li",{children:f.jsx($r,{to:"/",children:"Home"})}),f.jsx("li",{children:f.jsx($r,{to:"/about",children:"About"})}),f.jsx("li",{children:f.jsx($r,{to:"/events",children:"Events"})}),f.jsx("li",{children:f.jsx($r,{to:"/members",children:"Members"})})]})]}),f.jsxs("div",{className:"footer-column",children:[f.jsx("h4",{children:"Get Involved"}),f.jsxs("ul",{children:[n?f.jsx("li",{children:f.jsx($r,{to:"/join",children:"Join OrbitX"})}):f.jsx("li",{children:f.jsx($r,{to:"/contact",children:"Get in Touch"})}),f.jsx("li",{children:f.jsx($r,{to:"/merch",children:"Merchandise"})}),f.jsx("li",{children:f.jsx($r,{to:"/contact",children:"Contact Us"})})]})]}),f.jsxs("div",{className:"footer-column",children:[f.jsx("h4",{children:"Connect"}),f.jsxs("ul",{children:[f.jsx("li",{children:f.jsx("a",{href:"https://www.instagram.com/orbitx_zcoer/",target:"_blank",rel:"noopener noreferrer",children:"Instagram"})}),f.jsx("li",{children:f.jsx("a",{href:"https://www.linkedin.com/company/orbitx-zcoer/",target:"_blank",rel:"noopener noreferrer",children:"LinkedIn"})}),f.jsx("li",{children:f.jsx("a",{href:"mailto:contact@orbitxzcoer.club",children:"E-mail"})})]})]}),f.jsxs("div",{className:"footer-column",children:[f.jsx("h4",{children:"Location"}),f.jsx("p",{children:f.jsxs("a",{href:"https://maps.app.goo.gl/zr4Yg3uhrYabnjH49",target:"_blank",rel:"noopener noreferrer",className:"location-link",children:["Department Of Computer Engineering,",f.jsx("br",{}),"Zeal College of Engineering and Research,",f.jsx("br",{}),"Pune, Maharashtra 411041"]})})]})]}),f.jsxs("div",{className:"footer-bottom",children:[f.jsx("p",{children:" 2026 OrbitX. All rights reserved."}),f.jsxs("p",{className:"footer-tagline",children:[f.jsx("a",{href:"https://www.instagram.com/shravan45x/",target:"_blank",rel:"noopener noreferrer",className:"creator-link",children:"Creator - "}),f.jsx("span",{className:"tooltip-wrapper","data-tooltip":"@shravan45x",children:f.jsx("a",{href:"https://www.instagram.com/shravan45x/",target:"_blank",rel:"noopener noreferrer",className:"spinning-dollar",children:"$"})})]})]})]})}function Ua({children:n,direction:e="up",delay:t=0,duration:r=.6,threshold:i=.1,className:a=""}){const[o,c]=Q.useState(!1),u=Q.useRef(null);Q.useEffect(()=>{const m=new IntersectionObserver(([g])=>{g.isIntersecting&&(c(!0),m.unobserve(g.target))},{threshold:i});return u.current&&m.observe(u.current),()=>m.disconnect()},[i]);const h={"--reveal-delay":`${t}s`,"--reveal-duration":`${r}s`};return f.jsx("div",{ref:u,className:`scroll-reveal scroll-reveal--${e} ${o?"scroll-reveal--visible":""} ${a}`,style:h,children:n})}function CK(){return f.jsxs(f.Fragment,{children:[f.jsx(EH,{}),f.jsx(Ua,{direction:"up",children:f.jsx(TH,{})}),f.jsx(Ua,{direction:"up",delay:.1,children:f.jsx(r$,{})}),f.jsx(Ua,{direction:"up",delay:.1,children:f.jsx(TK,{})}),f.jsx(Ua,{direction:"up",delay:.1,children:f.jsx(AK,{})}),f.jsx(Ua,{direction:"up",delay:.1,children:f.jsx(NK,{})}),f.jsx(go,{})]})}function IK(){return f.jsxs(f.Fragment,{children:[f.jsxs("main",{className:"about-page",children:[f.jsx(Ua,{direction:"fade",children:f.jsxs("section",{className:"about-hero",children:[f.jsxs("div",{className:"about-hero__content",children:[f.jsx("h1",{className:"about-hero__title",children:"About OrbitX"}),f.jsx("p",{className:"about-hero__text",children:"OrbitX is a student-driven space and astronomy organization focused on exploring space technology, fostering innovation, and building a community of curious learners and creators. We bring together students passionate about space science, engineering, and research to learn, collaborate, and create beyond the classroom."})]}),f.jsx("div",{className:"about-hero__image",children:f.jsx("div",{className:"about-hero__placeholder",children:f.jsx("span",{children:"Team Photo"})})})]})}),f.jsx(Ua,{direction:"up",delay:.1,children:f.jsxs("section",{className:"about-stats",children:[f.jsxs("div",{className:"about-stats__item",children:[f.jsx("span",{className:"about-stats__number",children:"28+"}),f.jsx("span",{className:"about-stats__label",children:"Active Members"})]}),f.jsxs("div",{className:"about-stats__item",children:[f.jsx("span",{className:"about-stats__number",children:"1+"}),f.jsx("span",{className:"about-stats__label",children:"Projects"})]}),f.jsxs("div",{className:"about-stats__item",children:[f.jsx("span",{className:"about-stats__number",children:"2+"}),f.jsx("span",{className:"about-stats__label",children:"Events Conducted"})]}),f.jsxs("div",{className:"about-stats__item",children:[f.jsx("span",{className:"about-stats__number",children:"8+"}),f.jsx("span",{className:"about-stats__label",children:"Achievements"})]})]})}),f.jsx(Ua,{direction:"up",delay:.1,children:f.jsxs("section",{className:"about-mission-vision",children:[f.jsxs("div",{className:"about-card about-card--mission",children:[f.jsx("h2",{className:"about-card__title",children:"Our Mission"}),f.jsx("p",{className:"about-card__text",children:"To inspire and empower students to explore space technology through hands-on projects, collaborative learning, and innovative research. We aim to bridge the gap between theoretical knowledge and practical application in aerospace engineering and space sciences."})]}),f.jsxs("div",{className:"about-card about-card--vision",children:[f.jsx("h2",{className:"about-card__title",children:"Our Vision"}),f.jsx("p",{className:"about-card__text",children:"To become a leading student organization contributing to the advancement of space technology and exploration. We envision a future where our members emerge as pioneers in the space industry, driving innovation and pushing the boundaries beyond Earth's horizons."})]})]})}),f.jsx(Ua,{direction:"up",delay:.1,children:f.jsxs("section",{className:"about-values",children:[f.jsx("h2",{className:"about-values__heading",children:"Our Core Values"}),f.jsxs("div",{className:"about-values__grid",children:[f.jsxs("div",{className:"about-value-card",children:[f.jsx("h3",{className:"about-value-card__title",children:"Innovation"}),f.jsx("p",{className:"about-value-card__text",children:"Pushing boundaries through creative problem-solving and emerging technologies."})]}),f.jsxs("div",{className:"about-value-card",children:[f.jsx("h3",{className:"about-value-card__title",children:"Collaboration"}),f.jsx("p",{className:"about-value-card__text",children:"Working together as teams to achieve meaningful outcomes in space exploration."})]}),f.jsxs("div",{className:"about-value-card",children:[f.jsx("h3",{className:"about-value-card__title",children:"Learning"}),f.jsx("p",{className:"about-value-card__text",children:"Continuous growth through hands-on experience, experimentation, and knowledge sharing."})]}),f.jsxs("div",{className:"about-value-card",children:[f.jsx("h3",{className:"about-value-card__title",children:"Excellence"}),f.jsx("p",{className:"about-value-card__text",children:"Striving for high standards, precision, and impact in everything we build."})]})]})]})}),f.jsx(Ua,{direction:"up",delay:.1,children:f.jsxs("section",{className:"about-journey",children:[f.jsx("h2",{className:"about-journey__heading",children:"Our Journey"}),f.jsxs("div",{className:"about-journey__container",children:[f.jsxs("div",{className:"about-journey__gallery",children:[f.jsx("div",{className:"about-journey__image-placeholder",children:f.jsx("span",{children:"Event Photo 1"})}),f.jsx("div",{className:"about-journey__image-placeholder",children:f.jsx("span",{children:"Event Photo 2"})}),f.jsx("div",{className:"about-journey__image-placeholder about-journey__image-placeholder--large",children:f.jsx("span",{children:"Workshop / Session Photo"})})]}),f.jsxs("div",{className:"about-journey__content",children:[f.jsx("p",{className:"about-journey__text",children:"Founded at Zeal College of Engineering and Research (ZCOER), OrbitX began as a small group of students fascinated by space exploration and technology. What started as informal discussions about rockets and satellites gradually evolved into a structured and purpose-driven organization."}),f.jsx("p",{className:"about-journey__text",children:"Today, OrbitX comprises six dedicated teams working across multiple domains of space technology, including satellite development, research, and exploration concepts. Our members collaborate on real-world projects, participate in national-level competitions, and actively contribute to India's growing space technology ecosystem."}),f.jsx("p",{className:"about-journey__text",children:"We believe the future of space exploration lies in the hands of today's students. Through OrbitX, we provide a platform for learning, experimentation, and innovationpreparing our members for careers in the rapidly expanding space and aerospace industry."})]})]})]})})]}),f.jsx(go,{})]})}const sk=Q.createContext(null);function Ga(){const n=Q.useContext(sk);if(!n)throw new Error("useToast must be used within a ToastProvider");return n}function RK({children:n}){const[e,t]=Q.useState([]),r=Q.useCallback((a,o="info")=>{const c=Date.now().toString();t(u=>[...u,{id:c,message:a,type:o}]),setTimeout(()=>{t(u=>u.filter(h=>h.id!==c))},4e3)},[]),i=a=>{t(o=>o.filter(c=>c.id!==a))};return f.jsxs(sk.Provider,{value:{showToast:r},children:[n,f.jsx("div",{className:"toast-container",children:e.map(a=>f.jsxs("div",{className:`toast toast--${a.type}`,onClick:()=>i(a.id),children:[f.jsxs("div",{className:"toast__icon",children:[a.type==="success"&&f.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:f.jsx("polyline",{points:"20 6 9 17 4 12"})}),a.type==="error"&&f.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("circle",{cx:"12",cy:"12",r:"10"}),f.jsx("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),f.jsx("line",{x1:"9",y1:"9",x2:"15",y2:"15"})]}),a.type==="info"&&f.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("circle",{cx:"12",cy:"12",r:"10"}),f.jsx("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),f.jsx("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]})]}),f.jsx("span",{className:"toast__message",children:a.message}),f.jsx("button",{className:"toast__close",children:f.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),f.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]},a.id))})]})}function Fi({options:n,value:e,onChange:t,placeholder:r="Select an option",error:i=!1,searchable:a=!1,name:o,disabled:c=!1}){const[u,h]=Q.useState(!1),[m,g]=Q.useState(""),[_,v]=Q.useState(-1),b=Q.useRef(null),w=Q.useRef(null),T=Q.useRef(null),N=n.find(U=>U.value===e),P=a&&m?n.filter(U=>U.label.toLowerCase().includes(m.toLowerCase())):n;Q.useEffect(()=>{const U=C=>{b.current&&!b.current.contains(C.target)&&(h(!1),g(""))};return document.addEventListener("mousedown",U),()=>document.removeEventListener("mousedown",U)},[]),Q.useEffect(()=>{u&&a&&w.current&&w.current.focus()},[u,a]),Q.useEffect(()=>{if(u&&_>=0&&T.current){const U=T.current.children[_];U&&U.scrollIntoView({block:"nearest"})}},[_,u]);const R=U=>{t(U),h(!1),g(""),v(-1)},j=U=>{if(!c){if(!u){(U.key==="Enter"||U.key===" "||U.key==="ArrowDown")&&(U.preventDefault(),h(!0));return}switch(U.key){case"ArrowDown":U.preventDefault(),v(C=>C<P.length-1?C+1:C);break;case"ArrowUp":U.preventDefault(),v(C=>C>0?C-1:C);break;case"Enter":U.preventDefault(),_>=0&&P[_]&&R(P[_].value);break;case"Escape":h(!1),g(""),v(-1);break}}},K=()=>{c||h(!u)};return f.jsxs("div",{className:`custom-select ${u?"custom-select--open":""} ${i?"custom-select--error":""} ${c?"custom-select--disabled":""}`,ref:b,onKeyDown:j,children:[f.jsxs("button",{type:"button",className:"custom-select__trigger",onClick:K,"aria-haspopup":"listbox","aria-expanded":u,disabled:c,children:[f.jsx("span",{className:`custom-select__value ${N?"":"custom-select__value--placeholder"}`,children:N?N.label:r}),f.jsx("svg",{className:`custom-select__arrow ${u?"custom-select__arrow--open":""}`,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:f.jsx("polyline",{points:"6 9 12 15 18 9"})})]}),u&&f.jsxs("div",{className:"custom-select__dropdown",children:[a&&f.jsxs("div",{className:"custom-select__search",children:[f.jsx("input",{ref:w,type:"text",className:"custom-select__search-input",placeholder:"Search...",value:m,onChange:U=>{g(U.target.value),v(-1)},onClick:U=>U.stopPropagation()}),f.jsxs("svg",{className:"custom-select__search-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("circle",{cx:"11",cy:"11",r:"8"}),f.jsx("path",{d:"m21 21-4.3-4.3"})]})]}),f.jsx("div",{className:"custom-select__options",role:"listbox",ref:T,children:P.length>0?P.map((U,C)=>f.jsxs("div",{className:`custom-select__option 
                                        ${U.value===e?"custom-select__option--selected":""} 
                                        ${C===_?"custom-select__option--highlighted":""}`,onClick:()=>R(U.value),role:"option","aria-selected":U.value===e,children:[U.label,U.value===e&&f.jsx("svg",{className:"custom-select__check",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:f.jsx("polyline",{points:"20 6 9 17 4 12"})})]},U.value)):f.jsx("div",{className:"custom-select__no-results",children:"No options found"})})]}),o&&f.jsx("input",{type:"hidden",name:o,value:e})]})}const kK=["January","February","March","April","May","June","July","August","September","October","November","December"],OK=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];function C2({value:n,onChange:e,placeholder:t="Select date",error:r=!1,minDate:i,maxDate:a,name:o}){const[c,u]=Q.useState(!1),[h,m]=Q.useState(()=>{if(n){const[pe,Ie]=n.split("-").map(Number);return{month:Ie-1,year:pe}}const le=new Date;return{month:le.getMonth(),year:le.getFullYear()}}),g=Q.useRef(null),_=le=>{const[pe,Ie,Ae]=le.split("-").map(Number);return{year:pe,month:Ie-1,day:Ae}},v=n?_(n):null,b=i?_(i):null,w=a?_(a):null;Q.useEffect(()=>{const le=pe=>{g.current&&!g.current.contains(pe.target)&&u(!1)};return document.addEventListener("mousedown",le),()=>document.removeEventListener("mousedown",le)},[]);const T=le=>{const[pe,Ie,Ae]=le.split("-").map(Number),re=new Date(pe,Ie-1,Ae);return new Intl.DateTimeFormat("en-IN",{day:"numeric",month:"long",year:"numeric"}).format(re)},N=(le,pe,Ie)=>{const Ae=String(pe+1).padStart(2,"0"),re=String(Ie).padStart(2,"0");return`${le}-${Ae}-${re}`},P=(le,pe)=>new Date(pe,le+1,0).getDate(),R=(le,pe)=>new Date(pe,le,1).getDay(),j=le=>{const pe=h.year,Ie=h.month;return!!(b&&(pe<b.year||pe===b.year&&Ie<b.month||pe===b.year&&Ie===b.month&&le<b.day)||w&&(pe>w.year||pe===w.year&&Ie>w.month||pe===w.year&&Ie===w.month&&le>w.day))},K=le=>v?v.day===le&&v.month===h.month&&v.year===h.year:!1,U=le=>{const pe=new Date;return pe.getDate()===le&&pe.getMonth()===h.month&&pe.getFullYear()===h.year},C=le=>{if(j(le))return;const pe=N(h.year,h.month,le);e(pe),u(!1)},k=()=>{m(le=>le.month===0?{month:11,year:le.year-1}:{month:le.month-1,year:le.year})},I=()=>{m(le=>le.month===11?{month:0,year:le.year+1}:{month:le.month+1,year:le.year})},z=le=>{m(pe=>({...pe,year:parseInt(le.target.value)}))},O=le=>{m(pe=>({...pe,month:parseInt(le.target.value)}))},M=new Date().getFullYear(),B=Array.from({length:100},(le,pe)=>M-80+pe),Y=P(h.month,h.year),we=R(h.month,h.year),fe=[];for(let le=0;le<we;le++)fe.push(null);for(let le=1;le<=Y;le++)fe.push(le);return f.jsxs("div",{className:`custom-datepicker ${c?"custom-datepicker--open":""} ${r?"custom-datepicker--error":""}`,ref:g,children:[f.jsxs("button",{type:"button",className:"custom-datepicker__trigger",onClick:()=>u(!c),children:[f.jsx("span",{className:`custom-datepicker__value ${n?"":"custom-datepicker__value--placeholder"}`,children:n?T(n):t}),f.jsxs("svg",{className:"custom-datepicker__icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),f.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),f.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),f.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]})]}),c&&f.jsxs("div",{className:"custom-datepicker__dropdown",children:[f.jsxs("div",{className:"custom-datepicker__header",children:[f.jsx("button",{type:"button",className:"custom-datepicker__nav-btn",onClick:k,children:f.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:f.jsx("polyline",{points:"15 18 9 12 15 6"})})}),f.jsxs("div",{className:"custom-datepicker__selectors",children:[f.jsx("select",{className:"custom-datepicker__month-select",value:h.month,onChange:O,children:kK.map((le,pe)=>f.jsx("option",{value:pe,children:le},le))}),f.jsx("select",{className:"custom-datepicker__year-select",value:h.year,onChange:z,children:B.map(le=>f.jsx("option",{value:le,children:le},le))})]}),f.jsx("button",{type:"button",className:"custom-datepicker__nav-btn",onClick:I,children:f.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:f.jsx("polyline",{points:"9 18 15 12 9 6"})})})]}),f.jsx("div",{className:"custom-datepicker__days-header",children:OK.map(le=>f.jsx("span",{className:"custom-datepicker__day-label",children:le},le))}),f.jsx("div",{className:"custom-datepicker__calendar",children:fe.map((le,pe)=>f.jsx("div",{className:"custom-datepicker__cell",children:le!==null&&f.jsx("button",{type:"button",className:`custom-datepicker__day 
                                            ${K(le)?"custom-datepicker__day--selected":""} 
                                            ${U(le)?"custom-datepicker__day--today":""}
                                            ${j(le)?"custom-datepicker__day--disabled":""}`,onClick:()=>C(le),disabled:j(le),children:le})},pe))}),f.jsx("div",{className:"custom-datepicker__footer",children:f.jsx("button",{type:"button",className:"custom-datepicker__today-btn",onClick:()=>{const le=new Date,pe=N(le.getFullYear(),le.getMonth(),le.getDate());m({month:le.getMonth(),year:le.getFullYear()}),j(le.getDate())||(e(pe),u(!1))},children:"Today"})})]}),o&&f.jsx("input",{type:"hidden",name:o,value:n})]})}function ok({value:n,onChange:e,placeholder:t="Search...",className:r=""}){return f.jsxs("div",{className:`search-input ${r}`,children:[f.jsx("input",{type:"text",className:"search-input__field",placeholder:t,value:n,onChange:i=>e(i.target.value)}),n&&f.jsx("button",{className:"search-input__clear",onClick:()=>e(""),"aria-label":"Clear search",children:f.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),f.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})}function lk({options:n,value:e,onChange:t,className:r="",showBadge:i=!0}){const[a,o]=Q.useState(!1),c=Q.useRef(null);Q.useEffect(()=>{const h=m=>{c.current&&!c.current.contains(m.target)&&o(!1)};return a&&document.addEventListener("mousedown",h),()=>document.removeEventListener("mousedown",h)},[a]);const u=e!==""&&e!==n[0]?.value;return f.jsxs("div",{className:`filter-dropdown ${r}`,ref:c,children:[f.jsxs("button",{className:`filter-dropdown__trigger ${a?"filter-dropdown__trigger--active":""}`,onClick:()=>o(!a),"aria-label":"Filter options",children:[f.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:f.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),i&&u&&f.jsx("span",{className:"filter-dropdown__badge"})]}),a&&f.jsx("div",{className:"filter-dropdown__menu",children:n.map(h=>f.jsx("button",{className:`filter-dropdown__item ${e===h.value?"filter-dropdown__item--active":""}`,onClick:()=>{t(h.value),o(!1)},children:h.label},h.value))})]})}function I2({options:n,value:e,onChange:t,placeholder:r="Select an option",className:i="",required:a=!1}){const[o,c]=Q.useState(!1),u=Q.useRef(null);Q.useEffect(()=>{const m=g=>{u.current&&!u.current.contains(g.target)&&c(!1)};return o&&document.addEventListener("mousedown",m),()=>document.removeEventListener("mousedown",m)},[o]);const h=n.find(m=>m.value===e);return f.jsxs("div",{className:`select-dropdown ${i}`,ref:u,children:[f.jsxs("button",{type:"button",className:`select-dropdown__trigger ${o?"select-dropdown__trigger--open":""} ${e?"select-dropdown__trigger--selected":""}`,onClick:()=>c(!o),"aria-required":a,children:[f.jsx("span",{className:e?"":"select-dropdown__placeholder",children:h?.label||r}),f.jsx("svg",{className:`select-dropdown__arrow ${o?"select-dropdown__arrow--open":""}`,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:f.jsx("polyline",{points:"6 9 12 15 18 9"})})]}),o&&f.jsx("div",{className:"select-dropdown__menu",children:n.map(m=>f.jsx("button",{type:"button",className:`select-dropdown__item ${e===m.value?"select-dropdown__item--active":""}`,onClick:()=>{t(m.value),c(!1)},children:m.label},m.value))})]})}function ck({children:n,className:e=""}){return f.jsx("div",{className:`toolbar-wrapper ${e}`,children:f.jsx("div",{className:"toolbar",children:n})})}function DK(){const{showToast:n}=Ga(),[e,t]=Q.useState([]),[r,i]=Q.useState(!0),[a,o]=Q.useState(""),[c,u]=Q.useState(""),[h,m]=Q.useState(null),[g,_]=Q.useState(!1),[v,b]=Q.useState(!1),[w,T]=Q.useState(!1),[N,P]=Q.useState(null),[R,j]=Q.useState(null),[K,U]=Q.useState(!1),[C,k]=Q.useState(new Set),[I,z]=Q.useState(new Map),[O,M]=Q.useState(!1),[B,Y]=Q.useState(null);Q.useEffect(()=>{const q=Ho.onAuthStateChanged(async J=>{if(J){let ae=await Br(mn($t,"users",J.uid));if(ae.exists()||(ae=await Br(mn($t,"admins",J.uid))),ae.exists()){const ge=ae.data();j({orbitId:ge.orbitId||"",firstName:ge.firstName||"",lastName:ge.lastName||"",email:ge.email||"",mobile:ge.mobile||"",collegeName:ge.collegeName||"",gender:ge.gender||""})}}else j(null)});return()=>q()},[]),Q.useEffect(()=>{(async()=>{if(R?.orbitId){const J=await Tv(R.orbitId),ae=new Set(J.map(Te=>Te.eventId)),ge=new Map;J.forEach(Te=>ge.set(Te.eventId,Te)),k(ae),z(ge)}else k(new Set),z(new Map)})()},[R]),Q.useEffect(()=>{const q=Wo(ha($t,"events"),Pu("date","desc")),J=ec(q,ae=>{const ge=[];ae.forEach(Te=>{const Se=Te.data();ge.push({id:Te.id,type:Se.type||"Event",title:Se.title||"",description:Se.description||"",date:Se.date||"",venue:Se.venue||"",venueUrl:Se.venueUrl,time:Se.time||"",registrationOpen:Se.registrationOpen??!1,isPast:Se.isPast??!1,mode:Se.mode,registrationDeadline:Se.registrationDeadline,eligibility:Se.eligibility,speakers:Se.speakers,images:Se.images||[],amount:Se.amount})}),t(ge),i(!1)},ae=>{console.error("Error fetching events:",ae),i(!1)});return()=>J()},[]);const we=e.filter(q=>!(q.isPast||a&&!q.title.toLowerCase().includes(a.toLowerCase())||c&&q.type!==c)),fe=e.filter(q=>!(!q.isPast||a&&!q.title.toLowerCase().includes(a.toLowerCase())||c&&q.type!==c)),le=q=>{m(q),_(!1),document.body.style.overflow="hidden"},pe=()=>{_(!0),setTimeout(()=>{m(null),_(!1),document.body.style.overflow=""},200)},Ie=async q=>{if(!R){n("Please log in to register for events","error");return}if(await KR(q.id,R.orbitId)){n("You are already registered for this event","info");return}P(q),T(!0)},Ae=async q=>{if(!(!R||!N)){U(!0),T(!1);try{const{registration:J}=await $R({orbitId:R.orbitId,firstName:R.firstName,lastName:R.lastName,email:R.email,collegeName:R.collegeName,gender:R.gender,govIdLast4:q.govIdLast4,govIdType:q.govIdType,eventId:N.id,eventName:N.title,eventDate:N.date,eventVenue:N.venue});Y({registration:J,eventVenue:N.venue,eventName:N.title}),k(ae=>new Set([...ae,N.id])),z(ae=>{const ge=new Map(ae);return ge.set(N.id,J),ge}),M(!0),n("Registration Successful!","success")}catch(J){console.error("Error registering:",J),n("Registration failed. Please try again.","error")}finally{U(!1),P(null)}}},re=async()=>{if(!(!B||!R))try{U(!0);const q=await T2(B.registration,B.eventVenue);A2(q,B.eventName,R.orbitId),n("Pass downloaded!","success")}catch(q){console.error("Error downloading pass:",q),n("Download failed. Try from Dashboard.","error")}finally{U(!1),M(!1),Y(null)}},L=()=>{M(!1),Y(null),n("Collect your pass from My Events in Dashboard","info")},G=async q=>{if(!R)return;const J=I.get(q.id);if(!J){n("Registration not found","error");return}try{U(!0);const ae=await T2(J,q.venue);A2(ae,q.title,R.orbitId),n("Pass downloaded!","success")}catch(ae){console.error("Error downloading pass:",ae),n("Download failed. Try from Dashboard.","error")}finally{U(!1)}};return f.jsxs(f.Fragment,{children:[f.jsxs("main",{className:"events-page",children:[f.jsx(Ua,{direction:"fade",children:f.jsxs("section",{className:"events-hero",children:[f.jsx("h1",{className:"events-hero__title",children:"Events & Activities"}),f.jsx("p",{className:"events-hero__subtitle",children:"Workshops, talks, competitions, and stargazing sessions to fuel your curiosity."})]})}),f.jsx(Ua,{direction:"up",delay:.1,className:"scroll-reveal--z-high",children:f.jsxs(ck,{children:[f.jsx(ok,{value:a,onChange:o,placeholder:"Search events..."}),f.jsx(lk,{options:[{value:"",label:"All Types"},{value:"Workshop",label:"Workshop"},{value:"Talk",label:"Talk"},{value:"Competition",label:"Competition"},{value:"Outreach",label:"Outreach"}],value:c,onChange:u})]})}),f.jsx(Ua,{direction:"up",delay:.15,children:f.jsxs("section",{className:"events-section",children:[f.jsx("h2",{className:"events-section__heading",children:"Upcoming Events"}),r?f.jsx("p",{className:"events-empty",children:"Loading events..."}):we.length>0?f.jsx("div",{className:"events-grid",children:we.map(q=>f.jsx(a5,{event:q,onClick:le,variant:"full",onRegisterClick:Ie,isRegistered:C.has(q.id),onDownloadPass:G},q.id))}):f.jsx("p",{className:"events-empty",children:"No upcoming events match your search."})]})}),f.jsxs("section",{className:"events-section events-section--past",children:[f.jsxs("button",{className:"events-toggle",onClick:()=>b(!v),children:[v?"Hide Past Events":"View Past Events",f.jsx("span",{className:`events-toggle__arrow ${v?"events-toggle__arrow--up":""}`,children:""})]}),v&&f.jsx("div",{className:"events-grid events-grid--past",children:fe.length>0?fe.map(q=>f.jsx(a5,{event:q,onClick:le,variant:"full",isRegistered:C.has(q.id),onDownloadPass:G},q.id)):f.jsx("p",{className:"events-empty",children:"No past events match your search."})})]})]}),h&&f.jsx(Zw,{event:h,isClosing:g,onClose:pe,onRegisterClick:Ie,isRegistered:C.has(h.id),onDownloadPass:G}),N&&f.jsx(BH,{event:N,isOpen:w,onClose:()=>{T(!1),P(null)},userProfile:R,onRegisterComplete:Ae}),K&&f.jsx("div",{className:"pass-generating-overlay",children:f.jsxs("div",{className:"pass-generating-content",children:[f.jsx("div",{className:"pass-generating-spinner"}),f.jsx("p",{children:"Generating your pass..."})]})}),O&&f.jsx("div",{className:"success-modal-overlay",children:f.jsxs("div",{className:"success-modal",children:[f.jsx("div",{className:"success-modal__icon",children:f.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",strokeLinecap:"round",strokeLinejoin:"round"}),f.jsx("polyline",{points:"22 4 12 14.01 9 11.01",strokeLinecap:"round",strokeLinejoin:"round"})]})}),f.jsx("h3",{className:"success-modal__title",children:"Registration Successful!"}),f.jsx("p",{className:"success-modal__text",children:"Would you like to download your event pass now?"}),f.jsxs("div",{className:"success-modal__actions",children:[f.jsx("button",{className:"success-modal__btn success-modal__btn--primary",onClick:re,children:"Download Pass"}),f.jsx("button",{className:"success-modal__btn success-modal__btn--secondary",onClick:L,children:"Get it later from Dashboard"})]})]})}),f.jsx(go,{})]})}const LK=[{value:"All Teams",label:"All Teams"},{value:"President",label:"President"},{value:"Chairman",label:"Chairman"},{value:"Secretary",label:"Secretary"},{value:"Treasurer",label:"Treasurer"},{value:"Co-Treasurer",label:"Co-Treasurer"},{value:"Technical Team",label:"Technical Team"},{value:"Public Outreach Team",label:"Public Outreach Team"},{value:"Documentation Team",label:"Documentation Team"},{value:"Social Media & Editing Team",label:"Social Media & Editing"},{value:"Design & Innovation Team",label:"Design & Innovation"},{value:"Management & Operations Team",label:"Management & Operations"}];function jK(){const[n,e]=Q.useState(""),[t,r]=Q.useState(""),[i,a]=Q.useState("All Teams");return Q.useEffect(()=>{const o=setTimeout(()=>{r(n.trim().toLowerCase())},500);return()=>clearTimeout(o)},[n]),f.jsxs(f.Fragment,{children:[f.jsxs("main",{className:"members-page",children:[f.jsx(Ua,{direction:"fade",children:f.jsxs("section",{className:"members-hero",children:[f.jsx("h1",{className:"members-hero__title",children:"Our Members"}),f.jsx("p",{className:"members-hero__subtitle",children:"Meet the passionate individuals who make OrbitX thrive."})]})}),f.jsx(Ua,{direction:"up",delay:.1,className:"scroll-reveal--z-high",children:f.jsxs(ck,{children:[f.jsx(ok,{value:n,onChange:e,placeholder:"Search members..."}),f.jsx(lk,{options:LK,value:i,onChange:a})]})}),f.jsx(Ua,{direction:"up",delay:.2,children:f.jsx("section",{className:"members-gallery",children:f.jsx(ak,{autoRotate:!0,autoRotateSpeed:.05,grayscale:!1,maxVerticalRotationDeg:0,searchQuery:t,teamFilter:i==="All Teams"?"":i})})})]}),f.jsx(go,{})]})}const MK=["Technical Team","Design & Innovation Team","Public Outreach Team","Documentation Team","Social Media & Editing Team","Management & Operations Team","Not sure yet"],PK=["Computer Engineering","Mechanical Engineering","Electronics Engineering","Civil Engineering","Information Technology","Other"],FK=["1st Year","2nd Year","3rd Year","4th Year"];function BK(n){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let t="";for(let i=0;i<3;i++)t+=e.charAt(Math.floor(Math.random()*e.length));const r=n.slice(-2).padStart(2,"0");return t+r}function UK(){const{showToast:n}=Ga(),{user:e,profile:t}=Is(),[r,i]=Q.useState(!1),[a,o]=Q.useState(!0),[c,u]=Q.useState([]),[h,m]=Q.useState(!1),[g,_]=Q.useState({firstName:"",lastName:"",email:"",phone:"",whatsapp:"",college:"",department:"",year:"",interests:[],whyJoin:"",experience:""}),v=c[0],b=v&&(v.status==="pending"||v.status==="reviewed"||v.status==="accepted"),w=v?.status==="rejected",T=b&&!h;Q.useEffect(()=>{if(!e?.email){o(!1);return}const C=Wo(ha($t,"applications"),L8("email","==",e.email.toLowerCase())),k=ec(C,async I=>{const z=I.docs.map(Y=>({id:Y.id,...Y.data()})),O=20,M=new Date;M.setDate(M.getDate()-O);const B=[];for(const Y of z)if(Y.status==="rejected"&&new Date(Y.submittedAt)<M)try{await Fc(mn($t,"applications",Y.id)),console.log(`Deleted expired rejected application: ${Y.applicationId}`)}catch(we){console.error("Error deleting expired application:",we),B.push(Y)}else B.push(Y);if(B.sort((Y,we)=>new Date(we.submittedAt).getTime()-new Date(Y.submittedAt).getTime()),u(B),B.length>0){const Y=B[0];_({firstName:Y.firstName||"",lastName:Y.lastName||"",email:Y.email||"",phone:Y.phone||"",whatsapp:Y.whatsapp||"",college:Y.college||"",department:Y.course||"",year:Y.year||"",interests:Y.interests||[],whyJoin:Y.whyJoin||"",experience:Y.experience||""})}else t&&_(Y=>({...Y,firstName:t.firstName||"",lastName:t.lastName||"",email:e.email||""}));o(!1)},I=>{console.error("Error fetching applications:",I),o(!1)});return()=>k()},[e,t]);const N=C=>{if(T)return;const{name:k,value:I}=C.target;_(z=>({...z,[k]:I}))},P=C=>{T&&!h||_(k=>({...k,interests:k.interests.includes(C)?k.interests.filter(I=>I!==C):[...k.interests,C]}))},R=()=>{m(!0),_(C=>({...C,interests:[],whyJoin:"",experience:""}))},j=async C=>{if(C.preventDefault(),g.interests.length===0){n("Please select at least one area of interest","error");return}if(!g.firstName||!g.lastName||!g.email||!g.phone){n("Please fill in all required fields","error");return}i(!0);try{const k=BK(g.phone);await z0(ha($t,"applications"),{applicationId:k,firstName:g.firstName.trim(),lastName:g.lastName.trim(),email:g.email.trim().toLowerCase(),phone:g.phone.trim(),whatsapp:g.whatsapp.trim()||g.phone.trim(),college:g.college.trim(),course:g.department,year:g.year,interests:g.interests,whyJoin:g.whyJoin.trim(),experience:g.experience.trim(),status:"pending",remark:"",submittedAt:new Date().toISOString(),createdAt:kw()}),n("Application submitted successfully!","success"),m(!1)}catch(k){console.error("Error submitting application:",k),n("Failed to submit application. Please try again.","error")}finally{i(!1)}},K=C=>{switch(C){case"pending":case"reviewed":return"Approval Pending";case"accepted":return"Approved";case"rejected":return"Application Rejected";default:return C}},U=C=>{switch(C){case"pending":case"reviewed":return"status--pending";case"accepted":return"status--approved";case"rejected":return"status--rejected";default:return""}};return a?f.jsxs(f.Fragment,{children:[f.jsx("main",{className:"join-page",children:f.jsx("div",{className:"join-loading",children:"Loading..."})}),f.jsx(go,{})]}):f.jsxs(f.Fragment,{children:[f.jsxs("main",{className:"join-page",children:[f.jsxs("section",{className:"join-hero",children:[f.jsx("h1",{className:"join-hero__title",children:"Join OrbitX"}),f.jsx("p",{className:"join-hero__subtitle",children:v?.status==="accepted"?"Your application has been approved! You will be contacted for an interview soon.":v?.status==="rejected"?"Your previous application was not selected. You may re-apply below.":b?"Your application is being reviewed. Thank you for your interest!":"Be part of our journey to explore the cosmos. Fill out the form below and take your first step towards the stars."})]}),v?.status!=="accepted"&&f.jsx("section",{className:"join-form-container",children:f.jsxs("form",{className:`join-form ${T?"join-form--readonly":""}`,onSubmit:j,children:[f.jsxs("div",{className:"join-form__row",children:[f.jsxs("div",{className:"join-form__group",children:[f.jsxs("label",{className:"join-form__label",children:["First Name ",f.jsx("span",{className:"join-form__required",children:"*"})]}),f.jsx("input",{type:"text",name:"firstName",className:"join-form__input join-form__input--locked",placeholder:"Enter your first name",value:g.firstName,onChange:N,required:!0,readOnly:!0})]}),f.jsxs("div",{className:"join-form__group",children:[f.jsxs("label",{className:"join-form__label",children:["Last Name ",f.jsx("span",{className:"join-form__required",children:"*"})]}),f.jsx("input",{type:"text",name:"lastName",className:"join-form__input join-form__input--locked",placeholder:"Enter your last name",value:g.lastName,onChange:N,required:!0,readOnly:!0})]})]}),f.jsxs("div",{className:"join-form__group",children:[f.jsxs("label",{className:"join-form__label",children:["Email ",f.jsx("span",{className:"join-form__required",children:"*"})]}),f.jsx("input",{type:"email",name:"email",className:"join-form__input join-form__input--locked",placeholder:"Enter your email address",value:g.email,onChange:N,required:!0,readOnly:!0})]}),f.jsxs("div",{className:"join-form__row",children:[f.jsxs("div",{className:"join-form__group",children:[f.jsxs("label",{className:"join-form__label",children:["Phone Number ",f.jsx("span",{className:"join-form__required",children:"*"})]}),f.jsx("input",{type:"tel",name:"phone",className:"join-form__input",placeholder:"Enter your phone number",value:g.phone,onChange:N,required:!0,readOnly:T||h})]}),f.jsxs("div",{className:"join-form__group",children:[f.jsx("label",{className:"join-form__label",children:"WhatsApp Number"}),f.jsx("input",{type:"tel",name:"whatsapp",className:"join-form__input",placeholder:"WhatsApp number (if different)",value:g.whatsapp,onChange:N,readOnly:T||h})]})]}),f.jsxs("div",{className:"join-form__group",children:[f.jsxs("label",{className:"join-form__label",children:["College/University ",f.jsx("span",{className:"join-form__required",children:"*"})]}),f.jsx("input",{type:"text",name:"college",className:"join-form__input",placeholder:"Enter your college or university name",value:g.college,onChange:N,required:!0,readOnly:T||h})]}),f.jsxs("div",{className:"join-form__row",children:[f.jsxs("div",{className:"join-form__group",children:[f.jsxs("label",{className:"join-form__label",children:["Department ",f.jsx("span",{className:"join-form__required",children:"*"})]}),T||h?f.jsx("input",{type:"text",className:"join-form__input",value:g.department,readOnly:!0}):f.jsx(I2,{options:PK.map(C=>({value:C,label:C})),value:g.department,onChange:C=>_(k=>({...k,department:C})),placeholder:"Select department",required:!0})]}),f.jsxs("div",{className:"join-form__group",children:[f.jsxs("label",{className:"join-form__label",children:["Year ",f.jsx("span",{className:"join-form__required",children:"*"})]}),T||h?f.jsx("input",{type:"text",className:"join-form__input",value:g.year,readOnly:!0}):f.jsx(I2,{options:FK.map(C=>({value:C,label:C})),value:g.year,onChange:C=>_(k=>({...k,year:C})),placeholder:"Select year",required:!0})]})]}),f.jsxs("div",{className:"join-form__group",children:[f.jsxs("label",{className:"join-form__label",children:["Areas of Interest ",f.jsx("span",{className:"join-form__required",children:"*"}),f.jsx("span",{className:"join-form__hint",children:"Select all teams you'd like to be part of"})]}),f.jsx("div",{className:"join-form__interests",children:MK.map(C=>f.jsx("button",{type:"button",className:`join-form__interest-btn ${g.interests.includes(C)?"join-form__interest-btn--active":""} ${T&&!h?"join-form__interest-btn--disabled":""}`,onClick:()=>P(C),disabled:T&&!h,children:C},C))})]}),f.jsxs("div",{className:"join-form__group",children:[f.jsxs("label",{className:"join-form__label",children:["Why do you want to join OrbitX? ",f.jsx("span",{className:"join-form__required",children:"*"})]}),f.jsx("textarea",{name:"whyJoin",className:"join-form__textarea",placeholder:"Tell us about your motivation and what excites you about space...",value:g.whyJoin,onChange:N,rows:4,required:!0,readOnly:T&&!h})]}),f.jsxs("div",{className:"join-form__group",children:[f.jsx("label",{className:"join-form__label",children:"Prior Experience"}),f.jsx("textarea",{name:"experience",className:"join-form__textarea",placeholder:"Any relevant experience, projects, or skills? (Optional)",value:g.experience,onChange:N,rows:3,readOnly:T&&!h})]}),(!b||h)&&f.jsx("button",{type:"submit",className:"join-form__submit",disabled:r,children:r?"Submitting...":h?"Submit Re-Application":"Submit Application"})]})}),c.length>0&&f.jsxs("section",{className:"join-history",children:[f.jsx("h2",{className:"join-history__title",children:"Application History"}),f.jsx("div",{className:"join-history__table-wrapper",children:f.jsxs("table",{className:"join-history__table",children:[f.jsx("thead",{children:f.jsxs("tr",{children:[f.jsx("th",{children:"Sr. No."}),f.jsx("th",{children:"Application ID"}),f.jsx("th",{children:"Remark"}),f.jsx("th",{children:"Status"}),f.jsx("th",{children:"Action"})]})}),f.jsx("tbody",{children:c.map((C,k)=>f.jsxs("tr",{className:`join-history__row ${k>0?"join-history__row--past":""}`,children:[f.jsx("td",{children:c.length-k}),f.jsx("td",{className:"join-history__app-id",children:C.applicationId||"N/A"}),f.jsx("td",{className:"join-history__remark",children:C.remark||"-"}),f.jsx("td",{children:f.jsx("span",{className:`join-history__status ${U(C.status)}`,children:K(C.status)})}),f.jsx("td",{children:k===0&&w&&!h?f.jsx("button",{className:"join-history__action-btn",onClick:R,children:"Re-Apply"}):f.jsx("span",{className:"join-history__no-action",children:"-"})})]},C.id))})]})})]})]}),f.jsx(go,{})]})}const VK=[{question:"How can I join OrbitX?",answer:"You can apply to join OrbitX by visiting our Join page and filling out the application form. We review applications regularly and will contact you if your application is approved."},{question:"What activities does OrbitX organize?",answer:"OrbitX organizes various activities including stargazing sessions, astronomy workshops, guest lectures, telescope building workshops, and participation in national/international astronomy events."},{question:"Do I need prior astronomy knowledge to join?",answer:"No prior knowledge is required! We welcome anyone with a passion for space and astronomy. We provide learning resources and mentorship to help you grow."},{question:"How often do you conduct events?",answer:"We conduct regular weekly meetings and monthly stargazing sessions. Special events and workshops are organized throughout the academic year."},{question:"Can I volunteer for OrbitX events?",answer:"Yes! We're always looking for enthusiastic volunteers. Members can volunteer for event organization, content creation, and outreach activities."}];function zK(){const{showToast:n}=Ga(),[e,t]=Q.useState(!1),[r,i]=Q.useState(null),[a,o]=Q.useState({name:"",email:"",subject:"",message:""}),c=m=>{const{name:g,value:_}=m.target;o(v=>({...v,[g]:_}))},u=async m=>{if(m.preventDefault(),!e){if(!a.name||!a.email||!a.subject){n("Please fill in all mandatory fields (*)","error");return}t(!0);try{const g=a.name.trim().toLowerCase(),_=a.email.trim().toLowerCase(),v=btoa(`${g}:${_}`).substring(0,12);let b=localStorage.getItem("orbitx_device_id");b||(b=Math.random().toString(36).substring(2,15),localStorage.setItem("orbitx_device_id",b));const w=Math.floor(1e5+Math.random()*9e5);await z0(ha($t,"contactMessages"),{...a,userHash:v,deviceId:b,queryId:w,createdAt:kw(),status:"unread"}),n("Message sent successfully! We'll get back to you soon.","success"),o({name:"",email:"",subject:"",message:""})}catch(g){console.error("Error sending message:",g),n("Failed to send message. Please try again.","error")}finally{t(!1)}}},h=m=>{i(r===m?null:m)};return f.jsxs(f.Fragment,{children:[f.jsxs("main",{className:"contact-page",children:[f.jsxs("section",{className:"contact-hero",children:[f.jsx("h1",{className:"contact-hero__title",children:"Get in Touch"}),f.jsx("p",{className:"contact-hero__subtitle",children:"Have questions or want to collaborate? We'd love to hear from you."})]}),f.jsxs("section",{className:"contact-grid",children:[f.jsxs("div",{className:"contact-form-wrapper",children:[f.jsx("h2",{className:"contact-section-title",children:"Send us a Message"}),f.jsxs("form",{className:"contact-form",onSubmit:u,children:[f.jsxs("div",{className:"contact-form__group",children:[f.jsx("label",{className:"contact-form__label",children:"Name *"}),f.jsx("input",{type:"text",name:"name",className:"contact-form__input",placeholder:"Your name",value:a.name,onChange:c,required:!0})]}),f.jsxs("div",{className:"contact-form__group",children:[f.jsx("label",{className:"contact-form__label",children:"Email *"}),f.jsx("input",{type:"email",name:"email",className:"contact-form__input",placeholder:"your@email.com",value:a.email,onChange:c,required:!0})]}),f.jsxs("div",{className:"contact-form__group",children:[f.jsx("label",{className:"contact-form__label",children:"Subject *"}),f.jsxs("select",{name:"subject",className:"contact-form__select",value:a.subject,onChange:c,required:!0,children:[f.jsx("option",{value:"",children:"Select a subject"}),f.jsx("option",{value:"General Inquiry",children:"General Inquiry"}),f.jsx("option",{value:"Membership",children:"Membership"}),f.jsx("option",{value:"Events",children:"Events & Workshops"}),f.jsx("option",{value:"Collaboration",children:"Collaboration"}),f.jsx("option",{value:"Sponsorship",children:"Sponsorship"}),f.jsx("option",{value:"Other",children:"Other"})]})]}),f.jsxs("div",{className:"contact-form__group",children:[f.jsx("label",{className:"contact-form__label",children:"Message"}),f.jsx("textarea",{name:"message",className:"contact-form__textarea",placeholder:"Write your message here...",rows:5,value:a.message,onChange:c})]}),f.jsx("button",{type:"submit",className:"contact-form__submit",disabled:e,children:e?"Sending...":"Send Message"})]})]}),f.jsxs("div",{className:"contact-info-wrapper",children:[f.jsx("h2",{className:"contact-section-title",children:"Contact Information"}),f.jsxs("div",{className:"contact-cards",children:[f.jsxs("a",{href:"mailto:contact@orbitxzcoer.club",className:"contact-card",children:[f.jsx("div",{className:"contact-card__icon",children:f.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("path",{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}),f.jsx("polyline",{points:"22,6 12,13 2,6"})]})}),f.jsxs("div",{className:"contact-card__content",children:[f.jsx("h3",{children:"Email"}),f.jsx("p",{children:"contact@orbitxzcoer.club"})]})]}),f.jsxs("a",{href:"https://maps.app.goo.gl/zr4Yg3uhrYabnjH49",target:"_blank",rel:"noopener noreferrer",className:"contact-card",children:[f.jsx("div",{className:"contact-card__icon",children:f.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),f.jsx("circle",{cx:"12",cy:"10",r:"3"})]})}),f.jsxs("div",{className:"contact-card__content",children:[f.jsx("h3",{children:"Location"}),f.jsx("p",{children:"Dept. of Computer Engineering, Zeal College of Engineering and Research, Pune 411041"})]})]})]}),f.jsxs("div",{className:"contact-socials",children:[f.jsx("h3",{className:"contact-socials__title",children:"Follow Us"}),f.jsxs("div",{className:"contact-socials__links",children:[f.jsx("a",{href:"https://www.instagram.com/orbitx_zcoer/",target:"_blank",rel:"noopener noreferrer",className:"social-link","aria-label":"Instagram",children:f.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("rect",{x:"2",y:"2",width:"20",height:"20",rx:"5",ry:"5"}),f.jsx("path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"}),f.jsx("line",{x1:"17.5",y1:"6.5",x2:"17.51",y2:"6.5"})]})}),f.jsx("a",{href:"https://www.linkedin.com/company/orbitx-zcoer/",target:"_blank",rel:"noopener noreferrer",className:"social-link","aria-label":"LinkedIn",children:f.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"}),f.jsx("rect",{x:"2",y:"9",width:"4",height:"12"}),f.jsx("circle",{cx:"4",cy:"4",r:"2"})]})})]})]})]})]}),f.jsxs("section",{className:"contact-map-section",children:[f.jsx("h2",{className:"contact-section-title",children:"Find Us"}),f.jsx("div",{className:"contact-map",children:f.jsx("iframe",{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2909.1004240421184!2d73.82559228870227!3d18.44842178988876!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3bc2be933201c149%3A0x1c055d83993ff72b!2sZeal%20College%20of%20Engineering%20and%20Research!5e1!3m2!1sen!2sus!4v1766668761486!5m2!1sen!2sus",width:"100%",height:"400",style:{border:0},allowFullScreen:!0,loading:"lazy",referrerPolicy:"no-referrer-when-downgrade",title:"OrbitX Location"})})]}),f.jsxs("section",{className:"contact-faq-section",children:[f.jsx("h2",{className:"contact-section-title",children:"Frequently Asked Questions"}),f.jsx("div",{className:"contact-faq",children:VK.map((m,g)=>f.jsxs("div",{className:`faq-item ${r===g?"faq-item--expanded":""}`,children:[f.jsxs("button",{className:"faq-item__question",onClick:()=>h(g),children:[f.jsx("span",{children:m.question}),f.jsx("svg",{className:"faq-item__icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:f.jsx("polyline",{points:"6 9 12 15 18 9"})})]}),f.jsx("div",{className:"faq-item__answer",children:f.jsx("p",{children:m.answer})})]},g))})]})]}),f.jsx(go,{})]})}function qK(){return f.jsxs(f.Fragment,{children:[f.jsxs("main",{className:"merch-page merch-page--coming-soon",children:[f.jsx(Ua,{direction:"fade",children:f.jsxs("section",{className:"merch-hero",children:[f.jsx("h1",{className:"merch-hero__title",children:"OrbitX Merchandise"}),f.jsx("p",{className:"merch-hero__subtitle",children:"Support our community while showcasing your passion for space. Every purchase helps fund our events, workshops, and outreach programs."})]})}),f.jsx(Ua,{direction:"up",delay:.2,children:f.jsxs("div",{className:"merch-coming-soon",children:[f.jsx("div",{className:"merch-coming-soon__icon",children:f.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:f.jsx("path",{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"})})}),f.jsx("h2",{className:"merch-coming-soon__title",children:"Coming Soon..."}),f.jsx("p",{className:"merch-coming-soon__text",children:"We're working on something stellar! Our exclusive merchandise collection will be launching soon with cosmic designs, premium quality, and sustainable materials."}),f.jsx("p",{className:"merch-coming-soon__text",children:"Stay tuned and follow us on social media for updates and early access!"})]})})]}),f.jsx(go,{})]})}function HK(){const n=Cs(),{showToast:e}=Ga(),{refreshProfile:t}=Is(),[r,i]=Q.useState(!1),a=async()=>{i(!0);try{const o=await Qw();o.isNewUser?(e("Please complete your profile to continue.","info"),n("/signup",{state:{email:o.email,isGoogleSignup:!0}})):o.profile&&(localStorage.getItem("orbitx_first_login")?(e(`Welcome, ${o.profile.firstName}!`,"success"),localStorage.removeItem("orbitx_first_login")):e(`Welcome back, ${o.profile.firstName}!`,"success"),await t(),setTimeout(()=>{n("/user-dashboard",{replace:!0})},100))}catch(o){console.error("Google sign-in error:",o),o.code==="auth/popup-closed-by-user"||o.code==="auth/cancelled-popup-request"||e("Failed to sign in with Google. Please try again.","error")}finally{i(!1)}};return f.jsx("main",{className:"login-page page-transition",children:f.jsxs("div",{className:"login-container login-container--compact",children:[f.jsxs("div",{className:"login-header",children:[f.jsx("h1",{className:"login-title",children:"Welcome to OrbitX"}),f.jsx("p",{className:"login-subtitle",children:"Sign in or create an account to continue"})]}),f.jsxs("div",{className:"login-google-section",children:[f.jsxs("button",{className:"login-google-btn",onClick:a,disabled:r,children:[f.jsxs("svg",{viewBox:"0 0 24 24",children:[f.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),f.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),f.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),f.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),r?"Please wait...":"Continue with Google"]}),f.jsx("p",{className:"login-info",children:"By continuing, you agree to our Terms of Service and Privacy Policy"})]})]})})}function GK({options:n,value:e,onChange:t,placeholder:r="Start typing...",error:i=!1,maxSuggestions:a=8}){const[o,c]=Q.useState(e),[u,h]=Q.useState([]),[m,g]=Q.useState(!1),[_,v]=Q.useState(-1),b=Q.useRef(null),w=Q.useRef(null),T=Q.useRef(null);Q.useEffect(()=>{c(e)},[e]);const N=Q.useCallback(K=>{if(!K.trim())return[];const U=K.toLowerCase();return n.filter(C=>C.toLowerCase().includes(U)).slice(0,a)},[n,a]),P=K=>{const U=K.target.value;c(U),h(N(U)),g(!0),v(-1),e!==""&&t("")},R=K=>{c(K),t(K),g(!1),v(-1),w.current?.blur()},j=K=>{if(!m){(K.key==="ArrowDown"||K.key==="Enter")&&(h(N(o)),g(!0));return}switch(K.key){case"ArrowDown":K.preventDefault(),v(U=>U<u.length-1?U+1:U);break;case"ArrowUp":K.preventDefault(),v(U=>U>0?U-1:-1);break;case"Enter":K.preventDefault(),_>=0&&_<u.length&&R(u[_]);break;case"Escape":g(!1),v(-1);break;case"Tab":g(!1);break}};return Q.useEffect(()=>{if(_>=0&&T.current){const U=T.current.querySelectorAll(".autocomplete__option")[_];U&&U.scrollIntoView({block:"nearest"})}},[_]),Q.useEffect(()=>{const K=U=>{b.current&&!b.current.contains(U.target)&&(g(!1),n.includes(o)||c(e))};return document.addEventListener("mousedown",K),()=>document.removeEventListener("mousedown",K)},[o,e,n]),f.jsxs("div",{ref:b,className:`autocomplete ${m&&u.length>0?"autocomplete--open":""} ${i?"autocomplete--error":""}`,children:[f.jsxs("div",{className:"autocomplete__input-wrapper",children:[f.jsx("input",{ref:w,type:"text",className:"autocomplete__input",value:o,onChange:P,onKeyDown:j,onFocus:()=>{o.trim()&&(h(N(o)),g(!0))},placeholder:r,autoComplete:"off"}),f.jsx("span",{className:"autocomplete__icon",children:f.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:f.jsx("polyline",{points:"6 9 12 15 18 9"})})})]}),m&&u.length>0&&f.jsx("ul",{ref:T,className:"autocomplete__dropdown",children:u.map((K,U)=>f.jsx("li",{className:`autocomplete__option ${U===_?"autocomplete__option--highlighted":""} ${K===e?"autocomplete__option--selected":""}`,onClick:()=>R(K),onMouseEnter:()=>v(U),children:K},K))}),m&&o.trim()&&u.length===0&&f.jsx("div",{className:"autocomplete__dropdown autocomplete__no-results",children:"No matching colleges found"})]})}const WK=JSON.parse(`["A. P. Shah Institute of Technology, Thane","ANURADHA COLLEGE OF ENGINEERING & TECHNOLOGY","APPASAHEB ALIAS SA.RE.PATIL INSTITUTE OF TECHNOLOGY, Dattanagar Tal-Shirol, Dist Kolhapur","Adarsh Shikshan Prasarak Mandal's K. T. Patil College of Engineering and Technology, Osmanabad","Aditya Engineering College , Beed","Agnel Charities' FR. C. Rodrigues Institute of Technology, Vashi, Navi Mumbai","Ahmednagar Jilha Maratha Vidya Prasarak Samajache, Shri. Chhatrapati Shivaji Maharaj College of Engineering, Nepti","Ajeenkya DY Patil School of Engineering, Lohegaon, Pune","Al-Ameen Educational and Medical Foundation, College of Engineering, Koregaon, Bhima","Alard Charitable Trust's Alard College of Engineering and Management, Pune","Aldel Education Trust's St. John College of Engineering & Management, Vevoor, Palghar","All India Shri Shivaji Memorial Society's College of Engineering, Pune","All India Shri Shivaji Memorial Society's Institute of Information Technology,Pune","Amar Seva Mandal's Shree Govindrao Vanjari College of Engineering & Technology, Nagpur","Amolak College of Engineering Kada","Amruta Vaishnavi Education & Welfare Trust's Shatabdi Institute of Engineering & Research, Agaskhind Tal. Sinnar","Amrutvahini Sheti & Shikshan Vikas Sanstha's Amrutvahini College of Engineering, Sangamner","Anantrao Pawar College of Engineering & Research, Pune","Anjuman College of Engineering & Technology, Nagpur","Anjuman-I-Islam's M.H. Saboo Siddik College of Engineering, Byculla, Mumbai","Ankush Shikshan Sanstha's G.H.Raisoni College of Engineering, Nagpur","Annasaheb Dange College of Engineering and Technology, Ashta, Sangli","Ashok Institute of Engineering & Technology","Assam University, Silchar","Atal Bihari Vajpayee Indian Institute of Information Technology & Management Gwalior","Atharva College of Engineering,Malad(West),Mumbai","Aurangabad College of Engineering, Naygaon Savangi, Aurangabad","B.R. Harne College of Engineering & Technology, Karav, Tal-Ambernath","Babasaheb Phadtare Engineering & Technology Kalamb-Walchandnagar Tal Indapur Dist Pune","Bajaj Institute of Technology, Wardha","Bansilal Ramnath Agarawal Charitable Trust's Vishwakarma Institute of Technology, Bibwewadi, Pune","Bapurao Deshmukh College of Engineering, Sevagram","Bhagwant Institute of Technology, Barshi","Bharat College of Engineering, Kanhor, Badlapur(W)","Bharati Vidyapeeth College of Engineering, Navi Mumbai","Bharati Vidyapeeth's College of Engineering for Women, Katraj, Dhankawadi, Pune","Bharati Vidyapeeth's College of Engineering, Kolhapur","Bharati Vidyapeeth's College of Engineering,Lavale, Pune","Bhartiya Vidya Bhavan's Sardar Patel Institute of Technology , Andheri, Mumbai","Birla Institute of Technology, Deoghar Off-Campus","Birla Institute of Technology, Mesra, Ranchi","Birla Institute of Technology, Patna Off-Campus","Brahma Valley College of Engineering & Research, Trimbakeshwar, Nashik","CDS College of Engineering","COEP Technological University","CSMSS Chh. Shahu College of Engineering, Aurangabad","Central University of Haryana","Central University of Jammu","Central University of Rajasthan, Rajasthan","Central institute of Technology Kokrajar, Assam","Chhartrapati Shivaji Maharaj Institute of Technology, Shedung, Panvel","Chhattisgarh Swami Vivekanada Technical University, Bhilai (CSVTU Bhilai)","College of Engineering and Technology ,North Maharashtra Knowledge City, Jalgaon","Cummins College of Engineering For Women, Sukhali (Gupchup), Tal. Hingna Hingna Nagpur","D.Y. Patil College of Engineering and Technology, Kolhapur","D.Y.Patil Education Society's,D.Y.Patil Technical Campus, Faculty of Engineering & Faculty of Management,Talsande,Kolhapur","DNYANVILAS COLLEGE OF ENGINEERING","Dattajirao Kadam Technical Education Society's Textile & Engineering Institute, Ichalkaranji","Deogiri Institute of Engineering and Management Studies, Aurangabad","Department of Technology, Shivaji University, Kolhapur","Devi Mahalaxmi College of Engineering and Technology","Dhole Patil Education Society, Dhole Patil College of Engineering, Wagholi, Tal. Haveli","Dilkap Research Institute Of Engineering and Management Studies, At.Mamdapur, Post- Neral, Tal- Karjat, Mumbai","Dnyanshree Institute Engineering and Technology, Satara","Don Bosco Institute of Technology, Mumbai","Dr. A. D. Shinde College Of Engineering, Tal.Gadhinglaj, Kolhapur","Dr. Ashok Gujar Technical Institute's Dr. Daulatrao Aher College of Engineering, Karad","Dr. B R Ambedkar National Institute of Technology, Jalandhar","Dr. Babasaheb Ambedkar Technological University, Lonere","Dr. D Y Patil Pratishthan's College of Engineering, Kolhapur","Dr. D. Y. Patil Pratishthan's D.Y.Patil College of Engineering Akurdi, Pune","Dr. D. Y. Patil Unitech Society's Dr. D. Y. Patil Institute of Technology, Pimpri, Pune","Dr. J. J. Magdum Charitable Trust's Dr. J.J. Magdum College of Engineering, Jaysingpur","Dr. V.K. Patil College of Engineering & Technology","Dr. Vithalrao Vikhe Patil College of Engineering, Ahmednagar","Dr.D.Y.Patil College Of Engineering & Innovation,Talegaon","Dr.Rajendra Gode Institute of Technology & Research, Amravati","Dwarka Bahu Uddeshiya Gramin Vikas Foundation, Rajarshi Shahu College of Engineering, Buldhana","Eaglewood Polytechnic Institute, A.P Phulepimpalgaon","Excelsior Education Society's K.C. College of Engineering and Management Studies and Research, Kopri, Thane (E)","Fabtech Technical Campus College of Engineering and Research, Sangola","Flora Institute of Technology, Khopi, Near Khed Shivapur Toll Plaza, Pune","Fr. Conceicao Rodrigues College of Engineering, Bandra,Mumbai","G H Raisoni College of Engineering & Management, Nagpur","G H Raisoni College of Engineering and Management, Jalgaon","G. S. Mandal's Maharashtra Institute of Technology, Aurangabad","G.H.Raisoni College of Engineering & Management, Wagholi, Pune","G.M.Vedak Institute of Technology, Tala, Raigad","Genba Sopanrao Moze College of Engineering, Baner-Balewadi, Pune","Genba Sopanrao Moze Trust Parvatibai Genba Moze College of Engineering,Wagholi, Pune","Ghani Khan Choudhary Institute of Engineering and Technology, Malda, West Bengal","Gharda Foundation's Gharda Institute of Technology,Khed, Ratnagiri","Godavari Foundation's Godavari College Of Engineering, Jalgaon","Gokhale Education Society's, R.H. Sapat College of Engineering, Management Studies and Research, Nashik","Gondia Education Society's Manoharbhai Patel Institute Of Engineering & Technology, Shahapur, Bhandara","Government College of Engineering & Research, Avasari Khurd","Government College of Engineering, Chandrapur","Government College of Engineering, Chhatrapati Sambhajinagar","Government College of Engineering, Jalgaon","Government College of Engineering, Karad","Government College of Engineering, Kolhapur","Government College of Engineering, Nagpur","Government College of Engineering,Yavatmal","Guru Gobind Singh College of Engineering & Research Centre, Nashik","Guru Nanak Institute of Engineering & Technology,Kalmeshwar, Nagpur","Gurunanak Educational Society's Gurunanak Institute of Technology, Nagpur","Haji Jamaluddin Thim Trust's Theem College of Engineering, At. Villege Betegaon, Boisar","Hi-Tech Institute of Technology, Aurangabad","Hindi Seva Mandal's Shri Sant Gadgebaba College of Engineering & Technology, Bhusawal","Hope Foundation and research center's Finolex Academy of Management and Technology, Ratnagiri","INDIAN INSTITUTE OF INFORMATION TECHNOLOGY SENAPATI MANIPUR","ISBM College Of Engineering Pune","Ideal Institute of Technology, Wada, Dist.Thane","Imperial College of Engineering","Indala College Of Engineering, Bapsai Tal.Kalyan","Indian Institute of Carpet Technology, Bhadohi","Indian Institute of Engineering Science and Technology, Shibpur","Indian Institute of Handloom Technology(IIHT), Varanasi","Indian Institute of Handloom Technology, Salem","Indian Institute of Information Technology (IIIT) Nagpur","Indian Institute of Information Technology (IIIT) Pune","Indian Institute of Information Technology (IIIT) Ranchi","Indian Institute of Information Technology (IIIT), Sri City, Chittoor","Indian Institute of Information Technology (IIIT)Kota, Rajasthan","Indian Institute of Information Technology Bhagalpur","Indian Institute of Information Technology Bhopal","Indian Institute of Information Technology Design & Manufacturing Kurnool, Andhra Pradesh","Indian Institute of Information Technology Guwahati","Indian Institute of Information Technology Lucknow","Indian Institute of Information Technology Surat","Indian Institute of Information Technology Tiruchirappalli","Indian Institute of Information Technology(IIIT) Dharwad","Indian Institute of Information Technology(IIIT) Kalyani, West Bengal","Indian Institute of Information Technology(IIIT) Kilohrad, Sonepat, Haryana","Indian Institute of Information Technology(IIIT) Kottayam","Indian Institute of Information Technology(IIIT) Una, Himachal Pradesh","Indian Institute of Information Technology(IIIT), Vadodara, Gujrat","Indian Institute of Information Technology, Agartala","Indian Institute of Information Technology, Allahabad","Indian Institute of Information Technology, Design & Manufacturing, Kancheepuram","Indian Institute of Information Technology, Vadodara International Campus Diu (IIITVICD)","Indian Institute of Technology (BHU) Varanasi","Indian Institute of Technology (ISM) Dhanbad","Indian Institute of Technology Bhilai","Indian Institute of Technology Bhubaneswar","Indian Institute of Technology Bombay","Indian Institute of Technology Delhi","Indian Institute of Technology Dharwad","Indian Institute of Technology Gandhinagar","Indian Institute of Technology Goa","Indian Institute of Technology Guwahati","Indian Institute of Technology Hyderabad","Indian Institute of Technology Indore","Indian Institute of Technology Jammu","Indian Institute of Technology Jodhpur","Indian Institute of Technology Kanpur","Indian Institute of Technology Kharagpur","Indian Institute of Technology Madras","Indian Institute of Technology Mandi","Indian Institute of Technology Palakkad","Indian Institute of Technology Patna","Indian Institute of Technology Roorkee","Indian Institute of Technology Ropar","Indian Institute of Technology Tirupati","Indian institute of information technology, Raichur, Karnataka","Indira College of Engineering & Management, Pune","Institute of Chemical Technology, Matunga, Mumbai","Institute of Chemical Technology, Mumbai Marathwada off campus, Jalna","Institute of Chemical Technology, Mumbai: Indian Oil Odisha Campus, Bhubaneswar","Institute of Engineering and Technology, Dr. H. S. Gour University. Sagar (A Central University)","Institute of Infrastructure, Technology, Research and Management-Ahmedabad","International Centre Of Excellence In Engineering and Management (ICEEM)","International Institute of Information Technology (IIT), Pune","International Institute of Information Technology, Bhubaneswar","International Institute of Information Technology, Naya Raipur","Islamic University of Science and Technology Kashmir","J.K. Institute of Applied Physics & Technology, Department of Electronics & Communication, University of Allahabad- Allahabad","JAMIA INSTITUTE OF TECHNOLOGY","JMSS Shri Shankarprasad Agnihotri College of Engineering, Wardha","JSPM College of Engineering, Latur","JSPM'S Jaywantrao Sawant College of Engineering,Pune","Jagadamba Education Soc. Nashik's S.N.D. College of Engineering & Reserch, Babulgaon","Jagadambha Bahuuddeshiya Gramin Vikas Sanstha's Jagdambha College of Engineering and Technology, Yavatmal","Jai Mahakali Shikshan Sanstha, Agnihotri College of Engineering, Sindhi(Meghe)","Jaidev Education Society, J D College of Engineering and Management, Nagpur","Jaihind College Of Engineering,Kuran","Janata Shikshan Prasarak Mandals Babasaheb Naik College Of Engineering, Pusad","Jawahar Education Society's Annasaheb Chudaman Patil College of Engineering,Kharghar, Navi Mumbai","Jawahar Education Society's Institute of Technology, Management & Research, Nashik","Jawaharlal Darda Institute of Engineering and Technology, Yavatmal","Jawaharlal Nehru University, Delhi","Jayawant Shikshan Prasarak Mandal, Bhivarabai Sawant Institute of Technology & Research, Wagholi","Jaywant College of Engineering & Polytechnic , Kille Macchindragad Tal. Walva District- Sangali","Jaywant Shikshan Prasarak Mandal's,Rajarshi Shahu College of Engineering, Tathawade, Pune","Jijau Institute of Engineering Technology and Management, Khandgaon (Bendri), Taluka Naigaon, District Nanded","K J Somaiya Institute of Technology","K. E. Society's Rajarambapu Institute of Technology, Walwa, Sangli","K. J.'s Educational Institut Trinity College of Engineering and Research, Pisoli, Haveli","K. K. Wagh Institute of Engineering Education and Research, Nashik","K.D.K. College of Engineering, Nagpur","K.D.M. Education Society, Vidharbha Institute of Technology,Umred Road ,Nagpur","K.J.'s Educational Institute's K.J.College of Engineering & Management Research, Pisoli","K.V.N. Naik S. P. Sansth's Loknete Gopinathji Munde Institute of Engineering Education & Research, Nashik","KJEI's Trinity Academy of Engineering, Yewalewadi, Pune","KSGBS's Bharat- Ratna Indira Gandhi College of Engineering, Kegaon, Solapur","Kai Amdar Bramhadevdada Mane Shikshan & Samajik Prathistan's Bramhadevdada Mane Institute of Technology, Solapur","Kalyani Charitable Trust, Late Gambhirrao Natuba Sapkal College of Engineering, Anjaneri, Trimbakeshwar Road, Nashik","Karanjekar College of Engineering & Management, Sakoli","Karmayogi Institute of Technology","Kavi Kulguru Institute of Technology & Science, Ramtek","Kedareshwar Gramin Vikas Pratishthan, Samajbhushan Eknathrao Dhakane College, of Engineering, Shevgaon","Keystone School of Engineering, Pune","Khandesh College Education Society's College Of Engineering And Management, Jalgaon","Kolhapur Institute of Technology's College of Engineering(Autonomous), Kolhapur","Konkan Gyanpeeth College of Engineering, Karjat","Koti Vidya Charitable Trust's Smt. Alamuri Ratnamala Institute of Engineering and Technology, Sapgaon, Tal. Shahapur","Krushi Jivan Vikas Pratishthan, Ballarpur Institute of Technology, Mouza Bamni","Late Narayandas Bhawandas Chhabada Institute of Engineering & Technology, Satara","Laxminarayan Innovation Technological University, Nagpur","Leela Education Society, G.V. Acharya Institute of Engineering and Technology, Shelu, Karjat","Lokmanya Tilak College of Engineering, Kopar Khairane, Navi Mumbai","Lokmanya Tilak Jankalyan Shikshan Sanstha, Priyadarshani College of Engineering, Nagpur","Loknete Hanumantrao Charitable Trust's Adarsh Institute of Technology and Research Centre, Vita,Sangli","Loknete Shamrao Peje Government College of Engineering, Ratnagiri","M.D. Yergude Memorial Shikshan Prasarak Mandal's Shri Sai College of Engineering & Technology, Bhadrawati","M.G.M.'s College of Engineering and Technology, Kamothe, Navi Mumbai","M.S. Bidve Engineering College, Latur","MAEER's MIT College of Railway Engineering and Research, Jamgaon, Barshi","MAEER's Maharashtra Institute of Technology, Thane","MES MUKUNDDAS LOHIA COLLEGE OF ENGINEERING","MET Bhujbal Knowledge City MET League's Engineering College, Adgaon, Nashik","MET's Institute of Technology Polytechnic, Bhujbal Knowledge City, Adgaon Nashik","MIT Academy of Engineering,Alandi, Pune","MKD Institute of Technology, Nadurbar","MKSSS's Cummins College of Engineering for Women, Karvenagar,Pune","Mahatma Basaweshwar Education Society's College of Engineering, Ambejogai","Mahatma Education Society's Pillai College of Engineering, New Panvel","Mahatma Education Society's Pillai HOC College of Engineering & Technology, Tal. Khalapur. Dist. Raigad","Mahatma Gandhi Missions College of Engineering, Hingoli Rd, Nanded","Mahavir Education Trust's Shah & Anchor Kutchhi Engineering College, Mumbai","Maitraya Education Society, Nagarjuna Institute of Engineering Technology & Management, Nagpur","Malaviya National Institute of Technology Jaipur","Manav School of Engineering & Technology, Gut No. Nagpur Surat Highway, NH No. Tal.Vyala, Balapur, Akola","Mangaldeep College of Engineering","Manjara Charitable Trust's Rajiv Gandhi Institute of Technology, Mumbai","Maratha Vidya Prasarak Samaj's Karmaveer Adv. Baburao Ganpatrao Thakare College Of Engineering, Nashik","Marathwada Mitra Mandal's College of Engineering, Karvenagar, Pune","Marathwada Mitra Mandal's Institute of Technology, Lohgaon, Pune","Marathwada Shikshan Prasarak Mandal's Shri Shivaji Institute of Engineering and Management Studies, Parbhani","Matoshri Aasarabai Institute of Technology and Research Centre","Matoshri College of Engineering and Research Centre, Eklahare, Nashik","Matoshri Education Soceity, Matoshri Institute Of Technology, Dhanore, Nashik","Matsyodari Shikshan Sansatha's College of Engineering and Technology, Jalna","Maulana Azad National Institute of Technology Bhopal","Mauli Group of Institutions, College of Engineering and Technology, Shegaon","Metropolitan Institute of Technology & Management, Sukhalwad, Sindhudurg","Mitthulalji Sarada Institute Of Technology, Nalwandi Road, Beed","Mizoram University, Aizawl","Modern Education Society's Wadia College of Engineering, Pune","Motilal Nehru National Institute of Technology Allahabad","N. B. Navale Sinhgad College of Engineering, Kegaon, solapur","N.Y.S.S.'s Datta Meghe College of Engineering, Airoli, Navi Mumbai","NBN Sinhgad Technical Institutes Campus, Pune","NEW INSTITUTE OF TECHNOLOGY,KOLHAPUR","NKSPT INSTITUTE OF ENGINEERING AND TECHNOLOGY PATHIKAR CAMPUS","Nagaon Education Society's Gangamai College of Engineering, Nagaon, Tal Dist Dhule","Nagnathappa Halge Engineering College, Parli, Beed","Nanasaheb Mahadik College of Engineering,Walwa, Sangli","National Institute of Advanced Manufacturing Technology, Ranchi","National Institute of Electronics and Information Technology, Ajmer (Rajasthan)","National Institute of Electronics and Information Technology, Aurangabad (Maharashtra)","National Institute of Electronics and Information Technology, Gorakhpur (UP)","National Institute of Electronics and Information Technology, Patna (Bihar)","National Institute of Electronics and Information Technology, Ropar (Punjab)","National Institute of Food Technology Entrepreneurship and Management, Kundli","National Institute of Food Technology Entrepreneurship and Management, Thanjavur","National Institute of Technology Agartala","National Institute of Technology Arunachal Pradesh","National Institute of Technology Calicut","National Institute of Technology Delhi","National Institute of Technology Durgapur","National Institute of Technology Goa","National Institute of Technology Hamirpur","National Institute of Technology Karnataka, Surathkal","National Institute of Technology Meghalaya","National Institute of Technology Nagaland","National Institute of Technology Patna","National Institute of Technology Puducherry","National Institute of Technology Raipur","National Institute of Technology Sikkim","National Institute of Technology, Andhra Pradesh","National Institute of Technology, Jamshedpur","National Institute of Technology, Kurukshetra","National Institute of Technology, Manipur","National Institute of Technology, Mizoram","National Institute of Technology, Rourkela","National Institute of Technology, Silchar","National Institute of Technology, Srinagar","National Institute of Technology, Tiruchirappalli","National Institute of Technology, Uttarakhand","National Institute of Technology, Warangal","Navjeevan Education Society's College of Engineering, Bhandup(W), Mumbai","New Horizon Institute of Technology & Management, Thane","Nikam Institute of Technology(Polytechnic),Dhule","North Eastern Regional Institute of Science and Technology, Nirjuli- (Itanagar),Arunachal Pradesh","North-Eastern Hill University, Shillong","Nutan Maharashtra Vidya Prasarak Mandal, Nutan Maharashtra Institute of Engineering &Technology, Talegaon station, Pune","P. R. Pote Patil College of Engineering & Management, Amravati","P.G. College of Engineering & Technology, Nandurbar","P.S.G.V.P. Mandal's D.N. Patel College of Engineering, Shahada, Dist. Nandurbar","PUNE VIDYARTHI GRIHAS COLLEGE OF ENGINEERING & SHRIKRUSHNA S. DHAMANKAR INSTITUTE OF MANAGEMENT, NASHIK","PURANMAL LAHOTI GOVERNMENT INSTITUTE OF ENGINEERING AND TECHNOLOGY, LATUR","PVG's College of Engineering, Technology & Management","Padmashri Dr. V.B. Kolte College of Engineering, Malkapur, Buldhana","Peoples Education Society's College of Engineering, Aurangabad","Phaltan Education Society's College of Engineering Thakurki Tal- Phaltan Dist-Satara","Pimpri Chinchwad Education Trust's Pimpri Chinchwad College Of Engineering And Research, Ravet","Pimpri Chinchwad Education Trust, Pimpri Chinchwad College of Engineering, Pune","Pradnya Niketan Education Society's Nagesh Karajagi Orchid College of Engineering & Technology, Solapur","Pravara Rural College of Engineering, Loni, Pravaranagar, Ahmednagar","Pravara Rural Education Society's Sir Visvesvaraya Institute of Technology, Chincholi Dist. Nashik","Pravin Rohidas Patil College of Engineering & Technology","Priyadarshini Bhagwati College of Engineering, Harpur Nagar, Umred Road,Nagpur","Prof Ram Meghe College of Engineering and Management, Badnera","Prof. Ram Meghe Institute of Technology & Research, Amravati","Progressive Education Society's Modern College of Engineering, Pune","Pt. Dwarka Prasad Mishra Indian Institute of Information Technology, Design & Manufacture Jabalpur","Puducherry Technological University, Puducherry","Pune District Education Association's College of Engineering, Manjari(Bk), Hadapsar, Pune","Pune Institute of Computer Technology","Punjab Engineering College, Chandigarh","R. C. Patel Institute of Technology, Shirpur","R.C. Patel College of Engineering and Polytechnic, Shirpur","R.V. Parankar College of Engineering & Technology, Arvi, Dist Wardha","Rajendra Mane College of Engineering & Technology Ambav Deorukh","Rajiv Gandhi College of Engineering Research & Technology Chandrapur","Rajiv Gandhi College of Engineering, At Post Karjule Hariya Tal.Parner, Dist.Ahmednagar","Rajiv Gandhi National Aviation University, Fursatganj, Amethi (UP)","Rasiklal M. Dhariwal Sinhgad Technical Institutes Campus, Warje, Pune","Rayat Shikshan Sanstha's Karmaveer Bhaurao Patil College of Engineering, Satara","Rizvi Education Society's Rizvi College of Engineering, Bandra,Mumbai","S K N Sinhgad College of Engineering, Korti Tal. Pandharpur Dist Solapur","S.I.E.S. Graduate School of Technology, Nerul, Navi Mumbai","S.S.P.M.'s College of Engineering, Kankavli","SKN Sinhgad Institute of Technology & Science, Kusgaon(BK),Pune","SMT. SHARCHCHANDRIKA SURESH PATIL INSTITUTE OF TECHNOLOGY (ENGINEERING & POLYTECHNIC), CHOPDA","SNJB's Late Sau. Kantabai Bhavarlalji Jain College of Engineering, (Jain Gurukul), Neminagar,Chandwad,(Nashik)","ST. Vincent Pallotti College of Engineering & Technology, Nagpur","STMEI's Sandipani Technical Campus-Faculty of Engineering, Latur","SVERI's College of Engineering, Pandharpur","Sahakar Maharshee Shankarrao Mohite Patil Institute of Technology & Research, Akluj","Sahyadri Valley College of Engineering & Technology, Rajuri, Pune","Samarth College of Engineering and Management","Samarth Education Trust's Arvind Gavali College Of Engineering Panwalewadi, Varye,Satara","Samridhi Sarwajanik Charitable Trust, Jhulelal Institute of Technology, Nagpur","Sandip Foundation's, Sandip Institute of Engineering & Management, Nashik","Sandip Foundation, Sandip Institute of Technology and Research Centre, Mahiravani, Nashik","Sanghavi College of Engineering, Varvandi, Nashik","Sanjay Ghodawat Institute","Sanjivani Rural Education Society's Sanjivani College of Engineering, Kopargaon","Sanmarg Shikshan Sanstha's Smt. Radhikatai Pandav College of Engineering, Nagpur","Sanmarg Shikshan Sanstha, Mandukarrao Pandav College of Engineering, Bhandara","Sanmati Engineering College, Sawargaon Barde, Washim","Sant Eknath College of Engineering","Sant Gadge Baba Amravati University,Amravati","Sant Gajanan Maharaj College of Engineering, Gadhinglaj","Sant Longowal Institute of Engineering and Technology","Saraswati Education Society's Saraswati College of Engineering,Kharghar Navi Mumbai","Saraswati Education Society, Yadavrao Tasgaonkar Institute of Engineering & Technology, Karjat","Sardar Patel College of Engineering, Andheri","Sardar Vallabhbhai National Institute of Technology, Surat","School of Engineering, Tezpur University, Napaam, Tezpur","School of Planning & Architecture, Bhopal","School of Planning & Architecture, New Delhi","School of Planning & Architecture: Vijayawada","School of Studies of Engineering and Technology, Guru Ghasidas Vishwavidyalaya, Bilaspur","Shahajirao Patil Vikas Pratishthan, S.B.Patil College of Engineering, Vangali, Tal. Indapur","Shanti Education Society, A.G. Patil Institute of Technology, Soregaon, Solapur(North)","Sharad Institute of Technology College of Engineering, Yadrav(Ichalkaranji)","Shetkari Shikshan Mandal's Pad. Vasantraodada Patil Institute of Technology, Budhgaon, Sangli","Shetkari Shikshan Prasarak Mandal's Mahesh Institute of Engineering and Technology , Ashti","Shivajirao S. Jondhale College of Engineering, Dombivali,Mumbai","Shivganga Charitable Trust, Sangli Vishveshwarya Technical Campus, Faculty of Diploma Engineering, Patgaon, Miraj","Shivnagar Vidya Prasarak Mandal's College of Engineering, Malegaon-Baramati","Shramsadhana Bombay Trust, College of Engineering & Technology, Jalgaon","Shree Gajanan Maharaj Shikshan Prasarak Manda'l Sharadchandra Pawar College of Engineering, Dumbarwadi","Shree L.R. Tiwari College of Engineering, Mira Road, Mumbai","Shree Ramchandra College of Engineering, Lonikand,Pune","Shree Santkrupa Shikshan Sanstha, Shree Santkrupa Institute Of Engineering & Technology, Karad","Shree Siddheshwar Womens College Of Engineering Solapur","Shree Tuljabhavani College of Engineering, Tuljapur","Shree Yash Pratishthan, Shreeyash College of Engineering and Technology, Aurangabad","Shri G. S. Institute of Technology and Science Indore","Shri Guru Gobind Singhji Institute of Engineering and Technology, Nanded","Shri Hanuman Vyayam Prasarak Mandals College of Engineering & Technology, Amravati","Shri Mata Vaishno Devi University, Katra, Jammu & Kashmir","Shri Sant Gajanan Maharaj College of Engineering,Shegaon","Shri Shivaji Education Society's College of Engineering and Technology, Akola","Shri Shivaji Vidya Prasarak Sanstha's Late Bapusaheb Shivaji Rao Deore College of Engineering,Dhule","Shri Swami Samarth Institute of Management and Technology, Malwadi-Bota","Shri Vile Parle Kelavani Mandal's College of Engineering, Shirpur","Shri Vile Parle Kelvani Mandal's Dwarkadas J. Sanghvi College of Engineering, Vile Parle,Mumbai","Shri. Ambabai Talim Sanstha's Sanjay Bhokare Group of Institutes, Miraj","Shri. Anandrao Abitkar College of Engineering, Pal","Shri. Jaykumar Rawal Institute of Technology, Dondaicha","Shri. Sai Shikshan Sanstha, Nagpur Institute of Technology, Nagpur","Shri.Someshwar Shikshan Prasarak Mandal, Sharadchandra Pawar College of Engineering & Technology, Someshwar Nagar","Shriram Gram Vikas Shikshan Sanstha, Vilasrao Deshmukh College of Engineering and Technology, Nagpur","Shriram Institute Of Engineering & Technology, (Poly), Paniv","Siddhant College of Engineering, A/p Sudumbare, Tal.Maval, Dist-Pune","Siddhivinayak Technical Campus, School of Engineering & Research Technology, Shirasgon, Nile","Sinhgad Academy of Engineering, Kondhwa (BK) Kondhwa-Saswad Road, Pune","Sinhgad College of Engineering, Vadgaon (BK), Pune","Sinhgad Institute of Technology","Sinhgad Technical Education Society's Smt. Kashibai Navale College of Engineering,Vadgaon,Pune","Sinhgad Technical Education Society, Sinhgad Institute of Technology and Science, Narhe (Ambegaon)","Sipna Shikshan Prasarak Mandal College of Engineering & Technology, Amravati","Sir Shantilal Badjate Charitable Trust's S. B. Jain Institute of technology, Management & Research, Nagpur","Smt. Indira Gandhi College of Engineering, Navi Mumbai","Somayya Institute of Technology, Chandrapur","St. Francis Institute of Technology,Borivali, Mumbai","Suman Ramesh Tulsiani Technical Campus Faculty of Engineering, Kamshet,Pune","Suryodaya College of Engineering & Technology, Nagpur","Svkm's Shri Bhagubhai Mafatlal Polytechnic & College of Engineering","Swami Vivekanand Institute Of Technology, Solapur","Swami Vivekananda Shikshan Sanstha, Dr. Bapuji Salunkhe Institute Of Engineering & Technology,Kolhapur","Swaminarayan Siddhanta Institute Of Technology, Nagpur","T.M.E. Society's J.T.Mahajan College of Engineering, Faizpur","TSSM's Bhivarabai Sawant College of Engineering and Research, Narhe, Pune","TSSMS's Pd. Vasantdada Patil Institute of Technology, Bavdhan, Pune","Takshashila Institute of Engineering & Technology, Darapur, Amravati","Tatyasaheb Kore Institute of Engineering and Technology, Warananagar","Terna Engineering College, Nerul, Navi Mumbai","Terna Public Charitable Trust's College of Engineering, Osmanabad","Thadomal Shahani Engineering College, Bandra, Mumbai","Thakur College of Engineering and Technology, Kandivali, Mumbai","Thakur Shree DPS College of Engineering & Management","Thakur Shyamnarayan Engineering College, Mumbai","Trimurti Shikshan Prasarak Mandal, Trimurti Institute Of Technology, Paladhi Bk, Jalgaon","Tulsiramji Gaikwad Patil College of Engineering & Technology, Nagpur","Universal College of Engineering & Research, Sasewadi","University Department of Chemical Technology, Aurangabad","University Institute of Chemical Technology, North Maharashtra University, Jalgaon","University of Hyderabad","Usha Mittal Institute of Technology SNDT Women's University, Mumbai","VAMANRAO ITHAPE COLLEGE OF ENGINEERING AND MANAGEMENT","VPM's Maharshi Parshuram College of Engineering, Velneshwar, Ratnagiri","Vardhaman Education & Welfare Society, Ahinsa Institute of Technology, Post. Dondaicha, Dhule","Vasantdada Patil Pratishthan's College Of Engineering and Visual Arts, Sion, Mumbai","Veermata Jijabai Technological Institute(VJTI), Matunga, Mumbai","Vidya Niketan College of Engineering, Bota Sangamner","Vidya Niketan Institute of Engineering & Technology, Lakhewadi","Vidya Prasarak Mandal's College of Engineering, Thane","Vidya Prasarini Sabha's College of Engineering & Technology, Lonavala","Vidya Pratishthan's Kamalnayan Bajaj Institute of Engineering & Technology, Baramati Dist.Pune","Vidya Vikas Pratishthan Institute of Engineering and Technology, Solapur","Vidyalankar Institute of Technology,Wadala, Mumbai","Vidyavardhini's College of Engineering and Technology, Vasai","Vighnaharata Trust's Shivajirao S. Jondhale College of Engineering & Technology, Shahapur, Asangaon, Dist Thane","Vishnu Waman Thakur Charitable Trust's VIVA Institute of Technology, Virar","Vishwabharati Academy's College of Engineering, Ahmednagar","Vishwaniketan's Institute of Management Entrepreneurship and Engineering Technology(i MEET), Khalapur Dist Raigad","Vishwatmak Jangli Maharaj Ashram Trust (Kokamthan), Atma Malik Institute Of Technology & Research","Vishweshwarayya Institute Of Engineering And Technology, Almala, Tq. Ausa, Dist. Latur","Vision Buldhana Educational & Welfare Society's Pankaj Laddhad Institute of Technology & Management Studies, Yelgaon","Visvesvaraya National Institute of Technology, Nagpur","Vivekanand Education Society's Institute of Technology, Chembur, Mumbai","Wainganga College of Engineering and Management, Dongargaon, Nagpur","Walchand College of Engineering, Sangli","Walchand Institute of Technology, Solapur","Watumull Institute of Engineering & Technology, Ulhasnagar","Xavier Institute Of Engineering C/O Xavier Technical Institute,Mahim,Mumbai","YASHWANTRAO BHONSALE INSTITUTE OF TECHNOLOGY","Yadavrao Tasgaonkar College of Engineering & Management","Yashoda Mahadeo Kakade College of Engineering, Talegaon","Yeshwantrao Chavan College of Engineering,Wanadongri, Nagpur","Zeal College of Engineering & Research, Induri, Pune (Off Campus-Induri)","Zeal Education Society's Zeal College of Engineering & Reserch, Narhe, Pune"]`),uk=["Computer Engineering","Computer Science & Engineering","Information Technology","Electronics & Telecommunication Engineering","Electronics Engineering","Electrical Engineering","Mechanical Engineering","Civil Engineering","Chemical Engineering","Instrumentation Engineering","Automobile Engineering","Aerospace Engineering","Biomedical Engineering","Biotechnology Engineering","Agricultural Engineering","Environmental Engineering","Industrial Engineering","Manufacturing Engineering","Mechatronics Engineering","Metallurgical Engineering","Mining Engineering","Petroleum Engineering","Production Engineering","Robotics Engineering","Structural Engineering","Textile Engineering","Artificial Intelligence","Artificial Intelligence & Machine Learning","Artificial Intelligence & Data Science","Data Science","Cyber Security","Cloud Computing","Internet of Things (IoT)","Software Engineering","Electronics & Computer Engineering","Electrical & Electronics Engineering","Computer Science & Design","Computer Science & Business Systems","Information Science & Engineering","Automation & Robotics"],hk=[{value:"male",label:"Male"},{value:"female",label:"Female"},{value:"other",label:"Other"},{value:"prefer_not_to_say",label:"Prefer not to say"}],fk=[{value:"certificate",label:"Certificate Course"},{value:"diploma",label:"Diploma Course"},{value:"dual_degree",label:"DUAL Degree"},{value:"fyjc",label:"F.Y.J.C. (11th std)"},{value:"hsc",label:"H.S.C. (12th std)"},{value:"phd",label:"Ph.D"},{value:"pg_certificate",label:"Post Graduate Certificate"},{value:"pg_course",label:"Post Graduate Course"},{value:"pg_diploma",label:"Post Graduate Diploma Course"},{value:"ug_course",label:"Under Graduate Course"},{value:"ug_sainiki",label:"Under Graduate Course for Sainiki"},{value:"vocational",label:"Vocational Course"}],dk=[{value:"agriculture",label:"Agriculture"},{value:"architecture",label:"Architecture and Town Planning"},{value:"arts",label:"Arts"},{value:"commerce",label:"Commerce"},{value:"commerce_management",label:"Commerce & Management"},{value:"commerce_mgmt",label:"Commerce Management"},{value:"design",label:"Design"},{value:"education",label:"Education"},{value:"engineering",label:"Engineering"},{value:"engineering_machine",label:"Engineering Machine Group"},{value:"engineering_non_machine",label:"Engineering Non Machine Group"},{value:"eye_care",label:"Eye Care Optometrists"},{value:"fine_art",label:"Fine Art (Visual Art)"},{value:"health_science",label:"Health Science"},{value:"hotel_management",label:"Hotel Management and Catering"},{value:"humanities",label:"Humanities and Social Sciences"},{value:"interdisciplinary",label:"Interdisciplinary"},{value:"law",label:"Law"},{value:"management",label:"Management"},{value:"mca",label:"MCA"},{value:"non_engineering",label:"Non Engineering Group"},{value:"non_aicte",label:"Non-AICTE"},{value:"nursing",label:"Nursing"},{value:"other",label:"Other"},{value:"pharmacy",label:"Pharmacy"},{value:"physical_education",label:"Physical Education"},{value:"science",label:"Science"},{value:"science_technology",label:"Science Technology"},{value:"social_work",label:"Social Work"},{value:"veterinary",label:"Veterinary"}],YK=[{value:"be_ce",label:"B.E. Computer Engineering"},{value:"be_cse",label:"B.E. Computer Science and Engineering"},{value:"be_it",label:"B.E. Information Technology"},{value:"be_entc",label:"B.E. Electronics and Telecommunication Engineering"},{value:"be_electronics",label:"B.E. Electronics Engineering"},{value:"be_electrical",label:"B.E. Electrical Engineering"},{value:"be_mech",label:"B.E. Mechanical Engineering"},{value:"be_civil",label:"B.E. Civil Engineering"},{value:"be_aids",label:"B.E. Artificial Intelligence & Data Science"},{value:"be_aiml",label:"B.E. Artificial Intelligence & Machine Learning"},{value:"be_robotics",label:"B.E. Robotics and Automation"},{value:"be_mechatronics",label:"B.E. Mechatronics Engineering"},{value:"be_instrumentation",label:"B.E. Instrumentation Engineering"},{value:"be_chemical",label:"B.E. Chemical Engineering"},{value:"be_production",label:"B.E. Production Engineering"},{value:"be_industrial",label:"B.E. Industrial Engineering"},{value:"btech_cse",label:"B.Tech. Computer Science and Engineering"},{value:"btech_cse_aiml",label:"B.Tech. Computer Science and Engineering (AI & ML)"},{value:"btech_cse_ds",label:"B.Tech. Computer Science and Engineering (Data Science)"},{value:"btech_it",label:"B.Tech. Information Technology"},{value:"btech_ai",label:"B.Tech. Artificial Intelligence"},{value:"btech_aids",label:"B.Tech. Artificial Intelligence & Data Science"},{value:"btech_ece",label:"B.Tech. Electronics and Communication Engineering"},{value:"btech_electrical",label:"B.Tech. Electrical Engineering"},{value:"btech_mech",label:"B.Tech. Mechanical Engineering"},{value:"btech_civil",label:"B.Tech. Civil Engineering"},{value:"btech_robotics",label:"B.Tech. Robotics and Automation"},{value:"btech_mechatronics",label:"B.Tech. Mechatronics Engineering"},{value:"btech_iot",label:"B.Tech. Internet of Things (IoT)"},{value:"btech_cybersecurity",label:"B.Tech. Cyber Security"},{value:"btech_cloud",label:"B.Tech. Cloud Computing"},{value:"btech_blockchain",label:"B.Tech. Blockchain Technology"},{value:"btech_aerospace",label:"B.Tech. Aerospace Engineering"},{value:"btech_chemical",label:"B.Tech. Chemical Engineering"},{value:"other",label:"Other"}],mk=[{value:"1",label:"1st Year"},{value:"2",label:"2nd Year"},{value:"3",label:"3rd Year"},{value:"4",label:"4th Year"},{value:"5",label:"5th Year"},{value:"6",label:"6th Year"},{value:"completed",label:"Completed"}],pk=()=>{const n=new Date().getFullYear(),e=[];for(let t=n+10;t>=n-10;t--)e.push({value:t.toString(),label:t.toString()});return e},$K=[{value:"leadership",label:"Leadership"},{value:"design_innovation",label:"Design & Innovation Team"},{value:"technical",label:"Technical Team"},{value:"management_operations",label:"Management & Operations Team"},{value:"public_outreach",label:"Public Outreach Team"},{value:"documentation",label:"Documentation Team"},{value:"social_media_editing",label:"Social Media & Editing Team"}],KK=[{value:"president",label:"President"},{value:"chairman",label:"Chairman"},{value:"secretary",label:"Secretary"},{value:"treasurer",label:"Treasurer"},{value:"co_treasurer",label:"Co-Treasurer"}],XK=[{value:"team_leader",label:"Team Leader"},{value:"member",label:"Member"}],jo={MANAGE_PROMOS:"manage_promos",MANAGE_EVENTS:"manage_events",MANAGE_MEMBERS:"manage_members",MANAGE_JOIN:"manage_join",MANAGE_APPLICATIONS:"manage_applications",MANAGE_QUERIES:"manage_queries",MANAGE_MERCH:"manage_merch",MANAGE_MERCH_ORDERS:"manage_merch_orders"};function JK(){const n=Cs(),e=Ns(),{showToast:t}=Ga(),r=e.state?.email||"",i=e.state?.isGoogleSignup||!1,[a,o]=Q.useState({firstName:"",lastName:"",mobile:"",email:r,dateOfBirth:"",gender:"",qualificationLevel:"",stream:"",collegeName:"",courseName:"",yearOfStudy:"",yearOfGraduation:""}),[c,u]=Q.useState({}),[h,m]=Q.useState(!1),[g,_]=Q.useState(1);Q.useEffect(()=>{(!i||!Ho.currentUser)&&(t("Please sign in with Google to create an account","info"),n("/login"))},[i,n,t]);const v=pk(),b=()=>{const I=new Date;return I.setFullYear(I.getFullYear()-13),I.toISOString().split("T")[0]},w=()=>{const I=new Date;return I.setFullYear(I.getFullYear()-100),I.toISOString().split("T")[0]},T=()=>{const I={};return a.firstName.trim()?a.firstName.length<2&&(I.firstName="First name must be at least 2 characters"):I.firstName="First name is required",a.lastName.trim()?a.lastName.length<2&&(I.lastName="Last name must be at least 2 characters"):I.lastName="Last name is required",a.mobile.trim()?/^[6-9]\d{9}$/.test(a.mobile)||(I.mobile="Please enter a valid 10-digit mobile number"):I.mobile="Mobile number is required",a.email.trim()?/\S+@\S+\.\S+/.test(a.email)||(I.email="Please enter a valid email"):I.email="Email is required",a.dateOfBirth||(I.dateOfBirth="Date of birth is required"),a.gender||(I.gender="Please select your sex"),u(I),Object.keys(I).length===0},N=()=>{const I={};return a.qualificationLevel||(I.qualificationLevel="Please select qualification level"),a.stream||(I.stream="Please select your stream"),a.collegeName.trim()||(I.collegeName="Please select your college from the list"),a.courseName||(I.courseName="Please select your major"),a.yearOfStudy||(I.yearOfStudy="Please select year of study"),a.yearOfGraduation||(I.yearOfGraduation="Please select graduation year"),u(I),Object.keys(I).length===0},P=I=>{const{name:z,value:O}=I.target;o(M=>({...M,[z]:O})),c[z]&&u(M=>({...M,[z]:""}))},R=(I,z)=>{o(O=>({...O,[I]:z})),c[I]&&u(O=>({...O,[I]:""}))},j=()=>{g===1&&T()&&_(2)},K=()=>{g>1&&_(g-1)},U=async I=>{if(I.preventDefault(),!N()){t("Please fix the errors in the form","error");return}m(!0);try{const z=await UI(a);localStorage.setItem("orbitx_first_login",z.firstName),t("Account created successfully!","success"),setTimeout(()=>{t("Please login again!","info")},500),setTimeout(()=>{n("/login")},1500)}catch(z){console.error("Registration error:",z),z.code==="auth/email-already-in-use"?(t("This email is already registered. Please login instead.","error"),n("/login")):z.message?.includes("No authenticated user")?(t("Session expired. Please sign in with Google again.","error"),n("/login")):t("Failed to create account. Please try again.","error")}finally{m(!1)}},C=()=>f.jsxs("div",{className:"signup-step",children:[f.jsx("h3",{className:"signup-step__title",children:"Personal Information"}),f.jsxs("div",{className:"signup-form__row",children:[f.jsxs("div",{className:"signup-form__group",children:[f.jsx("label",{className:"signup-form__label",children:"First Name *"}),f.jsx("input",{type:"text",name:"firstName",className:`signup-form__input ${c.firstName?"signup-form__input--error":""}`,placeholder:"Enter your first name",value:a.firstName,onChange:P}),c.firstName&&f.jsx("span",{className:"signup-form__error",children:c.firstName})]}),f.jsxs("div",{className:"signup-form__group",children:[f.jsx("label",{className:"signup-form__label",children:"Last Name *"}),f.jsx("input",{type:"text",name:"lastName",className:`signup-form__input ${c.lastName?"signup-form__input--error":""}`,placeholder:"Enter your last name",value:a.lastName,onChange:P}),c.lastName&&f.jsx("span",{className:"signup-form__error",children:c.lastName})]})]}),f.jsxs("div",{className:"signup-form__group",children:[f.jsx("label",{className:"signup-form__label",children:"Mobile Number *"}),f.jsx("input",{type:"tel",name:"mobile",className:`signup-form__input ${c.mobile?"signup-form__input--error":""}`,placeholder:"Enter your 10-digit mobile number",value:a.mobile,onChange:P,maxLength:10}),c.mobile&&f.jsx("span",{className:"signup-form__error",children:c.mobile})]}),f.jsxs("div",{className:"signup-form__group",children:[f.jsx("label",{className:"signup-form__label",children:"Email *"}),f.jsx("input",{type:"email",name:"email",className:`signup-form__input ${c.email?"signup-form__input--error":""}`,placeholder:"Enter your email",value:a.email,onChange:P,readOnly:i}),c.email&&f.jsx("span",{className:"signup-form__error",children:c.email})]}),f.jsxs("div",{className:"signup-form__row",children:[f.jsxs("div",{className:"signup-form__group",children:[f.jsx("label",{className:"signup-form__label",children:"Date of Birth *"}),f.jsx(C2,{value:a.dateOfBirth,onChange:I=>R("dateOfBirth",I),minDate:w(),maxDate:b(),placeholder:"Select Date",error:!!c.dateOfBirth}),c.dateOfBirth&&f.jsx("span",{className:"signup-form__error",children:c.dateOfBirth})]}),f.jsxs("div",{className:"signup-form__group",children:[f.jsx("label",{className:"signup-form__label",children:"Sex *"}),f.jsx(Fi,{options:hk,value:a.gender,onChange:I=>R("gender",I),placeholder:"Select Sex",error:!!c.gender}),c.gender&&f.jsx("span",{className:"signup-form__error",children:c.gender})]})]})]}),k=()=>f.jsxs("div",{className:"signup-step",children:[f.jsx("h3",{className:"signup-step__title",children:"Academic Information"}),f.jsxs("div",{className:"signup-form__row",children:[f.jsxs("div",{className:"signup-form__group",children:[f.jsx("label",{className:"signup-form__label",children:"Qualification Level *"}),f.jsx(Fi,{options:fk,value:a.qualificationLevel,onChange:I=>R("qualificationLevel",I),placeholder:"Select Level",error:!!c.qualificationLevel}),c.qualificationLevel&&f.jsx("span",{className:"signup-form__error",children:c.qualificationLevel})]}),f.jsxs("div",{className:"signup-form__group",children:[f.jsx("label",{className:"signup-form__label",children:"Stream *"}),f.jsx(Fi,{options:dk,value:a.stream,onChange:I=>R("stream",I),placeholder:"Select Stream",error:!!c.stream}),c.stream&&f.jsx("span",{className:"signup-form__error",children:c.stream})]})]}),f.jsxs("div",{className:"signup-form__group",children:[f.jsx("label",{className:"signup-form__label",children:"College/University Name *"}),f.jsx(GK,{options:WK,value:a.collegeName,onChange:I=>R("collegeName",I),placeholder:"Start typing your college name...",error:!!c.collegeName}),c.collegeName&&f.jsx("span",{className:"signup-form__error",children:c.collegeName})]}),f.jsxs("div",{className:"signup-form__group",children:[f.jsx("label",{className:"signup-form__label",children:"Major *"}),f.jsx(Fi,{options:uk.map(I=>({value:I,label:I})),value:a.courseName,onChange:I=>R("courseName",I),placeholder:"Select Major",error:!!c.courseName}),c.courseName&&f.jsx("span",{className:"signup-form__error",children:c.courseName})]}),f.jsxs("div",{className:"signup-form__row",children:[f.jsxs("div",{className:"signup-form__group",children:[f.jsx("label",{className:"signup-form__label",children:"Year of Study *"}),f.jsx(Fi,{options:mk,value:a.yearOfStudy,onChange:I=>R("yearOfStudy",I),placeholder:"Select Year",error:!!c.yearOfStudy}),c.yearOfStudy&&f.jsx("span",{className:"signup-form__error",children:c.yearOfStudy})]}),f.jsxs("div",{className:"signup-form__group",children:[f.jsx("label",{className:"signup-form__label",children:"Year of Graduation *"}),f.jsx(Fi,{options:v,value:a.yearOfGraduation,onChange:I=>R("yearOfGraduation",I),placeholder:"Select Year",error:!!c.yearOfGraduation}),c.yearOfGraduation&&f.jsx("span",{className:"signup-form__error",children:c.yearOfGraduation})]})]})]});return f.jsx("main",{className:"signup-page page-transition",children:f.jsxs("div",{className:"signup-container",children:[f.jsxs("div",{className:"signup-header",children:[f.jsx("h1",{className:"signup-title",children:"Create Account"}),f.jsx("p",{className:"signup-subtitle",children:"Complete your profile to join OrbitX"})]}),f.jsxs("div",{className:"signup-progress",children:[f.jsxs("div",{className:`signup-progress__step ${g>=1?"active":""} ${g>1?"completed":""}`,children:[f.jsx("div",{className:"signup-progress__circle",children:g>1?"":"1"}),f.jsx("span",{className:"signup-progress__label",children:"Personal"})]}),f.jsx("div",{className:"signup-progress__line"}),f.jsxs("div",{className:`signup-progress__step ${g>=2?"active":""}`,children:[f.jsx("div",{className:"signup-progress__circle",children:"2"}),f.jsx("span",{className:"signup-progress__label",children:"Academic"})]})]}),f.jsxs("form",{className:"signup-form",onSubmit:U,children:[g===1&&C(),g===2&&k(),f.jsxs("div",{className:"signup-form__actions",children:[g>1&&f.jsx("button",{type:"button",className:"signup-form__btn signup-form__btn--secondary",onClick:K,children:"Back"}),g<2?f.jsx("button",{type:"button",className:"signup-form__btn signup-form__btn--primary",onClick:j,children:"Continue"}):f.jsx("button",{type:"submit",className:"signup-form__btn signup-form__btn--primary",disabled:h,children:h?f.jsxs(f.Fragment,{children:[f.jsx("span",{className:"signup-form__spinner"}),"Creating Account..."]}):"Create Account"})]})]}),f.jsxs("div",{className:"signup-footer",children:[f.jsx("span",{children:"Already have an account?"}),f.jsx("button",{type:"button",className:"signup-footer__login",onClick:()=>n("/login"),children:"Sign In"})]})]})})}function QK(){const n=Cs(),{showToast:e}=Ga(),[t,r]=Q.useState(""),[i,a]=Q.useState(!1),[o,c]=Q.useState(""),u=h=>{if(h.preventDefault(),c(""),!t.trim()){c("Email is required");return}if(!/\S+@\S+\.\S+/.test(t)){c("Please enter a valid email");return}a(!0),e("Reset link sent to your email","success")};return f.jsx("main",{className:"forgot-password-page page-transition",children:f.jsx("div",{className:"forgot-password-container",children:i?f.jsxs("div",{className:"forgot-password-success",children:[f.jsx("div",{className:"forgot-password-success__icon",children:f.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),f.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]})}),f.jsx("h2",{className:"forgot-password-success__title",children:"Check Your Email"}),f.jsxs("p",{className:"forgot-password-success__text",children:["We've sent a password reset link to",f.jsx("br",{}),f.jsx("strong",{children:t})]}),f.jsx("p",{className:"forgot-password-success__hint",children:"Didn't receive the email? Check your spam folder."}),f.jsx("button",{className:"forgot-password-success__btn",onClick:()=>n("/login"),children:"Back to Login"})]}):f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"forgot-password-header",children:[f.jsx("div",{className:"forgot-password-icon",children:f.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[f.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),f.jsx("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})]})}),f.jsx("h1",{className:"forgot-password-title",children:"Forgot Password?"}),f.jsx("p",{className:"forgot-password-subtitle",children:"No worries! Enter your email and we'll send you a reset link."})]}),f.jsxs("form",{className:"forgot-password-form",onSubmit:u,children:[f.jsxs("div",{className:"forgot-password-form__group",children:[f.jsx("label",{className:"forgot-password-form__label",children:"Email Address"}),f.jsx("input",{type:"email",className:`forgot-password-form__input ${o?"forgot-password-form__input--error":""}`,value:t,onChange:h=>{r(h.target.value),c("")}}),o&&f.jsx("span",{className:"forgot-password-form__error",children:o})]}),f.jsx("button",{type:"submit",className:"forgot-password-form__submit",children:"Send Reset Link"})]}),f.jsxs("button",{className:"forgot-password-back",onClick:()=>n("/login"),children:[f.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("line",{x1:"19",y1:"12",x2:"5",y2:"12"}),f.jsx("polyline",{points:"12 19 5 12 12 5"})]}),"Back to Login"]})]})})})}function ZK({text:n,label:e}){const[t,r]=Q.useState(!1),i=async()=>{try{await navigator.clipboard.writeText(n),r(!0),setTimeout(()=>r(!1),2e3)}catch(a){console.error("Failed to copy:",a)}};return f.jsxs("button",{className:"copy-button",onClick:i,title:"Copy to clipboard",children:[e&&f.jsx("span",{className:"copy-button__label",children:e}),f.jsx("span",{className:"copy-button__text",children:n}),f.jsx("span",{className:`copy-button__icon ${t?"copy-button__icon--copied":""}`,children:t?f.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:f.jsx("polyline",{points:"20 6 9 17 4 12"})}):f.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),f.jsx("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})]})}),t&&f.jsx("span",{className:"copy-button__feedback",children:"Copied!"})]})}function eX({isOpen:n,onClose:e}){const{showToast:t}=Ga(),{profile:r}=Is(),[i,a]=Q.useState(!1),[o,c]=Q.useState(!1),[u,h]=Q.useState({firstName:"",lastName:"",qualificationLevel:"",stream:"",collegeName:"",courseName:"",yearOfStudy:"",yearOfGraduation:""});Q.useEffect(()=>{r&&h({firstName:r.firstName||"",lastName:r.lastName||"",qualificationLevel:r.qualificationLevel||"",stream:r.stream||"",collegeName:r.collegeName||"",courseName:r.courseName||"",yearOfStudy:r.yearOfStudy||"",yearOfGraduation:r.yearOfGraduation||""})},[r]),Q.useEffect(()=>(n?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[n]);const m=()=>{a(!0),setTimeout(()=>{a(!1),c(!1),e()},300)},g=R=>{R.target===R.currentTarget&&m()},_=async()=>{t("Profile update coming soon!","info"),c(!1)},v=()=>{r&&h({firstName:r.firstName||"",lastName:r.lastName||"",qualificationLevel:r.qualificationLevel||"",stream:r.stream||"",collegeName:r.collegeName||"",courseName:r.courseName||"",yearOfStudy:r.yearOfStudy||"",yearOfGraduation:r.yearOfGraduation||""}),c(!1)},b=()=>{const R=r?.firstName?.charAt(0)?.toUpperCase()||"",j=r?.lastName?.charAt(0)?.toUpperCase()||"";return`${R}${j}`},w=R=>R?new Date(R).toLocaleDateString("en-US",{month:"long",year:"numeric"}):"N/A",T=R=>{if(!R)return"N/A";const[j,K,U]=R.split("-");return new Date(parseInt(j),parseInt(K)-1,parseInt(U)).toLocaleDateString("en-US",{day:"numeric",month:"long",year:"numeric"})},N=R=>{if(!R)return"N/A";const j={ug_course:"Undergraduate",pg_course:"Postgraduate",diploma:"Diploma",be_cse:"B.E. Computer Science",be_it:"B.E. Information Technology",be_extc:"B.E. Electronics & Telecom",be_mech:"B.E. Mechanical",be_civil:"B.E. Civil",be_electrical:"B.E. Electrical",btech_cse:"B.Tech Computer Science",btech_it:"B.Tech Information Technology",bca:"BCA",bsc_cs:"B.Sc. Computer Science",bsc_it:"B.Sc. Information Technology",mca:"MCA",mtech:"M.Tech",msc:"M.Sc.",engineering:"Engineering",science:"Science",commerce:"Commerce",arts:"Arts",medical:"Medical",male:"Male",female:"Female",other:"Other",prefer_not_to_say:"Prefer Not to Say"},K=R.toLowerCase();return j[K]?j[K]:R.split("_").map(U=>U.charAt(0).toUpperCase()+U.slice(1).toLowerCase()).join(" ")},P=R=>{if(!R)return"N/A";const j=parseInt(R);if(isNaN(j))return R;const K=["th","st","nd","rd"],U=j%100;return j+(K[(U-20)%10]||K[U]||K[0])+" Year"};return!n||!r?null:f.jsx("div",{className:`profile-overlay ${i?"profile-overlay--closing":""}`,onClick:g,children:f.jsxs("div",{className:"profile-overlay__modal",children:[f.jsx("button",{className:"profile-overlay__close",onClick:m,children:f.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),f.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})}),f.jsxs("div",{className:"profile-overlay__sidebar",children:[f.jsx("div",{className:"profile-overlay__avatar-wrapper",children:r.avatar?f.jsx("img",{src:r.avatar,alt:r.firstName,className:"profile-overlay__avatar",referrerPolicy:"no-referrer"}):f.jsx("div",{className:"profile-overlay__avatar profile-overlay__avatar--initials",children:b()})}),f.jsxs("h2",{className:"profile-overlay__name",children:[r.firstName," ",r.lastName]}),f.jsx(ZK,{text:r.orbitId}),f.jsxs("div",{className:"profile-overlay__sidebar-info",children:[f.jsxs("div",{className:"profile-overlay__sidebar-item",children:[f.jsx("span",{className:"profile-overlay__sidebar-label",children:"Member Since"}),f.jsx("span",{className:"profile-overlay__sidebar-value",children:w(r.createdAt)})]}),f.jsxs("div",{className:"profile-overlay__sidebar-item",children:[f.jsx("span",{className:"profile-overlay__sidebar-label",children:"Status"}),f.jsx("span",{className:`profile-overlay__sidebar-value profile-overlay__status--${r.isActive?"active":"inactive"}`,children:r.isActive?"Active":"Inactive"})]}),r.googleLinked&&f.jsxs("div",{className:"profile-overlay__sidebar-item",children:[f.jsx("span",{className:"profile-overlay__sidebar-label",children:"Google"}),f.jsx("span",{className:"profile-overlay__sidebar-value profile-overlay__status--linked",children:"Linked "})]})]})]}),f.jsxs("div",{className:"profile-overlay__main",children:[f.jsx("div",{className:"profile-overlay__content",children:o?f.jsxs("div",{className:"profile-overlay__edit-form",children:[f.jsxs("div",{className:"profile-overlay__form-grid",children:[f.jsxs("div",{className:"profile-overlay__form-group",children:[f.jsx("label",{className:"profile-overlay__form-label",children:"First Name"}),f.jsx("input",{type:"text",className:"profile-overlay__form-input",value:u.firstName,onChange:R=>h(j=>({...j,firstName:R.target.value}))})]}),f.jsxs("div",{className:"profile-overlay__form-group",children:[f.jsx("label",{className:"profile-overlay__form-label",children:"Last Name"}),f.jsx("input",{type:"text",className:"profile-overlay__form-input",value:u.lastName,onChange:R=>h(j=>({...j,lastName:R.target.value}))})]}),f.jsxs("div",{className:"profile-overlay__form-group",children:[f.jsx("label",{className:"profile-overlay__form-label",children:"Qualification"}),f.jsx(Fi,{options:fk,value:u.qualificationLevel,onChange:R=>h(j=>({...j,qualificationLevel:R})),placeholder:"Select Qualification"})]}),f.jsxs("div",{className:"profile-overlay__form-group",children:[f.jsx("label",{className:"profile-overlay__form-label",children:"Stream"}),f.jsx(Fi,{options:dk,value:u.stream,onChange:R=>h(j=>({...j,stream:R})),placeholder:"Select Stream"})]}),f.jsxs("div",{className:"profile-overlay__form-group",children:[f.jsx("label",{className:"profile-overlay__form-label",children:"College"}),f.jsx("input",{type:"text",className:"profile-overlay__form-input",value:u.collegeName,onChange:R=>h(j=>({...j,collegeName:R.target.value}))})]}),f.jsxs("div",{className:"profile-overlay__form-group",children:[f.jsx("label",{className:"profile-overlay__form-label",children:"Course"}),f.jsx(Fi,{options:YK,value:u.courseName,onChange:R=>h(j=>({...j,courseName:R})),placeholder:"Select Course"})]}),f.jsxs("div",{className:"profile-overlay__form-group",children:[f.jsx("label",{className:"profile-overlay__form-label",children:"Year of Study"}),f.jsx(Fi,{options:mk,value:u.yearOfStudy,onChange:R=>h(j=>({...j,yearOfStudy:R})),placeholder:"Select Year"})]}),f.jsxs("div",{className:"profile-overlay__form-group",children:[f.jsx("label",{className:"profile-overlay__form-label",children:"Graduation Year"}),f.jsx(Fi,{options:pk(),value:u.yearOfGraduation,onChange:R=>h(j=>({...j,yearOfGraduation:R})),placeholder:"Select Year"})]})]}),f.jsx("p",{className:"profile-overlay__form-note",children:"Note: Email, Mobile, Date of Birth, and Gender cannot be changed."})]}):f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"profile-overlay__section",children:[f.jsx("h3",{className:"profile-overlay__section-title",children:"Personal Information"}),f.jsxs("div",{className:"profile-overlay__info-grid",children:[f.jsxs("div",{className:"profile-overlay__info-item",children:[f.jsx("span",{className:"profile-overlay__info-label",children:"Email"}),f.jsx("span",{className:"profile-overlay__info-value",children:r.email})]}),f.jsxs("div",{className:"profile-overlay__info-item",children:[f.jsx("span",{className:"profile-overlay__info-label",children:"Mobile"}),f.jsx("span",{className:"profile-overlay__info-value",children:r.mobile||"Not provided"})]}),f.jsxs("div",{className:"profile-overlay__info-item",children:[f.jsx("span",{className:"profile-overlay__info-label",children:"Date of Birth"}),f.jsx("span",{className:"profile-overlay__info-value",children:T(r.dateOfBirth)})]}),f.jsxs("div",{className:"profile-overlay__info-item",children:[f.jsx("span",{className:"profile-overlay__info-label",children:"Gender"}),f.jsx("span",{className:"profile-overlay__info-value",children:N(r.gender)})]})]})]}),f.jsxs("div",{className:"profile-overlay__section",children:[f.jsx("h3",{className:"profile-overlay__section-title",children:"Academic Information"}),f.jsxs("div",{className:"profile-overlay__info-grid",children:[f.jsxs("div",{className:"profile-overlay__info-item",children:[f.jsx("span",{className:"profile-overlay__info-label",children:"Qualification"}),f.jsx("span",{className:"profile-overlay__info-value",children:N(r.qualificationLevel)})]}),f.jsxs("div",{className:"profile-overlay__info-item",children:[f.jsx("span",{className:"profile-overlay__info-label",children:"Stream"}),f.jsx("span",{className:"profile-overlay__info-value",children:N(r.stream)})]}),f.jsxs("div",{className:"profile-overlay__info-item",children:[f.jsx("span",{className:"profile-overlay__info-label",children:"College"}),f.jsx("span",{className:"profile-overlay__info-value",children:r.collegeName||"N/A"})]}),f.jsxs("div",{className:"profile-overlay__info-item",children:[f.jsx("span",{className:"profile-overlay__info-label",children:"Course"}),f.jsx("span",{className:"profile-overlay__info-value",children:N(r.courseName)})]}),f.jsxs("div",{className:"profile-overlay__info-item",children:[f.jsx("span",{className:"profile-overlay__info-label",children:"Year of Study"}),f.jsx("span",{className:"profile-overlay__info-value",children:P(r.yearOfStudy)})]}),f.jsxs("div",{className:"profile-overlay__info-item",children:[f.jsx("span",{className:"profile-overlay__info-label",children:"Graduation"}),f.jsx("span",{className:"profile-overlay__info-value",children:r.yearOfGraduation||"N/A"})]})]})]})]})}),f.jsx("div",{className:"profile-overlay__actions",children:o?f.jsxs(f.Fragment,{children:[f.jsx("button",{className:"profile-overlay__cancel-btn",onClick:v,children:"Cancel"}),f.jsx("button",{className:"profile-overlay__save-btn",onClick:_,children:"Save Changes"})]}):f.jsx("button",{className:"profile-overlay__edit-btn",onClick:()=>c(!0),children:"Edit Profile"})})]})]})})}const _N=[{code:"en",name:"English"},{code:"es",name:"Espaol"},{code:"fr",name:"Franais"},{code:"de",name:"Deutsch"},{code:"hi",name:""},{code:"ja",name:""}];function tX({isOpen:n,onClose:e}){const t=Cs(),{showToast:r}=Ga(),{profile:i}=Is(),[a,o]=Q.useState(!1),[c,u]=Q.useState("en"),[h,m]=Q.useState(!1),[g,_]=Q.useState(!1),[v,b]=Q.useState(""),w=()=>{g||(o(!0),setTimeout(()=>{o(!1),m(!1),b(""),e()},300))},T=j=>{j.target===j.currentTarget&&!g&&w()},N=j=>{u(j);const K=_N.find(U=>U.code===j);r(`Language changed to ${K?.name}`,"success")},P=async()=>{if(v!=="DELETE"){r("Please type DELETE to confirm","error");return}_(!0);try{await BI(),r("Your account has been deleted","info"),setTimeout(()=>{t("/")},500)}catch(j){console.error("Delete account error:",j),j.message?.includes("log out and log back in")?r("Please log out and log back in, then try again","error"):r("Failed to delete account. Please try again.","error"),_(!1)}},R=()=>{m(!1),b("")};return n?f.jsx("div",{className:`settings-overlay ${a?"settings-overlay--closing":""}`,onClick:T,children:f.jsxs("div",{className:"settings-overlay__modal",children:[f.jsx("button",{className:"settings-overlay__close",onClick:w,disabled:g,children:f.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),f.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})}),f.jsx("div",{className:"settings-overlay__header",children:f.jsx("h2",{className:"settings-overlay__title",children:"Settings"})}),f.jsxs("div",{className:"settings-overlay__content",children:[f.jsxs("div",{className:"settings-overlay__section",children:[f.jsx("h3",{className:"settings-overlay__section-title",children:"Language"}),f.jsx("p",{className:"settings-overlay__section-desc",children:"Select your preferred language"}),f.jsx("div",{className:"settings-overlay__language-grid",children:_N.map(j=>f.jsx("button",{className:`settings-overlay__language-btn ${c===j.code?"settings-overlay__language-btn--active":""}`,onClick:()=>N(j.code),children:j.name},j.code))})]}),f.jsxs("div",{className:"settings-overlay__section settings-overlay__section--danger",children:[f.jsx("h3",{className:"settings-overlay__section-title",children:"Danger Zone"}),f.jsx("p",{className:"settings-overlay__section-desc",children:"This action cannot be undone. All your data will be permanently deleted."}),h?f.jsxs("div",{className:"settings-overlay__delete-confirm",children:[f.jsxs("div",{className:"settings-overlay__delete-info",children:[f.jsx("p",{className:"settings-overlay__delete-warning",children:" You are about to delete your account"}),f.jsxs("p",{className:"settings-overlay__delete-details",children:[f.jsx("strong",{children:"Orbit ID:"})," ",i?.orbitId,f.jsx("br",{}),f.jsx("strong",{children:"Email:"})," ",i?.email]})]}),f.jsxs("div",{className:"settings-overlay__confirm-input-group",children:[f.jsxs("label",{className:"settings-overlay__confirm-label",children:["Type ",f.jsx("strong",{children:"DELETE"})," to confirm:"]}),f.jsx("input",{type:"text",className:"settings-overlay__confirm-input",value:v,onChange:j=>b(j.target.value.toUpperCase()),placeholder:"Type DELETE here",disabled:g})]}),f.jsxs("div",{className:"settings-overlay__delete-actions",children:[f.jsx("button",{className:"settings-overlay__cancel-delete",onClick:R,disabled:g,children:"Cancel"}),f.jsx("button",{className:"settings-overlay__confirm-delete",onClick:P,disabled:g||v!=="DELETE",children:g?"Deleting...":"Delete Forever"})]})]}):f.jsx("button",{className:"settings-overlay__delete-btn",onClick:()=>m(!0),children:"Delete Account"})]})]})]})}):null}const nX=[{key:"Esc",description:"Close any open overlay"},{key:"?",description:"Show this help"}];function rX({isOpen:n,onClose:e}){const[t,r]=Q.useState(!1),i=()=>{r(!0),setTimeout(()=>{r(!1),e()},200)},a=o=>{o.target===o.currentTarget&&i()};return n?f.jsx("div",{className:`shortcuts-overlay ${t?"shortcuts-overlay--closing":""}`,onClick:a,children:f.jsxs("div",{className:"shortcuts-modal",children:[f.jsxs("div",{className:"shortcuts-header",children:[f.jsx("h2",{className:"shortcuts-title",children:"Keyboard Shortcuts"}),f.jsx("button",{className:"shortcuts-close",onClick:i,children:f.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),f.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),f.jsx("div",{className:"shortcuts-list",children:nX.map((o,c)=>f.jsxs("div",{className:"shortcuts-item",children:[f.jsx("kbd",{className:"shortcuts-key",children:o.key}),f.jsx("span",{className:"shortcuts-desc",children:o.description})]},c))}),f.jsxs("p",{className:"shortcuts-hint",children:["Press ",f.jsx("kbd",{children:"?"})," anytime to see shortcuts"]})]})}):null}function iX({isOpen:n,onClose:e,adminOrbitId:t}){const{showToast:r}=Ga(),[i,a]=Q.useState([]),[o,c]=Q.useState(!0),[u,h]=Q.useState(!1),[m,g]=Q.useState(!1),[_,v]=Q.useState(!1),[b,w]=Q.useState({title:"",file:null,fileName:"",mediaType:"image",previewUrl:"",linkUrl:""}),T=Q.useRef(null),N=Q.useRef(null);Q.useEffect(()=>{if(!n)return;const Y=Wo(ha($t,"promotions"),Pu("priority","asc")),we=ec(Y,fe=>{const le=[];fe.forEach(pe=>{le.push({id:pe.id,...pe.data()})}),a(le),c(!1)},fe=>{console.error("Error fetching promotions:",fe),r("Failed to load promotions","error"),c(!1)});return()=>we()},[n,r]);const P=()=>{h(!0),setTimeout(()=>{h(!1),g(!1),j(),e()},300)},R=Y=>{Y.target===Y.currentTarget&&P()},j=()=>{w({title:"",file:null,fileName:"",mediaType:"image",previewUrl:"",linkUrl:""})},K=Y=>Y.type.startsWith("video/")?"video":Y.type==="image/gif"?"gif":"image",U=Y=>{if(!["image/jpeg","image/png","image/gif","image/webp","video/mp4","video/webm"].includes(Y.type)){r("Invalid file type. Please upload an image, GIF, or video.","error");return}if(Y.size>10*1024*1024){r("File is too large. Maximum size is 10MB.","error");return}const fe=URL.createObjectURL(Y);w({...b,file:Y,fileName:Y.name,mediaType:K(Y),previewUrl:fe})},C=Y=>{Y.preventDefault(),Y.stopPropagation(),N.current?.classList.add("promo-manager__dropzone--active")},k=Y=>{Y.preventDefault(),Y.stopPropagation(),N.current?.classList.remove("promo-manager__dropzone--active")},I=Y=>{Y.preventDefault(),Y.stopPropagation(),N.current?.classList.remove("promo-manager__dropzone--active");const we=Y.dataTransfer.files[0];we&&U(we)},z=Y=>{const we=Y.target.files?.[0];we&&U(we)},O=async()=>{if(!b.title.trim()){r("Please enter a title","error");return}if(!b.fileName){r("Please select a file","error");return}v(!0);try{const Y={title:b.title.trim(),mediaUrl:b.previewUrl,mediaType:b.mediaType,isActive:!0,priority:i.length+1,createdBy:t,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),fileName:b.fileName};b.linkUrl.trim()&&(Y.linkUrl=b.linkUrl.trim()),await z0(ha($t,"promotions"),Y),r("Promotion created successfully!","success"),g(!1),j()}catch(Y){console.error("Error creating promotion:",Y),r("Failed to create promotion","error")}finally{v(!1)}},M=async Y=>{try{await Fa(mn($t,"promotions",Y.id),{isActive:!Y.isActive,updatedAt:new Date().toISOString()}),r(`Promotion ${Y.isActive?"deactivated":"activated"}`,"success")}catch(we){console.error("Error updating promotion:",we),r("Failed to update promotion","error")}},B=async Y=>{if(confirm(`Are you sure you want to delete "${Y.title}"?`))try{await Fc(mn($t,"promotions",Y.id)),r("Promotion deleted","success")}catch(we){console.error("Error deleting promotion:",we),r("Failed to delete promotion","error")}};return n?f.jsx("div",{className:`promo-manager ${u?"promo-manager--closing":""}`,onClick:R,children:f.jsxs("div",{className:"promo-manager__modal",children:[f.jsxs("div",{className:"promo-manager__header",children:[f.jsx("h2",{className:"promo-manager__title",children:"Promotional Screen Manager"}),f.jsx("button",{className:"promo-manager__close",onClick:P,children:f.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),f.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),f.jsx("div",{className:"promo-manager__content",children:m?f.jsxs("div",{className:"promo-manager__create-form",children:[f.jsxs("button",{className:"promo-manager__back-btn",onClick:()=>{g(!1),j()},children:[f.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:f.jsx("polyline",{points:"15 18 9 12 15 6"})}),"Back to list"]}),f.jsxs("div",{className:"promo-manager__form-grid",children:[f.jsxs("div",{className:"promo-manager__form-left",children:[f.jsxs("div",{className:"promo-manager__form-group",children:[f.jsx("label",{className:"promo-manager__label",children:"Title *"}),f.jsx("input",{type:"text",className:"promo-manager__input",value:b.title,onChange:Y=>w({...b,title:Y.target.value}),placeholder:"Enter promotion title"})]}),f.jsxs("div",{className:"promo-manager__form-group",children:[f.jsx("label",{className:"promo-manager__label",children:"Media *"}),f.jsx("div",{ref:N,className:"promo-manager__dropzone",onDragOver:C,onDragLeave:k,onDrop:I,onClick:()=>T.current?.click(),children:b.previewUrl?f.jsxs("div",{className:"promo-manager__dropzone-preview",children:[b.mediaType==="video"?f.jsx("video",{src:b.previewUrl,muted:!0,autoPlay:!0,loop:!0}):f.jsx("img",{src:b.previewUrl,alt:"Preview"}),f.jsx("div",{className:"promo-manager__dropzone-filename",children:b.fileName}),f.jsx("button",{className:"promo-manager__dropzone-remove",onClick:Y=>{Y.stopPropagation(),w({...b,file:null,fileName:"",previewUrl:""})},children:"Remove"})]}):f.jsxs("div",{className:"promo-manager__dropzone-content",children:[f.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[f.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),f.jsx("polyline",{points:"17 8 12 3 7 8"}),f.jsx("line",{x1:"12",y1:"3",x2:"12",y2:"15"})]}),f.jsx("p",{children:"Drag & drop or click to upload"}),f.jsx("span",{children:"Image, GIF, or Video (max 10MB)"})]})}),f.jsx("input",{ref:T,type:"file",accept:"image/*,video/mp4,video/webm",onChange:z,style:{display:"none"}})]}),f.jsxs("div",{className:"promo-manager__form-group",children:[f.jsx("label",{className:"promo-manager__label",children:"Link URL (Optional)"}),f.jsx("input",{type:"url",className:"promo-manager__input",value:b.linkUrl,onChange:Y=>w({...b,linkUrl:Y.target.value}),placeholder:"https://example.com (leave empty for no link)"}),f.jsx("span",{className:"promo-manager__hint",children:"If provided, clicking the promo will open this URL"})]}),f.jsx("button",{className:"promo-manager__submit-btn",onClick:O,disabled:_,children:_?"Saving...":"Create Promotion"})]}),f.jsxs("div",{className:"promo-manager__form-right",children:[f.jsx("label",{className:"promo-manager__label",children:"Live Preview"}),f.jsx("div",{className:"promo-manager__live-preview",children:b.previewUrl?f.jsx("div",{className:"promo-manager__preview-container",children:b.mediaType==="video"?f.jsx("video",{src:b.previewUrl,muted:!0,autoPlay:!0,loop:!0}):f.jsx("img",{src:b.previewUrl,alt:"Live Preview"})}):f.jsx("div",{className:"promo-manager__preview-placeholder",children:f.jsx("span",{children:"Preview will appear here"})})})]})]})]}):f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"promo-manager__toolbar",children:f.jsxs("button",{className:"promo-manager__create-btn",onClick:()=>g(!0),children:[f.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),f.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Create Ad"]})}),f.jsx("div",{className:"promo-manager__list",children:o?f.jsx("div",{className:"promo-manager__loading",children:"Loading promotions..."}):i.length===0?f.jsxs("div",{className:"promo-manager__empty",children:[f.jsx("p",{children:"No promotions yet"}),f.jsx("span",{children:'Click "Create Ad" to add your first promotion'})]}):i.map(Y=>f.jsxs("div",{className:`promo-manager__item ${Y.isActive?"":"promo-manager__item--inactive"}`,children:[f.jsx("div",{className:"promo-manager__item-preview",children:f.jsx("div",{className:"promo-manager__item-placeholder",children:f.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[f.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),f.jsx("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),f.jsx("polyline",{points:"21 15 16 10 5 21"})]})})}),f.jsxs("div",{className:"promo-manager__item-info",children:[f.jsx("h4",{className:"promo-manager__item-title",children:Y.title}),f.jsx("span",{className:"promo-manager__item-type",children:Y.mediaType?.toUpperCase()||"IMAGE"}),f.jsx("span",{className:`promo-manager__item-status ${Y.isActive?"promo-manager__item-status--active":""}`,children:Y.isActive?"Active":"Inactive"}),Y.linkUrl&&f.jsx("span",{className:"promo-manager__item-link",title:Y.linkUrl,children:f.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"}),f.jsx("path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"})]})})]}),f.jsxs("div",{className:"promo-manager__item-actions",children:[f.jsx("button",{className:"promo-manager__item-btn",onClick:()=>M(Y),title:Y.isActive?"Deactivate":"Activate",children:f.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:Y.isActive?f.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24M1 1l22 22"}):f.jsxs(f.Fragment,{children:[f.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),f.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})}),f.jsx("button",{className:"promo-manager__item-btn promo-manager__item-btn--delete",onClick:()=>B(Y),title:"Delete",children:f.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("polyline",{points:"3 6 5 6 21 6"}),f.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})]},Y.id))})]})})]})}):null}const gk="event-images";async function aX(n,e,t){if(!["image/jpeg","image/png","image/webp","image/gif"].includes(e.type))throw new Error("Invalid file type. Please upload a JPEG, PNG, WebP, or GIF image.");const i=10*1024*1024;if(e.size>i)throw new Error("File too large. Maximum size is 10MB.");const a=e.name.split(".").pop()||"jpg",o=`${n}_${t}_${Date.now()}.${a}`,c=Zp(eg,`${gk}/${n}/${o}`),u=await Kw(c,e,{contentType:e.type,customMetadata:{eventId:n,index:String(t),uploadedAt:new Date().toISOString()}});return await Xw(u.ref)}async function yN(n,e,t){const r=[];for(let i=0;i<e.length;i++){t&&t(i+1,e.length);const a=await aX(n,e[i],i);r.push(a)}return r}async function sX(n){try{const e=Zp(eg,`${gk}/${n}`),t=await eH(e);await Promise.all(t.items.map(r=>DI(r)))}catch(e){e.code!=="storage/object-not-found"&&console.error("Error deleting event images:",e)}}const oX=Array.from({length:12},(n,e)=>String(e+1).padStart(2,"0")),lX=Array.from({length:60},(n,e)=>String(e).padStart(2,"0")),cX=["AM","PM"];function xN({value:n,onChange:e,placeholder:t="Select time",error:r=!1,name:i}){const[a,o]=Q.useState(!1),c=Q.useRef(null),u=R=>{if(!R)return{hour:"12",minute:"00",period:"AM"};const[j,K]=R.split(":"),U=parseInt(j,10),C=U>=12?"PM":"AM",k=U%12||12;return{hour:String(k).padStart(2,"0"),minute:K||"00",period:C}},h=u(n),[m,g]=Q.useState(h.hour),[_,v]=Q.useState(h.minute),[b,w]=Q.useState(h.period);Q.useEffect(()=>{const R=u(n);g(R.hour),v(R.minute),w(R.period)},[n]),Q.useEffect(()=>{const R=j=>{c.current&&!c.current.contains(j.target)&&o(!1)};return document.addEventListener("mousedown",R),()=>document.removeEventListener("mousedown",R)},[]);const T=()=>n?`${m}:${_} ${b}`:"",N=()=>{let R=parseInt(m,10);b==="PM"&&R!==12?R+=12:b==="AM"&&R===12&&(R=0);const j=`${String(R).padStart(2,"0")}:${_}`;e(j),o(!1)},P=()=>{e(""),o(!1)};return f.jsxs("div",{className:`custom-time-picker ${a?"custom-time-picker--open":""} ${r?"custom-time-picker--error":""}`,ref:c,children:[f.jsx("input",{type:"hidden",name:i,value:n}),f.jsxs("button",{type:"button",className:"custom-time-picker__trigger",onClick:()=>o(!a),children:[f.jsx("span",{className:n?"":"custom-time-picker__placeholder",children:n?T():t}),f.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("circle",{cx:"12",cy:"12",r:"10"}),f.jsx("polyline",{points:"12 6 12 12 16 14"})]})]}),a&&f.jsxs("div",{className:"custom-time-picker__dropdown",children:[f.jsxs("div",{className:"custom-time-picker__columns",children:[f.jsxs("div",{className:"custom-time-picker__column",children:[f.jsx("span",{className:"custom-time-picker__column-label",children:"Hour"}),f.jsx("div",{className:"custom-time-picker__scroll",children:oX.map(R=>f.jsx("button",{type:"button",className:`custom-time-picker__option ${m===R?"custom-time-picker__option--selected":""}`,onClick:()=>g(R),children:R},R))})]}),f.jsxs("div",{className:"custom-time-picker__column",children:[f.jsx("span",{className:"custom-time-picker__column-label",children:"Min"}),f.jsx("div",{className:"custom-time-picker__scroll",children:lX.map(R=>f.jsx("button",{type:"button",className:`custom-time-picker__option ${_===R?"custom-time-picker__option--selected":""}`,onClick:()=>v(R),children:R},R))})]}),f.jsxs("div",{className:"custom-time-picker__column custom-time-picker__column--period",children:[f.jsx("span",{className:"custom-time-picker__column-label",children:"Period"}),f.jsx("div",{className:"custom-time-picker__scroll",children:cX.map(R=>f.jsx("button",{type:"button",className:`custom-time-picker__option ${b===R?"custom-time-picker__option--selected":""}`,onClick:()=>w(R),children:R},R))})]})]}),f.jsxs("div",{className:"custom-time-picker__actions",children:[f.jsx("button",{type:"button",className:"custom-time-picker__btn custom-time-picker__btn--clear",onClick:P,children:"Clear"}),f.jsx("button",{type:"button",className:"custom-time-picker__btn custom-time-picker__btn--confirm",onClick:N,children:"Confirm"})]})]})]})}const uX=[{value:"Workshop",label:"Workshop"},{value:"Talk",label:"Talk"},{value:"Competition",label:"Competition"},{value:"Outreach",label:"Outreach"}],hX=[{value:"Online",label:"Online"},{value:"Offline",label:"Offline"}],fX=[{value:"Open to all",label:"Open to all"},{value:"Open to all students",label:"Open to all students"},{value:"Open to all engineering students",label:"Open to all engineering students"},{value:"First year students only",label:"First year students only"},{value:"Second year students only",label:"Second year students only"},{value:"Third year students only",label:"Third year students only"},{value:"Final year students only",label:"Final year students only"},{value:"Teams of 2-3 members",label:"Teams of 2-3 members"},{value:"Teams of 3-5 members",label:"Teams of 3-5 members"},{value:"OrbitX members only",label:"OrbitX members only"},{value:"Faculty and students",label:"Faculty and students"}],dx=n=>{if(!n)return!1;const e=new Date(n),t=new Date;return t.setHours(0,0,0,0),e<t},wN=n=>{if(!n)return"";const[e,t]=n.split(":"),r=parseInt(e,10),i=r>=12?"PM":"AM";return`${r%12||12}:${t} ${i}`},dX=async()=>{try{const n=new Date().getFullYear(),e=mn($t,"system","eventIdRegistry"),t=await Br(e);let r=0;if(t.exists()){const a=t.data();a.year===n&&(r=a.counter||0)}const i=r+1;return await qo(e,{year:n,counter:i,lastUpdated:new Date().toISOString()}),`EVT-${n}-${String(i).padStart(4,"0")}`}catch(n){console.error("Error generating eventId from registry, using fallback:",n);const e=new Date().getFullYear(),t=Date.now().toString().slice(-6);return`EVT-${e}-${t}`}};function mX({isOpen:n,onClose:e,adminOrbitId:t}){const{showToast:r}=Ga(),[i,a]=Q.useState([]),[o,c]=Q.useState(!0),[u,h]=Q.useState(!1),[m,g]=Q.useState(!1),[_,v]=Q.useState("details"),[b,w]=Q.useState(!1),[T,N]=Q.useState(null),P=Q.useRef(null),[R,j]=Q.useState({title:"",description:"",date:"",startTime:"",endTime:"",type:"Workshop",mode:"Offline",venue:"",venueUrl:"",registrationDeadline:"",eligibility:"Open to all",speakers:"",amount:""}),[K,U]=Q.useState([]),[C,k]=Q.useState([]),[I,z]=Q.useState(!1),[O,M]=Q.useState({x:50,y:50}),[B,Y]=Q.useState(!1),we=Q.useRef(null);Q.useEffect(()=>{if(!n)return;const Z=Wo(ha($t,"events"),Pu("date","desc")),Fe=ec(Z,async nt=>{const It=[],Qe=[];nt.forEach(At=>{const ht={...At.data(),id:At.id};!ht.isPast&&dx(ht.date)&&(Qe.push(Fa(mn($t,"events",At.id),{isPast:!0,registrationOpen:!1,updatedAt:new Date().toISOString()})),ht.isPast=!0,ht.registrationOpen=!1),ht.registrationOpen&&ht.registrationDeadline&&dx(ht.registrationDeadline)&&(Qe.push(Fa(mn($t,"events",At.id),{registrationOpen:!1,updatedAt:new Date().toISOString()})),ht.registrationOpen=!1),It.push(ht)}),Qe.length>0&&await Promise.all(Qe),a(It),c(!1)},nt=>{console.error("Error fetching events:",nt),r("Failed to load events","error"),c(!1)});return()=>Fe()},[n,r]);const fe=()=>{h(!0),setTimeout(()=>{h(!1),g(!1),N(null),v("details"),pe(),e()},300)},le=Z=>{Z.target===Z.currentTarget&&fe()},pe=()=>{j({title:"",description:"",date:"",startTime:"",endTime:"",type:"Workshop",mode:"Offline",venue:"",venueUrl:"",registrationDeadline:"",eligibility:"Open to all",speakers:"",amount:""}),C.forEach(Z=>URL.revokeObjectURL(Z)),U([]),k([]),v("details"),M({x:50,y:50}),N(null)},Ie=Z=>{if(!Z)return{start:"",end:""};const Fe=It=>{const Qe=It.trim().match(/(\d{1,2}):(\d{2})\s*(AM|PM)/i);if(!Qe)return"";let At=parseInt(Qe[1],10);const Ke=Qe[2],ht=Qe[3].toUpperCase();return ht==="PM"&&At!==12&&(At+=12),ht==="AM"&&At===12&&(At=0),`${String(At).padStart(2,"0")}:${Ke}`},nt=Z.split(" - ");return{start:Fe(nt[0]||""),end:nt[1]?Fe(nt[1]):""}},Ae=Z=>{const Fe=Ie(Z.time);j({title:Z.title,description:Z.description,date:Z.date,startTime:Fe.start,endTime:Fe.end,type:Z.type,mode:Z.mode,venue:Z.venue,venueUrl:Z.venueUrl||"",registrationDeadline:Z.registrationDeadline,eligibility:Z.eligibility,speakers:Z.speakers.join(", "),amount:Z.amount?String(Z.amount):""}),Z.imagePositions&&Z.imagePositions[0]&&M(Z.imagePositions[0]),N(Z),g(!0),v("details")},re=Z=>{Z.preventDefault(),z(!0)},L=()=>{z(!1)},G=Z=>{Z.preventDefault(),z(!1);const Fe=Array.from(Z.dataTransfer.files).filter(nt=>nt.type.startsWith("image/"));Fe.length>0?q(Fe):r("Please select image files","error")},q=Z=>{const Fe=[...K,...Z],nt=Z.map(It=>URL.createObjectURL(It));U(Fe),k([...C,...nt])},J=Z=>{const Fe=Array.from(Z.target.files||[]);Fe.length>0&&q(Fe),P.current&&(P.current.value="")},ae=Z=>{URL.revokeObjectURL(C[Z]),U(Fe=>Fe.filter((nt,It)=>It!==Z)),k(Fe=>Fe.filter((nt,It)=>It!==Z))},ge=Z=>{Z.preventDefault(),Y(!0)},Te=Z=>{if(!B||!we.current)return;const Fe=we.current.getBoundingClientRect(),nt=(Z.clientX-Fe.left)/Fe.width*100,It=(Z.clientY-Fe.top)/Fe.height*100;M({x:Math.max(0,Math.min(100,nt)),y:Math.max(0,Math.min(100,It))})},Se=()=>{Y(!1)};Q.useEffect(()=>{if(B){const Z=()=>Y(!1);return window.addEventListener("mouseup",Z),()=>window.removeEventListener("mouseup",Z)}},[B]);const Ce=async()=>{if(!R.title.trim()){r("Please enter a title","error"),v("details");return}if(!R.date){r("Please select a date","error"),v("details");return}w(!0);try{let Z="";R.startTime&&(Z=wN(R.startTime),R.endTime&&(Z+=` - ${wN(R.endTime)}`));const Fe=R.amount?parseInt(R.amount,10):void 0;if(T){let nt=T.images||[];if(K.length>0){r("Uploading images...","info");const It=await yN(T.id,K,(Qe,At)=>{r(`Uploading image ${Qe} of ${At}...`,"info")});nt=[...nt,...It]}await Fa(mn($t,"events",T.id),{title:R.title.trim(),description:R.description.trim(),date:R.date,time:Z,type:R.type,mode:R.mode,venue:R.venue.trim(),venueUrl:R.venueUrl.trim()||null,registrationDeadline:R.registrationDeadline,eligibility:R.eligibility,speakers:R.speakers.split(",").map(It=>It.trim()).filter(Boolean),images:nt,imagePositions:nt.length>0?{0:O}:void 0,amount:Fe&&Fe>0?Fe:null,updatedAt:new Date().toISOString()}),r("Event updated successfully!","success")}else{const It={eventId:await dX(),title:R.title.trim(),description:R.description.trim(),date:R.date,time:Z,type:R.type,mode:R.mode,venue:R.venue.trim(),registrationDeadline:R.registrationDeadline,eligibility:R.eligibility,speakers:R.speakers.split(",").map(At=>At.trim()).filter(Boolean),images:[],registrationOpen:!0,isPast:!1,createdBy:t,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),...R.venueUrl.trim()&&{venueUrl:R.venueUrl.trim()},...Fe&&Fe>0&&{amount:Fe}},Qe=await z0(ha($t,"events"),It);if(K.length>0){r("Uploading images...","info");const At=await yN(Qe.id,K,(Ke,ht)=>{r(`Uploading image ${Ke} of ${ht}...`,"info")});await Fa(Qe,{images:At,imagePositions:{0:O},updatedAt:new Date().toISOString()})}r("Event created successfully!","success")}g(!1),pe()}catch(Z){console.error("Error saving event:",Z);const Fe=Z?.message||Z?.code||"Unknown error";r(`Failed to ${T?"update":"create"} event: ${Fe}`,"error")}finally{w(!1)}},et=async Z=>{if(Z.isPast&&!Z.registrationOpen){r("Cannot open registration for past events","error");return}if(!Z.registrationOpen&&Z.registrationDeadline&&dx(Z.registrationDeadline)){r("Registration deadline has passed","error");return}try{await Fa(mn($t,"events",Z.id),{registrationOpen:!Z.registrationOpen,updatedAt:new Date().toISOString()}),r(`Registration ${Z.registrationOpen?"closed":"opened"}`,"success")}catch(Fe){console.error("Error updating event:",Fe),r("Failed to update event","error")}},ot=async Z=>{try{await Fa(mn($t,"events",Z.id),{isPast:!Z.isPast,registrationOpen:!1,updatedAt:new Date().toISOString()}),r(`Event marked as ${Z.isPast?"upcoming":"past"}`,"success")}catch(Fe){console.error("Error updating event:",Fe),r("Failed to update event","error")}},tt=async Z=>{if(confirm(`Are you sure you want to delete "${Z.title}"?`))try{Z.images&&Z.images.length>0&&await sX(Z.id),await Fc(mn($t,"events",Z.id)),r("Event deleted","success")}catch(Fe){console.error("Error deleting event:",Fe),r("Failed to delete event","error")}},it=Z=>{switch(Z){case"Workshop":return"event-manager__badge--workshop";case"Talk":return"event-manager__badge--talk";case"Competition":return"event-manager__badge--competition";case"Outreach":return"event-manager__badge--outreach";default:return""}};return n?f.jsx("div",{className:`event-manager ${u?"event-manager--closing":""}`,onClick:le,children:f.jsxs("div",{className:"event-manager__modal",children:[f.jsxs("div",{className:"event-manager__header",children:[f.jsx("h2",{className:"event-manager__title",children:"Event Manager"}),f.jsx("button",{className:"event-manager__close",onClick:fe,children:f.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),f.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),f.jsx("div",{className:"event-manager__content",children:m?f.jsxs("div",{className:"event-manager__create-form",children:[f.jsxs("div",{className:"event-manager__form-header",children:[f.jsxs("button",{className:"event-manager__back-btn",onClick:()=>{g(!1),pe()},children:[f.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:f.jsx("polyline",{points:"15 18 9 12 15 6"})}),T?"Cancel":"Back"]}),f.jsxs("div",{className:"event-manager__tabs",children:[f.jsx("button",{className:`event-manager__tab ${_==="details"?"event-manager__tab--active":""}`,onClick:()=>v("details"),children:"Details"}),f.jsx("button",{className:`event-manager__tab ${_==="images"?"event-manager__tab--active":""}`,onClick:()=>v("images"),children:"Images"})]})]}),_==="details"&&f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"event-manager__form-grid",children:[f.jsxs("div",{className:"event-manager__form-group event-manager__form-group--full",children:[f.jsx("label",{className:"event-manager__label",children:"Title *"}),f.jsx("input",{type:"text",className:"event-manager__input",value:R.title,onChange:Z=>j({...R,title:Z.target.value}),placeholder:"Event title"})]}),f.jsxs("div",{className:"event-manager__form-group event-manager__form-group--full",children:[f.jsx("label",{className:"event-manager__label",children:"Description"}),f.jsx("textarea",{className:"event-manager__textarea",value:R.description,onChange:Z=>j({...R,description:Z.target.value}),placeholder:"Event description...",rows:3})]}),f.jsxs("div",{className:"event-manager__form-group",children:[f.jsx("label",{className:"event-manager__label",children:"Event Date *"}),f.jsx(C2,{value:R.date,onChange:Z=>j({...R,date:Z}),placeholder:"Select date"})]}),f.jsxs("div",{className:"event-manager__form-group",children:[f.jsx("label",{className:"event-manager__label",children:"Registration Deadline"}),f.jsx(C2,{value:R.registrationDeadline,onChange:Z=>j({...R,registrationDeadline:Z}),placeholder:"Select deadline"})]}),f.jsxs("div",{className:"event-manager__form-group",children:[f.jsx("label",{className:"event-manager__label",children:"Start Time"}),f.jsx(xN,{value:R.startTime,onChange:Z=>j({...R,startTime:Z}),placeholder:"Select start time"})]}),f.jsxs("div",{className:"event-manager__form-group",children:[f.jsx("label",{className:"event-manager__label",children:"End Time"}),f.jsx(xN,{value:R.endTime,onChange:Z=>j({...R,endTime:Z}),placeholder:"Select end time"})]}),f.jsxs("div",{className:"event-manager__form-group",children:[f.jsx("label",{className:"event-manager__label",children:"Type"}),f.jsx(Fi,{options:uX,value:R.type,onChange:Z=>j({...R,type:Z}),placeholder:"Select type"})]}),f.jsxs("div",{className:"event-manager__form-group",children:[f.jsx("label",{className:"event-manager__label",children:"Mode"}),f.jsx(Fi,{options:hX,value:R.mode,onChange:Z=>j({...R,mode:Z}),placeholder:"Select mode"})]}),f.jsxs("div",{className:"event-manager__form-group event-manager__form-group--full",children:[f.jsx("label",{className:"event-manager__label",children:"Venue"}),f.jsx("input",{type:"text",className:"event-manager__input",value:R.venue,onChange:Z=>j({...R,venue:Z.target.value}),placeholder:"Event location (e.g., IIT Delhi)"})]}),f.jsxs("div",{className:"event-manager__form-group event-manager__form-group--full",children:[f.jsx("label",{className:"event-manager__label",children:"Venue URL (Optional)"}),f.jsx("input",{type:"url",className:"event-manager__input",value:R.venueUrl,onChange:Z=>j({...R,venueUrl:Z.target.value}),placeholder:"Google Maps link (e.g., https://maps.app.goo.gl/...)"})]}),f.jsxs("div",{className:"event-manager__form-group",children:[f.jsx("label",{className:"event-manager__label",children:"Eligibility"}),f.jsx(Fi,{options:fX,value:R.eligibility,onChange:Z=>j({...R,eligibility:Z}),placeholder:"Select eligibility"})]}),f.jsxs("div",{className:"event-manager__form-group",children:[f.jsx("label",{className:"event-manager__label",children:"Speakers"}),f.jsx("input",{type:"text",className:"event-manager__input",value:R.speakers,onChange:Z=>j({...R,speakers:Z.target.value}),placeholder:"Comma separated names"})]}),f.jsxs("div",{className:"event-manager__form-group",children:[f.jsx("label",{className:"event-manager__label",children:"Amount ()"}),f.jsx("input",{type:"number",className:"event-manager__input event-manager__input--amount",value:R.amount,onChange:Z=>j({...R,amount:Z.target.value}),onWheel:Z=>{Z.currentTarget.focus(),Z.stopPropagation()},onFocus:Z=>{const Fe=Z.currentTarget.closest(".event-manager__content");if(Fe){const nt=It=>It.preventDefault();Fe.addEventListener("wheel",nt,{passive:!1}),Z.currentTarget.addEventListener("blur",()=>{Fe.removeEventListener("wheel",nt)},{once:!0})}},placeholder:"Leave empty for free event",min:"0"})]})]}),f.jsxs("button",{className:"event-manager__next-btn",onClick:()=>v("images"),children:["Next: Add Images",f.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:f.jsx("polyline",{points:"9 18 15 12 9 6"})})]})]}),_==="images"&&f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"event-manager__images-section",children:[f.jsxs("div",{className:"event-manager__images-upload",children:[f.jsx("input",{type:"file",ref:P,onChange:J,accept:"image/*",multiple:!0,style:{display:"none"}}),f.jsx("div",{className:`event-manager__dropzone ${I?"event-manager__dropzone--active":""}`,onDragOver:re,onDragLeave:L,onDrop:G,onClick:()=>P.current?.click(),children:f.jsxs("div",{className:"event-manager__dropzone-content",children:[f.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),f.jsx("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),f.jsx("polyline",{points:"21 15 16 10 5 21"})]}),f.jsx("p",{children:"Drag & drop images here"}),f.jsx("span",{children:"or click to browse"})]})}),C.length>0&&f.jsx("div",{className:"event-manager__images-list",children:C.map((Z,Fe)=>f.jsxs("div",{className:"event-manager__image-item",children:[f.jsx("img",{src:Z,alt:`Upload ${Fe+1}`}),Fe===0&&f.jsx("span",{className:"event-manager__image-badge",children:"Thumbnail"}),f.jsx("button",{className:"event-manager__image-remove",onClick:()=>ae(Fe),children:""})]},Fe))}),f.jsx("p",{className:"event-manager__hint",children:"First image will be used as thumbnail. Drag to reposition."})]}),f.jsxs("div",{className:"event-manager__images-preview",children:[f.jsx("h4",{className:"event-manager__preview-title",children:"Card Preview"}),f.jsxs("div",{className:"event-manager__preview-card",children:[C.length>0?f.jsxs("div",{ref:we,className:"event-manager__preview-image",onMouseDown:ge,onMouseMove:Te,onMouseUp:Se,onMouseLeave:Se,style:{cursor:B?"grabbing":"grab"},children:[f.jsx("img",{src:C[0],alt:"Event preview",style:{objectPosition:`${O.x}% ${O.y}%`},draggable:!1}),f.jsx("div",{className:"event-manager__preview-hint",children:"Drag to adjust position"})]}):f.jsx("div",{className:"event-manager__preview-placeholder",children:f.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[f.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),f.jsx("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),f.jsx("polyline",{points:"21 15 16 10 5 21"})]})}),f.jsxs("div",{className:"event-manager__preview-content",children:[f.jsx("span",{className:`event-manager__badge ${it(R.type)}`,children:R.type}),f.jsx("h5",{children:R.title||"Event Title"}),f.jsx("p",{children:R.date||"Event Date"})]})]})]})]}),f.jsx("button",{className:"event-manager__submit-btn",onClick:Ce,disabled:b,children:b?T?"Updating...":"Creating...":T?"Update Event":"Create Event"})]})]}):f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"event-manager__toolbar",children:f.jsxs("button",{className:"event-manager__create-btn",onClick:()=>g(!0),children:[f.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),f.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Create Event"]})}),f.jsx("div",{className:"event-manager__list",children:o?f.jsx("div",{className:"event-manager__loading",children:"Loading events..."}):i.length===0?f.jsxs("div",{className:"event-manager__empty",children:[f.jsx("p",{children:"No events yet"}),f.jsx("span",{children:'Click "Create Event" to add your first event'})]}):i.map(Z=>f.jsxs("div",{className:`event-manager__item ${Z.isPast?"event-manager__item--past":""}`,children:[f.jsx("div",{className:"event-manager__item-preview",children:Z.images&&Z.images.length>0?f.jsx("img",{src:Z.images[0],alt:Z.title,style:{width:"100%",height:"100%",objectFit:"cover",objectPosition:Z.imagePositions?.["0"]?`${Z.imagePositions[0].x}% ${Z.imagePositions[0].y}%`:"center"}}):f.jsx("div",{className:"event-manager__item-placeholder",children:f.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[f.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),f.jsx("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),f.jsx("polyline",{points:"21 15 16 10 5 21"})]})})}),f.jsxs("div",{className:"event-manager__item-info",children:[f.jsxs("div",{className:"event-manager__item-header",children:[f.jsx("h4",{className:"event-manager__item-title",children:Z.title}),f.jsx("span",{className:`event-manager__badge ${it(Z.type)}`,children:Z.type})]}),f.jsxs("div",{className:"event-manager__item-meta",children:[f.jsx("span",{children:Z.date}),f.jsx("span",{children:""}),f.jsx("span",{children:Z.mode}),f.jsx("span",{children:""}),f.jsx("span",{className:Z.registrationOpen?"event-manager__status--open":"event-manager__status--closed",children:Z.registrationOpen?"Open":"Closed"}),f.jsx("span",{children:""}),f.jsx("span",{className:"event-manager__item-price",children:Z.amount&&Z.amount>0?`${Z.amount}`:"Free"})]})]}),f.jsxs("div",{className:"event-manager__item-actions",children:[f.jsx("button",{className:"event-manager__item-btn event-manager__item-btn--edit",onClick:()=>Ae(Z),title:"Edit Event",children:f.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),f.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),f.jsx("button",{className:"event-manager__item-btn",onClick:()=>et(Z),title:Z.registrationOpen?"Close Registration":"Open Registration",children:f.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:Z.registrationOpen?f.jsx("path",{d:"M18 6L6 18M6 6l12 12"}):f.jsx("path",{d:"M20 6L9 17l-5-5"})})}),f.jsx("button",{className:"event-manager__item-btn",onClick:()=>ot(Z),title:Z.isPast?"Mark as Upcoming":"Mark as Past",children:f.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("circle",{cx:"12",cy:"12",r:"10"}),f.jsx("polyline",{points:"12 6 12 12 16 14"})]})}),f.jsx("button",{className:"event-manager__item-btn event-manager__item-btn--delete",onClick:()=>tt(Z),title:"Delete",children:f.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("polyline",{points:"3 6 5 6 21 6"}),f.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})]},Z.id))})]})})]})}):null}const pX="admin-profiles";async function gX(n,e){if(!["image/jpeg","image/png","image/webp","image/gif"].includes(e.type))throw new Error("Invalid file type. Please upload a JPEG, PNG, WebP, or GIF image.");const r=5*1024*1024;if(e.size>r)throw new Error("File too large. Maximum size is 5MB.");const i=e.name.split(".").pop()||"jpg",a=`${n}_${Date.now()}.${i}`,o=Zp(eg,`${pX}/${a}`),c=await Kw(o,e,{contentType:e.type,customMetadata:{uploadedBy:n,uploadedAt:new Date().toISOString()}});return await Xw(c.ref)}async function bN(n){try{const t=new URL(n).pathname.match(/\/o\/(.+?)(\?|$)/);if(t&&t[1]){const r=decodeURIComponent(t[1]),i=Zp(eg,r);await DI(i)}}catch(e){if(e.code!=="storage/object-not-found")throw e}}function vk(n,e){const t=`${n?.charAt(0)||"A"}${e?.charAt(0)||""}`.toUpperCase();return`https://ui-avatars.com/api/?name=${encodeURIComponent(t)}&background=6366f1&color=fff&size=256`}function EN(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function _k(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?EN(Object(t),!0).forEach(function(r){xX(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):EN(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function vX(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function yk(n){var e=vX(n,"string");return typeof e=="symbol"?e:e+""}function y5(n){"@babel/helpers - typeof";return y5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y5(n)}function _X(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function SN(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,yk(r.key),r)}}function yX(n,e,t){return e&&SN(n.prototype,e),t&&SN(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function xX(n,e,t){return e=yk(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function xk(n){return wX(n)||bX(n)||EX(n)||SX()}function wX(n){if(Array.isArray(n))return x5(n)}function bX(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function EX(n,e){if(n){if(typeof n=="string")return x5(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return x5(n,e)}}function x5(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function SX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Nv=typeof window<"u"&&typeof window.document<"u",Uc=Nv?window:{},ob=Nv&&Uc.document.documentElement?"ontouchstart"in Uc.document.documentElement:!1,lb=Nv?"PointerEvent"in Uc:!1,pi="cropper",cb="all",wk="crop",bk="move",Ek="zoom",gf="e",vf="w",Wd="s",yh="n",Fm="ne",Bm="nw",Um="se",Vm="sw",w5="".concat(pi,"-crop"),TN="".concat(pi,"-disabled"),fo="".concat(pi,"-hidden"),AN="".concat(pi,"-hide"),TX="".concat(pi,"-invisible"),R2="".concat(pi,"-modal"),b5="".concat(pi,"-move"),Ap="".concat(pi,"Action"),A1="".concat(pi,"Preview"),ub="crop",Sk="move",Tk="none",E5="crop",S5="cropend",T5="cropmove",A5="cropstart",NN="dblclick",AX=ob?"touchstart":"mousedown",NX=ob?"touchmove":"mousemove",CX=ob?"touchend touchcancel":"mouseup",CN=lb?"pointerdown":AX,IN=lb?"pointermove":NX,RN=lb?"pointerup pointercancel":CX,kN="ready",ON="resize",DN="wheel",N5="zoom",LN="image/jpeg",IX=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,RX=/^data:/,kX=/^data:image\/jpeg;base64,/,OX=/^img|canvas$/i,Ak=200,Nk=100,jN={viewMode:0,dragMode:ub,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:Ak,minContainerHeight:Nk,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},DX='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>',LX=Number.isNaN||Uc.isNaN;function Kn(n){return typeof n=="number"&&!LX(n)}var MN=function(e){return e>0&&e<1/0};function mx(n){return typeof n>"u"}function Bf(n){return y5(n)==="object"&&n!==null}var jX=Object.prototype.hasOwnProperty;function s0(n){if(!Bf(n))return!1;try{var e=n.constructor,t=e.prototype;return e&&t&&jX.call(t,"isPrototypeOf")}catch{return!1}}function uo(n){return typeof n=="function"}var MX=Array.prototype.slice;function Ck(n){return Array.from?Array.from(n):MX.call(n)}function la(n,e){return n&&uo(e)&&(Array.isArray(n)||Kn(n.length)?Ck(n).forEach(function(t,r){e.call(n,t,r,n)}):Bf(n)&&Object.keys(n).forEach(function(t){e.call(n,n[t],t,n)})),n}var gi=Object.assign||function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return Bf(e)&&r.length>0&&r.forEach(function(a){Bf(a)&&Object.keys(a).forEach(function(o){e[o]=a[o]})}),e},PX=/\.\d*(?:0|9){12}\d*$/;function v0(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e11;return PX.test(n)?Math.round(n*e)/e:n}var FX=/^width|height|left|top|marginLeft|marginTop$/;function Ch(n,e){var t=n.style;la(e,function(r,i){FX.test(i)&&Kn(r)&&(r="".concat(r,"px")),t[i]=r})}function BX(n,e){return n.classList?n.classList.contains(e):n.className.indexOf(e)>-1}function ja(n,e){if(e){if(Kn(n.length)){la(n,function(r){ja(r,e)});return}if(n.classList){n.classList.add(e);return}var t=n.className.trim();t?t.indexOf(e)<0&&(n.className="".concat(t," ").concat(e)):n.className=e}}function jc(n,e){if(e){if(Kn(n.length)){la(n,function(t){jc(t,e)});return}if(n.classList){n.classList.remove(e);return}n.className.indexOf(e)>=0&&(n.className=n.className.replace(e,""))}}function o0(n,e,t){if(e){if(Kn(n.length)){la(n,function(r){o0(r,e,t)});return}t?ja(n,e):jc(n,e)}}var UX=/([a-z\d])([A-Z])/g;function hb(n){return n.replace(UX,"$1-$2").toLowerCase()}function C5(n,e){return Bf(n[e])?n[e]:n.dataset?n.dataset[e]:n.getAttribute("data-".concat(hb(e)))}function Np(n,e,t){Bf(t)?n[e]=t:n.dataset?n.dataset[e]=t:n.setAttribute("data-".concat(hb(e)),t)}function VX(n,e){if(Bf(n[e]))try{delete n[e]}catch{n[e]=void 0}else if(n.dataset)try{delete n.dataset[e]}catch{n.dataset[e]=void 0}else n.removeAttribute("data-".concat(hb(e)))}var Ik=/\s\s*/,Rk=(function(){var n=!1;if(Nv){var e=!1,t=function(){},r=Object.defineProperty({},"once",{get:function(){return n=!0,e},set:function(a){e=a}});Uc.addEventListener("test",t,r),Uc.removeEventListener("test",t,r)}return n})();function Vl(n,e,t){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},i=t;e.trim().split(Ik).forEach(function(a){if(!Rk){var o=n.listeners;o&&o[a]&&o[a][t]&&(i=o[a][t],delete o[a][t],Object.keys(o[a]).length===0&&delete o[a],Object.keys(o).length===0&&delete n.listeners)}n.removeEventListener(a,i,r)})}function hl(n,e,t){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},i=t;e.trim().split(Ik).forEach(function(a){if(r.once&&!Rk){var o=n.listeners,c=o===void 0?{}:o;i=function(){delete c[a][t],n.removeEventListener(a,i,r);for(var h=arguments.length,m=new Array(h),g=0;g<h;g++)m[g]=arguments[g];t.apply(n,m)},c[a]||(c[a]={}),c[a][t]&&n.removeEventListener(a,c[a][t],r),c[a][t]=i,n.listeners=c}n.addEventListener(a,i,r)})}function _0(n,e,t){var r;return uo(Event)&&uo(CustomEvent)?r=new CustomEvent(e,{detail:t,bubbles:!0,cancelable:!0}):(r=document.createEvent("CustomEvent"),r.initCustomEvent(e,!0,!0,t)),n.dispatchEvent(r)}function kk(n){var e=n.getBoundingClientRect();return{left:e.left+(window.pageXOffset-document.documentElement.clientLeft),top:e.top+(window.pageYOffset-document.documentElement.clientTop)}}var px=Uc.location,zX=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function PN(n){var e=n.match(zX);return e!==null&&(e[1]!==px.protocol||e[2]!==px.hostname||e[3]!==px.port)}function FN(n){var e="timestamp=".concat(new Date().getTime());return n+(n.indexOf("?")===-1?"?":"&")+e}function lp(n){var e=n.rotate,t=n.scaleX,r=n.scaleY,i=n.translateX,a=n.translateY,o=[];Kn(i)&&i!==0&&o.push("translateX(".concat(i,"px)")),Kn(a)&&a!==0&&o.push("translateY(".concat(a,"px)")),Kn(e)&&e!==0&&o.push("rotate(".concat(e,"deg)")),Kn(t)&&t!==1&&o.push("scaleX(".concat(t,")")),Kn(r)&&r!==1&&o.push("scaleY(".concat(r,")"));var c=o.length?o.join(" "):"none";return{WebkitTransform:c,msTransform:c,transform:c}}function qX(n){var e=_k({},n),t=0;return la(n,function(r,i){delete e[i],la(e,function(a){var o=Math.abs(r.startX-a.startX),c=Math.abs(r.startY-a.startY),u=Math.abs(r.endX-a.endX),h=Math.abs(r.endY-a.endY),m=Math.sqrt(o*o+c*c),g=Math.sqrt(u*u+h*h),_=(g-m)/m;Math.abs(_)>Math.abs(t)&&(t=_)})}),t}function N1(n,e){var t=n.pageX,r=n.pageY,i={endX:t,endY:r};return e?i:_k({startX:t,startY:r},i)}function HX(n){var e=0,t=0,r=0;return la(n,function(i){var a=i.startX,o=i.startY;e+=a,t+=o,r+=1}),e/=r,t/=r,{pageX:e,pageY:t}}function Ih(n){var e=n.aspectRatio,t=n.height,r=n.width,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"contain",a=MN(r),o=MN(t);if(a&&o){var c=t*e;i==="contain"&&c>r||i==="cover"&&c<r?t=r/e:r=t*e}else a?t=r/e:o&&(r=t*e);return{width:r,height:t}}function GX(n){var e=n.width,t=n.height,r=n.degree;if(r=Math.abs(r)%180,r===90)return{width:t,height:e};var i=r%90*Math.PI/180,a=Math.sin(i),o=Math.cos(i),c=e*o+t*a,u=e*a+t*o;return r>90?{width:u,height:c}:{width:c,height:u}}function WX(n,e,t,r){var i=e.aspectRatio,a=e.naturalWidth,o=e.naturalHeight,c=e.rotate,u=c===void 0?0:c,h=e.scaleX,m=h===void 0?1:h,g=e.scaleY,_=g===void 0?1:g,v=t.aspectRatio,b=t.naturalWidth,w=t.naturalHeight,T=r.fillColor,N=T===void 0?"transparent":T,P=r.imageSmoothingEnabled,R=P===void 0?!0:P,j=r.imageSmoothingQuality,K=j===void 0?"low":j,U=r.maxWidth,C=U===void 0?1/0:U,k=r.maxHeight,I=k===void 0?1/0:k,z=r.minWidth,O=z===void 0?0:z,M=r.minHeight,B=M===void 0?0:M,Y=document.createElement("canvas"),we=Y.getContext("2d"),fe=Ih({aspectRatio:v,width:C,height:I}),le=Ih({aspectRatio:v,width:O,height:B},"cover"),pe=Math.min(fe.width,Math.max(le.width,b)),Ie=Math.min(fe.height,Math.max(le.height,w)),Ae=Ih({aspectRatio:i,width:C,height:I}),re=Ih({aspectRatio:i,width:O,height:B},"cover"),L=Math.min(Ae.width,Math.max(re.width,a)),G=Math.min(Ae.height,Math.max(re.height,o)),q=[-L/2,-G/2,L,G];return Y.width=v0(pe),Y.height=v0(Ie),we.fillStyle=N,we.fillRect(0,0,pe,Ie),we.save(),we.translate(pe/2,Ie/2),we.rotate(u*Math.PI/180),we.scale(m,_),we.imageSmoothingEnabled=R,we.imageSmoothingQuality=K,we.drawImage.apply(we,[n].concat(xk(q.map(function(J){return Math.floor(v0(J))})))),we.restore(),Y}var Ok=String.fromCharCode;function YX(n,e,t){var r="";t+=e;for(var i=e;i<t;i+=1)r+=Ok(n.getUint8(i));return r}var $X=/^data:.*,/;function KX(n){var e=n.replace($X,""),t=atob(e),r=new ArrayBuffer(t.length),i=new Uint8Array(r);return la(i,function(a,o){i[o]=t.charCodeAt(o)}),r}function XX(n,e){for(var t=[],r=8192,i=new Uint8Array(n);i.length>0;)t.push(Ok.apply(null,Ck(i.subarray(0,r)))),i=i.subarray(r);return"data:".concat(e,";base64,").concat(btoa(t.join("")))}function JX(n){var e=new DataView(n),t;try{var r,i,a;if(e.getUint8(0)===255&&e.getUint8(1)===216)for(var o=e.byteLength,c=2;c+1<o;){if(e.getUint8(c)===255&&e.getUint8(c+1)===225){i=c;break}c+=1}if(i){var u=i+4,h=i+10;if(YX(e,u,4)==="Exif"){var m=e.getUint16(h);if(r=m===18761,(r||m===19789)&&e.getUint16(h+2,r)===42){var g=e.getUint32(h+4,r);g>=8&&(a=h+g)}}}if(a){var _=e.getUint16(a,r),v,b;for(b=0;b<_;b+=1)if(v=a+b*12+2,e.getUint16(v,r)===274){v+=8,t=e.getUint16(v,r),e.setUint16(v,1,r);break}}}catch{t=1}return t}function QX(n){var e=0,t=1,r=1;switch(n){case 2:t=-1;break;case 3:e=-180;break;case 4:r=-1;break;case 5:e=90,r=-1;break;case 6:e=90;break;case 7:e=90,t=-1;break;case 8:e=-90;break}return{rotate:e,scaleX:t,scaleY:r}}var ZX={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var e=this.element,t=this.options,r=this.container,i=this.cropper,a=Number(t.minContainerWidth),o=Number(t.minContainerHeight);ja(i,fo),jc(e,fo);var c={width:Math.max(r.offsetWidth,a>=0?a:Ak),height:Math.max(r.offsetHeight,o>=0?o:Nk)};this.containerData=c,Ch(i,{width:c.width,height:c.height}),ja(e,fo),jc(i,fo)},initCanvas:function(){var e=this.containerData,t=this.imageData,r=this.options.viewMode,i=Math.abs(t.rotate)%180===90,a=i?t.naturalHeight:t.naturalWidth,o=i?t.naturalWidth:t.naturalHeight,c=a/o,u=e.width,h=e.height;e.height*c>e.width?r===3?u=e.height*c:h=e.width/c:r===3?h=e.width/c:u=e.height*c;var m={aspectRatio:c,naturalWidth:a,naturalHeight:o,width:u,height:h};this.canvasData=m,this.limited=r===1||r===2,this.limitCanvas(!0,!0),m.width=Math.min(Math.max(m.width,m.minWidth),m.maxWidth),m.height=Math.min(Math.max(m.height,m.minHeight),m.maxHeight),m.left=(e.width-m.width)/2,m.top=(e.height-m.height)/2,m.oldLeft=m.left,m.oldTop=m.top,this.initialCanvasData=gi({},m)},limitCanvas:function(e,t){var r=this.options,i=this.containerData,a=this.canvasData,o=this.cropBoxData,c=r.viewMode,u=a.aspectRatio,h=this.cropped&&o;if(e){var m=Number(r.minCanvasWidth)||0,g=Number(r.minCanvasHeight)||0;c>1?(m=Math.max(m,i.width),g=Math.max(g,i.height),c===3&&(g*u>m?m=g*u:g=m/u)):c>0&&(m?m=Math.max(m,h?o.width:0):g?g=Math.max(g,h?o.height:0):h&&(m=o.width,g=o.height,g*u>m?m=g*u:g=m/u));var _=Ih({aspectRatio:u,width:m,height:g});m=_.width,g=_.height,a.minWidth=m,a.minHeight=g,a.maxWidth=1/0,a.maxHeight=1/0}if(t)if(c>(h?0:1)){var v=i.width-a.width,b=i.height-a.height;a.minLeft=Math.min(0,v),a.minTop=Math.min(0,b),a.maxLeft=Math.max(0,v),a.maxTop=Math.max(0,b),h&&this.limited&&(a.minLeft=Math.min(o.left,o.left+(o.width-a.width)),a.minTop=Math.min(o.top,o.top+(o.height-a.height)),a.maxLeft=o.left,a.maxTop=o.top,c===2&&(a.width>=i.width&&(a.minLeft=Math.min(0,v),a.maxLeft=Math.max(0,v)),a.height>=i.height&&(a.minTop=Math.min(0,b),a.maxTop=Math.max(0,b))))}else a.minLeft=-a.width,a.minTop=-a.height,a.maxLeft=i.width,a.maxTop=i.height},renderCanvas:function(e,t){var r=this.canvasData,i=this.imageData;if(t){var a=GX({width:i.naturalWidth*Math.abs(i.scaleX||1),height:i.naturalHeight*Math.abs(i.scaleY||1),degree:i.rotate||0}),o=a.width,c=a.height,u=r.width*(o/r.naturalWidth),h=r.height*(c/r.naturalHeight);r.left-=(u-r.width)/2,r.top-=(h-r.height)/2,r.width=u,r.height=h,r.aspectRatio=o/c,r.naturalWidth=o,r.naturalHeight=c,this.limitCanvas(!0,!1)}(r.width>r.maxWidth||r.width<r.minWidth)&&(r.left=r.oldLeft),(r.height>r.maxHeight||r.height<r.minHeight)&&(r.top=r.oldTop),r.width=Math.min(Math.max(r.width,r.minWidth),r.maxWidth),r.height=Math.min(Math.max(r.height,r.minHeight),r.maxHeight),this.limitCanvas(!1,!0),r.left=Math.min(Math.max(r.left,r.minLeft),r.maxLeft),r.top=Math.min(Math.max(r.top,r.minTop),r.maxTop),r.oldLeft=r.left,r.oldTop=r.top,Ch(this.canvas,gi({width:r.width,height:r.height},lp({translateX:r.left,translateY:r.top}))),this.renderImage(e),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(e){var t=this.canvasData,r=this.imageData,i=r.naturalWidth*(t.width/t.naturalWidth),a=r.naturalHeight*(t.height/t.naturalHeight);gi(r,{width:i,height:a,left:(t.width-i)/2,top:(t.height-a)/2}),Ch(this.image,gi({width:r.width,height:r.height},lp(gi({translateX:r.left,translateY:r.top},r)))),e&&this.output()},initCropBox:function(){var e=this.options,t=this.canvasData,r=e.aspectRatio||e.initialAspectRatio,i=Number(e.autoCropArea)||.8,a={width:t.width,height:t.height};r&&(t.height*r>t.width?a.height=a.width/r:a.width=a.height*r),this.cropBoxData=a,this.limitCropBox(!0,!0),a.width=Math.min(Math.max(a.width,a.minWidth),a.maxWidth),a.height=Math.min(Math.max(a.height,a.minHeight),a.maxHeight),a.width=Math.max(a.minWidth,a.width*i),a.height=Math.max(a.minHeight,a.height*i),a.left=t.left+(t.width-a.width)/2,a.top=t.top+(t.height-a.height)/2,a.oldLeft=a.left,a.oldTop=a.top,this.initialCropBoxData=gi({},a)},limitCropBox:function(e,t){var r=this.options,i=this.containerData,a=this.canvasData,o=this.cropBoxData,c=this.limited,u=r.aspectRatio;if(e){var h=Number(r.minCropBoxWidth)||0,m=Number(r.minCropBoxHeight)||0,g=c?Math.min(i.width,a.width,a.width+a.left,i.width-a.left):i.width,_=c?Math.min(i.height,a.height,a.height+a.top,i.height-a.top):i.height;h=Math.min(h,i.width),m=Math.min(m,i.height),u&&(h&&m?m*u>h?m=h/u:h=m*u:h?m=h/u:m&&(h=m*u),_*u>g?_=g/u:g=_*u),o.minWidth=Math.min(h,g),o.minHeight=Math.min(m,_),o.maxWidth=g,o.maxHeight=_}t&&(c?(o.minLeft=Math.max(0,a.left),o.minTop=Math.max(0,a.top),o.maxLeft=Math.min(i.width,a.left+a.width)-o.width,o.maxTop=Math.min(i.height,a.top+a.height)-o.height):(o.minLeft=0,o.minTop=0,o.maxLeft=i.width-o.width,o.maxTop=i.height-o.height))},renderCropBox:function(){var e=this.options,t=this.containerData,r=this.cropBoxData;(r.width>r.maxWidth||r.width<r.minWidth)&&(r.left=r.oldLeft),(r.height>r.maxHeight||r.height<r.minHeight)&&(r.top=r.oldTop),r.width=Math.min(Math.max(r.width,r.minWidth),r.maxWidth),r.height=Math.min(Math.max(r.height,r.minHeight),r.maxHeight),this.limitCropBox(!1,!0),r.left=Math.min(Math.max(r.left,r.minLeft),r.maxLeft),r.top=Math.min(Math.max(r.top,r.minTop),r.maxTop),r.oldLeft=r.left,r.oldTop=r.top,e.movable&&e.cropBoxMovable&&Np(this.face,Ap,r.width>=t.width&&r.height>=t.height?bk:cb),Ch(this.cropBox,gi({width:r.width,height:r.height},lp({translateX:r.left,translateY:r.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),_0(this.element,E5,this.getData())}},eJ={initPreview:function(){var e=this.element,t=this.crossOrigin,r=this.options.preview,i=t?this.crossOriginUrl:this.url,a=e.alt||"The image to preview",o=document.createElement("img");if(t&&(o.crossOrigin=t),o.src=i,o.alt=a,this.viewBox.appendChild(o),this.viewBoxImage=o,!!r){var c=r;typeof r=="string"?c=e.ownerDocument.querySelectorAll(r):r.querySelector&&(c=[r]),this.previews=c,la(c,function(u){var h=document.createElement("img");Np(u,A1,{width:u.offsetWidth,height:u.offsetHeight,html:u.innerHTML}),t&&(h.crossOrigin=t),h.src=i,h.alt=a,h.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',u.innerHTML="",u.appendChild(h)})}},resetPreview:function(){la(this.previews,function(e){var t=C5(e,A1);Ch(e,{width:t.width,height:t.height}),e.innerHTML=t.html,VX(e,A1)})},preview:function(){var e=this.imageData,t=this.canvasData,r=this.cropBoxData,i=r.width,a=r.height,o=e.width,c=e.height,u=r.left-t.left-e.left,h=r.top-t.top-e.top;!this.cropped||this.disabled||(Ch(this.viewBoxImage,gi({width:o,height:c},lp(gi({translateX:-u,translateY:-h},e)))),la(this.previews,function(m){var g=C5(m,A1),_=g.width,v=g.height,b=_,w=v,T=1;i&&(T=_/i,w=a*T),a&&w>v&&(T=v/a,b=i*T,w=v),Ch(m,{width:b,height:w}),Ch(m.getElementsByTagName("img")[0],gi({width:o*T,height:c*T},lp(gi({translateX:-u*T,translateY:-h*T},e))))}))}},tJ={bind:function(){var e=this.element,t=this.options,r=this.cropper;uo(t.cropstart)&&hl(e,A5,t.cropstart),uo(t.cropmove)&&hl(e,T5,t.cropmove),uo(t.cropend)&&hl(e,S5,t.cropend),uo(t.crop)&&hl(e,E5,t.crop),uo(t.zoom)&&hl(e,N5,t.zoom),hl(r,CN,this.onCropStart=this.cropStart.bind(this)),t.zoomable&&t.zoomOnWheel&&hl(r,DN,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),t.toggleDragModeOnDblclick&&hl(r,NN,this.onDblclick=this.dblclick.bind(this)),hl(e.ownerDocument,IN,this.onCropMove=this.cropMove.bind(this)),hl(e.ownerDocument,RN,this.onCropEnd=this.cropEnd.bind(this)),t.responsive&&hl(window,ON,this.onResize=this.resize.bind(this))},unbind:function(){var e=this.element,t=this.options,r=this.cropper;uo(t.cropstart)&&Vl(e,A5,t.cropstart),uo(t.cropmove)&&Vl(e,T5,t.cropmove),uo(t.cropend)&&Vl(e,S5,t.cropend),uo(t.crop)&&Vl(e,E5,t.crop),uo(t.zoom)&&Vl(e,N5,t.zoom),Vl(r,CN,this.onCropStart),t.zoomable&&t.zoomOnWheel&&Vl(r,DN,this.onWheel,{passive:!1,capture:!0}),t.toggleDragModeOnDblclick&&Vl(r,NN,this.onDblclick),Vl(e.ownerDocument,IN,this.onCropMove),Vl(e.ownerDocument,RN,this.onCropEnd),t.responsive&&Vl(window,ON,this.onResize)}},nJ={resize:function(){if(!this.disabled){var e=this.options,t=this.container,r=this.containerData,i=t.offsetWidth/r.width,a=t.offsetHeight/r.height,o=Math.abs(i-1)>Math.abs(a-1)?i:a;if(o!==1){var c,u;e.restore&&(c=this.getCanvasData(),u=this.getCropBoxData()),this.render(),e.restore&&(this.setCanvasData(la(c,function(h,m){c[m]=h*o})),this.setCropBoxData(la(u,function(h,m){u[m]=h*o})))}}},dblclick:function(){this.disabled||this.options.dragMode===Tk||this.setDragMode(BX(this.dragBox,w5)?Sk:ub)},wheel:function(e){var t=this,r=Number(this.options.wheelZoomRatio)||.1,i=1;this.disabled||(e.preventDefault(),!this.wheeling&&(this.wheeling=!0,setTimeout(function(){t.wheeling=!1},50),e.deltaY?i=e.deltaY>0?1:-1:e.wheelDelta?i=-e.wheelDelta/120:e.detail&&(i=e.detail>0?1:-1),this.zoom(-i*r,e)))},cropStart:function(e){var t=e.buttons,r=e.button;if(!(this.disabled||(e.type==="mousedown"||e.type==="pointerdown"&&e.pointerType==="mouse")&&(Kn(t)&&t!==1||Kn(r)&&r!==0||e.ctrlKey))){var i=this.options,a=this.pointers,o;e.changedTouches?la(e.changedTouches,function(c){a[c.identifier]=N1(c)}):a[e.pointerId||0]=N1(e),Object.keys(a).length>1&&i.zoomable&&i.zoomOnTouch?o=Ek:o=C5(e.target,Ap),IX.test(o)&&_0(this.element,A5,{originalEvent:e,action:o})!==!1&&(e.preventDefault(),this.action=o,this.cropping=!1,o===wk&&(this.cropping=!0,ja(this.dragBox,R2)))}},cropMove:function(e){var t=this.action;if(!(this.disabled||!t)){var r=this.pointers;e.preventDefault(),_0(this.element,T5,{originalEvent:e,action:t})!==!1&&(e.changedTouches?la(e.changedTouches,function(i){gi(r[i.identifier]||{},N1(i,!0))}):gi(r[e.pointerId||0]||{},N1(e,!0)),this.change(e))}},cropEnd:function(e){if(!this.disabled){var t=this.action,r=this.pointers;e.changedTouches?la(e.changedTouches,function(i){delete r[i.identifier]}):delete r[e.pointerId||0],t&&(e.preventDefault(),Object.keys(r).length||(this.action=""),this.cropping&&(this.cropping=!1,o0(this.dragBox,R2,this.cropped&&this.options.modal)),_0(this.element,S5,{originalEvent:e,action:t}))}}},rJ={change:function(e){var t=this.options,r=this.canvasData,i=this.containerData,a=this.cropBoxData,o=this.pointers,c=this.action,u=t.aspectRatio,h=a.left,m=a.top,g=a.width,_=a.height,v=h+g,b=m+_,w=0,T=0,N=i.width,P=i.height,R=!0,j;!u&&e.shiftKey&&(u=g&&_?g/_:1),this.limited&&(w=a.minLeft,T=a.minTop,N=w+Math.min(i.width,r.width,r.left+r.width),P=T+Math.min(i.height,r.height,r.top+r.height));var K=o[Object.keys(o)[0]],U={x:K.endX-K.startX,y:K.endY-K.startY},C=function(I){switch(I){case gf:v+U.x>N&&(U.x=N-v);break;case vf:h+U.x<w&&(U.x=w-h);break;case yh:m+U.y<T&&(U.y=T-m);break;case Wd:b+U.y>P&&(U.y=P-b);break}};switch(c){case cb:h+=U.x,m+=U.y;break;case gf:if(U.x>=0&&(v>=N||u&&(m<=T||b>=P))){R=!1;break}C(gf),g+=U.x,g<0&&(c=vf,g=-g,h-=g),u&&(_=g/u,m+=(a.height-_)/2);break;case yh:if(U.y<=0&&(m<=T||u&&(h<=w||v>=N))){R=!1;break}C(yh),_-=U.y,m+=U.y,_<0&&(c=Wd,_=-_,m-=_),u&&(g=_*u,h+=(a.width-g)/2);break;case vf:if(U.x<=0&&(h<=w||u&&(m<=T||b>=P))){R=!1;break}C(vf),g-=U.x,h+=U.x,g<0&&(c=gf,g=-g,h-=g),u&&(_=g/u,m+=(a.height-_)/2);break;case Wd:if(U.y>=0&&(b>=P||u&&(h<=w||v>=N))){R=!1;break}C(Wd),_+=U.y,_<0&&(c=yh,_=-_,m-=_),u&&(g=_*u,h+=(a.width-g)/2);break;case Fm:if(u){if(U.y<=0&&(m<=T||v>=N)){R=!1;break}C(yh),_-=U.y,m+=U.y,g=_*u}else C(yh),C(gf),U.x>=0?v<N?g+=U.x:U.y<=0&&m<=T&&(R=!1):g+=U.x,U.y<=0?m>T&&(_-=U.y,m+=U.y):(_-=U.y,m+=U.y);g<0&&_<0?(c=Vm,_=-_,g=-g,m-=_,h-=g):g<0?(c=Bm,g=-g,h-=g):_<0&&(c=Um,_=-_,m-=_);break;case Bm:if(u){if(U.y<=0&&(m<=T||h<=w)){R=!1;break}C(yh),_-=U.y,m+=U.y,g=_*u,h+=a.width-g}else C(yh),C(vf),U.x<=0?h>w?(g-=U.x,h+=U.x):U.y<=0&&m<=T&&(R=!1):(g-=U.x,h+=U.x),U.y<=0?m>T&&(_-=U.y,m+=U.y):(_-=U.y,m+=U.y);g<0&&_<0?(c=Um,_=-_,g=-g,m-=_,h-=g):g<0?(c=Fm,g=-g,h-=g):_<0&&(c=Vm,_=-_,m-=_);break;case Vm:if(u){if(U.x<=0&&(h<=w||b>=P)){R=!1;break}C(vf),g-=U.x,h+=U.x,_=g/u}else C(Wd),C(vf),U.x<=0?h>w?(g-=U.x,h+=U.x):U.y>=0&&b>=P&&(R=!1):(g-=U.x,h+=U.x),U.y>=0?b<P&&(_+=U.y):_+=U.y;g<0&&_<0?(c=Fm,_=-_,g=-g,m-=_,h-=g):g<0?(c=Um,g=-g,h-=g):_<0&&(c=Bm,_=-_,m-=_);break;case Um:if(u){if(U.x>=0&&(v>=N||b>=P)){R=!1;break}C(gf),g+=U.x,_=g/u}else C(Wd),C(gf),U.x>=0?v<N?g+=U.x:U.y>=0&&b>=P&&(R=!1):g+=U.x,U.y>=0?b<P&&(_+=U.y):_+=U.y;g<0&&_<0?(c=Bm,_=-_,g=-g,m-=_,h-=g):g<0?(c=Vm,g=-g,h-=g):_<0&&(c=Fm,_=-_,m-=_);break;case bk:this.move(U.x,U.y),R=!1;break;case Ek:this.zoom(qX(o),e),R=!1;break;case wk:if(!U.x||!U.y){R=!1;break}j=kk(this.cropper),h=K.startX-j.left,m=K.startY-j.top,g=a.minWidth,_=a.minHeight,U.x>0?c=U.y>0?Um:Fm:U.x<0&&(h-=g,c=U.y>0?Vm:Bm),U.y<0&&(m-=_),this.cropped||(jc(this.cropBox,fo),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0));break}R&&(a.width=g,a.height=_,a.left=h,a.top=m,this.action=c,this.renderCropBox()),la(o,function(k){k.startX=k.endX,k.startY=k.endY})}},iJ={crop:function(){return this.ready&&!this.cropped&&!this.disabled&&(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&ja(this.dragBox,R2),jc(this.cropBox,fo),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=gi({},this.initialImageData),this.canvasData=gi({},this.initialCanvasData),this.cropBoxData=gi({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(gi(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),jc(this.dragBox,R2),ja(this.cropBox,fo)),this},replace:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return!this.disabled&&e&&(this.isImg&&(this.element.src=e),t?(this.url=e,this.image.src=e,this.ready&&(this.viewBoxImage.src=e,la(this.previews,function(r){r.getElementsByTagName("img")[0].src=e}))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(e))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,jc(this.cropper,TN)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,ja(this.cropper,TN)),this},destroy:function(){var e=this.element;return e[pi]?(e[pi]=void 0,this.isImg&&this.replaced&&(e.src=this.originalUrl),this.uncreate(),this):this},move:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,r=this.canvasData,i=r.left,a=r.top;return this.moveTo(mx(e)?e:i+Number(e),mx(t)?t:a+Number(t))},moveTo:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,r=this.canvasData,i=!1;return e=Number(e),t=Number(t),this.ready&&!this.disabled&&this.options.movable&&(Kn(e)&&(r.left=e,i=!0),Kn(t)&&(r.top=t,i=!0),i&&this.renderCanvas(!0)),this},zoom:function(e,t){var r=this.canvasData;return e=Number(e),e<0?e=1/(1-e):e=1+e,this.zoomTo(r.width*e/r.naturalWidth,null,t)},zoomTo:function(e,t,r){var i=this.options,a=this.canvasData,o=a.width,c=a.height,u=a.naturalWidth,h=a.naturalHeight;if(e=Number(e),e>=0&&this.ready&&!this.disabled&&i.zoomable){var m=u*e,g=h*e;if(_0(this.element,N5,{ratio:e,oldRatio:o/u,originalEvent:r})===!1)return this;if(r){var _=this.pointers,v=kk(this.cropper),b=_&&Object.keys(_).length?HX(_):{pageX:r.pageX,pageY:r.pageY};a.left-=(m-o)*((b.pageX-v.left-a.left)/o),a.top-=(g-c)*((b.pageY-v.top-a.top)/c)}else s0(t)&&Kn(t.x)&&Kn(t.y)?(a.left-=(m-o)*((t.x-a.left)/o),a.top-=(g-c)*((t.y-a.top)/c)):(a.left-=(m-o)/2,a.top-=(g-c)/2);a.width=m,a.height=g,this.renderCanvas(!0)}return this},rotate:function(e){return this.rotateTo((this.imageData.rotate||0)+Number(e))},rotateTo:function(e){return e=Number(e),Kn(e)&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=e%360,this.renderCanvas(!0,!0)),this},scaleX:function(e){var t=this.imageData.scaleY;return this.scale(e,Kn(t)?t:1)},scaleY:function(e){var t=this.imageData.scaleX;return this.scale(Kn(t)?t:1,e)},scale:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,r=this.imageData,i=!1;return e=Number(e),t=Number(t),this.ready&&!this.disabled&&this.options.scalable&&(Kn(e)&&(r.scaleX=e,i=!0),Kn(t)&&(r.scaleY=t,i=!0),i&&this.renderCanvas(!0,!0)),this},getData:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,t=this.options,r=this.imageData,i=this.canvasData,a=this.cropBoxData,o;if(this.ready&&this.cropped){o={x:a.left-i.left,y:a.top-i.top,width:a.width,height:a.height};var c=r.width/r.naturalWidth;if(la(o,function(m,g){o[g]=m/c}),e){var u=Math.round(o.y+o.height),h=Math.round(o.x+o.width);o.x=Math.round(o.x),o.y=Math.round(o.y),o.width=h-o.x,o.height=u-o.y}}else o={x:0,y:0,width:0,height:0};return t.rotatable&&(o.rotate=r.rotate||0),t.scalable&&(o.scaleX=r.scaleX||1,o.scaleY=r.scaleY||1),o},setData:function(e){var t=this.options,r=this.imageData,i=this.canvasData,a={};if(this.ready&&!this.disabled&&s0(e)){var o=!1;t.rotatable&&Kn(e.rotate)&&e.rotate!==r.rotate&&(r.rotate=e.rotate,o=!0),t.scalable&&(Kn(e.scaleX)&&e.scaleX!==r.scaleX&&(r.scaleX=e.scaleX,o=!0),Kn(e.scaleY)&&e.scaleY!==r.scaleY&&(r.scaleY=e.scaleY,o=!0)),o&&this.renderCanvas(!0,!0);var c=r.width/r.naturalWidth;Kn(e.x)&&(a.left=e.x*c+i.left),Kn(e.y)&&(a.top=e.y*c+i.top),Kn(e.width)&&(a.width=e.width*c),Kn(e.height)&&(a.height=e.height*c),this.setCropBoxData(a)}return this},getContainerData:function(){return this.ready?gi({},this.containerData):{}},getImageData:function(){return this.sized?gi({},this.imageData):{}},getCanvasData:function(){var e=this.canvasData,t={};return this.ready&&la(["left","top","width","height","naturalWidth","naturalHeight"],function(r){t[r]=e[r]}),t},setCanvasData:function(e){var t=this.canvasData,r=t.aspectRatio;return this.ready&&!this.disabled&&s0(e)&&(Kn(e.left)&&(t.left=e.left),Kn(e.top)&&(t.top=e.top),Kn(e.width)?(t.width=e.width,t.height=e.width/r):Kn(e.height)&&(t.height=e.height,t.width=e.height*r),this.renderCanvas(!0)),this},getCropBoxData:function(){var e=this.cropBoxData,t;return this.ready&&this.cropped&&(t={left:e.left,top:e.top,width:e.width,height:e.height}),t||{}},setCropBoxData:function(e){var t=this.cropBoxData,r=this.options.aspectRatio,i,a;return this.ready&&this.cropped&&!this.disabled&&s0(e)&&(Kn(e.left)&&(t.left=e.left),Kn(e.top)&&(t.top=e.top),Kn(e.width)&&e.width!==t.width&&(i=!0,t.width=e.width),Kn(e.height)&&e.height!==t.height&&(a=!0,t.height=e.height),r&&(i?t.height=t.width/r:a&&(t.width=t.height*r)),this.renderCropBox()),this},getCroppedCanvas:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var t=this.canvasData,r=WX(this.image,this.imageData,t,e);if(!this.cropped)return r;var i=this.getData(e.rounded),a=i.x,o=i.y,c=i.width,u=i.height,h=r.width/Math.floor(t.naturalWidth);h!==1&&(a*=h,o*=h,c*=h,u*=h);var m=c/u,g=Ih({aspectRatio:m,width:e.maxWidth||1/0,height:e.maxHeight||1/0}),_=Ih({aspectRatio:m,width:e.minWidth||0,height:e.minHeight||0},"cover"),v=Ih({aspectRatio:m,width:e.width||(h!==1?r.width:c),height:e.height||(h!==1?r.height:u)}),b=v.width,w=v.height;b=Math.min(g.width,Math.max(_.width,b)),w=Math.min(g.height,Math.max(_.height,w));var T=document.createElement("canvas"),N=T.getContext("2d");T.width=v0(b),T.height=v0(w),N.fillStyle=e.fillColor||"transparent",N.fillRect(0,0,b,w);var P=e.imageSmoothingEnabled,R=P===void 0?!0:P,j=e.imageSmoothingQuality;N.imageSmoothingEnabled=R,j&&(N.imageSmoothingQuality=j);var K=r.width,U=r.height,C=a,k=o,I,z,O,M,B,Y;C<=-c||C>K?(C=0,I=0,O=0,B=0):C<=0?(O=-C,C=0,I=Math.min(K,c+C),B=I):C<=K&&(O=0,I=Math.min(c,K-C),B=I),I<=0||k<=-u||k>U?(k=0,z=0,M=0,Y=0):k<=0?(M=-k,k=0,z=Math.min(U,u+k),Y=z):k<=U&&(M=0,z=Math.min(u,U-k),Y=z);var we=[C,k,I,z];if(B>0&&Y>0){var fe=b/c;we.push(O*fe,M*fe,B*fe,Y*fe)}return N.drawImage.apply(N,[r].concat(xk(we.map(function(le){return Math.floor(v0(le))})))),T},setAspectRatio:function(e){var t=this.options;return!this.disabled&&!mx(e)&&(t.aspectRatio=Math.max(0,e)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(e){var t=this.options,r=this.dragBox,i=this.face;if(this.ready&&!this.disabled){var a=e===ub,o=t.movable&&e===Sk;e=a||o?e:Tk,t.dragMode=e,Np(r,Ap,e),o0(r,w5,a),o0(r,b5,o),t.cropBoxMovable||(Np(i,Ap,e),o0(i,w5,a),o0(i,b5,o))}return this}},aJ=Uc.Cropper,Dk=(function(){function n(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(_X(this,n),!e||!OX.test(e.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=e,this.options=gi({},jN,s0(t)&&t),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return yX(n,[{key:"init",value:function(){var t=this.element,r=t.tagName.toLowerCase(),i;if(!t[pi]){if(t[pi]=this,r==="img"){if(this.isImg=!0,i=t.getAttribute("src")||"",this.originalUrl=i,!i)return;i=t.src}else r==="canvas"&&window.HTMLCanvasElement&&(i=t.toDataURL());this.load(i)}}},{key:"load",value:function(t){var r=this;if(t){this.url=t,this.imageData={};var i=this.element,a=this.options;if(!a.rotatable&&!a.scalable&&(a.checkOrientation=!1),!a.checkOrientation||!window.ArrayBuffer){this.clone();return}if(RX.test(t)){kX.test(t)?this.read(KX(t)):this.clone();return}var o=new XMLHttpRequest,c=this.clone.bind(this);this.reloading=!0,this.xhr=o,o.onabort=c,o.onerror=c,o.ontimeout=c,o.onprogress=function(){o.getResponseHeader("content-type")!==LN&&o.abort()},o.onload=function(){r.read(o.response)},o.onloadend=function(){r.reloading=!1,r.xhr=null},a.checkCrossOrigin&&PN(t)&&i.crossOrigin&&(t=FN(t)),o.open("GET",t,!0),o.responseType="arraybuffer",o.withCredentials=i.crossOrigin==="use-credentials",o.send()}}},{key:"read",value:function(t){var r=this.options,i=this.imageData,a=JX(t),o=0,c=1,u=1;if(a>1){this.url=XX(t,LN);var h=QX(a);o=h.rotate,c=h.scaleX,u=h.scaleY}r.rotatable&&(i.rotate=o),r.scalable&&(i.scaleX=c,i.scaleY=u),this.clone()}},{key:"clone",value:function(){var t=this.element,r=this.url,i=t.crossOrigin,a=r;this.options.checkCrossOrigin&&PN(r)&&(i||(i="anonymous"),a=FN(r)),this.crossOrigin=i,this.crossOriginUrl=a;var o=document.createElement("img");i&&(o.crossOrigin=i),o.src=a||r,o.alt=t.alt||"The image to crop",this.image=o,o.onload=this.start.bind(this),o.onerror=this.stop.bind(this),ja(o,AN),t.parentNode.insertBefore(o,t.nextSibling)}},{key:"start",value:function(){var t=this,r=this.image;r.onload=null,r.onerror=null,this.sizing=!0;var i=Uc.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(Uc.navigator.userAgent),a=function(h,m){gi(t.imageData,{naturalWidth:h,naturalHeight:m,aspectRatio:h/m}),t.initialImageData=gi({},t.imageData),t.sizing=!1,t.sized=!0,t.build()};if(r.naturalWidth&&!i){a(r.naturalWidth,r.naturalHeight);return}var o=document.createElement("img"),c=document.body||document.documentElement;this.sizingImage=o,o.onload=function(){a(o.width,o.height),i||c.removeChild(o)},o.src=r.src,i||(o.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",c.appendChild(o))}},{key:"stop",value:function(){var t=this.image;t.onload=null,t.onerror=null,t.parentNode.removeChild(t),this.image=null}},{key:"build",value:function(){if(!(!this.sized||this.ready)){var t=this.element,r=this.options,i=this.image,a=t.parentNode,o=document.createElement("div");o.innerHTML=DX;var c=o.querySelector(".".concat(pi,"-container")),u=c.querySelector(".".concat(pi,"-canvas")),h=c.querySelector(".".concat(pi,"-drag-box")),m=c.querySelector(".".concat(pi,"-crop-box")),g=m.querySelector(".".concat(pi,"-face"));this.container=a,this.cropper=c,this.canvas=u,this.dragBox=h,this.cropBox=m,this.viewBox=c.querySelector(".".concat(pi,"-view-box")),this.face=g,u.appendChild(i),ja(t,fo),a.insertBefore(c,t.nextSibling),jc(i,AN),this.initPreview(),this.bind(),r.initialAspectRatio=Math.max(0,r.initialAspectRatio)||NaN,r.aspectRatio=Math.max(0,r.aspectRatio)||NaN,r.viewMode=Math.max(0,Math.min(3,Math.round(r.viewMode)))||0,ja(m,fo),r.guides||ja(m.getElementsByClassName("".concat(pi,"-dashed")),fo),r.center||ja(m.getElementsByClassName("".concat(pi,"-center")),fo),r.background&&ja(c,"".concat(pi,"-bg")),r.highlight||ja(g,TX),r.cropBoxMovable&&(ja(g,b5),Np(g,Ap,cb)),r.cropBoxResizable||(ja(m.getElementsByClassName("".concat(pi,"-line")),fo),ja(m.getElementsByClassName("".concat(pi,"-point")),fo)),this.render(),this.ready=!0,this.setDragMode(r.dragMode),r.autoCrop&&this.crop(),this.setData(r.data),uo(r.ready)&&hl(t,kN,r.ready,{once:!0}),_0(t,kN)}}},{key:"unbuild",value:function(){if(this.ready){this.ready=!1,this.unbind(),this.resetPreview();var t=this.cropper.parentNode;t&&t.removeChild(this.cropper),jc(this.element,fo)}}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}],[{key:"noConflict",value:function(){return window.Cropper=aJ,n}},{key:"setDefaults",value:function(t){gi(jN,s0(t)&&t)}}])})();gi(Dk.prototype,ZX,eJ,tJ,nJ,rJ,iJ);var wf=function(){return wf=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++)for(var i in e=arguments[t])Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n},wf.apply(this,arguments)};function gx(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function"){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]])}return t}var sJ=["aspectRatio","autoCrop","autoCropArea","background","center","checkCrossOrigin","checkOrientation","cropBoxMovable","cropBoxResizable","data","dragMode","guides","highlight","initialAspectRatio","minCanvasHeight","minCanvasWidth","minContainerHeight","minContainerWidth","minCropBoxHeight","minCropBoxWidth","modal","movable","preview","responsive","restore","rotatable","scalable","toggleDragModeOnDblclick","viewMode","wheelZoomRatio","zoomOnTouch","zoomOnWheel","zoomable","cropstart","cropmove","cropend","crop","zoom","ready"],oJ={opacity:0,maxWidth:"100%"},lJ=Th.forwardRef((function(n,e){var t=gx(n,[]),r=t.dragMode,i=r===void 0?"crop":r,a=t.src,o=t.style,c=t.className,u=t.crossOrigin,h=t.scaleX,m=t.scaleY,g=t.enable,_=t.zoomTo,v=t.rotateTo,b=t.alt,w=b===void 0?"picture":b,T=t.ready,N=t.onInitialized,P=gx(t,["dragMode","src","style","className","crossOrigin","scaleX","scaleY","enable","zoomTo","rotateTo","alt","ready","onInitialized"]),R={scaleY:m,scaleX:h,enable:g,zoomTo:_,rotateTo:v},j=(function(){for(var U=[],C=0;C<arguments.length;C++)U[C]=arguments[C];var k=Q.useRef(null);return Th.useEffect((function(){U.forEach((function(I){I&&(typeof I=="function"?I(k.current):I.current=k.current)}))}),[U]),k})(e,Q.useRef(null));Q.useEffect((function(){var U;!((U=j.current)===null||U===void 0)&&U.cropper&&typeof _=="number"&&j.current.cropper.zoomTo(_)}),[t.zoomTo]),Q.useEffect((function(){var U;!((U=j.current)===null||U===void 0)&&U.cropper&&a!==void 0&&j.current.cropper.reset().clear().replace(a)}),[a]),Q.useEffect((function(){if(j.current!==null){var U=new Dk(j.current,wf(wf({dragMode:i},P),{ready:function(C){C.currentTarget!==null&&(function(k,I){I===void 0&&(I={});var z=I.enable,O=z===void 0||z,M=I.scaleX,B=M===void 0?1:M,Y=I.scaleY,we=Y===void 0?1:Y,fe=I.zoomTo,le=fe===void 0?0:fe,pe=I.rotateTo;O?k.enable():k.disable(),k.scaleX(B),k.scaleY(we),pe!==void 0&&k.rotateTo(pe),le>0&&k.zoomTo(le)})(C.currentTarget.cropper,R),T&&T(C)}}));N&&N(U)}return function(){var C,k;(k=(C=j.current)===null||C===void 0?void 0:C.cropper)===null||k===void 0||k.destroy()}}),[j]);var K=(function(U){return sJ.reduce((function(C,k){var I=C,z=k;return I[z],gx(I,[typeof z=="symbol"?z:z+""])}),U)})(wf(wf({},P),{crossOrigin:u,src:a,alt:w}));return Th.createElement("div",{style:o,className:c},Th.createElement("img",wf({},K,{style:oJ,ref:j})))}));function cJ({imageSrc:n,onCrop:e,onCancel:t,aspectRatio:r=1}){const i=Q.useRef(null),[a,o]=Q.useState(!1),c=Q.useCallback(()=>{i.current?.cropper?.reset()},[]),u=Q.useCallback(()=>{const h=i.current?.cropper;if(!h)return;o(!0),h.getCroppedCanvas({width:800,height:800,imageSmoothingEnabled:!0,imageSmoothingQuality:"high"}).toBlob(g=>{g&&e(g),o(!1)},"image/jpeg",.9)},[e]);return Q.useEffect(()=>{const h=m=>{m.key==="Escape"&&t()};return window.addEventListener("keydown",h),()=>window.removeEventListener("keydown",h)},[t]),f.jsx("div",{className:"image-cropper-overlay",children:f.jsxs("div",{className:"image-cropper-modal",children:[f.jsxs("div",{className:"image-cropper-header",children:[f.jsx("span",{children:"Crop image"}),f.jsx("button",{className:"image-cropper-close",onClick:t,children:""})]}),f.jsx("div",{className:"image-cropper-body",children:f.jsx(lJ,{ref:i,src:n,style:{height:"100%",width:"100%"},aspectRatio:r,viewMode:1,guides:!0,center:!0,background:!0,responsive:!0,autoCropArea:.9,checkOrientation:!0,dragMode:"crop",cropBoxMovable:!0,cropBoxResizable:!0})}),f.jsxs("div",{className:"image-cropper-footer",children:[f.jsxs("button",{className:"image-cropper-btn image-cropper-btn--reset",onClick:c,children:[f.jsxs("svg",{viewBox:"0 0 24 24",width:"16",height:"16",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"}),f.jsx("path",{d:"M3 3v5h5"})]}),"Reset crop"]}),f.jsxs("div",{className:"image-cropper-actions",children:[f.jsx("button",{className:"image-cropper-btn image-cropper-btn--cancel",onClick:t,disabled:a,children:"Cancel"}),f.jsx("button",{className:"image-cropper-btn image-cropper-btn--crop",onClick:u,disabled:a,children:a?"Cropping...":"Crop"})]})]})]})})}const uJ=[{value:"1st Year",label:"1st Year"},{value:"2nd Year",label:"2nd Year"},{value:"3rd Year",label:"3rd Year"},{value:"4th Year",label:"4th Year"}],hJ=[{value:"A",label:"Division A"},{value:"B",label:"Division B"},{value:"C",label:"Division C"},{value:"D",label:"Division D"}],fJ=()=>{const n=new Date().getFullYear(),e=[];for(let t=n;t<=n+6;t++)e.push({value:String(t),label:String(t)});return e};function dJ({isOpen:n,onClose:e}){const{profile:t}=Is(),{showToast:r}=Ga(),i=Q.useRef(null),a=t,[o,c]=Q.useState(""),[u,h]=Q.useState(""),[m,g]=Q.useState(""),[_,v]=Q.useState(""),[b,w]=Q.useState(""),[T,N]=Q.useState({}),[P,R]=Q.useState(!0),[j,K]=Q.useState(!1),[U,C]=Q.useState(!1),[k,I]=Q.useState(null),[z,O]=Q.useState(!0),[M,B]=Q.useState(null),[Y,we]=Q.useState(null),[fe,le]=Q.useState(!1),[pe,Ie]=Q.useState(!1),[Ae,re]=Q.useState(!1),[L,G]=Q.useState("");Q.useEffect(()=>{(async()=>{if(!(!n||!a?.uid)){O(!0);try{const{getAdminProfileByUid:it}=await Cf(async()=>{const{getAdminProfileByUid:Fe}=await Promise.resolve().then(()=>pH);return{getAdminProfileByUid:Fe}},void 0),Z=await it(a.uid);if(Z?.publicProfile){const Fe=Z.publicProfile;c(Fe.displayImage||""),h(Fe.academicYear||""),g(Fe.major||""),v(Fe.division||""),w(Fe.graduationYear||""),N(Fe.socialLinks||{}),R(Fe.isProfilePublic!==!1),B(Fe.approvalStatus||null),we(Fe.rejectionReason||null)}else c(""),h(""),g(""),v(""),w(""),N({}),R(!0),B(null),we(null)}catch(it){console.error("Error fetching profile:",it),r("Failed to load profile data","error")}finally{O(!1)}}})()},[n,a?.uid,r]);const q=tt=>{const it=tt.target.files?.[0];if(!it)return;if(!["image/jpeg","image/png","image/webp","image/gif"].includes(it.type)){r("Please select a valid image file (JPEG, PNG, WebP, or GIF)","error");return}if(it.size>5*1024*1024){r("Image size must be less than 5MB","error");return}const Fe=new FileReader;Fe.onload=()=>{G(Fe.result),re(!0)},Fe.readAsDataURL(it),tt.target.value=""},J=async tt=>{if(a){re(!1),C(!0);try{o&&await bN(o);const it=new File([tt],"profile-image.jpg",{type:"image/jpeg"}),Z=await gX(a.uid,it);c(Z),I(Z),r("Image uploaded successfully!","success")}catch(it){const Z=it instanceof Error?it.message:"Failed to upload image";r(Z,"error")}finally{C(!1),G("")}}},ae=()=>{re(!1),G("")},ge=(tt,it)=>{N(Z=>({...Z,[tt]:it}))},Te=async()=>{if(a){K(!0);try{const tt={displayImage:o||void 0,academicYear:u||void 0,major:m||void 0,division:_||void 0,graduationYear:b||void 0,socialLinks:Object.keys(T).length>0?T:void 0,isProfilePublic:P};await GI(a.uid,tt),r("Profile submitted for approval! It will appear on the Members page once approved.","success"),e()}catch(tt){r(tt.message||"Failed to save profile","error")}finally{K(!1)}}},Se=async()=>{if(a){le(!0);try{o&&await bN(o),await XI(a.uid),r("Member card deleted successfully.","success"),e()}catch(tt){r(tt.message||"Failed to delete member card","error")}finally{le(!1),Ie(!1)}}},Ce=()=>M,et=()=>k||o||vk(a?.firstName,a?.lastName)||null;if(!n)return null;const ot=fJ();return f.jsx("div",{className:"admin-profile-modal-overlay",onClick:e,children:f.jsxs("div",{className:"admin-profile-modal",onClick:tt=>tt.stopPropagation(),children:[f.jsxs("div",{className:"admin-profile-modal__header",children:[f.jsxs("div",{className:"admin-profile-modal__header-content",children:[f.jsx("h2",{children:"Member Card - Customization"}),Ce()&&f.jsxs("span",{className:`admin-profile-status admin-profile-status--${Ce()}`,children:[Ce()==="pending"&&" Pending Approval",Ce()==="approved"&&" Approved",Ce()==="rejected"&&" Rejected"]}),Y&&f.jsxs("p",{className:"admin-profile-rejection-reason",children:["Reason: ",Y]})]}),f.jsx("button",{className:"admin-profile-modal__close",onClick:e,children:f.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),f.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),f.jsx("div",{className:"admin-profile-modal__content",children:z?f.jsxs("div",{className:"admin-profile-loading",children:[f.jsx("div",{className:"spinner-large"}),f.jsx("p",{children:"Loading your profile..."})]}):f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"admin-profile-form-row",children:[f.jsxs("div",{className:"admin-profile-form-col",children:[f.jsxs("div",{className:"admin-profile-section",children:[f.jsx("h3",{className:"admin-profile-section__title",children:"Display Image"}),f.jsxs("div",{className:"admin-profile-image-upload",children:[f.jsxs("div",{className:"admin-profile-image-preview",onClick:()=>i.current?.click(),children:[et()?f.jsx("img",{src:et(),alt:"Profile"}):f.jsx("div",{className:"admin-profile-image-placeholder",children:f.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[f.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),f.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),f.jsx("div",{className:"admin-profile-image-overlay",children:U?f.jsx("span",{className:"spinner"}):f.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),f.jsx("polyline",{points:"17 8 12 3 7 8"}),f.jsx("line",{x1:"12",y1:"3",x2:"12",y2:"15"})]})})]}),f.jsx("input",{ref:i,type:"file",accept:"image/jpeg,image/png,image/webp,image/gif",onChange:q,hidden:!0}),f.jsx("p",{className:"admin-profile-image-hint",children:"Click to upload and crop (Max 5MB)"})]})]}),f.jsxs("div",{className:"admin-profile-section",children:[f.jsx("h3",{className:"admin-profile-section__title",children:"Academic Information"}),f.jsxs("div",{className:"admin-profile-form__row",children:[f.jsxs("div",{className:"admin-profile-form__field",children:[f.jsx("label",{children:"Year"}),f.jsx(Fi,{options:uJ,value:u,onChange:h,placeholder:"Select Year"})]}),f.jsxs("div",{className:"admin-profile-form__field",children:[f.jsx("label",{children:"Division"}),f.jsx(Fi,{options:hJ,value:_,onChange:v,placeholder:"Select Division"})]})]}),f.jsxs("div",{className:"admin-profile-form__field",children:[f.jsx("label",{children:"Major"}),f.jsx(Fi,{options:uk.map(tt=>({value:tt,label:tt})),value:m,onChange:g,placeholder:"Select Major"})]}),f.jsxs("div",{className:"admin-profile-form__field",children:[f.jsx("label",{children:"Graduation Year"}),f.jsx(Fi,{options:ot,value:b,onChange:w,placeholder:"Select Year"})]})]})]}),f.jsxs("div",{className:"admin-profile-form-col",children:[f.jsxs("div",{className:"admin-profile-section",children:[f.jsx("h3",{className:"admin-profile-section__title",children:"Social Media & Contact"}),f.jsxs("div",{className:"admin-profile-form__row",children:[f.jsxs("div",{className:"admin-profile-form__field",children:[f.jsxs("label",{children:[f.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"social-icon social-icon--instagram",children:f.jsx("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"})}),"Instagram"]}),f.jsx("input",{type:"url",className:"admin-profile-form__input",placeholder:"https://instagram.com/username",value:T.instagram||"",onChange:tt=>ge("instagram",tt.target.value)})]}),f.jsxs("div",{className:"admin-profile-form__field",children:[f.jsxs("label",{children:[f.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"social-icon social-icon--linkedin",children:f.jsx("path",{d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"})}),"LinkedIn"]}),f.jsx("input",{type:"url",className:"admin-profile-form__input",placeholder:"https://linkedin.com/in/username",value:T.linkedin||"",onChange:tt=>ge("linkedin",tt.target.value)})]})]}),f.jsxs("div",{className:"admin-profile-form__row",children:[f.jsxs("div",{className:"admin-profile-form__field",children:[f.jsxs("label",{children:[f.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"social-icon social-icon--github",children:f.jsx("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"})}),"GitHub"]}),f.jsx("input",{type:"url",className:"admin-profile-form__input",placeholder:"https://github.com/username",value:T.github||"",onChange:tt=>ge("github",tt.target.value)})]}),f.jsxs("div",{className:"admin-profile-form__field",children:[f.jsxs("label",{children:[f.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"social-icon social-icon--twitter",children:f.jsx("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})}),"X (Twitter)"]}),f.jsx("input",{type:"url",className:"admin-profile-form__input",placeholder:"https://x.com/username",value:T.twitter||"",onChange:tt=>ge("twitter",tt.target.value)})]})]}),f.jsxs("div",{className:"admin-profile-form__row",children:[f.jsxs("div",{className:"admin-profile-form__field",children:[f.jsxs("label",{children:[f.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"social-icon social-icon--whatsapp",children:f.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})}),"WhatsApp"]}),f.jsx("input",{type:"tel",className:"admin-profile-form__input",placeholder:"+91 9876543210",value:T.whatsapp||"",onChange:tt=>ge("whatsapp",tt.target.value)})]}),f.jsxs("div",{className:"admin-profile-form__field",children:[f.jsxs("label",{children:[f.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"social-icon",children:f.jsx("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"})}),"Contact Number"]}),f.jsx("input",{type:"tel",className:"admin-profile-form__input",placeholder:"+91 9876543210",value:T.contactNumber||"",onChange:tt=>ge("contactNumber",tt.target.value)})]})]})]}),f.jsx("div",{className:"admin-profile-section",children:f.jsxs("div",{className:"admin-profile-visibility",children:[f.jsxs("label",{className:"admin-profile-toggle",children:[f.jsx("input",{type:"checkbox",checked:P,onChange:tt=>R(tt.target.checked)}),f.jsx("span",{className:"admin-profile-toggle__slider"})]}),f.jsx("span",{children:"Show my profile on Members page"})]})})]})]}),f.jsxs("div",{className:"admin-profile-preview-section",children:[f.jsx("h3",{className:"admin-profile-preview__title",children:"Live Preview"}),f.jsxs("div",{className:"preview-card",children:[f.jsxs("div",{className:"preview-card__left",children:[f.jsx("div",{className:"preview-card__image",children:et()?f.jsx("img",{src:et(),alt:"Profile Preview"}):f.jsx("div",{className:"preview-card__image-placeholder",children:f.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[f.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),f.jsx("circle",{cx:"12",cy:"7",r:"4"})]})})}),f.jsxs("div",{className:"preview-card__name-overlay",children:[f.jsxs("h4",{className:"preview-card__name",children:[a?.firstName," ",a?.lastName]}),f.jsx("p",{className:"preview-card__role",children:a?.position||"Member"})]})]}),f.jsxs("div",{className:"preview-card__right",children:[f.jsxs("div",{className:"preview-card__row",children:[f.jsx("span",{className:"preview-card__label",children:"Team"}),f.jsx("span",{className:"preview-card__value",children:a?.team?.replace(/_/g," ")||""})]}),f.jsxs("div",{className:"preview-card__row",children:[f.jsx("span",{className:"preview-card__label",children:"Date of Birth"}),f.jsx("span",{className:"preview-card__value",children:a?.dateOfBirth||""})]}),f.jsxs("div",{className:"preview-card__section",children:[f.jsx("h5",{className:"preview-card__section-title",children:"ACADEMIC DETAILS"}),f.jsxs("div",{className:"preview-card__grid",children:[f.jsxs("div",{className:"preview-card__grid-item",children:[f.jsx("span",{className:"preview-card__grid-label",children:"YEAR"}),f.jsx("span",{className:"preview-card__grid-value",children:u||""})]}),f.jsxs("div",{className:"preview-card__grid-item",children:[f.jsx("span",{className:"preview-card__grid-label",children:"BRANCH"}),f.jsx("span",{className:"preview-card__grid-value",children:m||""})]}),f.jsxs("div",{className:"preview-card__grid-item",children:[f.jsx("span",{className:"preview-card__grid-label",children:"DIVISION"}),f.jsx("span",{className:"preview-card__grid-value",children:_||""})]}),f.jsxs("div",{className:"preview-card__grid-item",children:[f.jsx("span",{className:"preview-card__grid-label",children:"GRADUATION"}),f.jsx("span",{className:"preview-card__grid-value",children:b||""})]})]})]})]})]}),f.jsx("p",{className:"admin-profile-preview__hint",children:"This is somehow your card will appear in the Members gallery"})]})]})}),f.jsxs("div",{className:"admin-profile-modal__footer",children:[f.jsx("div",{className:"footer-left",children:M&&f.jsx("button",{className:"admin-profile-btn admin-profile-btn--danger",onClick:()=>Ie(!0),disabled:j||fe||z,children:"Delete Card"})}),f.jsxs("div",{className:"footer-right",children:[f.jsx("button",{className:"admin-profile-btn admin-profile-btn--secondary",onClick:e,disabled:j||fe||z,children:"Cancel"}),f.jsx("button",{className:"admin-profile-btn admin-profile-btn--primary",onClick:Te,disabled:j||fe||z,children:j?f.jsxs(f.Fragment,{children:[f.jsx("span",{className:"spinner"}),"Saving..."]}):M==="approved"?"Update Profile":"Save Profile"})]})]}),pe&&f.jsx("div",{className:"delete-confirm-overlay",onClick:()=>Ie(!1),children:f.jsxs("div",{className:"delete-confirm-modal",onClick:tt=>tt.stopPropagation(),children:[f.jsx("h3",{children:"Delete Member Card?"}),f.jsx("p",{children:"This will completely remove your public profile from the Members gallery. This action cannot be undone."}),f.jsxs("div",{className:"delete-confirm-actions",children:[f.jsx("button",{className:"admin-profile-btn admin-profile-btn--secondary",onClick:()=>Ie(!1),disabled:fe,children:"Cancel"}),f.jsx("button",{className:"admin-profile-btn admin-profile-btn--danger",onClick:Se,disabled:fe,children:fe?f.jsxs(f.Fragment,{children:[f.jsx("span",{className:"spinner"}),"Deleting..."]}):"Yes, Delete"})]})]})}),Ae&&L&&f.jsx(cJ,{imageSrc:L,onCrop:J,onCancel:ae,aspectRatio:1})]})})}function zm({variant:n="rectangular",width:e,height:t,borderRadius:r}){const i={width:e||(n==="text"?"100%":void 0),height:t||(n==="text"?"1rem":void 0),borderRadius:r||(n==="circular"?"50%":n==="card"?"24px":"8px")};return f.jsx("div",{className:`skeleton skeleton--${n}`,style:i})}function mJ(){return f.jsx("div",{className:"skeleton-event-list",children:[1,2,3].map(n=>f.jsxs("div",{className:"skeleton-event",children:[f.jsx(zm,{variant:"rectangular",width:90,height:60,borderRadius:10}),f.jsxs("div",{className:"skeleton-event__content",children:[f.jsx(zm,{variant:"text",width:"70%",height:16}),f.jsx(zm,{variant:"text",width:"50%",height:12}),f.jsx(zm,{variant:"text",width:"30%",height:10})]}),f.jsx(zm,{variant:"rectangular",width:60,height:32,borderRadius:8})]},n))})}function pJ({onEscape:n,onShowHelp:e,enabled:t=!0}){const r=Q.useCallback(i=>{if(!t)return;const a=i.target,o=a.tagName==="INPUT"||a.tagName==="TEXTAREA"||a.isContentEditable;if(i.key==="Escape"&&n){i.preventDefault(),n();return}o||i.key==="?"&&e&&(i.preventDefault(),e())},[t,n,e]);Q.useEffect(()=>(document.addEventListener("keydown",r),()=>document.removeEventListener("keydown",r)),[r])}function gJ(){const n=Cs(),{showToast:e}=Ga(),{logout:t,profile:r,isAdmin:i,hasPermission:a}=Is(),o=r?.firstName||"User",c=r?.lastName||"",u=r?.orbitId||"ORB-XXX-0000",h=r?.avatar,m=()=>{const We=o.charAt(0).toUpperCase(),wt=c.charAt(0).toUpperCase();return`${We}${wt}`},[g,_]=Q.useState(null),[v,b]=Q.useState(!1),[w,T]=Q.useState(!1),[N,P]=Q.useState(0),[R,j]=Q.useState(!1),[K,U]=Q.useState(!1),[C,k]=Q.useState(!1),[I,z]=Q.useState(!1),O=Q.useRef(null),M=Q.useRef(null),[B,Y]=Q.useState([]),[we,fe]=Q.useState(null),[le,pe]=Q.useState(null),[Ie,Ae]=Q.useState(!1),[re,L]=Q.useState(null),[G,q]=Q.useState(!1),[J,ae]=Q.useState(!1),[ge,Te]=Q.useState(!1),[Se,Ce]=Q.useState(!1),et=Q.useRef(null),ot=i&&a(jo.MANAGE_PROMOS),tt=i&&a(jo.MANAGE_EVENTS),it=i&&a(jo.MANAGE_JOIN),Z=i&&a(jo.MANAGE_APPLICATIONS),Fe=i&&a(jo.MANAGE_QUERIES),nt=i&&a(jo.MANAGE_MERCH_ORDERS),It=i&&a(jo.MANAGE_MERCH),Qe=i&&a(jo.MANAGE_MEMBERS),{isRecruitmentOpen:At,toggleRecruitment:Ke}=Kf(),[ht,Dt]=Q.useState(!1);Q.useEffect(()=>{if(G&&et.current){const We=setTimeout(()=>{const wt=et.current?.closest(".sidebar-zone--middle");wt&&wt.scrollTo({top:wt.scrollHeight,behavior:"smooth"})},100);return()=>clearTimeout(We)}},[G]);const[kt,qt]=Q.useState([]);Q.useEffect(()=>{const We=Wo(ha($t,"promotions")),wt=ec(We,nn=>{const Bt=[];nn.forEach(Nt=>{const xn=Nt.data();xn.isActive&&Bt.push({...xn,id:Nt.id})}),Bt.sort((Nt,xn)=>(Nt.priority||0)-(xn.priority||0)),qt(Bt)},nn=>{console.error("Error fetching promotions:",nn)});return()=>wt()},[]),Q.useEffect(()=>{u!=="ORB-XXX-0000"&&(console.log("Fetching registrations for user:",u),k(!0),Tv(u).then(We=>{console.log("Dashboard received registrations:",We),Y(We)}).catch(We=>{console.error("Error fetching registrations:",We)}).finally(()=>{k(!1)}))},[u]),pJ({onEscape:()=>{I?z(!1):R?j(!1):K?U(!1):J?ae(!1):ge?Te(!1):Se?Ce(!1):G?q(!1):v&&b(!1)},onShowHelp:()=>z(!0)});const Vt=[{id:"action-my-events",label:"My Events",action:()=>_(g==="events"?null:"events")},{id:"action-browse-events",label:"Browse Events",action:()=>n("/events")},{id:"action-explore-merch",label:"Explore Merch",action:()=>n("/merch")},{id:"action-members",label:"Members",action:()=>n("/members")},...i?[{id:"action-customize-profile",label:"Member Card",action:()=>Ce(!0)}]:[]];Q.useEffect(()=>{const We=wt=>{G&&et.current&&!et.current.contains(wt.target)&&q(!1)};return document.addEventListener("mousedown",We),()=>document.removeEventListener("mousedown",We)},[G]);const Gt=()=>{T(!0),setTimeout(()=>{b(!1),T(!1)},300)},Ht=()=>{v?Gt():b(!0)};Q.useEffect(()=>{if(kt.length<=1)return;const We=setInterval(()=>{P(wt=>(wt+1)%kt.length)},6e3);return()=>clearInterval(We)},[kt.length]),Q.useEffect(()=>{const We=wt=>{v&&O.current&&M.current&&!O.current.contains(wt.target)&&!M.current.contains(wt.target)&&Gt()};return document.addEventListener("mousedown",We),()=>document.removeEventListener("mousedown",We)},[v]);const Mt=()=>{const We=new Date().getHours();return We>=5&&We<12?"Good Morning":We>=12&&We<17?"Good Afternoon":"Good Evening"},Wt=async()=>{try{await t(),e("Logged out successfully","info"),n("/login")}catch(We){console.error("Logout error:",We),e("Failed to logout","error")}},Lt=We=>{We.linkUrl&&window.open(We.linkUrl,"_blank")},yn=async We=>{if(We)try{fe(We.registrationId);const wt=await T2(We);A2(wt,We.eventName,u),e("Pass downloaded!","success")}catch(wt){console.error("Error downloading pass:",wt),e("Failed to download pass","error")}finally{fe(null)}},zt=We=>{const wt=B.find(nn=>nn.eventId===We.id);wt?yn(wt):e("Registration details not found","error")},Ft=We=>{if(!We)return"";try{const[wt,nn,Bt]=We.split("-").map(Number);return new Date(wt,nn-1,Bt).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"})}catch{return We}},Rt=We=>{if(!We)return!1;const wt=new Date(We),nn=new Date;return nn.setHours(0,0,0,0),wt>=nn},xt=B.filter(We=>Rt(We.eventDate)).sort((We,wt)=>new Date(We.eventDate).getTime()-new Date(wt.eventDate).getTime())[0]||null;Q.useEffect(()=>{(async()=>{if(xt)try{const wt=await Br(mn($t,"events",xt.eventId));if(wt.exists()){const nn=wt.data();nn.images&&nn.images.length>0?L(nn.images[0]):L(null)}}catch(wt){console.error("Error fetching highlight event image:",wt),L(null)}else L(null)})()},[xt?.eventId]);const Kt=async We=>{try{const wt=await Br(mn($t,"events",We.eventId));if(wt.exists()){const nn=wt.data(),Bt={id:wt.id,title:nn.title||We.eventName,description:nn.description||"",date:nn.date||We.eventDate,time:nn.time||"",venue:nn.venue||"",type:nn.type||"workshop",isPast:!Rt(nn.date||We.eventDate),registrationOpen:nn.registrationOpen??!1,images:nn.images||[],amount:nn.amount};pe(Bt)}else pe({id:We.eventId,title:We.eventName,description:"",date:We.eventDate,time:"",venue:"",type:"workshop",isPast:!Rt(We.eventDate),registrationOpen:!1,images:[]})}catch(wt){console.error("Error fetching event:",wt),e("Could not load event details","error")}},En=()=>{Ae(!0),setTimeout(()=>{pe(null),Ae(!1)},200)};return f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"dashboard-page page-transition",children:[f.jsx("div",{className:"dashboard-sidebar",children:f.jsxs("div",{className:"dashboard-sidebar-container",children:[f.jsx("div",{className:"sidebar-zone sidebar-zone--top",children:f.jsx("div",{className:"promo-screen",children:kt.length>0?f.jsxs(f.Fragment,{children:[kt.map((We,wt)=>f.jsx("div",{className:`promo-screen__item ${wt===N?"promo-screen__item--active":""}`,onClick:()=>Lt(We),style:{cursor:We.linkUrl?"pointer":"default"},children:We.mediaType==="video"?f.jsx("video",{src:We.mediaUrl,autoPlay:!0,muted:!0,loop:!0,playsInline:!0}):f.jsx("img",{src:We.mediaUrl,alt:We.title})},We.id)),kt.length>1&&f.jsx("div",{className:"promo-screen__indicators",children:kt.map((We,wt)=>f.jsx("span",{className:`promo-screen__indicator ${wt===N?"promo-screen__indicator--active":""}`},wt))})]}):f.jsx("div",{className:"promo-screen__empty",children:f.jsx("span",{children:"No promotions"})})})}),f.jsx("div",{className:"sidebar-zone sidebar-zone--middle",children:f.jsxs("div",{className:"sidebar-actions",children:[Vt.map(We=>f.jsx("button",{className:`sidebar-action-btn ${We.id==="action-my-events"&&g==="events"?"sidebar-action-btn--active":""}`,onClick:We.action,children:We.label},We.id)),(ot||tt||it||Z||Fe||nt||It||Qe)&&f.jsxs("div",{className:"manage-dropdown",ref:et,children:[f.jsxs("button",{className:`sidebar-action-btn sidebar-action-btn--manage ${G?"sidebar-action-btn--active":""}`,onClick:()=>q(!G),children:[f.jsx("span",{children:"Manage"}),f.jsx("svg",{className:`manage-dropdown__arrow ${G?"manage-dropdown__arrow--open":""}`,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:f.jsx("polyline",{points:"6 9 12 15 18 9"})})]}),G&&f.jsxs("div",{className:"manage-dropdown__menu",children:[ot&&f.jsxs("button",{className:"manage-dropdown__item",onClick:()=>{q(!1),ae(!0)},children:[f.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),f.jsx("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),f.jsx("polyline",{points:"21 15 16 10 5 21"})]}),f.jsx("span",{children:"Promotional Screen"})]}),tt&&f.jsxs("button",{className:"manage-dropdown__item",onClick:()=>{q(!1),Te(!0)},children:[f.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),f.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),f.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),f.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),f.jsx("span",{children:"Events"})]}),it&&f.jsxs("button",{className:`manage-dropdown__item manage-dropdown__item--toggle ${At?"manage-dropdown__item--active":""}`,onClick:async()=>{if(!ht){Dt(!0);try{await Ke(),e(At?"Recruitment closed":"Recruitment opened","success")}catch{e("Failed to toggle recruitment","error")}finally{Dt(!1)}}},disabled:ht,children:[f.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),f.jsx("circle",{cx:"8.5",cy:"7",r:"4"}),f.jsx("line",{x1:"20",y1:"8",x2:"20",y2:"14"}),f.jsx("line",{x1:"23",y1:"11",x2:"17",y2:"11"})]}),f.jsx("span",{children:"Recruitment"}),f.jsx("span",{className:`recruitment-status ${At?"recruitment-status--open":"recruitment-status--closed"}`,children:At?"Open":"Closed"})]}),Z&&f.jsxs("button",{className:"manage-dropdown__item",onClick:()=>{q(!1),n("/manage-user-applications")},children:[f.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),f.jsx("polyline",{points:"14 2 14 8 20 8"}),f.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),f.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),f.jsx("polyline",{points:"10 9 9 9 8 9"})]}),f.jsx("span",{children:"Applications"})]}),Fe&&f.jsxs("button",{className:"manage-dropdown__item",onClick:()=>{q(!1),n("/manage-user-queries")},children:[f.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:f.jsx("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})}),f.jsx("span",{children:"Queries"})]}),nt&&f.jsxs("button",{className:"manage-dropdown__item",onClick:()=>{q(!1),n("/manage-merch-orders")},children:[f.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("path",{d:"M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z"}),f.jsx("path",{d:"M3 6h18"}),f.jsx("path",{d:"M16 10a4 4 0 0 1-8 0"})]}),f.jsx("span",{children:"Merch Orders"})]}),It&&f.jsxs("button",{className:"manage-dropdown__item",onClick:()=>{q(!1),n("/manage-merch")},children:[f.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("path",{d:"M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"}),f.jsx("line",{x1:"7",y1:"7",x2:"7.01",y2:"7"})]}),f.jsx("span",{children:"Manage Merch"})]}),Qe&&f.jsxs("button",{className:"manage-dropdown__item",onClick:()=>{q(!1),n("/manage-members")},children:[f.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),f.jsx("circle",{cx:"9",cy:"7",r:"4"}),f.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),f.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),f.jsx("span",{children:"Member Requests"})]})]})]})]})}),f.jsxs("div",{className:"sidebar-zone sidebar-zone--bottom",children:[f.jsx("div",{className:"member-id-display",children:f.jsx("span",{className:"member-id-value",children:u})}),f.jsxs("div",{className:"user-profile-section",children:[h?f.jsx("img",{src:h,alt:o,className:"user-avatar"}):f.jsx("div",{className:"user-avatar user-avatar--initials",children:m()}),f.jsx("div",{className:"user-info",children:f.jsx("span",{className:"user-name",children:o})}),f.jsx("button",{ref:M,className:"user-menu-btn",onClick:Ht,children:""}),v&&f.jsxs("div",{ref:O,className:`user-dropdown-menu ${w?"closing":""}`,children:[f.jsx("button",{onClick:()=>{Gt(),j(!0)},children:"Profile"}),f.jsx("button",{onClick:()=>{Gt(),U(!0)},children:"Settings"}),f.jsx("button",{onClick:Wt,children:"Logout"})]})]})]})]})}),f.jsxs("div",{className:"dashboard-main-content",children:[g==="events"&&f.jsxs("div",{className:"content-container",children:[f.jsx("h2",{className:"content-title",children:"My Events"}),C?f.jsxs(f.Fragment,{children:[f.jsx("h3",{className:"dashboard-events__section-title",children:"Upcoming"}),f.jsx(mJ,{})]}):B.length>0?f.jsxs(f.Fragment,{children:[B.filter(We=>Rt(We.eventDate)).length>0&&f.jsxs("div",{className:"dashboard-events__section",children:[f.jsx("h3",{className:"dashboard-events__section-title",children:"Upcoming"}),f.jsx("div",{className:"dashboard-events__list",children:B.filter(We=>Rt(We.eventDate)).map(We=>f.jsxs("div",{className:"my-event-card",children:[f.jsxs("div",{className:"my-event-card__info my-event-card__info--clickable",onClick:()=>Kt(We),children:[f.jsx("h4",{className:"my-event-card__title",children:We.eventName}),f.jsx("p",{className:"my-event-card__date",children:Ft(We.eventDate)})]}),f.jsx("button",{className:"my-event-card__download",onClick:wt=>{wt.stopPropagation(),yn(We)},disabled:we===We.registrationId,children:we===We.registrationId?"Downloading...":f.jsxs(f.Fragment,{children:[f.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),f.jsx("polyline",{points:"7 10 12 15 17 10"}),f.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),"Pass"]})})]},We.registrationId))})]}),B.filter(We=>!Rt(We.eventDate)).length>0&&f.jsxs("div",{className:"dashboard-events__section",children:[f.jsx("h3",{className:"dashboard-events__section-title",children:"Past"}),f.jsx("div",{className:"dashboard-events__list",children:B.filter(We=>!Rt(We.eventDate)).map(We=>f.jsx("div",{className:"my-event-card my-event-card--past my-event-card--clickable",onClick:()=>Kt(We),children:f.jsxs("div",{className:"my-event-card__info",children:[f.jsx("h4",{className:"my-event-card__title",children:We.eventName}),f.jsx("p",{className:"my-event-card__date",children:Ft(We.eventDate)}),We.attendanceStatus&&f.jsx("span",{className:"my-event-card__attended",children:" Attended"})]})},We.registrationId))})]})]}):f.jsx(f.Fragment,{children:f.jsxs("div",{className:"dashboard-events__section",children:[f.jsx("h3",{className:"dashboard-events__section-title",children:"Upcoming"}),f.jsxs("div",{className:"dashboard-events__empty",children:[f.jsx("p",{children:"You haven't registered for any events yet."}),f.jsx("button",{className:"dashboard-events__cta",onClick:()=>n("/events"),children:"Browse Events"})]})]})})]}),g==="merch"&&f.jsxs("div",{className:"content-container",children:[f.jsx("h2",{className:"content-title",children:"Merchandise"}),f.jsx("p",{className:"content-placeholder",children:"Your merch orders and wishlist will appear here."}),f.jsx("button",{className:"content-cta",onClick:()=>n("/merch"),children:"Browse Merch"})]}),!g&&f.jsxs("div",{className:"dashboard-welcome-section",children:[f.jsx("h1",{className:"welcome-heading",children:f.jsxs("span",{className:"typewriter",style:{"--char-count":`${Mt().length+o.length+5}`},children:[Mt(),", ",f.jsx("span",{children:o}),"..."]})}),f.jsx("p",{className:"welcome-tagline",children:"The cosmos awaitsyour next adventure is just a click away."}),f.jsx("div",{className:"dashboard-highlight",children:xt?f.jsxs("div",{className:"dashboard-highlight__card",onClick:()=>Kt(xt),style:{cursor:"pointer"},children:[f.jsx("span",{className:"dashboard-highlight__badge",children:"Up Next"}),f.jsx("div",{className:"dashboard-highlight__image",children:re?f.jsx("img",{src:re,alt:xt.eventName}):f.jsx("div",{style:{width:"100%",height:"100%",background:"linear-gradient(135deg, rgba(169, 78, 255, 0.3) 0%, rgba(124, 58, 237, 0.3) 100%)",display:"flex",alignItems:"center",justifyContent:"center"},children:f.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"rgba(255,255,255,0.3)",strokeWidth:"1.5",children:[f.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),f.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),f.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),f.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]})})}),f.jsxs("div",{className:"dashboard-highlight__content",children:[f.jsx("h3",{className:"dashboard-highlight__title",children:xt.eventName}),f.jsx("div",{className:"dashboard-highlight__meta",children:f.jsxs("span",{children:[" ",Ft(xt.eventDate)]})}),f.jsx("span",{className:"dashboard-highlight__status dashboard-event__status--registered",children:" Registered"}),f.jsx("button",{className:"dashboard-highlight__btn",onClick:We=>{We.stopPropagation(),Kt(xt)},children:"View Details"})]})]}):f.jsxs("div",{className:"dashboard-highlight__empty",children:[f.jsx("p",{children:"You haven't registered for any upcoming events yet."}),f.jsx("button",{className:"dashboard-highlight__btn",onClick:()=>n("/events"),children:"Explore Events"})]})})]})]})]}),f.jsx(go,{}),f.jsx(eX,{isOpen:R,onClose:()=>j(!1)}),f.jsx(tX,{isOpen:K,onClose:()=>U(!1)}),f.jsx(rX,{isOpen:I,onClose:()=>z(!1)}),ot&&f.jsx(iX,{isOpen:J,onClose:()=>ae(!1),adminOrbitId:u}),tt&&f.jsx(mX,{isOpen:ge,onClose:()=>Te(!1),adminOrbitId:u}),le&&f.jsx(Zw,{event:le,isClosing:Ie,onClose:En,isRegistered:!0,onDownloadPass:zt}),i&&f.jsx(dJ,{isOpen:Se,onClose:()=>Ce(!1)})]})}function vJ(){const n=Cs(),{showToast:e}=Ga(),{isAdmin:t,hasPermission:r,profile:i}=Is(),[a,o]=Q.useState([]),[c,u]=Q.useState(!0),[h,m]=Q.useState(null),[g,_]=Q.useState(null),[v,b]=Q.useState(""),w=t&&r(jo.MANAGE_MEMBERS);Q.useEffect(()=>{if(!w){n("/dashboard");return}T()},[w,n]);const T=async()=>{try{u(!0);const C=await YI();o(C)}catch(C){console.error("Error fetching pending profiles:",C),e("Failed to load pending profiles","error")}finally{u(!1)}},N=async C=>{if(i?.orbitId)try{m(C),await $I(C,i.orbitId),e("Profile approved successfully!","success"),o(k=>k.filter(I=>I.uid!==C))}catch(k){e(k.message||"Failed to approve profile","error")}finally{m(null)}},P=async C=>{if(i?.orbitId)try{m(C),await KI(C,i.orbitId,v),e("Profile rejected","info"),o(k=>k.filter(I=>I.uid!==C)),_(null),b("")}catch(k){e(k.message||"Failed to reject profile","error")}finally{m(null)}},R=C=>{_(C),b("")},j=C=>C?new Date(C).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}):"Unknown",K=C=>({leadership:"Leadership",technical:"Technical Team",public_outreach:"Public Outreach Team",documentation:"Documentation Team",social_media_editing:"Social Media & Editing Team",design_innovation:"Design & Innovation Team",management_operations:"Management & Operations Team"})[C?.toLowerCase()]||C,U=C=>({president:"President",chairman:"Chairman",secretary:"Secretary",treasurer:"Treasurer",co_treasurer:"Co-Treasurer",team_leader:"Team Leader",member:"Member"})[C?.toLowerCase()]||C;return w?f.jsxs(f.Fragment,{children:[f.jsxs("main",{className:"manage-members-page",children:[f.jsxs("div",{className:"manage-members-header",children:[f.jsxs("button",{className:"manage-members-back",onClick:()=>n("/user-dashboard"),children:[f.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:f.jsx("path",{d:"M19 12H5M12 19l-7-7 7-7"})}),"Back to Dashboard"]}),f.jsx("h1",{children:"Manage Member Profiles"}),f.jsx("p",{children:"Review and approve member card submissions"})]}),f.jsx("div",{className:"manage-members-content",children:c?f.jsxs("div",{className:"manage-members-loading",children:[f.jsx("div",{className:"spinner-large"}),f.jsx("p",{children:"Loading pending profiles..."})]}):a.length===0?f.jsxs("div",{className:"manage-members-empty",children:[f.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:f.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),f.jsx("h3",{children:"All caught up!"}),f.jsx("p",{children:"No pending profile submissions to review."})]}):f.jsx("div",{className:"manage-members-list",children:a.map(C=>f.jsxs("div",{className:"pending-profile-card",children:[f.jsx("div",{className:"pending-profile-image",children:f.jsx("img",{src:C.publicProfile.displayImage||vk(C.firstName,C.lastName),alt:`${C.firstName} ${C.lastName}`})}),f.jsxs("div",{className:"pending-profile-info",children:[f.jsxs("div",{className:"pending-profile-header",children:[f.jsxs("h3",{children:[C.firstName," ",C.lastName]}),f.jsx("span",{className:"pending-profile-id",children:C.orbitId})]}),f.jsxs("div",{className:"pending-profile-meta",children:[f.jsx("span",{className:"pending-profile-role",children:U(C.position)}),f.jsx("span",{className:"pending-profile-team",children:K(C.team)})]}),f.jsxs("div",{className:"pending-profile-details",children:[C.publicProfile.academicYear&&f.jsx("span",{children:C.publicProfile.academicYear}),C.publicProfile.major&&f.jsx("span",{children:C.publicProfile.major}),C.publicProfile.division&&f.jsxs("span",{children:["Division ",C.publicProfile.division]}),C.publicProfile.graduationYear&&f.jsxs("span",{children:["Class of ",C.publicProfile.graduationYear]})]}),C.publicProfile.socialLinks&&Object.keys(C.publicProfile.socialLinks).length>0&&f.jsx("div",{className:"pending-profile-socials",children:Object.entries(C.publicProfile.socialLinks).filter(([,k])=>k).map(([k])=>f.jsx("span",{className:"social-badge",children:k},k))}),f.jsxs("p",{className:"pending-profile-submitted",children:["Submitted: ",j(C.publicProfile.submittedAt)]})]}),f.jsxs("div",{className:"pending-profile-actions",children:[f.jsx("button",{className:"action-btn action-btn--approve",onClick:()=>N(C.uid),disabled:h===C.uid,children:h===C.uid?f.jsx("span",{className:"spinner"}):f.jsxs(f.Fragment,{children:[f.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:f.jsx("path",{d:"M5 13l4 4L19 7"})}),"Approve"]})}),f.jsxs("button",{className:"action-btn action-btn--reject",onClick:()=>R(C.uid),disabled:h===C.uid,children:[f.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:f.jsx("path",{d:"M6 18L18 6M6 6l12 12"})}),"Reject"]})]})]},C.uid))})})]}),f.jsx(go,{}),g&&f.jsx("div",{className:"reject-modal-overlay",onClick:()=>_(null),children:f.jsxs("div",{className:"reject-modal",onClick:C=>C.stopPropagation(),children:[f.jsx("h3",{children:"Rejection Reason"}),f.jsx("p",{children:"Provide a reason for rejection (optional):"}),f.jsx("textarea",{value:v,onChange:C=>b(C.target.value),placeholder:"Enter reason for rejection...",rows:3}),f.jsxs("div",{className:"reject-modal-actions",children:[f.jsx("button",{className:"action-btn action-btn--secondary",onClick:()=>_(null),children:"Cancel"}),f.jsx("button",{className:"action-btn action-btn--reject",onClick:()=>P(g),disabled:h!==null,children:h?f.jsx("span",{className:"spinner"}):"Confirm Reject"})]})]})})]}):null}function _J(){const n=Cs(),{showToast:e}=Ga(),[t,r]=Q.useState(!1),[i,a]=Q.useState(!1),[o,c]=Q.useState(!1),[u,h]=Q.useState({firstName:"",lastName:"",mobile:"",email:"",dateOfBirth:"",gender:"",team:"",position:""}),[m,g]=Q.useState({});Q.useEffect(()=>{(async()=>{Ho.currentUser&&await ap()})()},[]);const _=()=>u.team==="leadership"?KK:XK;Q.useEffect(()=>{u.team&&h(N=>({...N,position:""}))},[u.team]);const v=async()=>{r(!0);try{const N=await Qw();N.isNewUser?(h(P=>({...P,email:N.email||""})),a(!0),e("Please complete your admin profile","info")):N.profile&&(e("You already have an account. Please use the login page.","error"),await ap(),setTimeout(()=>n("/login"),1500))}catch(N){console.error("Google sign-up error:",N),N.code==="auth/popup-closed-by-user"||N.code==="auth/cancelled-popup-request"||e("Failed to sign up with Google. Please try again.","error")}finally{r(!1)}},b=()=>{const N={};return u.firstName.trim()||(N.firstName="First name is required"),u.lastName.trim()||(N.lastName="Last name is required"),u.mobile.trim()?/^[6-9]\d{9}$/.test(u.mobile)||(N.mobile="Enter a valid 10-digit mobile number"):N.mobile="Mobile number is required",u.dateOfBirth||(N.dateOfBirth="Date of birth is required"),u.gender||(N.gender="Sex is required"),u.team||(N.team="Team is required"),u.position||(N.position="Position is required"),g(N),Object.keys(N).length===0},w=async N=>{if(N.preventDefault(),!b()){e("Please fill all required fields correctly","error");return}c(!0);try{await HI(u),e("Admin account created successfully!","success"),setTimeout(()=>{e("Please login to continue!","info")},500),await ap(),setTimeout(()=>{n("/login",{replace:!0})},1500)}catch(P){console.error("Admin signup error:",P),P.code==="already-registered-user"?e("This email is already registered as a user.","error"):P.code==="already-registered-admin"?e("This email is already registered as an admin.","error"):e(P.message||"Failed to create admin account","error")}finally{c(!1)}},T=(N,P)=>{h(R=>({...R,[N]:P})),m[N]&&g(R=>({...R,[N]:void 0}))};return f.jsx("div",{className:"admin-setup",children:f.jsxs("div",{className:"admin-setup__container",children:[f.jsxs("div",{className:"admin-setup__header",children:[f.jsx("div",{className:"admin-setup__badge",children:"Admin Portal"}),f.jsx("h1",{className:"admin-setup__title",children:"Admin Setup"}),f.jsx("p",{className:"admin-setup__subtitle",children:i?"Complete your admin profile to get started":"Create your OrbitX Admin account"})]}),i?f.jsxs("form",{className:"admin-setup__form",onSubmit:w,children:[f.jsxs("div",{className:"admin-setup__section",children:[f.jsx("h2",{className:"admin-setup__section-title",children:"Personal Information"}),f.jsxs("div",{className:"admin-setup__form-grid",children:[f.jsxs("div",{className:"admin-setup__form-group",children:[f.jsx("label",{className:"admin-setup__label",children:"First Name *"}),f.jsx("input",{type:"text",className:`admin-setup__input ${m.firstName?"admin-setup__input--error":""}`,value:u.firstName,onChange:N=>T("firstName",N.target.value),placeholder:"Enter first name"}),m.firstName&&f.jsx("span",{className:"admin-setup__error",children:m.firstName})]}),f.jsxs("div",{className:"admin-setup__form-group",children:[f.jsx("label",{className:"admin-setup__label",children:"Last Name *"}),f.jsx("input",{type:"text",className:`admin-setup__input ${m.lastName?"admin-setup__input--error":""}`,value:u.lastName,onChange:N=>T("lastName",N.target.value),placeholder:"Enter last name"}),m.lastName&&f.jsx("span",{className:"admin-setup__error",children:m.lastName})]}),f.jsxs("div",{className:"admin-setup__form-group",children:[f.jsx("label",{className:"admin-setup__label",children:"Mobile Number *"}),f.jsx("input",{type:"tel",className:`admin-setup__input ${m.mobile?"admin-setup__input--error":""}`,value:u.mobile,onChange:N=>T("mobile",N.target.value.replace(/\D/g,"").slice(0,10)),placeholder:"10-digit mobile number"}),m.mobile&&f.jsx("span",{className:"admin-setup__error",children:m.mobile})]}),f.jsxs("div",{className:"admin-setup__form-group",children:[f.jsx("label",{className:"admin-setup__label",children:"Email *"}),f.jsx("input",{type:"email",className:"admin-setup__input admin-setup__input--readonly",value:u.email,readOnly:!0})]}),f.jsxs("div",{className:"admin-setup__form-group",children:[f.jsx("label",{className:"admin-setup__label",children:"Date of Birth *"}),f.jsx(C2,{value:u.dateOfBirth,onChange:N=>T("dateOfBirth",N),error:!!m.dateOfBirth}),m.dateOfBirth&&f.jsx("span",{className:"admin-setup__error",children:m.dateOfBirth})]}),f.jsxs("div",{className:"admin-setup__form-group",children:[f.jsx("label",{className:"admin-setup__label",children:"Sex *"}),f.jsx(Fi,{options:hk,value:u.gender,onChange:N=>T("gender",N),placeholder:"Select sex"}),m.gender&&f.jsx("span",{className:"admin-setup__error",children:m.gender})]})]})]}),f.jsxs("div",{className:"admin-setup__section",children:[f.jsx("h2",{className:"admin-setup__section-title",children:"Team Information"}),f.jsxs("div",{className:"admin-setup__form-grid",children:[f.jsxs("div",{className:"admin-setup__form-group",children:[f.jsx("label",{className:"admin-setup__label",children:"Team *"}),f.jsx(Fi,{options:$K,value:u.team,onChange:N=>T("team",N),placeholder:"Select your team"}),m.team&&f.jsx("span",{className:"admin-setup__error",children:m.team})]}),f.jsxs("div",{className:"admin-setup__form-group",children:[f.jsx("label",{className:"admin-setup__label",children:"Position *"}),f.jsx(Fi,{options:_(),value:u.position,onChange:N=>T("position",N),placeholder:"Select your position",disabled:!u.team}),m.position&&f.jsx("span",{className:"admin-setup__error",children:m.position})]})]})]}),f.jsx("button",{type:"submit",className:"admin-setup__submit-btn",disabled:o,children:o?"Creating Account...":"Create Admin Account"})]}):f.jsxs("div",{className:"admin-setup__initial",children:[f.jsx("button",{className:"admin-setup__google-btn",onClick:v,disabled:t,children:t?f.jsx("span",{className:"admin-setup__loading",children:"Setting up..."}):f.jsxs(f.Fragment,{children:[f.jsxs("svg",{viewBox:"0 0 24 24",className:"admin-setup__google-icon",children:[f.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),f.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),f.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),f.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),f.jsx("span",{children:"Sign Up with Google"})]})}),f.jsxs("p",{className:"admin-setup__note",children:["This page is for admin account creation only.",f.jsx("br",{}),"Regular users should use the main signup page."]})]})]})})}var k2={};k2.version="0.18.5";var Lk=1252,yJ=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],jk=function(n){yJ.indexOf(n)!=-1&&(Lk=n)};function xJ(){jk(1252)}var Cp=function(n){jk(n)};function wJ(){Cp(1200),xJ()}var C1=function(e){return String.fromCharCode(e)},BN=function(e){return String.fromCharCode(e)},O2,Rh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Ip(n){for(var e="",t=0,r=0,i=0,a=0,o=0,c=0,u=0,h=0;h<n.length;)t=n.charCodeAt(h++),a=t>>2,r=n.charCodeAt(h++),o=(t&3)<<4|r>>4,i=n.charCodeAt(h++),c=(r&15)<<2|i>>6,u=i&63,isNaN(r)?c=u=64:isNaN(i)&&(u=64),e+=Rh.charAt(a)+Rh.charAt(o)+Rh.charAt(c)+Rh.charAt(u);return e}function Lu(n){var e="",t=0,r=0,i=0,a=0,o=0,c=0,u=0;n=n.replace(/[^\w\+\/\=]/g,"");for(var h=0;h<n.length;)a=Rh.indexOf(n.charAt(h++)),o=Rh.indexOf(n.charAt(h++)),t=a<<2|o>>4,e+=String.fromCharCode(t),c=Rh.indexOf(n.charAt(h++)),r=(o&15)<<4|c>>2,c!==64&&(e+=String.fromCharCode(r)),u=Rh.indexOf(n.charAt(h++)),i=(c&3)<<6|u,u!==64&&(e+=String.fromCharCode(i));return e}var yr=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),Fu=(function(){if(typeof Buffer<"u"){var n=!Buffer.from;if(!n)try{Buffer.from("foo","utf8")}catch{n=!0}return n?function(e,t){return t?new Buffer(e,t):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}})();function Uf(n){return yr?Buffer.alloc?Buffer.alloc(n):new Buffer(n):typeof Uint8Array<"u"?new Uint8Array(n):new Array(n)}function UN(n){return yr?Buffer.allocUnsafe?Buffer.allocUnsafe(n):new Buffer(n):typeof Uint8Array<"u"?new Uint8Array(n):new Array(n)}var Hl=function(e){return yr?Fu(e,"binary"):e.split("").map(function(t){return t.charCodeAt(0)&255})};function Cv(n){if(typeof ArrayBuffer>"u")return Hl(n);for(var e=new ArrayBuffer(n.length),t=new Uint8Array(e),r=0;r!=n.length;++r)t[r]=n.charCodeAt(r)&255;return e}function ig(n){if(Array.isArray(n))return n.map(function(r){return String.fromCharCode(r)}).join("");for(var e=[],t=0;t<n.length;++t)e[t]=String.fromCharCode(n[t]);return e.join("")}function bJ(n){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(n)}var os=yr?function(n){return Buffer.concat(n.map(function(e){return Buffer.isBuffer(e)?e:Fu(e)}))}:function(n){if(typeof Uint8Array<"u"){var e=0,t=0;for(e=0;e<n.length;++e)t+=n[e].length;var r=new Uint8Array(t),i=0;for(e=0,t=0;e<n.length;t+=i,++e)if(i=n[e].length,n[e]instanceof Uint8Array)r.set(n[e],t);else{if(typeof n[e]=="string")throw"wtf";r.set(new Uint8Array(n[e]),t)}return r}return[].concat.apply([],n.map(function(a){return Array.isArray(a)?a:[].slice.call(a)}))};function EJ(n){for(var e=[],t=0,r=n.length+250,i=Uf(n.length+255),a=0;a<n.length;++a){var o=n.charCodeAt(a);if(o<128)i[t++]=o;else if(o<2048)i[t++]=192|o>>6&31,i[t++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var c=n.charCodeAt(++a)&1023;i[t++]=240|o>>8&7,i[t++]=128|o>>2&63,i[t++]=128|c>>6&15|(o&3)<<4,i[t++]=128|c&63}else i[t++]=224|o>>12&15,i[t++]=128|o>>6&63,i[t++]=128|o&63;t>r&&(e.push(i.slice(0,t)),t=0,i=Uf(65535),r=65530)}return e.push(i.slice(0,t)),os(e)}var cp=/\u0000/g,I1=/[\u0001-\u0006]/g;function y0(n){for(var e="",t=n.length-1;t>=0;)e+=n.charAt(t--);return e}function Yl(n,e){var t=""+n;return t.length>=e?t:Pi("0",e-t.length)+t}function fb(n,e){var t=""+n;return t.length>=e?t:Pi(" ",e-t.length)+t}function D2(n,e){var t=""+n;return t.length>=e?t:t+Pi(" ",e-t.length)}function SJ(n,e){var t=""+Math.round(n);return t.length>=e?t:Pi("0",e-t.length)+t}function TJ(n,e){var t=""+n;return t.length>=e?t:Pi("0",e-t.length)+t}var VN=Math.pow(2,32);function Yd(n,e){if(n>VN||n<-VN)return SJ(n,e);var t=Math.round(n);return TJ(t,e)}function L2(n,e){return e=e||0,n.length>=7+e&&(n.charCodeAt(e)|32)===103&&(n.charCodeAt(e+1)|32)===101&&(n.charCodeAt(e+2)|32)===110&&(n.charCodeAt(e+3)|32)===101&&(n.charCodeAt(e+4)|32)===114&&(n.charCodeAt(e+5)|32)===97&&(n.charCodeAt(e+6)|32)===108}var zN=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],vx=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function AJ(n){return n||(n={}),n[0]="General",n[1]="0",n[2]="0.00",n[3]="#,##0",n[4]="#,##0.00",n[9]="0%",n[10]="0.00%",n[11]="0.00E+00",n[12]="# ?/?",n[13]="# ??/??",n[14]="m/d/yy",n[15]="d-mmm-yy",n[16]="d-mmm",n[17]="mmm-yy",n[18]="h:mm AM/PM",n[19]="h:mm:ss AM/PM",n[20]="h:mm",n[21]="h:mm:ss",n[22]="m/d/yy h:mm",n[37]="#,##0 ;(#,##0)",n[38]="#,##0 ;[Red](#,##0)",n[39]="#,##0.00;(#,##0.00)",n[40]="#,##0.00;[Red](#,##0.00)",n[45]="mm:ss",n[46]="[h]:mm:ss",n[47]="mmss.0",n[48]="##0.0E+0",n[49]="@",n[56]='"/ "hh""mm""ss" "',n}var Bi={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},qN={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},NJ={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function j2(n,e,t){for(var r=n<0?-1:1,i=n*r,a=0,o=1,c=0,u=1,h=0,m=0,g=Math.floor(i);h<e&&(g=Math.floor(i),c=g*o+a,m=g*h+u,!(i-g<5e-8));)i=1/(i-g),a=o,o=c,u=h,h=m;if(m>e&&(h>e?(m=u,c=a):(m=h,c=o)),!t)return[0,r*c,m];var _=Math.floor(r*c/m);return[_,r*c-_*m,m]}function R1(n,e,t){if(n>2958465||n<0)return null;var r=n|0,i=Math.floor(86400*(n-r)),a=0,o=[],c={D:r,T:i,u:86400*(n-r)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(c.u)<1e-6&&(c.u=0),e&&e.date1904&&(r+=1462),c.u>.9999&&(c.u=0,++i==86400&&(c.T=i=0,++r,++c.D)),r===60)o=t?[1317,10,29]:[1900,2,29],a=3;else if(r===0)o=t?[1317,8,29]:[1900,1,0],a=6;else{r>60&&--r;var u=new Date(1900,0,1);u.setDate(u.getDate()+r-1),o=[u.getFullYear(),u.getMonth()+1,u.getDate()],a=u.getDay(),r<60&&(a=(a+6)%7),t&&(a=LJ(u,o))}return c.y=o[0],c.m=o[1],c.d=o[2],c.S=i%60,i=Math.floor(i/60),c.M=i%60,i=Math.floor(i/60),c.H=i,c.q=a,c}var Mk=new Date(1899,11,31,0,0,0),CJ=Mk.getTime(),IJ=new Date(1900,2,1,0,0,0);function Pk(n,e){var t=n.getTime();return e?t-=1461*24*60*60*1e3:n>=IJ&&(t+=1440*60*1e3),(t-(CJ+(n.getTimezoneOffset()-Mk.getTimezoneOffset())*6e4))/(1440*60*1e3)}function db(n){return n.indexOf(".")==-1?n:n.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function RJ(n){return n.indexOf("E")==-1?n:n.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function kJ(n){var e=n<0?12:11,t=db(n.toFixed(12));return t.length<=e||(t=n.toPrecision(10),t.length<=e)?t:n.toExponential(5)}function OJ(n){var e=db(n.toFixed(11));return e.length>(n<0?12:11)||e==="0"||e==="-0"?n.toPrecision(6):e}function DJ(n){var e=Math.floor(Math.log(Math.abs(n))*Math.LOG10E),t;return e>=-4&&e<=-1?t=n.toPrecision(10+e):Math.abs(e)<=9?t=kJ(n):e===10?t=n.toFixed(10).substr(0,12):t=OJ(n),db(RJ(t.toUpperCase()))}function I5(n,e){switch(typeof n){case"string":return n;case"boolean":return n?"TRUE":"FALSE";case"number":return(n|0)===n?n.toString(10):DJ(n);case"undefined":return"";case"object":if(n==null)return"";if(n instanceof Date)return Gh(14,Pk(n,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+n)}function LJ(n,e){e[0]-=581;var t=n.getDay();return n<60&&(t=(t+6)%7),t}function jJ(n,e,t,r){var i="",a=0,o=0,c=t.y,u,h=0;switch(n){case 98:c=t.y+543;case 121:switch(e.length){case 1:case 2:u=c%100,h=2;break;default:u=c%1e4,h=4;break}break;case 109:switch(e.length){case 1:case 2:u=t.m,h=e.length;break;case 3:return vx[t.m-1][1];case 5:return vx[t.m-1][0];default:return vx[t.m-1][2]}break;case 100:switch(e.length){case 1:case 2:u=t.d,h=e.length;break;case 3:return zN[t.q][0];default:return zN[t.q][1]}break;case 104:switch(e.length){case 1:case 2:u=1+(t.H+11)%12,h=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:u=t.H,h=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:u=t.M,h=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return t.u===0&&(e=="s"||e=="ss")?Yl(t.S,e.length):(r>=2?o=r===3?1e3:100:o=r===1?10:1,a=Math.round(o*(t.S+t.u)),a>=60*o&&(a=0),e==="s"?a===0?"0":""+a/o:(i=Yl(a,2+r),e==="ss"?i.substr(0,2):"."+i.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":u=t.D*24+t.H;break;case"[m]":case"[mm]":u=(t.D*24+t.H)*60+t.M;break;case"[s]":case"[ss]":u=((t.D*24+t.H)*60+t.M)*60+Math.round(t.S+t.u);break;default:throw"bad abstime format: "+e}h=e.length===3?1:2;break;case 101:u=c,h=1;break}var m=h>0?Yl(u,h):"";return m}function kh(n){var e=3;if(n.length<=e)return n;for(var t=n.length%e,r=n.substr(0,t);t!=n.length;t+=e)r+=(r.length>0?",":"")+n.substr(t,e);return r}var Fk=/%/g;function MJ(n,e,t){var r=e.replace(Fk,""),i=e.length-r.length;return Tu(n,r,t*Math.pow(10,2*i))+Pi("%",i)}function PJ(n,e,t){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return Tu(n,e.substr(0,r),t/Math.pow(10,3*(e.length-r)))}function Bk(n,e){var t,r=n.indexOf("E")-n.indexOf(".")-1;if(n.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+Bk(n,-e);var i=n.indexOf(".");i===-1&&(i=n.indexOf("E"));var a=Math.floor(Math.log(e)*Math.LOG10E)%i;if(a<0&&(a+=i),t=(e/Math.pow(10,a)).toPrecision(r+1+(i+a)%i),t.indexOf("e")===-1){var o=Math.floor(Math.log(e)*Math.LOG10E);for(t.indexOf(".")===-1?t=t.charAt(0)+"."+t.substr(1)+"E+"+(o-t.length+a):t+="E+"+(o-a);t.substr(0,2)==="0.";)t=t.charAt(0)+t.substr(2,i)+"."+t.substr(2+i),t=t.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(c,u,h,m){return u+h+m.substr(0,(i+a)%i)+"."+m.substr(a)+"E"})}else t=e.toExponential(r);return n.match(/E\+00$/)&&t.match(/e[+-]\d$/)&&(t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1)),n.match(/E\-/)&&t.match(/e\+/)&&(t=t.replace(/e\+/,"e")),t.replace("e","E")}var Uk=/# (\?+)( ?)\/( ?)(\d+)/;function FJ(n,e,t){var r=parseInt(n[4],10),i=Math.round(e*r),a=Math.floor(i/r),o=i-a*r,c=r;return t+(a===0?"":""+a)+" "+(o===0?Pi(" ",n[1].length+1+n[4].length):fb(o,n[1].length)+n[2]+"/"+n[3]+Yl(c,n[4].length))}function BJ(n,e,t){return t+(e===0?"":""+e)+Pi(" ",n[1].length+2+n[4].length)}var Vk=/^#*0*\.([0#]+)/,zk=/\).*[0#]/,qk=/\(###\) ###\\?-####/;function Bs(n){for(var e="",t,r=0;r!=n.length;++r)switch(t=n.charCodeAt(r)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(t)}return e}function HN(n,e){var t=Math.pow(10,e);return""+Math.round(n*t)/t}function GN(n,e){var t=n-Math.floor(n),r=Math.pow(10,e);return e<(""+Math.round(t*r)).length?0:Math.round(t*r)}function UJ(n,e){return e<(""+Math.round((n-Math.floor(n))*Math.pow(10,e))).length?1:0}function VJ(n){return n<2147483647&&n>-2147483648?""+(n>=0?n|0:n-1|0):""+Math.floor(n)}function fl(n,e,t){if(n.charCodeAt(0)===40&&!e.match(zk)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return t>=0?fl("n",r,t):"("+fl("n",r,-t)+")"}if(e.charCodeAt(e.length-1)===44)return PJ(n,e,t);if(e.indexOf("%")!==-1)return MJ(n,e,t);if(e.indexOf("E")!==-1)return Bk(e,t);if(e.charCodeAt(0)===36)return"$"+fl(n,e.substr(e.charAt(1)==" "?2:1),t);var i,a,o,c,u=Math.abs(t),h=t<0?"-":"";if(e.match(/^00+$/))return h+Yd(u,e.length);if(e.match(/^[#?]+$/))return i=Yd(t,0),i==="0"&&(i=""),i.length>e.length?i:Bs(e.substr(0,e.length-i.length))+i;if(a=e.match(Uk))return FJ(a,u,h);if(e.match(/^#+0+$/))return h+Yd(u,e.length-e.indexOf("0"));if(a=e.match(Vk))return i=HN(t,a[1].length).replace(/^([^\.]+)$/,"$1."+Bs(a[1])).replace(/\.$/,"."+Bs(a[1])).replace(/\.(\d*)$/,function(b,w){return"."+w+Pi("0",Bs(a[1]).length-w.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),a=e.match(/^(0*)\.(#*)$/))return h+HN(u,a[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=e.match(/^#{1,3},##0(\.?)$/))return h+kh(Yd(u,0));if(a=e.match(/^#,##0\.([#0]*0)$/))return t<0?"-"+fl(n,e,-t):kh(""+(Math.floor(t)+UJ(t,a[1].length)))+"."+Yl(GN(t,a[1].length),a[1].length);if(a=e.match(/^#,#*,#0/))return fl(n,e.replace(/^#,#*,/,""),t);if(a=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=y0(fl(n,e.replace(/[\\-]/g,""),t)),o=0,y0(y0(e.replace(/\\/g,"")).replace(/[0#]/g,function(b){return o<i.length?i.charAt(o++):b==="0"?"0":""}));if(e.match(qk))return i=fl(n,"##########",t),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var m="";if(a=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(a[4].length,7),c=j2(u,Math.pow(10,o)-1,!1),i=""+h,m=Tu("n",a[1],c[1]),m.charAt(m.length-1)==" "&&(m=m.substr(0,m.length-1)+"0"),i+=m+a[2]+"/"+a[3],m=D2(c[2],o),m.length<a[4].length&&(m=Bs(a[4].substr(a[4].length-m.length))+m),i+=m,i;if(a=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(a[1].length,a[4].length),7),c=j2(u,Math.pow(10,o)-1,!0),h+(c[0]||(c[1]?"":"0"))+" "+(c[1]?fb(c[1],o)+a[2]+"/"+a[3]+D2(c[2],o):Pi(" ",2*o+1+a[2].length+a[3].length));if(a=e.match(/^[#0?]+$/))return i=Yd(t,0),e.length<=i.length?i:Bs(e.substr(0,e.length-i.length))+i;if(a=e.match(/^([#0?]+)\.([#0]+)$/)){i=""+t.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),o=i.indexOf(".");var g=e.indexOf(".")-o,_=e.length-i.length-g;return Bs(e.substr(0,g)+i+e.substr(e.length-_))}if(a=e.match(/^00,000\.([#0]*0)$/))return o=GN(t,a[1].length),t<0?"-"+fl(n,e,-t):kh(VJ(t)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(b){return"00,"+(b.length<3?Yl(0,3-b.length):"")+b})+"."+Yl(o,a[1].length);switch(e){case"###,##0.00":return fl(n,"#,##0.00",t);case"###,###":case"##,###":case"#,###":var v=kh(Yd(u,0));return v!=="0"?h+v:"";case"###,###.00":return fl(n,"###,##0.00",t).replace(/^0\./,".");case"#,###.00":return fl(n,"#,##0.00",t).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function zJ(n,e,t){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return Tu(n,e.substr(0,r),t/Math.pow(10,3*(e.length-r)))}function qJ(n,e,t){var r=e.replace(Fk,""),i=e.length-r.length;return Tu(n,r,t*Math.pow(10,2*i))+Pi("%",i)}function Hk(n,e){var t,r=n.indexOf("E")-n.indexOf(".")-1;if(n.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+Hk(n,-e);var i=n.indexOf(".");i===-1&&(i=n.indexOf("E"));var a=Math.floor(Math.log(e)*Math.LOG10E)%i;if(a<0&&(a+=i),t=(e/Math.pow(10,a)).toPrecision(r+1+(i+a)%i),!t.match(/[Ee]/)){var o=Math.floor(Math.log(e)*Math.LOG10E);t.indexOf(".")===-1?t=t.charAt(0)+"."+t.substr(1)+"E+"+(o-t.length+a):t+="E+"+(o-a),t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(c,u,h,m){return u+h+m.substr(0,(i+a)%i)+"."+m.substr(a)+"E"})}else t=e.toExponential(r);return n.match(/E\+00$/)&&t.match(/e[+-]\d$/)&&(t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1)),n.match(/E\-/)&&t.match(/e\+/)&&(t=t.replace(/e\+/,"e")),t.replace("e","E")}function Tc(n,e,t){if(n.charCodeAt(0)===40&&!e.match(zk)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return t>=0?Tc("n",r,t):"("+Tc("n",r,-t)+")"}if(e.charCodeAt(e.length-1)===44)return zJ(n,e,t);if(e.indexOf("%")!==-1)return qJ(n,e,t);if(e.indexOf("E")!==-1)return Hk(e,t);if(e.charCodeAt(0)===36)return"$"+Tc(n,e.substr(e.charAt(1)==" "?2:1),t);var i,a,o,c,u=Math.abs(t),h=t<0?"-":"";if(e.match(/^00+$/))return h+Yl(u,e.length);if(e.match(/^[#?]+$/))return i=""+t,t===0&&(i=""),i.length>e.length?i:Bs(e.substr(0,e.length-i.length))+i;if(a=e.match(Uk))return BJ(a,u,h);if(e.match(/^#+0+$/))return h+Yl(u,e.length-e.indexOf("0"));if(a=e.match(Vk))return i=(""+t).replace(/^([^\.]+)$/,"$1."+Bs(a[1])).replace(/\.$/,"."+Bs(a[1])),i=i.replace(/\.(\d*)$/,function(b,w){return"."+w+Pi("0",Bs(a[1]).length-w.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),a=e.match(/^(0*)\.(#*)$/))return h+(""+u).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=e.match(/^#{1,3},##0(\.?)$/))return h+kh(""+u);if(a=e.match(/^#,##0\.([#0]*0)$/))return t<0?"-"+Tc(n,e,-t):kh(""+t)+"."+Pi("0",a[1].length);if(a=e.match(/^#,#*,#0/))return Tc(n,e.replace(/^#,#*,/,""),t);if(a=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=y0(Tc(n,e.replace(/[\\-]/g,""),t)),o=0,y0(y0(e.replace(/\\/g,"")).replace(/[0#]/g,function(b){return o<i.length?i.charAt(o++):b==="0"?"0":""}));if(e.match(qk))return i=Tc(n,"##########",t),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var m="";if(a=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(a[4].length,7),c=j2(u,Math.pow(10,o)-1,!1),i=""+h,m=Tu("n",a[1],c[1]),m.charAt(m.length-1)==" "&&(m=m.substr(0,m.length-1)+"0"),i+=m+a[2]+"/"+a[3],m=D2(c[2],o),m.length<a[4].length&&(m=Bs(a[4].substr(a[4].length-m.length))+m),i+=m,i;if(a=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(a[1].length,a[4].length),7),c=j2(u,Math.pow(10,o)-1,!0),h+(c[0]||(c[1]?"":"0"))+" "+(c[1]?fb(c[1],o)+a[2]+"/"+a[3]+D2(c[2],o):Pi(" ",2*o+1+a[2].length+a[3].length));if(a=e.match(/^[#0?]+$/))return i=""+t,e.length<=i.length?i:Bs(e.substr(0,e.length-i.length))+i;if(a=e.match(/^([#0]+)\.([#0]+)$/)){i=""+t.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),o=i.indexOf(".");var g=e.indexOf(".")-o,_=e.length-i.length-g;return Bs(e.substr(0,g)+i+e.substr(e.length-_))}if(a=e.match(/^00,000\.([#0]*0)$/))return t<0?"-"+Tc(n,e,-t):kh(""+t).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(b){return"00,"+(b.length<3?Yl(0,3-b.length):"")+b})+"."+Yl(0,a[1].length);switch(e){case"###,###":case"##,###":case"#,###":var v=kh(""+u);return v!=="0"?h+v:"";default:if(e.match(/\.[0#?]*$/))return Tc(n,e.slice(0,e.lastIndexOf(".")),t)+Bs(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function Tu(n,e,t){return(t|0)===t?Tc(n,e,t):fl(n,e,t)}function HJ(n){for(var e=[],t=!1,r=0,i=0;r<n.length;++r)switch(n.charCodeAt(r)){case 34:t=!t;break;case 95:case 42:case 92:++r;break;case 59:e[e.length]=n.substr(i,r-i),i=r+1}if(e[e.length]=n.substr(i),t===!0)throw new Error("Format |"+n+"| unterminated string ");return e}var Gk=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function Wk(n){for(var e=0,t="",r="";e<n.length;)switch(t=n.charAt(e)){case"G":L2(n,e)&&(e+=6),e++;break;case'"':for(;n.charCodeAt(++e)!==34&&e<n.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(n.charAt(e+1)==="1"||n.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(n.substr(e,3).toUpperCase()==="A/P"||n.substr(e,5).toUpperCase()==="AM/PM"||n.substr(e,5).toUpperCase()==="/")return!0;++e;break;case"[":for(r=t;n.charAt(e++)!=="]"&&e<n.length;)r+=n.charAt(e);if(r.match(Gk))return!0;break;case".":case"0":case"#":for(;e<n.length&&("0#?.,E+-%".indexOf(t=n.charAt(++e))>-1||t=="\\"&&n.charAt(e+1)=="-"&&"0#".indexOf(n.charAt(e+2))>-1););break;case"?":for(;n.charAt(++e)===t;);break;case"*":++e,(n.charAt(e)==" "||n.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<n.length&&"0123456789".indexOf(n.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function GJ(n,e,t,r){for(var i=[],a="",o=0,c="",u="t",h,m,g,_="H";o<n.length;)switch(c=n.charAt(o)){case"G":if(!L2(n,o))throw new Error("unrecognized character "+c+" in "+n);i[i.length]={t:"G",v:"General"},o+=7;break;case'"':for(a="";(g=n.charCodeAt(++o))!==34&&o<n.length;)a+=String.fromCharCode(g);i[i.length]={t:"t",v:a},++o;break;case"\\":var v=n.charAt(++o),b=v==="("||v===")"?v:"t";i[i.length]={t:b,v},++o;break;case"_":i[i.length]={t:"t",v:" "},o+=2;break;case"@":i[i.length]={t:"T",v:e},++o;break;case"B":case"b":if(n.charAt(o+1)==="1"||n.charAt(o+1)==="2"){if(h==null&&(h=R1(e,t,n.charAt(o+1)==="2"),h==null))return"";i[i.length]={t:"X",v:n.substr(o,2)},u=c,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":c=c.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||h==null&&(h=R1(e,t),h==null))return"";for(a=c;++o<n.length&&n.charAt(o).toLowerCase()===c;)a+=c;c==="m"&&u.toLowerCase()==="h"&&(c="M"),c==="h"&&(c=_),i[i.length]={t:c,v:a},u=c;break;case"A":case"a":case"":var w={t:c,v:c};if(h==null&&(h=R1(e,t)),n.substr(o,3).toUpperCase()==="A/P"?(h!=null&&(w.v=h.H>=12?"P":"A"),w.t="T",_="h",o+=3):n.substr(o,5).toUpperCase()==="AM/PM"?(h!=null&&(w.v=h.H>=12?"PM":"AM"),w.t="T",o+=5,_="h"):n.substr(o,5).toUpperCase()==="/"?(h!=null&&(w.v=h.H>=12?"":""),w.t="T",o+=5,_="h"):(w.t="t",++o),h==null&&w.t==="T")return"";i[i.length]=w,u=c;break;case"[":for(a=c;n.charAt(o++)!=="]"&&o<n.length;)a+=n.charAt(o);if(a.slice(-1)!=="]")throw'unterminated "[" block: |'+a+"|";if(a.match(Gk)){if(h==null&&(h=R1(e,t),h==null))return"";i[i.length]={t:"Z",v:a.toLowerCase()},u=a.charAt(1)}else a.indexOf("$")>-1&&(a=(a.match(/\$([^-\[\]]*)/)||[])[1]||"$",Wk(n)||(i[i.length]={t:"t",v:a}));break;case".":if(h!=null){for(a=c;++o<n.length&&(c=n.charAt(o))==="0";)a+=c;i[i.length]={t:"s",v:a};break}case"0":case"#":for(a=c;++o<n.length&&"0#?.,E+-%".indexOf(c=n.charAt(o))>-1;)a+=c;i[i.length]={t:"n",v:a};break;case"?":for(a=c;n.charAt(++o)===c;)a+=c;i[i.length]={t:c,v:a},u=c;break;case"*":++o,(n.charAt(o)==" "||n.charAt(o)=="*")&&++o;break;case"(":case")":i[i.length]={t:r===1?"t":c,v:c},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(a=c;o<n.length&&"0123456789".indexOf(n.charAt(++o))>-1;)a+=n.charAt(o);i[i.length]={t:"D",v:a};break;case" ":i[i.length]={t:c,v:c},++o;break;case"$":i[i.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(c)===-1)throw new Error("unrecognized character "+c+" in "+n);i[i.length]={t:"t",v:c},++o;break}var T=0,N=0,P;for(o=i.length-1,u="t";o>=0;--o)switch(i[o].t){case"h":case"H":i[o].t=_,u="h",T<1&&(T=1);break;case"s":(P=i[o].v.match(/\.0+$/))&&(N=Math.max(N,P[0].length-1)),T<3&&(T=3);case"d":case"y":case"M":case"e":u=i[o].t;break;case"m":u==="s"&&(i[o].t="M",T<2&&(T=2));break;case"X":break;case"Z":T<1&&i[o].v.match(/[Hh]/)&&(T=1),T<2&&i[o].v.match(/[Mm]/)&&(T=2),T<3&&i[o].v.match(/[Ss]/)&&(T=3)}switch(T){case 0:break;case 1:h.u>=.5&&(h.u=0,++h.S),h.S>=60&&(h.S=0,++h.M),h.M>=60&&(h.M=0,++h.H);break;case 2:h.u>=.5&&(h.u=0,++h.S),h.S>=60&&(h.S=0,++h.M);break}var R="",j;for(o=0;o<i.length;++o)switch(i[o].t){case"t":case"T":case" ":case"D":break;case"X":i[o].v="",i[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[o].v=jJ(i[o].t.charCodeAt(0),i[o].v,h,N),i[o].t="t";break;case"n":case"?":for(j=o+1;i[j]!=null&&((c=i[j].t)==="?"||c==="D"||(c===" "||c==="t")&&i[j+1]!=null&&(i[j+1].t==="?"||i[j+1].t==="t"&&i[j+1].v==="/")||i[o].t==="("&&(c===" "||c==="n"||c===")")||c==="t"&&(i[j].v==="/"||i[j].v===" "&&i[j+1]!=null&&i[j+1].t=="?"));)i[o].v+=i[j].v,i[j]={v:"",t:";"},++j;R+=i[o].v,o=j-1;break;case"G":i[o].t="t",i[o].v=I5(e,t);break}var K="",U,C;if(R.length>0){R.charCodeAt(0)==40?(U=e<0&&R.charCodeAt(0)===45?-e:e,C=Tu("n",R,U)):(U=e<0&&r>1?-e:e,C=Tu("n",R,U),U<0&&i[0]&&i[0].t=="t"&&(C=C.substr(1),i[0].v="-"+i[0].v)),j=C.length-1;var k=i.length;for(o=0;o<i.length;++o)if(i[o]!=null&&i[o].t!="t"&&i[o].v.indexOf(".")>-1){k=o;break}var I=i.length;if(k===i.length&&C.indexOf("E")===-1){for(o=i.length-1;o>=0;--o)i[o]==null||"n?".indexOf(i[o].t)===-1||(j>=i[o].v.length-1?(j-=i[o].v.length,i[o].v=C.substr(j+1,i[o].v.length)):j<0?i[o].v="":(i[o].v=C.substr(0,j+1),j=-1),i[o].t="t",I=o);j>=0&&I<i.length&&(i[I].v=C.substr(0,j+1)+i[I].v)}else if(k!==i.length&&C.indexOf("E")===-1){for(j=C.indexOf(".")-1,o=k;o>=0;--o)if(!(i[o]==null||"n?".indexOf(i[o].t)===-1)){for(m=i[o].v.indexOf(".")>-1&&o===k?i[o].v.indexOf(".")-1:i[o].v.length-1,K=i[o].v.substr(m+1);m>=0;--m)j>=0&&(i[o].v.charAt(m)==="0"||i[o].v.charAt(m)==="#")&&(K=C.charAt(j--)+K);i[o].v=K,i[o].t="t",I=o}for(j>=0&&I<i.length&&(i[I].v=C.substr(0,j+1)+i[I].v),j=C.indexOf(".")+1,o=k;o<i.length;++o)if(!(i[o]==null||"n?(".indexOf(i[o].t)===-1&&o!==k)){for(m=i[o].v.indexOf(".")>-1&&o===k?i[o].v.indexOf(".")+1:0,K=i[o].v.substr(0,m);m<i[o].v.length;++m)j<C.length&&(K+=C.charAt(j++));i[o].v=K,i[o].t="t",I=o}}}for(o=0;o<i.length;++o)i[o]!=null&&"n?".indexOf(i[o].t)>-1&&(U=r>1&&e<0&&o>0&&i[o-1].v==="-"?-e:e,i[o].v=Tu(i[o].t,i[o].v,U),i[o].t="t");var z="";for(o=0;o!==i.length;++o)i[o]!=null&&(z+=i[o].v);return z}var WN=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function YN(n,e){if(e==null)return!1;var t=parseFloat(e[2]);switch(e[1]){case"=":if(n==t)return!0;break;case">":if(n>t)return!0;break;case"<":if(n<t)return!0;break;case"<>":if(n!=t)return!0;break;case">=":if(n>=t)return!0;break;case"<=":if(n<=t)return!0;break}return!1}function WJ(n,e){var t=HJ(n),r=t.length,i=t[r-1].indexOf("@");if(r<4&&i>-1&&--r,t.length>4)throw new Error("cannot find right format for |"+t.join("|")+"|");if(typeof e!="number")return[4,t.length===4||i>-1?t[t.length-1]:"@"];switch(t.length){case 1:t=i>-1?["General","General","General",t[0]]:[t[0],t[0],t[0],"@"];break;case 2:t=i>-1?[t[0],t[0],t[0],t[1]]:[t[0],t[1],t[0],"@"];break;case 3:t=i>-1?[t[0],t[1],t[0],t[2]]:[t[0],t[1],t[2],"@"];break}var a=e>0?t[0]:e<0?t[1]:t[2];if(t[0].indexOf("[")===-1&&t[1].indexOf("[")===-1)return[r,a];if(t[0].match(/\[[=<>]/)!=null||t[1].match(/\[[=<>]/)!=null){var o=t[0].match(WN),c=t[1].match(WN);return YN(e,o)?[r,t[0]]:YN(e,c)?[r,t[1]]:[r,t[o!=null&&c!=null?2:1]]}return[r,a]}function Gh(n,e,t){t==null&&(t={});var r="";switch(typeof n){case"string":n=="m/d/yy"&&t.dateNF?r=t.dateNF:r=n;break;case"number":n==14&&t.dateNF?r=t.dateNF:r=(t.table!=null?t.table:Bi)[n],r==null&&(r=t.table&&t.table[qN[n]]||Bi[qN[n]]),r==null&&(r=NJ[n]||"General");break}if(L2(r,0))return I5(e,t);e instanceof Date&&(e=Pk(e,t.date1904));var i=WJ(r,e);if(L2(i[1]))return I5(e,t);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return GJ(i[1],e,t,i[0])}function Yk(n,e){if(typeof e!="number"){e=+e||-1;for(var t=0;t<392;++t){if(Bi[t]==null){e<0&&(e=t);continue}if(Bi[t]==n){e=t;break}}e<0&&(e=391)}return Bi[e]=n,e}function Iv(n){for(var e=0;e!=392;++e)n[e]!==void 0&&Yk(n[e],e)}function Rv(){Bi=AJ()}var $k=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function YJ(n){var e=typeof n=="number"?Bi[n]:n;return e=e.replace($k,"(\\d+)"),new RegExp("^"+e+"$")}function $J(n,e,t){var r=-1,i=-1,a=-1,o=-1,c=-1,u=-1;(e.match($k)||[]).forEach(function(g,_){var v=parseInt(t[_+1],10);switch(g.toLowerCase().charAt(0)){case"y":r=v;break;case"d":a=v;break;case"h":o=v;break;case"s":u=v;break;case"m":o>=0?c=v:i=v;break}}),u>=0&&c==-1&&i>=0&&(c=i,i=-1);var h=(""+(r>=0?r:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(a>=1?a:1)).slice(-2);h.length==7&&(h="0"+h),h.length==8&&(h="20"+h);var m=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2)+":"+("00"+(u>=0?u:0)).slice(-2);return o==-1&&c==-1&&u==-1?h:r==-1&&i==-1&&a==-1?m:h+"T"+m}var KJ=(function(){var n={};n.version="1.2.0";function e(){for(var C=0,k=new Array(256),I=0;I!=256;++I)C=I,C=C&1?-306674912^C>>>1:C>>>1,C=C&1?-306674912^C>>>1:C>>>1,C=C&1?-306674912^C>>>1:C>>>1,C=C&1?-306674912^C>>>1:C>>>1,C=C&1?-306674912^C>>>1:C>>>1,C=C&1?-306674912^C>>>1:C>>>1,C=C&1?-306674912^C>>>1:C>>>1,C=C&1?-306674912^C>>>1:C>>>1,k[I]=C;return typeof Int32Array<"u"?new Int32Array(k):k}var t=e();function r(C){var k=0,I=0,z=0,O=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(z=0;z!=256;++z)O[z]=C[z];for(z=0;z!=256;++z)for(I=C[z],k=256+z;k<4096;k+=256)I=O[k]=I>>>8^C[I&255];var M=[];for(z=1;z!=16;++z)M[z-1]=typeof Int32Array<"u"?O.subarray(z*256,z*256+256):O.slice(z*256,z*256+256);return M}var i=r(t),a=i[0],o=i[1],c=i[2],u=i[3],h=i[4],m=i[5],g=i[6],_=i[7],v=i[8],b=i[9],w=i[10],T=i[11],N=i[12],P=i[13],R=i[14];function j(C,k){for(var I=k^-1,z=0,O=C.length;z<O;)I=I>>>8^t[(I^C.charCodeAt(z++))&255];return~I}function K(C,k){for(var I=k^-1,z=C.length-15,O=0;O<z;)I=R[C[O++]^I&255]^P[C[O++]^I>>8&255]^N[C[O++]^I>>16&255]^T[C[O++]^I>>>24]^w[C[O++]]^b[C[O++]]^v[C[O++]]^_[C[O++]]^g[C[O++]]^m[C[O++]]^h[C[O++]]^u[C[O++]]^c[C[O++]]^o[C[O++]]^a[C[O++]]^t[C[O++]];for(z+=15;O<z;)I=I>>>8^t[(I^C[O++])&255];return~I}function U(C,k){for(var I=k^-1,z=0,O=C.length,M=0,B=0;z<O;)M=C.charCodeAt(z++),M<128?I=I>>>8^t[(I^M)&255]:M<2048?(I=I>>>8^t[(I^(192|M>>6&31))&255],I=I>>>8^t[(I^(128|M&63))&255]):M>=55296&&M<57344?(M=(M&1023)+64,B=C.charCodeAt(z++)&1023,I=I>>>8^t[(I^(240|M>>8&7))&255],I=I>>>8^t[(I^(128|M>>2&63))&255],I=I>>>8^t[(I^(128|B>>6&15|(M&3)<<4))&255],I=I>>>8^t[(I^(128|B&63))&255]):(I=I>>>8^t[(I^(224|M>>12&15))&255],I=I>>>8^t[(I^(128|M>>6&63))&255],I=I>>>8^t[(I^(128|M&63))&255]);return~I}return n.table=t,n.bstr=j,n.buf=K,n.str=U,n})(),Fr=(function(){var e={};e.version="1.2.1";function t(ne,_e){for(var ue=ne.split("/"),de=_e.split("/"),ve=0,ye=0,Be=Math.min(ue.length,de.length);ve<Be;++ve){if(ye=ue[ve].length-de[ve].length)return ye;if(ue[ve]!=de[ve])return ue[ve]<de[ve]?-1:1}return ue.length-de.length}function r(ne){if(ne.charAt(ne.length-1)=="/")return ne.slice(0,-1).indexOf("/")===-1?ne:r(ne.slice(0,-1));var _e=ne.lastIndexOf("/");return _e===-1?ne:ne.slice(0,_e+1)}function i(ne){if(ne.charAt(ne.length-1)=="/")return i(ne.slice(0,-1));var _e=ne.lastIndexOf("/");return _e===-1?ne:ne.slice(_e+1)}function a(ne,_e){typeof _e=="string"&&(_e=new Date(_e));var ue=_e.getHours();ue=ue<<6|_e.getMinutes(),ue=ue<<5|_e.getSeconds()>>>1,ne.write_shift(2,ue);var de=_e.getFullYear()-1980;de=de<<4|_e.getMonth()+1,de=de<<5|_e.getDate(),ne.write_shift(2,de)}function o(ne){var _e=ne.read_shift(2)&65535,ue=ne.read_shift(2)&65535,de=new Date,ve=ue&31;ue>>>=5;var ye=ue&15;ue>>>=4,de.setMilliseconds(0),de.setFullYear(ue+1980),de.setMonth(ye-1),de.setDate(ve);var Be=_e&31;_e>>>=5;var Ze=_e&63;return _e>>>=6,de.setHours(_e),de.setMinutes(Ze),de.setSeconds(Be<<1),de}function c(ne){Mo(ne,0);for(var _e={},ue=0;ne.l<=ne.length-4;){var de=ne.read_shift(2),ve=ne.read_shift(2),ye=ne.l+ve,Be={};switch(de){case 21589:ue=ne.read_shift(1),ue&1&&(Be.mtime=ne.read_shift(4)),ve>5&&(ue&2&&(Be.atime=ne.read_shift(4)),ue&4&&(Be.ctime=ne.read_shift(4))),Be.mtime&&(Be.mt=new Date(Be.mtime*1e3));break}ne.l=ye,_e[de]=Be}return _e}var u;function h(){return u||(u={})}function m(ne,_e){if(ne[0]==80&&ne[1]==75)return wt(ne,_e);if((ne[0]|32)==109&&(ne[1]|32)==105)return ln(ne,_e);if(ne.length<512)throw new Error("CFB file size "+ne.length+" < 512");var ue=3,de=512,ve=0,ye=0,Be=0,Ze=0,Me=0,ze=[],He=ne.slice(0,512);Mo(He,0);var bt=g(He);switch(ue=bt[0],ue){case 3:de=512;break;case 4:de=4096;break;case 0:if(bt[1]==0)return wt(ne,_e);default:throw new Error("Major Version: Expected 3 or 4 saw "+ue)}de!==512&&(He=ne.slice(0,de),Mo(He,28));var mt=ne.slice(0,de);_(He,ue);var Et=He.read_shift(4,"i");if(ue===3&&Et!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Et);He.l+=4,Be=He.read_shift(4,"i"),He.l+=4,He.chk("00100000","Mini Stream Cutoff Size: "),Ze=He.read_shift(4,"i"),ve=He.read_shift(4,"i"),Me=He.read_shift(4,"i"),ye=He.read_shift(4,"i");for(var je=-1,Tt=0;Tt<109&&(je=He.read_shift(4,"i"),!(je<0));++Tt)ze[Tt]=je;var Xt=v(ne,de);T(Me,ye,Xt,de,ze);var nr=P(Xt,Be,ze,de);nr[Be].name="!Directory",ve>0&&Ze!==B&&(nr[Ze].name="!MiniFAT"),nr[ze[0]].name="!FAT",nr.fat_addrs=ze,nr.ssz=de;var jn={},or=[],zi=[],Ya=[];R(Be,nr,Xt,or,ve,jn,zi,Ze),b(zi,Ya,or),or.shift();var hs={FileIndex:zi,FullPaths:Ya};return _e&&_e.raw&&(hs.raw={header:mt,sectors:Xt}),hs}function g(ne){if(ne[ne.l]==80&&ne[ne.l+1]==75)return[0,0];ne.chk(Y,"Header Signature: "),ne.l+=16;var _e=ne.read_shift(2,"u");return[ne.read_shift(2,"u"),_e]}function _(ne,_e){var ue=9;switch(ne.l+=2,ue=ne.read_shift(2)){case 9:if(_e!=3)throw new Error("Sector Shift: Expected 9 saw "+ue);break;case 12:if(_e!=4)throw new Error("Sector Shift: Expected 12 saw "+ue);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+ue)}ne.chk("0600","Mini Sector Shift: "),ne.chk("000000000000","Reserved: ")}function v(ne,_e){for(var ue=Math.ceil(ne.length/_e)-1,de=[],ve=1;ve<ue;++ve)de[ve-1]=ne.slice(ve*_e,(ve+1)*_e);return de[ue-1]=ne.slice(ue*_e),de}function b(ne,_e,ue){for(var de=0,ve=0,ye=0,Be=0,Ze=0,Me=ue.length,ze=[],He=[];de<Me;++de)ze[de]=He[de]=de,_e[de]=ue[de];for(;Ze<He.length;++Ze)de=He[Ze],ve=ne[de].L,ye=ne[de].R,Be=ne[de].C,ze[de]===de&&(ve!==-1&&ze[ve]!==ve&&(ze[de]=ze[ve]),ye!==-1&&ze[ye]!==ye&&(ze[de]=ze[ye])),Be!==-1&&(ze[Be]=de),ve!==-1&&de!=ze[de]&&(ze[ve]=ze[de],He.lastIndexOf(ve)<Ze&&He.push(ve)),ye!==-1&&de!=ze[de]&&(ze[ye]=ze[de],He.lastIndexOf(ye)<Ze&&He.push(ye));for(de=1;de<Me;++de)ze[de]===de&&(ye!==-1&&ze[ye]!==ye?ze[de]=ze[ye]:ve!==-1&&ze[ve]!==ve&&(ze[de]=ze[ve]));for(de=1;de<Me;++de)if(ne[de].type!==0){if(Ze=de,Ze!=ze[Ze])do Ze=ze[Ze],_e[de]=_e[Ze]+"/"+_e[de];while(Ze!==0&&ze[Ze]!==-1&&Ze!=ze[Ze]);ze[de]=-1}for(_e[0]+="/",de=1;de<Me;++de)ne[de].type!==2&&(_e[de]+="/")}function w(ne,_e,ue){for(var de=ne.start,ve=ne.size,ye=[],Be=de;ue&&ve>0&&Be>=0;)ye.push(_e.slice(Be*M,Be*M+M)),ve-=M,Be=bf(ue,Be*4);return ye.length===0?lt(0):os(ye).slice(0,ne.size)}function T(ne,_e,ue,de,ve){var ye=B;if(ne===B){if(_e!==0)throw new Error("DIFAT chain shorter than expected")}else if(ne!==-1){var Be=ue[ne],Ze=(de>>>2)-1;if(!Be)return;for(var Me=0;Me<Ze&&(ye=bf(Be,Me*4))!==B;++Me)ve.push(ye);T(bf(Be,de-4),_e-1,ue,de,ve)}}function N(ne,_e,ue,de,ve){var ye=[],Be=[];ve||(ve=[]);var Ze=de-1,Me=0,ze=0;for(Me=_e;Me>=0;){ve[Me]=!0,ye[ye.length]=Me,Be.push(ne[Me]);var He=ue[Math.floor(Me*4/de)];if(ze=Me*4&Ze,de<4+ze)throw new Error("FAT boundary crossed: "+Me+" 4 "+de);if(!ne[He])break;Me=bf(ne[He],ze)}return{nodes:ye,data:t6([Be])}}function P(ne,_e,ue,de){var ve=ne.length,ye=[],Be=[],Ze=[],Me=[],ze=de-1,He=0,bt=0,mt=0,Et=0;for(He=0;He<ve;++He)if(Ze=[],mt=He+_e,mt>=ve&&(mt-=ve),!Be[mt]){Me=[];var je=[];for(bt=mt;bt>=0;){je[bt]=!0,Be[bt]=!0,Ze[Ze.length]=bt,Me.push(ne[bt]);var Tt=ue[Math.floor(bt*4/de)];if(Et=bt*4&ze,de<4+Et)throw new Error("FAT boundary crossed: "+bt+" 4 "+de);if(!ne[Tt]||(bt=bf(ne[Tt],Et),je[bt]))break}ye[mt]={nodes:Ze,data:t6([Me])}}return ye}function R(ne,_e,ue,de,ve,ye,Be,Ze){for(var Me=0,ze=de.length?2:0,He=_e[ne].data,bt=0,mt=0,Et;bt<He.length;bt+=128){var je=He.slice(bt,bt+128);Mo(je,64),mt=je.read_shift(2),Et=_b(je,0,mt-ze),de.push(Et);var Tt={name:Et,type:je.read_shift(1),color:je.read_shift(1),L:je.read_shift(4,"i"),R:je.read_shift(4,"i"),C:je.read_shift(4,"i"),clsid:je.read_shift(16),state:je.read_shift(4,"i"),start:0,size:0},Xt=je.read_shift(2)+je.read_shift(2)+je.read_shift(2)+je.read_shift(2);Xt!==0&&(Tt.ct=j(je,je.l-8));var nr=je.read_shift(2)+je.read_shift(2)+je.read_shift(2)+je.read_shift(2);nr!==0&&(Tt.mt=j(je,je.l-8)),Tt.start=je.read_shift(4,"i"),Tt.size=je.read_shift(4,"i"),Tt.size<0&&Tt.start<0&&(Tt.size=Tt.type=0,Tt.start=B,Tt.name=""),Tt.type===5?(Me=Tt.start,ve>0&&Me!==B&&(_e[Me].name="!StreamData")):Tt.size>=4096?(Tt.storage="fat",_e[Tt.start]===void 0&&(_e[Tt.start]=N(ue,Tt.start,_e.fat_addrs,_e.ssz)),_e[Tt.start].name=Tt.name,Tt.content=_e[Tt.start].data.slice(0,Tt.size)):(Tt.storage="minifat",Tt.size<0?Tt.size=0:Me!==B&&Tt.start!==B&&_e[Me]&&(Tt.content=w(Tt,_e[Me].data,(_e[Ze]||{}).data))),Tt.content&&Mo(Tt.content,0),ye[Et]=Tt,Be.push(Tt)}}function j(ne,_e){return new Date((Fo(ne,_e+4)/1e7*Math.pow(2,32)+Fo(ne,_e)/1e7-11644473600)*1e3)}function K(ne,_e){return h(),m(u.readFileSync(ne),_e)}function U(ne,_e){var ue=_e&&_e.type;switch(ue||yr&&Buffer.isBuffer(ne)&&(ue="buffer"),ue||"base64"){case"file":return K(ne,_e);case"base64":return m(Hl(Lu(ne)),_e);case"binary":return m(Hl(ne),_e)}return m(ne,_e)}function C(ne,_e){var ue=_e||{},de=ue.root||"Root Entry";if(ne.FullPaths||(ne.FullPaths=[]),ne.FileIndex||(ne.FileIndex=[]),ne.FullPaths.length!==ne.FileIndex.length)throw new Error("inconsistent CFB structure");ne.FullPaths.length===0&&(ne.FullPaths[0]=de+"/",ne.FileIndex[0]={name:de,type:5}),ue.CLSID&&(ne.FileIndex[0].clsid=ue.CLSID),k(ne)}function k(ne){var _e="Sh33tJ5";if(!Fr.find(ne,"/"+_e)){var ue=lt(4);ue[0]=55,ue[1]=ue[3]=50,ue[2]=54,ne.FileIndex.push({name:_e,type:2,content:ue,size:4,L:69,R:69,C:69}),ne.FullPaths.push(ne.FullPaths[0]+_e),I(ne)}}function I(ne,_e){C(ne);for(var ue=!1,de=!1,ve=ne.FullPaths.length-1;ve>=0;--ve){var ye=ne.FileIndex[ve];switch(ye.type){case 0:de?ue=!0:(ne.FileIndex.pop(),ne.FullPaths.pop());break;case 1:case 2:case 5:de=!0,isNaN(ye.R*ye.L*ye.C)&&(ue=!0),ye.R>-1&&ye.L>-1&&ye.R==ye.L&&(ue=!0);break;default:ue=!0;break}}if(!(!ue&&!_e)){var Be=new Date(1987,1,19),Ze=0,Me=Object.create?Object.create(null):{},ze=[];for(ve=0;ve<ne.FullPaths.length;++ve)Me[ne.FullPaths[ve]]=!0,ne.FileIndex[ve].type!==0&&ze.push([ne.FullPaths[ve],ne.FileIndex[ve]]);for(ve=0;ve<ze.length;++ve){var He=r(ze[ve][0]);de=Me[He],de||(ze.push([He,{name:i(He).replace("/",""),type:1,clsid:fe,ct:Be,mt:Be,content:null}]),Me[He]=!0)}for(ze.sort(function(Et,je){return t(Et[0],je[0])}),ne.FullPaths=[],ne.FileIndex=[],ve=0;ve<ze.length;++ve)ne.FullPaths[ve]=ze[ve][0],ne.FileIndex[ve]=ze[ve][1];for(ve=0;ve<ze.length;++ve){var bt=ne.FileIndex[ve],mt=ne.FullPaths[ve];if(bt.name=i(mt).replace("/",""),bt.L=bt.R=bt.C=-(bt.color=1),bt.size=bt.content?bt.content.length:0,bt.start=0,bt.clsid=bt.clsid||fe,ve===0)bt.C=ze.length>1?1:-1,bt.size=0,bt.type=5;else if(mt.slice(-1)=="/"){for(Ze=ve+1;Ze<ze.length&&r(ne.FullPaths[Ze])!=mt;++Ze);for(bt.C=Ze>=ze.length?-1:Ze,Ze=ve+1;Ze<ze.length&&r(ne.FullPaths[Ze])!=r(mt);++Ze);bt.R=Ze>=ze.length?-1:Ze,bt.type=1}else r(ne.FullPaths[ve+1]||"")==r(mt)&&(bt.R=ve+1),bt.type=2}}}function z(ne,_e){var ue=_e||{};if(ue.fileType=="mad")return Wa(ne,ue);switch(I(ne),ue.fileType){case"zip":return Bt(ne,ue)}var de=(function(Et){for(var je=0,Tt=0,Xt=0;Xt<Et.FileIndex.length;++Xt){var nr=Et.FileIndex[Xt];if(nr.content){var jn=nr.content.length;jn>0&&(jn<4096?je+=jn+63>>6:Tt+=jn+511>>9)}}for(var or=Et.FullPaths.length+3>>2,zi=je+7>>3,Ya=je+127>>7,hs=zi+Tt+or+Ya,Ta=hs+127>>7,xo=Ta<=109?0:Math.ceil((Ta-109)/127);hs+Ta+xo+127>>7>Ta;)xo=++Ta<=109?0:Math.ceil((Ta-109)/127);var zr=[1,xo,Ta,Ya,or,Tt,je,0];return Et.FileIndex[0].size=je<<6,zr[7]=(Et.FileIndex[0].start=zr[0]+zr[1]+zr[2]+zr[3]+zr[4]+zr[5])+(zr[6]+7>>3),zr})(ne),ve=lt(de[7]<<9),ye=0,Be=0;{for(ye=0;ye<8;++ye)ve.write_shift(1,we[ye]);for(ye=0;ye<8;++ye)ve.write_shift(2,0);for(ve.write_shift(2,62),ve.write_shift(2,3),ve.write_shift(2,65534),ve.write_shift(2,9),ve.write_shift(2,6),ye=0;ye<3;++ye)ve.write_shift(2,0);for(ve.write_shift(4,0),ve.write_shift(4,de[2]),ve.write_shift(4,de[0]+de[1]+de[2]+de[3]-1),ve.write_shift(4,0),ve.write_shift(4,4096),ve.write_shift(4,de[3]?de[0]+de[1]+de[2]-1:B),ve.write_shift(4,de[3]),ve.write_shift(-4,de[1]?de[0]-1:B),ve.write_shift(4,de[1]),ye=0;ye<109;++ye)ve.write_shift(-4,ye<de[2]?de[1]+ye:-1)}if(de[1])for(Be=0;Be<de[1];++Be){for(;ye<236+Be*127;++ye)ve.write_shift(-4,ye<de[2]?de[1]+ye:-1);ve.write_shift(-4,Be===de[1]-1?B:Be+1)}var Ze=function(Et){for(Be+=Et;ye<Be-1;++ye)ve.write_shift(-4,ye+1);Et&&(++ye,ve.write_shift(-4,B))};for(Be=ye=0,Be+=de[1];ye<Be;++ye)ve.write_shift(-4,le.DIFSECT);for(Be+=de[2];ye<Be;++ye)ve.write_shift(-4,le.FATSECT);Ze(de[3]),Ze(de[4]);for(var Me=0,ze=0,He=ne.FileIndex[0];Me<ne.FileIndex.length;++Me)He=ne.FileIndex[Me],He.content&&(ze=He.content.length,!(ze<4096)&&(He.start=Be,Ze(ze+511>>9)));for(Ze(de[6]+7>>3);ve.l&511;)ve.write_shift(-4,le.ENDOFCHAIN);for(Be=ye=0,Me=0;Me<ne.FileIndex.length;++Me)He=ne.FileIndex[Me],He.content&&(ze=He.content.length,!(!ze||ze>=4096)&&(He.start=Be,Ze(ze+63>>6)));for(;ve.l&511;)ve.write_shift(-4,le.ENDOFCHAIN);for(ye=0;ye<de[4]<<2;++ye){var bt=ne.FullPaths[ye];if(!bt||bt.length===0){for(Me=0;Me<17;++Me)ve.write_shift(4,0);for(Me=0;Me<3;++Me)ve.write_shift(4,-1);for(Me=0;Me<12;++Me)ve.write_shift(4,0);continue}He=ne.FileIndex[ye],ye===0&&(He.start=He.size?He.start-1:B);var mt=ye===0&&ue.root||He.name;if(ze=2*(mt.length+1),ve.write_shift(64,mt,"utf16le"),ve.write_shift(2,ze),ve.write_shift(1,He.type),ve.write_shift(1,He.color),ve.write_shift(-4,He.L),ve.write_shift(-4,He.R),ve.write_shift(-4,He.C),He.clsid)ve.write_shift(16,He.clsid,"hex");else for(Me=0;Me<4;++Me)ve.write_shift(4,0);ve.write_shift(4,He.state||0),ve.write_shift(4,0),ve.write_shift(4,0),ve.write_shift(4,0),ve.write_shift(4,0),ve.write_shift(4,He.start),ve.write_shift(4,He.size),ve.write_shift(4,0)}for(ye=1;ye<ne.FileIndex.length;++ye)if(He=ne.FileIndex[ye],He.size>=4096)if(ve.l=He.start+1<<9,yr&&Buffer.isBuffer(He.content))He.content.copy(ve,ve.l,0,He.size),ve.l+=He.size+511&-512;else{for(Me=0;Me<He.size;++Me)ve.write_shift(1,He.content[Me]);for(;Me&511;++Me)ve.write_shift(1,0)}for(ye=1;ye<ne.FileIndex.length;++ye)if(He=ne.FileIndex[ye],He.size>0&&He.size<4096)if(yr&&Buffer.isBuffer(He.content))He.content.copy(ve,ve.l,0,He.size),ve.l+=He.size+63&-64;else{for(Me=0;Me<He.size;++Me)ve.write_shift(1,He.content[Me]);for(;Me&63;++Me)ve.write_shift(1,0)}if(yr)ve.l=ve.length;else for(;ve.l<ve.length;)ve.write_shift(1,0);return ve}function O(ne,_e){var ue=ne.FullPaths.map(function(Me){return Me.toUpperCase()}),de=ue.map(function(Me){var ze=Me.split("/");return ze[ze.length-(Me.slice(-1)=="/"?2:1)]}),ve=!1;_e.charCodeAt(0)===47?(ve=!0,_e=ue[0].slice(0,-1)+_e):ve=_e.indexOf("/")!==-1;var ye=_e.toUpperCase(),Be=ve===!0?ue.indexOf(ye):de.indexOf(ye);if(Be!==-1)return ne.FileIndex[Be];var Ze=!ye.match(I1);for(ye=ye.replace(cp,""),Ze&&(ye=ye.replace(I1,"!")),Be=0;Be<ue.length;++Be)if((Ze?ue[Be].replace(I1,"!"):ue[Be]).replace(cp,"")==ye||(Ze?de[Be].replace(I1,"!"):de[Be]).replace(cp,"")==ye)return ne.FileIndex[Be];return null}var M=64,B=-2,Y="d0cf11e0a1b11ae1",we=[208,207,17,224,161,177,26,225],fe="00000000000000000000000000000000",le={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:B,FREESECT:-1,HEADER_SIGNATURE:Y,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:fe,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function pe(ne,_e,ue){h();var de=z(ne,ue);u.writeFileSync(_e,de)}function Ie(ne){for(var _e=new Array(ne.length),ue=0;ue<ne.length;++ue)_e[ue]=String.fromCharCode(ne[ue]);return _e.join("")}function Ae(ne,_e){var ue=z(ne,_e);switch(_e&&_e.type||"buffer"){case"file":return h(),u.writeFileSync(_e.filename,ue),ue;case"binary":return typeof ue=="string"?ue:Ie(ue);case"base64":return Ip(typeof ue=="string"?ue:Ie(ue));case"buffer":if(yr)return Buffer.isBuffer(ue)?ue:Fu(ue);case"array":return typeof ue=="string"?Hl(ue):ue}return ue}var re;function L(ne){try{var _e=ne.InflateRaw,ue=new _e;if(ue._processChunk(new Uint8Array([3,0]),ue._finishFlushFlag),ue.bytesRead)re=ne;else throw new Error("zlib does not expose bytesRead")}catch(de){console.error("cannot use native zlib: "+(de.message||de))}}function G(ne,_e){if(!re)return En(ne,_e);var ue=re.InflateRaw,de=new ue,ve=de._processChunk(ne.slice(ne.l),de._finishFlushFlag);return ne.l+=de.bytesRead,ve}function q(ne){return re?re.deflateRawSync(ne):Wt(ne)}var J=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ae=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],ge=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function Te(ne){var _e=(ne<<1|ne<<11)&139536|(ne<<5|ne<<15)&558144;return(_e>>16|_e>>8|_e)&255}for(var Se=typeof Uint8Array<"u",Ce=Se?new Uint8Array(256):[],et=0;et<256;++et)Ce[et]=Te(et);function ot(ne,_e){var ue=Ce[ne&255];return _e<=8?ue>>>8-_e:(ue=ue<<8|Ce[ne>>8&255],_e<=16?ue>>>16-_e:(ue=ue<<8|Ce[ne>>16&255],ue>>>24-_e))}function tt(ne,_e){var ue=_e&7,de=_e>>>3;return(ne[de]|(ue<=6?0:ne[de+1]<<8))>>>ue&3}function it(ne,_e){var ue=_e&7,de=_e>>>3;return(ne[de]|(ue<=5?0:ne[de+1]<<8))>>>ue&7}function Z(ne,_e){var ue=_e&7,de=_e>>>3;return(ne[de]|(ue<=4?0:ne[de+1]<<8))>>>ue&15}function Fe(ne,_e){var ue=_e&7,de=_e>>>3;return(ne[de]|(ue<=3?0:ne[de+1]<<8))>>>ue&31}function nt(ne,_e){var ue=_e&7,de=_e>>>3;return(ne[de]|(ue<=1?0:ne[de+1]<<8))>>>ue&127}function It(ne,_e,ue){var de=_e&7,ve=_e>>>3,ye=(1<<ue)-1,Be=ne[ve]>>>de;return ue<8-de||(Be|=ne[ve+1]<<8-de,ue<16-de)||(Be|=ne[ve+2]<<16-de,ue<24-de)||(Be|=ne[ve+3]<<24-de),Be&ye}function Qe(ne,_e,ue){var de=_e&7,ve=_e>>>3;return de<=5?ne[ve]|=(ue&7)<<de:(ne[ve]|=ue<<de&255,ne[ve+1]=(ue&7)>>8-de),_e+3}function At(ne,_e,ue){var de=_e&7,ve=_e>>>3;return ue=(ue&1)<<de,ne[ve]|=ue,_e+1}function Ke(ne,_e,ue){var de=_e&7,ve=_e>>>3;return ue<<=de,ne[ve]|=ue&255,ue>>>=8,ne[ve+1]=ue,_e+8}function ht(ne,_e,ue){var de=_e&7,ve=_e>>>3;return ue<<=de,ne[ve]|=ue&255,ue>>>=8,ne[ve+1]=ue&255,ne[ve+2]=ue>>>8,_e+16}function Dt(ne,_e){var ue=ne.length,de=2*ue>_e?2*ue:_e+5,ve=0;if(ue>=_e)return ne;if(yr){var ye=UN(de);if(ne.copy)ne.copy(ye);else for(;ve<ne.length;++ve)ye[ve]=ne[ve];return ye}else if(Se){var Be=new Uint8Array(de);if(Be.set)Be.set(ne);else for(;ve<ue;++ve)Be[ve]=ne[ve];return Be}return ne.length=de,ne}function kt(ne){for(var _e=new Array(ne),ue=0;ue<ne;++ue)_e[ue]=0;return _e}function qt(ne,_e,ue){var de=1,ve=0,ye=0,Be=0,Ze=0,Me=ne.length,ze=Se?new Uint16Array(32):kt(32);for(ye=0;ye<32;++ye)ze[ye]=0;for(ye=Me;ye<ue;++ye)ne[ye]=0;Me=ne.length;var He=Se?new Uint16Array(Me):kt(Me);for(ye=0;ye<Me;++ye)ze[ve=ne[ye]]++,de<ve&&(de=ve),He[ye]=0;for(ze[0]=0,ye=1;ye<=de;++ye)ze[ye+16]=Ze=Ze+ze[ye-1]<<1;for(ye=0;ye<Me;++ye)Ze=ne[ye],Ze!=0&&(He[ye]=ze[Ze+16]++);var bt=0;for(ye=0;ye<Me;++ye)if(bt=ne[ye],bt!=0)for(Ze=ot(He[ye],de)>>de-bt,Be=(1<<de+4-bt)-1;Be>=0;--Be)_e[Ze|Be<<bt]=bt&15|ye<<4;return de}var Vt=Se?new Uint16Array(512):kt(512),Gt=Se?new Uint16Array(32):kt(32);if(!Se){for(var Ht=0;Ht<512;++Ht)Vt[Ht]=0;for(Ht=0;Ht<32;++Ht)Gt[Ht]=0}(function(){for(var ne=[],_e=0;_e<32;_e++)ne.push(5);qt(ne,Gt,32);var ue=[];for(_e=0;_e<=143;_e++)ue.push(8);for(;_e<=255;_e++)ue.push(9);for(;_e<=279;_e++)ue.push(7);for(;_e<=287;_e++)ue.push(8);qt(ue,Vt,288)})();var Mt=(function(){for(var _e=Se?new Uint8Array(32768):[],ue=0,de=0;ue<ge.length-1;++ue)for(;de<ge[ue+1];++de)_e[de]=ue;for(;de<32768;++de)_e[de]=29;var ve=Se?new Uint8Array(259):[];for(ue=0,de=0;ue<ae.length-1;++ue)for(;de<ae[ue+1];++de)ve[de]=ue;function ye(Ze,Me){for(var ze=0;ze<Ze.length;){var He=Math.min(65535,Ze.length-ze),bt=ze+He==Ze.length;for(Me.write_shift(1,+bt),Me.write_shift(2,He),Me.write_shift(2,~He&65535);He-- >0;)Me[Me.l++]=Ze[ze++]}return Me.l}function Be(Ze,Me){for(var ze=0,He=0,bt=Se?new Uint16Array(32768):[];He<Ze.length;){var mt=Math.min(65535,Ze.length-He);if(mt<10){for(ze=Qe(Me,ze,+(He+mt==Ze.length)),ze&7&&(ze+=8-(ze&7)),Me.l=ze/8|0,Me.write_shift(2,mt),Me.write_shift(2,~mt&65535);mt-- >0;)Me[Me.l++]=Ze[He++];ze=Me.l*8;continue}ze=Qe(Me,ze,+(He+mt==Ze.length)+2);for(var Et=0;mt-- >0;){var je=Ze[He];Et=(Et<<5^je)&32767;var Tt=-1,Xt=0;if((Tt=bt[Et])&&(Tt|=He&-32768,Tt>He&&(Tt-=32768),Tt<He))for(;Ze[Tt+Xt]==Ze[He+Xt]&&Xt<250;)++Xt;if(Xt>2){je=ve[Xt],je<=22?ze=Ke(Me,ze,Ce[je+1]>>1)-1:(Ke(Me,ze,3),ze+=5,Ke(Me,ze,Ce[je-23]>>5),ze+=3);var nr=je<8?0:je-4>>2;nr>0&&(ht(Me,ze,Xt-ae[je]),ze+=nr),je=_e[He-Tt],ze=Ke(Me,ze,Ce[je]>>3),ze-=3;var jn=je<4?0:je-2>>1;jn>0&&(ht(Me,ze,He-Tt-ge[je]),ze+=jn);for(var or=0;or<Xt;++or)bt[Et]=He&32767,Et=(Et<<5^Ze[He])&32767,++He;mt-=Xt-1}else je<=143?je=je+48:ze=At(Me,ze,1),ze=Ke(Me,ze,Ce[je]),bt[Et]=He&32767,++He}ze=Ke(Me,ze,0)-1}return Me.l=(ze+7)/8|0,Me.l}return function(Me,ze){return Me.length<8?ye(Me,ze):Be(Me,ze)}})();function Wt(ne){var _e=lt(50+Math.floor(ne.length*1.1)),ue=Mt(ne,_e);return _e.slice(0,ue)}var Lt=Se?new Uint16Array(32768):kt(32768),yn=Se?new Uint16Array(32768):kt(32768),zt=Se?new Uint16Array(128):kt(128),Ft=1,Rt=1;function xt(ne,_e){var ue=Fe(ne,_e)+257;_e+=5;var de=Fe(ne,_e)+1;_e+=5;var ve=Z(ne,_e)+4;_e+=4;for(var ye=0,Be=Se?new Uint8Array(19):kt(19),Ze=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Me=1,ze=Se?new Uint8Array(8):kt(8),He=Se?new Uint8Array(8):kt(8),bt=Be.length,mt=0;mt<ve;++mt)Be[J[mt]]=ye=it(ne,_e),Me<ye&&(Me=ye),ze[ye]++,_e+=3;var Et=0;for(ze[0]=0,mt=1;mt<=Me;++mt)He[mt]=Et=Et+ze[mt-1]<<1;for(mt=0;mt<bt;++mt)(Et=Be[mt])!=0&&(Ze[mt]=He[Et]++);var je=0;for(mt=0;mt<bt;++mt)if(je=Be[mt],je!=0){Et=Ce[Ze[mt]]>>8-je;for(var Tt=(1<<7-je)-1;Tt>=0;--Tt)zt[Et|Tt<<je]=je&7|mt<<3}var Xt=[];for(Me=1;Xt.length<ue+de;)switch(Et=zt[nt(ne,_e)],_e+=Et&7,Et>>>=3){case 16:for(ye=3+tt(ne,_e),_e+=2,Et=Xt[Xt.length-1];ye-- >0;)Xt.push(Et);break;case 17:for(ye=3+it(ne,_e),_e+=3;ye-- >0;)Xt.push(0);break;case 18:for(ye=11+nt(ne,_e),_e+=7;ye-- >0;)Xt.push(0);break;default:Xt.push(Et),Me<Et&&(Me=Et);break}var nr=Xt.slice(0,ue),jn=Xt.slice(ue);for(mt=ue;mt<286;++mt)nr[mt]=0;for(mt=de;mt<30;++mt)jn[mt]=0;return Ft=qt(nr,Lt,286),Rt=qt(jn,yn,30),_e}function Kt(ne,_e){if(ne[0]==3&&!(ne[1]&3))return[Uf(_e),2];for(var ue=0,de=0,ve=UN(_e||1<<18),ye=0,Be=ve.length>>>0,Ze=0,Me=0;(de&1)==0;){if(de=it(ne,ue),ue+=3,de>>>1)de>>1==1?(Ze=9,Me=5):(ue=xt(ne,ue),Ze=Ft,Me=Rt);else{ue&7&&(ue+=8-(ue&7));var ze=ne[ue>>>3]|ne[(ue>>>3)+1]<<8;if(ue+=32,ze>0)for(!_e&&Be<ye+ze&&(ve=Dt(ve,ye+ze),Be=ve.length);ze-- >0;)ve[ye++]=ne[ue>>>3],ue+=8;continue}for(;;){!_e&&Be<ye+32767&&(ve=Dt(ve,ye+32767),Be=ve.length);var He=It(ne,ue,Ze),bt=de>>>1==1?Vt[He]:Lt[He];if(ue+=bt&15,bt>>>=4,(bt>>>8&255)===0)ve[ye++]=bt;else{if(bt==256)break;bt-=257;var mt=bt<8?0:bt-4>>2;mt>5&&(mt=0);var Et=ye+ae[bt];mt>0&&(Et+=It(ne,ue,mt),ue+=mt),He=It(ne,ue,Me),bt=de>>>1==1?Gt[He]:yn[He],ue+=bt&15,bt>>>=4;var je=bt<4?0:bt-2>>1,Tt=ge[bt];for(je>0&&(Tt+=It(ne,ue,je),ue+=je),!_e&&Be<Et&&(ve=Dt(ve,Et+100),Be=ve.length);ye<Et;)ve[ye]=ve[ye-Tt],++ye}}}return _e?[ve,ue+7>>>3]:[ve.slice(0,ye),ue+7>>>3]}function En(ne,_e){var ue=ne.slice(ne.l||0),de=Kt(ue,_e);return ne.l+=de[1],de[0]}function We(ne,_e){if(ne)typeof console<"u"&&console.error(_e);else throw new Error(_e)}function wt(ne,_e){var ue=ne;Mo(ue,0);var de=[],ve=[],ye={FileIndex:de,FullPaths:ve};C(ye,{root:_e.root});for(var Be=ue.length-4;(ue[Be]!=80||ue[Be+1]!=75||ue[Be+2]!=5||ue[Be+3]!=6)&&Be>=0;)--Be;ue.l=Be+4,ue.l+=4;var Ze=ue.read_shift(2);ue.l+=6;var Me=ue.read_shift(4);for(ue.l=Me,Be=0;Be<Ze;++Be){ue.l+=20;var ze=ue.read_shift(4),He=ue.read_shift(4),bt=ue.read_shift(2),mt=ue.read_shift(2),Et=ue.read_shift(2);ue.l+=8;var je=ue.read_shift(4),Tt=c(ue.slice(ue.l+bt,ue.l+bt+mt));ue.l+=bt+mt+Et;var Xt=ue.l;ue.l=je+4,nn(ue,ze,He,ye,Tt),ue.l=Xt}return ye}function nn(ne,_e,ue,de,ve){ne.l+=2;var ye=ne.read_shift(2),Be=ne.read_shift(2),Ze=o(ne);if(ye&8257)throw new Error("Unsupported ZIP encryption");for(var Me=ne.read_shift(4),ze=ne.read_shift(4),He=ne.read_shift(4),bt=ne.read_shift(2),mt=ne.read_shift(2),Et="",je=0;je<bt;++je)Et+=String.fromCharCode(ne[ne.l++]);if(mt){var Tt=c(ne.slice(ne.l,ne.l+mt));(Tt[21589]||{}).mt&&(Ze=Tt[21589].mt),((ve||{})[21589]||{}).mt&&(Ze=ve[21589].mt)}ne.l+=mt;var Xt=ne.slice(ne.l,ne.l+ze);switch(Be){case 8:Xt=G(ne,He);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Be)}var nr=!1;ye&8&&(Me=ne.read_shift(4),Me==134695760&&(Me=ne.read_shift(4),nr=!0),ze=ne.read_shift(4),He=ne.read_shift(4)),ze!=_e&&We(nr,"Bad compressed size: "+_e+" != "+ze),He!=ue&&We(nr,"Bad uncompressed size: "+ue+" != "+He),Xr(de,Et,Xt,{unsafe:!0,mt:Ze})}function Bt(ne,_e){var ue=_e||{},de=[],ve=[],ye=lt(1),Be=ue.compression?8:0,Ze=0,Me=0,ze=0,He=0,bt=0,mt=ne.FullPaths[0],Et=mt,je=ne.FileIndex[0],Tt=[],Xt=0;for(Me=1;Me<ne.FullPaths.length;++Me)if(Et=ne.FullPaths[Me].slice(mt.length),je=ne.FileIndex[Me],!(!je.size||!je.content||Et=="Sh33tJ5")){var nr=He,jn=lt(Et.length);for(ze=0;ze<Et.length;++ze)jn.write_shift(1,Et.charCodeAt(ze)&127);jn=jn.slice(0,jn.l),Tt[bt]=KJ.buf(je.content,0);var or=je.content;Be==8&&(or=q(or)),ye=lt(30),ye.write_shift(4,67324752),ye.write_shift(2,20),ye.write_shift(2,Ze),ye.write_shift(2,Be),je.mt?a(ye,je.mt):ye.write_shift(4,0),ye.write_shift(-4,Tt[bt]),ye.write_shift(4,or.length),ye.write_shift(4,je.content.length),ye.write_shift(2,jn.length),ye.write_shift(2,0),He+=ye.length,de.push(ye),He+=jn.length,de.push(jn),He+=or.length,de.push(or),ye=lt(46),ye.write_shift(4,33639248),ye.write_shift(2,0),ye.write_shift(2,20),ye.write_shift(2,Ze),ye.write_shift(2,Be),ye.write_shift(4,0),ye.write_shift(-4,Tt[bt]),ye.write_shift(4,or.length),ye.write_shift(4,je.content.length),ye.write_shift(2,jn.length),ye.write_shift(2,0),ye.write_shift(2,0),ye.write_shift(2,0),ye.write_shift(2,0),ye.write_shift(4,0),ye.write_shift(4,nr),Xt+=ye.l,ve.push(ye),Xt+=jn.length,ve.push(jn),++bt}return ye=lt(22),ye.write_shift(4,101010256),ye.write_shift(2,0),ye.write_shift(2,0),ye.write_shift(2,bt),ye.write_shift(2,bt),ye.write_shift(4,Xt),ye.write_shift(4,He),ye.write_shift(2,0),os([os(de),os(ve),ye])}var Nt={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function xn(ne,_e){if(ne.ctype)return ne.ctype;var ue=ne.name||"",de=ue.match(/\.([^\.]+)$/);return de&&Nt[de[1]]||_e&&(de=(ue=_e).match(/[\.\\]([^\.\\])+$/),de&&Nt[de[1]])?Nt[de[1]]:"application/octet-stream"}function Kr(ne){for(var _e=Ip(ne),ue=[],de=0;de<_e.length;de+=76)ue.push(_e.slice(de,de+76));return ue.join(`\r
`)+`\r
`}function Ur(ne){var _e=ne.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(ze){var He=ze.charCodeAt(0).toString(16).toUpperCase();return"="+(He.length==1?"0"+He:He)});_e=_e.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),_e.charAt(0)==`
`&&(_e="=0D"+_e.slice(1)),_e=_e.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var ue=[],de=_e.split(`\r
`),ve=0;ve<de.length;++ve){var ye=de[ve];if(ye.length==0){ue.push("");continue}for(var Be=0;Be<ye.length;){var Ze=76,Me=ye.slice(Be,Be+Ze);Me.charAt(Ze-1)=="="?Ze--:Me.charAt(Ze-2)=="="?Ze-=2:Me.charAt(Ze-3)=="="&&(Ze-=3),Me=ye.slice(Be,Be+Ze),Be+=Ze,Be<ye.length&&(Me+="="),ue.push(Me)}}return ue.join(`\r
`)}function Ji(ne){for(var _e=[],ue=0;ue<ne.length;++ue){for(var de=ne[ue];ue<=ne.length&&de.charAt(de.length-1)=="=";)de=de.slice(0,de.length-1)+ne[++ue];_e.push(de)}for(var ve=0;ve<_e.length;++ve)_e[ve]=_e[ve].replace(/[=][0-9A-Fa-f]{2}/g,function(ye){return String.fromCharCode(parseInt(ye.slice(1),16))});return Hl(_e.join(`\r
`))}function Vr(ne,_e,ue){for(var de="",ve="",ye="",Be,Ze=0;Ze<10;++Ze){var Me=_e[Ze];if(!Me||Me.match(/^\s*$/))break;var ze=Me.match(/^(.*?):\s*([^\s].*)$/);if(ze)switch(ze[1].toLowerCase()){case"content-location":de=ze[2].trim();break;case"content-type":ye=ze[2].trim();break;case"content-transfer-encoding":ve=ze[2].trim();break}}switch(++Ze,ve.toLowerCase()){case"base64":Be=Hl(Lu(_e.slice(Ze).join("")));break;case"quoted-printable":Be=Ji(_e.slice(Ze));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+ve)}var He=Xr(ne,de.slice(ue.length),Be,{unsafe:!0});ye&&(He.ctype=ye)}function ln(ne,_e){if(Ie(ne.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var ue=_e&&_e.root||"",de=(yr&&Buffer.isBuffer(ne)?ne.toString("binary"):Ie(ne)).split(`\r
`),ve=0,ye="";for(ve=0;ve<de.length;++ve)if(ye=de[ve],!!/^Content-Location:/i.test(ye)&&(ye=ye.slice(ye.indexOf("file")),ue||(ue=ye.slice(0,ye.lastIndexOf("/")+1)),ye.slice(0,ue.length)!=ue))for(;ue.length>0&&(ue=ue.slice(0,ue.length-1),ue=ue.slice(0,ue.lastIndexOf("/")+1),ye.slice(0,ue.length)!=ue););var Be=(de[1]||"").match(/boundary="(.*?)"/);if(!Be)throw new Error("MAD cannot find boundary");var Ze="--"+(Be[1]||""),Me=[],ze=[],He={FileIndex:Me,FullPaths:ze};C(He);var bt,mt=0;for(ve=0;ve<de.length;++ve){var Et=de[ve];Et!==Ze&&Et!==Ze+"--"||(mt++&&Vr(He,de.slice(bt,ve),ue),bt=ve)}return He}function Wa(ne,_e){var ue=_e||{},de=ue.boundary||"SheetJS";de="------="+de;for(var ve=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+de.slice(2)+'"',"","",""],ye=ne.FullPaths[0],Be=ye,Ze=ne.FileIndex[0],Me=1;Me<ne.FullPaths.length;++Me)if(Be=ne.FullPaths[Me].slice(ye.length),Ze=ne.FileIndex[Me],!(!Ze.size||!Ze.content||Be=="Sh33tJ5")){Be=Be.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Xt){return"_x"+Xt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Xt){return"_u"+Xt.charCodeAt(0).toString(16)+"_"});for(var ze=Ze.content,He=yr&&Buffer.isBuffer(ze)?ze.toString("binary"):Ie(ze),bt=0,mt=Math.min(1024,He.length),Et=0,je=0;je<=mt;++je)(Et=He.charCodeAt(je))>=32&&Et<128&&++bt;var Tt=bt>=mt*4/5;ve.push(de),ve.push("Content-Location: "+(ue.root||"file:///C:/SheetJS/")+Be),ve.push("Content-Transfer-Encoding: "+(Tt?"quoted-printable":"base64")),ve.push("Content-Type: "+xn(Ze,Be)),ve.push(""),ve.push(Tt?Ur(He):Kr(He))}return ve.push(de+`--\r
`),ve.join(`\r
`)}function _i(ne){var _e={};return C(_e,ne),_e}function Xr(ne,_e,ue,de){var ve=de&&de.unsafe;ve||C(ne);var ye=!ve&&Fr.find(ne,_e);if(!ye){var Be=ne.FullPaths[0];_e.slice(0,Be.length)==Be?Be=_e:(Be.slice(-1)!="/"&&(Be+="/"),Be=(Be+_e).replace("//","/")),ye={name:i(_e),type:2},ne.FileIndex.push(ye),ne.FullPaths.push(Be),ve||Fr.utils.cfb_gc(ne)}return ye.content=ue,ye.size=ue?ue.length:0,de&&(de.CLSID&&(ye.clsid=de.CLSID),de.mt&&(ye.mt=de.mt),de.ct&&(ye.ct=de.ct)),ye}function Ci(ne,_e){C(ne);var ue=Fr.find(ne,_e);if(ue){for(var de=0;de<ne.FileIndex.length;++de)if(ne.FileIndex[de]==ue)return ne.FileIndex.splice(de,1),ne.FullPaths.splice(de,1),!0}return!1}function tr(ne,_e,ue){C(ne);var de=Fr.find(ne,_e);if(de){for(var ve=0;ve<ne.FileIndex.length;++ve)if(ne.FileIndex[ve]==de)return ne.FileIndex[ve].name=i(ue),ne.FullPaths[ve]=ue,!0}return!1}function pr(ne){I(ne,!0)}return e.find=O,e.read=U,e.parse=m,e.write=Ae,e.writeFile=pe,e.utils={cfb_new:_i,cfb_add:Xr,cfb_del:Ci,cfb_mov:tr,cfb_gc:pr,ReadShift:hp,CheckField:f7,prep_blob:Mo,bconcat:os,use_zlib:L,_deflateRaw:Wt,_inflateRaw:En,consts:le},e})();function XJ(n){return typeof n=="string"?Cv(n):Array.isArray(n)?bJ(n):n}function ag(n,e,t){if(typeof Deno<"u"){if(t&&typeof e=="string")switch(t){case"utf8":e=new TextEncoder(t).encode(e);break;case"binary":e=Cv(e);break;default:throw new Error("Unsupported encoding "+t)}return Deno.writeFileSync(n,e)}var r=t=="utf8"?kp(e):e;if(typeof IE_SaveFile<"u")return IE_SaveFile(r,n);if(typeof Blob<"u"){var i=new Blob([XJ(r)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(i,n);if(typeof saveAs<"u")return saveAs(i,n);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var a=URL.createObjectURL(i);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(a)},6e4),chrome.downloads.download({url:a,filename:n,saveAs:!0});var o=document.createElement("a");if(o.download!=null)return o.download=n,o.href=a,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(a)},6e4),a}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var c=File(n);return c.open("w"),c.encoding="binary",Array.isArray(e)&&(e=ig(e)),c.write(e),c.close(),e}catch(u){if(!u.message||!u.message.match(/onstruct/))throw u}throw new Error("cannot save file "+n)}function us(n){for(var e=Object.keys(n),t=[],r=0;r<e.length;++r)Object.prototype.hasOwnProperty.call(n,e[r])&&t.push(e[r]);return t}function $N(n,e){for(var t=[],r=us(n),i=0;i!==r.length;++i)t[n[r[i]][e]]==null&&(t[n[r[i]][e]]=r[i]);return t}function mb(n){for(var e=[],t=us(n),r=0;r!==t.length;++r)e[n[t[r]]]=t[r];return e}function kv(n){for(var e=[],t=us(n),r=0;r!==t.length;++r)e[n[t[r]]]=parseInt(t[r],10);return e}function JJ(n){for(var e=[],t=us(n),r=0;r!==t.length;++r)e[n[t[r]]]==null&&(e[n[t[r]]]=[]),e[n[t[r]]].push(t[r]);return e}var M2=new Date(1899,11,30,0,0,0);function vo(n,e){var t=n.getTime(),r=M2.getTime()+(n.getTimezoneOffset()-M2.getTimezoneOffset())*6e4;return(t-r)/(1440*60*1e3)}var Kk=new Date,QJ=M2.getTime()+(Kk.getTimezoneOffset()-M2.getTimezoneOffset())*6e4,KN=Kk.getTimezoneOffset();function Xk(n){var e=new Date;return e.setTime(n*24*60*60*1e3+QJ),e.getTimezoneOffset()!==KN&&e.setTime(e.getTime()+(e.getTimezoneOffset()-KN)*6e4),e}var XN=new Date("2017-02-19T19:06:09.000Z"),Jk=isNaN(XN.getFullYear())?new Date("2/19/17"):XN,ZJ=Jk.getFullYear()==2017;function qs(n,e){var t=new Date(n);if(ZJ)return e>0?t.setTime(t.getTime()+t.getTimezoneOffset()*60*1e3):e<0&&t.setTime(t.getTime()-t.getTimezoneOffset()*60*1e3),t;if(n instanceof Date)return n;if(Jk.getFullYear()==1917&&!isNaN(t.getFullYear())){var r=t.getFullYear();return n.indexOf(""+r)>-1||t.setFullYear(t.getFullYear()+100),t}var i=n.match(/\d+/g)||["2017","2","19","0","0","0"],a=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return n.indexOf("Z")>-1&&(a=new Date(a.getTime()-a.getTimezoneOffset()*60*1e3)),a}function Ov(n,e){if(yr&&Buffer.isBuffer(n))return n.toString("binary");if(typeof TextDecoder<"u")try{var t={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(n)&&(n=new Uint8Array(n)),new TextDecoder("latin1").decode(n).replace(/[]/g,function(a){return t[a]||a})}catch{}for(var r=[],i=0;i!=n.length;++i)r.push(String.fromCharCode(n[i]));return r.join("")}function _o(n){if(typeof JSON<"u"&&!Array.isArray(n))return JSON.parse(JSON.stringify(n));if(typeof n!="object"||n==null)return n;if(n instanceof Date)return new Date(n.getTime());var e={};for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=_o(n[t]));return e}function Pi(n,e){for(var t="";t.length<e;)t+=n;return t}function Au(n){var e=Number(n);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(n))return e;var t=1,r=n.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return t*=100,""});return!isNaN(e=Number(r))||(r=r.replace(/[(](.*)[)]/,function(i,a){return t=-t,a}),!isNaN(e=Number(r)))?e/t:e}var eQ=["january","february","march","april","may","june","july","august","september","october","november","december"];function Rp(n){var e=new Date(n),t=new Date(NaN),r=e.getYear(),i=e.getMonth(),a=e.getDate();if(isNaN(a))return t;var o=n.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&eQ.indexOf(o)==-1)return t}else if(o.match(/[a-z]/))return t;return r<0||r>8099?t:(i>0||a>1)&&r!=101?e:n.match(/[^-0-9:,\/\\]/)?t:e}function Bn(n,e,t){if(n.FullPaths){if(typeof t=="string"){var r;return yr?r=Fu(t):r=EJ(t),Fr.utils.cfb_add(n,e,r)}Fr.utils.cfb_add(n,e,t)}else n.file(e,t)}function pb(){return Fr.utils.cfb_new()}var fa=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,tQ={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},gb=mb(tQ),vb=/[&<>'"]/g,nQ=/[\u0000-\u0008\u000b-\u001f]/g;function Ir(n){var e=n+"";return e.replace(vb,function(t){return gb[t]}).replace(nQ,function(t){return"_x"+("000"+t.charCodeAt(0).toString(16)).slice(-4)+"_"})}function JN(n){return Ir(n).replace(/ /g,"_x0020_")}var Qk=/[\u0000-\u001f]/g;function rQ(n){var e=n+"";return e.replace(vb,function(t){return gb[t]}).replace(/\n/g,"<br/>").replace(Qk,function(t){return"&#x"+("000"+t.charCodeAt(0).toString(16)).slice(-4)+";"})}function iQ(n){var e=n+"";return e.replace(vb,function(t){return gb[t]}).replace(Qk,function(t){return"&#x"+t.charCodeAt(0).toString(16).toUpperCase()+";"})}function aQ(n){return n.replace(/(\r\n|[\r\n])/g,"&#10;")}function sQ(n){switch(n){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function _x(n){for(var e="",t=0,r=0,i=0,a=0,o=0,c=0;t<n.length;){if(r=n.charCodeAt(t++),r<128){e+=String.fromCharCode(r);continue}if(i=n.charCodeAt(t++),r>191&&r<224){o=(r&31)<<6,o|=i&63,e+=String.fromCharCode(o);continue}if(a=n.charCodeAt(t++),r<240){e+=String.fromCharCode((r&15)<<12|(i&63)<<6|a&63);continue}o=n.charCodeAt(t++),c=((r&7)<<18|(i&63)<<12|(a&63)<<6|o&63)-65536,e+=String.fromCharCode(55296+(c>>>10&1023)),e+=String.fromCharCode(56320+(c&1023))}return e}function QN(n){var e=Uf(2*n.length),t,r,i=1,a=0,o=0,c;for(r=0;r<n.length;r+=i)i=1,(c=n.charCodeAt(r))<128?t=c:c<224?(t=(c&31)*64+(n.charCodeAt(r+1)&63),i=2):c<240?(t=(c&15)*4096+(n.charCodeAt(r+1)&63)*64+(n.charCodeAt(r+2)&63),i=3):(i=4,t=(c&7)*262144+(n.charCodeAt(r+1)&63)*4096+(n.charCodeAt(r+2)&63)*64+(n.charCodeAt(r+3)&63),t-=65536,o=55296+(t>>>10&1023),t=56320+(t&1023)),o!==0&&(e[a++]=o&255,e[a++]=o>>>8,o=0),e[a++]=t%256,e[a++]=t>>>8;return e.slice(0,a).toString("ucs2")}function ZN(n){return Fu(n,"binary").toString("utf8")}var k1="foo bar baz",up=yr&&(ZN(k1)==_x(k1)&&ZN||QN(k1)==_x(k1)&&QN)||_x,kp=yr?function(n){return Fu(n,"utf8").toString("binary")}:function(n){for(var e=[],t=0,r=0,i=0;t<n.length;)switch(r=n.charCodeAt(t++),!0){case r<128:e.push(String.fromCharCode(r));break;case r<2048:e.push(String.fromCharCode(192+(r>>6))),e.push(String.fromCharCode(128+(r&63)));break;case(r>=55296&&r<57344):r-=55296,i=n.charCodeAt(t++)-56320+(r<<10),e.push(String.fromCharCode(240+(i>>18&7))),e.push(String.fromCharCode(144+(i>>12&63))),e.push(String.fromCharCode(128+(i>>6&63))),e.push(String.fromCharCode(128+(i&63)));break;default:e.push(String.fromCharCode(224+(r>>12))),e.push(String.fromCharCode(128+(r>>6&63))),e.push(String.fromCharCode(128+(r&63)))}return e.join("")},oQ=(function(){var n=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(t){for(var r=t.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<n.length;++i)r=r.replace(n[i][0],n[i][1]);return r}})(),Zk=/(^\s|\s$|\n)/;function ls(n,e){return"<"+n+(e.match(Zk)?' xml:space="preserve"':"")+">"+e+"</"+n+">"}function Op(n){return us(n).map(function(e){return" "+e+'="'+n[e]+'"'}).join("")}function jt(n,e,t){return"<"+n+(t!=null?Op(t):"")+(e!=null?(e.match(Zk)?' xml:space="preserve"':"")+">"+e+"</"+n:"/")+">"}function R5(n,e){try{return n.toISOString().replace(/\.\d*/,"")}catch(t){if(e)throw t}return""}function lQ(n,e){switch(typeof n){case"string":var t=jt("vt:lpwstr",Ir(n));return t=t.replace(/&quot;/g,"_x0022_"),t;case"number":return jt((n|0)==n?"vt:i4":"vt:r8",Ir(String(n)));case"boolean":return jt("vt:bool",n?"true":"false")}if(n instanceof Date)return jt("vt:filetime",R5(n));throw new Error("Unable to serialize "+n)}var Va={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},G0=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Po={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function cQ(n,e){for(var t=1-2*(n[e+7]>>>7),r=((n[e+7]&127)<<4)+(n[e+6]>>>4&15),i=n[e+6]&15,a=5;a>=0;--a)i=i*256+n[e+a];return r==2047?i==0?t*(1/0):NaN:(r==0?r=-1022:(r-=1023,i+=Math.pow(2,52)),t*Math.pow(2,r-52)*i)}function uQ(n,e,t){var r=(e<0||1/e==-1/0?1:0)<<7,i=0,a=0,o=r?-e:e;isFinite(o)?o==0?i=a=0:(i=Math.floor(Math.log(o)/Math.LN2),a=o*Math.pow(2,52-i),i<=-1023&&(!isFinite(a)||a<Math.pow(2,52))?i=-1022:(a-=Math.pow(2,52),i+=1023)):(i=2047,a=isNaN(e)?26985:0);for(var c=0;c<=5;++c,a/=256)n[t+c]=a&255;n[t+6]=(i&15)<<4|a&15,n[t+7]=i>>4|r}var e6=function(n){for(var e=[],t=10240,r=0;r<n[0].length;++r)if(n[0][r])for(var i=0,a=n[0][r].length;i<a;i+=t)e.push.apply(e,n[0][r].slice(i,i+t));return e},t6=yr?function(n){return n[0].length>0&&Buffer.isBuffer(n[0][0])?Buffer.concat(n[0].map(function(e){return Buffer.isBuffer(e)?e:Fu(e)})):e6(n)}:e6,n6=function(n,e,t){for(var r=[],i=e;i<t;i+=2)r.push(String.fromCharCode(Km(n,i)));return r.join("").replace(cp,"")},_b=yr?function(n,e,t){return Buffer.isBuffer(n)?n.toString("utf16le",e,t).replace(cp,""):n6(n,e,t)}:n6,r6=function(n,e,t){for(var r=[],i=e;i<e+t;++i)r.push(("0"+n[i].toString(16)).slice(-2));return r.join("")},e7=yr?function(n,e,t){return Buffer.isBuffer(n)?n.toString("hex",e,e+t):r6(n,e,t)}:r6,i6=function(n,e,t){for(var r=[],i=e;i<t;i++)r.push(String.fromCharCode(r0(n,i)));return r.join("")},sg=yr?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf8",t,r):i6(e,t,r)}:i6,t7=function(n,e){var t=Fo(n,e);return t>0?sg(n,e+4,e+4+t-1):""},n7=t7,r7=function(n,e){var t=Fo(n,e);return t>0?sg(n,e+4,e+4+t-1):""},i7=r7,a7=function(n,e){var t=2*Fo(n,e);return t>0?sg(n,e+4,e+4+t-1):""},s7=a7,o7=function(e,t){var r=Fo(e,t);return r>0?_b(e,t+4,t+4+r):""},l7=o7,c7=function(n,e){var t=Fo(n,e);return t>0?sg(n,e+4,e+4+t):""},u7=c7,h7=function(n,e){return cQ(n,e)},P2=h7,yb=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};yr&&(n7=function(e,t){if(!Buffer.isBuffer(e))return t7(e,t);var r=e.readUInt32LE(t);return r>0?e.toString("utf8",t+4,t+4+r-1):""},i7=function(e,t){if(!Buffer.isBuffer(e))return r7(e,t);var r=e.readUInt32LE(t);return r>0?e.toString("utf8",t+4,t+4+r-1):""},s7=function(e,t){if(!Buffer.isBuffer(e))return a7(e,t);var r=2*e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+r-1)},l7=function(e,t){if(!Buffer.isBuffer(e))return o7(e,t);var r=e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+r)},u7=function(e,t){if(!Buffer.isBuffer(e))return c7(e,t);var r=e.readUInt32LE(t);return e.toString("utf8",t+4,t+4+r)},P2=function(e,t){return Buffer.isBuffer(e)?e.readDoubleLE(t):h7(e,t)},yb=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var r0=function(n,e){return n[e]},Km=function(n,e){return n[e+1]*256+n[e]},hQ=function(n,e){var t=n[e+1]*256+n[e];return t<32768?t:(65535-t+1)*-1},Fo=function(n,e){return n[e+3]*(1<<24)+(n[e+2]<<16)+(n[e+1]<<8)+n[e]},bf=function(n,e){return n[e+3]<<24|n[e+2]<<16|n[e+1]<<8|n[e]},fQ=function(n,e){return n[e]<<24|n[e+1]<<16|n[e+2]<<8|n[e+3]};function hp(n,e){var t="",r,i,a=[],o,c,u,h;switch(e){case"dbcs":if(h=this.l,yr&&Buffer.isBuffer(this))t=this.slice(this.l,this.l+2*n).toString("utf16le");else for(u=0;u<n;++u)t+=String.fromCharCode(Km(this,h)),h+=2;n*=2;break;case"utf8":t=sg(this,this.l,this.l+n);break;case"utf16le":n*=2,t=_b(this,this.l,this.l+n);break;case"wstr":return hp.call(this,n,"dbcs");case"lpstr-ansi":t=n7(this,this.l),n=4+Fo(this,this.l);break;case"lpstr-cp":t=i7(this,this.l),n=4+Fo(this,this.l);break;case"lpwstr":t=s7(this,this.l),n=4+2*Fo(this,this.l);break;case"lpp4":n=4+Fo(this,this.l),t=l7(this,this.l),n&2&&(n+=2);break;case"8lpp4":n=4+Fo(this,this.l),t=u7(this,this.l),n&3&&(n+=4-(n&3));break;case"cstr":for(n=0,t="";(o=r0(this,this.l+n++))!==0;)a.push(C1(o));t=a.join("");break;case"_wstr":for(n=0,t="";(o=Km(this,this.l+n))!==0;)a.push(C1(o)),n+=2;n+=2,t=a.join("");break;case"dbcs-cont":for(t="",h=this.l,u=0;u<n;++u){if(this.lens&&this.lens.indexOf(h)!==-1)return o=r0(this,h),this.l=h+1,c=hp.call(this,n-u,o?"dbcs-cont":"sbcs-cont"),a.join("")+c;a.push(C1(Km(this,h))),h+=2}t=a.join(""),n*=2;break;case"cpstr":case"sbcs-cont":for(t="",h=this.l,u=0;u!=n;++u){if(this.lens&&this.lens.indexOf(h)!==-1)return o=r0(this,h),this.l=h+1,c=hp.call(this,n-u,o?"dbcs-cont":"sbcs-cont"),a.join("")+c;a.push(C1(r0(this,h))),h+=1}t=a.join("");break;default:switch(n){case 1:return r=r0(this,this.l),this.l++,r;case 2:return r=(e==="i"?hQ:Km)(this,this.l),this.l+=2,r;case 4:case-4:return e==="i"||(this[this.l+3]&128)===0?(r=(n>0?bf:fQ)(this,this.l),this.l+=4,r):(i=Fo(this,this.l),this.l+=4,i);case 8:case-8:if(e==="f")return n==8?i=P2(this,this.l):i=P2([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;n=8;case 16:t=e7(this,this.l,n);break}}return this.l+=n,t}var dQ=function(n,e,t){n[t]=e&255,n[t+1]=e>>>8&255,n[t+2]=e>>>16&255,n[t+3]=e>>>24&255},mQ=function(n,e,t){n[t]=e&255,n[t+1]=e>>8&255,n[t+2]=e>>16&255,n[t+3]=e>>24&255},pQ=function(n,e,t){n[t]=e&255,n[t+1]=e>>>8&255};function gQ(n,e,t){var r=0,i=0;if(t==="dbcs"){for(i=0;i!=e.length;++i)pQ(this,e.charCodeAt(i),this.l+2*i);r=2*e.length}else if(t==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=e.length;++i)this[this.l+i]=e.charCodeAt(i)&255;r=e.length}else if(t==="hex"){for(;i<n;++i)this[this.l++]=parseInt(e.slice(2*i,2*i+2),16)||0;return this}else if(t==="utf16le"){var a=Math.min(this.l+n,this.length);for(i=0;i<Math.min(e.length,n);++i){var o=e.charCodeAt(i);this[this.l++]=o&255,this[this.l++]=o>>8}for(;this.l<a;)this[this.l++]=0;return this}else switch(n){case 1:r=1,this[this.l]=e&255;break;case 2:r=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:r=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:r=4,dQ(this,e,this.l);break;case 8:if(r=8,t==="f"){uQ(this,e,this.l);break}case 16:break;case-4:r=4,mQ(this,e,this.l);break}return this.l+=r,this}function f7(n,e){var t=e7(this,this.l,n.length>>1);if(t!==n)throw new Error(e+"Expected "+n+" saw "+t);this.l+=n.length>>1}function Mo(n,e){n.l=e,n.read_shift=hp,n.chk=f7,n.write_shift=gQ}function Vc(n,e){n.l+=e}function lt(n){var e=Uf(n);return Mo(e,0),e}function po(){var n=[],e=yr?256:2048,t=function(h){var m=lt(h);return Mo(m,0),m},r=t(e),i=function(){r&&(r.length>r.l&&(r=r.slice(0,r.l),r.l=r.length),r.length>0&&n.push(r),r=null)},a=function(h){return r&&h<r.length-r.l?r:(i(),r=t(Math.max(h+1,e)))},o=function(){return i(),os(n)},c=function(h){i(),r=h,r.l==null&&(r.l=r.length),a(e)};return{next:a,push:c,end:o,_bufs:n}}function St(n,e,t,r){var i=+e,a;if(!isNaN(i)){r||(r=cie[i].p||(t||[]).length||0),a=1+(i>=128?1:0)+1,r>=128&&++a,r>=16384&&++a,r>=2097152&&++a;var o=n.next(a);i<=127?o.write_shift(1,i):(o.write_shift(1,(i&127)+128),o.write_shift(1,i>>7));for(var c=0;c!=4;++c)if(r>=128)o.write_shift(1,(r&127)+128),r>>=7;else{o.write_shift(1,r);break}r>0&&yb(t)&&n.push(t)}}function fp(n,e,t){var r=_o(n);if(e.s?(r.cRel&&(r.c+=e.s.c),r.rRel&&(r.r+=e.s.r)):(r.cRel&&(r.c+=e.c),r.rRel&&(r.r+=e.r)),!t||t.biff<12){for(;r.c>=256;)r.c-=256;for(;r.r>=65536;)r.r-=65536}return r}function a6(n,e,t){var r=_o(n);return r.s=fp(r.s,e.s,t),r.e=fp(r.e,e.s,t),r}function dp(n,e){if(n.cRel&&n.c<0)for(n=_o(n);n.c<0;)n.c+=e>8?16384:256;if(n.rRel&&n.r<0)for(n=_o(n);n.r<0;)n.r+=e>8?1048576:e>5?65536:16384;var t=Rr(n);return!n.cRel&&n.cRel!=null&&(t=yQ(t)),!n.rRel&&n.rRel!=null&&(t=vQ(t)),t}function yx(n,e){return n.s.r==0&&!n.s.rRel&&n.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!n.e.rRel?(n.s.cRel?"":"$")+Ss(n.s.c)+":"+(n.e.cRel?"":"$")+Ss(n.e.c):n.s.c==0&&!n.s.cRel&&n.e.c==(e.biff>=12?16383:255)&&!n.e.cRel?(n.s.rRel?"":"$")+cs(n.s.r)+":"+(n.e.rRel?"":"$")+cs(n.e.r):dp(n.s,e.biff)+":"+dp(n.e,e.biff)}function xb(n){return parseInt(_Q(n),10)-1}function cs(n){return""+(n+1)}function vQ(n){return n.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function _Q(n){return n.replace(/\$(\d+)$/,"$1")}function wb(n){for(var e=xQ(n),t=0,r=0;r!==e.length;++r)t=26*t+e.charCodeAt(r)-64;return t-1}function Ss(n){if(n<0)throw new Error("invalid column "+n);var e="";for(++n;n;n=Math.floor((n-1)/26))e=String.fromCharCode((n-1)%26+65)+e;return e}function yQ(n){return n.replace(/^([A-Z])/,"$$$1")}function xQ(n){return n.replace(/^\$([A-Z])/,"$1")}function wQ(n){return n.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function za(n){for(var e=0,t=0,r=0;r<n.length;++r){var i=n.charCodeAt(r);i>=48&&i<=57?e=10*e+(i-48):i>=65&&i<=90&&(t=26*t+(i-64))}return{c:t-1,r:e-1}}function Rr(n){for(var e=n.c+1,t="";e;e=(e-1)/26|0)t=String.fromCharCode((e-1)%26+65)+t;return t+(n.r+1)}function Go(n){var e=n.indexOf(":");return e==-1?{s:za(n),e:za(n)}:{s:za(n.slice(0,e)),e:za(n.slice(e+1))}}function ua(n,e){return typeof e>"u"||typeof e=="number"?ua(n.s,n.e):(typeof n!="string"&&(n=Rr(n)),typeof e!="string"&&(e=Rr(e)),n==e?n:n+":"+e)}function oi(n){var e={s:{c:0,r:0},e:{c:0,r:0}},t=0,r=0,i=0,a=n.length;for(t=0;r<a&&!((i=n.charCodeAt(r)-64)<1||i>26);++r)t=26*t+i;for(e.s.c=--t,t=0;r<a&&!((i=n.charCodeAt(r)-48)<0||i>9);++r)t=10*t+i;if(e.s.r=--t,r===a||i!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++r,t=0;r!=a&&!((i=n.charCodeAt(r)-64)<1||i>26);++r)t=26*t+i;for(e.e.c=--t,t=0;r!=a&&!((i=n.charCodeAt(r)-48)<0||i>9);++r)t=10*t+i;return e.e.r=--t,e}function s6(n,e){var t=n.t=="d"&&e instanceof Date;if(n.z!=null)try{return n.w=Gh(n.z,t?vo(e):e)}catch{}try{return n.w=Gh((n.XF||{}).numFmtId||(t?14:0),t?vo(e):e)}catch{return""+e}}function ju(n,e,t){return n==null||n.t==null||n.t=="z"?"":n.w!==void 0?n.w:(n.t=="d"&&!n.z&&t&&t.dateNF&&(n.z=t.dateNF),n.t=="e"?og[n.v]||n.v:e==null?s6(n,n.v):s6(n,e))}function td(n,e){var t=e&&e.sheet?e.sheet:"Sheet1",r={};return r[t]=n,{SheetNames:[t],Sheets:r}}function d7(n,e,t){var r=t||{},i=n?Array.isArray(n):r.dense,a=n||(i?[]:{}),o=0,c=0;if(a&&r.origin!=null){if(typeof r.origin=="number")o=r.origin;else{var u=typeof r.origin=="string"?za(r.origin):r.origin;o=u.r,c=u.c}a["!ref"]||(a["!ref"]="A1:A1")}var h={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(a["!ref"]){var m=oi(a["!ref"]);h.s.c=m.s.c,h.s.r=m.s.r,h.e.c=Math.max(h.e.c,m.e.c),h.e.r=Math.max(h.e.r,m.e.r),o==-1&&(h.e.r=o=m.e.r+1)}for(var g=0;g!=e.length;++g)if(e[g]){if(!Array.isArray(e[g]))throw new Error("aoa_to_sheet expects an array of arrays");for(var _=0;_!=e[g].length;++_)if(!(typeof e[g][_]>"u")){var v={v:e[g][_]},b=o+g,w=c+_;if(h.s.r>b&&(h.s.r=b),h.s.c>w&&(h.s.c=w),h.e.r<b&&(h.e.r=b),h.e.c<w&&(h.e.c=w),e[g][_]&&typeof e[g][_]=="object"&&!Array.isArray(e[g][_])&&!(e[g][_]instanceof Date))v=e[g][_];else if(Array.isArray(v.v)&&(v.f=e[g][_][1],v.v=v.v[0]),v.v===null)if(v.f)v.t="n";else if(r.nullError)v.t="e",v.v=0;else if(r.sheetStubs)v.t="z";else continue;else typeof v.v=="number"?v.t="n":typeof v.v=="boolean"?v.t="b":v.v instanceof Date?(v.z=r.dateNF||Bi[14],r.cellDates?(v.t="d",v.w=Gh(v.z,vo(v.v))):(v.t="n",v.v=vo(v.v),v.w=Gh(v.z,v.v))):v.t="s";if(i)a[b]||(a[b]=[]),a[b][w]&&a[b][w].z&&(v.z=a[b][w].z),a[b][w]=v;else{var T=Rr({c:w,r:b});a[T]&&a[T].z&&(v.z=a[T].z),a[T]=v}}}return h.s.c<1e7&&(a["!ref"]=ua(h)),a}function W0(n,e){return d7(null,n,e)}function bQ(n){return n.read_shift(4,"i")}function Jl(n,e){return e||(e=lt(4)),e.write_shift(4,n),e}function Ts(n){var e=n.read_shift(4);return e===0?"":n.read_shift(e,"dbcs")}function qa(n,e){var t=!1;return e==null&&(t=!0,e=lt(4+2*n.length)),e.write_shift(4,n.length),n.length>0&&e.write_shift(0,n,"dbcs"),t?e.slice(0,e.l):e}function EQ(n){return{ich:n.read_shift(2),ifnt:n.read_shift(2)}}function SQ(n,e){return e||(e=lt(4)),e.write_shift(2,0),e.write_shift(2,0),e}function bb(n,e){var t=n.l,r=n.read_shift(1),i=Ts(n),a=[],o={t:i,h:i};if((r&1)!==0){for(var c=n.read_shift(4),u=0;u!=c;++u)a.push(EQ(n));o.r=a}else o.r=[{ich:0,ifnt:0}];return n.l=t+e,o}function TQ(n,e){var t=!1;return e==null&&(t=!0,e=lt(15+4*n.t.length)),e.write_shift(1,0),qa(n.t,e),t?e.slice(0,e.l):e}var AQ=bb;function NQ(n,e){var t=!1;return e==null&&(t=!0,e=lt(23+4*n.t.length)),e.write_shift(1,1),qa(n.t,e),e.write_shift(4,1),SQ({},e),t?e.slice(0,e.l):e}function yl(n){var e=n.read_shift(4),t=n.read_shift(2);return t+=n.read_shift(1)<<16,n.l++,{c:e,iStyleRef:t}}function nd(n,e){return e==null&&(e=lt(8)),e.write_shift(-4,n.c),e.write_shift(3,n.iStyleRef||n.s),e.write_shift(1,0),e}function rd(n){var e=n.read_shift(2);return e+=n.read_shift(1)<<16,n.l++,{c:-1,iStyleRef:e}}function id(n,e){return e==null&&(e=lt(4)),e.write_shift(3,n.iStyleRef||n.s),e.write_shift(1,0),e}var CQ=Ts,m7=qa;function Eb(n){var e=n.read_shift(4);return e===0||e===4294967295?"":n.read_shift(e,"dbcs")}function F2(n,e){var t=!1;return e==null&&(t=!0,e=lt(127)),e.write_shift(4,n.length>0?n.length:4294967295),n.length>0&&e.write_shift(0,n,"dbcs"),t?e.slice(0,e.l):e}var IQ=Ts,k5=Eb,Sb=F2;function p7(n){var e=n.slice(n.l,n.l+4),t=e[0]&1,r=e[0]&2;n.l+=4;var i=r===0?P2([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):bf(e,0)>>2;return t?i/100:i}function g7(n,e){e==null&&(e=lt(4));var t=0,r=0,i=n*100;if(n==(n|0)&&n>=-536870912&&n<1<<29?r=1:i==(i|0)&&i>=-536870912&&i<1<<29&&(r=1,t=1),r)e.write_shift(-4,((t?i:n)<<2)+(t+2));else throw new Error("unsupported RkNumber "+n)}function v7(n){var e={s:{},e:{}};return e.s.r=n.read_shift(4),e.e.r=n.read_shift(4),e.s.c=n.read_shift(4),e.e.c=n.read_shift(4),e}function RQ(n,e){return e||(e=lt(16)),e.write_shift(4,n.s.r),e.write_shift(4,n.e.r),e.write_shift(4,n.s.c),e.write_shift(4,n.e.c),e}var ad=v7,Y0=RQ;function $0(n){if(n.length-n.l<8)throw"XLS Xnum Buffer underflow";return n.read_shift(8,"f")}function Vf(n,e){return(e||lt(8)).write_shift(8,n,"f")}function kQ(n){var e={},t=n.read_shift(1),r=t>>>1,i=n.read_shift(1),a=n.read_shift(2,"i"),o=n.read_shift(1),c=n.read_shift(1),u=n.read_shift(1);switch(n.l++,r){case 0:e.auto=1;break;case 1:e.index=i;var h=UQ[i];h&&(e.rgb=v6(h));break;case 2:e.rgb=v6([o,c,u]);break;case 3:e.theme=i;break}return a!=0&&(e.tint=a>0?a/32767:a/32768),e}function B2(n,e){if(e||(e=lt(8)),!n||n.auto)return e.write_shift(4,0),e.write_shift(4,0),e;n.index!=null?(e.write_shift(1,2),e.write_shift(1,n.index)):n.theme!=null?(e.write_shift(1,6),e.write_shift(1,n.theme)):(e.write_shift(1,5),e.write_shift(1,0));var t=n.tint||0;if(t>0?t*=32767:t<0&&(t*=32768),e.write_shift(2,t),!n.rgb||n.theme!=null)e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);else{var r=n.rgb||"FFFFFF";typeof r=="number"&&(r=("000000"+r.toString(16)).slice(-6)),e.write_shift(1,parseInt(r.slice(0,2),16)),e.write_shift(1,parseInt(r.slice(2,4),16)),e.write_shift(1,parseInt(r.slice(4,6),16)),e.write_shift(1,255)}return e}function OQ(n){var e=n.read_shift(1);n.l++;var t={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return t}function DQ(n,e){e||(e=lt(2));var t=(n.italic?2:0)|(n.strike?8:0)|(n.outline?16:0)|(n.shadow?32:0)|(n.condense?64:0)|(n.extend?128:0);return e.write_shift(1,t),e.write_shift(1,0),e}var _7=2,Lo=3,O1=11,U2=19,D1=64,LQ=65,jQ=71,MQ=4108,PQ=4126,as=80,o6={1:{n:"CodePage",t:_7},2:{n:"Category",t:as},3:{n:"PresentationFormat",t:as},4:{n:"ByteCount",t:Lo},5:{n:"LineCount",t:Lo},6:{n:"ParagraphCount",t:Lo},7:{n:"SlideCount",t:Lo},8:{n:"NoteCount",t:Lo},9:{n:"HiddenCount",t:Lo},10:{n:"MultimediaClipCount",t:Lo},11:{n:"ScaleCrop",t:O1},12:{n:"HeadingPairs",t:MQ},13:{n:"TitlesOfParts",t:PQ},14:{n:"Manager",t:as},15:{n:"Company",t:as},16:{n:"LinksUpToDate",t:O1},17:{n:"CharacterCount",t:Lo},19:{n:"SharedDoc",t:O1},22:{n:"HyperlinksChanged",t:O1},23:{n:"AppVersion",t:Lo,p:"version"},24:{n:"DigSig",t:LQ},26:{n:"ContentType",t:as},27:{n:"ContentStatus",t:as},28:{n:"Language",t:as},29:{n:"Version",t:as},255:{},2147483648:{n:"Locale",t:U2},2147483651:{n:"Behavior",t:U2},1919054434:{}},l6={1:{n:"CodePage",t:_7},2:{n:"Title",t:as},3:{n:"Subject",t:as},4:{n:"Author",t:as},5:{n:"Keywords",t:as},6:{n:"Comments",t:as},7:{n:"Template",t:as},8:{n:"LastAuthor",t:as},9:{n:"RevNumber",t:as},10:{n:"EditTime",t:D1},11:{n:"LastPrinted",t:D1},12:{n:"CreatedDate",t:D1},13:{n:"ModifiedDate",t:D1},14:{n:"PageCount",t:Lo},15:{n:"WordCount",t:Lo},16:{n:"CharCount",t:Lo},17:{n:"Thumbnail",t:jQ},18:{n:"Application",t:as},19:{n:"DocSecurity",t:Lo},255:{},2147483648:{n:"Locale",t:U2},2147483651:{n:"Behavior",t:U2},1919054434:{}};function FQ(n){return n.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var BQ=FQ([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),UQ=_o(BQ),og={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},VQ={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},L1={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function y7(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function x7(n,e){var t=JJ(VQ),r=[],i;r[r.length]=fa,r[r.length]=jt("Types",null,{xmlns:Va.CT,"xmlns:xsd":Va.xsd,"xmlns:xsi":Va.xsi}),r=r.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(u){return jt("Default",null,{Extension:u[0],ContentType:u[1]})}));var a=function(u){n[u]&&n[u].length>0&&(i=n[u][0],r[r.length]=jt("Override",null,{PartName:(i[0]=="/"?"":"/")+i,ContentType:L1[u][e.bookType]||L1[u].xlsx}))},o=function(u){(n[u]||[]).forEach(function(h){r[r.length]=jt("Override",null,{PartName:(h[0]=="/"?"":"/")+h,ContentType:L1[u][e.bookType]||L1[u].xlsx})})},c=function(u){(n[u]||[]).forEach(function(h){r[r.length]=jt("Override",null,{PartName:(h[0]=="/"?"":"/")+h,ContentType:t[u][0]})})};return a("workbooks"),o("sheets"),o("charts"),c("themes"),["strs","styles"].forEach(a),["coreprops","extprops","custprops"].forEach(c),c("vba"),c("comments"),c("threadedcomments"),c("drawings"),o("metadata"),c("people"),r.length>2&&(r[r.length]="</Types>",r[1]=r[1].replace("/>",">")),r.join("")}var mr={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function w7(n){var e=n.lastIndexOf("/");return n.slice(0,e+1)+"_rels/"+n.slice(e+1)+".rels"}function x0(n){var e=[fa,jt("Relationships",null,{xmlns:Va.RELS})];return us(n["!id"]).forEach(function(t){e[e.length]=jt("Relationship",null,n["!id"][t])}),e.length>2&&(e[e.length]="</Relationships>",e[1]=e[1].replace("/>",">")),e.join("")}function Nr(n,e,t,r,i,a){if(i||(i={}),n["!id"]||(n["!id"]={}),n["!idx"]||(n["!idx"]=1),e<0)for(e=n["!idx"];n["!id"]["rId"+e];++e);if(n["!idx"]=e+1,i.Id="rId"+e,i.Type=r,i.Target=t,[mr.HLINK,mr.XPATH,mr.XMISS].indexOf(i.Type)>-1&&(i.TargetMode="External"),n["!id"][i.Id])throw new Error("Cannot rewrite rId "+e);return n["!id"][i.Id]=i,n[("/"+i.Target).replace("//","/")]=i,e}function zQ(n){var e=[fa];e.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),e.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var t=0;t<n.length;++t)e.push('  <manifest:file-entry manifest:full-path="'+n[t][0]+'" manifest:media-type="'+n[t][1]+`"/>
`);return e.push("</manifest:manifest>"),e.join("")}function c6(n,e,t){return['  <rdf:Description rdf:about="'+n+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(t||"odf")+"#"+e+`"/>
`,`  </rdf:Description>
`].join("")}function qQ(n,e){return['  <rdf:Description rdf:about="'+n+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+e+`"/>
`,`  </rdf:Description>
`].join("")}function HQ(n){var e=[fa];e.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var t=0;t!=n.length;++t)e.push(c6(n[t][0],n[t][1])),e.push(qQ("",n[t][0]));return e.push(c6("","Document","pkg")),e.push("</rdf:RDF>"),e.join("")}function b7(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+k2.version+"</meta:generator></office:meta></office:document-meta>"}var Rf=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function xx(n,e,t,r,i){i[n]!=null||e==null||e===""||(i[n]=e,e=Ir(e),r[r.length]=t?jt(n,e,t):ls(n,e))}function E7(n,e){var t=e||{},r=[fa,jt("cp:coreProperties",null,{"xmlns:cp":Va.CORE_PROPS,"xmlns:dc":Va.dc,"xmlns:dcterms":Va.dcterms,"xmlns:dcmitype":Va.dcmitype,"xmlns:xsi":Va.xsi})],i={};if(!n&&!t.Props)return r.join("");n&&(n.CreatedDate!=null&&xx("dcterms:created",typeof n.CreatedDate=="string"?n.CreatedDate:R5(n.CreatedDate,t.WTF),{"xsi:type":"dcterms:W3CDTF"},r,i),n.ModifiedDate!=null&&xx("dcterms:modified",typeof n.ModifiedDate=="string"?n.ModifiedDate:R5(n.ModifiedDate,t.WTF),{"xsi:type":"dcterms:W3CDTF"},r,i));for(var a=0;a!=Rf.length;++a){var o=Rf[a],c=t.Props&&t.Props[o[1]]!=null?t.Props[o[1]]:n?n[o[1]]:null;c===!0?c="1":c===!1?c="0":typeof c=="number"&&(c=String(c)),c!=null&&xx(o[0],c,null,r,i)}return r.length>2&&(r[r.length]="</cp:coreProperties>",r[1]=r[1].replace("/>",">")),r.join("")}var w0=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],S7=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function T7(n){var e=[],t=jt;return n||(n={}),n.Application="SheetJS",e[e.length]=fa,e[e.length]=jt("Properties",null,{xmlns:Va.EXT_PROPS,"xmlns:vt":Va.vt}),w0.forEach(function(r){if(n[r[1]]!==void 0){var i;switch(r[2]){case"string":i=Ir(String(n[r[1]]));break;case"bool":i=n[r[1]]?"true":"false";break}i!==void 0&&(e[e.length]=t(r[0],i))}}),e[e.length]=t("HeadingPairs",t("vt:vector",t("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+t("vt:variant",t("vt:i4",String(n.Worksheets))),{size:2,baseType:"variant"})),e[e.length]=t("TitlesOfParts",t("vt:vector",n.SheetNames.map(function(r){return"<vt:lpstr>"+Ir(r)+"</vt:lpstr>"}).join(""),{size:n.Worksheets,baseType:"lpstr"})),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}function A7(n){var e=[fa,jt("Properties",null,{xmlns:Va.CUST_PROPS,"xmlns:vt":Va.vt})];if(!n)return e.join("");var t=1;return us(n).forEach(function(i){++t,e[e.length]=jt("property",lQ(n[i]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:t,name:Ir(i)})}),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var u6={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function GQ(n,e){var t=[];return us(u6).map(function(r){for(var i=0;i<Rf.length;++i)if(Rf[i][1]==r)return Rf[i];for(i=0;i<w0.length;++i)if(w0[i][1]==r)return w0[i];throw r}).forEach(function(r){if(n[r[1]]!=null){var i=e&&e.Props&&e.Props[r[1]]!=null?e.Props[r[1]]:n[r[1]];switch(r[2]){case"date":i=new Date(i).toISOString().replace(/\.\d*Z/,"Z");break}typeof i=="number"?i=String(i):i===!0||i===!1?i=i?"1":"0":i instanceof Date&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"")),t.push(ls(u6[r[1]]||r[1],i))}}),jt("DocumentProperties",t.join(""),{xmlns:Po.o})}function WQ(n,e){var t=["Worksheets","SheetNames"],r="CustomDocumentProperties",i=[];return n&&us(n).forEach(function(a){if(Object.prototype.hasOwnProperty.call(n,a)){for(var o=0;o<Rf.length;++o)if(a==Rf[o][1])return;for(o=0;o<w0.length;++o)if(a==w0[o][1])return;for(o=0;o<t.length;++o)if(a==t[o])return;var c=n[a],u="string";typeof c=="number"?(u="float",c=String(c)):c===!0||c===!1?(u="boolean",c=c?"1":"0"):c=String(c),i.push(jt(JN(a),c,{"dt:dt":u}))}}),e&&us(e).forEach(function(a){if(Object.prototype.hasOwnProperty.call(e,a)&&!(n&&Object.prototype.hasOwnProperty.call(n,a))){var o=e[a],c="string";typeof o=="number"?(c="float",o=String(o)):o===!0||o===!1?(c="boolean",o=o?"1":"0"):o instanceof Date?(c="dateTime.tz",o=o.toISOString()):o=String(o),i.push(jt(JN(a),o,{"dt:dt":c}))}}),"<"+r+' xmlns="'+Po.o+'">'+i.join("")+"</"+r+">"}function YQ(n){var e=typeof n=="string"?new Date(Date.parse(n)):n,t=e.getTime()/1e3+11644473600,r=t%Math.pow(2,32),i=(t-r)/Math.pow(2,32);r*=1e7,i*=1e7;var a=r/Math.pow(2,32)|0;a>0&&(r=r%Math.pow(2,32),i+=a);var o=lt(8);return o.write_shift(4,r),o.write_shift(4,i),o}function h6(n,e){var t=lt(4),r=lt(4);switch(t.write_shift(4,n==80?31:n),n){case 3:r.write_shift(-4,e);break;case 5:r=lt(8),r.write_shift(8,e,"f");break;case 11:r.write_shift(4,e?1:0);break;case 64:r=YQ(e);break;case 31:case 80:for(r=lt(4+2*(e.length+1)+(e.length%2?0:2)),r.write_shift(4,e.length+1),r.write_shift(0,e,"dbcs");r.l!=r.length;)r.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+n+" "+e)}return os([t,r])}var N7=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function $Q(n){switch(typeof n){case"boolean":return 11;case"number":return(n|0)==n?3:5;case"string":return 31;case"object":if(n instanceof Date)return 64;break}return-1}function f6(n,e,t){var r=lt(8),i=[],a=[],o=8,c=0,u=lt(8),h=lt(8);if(u.write_shift(4,2),u.write_shift(4,1200),h.write_shift(4,1),a.push(u),i.push(h),o+=8+u.length,!e){h=lt(8),h.write_shift(4,0),i.unshift(h);var m=[lt(4)];for(m[0].write_shift(4,n.length),c=0;c<n.length;++c){var g=n[c][0];for(u=lt(8+2*(g.length+1)+(g.length%2?0:2)),u.write_shift(4,c+2),u.write_shift(4,g.length+1),u.write_shift(0,g,"dbcs");u.l!=u.length;)u.write_shift(1,0);m.push(u)}u=os(m),a.unshift(u),o+=8+u.length}for(c=0;c<n.length;++c)if(!(e&&!e[n[c][0]])&&!(N7.indexOf(n[c][0])>-1||S7.indexOf(n[c][0])>-1)&&n[c][1]!=null){var _=n[c][1],v=0;if(e){v=+e[n[c][0]];var b=t[v];if(b.p=="version"&&typeof _=="string"){var w=_.split(".");_=(+w[0]<<16)+(+w[1]||0)}u=h6(b.t,_)}else{var T=$Q(_);T==-1&&(T=31,_=String(_)),u=h6(T,_)}a.push(u),h=lt(8),h.write_shift(4,e?v:2+c),i.push(h),o+=8+u.length}var N=8*(a.length+1);for(c=0;c<a.length;++c)i[c].write_shift(4,N),N+=a[c].length;return r.write_shift(4,o),r.write_shift(4,a.length),os([r].concat(i).concat(a))}function d6(n,e,t,r,i,a){var o=lt(i?68:48),c=[o];o.write_shift(2,65534),o.write_shift(2,0),o.write_shift(4,842412599),o.write_shift(16,Fr.utils.consts.HEADER_CLSID,"hex"),o.write_shift(4,i?2:1),o.write_shift(16,e,"hex"),o.write_shift(4,i?68:48);var u=f6(n,t,r);if(c.push(u),i){var h=f6(i,null,null);o.write_shift(16,a,"hex"),o.write_shift(4,68+u.length),c.push(h)}return os(c)}function KQ(n,e){e||(e=lt(n));for(var t=0;t<n;++t)e.write_shift(1,0);return e}function XQ(n,e){return n.read_shift(e)===1}function Us(n,e){return e||(e=lt(2)),e.write_shift(2,+!!n),e}function C7(n){return n.read_shift(2,"u")}function dl(n,e){return e||(e=lt(2)),e.write_shift(2,n),e}function I7(n,e,t){return t||(t=lt(2)),t.write_shift(1,e=="e"?+n:+!!n),t.write_shift(1,e=="e"?1:0),t}function R7(n,e,t){var r=n.read_shift(t&&t.biff>=12?2:1),i="sbcs-cont";if(t&&t.biff>=8,!t||t.biff==8){var a=n.read_shift(1);a&&(i="dbcs-cont")}else t.biff==12&&(i="wstr");t.biff>=2&&t.biff<=5&&(i="cpstr");var o=r?n.read_shift(r,i):"";return o}function JQ(n){var e=n.t||"",t=lt(3);t.write_shift(2,e.length),t.write_shift(1,1);var r=lt(2*e.length);r.write_shift(2*e.length,e,"utf16le");var i=[t,r];return os(i)}function QQ(n,e,t){var r;if(t){if(t.biff>=2&&t.biff<=5)return n.read_shift(e,"cpstr");if(t.biff>=12)return n.read_shift(e,"dbcs-cont")}var i=n.read_shift(1);return i===0?r=n.read_shift(e,"sbcs-cont"):r=n.read_shift(e,"dbcs-cont"),r}function ZQ(n,e,t){var r=n.read_shift(t&&t.biff==2?1:2);return r===0?(n.l++,""):QQ(n,r,t)}function eZ(n,e,t){if(t.biff>5)return ZQ(n,e,t);var r=n.read_shift(1);return r===0?(n.l++,""):n.read_shift(r,t.biff<=4||!n.lens?"cpstr":"sbcs-cont")}function k7(n,e,t){return t||(t=lt(3+2*n.length)),t.write_shift(2,n.length),t.write_shift(1,1),t.write_shift(31,n,"utf16le"),t}function m6(n,e){e||(e=lt(6+n.length*2)),e.write_shift(4,1+n.length);for(var t=0;t<n.length;++t)e.write_shift(2,n.charCodeAt(t));return e.write_shift(2,0),e}function tZ(n){var e=lt(512),t=0,r=n.Target;r.slice(0,7)=="file://"&&(r=r.slice(7));var i=r.indexOf("#"),a=i>-1?31:23;switch(r.charAt(0)){case"#":a=28;break;case".":a&=-3;break}e.write_shift(4,2),e.write_shift(4,a);var o=[8,6815827,6619237,4849780,83];for(t=0;t<o.length;++t)e.write_shift(4,o[t]);if(a==28)r=r.slice(1),m6(r,e);else if(a&2){for(o="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),t=0;t<o.length;++t)e.write_shift(1,parseInt(o[t],16));var c=i>-1?r.slice(0,i):r;for(e.write_shift(4,2*(c.length+1)),t=0;t<c.length;++t)e.write_shift(2,c.charCodeAt(t));e.write_shift(2,0),a&8&&m6(i>-1?r.slice(i+1):"",e)}else{for(o="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),t=0;t<o.length;++t)e.write_shift(1,parseInt(o[t],16));for(var u=0;r.slice(u*3,u*3+3)=="../"||r.slice(u*3,u*3+3)=="..\\";)++u;for(e.write_shift(2,u),e.write_shift(4,r.length-3*u+1),t=0;t<r.length-3*u;++t)e.write_shift(1,r.charCodeAt(t+3*u)&255);for(e.write_shift(1,0),e.write_shift(2,65535),e.write_shift(2,57005),t=0;t<6;++t)e.write_shift(4,0)}return e.slice(0,e.l)}function zf(n,e,t,r){return r||(r=lt(6)),r.write_shift(2,n),r.write_shift(2,e),r.write_shift(2,t||0),r}function nZ(n,e,t){var r=t.biff>8?4:2,i=n.read_shift(r),a=n.read_shift(r,"i"),o=n.read_shift(r,"i");return[i,a,o]}function rZ(n){var e=n.read_shift(2),t=n.read_shift(2),r=n.read_shift(2),i=n.read_shift(2);return{s:{c:r,r:e},e:{c:i,r:t}}}function O7(n,e){return e||(e=lt(8)),e.write_shift(2,n.s.r),e.write_shift(2,n.e.r),e.write_shift(2,n.s.c),e.write_shift(2,n.e.c),e}function Tb(n,e,t){var r=1536,i=16;switch(t.bookType){case"biff8":break;case"biff5":r=1280,i=8;break;case"biff4":r=4,i=6;break;case"biff3":r=3,i=6;break;case"biff2":r=2,i=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var a=lt(i);return a.write_shift(2,r),a.write_shift(2,e),i>4&&a.write_shift(2,29282),i>6&&a.write_shift(2,1997),i>8&&(a.write_shift(2,49161),a.write_shift(2,1),a.write_shift(2,1798),a.write_shift(2,0)),a}function iZ(n,e){var t=!e||e.biff==8,r=lt(t?112:54);for(r.write_shift(e.biff==8?2:1,7),t&&r.write_shift(1,0),r.write_shift(4,859007059),r.write_shift(4,5458548|(t?0:536870912));r.l<r.length;)r.write_shift(1,t?0:32);return r}function aZ(n,e){var t=!e||e.biff>=8?2:1,r=lt(8+t*n.name.length);r.write_shift(4,n.pos),r.write_shift(1,n.hs||0),r.write_shift(1,n.dt),r.write_shift(1,n.name.length),e.biff>=8&&r.write_shift(1,1),r.write_shift(t*n.name.length,n.name,e.biff<8?"sbcs":"utf16le");var i=r.slice(0,r.l);return i.l=r.l,i}function sZ(n,e){var t=lt(8);t.write_shift(4,n.Count),t.write_shift(4,n.Unique);for(var r=[],i=0;i<n.length;++i)r[i]=JQ(n[i]);var a=os([t].concat(r));return a.parts=[t.length].concat(r.map(function(o){return o.length})),a}function oZ(){var n=lt(18);return n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,29280),n.write_shift(2,17600),n.write_shift(2,56),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,1),n.write_shift(2,500),n}function lZ(n){var e=lt(18),t=1718;return n&&n.RTL&&(t|=64),e.write_shift(2,t),e.write_shift(4,0),e.write_shift(4,64),e.write_shift(4,0),e.write_shift(4,0),e}function cZ(n,e){var t=n.name||"Arial",r=e&&e.biff==5,i=r?15+t.length:16+2*t.length,a=lt(i);return a.write_shift(2,n.sz*20),a.write_shift(4,0),a.write_shift(2,400),a.write_shift(4,0),a.write_shift(2,0),a.write_shift(1,t.length),r||a.write_shift(1,1),a.write_shift((r?1:2)*t.length,t,r?"sbcs":"utf16le"),a}function uZ(n,e,t,r){var i=lt(10);return zf(n,e,r,i),i.write_shift(4,t),i}function hZ(n,e,t,r,i){var a=!i||i.biff==8,o=lt(8+ +a+(1+a)*t.length);return zf(n,e,r,o),o.write_shift(2,t.length),a&&o.write_shift(1,1),o.write_shift((1+a)*t.length,t,a?"utf16le":"sbcs"),o}function fZ(n,e,t,r){var i=t&&t.biff==5;r||(r=lt(i?3+e.length:5+2*e.length)),r.write_shift(2,n),r.write_shift(i?1:2,e.length),i||r.write_shift(1,1),r.write_shift((i?1:2)*e.length,e,i?"sbcs":"utf16le");var a=r.length>r.l?r.slice(0,r.l):r;return a.l==null&&(a.l=a.length),a}function dZ(n,e){var t=e.biff==8||!e.biff?4:2,r=lt(2*t+6);return r.write_shift(t,n.s.r),r.write_shift(t,n.e.r+1),r.write_shift(2,n.s.c),r.write_shift(2,n.e.c+1),r.write_shift(2,0),r}function p6(n,e,t,r){var i=t&&t.biff==5;r||(r=lt(i?16:20)),r.write_shift(2,0),n.style?(r.write_shift(2,n.numFmtId||0),r.write_shift(2,65524)):(r.write_shift(2,n.numFmtId||0),r.write_shift(2,e<<4));var a=0;return n.numFmtId>0&&i&&(a|=1024),r.write_shift(4,a),r.write_shift(4,0),i||r.write_shift(4,0),r.write_shift(2,0),r}function mZ(n){var e=lt(8);return e.write_shift(4,0),e.write_shift(2,0),e.write_shift(2,0),e}function pZ(n,e,t,r,i,a){var o=lt(8);return zf(n,e,r,o),I7(t,a,o),o}function gZ(n,e,t,r){var i=lt(14);return zf(n,e,r,i),Vf(t,i),i}function vZ(n,e,t){if(t.biff<8)return _Z(n,e,t);for(var r=[],i=n.l+e,a=n.read_shift(t.biff>8?4:2);a--!==0;)r.push(nZ(n,t.biff>8?12:6,t));if(n.l!=i)throw new Error("Bad ExternSheet: "+n.l+" != "+i);return r}function _Z(n,e,t){n[n.l+1]==3&&n[n.l]++;var r=R7(n,e,t);return r.charCodeAt(0)==3?r.slice(1):r}function yZ(n){var e=lt(2+n.length*8);e.write_shift(2,n.length);for(var t=0;t<n.length;++t)O7(n[t],e);return e}function xZ(n){var e=lt(24),t=za(n[0]);e.write_shift(2,t.r),e.write_shift(2,t.r),e.write_shift(2,t.c),e.write_shift(2,t.c);for(var r="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),i=0;i<16;++i)e.write_shift(1,parseInt(r[i],16));return os([e,tZ(n[1])])}function wZ(n){var e=n[1].Tooltip,t=lt(10+2*(e.length+1));t.write_shift(2,2048);var r=za(n[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var i=0;i<e.length;++i)t.write_shift(2,e.charCodeAt(i));return t.write_shift(2,0),t}function bZ(n){return n||(n=lt(4)),n.write_shift(2,1),n.write_shift(2,1),n}function EZ(n,e,t){if(!t.cellStyles)return Vc(n,e);var r=t&&t.biff>=12?4:2,i=n.read_shift(r),a=n.read_shift(r),o=n.read_shift(r),c=n.read_shift(r),u=n.read_shift(2);r==2&&(n.l+=2);var h={s:i,e:a,w:o,ixfe:c,flags:u};return(t.biff>=5||!t.biff)&&(h.level=u>>8&7),h}function SZ(n,e){var t=lt(12);t.write_shift(2,e),t.write_shift(2,e),t.write_shift(2,n.width*256),t.write_shift(2,0);var r=0;return n.hidden&&(r|=1),t.write_shift(1,r),r=n.level||0,t.write_shift(1,r),t.write_shift(2,0),t}function TZ(n){for(var e=lt(2*n),t=0;t<n;++t)e.write_shift(2,t+1);return e}function AZ(n,e,t){var r=lt(15);return cg(r,n,e),r.write_shift(8,t,"f"),r}function NZ(n,e,t){var r=lt(9);return cg(r,n,e),r.write_shift(2,t),r}var CZ=(function(){var n={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=mb({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function t(c,u){var h=[],m=Uf(1);switch(u.type){case"base64":m=Hl(Lu(c));break;case"binary":m=Hl(c);break;case"buffer":case"array":m=c;break}Mo(m,0);var g=m.read_shift(1),_=!!(g&136),v=!1,b=!1;switch(g){case 2:break;case 3:break;case 48:v=!0,_=!0;break;case 49:v=!0,_=!0;break;case 131:break;case 139:break;case 140:b=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+g.toString(16))}var w=0,T=521;g==2&&(w=m.read_shift(2)),m.l+=3,g!=2&&(w=m.read_shift(4)),w>1048576&&(w=1e6),g!=2&&(T=m.read_shift(2));var N=m.read_shift(2),P=u.codepage||1252;g!=2&&(m.l+=16,m.read_shift(1),m[m.l]!==0&&(P=n[m[m.l]]),m.l+=1,m.l+=2),b&&(m.l+=36);for(var R=[],j={},K=Math.min(m.length,g==2?521:T-10-(v?264:0)),U=b?32:11;m.l<K&&m[m.l]!=13;)switch(j={},j.name=O2.utils.decode(P,m.slice(m.l,m.l+U)).replace(/[\u0000\r\n].*$/g,""),m.l+=U,j.type=String.fromCharCode(m.read_shift(1)),g!=2&&!b&&(j.offset=m.read_shift(4)),j.len=m.read_shift(1),g==2&&(j.offset=m.read_shift(2)),j.dec=m.read_shift(1),j.name.length&&R.push(j),g!=2&&(m.l+=b?13:14),j.type){case"B":(!v||j.len!=8)&&u.WTF&&console.log("Skipping "+j.name+":"+j.type);break;case"G":case"P":u.WTF&&console.log("Skipping "+j.name+":"+j.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+j.type)}if(m[m.l]!==13&&(m.l=T-1),m.read_shift(1)!==13)throw new Error("DBF Terminator not found "+m.l+" "+m[m.l]);m.l=T;var C=0,k=0;for(h[0]=[],k=0;k!=R.length;++k)h[0][k]=R[k].name;for(;w-- >0;){if(m[m.l]===42){m.l+=N;continue}for(++m.l,h[++C]=[],k=0,k=0;k!=R.length;++k){var I=m.slice(m.l,m.l+R[k].len);m.l+=R[k].len,Mo(I,0);var z=O2.utils.decode(P,I);switch(R[k].type){case"C":z.trim().length&&(h[C][k]=z.replace(/\s+$/,""));break;case"D":z.length===8?h[C][k]=new Date(+z.slice(0,4),+z.slice(4,6)-1,+z.slice(6,8)):h[C][k]=z;break;case"F":h[C][k]=parseFloat(z.trim());break;case"+":case"I":h[C][k]=b?I.read_shift(-4,"i")^2147483648:I.read_shift(4,"i");break;case"L":switch(z.trim().toUpperCase()){case"Y":case"T":h[C][k]=!0;break;case"N":case"F":h[C][k]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+z+"|")}break;case"M":if(!_)throw new Error("DBF Unexpected MEMO for type "+g.toString(16));h[C][k]="##MEMO##"+(b?parseInt(z.trim(),10):I.read_shift(4));break;case"N":z=z.replace(/\u0000/g,"").trim(),z&&z!="."&&(h[C][k]=+z||0);break;case"@":h[C][k]=new Date(I.read_shift(-8,"f")-621356832e5);break;case"T":h[C][k]=new Date((I.read_shift(4)-2440588)*864e5+I.read_shift(4));break;case"Y":h[C][k]=I.read_shift(4,"i")/1e4+I.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":h[C][k]=-I.read_shift(-8,"f");break;case"B":if(v&&R[k].len==8){h[C][k]=I.read_shift(8,"f");break}case"G":case"P":I.l+=R[k].len;break;case"0":if(R[k].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+R[k].type)}}}if(g!=2&&m.l<m.length&&m[m.l++]!=26)throw new Error("DBF EOF Marker missing "+(m.l-1)+" of "+m.length+" "+m[m.l-1].toString(16));return u&&u.sheetRows&&(h=h.slice(0,u.sheetRows)),u.DBF=R,h}function r(c,u){var h=u||{};h.dateNF||(h.dateNF="yyyymmdd");var m=W0(t(c,h),h);return m["!cols"]=h.DBF.map(function(g){return{wch:g.len,DBF:g}}),delete h.DBF,m}function i(c,u){try{return td(r(c,u),u)}catch(h){if(u&&u.WTF)throw h}return{SheetNames:[],Sheets:{}}}var a={B:8,C:250,L:1,D:8,"?":0,"":0};function o(c,u){var h=u||{};if(+h.codepage>=0&&Cp(+h.codepage),h.type=="string")throw new Error("Cannot write DBF to JS string");var m=po(),g=G2(c,{header:1,raw:!0,cellDates:!0}),_=g[0],v=g.slice(1),b=c["!cols"]||[],w=0,T=0,N=0,P=1;for(w=0;w<_.length;++w){if(((b[w]||{}).DBF||{}).name){_[w]=b[w].DBF.name,++N;continue}if(_[w]!=null){if(++N,typeof _[w]=="number"&&(_[w]=_[w].toString(10)),typeof _[w]!="string")throw new Error("DBF Invalid column name "+_[w]+" |"+typeof _[w]+"|");if(_.indexOf(_[w])!==w){for(T=0;T<1024;++T)if(_.indexOf(_[w]+"_"+T)==-1){_[w]+="_"+T;break}}}}var R=oi(c["!ref"]),j=[],K=[],U=[];for(w=0;w<=R.e.c-R.s.c;++w){var C="",k="",I=0,z=[];for(T=0;T<v.length;++T)v[T][w]!=null&&z.push(v[T][w]);if(z.length==0||_[w]==null){j[w]="?";continue}for(T=0;T<z.length;++T){switch(typeof z[T]){case"number":k="B";break;case"string":k="C";break;case"boolean":k="L";break;case"object":k=z[T]instanceof Date?"D":"C";break;default:k="C"}I=Math.max(I,String(z[T]).length),C=C&&C!=k?"C":k}I>250&&(I=250),k=((b[w]||{}).DBF||{}).type,k=="C"&&b[w].DBF.len>I&&(I=b[w].DBF.len),C=="B"&&k=="N"&&(C="N",U[w]=b[w].DBF.dec,I=b[w].DBF.len),K[w]=C=="C"||k=="N"?I:a[C]||0,P+=K[w],j[w]=C}var O=m.next(32);for(O.write_shift(4,318902576),O.write_shift(4,v.length),O.write_shift(2,296+32*N),O.write_shift(2,P),w=0;w<4;++w)O.write_shift(4,0);for(O.write_shift(4,0|(+e[Lk]||3)<<8),w=0,T=0;w<_.length;++w)if(_[w]!=null){var M=m.next(32),B=(_[w].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);M.write_shift(1,B,"sbcs"),M.write_shift(1,j[w]=="?"?"C":j[w],"sbcs"),M.write_shift(4,T),M.write_shift(1,K[w]||a[j[w]]||0),M.write_shift(1,U[w]||0),M.write_shift(1,2),M.write_shift(4,0),M.write_shift(1,0),M.write_shift(4,0),M.write_shift(4,0),T+=K[w]||a[j[w]]||0}var Y=m.next(264);for(Y.write_shift(4,13),w=0;w<65;++w)Y.write_shift(4,0);for(w=0;w<v.length;++w){var we=m.next(P);for(we.write_shift(1,0),T=0;T<_.length;++T)if(_[T]!=null)switch(j[T]){case"L":we.write_shift(1,v[w][T]==null?63:v[w][T]?84:70);break;case"B":we.write_shift(8,v[w][T]||0,"f");break;case"N":var fe="0";for(typeof v[w][T]=="number"&&(fe=v[w][T].toFixed(U[T]||0)),N=0;N<K[T]-fe.length;++N)we.write_shift(1,32);we.write_shift(1,fe,"sbcs");break;case"D":v[w][T]?(we.write_shift(4,("0000"+v[w][T].getFullYear()).slice(-4),"sbcs"),we.write_shift(2,("00"+(v[w][T].getMonth()+1)).slice(-2),"sbcs"),we.write_shift(2,("00"+v[w][T].getDate()).slice(-2),"sbcs")):we.write_shift(8,"00000000","sbcs");break;case"C":var le=String(v[w][T]!=null?v[w][T]:"").slice(0,K[T]);for(we.write_shift(1,le,"sbcs"),N=0;N<K[T]-le.length;++N)we.write_shift(1,32);break}}return m.next(1).write_shift(1,26),m.end()}return{to_workbook:i,to_sheet:r,from_sheet:o}})(),IZ=(function(){var n={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+us(n).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),t=function(_,v){var b=n[v];return typeof b=="number"?BN(b):b},r=function(_,v,b){var w=v.charCodeAt(0)-32<<4|b.charCodeAt(0)-48;return w==59?_:BN(w)};n["|"]=254;function i(_,v){switch(v.type){case"base64":return a(Lu(_),v);case"binary":return a(_,v);case"buffer":return a(yr&&Buffer.isBuffer(_)?_.toString("binary"):ig(_),v);case"array":return a(Ov(_),v)}throw new Error("Unrecognized type "+v.type)}function a(_,v){var b=_.split(/[\n\r]+/),w=-1,T=-1,N=0,P=0,R=[],j=[],K=null,U={},C=[],k=[],I=[],z=0,O;for(+v.codepage>=0&&Cp(+v.codepage);N!==b.length;++N){z=0;var M=b[N].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,r).replace(e,t),B=M.replace(/;;/g,"\0").split(";").map(function(J){return J.replace(/\u0000/g,";")}),Y=B[0],we;if(M.length>0)switch(Y){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":B[1].charAt(0)=="P"&&j.push(M.slice(3).replace(/;;/g,";"));break;case"C":var fe=!1,le=!1,pe=!1,Ie=!1,Ae=-1,re=-1;for(P=1;P<B.length;++P)switch(B[P].charAt(0)){case"A":break;case"X":T=parseInt(B[P].slice(1))-1,le=!0;break;case"Y":for(w=parseInt(B[P].slice(1))-1,le||(T=0),O=R.length;O<=w;++O)R[O]=[];break;case"K":we=B[P].slice(1),we.charAt(0)==='"'?we=we.slice(1,we.length-1):we==="TRUE"?we=!0:we==="FALSE"?we=!1:isNaN(Au(we))?isNaN(Rp(we).getDate())||(we=qs(we)):(we=Au(we),K!==null&&Wk(K)&&(we=Xk(we))),fe=!0;break;case"E":Ie=!0;var L=Nee(B[P].slice(1),{r:w,c:T});R[w][T]=[R[w][T],L];break;case"S":pe=!0,R[w][T]=[R[w][T],"S5S"];break;case"G":break;case"R":Ae=parseInt(B[P].slice(1))-1;break;case"C":re=parseInt(B[P].slice(1))-1;break;default:if(v&&v.WTF)throw new Error("SYLK bad record "+M)}if(fe&&(R[w][T]&&R[w][T].length==2?R[w][T][0]=we:R[w][T]=we,K=null),pe){if(Ie)throw new Error("SYLK shared formula cannot have own formula");var G=Ae>-1&&R[Ae][re];if(!G||!G[1])throw new Error("SYLK shared formula cannot find base");R[w][T][1]=Cee(G[1],{r:w-Ae,c:T-re})}break;case"F":var q=0;for(P=1;P<B.length;++P)switch(B[P].charAt(0)){case"X":T=parseInt(B[P].slice(1))-1,++q;break;case"Y":for(w=parseInt(B[P].slice(1))-1,O=R.length;O<=w;++O)R[O]=[];break;case"M":z=parseInt(B[P].slice(1))/20;break;case"F":break;case"G":break;case"P":K=j[parseInt(B[P].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(I=B[P].slice(1).split(" "),O=parseInt(I[0],10);O<=parseInt(I[1],10);++O)z=parseInt(I[2],10),k[O-1]=z===0?{hidden:!0}:{wch:z},Ab(k[O-1]);break;case"C":T=parseInt(B[P].slice(1))-1,k[T]||(k[T]={});break;case"R":w=parseInt(B[P].slice(1))-1,C[w]||(C[w]={}),z>0?(C[w].hpt=z,C[w].hpx=P7(z)):z===0&&(C[w].hidden=!0);break;default:if(v&&v.WTF)throw new Error("SYLK bad record "+M)}q<1&&(K=null);break;default:if(v&&v.WTF)throw new Error("SYLK bad record "+M)}}return C.length>0&&(U["!rows"]=C),k.length>0&&(U["!cols"]=k),v&&v.sheetRows&&(R=R.slice(0,v.sheetRows)),[R,U]}function o(_,v){var b=i(_,v),w=b[0],T=b[1],N=W0(w,v);return us(T).forEach(function(P){N[P]=T[P]}),N}function c(_,v){return td(o(_,v),v)}function u(_,v,b,w){var T="C;Y"+(b+1)+";X"+(w+1)+";K";switch(_.t){case"n":T+=_.v||0,_.f&&!_.F&&(T+=";E"+Cb(_.f,{r:b,c:w}));break;case"b":T+=_.v?"TRUE":"FALSE";break;case"e":T+=_.w||_.v;break;case"d":T+='"'+(_.w||_.v)+'"';break;case"s":T+='"'+_.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return T}function h(_,v){v.forEach(function(b,w){var T="F;W"+(w+1)+" "+(w+1)+" ";b.hidden?T+="0":(typeof b.width=="number"&&!b.wpx&&(b.wpx=V2(b.width)),typeof b.wpx=="number"&&!b.wch&&(b.wch=z2(b.wpx)),typeof b.wch=="number"&&(T+=Math.round(b.wch))),T.charAt(T.length-1)!=" "&&_.push(T)})}function m(_,v){v.forEach(function(b,w){var T="F;";b.hidden?T+="M0;":b.hpt?T+="M"+20*b.hpt+";":b.hpx&&(T+="M"+20*q2(b.hpx)+";"),T.length>2&&_.push(T+"R"+(w+1))})}function g(_,v){var b=["ID;PWXL;N;E"],w=[],T=oi(_["!ref"]),N,P=Array.isArray(_),R=`\r
`;b.push("P;PGeneral"),b.push("F;P0;DG0G8;M255"),_["!cols"]&&h(b,_["!cols"]),_["!rows"]&&m(b,_["!rows"]),b.push("B;Y"+(T.e.r-T.s.r+1)+";X"+(T.e.c-T.s.c+1)+";D"+[T.s.c,T.s.r,T.e.c,T.e.r].join(" "));for(var j=T.s.r;j<=T.e.r;++j)for(var K=T.s.c;K<=T.e.c;++K){var U=Rr({r:j,c:K});N=P?(_[j]||[])[K]:_[U],!(!N||N.v==null&&(!N.f||N.F))&&w.push(u(N,_,j,K))}return b.join(R)+R+w.join(R)+R+"E"+R}return{to_workbook:c,to_sheet:o,from_sheet:g}})(),RZ=(function(){function n(a,o){switch(o.type){case"base64":return e(Lu(a),o);case"binary":return e(a,o);case"buffer":return e(yr&&Buffer.isBuffer(a)?a.toString("binary"):ig(a),o);case"array":return e(Ov(a),o)}throw new Error("Unrecognized type "+o.type)}function e(a,o){for(var c=a.split(`
`),u=-1,h=-1,m=0,g=[];m!==c.length;++m){if(c[m].trim()==="BOT"){g[++u]=[],h=0;continue}if(!(u<0)){var _=c[m].trim().split(","),v=_[0],b=_[1];++m;for(var w=c[m]||"";(w.match(/["]/g)||[]).length&1&&m<c.length-1;)w+=`
`+c[++m];switch(w=w.trim(),+v){case-1:if(w==="BOT"){g[++u]=[],h=0;continue}else if(w!=="EOD")throw new Error("Unrecognized DIF special command "+w);break;case 0:w==="TRUE"?g[u][h]=!0:w==="FALSE"?g[u][h]=!1:isNaN(Au(b))?isNaN(Rp(b).getDate())?g[u][h]=b:g[u][h]=qs(b):g[u][h]=Au(b),++h;break;case 1:w=w.slice(1,w.length-1),w=w.replace(/""/g,'"'),w&&w.match(/^=".*"$/)&&(w=w.slice(2,-1)),g[u][h++]=w!==""?w:null;break}if(w==="EOD")break}}return o&&o.sheetRows&&(g=g.slice(0,o.sheetRows)),g}function t(a,o){return W0(n(a,o),o)}function r(a,o){return td(t(a,o),o)}var i=(function(){var a=function(u,h,m,g,_){u.push(h),u.push(m+","+g),u.push('"'+_.replace(/"/g,'""')+'"')},o=function(u,h,m,g){u.push(h+","+m),u.push(h==1?'"'+g.replace(/"/g,'""')+'"':g)};return function(u){var h=[],m=oi(u["!ref"]),g,_=Array.isArray(u);a(h,"TABLE",0,1,"sheetjs"),a(h,"VECTORS",0,m.e.r-m.s.r+1,""),a(h,"TUPLES",0,m.e.c-m.s.c+1,""),a(h,"DATA",0,0,"");for(var v=m.s.r;v<=m.e.r;++v){o(h,-1,0,"BOT");for(var b=m.s.c;b<=m.e.c;++b){var w=Rr({r:v,c:b});if(g=_?(u[v]||[])[b]:u[w],!g){o(h,1,0,"");continue}switch(g.t){case"n":var T=g.w;!T&&g.v!=null&&(T=g.v),T==null?g.f&&!g.F?o(h,1,0,"="+g.f):o(h,1,0,""):o(h,0,T,"V");break;case"b":o(h,0,g.v?1:0,g.v?"TRUE":"FALSE");break;case"s":o(h,1,0,isNaN(g.v)?g.v:'="'+g.v+'"');break;case"d":g.w||(g.w=Gh(g.z||Bi[14],vo(qs(g.v)))),o(h,0,g.w,"V");break;default:o(h,1,0,"")}}}o(h,-1,0,"EOD");var N=`\r
`,P=h.join(N);return P}})();return{to_workbook:r,to_sheet:t,from_sheet:i}})(),D7=(function(){function n(g){return g.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(g){return g.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function t(g,_){for(var v=g.split(`
`),b=-1,w=-1,T=0,N=[];T!==v.length;++T){var P=v[T].trim().split(":");if(P[0]==="cell"){var R=za(P[1]);if(N.length<=R.r)for(b=N.length;b<=R.r;++b)N[b]||(N[b]=[]);switch(b=R.r,w=R.c,P[2]){case"t":N[b][w]=n(P[3]);break;case"v":N[b][w]=+P[3];break;case"vtf":var j=P[P.length-1];case"vtc":switch(P[3]){case"nl":N[b][w]=!!+P[4];break;default:N[b][w]=+P[4];break}P[2]=="vtf"&&(N[b][w]=[N[b][w],j])}}}return _&&_.sheetRows&&(N=N.slice(0,_.sheetRows)),N}function r(g,_){return W0(t(g,_),_)}function i(g,_){return td(r(g,_),_)}var a=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,c=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),u="--SocialCalcSpreadsheetControlSave--";function h(g){if(!g||!g["!ref"])return"";for(var _=[],v=[],b,w="",T=Go(g["!ref"]),N=Array.isArray(g),P=T.s.r;P<=T.e.r;++P)for(var R=T.s.c;R<=T.e.c;++R)if(w=Rr({r:P,c:R}),b=N?(g[P]||[])[R]:g[w],!(!b||b.v==null||b.t==="z")){switch(v=["cell",w,"t"],b.t){case"s":case"str":v.push(e(b.v));break;case"n":b.f?(v[2]="vtf",v[3]="n",v[4]=b.v,v[5]=e(b.f)):(v[2]="v",v[3]=b.v);break;case"b":v[2]="vt"+(b.f?"f":"c"),v[3]="nl",v[4]=b.v?"1":"0",v[5]=e(b.f||(b.v?"TRUE":"FALSE"));break;case"d":var j=vo(qs(b.v));v[2]="vtc",v[3]="nd",v[4]=""+j,v[5]=b.w||Gh(b.z||Bi[14],j);break;case"e":continue}_.push(v.join(":"))}return _.push("sheet:c:"+(T.e.c-T.s.c+1)+":r:"+(T.e.r-T.s.r+1)+":tvf:1"),_.push("valueformat:1:text-wiki"),_.join(`
`)}function m(g){return[a,o,c,o,h(g),u].join(`
`)}return{to_workbook:i,to_sheet:r,from_sheet:m}})(),kZ=(function(){function n(m,g,_,v,b){b.raw?g[_][v]=m:m===""||(m==="TRUE"?g[_][v]=!0:m==="FALSE"?g[_][v]=!1:isNaN(Au(m))?isNaN(Rp(m).getDate())?g[_][v]=m:g[_][v]=qs(m):g[_][v]=Au(m))}function e(m,g){var _=g||{},v=[];if(!m||m.length===0)return v;for(var b=m.split(/[\r\n]/),w=b.length-1;w>=0&&b[w].length===0;)--w;for(var T=10,N=0,P=0;P<=w;++P)N=b[P].indexOf(" "),N==-1?N=b[P].length:N++,T=Math.max(T,N);for(P=0;P<=w;++P){v[P]=[];var R=0;for(n(b[P].slice(0,T).trim(),v,P,R,_),R=1;R<=(b[P].length-T)/10+1;++R)n(b[P].slice(T+(R-1)*10,T+R*10).trim(),v,P,R,_)}return _.sheetRows&&(v=v.slice(0,_.sheetRows)),v}var t={44:",",9:"	",59:";",124:"|"},r={44:3,9:2,59:1,124:0};function i(m){for(var g={},_=!1,v=0,b=0;v<m.length;++v)(b=m.charCodeAt(v))==34?_=!_:!_&&b in t&&(g[b]=(g[b]||0)+1);b=[];for(v in g)Object.prototype.hasOwnProperty.call(g,v)&&b.push([g[v],v]);if(!b.length){g=r;for(v in g)Object.prototype.hasOwnProperty.call(g,v)&&b.push([g[v],v])}return b.sort(function(w,T){return w[0]-T[0]||r[w[1]]-r[T[1]]}),t[b.pop()[1]]||44}function a(m,g){var _=g||{},v="",b=_.dense?[]:{},w={s:{c:0,r:0},e:{c:0,r:0}};m.slice(0,4)=="sep="?m.charCodeAt(5)==13&&m.charCodeAt(6)==10?(v=m.charAt(4),m=m.slice(7)):m.charCodeAt(5)==13||m.charCodeAt(5)==10?(v=m.charAt(4),m=m.slice(6)):v=i(m.slice(0,1024)):_&&_.FS?v=_.FS:v=i(m.slice(0,1024));var T=0,N=0,P=0,R=0,j=0,K=v.charCodeAt(0),U=!1,C=0,k=m.charCodeAt(0);m=m.replace(/\r\n/mg,`
`);var I=_.dateNF!=null?YJ(_.dateNF):null;function z(){var O=m.slice(R,j),M={};if(O.charAt(0)=='"'&&O.charAt(O.length-1)=='"'&&(O=O.slice(1,-1).replace(/""/g,'"')),O.length===0)M.t="z";else if(_.raw)M.t="s",M.v=O;else if(O.trim().length===0)M.t="s",M.v=O;else if(O.charCodeAt(0)==61)O.charCodeAt(1)==34&&O.charCodeAt(O.length-1)==34?(M.t="s",M.v=O.slice(2,-1).replace(/""/g,'"')):Iee(O)?(M.t="n",M.f=O.slice(1)):(M.t="s",M.v=O);else if(O=="TRUE")M.t="b",M.v=!0;else if(O=="FALSE")M.t="b",M.v=!1;else if(!isNaN(P=Au(O)))M.t="n",_.cellText!==!1&&(M.w=O),M.v=P;else if(!isNaN(Rp(O).getDate())||I&&O.match(I)){M.z=_.dateNF||Bi[14];var B=0;I&&O.match(I)&&(O=$J(O,_.dateNF,O.match(I)||[]),B=1),_.cellDates?(M.t="d",M.v=qs(O,B)):(M.t="n",M.v=vo(qs(O,B))),_.cellText!==!1&&(M.w=Gh(M.z,M.v instanceof Date?vo(M.v):M.v)),_.cellNF||delete M.z}else M.t="s",M.v=O;if(M.t=="z"||(_.dense?(b[T]||(b[T]=[]),b[T][N]=M):b[Rr({c:N,r:T})]=M),R=j+1,k=m.charCodeAt(R),w.e.c<N&&(w.e.c=N),w.e.r<T&&(w.e.r=T),C==K)++N;else if(N=0,++T,_.sheetRows&&_.sheetRows<=T)return!0}e:for(;j<m.length;++j)switch(C=m.charCodeAt(j)){case 34:k===34&&(U=!U);break;case K:case 10:case 13:if(!U&&z())break e;break}return j-R>0&&z(),b["!ref"]=ua(w),b}function o(m,g){return!(g&&g.PRN)||g.FS||m.slice(0,4)=="sep="||m.indexOf("	")>=0||m.indexOf(",")>=0||m.indexOf(";")>=0?a(m,g):W0(e(m,g),g)}function c(m,g){var _="",v=g.type=="string"?[0,0,0,0]:qie(m,g);switch(g.type){case"base64":_=Lu(m);break;case"binary":_=m;break;case"buffer":g.codepage==65001?_=m.toString("utf8"):g.codepage&&typeof O2<"u"||(_=yr&&Buffer.isBuffer(m)?m.toString("binary"):ig(m));break;case"array":_=Ov(m);break;case"string":_=m;break;default:throw new Error("Unrecognized type "+g.type)}return v[0]==239&&v[1]==187&&v[2]==191?_=up(_.slice(3)):g.type!="string"&&g.type!="buffer"&&g.codepage==65001?_=up(_):g.type=="binary"&&typeof O2<"u",_.slice(0,19)=="socialcalc:version:"?D7.to_sheet(g.type=="string"?_:up(_),g):o(_,g)}function u(m,g){return td(c(m,g),g)}function h(m){for(var g=[],_=oi(m["!ref"]),v,b=Array.isArray(m),w=_.s.r;w<=_.e.r;++w){for(var T=[],N=_.s.c;N<=_.e.c;++N){var P=Rr({r:w,c:N});if(v=b?(m[w]||[])[N]:m[P],!v||v.v==null){T.push("          ");continue}for(var R=(v.w||(ju(v),v.w)||"").slice(0,10);R.length<10;)R+=" ";T.push(R+(N===0?" ":""))}g.push(T.join(""))}return g.join(`
`)}return{to_workbook:u,to_sheet:c,from_sheet:h}})(),g6=(function(){function n(L,G,q){if(L){Mo(L,L.l||0);for(var J=q.Enum||Ae;L.l<L.length;){var ae=L.read_shift(2),ge=J[ae]||J[65535],Te=L.read_shift(2),Se=L.l+Te,Ce=ge.f&&ge.f(L,Te,q);if(L.l=Se,G(Ce,ge,ae))return}}}function e(L,G){switch(G.type){case"base64":return t(Hl(Lu(L)),G);case"binary":return t(Hl(L),G);case"buffer":case"array":return t(L,G)}throw"Unsupported type "+G.type}function t(L,G){if(!L)return L;var q=G||{},J=q.dense?[]:{},ae="Sheet1",ge="",Te=0,Se={},Ce=[],et=[],ot={s:{r:0,c:0},e:{r:0,c:0}},tt=q.sheetRows||0;if(L[2]==0&&(L[3]==8||L[3]==9)&&L.length>=16&&L[14]==5&&L[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(L[2]==2)q.Enum=Ae,n(L,function(nt,It,Qe){switch(Qe){case 0:q.vers=nt,nt>=4096&&(q.qpro=!0);break;case 6:ot=nt;break;case 204:nt&&(ge=nt);break;case 222:ge=nt;break;case 15:case 51:q.qpro||(nt[1].v=nt[1].v.slice(1));case 13:case 14:case 16:Qe==14&&(nt[2]&112)==112&&(nt[2]&15)>1&&(nt[2]&15)<15&&(nt[1].z=q.dateNF||Bi[14],q.cellDates&&(nt[1].t="d",nt[1].v=Xk(nt[1].v))),q.qpro&&nt[3]>Te&&(J["!ref"]=ua(ot),Se[ae]=J,Ce.push(ae),J=q.dense?[]:{},ot={s:{r:0,c:0},e:{r:0,c:0}},Te=nt[3],ae=ge||"Sheet"+(Te+1),ge="");var At=q.dense?(J[nt[0].r]||[])[nt[0].c]:J[Rr(nt[0])];if(At){At.t=nt[1].t,At.v=nt[1].v,nt[1].z!=null&&(At.z=nt[1].z),nt[1].f!=null&&(At.f=nt[1].f);break}q.dense?(J[nt[0].r]||(J[nt[0].r]=[]),J[nt[0].r][nt[0].c]=nt[1]):J[Rr(nt[0])]=nt[1];break}},q);else if(L[2]==26||L[2]==14)q.Enum=re,L[2]==14&&(q.qpro=!0,L.l=0),n(L,function(nt,It,Qe){switch(Qe){case 204:ae=nt;break;case 22:nt[1].v=nt[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(nt[3]>Te&&(J["!ref"]=ua(ot),Se[ae]=J,Ce.push(ae),J=q.dense?[]:{},ot={s:{r:0,c:0},e:{r:0,c:0}},Te=nt[3],ae="Sheet"+(Te+1)),tt>0&&nt[0].r>=tt)break;q.dense?(J[nt[0].r]||(J[nt[0].r]=[]),J[nt[0].r][nt[0].c]=nt[1]):J[Rr(nt[0])]=nt[1],ot.e.c<nt[0].c&&(ot.e.c=nt[0].c),ot.e.r<nt[0].r&&(ot.e.r=nt[0].r);break;case 27:nt[14e3]&&(et[nt[14e3][0]]=nt[14e3][1]);break;case 1537:et[nt[0]]=nt[1],nt[0]==Te&&(ae=nt[1]);break}},q);else throw new Error("Unrecognized LOTUS BOF "+L[2]);if(J["!ref"]=ua(ot),Se[ge||ae]=J,Ce.push(ge||ae),!et.length)return{SheetNames:Ce,Sheets:Se};for(var it={},Z=[],Fe=0;Fe<et.length;++Fe)Se[Ce[Fe]]?(Z.push(et[Fe]||Ce[Fe]),it[et[Fe]]=Se[et[Fe]]||Se[Ce[Fe]]):(Z.push(et[Fe]),it[et[Fe]]={"!ref":"A1"});return{SheetNames:Z,Sheets:it}}function r(L,G){var q=G||{};if(+q.codepage>=0&&Cp(+q.codepage),q.type=="string")throw new Error("Cannot write WK1 to JS string");var J=po(),ae=oi(L["!ref"]),ge=Array.isArray(L),Te=[];Pt(J,0,a(1030)),Pt(J,6,u(ae));for(var Se=Math.min(ae.e.r,8191),Ce=ae.s.r;Ce<=Se;++Ce)for(var et=cs(Ce),ot=ae.s.c;ot<=ae.e.c;++ot){Ce===ae.s.r&&(Te[ot]=Ss(ot));var tt=Te[ot]+et,it=ge?(L[Ce]||[])[ot]:L[tt];if(!(!it||it.t=="z"))if(it.t=="n")(it.v|0)==it.v&&it.v>=-32768&&it.v<=32767?Pt(J,13,v(Ce,ot,it.v)):Pt(J,14,w(Ce,ot,it.v));else{var Z=ju(it);Pt(J,15,g(Ce,ot,Z.slice(0,239)))}}return Pt(J,1),J.end()}function i(L,G){var q=G||{};if(+q.codepage>=0&&Cp(+q.codepage),q.type=="string")throw new Error("Cannot write WK3 to JS string");var J=po();Pt(J,0,o(L));for(var ae=0,ge=0;ae<L.SheetNames.length;++ae)(L.Sheets[L.SheetNames[ae]]||{})["!ref"]&&Pt(J,27,Ie(L.SheetNames[ae],ge++));var Te=0;for(ae=0;ae<L.SheetNames.length;++ae){var Se=L.Sheets[L.SheetNames[ae]];if(!(!Se||!Se["!ref"])){for(var Ce=oi(Se["!ref"]),et=Array.isArray(Se),ot=[],tt=Math.min(Ce.e.r,8191),it=Ce.s.r;it<=tt;++it)for(var Z=cs(it),Fe=Ce.s.c;Fe<=Ce.e.c;++Fe){it===Ce.s.r&&(ot[Fe]=Ss(Fe));var nt=ot[Fe]+Z,It=et?(Se[it]||[])[Fe]:Se[nt];if(!(!It||It.t=="z"))if(It.t=="n")Pt(J,23,z(it,Fe,Te,It.v));else{var Qe=ju(It);Pt(J,22,C(it,Fe,Te,Qe.slice(0,239)))}}++Te}}return Pt(J,1),J.end()}function a(L){var G=lt(2);return G.write_shift(2,L),G}function o(L){var G=lt(26);G.write_shift(2,4096),G.write_shift(2,4),G.write_shift(4,0);for(var q=0,J=0,ae=0,ge=0;ge<L.SheetNames.length;++ge){var Te=L.SheetNames[ge],Se=L.Sheets[Te];if(!(!Se||!Se["!ref"])){++ae;var Ce=Go(Se["!ref"]);q<Ce.e.r&&(q=Ce.e.r),J<Ce.e.c&&(J=Ce.e.c)}}return q>8191&&(q=8191),G.write_shift(2,q),G.write_shift(1,ae),G.write_shift(1,J),G.write_shift(2,0),G.write_shift(2,0),G.write_shift(1,1),G.write_shift(1,2),G.write_shift(4,0),G.write_shift(4,0),G}function c(L,G,q){var J={s:{c:0,r:0},e:{c:0,r:0}};return G==8&&q.qpro?(J.s.c=L.read_shift(1),L.l++,J.s.r=L.read_shift(2),J.e.c=L.read_shift(1),L.l++,J.e.r=L.read_shift(2),J):(J.s.c=L.read_shift(2),J.s.r=L.read_shift(2),G==12&&q.qpro&&(L.l+=2),J.e.c=L.read_shift(2),J.e.r=L.read_shift(2),G==12&&q.qpro&&(L.l+=2),J.s.c==65535&&(J.s.c=J.e.c=J.s.r=J.e.r=0),J)}function u(L){var G=lt(8);return G.write_shift(2,L.s.c),G.write_shift(2,L.s.r),G.write_shift(2,L.e.c),G.write_shift(2,L.e.r),G}function h(L,G,q){var J=[{c:0,r:0},{t:"n",v:0},0,0];return q.qpro&&q.vers!=20768?(J[0].c=L.read_shift(1),J[3]=L.read_shift(1),J[0].r=L.read_shift(2),L.l+=2):(J[2]=L.read_shift(1),J[0].c=L.read_shift(2),J[0].r=L.read_shift(2)),J}function m(L,G,q){var J=L.l+G,ae=h(L,G,q);if(ae[1].t="s",q.vers==20768){L.l++;var ge=L.read_shift(1);return ae[1].v=L.read_shift(ge,"utf8"),ae}return q.qpro&&L.l++,ae[1].v=L.read_shift(J-L.l,"cstr"),ae}function g(L,G,q){var J=lt(7+q.length);J.write_shift(1,255),J.write_shift(2,G),J.write_shift(2,L),J.write_shift(1,39);for(var ae=0;ae<J.length;++ae){var ge=q.charCodeAt(ae);J.write_shift(1,ge>=128?95:ge)}return J.write_shift(1,0),J}function _(L,G,q){var J=h(L,G,q);return J[1].v=L.read_shift(2,"i"),J}function v(L,G,q){var J=lt(7);return J.write_shift(1,255),J.write_shift(2,G),J.write_shift(2,L),J.write_shift(2,q,"i"),J}function b(L,G,q){var J=h(L,G,q);return J[1].v=L.read_shift(8,"f"),J}function w(L,G,q){var J=lt(13);return J.write_shift(1,255),J.write_shift(2,G),J.write_shift(2,L),J.write_shift(8,q,"f"),J}function T(L,G,q){var J=L.l+G,ae=h(L,G,q);if(ae[1].v=L.read_shift(8,"f"),q.qpro)L.l=J;else{var ge=L.read_shift(2);j(L.slice(L.l,L.l+ge),ae),L.l+=ge}return ae}function N(L,G,q){var J=G&32768;return G&=-32769,G=(J?L:0)+(G>=8192?G-16384:G),(J?"":"$")+(q?Ss(G):cs(G))}var P={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},R=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function j(L,G){Mo(L,0);for(var q=[],J=0,ae="",ge="",Te="",Se="";L.l<L.length;){var Ce=L[L.l++];switch(Ce){case 0:q.push(L.read_shift(8,"f"));break;case 1:ge=N(G[0].c,L.read_shift(2),!0),ae=N(G[0].r,L.read_shift(2),!1),q.push(ge+ae);break;case 2:{var et=N(G[0].c,L.read_shift(2),!0),ot=N(G[0].r,L.read_shift(2),!1);ge=N(G[0].c,L.read_shift(2),!0),ae=N(G[0].r,L.read_shift(2),!1),q.push(et+ot+":"+ge+ae)}break;case 3:if(L.l<L.length){console.error("WK1 premature formula end");return}break;case 4:q.push("("+q.pop()+")");break;case 5:q.push(L.read_shift(2));break;case 6:{for(var tt="";Ce=L[L.l++];)tt+=String.fromCharCode(Ce);q.push('"'+tt.replace(/"/g,'""')+'"')}break;case 8:q.push("-"+q.pop());break;case 23:q.push("+"+q.pop());break;case 22:q.push("NOT("+q.pop()+")");break;case 20:case 21:Se=q.pop(),Te=q.pop(),q.push(["AND","OR"][Ce-20]+"("+Te+","+Se+")");break;default:if(Ce<32&&R[Ce])Se=q.pop(),Te=q.pop(),q.push(Te+R[Ce]+Se);else if(P[Ce]){if(J=P[Ce][1],J==69&&(J=L[L.l++]),J>q.length){console.error("WK1 bad formula parse 0x"+Ce.toString(16)+":|"+q.join("|")+"|");return}var it=q.slice(-J);q.length-=J,q.push(P[Ce][0]+"("+it.join(",")+")")}else return Ce<=7?console.error("WK1 invalid opcode "+Ce.toString(16)):Ce<=24?console.error("WK1 unsupported op "+Ce.toString(16)):Ce<=30?console.error("WK1 invalid opcode "+Ce.toString(16)):Ce<=115?console.error("WK1 unsupported function opcode "+Ce.toString(16)):console.error("WK1 unrecognized opcode "+Ce.toString(16))}}q.length==1?G[1].f=""+q[0]:console.error("WK1 bad formula parse |"+q.join("|")+"|")}function K(L){var G=[{c:0,r:0},{t:"n",v:0},0];return G[0].r=L.read_shift(2),G[3]=L[L.l++],G[0].c=L[L.l++],G}function U(L,G){var q=K(L);return q[1].t="s",q[1].v=L.read_shift(G-4,"cstr"),q}function C(L,G,q,J){var ae=lt(6+J.length);ae.write_shift(2,L),ae.write_shift(1,q),ae.write_shift(1,G),ae.write_shift(1,39);for(var ge=0;ge<J.length;++ge){var Te=J.charCodeAt(ge);ae.write_shift(1,Te>=128?95:Te)}return ae.write_shift(1,0),ae}function k(L,G){var q=K(L);q[1].v=L.read_shift(2);var J=q[1].v>>1;if(q[1].v&1)switch(J&7){case 0:J=(J>>3)*5e3;break;case 1:J=(J>>3)*500;break;case 2:J=(J>>3)/20;break;case 3:J=(J>>3)/200;break;case 4:J=(J>>3)/2e3;break;case 5:J=(J>>3)/2e4;break;case 6:J=(J>>3)/16;break;case 7:J=(J>>3)/64;break}return q[1].v=J,q}function I(L,G){var q=K(L),J=L.read_shift(4),ae=L.read_shift(4),ge=L.read_shift(2);if(ge==65535)return J===0&&ae===3221225472?(q[1].t="e",q[1].v=15):J===0&&ae===3489660928?(q[1].t="e",q[1].v=42):q[1].v=0,q;var Te=ge&32768;return ge=(ge&32767)-16446,q[1].v=(1-Te*2)*(ae*Math.pow(2,ge+32)+J*Math.pow(2,ge)),q}function z(L,G,q,J){var ae=lt(14);if(ae.write_shift(2,L),ae.write_shift(1,q),ae.write_shift(1,G),J==0)return ae.write_shift(4,0),ae.write_shift(4,0),ae.write_shift(2,65535),ae;var ge=0,Te=0,Se=0,Ce=0;return J<0&&(ge=1,J=-J),Te=Math.log2(J)|0,J/=Math.pow(2,Te-31),Ce=J>>>0,(Ce&2147483648)==0&&(J/=2,++Te,Ce=J>>>0),J-=Ce,Ce|=2147483648,Ce>>>=0,J*=Math.pow(2,32),Se=J>>>0,ae.write_shift(4,Se),ae.write_shift(4,Ce),Te+=16383+(ge?32768:0),ae.write_shift(2,Te),ae}function O(L,G){var q=I(L);return L.l+=G-14,q}function M(L,G){var q=K(L),J=L.read_shift(4);return q[1].v=J>>6,q}function B(L,G){var q=K(L),J=L.read_shift(8,"f");return q[1].v=J,q}function Y(L,G){var q=B(L);return L.l+=G-10,q}function we(L,G){return L[L.l+G-1]==0?L.read_shift(G,"cstr"):""}function fe(L,G){var q=L[L.l++];q>G-1&&(q=G-1);for(var J="";J.length<q;)J+=String.fromCharCode(L[L.l++]);return J}function le(L,G,q){if(!(!q.qpro||G<21)){var J=L.read_shift(1);L.l+=17,L.l+=1,L.l+=2;var ae=L.read_shift(G-21,"cstr");return[J,ae]}}function pe(L,G){for(var q={},J=L.l+G;L.l<J;){var ae=L.read_shift(2);if(ae==14e3){for(q[ae]=[0,""],q[ae][0]=L.read_shift(2);L[L.l];)q[ae][1]+=String.fromCharCode(L[L.l]),L.l++;L.l++}}return q}function Ie(L,G){var q=lt(5+L.length);q.write_shift(2,14e3),q.write_shift(2,G);for(var J=0;J<L.length;++J){var ae=L.charCodeAt(J);q[q.l++]=ae>127?95:ae}return q[q.l++]=0,q}var Ae={0:{n:"BOF",f:C7},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:c},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:_},14:{n:"NUMBER",f:b},15:{n:"LABEL",f:m},16:{n:"FORMULA",f:T},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:m},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:we},222:{n:"SHEETNAMELP",f:fe},65535:{n:""}},re={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:U},23:{n:"NUMBER17",f:I},24:{n:"NUMBER18",f:k},25:{n:"FORMULA19",f:O},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:pe},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:M},38:{n:"??"},39:{n:"NUMBER27",f:B},40:{n:"FORMULA28",f:Y},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:we},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:le},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:r,book_to_wk3:i,to_workbook:e}})(),OZ=/^\s|\s$|[\t\n\r]/;function L7(n,e){if(!e.bookSST)return"";var t=[fa];t[t.length]=jt("sst",null,{xmlns:G0[0],count:n.Count,uniqueCount:n.Unique});for(var r=0;r!=n.length;++r)if(n[r]!=null){var i=n[r],a="<si>";i.r?a+=i.r:(a+="<t",i.t||(i.t=""),i.t.match(OZ)&&(a+=' xml:space="preserve"'),a+=">"+Ir(i.t)+"</t>"),a+="</si>",t[t.length]=a}return t.length>2&&(t[t.length]="</sst>",t[1]=t[1].replace("/>",">")),t.join("")}function DZ(n){return[n.read_shift(4),n.read_shift(4)]}function LZ(n,e){return e||(e=lt(8)),e.write_shift(4,n.Count),e.write_shift(4,n.Unique),e}var jZ=TQ;function MZ(n){var e=po();St(e,159,LZ(n));for(var t=0;t<n.length;++t)St(e,19,jZ(n[t]));return St(e,160),e.end()}function PZ(n){for(var e=[],t=n.split(""),r=0;r<t.length;++r)e[r]=t[r].charCodeAt(0);return e}function j7(n){var e=0,t,r=PZ(n),i=r.length+1,a,o,c,u,h;for(t=Uf(i),t[0]=r.length,a=1;a!=i;++a)t[a]=r[a-1];for(a=i-1;a>=0;--a)o=t[a],c=(e&16384)===0?0:1,u=e<<1&32767,h=c|u,e=h^o;return e^52811}var FZ=(function(){function n(i,a){switch(a.type){case"base64":return e(Lu(i),a);case"binary":return e(i,a);case"buffer":return e(yr&&Buffer.isBuffer(i)?i.toString("binary"):ig(i),a);case"array":return e(Ov(i),a)}throw new Error("Unrecognized type "+a.type)}function e(i,a){var o=a||{},c=o.dense?[]:{},u=i.match(/\\trowd.*?\\row\b/g);if(!u.length)throw new Error("RTF missing table");var h={s:{c:0,r:0},e:{c:0,r:u.length-1}};return u.forEach(function(m,g){Array.isArray(c)&&(c[g]=[]);for(var _=/\\\w+\b/g,v=0,b,w=-1;b=_.exec(m);){switch(b[0]){case"\\cell":var T=m.slice(v,_.lastIndex-b[0].length);if(T[0]==" "&&(T=T.slice(1)),++w,T.length){var N={v:T,t:"s"};Array.isArray(c)?c[g][w]=N:c[Rr({r:g,c:w})]=N}break}v=_.lastIndex}w>h.e.c&&(h.e.c=w)}),c["!ref"]=ua(h),c}function t(i,a){return td(n(i,a),a)}function r(i){for(var a=["{\\rtf1\\ansi"],o=oi(i["!ref"]),c,u=Array.isArray(i),h=o.s.r;h<=o.e.r;++h){a.push("\\trowd\\trautofit1");for(var m=o.s.c;m<=o.e.c;++m)a.push("\\cellx"+(m+1));for(a.push("\\pard\\intbl"),m=o.s.c;m<=o.e.c;++m){var g=Rr({r:h,c:m});c=u?(i[h]||[])[m]:i[g],!(!c||c.v==null&&(!c.f||c.F))&&(a.push(" "+(c.w||(ju(c),c.w))),a.push("\\cell"))}a.push("\\pard\\intbl\\row")}return a.join("")+"}"}return{to_workbook:t,to_sheet:n,from_sheet:r}})();function v6(n){for(var e=0,t=1;e!=3;++e)t=t*256+(n[e]>255?255:n[e]<0?0:n[e]);return t.toString(16).toUpperCase().slice(1)}var BZ=6,Nu=BZ;function V2(n){return Math.floor((n+Math.round(128/Nu)/256)*Nu)}function z2(n){return Math.floor((n-5)/Nu*100+.5)/100}function O5(n){return Math.round((n*Nu+5)/Nu*256)/256}function Ab(n){n.width?(n.wpx=V2(n.width),n.wch=z2(n.wpx),n.MDW=Nu):n.wpx?(n.wch=z2(n.wpx),n.width=O5(n.wch),n.MDW=Nu):typeof n.wch=="number"&&(n.width=O5(n.wch),n.wpx=V2(n.width),n.MDW=Nu),n.customWidth&&delete n.customWidth}var UZ=96,M7=UZ;function q2(n){return n*96/M7}function P7(n){return n*M7/96}function VZ(n){var e=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(t){for(var r=t[0];r<=t[1];++r)n[r]!=null&&(e[e.length]=jt("numFmt",null,{numFmtId:r,formatCode:Ir(n[r])}))}),e.length===1?"":(e[e.length]="</numFmts>",e[0]=jt("numFmts",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function zZ(n){var e=[];return e[e.length]=jt("cellXfs",null),n.forEach(function(t){e[e.length]=jt("xf",null,t)}),e[e.length]="</cellXfs>",e.length===2?"":(e[0]=jt("cellXfs",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function F7(n,e){var t=[fa,jt("styleSheet",null,{xmlns:G0[0],"xmlns:vt":Va.vt})],r;return n.SSF&&(r=VZ(n.SSF))!=null&&(t[t.length]=r),t[t.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',t[t.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',t[t.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',t[t.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(r=zZ(e.cellXfs))&&(t[t.length]=r),t[t.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',t[t.length]='<dxfs count="0"/>',t[t.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',t.length>2&&(t[t.length]="</styleSheet>",t[1]=t[1].replace("/>",">")),t.join("")}function qZ(n,e){var t=n.read_shift(2),r=Ts(n);return[t,r]}function HZ(n,e,t){t||(t=lt(6+4*e.length)),t.write_shift(2,n),qa(e,t);var r=t.length>t.l?t.slice(0,t.l):t;return t.l==null&&(t.l=t.length),r}function GZ(n,e,t){var r={};r.sz=n.read_shift(2)/20;var i=OQ(n);i.fItalic&&(r.italic=1),i.fCondense&&(r.condense=1),i.fExtend&&(r.extend=1),i.fShadow&&(r.shadow=1),i.fOutline&&(r.outline=1),i.fStrikeout&&(r.strike=1);var a=n.read_shift(2);switch(a===700&&(r.bold=1),n.read_shift(2)){case 1:r.vertAlign="superscript";break;case 2:r.vertAlign="subscript";break}var o=n.read_shift(1);o!=0&&(r.underline=o);var c=n.read_shift(1);c>0&&(r.family=c);var u=n.read_shift(1);switch(u>0&&(r.charset=u),n.l++,r.color=kQ(n),n.read_shift(1)){case 1:r.scheme="major";break;case 2:r.scheme="minor";break}return r.name=Ts(n),r}function WZ(n,e){e||(e=lt(153)),e.write_shift(2,n.sz*20),DQ(n,e),e.write_shift(2,n.bold?700:400);var t=0;n.vertAlign=="superscript"?t=1:n.vertAlign=="subscript"&&(t=2),e.write_shift(2,t),e.write_shift(1,n.underline||0),e.write_shift(1,n.family||0),e.write_shift(1,n.charset||0),e.write_shift(1,0),B2(n.color,e);var r=0;return r=2,e.write_shift(1,r),qa(n.name,e),e.length>e.l?e.slice(0,e.l):e}var YZ=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],wx,$Z=Vc;function _6(n,e){e||(e=lt(84)),wx||(wx=mb(YZ));var t=wx[n.patternType];t==null&&(t=40),e.write_shift(4,t);var r=0;if(t!=40)for(B2({auto:1},e),B2({auto:1},e);r<12;++r)e.write_shift(4,0);else{for(;r<4;++r)e.write_shift(4,0);for(;r<12;++r)e.write_shift(4,0)}return e.length>e.l?e.slice(0,e.l):e}function KZ(n,e){var t=n.l+e,r=n.read_shift(2),i=n.read_shift(2);return n.l=t,{ixfe:r,numFmtId:i}}function B7(n,e,t){t||(t=lt(16)),t.write_shift(2,e||0),t.write_shift(2,n.numFmtId||0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);var r=0;return t.write_shift(1,r),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(1,0),t}function qm(n,e){return e||(e=lt(10)),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(4,0),e}var XZ=Vc;function JZ(n,e){return e||(e=lt(51)),e.write_shift(1,0),qm(null,e),qm(null,e),qm(null,e),qm(null,e),qm(null,e),e.length>e.l?e.slice(0,e.l):e}function QZ(n,e){return e||(e=lt(52)),e.write_shift(4,n.xfId),e.write_shift(2,1),e.write_shift(1,0),e.write_shift(1,0),F2(n.name||"",e),e.length>e.l?e.slice(0,e.l):e}function ZZ(n,e,t){var r=lt(2052);return r.write_shift(4,n),F2(e,r),F2(t,r),r.length>r.l?r.slice(0,r.l):r}function eee(n,e){if(e){var t=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)e[i]!=null&&++t}),t!=0&&(St(n,615,Jl(t)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)e[i]!=null&&St(n,44,HZ(i,e[i]))}),St(n,616))}}function tee(n){var e=1;St(n,611,Jl(e)),St(n,43,WZ({sz:12,color:{theme:1},name:"Calibri",family:2})),St(n,612)}function nee(n){var e=2;St(n,603,Jl(e)),St(n,45,_6({patternType:"none"})),St(n,45,_6({patternType:"gray125"})),St(n,604)}function ree(n){var e=1;St(n,613,Jl(e)),St(n,46,JZ()),St(n,614)}function iee(n){var e=1;St(n,626,Jl(e)),St(n,47,B7({numFmtId:0},65535)),St(n,627)}function aee(n,e){St(n,617,Jl(e.length)),e.forEach(function(t){St(n,47,B7(t,0))}),St(n,618)}function see(n){var e=1;St(n,619,Jl(e)),St(n,48,QZ({xfId:0,name:"Normal"})),St(n,620)}function oee(n){var e=0;St(n,505,Jl(e)),St(n,506)}function lee(n){var e=0;St(n,508,ZZ(e,"TableStyleMedium9","PivotStyleMedium4")),St(n,509)}function cee(n,e){var t=po();return St(t,278),eee(t,n.SSF),tee(t),nee(t),ree(t),iee(t),aee(t,e.cellXfs),see(t),oee(t),lee(t),St(t,279),t.end()}function U7(n,e){if(e&&e.themeXLSX)return e.themeXLSX;if(n&&typeof n.raw=="string")return n.raw;var t=[fa];return t[t.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',t[t.length]="<a:themeElements>",t[t.length]='<a:clrScheme name="Office">',t[t.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',t[t.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',t[t.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',t[t.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',t[t.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',t[t.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',t[t.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',t[t.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',t[t.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',t[t.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',t[t.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',t[t.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',t[t.length]="</a:clrScheme>",t[t.length]='<a:fontScheme name="Office">',t[t.length]="<a:majorFont>",t[t.length]='<a:latin typeface="Cambria"/>',t[t.length]='<a:ea typeface=""/>',t[t.length]='<a:cs typeface=""/>',t[t.length]='<a:font script="Jpan" typeface=" "/>',t[t.length]='<a:font script="Hang" typeface=" "/>',t[t.length]='<a:font script="Hans" typeface=""/>',t[t.length]='<a:font script="Hant" typeface=""/>',t[t.length]='<a:font script="Arab" typeface="Times New Roman"/>',t[t.length]='<a:font script="Hebr" typeface="Times New Roman"/>',t[t.length]='<a:font script="Thai" typeface="Tahoma"/>',t[t.length]='<a:font script="Ethi" typeface="Nyala"/>',t[t.length]='<a:font script="Beng" typeface="Vrinda"/>',t[t.length]='<a:font script="Gujr" typeface="Shruti"/>',t[t.length]='<a:font script="Khmr" typeface="MoolBoran"/>',t[t.length]='<a:font script="Knda" typeface="Tunga"/>',t[t.length]='<a:font script="Guru" typeface="Raavi"/>',t[t.length]='<a:font script="Cans" typeface="Euphemia"/>',t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>',t[t.length]='<a:font script="Deva" typeface="Mangal"/>',t[t.length]='<a:font script="Telu" typeface="Gautami"/>',t[t.length]='<a:font script="Taml" typeface="Latha"/>',t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',t[t.length]='<a:font script="Orya" typeface="Kalinga"/>',t[t.length]='<a:font script="Mlym" typeface="Kartika"/>',t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>',t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',t[t.length]='<a:font script="Viet" typeface="Times New Roman"/>',t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>',t[t.length]="</a:majorFont>",t[t.length]="<a:minorFont>",t[t.length]='<a:latin typeface="Calibri"/>',t[t.length]='<a:ea typeface=""/>',t[t.length]='<a:cs typeface=""/>',t[t.length]='<a:font script="Jpan" typeface=" "/>',t[t.length]='<a:font script="Hang" typeface=" "/>',t[t.length]='<a:font script="Hans" typeface=""/>',t[t.length]='<a:font script="Hant" typeface=""/>',t[t.length]='<a:font script="Arab" typeface="Arial"/>',t[t.length]='<a:font script="Hebr" typeface="Arial"/>',t[t.length]='<a:font script="Thai" typeface="Tahoma"/>',t[t.length]='<a:font script="Ethi" typeface="Nyala"/>',t[t.length]='<a:font script="Beng" typeface="Vrinda"/>',t[t.length]='<a:font script="Gujr" typeface="Shruti"/>',t[t.length]='<a:font script="Khmr" typeface="DaunPenh"/>',t[t.length]='<a:font script="Knda" typeface="Tunga"/>',t[t.length]='<a:font script="Guru" typeface="Raavi"/>',t[t.length]='<a:font script="Cans" typeface="Euphemia"/>',t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>',t[t.length]='<a:font script="Deva" typeface="Mangal"/>',t[t.length]='<a:font script="Telu" typeface="Gautami"/>',t[t.length]='<a:font script="Taml" typeface="Latha"/>',t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',t[t.length]='<a:font script="Orya" typeface="Kalinga"/>',t[t.length]='<a:font script="Mlym" typeface="Kartika"/>',t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>',t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',t[t.length]='<a:font script="Viet" typeface="Arial"/>',t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>',t[t.length]="</a:minorFont>",t[t.length]="</a:fontScheme>",t[t.length]='<a:fmtScheme name="Office">',t[t.length]="<a:fillStyleLst>",t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:lin ang="16200000" scaled="1"/>',t[t.length]="</a:gradFill>",t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:lin ang="16200000" scaled="0"/>',t[t.length]="</a:gradFill>",t[t.length]="</a:fillStyleLst>",t[t.length]="<a:lnStyleLst>",t[t.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]="</a:lnStyleLst>",t[t.length]="<a:effectStyleLst>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]="</a:effectStyle>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]="</a:effectStyle>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',t[t.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',t[t.length]="</a:effectStyle>",t[t.length]="</a:effectStyleLst>",t[t.length]="<a:bgFillStyleLst>",t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',t[t.length]="</a:gradFill>",t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',t[t.length]="</a:gradFill>",t[t.length]="</a:bgFillStyleLst>",t[t.length]="</a:fmtScheme>",t[t.length]="</a:themeElements>",t[t.length]="<a:objectDefaults>",t[t.length]="<a:spDef>",t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',t[t.length]="</a:spDef>",t[t.length]="<a:lnDef>",t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',t[t.length]="</a:lnDef>",t[t.length]="</a:objectDefaults>",t[t.length]="<a:extraClrSchemeLst/>",t[t.length]="</a:theme>",t.join("")}function uee(n,e){return{flags:n.read_shift(4),version:n.read_shift(4),name:Ts(n)}}function hee(n){var e=lt(12+2*n.name.length);return e.write_shift(4,n.flags),e.write_shift(4,n.version),qa(n.name,e),e.slice(0,e.l)}function fee(n){for(var e=[],t=n.read_shift(4);t-- >0;)e.push([n.read_shift(4),n.read_shift(4)]);return e}function dee(n){var e=lt(4+8*n.length);e.write_shift(4,n.length);for(var t=0;t<n.length;++t)e.write_shift(4,n[t][0]),e.write_shift(4,n[t][1]);return e}function mee(n,e){var t=lt(8+2*e.length);return t.write_shift(4,n),qa(e,t),t.slice(0,t.l)}function pee(n){return n.l+=4,n.read_shift(4)!=0}function gee(n,e){var t=lt(8);return t.write_shift(4,n),t.write_shift(4,1),t}function vee(){var n=po();return St(n,332),St(n,334,Jl(1)),St(n,335,hee({name:"XLDAPR",version:12e4,flags:3496657072})),St(n,336),St(n,339,mee(1,"XLDAPR")),St(n,52),St(n,35,Jl(514)),St(n,4096,Jl(0)),St(n,4097,dl(1)),St(n,36),St(n,53),St(n,340),St(n,337,gee(1)),St(n,51,dee([[1,0]])),St(n,338),St(n,333),n.end()}function V7(){var n=[fa];return n.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),n.join("")}function _ee(n){var e={};e.i=n.read_shift(4);var t={};t.r=n.read_shift(4),t.c=n.read_shift(4),e.r=Rr(t);var r=n.read_shift(1);return r&2&&(e.l="1"),r&8&&(e.a="1"),e}var l0=1024;function z7(n,e){for(var t=[21600,21600],r=["m0,0l0",t[1],t[0],t[1],t[0],"0xe"].join(","),i=[jt("xml",null,{"xmlns:v":Po.v,"xmlns:o":Po.o,"xmlns:x":Po.x,"xmlns:mv":Po.mv}).replace(/\/>/,">"),jt("o:shapelayout",jt("o:idmap",null,{"v:ext":"edit",data:n}),{"v:ext":"edit"}),jt("v:shapetype",[jt("v:stroke",null,{joinstyle:"miter"}),jt("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:t.join(","),path:r})];l0<n*1e3;)l0+=1e3;return e.forEach(function(a){var o=za(a[0]),c={color2:"#BEFF82",type:"gradient"};c.type=="gradient"&&(c.angle="-180");var u=c.type=="gradient"?jt("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,h=jt("v:fill",u,c),m={on:"t",obscured:"t"};++l0,i=i.concat(["<v:shape"+Op({id:"_x0000_s"+l0,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(a[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",h,jt("v:shadow",null,m),jt("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",ls("x:Anchor",[o.c+1,0,o.r+1,0,o.c+3,20,o.r+5,20].join(",")),ls("x:AutoFill","False"),ls("x:Row",String(o.r)),ls("x:Column",String(o.c)),a[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),i.push("</xml>"),i.join("")}function q7(n){var e=[fa,jt("comments",null,{xmlns:G0[0]})],t=[];return e.push("<authors>"),n.forEach(function(r){r[1].forEach(function(i){var a=Ir(i.a);t.indexOf(a)==-1&&(t.push(a),e.push("<author>"+a+"</author>")),i.T&&i.ID&&t.indexOf("tc="+i.ID)==-1&&(t.push("tc="+i.ID),e.push("<author>tc="+i.ID+"</author>"))})}),t.length==0&&(t.push("SheetJ5"),e.push("<author>SheetJ5</author>")),e.push("</authors>"),e.push("<commentList>"),n.forEach(function(r){var i=0,a=[];if(r[1][0]&&r[1][0].T&&r[1][0].ID?i=t.indexOf("tc="+r[1][0].ID):r[1].forEach(function(u){u.a&&(i=t.indexOf(Ir(u.a))),a.push(u.t||"")}),e.push('<comment ref="'+r[0]+'" authorId="'+i+'"><text>'),a.length<=1)e.push(ls("t",Ir(a[0]||"")));else{for(var o=`Comment:
    `+a[0]+`
`,c=1;c<a.length;++c)o+=`Reply:
    `+a[c]+`
`;e.push(ls("t",Ir(o)))}e.push("</text></comment>")}),e.push("</commentList>"),e.length>2&&(e[e.length]="</comments>",e[1]=e[1].replace("/>",">")),e.join("")}function yee(n,e,t){var r=[fa,jt("ThreadedComments",null,{xmlns:Va.TCMNT}).replace(/[\/]>/,">")];return n.forEach(function(i){var a="";(i[1]||[]).forEach(function(o,c){if(!o.T){delete o.ID;return}o.a&&e.indexOf(o.a)==-1&&e.push(o.a);var u={ref:i[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+t.tcid++).slice(-12)+"}"};c==0?a=u.id:u.parentId=a,o.ID=u.id,o.a&&(u.personId="{54EE7950-7262-4200-6969-"+("000000000000"+e.indexOf(o.a)).slice(-12)+"}"),r.push(jt("threadedComment",ls("text",o.t||""),u))})}),r.push("</ThreadedComments>"),r.join("")}function xee(n){var e=[fa,jt("personList",null,{xmlns:Va.TCMNT,"xmlns:x":G0[0]}).replace(/[\/]>/,">")];return n.forEach(function(t,r){e.push(jt("person",null,{displayName:t,id:"{54EE7950-7262-4200-6969-"+("000000000000"+r).slice(-12)+"}",userId:t,providerId:"None"}))}),e.push("</personList>"),e.join("")}function wee(n){var e={};e.iauthor=n.read_shift(4);var t=ad(n);return e.rfx=t.s,e.ref=Rr(t.s),n.l+=16,e}function bee(n,e){return e==null&&(e=lt(36)),e.write_shift(4,n[1].iauthor),Y0(n[0],e),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e}var Eee=Ts;function See(n){return qa(n.slice(0,54))}function Tee(n){var e=po(),t=[];return St(e,628),St(e,630),n.forEach(function(r){r[1].forEach(function(i){t.indexOf(i.a)>-1||(t.push(i.a.slice(0,54)),St(e,632,See(i.a)))})}),St(e,631),St(e,633),n.forEach(function(r){r[1].forEach(function(i){i.iauthor=t.indexOf(i.a);var a={s:za(r[0]),e:za(r[0])};St(e,635,bee([a,i])),i.t&&i.t.length>0&&St(e,637,NQ(i)),St(e,636),delete i.iauthor})}),St(e,634),St(e,629),e.end()}function Aee(n,e){e.FullPaths.forEach(function(t,r){if(r!=0){var i=t.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");i.slice(-1)!=="/"&&Fr.utils.cfb_add(n,i,e.FileIndex[r].content)}})}var H7=["xlsb","xlsm","xlam","biff8","xla"],Nee=(function(){var n=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function t(r,i,a,o){var c=!1,u=!1;a.length==0?u=!0:a.charAt(0)=="["&&(u=!0,a=a.slice(1,-1)),o.length==0?c=!0:o.charAt(0)=="["&&(c=!0,o=o.slice(1,-1));var h=a.length>0?parseInt(a,10)|0:0,m=o.length>0?parseInt(o,10)|0:0;return c?m+=e.c:--m,u?h+=e.r:--h,i+(c?"":"$")+Ss(m)+(u?"":"$")+cs(h)}return function(i,a){return e=a,i.replace(n,t)}})(),Nb=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,Cb=(function(){return function(e,t){return e.replace(Nb,function(r,i,a,o,c,u){var h=wb(o)-(a?0:t.c),m=xb(u)-(c?0:t.r),g=m==0?"":c?m+1:"["+m+"]",_=h==0?"":a?h+1:"["+h+"]";return i+"R"+g+"C"+_})}})();function Cee(n,e){return n.replace(Nb,function(t,r,i,a,o,c){return r+(i=="$"?i+a:Ss(wb(a)+e.c))+(o=="$"?o+c:cs(xb(c)+e.r))})}function Iee(n){return n.length!=1}function ia(n){n.l+=1}function Wh(n,e){var t=n.read_shift(2);return[t&16383,t>>14&1,t>>15&1]}function G7(n,e,t){var r=2;if(t){if(t.biff>=2&&t.biff<=5)return W7(n);t.biff==12&&(r=4)}var i=n.read_shift(r),a=n.read_shift(r),o=Wh(n),c=Wh(n);return{s:{r:i,c:o[0],cRel:o[1],rRel:o[2]},e:{r:a,c:c[0],cRel:c[1],rRel:c[2]}}}function W7(n){var e=Wh(n),t=Wh(n),r=n.read_shift(1),i=n.read_shift(1);return{s:{r:e[0],c:r,cRel:e[1],rRel:e[2]},e:{r:t[0],c:i,cRel:t[1],rRel:t[2]}}}function Ree(n,e,t){if(t.biff<8)return W7(n);var r=n.read_shift(t.biff==12?4:2),i=n.read_shift(t.biff==12?4:2),a=Wh(n),o=Wh(n);return{s:{r,c:a[0],cRel:a[1],rRel:a[2]},e:{r:i,c:o[0],cRel:o[1],rRel:o[2]}}}function Y7(n,e,t){if(t&&t.biff>=2&&t.biff<=5)return kee(n);var r=n.read_shift(t&&t.biff==12?4:2),i=Wh(n);return{r,c:i[0],cRel:i[1],rRel:i[2]}}function kee(n){var e=Wh(n),t=n.read_shift(1);return{r:e[0],c:t,cRel:e[1],rRel:e[2]}}function Oee(n){var e=n.read_shift(2),t=n.read_shift(2);return{r:e,c:t&255,fQuoted:!!(t&16384),cRel:t>>15,rRel:t>>15}}function Dee(n,e,t){var r=t&&t.biff?t.biff:8;if(r>=2&&r<=5)return Lee(n);var i=n.read_shift(r>=12?4:2),a=n.read_shift(2),o=(a&16384)>>14,c=(a&32768)>>15;if(a&=16383,c==1)for(;i>524287;)i-=1048576;if(o==1)for(;a>8191;)a=a-16384;return{r:i,c:a,cRel:o,rRel:c}}function Lee(n){var e=n.read_shift(2),t=n.read_shift(1),r=(e&32768)>>15,i=(e&16384)>>14;return e&=16383,r==1&&e>=8192&&(e=e-16384),i==1&&t>=128&&(t=t-256),{r:e,c:t,cRel:i,rRel:r}}function jee(n,e,t){var r=(n[n.l++]&96)>>5,i=G7(n,t.biff>=2&&t.biff<=5?6:8,t);return[r,i]}function Mee(n,e,t){var r=(n[n.l++]&96)>>5,i=n.read_shift(2,"i"),a=8;if(t)switch(t.biff){case 5:n.l+=12,a=6;break;case 12:a=12;break}var o=G7(n,a,t);return[r,i,o]}function Pee(n,e,t){var r=(n[n.l++]&96)>>5;return n.l+=t&&t.biff>8?12:t.biff<8?6:8,[r]}function Fee(n,e,t){var r=(n[n.l++]&96)>>5,i=n.read_shift(2),a=8;if(t)switch(t.biff){case 5:n.l+=12,a=6;break;case 12:a=12;break}return n.l+=a,[r,i]}function Bee(n,e,t){var r=(n[n.l++]&96)>>5,i=Ree(n,e-1,t);return[r,i]}function Uee(n,e,t){var r=(n[n.l++]&96)>>5;return n.l+=t.biff==2?6:t.biff==12?14:7,[r]}function y6(n){var e=n[n.l+1]&1,t=1;return n.l+=4,[e,t]}function Vee(n,e,t){n.l+=2;for(var r=n.read_shift(t&&t.biff==2?1:2),i=[],a=0;a<=r;++a)i.push(n.read_shift(t&&t.biff==2?1:2));return i}function zee(n,e,t){var r=n[n.l+1]&255?1:0;return n.l+=2,[r,n.read_shift(t&&t.biff==2?1:2)]}function qee(n,e,t){var r=n[n.l+1]&255?1:0;return n.l+=2,[r,n.read_shift(t&&t.biff==2?1:2)]}function Hee(n){var e=n[n.l+1]&255?1:0;return n.l+=2,[e,n.read_shift(2)]}function Gee(n,e,t){var r=n[n.l+1]&255?1:0;return n.l+=t&&t.biff==2?3:4,[r]}function $7(n){var e=n.read_shift(1),t=n.read_shift(1);return[e,t]}function Wee(n){return n.read_shift(2),$7(n)}function Yee(n){return n.read_shift(2),$7(n)}function $ee(n,e,t){var r=(n[n.l]&96)>>5;n.l+=1;var i=Y7(n,0,t);return[r,i]}function Kee(n,e,t){var r=(n[n.l]&96)>>5;n.l+=1;var i=Dee(n,0,t);return[r,i]}function Xee(n,e,t){var r=(n[n.l]&96)>>5;n.l+=1;var i=n.read_shift(2);t&&t.biff==5&&(n.l+=12);var a=Y7(n,0,t);return[r,i,a]}function Jee(n,e,t){var r=(n[n.l]&96)>>5;n.l+=1;var i=n.read_shift(t&&t.biff<=3?1:2);return[Jte[i],J7[i],r]}function Qee(n,e,t){var r=n[n.l++],i=n.read_shift(1),a=t&&t.biff<=3?[r==88?-1:0,n.read_shift(1)]:Zee(n);return[i,(a[0]===0?J7:Xte)[a[1]]]}function Zee(n){return[n[n.l+1]>>7,n.read_shift(2)&32767]}function ete(n,e,t){n.l+=t&&t.biff==2?3:4}function tte(n,e,t){if(n.l++,t&&t.biff==12)return[n.read_shift(4,"i"),0];var r=n.read_shift(2),i=n.read_shift(t&&t.biff==2?1:2);return[r,i]}function nte(n){return n.l++,og[n.read_shift(1)]}function rte(n){return n.l++,n.read_shift(2)}function ite(n){return n.l++,n.read_shift(1)!==0}function ate(n){return n.l++,$0(n)}function ste(n,e,t){return n.l++,R7(n,e-1,t)}function ote(n,e){var t=[n.read_shift(1)];if(e==12)switch(t[0]){case 2:t[0]=4;break;case 4:t[0]=16;break;case 0:t[0]=1;break;case 1:t[0]=2;break}switch(t[0]){case 4:t[1]=XQ(n,1)?"TRUE":"FALSE",e!=12&&(n.l+=7);break;case 37:case 16:t[1]=og[n[n.l]],n.l+=e==12?4:8;break;case 0:n.l+=8;break;case 1:t[1]=$0(n);break;case 2:t[1]=eZ(n,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+t[0])}return t}function lte(n,e,t){for(var r=n.read_shift(t.biff==12?4:2),i=[],a=0;a!=r;++a)i.push((t.biff==12?ad:rZ)(n));return i}function cte(n,e,t){var r=0,i=0;t.biff==12?(r=n.read_shift(4),i=n.read_shift(4)):(i=1+n.read_shift(1),r=1+n.read_shift(2)),t.biff>=2&&t.biff<8&&(--r,--i==0&&(i=256));for(var a=0,o=[];a!=r&&(o[a]=[]);++a)for(var c=0;c!=i;++c)o[a][c]=ote(n,t.biff);return o}function ute(n,e,t){var r=n.read_shift(1)>>>5&3,i=!t||t.biff>=8?4:2,a=n.read_shift(i);switch(t.biff){case 2:n.l+=5;break;case 3:case 4:n.l+=8;break;case 5:n.l+=12;break}return[r,0,a]}function hte(n,e,t){if(t.biff==5)return fte(n);var r=n.read_shift(1)>>>5&3,i=n.read_shift(2),a=n.read_shift(4);return[r,i,a]}function fte(n){var e=n.read_shift(1)>>>5&3,t=n.read_shift(2,"i");n.l+=8;var r=n.read_shift(2);return n.l+=12,[e,t,r]}function dte(n,e,t){var r=n.read_shift(1)>>>5&3;n.l+=t&&t.biff==2?3:4;var i=n.read_shift(t&&t.biff==2?1:2);return[r,i]}function mte(n,e,t){var r=n.read_shift(1)>>>5&3,i=n.read_shift(t&&t.biff==2?1:2);return[r,i]}function pte(n,e,t){var r=n.read_shift(1)>>>5&3;return n.l+=4,t.biff<8&&n.l--,t.biff==12&&(n.l+=2),[r]}function gte(n,e,t){var r=(n[n.l++]&96)>>5,i=n.read_shift(2),a=4;if(t)switch(t.biff){case 5:a=15;break;case 12:a=6;break}return n.l+=a,[r,i]}var vte=Vc,_te=Vc,yte=Vc;function lg(n,e,t){return n.l+=2,[Oee(n)]}function Ib(n){return n.l+=6,[]}var xte=lg,wte=Ib,bte=Ib,Ete=lg;function K7(n){return n.l+=2,[C7(n),n.read_shift(2)&1]}var Ste=lg,Tte=K7,Ate=Ib,Nte=lg,Cte=lg,Ite=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function Rte(n){n.l+=2;var e=n.read_shift(2),t=n.read_shift(2),r=n.read_shift(4),i=n.read_shift(2),a=n.read_shift(2),o=Ite[t>>2&31];return{ixti:e,coltype:t&3,rt:o,idx:r,c:i,C:a}}function kte(n){return n.l+=2,[n.read_shift(4)]}function Ote(n,e,t){return n.l+=5,n.l+=2,n.l+=t.biff==2?1:4,["PTGSHEET"]}function Dte(n,e,t){return n.l+=t.biff==2?4:5,["PTGENDSHEET"]}function Lte(n){var e=n.read_shift(1)>>>5&3,t=n.read_shift(2);return[e,t]}function jte(n){var e=n.read_shift(1)>>>5&3,t=n.read_shift(2);return[e,t]}function Mte(n){return n.l+=4,[0,0]}var x6={1:{n:"PtgExp",f:tte},2:{n:"PtgTbl",f:yte},3:{n:"PtgAdd",f:ia},4:{n:"PtgSub",f:ia},5:{n:"PtgMul",f:ia},6:{n:"PtgDiv",f:ia},7:{n:"PtgPower",f:ia},8:{n:"PtgConcat",f:ia},9:{n:"PtgLt",f:ia},10:{n:"PtgLe",f:ia},11:{n:"PtgEq",f:ia},12:{n:"PtgGe",f:ia},13:{n:"PtgGt",f:ia},14:{n:"PtgNe",f:ia},15:{n:"PtgIsect",f:ia},16:{n:"PtgUnion",f:ia},17:{n:"PtgRange",f:ia},18:{n:"PtgUplus",f:ia},19:{n:"PtgUminus",f:ia},20:{n:"PtgPercent",f:ia},21:{n:"PtgParen",f:ia},22:{n:"PtgMissArg",f:ia},23:{n:"PtgStr",f:ste},26:{n:"PtgSheet",f:Ote},27:{n:"PtgEndSheet",f:Dte},28:{n:"PtgErr",f:nte},29:{n:"PtgBool",f:ite},30:{n:"PtgInt",f:rte},31:{n:"PtgNum",f:ate},32:{n:"PtgArray",f:Uee},33:{n:"PtgFunc",f:Jee},34:{n:"PtgFuncVar",f:Qee},35:{n:"PtgName",f:ute},36:{n:"PtgRef",f:$ee},37:{n:"PtgArea",f:jee},38:{n:"PtgMemArea",f:dte},39:{n:"PtgMemErr",f:vte},40:{n:"PtgMemNoMem",f:_te},41:{n:"PtgMemFunc",f:mte},42:{n:"PtgRefErr",f:pte},43:{n:"PtgAreaErr",f:Pee},44:{n:"PtgRefN",f:Kee},45:{n:"PtgAreaN",f:Bee},46:{n:"PtgMemAreaN",f:Lte},47:{n:"PtgMemNoMemN",f:jte},57:{n:"PtgNameX",f:hte},58:{n:"PtgRef3d",f:Xee},59:{n:"PtgArea3d",f:Mee},60:{n:"PtgRefErr3d",f:gte},61:{n:"PtgAreaErr3d",f:Fee},255:{}},Pte={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},Fte={1:{n:"PtgElfLel",f:K7},2:{n:"PtgElfRw",f:Nte},3:{n:"PtgElfCol",f:xte},6:{n:"PtgElfRwV",f:Cte},7:{n:"PtgElfColV",f:Ete},10:{n:"PtgElfRadical",f:Ste},11:{n:"PtgElfRadicalS",f:Ate},13:{n:"PtgElfColS",f:wte},15:{n:"PtgElfColSV",f:bte},16:{n:"PtgElfRadicalLel",f:Tte},25:{n:"PtgList",f:Rte},29:{n:"PtgSxName",f:kte},255:{}},Bte={0:{n:"PtgAttrNoop",f:Mte},1:{n:"PtgAttrSemi",f:Gee},2:{n:"PtgAttrIf",f:qee},4:{n:"PtgAttrChoose",f:Vee},8:{n:"PtgAttrGoto",f:zee},16:{n:"PtgAttrSum",f:ete},32:{n:"PtgAttrBaxcel",f:y6},33:{n:"PtgAttrBaxcel",f:y6},64:{n:"PtgAttrSpace",f:Wee},65:{n:"PtgAttrSpaceSemi",f:Yee},128:{n:"PtgAttrIfError",f:Hee},255:{}};function Ute(n,e,t,r){if(r.biff<8)return Vc(n,e);for(var i=n.l+e,a=[],o=0;o!==t.length;++o)switch(t[o][0]){case"PtgArray":t[o][1]=cte(n,0,r),a.push(t[o][1]);break;case"PtgMemArea":t[o][2]=lte(n,t[o][1],r),a.push(t[o][2]);break;case"PtgExp":r&&r.biff==12&&(t[o][1][1]=n.read_shift(4),a.push(t[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+t[o][0]}return e=i-n.l,e!==0&&a.push(Vc(n,e)),a}function Vte(n,e,t){for(var r=n.l+e,i,a,o=[];r!=n.l;)e=r-n.l,a=n[n.l],i=x6[a]||x6[Pte[a]],(a===24||a===25)&&(i=(a===24?Fte:Bte)[n[n.l+1]]),!i||!i.f?Vc(n,e):o.push([i.n,i.f(n,e,t)]);return o}function zte(n){for(var e=[],t=0;t<n.length;++t){for(var r=n[t],i=[],a=0;a<r.length;++a){var o=r[a];if(o)switch(o[0]){case 2:i.push('"'+o[1].replace(/"/g,'""')+'"');break;default:i.push(o[1])}else i.push("")}e.push(i.join(","))}return e.join(";")}var qte={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function Hte(n,e){if(!n&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(n)?"'"+n+"'":n}function X7(n,e,t){if(!n)return"SH33TJSERR0";if(t.biff>8&&(!n.XTI||!n.XTI[e]))return n.SheetNames[e];if(!n.XTI)return"SH33TJSERR6";var r=n.XTI[e];if(t.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":n.XTI[e-1];if(!r)return"SH33TJSERR1";var i="";if(t.biff>8)switch(n[r[0]][0]){case 357:return i=r[1]==-1?"#REF":n.SheetNames[r[1]],r[1]==r[2]?i:i+":"+n.SheetNames[r[2]];case 358:return t.SID!=null?n.SheetNames[t.SID]:"SH33TJSSAME"+n[r[0]][0];case 355:default:return"SH33TJSSRC"+n[r[0]][0]}switch(n[r[0]][0][0]){case 1025:return i=r[1]==-1?"#REF":n.SheetNames[r[1]]||"SH33TJSERR3",r[1]==r[2]?i:i+":"+n.SheetNames[r[2]];case 14849:return n[r[0]].slice(1).map(function(a){return a.Name}).join(";;");default:return n[r[0]][0][3]?(i=r[1]==-1?"#REF":n[r[0]][0][3][r[1]]||"SH33TJSERR4",r[1]==r[2]?i:i+":"+n[r[0]][0][3][r[2]]):"SH33TJSERR2"}}function w6(n,e,t){var r=X7(n,e,t);return r=="#REF"?r:Hte(r,t)}function L0(n,e,t,r,i){var a=i&&i.biff||8,o={s:{c:0,r:0}},c=[],u,h,m,g=0,_=0,v,b="";if(!n[0]||!n[0][0])return"";for(var w=-1,T="",N=0,P=n[0].length;N<P;++N){var R=n[0][N];switch(R[0]){case"PtgUminus":c.push("-"+c.pop());break;case"PtgUplus":c.push("+"+c.pop());break;case"PtgPercent":c.push(c.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(u=c.pop(),h=c.pop(),w>=0){switch(n[0][w][1][0]){case 0:T=Pi(" ",n[0][w][1][1]);break;case 1:T=Pi("\r",n[0][w][1][1]);break;default:if(T="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+n[0][w][1][0])}h=h+T,w=-1}c.push(h+qte[R[0]]+u);break;case"PtgIsect":u=c.pop(),h=c.pop(),c.push(h+" "+u);break;case"PtgUnion":u=c.pop(),h=c.pop(),c.push(h+","+u);break;case"PtgRange":u=c.pop(),h=c.pop(),c.push(h+":"+u);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":m=fp(R[1][1],o,i),c.push(dp(m,a));break;case"PtgRefN":m=t?fp(R[1][1],t,i):R[1][1],c.push(dp(m,a));break;case"PtgRef3d":g=R[1][1],m=fp(R[1][2],o,i),b=w6(r,g,i),c.push(b+"!"+dp(m,a));break;case"PtgFunc":case"PtgFuncVar":var j=R[1][0],K=R[1][1];j||(j=0),j&=127;var U=j==0?[]:c.slice(-j);c.length-=j,K==="User"&&(K=U.shift()),c.push(K+"("+U.join(",")+")");break;case"PtgBool":c.push(R[1]?"TRUE":"FALSE");break;case"PtgInt":c.push(R[1]);break;case"PtgNum":c.push(String(R[1]));break;case"PtgStr":c.push('"'+R[1].replace(/"/g,'""')+'"');break;case"PtgErr":c.push(R[1]);break;case"PtgAreaN":v=a6(R[1][1],t?{s:t}:o,i),c.push(yx(v,i));break;case"PtgArea":v=a6(R[1][1],o,i),c.push(yx(v,i));break;case"PtgArea3d":g=R[1][1],v=R[1][2],b=w6(r,g,i),c.push(b+"!"+yx(v,i));break;case"PtgAttrSum":c.push("SUM("+c.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":_=R[1][2];var C=(r.names||[])[_-1]||(r[0]||[])[_],k=C?C.Name:"SH33TJSNAME"+String(_);k&&k.slice(0,6)=="_xlfn."&&!i.xlfn&&(k=k.slice(6)),c.push(k);break;case"PtgNameX":var I=R[1][1];_=R[1][2];var z;if(i.biff<=5)I<0&&(I=-I),r[I]&&(z=r[I][_]);else{var O="";if(((r[I]||[])[0]||[])[0]==14849||(((r[I]||[])[0]||[])[0]==1025?r[I][_]&&r[I][_].itab>0&&(O=r.SheetNames[r[I][_].itab-1]+"!"):O=r.SheetNames[_-1]+"!"),r[I]&&r[I][_])O+=r[I][_].Name;else if(r[0]&&r[0][_])O+=r[0][_].Name;else{var M=(X7(r,I,i)||"").split(";;");M[_-1]?O=M[_-1]:O+="SH33TJSERRX"}c.push(O);break}z||(z={Name:"SH33TJSERRY"}),c.push(z.Name);break;case"PtgParen":var B="(",Y=")";if(w>=0){switch(T="",n[0][w][1][0]){case 2:B=Pi(" ",n[0][w][1][1])+B;break;case 3:B=Pi("\r",n[0][w][1][1])+B;break;case 4:Y=Pi(" ",n[0][w][1][1])+Y;break;case 5:Y=Pi("\r",n[0][w][1][1])+Y;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+n[0][w][1][0])}w=-1}c.push(B+c.pop()+Y);break;case"PtgRefErr":c.push("#REF!");break;case"PtgRefErr3d":c.push("#REF!");break;case"PtgExp":m={c:R[1][1],r:R[1][0]};var we={c:t.c,r:t.r};if(r.sharedf[Rr(m)]){var fe=r.sharedf[Rr(m)];c.push(L0(fe,o,we,r,i))}else{var le=!1;for(u=0;u!=r.arrayf.length;++u)if(h=r.arrayf[u],!(m.c<h[0].s.c||m.c>h[0].e.c)&&!(m.r<h[0].s.r||m.r>h[0].e.r)){c.push(L0(h[1],o,we,r,i)),le=!0;break}le||c.push(R[1])}break;case"PtgArray":c.push("{"+zte(R[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":w=N;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":c.push("");break;case"PtgAreaErr":c.push("#REF!");break;case"PtgAreaErr3d":c.push("#REF!");break;case"PtgList":c.push("Table"+R[1].idx+"[#"+R[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(R));default:throw new Error("Unrecognized Formula Token: "+String(R))}var pe=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&w>=0&&pe.indexOf(n[0][N][0])==-1){R=n[0][w];var Ie=!0;switch(R[1][0]){case 4:Ie=!1;case 0:T=Pi(" ",R[1][1]);break;case 5:Ie=!1;case 1:T=Pi("\r",R[1][1]);break;default:if(T="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+R[1][0])}c.push((Ie?T:"")+c.pop()+(Ie?"":T)),w=-1}}if(c.length>1&&i.WTF)throw new Error("bad formula stack");return c[0]}function Gte(n){if(n==null){var e=lt(8);return e.write_shift(1,3),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,65535),e}else if(typeof n=="number")return Vf(n);return Vf(0)}function Wte(n,e,t,r,i){var a=zf(e,t,i),o=Gte(n.v),c=lt(6),u=33;c.write_shift(2,u),c.write_shift(4,0);for(var h=lt(n.bf.length),m=0;m<n.bf.length;++m)h[m]=n.bf[m];var g=os([a,o,c,h]);return g}function Dv(n,e,t){var r=n.read_shift(4),i=Vte(n,r,t),a=n.read_shift(4),o=a>0?Ute(n,a,i,t):null;return[i,o]}var Yte=Dv,Lv=Dv,$te=Dv,Kte=Dv,Xte={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},J7={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},Jte={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function Qte(n){var e="of:="+n.replace(Nb,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return e.replace(/;/g,"|").replace(/,/g,";")}function Zte(n){return n.replace(/\./,"!")}var mp=typeof Map<"u";function Rb(n,e,t){var r=0,i=n.length;if(t){if(mp?t.has(e):Object.prototype.hasOwnProperty.call(t,e)){for(var a=mp?t.get(e):t[e];r<a.length;++r)if(n[a[r]].t===e)return n.Count++,a[r]}}else for(;r<i;++r)if(n[r].t===e)return n.Count++,r;return n[i]={t:e},n.Count++,n.Unique++,t&&(mp?(t.has(e)||t.set(e,[]),t.get(e).push(i)):(Object.prototype.hasOwnProperty.call(t,e)||(t[e]=[]),t[e].push(i))),i}function jv(n,e){var t={min:n+1,max:n+1},r=-1;return e.MDW&&(Nu=e.MDW),e.width!=null?t.customWidth=1:e.wpx!=null?r=z2(e.wpx):e.wch!=null&&(r=e.wch),r>-1?(t.width=O5(r),t.customWidth=1):e.width!=null&&(t.width=e.width),e.hidden&&(t.hidden=!0),e.level!=null&&(t.outlineLevel=t.level=e.level),t}function Q7(n,e){if(n){var t=[.7,.7,.75,.75,.3,.3];n.left==null&&(n.left=t[0]),n.right==null&&(n.right=t[1]),n.top==null&&(n.top=t[2]),n.bottom==null&&(n.bottom=t[3]),n.header==null&&(n.header=t[4]),n.footer==null&&(n.footer=t[5])}}function Jh(n,e,t){var r=t.revssf[e.z!=null?e.z:"General"],i=60,a=n.length;if(r==null&&t.ssf){for(;i<392;++i)if(t.ssf[i]==null){Yk(e.z,i),t.ssf[i]=e.z,t.revssf[e.z]=r=i;break}}for(i=0;i!=a;++i)if(n[i].numFmtId===r)return i;return n[a]={numFmtId:r,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},a}function ene(n,e,t){if(n&&n["!ref"]){var r=oi(n["!ref"]);if(r.e.c<r.s.c||r.e.r<r.s.r)throw new Error("Bad range ("+t+"): "+n["!ref"])}}function tne(n){if(n.length===0)return"";for(var e='<mergeCells count="'+n.length+'">',t=0;t!=n.length;++t)e+='<mergeCell ref="'+ua(n[t])+'"/>';return e+"</mergeCells>"}function nne(n,e,t,r,i){var a=!1,o={},c=null;if(r.bookType!=="xlsx"&&e.vbaraw){var u=e.SheetNames[t];try{e.Workbook&&(u=e.Workbook.Sheets[t].CodeName||u)}catch{}a=!0,o.codeName=kp(Ir(u))}if(n&&n["!outline"]){var h={summaryBelow:1,summaryRight:1};n["!outline"].above&&(h.summaryBelow=0),n["!outline"].left&&(h.summaryRight=0),c=(c||"")+jt("outlinePr",null,h)}!a&&!c||(i[i.length]=jt("sheetPr",c,o))}var rne=["objects","scenarios","selectLockedCells","selectUnlockedCells"],ine=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function ane(n){var e={sheet:1};return rne.forEach(function(t){n[t]!=null&&n[t]&&(e[t]="1")}),ine.forEach(function(t){n[t]!=null&&!n[t]&&(e[t]="0")}),n.password&&(e.password=j7(n.password).toString(16).toUpperCase()),jt("sheetProtection",null,e)}function sne(n){return Q7(n),jt("pageMargins",null,n)}function one(n,e){for(var t=["<cols>"],r,i=0;i!=e.length;++i)(r=e[i])&&(t[t.length]=jt("col",null,jv(i,r)));return t[t.length]="</cols>",t.join("")}function lne(n,e,t,r){var i=typeof n.ref=="string"?n.ref:ua(n.ref);t.Workbook||(t.Workbook={Sheets:[]}),t.Workbook.Names||(t.Workbook.Names=[]);var a=t.Workbook.Names,o=Go(i);o.s.r==o.e.r&&(o.e.r=Go(e["!ref"]).e.r,i=ua(o));for(var c=0;c<a.length;++c){var u=a[c];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==r){u.Ref="'"+t.SheetNames[r]+"'!"+i;break}}return c==a.length&&a.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+t.SheetNames[r]+"'!"+i}),jt("autoFilter",null,{ref:i})}function cne(n,e,t,r){var i={workbookViewId:"0"};return(((r||{}).Workbook||{}).Views||[])[0]&&(i.rightToLeft=r.Workbook.Views[0].RTL?"1":"0"),jt("sheetViews",jt("sheetView",null,i),{})}function une(n,e,t,r){if(n.c&&t["!comments"].push([e,n.c]),n.v===void 0&&typeof n.f!="string"||n.t==="z"&&!n.f)return"";var i="",a=n.t,o=n.v;if(n.t!=="z")switch(n.t){case"b":i=n.v?"1":"0";break;case"n":i=""+n.v;break;case"e":i=og[n.v];break;case"d":r&&r.cellDates?i=qs(n.v,-1).toISOString():(n=_o(n),n.t="n",i=""+(n.v=vo(qs(n.v)))),typeof n.z>"u"&&(n.z=Bi[14]);break;default:i=n.v;break}var c=ls("v",Ir(i)),u={r:e},h=Jh(r.cellXfs,n,r);switch(h!==0&&(u.s=h),n.t){case"n":break;case"d":u.t="d";break;case"b":u.t="b";break;case"e":u.t="e";break;case"z":break;default:if(n.v==null){delete n.t;break}if(n.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(r&&r.bookSST){c=ls("v",""+Rb(r.Strings,n.v,r.revStrings)),u.t="s";break}u.t="str";break}if(n.t!=a&&(n.t=a,n.v=o),typeof n.f=="string"&&n.f){var m=n.F&&n.F.slice(0,e.length)==e?{t:"array",ref:n.F}:null;c=jt("f",Ir(n.f),m)+(n.v!=null?c:"")}return n.l&&t["!links"].push([e,n.l]),n.D&&(u.cm=1),jt("c",c,u)}function hne(n,e,t,r){var i=[],a=[],o=oi(n["!ref"]),c="",u,h="",m=[],g=0,_=0,v=n["!rows"],b=Array.isArray(n),w={r:h},T,N=-1;for(_=o.s.c;_<=o.e.c;++_)m[_]=Ss(_);for(g=o.s.r;g<=o.e.r;++g){for(a=[],h=cs(g),_=o.s.c;_<=o.e.c;++_){u=m[_]+h;var P=b?(n[g]||[])[_]:n[u];P!==void 0&&(c=une(P,u,n,e))!=null&&a.push(c)}(a.length>0||v&&v[g])&&(w={r:h},v&&v[g]&&(T=v[g],T.hidden&&(w.hidden=1),N=-1,T.hpx?N=q2(T.hpx):T.hpt&&(N=T.hpt),N>-1&&(w.ht=N,w.customHeight=1),T.level&&(w.outlineLevel=T.level)),i[i.length]=jt("row",a.join(""),w))}if(v)for(;g<v.length;++g)v&&v[g]&&(w={r:g+1},T=v[g],T.hidden&&(w.hidden=1),N=-1,T.hpx?N=q2(T.hpx):T.hpt&&(N=T.hpt),N>-1&&(w.ht=N,w.customHeight=1),T.level&&(w.outlineLevel=T.level),i[i.length]=jt("row","",w));return i.join("")}function Z7(n,e,t,r){var i=[fa,jt("worksheet",null,{xmlns:G0[0],"xmlns:r":Va.r})],a=t.SheetNames[n],o=0,c="",u=t.Sheets[a];u==null&&(u={});var h=u["!ref"]||"A1",m=oi(h);if(m.e.c>16383||m.e.r>1048575){if(e.WTF)throw new Error("Range "+h+" exceeds format limit A1:XFD1048576");m.e.c=Math.min(m.e.c,16383),m.e.r=Math.min(m.e.c,1048575),h=ua(m)}r||(r={}),u["!comments"]=[];var g=[];nne(u,t,n,e,i),i[i.length]=jt("dimension",null,{ref:h}),i[i.length]=cne(u,e,n,t),e.sheetFormat&&(i[i.length]=jt("sheetFormatPr",null,{defaultRowHeight:e.sheetFormat.defaultRowHeight||"16",baseColWidth:e.sheetFormat.baseColWidth||"10",outlineLevelRow:e.sheetFormat.outlineLevelRow||"7"})),u["!cols"]!=null&&u["!cols"].length>0&&(i[i.length]=one(u,u["!cols"])),i[o=i.length]="<sheetData/>",u["!links"]=[],u["!ref"]!=null&&(c=hne(u,e),c.length>0&&(i[i.length]=c)),i.length>o+1&&(i[i.length]="</sheetData>",i[o]=i[o].replace("/>",">")),u["!protect"]&&(i[i.length]=ane(u["!protect"])),u["!autofilter"]!=null&&(i[i.length]=lne(u["!autofilter"],u,t,n)),u["!merges"]!=null&&u["!merges"].length>0&&(i[i.length]=tne(u["!merges"]));var _=-1,v,b=-1;return u["!links"].length>0&&(i[i.length]="<hyperlinks>",u["!links"].forEach(function(w){w[1].Target&&(v={ref:w[0]},w[1].Target.charAt(0)!="#"&&(b=Nr(r,-1,Ir(w[1].Target).replace(/#.*$/,""),mr.HLINK),v["r:id"]="rId"+b),(_=w[1].Target.indexOf("#"))>-1&&(v.location=Ir(w[1].Target.slice(_+1))),w[1].Tooltip&&(v.tooltip=Ir(w[1].Tooltip)),i[i.length]=jt("hyperlink",null,v))}),i[i.length]="</hyperlinks>"),delete u["!links"],u["!margins"]!=null&&(i[i.length]=sne(u["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&(i[i.length]=ls("ignoredErrors",jt("ignoredError",null,{numberStoredAsText:1,sqref:h}))),g.length>0&&(b=Nr(r,-1,"../drawings/drawing"+(n+1)+".xml",mr.DRAW),i[i.length]=jt("drawing",null,{"r:id":"rId"+b}),u["!drawing"]=g),u["!comments"].length>0&&(b=Nr(r,-1,"../drawings/vmlDrawing"+(n+1)+".vml",mr.VML),i[i.length]=jt("legacyDrawing",null,{"r:id":"rId"+b}),u["!legacy"]=b),i.length>1&&(i[i.length]="</worksheet>",i[1]=i[1].replace("/>",">")),i.join("")}function fne(n,e){var t={},r=n.l+e;t.r=n.read_shift(4),n.l+=4;var i=n.read_shift(2);n.l+=1;var a=n.read_shift(1);return n.l=r,a&7&&(t.level=a&7),a&16&&(t.hidden=!0),a&32&&(t.hpt=i/20),t}function dne(n,e,t){var r=lt(145),i=(t["!rows"]||[])[n]||{};r.write_shift(4,n),r.write_shift(4,0);var a=320;i.hpx?a=q2(i.hpx)*20:i.hpt&&(a=i.hpt*20),r.write_shift(2,a),r.write_shift(1,0);var o=0;i.level&&(o|=i.level),i.hidden&&(o|=16),(i.hpx||i.hpt)&&(o|=32),r.write_shift(1,o),r.write_shift(1,0);var c=0,u=r.l;r.l+=4;for(var h={r:n,c:0},m=0;m<16;++m)if(!(e.s.c>m+1<<10||e.e.c<m<<10)){for(var g=-1,_=-1,v=m<<10;v<m+1<<10;++v){h.c=v;var b=Array.isArray(t)?(t[h.r]||[])[h.c]:t[Rr(h)];b&&(g<0&&(g=v),_=v)}g<0||(++c,r.write_shift(4,g),r.write_shift(4,_))}var w=r.l;return r.l=u,r.write_shift(4,c),r.l=w,r.length>r.l?r.slice(0,r.l):r}function mne(n,e,t,r){var i=dne(r,t,e);(i.length>17||(e["!rows"]||[])[r])&&St(n,0,i)}var pne=ad,gne=Y0;function vne(){}function _ne(n,e){var t={},r=n[n.l];return++n.l,t.above=!(r&64),t.left=!(r&128),n.l+=18,t.name=CQ(n),t}function yne(n,e,t){t==null&&(t=lt(84+4*n.length));var r=192;e&&(e.above&&(r&=-65),e.left&&(r&=-129)),t.write_shift(1,r);for(var i=1;i<3;++i)t.write_shift(1,0);return B2({auto:1},t),t.write_shift(-4,-1),t.write_shift(-4,-1),m7(n,t),t.slice(0,t.l)}function xne(n){var e=yl(n);return[e]}function wne(n,e,t){return t==null&&(t=lt(8)),nd(e,t)}function bne(n){var e=rd(n);return[e]}function Ene(n,e,t){return t==null&&(t=lt(4)),id(e,t)}function Sne(n){var e=yl(n),t=n.read_shift(1);return[e,t,"b"]}function Tne(n,e,t){return t==null&&(t=lt(9)),nd(e,t),t.write_shift(1,n.v?1:0),t}function Ane(n){var e=rd(n),t=n.read_shift(1);return[e,t,"b"]}function Nne(n,e,t){return t==null&&(t=lt(5)),id(e,t),t.write_shift(1,n.v?1:0),t}function Cne(n){var e=yl(n),t=n.read_shift(1);return[e,t,"e"]}function Ine(n,e,t){return t==null&&(t=lt(9)),nd(e,t),t.write_shift(1,n.v),t}function Rne(n){var e=rd(n),t=n.read_shift(1);return[e,t,"e"]}function kne(n,e,t){return t==null&&(t=lt(8)),id(e,t),t.write_shift(1,n.v),t.write_shift(2,0),t.write_shift(1,0),t}function One(n){var e=yl(n),t=n.read_shift(4);return[e,t,"s"]}function Dne(n,e,t){return t==null&&(t=lt(12)),nd(e,t),t.write_shift(4,e.v),t}function Lne(n){var e=rd(n),t=n.read_shift(4);return[e,t,"s"]}function jne(n,e,t){return t==null&&(t=lt(8)),id(e,t),t.write_shift(4,e.v),t}function Mne(n){var e=yl(n),t=$0(n);return[e,t,"n"]}function Pne(n,e,t){return t==null&&(t=lt(16)),nd(e,t),Vf(n.v,t),t}function Fne(n){var e=rd(n),t=$0(n);return[e,t,"n"]}function Bne(n,e,t){return t==null&&(t=lt(12)),id(e,t),Vf(n.v,t),t}function Une(n){var e=yl(n),t=p7(n);return[e,t,"n"]}function Vne(n,e,t){return t==null&&(t=lt(12)),nd(e,t),g7(n.v,t),t}function zne(n){var e=rd(n),t=p7(n);return[e,t,"n"]}function qne(n,e,t){return t==null&&(t=lt(8)),id(e,t),g7(n.v,t),t}function Hne(n){var e=yl(n),t=bb(n);return[e,t,"is"]}function Gne(n){var e=yl(n),t=Ts(n);return[e,t,"str"]}function Wne(n,e,t){return t==null&&(t=lt(12+4*n.v.length)),nd(e,t),qa(n.v,t),t.length>t.l?t.slice(0,t.l):t}function Yne(n){var e=rd(n),t=Ts(n);return[e,t,"str"]}function $ne(n,e,t){return t==null&&(t=lt(8+4*n.v.length)),id(e,t),qa(n.v,t),t.length>t.l?t.slice(0,t.l):t}function Kne(n,e,t){var r=n.l+e,i=yl(n);i.r=t["!row"];var a=n.read_shift(1),o=[i,a,"b"];if(t.cellFormula){n.l+=2;var c=Lv(n,r-n.l,t);o[3]=L0(c,null,i,t.supbooks,t)}else n.l=r;return o}function Xne(n,e,t){var r=n.l+e,i=yl(n);i.r=t["!row"];var a=n.read_shift(1),o=[i,a,"e"];if(t.cellFormula){n.l+=2;var c=Lv(n,r-n.l,t);o[3]=L0(c,null,i,t.supbooks,t)}else n.l=r;return o}function Jne(n,e,t){var r=n.l+e,i=yl(n);i.r=t["!row"];var a=$0(n),o=[i,a,"n"];if(t.cellFormula){n.l+=2;var c=Lv(n,r-n.l,t);o[3]=L0(c,null,i,t.supbooks,t)}else n.l=r;return o}function Qne(n,e,t){var r=n.l+e,i=yl(n);i.r=t["!row"];var a=Ts(n),o=[i,a,"str"];if(t.cellFormula){n.l+=2;var c=Lv(n,r-n.l,t);o[3]=L0(c,null,i,t.supbooks,t)}else n.l=r;return o}var Zne=ad,ere=Y0;function tre(n,e){return e==null&&(e=lt(4)),e.write_shift(4,n),e}function nre(n,e){var t=n.l+e,r=ad(n),i=Eb(n),a=Ts(n),o=Ts(n),c=Ts(n);n.l=t;var u={rfx:r,relId:i,loc:a,display:c};return o&&(u.Tooltip=o),u}function rre(n,e){var t=lt(50+4*(n[1].Target.length+(n[1].Tooltip||"").length));Y0({s:za(n[0]),e:za(n[0])},t),Sb("rId"+e,t);var r=n[1].Target.indexOf("#"),i=r==-1?"":n[1].Target.slice(r+1);return qa(i||"",t),qa(n[1].Tooltip||"",t),qa("",t),t.slice(0,t.l)}function ire(){}function are(n,e,t){var r=n.l+e,i=v7(n),a=n.read_shift(1),o=[i];if(o[2]=a,t.cellFormula){var c=Yte(n,r-n.l,t);o[1]=c}else n.l=r;return o}function sre(n,e,t){var r=n.l+e,i=ad(n),a=[i];if(t.cellFormula){var o=Kte(n,r-n.l,t);a[1]=o,n.l=r}else n.l=r;return a}function ore(n,e,t){t==null&&(t=lt(18));var r=jv(n,e);t.write_shift(-4,n),t.write_shift(-4,n),t.write_shift(4,(r.width||10)*256),t.write_shift(4,0);var i=0;return e.hidden&&(i|=1),typeof r.width=="number"&&(i|=2),e.level&&(i|=e.level<<8),t.write_shift(2,i),t}var eO=["left","right","top","bottom","header","footer"];function lre(n){var e={};return eO.forEach(function(t){e[t]=$0(n)}),e}function cre(n,e){return e==null&&(e=lt(48)),Q7(n),eO.forEach(function(t){Vf(n[t],e)}),e}function ure(n){var e=n.read_shift(2);return n.l+=28,{RTL:e&32}}function hre(n,e,t){t==null&&(t=lt(30));var r=924;return(((e||{}).Views||[])[0]||{}).RTL&&(r|=32),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,100),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(4,0),t}function fre(n){var e=lt(24);return e.write_shift(4,4),e.write_shift(4,1),Y0(n,e),e}function dre(n,e){return e==null&&(e=lt(66)),e.write_shift(2,n.password?j7(n.password):0),e.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(t){t[1]?e.write_shift(4,n[t[0]]!=null&&!n[t[0]]?1:0):e.write_shift(4,n[t[0]]!=null&&n[t[0]]?0:1)}),e}function mre(){}function pre(){}function gre(n,e,t,r,i,a,o){if(e.v===void 0)return!1;var c="";switch(e.t){case"b":c=e.v?"1":"0";break;case"d":e=_o(e),e.z=e.z||Bi[14],e.v=vo(qs(e.v)),e.t="n";break;case"n":case"e":c=""+e.v;break;default:c=e.v;break}var u={r:t,c:r};switch(u.s=Jh(i.cellXfs,e,i),e.l&&a["!links"].push([Rr(u),e.l]),e.c&&a["!comments"].push([Rr(u),e.c]),e.t){case"s":case"str":return i.bookSST?(c=Rb(i.Strings,e.v,i.revStrings),u.t="s",u.v=c,o?St(n,18,jne(e,u)):St(n,7,Dne(e,u))):(u.t="str",o?St(n,17,$ne(e,u)):St(n,6,Wne(e,u))),!0;case"n":return e.v==(e.v|0)&&e.v>-1e3&&e.v<1e3?o?St(n,13,qne(e,u)):St(n,2,Vne(e,u)):o?St(n,16,Bne(e,u)):St(n,5,Pne(e,u)),!0;case"b":return u.t="b",o?St(n,15,Nne(e,u)):St(n,4,Tne(e,u)),!0;case"e":return u.t="e",o?St(n,14,kne(e,u)):St(n,3,Ine(e,u)),!0}return o?St(n,12,Ene(e,u)):St(n,1,wne(e,u)),!0}function vre(n,e,t,r){var i=oi(e["!ref"]||"A1"),a,o="",c=[];St(n,145);var u=Array.isArray(e),h=i.e.r;e["!rows"]&&(h=Math.max(i.e.r,e["!rows"].length-1));for(var m=i.s.r;m<=h;++m){o=cs(m),mne(n,e,i,m);var g=!1;if(m<=i.e.r)for(var _=i.s.c;_<=i.e.c;++_){m===i.s.r&&(c[_]=Ss(_)),a=c[_]+o;var v=u?(e[m]||[])[_]:e[a];if(!v){g=!1;continue}g=gre(n,v,m,_,r,e,g)}}St(n,146)}function _re(n,e){!e||!e["!merges"]||(St(n,177,tre(e["!merges"].length)),e["!merges"].forEach(function(t){St(n,176,ere(t))}),St(n,178))}function yre(n,e){!e||!e["!cols"]||(St(n,390),e["!cols"].forEach(function(t,r){t&&St(n,60,ore(r,t))}),St(n,391))}function xre(n,e){!e||!e["!ref"]||(St(n,648),St(n,649,fre(oi(e["!ref"]))),St(n,650))}function wre(n,e,t){e["!links"].forEach(function(r){if(r[1].Target){var i=Nr(t,-1,r[1].Target.replace(/#.*$/,""),mr.HLINK);St(n,494,rre(r,i))}}),delete e["!links"]}function bre(n,e,t,r){if(e["!comments"].length>0){var i=Nr(r,-1,"../drawings/vmlDrawing"+(t+1)+".vml",mr.VML);St(n,551,Sb("rId"+i)),e["!legacy"]=i}}function Ere(n,e,t,r){if(e["!autofilter"]){var i=e["!autofilter"],a=typeof i.ref=="string"?i.ref:ua(i.ref);t.Workbook||(t.Workbook={Sheets:[]}),t.Workbook.Names||(t.Workbook.Names=[]);var o=t.Workbook.Names,c=Go(a);c.s.r==c.e.r&&(c.e.r=Go(e["!ref"]).e.r,a=ua(c));for(var u=0;u<o.length;++u){var h=o[u];if(h.Name=="_xlnm._FilterDatabase"&&h.Sheet==r){h.Ref="'"+t.SheetNames[r]+"'!"+a;break}}u==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+t.SheetNames[r]+"'!"+a}),St(n,161,Y0(oi(a))),St(n,162)}}function Sre(n,e,t){St(n,133),St(n,137,hre(e,t)),St(n,138),St(n,134)}function Tre(n,e){e["!protect"]&&St(n,535,dre(e["!protect"]))}function Are(n,e,t,r){var i=po(),a=t.SheetNames[n],o=t.Sheets[a]||{},c=a;try{t&&t.Workbook&&(c=t.Workbook.Sheets[n].CodeName||c)}catch{}var u=oi(o["!ref"]||"A1");if(u.e.c>16383||u.e.r>1048575){if(e.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");u.e.c=Math.min(u.e.c,16383),u.e.r=Math.min(u.e.c,1048575)}return o["!links"]=[],o["!comments"]=[],St(i,129),(t.vbaraw||o["!outline"])&&St(i,147,yne(c,o["!outline"])),St(i,148,gne(u)),Sre(i,o,t.Workbook),yre(i,o),vre(i,o,n,e),Tre(i,o),Ere(i,o,t,n),_re(i,o),wre(i,o,r),o["!margins"]&&St(i,476,cre(o["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&xre(i,o),bre(i,o,n,r),St(i,130),i.end()}function Nre(n,e){n.l+=10;var t=Ts(n);return{name:t}}var Cre=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function Ire(n){return!n.Workbook||!n.Workbook.WBProps?"false":sQ(n.Workbook.WBProps.date1904)?"true":"false"}var Rre="][*?/\\".split("");function tO(n,e){if(n.length>31)throw new Error("Sheet names cannot exceed 31 chars");var t=!0;return Rre.forEach(function(r){if(n.indexOf(r)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),t}function kre(n,e,t){n.forEach(function(r,i){tO(r);for(var a=0;a<i;++a)if(r==n[a])throw new Error("Duplicate Sheet Name: "+r);if(t){var o=e&&e[i]&&e[i].CodeName||r;if(o.charCodeAt(0)==95&&o.length>22)throw new Error("Bad Code Name: Worksheet"+o)}})}function Ore(n){if(!n||!n.SheetNames||!n.Sheets)throw new Error("Invalid Workbook");if(!n.SheetNames.length)throw new Error("Workbook is empty");var e=n.Workbook&&n.Workbook.Sheets||[];kre(n.SheetNames,e,!!n.vbaraw);for(var t=0;t<n.SheetNames.length;++t)ene(n.Sheets[n.SheetNames[t]],n.SheetNames[t],t)}function nO(n){var e=[fa];e[e.length]=jt("workbook",null,{xmlns:G0[0],"xmlns:r":Va.r});var t=n.Workbook&&(n.Workbook.Names||[]).length>0,r={codeName:"ThisWorkbook"};n.Workbook&&n.Workbook.WBProps&&(Cre.forEach(function(c){n.Workbook.WBProps[c[0]]!=null&&n.Workbook.WBProps[c[0]]!=c[1]&&(r[c[0]]=n.Workbook.WBProps[c[0]])}),n.Workbook.WBProps.CodeName&&(r.codeName=n.Workbook.WBProps.CodeName,delete r.CodeName)),e[e.length]=jt("workbookPr",null,r);var i=n.Workbook&&n.Workbook.Sheets||[],a=0;if(i&&i[0]&&i[0].Hidden){for(e[e.length]="<bookViews>",a=0;a!=n.SheetNames.length&&!(!i[a]||!i[a].Hidden);++a);a==n.SheetNames.length&&(a=0),e[e.length]='<workbookView firstSheet="'+a+'" activeTab="'+a+'"/>',e[e.length]="</bookViews>"}for(e[e.length]="<sheets>",a=0;a!=n.SheetNames.length;++a){var o={name:Ir(n.SheetNames[a].slice(0,31))};if(o.sheetId=""+(a+1),o["r:id"]="rId"+(a+1),i[a])switch(i[a].Hidden){case 1:o.state="hidden";break;case 2:o.state="veryHidden";break}e[e.length]=jt("sheet",null,o)}return e[e.length]="</sheets>",t&&(e[e.length]="<definedNames>",n.Workbook&&n.Workbook.Names&&n.Workbook.Names.forEach(function(c){var u={name:c.Name};c.Comment&&(u.comment=c.Comment),c.Sheet!=null&&(u.localSheetId=""+c.Sheet),c.Hidden&&(u.hidden="1"),c.Ref&&(e[e.length]=jt("definedName",Ir(c.Ref),u))}),e[e.length]="</definedNames>"),e.length>2&&(e[e.length]="</workbook>",e[1]=e[1].replace("/>",">")),e.join("")}function Dre(n,e){var t={};return t.Hidden=n.read_shift(4),t.iTabID=n.read_shift(4),t.strRelID=k5(n),t.name=Ts(n),t}function Lre(n,e){return e||(e=lt(127)),e.write_shift(4,n.Hidden),e.write_shift(4,n.iTabID),Sb(n.strRelID,e),qa(n.name.slice(0,31),e),e.length>e.l?e.slice(0,e.l):e}function jre(n,e){var t={},r=n.read_shift(4);t.defaultThemeVersion=n.read_shift(4);var i=e>8?Ts(n):"";return i.length>0&&(t.CodeName=i),t.autoCompressPictures=!!(r&65536),t.backupFile=!!(r&64),t.checkCompatibility=!!(r&4096),t.date1904=!!(r&1),t.filterPrivacy=!!(r&8),t.hidePivotFieldList=!!(r&1024),t.promptedSolutions=!!(r&16),t.publishItems=!!(r&2048),t.refreshAllConnections=!!(r&262144),t.saveExternalLinkValues=!!(r&128),t.showBorderUnselectedTables=!!(r&4),t.showInkAnnotation=!!(r&32),t.showObjects=["all","placeholders","none"][r>>13&3],t.showPivotChartFilter=!!(r&32768),t.updateLinks=["userSet","never","always"][r>>8&3],t}function Mre(n,e){e||(e=lt(72));var t=0;return n&&n.filterPrivacy&&(t|=8),e.write_shift(4,t),e.write_shift(4,0),m7(n&&n.CodeName||"ThisWorkbook",e),e.slice(0,e.l)}function Pre(n,e,t){var r=n.l+e;n.l+=4,n.l+=1;var i=n.read_shift(4),a=IQ(n),o=$te(n,0,t),c=Eb(n);n.l=r;var u={Name:a,Ptg:o};return i<268435455&&(u.Sheet=i),c&&(u.Comment=c),u}function Fre(n,e){St(n,143);for(var t=0;t!=e.SheetNames.length;++t){var r=e.Workbook&&e.Workbook.Sheets&&e.Workbook.Sheets[t]&&e.Workbook.Sheets[t].Hidden||0,i={Hidden:r,iTabID:t+1,strRelID:"rId"+(t+1),name:e.SheetNames[t]};St(n,156,Lre(i))}St(n,144)}function Bre(n,e){e||(e=lt(127));for(var t=0;t!=4;++t)e.write_shift(4,0);return qa("SheetJS",e),qa(k2.version,e),qa(k2.version,e),qa("7262",e),e.length>e.l?e.slice(0,e.l):e}function Ure(n,e){e||(e=lt(29)),e.write_shift(-4,0),e.write_shift(-4,460),e.write_shift(4,28800),e.write_shift(4,17600),e.write_shift(4,500),e.write_shift(4,n),e.write_shift(4,n);var t=120;return e.write_shift(1,t),e.length>e.l?e.slice(0,e.l):e}function Vre(n,e){if(!(!e.Workbook||!e.Workbook.Sheets)){for(var t=e.Workbook.Sheets,r=0,i=-1,a=-1;r<t.length;++r)!t[r]||!t[r].Hidden&&i==-1?i=r:t[r].Hidden==1&&a==-1&&(a=r);a>i||(St(n,135),St(n,158,Ure(i)),St(n,136))}}function zre(n,e){var t=po();return St(t,131),St(t,128,Bre()),St(t,153,Mre(n.Workbook&&n.Workbook.WBProps||null)),Vre(t,n),Fre(t,n),St(t,132),t.end()}function qre(n,e,t){return(e.slice(-4)===".bin"?zre:nO)(n)}function Hre(n,e,t,r,i){return(e.slice(-4)===".bin"?Are:Z7)(n,t,r,i)}function Gre(n,e,t){return(e.slice(-4)===".bin"?cee:F7)(n,t)}function Wre(n,e,t){return(e.slice(-4)===".bin"?MZ:L7)(n,t)}function Yre(n,e,t){return(e.slice(-4)===".bin"?Tee:q7)(n)}function $re(n){return(n.slice(-4)===".bin"?vee:V7)()}function Kre(n,e){var t=[];return n.Props&&t.push(GQ(n.Props,e)),n.Custprops&&t.push(WQ(n.Props,n.Custprops)),t.join("")}function Xre(){return""}function Jre(n,e){var t=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return e.cellXfs.forEach(function(r,i){var a=[];a.push(jt("NumberFormat",null,{"ss:Format":Ir(Bi[r.numFmtId])}));var o={"ss:ID":"s"+(21+i)};t.push(jt("Style",a.join(""),o))}),jt("Styles",t.join(""))}function rO(n){return jt("NamedRange",null,{"ss:Name":n.Name,"ss:RefersTo":"="+Cb(n.Ref,{r:0,c:0})})}function Qre(n){if(!((n||{}).Workbook||{}).Names)return"";for(var e=n.Workbook.Names,t=[],r=0;r<e.length;++r){var i=e[r];i.Sheet==null&&(i.Name.match(/^_xlfn\./)||t.push(rO(i)))}return jt("Names",t.join(""))}function Zre(n,e,t,r){if(!n||!((r||{}).Workbook||{}).Names)return"";for(var i=r.Workbook.Names,a=[],o=0;o<i.length;++o){var c=i[o];c.Sheet==t&&(c.Name.match(/^_xlfn\./)||a.push(rO(c)))}return a.join("")}function eie(n,e,t,r){if(!n)return"";var i=[];if(n["!margins"]&&(i.push("<PageSetup>"),n["!margins"].header&&i.push(jt("Header",null,{"x:Margin":n["!margins"].header})),n["!margins"].footer&&i.push(jt("Footer",null,{"x:Margin":n["!margins"].footer})),i.push(jt("PageMargins",null,{"x:Bottom":n["!margins"].bottom||"0.75","x:Left":n["!margins"].left||"0.7","x:Right":n["!margins"].right||"0.7","x:Top":n["!margins"].top||"0.75"})),i.push("</PageSetup>")),r&&r.Workbook&&r.Workbook.Sheets&&r.Workbook.Sheets[t])if(r.Workbook.Sheets[t].Hidden)i.push(jt("Visible",r.Workbook.Sheets[t].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var a=0;a<t&&!(r.Workbook.Sheets[a]&&!r.Workbook.Sheets[a].Hidden);++a);a==t&&i.push("<Selected/>")}return((((r||{}).Workbook||{}).Views||[])[0]||{}).RTL&&i.push("<DisplayRightToLeft/>"),n["!protect"]&&(i.push(ls("ProtectContents","True")),n["!protect"].objects&&i.push(ls("ProtectObjects","True")),n["!protect"].scenarios&&i.push(ls("ProtectScenarios","True")),n["!protect"].selectLockedCells!=null&&!n["!protect"].selectLockedCells?i.push(ls("EnableSelection","NoSelection")):n["!protect"].selectUnlockedCells!=null&&!n["!protect"].selectUnlockedCells&&i.push(ls("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(o){n["!protect"][o[0]]&&i.push("<"+o[1]+"/>")})),i.length==0?"":jt("WorksheetOptions",i.join(""),{xmlns:Po.x})}function tie(n){return n.map(function(e){var t=aQ(e.t||""),r=jt("ss:Data",t,{xmlns:"http://www.w3.org/TR/REC-html40"});return jt("Comment",r,{"ss:Author":e.a})}).join("")}function nie(n,e,t,r,i,a,o){if(!n||n.v==null&&n.f==null)return"";var c={};if(n.f&&(c["ss:Formula"]="="+Ir(Cb(n.f,o))),n.F&&n.F.slice(0,e.length)==e){var u=za(n.F.slice(e.length+1));c["ss:ArrayRange"]="RC:R"+(u.r==o.r?"":"["+(u.r-o.r)+"]")+"C"+(u.c==o.c?"":"["+(u.c-o.c)+"]")}if(n.l&&n.l.Target&&(c["ss:HRef"]=Ir(n.l.Target),n.l.Tooltip&&(c["x:HRefScreenTip"]=Ir(n.l.Tooltip))),t["!merges"])for(var h=t["!merges"],m=0;m!=h.length;++m)h[m].s.c!=o.c||h[m].s.r!=o.r||(h[m].e.c>h[m].s.c&&(c["ss:MergeAcross"]=h[m].e.c-h[m].s.c),h[m].e.r>h[m].s.r&&(c["ss:MergeDown"]=h[m].e.r-h[m].s.r));var g="",_="";switch(n.t){case"z":if(!r.sheetStubs)return"";break;case"n":g="Number",_=String(n.v);break;case"b":g="Boolean",_=n.v?"1":"0";break;case"e":g="Error",_=og[n.v];break;case"d":g="DateTime",_=new Date(n.v).toISOString(),n.z==null&&(n.z=n.z||Bi[14]);break;case"s":g="String",_=iQ(n.v||"");break}var v=Jh(r.cellXfs,n,r);c["ss:StyleID"]="s"+(21+v),c["ss:Index"]=o.c+1;var b=n.v!=null?_:"",w=n.t=="z"?"":'<Data ss:Type="'+g+'">'+b+"</Data>";return(n.c||[]).length>0&&(w+=tie(n.c)),jt("Cell",w,c)}function rie(n,e){var t='<Row ss:Index="'+(n+1)+'"';return e&&(e.hpt&&!e.hpx&&(e.hpx=P7(e.hpt)),e.hpx&&(t+=' ss:AutoFitHeight="0" ss:Height="'+e.hpx+'"'),e.hidden&&(t+=' ss:Hidden="1"')),t+">"}function iie(n,e,t,r){if(!n["!ref"])return"";var i=oi(n["!ref"]),a=n["!merges"]||[],o=0,c=[];n["!cols"]&&n["!cols"].forEach(function(T,N){Ab(T);var P=!!T.width,R=jv(N,T),j={"ss:Index":N+1};P&&(j["ss:Width"]=V2(R.width)),T.hidden&&(j["ss:Hidden"]="1"),c.push(jt("Column",null,j))});for(var u=Array.isArray(n),h=i.s.r;h<=i.e.r;++h){for(var m=[rie(h,(n["!rows"]||[])[h])],g=i.s.c;g<=i.e.c;++g){var _=!1;for(o=0;o!=a.length;++o)if(!(a[o].s.c>g)&&!(a[o].s.r>h)&&!(a[o].e.c<g)&&!(a[o].e.r<h)){(a[o].s.c!=g||a[o].s.r!=h)&&(_=!0);break}if(!_){var v={r:h,c:g},b=Rr(v),w=u?(n[h]||[])[g]:n[b];m.push(nie(w,b,n,e,t,r,v))}}m.push("</Row>"),m.length>2&&c.push(m.join(""))}return c.join("")}function aie(n,e,t){var r=[],i=t.SheetNames[n],a=t.Sheets[i],o=a?Zre(a,e,n,t):"";return o.length>0&&r.push("<Names>"+o+"</Names>"),o=a?iie(a,e,n,t):"",o.length>0&&r.push("<Table>"+o+"</Table>"),r.push(eie(a,e,n,t)),r.join("")}function sie(n,e){e||(e={}),n.SSF||(n.SSF=_o(Bi)),n.SSF&&(Rv(),Iv(n.SSF),e.revssf=kv(n.SSF),e.revssf[n.SSF[65535]]=0,e.ssf=n.SSF,e.cellXfs=[],Jh(e.cellXfs,{},{revssf:{General:0}}));var t=[];t.push(Kre(n,e)),t.push(Xre()),t.push(""),t.push("");for(var r=0;r<n.SheetNames.length;++r)t.push(jt("Worksheet",aie(r,e,n),{"ss:Name":Ir(n.SheetNames[r])}));return t[2]=Jre(n,e),t[3]=Qre(n),fa+jt("Workbook",t.join(""),{xmlns:Po.ss,"xmlns:o":Po.o,"xmlns:x":Po.x,"xmlns:ss":Po.ss,"xmlns:dt":Po.dt,"xmlns:html":Po.html})}var bx={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function oie(n,e){var t=[],r=[],i=[],a=0,o,c=$N(o6,"n"),u=$N(l6,"n");if(n.Props)for(o=us(n.Props),a=0;a<o.length;++a)(Object.prototype.hasOwnProperty.call(c,o[a])?t:Object.prototype.hasOwnProperty.call(u,o[a])?r:i).push([o[a],n.Props[o[a]]]);if(n.Custprops)for(o=us(n.Custprops),a=0;a<o.length;++a)Object.prototype.hasOwnProperty.call(n.Props||{},o[a])||(Object.prototype.hasOwnProperty.call(c,o[a])?t:Object.prototype.hasOwnProperty.call(u,o[a])?r:i).push([o[a],n.Custprops[o[a]]]);var h=[];for(a=0;a<i.length;++a)N7.indexOf(i[a][0])>-1||S7.indexOf(i[a][0])>-1||i[a][1]!=null&&h.push(i[a]);r.length&&Fr.utils.cfb_add(e,"/SummaryInformation",d6(r,bx.SI,u,l6)),(t.length||h.length)&&Fr.utils.cfb_add(e,"/DocumentSummaryInformation",d6(t,bx.DSI,c,o6,h.length?h:null,bx.UDI))}function lie(n,e){var t=e||{},r=Fr.utils.cfb_new({root:"R"}),i="/Workbook";switch(t.bookType||"xls"){case"xls":t.bookType="biff8";case"xla":t.bookType||(t.bookType="xla");case"biff8":i="/Workbook",t.biff=8;break;case"biff5":i="/Book",t.biff=5;break;default:throw new Error("invalid type "+t.bookType+" for XLS CFB")}return Fr.utils.cfb_add(r,i,iO(n,t)),t.biff==8&&(n.Props||n.Custprops)&&oie(n,r),t.biff==8&&n.vbaraw&&Aee(r,Fr.read(n.vbaraw,{type:typeof n.vbaraw=="string"?"binary":"buffer"})),r}var cie={0:{f:fne},1:{f:xne},2:{f:Une},3:{f:Cne},4:{f:Sne},5:{f:Mne},6:{f:Gne},7:{f:One},8:{f:Qne},9:{f:Jne},10:{f:Kne},11:{f:Xne},12:{f:bne},13:{f:zne},14:{f:Rne},15:{f:Ane},16:{f:Fne},17:{f:Yne},18:{f:Lne},19:{f:bb},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:Pre},40:{},42:{},43:{f:GZ},44:{f:qZ},45:{f:$Z},46:{f:XZ},47:{f:KZ},48:{},49:{f:bQ},50:{},51:{f:fee},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:EZ},62:{f:Hne},63:{f:_ee},64:{f:mre},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Vc,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:ure},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:_ne},148:{f:pne,p:16},151:{f:ire},152:{},153:{f:jre},154:{},155:{},156:{f:Dre},157:{},158:{},159:{T:1,f:DZ},160:{T:-1},161:{T:1,f:ad},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:Zne},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:uee},336:{T:-1},337:{f:pee,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:k5},357:{},358:{},359:{},360:{T:1},361:{},362:{f:vZ},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:are},427:{f:sre},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:lre},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:vne},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:nre},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:k5},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:Eee},633:{T:1},634:{T:-1},635:{T:1,f:wee},636:{T:-1},637:{f:AQ},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:Nre},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:pre},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function Pt(n,e,t,r){var i=e;if(!isNaN(i)){var a=r||(t||[]).length||0,o=n.next(4);o.write_shift(2,i),o.write_shift(2,a),a>0&&yb(t)&&n.push(t)}}function uie(n,e,t,r){var i=(t||[]).length||0;if(i<=8224)return Pt(n,e,t,i);var a=e;if(!isNaN(a)){for(var o=t.parts||[],c=0,u=0,h=0;h+(o[c]||8224)<=8224;)h+=o[c]||8224,c++;var m=n.next(4);for(m.write_shift(2,a),m.write_shift(2,h),n.push(t.slice(u,u+h)),u+=h;u<i;){for(m=n.next(4),m.write_shift(2,60),h=0;h+(o[c]||8224)<=8224;)h+=o[c]||8224,c++;m.write_shift(2,h),n.push(t.slice(u,u+h)),u+=h}}}function cg(n,e,t){return n||(n=lt(7)),n.write_shift(2,e),n.write_shift(2,t),n.write_shift(2,0),n.write_shift(1,0),n}function hie(n,e,t,r){var i=lt(9);return cg(i,n,e),I7(t,r||"b",i),i}function fie(n,e,t){var r=lt(8+2*t.length);return cg(r,n,e),r.write_shift(1,t.length),r.write_shift(t.length,t,"sbcs"),r.l<r.length?r.slice(0,r.l):r}function die(n,e,t,r){if(e.v!=null)switch(e.t){case"d":case"n":var i=e.t=="d"?vo(qs(e.v)):e.v;i==(i|0)&&i>=0&&i<65536?Pt(n,2,NZ(t,r,i)):Pt(n,3,AZ(t,r,i));return;case"b":case"e":Pt(n,5,hie(t,r,e.v,e.t));return;case"s":case"str":Pt(n,4,fie(t,r,(e.v||"").slice(0,255)));return}Pt(n,1,cg(null,t,r))}function mie(n,e,t,r){var i=Array.isArray(e),a=oi(e["!ref"]||"A1"),o,c="",u=[];if(a.e.c>255||a.e.r>16383){if(r.WTF)throw new Error("Range "+(e["!ref"]||"A1")+" exceeds format limit A1:IV16384");a.e.c=Math.min(a.e.c,255),a.e.r=Math.min(a.e.c,16383),o=ua(a)}for(var h=a.s.r;h<=a.e.r;++h){c=cs(h);for(var m=a.s.c;m<=a.e.c;++m){h===a.s.r&&(u[m]=Ss(m)),o=u[m]+c;var g=i?(e[h]||[])[m]:e[o];g&&die(n,g,h,m)}}}function pie(n,e){for(var t=e||{},r=po(),i=0,a=0;a<n.SheetNames.length;++a)n.SheetNames[a]==t.sheet&&(i=a);if(i==0&&t.sheet&&n.SheetNames[0]!=t.sheet)throw new Error("Sheet not found: "+t.sheet);return Pt(r,t.biff==4?1033:t.biff==3?521:9,Tb(n,16,t)),mie(r,n.Sheets[n.SheetNames[i]],i,t),Pt(r,10),r.end()}function gie(n,e,t){Pt(n,49,cZ({sz:12,name:"Arial"},t))}function vie(n,e,t){e&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)e[i]!=null&&Pt(n,1054,fZ(i,e[i],t))})}function _ie(n,e){var t=lt(19);t.write_shift(4,2151),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(2,3),t.write_shift(1,1),t.write_shift(4,0),Pt(n,2151,t),t=lt(39),t.write_shift(4,2152),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(2,3),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(2,1),t.write_shift(4,4),t.write_shift(2,0),O7(oi(e["!ref"]||"A1"),t),t.write_shift(4,4),Pt(n,2152,t)}function yie(n,e){for(var t=0;t<16;++t)Pt(n,224,p6({numFmtId:0,style:!0},0,e));e.cellXfs.forEach(function(r){Pt(n,224,p6(r,0,e))})}function xie(n,e){for(var t=0;t<e["!links"].length;++t){var r=e["!links"][t];Pt(n,440,xZ(r)),r[1].Tooltip&&Pt(n,2048,wZ(r))}delete e["!links"]}function wie(n,e){if(e){var t=0;e.forEach(function(r,i){++t<=256&&r&&Pt(n,125,SZ(jv(i,r),i))})}}function bie(n,e,t,r,i){var a=16+Jh(i.cellXfs,e,i);if(e.v==null&&!e.bf){Pt(n,513,zf(t,r,a));return}if(e.bf)Pt(n,6,Wte(e,t,r,i,a));else switch(e.t){case"d":case"n":var o=e.t=="d"?vo(qs(e.v)):e.v;Pt(n,515,gZ(t,r,o,a));break;case"b":case"e":Pt(n,517,pZ(t,r,e.v,a,i,e.t));break;case"s":case"str":if(i.bookSST){var c=Rb(i.Strings,e.v,i.revStrings);Pt(n,253,uZ(t,r,c,a))}else Pt(n,516,hZ(t,r,(e.v||"").slice(0,255),a,i));break;default:Pt(n,513,zf(t,r,a))}}function Eie(n,e,t){var r=po(),i=t.SheetNames[n],a=t.Sheets[i]||{},o=(t||{}).Workbook||{},c=(o.Sheets||[])[n]||{},u=Array.isArray(a),h=e.biff==8,m,g="",_=[],v=oi(a["!ref"]||"A1"),b=h?65536:16384;if(v.e.c>255||v.e.r>=b){if(e.WTF)throw new Error("Range "+(a["!ref"]||"A1")+" exceeds format limit A1:IV16384");v.e.c=Math.min(v.e.c,255),v.e.r=Math.min(v.e.c,b-1)}Pt(r,2057,Tb(t,16,e)),Pt(r,13,dl(1)),Pt(r,12,dl(100)),Pt(r,15,Us(!0)),Pt(r,17,Us(!1)),Pt(r,16,Vf(.001)),Pt(r,95,Us(!0)),Pt(r,42,Us(!1)),Pt(r,43,Us(!1)),Pt(r,130,dl(1)),Pt(r,128,mZ()),Pt(r,131,Us(!1)),Pt(r,132,Us(!1)),h&&wie(r,a["!cols"]),Pt(r,512,dZ(v,e)),h&&(a["!links"]=[]);for(var w=v.s.r;w<=v.e.r;++w){g=cs(w);for(var T=v.s.c;T<=v.e.c;++T){w===v.s.r&&(_[T]=Ss(T)),m=_[T]+g;var N=u?(a[w]||[])[T]:a[m];N&&(bie(r,N,w,T,e),h&&N.l&&a["!links"].push([m,N.l]))}}var P=c.CodeName||c.name||i;return h&&Pt(r,574,lZ((o.Views||[])[0])),h&&(a["!merges"]||[]).length&&Pt(r,229,yZ(a["!merges"])),h&&xie(r,a),Pt(r,442,k7(P)),h&&_ie(r,a),Pt(r,10),r.end()}function Sie(n,e,t){var r=po(),i=(n||{}).Workbook||{},a=i.Sheets||[],o=i.WBProps||{},c=t.biff==8,u=t.biff==5;if(Pt(r,2057,Tb(n,5,t)),t.bookType=="xla"&&Pt(r,135),Pt(r,225,c?dl(1200):null),Pt(r,193,KQ(2)),u&&Pt(r,191),u&&Pt(r,192),Pt(r,226),Pt(r,92,iZ("SheetJS",t)),Pt(r,66,dl(c?1200:1252)),c&&Pt(r,353,dl(0)),c&&Pt(r,448),Pt(r,317,TZ(n.SheetNames.length)),c&&n.vbaraw&&Pt(r,211),c&&n.vbaraw){var h=o.CodeName||"ThisWorkbook";Pt(r,442,k7(h))}Pt(r,156,dl(17)),Pt(r,25,Us(!1)),Pt(r,18,Us(!1)),Pt(r,19,dl(0)),c&&Pt(r,431,Us(!1)),c&&Pt(r,444,dl(0)),Pt(r,61,oZ()),Pt(r,64,Us(!1)),Pt(r,141,dl(0)),Pt(r,34,Us(Ire(n)=="true")),Pt(r,14,Us(!0)),c&&Pt(r,439,Us(!1)),Pt(r,218,dl(0)),gie(r,n,t),vie(r,n.SSF,t),yie(r,t),c&&Pt(r,352,Us(!1));var m=r.end(),g=po();c&&Pt(g,140,bZ()),c&&t.Strings&&uie(g,252,sZ(t.Strings)),Pt(g,10);var _=g.end(),v=po(),b=0,w=0;for(w=0;w<n.SheetNames.length;++w)b+=(c?12:11)+(c?2:1)*n.SheetNames[w].length;var T=m.length+b+_.length;for(w=0;w<n.SheetNames.length;++w){var N=a[w]||{};Pt(v,133,aZ({pos:T,hs:N.Hidden||0,dt:0,name:n.SheetNames[w]},t)),T+=e[w].length}var P=v.end();if(b!=P.length)throw new Error("BS8 "+b+" != "+P.length);var R=[];return m.length&&R.push(m),P.length&&R.push(P),_.length&&R.push(_),os(R)}function Tie(n,e){var t=e||{},r=[];n&&!n.SSF&&(n.SSF=_o(Bi)),n&&n.SSF&&(Rv(),Iv(n.SSF),t.revssf=kv(n.SSF),t.revssf[n.SSF[65535]]=0,t.ssf=n.SSF),t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,kb(t),t.cellXfs=[],Jh(t.cellXfs,{},{revssf:{General:0}}),n.Props||(n.Props={});for(var i=0;i<n.SheetNames.length;++i)r[r.length]=Eie(i,t,n);return r.unshift(Sie(n,r,t)),os(r)}function iO(n,e){for(var t=0;t<=n.SheetNames.length;++t){var r=n.Sheets[n.SheetNames[t]];if(!(!r||!r["!ref"])){var i=Go(r["!ref"]);i.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+n.SheetNames[t]+"' extends beyond column IV (255).  Data may be lost.")}}var a=e||{};switch(a.biff||2){case 8:case 5:return Tie(n,e);case 4:case 3:case 2:return pie(n,e)}throw new Error("invalid type "+a.bookType+" for BIFF")}function Aie(n,e,t,r){for(var i=n["!merges"]||[],a=[],o=e.s.c;o<=e.e.c;++o){for(var c=0,u=0,h=0;h<i.length;++h)if(!(i[h].s.r>t||i[h].s.c>o)&&!(i[h].e.r<t||i[h].e.c<o)){if(i[h].s.r<t||i[h].s.c<o){c=-1;break}c=i[h].e.r-i[h].s.r+1,u=i[h].e.c-i[h].s.c+1;break}if(!(c<0)){var m=Rr({r:t,c:o}),g=r.dense?(n[t]||[])[o]:n[m],_=g&&g.v!=null&&(g.h||rQ(g.w||(ju(g),g.w)||""))||"",v={};c>1&&(v.rowspan=c),u>1&&(v.colspan=u),r.editable?_='<span contenteditable="true">'+_+"</span>":g&&(v["data-t"]=g&&g.t||"z",g.v!=null&&(v["data-v"]=g.v),g.z!=null&&(v["data-z"]=g.z),g.l&&(g.l.Target||"#").charAt(0)!="#"&&(_='<a href="'+g.l.Target+'">'+_+"</a>")),v.id=(r.id||"sjs")+"-"+m,a.push(jt("td",_,v))}}var b="<tr>";return b+a.join("")+"</tr>"}var Nie='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',Cie="</body></html>";function Iie(n,e,t){var r=[];return r.join("")+"<table"+(t&&t.id?' id="'+t.id+'"':"")+">"}function aO(n,e){var t=e||{},r=t.header!=null?t.header:Nie,i=t.footer!=null?t.footer:Cie,a=[r],o=Go(n["!ref"]);t.dense=Array.isArray(n),a.push(Iie(n,o,t));for(var c=o.s.r;c<=o.e.r;++c)a.push(Aie(n,o,c,t));return a.push("</table>"+i),a.join("")}function sO(n,e,t){var r=t||{},i=0,a=0;if(r.origin!=null)if(typeof r.origin=="number")i=r.origin;else{var o=typeof r.origin=="string"?za(r.origin):r.origin;i=o.r,a=o.c}var c=e.getElementsByTagName("tr"),u=Math.min(r.sheetRows||1e7,c.length),h={s:{r:0,c:0},e:{r:i,c:a}};if(n["!ref"]){var m=Go(n["!ref"]);h.s.r=Math.min(h.s.r,m.s.r),h.s.c=Math.min(h.s.c,m.s.c),h.e.r=Math.max(h.e.r,m.e.r),h.e.c=Math.max(h.e.c,m.e.c),i==-1&&(h.e.r=i=m.e.r+1)}var g=[],_=0,v=n["!rows"]||(n["!rows"]=[]),b=0,w=0,T=0,N=0,P=0,R=0;for(n["!cols"]||(n["!cols"]=[]);b<c.length&&w<u;++b){var j=c[b];if(b6(j)){if(r.display)continue;v[w]={hidden:!0}}var K=j.children;for(T=N=0;T<K.length;++T){var U=K[T];if(!(r.display&&b6(U))){var C=U.hasAttribute("data-v")?U.getAttribute("data-v"):U.hasAttribute("v")?U.getAttribute("v"):oQ(U.innerHTML),k=U.getAttribute("data-z")||U.getAttribute("z");for(_=0;_<g.length;++_){var I=g[_];I.s.c==N+a&&I.s.r<w+i&&w+i<=I.e.r&&(N=I.e.c+1-a,_=-1)}R=+U.getAttribute("colspan")||1,((P=+U.getAttribute("rowspan")||1)>1||R>1)&&g.push({s:{r:w+i,c:N+a},e:{r:w+i+(P||1)-1,c:N+a+(R||1)-1}});var z={t:"s",v:C},O=U.getAttribute("data-t")||U.getAttribute("t")||"";C!=null&&(C.length==0?z.t=O||"z":r.raw||C.trim().length==0||O=="s"||(C==="TRUE"?z={t:"b",v:!0}:C==="FALSE"?z={t:"b",v:!1}:isNaN(Au(C))?isNaN(Rp(C).getDate())||(z={t:"d",v:qs(C)},r.cellDates||(z={t:"n",v:vo(z.v)}),z.z=r.dateNF||Bi[14]):z={t:"n",v:Au(C)})),z.z===void 0&&k!=null&&(z.z=k);var M="",B=U.getElementsByTagName("A");if(B&&B.length)for(var Y=0;Y<B.length&&!(B[Y].hasAttribute("href")&&(M=B[Y].getAttribute("href"),M.charAt(0)!="#"));++Y);M&&M.charAt(0)!="#"&&(z.l={Target:M}),r.dense?(n[w+i]||(n[w+i]=[]),n[w+i][N+a]=z):n[Rr({c:N+a,r:w+i})]=z,h.e.c<N+a&&(h.e.c=N+a),N+=R}}++w}return g.length&&(n["!merges"]=(n["!merges"]||[]).concat(g)),h.e.r=Math.max(h.e.r,w-1+i),n["!ref"]=ua(h),w>=u&&(n["!fullref"]=ua((h.e.r=c.length-b+w-1+i,h))),n}function oO(n,e){var t=e||{},r=t.dense?[]:{};return sO(r,n,e)}function Rie(n,e){return td(oO(n,e),e)}function b6(n){var e="",t=kie(n);return t&&(e=t(n).getPropertyValue("display")),e||(e=n.style&&n.style.display),e==="none"}function kie(n){return n.ownerDocument.defaultView&&typeof n.ownerDocument.defaultView.getComputedStyle=="function"?n.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var Oie=(function(){var n=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),e="<office:document-styles "+Op({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+n+"</office:document-styles>";return function(){return fa+e}})(),E6=(function(){var n=function(a){return Ir(a).replace(/  +/g,function(o){return'<text:s text:c="'+o.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},e=`          <table:table-cell />
`,t=`          <table:covered-table-cell/>
`,r=function(a,o,c){var u=[];u.push('      <table:table table:name="'+Ir(o.SheetNames[c])+`" table:style-name="ta1">
`);var h=0,m=0,g=Go(a["!ref"]||"A1"),_=a["!merges"]||[],v=0,b=Array.isArray(a);if(a["!cols"])for(m=0;m<=g.e.c;++m)u.push("        <table:table-column"+(a["!cols"][m]?' table:style-name="co'+a["!cols"][m].ods+'"':"")+`></table:table-column>
`);var w="",T=a["!rows"]||[];for(h=0;h<g.s.r;++h)w=T[h]?' table:style-name="ro'+T[h].ods+'"':"",u.push("        <table:table-row"+w+`></table:table-row>
`);for(;h<=g.e.r;++h){for(w=T[h]?' table:style-name="ro'+T[h].ods+'"':"",u.push("        <table:table-row"+w+`>
`),m=0;m<g.s.c;++m)u.push(e);for(;m<=g.e.c;++m){var N=!1,P={},R="";for(v=0;v!=_.length;++v)if(!(_[v].s.c>m)&&!(_[v].s.r>h)&&!(_[v].e.c<m)&&!(_[v].e.r<h)){(_[v].s.c!=m||_[v].s.r!=h)&&(N=!0),P["table:number-columns-spanned"]=_[v].e.c-_[v].s.c+1,P["table:number-rows-spanned"]=_[v].e.r-_[v].s.r+1;break}if(N){u.push(t);continue}var j=Rr({r:h,c:m}),K=b?(a[h]||[])[m]:a[j];if(K&&K.f&&(P["table:formula"]=Ir(Qte(K.f)),K.F&&K.F.slice(0,j.length)==j)){var U=Go(K.F);P["table:number-matrix-columns-spanned"]=U.e.c-U.s.c+1,P["table:number-matrix-rows-spanned"]=U.e.r-U.s.r+1}if(!K){u.push(e);continue}switch(K.t){case"b":R=K.v?"TRUE":"FALSE",P["office:value-type"]="boolean",P["office:boolean-value"]=K.v?"true":"false";break;case"n":R=K.w||String(K.v||0),P["office:value-type"]="float",P["office:value"]=K.v||0;break;case"s":case"str":R=K.v==null?"":K.v,P["office:value-type"]="string";break;case"d":R=K.w||qs(K.v).toISOString(),P["office:value-type"]="date",P["office:date-value"]=qs(K.v).toISOString(),P["table:style-name"]="ce1";break;default:u.push(e);continue}var C=n(R);if(K.l&&K.l.Target){var k=K.l.Target;k=k.charAt(0)=="#"?"#"+Zte(k.slice(1)):k,k.charAt(0)!="#"&&!k.match(/^\w+:/)&&(k="../"+k),C=jt("text:a",C,{"xlink:href":k.replace(/&/g,"&amp;")})}u.push("          "+jt("table:table-cell",jt("text:p",C,{}),P)+`
`)}u.push(`        </table:table-row>
`)}return u.push(`      </table:table>
`),u.join("")},i=function(a,o){a.push(` <office:automatic-styles>
`),a.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),a.push(`   <number:month number:style="long"/>
`),a.push(`   <number:text>/</number:text>
`),a.push(`   <number:day number:style="long"/>
`),a.push(`   <number:text>/</number:text>
`),a.push(`   <number:year/>
`),a.push(`  </number:date-style>
`);var c=0;o.SheetNames.map(function(h){return o.Sheets[h]}).forEach(function(h){if(h&&h["!cols"]){for(var m=0;m<h["!cols"].length;++m)if(h["!cols"][m]){var g=h["!cols"][m];if(g.width==null&&g.wpx==null&&g.wch==null)continue;Ab(g),g.ods=c;var _=h["!cols"][m].wpx+"px";a.push('  <style:style style:name="co'+c+`" style:family="table-column">
`),a.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+_+`"/>
`),a.push(`  </style:style>
`),++c}}});var u=0;o.SheetNames.map(function(h){return o.Sheets[h]}).forEach(function(h){if(h&&h["!rows"]){for(var m=0;m<h["!rows"].length;++m)if(h["!rows"][m]){h["!rows"][m].ods=u;var g=h["!rows"][m].hpx+"px";a.push('  <style:style style:name="ro'+u+`" style:family="table-row">
`),a.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+g+`"/>
`),a.push(`  </style:style>
`),++u}}}),a.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),a.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),a.push(`  </style:style>
`),a.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),a.push(` </office:automatic-styles>
`)};return function(o,c){var u=[fa],h=Op({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),m=Op({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});c.bookType=="fods"?(u.push("<office:document"+h+m+`>
`),u.push(b7().replace(/office:document-meta/g,"office:meta"))):u.push("<office:document-content"+h+`>
`),i(u,o),u.push(`  <office:body>
`),u.push(`    <office:spreadsheet>
`);for(var g=0;g!=o.SheetNames.length;++g)u.push(r(o.Sheets[o.SheetNames[g]],o,g));return u.push(`    </office:spreadsheet>
`),u.push(`  </office:body>
`),c.bookType=="fods"?u.push("</office:document>"):u.push("</office:document-content>"),u.join("")}})();function lO(n,e){if(e.bookType=="fods")return E6(n,e);var t=pb(),r="",i=[],a=[];return r="mimetype",Bn(t,r,"application/vnd.oasis.opendocument.spreadsheet"),r="content.xml",Bn(t,r,E6(n,e)),i.push([r,"text/xml"]),a.push([r,"ContentFile"]),r="styles.xml",Bn(t,r,Oie(n,e)),i.push([r,"text/xml"]),a.push([r,"StylesFile"]),r="meta.xml",Bn(t,r,fa+b7()),i.push([r,"text/xml"]),a.push([r,"MetadataFile"]),r="manifest.rdf",Bn(t,r,HQ(a)),i.push([r,"application/rdf+xml"]),r="META-INF/manifest.xml",Bn(t,r,zQ(i)),t}function H2(n){return new DataView(n.buffer,n.byteOffset,n.byteLength)}function Die(n){return typeof TextEncoder<"u"?new TextEncoder().encode(n):Hl(kp(n))}function Lie(n,e){e:for(var t=0;t<=n.length-e.length;++t){for(var r=0;r<e.length;++r)if(n[t+r]!=e[r])continue e;return!0}return!1}function Yh(n){var e=n.reduce(function(i,a){return i+a.length},0),t=new Uint8Array(e),r=0;return n.forEach(function(i){t.set(i,r),r+=i.length}),t}function jie(n,e,t){var r=Math.floor(t==0?0:Math.LOG10E*Math.log(Math.abs(t)))+6176-20,i=t/Math.pow(10,r-6176);n[e+15]|=r>>7,n[e+14]|=(r&127)<<1;for(var a=0;i>=1;++a,i/=256)n[e+a]=i&255;n[e+15]|=t>=0?0:128}function Dp(n,e){var t=e?e[0]:0,r=n[t]&127;e:if(n[t++]>=128&&(r|=(n[t]&127)<<7,n[t++]<128||(r|=(n[t]&127)<<14,n[t++]<128)||(r|=(n[t]&127)<<21,n[t++]<128)||(r+=(n[t]&127)*Math.pow(2,28),++t,n[t++]<128)||(r+=(n[t]&127)*Math.pow(2,35),++t,n[t++]<128)||(r+=(n[t]&127)*Math.pow(2,42),++t,n[t++]<128)))break e;return e&&(e[0]=t),r}function Ar(n){var e=new Uint8Array(7);e[0]=n&127;var t=1;e:if(n>127){if(e[t-1]|=128,e[t]=n>>7&127,++t,n<=16383||(e[t-1]|=128,e[t]=n>>14&127,++t,n<=2097151)||(e[t-1]|=128,e[t]=n>>21&127,++t,n<=268435455)||(e[t-1]|=128,e[t]=n/256>>>21&127,++t,n<=34359738367)||(e[t-1]|=128,e[t]=n/65536>>>21&127,++t,n<=4398046511103))break e;e[t-1]|=128,e[t]=n/16777216>>>21&127,++t}return e.slice(0,t)}function b0(n){var e=0,t=n[e]&127;e:if(n[e++]>=128){if(t|=(n[e]&127)<<7,n[e++]<128||(t|=(n[e]&127)<<14,n[e++]<128)||(t|=(n[e]&127)<<21,n[e++]<128))break e;t|=(n[e]&127)<<28}return t}function Ea(n){for(var e=[],t=[0];t[0]<n.length;){var r=t[0],i=Dp(n,t),a=i&7;i=Math.floor(i/8);var o=0,c;if(i==0)break;switch(a){case 0:{for(var u=t[0];n[t[0]++]>=128;);c=n.slice(u,t[0])}break;case 5:o=4,c=n.slice(t[0],t[0]+o),t[0]+=o;break;case 1:o=8,c=n.slice(t[0],t[0]+o),t[0]+=o;break;case 2:o=Dp(n,t),c=n.slice(t[0],t[0]+o),t[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(a," for Field ").concat(i," at offset ").concat(r))}var h={data:c,type:a};e[i]==null?e[i]=[h]:e[i].push(h)}return e}function is(n){var e=[];return n.forEach(function(t,r){t.forEach(function(i){i.data&&(e.push(Ar(r*8+i.type)),i.type==2&&e.push(Ar(i.data.length)),e.push(i.data))})}),Yh(e)}function zl(n){for(var e,t=[],r=[0];r[0]<n.length;){var i=Dp(n,r),a=Ea(n.slice(r[0],r[0]+i));r[0]+=i;var o={id:b0(a[1][0].data),messages:[]};a[2].forEach(function(c){var u=Ea(c.data),h=b0(u[3][0].data);o.messages.push({meta:u,data:n.slice(r[0],r[0]+h)}),r[0]+=h}),(e=a[3])!=null&&e[0]&&(o.merge=b0(a[3][0].data)>>>0>0),t.push(o)}return t}function $d(n){var e=[];return n.forEach(function(t){var r=[];r[1]=[{data:Ar(t.id),type:0}],r[2]=[],t.merge!=null&&(r[3]=[{data:Ar(+!!t.merge),type:0}]);var i=[];t.messages.forEach(function(o){i.push(o.data),o.meta[3]=[{type:0,data:Ar(o.data.length)}],r[2].push({data:is(o.meta),type:2})});var a=is(r);e.push(Ar(a.length)),e.push(a),i.forEach(function(o){return e.push(o)})}),Yh(e)}function Mie(n,e){if(n!=0)throw new Error("Unexpected Snappy chunk type ".concat(n));for(var t=[0],r=Dp(e,t),i=[];t[0]<e.length;){var a=e[t[0]]&3;if(a==0){var o=e[t[0]++]>>2;if(o<60)++o;else{var c=o-59;o=e[t[0]],c>1&&(o|=e[t[0]+1]<<8),c>2&&(o|=e[t[0]+2]<<16),c>3&&(o|=e[t[0]+3]<<24),o>>>=0,o++,t[0]+=c}i.push(e.slice(t[0],t[0]+o)),t[0]+=o;continue}else{var u=0,h=0;if(a==1?(h=(e[t[0]]>>2&7)+4,u=(e[t[0]++]&224)<<3,u|=e[t[0]++]):(h=(e[t[0]++]>>2)+1,a==2?(u=e[t[0]]|e[t[0]+1]<<8,t[0]+=2):(u=(e[t[0]]|e[t[0]+1]<<8|e[t[0]+2]<<16|e[t[0]+3]<<24)>>>0,t[0]+=4)),i=[Yh(i)],u==0)throw new Error("Invalid offset 0");if(u>i[0].length)throw new Error("Invalid offset beyond length");if(h>=u)for(i.push(i[0].slice(-u)),h-=u;h>=i[i.length-1].length;)i.push(i[i.length-1]),h-=i[i.length-1].length;i.push(i[0].slice(-u,-u+h))}}var m=Yh(i);if(m.length!=r)throw new Error("Unexpected length: ".concat(m.length," != ").concat(r));return m}function ql(n){for(var e=[],t=0;t<n.length;){var r=n[t++],i=n[t]|n[t+1]<<8|n[t+2]<<16;t+=3,e.push(Mie(r,n.slice(t,t+i))),t+=i}if(t!==n.length)throw new Error("data is not a valid framed stream!");return Yh(e)}function Kd(n){for(var e=[],t=0;t<n.length;){var r=Math.min(n.length-t,268435455),i=new Uint8Array(4);e.push(i);var a=Ar(r),o=a.length;e.push(a),r<=60?(o++,e.push(new Uint8Array([r-1<<2]))):r<=256?(o+=2,e.push(new Uint8Array([240,r-1&255]))):r<=65536?(o+=3,e.push(new Uint8Array([244,r-1&255,r-1>>8&255]))):r<=16777216?(o+=4,e.push(new Uint8Array([248,r-1&255,r-1>>8&255,r-1>>16&255]))):r<=4294967296&&(o+=5,e.push(new Uint8Array([252,r-1&255,r-1>>8&255,r-1>>16&255,r-1>>>24&255]))),e.push(n.slice(t,t+r)),o+=r,i[0]=0,i[1]=o&255,i[2]=o>>8&255,i[3]=o>>16&255,t+=r}return Yh(e)}function Ex(n,e){var t=new Uint8Array(32),r=H2(t),i=12,a=0;switch(t[0]=5,n.t){case"n":t[1]=2,jie(t,i,n.v),a|=1,i+=16;break;case"b":t[1]=6,r.setFloat64(i,n.v?1:0,!0),a|=2,i+=8;break;case"s":if(e.indexOf(n.v)==-1)throw new Error("Value ".concat(n.v," missing from SST!"));t[1]=3,r.setUint32(i,e.indexOf(n.v),!0),a|=8,i+=4;break;default:throw"unsupported cell type "+n.t}return r.setUint32(8,a,!0),t.slice(0,i)}function Sx(n,e){var t=new Uint8Array(32),r=H2(t),i=12,a=0;switch(t[0]=3,n.t){case"n":t[2]=2,r.setFloat64(i,n.v,!0),a|=32,i+=8;break;case"b":t[2]=6,r.setFloat64(i,n.v?1:0,!0),a|=32,i+=8;break;case"s":if(e.indexOf(n.v)==-1)throw new Error("Value ".concat(n.v," missing from SST!"));t[2]=3,r.setUint32(i,e.indexOf(n.v),!0),a|=16,i+=4;break;default:throw"unsupported cell type "+n.t}return r.setUint32(4,a,!0),t.slice(0,i)}function xh(n){var e=Ea(n);return Dp(e[1][0].data)}function Pie(n,e,t){var r,i,a,o;if(!((r=n[6])!=null&&r[0])||!((i=n[7])!=null&&i[0]))throw"Mutation only works on post-BNC storages!";var c=((o=(a=n[8])==null?void 0:a[0])==null?void 0:o.data)&&b0(n[8][0].data)>0||!1;if(c)throw"Math only works with normal offsets";for(var u=0,h=H2(n[7][0].data),m=0,g=[],_=H2(n[4][0].data),v=0,b=[],w=0;w<e.length;++w){if(e[w]==null){h.setUint16(w*2,65535,!0),_.setUint16(w*2,65535);continue}h.setUint16(w*2,m,!0),_.setUint16(w*2,v,!0);var T,N;switch(typeof e[w]){case"string":T=Ex({t:"s",v:e[w]},t),N=Sx({t:"s",v:e[w]},t);break;case"number":T=Ex({t:"n",v:e[w]},t),N=Sx({t:"n",v:e[w]},t);break;case"boolean":T=Ex({t:"b",v:e[w]},t),N=Sx({t:"b",v:e[w]},t);break;default:throw new Error("Unsupported value "+e[w])}g.push(T),m+=T.length,b.push(N),v+=N.length,++u}for(n[2][0].data=Ar(u);w<n[7][0].data.length/2;++w)h.setUint16(w*2,65535,!0),_.setUint16(w*2,65535,!0);return n[6][0].data=Yh(g),n[3][0].data=Yh(b),u}function Fie(n,e){if(!e||!e.numbers)throw new Error("Must pass a `numbers` option -- check the README");var t=n.Sheets[n.SheetNames[0]];n.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var r=Go(t["!ref"]);r.s.r=r.s.c=0;var i=!1;r.e.c>9&&(i=!0,r.e.c=9),r.e.r>49&&(i=!0,r.e.r=49),i&&console.error("The Numbers writer is currently limited to ".concat(ua(r)));var a=G2(t,{range:r,header:1}),o=["~Sh33tJ5~"];a.forEach(function(G){return G.forEach(function(q){typeof q=="string"&&o.push(q)})});var c={},u=[],h=Fr.read(e.numbers,{type:"base64"});h.FileIndex.map(function(G,q){return[G,h.FullPaths[q]]}).forEach(function(G){var q=G[0],J=G[1];if(q.type==2&&q.name.match(/\.iwa/)){var ae=q.content,ge=ql(ae),Te=zl(ge);Te.forEach(function(Se){u.push(Se.id),c[Se.id]={deps:[],location:J,type:b0(Se.messages[0].meta[1][0].data)}})}}),u.sort(function(G,q){return G-q});var m=u.filter(function(G){return G>1}).map(function(G){return[G,Ar(G)]});h.FileIndex.map(function(G,q){return[G,h.FullPaths[q]]}).forEach(function(G){var q=G[0];if(G[1],!!q.name.match(/\.iwa/)){var J=zl(ql(q.content));J.forEach(function(ae){ae.messages.forEach(function(ge){m.forEach(function(Te){ae.messages.some(function(Se){return b0(Se.meta[1][0].data)!=11006&&Lie(Se.data,Te[1])})&&c[Te[0]].deps.push(ae.id)})})})}});for(var g=Fr.find(h,c[1].location),_=zl(ql(g.content)),v,b=0;b<_.length;++b){var w=_[b];w.id==1&&(v=w)}var T=xh(Ea(v.messages[0].data)[1][0].data);for(g=Fr.find(h,c[T].location),_=zl(ql(g.content)),b=0;b<_.length;++b)w=_[b],w.id==T&&(v=w);for(T=xh(Ea(v.messages[0].data)[2][0].data),g=Fr.find(h,c[T].location),_=zl(ql(g.content)),b=0;b<_.length;++b)w=_[b],w.id==T&&(v=w);for(T=xh(Ea(v.messages[0].data)[2][0].data),g=Fr.find(h,c[T].location),_=zl(ql(g.content)),b=0;b<_.length;++b)w=_[b],w.id==T&&(v=w);var N=Ea(v.messages[0].data);{N[6][0].data=Ar(r.e.r+1),N[7][0].data=Ar(r.e.c+1);var P=xh(N[46][0].data),R=Fr.find(h,c[P].location),j=zl(ql(R.content));{for(var K=0;K<j.length&&j[K].id!=P;++K);if(j[K].id!=P)throw"Bad ColumnRowUIDMapArchive";var U=Ea(j[K].messages[0].data);U[1]=[],U[2]=[],U[3]=[];for(var C=0;C<=r.e.c;++C){var k=[];k[1]=k[2]=[{type:0,data:Ar(C+420690)}],U[1].push({type:2,data:is(k)}),U[2].push({type:0,data:Ar(C)}),U[3].push({type:0,data:Ar(C)})}U[4]=[],U[5]=[],U[6]=[];for(var I=0;I<=r.e.r;++I)k=[],k[1]=k[2]=[{type:0,data:Ar(I+726270)}],U[4].push({type:2,data:is(k)}),U[5].push({type:0,data:Ar(I)}),U[6].push({type:0,data:Ar(I)});j[K].messages[0].data=is(U)}R.content=Kd($d(j)),R.size=R.content.length,delete N[46];var z=Ea(N[4][0].data);{z[7][0].data=Ar(r.e.r+1);var O=Ea(z[1][0].data),M=xh(O[2][0].data);R=Fr.find(h,c[M].location),j=zl(ql(R.content));{if(j[0].id!=M)throw"Bad HeaderStorageBucket";var B=Ea(j[0].messages[0].data);for(I=0;I<a.length;++I){var Y=Ea(B[2][0].data);Y[1][0].data=Ar(I),Y[4][0].data=Ar(a[I].length),B[2][I]={type:B[2][0].type,data:is(Y)}}j[0].messages[0].data=is(B)}R.content=Kd($d(j)),R.size=R.content.length;var we=xh(z[2][0].data);R=Fr.find(h,c[we].location),j=zl(ql(R.content));{if(j[0].id!=we)throw"Bad HeaderStorageBucket";for(B=Ea(j[0].messages[0].data),C=0;C<=r.e.c;++C)Y=Ea(B[2][0].data),Y[1][0].data=Ar(C),Y[4][0].data=Ar(r.e.r+1),B[2][C]={type:B[2][0].type,data:is(Y)};j[0].messages[0].data=is(B)}R.content=Kd($d(j)),R.size=R.content.length;var fe=xh(z[4][0].data);(function(){for(var G=Fr.find(h,c[fe].location),q=zl(ql(G.content)),J,ae=0;ae<q.length;++ae){var ge=q[ae];ge.id==fe&&(J=ge)}var Te=Ea(J.messages[0].data);{Te[3]=[];var Se=[];o.forEach(function(ot,tt){Se[1]=[{type:0,data:Ar(tt)}],Se[2]=[{type:0,data:Ar(1)}],Se[3]=[{type:2,data:Die(ot)}],Te[3].push({type:2,data:is(Se)})})}J.messages[0].data=is(Te);var Ce=$d(q),et=Kd(Ce);G.content=et,G.size=G.content.length})();var le=Ea(z[3][0].data);{var pe=le[1][0];delete le[2];var Ie=Ea(pe.data);{var Ae=xh(Ie[2][0].data);(function(){for(var G=Fr.find(h,c[Ae].location),q=zl(ql(G.content)),J,ae=0;ae<q.length;++ae){var ge=q[ae];ge.id==Ae&&(J=ge)}var Te=Ea(J.messages[0].data);{delete Te[6],delete le[7];var Se=new Uint8Array(Te[5][0].data);Te[5]=[];for(var Ce=0,et=0;et<=r.e.r;++et){var ot=Ea(Se);Ce+=Pie(ot,a[et],o),ot[1][0].data=Ar(et),Te[5].push({data:is(ot),type:2})}Te[1]=[{type:0,data:Ar(r.e.c+1)}],Te[2]=[{type:0,data:Ar(r.e.r+1)}],Te[3]=[{type:0,data:Ar(Ce)}],Te[4]=[{type:0,data:Ar(r.e.r+1)}]}J.messages[0].data=is(Te);var tt=$d(q),it=Kd(tt);G.content=it,G.size=G.content.length})()}pe.data=is(Ie)}z[3][0].data=is(le)}N[4][0].data=is(z)}v.messages[0].data=is(N);var re=$d(_),L=Kd(re);return g.content=L,g.size=g.content.length,h}function Bie(n){return function(t){for(var r=0;r!=n.length;++r){var i=n[r];t[i[0]]===void 0&&(t[i[0]]=i[1]),i[2]==="n"&&(t[i[0]]=Number(t[i[0]]))}}}function kb(n){Bie([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(n)}function Uie(n,e){return e.bookType=="ods"?lO(n,e):e.bookType=="numbers"?Fie(n,e):e.bookType=="xlsb"?Vie(n,e):zie(n,e)}function Vie(n,e){l0=1024,n&&!n.SSF&&(n.SSF=_o(Bi)),n&&n.SSF&&(Rv(),Iv(n.SSF),e.revssf=kv(n.SSF),e.revssf[n.SSF[65535]]=0,e.ssf=n.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,mp?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var t=e.bookType=="xlsb"?"bin":"xml",r=H7.indexOf(e.bookType)>-1,i=y7();kb(e=e||{});var a=pb(),o="",c=0;if(e.cellXfs=[],Jh(e.cellXfs,{},{revssf:{General:0}}),n.Props||(n.Props={}),o="docProps/core.xml",Bn(a,o,E7(n.Props,e)),i.coreprops.push(o),Nr(e.rels,2,o,mr.CORE_PROPS),o="docProps/app.xml",!(n.Props&&n.Props.SheetNames))if(!n.Workbook||!n.Workbook.Sheets)n.Props.SheetNames=n.SheetNames;else{for(var u=[],h=0;h<n.SheetNames.length;++h)(n.Workbook.Sheets[h]||{}).Hidden!=2&&u.push(n.SheetNames[h]);n.Props.SheetNames=u}for(n.Props.Worksheets=n.Props.SheetNames.length,Bn(a,o,T7(n.Props)),i.extprops.push(o),Nr(e.rels,3,o,mr.EXT_PROPS),n.Custprops!==n.Props&&us(n.Custprops||{}).length>0&&(o="docProps/custom.xml",Bn(a,o,A7(n.Custprops)),i.custprops.push(o),Nr(e.rels,4,o,mr.CUST_PROPS)),c=1;c<=n.SheetNames.length;++c){var m={"!id":{}},g=n.Sheets[n.SheetNames[c-1]],_=(g||{})["!type"]||"sheet";switch(_){case"chart":default:o="xl/worksheets/sheet"+c+"."+t,Bn(a,o,Hre(c-1,o,e,n,m)),i.sheets.push(o),Nr(e.wbrels,-1,"worksheets/sheet"+c+"."+t,mr.WS[0])}if(g){var v=g["!comments"],b=!1,w="";v&&v.length>0&&(w="xl/comments"+c+"."+t,Bn(a,w,Yre(v,w)),i.comments.push(w),Nr(m,-1,"../comments"+c+"."+t,mr.CMNT),b=!0),g["!legacy"]&&b&&Bn(a,"xl/drawings/vmlDrawing"+c+".vml",z7(c,g["!comments"])),delete g["!comments"],delete g["!legacy"]}m["!id"].rId1&&Bn(a,w7(o),x0(m))}return e.Strings!=null&&e.Strings.length>0&&(o="xl/sharedStrings."+t,Bn(a,o,Wre(e.Strings,o,e)),i.strs.push(o),Nr(e.wbrels,-1,"sharedStrings."+t,mr.SST)),o="xl/workbook."+t,Bn(a,o,qre(n,o)),i.workbooks.push(o),Nr(e.rels,1,o,mr.WB),o="xl/theme/theme1.xml",Bn(a,o,U7(n.Themes,e)),i.themes.push(o),Nr(e.wbrels,-1,"theme/theme1.xml",mr.THEME),o="xl/styles."+t,Bn(a,o,Gre(n,o,e)),i.styles.push(o),Nr(e.wbrels,-1,"styles."+t,mr.STY),n.vbaraw&&r&&(o="xl/vbaProject.bin",Bn(a,o,n.vbaraw),i.vba.push(o),Nr(e.wbrels,-1,"vbaProject.bin",mr.VBA)),o="xl/metadata."+t,Bn(a,o,$re(o)),i.metadata.push(o),Nr(e.wbrels,-1,"metadata."+t,mr.XLMETA),Bn(a,"[Content_Types].xml",x7(i,e)),Bn(a,"_rels/.rels",x0(e.rels)),Bn(a,"xl/_rels/workbook."+t+".rels",x0(e.wbrels)),delete e.revssf,delete e.ssf,a}function zie(n,e){l0=1024,n&&!n.SSF&&(n.SSF=_o(Bi)),n&&n.SSF&&(Rv(),Iv(n.SSF),e.revssf=kv(n.SSF),e.revssf[n.SSF[65535]]=0,e.ssf=n.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,mp?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var t="xml",r=H7.indexOf(e.bookType)>-1,i=y7();kb(e=e||{});var a=pb(),o="",c=0;if(e.cellXfs=[],Jh(e.cellXfs,{},{revssf:{General:0}}),n.Props||(n.Props={}),o="docProps/core.xml",Bn(a,o,E7(n.Props,e)),i.coreprops.push(o),Nr(e.rels,2,o,mr.CORE_PROPS),o="docProps/app.xml",!(n.Props&&n.Props.SheetNames))if(!n.Workbook||!n.Workbook.Sheets)n.Props.SheetNames=n.SheetNames;else{for(var u=[],h=0;h<n.SheetNames.length;++h)(n.Workbook.Sheets[h]||{}).Hidden!=2&&u.push(n.SheetNames[h]);n.Props.SheetNames=u}n.Props.Worksheets=n.Props.SheetNames.length,Bn(a,o,T7(n.Props)),i.extprops.push(o),Nr(e.rels,3,o,mr.EXT_PROPS),n.Custprops!==n.Props&&us(n.Custprops||{}).length>0&&(o="docProps/custom.xml",Bn(a,o,A7(n.Custprops)),i.custprops.push(o),Nr(e.rels,4,o,mr.CUST_PROPS));var m=["SheetJ5"];for(e.tcid=0,c=1;c<=n.SheetNames.length;++c){var g={"!id":{}},_=n.Sheets[n.SheetNames[c-1]],v=(_||{})["!type"]||"sheet";switch(v){case"chart":default:o="xl/worksheets/sheet"+c+"."+t,Bn(a,o,Z7(c-1,e,n,g)),i.sheets.push(o),Nr(e.wbrels,-1,"worksheets/sheet"+c+"."+t,mr.WS[0])}if(_){var b=_["!comments"],w=!1,T="";if(b&&b.length>0){var N=!1;b.forEach(function(P){P[1].forEach(function(R){R.T==!0&&(N=!0)})}),N&&(T="xl/threadedComments/threadedComment"+c+"."+t,Bn(a,T,yee(b,m,e)),i.threadedcomments.push(T),Nr(g,-1,"../threadedComments/threadedComment"+c+"."+t,mr.TCMNT)),T="xl/comments"+c+"."+t,Bn(a,T,q7(b)),i.comments.push(T),Nr(g,-1,"../comments"+c+"."+t,mr.CMNT),w=!0}_["!legacy"]&&w&&Bn(a,"xl/drawings/vmlDrawing"+c+".vml",z7(c,_["!comments"])),delete _["!comments"],delete _["!legacy"]}g["!id"].rId1&&Bn(a,w7(o),x0(g))}return e.Strings!=null&&e.Strings.length>0&&(o="xl/sharedStrings."+t,Bn(a,o,L7(e.Strings,e)),i.strs.push(o),Nr(e.wbrels,-1,"sharedStrings."+t,mr.SST)),o="xl/workbook."+t,Bn(a,o,nO(n)),i.workbooks.push(o),Nr(e.rels,1,o,mr.WB),o="xl/theme/theme1.xml",Bn(a,o,U7(n.Themes,e)),i.themes.push(o),Nr(e.wbrels,-1,"theme/theme1.xml",mr.THEME),o="xl/styles."+t,Bn(a,o,F7(n,e)),i.styles.push(o),Nr(e.wbrels,-1,"styles."+t,mr.STY),n.vbaraw&&r&&(o="xl/vbaProject.bin",Bn(a,o,n.vbaraw),i.vba.push(o),Nr(e.wbrels,-1,"vbaProject.bin",mr.VBA)),o="xl/metadata."+t,Bn(a,o,V7()),i.metadata.push(o),Nr(e.wbrels,-1,"metadata."+t,mr.XLMETA),m.length>1&&(o="xl/persons/person.xml",Bn(a,o,xee(m)),i.people.push(o),Nr(e.wbrels,-1,"persons/person.xml",mr.PEOPLE)),Bn(a,"[Content_Types].xml",x7(i,e)),Bn(a,"_rels/.rels",x0(e.rels)),Bn(a,"xl/_rels/workbook."+t+".rels",x0(e.wbrels)),delete e.revssf,delete e.ssf,a}function qie(n,e){var t="";switch((e||{}).type||"base64"){case"buffer":return[n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7]];case"base64":t=Lu(n.slice(0,12));break;case"binary":t=n;break;case"array":return[n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3),t.charCodeAt(4),t.charCodeAt(5),t.charCodeAt(6),t.charCodeAt(7)]}function cO(n,e){switch(e.type){case"base64":case"binary":break;case"buffer":case"array":e.type="";break;case"file":return ag(e.file,Fr.write(n,{type:yr?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");default:throw new Error("Unrecognized type "+e.type)}return Fr.write(n,e)}function Hie(n,e){var t=_o(e||{}),r=Uie(n,t);return Gie(r,t)}function Gie(n,e){var t={},r=yr?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(e.compression&&(t.compression="DEFLATE"),e.password)t.type=r;else switch(e.type){case"base64":t.type="base64";break;case"binary":t.type="string";break;case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");case"buffer":case"file":t.type=r;break;default:throw new Error("Unrecognized type "+e.type)}var i=n.FullPaths?Fr.write(n,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[t.type]||t.type,compression:!!e.compression}):n.generate(t);if(typeof Deno<"u"&&typeof i=="string"){if(e.type=="binary"||e.type=="base64")return i;i=new Uint8Array(Cv(i))}return e.password&&typeof encrypt_agile<"u"?cO(encrypt_agile(i,e.password),e):e.type==="file"?ag(e.file,i):e.type=="string"?up(i):i}function Wie(n,e){var t=e||{},r=lie(n,t);return cO(r,t)}function Ac(n,e,t){t||(t="");var r=t+n;switch(e.type){case"base64":return Ip(kp(r));case"binary":return kp(r);case"string":return n;case"file":return ag(e.file,r,"utf8");case"buffer":return yr?Fu(r,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(r):Ac(r,{type:"binary"}).split("").map(function(i){return i.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function Yie(n,e){switch(e.type){case"base64":return Ip(n);case"binary":return n;case"string":return n;case"file":return ag(e.file,n,"binary");case"buffer":return yr?Fu(n,"binary"):n.split("").map(function(t){return t.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function j1(n,e){switch(e.type){case"string":case"base64":case"binary":for(var t="",r=0;r<n.length;++r)t+=String.fromCharCode(n[r]);return e.type=="base64"?Ip(t):e.type=="string"?up(t):t;case"file":return ag(e.file,n);case"buffer":return n;default:throw new Error("Unrecognized type "+e.type)}}function uO(n,e){wJ(),Ore(n);var t=_o(e||{});if(t.cellStyles&&(t.cellNF=!0,t.sheetStubs=!0),t.type=="array"){t.type="binary";var r=uO(n,t);return t.type="array",Cv(r)}var i=0;if(t.sheet&&(typeof t.sheet=="number"?i=t.sheet:i=n.SheetNames.indexOf(t.sheet),!n.SheetNames[i]))throw new Error("Sheet not found: "+t.sheet+" : "+typeof t.sheet);switch(t.bookType||"xlsb"){case"xml":case"xlml":return Ac(sie(n,t),t);case"slk":case"sylk":return Ac(IZ.from_sheet(n.Sheets[n.SheetNames[i]],t),t);case"htm":case"html":return Ac(aO(n.Sheets[n.SheetNames[i]],t),t);case"txt":return Yie(fO(n.Sheets[n.SheetNames[i]],t),t);case"csv":return Ac(Ob(n.Sheets[n.SheetNames[i]],t),t,"\uFEFF");case"dif":return Ac(RZ.from_sheet(n.Sheets[n.SheetNames[i]],t),t);case"dbf":return j1(CZ.from_sheet(n.Sheets[n.SheetNames[i]],t),t);case"prn":return Ac(kZ.from_sheet(n.Sheets[n.SheetNames[i]],t),t);case"rtf":return Ac(FZ.from_sheet(n.Sheets[n.SheetNames[i]],t),t);case"eth":return Ac(D7.from_sheet(n.Sheets[n.SheetNames[i]],t),t);case"fods":return Ac(lO(n,t),t);case"wk1":return j1(g6.sheet_to_wk1(n.Sheets[n.SheetNames[i]],t),t);case"wk3":return j1(g6.book_to_wk3(n,t),t);case"biff2":t.biff||(t.biff=2);case"biff3":t.biff||(t.biff=3);case"biff4":return t.biff||(t.biff=4),j1(iO(n,t),t);case"biff5":t.biff||(t.biff=5);case"biff8":case"xla":case"xls":return t.biff||(t.biff=8),Wie(n,t);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return Hie(n,t);default:throw new Error("Unrecognized bookType |"+t.bookType+"|")}}function $ie(n){if(!n.bookType){var e={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},t=n.file.slice(n.file.lastIndexOf(".")).toLowerCase();t.match(/^\.[a-z]+$/)&&(n.bookType=t.slice(1)),n.bookType=e[n.bookType]||n.bookType}}function hO(n,e,t){var r={};return r.type="file",r.file=e,$ie(r),uO(n,r)}function Kie(n,e,t,r,i,a,o,c){var u=cs(t),h=c.defval,m=c.raw||!Object.prototype.hasOwnProperty.call(c,"raw"),g=!0,_=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(_,"__rowNum__",{value:t,enumerable:!1})}catch{_.__rowNum__=t}else _.__rowNum__=t;if(!o||n[t])for(var v=e.s.c;v<=e.e.c;++v){var b=o?n[t][v]:n[r[v]+u];if(b===void 0||b.t===void 0){if(h===void 0)continue;a[v]!=null&&(_[a[v]]=h);continue}var w=b.v;switch(b.t){case"z":if(w==null)break;continue;case"e":w=w==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+b.t)}if(a[v]!=null){if(w==null)if(b.t=="e"&&w===null)_[a[v]]=null;else if(h!==void 0)_[a[v]]=h;else if(m&&w===null)_[a[v]]=null;else continue;else _[a[v]]=m&&(b.t!=="n"||b.t==="n"&&c.rawNumbers!==!1)?w:ju(b,w,c);w!=null&&(g=!1)}}return{row:_,isempty:g}}function G2(n,e){if(n==null||n["!ref"]==null)return[];var t={t:"n",v:0},r=0,i=1,a=[],o=0,c="",u={s:{r:0,c:0},e:{r:0,c:0}},h=e||{},m=h.range!=null?h.range:n["!ref"];switch(h.header===1?r=1:h.header==="A"?r=2:Array.isArray(h.header)?r=3:h.header==null&&(r=0),typeof m){case"string":u=oi(m);break;case"number":u=oi(n["!ref"]),u.s.r=m;break;default:u=m}r>0&&(i=0);var g=cs(u.s.r),_=[],v=[],b=0,w=0,T=Array.isArray(n),N=u.s.r,P=0,R={};T&&!n[N]&&(n[N]=[]);var j=h.skipHidden&&n["!cols"]||[],K=h.skipHidden&&n["!rows"]||[];for(P=u.s.c;P<=u.e.c;++P)if(!(j[P]||{}).hidden)switch(_[P]=Ss(P),t=T?n[N][P]:n[_[P]+g],r){case 1:a[P]=P-u.s.c;break;case 2:a[P]=_[P];break;case 3:a[P]=h.header[P-u.s.c];break;default:if(t==null&&(t={w:"__EMPTY",t:"s"}),c=o=ju(t,null,h),w=R[o]||0,!w)R[o]=1;else{do c=o+"_"+w++;while(R[c]);R[o]=w,R[c]=1}a[P]=c}for(N=u.s.r+i;N<=u.e.r;++N)if(!(K[N]||{}).hidden){var U=Kie(n,u,N,_,r,a,T,h);(U.isempty===!1||(r===1?h.blankrows!==!1:h.blankrows))&&(v[b++]=U.row)}return v.length=b,v}var S6=/"/g;function Xie(n,e,t,r,i,a,o,c){for(var u=!0,h=[],m="",g=cs(t),_=e.s.c;_<=e.e.c;++_)if(r[_]){var v=c.dense?(n[t]||[])[_]:n[r[_]+g];if(v==null)m="";else if(v.v!=null){u=!1,m=""+(c.rawNumbers&&v.t=="n"?v.v:ju(v,null,c));for(var b=0,w=0;b!==m.length;++b)if((w=m.charCodeAt(b))===i||w===a||w===34||c.forceQuotes){m='"'+m.replace(S6,'""')+'"';break}m=="ID"&&(m='"ID"')}else v.f!=null&&!v.F?(u=!1,m="="+v.f,m.indexOf(",")>=0&&(m='"'+m.replace(S6,'""')+'"')):m="";h.push(m)}return c.blankrows===!1&&u?null:h.join(o)}function Ob(n,e){var t=[],r=e??{};if(n==null||n["!ref"]==null)return"";var i=oi(n["!ref"]),a=r.FS!==void 0?r.FS:",",o=a.charCodeAt(0),c=r.RS!==void 0?r.RS:`
`,u=c.charCodeAt(0),h=new RegExp((a=="|"?"\\|":a)+"+$"),m="",g=[];r.dense=Array.isArray(n);for(var _=r.skipHidden&&n["!cols"]||[],v=r.skipHidden&&n["!rows"]||[],b=i.s.c;b<=i.e.c;++b)(_[b]||{}).hidden||(g[b]=Ss(b));for(var w=0,T=i.s.r;T<=i.e.r;++T)(v[T]||{}).hidden||(m=Xie(n,i,T,g,o,u,a,r),m!=null&&(r.strip&&(m=m.replace(h,"")),(m||r.blankrows!==!1)&&t.push((w++?c:"")+m)));return delete r.dense,t.join("")}function fO(n,e){e||(e={}),e.FS="	",e.RS=`
`;var t=Ob(n,e);return t}function Jie(n){var e="",t,r="";if(n==null||n["!ref"]==null)return[];var i=oi(n["!ref"]),a="",o=[],c,u=[],h=Array.isArray(n);for(c=i.s.c;c<=i.e.c;++c)o[c]=Ss(c);for(var m=i.s.r;m<=i.e.r;++m)for(a=cs(m),c=i.s.c;c<=i.e.c;++c)if(e=o[c]+a,t=h?(n[m]||[])[c]:n[e],r="",t!==void 0){if(t.F!=null){if(e=t.F,!t.f)continue;r=t.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(t.f!=null)r=t.f;else{if(t.t=="z")continue;if(t.t=="n"&&t.v!=null)r=""+t.v;else if(t.t=="b")r=t.v?"TRUE":"FALSE";else if(t.w!==void 0)r="'"+t.w;else{if(t.v===void 0)continue;t.t=="s"?r="'"+t.v:r=""+t.v}}u[u.length]=e+"="+r}return u}function dO(n,e,t){var r=t||{},i=+!r.skipHeader,a=n||{},o=0,c=0;if(a&&r.origin!=null)if(typeof r.origin=="number")o=r.origin;else{var u=typeof r.origin=="string"?za(r.origin):r.origin;o=u.r,c=u.c}var h,m={s:{c:0,r:0},e:{c,r:o+e.length-1+i}};if(a["!ref"]){var g=oi(a["!ref"]);m.e.c=Math.max(m.e.c,g.e.c),m.e.r=Math.max(m.e.r,g.e.r),o==-1&&(o=g.e.r+1,m.e.r=o+e.length-1+i)}else o==-1&&(o=0,m.e.r=e.length-1+i);var _=r.header||[],v=0;e.forEach(function(w,T){us(w).forEach(function(N){(v=_.indexOf(N))==-1&&(_[v=_.length]=N);var P=w[N],R="z",j="",K=Rr({c:c+v,r:o+T+i});h=Lp(a,K),P&&typeof P=="object"&&!(P instanceof Date)?a[K]=P:(typeof P=="number"?R="n":typeof P=="boolean"?R="b":typeof P=="string"?R="s":P instanceof Date?(R="d",r.cellDates||(R="n",P=vo(P)),j=r.dateNF||Bi[14]):P===null&&r.nullError&&(R="e",P=0),h?(h.t=R,h.v=P,delete h.w,delete h.R,j&&(h.z=j)):a[K]=h={t:R,v:P},j&&(h.z=j))})}),m.e.c=Math.max(m.e.c,c+_.length-1);var b=cs(o);if(i)for(v=0;v<_.length;++v)a[Ss(v+c)+b]={t:"s",v:_[v]};return a["!ref"]=ua(m),a}function Qie(n,e){return dO(null,n,e)}function Lp(n,e,t){if(typeof e=="string"){if(Array.isArray(n)){var r=za(e);return n[r.r]||(n[r.r]=[]),n[r.r][r.c]||(n[r.r][r.c]={t:"z"})}return n[e]||(n[e]={t:"z"})}return typeof e!="number"?Lp(n,Rr(e)):Lp(n,Rr({r:e,c:t||0}))}function Zie(n,e){if(typeof e=="number"){if(e>=0&&n.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var t=n.SheetNames.indexOf(e);if(t>-1)return t;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function eae(){return{SheetNames:[],Sheets:{}}}function tae(n,e,t,r){var i=1;if(!t)for(;i<=65535&&n.SheetNames.indexOf(t="Sheet"+i)!=-1;++i,t=void 0);if(!t||n.SheetNames.length>=65535)throw new Error("Too many worksheets");if(r&&n.SheetNames.indexOf(t)>=0){var a=t.match(/(^.*?)(\d+)$/);i=a&&+a[2]||0;var o=a&&a[1]||t;for(++i;i<=65535&&n.SheetNames.indexOf(t=o+i)!=-1;++i);}if(tO(t),n.SheetNames.indexOf(t)>=0)throw new Error("Worksheet with name |"+t+"| already exists!");return n.SheetNames.push(t),n.Sheets[t]=e,t}function nae(n,e,t){n.Workbook||(n.Workbook={}),n.Workbook.Sheets||(n.Workbook.Sheets=[]);var r=Zie(n,e);switch(n.Workbook.Sheets[r]||(n.Workbook.Sheets[r]={}),t){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+t)}n.Workbook.Sheets[r].Hidden=t}function rae(n,e){return n.z=e,n}function mO(n,e,t){return e?(n.l={Target:e},t&&(n.l.Tooltip=t)):delete n.l,n}function iae(n,e,t){return mO(n,"#"+e,t)}function aae(n,e,t){n.c||(n.c=[]),n.c.push({t:e,a:t||"SheetJS"})}function sae(n,e,t,r){for(var i=typeof e!="string"?e:oi(e),a=typeof e=="string"?e:ua(e),o=i.s.r;o<=i.e.r;++o)for(var c=i.s.c;c<=i.e.c;++c){var u=Lp(n,o,c);u.t="n",u.F=a,delete u.v,o==i.s.r&&c==i.s.c&&(u.f=t,r&&(u.D=!0))}return n}var E0={encode_col:Ss,encode_row:cs,encode_cell:Rr,encode_range:ua,decode_col:wb,decode_row:xb,split_cell:wQ,decode_cell:za,decode_range:Go,format_cell:ju,sheet_add_aoa:d7,sheet_add_json:dO,sheet_add_dom:sO,aoa_to_sheet:W0,json_to_sheet:Qie,table_to_sheet:oO,table_to_book:Rie,sheet_to_csv:Ob,sheet_to_txt:fO,sheet_to_json:G2,sheet_to_html:aO,sheet_to_formulae:Jie,sheet_to_row_object_array:G2,sheet_get_cell:Lp,book_new:eae,book_append_sheet:tae,book_set_sheet_visibility:nae,cell_set_number_format:rae,cell_set_hyperlink:mO,cell_set_internal_link:iae,cell_add_comment:aae,sheet_set_array_formula:sae,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};function oae(){const n=Cs(),{isAdmin:e,hasPermission:t}=Is(),{showToast:r}=Ga(),[i,a]=Q.useState([]),[o,c]=Q.useState(!0),[u,h]=Q.useState(null),[m,g]=Q.useState("all"),[_,v]=Q.useState(""),b=Q.useRef(null),w=C=>{v(C.target.value),C.target.style.height="auto",C.target.style.height=`${C.target.scrollHeight}px`},T=e&&t(jo.MANAGE_APPLICATIONS);Q.useEffect(()=>{if(!T){n("/user-dashboard");return}const C=Wo(ha($t,"applications"),Pu("submittedAt","desc")),k=ec(C,I=>{const z=I.docs.map(O=>({id:O.id,...O.data()}));a(z),c(!1)},I=>{console.error("Error fetching applications:",I),r("Failed to load applications","error"),c(!1)});return()=>k()},[T,n,r]);const N=async(C,k)=>{try{const I={status:k};k==="rejected"&&_.trim()&&(I.remark=_.trim()),await Fa(mn($t,"applications",C),I),r(`Application ${k}`,"success"),v("")}catch(I){console.error("Error updating status:",I),r("Failed to update status","error")}},P=async C=>{if(confirm("Are you sure you want to delete this application?"))try{await Fc(mn($t,"applications",C)),r("Application deleted","success"),h(null)}catch(k){console.error("Error deleting application:",k),r("Failed to delete application","error")}},R=i.filter(C=>m==="all"||C.status===m),j=C=>new Date(C).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}),K=()=>{const C=R.map((M,B)=>({"Sr. No.":B+1,"Application ID":M.applicationId||"N/A","First Name":M.firstName,"Last Name":M.lastName,Email:M.email,Phone:M.phone,WhatsApp:M.whatsapp||M.phone,College:M.college,Course:M.course,Year:M.year,Interests:M.interests?.join(", ")||"","Why Join":M.whyJoin,Experience:M.experience||"",Status:M.status.charAt(0).toUpperCase()+M.status.slice(1),Remark:M.remark||"","Submitted At":j(M.submittedAt)})),k=E0.json_to_sheet(C),I=E0.book_new();E0.book_append_sheet(I,k,"Applications");const z=new Date().toISOString().split("T")[0],O=`OrbitX_Applications_${m==="all"?"All":m}_${z}.xlsx`;hO(I,O),r(`Exported ${R.length} applications`,"success")},U=C=>{switch(C){case"pending":return"status--pending";case"reviewed":return"status--reviewed";case"accepted":return"status--accepted";case"rejected":return"status--rejected";default:return""}};return T?f.jsxs(f.Fragment,{children:[f.jsxs("main",{className:"applications-page",children:[f.jsxs("section",{className:"applications-header",children:[f.jsx("h1",{className:"applications-title",children:"Join Applications"}),f.jsx("p",{className:"applications-subtitle",children:"Review and manage membership applications"})]}),f.jsxs("section",{className:"applications-toolbar",children:[f.jsxs("div",{className:"applications-stats",children:[f.jsxs("span",{className:"stat",children:[f.jsx("strong",{children:i.length})," Total"]}),f.jsxs("span",{className:"stat stat--pending",children:[f.jsx("strong",{children:i.filter(C=>C.status==="pending").length})," Pending"]}),f.jsxs("span",{className:"stat stat--accepted",children:[f.jsx("strong",{children:i.filter(C=>C.status==="accepted").length})," Accepted"]})]}),f.jsxs("div",{className:"applications-actions",children:[f.jsx(I2,{className:"applications-filter",value:m,onChange:C=>g(C),options:[{value:"all",label:"All Status"},{value:"pending",label:"Pending"},{value:"reviewed",label:"Reviewed"},{value:"accepted",label:"Accepted"},{value:"rejected",label:"Rejected"}]}),f.jsxs("button",{className:"applications-export",onClick:K,disabled:R.length===0,children:[f.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),f.jsx("polyline",{points:"7 10 12 15 17 10"}),f.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),"Export Excel"]})]})]}),f.jsxs("section",{className:"applications-content",children:[o?f.jsx("div",{className:"applications-loading",children:"Loading applications..."}):R.length===0?f.jsx("div",{className:"applications-empty",children:f.jsx("p",{children:"No applications found"})}):f.jsx("div",{className:"applications-list",children:R.map(C=>f.jsxs("div",{className:`application-card ${u?.id===C.id?"application-card--selected":""}`,onClick:()=>h(C),children:[f.jsxs("div",{className:"application-card__header",children:[f.jsxs("h3",{className:"application-card__name",children:[C.firstName," ",C.lastName]}),f.jsx("span",{className:`application-card__status ${U(C.status)}`,children:C.status})]}),f.jsx("p",{className:"application-card__email",children:C.email}),f.jsx("p",{className:"application-card__college",children:C.college}),f.jsx("p",{className:"application-card__date",children:j(C.submittedAt)})]},C.id))}),u&&f.jsxs("div",{className:"application-detail",children:[f.jsxs("div",{className:"application-detail__header",children:[f.jsxs("h2",{children:[u.firstName," ",u.lastName]}),f.jsx("button",{className:"application-detail__close",onClick:()=>h(null),children:f.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),f.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),f.jsxs("div",{className:"application-detail__content",children:[f.jsxs("div",{className:"detail-group",children:[f.jsx("label",{children:"Email"}),f.jsx("p",{children:u.email})]}),f.jsxs("div",{className:"detail-group",children:[f.jsx("label",{children:"Phone"}),f.jsx("p",{children:u.phone})]}),f.jsxs("div",{className:"detail-group",children:[f.jsx("label",{children:"College"}),f.jsx("p",{children:u.college})]}),f.jsxs("div",{className:"detail-group",children:[f.jsx("label",{children:"Course & Year"}),f.jsxs("p",{children:[u.course," - ",u.year]})]}),f.jsxs("div",{className:"detail-group",children:[f.jsx("label",{children:"Interests"}),f.jsx("div",{className:"detail-tags",children:u.interests?.map((C,k)=>f.jsx("span",{className:"detail-tag",children:C},k))})]}),f.jsxs("div",{className:"detail-group",children:[f.jsx("label",{children:"Why do you want to join?"}),f.jsx("p",{children:u.whyJoin})]}),f.jsxs("div",{className:"detail-group",children:[f.jsx("label",{children:"Previous Experience"}),f.jsx("p",{children:u.experience||"Not provided"})]}),f.jsxs("div",{className:"detail-group",children:[f.jsx("label",{children:"Submitted"}),f.jsx("p",{children:j(u.submittedAt)})]})]}),f.jsxs("div",{className:"application-detail__actions",children:[f.jsx("button",{className:"action-btn action-btn--accept",onClick:()=>N(u.id,"accepted"),children:"Accept"}),f.jsx("button",{className:"action-btn action-btn--reject",onClick:()=>N(u.id,"rejected"),children:"Reject"}),f.jsx("button",{className:"action-btn action-btn--delete",onClick:()=>P(u.id),children:"Delete"})]}),f.jsx("textarea",{ref:b,className:"action-remark",placeholder:"Remark for rejection (optional)",value:_,onChange:w,rows:1})]})]})]}),f.jsx(go,{})]}):null}function lae(){const n=Cs(),{isAdmin:e,hasPermission:t}=Is(),{showToast:r}=Ga(),[i,a]=Q.useState([]),[o,c]=Q.useState(!0),[u,h]=Q.useState(null),m=e&&t(jo.MANAGE_QUERIES);Q.useEffect(()=>{if(!m){n("/user-dashboard");return}const w=Wo(ha($t,"contactMessages"),Pu("createdAt","desc")),T=ec(w,N=>{const P=N.docs.map(K=>({id:K.id,...K.data()})),R={};P.forEach(K=>{R[K.userHash]||(R[K.userHash]={userHash:K.userHash,name:K.name,email:K.email,deviceId:K.deviceId,messages:[],lastMessageAt:K.createdAt}),R[K.userHash].messages.push(K)});const j=Object.values(R).sort((K,U)=>{const C=K.lastMessageAt?.toMillis()||0;return(U.lastMessageAt?.toMillis()||0)-C});a(j),c(!1)},N=>{console.error("Error fetching queries:",N),r("Failed to load queries","error"),c(!1)});return()=>T()},[m,n,r]);const g=async w=>{try{await Fa(mn($t,"contactMessages",w),{status:"read"})}catch(T){console.error("Error updating status:",T)}},_=async w=>{if(confirm("Are you sure you want to delete this specific message?"))try{await Fc(mn($t,"contactMessages",w)),r("Message deleted","success")}catch(T){console.error("Error deleting message:",T),r("Failed to delete message","error")}},v=w=>w?w.toDate().toLocaleString("en-IN",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",b=i.find(w=>w.userHash===u);return f.jsxs(f.Fragment,{children:[f.jsxs("main",{className:"manage-queries",children:[f.jsxs("header",{className:"queries-header",children:[f.jsx("h1",{children:"User Queries"}),f.jsx("p",{children:"Manage and respond to contact submissions"})]}),f.jsxs("div",{className:"queries-container",children:[f.jsxs("aside",{className:"queries-sidebar",children:[f.jsxs("div",{className:"sidebar-title",children:["Conversations (",i.length,")"]}),o?f.jsx("div",{className:"queries-loading",children:"Loading..."}):f.jsxs("div",{className:"user-list",children:[i.map(w=>f.jsxs("button",{className:`user-item ${u===w.userHash?"active":""}`,onClick:()=>{h(w.userHash)},children:[f.jsxs("div",{className:"user-info",children:[f.jsx("span",{className:"user-name",children:w.name}),f.jsx("span",{className:"user-email",children:w.email})]}),w.messages.some(T=>T.status==="unread")&&f.jsx("span",{className:"unread-badge"})]},w.userHash)),i.length===0&&f.jsx("div",{className:"empty-state",children:"No queries found"})]})]}),f.jsx("section",{className:"queries-main",children:b?f.jsxs("div",{className:"group-detail",children:[f.jsxs("header",{className:"detail-header",children:[f.jsx("div",{className:"header-info",children:f.jsx("h2",{children:b.name})}),f.jsx("a",{href:`mailto:${b.email}`,className:"reply-button",children:"Reply via Email"})]}),f.jsx("div",{className:"messages-list",children:b.messages.map(w=>f.jsxs("div",{className:`message-card ${w.status}`,children:[f.jsx("div",{className:"card-header",children:f.jsxs("div",{className:"card-actions",children:[w.status==="unread"&&f.jsx("button",{onClick:()=>g(w.id),className:"action-btn read",children:"Mark Read"}),f.jsx("button",{onClick:()=>_(w.id),className:"action-btn delete",children:"Delete"})]})}),f.jsxs("div",{className:"message-subject",children:["Subject: ",w.subject]}),f.jsx("div",{className:"message-content",children:w.message||f.jsx("span",{className:"no-message-text",children:"(No message content)"})}),f.jsxs("div",{className:"message-footer",children:[f.jsx("span",{className:"message-date",children:v(w.createdAt)}),f.jsx("span",{className:`status-tag ${w.status}`,children:w.status})]})]},w.id))})]}):f.jsx("div",{className:"select-prompt",children:f.jsxs("div",{className:"prompt-content",children:[f.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:f.jsx("path",{d:"M7 8h10M7 12h10M7 16h10M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"})}),f.jsx("p",{children:"Select a conversation to view queries"})]})})})]})]}),f.jsx(go,{})]})}function cae(){const n=Cs(),{isAdmin:e,hasPermission:t}=Is(),{showToast:r}=Ga(),[i,a]=Q.useState([]),[o,c]=Q.useState(!0),[u,h]=Q.useState(null),[m,g]=Q.useState("all"),_=e&&t(jo.MANAGE_MERCH_ORDERS);Q.useEffect(()=>{if(!_){n("/user-dashboard");return}const R=Wo(ha($t,"merchOrders"),Pu("createdAt","desc")),j=ec(R,K=>{const U=K.docs.map(C=>({id:C.id,...C.data()}));a(U),c(!1)},K=>{console.error("Error fetching orders:",K),r("Failed to load orders","error"),c(!1)});return()=>j()},[_,n,r]);const v=async(R,j)=>{try{await Fa(mn($t,"merchOrders",R),{orderStatus:j,updatedAt:new Date().toISOString()}),r(`Order status updated to ${j}`,"success")}catch(K){console.error("Error updating order status:",K),r("Failed to update order status","error")}},b=async(R,j)=>{try{await Fa(mn($t,"merchOrders",R),{paymentStatus:j,updatedAt:new Date().toISOString()}),r(`Payment status updated to ${j}`,"success")}catch(K){console.error("Error updating payment status:",K),r("Failed to update payment status","error")}},w=async R=>{if(confirm("Are you sure you want to delete this order?"))try{await Fc(mn($t,"merchOrders",R)),r("Order deleted","success"),h(null)}catch(j){console.error("Error deleting order:",j),r("Failed to delete order","error")}},T=i.filter(R=>m==="all"||R.orderStatus===m),N=R=>R?(R.toDate?R.toDate():new Date(R)).toLocaleString("en-IN",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",P=()=>{const R=T.map((k,I)=>({"Sr. No.":I+1,"Order ID":k.orderId,"Orbit ID":k.orbitId,Customer:k.customerName,Email:k.customerEmail,Phone:k.customerPhone,College:k.collegeName,Items:k.items.map(z=>`${z.productName} (x${z.quantity})`).join(", "),Subtotal:k.subtotal,Delivery:k.deliveryCharge,Total:k.totalAmount,Method:k.deliveryMethod,Address:k.deliveryAddress?`${k.deliveryAddress.line1}, ${k.deliveryAddress.city}`:"N/A","Order Status":k.orderStatus,"Payment Status":k.paymentStatus,"Ordered At":N(k.createdAt)})),j=E0.json_to_sheet(R),K=E0.book_new();E0.book_append_sheet(K,j,"Orders");const C=`OrbitX_Merch_Orders_${new Date().toISOString().split("T")[0]}.xlsx`;hO(K,C),r(`Exported ${T.length} orders`,"success")};return _?f.jsxs(f.Fragment,{children:[f.jsxs("main",{className:"orders-manager",children:[f.jsxs("header",{className:"manager-header",children:[f.jsx("h1",{children:"Merch Orders"}),f.jsx("p",{children:"Track and manage merchandise orders and deliveries"})]}),f.jsxs("section",{className:"manager-toolbar",children:[f.jsxs("div",{className:"manager-stats",children:[f.jsxs("span",{className:"stat",children:[f.jsx("strong",{children:i.length})," Total"]}),f.jsxs("span",{className:"stat stat--pending",children:[f.jsx("strong",{children:i.filter(R=>R.orderStatus==="pending").length})," Pending"]}),f.jsxs("span",{className:"stat stat--shipped",children:[f.jsx("strong",{children:i.filter(R=>R.orderStatus==="shipped").length})," Shipped"]})]}),f.jsxs("div",{className:"manager-actions",children:[f.jsx(I2,{value:m,onChange:g,options:[{value:"all",label:"All Status"},{value:"pending",label:"Pending"},{value:"confirmed",label:"Confirmed"},{value:"processing",label:"Processing"},{value:"shipped",label:"Shipped"},{value:"delivered",label:"Delivered"},{value:"cancelled",label:"Cancelled"}]}),f.jsx("button",{className:"export-btn",onClick:P,disabled:T.length===0,children:"Export Excel"})]})]}),f.jsxs("section",{className:"manager-content",children:[o?f.jsx("div",{className:"manager-loading",children:"Loading orders..."}):T.length===0?f.jsx("div",{className:"manager-empty",children:"No orders found"}):f.jsx("div",{className:"orders-list",children:T.map(R=>f.jsxs("div",{className:`order-card ${u?.id===R.id?"active":""}`,onClick:()=>h(R),children:[f.jsxs("div",{className:"order-card__header",children:[f.jsx("span",{className:"order-id",children:R.orderId}),f.jsx("span",{className:`order-status status--${R.orderStatus}`,children:R.orderStatus})]}),f.jsxs("div",{className:"order-card__body",children:[f.jsx("h3",{className:"customer-name",children:R.customerName}),f.jsxs("p",{className:"order-total",children:["",R.totalAmount,"  ",R.items.length," items"]}),f.jsx("p",{className:"order-date",children:N(R.createdAt)})]})]},R.id))}),u&&f.jsxs("div",{className:"order-detail",children:[f.jsxs("div",{className:"detail-header",children:[f.jsx("h2",{children:"Order Details"}),f.jsx("button",{className:"close-detail",onClick:()=>h(null),children:""})]}),f.jsxs("div",{className:"detail-body",children:[f.jsxs("div",{className:"detail-section",children:[f.jsx("h3",{children:"Customer Info"}),f.jsxs("p",{children:[f.jsx("strong",{children:"Name:"})," ",u.customerName]}),f.jsxs("p",{children:[f.jsx("strong",{children:"Orbit ID:"})," ",u.orbitId]}),f.jsxs("p",{children:[f.jsx("strong",{children:"Email:"})," ",u.customerEmail]}),f.jsxs("p",{children:[f.jsx("strong",{children:"Phone:"})," ",u.customerPhone]}),f.jsxs("p",{children:[f.jsx("strong",{children:"College:"})," ",u.collegeName]})]}),f.jsxs("div",{className:"detail-section",children:[f.jsx("h3",{children:"Delivery Infomation"}),f.jsxs("p",{children:[f.jsx("strong",{children:"Method:"})," ",u.deliveryMethod==="pickup"?"Self Pickup (ZEAL)":"Home Delivery"]}),u.deliveryMethod==="delivery"&&u.deliveryAddress&&f.jsxs("p",{children:[f.jsx("strong",{children:"Address:"}),f.jsx("br",{}),u.deliveryAddress.line1,", ",u.deliveryAddress.line2&&`${u.deliveryAddress.line2}, `,u.deliveryAddress.city,", ",u.deliveryAddress.state," - ",u.deliveryAddress.pincode]})]}),f.jsxs("div",{className:"detail-section",children:[f.jsx("h3",{children:"Order Items"}),f.jsxs("div",{className:"order-items",children:[u.items.map((R,j)=>f.jsxs("div",{className:"order-item",children:[f.jsxs("span",{children:[R.productName," ",R.size&&`(${R.size})`," x ",R.quantity]}),f.jsxs("span",{children:["",R.price*R.quantity]})]},j)),f.jsxs("div",{className:"order-summary",children:[f.jsxs("div",{className:"summary-row",children:[f.jsx("span",{children:"Subtotal"}),f.jsxs("span",{children:["",u.subtotal]})]}),f.jsxs("div",{className:"summary-row",children:[f.jsx("span",{children:"Delivery"}),f.jsxs("span",{children:["",u.deliveryCharge]})]}),f.jsxs("div",{className:"summary-row total",children:[f.jsx("span",{children:"Total"}),f.jsxs("span",{children:["",u.totalAmount]})]})]})]})]}),f.jsxs("div",{className:"detail-section",children:[f.jsx("h3",{children:"Quick Actions"}),f.jsxs("div",{className:"action-groups",children:[f.jsxs("div",{className:"action-group",children:[f.jsx("label",{children:"Order Status"}),f.jsxs("div",{className:"btn-group",children:[f.jsx("button",{onClick:()=>v(u.id,"confirmed"),children:"Confirm"}),f.jsx("button",{onClick:()=>v(u.id,"processing"),children:"Process"}),f.jsx("button",{onClick:()=>v(u.id,"shipped"),children:"Ship"}),f.jsx("button",{onClick:()=>v(u.id,"delivered"),children:"Deliver"}),f.jsx("button",{className:"btn-cancel",onClick:()=>v(u.id,"cancelled"),children:"Cancel"})]})]}),f.jsxs("div",{className:"action-group",children:[f.jsx("label",{children:"Payment Status"}),f.jsxs("div",{className:"btn-group",children:[f.jsx("button",{onClick:()=>b(u.id,"completed"),children:"Paid"}),f.jsx("button",{className:"btn-failed",onClick:()=>b(u.id,"failed"),children:"Failed"})]})]})]})]}),f.jsx("button",{className:"btn-delete-order",onClick:()=>w(u.id),children:"Delete Order"})]})]})]})]}),f.jsx(go,{})]}):null}const uae=[{value:"T-Shirts",label:"T-Shirts"},{value:"Hoodies",label:"Hoodies"},{value:"Stickers",label:"Stickers"},{value:"Accessories",label:"Accessories"}],hae=["S","M","L","XL","XXL"],Tx=new WeakMap,fae=async()=>{try{const n=new Date().getFullYear(),e=mn($t,"system","productIdRegistry"),t=await Br(e);let r=0;if(t.exists()){const a=t.data();a.year===n&&(r=a.counter||0)}const i=r+1;return await qo(e,{year:n,counter:i,lastUpdated:new Date().toISOString()}),`PRD-${n}-${String(i).padStart(4,"0")}`}catch(n){return console.error("Error generating productId, using fallback:",n),`PRD-${Date.now().toString().slice(-8)}`}};function dae(){const n=Cs(),{isAdmin:e,hasPermission:t}=Is(),{showToast:r}=Ga(),[i,a]=Q.useState([]),[o,c]=Q.useState(!0),[u,h]=Q.useState(!1),[m,g]=Q.useState(!1),[_,v]=Q.useState(null),[b,w]=Q.useState({name:"",price:"",category:"T-Shirts",description:"",inStock:!0,sizes:[],images:[]}),[T,N]=Q.useState([]),[P,R]=Q.useState([]),[j,K]=Q.useState(!1),U=e&&t(jo.MANAGE_MERCH);Q.useEffect(()=>{if(!U){n("/user-dashboard");return}const Ae=Wo(ha($t,"merch"),Pu("createdAt","desc")),re=ec(Ae,L=>{const G=L.docs.map(q=>({id:q.id,...q.data()}));a(G),c(!1)},L=>{console.error("Error fetching products:",L),r("Failed to load products","error"),c(!1)});return()=>re()},[U,n,r]);const C=()=>{w({name:"",price:"",category:"T-Shirts",description:"",inStock:!0,sizes:[],images:[]}),v(null)},k=Ae=>{v(Ae),w({name:Ae.name,price:String(Ae.price),category:Ae.category,description:Ae.description,inStock:Ae.inStock,sizes:Ae.sizes||[],images:Ae.images||[]}),R(Ae.images||[]),N([]),h(!0)},I=async(Ae,re)=>{const L=new Map,G=re.map(async q=>{const J=Zp(eg,`merch/${Ae}/${Date.now()}_${q.name}`),ae=await Kw(J,q),ge=await Xw(ae.ref),Te=Tx.get(q);return Te&&L.set(Te,ge),ge});return await Promise.all(G),L},z=async Ae=>{if(Ae.preventDefault(),!b.name.trim()||!b.price){r("Please fill in required fields","error");return}if(P.length===0){r("Please add at least one image","error");return}g(!0);try{const re=_?_.id:await fae(),L=await I(re,T),G=P.map(J=>L.has(J)?L.get(J):J),q={name:b.name.trim(),price:parseFloat(b.price),category:b.category,description:b.description.trim(),inStock:b.inStock,sizes:b.sizes,images:G,updatedAt:new Date().toISOString()};if(_)await Fa(mn($t,"merch",_.id),q),r("Product updated successfully","success");else{const J={...q,productId:re,createdAt:new Date().toISOString()};await z0(ha($t,"merch"),J),r("Product created successfully","success")}h(!1),C(),R([]),N([])}catch(re){console.error("Error saving product:",re),r("Failed to save product","error")}finally{g(!1)}},O=async Ae=>{if(confirm(`Are you sure you want to delete "${Ae.name}"?`))try{await Fc(mn($t,"merch",Ae.id)),r("Product deleted successfully","success")}catch(re){console.error("Error deleting product:",re),r("Failed to delete product","error")}},M=Ae=>{w(re=>({...re,sizes:re.sizes.includes(Ae)?re.sizes.filter(L=>L!==Ae):[...re.sizes,Ae]}))},B=Ae=>{const re=Array.from(Ae.target.files||[]);Y(re)},Y=Ae=>{const re=Ae.map(L=>{const G=URL.createObjectURL(L);return Tx.set(L,G),G});N(L=>[...L,...Ae]),R(L=>[...L,...re])},we=Ae=>{Ae.preventDefault(),K(!0)},fe=Ae=>{Ae.preventDefault(),K(!1)},le=Ae=>{Ae.preventDefault(),K(!1);const L=Array.from(Ae.dataTransfer.files).filter(G=>G.type.startsWith("image/"));L.length>0?Y(L):r("Please drop image files only","error")},pe=Ae=>{const re=P[Ae];b.images.includes(re)?w(G=>({...G,images:G.images.filter(q=>q!==re)})):(N(G=>G.filter(q=>Tx.get(q)!==re)),URL.revokeObjectURL(re)),R(G=>G.filter((q,J)=>J!==Ae))},Ie=Ae=>{Ae!==0&&R(re=>{const L=[...re],[G]=L.splice(Ae,1);return L.unshift(G),L})};return U?f.jsxs(f.Fragment,{children:[f.jsxs("main",{className:"merch-manager-page",children:[f.jsxs("header",{className:"manager-header",children:[f.jsx("h1",{children:"Merchandise Management"}),f.jsx("p",{children:"Add and update products in the OrbitX store"})]}),f.jsx("div",{className:"merch-manager-container",children:u?f.jsx("div",{className:"merch-manager__modal",children:f.jsxs("form",{className:"merch-manager__form",onSubmit:z,children:[f.jsxs("div",{className:"merch-manager__form-header-row",children:[f.jsx("h2",{children:_?"Edit Product":"Create New Product"}),f.jsx("button",{type:"button",className:"merch-manager__close",onClick:()=>{h(!1),C()},children:""})]}),f.jsxs("div",{className:"merch-manager__form-grid",children:[f.jsxs("div",{className:"merch-manager__form-group--full",children:[f.jsx("label",{className:"merch-manager__label",children:"Product Name *"}),f.jsx("input",{type:"text",className:"merch-manager__input",value:b.name,onChange:Ae=>w({...b,name:Ae.target.value}),placeholder:"e.g. OrbitX Official T-Shirt",required:!0})]}),f.jsxs("div",{className:"merch-manager__form-group",children:[f.jsx("label",{className:"merch-manager__label",children:"Price () *"}),f.jsx("input",{type:"number",className:"merch-manager__input",value:b.price,onChange:Ae=>w({...b,price:Ae.target.value}),placeholder:"e.g. 599",required:!0})]}),f.jsxs("div",{className:"merch-manager__form-group",children:[f.jsx("label",{className:"merch-manager__label",children:"Category"}),f.jsx(Fi,{options:uae,value:b.category,onChange:Ae=>w({...b,category:Ae})})]}),f.jsxs("div",{className:"merch-manager__form-group--full",children:[f.jsx("label",{className:"merch-manager__label",children:"Description"}),f.jsx("textarea",{className:"merch-manager__textarea",value:b.description,onChange:Ae=>w({...b,description:Ae.target.value}),placeholder:"Product details, material, etc."})]}),(b.category==="T-Shirts"||b.category==="Hoodies")&&f.jsxs("div",{className:"merch-manager__form-group--full",children:[f.jsx("label",{className:"merch-manager__label",children:"Available Sizes"}),f.jsx("div",{className:"merch-manager__size-grid",children:hae.map(Ae=>f.jsx("button",{type:"button",onClick:()=>M(Ae),className:`merch-manager__size-btn ${b.sizes.includes(Ae)?"merch-manager__size-btn--active":""}`,children:Ae},Ae))})]}),f.jsxs("div",{className:"merch-manager__form-group--full",children:[f.jsx("label",{className:"merch-manager__label",children:"Inventory Status"}),f.jsxs("label",{className:"merch-manager__checkbox-group",children:[f.jsx("input",{type:"checkbox",className:"merch-manager__checkbox",checked:b.inStock,onChange:Ae=>w({...b,inStock:Ae.target.checked})}),f.jsx("span",{children:"In Stock / Available for purchase"})]})]}),f.jsxs("div",{className:"merch-manager__form-group--full",children:[f.jsx("label",{className:"merch-manager__label",children:"Product Images *"}),f.jsxs("div",{className:`merch-manager__upload-area ${j?"merch-manager__upload-area--dragging":""}`,onDragOver:we,onDragLeave:fe,onDrop:le,onClick:()=>document.getElementById("merch-file-input")?.click(),children:[f.jsx("input",{type:"file",id:"merch-file-input",multiple:!0,accept:"image/*",onChange:B,style:{display:"none"}}),f.jsx("div",{className:"merch-manager__upload-icon",children:f.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),f.jsx("polyline",{points:"17 8 12 3 7 8"}),f.jsx("line",{x1:"12",y1:"3",x2:"12",y2:"15"})]})}),f.jsxs("div",{className:"merch-manager__upload-text",children:[f.jsx("span",{children:"Click to upload or drag and drop"}),f.jsx("p",{children:"Multiple images allowed (First will be thumbnail)"})]})]}),f.jsx("div",{className:"merch-manager__images-grid",children:P.map((Ae,re)=>f.jsxs("div",{className:`merch-manager__image-card ${re===0?"merch-manager__image-card--thumbnail":""}`,children:[f.jsx("img",{src:Ae,alt:""}),f.jsxs("div",{className:"merch-manager__image-overlay",children:[f.jsx("button",{type:"button",className:"merch-manager__image-action",onClick:L=>{L.stopPropagation(),Ie(re)},title:"Set as Thumbnail",children:f.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:f.jsx("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})})}),f.jsx("button",{type:"button",className:"merch-manager__image-action merch-manager__image-action--delete",onClick:L=>{L.stopPropagation(),pe(re)},title:"Remove Image",children:f.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("polyline",{points:"3 6 5 6 21 6"}),f.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]}),re===0&&f.jsx("span",{className:"merch-manager__thumbnail-badge",children:"Thumbnail"})]},re))})]})]}),f.jsx("button",{type:"submit",className:"merch-manager__submit-btn",disabled:m,style:{marginTop:"1rem"},children:m?"Saving...":_?"Update Product":"Create Product"})]})}):f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"merch-manager__toolbar",children:[f.jsxs("span",{className:"merch-manager__items-count",children:[i.length," Products Found"]}),f.jsxs("button",{className:"merch-manager__create-btn",onClick:()=>h(!0),children:[f.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",style:{width:18},children:[f.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),f.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add New Product"]})]}),f.jsx("div",{className:"merch-manager__list",children:o?f.jsx("div",{className:"merch-manager__loading-state",children:"Loading store items..."}):i.length===0?f.jsx("div",{className:"merch-manager__empty-state",children:'No products yet. Click "Add New Product" to start.'}):i.map(Ae=>f.jsxs("div",{className:"merch-manager__item",children:[f.jsx("div",{className:"merch-manager__item-preview",children:Ae.images[0]?f.jsx("img",{src:Ae.images[0],alt:Ae.name}):f.jsx("div",{style:{width:"100%",height:"100%",background:"rgba(255,255,255,0.05)",display:"flex",alignItems:"center",justifyContent:"center"},children:f.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1",style:{width:24,opacity:.3},children:[f.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),f.jsx("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),f.jsx("polyline",{points:"21 15 16 10 5 21"})]})})}),f.jsxs("div",{className:"merch-manager__item-info",children:[f.jsxs("div",{className:"merch-manager__item-header",children:[f.jsx("h3",{className:"merch-manager__item-name",children:Ae.name}),f.jsx("span",{className:"merch-manager__category-badge",children:Ae.category})]}),f.jsxs("div",{className:"merch-manager__item-meta",children:[f.jsxs("span",{children:["",Ae.price]}),f.jsx("span",{children:""}),f.jsx("span",{className:Ae.inStock?"merch-status--in-stock":"merch-status--out-of-stock",children:Ae.inStock?"In Stock":"Out of Stock"}),f.jsx("span",{children:""}),f.jsxs("span",{children:["ID: ",Ae.productId]})]})]}),f.jsxs("div",{className:"merch-manager__item-actions",children:[f.jsx("button",{className:"merch-manager__action-btn",onClick:()=>k(Ae),title:"Edit Product",children:f.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",style:{width:16},children:[f.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),f.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),f.jsx("button",{className:"merch-manager__action-btn merch-manager__action-btn--delete",onClick:()=>O(Ae),title:"Delete Product",children:f.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",style:{width:16},children:[f.jsx("polyline",{points:"3 6 5 6 21 6"}),f.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})]},Ae.id))})]})})]}),f.jsx(go,{})]}):null}function Xd({children:n}){const{isAuthenticated:e,loading:t}=Is(),r=Ns();return t?f.jsxs("div",{className:"auth-loading",children:[f.jsx("div",{className:"auth-loading__spinner"}),f.jsx("p",{children:"Loading..."})]}):e?f.jsx(f.Fragment,{children:n}):f.jsx(U5,{to:"/login",state:{from:r.pathname},replace:!0})}function mae({children:n}){const{isAuthenticated:e,loading:t}=Is(),i=Ns().state?.from||"/user-dashboard";return t?f.jsxs("div",{className:"auth-loading",children:[f.jsx("div",{className:"auth-loading__spinner"}),f.jsx("p",{children:"Loading..."})]}):e?f.jsx(U5,{to:i,replace:!0}):f.jsx(f.Fragment,{children:n})}function pae(){const n=Cs(),e=Ns(),[t,r]=Q.useState(!1);Q.useEffect(()=>{r(e.key!=="default")},[e]);const i=()=>{t&&n(-1)};return f.jsx("button",{className:`global-back-button ${t?"":"global-back-button--hidden"}`,onClick:i,"aria-label":"Go back",disabled:!t,children:f.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:f.jsx("polyline",{points:"15 18 9 12 15 6"})})})}function gae(){const{pathname:n}=Ns();return Q.useEffect(()=>{window.scrollTo({top:0,left:0,behavior:"instant"})},[n]),Q.useEffect(()=>("scrollRestoration"in history&&(history.scrollRestoration="manual"),window.scrollTo(0,0),()=>{"scrollRestoration"in history&&(history.scrollRestoration="auto")}),[]),null}function vae(){const{isRecruitmentOpen:n,isLoading:e}=Kf();return e?null:n?f.jsx(UK,{}):f.jsx(U5,{to:"/about",replace:!0})}function _ae(){return f.jsxs(WL,{children:[f.jsx(MM,{}),f.jsx(gae,{}),f.jsx(pae,{}),f.jsx(oH,{}),f.jsx(wH,{}),f.jsx(bH,{}),f.jsxs(EL,{children:[f.jsx(La,{path:"/",element:f.jsx(CK,{})}),f.jsx(La,{path:"/about",element:f.jsx(IK,{})}),f.jsx(La,{path:"/events",element:f.jsx(DK,{})}),f.jsx(La,{path:"/members",element:f.jsx(jK,{})}),f.jsx(La,{path:"/join",element:f.jsx(vae,{})}),f.jsx(La,{path:"/contact",element:f.jsx(zK,{})}),f.jsx(La,{path:"/merch",element:f.jsx(qK,{})}),f.jsx(La,{path:"/login",element:f.jsx(mae,{children:f.jsx(HK,{})})}),f.jsx(La,{path:"/signup",element:f.jsx(JK,{})}),f.jsx(La,{path:"/forgot-password",element:f.jsx(QK,{})}),f.jsx(La,{path:"/admin-setup",element:f.jsx(_J,{})}),f.jsx(La,{path:"/user-dashboard",element:f.jsx(Xd,{children:f.jsx(gJ,{})})}),f.jsx(La,{path:"/manage-user-applications",element:f.jsx(Xd,{children:f.jsx(oae,{})})}),f.jsx(La,{path:"/manage-user-queries",element:f.jsx(Xd,{children:f.jsx(lae,{})})}),f.jsx(La,{path:"/manage-merch-orders",element:f.jsx(Xd,{children:f.jsx(cae,{})})}),f.jsx(La,{path:"/manage-merch",element:f.jsx(Xd,{children:f.jsx(dae,{})})}),f.jsx(La,{path:"/manage-members",element:f.jsx(Xd,{children:f.jsx(vJ,{})})})]}),f.jsx(yH,{})]})}function yae(){return f.jsx(gH,{children:f.jsx(XM,{children:f.jsx(sH,{children:f.jsx(RK,{children:f.jsx(_ae,{})})})})})}kD.createRoot(document.getElementById("root")).render(f.jsx(Q.StrictMode,{children:f.jsx(yae,{})}));export{Cr as _,xae as c,D5 as g};
